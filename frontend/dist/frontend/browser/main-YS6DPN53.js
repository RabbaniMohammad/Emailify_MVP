import{a as Yd,b as $s,c as xa,e as n0,f as Xd,g as Oa,h as Pa,i as Ma,j as Fi,k as Zd,m as Jd,p as vc,q as i0,r as r0}from"./chunk-FX5SNX7Y.js";import{a as t0,b as el}from"./chunk-LSFRV4V2.js";import{a as Xs}from"./chunk-NP3V6SPX.js";import{a as Zs,b as Js}from"./chunk-X7OUC5IG.js";import{$b as ho,A as O1,Aa as S,Ab as F1,Ac as Y1,Ba as L,Bb as V1,Bc as kf,Ca as je,Cb as j1,D as P1,Da as bi,Db as Wd,Dc as Q1,E as Di,Ea as Ci,Eb as Kd,Ec as X1,F as Rd,Fa as E1,Fb as uo,G as xn,Ga as jt,Gb as H1,Hb as Un,I as ao,Ia as rt,Ib as z1,J as No,Ja as Ae,Jb as B1,K as cc,Ka as fc,Kb as U1,L as Us,La as Qr,Lb as hn,Lc as Xr,M as Pt,Ma as lo,Mb as po,Mc as _o,N as Fd,Na as co,Nb as Xn,Nc as Wi,O as Sn,Oa as fi,Ob as In,Oc as Ki,P as Do,Pa as hi,Pb as G1,Pc as qi,Q as Fr,Qa as Ai,Qb as Yt,Qc as Qd,R as Of,Ra as Y,Rb as mc,Rc as yo,S as nt,Sa as Ht,Sb as Nn,T as it,Ta as rn,Tb as Ks,U as pt,Ua as Ja,Ub as Ef,V as Mt,Va as xr,Vb as qd,W as Vd,Wa as wr,Xa as Or,Ya as k1,Yb as fo,Z as so,Za as En,_ as ma,_a as A1,a as g1,aa as ga,ba as dc,bb as Hd,bc as mo,c as Xa,ca as va,cb as I1,d as Gi,da as jd,db as sn,dc as $d,ea as uc,eb as dn,ec as go,fa as le,fb as hc,ga as vn,gb as Ws,gc as qs,gd as Ys,h as v1,hb as L1,hc as W1,hd as Z1,i as sc,ia as M1,ib as N1,ic as gc,id as J1,jb as Ii,jd as Ro,k as Bs,ka as T1,kd as Qs,l as lc,la as S1,ld as wa,m as oo,ma as _a,mb as Tf,mc as K1,md as e0,n as _1,nb as zd,nc as q1,oa as pc,ob as Bd,pa as Pf,pb as Ud,q as y1,qa as tt,qb as ya,r as b1,ra as Ri,rb as xi,s as C1,sa as Ce,sb as Sf,t as Za,ta as ki,tb as ba,u as ha,ua as Kt,ub as Gd,va as Gs,w as x1,wa as Mf,wb as qn,wc as $1,xb as Ca,y as w1,yb as D1,yc as vo,z as Dd,zb as R1}from"./chunk-DHDKBYFS.js";import{a as Rr,b as fa,c as m1,d as RC,e as FC,f as Cn}from"./chunk-CWTPBX7D.js";var rb=RC((Jc,Gm)=>{"use strict";(function(o,i){typeof Jc=="object"&&typeof Gm=="object"?Gm.exports=i():typeof define=="function"&&define.amd?define([],i):typeof Jc=="object"?Jc["grapesjs-preset-newsletter"]=i():o["grapesjs-preset-newsletter"]=i()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Jc,()=>(()=>{var o={1073:n=>{n.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},9125:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.groupSelectors=r.getDocumentRoot=void 0;var s=a(2515);r.getDocumentRoot=function(c){for(;c.parent;)c=c.parent;return c},r.groupSelectors=function(c){for(var d=[],p=[],f=0,h=c;f<h.length;f++){var v=h[f];v.some(s.isFilter)?d.push(v):p.push(v)}return[p,d]}},7248:function(n,r,a){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(J){for(var E,Z=1,te=arguments.length;Z<te;Z++)for(var de in E=arguments[Z])Object.prototype.hasOwnProperty.call(E,de)&&(J[de]=E[de]);return J},s.apply(this,arguments)},c=this&&this.__createBinding||(Object.create?function(J,E,Z,te){te===void 0&&(te=Z);var de=Object.getOwnPropertyDescriptor(E,Z);de&&!("get"in de?!E.__esModule:de.writable||de.configurable)||(de={enumerable:!0,get:function(){return E[Z]}}),Object.defineProperty(J,te,de)}:function(J,E,Z,te){te===void 0&&(te=Z),J[te]=E[Z]}),d=this&&this.__setModuleDefault||(Object.create?function(J,E){Object.defineProperty(J,"default",{enumerable:!0,value:E})}:function(J,E){J.default=E}),p=this&&this.__importStar||function(J){if(J&&J.__esModule)return J;var E={};if(J!=null)for(var Z in J)Z!=="default"&&Object.prototype.hasOwnProperty.call(J,Z)&&c(E,J,Z);return d(E,J),E},f=this&&this.__spreadArray||function(J,E,Z){if(Z||arguments.length===2)for(var te,de=0,Fe=E.length;de<Fe;de++)!te&&de in E||(te||(te=Array.prototype.slice.call(E,0,de)),te[de]=E[de]);return J.concat(te||Array.prototype.slice.call(E))};Object.defineProperty(r,"__esModule",{value:!0}),r.select=r.filter=r.some=r.is=r.aliases=r.pseudos=r.filters=void 0;var h=a(7763),v=a(5366),C=p(a(9432)),b=a(9125),x=a(2515),w=a(5366);Object.defineProperty(r,"filters",{enumerable:!0,get:function(){return w.filters}}),Object.defineProperty(r,"pseudos",{enumerable:!0,get:function(){return w.pseudos}}),Object.defineProperty(r,"aliases",{enumerable:!0,get:function(){return w.aliases}});var P={type:h.SelectorType.Pseudo,name:"scope",data:null},M=s({},P),y={type:h.SelectorType.Universal,namespace:null};function A(J,E,Z){if(Z===void 0&&(Z={}),typeof E=="function")return J.some(E);var te=(0,b.groupSelectors)((0,h.parse)(E)),de=te[0],Fe=te[1];return de.length>0&&J.some((0,v._compileToken)(de,Z))||Fe.some(function(Ge){return N(Ge,J,Z).length>0})}function k(J,E,Z){if(E.length===0)return[];var te,de=(0,b.groupSelectors)(J),Fe=de[0],Ge=de[1];if(Fe.length){var we=K(E,Fe,Z);if(Ge.length===0)return we;we.length&&(te=new Set(we))}for(var ge=0;ge<Ge.length&&te?.size!==E.length;ge++){var ne=Ge[ge];if((te?E.filter(function(he){return C.isTag(he)&&!te.has(he)}):E).length===0)break;if((we=N(ne,E,Z)).length)if(te)we.forEach(function(he){return te.add(he)});else{if(ge===Ge.length-1)return we;te=new Set(we)}}return te!==void 0?te.size===E.length?E:E.filter(function(he){return te.has(he)}):[]}function N(J,E,Z){var te;return J.some(h.isTraversal)?H((te=Z.root)!==null&&te!==void 0?te:(0,b.getDocumentRoot)(E[0]),f(f([],J,!0),[M],!1),Z,!0,E):H(E,J,Z,!1)}r.is=function(J,E,Z){return Z===void 0&&(Z={}),A([J],E,Z)},r.some=A,r.filter=function(J,E,Z){return Z===void 0&&(Z={}),k((0,h.parse)(J),E,Z)},r.select=function(J,E,Z){if(Z===void 0&&(Z={}),typeof J=="function")return G(E,J);var te=(0,b.groupSelectors)((0,h.parse)(J)),de=te[0],Fe=te[1].map(function(Ge){return H(E,Ge,Z,!0)});return de.length&&Fe.push(I(E,de,Z,1/0)),Fe.length===0?[]:Fe.length===1?Fe[0]:C.uniqueSort(Fe.reduce(function(Ge,we){return f(f([],Ge,!0),we,!0)}))};var V=new Set([h.SelectorType.Descendant,h.SelectorType.Adjacent]);function j(J){return J!==P&&J.type==="pseudo"&&(J.name==="scope"||Array.isArray(J.data)&&J.data.some(function(E){return E.some(j)}))}function R(J,E,Z){return Z&&J.some(j)?s(s({},E),{context:Z}):E}function H(J,E,Z,te,de){var Fe=E.findIndex(x.isFilter),Ge=E.slice(0,Fe),we=E[Fe],ge=(0,x.getLimit)(we.name,we.data);if(ge===0)return[];var ne=R(Ge,Z,de),he=(Ge.length!==0||Array.isArray(J)?Ge.length===0||Ge.length===1&&Ge[0]===P?(Array.isArray(J)?J:[J]).filter(C.isTag):te||Ge.some(h.isTraversal)?I(J,[Ge],ne,ge):K(J,[Ge],ne):C.getChildren(J).filter(C.isTag)).slice(0,ge),Oe=function(ke,oe,Ue,ot){var _e=typeof Ue=="string"?parseInt(Ue,10):NaN;switch(ke){case"first":case"lt":return oe;case"last":return oe.length>0?[oe[oe.length-1]]:oe;case"nth":case"eq":return isFinite(_e)&&Math.abs(_e)<oe.length?[_e<0?oe[oe.length+_e]:oe[_e]]:[];case"gt":return isFinite(_e)?oe.slice(_e+1):[];case"even":return oe.filter(function(ut,at){return at%2==0});case"odd":return oe.filter(function(ut,at){return at%2==1});case"not":var Je=new Set(k(Ue,oe,ot));return oe.filter(function(ut){return!Je.has(ut)})}}(we.name,he,we.data,Z);if(Oe.length===0||E.length===Fe+1)return Oe;var Te=E.slice(Fe+1),Ne=Te.some(h.isTraversal),ze=R(Te,Z,de);return Ne&&(V.has(Te[0].type)&&Te.unshift(y),Te.unshift(P)),Te.some(x.isFilter)?H(Oe,Te,Z,!1,de):Ne?I(Oe,[Te],ze,1/0):K(Oe,[Te],ze)}function I(J,E,Z,te){return te===0?[]:G(J,(0,v._compileToken)(E,Z,J),te)}function G(J,E,Z){Z===void 0&&(Z=1/0);var te=(0,v.prepareContext)(J,C,E.shouldTestNextSiblings);return C.find(function(de){return C.isTag(de)&&E(de)},te,!0,Z)}function K(J,E,Z){var te=(Array.isArray(J)?J:[J]).filter(C.isTag);if(te.length===0)return te;var de=(0,v._compileToken)(E,Z);return te.filter(de)}},2515:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getLimit=r.isFilter=r.filterNames=void 0,r.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]),r.isFilter=function a(s){return s.type==="pseudo"&&(!!r.filterNames.has(s.name)||!(s.name!=="not"||!Array.isArray(s.data))&&s.data.some(function(c){return c.some(a)}))},r.getLimit=function(a,s){var c=s!=null?parseInt(s,10):NaN;switch(a){case"first":return 1;case"nth":case"eq":return isFinite(c)?c>=0?c+1:1/0:0;case"lt":return isFinite(c)?c>=0?c:1/0:0;case"gt":return isFinite(c)?1/0:0;default:return 1/0}}},6451:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toggleClass=r.removeClass=r.addClass=r.hasClass=r.removeAttr=r.val=r.data=r.prop=r.attr=void 0;var s=a(6634),c=a(5633),d=Object.prototype.hasOwnProperty,p=/\s+/,f="data-",h={null:null,true:!0,false:!1},v=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,C=/^{[^]*}$|^\[[^]*]$/;function b(N,V,j){var R;if(N&&c.isTag(N))return(R=N.attribs)!==null&&R!==void 0||(N.attribs={}),V?d.call(N.attribs,V)?!j&&v.test(V)?V:N.attribs[V]:N.name==="option"&&V==="value"?s.text(N.children):N.name!=="input"||N.attribs.type!=="radio"&&N.attribs.type!=="checkbox"||V!=="value"?void 0:"on":N.attribs}function x(N,V,j){j===null?A(N,V):N.attribs[V]=""+j}function w(N,V,j){if(N&&c.isTag(N))return V in N?N[V]:!j&&v.test(V)?b(N,V,!1)!==void 0:b(N,V,j)}function P(N,V,j,R){V in N?N[V]=j:x(N,V,!R&&v.test(V)?j?"":null:""+j)}function M(N,V,j){var R,H=N;(R=H.data)!==null&&R!==void 0||(H.data={}),typeof V=="object"?Object.assign(H.data,V):typeof V=="string"&&j!==void 0&&(H.data[V]=j)}function y(N,V){var j,R,H;V==null?R=(j=Object.keys(N.attribs).filter(function(J){return J.startsWith(f)})).map(function(J){return c.camelCase(J.slice(f.length))}):(j=[f+c.cssCase(V)],R=[V]);for(var I=0;I<j.length;++I){var G=j[I],K=R[I];if(d.call(N.attribs,G)&&!d.call(N.data,K)){if(H=N.attribs[G],d.call(h,H))H=h[H];else if(H===String(Number(H)))H=Number(H);else if(C.test(H))try{H=JSON.parse(H)}catch{}N.data[K]=H}}return V==null?N.data:H}function A(N,V){N.attribs&&d.call(N.attribs,V)&&delete N.attribs[V]}function k(N){return N?N.trim().split(p):[]}r.attr=function(N,V){if(typeof N=="object"||V!==void 0){if(typeof V=="function"){if(typeof N!="string")throw new Error("Bad combination of arguments.");return c.domEach(this,function(j,R){c.isTag(j)&&x(j,N,V.call(j,R,j.attribs[N]))})}return c.domEach(this,function(j){c.isTag(j)&&(typeof N=="object"?Object.keys(N).forEach(function(R){var H=N[R];x(j,R,H)}):x(j,N,V))})}return arguments.length>1?this:b(this[0],N,this.options.xmlMode)},r.prop=function(N,V){var j=this;if(typeof N=="string"&&V===void 0)switch(N){case"style":var R=this.css(),H=Object.keys(R);return H.forEach(function(G,K){R[K]=G}),R.length=H.length,R;case"tagName":case"nodeName":var I=this[0];return c.isTag(I)?I.name.toUpperCase():void 0;case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return w(this[0],N,this.options.xmlMode)}if(typeof N=="object"||V!==void 0){if(typeof V=="function"){if(typeof N=="object")throw new Error("Bad combination of arguments.");return c.domEach(this,function(G,K){c.isTag(G)&&P(G,N,V.call(G,K,w(G,N,j.options.xmlMode)),j.options.xmlMode)})}return c.domEach(this,function(G){c.isTag(G)&&(typeof N=="object"?Object.keys(N).forEach(function(K){var J=N[K];P(G,K,J,j.options.xmlMode)}):P(G,N,V,j.options.xmlMode))})}},r.data=function(N,V){var j,R=this[0];if(R&&c.isTag(R)){var H=R;return(j=H.data)!==null&&j!==void 0||(H.data={}),N?typeof N=="object"||V!==void 0?(c.domEach(this,function(I){c.isTag(I)&&(typeof N=="object"?M(I,N):M(I,N,V))}),this):d.call(H.data,N)?H.data[N]:y(H,N):y(H)}},r.val=function(N){var V=arguments.length===0,j=this[0];if(!j||!c.isTag(j))return V?void 0:this;switch(j.name){case"textarea":return this.text(N);case"select":var R=this.find("option:selected");if(!V){if(this.attr("multiple")==null&&typeof N=="object")return this;this.find("option").removeAttr("selected");for(var H=typeof N!="object"?[N]:N,I=0;I<H.length;I++)this.find('option[value="'+H[I]+'"]').attr("selected","");return this}return this.attr("multiple")?R.toArray().map(function(G){return s.text(G.children)}):R.attr("value");case"input":case"option":return V?this.attr("value"):this.attr("value",N)}},r.removeAttr=function(N){for(var V=k(N),j=function(I){c.domEach(R,function(G){c.isTag(G)&&A(G,V[I])})},R=this,H=0;H<V.length;H++)j(H);return this},r.hasClass=function(N){return this.toArray().some(function(V){var j=c.isTag(V)&&V.attribs.class,R=-1;if(j&&N.length)for(;(R=j.indexOf(N,R+1))>-1;){var H=R+N.length;if((R===0||p.test(j[R-1]))&&(H===j.length||p.test(j[H])))return!0}return!1})},r.addClass=function N(V){if(typeof V=="function")return c.domEach(this,function(Z,te){if(c.isTag(Z)){var de=Z.attribs.class||"";N.call([Z],V.call(Z,te,de))}});if(!V||typeof V!="string")return this;for(var j=V.split(p),R=this.length,H=0;H<R;H++){var I=this[H];if(c.isTag(I)){var G=b(I,"class",!1);if(G){for(var K=" "+G+" ",J=0;J<j.length;J++){var E=j[J]+" ";K.includes(" "+E)||(K+=E)}x(I,"class",K.trim())}else x(I,"class",j.join(" ").trim())}}return this},r.removeClass=function N(V){if(typeof V=="function")return c.domEach(this,function(I,G){c.isTag(I)&&N.call([I],V.call(I,G,I.attribs.class||""))});var j=k(V),R=j.length,H=arguments.length===0;return c.domEach(this,function(I){if(c.isTag(I))if(H)I.attribs.class="";else{for(var G=k(I.attribs.class),K=!1,J=0;J<R;J++){var E=G.indexOf(j[J]);E>=0&&(G.splice(E,1),K=!0,J--)}K&&(I.attribs.class=G.join(" "))}})},r.toggleClass=function N(V,j){if(typeof V=="function")return c.domEach(this,function(de,Fe){c.isTag(de)&&N.call([de],V.call(de,Fe,de.attribs.class||"",j),j)});if(!V||typeof V!="string")return this;for(var R=V.split(p),H=R.length,I=typeof j=="boolean"?j?1:-1:0,G=this.length,K=0;K<G;K++){var J=this[K];if(c.isTag(J)){for(var E=k(J.attribs.class),Z=0;Z<H;Z++){var te=E.indexOf(R[Z]);I>=0&&te<0?E.push(R[Z]):I<=0&&te>=0&&E.splice(te,1)}J.attribs.class=E.join(" ")}}return this}},9806:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.css=void 0;var s=a(5633);function c(p,f,h,v){if(typeof f=="string"){var C=d(p),b=typeof h=="function"?h.call(p,v,C[f]):h;b===""?delete C[f]:b!=null&&(C[f]=b),p.attribs.style=(x=C,Object.keys(x).reduce(function(w,P){return w+(w?" ":"")+P+": "+x[P]+";"},""))}else typeof f=="object"&&Object.keys(f).forEach(function(w,P){c(p,w,f[w],P)});var x}function d(p,f){if(p&&s.isTag(p)){var h=function(C){return C=(C||"").trim(),C?C.split(";").reduce(function(b,x){var w=x.indexOf(":");return w<1||w===x.length-1||(b[x.slice(0,w).trim()]=x.slice(w+1).trim()),b},{}):{}}(p.attribs.style);if(typeof f=="string")return h[f];if(Array.isArray(f)){var v={};return f.forEach(function(C){h[C]!=null&&(v[C]=h[C])}),v}return h}}r.css=function(p,f){return p!=null&&f!=null||typeof p=="object"&&!Array.isArray(p)?s.domEach(this,function(h,v){s.isTag(h)&&c(h,p,f,v)}):d(this[0],p)}},3432:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeArray=r.serialize=void 0;var s=a(5633),c="input,select,textarea,keygen",d=/%20/g,p=/\r?\n/g;r.serialize=function(){return this.serializeArray().map(function(f){return encodeURIComponent(f.name)+"="+encodeURIComponent(f.value)}).join("&").replace(d,"+")},r.serializeArray=function(){var f=this;return this.map(function(h,v){var C=f._make(v);return s.isTag(v)&&v.name==="form"?C.find(c).toArray():C.filter(c).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(h,v){var C,b=f._make(v),x=b.attr("name"),w=(C=b.val())!==null&&C!==void 0?C:"";return Array.isArray(w)?w.map(function(P){return{name:x,value:P.replace(p,`\r
`)}}):{name:x,value:w.replace(p,`\r
`)}}).toArray()}},848:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.clone=r.text=r.toString=r.html=r.empty=r.replaceWith=r.remove=r.insertBefore=r.before=r.insertAfter=r.after=r.wrapAll=r.unwrap=r.wrapInner=r.wrap=r.prepend=r.append=r.prependTo=r.appendTo=r._makeDomArray=void 0;var s=a(655),c=a(7915),d=a(7915),p=s.__importStar(a(5012)),f=a(6634),h=a(5633),v=a(3719);function C(w){return function(){for(var P=this,M=[],y=0;y<arguments.length;y++)M[y]=arguments[y];var A=this.length-1;return h.domEach(this,function(k,N){if(c.hasChildren(k)){var V=typeof M[0]=="function"?M[0].call(k,N,f.html(k.children)):M,j=P._makeDomArray(V,N<A);w(j,k.children,k)}})}}function b(w,P,M,y,A){for(var k,N,V=s.__spreadArray([P,M],y),j=w[P-1]||null,R=w[P+M]||null,H=0;H<y.length;++H){var I=y[H],G=I.parent;if(G){var K=G.children.indexOf(y[H]);K>-1&&(G.children.splice(K,1),A===G&&P>K&&V[0]--)}I.parent=A,I.prev&&(I.prev.next=(k=I.next)!==null&&k!==void 0?k:null),I.next&&(I.next.prev=(N=I.prev)!==null&&N!==void 0?N:null),I.prev=y[H-1]||j,I.next=y[H+1]||R}return j&&(j.next=y[0]),R&&(R.prev=y[y.length-1]),w.splice.apply(w,V)}function x(w){return function(P){for(var M=this.length-1,y=this.parents().last(),A=0;A<this.length;A++){var k=this[A],N=typeof P=="function"?P.call(k,A,k):typeof P!="string"||h.isHtml(P)?P:y.find(P).clone(),V=this._makeDomArray(N,A<M)[0];if(V&&v.DomUtils.hasChildren(V)){for(var j=V,R=0;R<j.children.length;){var H=j.children[R];h.isTag(H)?(j=H,R=0):R++}w(k,j,[V])}}return this}}r._makeDomArray=function(w,P){var M=this;return w==null?[]:h.isCheerio(w)?P?h.cloneDom(w.get()):w.get():Array.isArray(w)?w.reduce(function(y,A){return y.concat(M._makeDomArray(A,P))},[]):typeof w=="string"?p.default(w,this.options,!1).children:P?h.cloneDom([w]):[w]},r.appendTo=function(w){return(h.isCheerio(w)?w:this._make(w)).append(this),this},r.prependTo=function(w){return(h.isCheerio(w)?w:this._make(w)).prepend(this),this},r.append=C(function(w,P,M){b(P,P.length,0,w,M)}),r.prepend=C(function(w,P,M){b(P,0,0,w,M)}),r.wrap=x(function(w,P,M){var y=w.parent;if(y){var A=y.children,k=A.indexOf(w);p.update([w],P),b(A,k,0,M,y)}}),r.wrapInner=x(function(w,P,M){c.hasChildren(w)&&(p.update(w.children,P),p.update(M,w))}),r.unwrap=function(w){var P=this;return this.parent(w).not("body").each(function(M,y){P._make(y).replaceWith(y.children)}),this},r.wrapAll=function(w){var P=this[0];if(P){for(var M=this._make(typeof w=="function"?w.call(P,0,P):w).insertBefore(P),y=void 0,A=0;A<M.length;A++)M[A].type==="tag"&&(y=M[A]);for(var k=0;y&&k<y.children.length;){var N=y.children[k];N.type==="tag"?(y=N,k=0):k++}y&&this._make(y).append(this)}return this},r.after=function(){for(var w=this,P=[],M=0;M<arguments.length;M++)P[M]=arguments[M];var y=this.length-1;return h.domEach(this,function(A,k){var N=A.parent;if(v.DomUtils.hasChildren(A)&&N){var V=N.children,j=V.indexOf(A);if(!(j<0)){var R=typeof P[0]=="function"?P[0].call(A,k,f.html(A.children)):P;b(V,j+1,0,w._makeDomArray(R,k<y),N)}}})},r.insertAfter=function(w){var P=this;typeof w=="string"&&(w=this._make(w)),this.remove();var M=[];return this._makeDomArray(w).forEach(function(y){var A=P.clone().toArray(),k=y.parent;if(k){var N=k.children,V=N.indexOf(y);V<0||(b(N,V+1,0,A,k),M.push.apply(M,A))}}),this._make(M)},r.before=function(){for(var w=this,P=[],M=0;M<arguments.length;M++)P[M]=arguments[M];var y=this.length-1;return h.domEach(this,function(A,k){var N=A.parent;if(v.DomUtils.hasChildren(A)&&N){var V=N.children,j=V.indexOf(A);if(!(j<0)){var R=typeof P[0]=="function"?P[0].call(A,k,f.html(A.children)):P;b(V,j,0,w._makeDomArray(R,k<y),N)}}})},r.insertBefore=function(w){var P=this,M=this._make(w);this.remove();var y=[];return h.domEach(M,function(A){var k=P.clone().toArray(),N=A.parent;if(N){var V=N.children,j=V.indexOf(A);j<0||(b(V,j,0,k,N),y.push.apply(y,k))}}),this._make(y)},r.remove=function(w){var P=w?this.filter(w):this;return h.domEach(P,function(M){v.DomUtils.removeElement(M),M.prev=M.next=M.parent=null}),this},r.replaceWith=function(w){var P=this;return h.domEach(this,function(M,y){var A=M.parent;if(A){var k=A.children,N=typeof w=="function"?w.call(M,y,M):w,V=P._makeDomArray(N);p.update(V,null);var j=k.indexOf(M);b(k,j,1,V,A),V.includes(M)||(M.parent=M.prev=M.next=null)}})},r.empty=function(){return h.domEach(this,function(w){v.DomUtils.hasChildren(w)&&(w.children.forEach(function(P){P.next=P.prev=P.parent=null}),w.children.length=0)})},r.html=function(w){if(w===void 0){var P=this[0];return P&&v.DomUtils.hasChildren(P)?f.html(P.children,this.options):null}var M=s.__assign(s.__assign({},this.options),{context:null});return h.domEach(this,function(y){if(v.DomUtils.hasChildren(y)){y.children.forEach(function(k){k.next=k.prev=k.parent=null}),M.context=y;var A=h.isCheerio(w)?w.toArray():p.default(""+w,M,!1).children;p.update(A,y)}})},r.toString=function(){return f.html(this,this.options)},r.text=function w(P){var M=this;return P===void 0?f.text(this):typeof P=="function"?h.domEach(this,function(y,A){w.call(M._make(y),P.call(y,A,f.text([y])))}):h.domEach(this,function(y){if(v.DomUtils.hasChildren(y)){y.children.forEach(function(k){k.next=k.prev=k.parent=null});var A=new d.Text(P);p.update(A,y)}})},r.clone=function(){return this._make(h.cloneDom(this.get()))}},1042:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addBack=r.add=r.end=r.slice=r.index=r.toArray=r.get=r.eq=r.last=r.first=r.has=r.not=r.is=r.filterArray=r.filter=r.map=r.each=r.contents=r.children=r.siblings=r.prevUntil=r.prevAll=r.prev=r.nextUntil=r.nextAll=r.next=r.closest=r.parentsUntil=r.parents=r.parent=r.find=void 0;var s=a(655),c=a(7915),d=s.__importStar(a(7248)),p=a(5633),f=a(6634),h=a(3719),v=h.DomUtils.uniqueSort,C=/^\s*[~+]/;function b(k){return function(N){for(var V=[],j=1;j<arguments.length;j++)V[j-1]=arguments[j];return function(R){var H,I=k(N,this);return R&&(I=A(I,R,this.options.xmlMode,(H=this._root)===null||H===void 0?void 0:H[0])),this._make(this.length>1&&I.length>1?V.reduce(function(G,K){return K(G)},I):I)}}}r.find=function(k){var N;if(!k)return this._make([]);var V=this.toArray();if(typeof k!="string"){var j=p.isCheerio(k)?k.toArray():[k];return this._make(j.filter(function(I){return V.some(function(G){return f.contains(G,I)})}))}var R=C.test(k)?V:this.children().toArray(),H={context:V,root:(N=this._root)===null||N===void 0?void 0:N[0],xmlMode:this.options.xmlMode};return this._make(d.select(k,R,H))};var x=b(function(k,N){for(var V,j=[],R=0;R<N.length;R++){var H=k(N[R]);j.push(H)}return(V=new Array).concat.apply(V,j)}),w=b(function(k,N){for(var V=[],j=0;j<N.length;j++){var R=k(N[j]);R!==null&&V.push(R)}return V});function P(k){for(var N=[],V=1;V<arguments.length;V++)N[V-1]=arguments[V];var j=null,R=b(function(H,I){var G=[];return p.domEach(I,function(K){for(var J;(J=H(K))&&!j?.(J,G.length);K=J)G.push(J)}),G}).apply(void 0,s.__spreadArray([k],N));return function(H,I){var G=this;j=typeof H=="string"?function(J){return d.is(J,H,G.options)}:H?y(H):null;var K=R.call(this,I);return j=null,K}}function M(k){return Array.from(new Set(k))}function y(k){return typeof k=="function"?function(N,V){return k.call(N,V,N)}:p.isCheerio(k)?function(N){return Array.prototype.includes.call(k,N)}:function(N){return k===N}}function A(k,N,V,j){return typeof N=="string"?d.filter(N,k,{xmlMode:V,root:j}):k.filter(y(N))}r.parent=w(function(k){var N=k.parent;return N&&!c.isDocument(N)?N:null},M),r.parents=x(function(k){for(var N=[];k.parent&&!c.isDocument(k.parent);)N.push(k.parent),k=k.parent;return N},v,function(k){return k.reverse()}),r.parentsUntil=P(function(k){var N=k.parent;return N&&!c.isDocument(N)?N:null},v,function(k){return k.reverse()}),r.closest=function(k){var N=this,V=[];return k?(p.domEach(this,function(j){for(var R;j&&j.type!=="root";){if(!k||A([j],k,N.options.xmlMode,(R=N._root)===null||R===void 0?void 0:R[0]).length){j&&!V.includes(j)&&V.push(j);break}j=j.parent}}),this._make(V)):this._make(V)},r.next=w(function(k){return h.DomUtils.nextElementSibling(k)}),r.nextAll=x(function(k){for(var N=[];k.next;)k=k.next,p.isTag(k)&&N.push(k);return N},M),r.nextUntil=P(function(k){return h.DomUtils.nextElementSibling(k)},M),r.prev=w(function(k){return h.DomUtils.prevElementSibling(k)}),r.prevAll=x(function(k){for(var N=[];k.prev;)k=k.prev,p.isTag(k)&&N.push(k);return N},M),r.prevUntil=P(function(k){return h.DomUtils.prevElementSibling(k)},M),r.siblings=x(function(k){return h.DomUtils.getSiblings(k).filter(function(N){return p.isTag(N)&&N!==k})},v),r.children=x(function(k){return h.DomUtils.getChildren(k).filter(p.isTag)},M),r.contents=function(){var k=this.toArray().reduce(function(N,V){return c.hasChildren(V)?N.concat(V.children):N},[]);return this._make(k)},r.each=function(k){for(var N=0,V=this.length;N<V&&k.call(this[N],N,this[N])!==!1;)++N;return this},r.map=function(k){for(var N=[],V=0;V<this.length;V++){var j=this[V],R=k.call(j,V,j);R!=null&&(N=N.concat(R))}return this._make(N)},r.filter=function(k){var N;return this._make(A(this.toArray(),k,this.options.xmlMode,(N=this._root)===null||N===void 0?void 0:N[0]))},r.filterArray=A,r.is=function(k){var N=this.toArray();return typeof k=="string"?d.some(N.filter(p.isTag),k,this.options):!!k&&N.some(y(k))},r.not=function(k){var N=this.toArray();if(typeof k=="string"){var V=new Set(d.filter(k,N,this.options));N=N.filter(function(R){return!V.has(R)})}else{var j=y(k);N=N.filter(function(R,H){return!j(R,H)})}return this._make(N)},r.has=function(k){var N=this;return this.filter(typeof k=="string"?":has("+k+")":function(V,j){return N._make(j).find(k).length>0})},r.first=function(){return this.length>1?this._make(this[0]):this},r.last=function(){return this.length>0?this._make(this[this.length-1]):this},r.eq=function(k){var N;return(k=+k)==0&&this.length<=1?this:(k<0&&(k=this.length+k),this._make((N=this[k])!==null&&N!==void 0?N:[]))},r.get=function(k){return k==null?this.toArray():this[k<0?this.length+k:k]},r.toArray=function(){return Array.prototype.slice.call(this)},r.index=function(k){var N,V;return k==null?(N=this.parent().children(),V=this[0]):typeof k=="string"?(N=this._make(k),V=this[0]):(N=this,V=p.isCheerio(k)?k[0]:k),Array.prototype.indexOf.call(N,V)},r.slice=function(k,N){return this._make(Array.prototype.slice.call(this,k,N))},r.end=function(){var k;return(k=this.prevObject)!==null&&k!==void 0?k:this._make([])},r.add=function(k,N){var V=this._make(k,N),j=v(s.__spreadArray(s.__spreadArray([],this.get()),V.get()));return this._make(j)},r.addBack=function(k){return this.prevObject?this.add(k?this.prevObject.filter(k):this.prevObject):this}},7911:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Cheerio=void 0;var s=a(655),c=s.__importDefault(a(5012)),d=s.__importDefault(a(2754)),p=a(5633),f=s.__importStar(a(6451)),h=s.__importStar(a(1042)),v=s.__importStar(a(848)),C=s.__importStar(a(9806)),b=s.__importStar(a(3432)),x=function(){function w(P,M,y,A){var k=this;if(A===void 0&&(A=d.default),this.length=0,this.options=A,!P)return this;if(y&&(typeof y=="string"&&(y=c.default(y,this.options,!1)),this._root=new this.constructor(y,null,null,this.options),this._root._root=this._root),p.isCheerio(P))return P;var N,V=typeof P=="string"&&p.isHtml(P)?c.default(P,this.options,!1).children:(N=P).name||N.type==="root"||N.type==="text"||N.type==="comment"?[P]:Array.isArray(P)?P:null;if(V)return V.forEach(function(H,I){k[I]=H}),this.length=V.length,this;var j=P,R=M?typeof M=="string"?p.isHtml(M)?this._make(c.default(M,this.options,!1)):(j=M+" "+j,this._root):p.isCheerio(M)?M:this._make(M):this._root;return R?R.find(j):this}return w.prototype._make=function(P,M){var y=new this.constructor(P,M,this._root,this.options);return y.prevObject=this,y},w}();r.Cheerio=x,x.prototype.cheerio="[cheerio object]",x.prototype.splice=Array.prototype.splice,x.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(x.prototype,f,h,v,C,b)},7503:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.root=r.parseHTML=r.merge=r.contains=void 0;var s=a(655);s.__exportStar(a(8701),r),s.__exportStar(a(3434),r);var c=a(3434);r.default=c.load([]);var d=s.__importStar(a(6634));r.contains=d.contains,r.merge=d.merge,r.parseHTML=d.parseHTML,r.root=d.root},3434:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.load=void 0;var s=a(655),c=s.__importStar(a(2754)),d=s.__importStar(a(6634)),p=a(7911),f=s.__importDefault(a(5012));r.load=function h(v,C,b){if(b===void 0&&(b=!0),v==null)throw new Error("cheerio.load() expects a string");var x=s.__assign(s.__assign({},c.default),c.flatten(C)),w=f.default(v,x,b),P=function(y){function A(){return y!==null&&y.apply(this,arguments)||this}return s.__extends(A,y),A}(p.Cheerio);function M(y,A,k,N){return k===void 0&&(k=w),new P(y,A,k,s.__assign(s.__assign({},x),c.flatten(N)))}return Object.assign(M,d,{load:h,_root:w,_options:x,fn:P.prototype,prototype:P.prototype}),M}},2754:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flatten=void 0;var s=a(655);r.default={xml:!1,decodeEntities:!0};var c={_useHtmlParser2:!0,xmlMode:!0};r.flatten=function(d){return d?.xml?typeof d.xml=="boolean"?c:s.__assign(s.__assign({},c),d.xml):d??void 0}},5012:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.update=void 0;var s=a(3719),c=a(8585),d=a(7957),p=a(7915);function f(h,v){var C=Array.isArray(h)?h:[h];v?v.children=C:v=null;for(var b=0;b<C.length;b++){var x=C[b];x.parent&&x.parent.children!==C&&s.DomUtils.removeElement(x),v?(x.prev=C[b-1]||null,x.next=C[b+1]||null):x.prev=x.next=null,x.parent=v}return v}r.default=function(h,v,C){if(typeof Buffer<"u"&&Buffer.isBuffer(h)&&(h=h.toString()),typeof h=="string")return v.xmlMode||v._useHtmlParser2?c.parse(h,v):d.parse(h,v,C);var b=h;if(!Array.isArray(b)&&p.isDocument(b))return b;var x=new p.Document([]);return f(b,x),x},r.update=f},8585:function(n,r,a){"use strict";var s=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(r,"__esModule",{value:!0}),r.render=r.parse=void 0;var c=a(3719);Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return c.parseDocument}});var d=a(7220);Object.defineProperty(r,"render",{enumerable:!0,get:function(){return s(d).default}})},7957:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.render=r.parse=void 0;var s=a(655),c=a(7915),d=a(2394),p=s.__importDefault(a(1906));r.parse=function(f,h,v){var C={scriptingEnabled:typeof h.scriptingEnabled!="boolean"||h.scriptingEnabled,treeAdapter:p.default,sourceCodeLocationInfo:h.sourceCodeLocationInfo},b=h.context;return v?d.parse(f,C):d.parseFragment(b,f,C)},r.render=function(f){for(var h,v=("length"in f)?f:[f],C=0;C<v.length;C+=1){var b=v[C];c.isDocument(b)&&(h=Array.prototype.splice).call.apply(h,s.__spreadArray([v,C,1],b.children))}return d.serialize({children:v},{treeAdapter:p.default})}},6634:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.merge=r.contains=r.root=r.parseHTML=r.text=r.xml=r.html=void 0;var s=a(655),c=s.__importStar(a(2754)),d=a(7248),p=a(3719),f=a(7957),h=a(8585);function v(b,x,w){var P,M=x?typeof x=="string"?d.select(x,(P=b?._root)!==null&&P!==void 0?P:[],w):x:b?._root.children;return M?w.xmlMode||w._useHtmlParser2?h.render(M,w):f.render(M):""}function C(b){if(Array.isArray(b))return!0;if(typeof b!="object"||!Object.prototype.hasOwnProperty.call(b,"length")||typeof b.length!="number"||b.length<0)return!1;for(var x=0;x<b.length;x++)if(!(x in b))return!1;return!0}r.html=function(b,x){return!x&&function(w){return typeof w=="object"&&w!=null&&!("length"in w)&&!("type"in w)}(b)&&(x=b,b=void 0),v(this||void 0,b,s.__assign(s.__assign(s.__assign({},c.default),this?this._options:{}),c.flatten(x??{})))},r.xml=function(b){return v(this,b,s.__assign(s.__assign({},this._options),{xmlMode:!0}))},r.text=function b(x){for(var w=x||(this?this.root():[]),P="",M=0;M<w.length;M++){var y=w[M];p.DomUtils.isText(y)?P+=y.data:p.DomUtils.hasChildren(y)&&y.type!==p.ElementType.Comment&&y.type!==p.ElementType.Script&&y.type!==p.ElementType.Style&&(P+=b(y.children))}return P},r.parseHTML=function(b,x,w){if(w===void 0&&(w=typeof x=="boolean"&&x),!b||typeof b!="string")return null;typeof x=="boolean"&&(w=x);var P=this.load(b,c.default,!1);return w||P("script").remove(),P.root()[0].children.slice()},r.root=function(){return this(this._root)},r.contains=function(b,x){if(x===b)return!1;for(var w=x;w&&w!==w.parent;)if((w=w.parent)===b)return!0;return!1},r.merge=function(b,x){if(C(b)&&C(x)){for(var w=b.length,P=+x.length,M=0;M<P;M++)b[w++]=x[M];return b.length=w,b}}},8701:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},5633:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isHtml=r.cloneDom=r.domEach=r.cssCase=r.camelCase=r.isCheerio=r.isTag=void 0;var s=a(3719),c=a(7915);r.isTag=s.DomUtils.isTag,r.isCheerio=function(p){return p.cheerio!=null},r.camelCase=function(p){return p.replace(/[_.-](\w|$)/g,function(f,h){return h.toUpperCase()})},r.cssCase=function(p){return p.replace(/[A-Z]/g,"-$&").toLowerCase()},r.domEach=function(p,f){for(var h=p.length,v=0;v<h;v++)f(p[v],v);return p},r.cloneDom=function(p){var f="length"in p?Array.prototype.map.call(p,function(v){return c.cloneNode(v,!0)}):[c.cloneNode(p,!0)],h=new c.Document(f);return f.forEach(function(v){v.parent=h}),f};var d=/<[a-zA-Z][^]*>/;r.isHtml=function(p){return d.test(p)}},996:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.attributeRules=void 0;var s=a(1073),c=/[-[\]{}()*+?.,\\^$|#\s]/g;function d(h){return h.replace(c,"\\$&")}var p=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function f(h,v){return typeof h.ignoreCase=="boolean"?h.ignoreCase:h.ignoreCase==="quirks"?!!v.quirksMode:!v.xmlMode&&p.has(h.name)}r.attributeRules={equals:function(h,v,C){var b=C.adapter,x=v.name,w=v.value;return f(v,C)?(w=w.toLowerCase(),function(P){var M=b.getAttributeValue(P,x);return M!=null&&M.length===w.length&&M.toLowerCase()===w&&h(P)}):function(P){return b.getAttributeValue(P,x)===w&&h(P)}},hyphen:function(h,v,C){var b=C.adapter,x=v.name,w=v.value,P=w.length;return f(v,C)?(w=w.toLowerCase(),function(M){var y=b.getAttributeValue(M,x);return y!=null&&(y.length===P||y.charAt(P)==="-")&&y.substr(0,P).toLowerCase()===w&&h(M)}):function(M){var y=b.getAttributeValue(M,x);return y!=null&&(y.length===P||y.charAt(P)==="-")&&y.substr(0,P)===w&&h(M)}},element:function(h,v,C){var b=C.adapter,x=v.name,w=v.value;if(/\s/.test(w))return s.falseFunc;var P=new RegExp("(?:^|\\s)".concat(d(w),"(?:$|\\s)"),f(v,C)?"i":"");return function(M){var y=b.getAttributeValue(M,x);return y!=null&&y.length>=w.length&&P.test(y)&&h(M)}},exists:function(h,v,C){var b=v.name,x=C.adapter;return function(w){return x.hasAttrib(w,b)&&h(w)}},start:function(h,v,C){var b=C.adapter,x=v.name,w=v.value,P=w.length;return P===0?s.falseFunc:f(v,C)?(w=w.toLowerCase(),function(M){var y=b.getAttributeValue(M,x);return y!=null&&y.length>=P&&y.substr(0,P).toLowerCase()===w&&h(M)}):function(M){var y;return!!(!((y=b.getAttributeValue(M,x))===null||y===void 0)&&y.startsWith(w))&&h(M)}},end:function(h,v,C){var b=C.adapter,x=v.name,w=v.value,P=-w.length;return P===0?s.falseFunc:f(v,C)?(w=w.toLowerCase(),function(M){var y;return((y=b.getAttributeValue(M,x))===null||y===void 0?void 0:y.substr(P).toLowerCase())===w&&h(M)}):function(M){var y;return!!(!((y=b.getAttributeValue(M,x))===null||y===void 0)&&y.endsWith(w))&&h(M)}},any:function(h,v,C){var b=C.adapter,x=v.name,w=v.value;if(w==="")return s.falseFunc;if(f(v,C)){var P=new RegExp(d(w),"i");return function(M){var y=b.getAttributeValue(M,x);return y!=null&&y.length>=w.length&&P.test(y)&&h(M)}}return function(M){var y;return!!(!((y=b.getAttributeValue(M,x))===null||y===void 0)&&y.includes(w))&&h(M)}},not:function(h,v,C){var b=C.adapter,x=v.name,w=v.value;return w===""?function(P){return!!b.getAttributeValue(P,x)&&h(P)}:f(v,C)?(w=w.toLowerCase(),function(P){var M=b.getAttributeValue(P,x);return(M==null||M.length!==w.length||M.toLowerCase()!==w)&&h(P)}):function(P){return b.getAttributeValue(P,x)!==w&&h(P)}}}},8866:function(n,r,a){"use strict";var s=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(r,"__esModule",{value:!0}),r.compileToken=r.compileUnsafe=r.compile=void 0;var c=a(7763),d=a(1073),p=s(a(7353)),f=a(7177),h=a(3621),v=a(1768);function C(A,k,N){return M(typeof A=="string"?(0,c.parse)(A):A,k,N)}function b(A){return A.type==="pseudo"&&(A.name==="scope"||Array.isArray(A.data)&&A.data.some(function(k){return k.some(b)}))}r.compile=function(A,k,N){var V=C(A,k,N);return(0,v.ensureIsTag)(V,k.adapter)},r.compileUnsafe=C;var x={type:c.SelectorType.Descendant},w={type:"_flexibleDescendant"},P={type:c.SelectorType.Pseudo,name:"scope",data:null};function M(A,k,N){var V;(A=A.filter(function(G){return G.length>0})).forEach(p.default),N=(V=k.context)!==null&&V!==void 0?V:N;var j=Array.isArray(N),R=N&&(Array.isArray(N)?N:[N]);(function(G,K,J){for(var E=K.adapter,Z=!!J?.every(function(Ge){var we=E.isTag(Ge)&&E.getParent(Ge);return Ge===v.PLACEHOLDER_ELEMENT||we&&E.isTag(we)}),te=0,de=G;te<de.length;te++){var Fe=de[te];if(!(Fe.length>0&&(0,f.isTraversal)(Fe[0])&&Fe[0].type!=="descendant")){if(!Z||Fe.some(b))continue;Fe.unshift(x)}Fe.unshift(P)}})(A,k,R);var H=!1,I=A.map(function(G){if(G.length>=2){var K=G[0],J=G[1];K.type!=="pseudo"||K.name!=="scope"||(j&&J.type==="descendant"?G[1]=w:J.type!=="adjacent"&&J.type!=="sibling"||(H=!0))}return function(E,Z,te){var de;return E.reduce(function(Fe,Ge){return Fe===d.falseFunc?d.falseFunc:(0,h.compileGeneralSelector)(Fe,Ge,Z,te,M)},(de=Z.rootFunc)!==null&&de!==void 0?de:d.trueFunc)}(G,k,R)}).reduce(y,d.falseFunc);return I.shouldTestNextSiblings=H,I}function y(A,k){return k===d.falseFunc||A===d.trueFunc?A:A===d.falseFunc||k===d.trueFunc?k:function(N){return A(N)||k(N)}}r.compileToken=M},3621:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compileGeneralSelector=void 0;var s=a(996),c=a(8677),d=a(7763);r.compileGeneralSelector=function(p,f,h,v,C){var b=h.adapter,x=h.equals;switch(f.type){case d.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case d.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case d.SelectorType.Attribute:if(f.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return h.xmlMode&&!h.lowerCaseAttributeNames||(f.name=f.name.toLowerCase()),s.attributeRules[f.action](p,f,h);case d.SelectorType.Pseudo:return(0,c.compilePseudoSelector)(p,f,h,v,C);case d.SelectorType.Tag:if(f.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var w=f.name;return h.xmlMode&&!h.lowerCaseTags||(w=w.toLowerCase()),function(M){return b.getName(M)===w&&p(M)};case d.SelectorType.Descendant:if(h.cacheResults===!1||typeof WeakSet>"u")return function(M){for(var y=M;y=b.getParent(y);)if(b.isTag(y)&&p(y))return!0;return!1};var P=new WeakSet;return function(M){for(var y=M;y=b.getParent(y);)if(!P.has(y)){if(b.isTag(y)&&p(y))return!0;P.add(y)}return!1};case"_flexibleDescendant":return function(M){var y=M;do if(b.isTag(y)&&p(y))return!0;while(y=b.getParent(y));return!1};case d.SelectorType.Parent:return function(M){return b.getChildren(M).some(function(y){return b.isTag(y)&&p(y)})};case d.SelectorType.Child:return function(M){var y=b.getParent(M);return y!=null&&b.isTag(y)&&p(y)};case d.SelectorType.Sibling:return function(M){for(var y=b.getSiblings(M),A=0;A<y.length;A++){var k=y[A];if(x(M,k))break;if(b.isTag(k)&&p(k))return!0}return!1};case d.SelectorType.Adjacent:return b.prevElementSibling?function(M){var y=b.prevElementSibling(M);return y!=null&&p(y)}:function(M){for(var y,A=b.getSiblings(M),k=0;k<A.length;k++){var N=A[k];if(x(M,N))break;b.isTag(N)&&(y=N)}return!!y&&p(y)};case d.SelectorType.Universal:if(f.namespace!=null&&f.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return p}}},5366:function(n,r,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(A,k,N,V){V===void 0&&(V=N);var j=Object.getOwnPropertyDescriptor(k,N);j&&!("get"in j?!k.__esModule:j.writable||j.configurable)||(j={enumerable:!0,get:function(){return k[N]}}),Object.defineProperty(A,V,j)}:function(A,k,N,V){V===void 0&&(V=N),A[V]=k[N]}),c=this&&this.__setModuleDefault||(Object.create?function(A,k){Object.defineProperty(A,"default",{enumerable:!0,value:k})}:function(A,k){A.default=k}),d=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var k={};if(A!=null)for(var N in A)N!=="default"&&Object.prototype.hasOwnProperty.call(A,N)&&s(k,A,N);return c(k,A),k};Object.defineProperty(r,"__esModule",{value:!0}),r.aliases=r.pseudos=r.filters=r.is=r.selectOne=r.selectAll=r.prepareContext=r._compileToken=r._compileUnsafe=r.compile=void 0;var p=d(a(9432)),f=a(1073),h=a(8866),v=a(1768),C=function(A,k){return A===k},b={adapter:p,equals:C};function x(A){var k,N,V,j,R=A??b;return(k=R.adapter)!==null&&k!==void 0||(R.adapter=p),(N=R.equals)!==null&&N!==void 0||(R.equals=(j=(V=R.adapter)===null||V===void 0?void 0:V.equals)!==null&&j!==void 0?j:C),R}function w(A){return function(k,N,V){var j=x(N);return A(k,j,V)}}function P(A){return function(k,N,V){var j=x(V);typeof k!="function"&&(k=(0,h.compileUnsafe)(k,j,N));var R=M(N,j.adapter,k.shouldTestNextSiblings);return A(k,R,j)}}function M(A,k,N){return N===void 0&&(N=!1),N&&(A=function(V,j){for(var R=Array.isArray(V)?V.slice(0):[V],H=R.length,I=0;I<H;I++){var G=(0,v.getNextSiblings)(R[I],j);R.push.apply(R,G)}return R}(A,k)),Array.isArray(A)?k.removeSubsets(A):k.getChildren(A)}r.compile=w(h.compile),r._compileUnsafe=w(h.compileUnsafe),r._compileToken=w(h.compileToken),r.prepareContext=M,r.selectAll=P(function(A,k,N){return A!==f.falseFunc&&k&&k.length!==0?N.adapter.findAll(A,k):[]}),r.selectOne=P(function(A,k,N){return A!==f.falseFunc&&k&&k.length!==0?N.adapter.findOne(A,k):null}),r.is=function(A,k,N){var V=x(N);return(typeof k=="function"?k:(0,h.compile)(k,V))(A)},r.default=r.selectAll;var y=a(8677);Object.defineProperty(r,"filters",{enumerable:!0,get:function(){return y.filters}}),Object.defineProperty(r,"pseudos",{enumerable:!0,get:function(){return y.pseudos}}),Object.defineProperty(r,"aliases",{enumerable:!0,get:function(){return y.aliases}})},7177:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isTraversal=r.procedure=void 0,r.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1},r.isTraversal=function(a){return r.procedure[a.type]<0}},2968:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.aliases=void 0,r.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}},7689:function(n,r,a){"use strict";var s=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(r,"__esModule",{value:!0}),r.filters=void 0;var c=s(a(7540)),d=a(1073);function p(h,v){return function(C){var b=v.getParent(C);return b!=null&&v.isTag(b)&&h(C)}}function f(h){return function(v,C,b){var x=b.adapter[h];return typeof x!="function"?d.falseFunc:function(w){return x(w)&&v(w)}}}r.filters={contains:function(h,v,C){var b=C.adapter;return function(x){return h(x)&&b.getText(x).includes(v)}},icontains:function(h,v,C){var b=C.adapter,x=v.toLowerCase();return function(w){return h(w)&&b.getText(w).toLowerCase().includes(x)}},"nth-child":function(h,v,C){var b=C.adapter,x=C.equals,w=(0,c.default)(v);return w===d.falseFunc?d.falseFunc:w===d.trueFunc?p(h,b):function(P){for(var M=b.getSiblings(P),y=0,A=0;A<M.length&&!x(P,M[A]);A++)b.isTag(M[A])&&y++;return w(y)&&h(P)}},"nth-last-child":function(h,v,C){var b=C.adapter,x=C.equals,w=(0,c.default)(v);return w===d.falseFunc?d.falseFunc:w===d.trueFunc?p(h,b):function(P){for(var M=b.getSiblings(P),y=0,A=M.length-1;A>=0&&!x(P,M[A]);A--)b.isTag(M[A])&&y++;return w(y)&&h(P)}},"nth-of-type":function(h,v,C){var b=C.adapter,x=C.equals,w=(0,c.default)(v);return w===d.falseFunc?d.falseFunc:w===d.trueFunc?p(h,b):function(P){for(var M=b.getSiblings(P),y=0,A=0;A<M.length;A++){var k=M[A];if(x(P,k))break;b.isTag(k)&&b.getName(k)===b.getName(P)&&y++}return w(y)&&h(P)}},"nth-last-of-type":function(h,v,C){var b=C.adapter,x=C.equals,w=(0,c.default)(v);return w===d.falseFunc?d.falseFunc:w===d.trueFunc?p(h,b):function(P){for(var M=b.getSiblings(P),y=0,A=M.length-1;A>=0;A--){var k=M[A];if(x(P,k))break;b.isTag(k)&&b.getName(k)===b.getName(P)&&y++}return w(y)&&h(P)}},root:function(h,v,C){var b=C.adapter;return function(x){var w=b.getParent(x);return(w==null||!b.isTag(w))&&h(x)}},scope:function(h,v,C,b){var x=C.equals;return b&&b.length!==0?b.length===1?function(w){return x(b[0],w)&&h(w)}:function(w){return b.includes(w)&&h(w)}:r.filters.root(h,v,C)},hover:f("isHovered"),visited:f("isVisited"),active:f("isActive")}},8677:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compilePseudoSelector=r.aliases=r.pseudos=r.filters=void 0;var s=a(1073),c=a(7763),d=a(7689);Object.defineProperty(r,"filters",{enumerable:!0,get:function(){return d.filters}});var p=a(7221);Object.defineProperty(r,"pseudos",{enumerable:!0,get:function(){return p.pseudos}});var f=a(2968);Object.defineProperty(r,"aliases",{enumerable:!0,get:function(){return f.aliases}});var h=a(1768);r.compilePseudoSelector=function(v,C,b,x,w){var P=C.name,M=C.data;if(Array.isArray(M))return h.subselects[P](v,M,b,x,w);if(P in f.aliases){if(M!=null)throw new Error("Pseudo ".concat(P," doesn't have any arguments"));var y=(0,c.parse)(f.aliases[P]);return h.subselects.is(v,y,b,x,w)}if(P in d.filters)return d.filters[P](v,M,b,x);if(P in p.pseudos){var A=p.pseudos[P];return(0,p.verifyPseudoArgs)(A,P,M),A===s.falseFunc?s.falseFunc:v===s.trueFunc?function(k){return A(k,b,M)}:function(k){return A(k,b,M)&&v(k)}}throw new Error("unmatched pseudo-class :".concat(P))}},7221:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.verifyPseudoArgs=r.pseudos=void 0,r.pseudos={empty:function(a,s){var c=s.adapter;return!c.getChildren(a).some(function(d){return c.isTag(d)||c.getText(d)!==""})},"first-child":function(a,s){var c=s.adapter,d=s.equals,p=c.getSiblings(a).find(function(f){return c.isTag(f)});return p!=null&&d(a,p)},"last-child":function(a,s){for(var c=s.adapter,d=s.equals,p=c.getSiblings(a),f=p.length-1;f>=0;f--){if(d(a,p[f]))return!0;if(c.isTag(p[f]))break}return!1},"first-of-type":function(a,s){for(var c=s.adapter,d=s.equals,p=c.getSiblings(a),f=c.getName(a),h=0;h<p.length;h++){var v=p[h];if(d(a,v))return!0;if(c.isTag(v)&&c.getName(v)===f)break}return!1},"last-of-type":function(a,s){for(var c=s.adapter,d=s.equals,p=c.getSiblings(a),f=c.getName(a),h=p.length-1;h>=0;h--){var v=p[h];if(d(a,v))return!0;if(c.isTag(v)&&c.getName(v)===f)break}return!1},"only-of-type":function(a,s){var c=s.adapter,d=s.equals,p=c.getName(a);return c.getSiblings(a).every(function(f){return d(a,f)||!c.isTag(f)||c.getName(f)!==p})},"only-child":function(a,s){var c=s.adapter,d=s.equals;return c.getSiblings(a).every(function(p){return d(a,p)||!c.isTag(p)})}},r.verifyPseudoArgs=function(a,s,c){if(c===null){if(a.length>2)throw new Error("pseudo-selector :".concat(s," requires an argument"))}else if(a.length===2)throw new Error("pseudo-selector :".concat(s," doesn't have any arguments"))}},1768:function(n,r,a){"use strict";var s=this&&this.__spreadArray||function(v,C,b){if(b||arguments.length===2)for(var x,w=0,P=C.length;w<P;w++)!x&&w in C||(x||(x=Array.prototype.slice.call(C,0,w)),x[w]=C[w]);return v.concat(x||Array.prototype.slice.call(C))};Object.defineProperty(r,"__esModule",{value:!0}),r.subselects=r.getNextSiblings=r.ensureIsTag=r.PLACEHOLDER_ELEMENT=void 0;var c=a(1073),d=a(7177);function p(v,C){return v===c.falseFunc?c.falseFunc:function(b){return C.isTag(b)&&v(b)}}function f(v,C){var b=C.getSiblings(v);if(b.length<=1)return[];var x=b.indexOf(v);return x<0||x===b.length-1?[]:b.slice(x+1).filter(C.isTag)}r.PLACEHOLDER_ELEMENT={},r.ensureIsTag=p,r.getNextSiblings=f;var h=function(v,C,b,x,w){var P=w(C,{xmlMode:!!b.xmlMode,adapter:b.adapter,equals:b.equals},x);return function(M){return P(M)&&v(M)}};r.subselects={is:h,matches:h,where:h,not:function(v,C,b,x,w){var P=w(C,{xmlMode:!!b.xmlMode,adapter:b.adapter,equals:b.equals},x);return P===c.falseFunc?v:P===c.trueFunc?c.falseFunc:function(M){return!P(M)&&v(M)}},has:function(v,C,b,x,w){var P=b.adapter,M={xmlMode:!!b.xmlMode,adapter:P,equals:b.equals},y=C.some(function(j){return j.some(d.isTraversal)})?[r.PLACEHOLDER_ELEMENT]:void 0,A=w(C,M,y);if(A===c.falseFunc)return c.falseFunc;if(A===c.trueFunc)return function(j){return P.getChildren(j).some(P.isTag)&&v(j)};var k=p(A,P),N=A.shouldTestNextSiblings,V=N!==void 0&&N;return y?function(j){y[0]=j;var R=P.getChildren(j),H=V?s(s([],R,!0),f(j,P),!0):R;return v(j)&&P.existsOne(k,H)}:function(j){return v(j)&&P.existsOne(k,P.getChildren(j))}}}},7353:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=a(7763),c=a(7177),d={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function p(f){var h=c.procedure[f.type];if(f.type===s.SelectorType.Attribute)(h=d[f.action])===d.equals&&f.name==="id"&&(h=9),f.ignoreCase&&(h>>=1);else if(f.type===s.SelectorType.Pseudo)if(f.data)if(f.name==="has"||f.name==="contains")h=0;else if(Array.isArray(f.data)){h=0;for(var v=0;v<f.data.length;v++)if(f.data[v].length===1){var C=p(f.data[v][0]);if(C===0){h=0;break}C>h&&(h=C)}f.data.length>1&&h>0&&(h-=1)}else h=1;else h=3;return h}r.default=function(f){for(var h=f.map(p),v=1;v<f.length;v++){var C=h[v];if(!(C<0))for(var b=v-1;b>=0&&C<h[b];b--){var x=f[b+1];f[b+1]=f[b],f[b]=x,h[b+1]=h[b],h[b]=C}}}},7763:(n,r,a)=>{"use strict";var s;a.r(r),a.d(r,{AttributeAction:()=>d,IgnoreCaseMode:()=>c,SelectorType:()=>s,isTraversal:()=>C,parse:()=>y,stringify:()=>H}),function(E){E.Attribute="attribute",E.Pseudo="pseudo",E.PseudoElement="pseudo-element",E.Tag="tag",E.Universal="universal",E.Adjacent="adjacent",E.Child="child",E.Descendant="descendant",E.Parent="parent",E.Sibling="sibling",E.ColumnCombinator="column-combinator"}(s||(s={}));let c={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var d;(function(E){E.Any="any",E.Element="element",E.End="end",E.Equals="equals",E.Exists="exists",E.Hyphen="hyphen",E.Not="not",E.Start="start"})(d||(d={}));let p=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,f=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,h=new Map([[126,d.Element],[94,d.Start],[36,d.End],[42,d.Any],[33,d.Not],[124,d.Hyphen]]),v=new Set(["has","not","matches","is","where","host","host-context"]);function C(E){switch(E.type){case s.Adjacent:case s.Child:case s.Descendant:case s.Parent:case s.Sibling:case s.ColumnCombinator:return!0;default:return!1}}let b=new Set(["contains","icontains"]);function x(E,Z,te){let de=parseInt(Z,16)-65536;return de!=de||te?Z:de<0?String.fromCharCode(de+65536):String.fromCharCode(de>>10|55296,1023&de|56320)}function w(E){return E.replace(f,x)}function P(E){return E===39||E===34}function M(E){return E===32||E===9||E===10||E===12||E===13}function y(E){let Z=[],te=A(Z,`${E}`,0);if(te<E.length)throw new Error(`Unmatched selector: ${E.slice(te)}`);return Z}function A(E,Z,te){let de=[];function Fe(Ne){let ze=Z.slice(te+Ne).match(p);if(!ze)throw new Error(`Expected name, found ${Z.slice(te)}`);let[ke]=ze;return te+=Ne+ke.length,w(ke)}function Ge(Ne){for(te+=Ne;te<Z.length&&M(Z.charCodeAt(te));)te++}function we(){let Ne=te+=1,ze=1;for(;ze>0&&te<Z.length;te++)Z.charCodeAt(te)!==40||ge(te)?Z.charCodeAt(te)!==41||ge(te)||ze--:ze++;if(ze)throw new Error("Parenthesis not matched");return w(Z.slice(Ne,te-1))}function ge(Ne){let ze=0;for(;Z.charCodeAt(--Ne)===92;)ze++;return(1&ze)==1}function ne(){if(de.length>0&&C(de[de.length-1]))throw new Error("Did not expect successive traversals.")}function he(Ne){de.length>0&&de[de.length-1].type===s.Descendant?de[de.length-1].type=Ne:(ne(),de.push({type:Ne}))}function Oe(Ne,ze){de.push({type:s.Attribute,name:Ne,action:ze,value:Fe(1),namespace:null,ignoreCase:"quirks"})}function Te(){if(de.length&&de[de.length-1].type===s.Descendant&&de.pop(),de.length===0)throw new Error("Empty sub-selector");E.push(de)}if(Ge(0),Z.length===te)return te;e:for(;te<Z.length;){let Ne=Z.charCodeAt(te);switch(Ne){case 32:case 9:case 10:case 12:case 13:de.length!==0&&de[0].type===s.Descendant||(ne(),de.push({type:s.Descendant})),Ge(1);break;case 62:he(s.Child),Ge(1);break;case 60:he(s.Parent),Ge(1);break;case 126:he(s.Sibling),Ge(1);break;case 43:he(s.Adjacent),Ge(1);break;case 46:Oe("class",d.Element);break;case 35:Oe("id",d.Equals);break;case 91:{let ze;Ge(1);let ke=null;Z.charCodeAt(te)===124?ze=Fe(1):Z.startsWith("*|",te)?(ke="*",ze=Fe(2)):(ze=Fe(0),Z.charCodeAt(te)===124&&Z.charCodeAt(te+1)!==61&&(ke=ze,ze=Fe(1))),Ge(0);let oe=d.Exists,Ue=h.get(Z.charCodeAt(te));if(Ue){if(oe=Ue,Z.charCodeAt(te+1)!==61)throw new Error("Expected `=`");Ge(2)}else Z.charCodeAt(te)===61&&(oe=d.Equals,Ge(1));let ot="",_e=null;if(oe!=="exists"){if(P(Z.charCodeAt(te))){let at=Z.charCodeAt(te),U=te+1;for(;U<Z.length&&(Z.charCodeAt(U)!==at||ge(U));)U+=1;if(Z.charCodeAt(U)!==at)throw new Error("Attribute value didn't end");ot=w(Z.slice(te+1,U)),te=U+1}else{let at=te;for(;te<Z.length&&(!M(Z.charCodeAt(te))&&Z.charCodeAt(te)!==93||ge(te));)te+=1;ot=w(Z.slice(at,te))}Ge(0);let ut=32|Z.charCodeAt(te);ut===115?(_e=!1,Ge(1)):ut===105&&(_e=!0,Ge(1))}if(Z.charCodeAt(te)!==93)throw new Error("Attribute selector didn't terminate");te+=1;let Je={type:s.Attribute,name:ze,action:oe,value:ot,namespace:ke,ignoreCase:_e};de.push(Je);break}case 58:{if(Z.charCodeAt(te+1)===58){de.push({type:s.PseudoElement,name:Fe(2).toLowerCase(),data:Z.charCodeAt(te)===40?we():null});continue}let ze=Fe(1).toLowerCase(),ke=null;if(Z.charCodeAt(te)===40)if(v.has(ze)){if(P(Z.charCodeAt(te+1)))throw new Error(`Pseudo-selector ${ze} cannot be quoted`);if(ke=[],te=A(ke,Z,te+1),Z.charCodeAt(te)!==41)throw new Error(`Missing closing parenthesis in :${ze} (${Z})`);te+=1}else{if(ke=we(),b.has(ze)){let oe=ke.charCodeAt(0);oe===ke.charCodeAt(ke.length-1)&&P(oe)&&(ke=ke.slice(1,-1))}ke=w(ke)}de.push({type:s.Pseudo,name:ze,data:ke});break}case 44:Te(),de=[],Ge(1);break;default:{if(Z.startsWith("/*",te)){let oe=Z.indexOf("*/",te+2);if(oe<0)throw new Error("Comment was not terminated");te=oe+2,de.length===0&&Ge(0);break}let ze,ke=null;if(Ne===42)te+=1,ze="*";else if(Ne===124){if(ze="",Z.charCodeAt(te+1)===124){he(s.ColumnCombinator),Ge(2);break}}else{if(!p.test(Z.slice(te)))break e;ze=Fe(0)}Z.charCodeAt(te)===124&&Z.charCodeAt(te+1)!==124&&(ke=ze,Z.charCodeAt(te+1)===42?(ze="*",te+=2):ze=Fe(1)),de.push(ze==="*"?{type:s.Universal,namespace:ke}:{type:s.Tag,name:ze,namespace:ke})}}}return Te(),te}let k=["\\",'"'],N=[...k,"(",")"],V=new Set(k.map(E=>E.charCodeAt(0))),j=new Set(N.map(E=>E.charCodeAt(0))),R=new Set([...N,"~","^","$","*","+","!","|",":","[","]"," ","."].map(E=>E.charCodeAt(0)));function H(E){return E.map(Z=>Z.map(I).join("")).join(", ")}function I(E,Z,te){switch(E.type){case s.Child:return Z===0?"> ":" > ";case s.Parent:return Z===0?"< ":" < ";case s.Sibling:return Z===0?"~ ":" ~ ";case s.Adjacent:return Z===0?"+ ":" + ";case s.Descendant:return" ";case s.ColumnCombinator:return Z===0?"|| ":" || ";case s.Universal:return E.namespace==="*"&&Z+1<te.length&&"name"in te[Z+1]?"":`${K(E.namespace)}*`;case s.Tag:return G(E);case s.PseudoElement:return`::${J(E.name,R)}${E.data===null?"":`(${J(E.data,j)})`}`;case s.Pseudo:return`:${J(E.name,R)}${E.data===null?"":`(${typeof E.data=="string"?J(E.data,j):H(E.data)})`}`;case s.Attribute:{if(E.name==="id"&&E.action===d.Equals&&E.ignoreCase==="quirks"&&!E.namespace)return`#${J(E.value,R)}`;if(E.name==="class"&&E.action===d.Element&&E.ignoreCase==="quirks"&&!E.namespace)return`.${J(E.value,R)}`;let de=G(E);return E.action===d.Exists?`[${de}]`:`[${de}${function(Fe){switch(Fe){case d.Equals:return"";case d.Element:return"~";case d.Start:return"^";case d.End:return"$";case d.Any:return"*";case d.Not:return"!";case d.Hyphen:return"|";case d.Exists:throw new Error("Shouldn't be here")}}(E.action)}="${J(E.value,V)}"${E.ignoreCase===null?"":E.ignoreCase?" i":" s"}]`}}}function G(E){return`${K(E.namespace)}${J(E.name,R)}`}function K(E){return E!==null?`${E==="*"?"*":J(E,R)}|`:""}function J(E,Z){let te=0,de="";for(let Fe=0;Fe<E.length;Fe++)Z.has(E.charCodeAt(Fe))&&(de+=`${E.slice(te,Fe)}\\${E.charAt(Fe)}`,te=Fe+1);return de.length>0?de+E.slice(te):E}},7837:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.attributeNames=r.elementNames=void 0,r.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),r.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},7220:function(n,r,a){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(y){for(var A,k=1,N=arguments.length;k<N;k++)for(var V in A=arguments[k])Object.prototype.hasOwnProperty.call(A,V)&&(y[V]=A[V]);return y},s.apply(this,arguments)},c=this&&this.__createBinding||(Object.create?function(y,A,k,N){N===void 0&&(N=k),Object.defineProperty(y,N,{enumerable:!0,get:function(){return A[k]}})}:function(y,A,k,N){N===void 0&&(N=k),y[N]=A[k]}),d=this&&this.__setModuleDefault||(Object.create?function(y,A){Object.defineProperty(y,"default",{enumerable:!0,value:A})}:function(y,A){y.default=A}),p=this&&this.__importStar||function(y){if(y&&y.__esModule)return y;var A={};if(y!=null)for(var k in y)k!=="default"&&Object.prototype.hasOwnProperty.call(y,k)&&c(A,y,k);return d(A,y),A};Object.defineProperty(r,"__esModule",{value:!0});var f=p(a(9960)),h=a(5863),v=a(7837),C=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),b=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function x(y,A){A===void 0&&(A={});for(var k=("length"in y)?y:[y],N="",V=0;V<k.length;V++)N+=w(k[V],A);return N}function w(y,A){switch(y.type){case f.Root:return x(y.children,A);case f.Directive:case f.Doctype:return"<"+y.data+">";case f.Comment:return function(k){return"<!--"+k.data+"-->"}(y);case f.CDATA:return function(k){return"<![CDATA["+k.children[0].data+"]]>"}(y);case f.Script:case f.Style:case f.Tag:return function(k,N){var V;N.xmlMode==="foreign"&&(k.name=(V=v.elementNames.get(k.name))!==null&&V!==void 0?V:k.name,k.parent&&P.has(k.parent.name)&&(N=s(s({},N),{xmlMode:!1}))),!N.xmlMode&&M.has(k.name)&&(N=s(s({},N),{xmlMode:"foreign"}));var j="<"+k.name,R=function(H,I){if(H)return Object.keys(H).map(function(G){var K,J,E=(K=H[G])!==null&&K!==void 0?K:"";return I.xmlMode==="foreign"&&(G=(J=v.attributeNames.get(G))!==null&&J!==void 0?J:G),I.emptyAttrs||I.xmlMode||E!==""?G+'="'+(I.decodeEntities!==!1?h.encodeXML(E):E.replace(/"/g,"&quot;"))+'"':G}).join(" ")}(k.attribs,N);return R&&(j+=" "+R),k.children.length===0&&(N.xmlMode?N.selfClosingTags!==!1:N.selfClosingTags&&b.has(k.name))?(N.xmlMode||(j+=" "),j+="/>"):(j+=">",k.children.length>0&&(j+=x(k.children,N)),!N.xmlMode&&b.has(k.name)||(j+="</"+k.name+">")),j}(y,A);case f.Text:return function(k,N){var V=k.data||"";return N.decodeEntities===!1||!N.xmlMode&&k.parent&&C.has(k.parent.name)||(V=h.encodeXML(V)),V}(y,A)}}r.default=x;var P=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),M=new Set(["svg","math"])},9960:(n,r)=>{"use strict";var a;Object.defineProperty(r,"__esModule",{value:!0}),r.Doctype=r.CDATA=r.Tag=r.Style=r.Script=r.Comment=r.Directive=r.Text=r.Root=r.isTag=r.ElementType=void 0,function(s){s.Root="root",s.Text="text",s.Directive="directive",s.Comment="comment",s.Script="script",s.Style="style",s.Tag="tag",s.CDATA="cdata",s.Doctype="doctype"}(a=r.ElementType||(r.ElementType={})),r.isTag=function(s){return s.type===a.Tag||s.type===a.Script||s.type===a.Style},r.Root=a.Root,r.Text=a.Text,r.Directive=a.Directive,r.Comment=a.Comment,r.Script=a.Script,r.Style=a.Style,r.Tag=a.Tag,r.CDATA=a.CDATA,r.Doctype=a.Doctype},7915:function(n,r,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(C,b,x,w){w===void 0&&(w=x);var P=Object.getOwnPropertyDescriptor(b,x);P&&!("get"in P?!b.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return b[x]}}),Object.defineProperty(C,w,P)}:function(C,b,x,w){w===void 0&&(w=x),C[w]=b[x]}),c=this&&this.__exportStar||function(C,b){for(var x in C)x==="default"||Object.prototype.hasOwnProperty.call(b,x)||s(b,C,x)};Object.defineProperty(r,"__esModule",{value:!0}),r.DomHandler=void 0;var d=a(9960),p=a(7790);c(a(7790),r);var f=/\s+/g,h={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},v=function(){function C(b,x,w){this.dom=[],this.root=new p.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof x=="function"&&(w=x,x=h),typeof b=="object"&&(x=b,b=void 0),this.callback=b??null,this.options=x??h,this.elementCB=w??null}return C.prototype.onparserinit=function(b){this.parser=b},C.prototype.onreset=function(){this.dom=[],this.root=new p.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},C.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},C.prototype.onerror=function(b){this.handleCallback(b)},C.prototype.onclosetag=function(){this.lastNode=null;var b=this.tagStack.pop();this.options.withEndIndices&&(b.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(b)},C.prototype.onopentag=function(b,x){var w=this.options.xmlMode?d.ElementType.Tag:void 0,P=new p.Element(b,x,void 0,w);this.addNode(P),this.tagStack.push(P)},C.prototype.ontext=function(b){var x=this.options.normalizeWhitespace,w=this.lastNode;if(w&&w.type===d.ElementType.Text)x?w.data=(w.data+b).replace(f," "):w.data+=b,this.options.withEndIndices&&(w.endIndex=this.parser.endIndex);else{x&&(b=b.replace(f," "));var P=new p.Text(b);this.addNode(P),this.lastNode=P}},C.prototype.oncomment=function(b){if(this.lastNode&&this.lastNode.type===d.ElementType.Comment)this.lastNode.data+=b;else{var x=new p.Comment(b);this.addNode(x),this.lastNode=x}},C.prototype.oncommentend=function(){this.lastNode=null},C.prototype.oncdatastart=function(){var b=new p.Text(""),x=new p.NodeWithChildren(d.ElementType.CDATA,[b]);this.addNode(x),b.parent=x,this.lastNode=b},C.prototype.oncdataend=function(){this.lastNode=null},C.prototype.onprocessinginstruction=function(b,x){var w=new p.ProcessingInstruction(b,x);this.addNode(w)},C.prototype.handleCallback=function(b){if(typeof this.callback=="function")this.callback(b,this.dom);else if(b)throw b},C.prototype.addNode=function(b){var x=this.tagStack[this.tagStack.length-1],w=x.children[x.children.length-1];this.options.withStartIndices&&(b.startIndex=this.parser.startIndex),this.options.withEndIndices&&(b.endIndex=this.parser.endIndex),x.children.push(b),w&&(b.prev=w,w.next=b),b.parent=x,this.lastNode=null},C}();r.DomHandler=v,r.default=v},7790:function(n,r,a){"use strict";var s,c=this&&this.__extends||(s=function(I,G){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,J){K.__proto__=J}||function(K,J){for(var E in J)Object.prototype.hasOwnProperty.call(J,E)&&(K[E]=J[E])},s(I,G)},function(I,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function K(){this.constructor=I}s(I,G),I.prototype=G===null?Object.create(G):(K.prototype=G.prototype,new K)}),d=this&&this.__assign||function(){return d=Object.assign||function(I){for(var G,K=1,J=arguments.length;K<J;K++)for(var E in G=arguments[K])Object.prototype.hasOwnProperty.call(G,E)&&(I[E]=G[E]);return I},d.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.cloneNode=r.hasChildren=r.isDocument=r.isDirective=r.isComment=r.isText=r.isCDATA=r.isTag=r.Element=r.Document=r.NodeWithChildren=r.ProcessingInstruction=r.Comment=r.Text=r.DataNode=r.Node=void 0;var p=a(9960),f=new Map([[p.ElementType.Tag,1],[p.ElementType.Script,1],[p.ElementType.Style,1],[p.ElementType.Directive,1],[p.ElementType.Text,3],[p.ElementType.CDATA,4],[p.ElementType.Comment,8],[p.ElementType.Root,9]]),h=function(){function I(G){this.type=G,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(I.prototype,"nodeType",{get:function(){var G;return(G=f.get(this.type))!==null&&G!==void 0?G:1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"parentNode",{get:function(){return this.parent},set:function(G){this.parent=G},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"previousSibling",{get:function(){return this.prev},set:function(G){this.prev=G},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"nextSibling",{get:function(){return this.next},set:function(G){this.next=G},enumerable:!1,configurable:!0}),I.prototype.cloneNode=function(G){return G===void 0&&(G=!1),R(this,G)},I}();r.Node=h;var v=function(I){function G(K,J){var E=I.call(this,K)||this;return E.data=J,E}return c(G,I),Object.defineProperty(G.prototype,"nodeValue",{get:function(){return this.data},set:function(K){this.data=K},enumerable:!1,configurable:!0}),G}(h);r.DataNode=v;var C=function(I){function G(K){return I.call(this,p.ElementType.Text,K)||this}return c(G,I),G}(v);r.Text=C;var b=function(I){function G(K){return I.call(this,p.ElementType.Comment,K)||this}return c(G,I),G}(v);r.Comment=b;var x=function(I){function G(K,J){var E=I.call(this,p.ElementType.Directive,J)||this;return E.name=K,E}return c(G,I),G}(v);r.ProcessingInstruction=x;var w=function(I){function G(K,J){var E=I.call(this,K)||this;return E.children=J,E}return c(G,I),Object.defineProperty(G.prototype,"firstChild",{get:function(){var K;return(K=this.children[0])!==null&&K!==void 0?K:null},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"childNodes",{get:function(){return this.children},set:function(K){this.children=K},enumerable:!1,configurable:!0}),G}(h);r.NodeWithChildren=w;var P=function(I){function G(K){return I.call(this,p.ElementType.Root,K)||this}return c(G,I),G}(w);r.Document=P;var M=function(I){function G(K,J,E,Z){E===void 0&&(E=[]),Z===void 0&&(Z=K==="script"?p.ElementType.Script:K==="style"?p.ElementType.Style:p.ElementType.Tag);var te=I.call(this,Z,E)||this;return te.name=K,te.attribs=J,te}return c(G,I),Object.defineProperty(G.prototype,"tagName",{get:function(){return this.name},set:function(K){this.name=K},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"attributes",{get:function(){var K=this;return Object.keys(this.attribs).map(function(J){var E,Z;return{name:J,value:K.attribs[J],namespace:(E=K["x-attribsNamespace"])===null||E===void 0?void 0:E[J],prefix:(Z=K["x-attribsPrefix"])===null||Z===void 0?void 0:Z[J]}})},enumerable:!1,configurable:!0}),G}(w);function y(I){return(0,p.isTag)(I)}function A(I){return I.type===p.ElementType.CDATA}function k(I){return I.type===p.ElementType.Text}function N(I){return I.type===p.ElementType.Comment}function V(I){return I.type===p.ElementType.Directive}function j(I){return I.type===p.ElementType.Root}function R(I,G){var K;if(G===void 0&&(G=!1),k(I))K=new C(I.data);else if(N(I))K=new b(I.data);else if(y(I)){var J=G?H(I.children):[],E=new M(I.name,d({},I.attribs),J);J.forEach(function(Fe){return Fe.parent=E}),I.namespace!=null&&(E.namespace=I.namespace),I["x-attribsNamespace"]&&(E["x-attribsNamespace"]=d({},I["x-attribsNamespace"])),I["x-attribsPrefix"]&&(E["x-attribsPrefix"]=d({},I["x-attribsPrefix"])),K=E}else if(A(I)){J=G?H(I.children):[];var Z=new w(p.ElementType.CDATA,J);J.forEach(function(Fe){return Fe.parent=Z}),K=Z}else if(j(I)){J=G?H(I.children):[];var te=new P(J);J.forEach(function(Fe){return Fe.parent=te}),I["x-mode"]&&(te["x-mode"]=I["x-mode"]),K=te}else{if(!V(I))throw new Error("Not implemented yet: ".concat(I.type));var de=new x(I.name,I.data);I["x-name"]!=null&&(de["x-name"]=I["x-name"],de["x-publicId"]=I["x-publicId"],de["x-systemId"]=I["x-systemId"]),K=de}return K.startIndex=I.startIndex,K.endIndex=I.endIndex,I.sourceCodeLocation!=null&&(K.sourceCodeLocation=I.sourceCodeLocation),K}function H(I){for(var G=I.map(function(J){return R(J,!0)}),K=1;K<G.length;K++)G[K].prev=G[K-1],G[K-1].next=G[K];return G}r.Element=M,r.isTag=y,r.isCDATA=A,r.isText=k,r.isComment=N,r.isDirective=V,r.isDocument=j,r.hasChildren=function(I){return Object.prototype.hasOwnProperty.call(I,"children")},r.cloneNode=R},6996:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getFeed=void 0;var s=a(3346),c=a(3905);r.getFeed=function(x){var w=h(b,x);return w?w.name==="feed"?function(P){var M,y=P.children,A={type:"atom",items:(0,c.getElementsByTagName)("entry",y).map(function(V){var j,R=V.children,H={media:f(R)};C(H,"id","id",R),C(H,"title","title",R);var I=(j=h("link",R))===null||j===void 0?void 0:j.attribs.href;I&&(H.link=I);var G=v("summary",R)||v("content",R);G&&(H.description=G);var K=v("updated",R);return K&&(H.pubDate=new Date(K)),H})};C(A,"id","id",y),C(A,"title","title",y);var k=(M=h("link",y))===null||M===void 0?void 0:M.attribs.href;k&&(A.link=k),C(A,"description","subtitle",y);var N=v("updated",y);return N&&(A.updated=new Date(N)),C(A,"author","email",y,!0),A}(w):function(P){var M,y,A=(y=(M=h("channel",P.children))===null||M===void 0?void 0:M.children)!==null&&y!==void 0?y:[],k={type:P.name.substr(0,3),id:"",items:(0,c.getElementsByTagName)("item",P.children).map(function(V){var j=V.children,R={media:f(j)};C(R,"id","guid",j),C(R,"title","title",j),C(R,"link","link",j),C(R,"description","description",j);var H=v("pubDate",j);return H&&(R.pubDate=new Date(H)),R})};C(k,"title","title",A),C(k,"link","link",A),C(k,"description","description",A);var N=v("lastBuildDate",A);return N&&(k.updated=new Date(N)),C(k,"author","managingEditor",A,!0),k}(w):null};var d=["url","type","lang"],p=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function f(x){return(0,c.getElementsByTagName)("media:content",x).map(function(w){for(var P=w.attribs,M={medium:P.medium,isDefault:!!P.isDefault},y=0,A=d;y<A.length;y++)P[V=A[y]]&&(M[V]=P[V]);for(var k=0,N=p;k<N.length;k++){var V;P[V=N[k]]&&(M[V]=parseInt(P[V],10))}return P.expression&&(M.expression=P.expression),M})}function h(x,w){return(0,c.getElementsByTagName)(x,w,!0,1)[0]}function v(x,w,P){return P===void 0&&(P=!1),(0,s.textContent)((0,c.getElementsByTagName)(x,w,P,1)).trim()}function C(x,w,P,M,y){y===void 0&&(y=!1);var A=v(P,M,y);A&&(x[w]=A)}function b(x){return x==="rss"||x==="feed"||x==="rdf:RDF"}},4975:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.uniqueSort=r.compareDocumentPosition=r.removeSubsets=void 0;var s=a(7915);function c(d,p){var f=[],h=[];if(d===p)return 0;for(var v=(0,s.hasChildren)(d)?d:d.parent;v;)f.unshift(v),v=v.parent;for(v=(0,s.hasChildren)(p)?p:p.parent;v;)h.unshift(v),v=v.parent;for(var C=Math.min(f.length,h.length),b=0;b<C&&f[b]===h[b];)b++;if(b===0)return 1;var x=f[b-1],w=x.children,P=f[b],M=h[b];return w.indexOf(P)>w.indexOf(M)?x===p?20:4:x===d?10:2}r.removeSubsets=function(d){for(var p=d.length;--p>=0;){var f=d[p];if(p>0&&d.lastIndexOf(f,p-1)>=0)d.splice(p,1);else for(var h=f.parent;h;h=h.parent)if(d.includes(h)){d.splice(p,1);break}}return d},r.compareDocumentPosition=c,r.uniqueSort=function(d){return(d=d.filter(function(p,f,h){return!h.includes(p,f+1)})).sort(function(p,f){var h=c(p,f);return 2&h?-1:4&h?1:0}),d}},9432:function(n,r,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(p,f,h,v){v===void 0&&(v=h),Object.defineProperty(p,v,{enumerable:!0,get:function(){return f[h]}})}:function(p,f,h,v){v===void 0&&(v=h),p[v]=f[h]}),c=this&&this.__exportStar||function(p,f){for(var h in p)h==="default"||Object.prototype.hasOwnProperty.call(f,h)||s(f,p,h)};Object.defineProperty(r,"__esModule",{value:!0}),r.hasChildren=r.isDocument=r.isComment=r.isText=r.isCDATA=r.isTag=void 0,c(a(3346),r),c(a(5010),r),c(a(6765),r),c(a(8043),r),c(a(3905),r),c(a(4975),r),c(a(6996),r);var d=a(7915);Object.defineProperty(r,"isTag",{enumerable:!0,get:function(){return d.isTag}}),Object.defineProperty(r,"isCDATA",{enumerable:!0,get:function(){return d.isCDATA}}),Object.defineProperty(r,"isText",{enumerable:!0,get:function(){return d.isText}}),Object.defineProperty(r,"isComment",{enumerable:!0,get:function(){return d.isComment}}),Object.defineProperty(r,"isDocument",{enumerable:!0,get:function(){return d.isDocument}}),Object.defineProperty(r,"hasChildren",{enumerable:!0,get:function(){return d.hasChildren}})},3905:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getElementsByTagType=r.getElementsByTagName=r.getElementById=r.getElements=r.testElement=void 0;var s=a(7915),c=a(8043),d={tag_name:function(v){return typeof v=="function"?function(C){return(0,s.isTag)(C)&&v(C.name)}:v==="*"?s.isTag:function(C){return(0,s.isTag)(C)&&C.name===v}},tag_type:function(v){return typeof v=="function"?function(C){return v(C.type)}:function(C){return C.type===v}},tag_contains:function(v){return typeof v=="function"?function(C){return(0,s.isText)(C)&&v(C.data)}:function(C){return(0,s.isText)(C)&&C.data===v}}};function p(v,C){return typeof C=="function"?function(b){return(0,s.isTag)(b)&&C(b.attribs[v])}:function(b){return(0,s.isTag)(b)&&b.attribs[v]===C}}function f(v,C){return function(b){return v(b)||C(b)}}function h(v){var C=Object.keys(v).map(function(b){var x=v[b];return Object.prototype.hasOwnProperty.call(d,b)?d[b](x):p(b,x)});return C.length===0?null:C.reduce(f)}r.testElement=function(v,C){var b=h(v);return!b||b(C)},r.getElements=function(v,C,b,x){x===void 0&&(x=1/0);var w=h(v);return w?(0,c.filter)(w,C,b,x):[]},r.getElementById=function(v,C,b){return b===void 0&&(b=!0),Array.isArray(C)||(C=[C]),(0,c.findOne)(p("id",v),C,b)},r.getElementsByTagName=function(v,C,b,x){return b===void 0&&(b=!0),x===void 0&&(x=1/0),(0,c.filter)(d.tag_name(v),C,b,x)},r.getElementsByTagType=function(v,C,b,x){return b===void 0&&(b=!0),x===void 0&&(x=1/0),(0,c.filter)(d.tag_type(v),C,b,x)}},6765:(n,r)=>{"use strict";function a(s){if(s.prev&&(s.prev.next=s.next),s.next&&(s.next.prev=s.prev),s.parent){var c=s.parent.children;c.splice(c.lastIndexOf(s),1)}}Object.defineProperty(r,"__esModule",{value:!0}),r.prepend=r.prependChild=r.append=r.appendChild=r.replaceElement=r.removeElement=void 0,r.removeElement=a,r.replaceElement=function(s,c){var d=c.prev=s.prev;d&&(d.next=c);var p=c.next=s.next;p&&(p.prev=c);var f=c.parent=s.parent;if(f){var h=f.children;h[h.lastIndexOf(s)]=c}},r.appendChild=function(s,c){if(a(c),c.next=null,c.parent=s,s.children.push(c)>1){var d=s.children[s.children.length-2];d.next=c,c.prev=d}else c.prev=null},r.append=function(s,c){a(c);var d=s.parent,p=s.next;if(c.next=p,c.prev=s,s.next=c,c.parent=d,p){if(p.prev=c,d){var f=d.children;f.splice(f.lastIndexOf(p),0,c)}}else d&&d.children.push(c)},r.prependChild=function(s,c){if(a(c),c.parent=s,c.prev=null,s.children.unshift(c)!==1){var d=s.children[1];d.prev=c,c.next=d}else c.next=null},r.prepend=function(s,c){a(c);var d=s.parent;if(d){var p=d.children;p.splice(p.indexOf(s),0,c)}s.prev&&(s.prev.next=c),c.parent=d,c.prev=s.prev,c.next=s,s.prev=c}},8043:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.findAll=r.existsOne=r.findOne=r.findOneChild=r.find=r.filter=void 0;var s=a(7915);function c(d,p,f,h){for(var v=[],C=0,b=p;C<b.length;C++){var x=b[C];if(d(x)&&(v.push(x),--h<=0))break;if(f&&(0,s.hasChildren)(x)&&x.children.length>0){var w=c(d,x.children,f,h);if(v.push.apply(v,w),(h-=w.length)<=0)break}}return v}r.filter=function(d,p,f,h){return f===void 0&&(f=!0),h===void 0&&(h=1/0),Array.isArray(p)||(p=[p]),c(d,p,f,h)},r.find=c,r.findOneChild=function(d,p){return p.find(d)},r.findOne=function d(p,f,h){h===void 0&&(h=!0);for(var v=null,C=0;C<f.length&&!v;C++){var b=f[C];(0,s.isTag)(b)&&(p(b)?v=b:h&&b.children.length>0&&(v=d(p,b.children)))}return v},r.existsOne=function d(p,f){return f.some(function(h){return(0,s.isTag)(h)&&(p(h)||h.children.length>0&&d(p,h.children))})},r.findAll=function(d,p){for(var f,h,v=[],C=p.filter(s.isTag);h=C.shift();){var b=(f=h.children)===null||f===void 0?void 0:f.filter(s.isTag);b&&b.length>0&&C.unshift.apply(C,b),d(h)&&v.push(h)}return v}},3346:function(n,r,a){"use strict";var s=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(r,"__esModule",{value:!0}),r.innerText=r.textContent=r.getText=r.getInnerHTML=r.getOuterHTML=void 0;var c=a(7915),d=s(a(7220)),p=a(9960);function f(h,v){return(0,d.default)(h,v)}r.getOuterHTML=f,r.getInnerHTML=function(h,v){return(0,c.hasChildren)(h)?h.children.map(function(C){return f(C,v)}).join(""):""},r.getText=function h(v){return Array.isArray(v)?v.map(h).join(""):(0,c.isTag)(v)?v.name==="br"?`
`:h(v.children):(0,c.isCDATA)(v)?h(v.children):(0,c.isText)(v)?v.data:""},r.textContent=function h(v){return Array.isArray(v)?v.map(h).join(""):(0,c.hasChildren)(v)&&!(0,c.isComment)(v)?h(v.children):(0,c.isText)(v)?v.data:""},r.innerText=function h(v){return Array.isArray(v)?v.map(h).join(""):(0,c.hasChildren)(v)&&(v.type===p.ElementType.Tag||(0,c.isCDATA)(v))?h(v.children):(0,c.isText)(v)?v.data:""}},5010:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prevElementSibling=r.nextElementSibling=r.getName=r.hasAttrib=r.getAttributeValue=r.getSiblings=r.getParent=r.getChildren=void 0;var s=a(7915),c=[];function d(f){var h;return(h=f.children)!==null&&h!==void 0?h:c}function p(f){return f.parent||null}r.getChildren=d,r.getParent=p,r.getSiblings=function(f){var h=p(f);if(h!=null)return d(h);for(var v=[f],C=f.prev,b=f.next;C!=null;)v.unshift(C),C=C.prev;for(;b!=null;)v.push(b),b=b.next;return v},r.getAttributeValue=function(f,h){var v;return(v=f.attribs)===null||v===void 0?void 0:v[h]},r.hasAttrib=function(f,h){return f.attribs!=null&&Object.prototype.hasOwnProperty.call(f.attribs,h)&&f.attribs[h]!=null},r.getName=function(f){return f.name},r.nextElementSibling=function(f){for(var h=f.next;h!==null&&!(0,s.isTag)(h);)h=h.next;return h},r.prevElementSibling=function(f){for(var h=f.prev;h!==null&&!(0,s.isTag)(h);)h=h.prev;return h}},4076:function(n,r,a){"use strict";var s=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(r,"__esModule",{value:!0}),r.decodeHTML=r.decodeHTMLStrict=r.decodeXML=void 0;var c=s(a(9323)),d=s(a(9591)),p=s(a(2586)),f=s(a(26)),h=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function v(x){var w=b(x);return function(P){return String(P).replace(h,w)}}r.decodeXML=v(p.default),r.decodeHTMLStrict=v(c.default);var C=function(x,w){return x<w?1:-1};function b(x){return function(w){if(w.charAt(1)==="#"){var P=w.charAt(2);return P==="X"||P==="x"?f.default(parseInt(w.substr(3),16)):f.default(parseInt(w.substr(2),10))}return x[w.slice(1,-1)]||w}}r.decodeHTML=function(){for(var x=Object.keys(d.default).sort(C),w=Object.keys(c.default).sort(C),P=0,M=0;P<w.length;P++)x[M]===w[P]?(w[P]+=";?",M++):w[P]+=";";var y=new RegExp("&(?:"+w.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),A=b(c.default);function k(N){return N.substr(-1)!==";"&&(N+=";"),A(N)}return function(N){return String(N).replace(y,k)}}()},26:function(n,r,a){"use strict";var s=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(r,"__esModule",{value:!0});var c=s(a(3600)),d=String.fromCodePoint||function(p){var f="";return p>65535&&(p-=65536,f+=String.fromCharCode(p>>>10&1023|55296),p=56320|1023&p),f+=String.fromCharCode(p)};r.default=function(p){return p>=55296&&p<=57343||p>1114111?"\uFFFD":(p in c.default&&(p=c.default[p]),d(p))}},7322:function(n,r,a){"use strict";var s=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(r,"__esModule",{value:!0}),r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=void 0;var c=C(s(a(2586)).default),d=b(c);r.encodeXML=y(c);var p,f,h=C(s(a(9323)).default),v=b(h);function C(A){return Object.keys(A).sort().reduce(function(k,N){return k[A[N]]="&"+N+";",k},{})}function b(A){for(var k=[],N=[],V=0,j=Object.keys(A);V<j.length;V++){var R=j[V];R.length===1?k.push("\\"+R):N.push(R)}k.sort();for(var H=0;H<k.length-1;H++){for(var I=H;I<k.length-1&&k[I].charCodeAt(1)+1===k[I+1].charCodeAt(1);)I+=1;var G=1+I-H;G<3||k.splice(H,G,k[H]+"-"+k[I])}return N.unshift("["+k.join("")+"]"),new RegExp(N.join("|"),"g")}r.encodeHTML=(p=h,f=v,function(A){return A.replace(f,function(k){return p[k]}).replace(x,P)}),r.encodeNonAsciiHTML=y(h);var x=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,w=String.prototype.codePointAt!=null?function(A){return A.codePointAt(0)}:function(A){return 1024*(A.charCodeAt(0)-55296)+A.charCodeAt(1)-56320+65536};function P(A){return"&#x"+(A.length>1?w(A):A.charCodeAt(0)).toString(16).toUpperCase()+";"}var M=new RegExp(d.source+"|"+x.source,"g");function y(A){return function(k){return k.replace(M,function(N){return A[N]||P(N)})}}r.escape=function(A){return A.replace(M,P)},r.escapeUTF8=function(A){return A.replace(d,P)}},5863:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decodeXMLStrict=r.decodeHTML5Strict=r.decodeHTML4Strict=r.decodeHTML5=r.decodeHTML4=r.decodeHTMLStrict=r.decodeHTML=r.decodeXML=r.encodeHTML5=r.encodeHTML4=r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=r.encode=r.decodeStrict=r.decode=void 0;var s=a(4076),c=a(7322);r.decode=function(f,h){return(!h||h<=0?s.decodeXML:s.decodeHTML)(f)},r.decodeStrict=function(f,h){return(!h||h<=0?s.decodeXML:s.decodeHTMLStrict)(f)},r.encode=function(f,h){return(!h||h<=0?c.encodeXML:c.encodeHTML)(f)};var d=a(7322);Object.defineProperty(r,"encodeXML",{enumerable:!0,get:function(){return d.encodeXML}}),Object.defineProperty(r,"encodeHTML",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(r,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return d.encodeNonAsciiHTML}}),Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return d.escape}}),Object.defineProperty(r,"escapeUTF8",{enumerable:!0,get:function(){return d.escapeUTF8}}),Object.defineProperty(r,"encodeHTML4",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(r,"encodeHTML5",{enumerable:!0,get:function(){return d.encodeHTML}});var p=a(4076);Object.defineProperty(r,"decodeXML",{enumerable:!0,get:function(){return p.decodeXML}}),Object.defineProperty(r,"decodeHTML",{enumerable:!0,get:function(){return p.decodeHTML}}),Object.defineProperty(r,"decodeHTMLStrict",{enumerable:!0,get:function(){return p.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML4",{enumerable:!0,get:function(){return p.decodeHTML}}),Object.defineProperty(r,"decodeHTML5",{enumerable:!0,get:function(){return p.decodeHTML}}),Object.defineProperty(r,"decodeHTML4Strict",{enumerable:!0,get:function(){return p.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML5Strict",{enumerable:!0,get:function(){return p.decodeHTMLStrict}}),Object.defineProperty(r,"decodeXMLStrict",{enumerable:!0,get:function(){return p.decodeXML}})},3870:function(n,r,a){"use strict";var s,c=this&&this.__extends||(s=function(R,H){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,G){I.__proto__=G}||function(I,G){for(var K in G)Object.prototype.hasOwnProperty.call(G,K)&&(I[K]=G[K])},s(R,H)},function(R,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function I(){this.constructor=R}s(R,H),R.prototype=H===null?Object.create(H):(I.prototype=H.prototype,new I)}),d=this&&this.__createBinding||(Object.create?function(R,H,I,G){G===void 0&&(G=I),Object.defineProperty(R,G,{enumerable:!0,get:function(){return H[I]}})}:function(R,H,I,G){G===void 0&&(G=I),R[G]=H[I]}),p=this&&this.__setModuleDefault||(Object.create?function(R,H){Object.defineProperty(R,"default",{enumerable:!0,value:H})}:function(R,H){R.default=H}),f=this&&this.__importStar||function(R){if(R&&R.__esModule)return R;var H={};if(R!=null)for(var I in R)I!=="default"&&Object.prototype.hasOwnProperty.call(R,I)&&d(H,R,I);return p(H,R),H},h=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(r,"__esModule",{value:!0}),r.parseFeed=r.FeedHandler=void 0;var v,C,b=h(a(7915)),x=f(a(9432)),w=a(763);(function(R){R[R.image=0]="image",R[R.audio=1]="audio",R[R.video=2]="video",R[R.document=3]="document",R[R.executable=4]="executable"})(v||(v={})),function(R){R[R.sample=0]="sample",R[R.full=1]="full",R[R.nonstop=2]="nonstop"}(C||(C={}));var P=function(R){function H(I,G){return typeof I=="object"&&(G=I=void 0),R.call(this,I,G)||this}return c(H,R),H.prototype.onend=function(){var I,G,K=A(j,this.dom);if(K){var J={};if(K.name==="feed"){var E=K.children;J.type="atom",V(J,"id","id",E),V(J,"title","title",E);var Z=N("href",A("link",E));Z&&(J.link=Z),V(J,"description","subtitle",E),(te=k("updated",E))&&(J.updated=new Date(te)),V(J,"author","email",E,!0),J.items=y("entry",E).map(function(de){var Fe={},Ge=de.children;V(Fe,"id","id",Ge),V(Fe,"title","title",Ge);var we=N("href",A("link",Ge));we&&(Fe.link=we);var ge=k("summary",Ge)||k("content",Ge);ge&&(Fe.description=ge);var ne=k("updated",Ge);return ne&&(Fe.pubDate=new Date(ne)),Fe.media=M(Ge),Fe})}else{var te;E=(G=(I=A("channel",K.children))===null||I===void 0?void 0:I.children)!==null&&G!==void 0?G:[],J.type=K.name.substr(0,3),J.id="",V(J,"title","title",E),V(J,"link","link",E),V(J,"description","description",E),(te=k("lastBuildDate",E))&&(J.updated=new Date(te)),V(J,"author","managingEditor",E,!0),J.items=y("item",K.children).map(function(de){var Fe={},Ge=de.children;V(Fe,"id","guid",Ge),V(Fe,"title","title",Ge),V(Fe,"link","link",Ge),V(Fe,"description","description",Ge);var we=k("pubDate",Ge);return we&&(Fe.pubDate=new Date(we)),Fe.media=M(Ge),Fe})}this.feed=J,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},H}(b.default);function M(R){return y("media:content",R).map(function(H){var I={medium:H.attribs.medium,isDefault:!!H.attribs.isDefault};return H.attribs.url&&(I.url=H.attribs.url),H.attribs.fileSize&&(I.fileSize=parseInt(H.attribs.fileSize,10)),H.attribs.type&&(I.type=H.attribs.type),H.attribs.expression&&(I.expression=H.attribs.expression),H.attribs.bitrate&&(I.bitrate=parseInt(H.attribs.bitrate,10)),H.attribs.framerate&&(I.framerate=parseInt(H.attribs.framerate,10)),H.attribs.samplingrate&&(I.samplingrate=parseInt(H.attribs.samplingrate,10)),H.attribs.channels&&(I.channels=parseInt(H.attribs.channels,10)),H.attribs.duration&&(I.duration=parseInt(H.attribs.duration,10)),H.attribs.height&&(I.height=parseInt(H.attribs.height,10)),H.attribs.width&&(I.width=parseInt(H.attribs.width,10)),H.attribs.lang&&(I.lang=H.attribs.lang),I})}function y(R,H){return x.getElementsByTagName(R,H,!0)}function A(R,H){return x.getElementsByTagName(R,H,!0,1)[0]}function k(R,H,I){return I===void 0&&(I=!1),x.getText(x.getElementsByTagName(R,H,I,1)).trim()}function N(R,H){return H?H.attribs[R]:null}function V(R,H,I,G,K){K===void 0&&(K=!1);var J=k(I,G,K);J&&(R[H]=J)}function j(R){return R==="rss"||R==="feed"||R==="rdf:RDF"}r.FeedHandler=P,r.parseFeed=function(R,H){H===void 0&&(H={xmlMode:!0});var I=new P(H);return new w.Parser(I,H).end(R),I.feed}},763:function(n,r,a){"use strict";var s=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(r,"__esModule",{value:!0}),r.Parser=void 0;var c=s(a(9889)),d=new Set(["input","option","optgroup","select","button","datalist","textarea"]),p=new Set(["p"]),f={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p,h1:p,h2:p,h3:p,h4:p,h5:p,h6:p,select:d,input:d,output:d,button:d,datalist:d,textarea:d,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:p,article:p,aside:p,blockquote:p,details:p,div:p,dl:p,fieldset:p,figcaption:p,figure:p,footer:p,form:p,header:p,hr:p,main:p,nav:p,ol:p,pre:p,section:p,table:p,ul:p,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},h=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),v=new Set(["math","svg"]),C=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),b=/\s|\//,x=function(){function w(P,M){var y,A,k,N,V;M===void 0&&(M={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=M,this.cbs=P??{},this.lowerCaseTagNames=(y=M.lowerCaseTags)!==null&&y!==void 0?y:!M.xmlMode,this.lowerCaseAttributeNames=(A=M.lowerCaseAttributeNames)!==null&&A!==void 0?A:!M.xmlMode,this.tokenizer=new((k=M.Tokenizer)!==null&&k!==void 0?k:c.default)(this.options,this),(V=(N=this.cbs).onparserinit)===null||V===void 0||V.call(N,this)}return w.prototype.updatePosition=function(P){this.endIndex===null?this.tokenizer.sectionStart<=P?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-P:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},w.prototype.ontext=function(P){var M,y;this.updatePosition(1),this.endIndex--,(y=(M=this.cbs).ontext)===null||y===void 0||y.call(M,P)},w.prototype.onopentagname=function(P){var M,y;if(this.lowerCaseTagNames&&(P=P.toLowerCase()),this.tagname=P,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(f,P))for(var A=void 0;this.stack.length>0&&f[P].has(A=this.stack[this.stack.length-1]);)this.onclosetag(A);!this.options.xmlMode&&h.has(P)||(this.stack.push(P),v.has(P)?this.foreignContext.push(!0):C.has(P)&&this.foreignContext.push(!1)),(y=(M=this.cbs).onopentagname)===null||y===void 0||y.call(M,P),this.cbs.onopentag&&(this.attribs={})},w.prototype.onopentagend=function(){var P,M;this.updatePosition(1),this.attribs&&((M=(P=this.cbs).onopentag)===null||M===void 0||M.call(P,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&h.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},w.prototype.onclosetag=function(P){if(this.updatePosition(1),this.lowerCaseTagNames&&(P=P.toLowerCase()),(v.has(P)||C.has(P))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&h.has(P))this.options.xmlMode||P!=="br"&&P!=="p"||(this.onopentagname(P),this.closeCurrentTag());else{var M=this.stack.lastIndexOf(P);if(M!==-1)if(this.cbs.onclosetag)for(M=this.stack.length-M;M--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=M;else P!=="p"||this.options.xmlMode||(this.onopentagname(P),this.closeCurrentTag())}},w.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},w.prototype.closeCurrentTag=function(){var P,M,y=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===y&&((M=(P=this.cbs).onclosetag)===null||M===void 0||M.call(P,y),this.stack.pop())},w.prototype.onattribname=function(P){this.lowerCaseAttributeNames&&(P=P.toLowerCase()),this.attribname=P},w.prototype.onattribdata=function(P){this.attribvalue+=P},w.prototype.onattribend=function(P){var M,y;(y=(M=this.cbs).onattribute)===null||y===void 0||y.call(M,this.attribname,this.attribvalue,P),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},w.prototype.getInstructionName=function(P){var M=P.search(b),y=M<0?P:P.substr(0,M);return this.lowerCaseTagNames&&(y=y.toLowerCase()),y},w.prototype.ondeclaration=function(P){if(this.cbs.onprocessinginstruction){var M=this.getInstructionName(P);this.cbs.onprocessinginstruction("!"+M,"!"+P)}},w.prototype.onprocessinginstruction=function(P){if(this.cbs.onprocessinginstruction){var M=this.getInstructionName(P);this.cbs.onprocessinginstruction("?"+M,"?"+P)}},w.prototype.oncomment=function(P){var M,y,A,k;this.updatePosition(4),(y=(M=this.cbs).oncomment)===null||y===void 0||y.call(M,P),(k=(A=this.cbs).oncommentend)===null||k===void 0||k.call(A)},w.prototype.oncdata=function(P){var M,y,A,k,N,V;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?((y=(M=this.cbs).oncdatastart)===null||y===void 0||y.call(M),(k=(A=this.cbs).ontext)===null||k===void 0||k.call(A,P),(V=(N=this.cbs).oncdataend)===null||V===void 0||V.call(N)):this.oncomment("[CDATA["+P+"]]")},w.prototype.onerror=function(P){var M,y;(y=(M=this.cbs).onerror)===null||y===void 0||y.call(M,P)},w.prototype.onend=function(){var P,M;if(this.cbs.onclosetag)for(var y=this.stack.length;y>0;this.cbs.onclosetag(this.stack[--y]));(M=(P=this.cbs).onend)===null||M===void 0||M.call(P)},w.prototype.reset=function(){var P,M,y,A;(M=(P=this.cbs).onreset)===null||M===void 0||M.call(P),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],(A=(y=this.cbs).onparserinit)===null||A===void 0||A.call(y,this)},w.prototype.parseComplete=function(P){this.reset(),this.end(P)},w.prototype.write=function(P){this.tokenizer.write(P)},w.prototype.end=function(P){this.tokenizer.end(P)},w.prototype.pause=function(){this.tokenizer.pause()},w.prototype.resume=function(){this.tokenizer.resume()},w.prototype.parseChunk=function(P){this.write(P)},w.prototype.done=function(P){this.end(P)},w}();r.Parser=x},9889:function(n,r,a){"use strict";var s=this&&this.__importDefault||function(ke){return ke&&ke.__esModule?ke:{default:ke}};Object.defineProperty(r,"__esModule",{value:!0});var c=s(a(26)),d=s(a(9323)),p=s(a(9591)),f=s(a(2586));function h(ke){return ke===" "||ke===`
`||ke==="	"||ke==="\f"||ke==="\r"}function v(ke){return ke>="a"&&ke<="z"||ke>="A"&&ke<="Z"}function C(ke,oe,Ue){var ot=ke.toLowerCase();return ke===ot?function(_e,Je){Je===ot?_e._state=oe:(_e._state=Ue,_e._index--)}:function(_e,Je){Je===ot||Je===ke?_e._state=oe:(_e._state=Ue,_e._index--)}}function b(ke,oe){var Ue=ke.toLowerCase();return function(ot,_e){_e===Ue||_e===ke?ot._state=oe:(ot._state=3,ot._index--)}}var x=C("C",24,16),w=C("D",25,16),P=C("A",26,16),M=C("T",27,16),y=C("A",28,16),A=b("R",35),k=b("I",36),N=b("P",37),V=b("T",38),j=C("R",40,1),R=C("I",41,1),H=C("P",42,1),I=C("T",43,1),G=b("Y",45),K=b("L",46),J=b("E",47),E=C("Y",49,1),Z=C("L",50,1),te=C("E",51,1),de=b("I",54),Fe=b("T",55),Ge=b("L",56),we=b("E",57),ge=C("I",58,1),ne=C("T",59,1),he=C("L",60,1),Oe=C("E",61,1),Te=C("#",63,64),Ne=C("X",66,65),ze=function(){function ke(oe,Ue){var ot;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=Ue,this.xmlMode=!!oe?.xmlMode,this.decodeEntities=(ot=oe?.decodeEntities)===null||ot===void 0||ot}return ke.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},ke.prototype.write=function(oe){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=oe,this.parse()},ke.prototype.end=function(oe){this.ended&&this.cbs.onerror(Error(".end() after done!")),oe&&this.write(oe),this.ended=!0,this.running&&this.finish()},ke.prototype.pause=function(){this.running=!1},ke.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},ke.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},ke.prototype.stateText=function(oe){oe==="<"?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||oe!=="&"||this.special!==1&&this.special!==4||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},ke.prototype.isTagStartChar=function(oe){return v(oe)||this.xmlMode&&!h(oe)&&oe!=="/"&&oe!==">"},ke.prototype.stateBeforeTagName=function(oe){oe==="/"?this._state=5:oe==="<"?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):oe===">"||this.special!==1||h(oe)?this._state=1:oe==="!"?(this._state=15,this.sectionStart=this._index+1):oe==="?"?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(oe)?(this._state=this.xmlMode||oe!=="s"&&oe!=="S"?this.xmlMode||oe!=="t"&&oe!=="T"?3:52:32,this.sectionStart=this._index):this._state=1},ke.prototype.stateInTagName=function(oe){(oe==="/"||oe===">"||h(oe))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},ke.prototype.stateBeforeClosingTagName=function(oe){h(oe)||(oe===">"?this._state=1:this.special!==1?this.special===4||oe!=="s"&&oe!=="S"?this.special!==4||oe!=="t"&&oe!=="T"?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(oe)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},ke.prototype.stateInClosingTagName=function(oe){(oe===">"||h(oe))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},ke.prototype.stateAfterClosingTagName=function(oe){oe===">"&&(this._state=1,this.sectionStart=this._index+1)},ke.prototype.stateBeforeAttributeName=function(oe){oe===">"?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):oe==="/"?this._state=4:h(oe)||(this._state=9,this.sectionStart=this._index)},ke.prototype.stateInSelfClosingTag=function(oe){oe===">"?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):h(oe)||(this._state=8,this._index--)},ke.prototype.stateInAttributeName=function(oe){(oe==="="||oe==="/"||oe===">"||h(oe))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},ke.prototype.stateAfterAttributeName=function(oe){oe==="="?this._state=11:oe==="/"||oe===">"?(this.cbs.onattribend(void 0),this._state=8,this._index--):h(oe)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},ke.prototype.stateBeforeAttributeValue=function(oe){oe==='"'?(this._state=12,this.sectionStart=this._index+1):oe==="'"?(this._state=13,this.sectionStart=this._index+1):h(oe)||(this._state=14,this.sectionStart=this._index,this._index--)},ke.prototype.handleInAttributeValue=function(oe,Ue){oe===Ue?(this.emitToken("onattribdata"),this.cbs.onattribend(Ue),this._state=8):this.decodeEntities&&oe==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},ke.prototype.stateInAttributeValueDoubleQuotes=function(oe){this.handleInAttributeValue(oe,'"')},ke.prototype.stateInAttributeValueSingleQuotes=function(oe){this.handleInAttributeValue(oe,"'")},ke.prototype.stateInAttributeValueNoQuotes=function(oe){h(oe)||oe===">"?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&oe==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},ke.prototype.stateBeforeDeclaration=function(oe){this._state=oe==="["?23:oe==="-"?18:16},ke.prototype.stateInDeclaration=function(oe){oe===">"&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},ke.prototype.stateInProcessingInstruction=function(oe){oe===">"&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},ke.prototype.stateBeforeComment=function(oe){oe==="-"?(this._state=19,this.sectionStart=this._index+1):this._state=16},ke.prototype.stateInComment=function(oe){oe==="-"&&(this._state=21)},ke.prototype.stateInSpecialComment=function(oe){oe===">"&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},ke.prototype.stateAfterComment1=function(oe){this._state=oe==="-"?22:19},ke.prototype.stateAfterComment2=function(oe){oe===">"?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):oe!=="-"&&(this._state=19)},ke.prototype.stateBeforeCdata6=function(oe){oe==="["?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},ke.prototype.stateInCdata=function(oe){oe==="]"&&(this._state=30)},ke.prototype.stateAfterCdata1=function(oe){this._state=oe==="]"?31:29},ke.prototype.stateAfterCdata2=function(oe){oe===">"?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):oe!=="]"&&(this._state=29)},ke.prototype.stateBeforeSpecialS=function(oe){oe==="c"||oe==="C"?this._state=34:oe==="t"||oe==="T"?this._state=44:(this._state=3,this._index--)},ke.prototype.stateBeforeSpecialSEnd=function(oe){this.special!==2||oe!=="c"&&oe!=="C"?this.special!==3||oe!=="t"&&oe!=="T"?this._state=1:this._state=48:this._state=39},ke.prototype.stateBeforeSpecialLast=function(oe,Ue){(oe==="/"||oe===">"||h(oe))&&(this.special=Ue),this._state=3,this._index--},ke.prototype.stateAfterSpecialLast=function(oe,Ue){oe===">"||h(oe)?(this.special=1,this._state=6,this.sectionStart=this._index-Ue,this._index--):this._state=1},ke.prototype.parseFixedEntity=function(oe){if(oe===void 0&&(oe=this.xmlMode?f.default:d.default),this.sectionStart+1<this._index){var Ue=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(oe,Ue)&&(this.emitPartial(oe[Ue]),this.sectionStart=this._index+1)}},ke.prototype.parseLegacyEntity=function(){for(var oe=this.sectionStart+1,Ue=Math.min(this._index-oe,6);Ue>=2;){var ot=this.buffer.substr(oe,Ue);if(Object.prototype.hasOwnProperty.call(p.default,ot))return this.emitPartial(p.default[ot]),void(this.sectionStart+=Ue+1);Ue--}},ke.prototype.stateInNamedEntity=function(oe){oe===";"?(this.parseFixedEntity(),this.baseState===1&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(oe<"0"||oe>"9")&&!v(oe)&&(this.xmlMode||this.sectionStart+1===this._index||(this.baseState!==1?oe!=="="&&this.parseFixedEntity(p.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},ke.prototype.decodeNumericEntity=function(oe,Ue,ot){var _e=this.sectionStart+oe;if(_e!==this._index){var Je=this.buffer.substring(_e,this._index),ut=parseInt(Je,Ue);this.emitPartial(c.default(ut)),this.sectionStart=ot?this._index+1:this._index}this._state=this.baseState},ke.prototype.stateInNumericEntity=function(oe){oe===";"?this.decodeNumericEntity(2,10,!0):(oe<"0"||oe>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},ke.prototype.stateInHexEntity=function(oe){oe===";"?this.decodeNumericEntity(3,16,!0):(oe<"a"||oe>"f")&&(oe<"A"||oe>"F")&&(oe<"0"||oe>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},ke.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(this._state===1?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},ke.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var oe=this.buffer.charAt(this._index);this._state===1?this.stateText(oe):this._state===12?this.stateInAttributeValueDoubleQuotes(oe):this._state===9?this.stateInAttributeName(oe):this._state===19?this.stateInComment(oe):this._state===20?this.stateInSpecialComment(oe):this._state===8?this.stateBeforeAttributeName(oe):this._state===3?this.stateInTagName(oe):this._state===6?this.stateInClosingTagName(oe):this._state===2?this.stateBeforeTagName(oe):this._state===10?this.stateAfterAttributeName(oe):this._state===13?this.stateInAttributeValueSingleQuotes(oe):this._state===11?this.stateBeforeAttributeValue(oe):this._state===5?this.stateBeforeClosingTagName(oe):this._state===7?this.stateAfterClosingTagName(oe):this._state===32?this.stateBeforeSpecialS(oe):this._state===21?this.stateAfterComment1(oe):this._state===14?this.stateInAttributeValueNoQuotes(oe):this._state===4?this.stateInSelfClosingTag(oe):this._state===16?this.stateInDeclaration(oe):this._state===15?this.stateBeforeDeclaration(oe):this._state===22?this.stateAfterComment2(oe):this._state===18?this.stateBeforeComment(oe):this._state===33?this.stateBeforeSpecialSEnd(oe):this._state===53?ge(this,oe):this._state===39?j(this,oe):this._state===40?R(this,oe):this._state===41?H(this,oe):this._state===34?A(this,oe):this._state===35?k(this,oe):this._state===36?N(this,oe):this._state===37?V(this,oe):this._state===38?this.stateBeforeSpecialLast(oe,2):this._state===42?I(this,oe):this._state===43?this.stateAfterSpecialLast(oe,6):this._state===44?G(this,oe):this._state===29?this.stateInCdata(oe):this._state===45?K(this,oe):this._state===46?J(this,oe):this._state===47?this.stateBeforeSpecialLast(oe,3):this._state===48?E(this,oe):this._state===49?Z(this,oe):this._state===50?te(this,oe):this._state===51?this.stateAfterSpecialLast(oe,5):this._state===52?de(this,oe):this._state===54?Fe(this,oe):this._state===55?Ge(this,oe):this._state===56?we(this,oe):this._state===57?this.stateBeforeSpecialLast(oe,4):this._state===58?ne(this,oe):this._state===59?he(this,oe):this._state===60?Oe(this,oe):this._state===61?this.stateAfterSpecialLast(oe,5):this._state===17?this.stateInProcessingInstruction(oe):this._state===64?this.stateInNamedEntity(oe):this._state===23?x(this,oe):this._state===62?Te(this,oe):this._state===24?w(this,oe):this._state===25?P(this,oe):this._state===30?this.stateAfterCdata1(oe):this._state===31?this.stateAfterCdata2(oe):this._state===26?M(this,oe):this._state===27?y(this,oe):this._state===28?this.stateBeforeCdata6(oe):this._state===66?this.stateInHexEntity(oe):this._state===65?this.stateInNumericEntity(oe):this._state===63?Ne(this,oe):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},ke.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},ke.prototype.handleTrailingData=function(){var oe=this.buffer.substr(this.sectionStart);this._state===29||this._state===30||this._state===31?this.cbs.oncdata(oe):this._state===19||this._state===21||this._state===22?this.cbs.oncomment(oe):this._state!==64||this.xmlMode?this._state!==65||this.xmlMode?this._state!==66||this.xmlMode?this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this.cbs.ontext(oe):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},ke.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},ke.prototype.emitToken=function(oe){this.cbs[oe](this.getSection()),this.sectionStart=-1},ke.prototype.emitPartial=function(oe){this.baseState!==1?this.cbs.onattribdata(oe):this.cbs.ontext(oe)},ke}();r.default=ze},3719:function(n,r,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(P,M,y,A){A===void 0&&(A=y),Object.defineProperty(P,A,{enumerable:!0,get:function(){return M[y]}})}:function(P,M,y,A){A===void 0&&(A=y),P[A]=M[y]}),c=this&&this.__setModuleDefault||(Object.create?function(P,M){Object.defineProperty(P,"default",{enumerable:!0,value:M})}:function(P,M){P.default=M}),d=this&&this.__importStar||function(P){if(P&&P.__esModule)return P;var M={};if(P!=null)for(var y in P)y!=="default"&&Object.prototype.hasOwnProperty.call(P,y)&&s(M,P,y);return c(M,P),M},p=this&&this.__exportStar||function(P,M){for(var y in P)y==="default"||Object.prototype.hasOwnProperty.call(M,y)||s(M,P,y)},f=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(r,"__esModule",{value:!0}),r.RssHandler=r.DefaultHandler=r.DomUtils=r.ElementType=r.Tokenizer=r.createDomStream=r.parseDOM=r.parseDocument=r.DomHandler=r.Parser=void 0;var h=a(763);Object.defineProperty(r,"Parser",{enumerable:!0,get:function(){return h.Parser}});var v=a(7915);function C(P,M){var y=new v.DomHandler(void 0,M);return new h.Parser(y,M).end(P),y.root}Object.defineProperty(r,"DomHandler",{enumerable:!0,get:function(){return v.DomHandler}}),Object.defineProperty(r,"DefaultHandler",{enumerable:!0,get:function(){return v.DomHandler}}),r.parseDocument=C,r.parseDOM=function(P,M){return C(P,M).children},r.createDomStream=function(P,M,y){var A=new v.DomHandler(P,M,y);return new h.Parser(A,M)};var b=a(9889);Object.defineProperty(r,"Tokenizer",{enumerable:!0,get:function(){return f(b).default}});var x=d(a(9960));r.ElementType=x,p(a(3870),r),r.DomUtils=d(a(9432));var w=a(3870);Object.defineProperty(r,"RssHandler",{enumerable:!0,get:function(){return w.FeedHandler}})},6094:(n,r,a)=>{"use strict";var s=a(9018),c=a(8880)(function(p,f){return s(p,{xmlMode:f&&f.xmlMode},d,[f])}),d=function(p,f){return c.juiceDocument(p,f)};c.inlineContent=function(p,f,h){return s(p,{xmlMode:h&&h.xmlMode},c.inlineDocument,[f,h])},n.exports=c},9018:(n,r,a)=>{"use strict";var s=a(7503);a(9671),n.exports=function(c,d,p,f){var h,v=(h=[],{encodeEntities:function(w){var P=n.exports.codeBlocks;return Object.keys(P).forEach(function(M){var y=new RegExp(P[M].start+"([\\S\\s]*?)"+P[M].end,"g");w=w.replace(y,function(A,k){return h.push(A),"JUICE_CODE_BLOCK_"+(h.length-1)+"_"})}),w},decodeEntities:function(w){for(var P=0;P<h.length;P++){var M=new RegExp("JUICE_CODE_BLOCK_"+P+'_(="")?',"gi");w=w.replace(M,function(){return h[P]})}return w}}),C=function(w,P,M){return P=Object.assign({decodeEntities:!1,_useHtmlParser2:!0},P),w=M(w),s.load(w,P)}(c,d,v.encodeEntities),b=[C];b.push.apply(b,f);var x=p.apply(void 0,b)||C;return d&&d.xmlMode?v.decodeEntities(x.xml()):v.decodeEntities(x.html())},n.exports.codeBlocks={EJS:{start:"<%",end:"%>"},HBS:{start:"{{",end:"}}"}}},8880:(n,r,a)=>{"use strict";var s=a(9671),c=a(5468);n.exports=function(d){function p(b,x,w){w=w||{};var P=s.parseCSS(x),M=[],y="style",A={};if(w.styleAttributeName&&(y=w.styleAttributeName),P.forEach(function(R){var H=R[0],I=R[1],G=new s.Selector(H),K=G.parsed();if(K){for(var J,E=function(ge){if(ge.length!==0){var ne=ge[ge.length-1].pseudos;if(ne){for(var he=0;he<ne.length;he++)if(C(ne[he]))return ne[he].name}}}(K),Z=0;Z<K.length;++Z){var te=K[Z];if(te.pseudos)for(var de=0;de<te.pseudos.length;++de){var Fe=te.pseudos[de];if(d.ignoredPseudos.indexOf(Fe.name)>=0)return}}if(E){var Ge=K[K.length-1],we=Ge.pseudos;Ge.pseudos=function(ge){return ge.filter(function(ne){return!C(ne)})}(Ge.pseudos),H=K.toString(),Ge.pseudos=we}try{J=b(H)}catch{return}J.each(function(){var ge=this;if(!(ge.name&&d.nonVisualElements.indexOf(ge.name.toUpperCase())>=0)){if(E){var ne="pseudo"+E,he=ge[ne];he||((he=ge[ne]=b("<span />").get(0)).pseudoElementType=E,he.pseudoElementParent=ge,he.counterProps=ge.counterProps,ge[ne]=he),ge=he}if(!ge.styleProps){if(ge.styleProps={},b(ge).attr(y)){var Oe="* { "+b(ge).attr(y)+" } ";ze(s.parseCSS(Oe)[0][1],new s.Selector("<style>",!0))}M.push(ge)}ge.counterProps||(ge.counterProps=ge.parent&&ge.parent.counterProps?Object.create(ge.parent.counterProps):{}),ze(I,G)}function Te(ke,oe){for(var Ue=oe.split(/\s+/),ot=0;ot<Ue.length;ot++){var _e=Ue[ot],Je=parseInt(Ue[ot+1],10);isNaN(Je)?ke.counterProps[_e]=A[_e]=0:ke.counterProps[_e]=A[Ue[ot++]]=Je}}function Ne(ke,oe){for(var Ue=oe.split(/\s+/),ot=0;ot<Ue.length;ot++){var _e=Ue[ot];if(ke.counterProps[_e]!==void 0){var Je=parseInt(Ue[ot+1],10);isNaN(Je)?ke.counterProps[_e]=A[_e]+=1:ke.counterProps[_e]=A[Ue[ot++]]+=Je}}}function ze(ke,oe){for(var Ue=0,ot=ke.length;Ue<ot;Ue++)if(ke[Ue].type=="property"){var _e=ke[Ue].name,Je=ke[Ue].value;_e==="counter-reset"&&Te(ge,Je),_e==="counter-increment"&&Ne(ge,Je);var ut=Je.match(/!important$/)!==null;ut&&!w.preserveImportant&&(Je=f(Je));var at=[ke[Ue].position.start.line,ke[Ue].position.start.col],U=new s.Property(_e,Je,oe,ut?2:0,at),re=ge.styleProps[_e];d.excludedProperties.indexOf(_e)<0&&(re&&re.compare(U)===U||!re)&&(re&&re.selector!==oe?delete ge.styleProps[_e]:re&&(U.nextProp=re),ge.styleProps[_e]=U)}}})}}),M.forEach(function(R){Object.keys(R.styleProps).length;var H=[];Object.keys(R.styleProps).forEach(function(G){for(var K=R.styleProps[G];K!==void 0;)H.push(K),K=K.nextProp}),H.sort(function(G,K){return G.compareFunc(K)});var I=H.filter(function(G){return G.prop!=="content"}).map(function(G){return G.prop+": "+G.value.replace(/["]/g,"'")+";"}).join(" ");I&&b(R).attr(y,I)}),w.inlinePseudoElements&&M.forEach(function(R){if(R.pseudoElementType&&R.styleProps.content){var H=function(G){var K=G.styleProps.content.value;if(K==="none"||K==="normal")return"";var J=K.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);if(J)return{img:J[1].replace(/^['"]|['"]$/g,"")};for(var E=[],Z=K.split(/['"]/),te=0;te<Z.length;te++)if(Z[te]!==""){var de=Z[te].match(/var\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(de){var Fe=h(G,de[1])||de[2];E.push(Fe.replace(/^['"]|['"]$/g,""))}else{var Ge=Z[te].match(/counter\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(Ge&&Ge[1]in G.counterProps){var we=G.counterProps[Ge[1]];E.push(v(we,Ge[3]))}else{var ge=Z[te].match(/attr\s*\(\s*(.*?)\s*\)/i);if(ge){var ne=ge[1];E.push(G.pseudoElementParent?G.pseudoElementParent.attribs[ne]:G.attribs[ne])}else E.push(Z[te])}}}return K=E.join(""),K=K.replace(/\\/g,"")}(R);H.img?(R.name="img",b(R).attr("src",H.img)):b(R).text(H);var I=R.pseudoElementParent;R.pseudoElementType==="before"?b(I).prepend(R):b(I).append(R)}}),w.applyWidthAttributes&&M.forEach(function(R){V(R,"width")}),w.applyHeightAttributes&&M.forEach(function(R){V(R,"height")}),w.applyAttributesTableElements&&M.forEach(function(R){if(R.name){var H=R.name.toUpperCase(),I=Object.keys(d.styleToAttribute);if(d.tableElements.indexOf(H)>-1){for(var G in R.styleProps)if(I.indexOf(R.styleProps[G].prop)>-1){var K=d.styleToAttribute[R.styleProps[G].prop],J=R.styleProps[G].value;if(w.preserveImportant&&(J=f(J)),K==="background"&&(J=j(J)),/(linear|radial)-gradient\(/i.test(J))continue;b(R).attr(K,J)}}}}),w.insertPreservedExtraCss&&w.extraCss){var k=s.getPreservedText(w.extraCss,{mediaQueries:w.preserveMediaQueries,fontFaces:w.preserveFontFaces,keyFrames:w.preserveKeyFrames});if(k){var N=null;w.insertPreservedExtraCss!==!0?N=b(w.insertPreservedExtraCss):((N=b("head")).length||(N=b("body")),N.length||(N=b.root())),N.first().append("<style>"+k+"</style>")}}function V(R,H){if(R.name){var I=R.name.toUpperCase();if(d[H+"Elements"].indexOf(I)>-1){for(var G in R.styleProps)if(R.styleProps[G].prop===H){var K=R.styleProps[G].value;if(w.preserveImportant&&(K=f(K)),K.match(/px/)){var J=K.replace("px","");return void b(R).attr(H,J)}if(d.tableElements.indexOf(I)>-1&&K.match(/\%/))return void b(R).attr(H,K)}}}}function j(R){return R.indexOf("url(")!==0?R:R.replace(/^url\((["'])?([^"']+)\1\)$/,"$2")}}function f(b){return b.replace(/\s*!important$/,"")}function h(b,x){for(;b;){if(x in b.styleProps)return b.styleProps[x].value;b=b.pseudoElementParent||b.parent}}function v(b,x){switch(x){case"lower-roman":return c.romanize(b).toLowerCase();case"upper-roman":return c.romanize(b);case"lower-latin":case"lower-alpha":return c.alphanumeric(b).toLowerCase();case"upper-latin":case"upper-alpha":return c.alphanumeric(b);default:return b.toString()}}function C(b){return b.name==="before"||b.name==="after"}return d.ignoredPseudos=["hover","active","focus","visited","link"],d.widthElements=["TABLE","TD","TH","IMG"],d.heightElements=["TABLE","TD","TH","IMG"],d.tableElements=["TABLE","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],d.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],d.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},d.excludedProperties=[],d.juiceDocument=function(b,x){x=s.getDefaultOptions(x);var w=function(P,M){var y=function(k,N){var V,j,R,H=[],I=k("style");return I.each(function(){var G=!!(R=this).childNodes;if((V=G?R.childNodes:R.children).length===1){if(j=V[0].data,N.applyStyleTags&&k(R).attr("data-embed")===void 0&&H.push(j),N.removeStyleTags&&k(R).attr("data-embed")===void 0){var K=G?R.childNodes[0].nodeValue:R.children[0].data,J=s.getPreservedText(K,{mediaQueries:N.preserveMediaQueries,fontFaces:N.preserveFontFaces,keyFrames:N.preserveKeyFrames,pseudos:N.preservePseudos},d.ignoredPseudos);J?G?R.childNodes[0].nodeValue=J:R.children[0].data=J:k(R).remove()}k(R).removeAttr("data-embed")}else N.removeStyleTags&&k(R).remove()}),H}(P,M),A=y.join(`
`);return A}(b,x);return w+=`
`+x.extraCss,p(b,w,x),b},d.inlineDocument=p,d}},5468:(n,r)=>{"use strict";r.romanize=function(a){if(isNaN(a))return NaN;for(var s=String(+a).split(""),c=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],d="",p=3;p--;)d=(c[+s.pop()+10*p]||"")+d;return Array(+s.join("")+1).join("M")+d},r.alphanumeric=function(a){for(var s,c="";a>0;)s=(a-1)%26,c=String.fromCharCode(65+s)+c,a=(a-s)/26|0;return c||void 0}},4777:(n,r,a)=>{"use strict";n.exports=c;var s=a(9671);function c(d,p,f,h,v){this.prop=d,this.value=p,this.selector=f,this.priority=h||0,this.additionalPriority=v||[]}c.prototype.compareFunc=function(d){var p=[];p.push.apply(p,this.selector.specificity()),p.push.apply(p,this.additionalPriority),p[0]+=this.priority;var f=[];return f.push.apply(f,d.selector.specificity()),f.push.apply(f,d.additionalPriority),f[0]+=d.priority,s.compareFunc(p,f)},c.prototype.compare=function(d){return this.compareFunc(d)===1?this:d},c.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}},9240:(n,r,a)=>{"use strict";var s=a(6585);function c(p,f){this.text=p,this.spec=void 0,this.styleAttribute=f||!1}function d(p){try{return s(p)[0]}catch{return[]}}n.exports=c,c.prototype.parsed=function(){return this.tokens||(this.tokens=d(this.text)),this.tokens},c.prototype.specificity=function(){var p=this.styleAttribute;return this.spec||(this.spec=function f(h,v){for(var C=v||d(h),b=[p?1:0,0,0,0],x=[],w=0;w<C.length;w++){var P=C[w],M=P.pseudos;if(P.id&&b[1]++,P.attributes&&(b[2]+=P.attributes.length),P.classList&&(b[2]+=P.classList.length),P.tag&&P.tag!=="*"&&b[3]++,M){b[3]+=M.length;for(var y=0;y<M.length;y++)M[y].name==="not"&&(x.push(M[y].value),b[3]--)}}for(var A=x.length;A--;)for(var k=f(x[A]),N=4;N--;)b[N]+=k[N];return b}(this.text,this.parsed())),this.spec}},9671:(n,r,a)=>{"use strict";var s=a(4984),c=a(9240),d=a(4777);r.Selector=c,r.Property=d,r.extract=function(p){for(var f=0,h=[],v="",C=0,b=p.length;C<b;C++){var x=p.charAt(C);f?(x!=="]"&&x!==")"||f--,v+=x):x===","?(h.push(v),v=""):(x!=="["&&x!=="("||f++,(v.length||x!==","&&x!==`
`&&x!==" ")&&(v+=x))}return v.length&&h.push(v),h},r.parseCSS=function(p){for(var f=s.parse(p,{position:!0,comments:!0}),h=f.stylesheet!==void 0&&f.stylesheet.rules?f.stylesheet.rules:[],v=[],C=0,b=h.length;C<b;C++)if(h[C].type=="rule")for(var x=h[C],w=x.selectors,P=0,M=w.length;P<M;P++)v.push([w[P],x.declarations]);return v},r.getPreservedText=function(p,f,h){for(var v=s.parse(p,{position:!0,comments:!0}),C=v.stylesheet!==void 0&&v.stylesheet.rules?v.stylesheet.rules:[],b=[],x=C.length-1;x>=0;x--)(f.fontFaces&&C[x].type==="font-face"||f.mediaQueries&&C[x].type==="media"||f.keyFrames&&C[x].type==="keyframes"||f.pseudos&&C[x].selectors&&this.matchesPseudo(C[x].selectors[0],h))&&b.unshift(s.stringify({stylesheet:{rules:[C[x]]}},{comments:!1,indentation:"  "})),C[x].position.start;return b.length!==0&&`
`+b.join(`
`)+`
`},r.normalizeLineEndings=function(p){return p.replace(/\r\n/g,`
`).replace(/\n/g,`\r
`)},r.matchesPseudo=function(p,f){return f.find(function(h){return p.indexOf(h)>-1})},r.compareFunc=function(p,f){for(var h=Math.min(p.length,f.length),v=0;v<h;v++)if(p[v]!==f[v])return p[v]>f[v]?1:-1;return p.length-f.length},r.compare=function(p,f){return r.compareFunc(p,f)==1?p:f},r.getDefaultOptions=function(p){var f=Object.assign({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,preserveKeyFrames:!0,preservePseudos:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:""},p);return f.webResources=f.webResources||{},f}},4984:(n,r,a)=>{n.exports={lex:a(5625),parse:a(2579),stringify:a(7134)}},1514:(n,r)=>{function a(s){var c=[].slice.call(arguments,1);c.unshift("["+s+"]"),process.stderr.write(c.join(" ")+`
`)}n.exports=function(s){return a.bind(null,s)}},5625:(n,r,a)=>{var s=!1,c=!1,d=a(1514)("lex");n.exports=function(p){var f,h,v="",C=0,b=-1,x=0,w=1,P="before-selector",M=[P],y={},A=[],k=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];function N(ne){return ne?M[M.length-1-ne]:P}function V(ne){var he=b+1;return ne===p.slice(he,he+ne.length)}function j(ne){var he=p.slice(b).indexOf(ne);return he>0&&he}function R(ne){return ne===H(1)}function H(ne){return p[b+(ne||1)]}function I(){var ne=M.pop();return P=M[M.length-1],ne}function G(ne){return P=ne,M.push(P),M.length}function K(ne){var he=P;return M[M.length-1]=P=ne,he}function J(ne){if((ne||1)==1)p[b]==`
`?(w++,C=1):C++,b++;else{var he=p.slice(b,b+ne).split(`
`);he.length>1&&(w+=he.length-1,C=1),C+=he[he.length-1].length,b+=ne}}function E(){y.end={line:w,col:C},s&&d("addToken:",JSON.stringify(y,null,2)),A.push(y),v="",y={}}function Z(ne){y={type:ne,start:{line:w,col:C}}}for(c&&(f=Date.now());J(),h=p[b];)switch(s&&d(h,N()),h){case" ":switch(N()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":v+=h}break;case`
`:case"	":case"\r":case"\f":switch(N()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":v+=h;break;case"at-value":h===`
`&&(y.value=v.trim(),E(),I())}break;case":":switch(N()){case"name":y.name=v.trim(),v="",K("before-value");break;case"before-selector":v+=h,Z("selector"),G("selector");break;case"before-value":K("value"),v+=h;break;default:v+=h}break;case";":switch(N()){case"name":case"before-value":case"value":v.trim().length>0&&(y.value=v.trim(),E()),K("before-name");break;case"value-paren":default:v+=h;break;case"at-value":y.value=v.trim(),E(),I();case"before-name":}break;case"{":switch(N()){case"selector":if(H(-1)==="\\"){v+=h;break}y.text=v.trim(),E(),K("before-name"),x+=1;break;case"at-group":switch(y.name=v.trim(),y.type){case"font-face":case"viewport":case"page":G("before-name");break;default:G("before-selector")}E(),x+=1;break;case"name":case"at-rule":y.name=v.trim(),E(),G("before-name"),x+=1;break;case"comment":case"double-string":case"single-string":v+=h;break;case"before-value":K("value"),v+=h}break;case"}":switch(N()){case"before-name":case"name":case"before-value":case"value":v&&(y.value=v.trim()),y.name&&y.value&&E(),Z("end"),E(),I(),N()==="at-group"&&(Z("at-group-end"),E(),I()),x>0&&(x-=1);break;case"at-group":case"before-selector":case"selector":if(H(-1)==="\\"){v+=h;break}x>0&&N(1)==="at-group"&&(Z("at-group-end"),E()),x>1&&I(),x>0&&(x-=1);break;case"double-string":case"single-string":case"comment":v+=h}break;case'"':case"'":switch(N()){case"double-string":h==='"'&&H(-1)!=="\\"&&I();break;case"single-string":h==="'"&&H(-1)!=="\\"&&I();break;case"before-at-value":K("at-value"),G(h==='"'?"double-string":"single-string");break;case"before-value":K("value"),G(h==='"'?"double-string":"single-string");break;case"comment":break;default:H(-1)!=="\\"&&G(h==='"'?"double-string":"single-string")}v+=h;break;case"/":switch(N()){case"comment":case"double-string":case"single-string":v+=h;break;case"before-value":case"selector":case"name":case"value":if(R("*")){var te=j("*/");te&&J(te+1)}else N()=="before-value"&&K("value"),v+=h;break;default:R("*")?(Z("comment"),G("comment"),J()):v+=h}break;case"*":switch(N()){case"comment":R("/")?(y.text=v,J(),E(),I()):v+=h;break;case"before-selector":v+=h,Z("selector"),G("selector");break;case"before-value":K("value"),v+=h;break;default:v+=h}break;case"@":switch(N()){case"comment":case"double-string":case"single-string":v+=h;break;case"before-value":K("value"),v+=h;break;default:for(var de,Fe,Ge=!1,we=0,ge=k.length;!Ge&&we<ge;++we)V(de=(Fe=k[we]).name||Fe)&&(Ge=!0,Z(de),G(Fe.state||"at-group"),J(de.length),Fe.prefix&&(y.prefix=Fe.prefix),Fe.type&&(y.type=Fe.type));Ge||(v+=h)}break;case"(":switch(N()){case"value":G("value-paren");break;case"before-value":K("value")}v+=h;break;case")":switch(N()){case"value-paren":I();break;case"before-value":K("value")}v+=h;break;default:switch(N()){case"before-selector":Z("selector"),G("selector");break;case"before-name":Z("property"),K("name");break;case"before-value":K("value");break;case"before-at-value":K("at-value")}v+=h}return c&&d("ran in",Date.now()-f+"ms"),A}},2579:(n,r,a)=>{var s,c,d,p,f=!1,h=!1,v=a(1514)("parse"),C=a(5625);function b(A,k){var N;k||(k={});for(var V=["type","name","value"],j={},R=0;R<V.length;++R)A[N=V[R]]&&(j[N]=k[N]||A[N]);for(V=Object.keys(k),R=0;R<V.length;++R)j[N=V[R]]||(j[N]=k[N]);return d&&(j.position={start:A.start,end:A.end}),f&&v("astNode:",JSON.stringify(j,null,2)),j}function x(){var A=p.shift();return f&&v("next:",JSON.stringify(A,null,2)),A}function w(A){c+=1;var k={};switch(A.type){case"font-face":case"viewport":k.declarations=y();break;case"page":k.prefix=A.prefix,k.declarations=y();break;default:k.prefix=A.prefix,k.rules=M(function(){return c})}return b(A,k)}function P(A){switch(A.type){case"property":case"charset":case"import":case"namespace":return function(k){return b(k)}(A);case"selector":return function(k){return b(k,{type:"rule",selectors:k.text.split(",").map(function(N){return N.trim()}),declarations:y()})}(A);case"at-group-end":return void(c-=1);case"media":case"keyframes":case"font-face":case"supports":case"viewport":case"document":case"page":return w(A);case"comment":if(s)return function(k){return b(k,{text:k.text})}(A)}f&&v("parseToken: unexpected token:",JSON.stringify(A))}function M(A){for(var k,N,V=[];(N=x())&&A&&A(N);)(k=P(N))&&V.push(k);return N&&N.type!=="end"&&p.unshift(N),V}function y(){return M(function(A){return A.type==="property"||A.type==="comment"})}n.exports=function(A,k){var N,V;k||(k={}),s=!!k.comments,d=!!k.position,c=0,p=Array.isArray(A)?A.slice():C(A);var j,R=[];for(h&&(N=Date.now());j=x();)(V=P(j))&&R.push(V);return h&&v("ran in",Date.now()-N+"ms"),{type:"stylesheet",stylesheet:{rules:R}}}},7134:(n,r,a)=>{var s,c,d,p,f,h,v=!1,C=!1,b=a(1514)("stringify");function x(V){if(!V)return c?"":Array(p).join(d||"");p+=V}function w(V){var j="",R=V.prefix||"";V.name&&(j=" "+V.name);var H=V.type!=="page";return"@"+R+V.type+j+h+A(V,H)+f}function P(V){return s?"/*"+(V.text||"")+"*/"+f:""}function M(V){var j;return V.selectors?j=V.selectors.join(","+f):(j="@"+V.type,j+=V.name?" "+V.name:""),x()+j+h+A(V)+f}function y(V,j){return V.reduce(function(R,H){var I=H.type==="comment"?P(H):j(H);return I&&R.push(I),R},[])}function A(V,j){var R=V.declarations,H=k;return V.rules&&(R=V.rules,H=M),R=function(I,G){if(!I)return"";x(1);var K=y(I,G);return x(-1),K.length?K.join(f):""}(R,H),R&&(R=f+R+(j?"":f)),"{"+R+x()+"}"}function k(V){if(V.type==="property")return function(j){var R=j.name?j.name+":"+h:"";return x()+R+j.value+";"}(V);v&&b("stringifyDeclaration: unexpected node:",JSON.stringify(V))}function N(V){switch(V.type){case"rule":return M(V);case"media":case"keyframes":case"font-face":case"supports":case"viewport":case"document":case"page":return w(V);case"comment":return P(V);case"import":case"charset":case"namespace":return function(j){return"@"+j.type+" "+j.value+";"+f}(V)}v&&b("stringifyNode: unexpected node: "+JSON.stringify(V))}n.exports=function(V,j){var R;j||(j={}),d=j.indentation||"",c=!!j.compress,s=!!j.comments,p=1,c?f=h="":(f=`
`,h=" "),C&&(R=Date.now());var H=y(V.stylesheet.rules,N).join(`
`).trim();return C&&b("ran in",Date.now()-R+"ms"),H}},9769:function(n,r,a){"use strict";var s=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(r,"__esModule",{value:!0}),r.generate=r.compile=void 0;var c=s(a(1073));r.compile=function(d){var p=d[0],f=d[1]-1;if(f<0&&p<=0)return c.default.falseFunc;if(p===-1)return function(C){return C<=f};if(p===0)return function(C){return C===f};if(p===1)return f<0?c.default.trueFunc:function(C){return C>=f};var h=Math.abs(p),v=(f%h+h)%h;return p>1?function(C){return C>=f&&C%h===v}:function(C){return C<=f&&C%h===v}},r.generate=function(d){var p=d[0],f=d[1]-1,h=0;if(p<0){var v=-p,C=(f%v+v)%v;return function(){var b=C+v*h++;return b>f?null:b}}return p===0?f<0?function(){return null}:function(){return h++==0?f:null}:(f<0&&(f+=p*Math.ceil(-f/p)),function(){return p*h+++f})}},7540:(n,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sequence=r.generate=r.compile=r.parse=void 0;var s=a(7766);Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return s.parse}});var c=a(9769);Object.defineProperty(r,"compile",{enumerable:!0,get:function(){return c.compile}}),Object.defineProperty(r,"generate",{enumerable:!0,get:function(){return c.generate}}),r.default=function(d){return(0,c.compile)((0,s.parse)(d))},r.sequence=function(d){return(0,c.generate)((0,s.parse)(d))}},7766:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parse=void 0;var a=new Set([9,10,12,13,32]),s=48,c=57;r.parse=function(d){if((d=d.trim().toLowerCase())==="even")return[2,0];if(d==="odd")return[2,1];var p=0,f=0,h=C(),v=b();if(p<d.length&&d.charAt(p)==="n"&&(p++,f=h*(v??1),x(),p<d.length?(h=C(),x(),v=b()):h=v=0),v===null||p<d.length)throw new Error("n-th rule couldn't be parsed ('".concat(d,"')"));return[f,h*v];function C(){return d.charAt(p)==="-"?(p++,-1):(d.charAt(p)==="+"&&p++,1)}function b(){for(var w=p,P=0;p<d.length&&d.charCodeAt(p)>=s&&d.charCodeAt(p)<=c;)P=10*P+(d.charCodeAt(p)-s),p++;return p===w?null:P}function x(){for(;p<d.length&&a.has(d.charCodeAt(p));)p++}}},1906:(n,r,a)=>{"use strict";let s=a(1515),{DOCUMENT_MODE:c}=a(6152),d={element:1,text:3,cdata:4,comment:8},p={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"};class f{constructor(x){for(let w of Object.keys(x))this[w]=x[w]}get firstChild(){let x=this.children;return x&&x[0]||null}get lastChild(){let x=this.children;return x&&x[x.length-1]||null}get nodeType(){return d[this.type]||d.element}}Object.keys(p).forEach(b=>{let x=p[b];Object.defineProperty(f.prototype,b,{get:function(){return this[x]||null},set:function(w){return this[x]=w,w}})}),r.createDocument=function(){return new f({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":c.NO_QUIRKS})},r.createDocumentFragment=function(){return new f({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},r.createElement=function(b,x,w){let P=Object.create(null),M=Object.create(null),y=Object.create(null);for(let A=0;A<w.length;A++){let k=w[A].name;P[k]=w[A].value,M[k]=w[A].namespace,y[k]=w[A].prefix}return new f({type:b==="script"||b==="style"?b:"tag",name:b,namespace:x,attribs:P,"x-attribsNamespace":M,"x-attribsPrefix":y,children:[],parent:null,prev:null,next:null})},r.createCommentNode=function(b){return new f({type:"comment",data:b,parent:null,prev:null,next:null})};let h=function(b){return new f({type:"text",data:b,parent:null,prev:null,next:null})},v=r.appendChild=function(b,x){let w=b.children[b.children.length-1];w&&(w.next=x,x.prev=w),b.children.push(x),x.parent=b},C=r.insertBefore=function(b,x,w){let P=b.children.indexOf(w),M=w.prev;M&&(M.next=x,x.prev=M),w.prev=x,x.next=w,b.children.splice(P,0,x),x.parent=b};r.setTemplateContent=function(b,x){v(b,x)},r.getTemplateContent=function(b){return b.children[0]},r.setDocumentType=function(b,x,w,P){let M=s.serializeContent(x,w,P),y=null;for(let A=0;A<b.children.length;A++)if(b.children[A].type==="directive"&&b.children[A].name==="!doctype"){y=b.children[A];break}y?(y.data=M,y["x-name"]=x,y["x-publicId"]=w,y["x-systemId"]=P):v(b,new f({type:"directive",name:"!doctype",data:M,"x-name":x,"x-publicId":w,"x-systemId":P}))},r.setDocumentMode=function(b,x){b["x-mode"]=x},r.getDocumentMode=function(b){return b["x-mode"]},r.detachNode=function(b){if(b.parent){let x=b.parent.children.indexOf(b),w=b.prev,P=b.next;b.prev=null,b.next=null,w&&(w.next=P),P&&(P.prev=w),b.parent.children.splice(x,1),b.parent=null}},r.insertText=function(b,x){let w=b.children[b.children.length-1];w&&w.type==="text"?w.data+=x:v(b,h(x))},r.insertTextBefore=function(b,x,w){let P=b.children[b.children.indexOf(w)-1];P&&P.type==="text"?P.data+=x:C(b,h(x),w)},r.adoptAttributes=function(b,x){for(let w=0;w<x.length;w++){let P=x[w].name;b.attribs[P]===void 0&&(b.attribs[P]=x[w].value,b["x-attribsNamespace"][P]=x[w].namespace,b["x-attribsPrefix"][P]=x[w].prefix)}},r.getFirstChild=function(b){return b.children[0]},r.getChildNodes=function(b){return b.children},r.getParentNode=function(b){return b.parent},r.getAttrList=function(b){let x=[];for(let w in b.attribs)x.push({name:w,value:b.attribs[w],namespace:b["x-attribsNamespace"][w],prefix:b["x-attribsPrefix"][w]});return x},r.getTagName=function(b){return b.name},r.getNamespaceURI=function(b){return b.namespace},r.getTextNodeContent=function(b){return b.data},r.getCommentNodeContent=function(b){return b.data},r.getDocumentTypeNodeName=function(b){return b["x-name"]},r.getDocumentTypeNodePublicId=function(b){return b["x-publicId"]},r.getDocumentTypeNodeSystemId=function(b){return b["x-systemId"]},r.isTextNode=function(b){return b.type==="text"},r.isCommentNode=function(b){return b.type==="comment"},r.isDocumentTypeNode=function(b){return b.type==="directive"&&b.name==="!doctype"},r.isElementNode=function(b){return!!b.attribs},r.setNodeSourceCodeLocation=function(b,x){b.sourceCodeLocation=x},r.getNodeSourceCodeLocation=function(b){return b.sourceCodeLocation},r.updateNodeSourceCodeLocation=function(b,x){b.sourceCodeLocation=Object.assign(b.sourceCodeLocation,x)}},1515:(n,r,a)=>{"use strict";let{DOCUMENT_MODE:s}=a(6152),c="html",d="about:legacy-compat",p="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",f=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],h=f.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),v=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],C=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],b=C.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function x(P){let M=P.indexOf('"')!==-1?"'":'"';return M+P+M}function w(P,M){for(let y=0;y<M.length;y++)if(P.indexOf(M[y])===0)return!0;return!1}r.isConforming=function(P){return P.name===c&&P.publicId===null&&(P.systemId===null||P.systemId===d)},r.getDocumentMode=function(P){if(P.name!==c)return s.QUIRKS;let M=P.systemId;if(M&&M.toLowerCase()===p)return s.QUIRKS;let y=P.publicId;if(y!==null){if(y=y.toLowerCase(),v.indexOf(y)>-1)return s.QUIRKS;let A=M===null?h:f;if(w(y,A))return s.QUIRKS;if(A=M===null?C:b,w(y,A))return s.LIMITED_QUIRKS}return s.NO_QUIRKS},r.serializeContent=function(P,M,y){let A="!DOCTYPE ";return P&&(A+=P),M?A+=" PUBLIC "+x(M):y&&(A+=" SYSTEM"),y!==null&&(A+=" "+x(y)),A}},1734:n=>{"use strict";n.exports={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}},8779:(n,r,a)=>{"use strict";let s=a(5763),c=a(6152),d=c.TAG_NAMES,p=c.NAMESPACES,f=c.ATTRS,h="text/html",v="application/xhtml+xml",C="definitionurl",b="definitionURL",x={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},w={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:p.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:p.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:p.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:p.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:p.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:p.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:p.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:p.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:p.XML},"xml:space":{prefix:"xml",name:"space",namespace:p.XML},xmlns:{prefix:"",name:"xmlns",namespace:p.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:p.XMLNS}},P=r.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},M={[d.B]:!0,[d.BIG]:!0,[d.BLOCKQUOTE]:!0,[d.BODY]:!0,[d.BR]:!0,[d.CENTER]:!0,[d.CODE]:!0,[d.DD]:!0,[d.DIV]:!0,[d.DL]:!0,[d.DT]:!0,[d.EM]:!0,[d.EMBED]:!0,[d.H1]:!0,[d.H2]:!0,[d.H3]:!0,[d.H4]:!0,[d.H5]:!0,[d.H6]:!0,[d.HEAD]:!0,[d.HR]:!0,[d.I]:!0,[d.IMG]:!0,[d.LI]:!0,[d.LISTING]:!0,[d.MENU]:!0,[d.META]:!0,[d.NOBR]:!0,[d.OL]:!0,[d.P]:!0,[d.PRE]:!0,[d.RUBY]:!0,[d.S]:!0,[d.SMALL]:!0,[d.SPAN]:!0,[d.STRONG]:!0,[d.STRIKE]:!0,[d.SUB]:!0,[d.SUP]:!0,[d.TABLE]:!0,[d.TT]:!0,[d.U]:!0,[d.UL]:!0,[d.VAR]:!0};r.causesExit=function(y){let A=y.tagName;return A===d.FONT&&(s.getTokenAttr(y,f.COLOR)!==null||s.getTokenAttr(y,f.SIZE)!==null||s.getTokenAttr(y,f.FACE)!==null)||M[A]},r.adjustTokenMathMLAttrs=function(y){for(let A=0;A<y.attrs.length;A++)if(y.attrs[A].name===C){y.attrs[A].name=b;break}},r.adjustTokenSVGAttrs=function(y){for(let A=0;A<y.attrs.length;A++){let k=x[y.attrs[A].name];k&&(y.attrs[A].name=k)}},r.adjustTokenXMLAttrs=function(y){for(let A=0;A<y.attrs.length;A++){let k=w[y.attrs[A].name];k&&(y.attrs[A].prefix=k.prefix,y.attrs[A].name=k.name,y.attrs[A].namespace=k.namespace)}},r.adjustTokenSVGTagName=function(y){let A=P[y.tagName];A&&(y.tagName=A)},r.isIntegrationPoint=function(y,A,k,N){return!(N&&N!==p.HTML||!function(V,j,R){if(j===p.MATHML&&V===d.ANNOTATION_XML){for(let H=0;H<R.length;H++)if(R[H].name===f.ENCODING){let I=R[H].value.toLowerCase();return I===h||I===v}}return j===p.SVG&&(V===d.FOREIGN_OBJECT||V===d.DESC||V===d.TITLE)}(y,A,k))||!(N&&N!==p.MATHML||!function(V,j){return j===p.MATHML&&(V===d.MI||V===d.MO||V===d.MN||V===d.MS||V===d.MTEXT)}(y,A))}},6152:(n,r)=>{"use strict";let a=r.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};r.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},r.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};let s=r.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};r.SPECIAL_ELEMENTS={[a.HTML]:{[s.ADDRESS]:!0,[s.APPLET]:!0,[s.AREA]:!0,[s.ARTICLE]:!0,[s.ASIDE]:!0,[s.BASE]:!0,[s.BASEFONT]:!0,[s.BGSOUND]:!0,[s.BLOCKQUOTE]:!0,[s.BODY]:!0,[s.BR]:!0,[s.BUTTON]:!0,[s.CAPTION]:!0,[s.CENTER]:!0,[s.COL]:!0,[s.COLGROUP]:!0,[s.DD]:!0,[s.DETAILS]:!0,[s.DIR]:!0,[s.DIV]:!0,[s.DL]:!0,[s.DT]:!0,[s.EMBED]:!0,[s.FIELDSET]:!0,[s.FIGCAPTION]:!0,[s.FIGURE]:!0,[s.FOOTER]:!0,[s.FORM]:!0,[s.FRAME]:!0,[s.FRAMESET]:!0,[s.H1]:!0,[s.H2]:!0,[s.H3]:!0,[s.H4]:!0,[s.H5]:!0,[s.H6]:!0,[s.HEAD]:!0,[s.HEADER]:!0,[s.HGROUP]:!0,[s.HR]:!0,[s.HTML]:!0,[s.IFRAME]:!0,[s.IMG]:!0,[s.INPUT]:!0,[s.LI]:!0,[s.LINK]:!0,[s.LISTING]:!0,[s.MAIN]:!0,[s.MARQUEE]:!0,[s.MENU]:!0,[s.META]:!0,[s.NAV]:!0,[s.NOEMBED]:!0,[s.NOFRAMES]:!0,[s.NOSCRIPT]:!0,[s.OBJECT]:!0,[s.OL]:!0,[s.P]:!0,[s.PARAM]:!0,[s.PLAINTEXT]:!0,[s.PRE]:!0,[s.SCRIPT]:!0,[s.SECTION]:!0,[s.SELECT]:!0,[s.SOURCE]:!0,[s.STYLE]:!0,[s.SUMMARY]:!0,[s.TABLE]:!0,[s.TBODY]:!0,[s.TD]:!0,[s.TEMPLATE]:!0,[s.TEXTAREA]:!0,[s.TFOOT]:!0,[s.TH]:!0,[s.THEAD]:!0,[s.TITLE]:!0,[s.TR]:!0,[s.TRACK]:!0,[s.UL]:!0,[s.WBR]:!0,[s.XMP]:!0},[a.MATHML]:{[s.MI]:!0,[s.MO]:!0,[s.MN]:!0,[s.MS]:!0,[s.MTEXT]:!0,[s.ANNOTATION_XML]:!0},[a.SVG]:{[s.TITLE]:!0,[s.FOREIGN_OBJECT]:!0,[s.DESC]:!0}}},4284:(n,r)=>{"use strict";let a=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];r.REPLACEMENT_CHARACTER="\uFFFD",r.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},r.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},r.isSurrogate=function(s){return s>=55296&&s<=57343},r.isSurrogatePair=function(s){return s>=56320&&s<=57343},r.getSurrogatePairCodePoint=function(s,c){return 1024*(s-55296)+9216+c},r.isControlCodePoint=function(s){return s!==32&&s!==10&&s!==13&&s!==9&&s!==12&&s>=1&&s<=31||s>=127&&s<=159},r.isUndefinedCodePoint=function(s){return s>=64976&&s<=65007||a.indexOf(s)>-1}},3843:(n,r,a)=>{"use strict";let s=a(1704);n.exports=class extends s{constructor(c,d){super(c),this.posTracker=null,this.onParseError=d.onParseError}_setErrorLocation(c){c.startLine=c.endLine=this.posTracker.line,c.startCol=c.endCol=this.posTracker.col,c.startOffset=c.endOffset=this.posTracker.offset}_reportError(c){let d={code:c,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(d),this.onParseError(d)}_getOverriddenMethods(c){return{_err(d){c._reportError(d)}}}}},2232:(n,r,a)=>{"use strict";let s=a(3843),c=a(50),d=a(6110),p=a(1704);n.exports=class extends s{constructor(f,h){super(f,h),this.opts=h,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(f){this.ctLoc&&(f.startLine=this.ctLoc.startLine,f.startCol=this.ctLoc.startCol,f.startOffset=this.ctLoc.startOffset,f.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,f.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,f.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(f,h){return{_bootstrap(v,C){h._bootstrap.call(this,v,C),p.install(this.tokenizer,c,f.opts),p.install(this.tokenizer,d)},_processInputToken(v){f.ctLoc=v.location,h._processInputToken.call(this,v)},_err(v,C){f.locBeforeToken=C&&C.beforeToken,f._reportError(v)}}}}},3288:(n,r,a)=>{"use strict";let s=a(3843),c=a(7930),d=a(1704);n.exports=class extends s{constructor(p,f){super(p,f),this.posTracker=d.install(p,c),this.lastErrOffset=-1}_reportError(p){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(p))}}},50:(n,r,a)=>{"use strict";let s=a(3843),c=a(3288),d=a(1704);n.exports=class extends s{constructor(p,f){super(p,f);let h=d.install(p.preprocessor,c,f);this.posTracker=h.posTracker}}},1077:(n,r,a)=>{"use strict";let s=a(1704);n.exports=class extends s{constructor(c,d){super(c),this.onItemPop=d.onItemPop}_getOverriddenMethods(c,d){return{pop(){c.onItemPop(this.current),d.pop.call(this)},popAllUpToHtmlElement(){for(let p=this.stackTop;p>0;p--)c.onItemPop(this.items[p]);d.popAllUpToHtmlElement.call(this)},remove(p){c.onItemPop(this.current),d.remove.call(this,p)}}}}},452:(n,r,a)=>{"use strict";let s=a(1704),c=a(5763),d=a(6110),p=a(1077),f=a(6152).TAG_NAMES;n.exports=class extends s{constructor(h){super(h),this.parser=h,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(h){let v=null;this.lastStartTagToken&&(v=Object.assign({},this.lastStartTagToken.location),v.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(h,v)}_setEndLocation(h,v){if(this.treeAdapter.getNodeSourceCodeLocation(h)&&v.location){let C=v.location,b=this.treeAdapter.getTagName(h),x={};v.type===c.END_TAG_TOKEN&&b===v.tagName?(x.endTag=Object.assign({},C),x.endLine=C.endLine,x.endCol=C.endCol,x.endOffset=C.endOffset):(x.endLine=C.startLine,x.endCol=C.startCol,x.endOffset=C.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(h,x)}}_getOverriddenMethods(h,v){return{_bootstrap(C,b){v._bootstrap.call(this,C,b),h.lastStartTagToken=null,h.lastFosterParentingLocation=null,h.currentToken=null;let x=s.install(this.tokenizer,d);h.posTracker=x.posTracker,s.install(this.openElements,p,{onItemPop:function(w){h._setEndLocation(w,h.currentToken)}})},_runParsingLoop(C){v._runParsingLoop.call(this,C);for(let b=this.openElements.stackTop;b>=0;b--)h._setEndLocation(this.openElements.items[b],h.currentToken)},_processTokenInForeignContent(C){h.currentToken=C,v._processTokenInForeignContent.call(this,C)},_processToken(C){if(h.currentToken=C,v._processToken.call(this,C),C.type===c.END_TAG_TOKEN&&(C.tagName===f.HTML||C.tagName===f.BODY&&this.openElements.hasInScope(f.BODY)))for(let b=this.openElements.stackTop;b>=0;b--){let x=this.openElements.items[b];if(this.treeAdapter.getTagName(x)===C.tagName){h._setEndLocation(x,C);break}}},_setDocumentType(C){v._setDocumentType.call(this,C);let b=this.treeAdapter.getChildNodes(this.document),x=b.length;for(let w=0;w<x;w++){let P=b[w];if(this.treeAdapter.isDocumentTypeNode(P)){this.treeAdapter.setNodeSourceCodeLocation(P,C.location);break}}},_attachElementToTree(C){h._setStartLocation(C),h.lastStartTagToken=null,v._attachElementToTree.call(this,C)},_appendElement(C,b){h.lastStartTagToken=C,v._appendElement.call(this,C,b)},_insertElement(C,b){h.lastStartTagToken=C,v._insertElement.call(this,C,b)},_insertTemplate(C){h.lastStartTagToken=C,v._insertTemplate.call(this,C);let b=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(b,null)},_insertFakeRootElement(){v._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(C,b){v._appendCommentNode.call(this,C,b);let x=this.treeAdapter.getChildNodes(b),w=x[x.length-1];this.treeAdapter.setNodeSourceCodeLocation(w,C.location)},_findFosterParentingLocation(){return h.lastFosterParentingLocation=v._findFosterParentingLocation.call(this),h.lastFosterParentingLocation},_insertCharacters(C){v._insertCharacters.call(this,C);let b=this._shouldFosterParentOnInsertion(),x=b&&h.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,w=this.treeAdapter.getChildNodes(x),P=b&&h.lastFosterParentingLocation.beforeElement?w.indexOf(h.lastFosterParentingLocation.beforeElement)-1:w.length-1,M=w[P];if(this.treeAdapter.getNodeSourceCodeLocation(M)){let{endLine:y,endCol:A,endOffset:k}=C.location;this.treeAdapter.updateNodeSourceCodeLocation(M,{endLine:y,endCol:A,endOffset:k})}else this.treeAdapter.setNodeSourceCodeLocation(M,C.location)}}}}},6110:(n,r,a)=>{"use strict";let s=a(1704),c=a(5763),d=a(7930);n.exports=class extends s{constructor(p){super(p),this.tokenizer=p,this.posTracker=s.install(p.preprocessor,d),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;let p=this.tokenizer.currentToken,f=this.tokenizer.currentAttr;p.location.attrs||(p.location.attrs=Object.create(null)),p.location.attrs[f.name]=this.currentAttrLocation}_getOverriddenMethods(p,f){let h={_createStartTagToken(){f._createStartTagToken.call(this),this.currentToken.location=p.ctLoc},_createEndTagToken(){f._createEndTagToken.call(this),this.currentToken.location=p.ctLoc},_createCommentToken(){f._createCommentToken.call(this),this.currentToken.location=p.ctLoc},_createDoctypeToken(v){f._createDoctypeToken.call(this,v),this.currentToken.location=p.ctLoc},_createCharacterToken(v,C){f._createCharacterToken.call(this,v,C),this.currentCharacterToken.location=p.ctLoc},_createEOFToken(){f._createEOFToken.call(this),this.currentToken.location=p._getCurrentLocation()},_createAttr(v){f._createAttr.call(this,v),p.currentAttrLocation=p._getCurrentLocation()},_leaveAttrName(v){f._leaveAttrName.call(this,v),p._attachCurrentAttrLocationInfo()},_leaveAttrValue(v){f._leaveAttrValue.call(this,v),p._attachCurrentAttrLocationInfo()},_emitCurrentToken(){let v=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=v.startLine,this.currentCharacterToken.location.endCol=v.startCol,this.currentCharacterToken.location.endOffset=v.startOffset),this.currentToken.type===c.EOF_TOKEN?(v.endLine=v.startLine,v.endCol=v.startCol,v.endOffset=v.startOffset):(v.endLine=p.posTracker.line,v.endCol=p.posTracker.col+1,v.endOffset=p.posTracker.offset+1),f._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){let v=this.currentCharacterToken&&this.currentCharacterToken.location;v&&v.endOffset===-1&&(v.endLine=p.posTracker.line,v.endCol=p.posTracker.col,v.endOffset=p.posTracker.offset),f._emitCurrentCharacterToken.call(this)}};return Object.keys(c.MODE).forEach(v=>{let C=c.MODE[v];h[C]=function(b){p.ctLoc=p._getCurrentLocation(),f[C].call(this,b)}}),h}}},7930:(n,r,a)=>{"use strict";let s=a(1704);n.exports=class extends s{constructor(c){super(c),this.preprocessor=c,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(c,d){return{advance(){let p=this.pos+1,f=this.html[p];return c.isEol&&(c.isEol=!1,c.line++,c.lineStartPos=p),(f===`
`||f==="\r"&&this.html[p+1]!==`
`)&&(c.isEol=!0),c.col=p-c.lineStartPos+1,c.offset=c.droppedBufferSize+p,d.advance.call(this)},retreat(){d.retreat.call(this),c.isEol=!1,c.col=this.pos-c.lineStartPos+1},dropParsedChunk(){let p=this.pos;d.dropParsedChunk.call(this);let f=p-this.pos;c.lineStartPos-=f,c.droppedBufferSize+=f,c.offset=c.droppedBufferSize+this.pos}}}}},2394:(n,r,a)=>{"use strict";let s=a(7045),c=a(3988);r.parse=function(d,p){return new s(p).parse(d)},r.parseFragment=function(d,p,f){return typeof d=="string"&&(f=p,p=d,d=null),new s(f).parseFragment(p,d)},r.serialize=function(d,p){return new c(d,p).serialize()}},2484:n=>{"use strict";class a{constructor(c){this.length=0,this.entries=[],this.treeAdapter=c,this.bookmark=null}_getNoahArkConditionCandidates(c){let d=[];if(this.length>=3){let p=this.treeAdapter.getAttrList(c).length,f=this.treeAdapter.getTagName(c),h=this.treeAdapter.getNamespaceURI(c);for(let v=this.length-1;v>=0;v--){let C=this.entries[v];if(C.type===a.MARKER_ENTRY)break;let b=C.element,x=this.treeAdapter.getAttrList(b);this.treeAdapter.getTagName(b)===f&&this.treeAdapter.getNamespaceURI(b)===h&&x.length===p&&d.push({idx:v,attrs:x})}}return d.length<3?[]:d}_ensureNoahArkCondition(c){let d=this._getNoahArkConditionCandidates(c),p=d.length;if(p){let f=this.treeAdapter.getAttrList(c),h=f.length,v=Object.create(null);for(let C=0;C<h;C++){let b=f[C];v[b.name]=b.value}for(let C=0;C<h;C++)for(let b=0;b<p;b++){let x=d[b].attrs[C];if(v[x.name]!==x.value&&(d.splice(b,1),p--),d.length<3)return}for(let C=p-1;C>=2;C--)this.entries.splice(d[C].idx,1),this.length--}}insertMarker(){this.entries.push({type:a.MARKER_ENTRY}),this.length++}pushElement(c,d){this._ensureNoahArkCondition(c),this.entries.push({type:a.ELEMENT_ENTRY,element:c,token:d}),this.length++}insertElementAfterBookmark(c,d){let p=this.length-1;for(;p>=0&&this.entries[p]!==this.bookmark;p--);this.entries.splice(p+1,0,{type:a.ELEMENT_ENTRY,element:c,token:d}),this.length++}removeEntry(c){for(let d=this.length-1;d>=0;d--)if(this.entries[d]===c){this.entries.splice(d,1),this.length--;break}}clearToLastMarker(){for(;this.length;){let c=this.entries.pop();if(this.length--,c.type===a.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(c){for(let d=this.length-1;d>=0;d--){let p=this.entries[d];if(p.type===a.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(p.element)===c)return p}return null}getElementEntry(c){for(let d=this.length-1;d>=0;d--){let p=this.entries[d];if(p.type===a.ELEMENT_ENTRY&&p.element===c)return p}return null}}a.MARKER_ENTRY="MARKER_ENTRY",a.ELEMENT_ENTRY="ELEMENT_ENTRY",n.exports=a},7045:(n,r,a)=>{"use strict";let s=a(5763),c=a(6519),d=a(2484),p=a(452),f=a(2232),h=a(1704),v=a(7296),C=a(8904),b=a(1515),x=a(8779),w=a(1734),P=a(4284),M=a(6152),y=M.TAG_NAMES,A=M.NAMESPACES,k=M.ATTRS,N={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:v},V="hidden",j=8,R=3,H="INITIAL_MODE",I="BEFORE_HTML_MODE",G="BEFORE_HEAD_MODE",K="IN_HEAD_MODE",J="IN_HEAD_NO_SCRIPT_MODE",E="AFTER_HEAD_MODE",Z="IN_BODY_MODE",te="TEXT_MODE",de="IN_TABLE_MODE",Fe="IN_TABLE_TEXT_MODE",Ge="IN_CAPTION_MODE",we="IN_COLUMN_GROUP_MODE",ge="IN_TABLE_BODY_MODE",ne="IN_ROW_MODE",he="IN_CELL_MODE",Oe="IN_SELECT_MODE",Te="IN_SELECT_IN_TABLE_MODE",Ne="IN_TEMPLATE_MODE",ze="AFTER_BODY_MODE",ke="IN_FRAMESET_MODE",oe="AFTER_FRAMESET_MODE",Ue="AFTER_AFTER_BODY_MODE",ot="AFTER_AFTER_FRAMESET_MODE",_e={[y.TR]:ne,[y.TBODY]:ge,[y.THEAD]:ge,[y.TFOOT]:ge,[y.CAPTION]:Ge,[y.COLGROUP]:we,[y.TABLE]:de,[y.BODY]:Z,[y.FRAMESET]:ke},Je={[y.CAPTION]:de,[y.COLGROUP]:de,[y.TBODY]:de,[y.TFOOT]:de,[y.THEAD]:de,[y.COL]:we,[y.TR]:ge,[y.TD]:ne,[y.TH]:ne},ut={[H]:{[s.CHARACTER_TOKEN]:Me,[s.NULL_CHARACTER_TOKEN]:Me,[s.WHITESPACE_CHARACTER_TOKEN]:Se,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:function(T,B){T._setDocumentType(B);let F=B.forceQuirks?M.DOCUMENT_MODE.QUIRKS:b.getDocumentMode(B);b.isConforming(B)||T._err(w.nonConformingDoctype),T.treeAdapter.setDocumentMode(T.document,F),T.insertionMode=I},[s.START_TAG_TOKEN]:Me,[s.END_TAG_TOKEN]:Me,[s.EOF_TOKEN]:Me},[I]:{[s.CHARACTER_TOKEN]:ie,[s.NULL_CHARACTER_TOKEN]:ie,[s.WHITESPACE_CHARACTER_TOKEN]:Se,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){B.tagName===y.HTML?(T._insertElement(B,A.HTML),T.insertionMode=G):ie(T,B)},[s.END_TAG_TOKEN]:function(T,B){let F=B.tagName;F!==y.HTML&&F!==y.HEAD&&F!==y.BODY&&F!==y.BR||ie(T,B)},[s.EOF_TOKEN]:ie},[G]:{[s.CHARACTER_TOKEN]:Xe,[s.NULL_CHARACTER_TOKEN]:Xe,[s.WHITESPACE_CHARACTER_TOKEN]:Se,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Le,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.HTML?It(T,B):F===y.HEAD?(T._insertElement(B,A.HTML),T.headElement=T.openElements.current,T.insertionMode=K):Xe(T,B)},[s.END_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.HEAD||F===y.BODY||F===y.HTML||F===y.BR?Xe(T,B):T._err(w.endTagWithoutMatchingOpenElement)},[s.EOF_TOKEN]:Xe},[K]:{[s.CHARACTER_TOKEN]:yt,[s.NULL_CHARACTER_TOKEN]:yt,[s.WHITESPACE_CHARACTER_TOKEN]:At,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Le,[s.START_TAG_TOKEN]:Re,[s.END_TAG_TOKEN]:st,[s.EOF_TOKEN]:yt},[J]:{[s.CHARACTER_TOKEN]:bt,[s.NULL_CHARACTER_TOKEN]:bt,[s.WHITESPACE_CHARACTER_TOKEN]:At,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Le,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.HTML?It(T,B):F===y.BASEFONT||F===y.BGSOUND||F===y.HEAD||F===y.LINK||F===y.META||F===y.NOFRAMES||F===y.STYLE?Re(T,B):F===y.NOSCRIPT?T._err(w.nestedNoscriptInHead):bt(T,B)},[s.END_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.NOSCRIPT?(T.openElements.pop(),T.insertionMode=K):F===y.BR?bt(T,B):T._err(w.endTagWithoutMatchingOpenElement)},[s.EOF_TOKEN]:bt},[E]:{[s.CHARACTER_TOKEN]:mt,[s.NULL_CHARACTER_TOKEN]:mt,[s.WHITESPACE_CHARACTER_TOKEN]:At,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Le,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.HTML?It(T,B):F===y.BODY?(T._insertElement(B,A.HTML),T.framesetOk=!1,T.insertionMode=Z):F===y.FRAMESET?(T._insertElement(B,A.HTML),T.insertionMode=ke):F===y.BASE||F===y.BASEFONT||F===y.BGSOUND||F===y.LINK||F===y.META||F===y.NOFRAMES||F===y.SCRIPT||F===y.STYLE||F===y.TEMPLATE||F===y.TITLE?(T._err(w.abandonedHeadElementChild),T.openElements.push(T.headElement),Re(T,B),T.openElements.remove(T.headElement)):F===y.HEAD?T._err(w.misplacedStartTagForHeadElement):mt(T,B)},[s.END_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.BODY||F===y.HTML||F===y.BR?mt(T,B):F===y.TEMPLATE?st(T,B):T._err(w.endTagWithoutMatchingOpenElement)},[s.EOF_TOKEN]:mt},[Z]:{[s.CHARACTER_TOKEN]:Qt,[s.NULL_CHARACTER_TOKEN]:Se,[s.WHITESPACE_CHARACTER_TOKEN]:Et,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:It,[s.END_TAG_TOKEN]:Zn,[s.EOF_TOKEN]:yn},[te]:{[s.CHARACTER_TOKEN]:At,[s.NULL_CHARACTER_TOKEN]:At,[s.WHITESPACE_CHARACTER_TOKEN]:At,[s.COMMENT_TOKEN]:Se,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:Se,[s.END_TAG_TOKEN]:function(T,B){B.tagName===y.SCRIPT&&(T.pendingScript=T.openElements.current),T.openElements.pop(),T.insertionMode=T.originalInsertionMode},[s.EOF_TOKEN]:function(T,B){T._err(w.eofInElementThatCanContainOnlyText),T.openElements.pop(),T.insertionMode=T.originalInsertionMode,T._processToken(B)}},[de]:{[s.CHARACTER_TOKEN]:cn,[s.NULL_CHARACTER_TOKEN]:cn,[s.WHITESPACE_CHARACTER_TOKEN]:cn,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:ni,[s.END_TAG_TOKEN]:fn,[s.EOF_TOKEN]:yn},[Fe]:{[s.CHARACTER_TOKEN]:function(T,B){T.pendingCharacterTokens.push(B),T.hasNonWhitespacePendingCharacterToken=!0},[s.NULL_CHARACTER_TOKEN]:Se,[s.WHITESPACE_CHARACTER_TOKEN]:function(T,B){T.pendingCharacterTokens.push(B)},[s.COMMENT_TOKEN]:bn,[s.DOCTYPE_TOKEN]:bn,[s.START_TAG_TOKEN]:bn,[s.END_TAG_TOKEN]:bn,[s.EOF_TOKEN]:bn},[Ge]:{[s.CHARACTER_TOKEN]:Qt,[s.NULL_CHARACTER_TOKEN]:Se,[s.WHITESPACE_CHARACTER_TOKEN]:Et,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.CAPTION||F===y.COL||F===y.COLGROUP||F===y.TBODY||F===y.TD||F===y.TFOOT||F===y.TH||F===y.THEAD||F===y.TR?T.openElements.hasInTableScope(y.CAPTION)&&(T.openElements.generateImpliedEndTags(),T.openElements.popUntilTagNamePopped(y.CAPTION),T.activeFormattingElements.clearToLastMarker(),T.insertionMode=de,T._processToken(B)):It(T,B)},[s.END_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.CAPTION||F===y.TABLE?T.openElements.hasInTableScope(y.CAPTION)&&(T.openElements.generateImpliedEndTags(),T.openElements.popUntilTagNamePopped(y.CAPTION),T.activeFormattingElements.clearToLastMarker(),T.insertionMode=de,F===y.TABLE&&T._processToken(B)):F!==y.BODY&&F!==y.COL&&F!==y.COLGROUP&&F!==y.HTML&&F!==y.TBODY&&F!==y.TD&&F!==y.TFOOT&&F!==y.TH&&F!==y.THEAD&&F!==y.TR&&Zn(T,B)},[s.EOF_TOKEN]:yn},[we]:{[s.CHARACTER_TOKEN]:Vn,[s.NULL_CHARACTER_TOKEN]:Vn,[s.WHITESPACE_CHARACTER_TOKEN]:At,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.HTML?It(T,B):F===y.COL?(T._appendElement(B,A.HTML),B.ackSelfClosing=!0):F===y.TEMPLATE?Re(T,B):Vn(T,B)},[s.END_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.COLGROUP?T.openElements.currentTagName===y.COLGROUP&&(T.openElements.pop(),T.insertionMode=de):F===y.TEMPLATE?st(T,B):F!==y.COL&&Vn(T,B)},[s.EOF_TOKEN]:yn},[ge]:{[s.CHARACTER_TOKEN]:cn,[s.NULL_CHARACTER_TOKEN]:cn,[s.WHITESPACE_CHARACTER_TOKEN]:cn,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.TR?(T.openElements.clearBackToTableBodyContext(),T._insertElement(B,A.HTML),T.insertionMode=ne):F===y.TH||F===y.TD?(T.openElements.clearBackToTableBodyContext(),T._insertFakeElement(y.TR),T.insertionMode=ne,T._processToken(B)):F===y.CAPTION||F===y.COL||F===y.COLGROUP||F===y.TBODY||F===y.TFOOT||F===y.THEAD?T.openElements.hasTableBodyContextInTableScope()&&(T.openElements.clearBackToTableBodyContext(),T.openElements.pop(),T.insertionMode=de,T._processToken(B)):ni(T,B)},[s.END_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.TBODY||F===y.TFOOT||F===y.THEAD?T.openElements.hasInTableScope(F)&&(T.openElements.clearBackToTableBodyContext(),T.openElements.pop(),T.insertionMode=de):F===y.TABLE?T.openElements.hasTableBodyContextInTableScope()&&(T.openElements.clearBackToTableBodyContext(),T.openElements.pop(),T.insertionMode=de,T._processToken(B)):(F!==y.BODY&&F!==y.CAPTION&&F!==y.COL&&F!==y.COLGROUP||F!==y.HTML&&F!==y.TD&&F!==y.TH&&F!==y.TR)&&fn(T,B)},[s.EOF_TOKEN]:yn},[ne]:{[s.CHARACTER_TOKEN]:cn,[s.NULL_CHARACTER_TOKEN]:cn,[s.WHITESPACE_CHARACTER_TOKEN]:cn,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.TH||F===y.TD?(T.openElements.clearBackToTableRowContext(),T._insertElement(B,A.HTML),T.insertionMode=he,T.activeFormattingElements.insertMarker()):F===y.CAPTION||F===y.COL||F===y.COLGROUP||F===y.TBODY||F===y.TFOOT||F===y.THEAD||F===y.TR?T.openElements.hasInTableScope(y.TR)&&(T.openElements.clearBackToTableRowContext(),T.openElements.pop(),T.insertionMode=ge,T._processToken(B)):ni(T,B)},[s.END_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.TR?T.openElements.hasInTableScope(y.TR)&&(T.openElements.clearBackToTableRowContext(),T.openElements.pop(),T.insertionMode=ge):F===y.TABLE?T.openElements.hasInTableScope(y.TR)&&(T.openElements.clearBackToTableRowContext(),T.openElements.pop(),T.insertionMode=ge,T._processToken(B)):F===y.TBODY||F===y.TFOOT||F===y.THEAD?(T.openElements.hasInTableScope(F)||T.openElements.hasInTableScope(y.TR))&&(T.openElements.clearBackToTableRowContext(),T.openElements.pop(),T.insertionMode=ge,T._processToken(B)):(F!==y.BODY&&F!==y.CAPTION&&F!==y.COL&&F!==y.COLGROUP||F!==y.HTML&&F!==y.TD&&F!==y.TH)&&fn(T,B)},[s.EOF_TOKEN]:yn},[he]:{[s.CHARACTER_TOKEN]:Qt,[s.NULL_CHARACTER_TOKEN]:Se,[s.WHITESPACE_CHARACTER_TOKEN]:Et,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.CAPTION||F===y.COL||F===y.COLGROUP||F===y.TBODY||F===y.TD||F===y.TFOOT||F===y.TH||F===y.THEAD||F===y.TR?(T.openElements.hasInTableScope(y.TD)||T.openElements.hasInTableScope(y.TH))&&(T._closeTableCell(),T._processToken(B)):It(T,B)},[s.END_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.TD||F===y.TH?T.openElements.hasInTableScope(F)&&(T.openElements.generateImpliedEndTags(),T.openElements.popUntilTagNamePopped(F),T.activeFormattingElements.clearToLastMarker(),T.insertionMode=ne):F===y.TABLE||F===y.TBODY||F===y.TFOOT||F===y.THEAD||F===y.TR?T.openElements.hasInTableScope(F)&&(T._closeTableCell(),T._processToken(B)):F!==y.BODY&&F!==y.CAPTION&&F!==y.COL&&F!==y.COLGROUP&&F!==y.HTML&&Zn(T,B)},[s.EOF_TOKEN]:yn},[Oe]:{[s.CHARACTER_TOKEN]:At,[s.NULL_CHARACTER_TOKEN]:Se,[s.WHITESPACE_CHARACTER_TOKEN]:At,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:Vt,[s.END_TAG_TOKEN]:jn,[s.EOF_TOKEN]:yn},[Te]:{[s.CHARACTER_TOKEN]:At,[s.NULL_CHARACTER_TOKEN]:Se,[s.WHITESPACE_CHARACTER_TOKEN]:At,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.CAPTION||F===y.TABLE||F===y.TBODY||F===y.TFOOT||F===y.THEAD||F===y.TR||F===y.TD||F===y.TH?(T.openElements.popUntilTagNamePopped(y.SELECT),T._resetInsertionMode(),T._processToken(B)):Vt(T,B)},[s.END_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.CAPTION||F===y.TABLE||F===y.TBODY||F===y.TFOOT||F===y.THEAD||F===y.TR||F===y.TD||F===y.TH?T.openElements.hasInTableScope(F)&&(T.openElements.popUntilTagNamePopped(y.SELECT),T._resetInsertionMode(),T._processToken(B)):jn(T,B)},[s.EOF_TOKEN]:yn},[Ne]:{[s.CHARACTER_TOKEN]:Qt,[s.NULL_CHARACTER_TOKEN]:Se,[s.WHITESPACE_CHARACTER_TOKEN]:Et,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;if(F===y.BASE||F===y.BASEFONT||F===y.BGSOUND||F===y.LINK||F===y.META||F===y.NOFRAMES||F===y.SCRIPT||F===y.STYLE||F===y.TEMPLATE||F===y.TITLE)Re(T,B);else{let ue=Je[F]||Z;T._popTmplInsertionMode(),T._pushTmplInsertionMode(ue),T.insertionMode=ue,T._processToken(B)}},[s.END_TAG_TOKEN]:function(T,B){B.tagName===y.TEMPLATE&&st(T,B)},[s.EOF_TOKEN]:Dt},[ze]:{[s.CHARACTER_TOKEN]:Pn,[s.NULL_CHARACTER_TOKEN]:Pn,[s.WHITESPACE_CHARACTER_TOKEN]:Et,[s.COMMENT_TOKEN]:function(T,B){T._appendCommentNode(B,T.openElements.items[0])},[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){B.tagName===y.HTML?It(T,B):Pn(T,B)},[s.END_TAG_TOKEN]:function(T,B){B.tagName===y.HTML?T.fragmentContext||(T.insertionMode=Ue):Pn(T,B)},[s.EOF_TOKEN]:ce},[ke]:{[s.CHARACTER_TOKEN]:Se,[s.NULL_CHARACTER_TOKEN]:Se,[s.WHITESPACE_CHARACTER_TOKEN]:At,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.HTML?It(T,B):F===y.FRAMESET?T._insertElement(B,A.HTML):F===y.FRAME?(T._appendElement(B,A.HTML),B.ackSelfClosing=!0):F===y.NOFRAMES&&Re(T,B)},[s.END_TAG_TOKEN]:function(T,B){B.tagName!==y.FRAMESET||T.openElements.isRootHtmlElementCurrent()||(T.openElements.pop(),T.fragmentContext||T.openElements.currentTagName===y.FRAMESET||(T.insertionMode=oe))},[s.EOF_TOKEN]:ce},[oe]:{[s.CHARACTER_TOKEN]:Se,[s.NULL_CHARACTER_TOKEN]:Se,[s.WHITESPACE_CHARACTER_TOKEN]:At,[s.COMMENT_TOKEN]:ft,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.HTML?It(T,B):F===y.NOFRAMES&&Re(T,B)},[s.END_TAG_TOKEN]:function(T,B){B.tagName===y.HTML&&(T.insertionMode=ot)},[s.EOF_TOKEN]:ce},[Ue]:{[s.CHARACTER_TOKEN]:un,[s.NULL_CHARACTER_TOKEN]:un,[s.WHITESPACE_CHARACTER_TOKEN]:Et,[s.COMMENT_TOKEN]:qt,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){B.tagName===y.HTML?It(T,B):un(T,B)},[s.END_TAG_TOKEN]:un,[s.EOF_TOKEN]:ce},[ot]:{[s.CHARACTER_TOKEN]:Se,[s.NULL_CHARACTER_TOKEN]:Se,[s.WHITESPACE_CHARACTER_TOKEN]:Et,[s.COMMENT_TOKEN]:qt,[s.DOCTYPE_TOKEN]:Se,[s.START_TAG_TOKEN]:function(T,B){let F=B.tagName;F===y.HTML?It(T,B):F===y.NOFRAMES&&Re(T,B)},[s.END_TAG_TOKEN]:Se,[s.EOF_TOKEN]:ce}};function at(T,B){let F=T.activeFormattingElements.getElementEntryInScopeWithTagName(B.tagName);return F?T.openElements.contains(F.element)?T.openElements.hasInScope(B.tagName)||(F=null):(T.activeFormattingElements.removeEntry(F),F=null):nn(T,B),F}function U(T,B){let F=null;for(let ue=T.openElements.stackTop;ue>=0;ue--){let We=T.openElements.items[ue];if(We===B.element)break;T._isSpecialElement(We)&&(F=We)}return F||(T.openElements.popUntilElementPopped(B.element),T.activeFormattingElements.removeEntry(B)),F}function re(T,B,F){let ue=B,We=T.openElements.getCommonAncestor(B);for(let Tt=0,Rt=We;Rt!==F;Tt++,Rt=We){We=T.openElements.getCommonAncestor(Rt);let Ft=T.activeFormattingElements.getElementEntry(Rt),Nt=Ft&&Tt>=R;!Ft||Nt?(Nt&&T.activeFormattingElements.removeEntry(Ft),T.openElements.remove(Rt)):(Rt=fe(T,Ft),ue===B&&(T.activeFormattingElements.bookmark=Ft),T.treeAdapter.detachNode(ue),T.treeAdapter.appendChild(Rt,ue),ue=Rt)}return ue}function fe(T,B){let F=T.treeAdapter.getNamespaceURI(B.element),ue=T.treeAdapter.createElement(B.token.tagName,F,B.token.attrs);return T.openElements.replace(B.element,ue),B.element=ue,ue}function Ee(T,B,F){if(T._isElementCausesFosterParenting(B))T._fosterParentElement(F);else{let ue=T.treeAdapter.getTagName(B),We=T.treeAdapter.getNamespaceURI(B);ue===y.TEMPLATE&&We===A.HTML&&(B=T.treeAdapter.getTemplateContent(B)),T.treeAdapter.appendChild(B,F)}}function Ke(T,B,F){let ue=T.treeAdapter.getNamespaceURI(F.element),We=F.token,Tt=T.treeAdapter.createElement(We.tagName,ue,We.attrs);T._adoptNodes(B,Tt),T.treeAdapter.appendChild(B,Tt),T.activeFormattingElements.insertElementAfterBookmark(Tt,F.token),T.activeFormattingElements.removeEntry(F),T.openElements.remove(F.element),T.openElements.insertAfter(B,Tt)}function pe(T,B){let F;for(let ue=0;ue<j&&(F=at(T,B),F);ue++){let We=U(T,F);if(!We)break;T.activeFormattingElements.bookmark=F;let Tt=re(T,We,F.element),Rt=T.openElements.getCommonAncestor(F.element);T.treeAdapter.detachNode(Tt),Ee(T,Rt,Tt),Ke(T,We,F)}}function Se(){}function Le(T){T._err(w.misplacedDoctype)}function ft(T,B){T._appendCommentNode(B,T.openElements.currentTmplContent||T.openElements.current)}function qt(T,B){T._appendCommentNode(B,T.document)}function At(T,B){T._insertCharacters(B)}function ce(T){T.stopped=!0}function Me(T,B){T._err(w.missingDoctype,{beforeToken:!0}),T.treeAdapter.setDocumentMode(T.document,M.DOCUMENT_MODE.QUIRKS),T.insertionMode=I,T._processToken(B)}function ie(T,B){T._insertFakeRootElement(),T.insertionMode=G,T._processToken(B)}function Xe(T,B){T._insertFakeElement(y.HEAD),T.headElement=T.openElements.current,T.insertionMode=K,T._processToken(B)}function Re(T,B){let F=B.tagName;F===y.HTML?It(T,B):F===y.BASE||F===y.BASEFONT||F===y.BGSOUND||F===y.LINK||F===y.META?(T._appendElement(B,A.HTML),B.ackSelfClosing=!0):F===y.TITLE?T._switchToTextParsing(B,s.MODE.RCDATA):F===y.NOSCRIPT?T.options.scriptingEnabled?T._switchToTextParsing(B,s.MODE.RAWTEXT):(T._insertElement(B,A.HTML),T.insertionMode=J):F===y.NOFRAMES||F===y.STYLE?T._switchToTextParsing(B,s.MODE.RAWTEXT):F===y.SCRIPT?T._switchToTextParsing(B,s.MODE.SCRIPT_DATA):F===y.TEMPLATE?(T._insertTemplate(B,A.HTML),T.activeFormattingElements.insertMarker(),T.framesetOk=!1,T.insertionMode=Ne,T._pushTmplInsertionMode(Ne)):F===y.HEAD?T._err(w.misplacedStartTagForHeadElement):yt(T,B)}function st(T,B){let F=B.tagName;F===y.HEAD?(T.openElements.pop(),T.insertionMode=E):F===y.BODY||F===y.BR||F===y.HTML?yt(T,B):F===y.TEMPLATE&&T.openElements.tmplCount>0?(T.openElements.generateImpliedEndTagsThoroughly(),T.openElements.currentTagName!==y.TEMPLATE&&T._err(w.closingOfElementWithOpenChildElements),T.openElements.popUntilTagNamePopped(y.TEMPLATE),T.activeFormattingElements.clearToLastMarker(),T._popTmplInsertionMode(),T._resetInsertionMode()):T._err(w.endTagWithoutMatchingOpenElement)}function yt(T,B){T.openElements.pop(),T.insertionMode=E,T._processToken(B)}function bt(T,B){let F=B.type===s.EOF_TOKEN?w.openElementsLeftAfterEof:w.disallowedContentInNoscriptInHead;T._err(F),T.openElements.pop(),T.insertionMode=K,T._processToken(B)}function mt(T,B){T._insertFakeElement(y.BODY),T.insertionMode=Z,T._processToken(B)}function Et(T,B){T._reconstructActiveFormattingElements(),T._insertCharacters(B)}function Qt(T,B){T._reconstructActiveFormattingElements(),T._insertCharacters(B),T.framesetOk=!1}function $t(T,B){T.openElements.hasInButtonScope(y.P)&&T._closePElement(),T._insertElement(B,A.HTML)}function Zt(T,B){T.openElements.hasInButtonScope(y.P)&&T._closePElement(),T._insertElement(B,A.HTML),T.skipNextNewLine=!0,T.framesetOk=!1}function pn(T,B){T._reconstructActiveFormattingElements(),T._insertElement(B,A.HTML),T.activeFormattingElements.pushElement(T.openElements.current,B)}function Rn(T,B){T._reconstructActiveFormattingElements(),T._insertElement(B,A.HTML),T.activeFormattingElements.insertMarker(),T.framesetOk=!1}function se(T,B){T._reconstructActiveFormattingElements(),T._appendElement(B,A.HTML),T.framesetOk=!1,B.ackSelfClosing=!0}function xe(T,B){T._appendElement(B,A.HTML),B.ackSelfClosing=!0}function Ie(T,B){T._switchToTextParsing(B,s.MODE.RAWTEXT)}function Qe(T,B){T.openElements.currentTagName===y.OPTION&&T.openElements.pop(),T._reconstructActiveFormattingElements(),T._insertElement(B,A.HTML)}function vt(T,B){T.openElements.hasInScope(y.RUBY)&&T.openElements.generateImpliedEndTags(),T._insertElement(B,A.HTML)}function Ot(T,B){T._reconstructActiveFormattingElements(),T._insertElement(B,A.HTML)}function It(T,B){let F=B.tagName;switch(F.length){case 1:F===y.I||F===y.S||F===y.B||F===y.U?pn(T,B):F===y.P?$t(T,B):F===y.A?function(ue,We){let Tt=ue.activeFormattingElements.getElementEntryInScopeWithTagName(y.A);Tt&&(pe(ue,We),ue.openElements.remove(Tt.element),ue.activeFormattingElements.removeEntry(Tt)),ue._reconstructActiveFormattingElements(),ue._insertElement(We,A.HTML),ue.activeFormattingElements.pushElement(ue.openElements.current,We)}(T,B):Ot(T,B);break;case 2:F===y.DL||F===y.OL||F===y.UL?$t(T,B):F===y.H1||F===y.H2||F===y.H3||F===y.H4||F===y.H5||F===y.H6?function(ue,We){ue.openElements.hasInButtonScope(y.P)&&ue._closePElement();let Tt=ue.openElements.currentTagName;Tt!==y.H1&&Tt!==y.H2&&Tt!==y.H3&&Tt!==y.H4&&Tt!==y.H5&&Tt!==y.H6||ue.openElements.pop(),ue._insertElement(We,A.HTML)}(T,B):F===y.LI||F===y.DD||F===y.DT?function(ue,We){ue.framesetOk=!1;let Tt=We.tagName;for(let Rt=ue.openElements.stackTop;Rt>=0;Rt--){let Ft=ue.openElements.items[Rt],Nt=ue.treeAdapter.getTagName(Ft),q=null;if(Tt===y.LI&&Nt===y.LI?q=y.LI:Tt!==y.DD&&Tt!==y.DT||Nt!==y.DD&&Nt!==y.DT||(q=Nt),q){ue.openElements.generateImpliedEndTagsWithExclusion(q),ue.openElements.popUntilTagNamePopped(q);break}if(Nt!==y.ADDRESS&&Nt!==y.DIV&&Nt!==y.P&&ue._isSpecialElement(Ft))break}ue.openElements.hasInButtonScope(y.P)&&ue._closePElement(),ue._insertElement(We,A.HTML)}(T,B):F===y.EM||F===y.TT?pn(T,B):F===y.BR?se(T,B):F===y.HR?function(ue,We){ue.openElements.hasInButtonScope(y.P)&&ue._closePElement(),ue._appendElement(We,A.HTML),ue.framesetOk=!1,We.ackSelfClosing=!0}(T,B):F===y.RB?vt(T,B):F===y.RT||F===y.RP?function(ue,We){ue.openElements.hasInScope(y.RUBY)&&ue.openElements.generateImpliedEndTagsWithExclusion(y.RTC),ue._insertElement(We,A.HTML)}(T,B):F!==y.TH&&F!==y.TD&&F!==y.TR&&Ot(T,B);break;case 3:F===y.DIV||F===y.DIR||F===y.NAV?$t(T,B):F===y.PRE?Zt(T,B):F===y.BIG?pn(T,B):F===y.IMG||F===y.WBR?se(T,B):F===y.XMP?function(ue,We){ue.openElements.hasInButtonScope(y.P)&&ue._closePElement(),ue._reconstructActiveFormattingElements(),ue.framesetOk=!1,ue._switchToTextParsing(We,s.MODE.RAWTEXT)}(T,B):F===y.SVG?function(ue,We){ue._reconstructActiveFormattingElements(),x.adjustTokenSVGAttrs(We),x.adjustTokenXMLAttrs(We),We.selfClosing?ue._appendElement(We,A.SVG):ue._insertElement(We,A.SVG),We.ackSelfClosing=!0}(T,B):F===y.RTC?vt(T,B):F!==y.COL&&Ot(T,B);break;case 4:F===y.HTML?function(ue,We){ue.openElements.tmplCount===0&&ue.treeAdapter.adoptAttributes(ue.openElements.items[0],We.attrs)}(T,B):F===y.BASE||F===y.LINK||F===y.META?Re(T,B):F===y.BODY?function(ue,We){let Tt=ue.openElements.tryPeekProperlyNestedBodyElement();Tt&&ue.openElements.tmplCount===0&&(ue.framesetOk=!1,ue.treeAdapter.adoptAttributes(Tt,We.attrs))}(T,B):F===y.MAIN||F===y.MENU?$t(T,B):F===y.FORM?function(ue,We){let Tt=ue.openElements.tmplCount>0;ue.formElement&&!Tt||(ue.openElements.hasInButtonScope(y.P)&&ue._closePElement(),ue._insertElement(We,A.HTML),Tt||(ue.formElement=ue.openElements.current))}(T,B):F===y.CODE||F===y.FONT?pn(T,B):F===y.NOBR?function(ue,We){ue._reconstructActiveFormattingElements(),ue.openElements.hasInScope(y.NOBR)&&(pe(ue,We),ue._reconstructActiveFormattingElements()),ue._insertElement(We,A.HTML),ue.activeFormattingElements.pushElement(ue.openElements.current,We)}(T,B):F===y.AREA?se(T,B):F===y.MATH?function(ue,We){ue._reconstructActiveFormattingElements(),x.adjustTokenMathMLAttrs(We),x.adjustTokenXMLAttrs(We),We.selfClosing?ue._appendElement(We,A.MATHML):ue._insertElement(We,A.MATHML),We.ackSelfClosing=!0}(T,B):F===y.MENU?function(ue,We){ue.openElements.hasInButtonScope(y.P)&&ue._closePElement(),ue._insertElement(We,A.HTML)}(T,B):F!==y.HEAD&&Ot(T,B);break;case 5:F===y.STYLE||F===y.TITLE?Re(T,B):F===y.ASIDE?$t(T,B):F===y.SMALL?pn(T,B):F===y.TABLE?function(ue,We){ue.treeAdapter.getDocumentMode(ue.document)!==M.DOCUMENT_MODE.QUIRKS&&ue.openElements.hasInButtonScope(y.P)&&ue._closePElement(),ue._insertElement(We,A.HTML),ue.framesetOk=!1,ue.insertionMode=de}(T,B):F===y.EMBED?se(T,B):F===y.INPUT?function(ue,We){ue._reconstructActiveFormattingElements(),ue._appendElement(We,A.HTML);let Tt=s.getTokenAttr(We,k.TYPE);Tt&&Tt.toLowerCase()===V||(ue.framesetOk=!1),We.ackSelfClosing=!0}(T,B):F===y.PARAM||F===y.TRACK?xe(T,B):F===y.IMAGE?function(ue,We){We.tagName=y.IMG,se(ue,We)}(T,B):F!==y.FRAME&&F!==y.TBODY&&F!==y.TFOOT&&F!==y.THEAD&&Ot(T,B);break;case 6:F===y.SCRIPT?Re(T,B):F===y.CENTER||F===y.FIGURE||F===y.FOOTER||F===y.HEADER||F===y.HGROUP||F===y.DIALOG?$t(T,B):F===y.BUTTON?function(ue,We){ue.openElements.hasInScope(y.BUTTON)&&(ue.openElements.generateImpliedEndTags(),ue.openElements.popUntilTagNamePopped(y.BUTTON)),ue._reconstructActiveFormattingElements(),ue._insertElement(We,A.HTML),ue.framesetOk=!1}(T,B):F===y.STRIKE||F===y.STRONG?pn(T,B):F===y.APPLET||F===y.OBJECT?Rn(T,B):F===y.KEYGEN?se(T,B):F===y.SOURCE?xe(T,B):F===y.IFRAME?function(ue,We){ue.framesetOk=!1,ue._switchToTextParsing(We,s.MODE.RAWTEXT)}(T,B):F===y.SELECT?function(ue,We){ue._reconstructActiveFormattingElements(),ue._insertElement(We,A.HTML),ue.framesetOk=!1,ue.insertionMode===de||ue.insertionMode===Ge||ue.insertionMode===ge||ue.insertionMode===ne||ue.insertionMode===he?ue.insertionMode=Te:ue.insertionMode=Oe}(T,B):F===y.OPTION?Qe(T,B):Ot(T,B);break;case 7:F===y.BGSOUND?Re(T,B):F===y.DETAILS||F===y.ADDRESS||F===y.ARTICLE||F===y.SECTION||F===y.SUMMARY?$t(T,B):F===y.LISTING?Zt(T,B):F===y.MARQUEE?Rn(T,B):F===y.NOEMBED?Ie(T,B):F!==y.CAPTION&&Ot(T,B);break;case 8:F===y.BASEFONT?Re(T,B):F===y.FRAMESET?function(ue,We){let Tt=ue.openElements.tryPeekProperlyNestedBodyElement();ue.framesetOk&&Tt&&(ue.treeAdapter.detachNode(Tt),ue.openElements.popAllUpToHtmlElement(),ue._insertElement(We,A.HTML),ue.insertionMode=ke)}(T,B):F===y.FIELDSET?$t(T,B):F===y.TEXTAREA?function(ue,We){ue._insertElement(We,A.HTML),ue.skipNextNewLine=!0,ue.tokenizer.state=s.MODE.RCDATA,ue.originalInsertionMode=ue.insertionMode,ue.framesetOk=!1,ue.insertionMode=te}(T,B):F===y.TEMPLATE?Re(T,B):F===y.NOSCRIPT?T.options.scriptingEnabled?Ie(T,B):Ot(T,B):F===y.OPTGROUP?Qe(T,B):F!==y.COLGROUP&&Ot(T,B);break;case 9:F===y.PLAINTEXT?function(ue,We){ue.openElements.hasInButtonScope(y.P)&&ue._closePElement(),ue._insertElement(We,A.HTML),ue.tokenizer.state=s.MODE.PLAINTEXT}(T,B):Ot(T,B);break;case 10:F===y.BLOCKQUOTE||F===y.FIGCAPTION?$t(T,B):Ot(T,B);break;default:Ot(T,B)}}function _n(T,B){let F=B.tagName;T.openElements.hasInScope(F)&&(T.openElements.generateImpliedEndTags(),T.openElements.popUntilTagNamePopped(F))}function gn(T,B){let F=B.tagName;T.openElements.hasInScope(F)&&(T.openElements.generateImpliedEndTags(),T.openElements.popUntilTagNamePopped(F),T.activeFormattingElements.clearToLastMarker())}function nn(T,B){let F=B.tagName;for(let ue=T.openElements.stackTop;ue>0;ue--){let We=T.openElements.items[ue];if(T.treeAdapter.getTagName(We)===F){T.openElements.generateImpliedEndTagsWithExclusion(F),T.openElements.popUntilElementPopped(We);break}if(T._isSpecialElement(We))break}}function Zn(T,B){let F=B.tagName;switch(F.length){case 1:F===y.A||F===y.B||F===y.I||F===y.S||F===y.U?pe(T,B):F===y.P?function(ue){ue.openElements.hasInButtonScope(y.P)||ue._insertFakeElement(y.P),ue._closePElement()}(T):nn(T,B);break;case 2:F===y.DL||F===y.UL||F===y.OL?_n(T,B):F===y.LI?function(ue){ue.openElements.hasInListItemScope(y.LI)&&(ue.openElements.generateImpliedEndTagsWithExclusion(y.LI),ue.openElements.popUntilTagNamePopped(y.LI))}(T):F===y.DD||F===y.DT?function(ue,We){let Tt=We.tagName;ue.openElements.hasInScope(Tt)&&(ue.openElements.generateImpliedEndTagsWithExclusion(Tt),ue.openElements.popUntilTagNamePopped(Tt))}(T,B):F===y.H1||F===y.H2||F===y.H3||F===y.H4||F===y.H5||F===y.H6?function(ue){ue.openElements.hasNumberedHeaderInScope()&&(ue.openElements.generateImpliedEndTags(),ue.openElements.popUntilNumberedHeaderPopped())}(T):F===y.BR?function(ue){ue._reconstructActiveFormattingElements(),ue._insertFakeElement(y.BR),ue.openElements.pop(),ue.framesetOk=!1}(T):F===y.EM||F===y.TT?pe(T,B):nn(T,B);break;case 3:F===y.BIG?pe(T,B):F===y.DIR||F===y.DIV||F===y.NAV||F===y.PRE?_n(T,B):nn(T,B);break;case 4:F===y.BODY?function(ue){ue.openElements.hasInScope(y.BODY)&&(ue.insertionMode=ze)}(T):F===y.HTML?function(ue,We){ue.openElements.hasInScope(y.BODY)&&(ue.insertionMode=ze,ue._processToken(We))}(T,B):F===y.FORM?function(ue){let We=ue.openElements.tmplCount>0,Tt=ue.formElement;We||(ue.formElement=null),(Tt||We)&&ue.openElements.hasInScope(y.FORM)&&(ue.openElements.generateImpliedEndTags(),We?ue.openElements.popUntilTagNamePopped(y.FORM):ue.openElements.remove(Tt))}(T):F===y.CODE||F===y.FONT||F===y.NOBR?pe(T,B):F===y.MAIN||F===y.MENU?_n(T,B):nn(T,B);break;case 5:F===y.ASIDE?_n(T,B):F===y.SMALL?pe(T,B):nn(T,B);break;case 6:F===y.CENTER||F===y.FIGURE||F===y.FOOTER||F===y.HEADER||F===y.HGROUP||F===y.DIALOG?_n(T,B):F===y.APPLET||F===y.OBJECT?gn(T,B):F===y.STRIKE||F===y.STRONG?pe(T,B):nn(T,B);break;case 7:F===y.ADDRESS||F===y.ARTICLE||F===y.DETAILS||F===y.SECTION||F===y.SUMMARY||F===y.LISTING?_n(T,B):F===y.MARQUEE?gn(T,B):nn(T,B);break;case 8:F===y.FIELDSET?_n(T,B):F===y.TEMPLATE?st(T,B):nn(T,B);break;case 10:F===y.BLOCKQUOTE||F===y.FIGCAPTION?_n(T,B):nn(T,B);break;default:nn(T,B)}}function yn(T,B){T.tmplInsertionModeStackTop>-1?Dt(T,B):T.stopped=!0}function cn(T,B){let F=T.openElements.currentTagName;F===y.TABLE||F===y.TBODY||F===y.TFOOT||F===y.THEAD||F===y.TR?(T.pendingCharacterTokens=[],T.hasNonWhitespacePendingCharacterToken=!1,T.originalInsertionMode=T.insertionMode,T.insertionMode=Fe,T._processToken(B)):an(T,B)}function ni(T,B){let F=B.tagName;switch(F.length){case 2:F===y.TD||F===y.TH||F===y.TR?function(ue,We){ue.openElements.clearBackToTableContext(),ue._insertFakeElement(y.TBODY),ue.insertionMode=ge,ue._processToken(We)}(T,B):an(T,B);break;case 3:F===y.COL?function(ue,We){ue.openElements.clearBackToTableContext(),ue._insertFakeElement(y.COLGROUP),ue.insertionMode=we,ue._processToken(We)}(T,B):an(T,B);break;case 4:F===y.FORM?function(ue,We){ue.formElement||ue.openElements.tmplCount!==0||(ue._insertElement(We,A.HTML),ue.formElement=ue.openElements.current,ue.openElements.pop())}(T,B):an(T,B);break;case 5:F===y.TABLE?function(ue,We){ue.openElements.hasInTableScope(y.TABLE)&&(ue.openElements.popUntilTagNamePopped(y.TABLE),ue._resetInsertionMode(),ue._processToken(We))}(T,B):F===y.STYLE?Re(T,B):F===y.TBODY||F===y.TFOOT||F===y.THEAD?function(ue,We){ue.openElements.clearBackToTableContext(),ue._insertElement(We,A.HTML),ue.insertionMode=ge}(T,B):F===y.INPUT?function(ue,We){let Tt=s.getTokenAttr(We,k.TYPE);Tt&&Tt.toLowerCase()===V?ue._appendElement(We,A.HTML):an(ue,We),We.ackSelfClosing=!0}(T,B):an(T,B);break;case 6:F===y.SCRIPT?Re(T,B):an(T,B);break;case 7:F===y.CAPTION?function(ue,We){ue.openElements.clearBackToTableContext(),ue.activeFormattingElements.insertMarker(),ue._insertElement(We,A.HTML),ue.insertionMode=Ge}(T,B):an(T,B);break;case 8:F===y.COLGROUP?function(ue,We){ue.openElements.clearBackToTableContext(),ue._insertElement(We,A.HTML),ue.insertionMode=we}(T,B):F===y.TEMPLATE?Re(T,B):an(T,B);break;default:an(T,B)}}function fn(T,B){let F=B.tagName;F===y.TABLE?T.openElements.hasInTableScope(y.TABLE)&&(T.openElements.popUntilTagNamePopped(y.TABLE),T._resetInsertionMode()):F===y.TEMPLATE?st(T,B):F!==y.BODY&&F!==y.CAPTION&&F!==y.COL&&F!==y.COLGROUP&&F!==y.HTML&&F!==y.TBODY&&F!==y.TD&&F!==y.TFOOT&&F!==y.TH&&F!==y.THEAD&&F!==y.TR&&an(T,B)}function an(T,B){let F=T.fosterParentingEnabled;T.fosterParentingEnabled=!0,T._processTokenInBodyMode(B),T.fosterParentingEnabled=F}function bn(T,B){let F=0;if(T.hasNonWhitespacePendingCharacterToken)for(;F<T.pendingCharacterTokens.length;F++)an(T,T.pendingCharacterTokens[F]);else for(;F<T.pendingCharacterTokens.length;F++)T._insertCharacters(T.pendingCharacterTokens[F]);T.insertionMode=T.originalInsertionMode,T._processToken(B)}function Vn(T,B){T.openElements.currentTagName===y.COLGROUP&&(T.openElements.pop(),T.insertionMode=de,T._processToken(B))}function Vt(T,B){let F=B.tagName;F===y.HTML?It(T,B):F===y.OPTION?(T.openElements.currentTagName===y.OPTION&&T.openElements.pop(),T._insertElement(B,A.HTML)):F===y.OPTGROUP?(T.openElements.currentTagName===y.OPTION&&T.openElements.pop(),T.openElements.currentTagName===y.OPTGROUP&&T.openElements.pop(),T._insertElement(B,A.HTML)):F===y.INPUT||F===y.KEYGEN||F===y.TEXTAREA||F===y.SELECT?T.openElements.hasInSelectScope(y.SELECT)&&(T.openElements.popUntilTagNamePopped(y.SELECT),T._resetInsertionMode(),F!==y.SELECT&&T._processToken(B)):F!==y.SCRIPT&&F!==y.TEMPLATE||Re(T,B)}function jn(T,B){let F=B.tagName;if(F===y.OPTGROUP){let ue=T.openElements.items[T.openElements.stackTop-1],We=ue&&T.treeAdapter.getTagName(ue);T.openElements.currentTagName===y.OPTION&&We===y.OPTGROUP&&T.openElements.pop(),T.openElements.currentTagName===y.OPTGROUP&&T.openElements.pop()}else F===y.OPTION?T.openElements.currentTagName===y.OPTION&&T.openElements.pop():F===y.SELECT&&T.openElements.hasInSelectScope(y.SELECT)?(T.openElements.popUntilTagNamePopped(y.SELECT),T._resetInsertionMode()):F===y.TEMPLATE&&st(T,B)}function Dt(T,B){T.openElements.tmplCount>0?(T.openElements.popUntilTagNamePopped(y.TEMPLATE),T.activeFormattingElements.clearToLastMarker(),T._popTmplInsertionMode(),T._resetInsertionMode(),T._processToken(B)):T.stopped=!0}function Pn(T,B){T.insertionMode=Z,T._processToken(B)}function un(T,B){T.insertionMode=Z,T._processToken(B)}n.exports=class{constructor(T){this.options=C(N,T),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&h.install(this,p),this.options.onParseError&&h.install(this,f,{onParseError:this.options.onParseError})}parse(T){let B=this.treeAdapter.createDocument();return this._bootstrap(B,null),this.tokenizer.write(T,!0),this._runParsingLoop(null),B}parseFragment(T,B){B||(B=this.treeAdapter.createElement(y.TEMPLATE,A.HTML,[]));let F=this.treeAdapter.createElement("documentmock",A.HTML,[]);this._bootstrap(F,B),this.treeAdapter.getTagName(B)===y.TEMPLATE&&this._pushTmplInsertionMode(Ne),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(T,!0),this._runParsingLoop(null);let ue=this.treeAdapter.getFirstChild(F),We=this.treeAdapter.createDocumentFragment();return this._adoptNodes(ue,We),We}_bootstrap(T,B){this.tokenizer=new s(this.options),this.stopped=!1,this.insertionMode=H,this.originalInsertionMode="",this.document=T,this.fragmentContext=B,this.headElement=null,this.formElement=null,this.openElements=new c(this.document,this.treeAdapter),this.activeFormattingElements=new d(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(T){for(;!this.stopped;){this._setupTokenizerCDATAMode();let B=this.tokenizer.getNextToken();if(B.type===s.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,B.type===s.WHITESPACE_CHARACTER_TOKEN&&B.chars[0]===`
`)){if(B.chars.length===1)continue;B.chars=B.chars.substr(1)}if(this._processInputToken(B),T&&this.pendingScript)break}}runParsingLoopForCurrentChunk(T,B){if(this._runParsingLoop(B),B&&this.pendingScript){let F=this.pendingScript;return this.pendingScript=null,void B(F)}T&&T()}_setupTokenizerCDATAMode(){let T=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=T&&T!==this.document&&this.treeAdapter.getNamespaceURI(T)!==A.HTML&&!this._isIntegrationPoint(T)}_switchToTextParsing(T,B){this._insertElement(T,A.HTML),this.tokenizer.state=B,this.originalInsertionMode=this.insertionMode,this.insertionMode=te}switchToPlaintextParsing(){this.insertionMode=te,this.originalInsertionMode=Z,this.tokenizer.state=s.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let T=this.fragmentContext;do{if(this.treeAdapter.getTagName(T)===y.FORM){this.formElement=T;break}T=this.treeAdapter.getParentNode(T)}while(T)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===A.HTML){let T=this.treeAdapter.getTagName(this.fragmentContext);T===y.TITLE||T===y.TEXTAREA?this.tokenizer.state=s.MODE.RCDATA:T===y.STYLE||T===y.XMP||T===y.IFRAME||T===y.NOEMBED||T===y.NOFRAMES||T===y.NOSCRIPT?this.tokenizer.state=s.MODE.RAWTEXT:T===y.SCRIPT?this.tokenizer.state=s.MODE.SCRIPT_DATA:T===y.PLAINTEXT&&(this.tokenizer.state=s.MODE.PLAINTEXT)}}_setDocumentType(T){let B=T.name||"",F=T.publicId||"",ue=T.systemId||"";this.treeAdapter.setDocumentType(this.document,B,F,ue)}_attachElementToTree(T){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(T);else{let B=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(B,T)}}_appendElement(T,B){let F=this.treeAdapter.createElement(T.tagName,B,T.attrs);this._attachElementToTree(F)}_insertElement(T,B){let F=this.treeAdapter.createElement(T.tagName,B,T.attrs);this._attachElementToTree(F),this.openElements.push(F)}_insertFakeElement(T){let B=this.treeAdapter.createElement(T,A.HTML,[]);this._attachElementToTree(B),this.openElements.push(B)}_insertTemplate(T){let B=this.treeAdapter.createElement(T.tagName,A.HTML,T.attrs),F=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(B,F),this._attachElementToTree(B),this.openElements.push(B)}_insertFakeRootElement(){let T=this.treeAdapter.createElement(y.HTML,A.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,T),this.openElements.push(T)}_appendCommentNode(T,B){let F=this.treeAdapter.createCommentNode(T.data);this.treeAdapter.appendChild(B,F)}_insertCharacters(T){if(this._shouldFosterParentOnInsertion())this._fosterParentText(T.chars);else{let B=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(B,T.chars)}}_adoptNodes(T,B){for(let F=this.treeAdapter.getFirstChild(T);F;F=this.treeAdapter.getFirstChild(T))this.treeAdapter.detachNode(F),this.treeAdapter.appendChild(B,F)}_shouldProcessTokenInForeignContent(T){let B=this._getAdjustedCurrentElement();if(!B||B===this.document)return!1;let F=this.treeAdapter.getNamespaceURI(B);if(F===A.HTML||this.treeAdapter.getTagName(B)===y.ANNOTATION_XML&&F===A.MATHML&&T.type===s.START_TAG_TOKEN&&T.tagName===y.SVG)return!1;let ue=T.type===s.CHARACTER_TOKEN||T.type===s.NULL_CHARACTER_TOKEN||T.type===s.WHITESPACE_CHARACTER_TOKEN;return(!(T.type===s.START_TAG_TOKEN&&T.tagName!==y.MGLYPH&&T.tagName!==y.MALIGNMARK)&&!ue||!this._isIntegrationPoint(B,A.MATHML))&&(T.type!==s.START_TAG_TOKEN&&!ue||!this._isIntegrationPoint(B,A.HTML))&&T.type!==s.EOF_TOKEN}_processToken(T){ut[this.insertionMode][T.type](this,T)}_processTokenInBodyMode(T){ut[Z][T.type](this,T)}_processTokenInForeignContent(T){T.type===s.CHARACTER_TOKEN?function(B,F){B._insertCharacters(F),B.framesetOk=!1}(this,T):T.type===s.NULL_CHARACTER_TOKEN?function(B,F){F.chars=P.REPLACEMENT_CHARACTER,B._insertCharacters(F)}(this,T):T.type===s.WHITESPACE_CHARACTER_TOKEN?At(this,T):T.type===s.COMMENT_TOKEN?ft(this,T):T.type===s.START_TAG_TOKEN?function(B,F){if(x.causesExit(F)&&!B.fragmentContext){for(;B.treeAdapter.getNamespaceURI(B.openElements.current)!==A.HTML&&!B._isIntegrationPoint(B.openElements.current);)B.openElements.pop();B._processToken(F)}else{let ue=B._getAdjustedCurrentElement(),We=B.treeAdapter.getNamespaceURI(ue);We===A.MATHML?x.adjustTokenMathMLAttrs(F):We===A.SVG&&(x.adjustTokenSVGTagName(F),x.adjustTokenSVGAttrs(F)),x.adjustTokenXMLAttrs(F),F.selfClosing?B._appendElement(F,We):B._insertElement(F,We),F.ackSelfClosing=!0}}(this,T):T.type===s.END_TAG_TOKEN&&function(B,F){for(let ue=B.openElements.stackTop;ue>0;ue--){let We=B.openElements.items[ue];if(B.treeAdapter.getNamespaceURI(We)===A.HTML){B._processToken(F);break}if(B.treeAdapter.getTagName(We).toLowerCase()===F.tagName){B.openElements.popUntilElementPopped(We);break}}}(this,T)}_processInputToken(T){this._shouldProcessTokenInForeignContent(T)?this._processTokenInForeignContent(T):this._processToken(T),T.type===s.START_TAG_TOKEN&&T.selfClosing&&!T.ackSelfClosing&&this._err(w.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(T,B){let F=this.treeAdapter.getTagName(T),ue=this.treeAdapter.getNamespaceURI(T),We=this.treeAdapter.getAttrList(T);return x.isIntegrationPoint(F,ue,We,B)}_reconstructActiveFormattingElements(){let T=this.activeFormattingElements.length;if(T){let B=T,F=null;do if(B--,F=this.activeFormattingElements.entries[B],F.type===d.MARKER_ENTRY||this.openElements.contains(F.element)){B++;break}while(B>0);for(let ue=B;ue<T;ue++)F=this.activeFormattingElements.entries[ue],this._insertElement(F.token,this.treeAdapter.getNamespaceURI(F.element)),F.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ne}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(y.P),this.openElements.popUntilTagNamePopped(y.P)}_resetInsertionMode(){for(let T=this.openElements.stackTop,B=!1;T>=0;T--){let F=this.openElements.items[T];T===0&&(B=!0,this.fragmentContext&&(F=this.fragmentContext));let ue=this.treeAdapter.getTagName(F),We=_e[ue];if(We){this.insertionMode=We;break}if(!(B||ue!==y.TD&&ue!==y.TH)){this.insertionMode=he;break}if(!B&&ue===y.HEAD){this.insertionMode=K;break}if(ue===y.SELECT){this._resetInsertionModeForSelect(T);break}if(ue===y.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(ue===y.HTML){this.insertionMode=this.headElement?E:G;break}if(B){this.insertionMode=Z;break}}}_resetInsertionModeForSelect(T){if(T>0)for(let B=T-1;B>0;B--){let F=this.openElements.items[B],ue=this.treeAdapter.getTagName(F);if(ue===y.TEMPLATE)break;if(ue===y.TABLE)return void(this.insertionMode=Te)}this.insertionMode=Oe}_pushTmplInsertionMode(T){this.tmplInsertionModeStack.push(T),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=T}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(T){let B=this.treeAdapter.getTagName(T);return B===y.TABLE||B===y.TBODY||B===y.TFOOT||B===y.THEAD||B===y.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){let T={parent:null,beforeElement:null};for(let B=this.openElements.stackTop;B>=0;B--){let F=this.openElements.items[B],ue=this.treeAdapter.getTagName(F),We=this.treeAdapter.getNamespaceURI(F);if(ue===y.TEMPLATE&&We===A.HTML){T.parent=this.treeAdapter.getTemplateContent(F);break}if(ue===y.TABLE){T.parent=this.treeAdapter.getParentNode(F),T.parent?T.beforeElement=F:T.parent=this.openElements.items[B-1];break}}return T.parent||(T.parent=this.openElements.items[0]),T}_fosterParentElement(T){let B=this._findFosterParentingLocation();B.beforeElement?this.treeAdapter.insertBefore(B.parent,T,B.beforeElement):this.treeAdapter.appendChild(B.parent,T)}_fosterParentText(T){let B=this._findFosterParentingLocation();B.beforeElement?this.treeAdapter.insertTextBefore(B.parent,T,B.beforeElement):this.treeAdapter.insertText(B.parent,T)}_isSpecialElement(T){let B=this.treeAdapter.getTagName(T),F=this.treeAdapter.getNamespaceURI(T);return M.SPECIAL_ELEMENTS[F][B]}}},6519:(n,r,a)=>{"use strict";let s=a(6152),c=s.TAG_NAMES,d=s.NAMESPACES;function p(v){switch(v.length){case 1:return v===c.P;case 2:return v===c.RB||v===c.RP||v===c.RT||v===c.DD||v===c.DT||v===c.LI;case 3:return v===c.RTC;case 6:return v===c.OPTION;case 8:return v===c.OPTGROUP}return!1}function f(v){switch(v.length){case 1:return v===c.P;case 2:return v===c.RB||v===c.RP||v===c.RT||v===c.DD||v===c.DT||v===c.LI||v===c.TD||v===c.TH||v===c.TR;case 3:return v===c.RTC;case 5:return v===c.TBODY||v===c.TFOOT||v===c.THEAD;case 6:return v===c.OPTION;case 7:return v===c.CAPTION;case 8:return v===c.OPTGROUP||v===c.COLGROUP}return!1}function h(v,C){switch(v.length){case 2:if(v===c.TD||v===c.TH)return C===d.HTML;if(v===c.MI||v===c.MO||v===c.MN||v===c.MS)return C===d.MATHML;break;case 4:if(v===c.HTML)return C===d.HTML;if(v===c.DESC)return C===d.SVG;break;case 5:if(v===c.TABLE)return C===d.HTML;if(v===c.MTEXT)return C===d.MATHML;if(v===c.TITLE)return C===d.SVG;break;case 6:return(v===c.APPLET||v===c.OBJECT)&&C===d.HTML;case 7:return(v===c.CAPTION||v===c.MARQUEE)&&C===d.HTML;case 8:return v===c.TEMPLATE&&C===d.HTML;case 13:return v===c.FOREIGN_OBJECT&&C===d.SVG;case 14:return v===c.ANNOTATION_XML&&C===d.MATHML}return!1}n.exports=class{constructor(v,C){this.stackTop=-1,this.items=[],this.current=v,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=C}_indexOf(v){let C=-1;for(let b=this.stackTop;b>=0;b--)if(this.items[b]===v){C=b;break}return C}_isInTemplate(){return this.currentTagName===c.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===d.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(v){this.items[++this.stackTop]=v,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(v,C){let b=this._indexOf(v);this.items[b]=C,b===this.stackTop&&this._updateCurrentElement()}insertAfter(v,C){let b=this._indexOf(v)+1;this.items.splice(b,0,C),b===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(v){for(;this.stackTop>-1;){let C=this.currentTagName,b=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),C===v&&b===d.HTML)break}}popUntilElementPopped(v){for(;this.stackTop>-1;){let C=this.current;if(this.pop(),C===v)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){let v=this.currentTagName,C=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),v===c.H1||v===c.H2||v===c.H3||v===c.H4||v===c.H5||v===c.H6&&C===d.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){let v=this.currentTagName,C=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),v===c.TD||v===c.TH&&C===d.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==c.TABLE&&this.currentTagName!==c.TEMPLATE&&this.currentTagName!==c.HTML||this.treeAdapter.getNamespaceURI(this.current)!==d.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==c.TBODY&&this.currentTagName!==c.TFOOT&&this.currentTagName!==c.THEAD&&this.currentTagName!==c.TEMPLATE&&this.currentTagName!==c.HTML||this.treeAdapter.getNamespaceURI(this.current)!==d.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==c.TR&&this.currentTagName!==c.TEMPLATE&&this.currentTagName!==c.HTML||this.treeAdapter.getNamespaceURI(this.current)!==d.HTML;)this.pop()}remove(v){for(let C=this.stackTop;C>=0;C--)if(this.items[C]===v){this.items.splice(C,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){let v=this.items[1];return v&&this.treeAdapter.getTagName(v)===c.BODY?v:null}contains(v){return this._indexOf(v)>-1}getCommonAncestor(v){let C=this._indexOf(v);return--C>=0?this.items[C]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.currentTagName===c.HTML}hasInScope(v){for(let C=this.stackTop;C>=0;C--){let b=this.treeAdapter.getTagName(this.items[C]),x=this.treeAdapter.getNamespaceURI(this.items[C]);if(b===v&&x===d.HTML)return!0;if(h(b,x))return!1}return!0}hasNumberedHeaderInScope(){for(let v=this.stackTop;v>=0;v--){let C=this.treeAdapter.getTagName(this.items[v]),b=this.treeAdapter.getNamespaceURI(this.items[v]);if((C===c.H1||C===c.H2||C===c.H3||C===c.H4||C===c.H5||C===c.H6)&&b===d.HTML)return!0;if(h(C,b))return!1}return!0}hasInListItemScope(v){for(let C=this.stackTop;C>=0;C--){let b=this.treeAdapter.getTagName(this.items[C]),x=this.treeAdapter.getNamespaceURI(this.items[C]);if(b===v&&x===d.HTML)return!0;if((b===c.UL||b===c.OL)&&x===d.HTML||h(b,x))return!1}return!0}hasInButtonScope(v){for(let C=this.stackTop;C>=0;C--){let b=this.treeAdapter.getTagName(this.items[C]),x=this.treeAdapter.getNamespaceURI(this.items[C]);if(b===v&&x===d.HTML)return!0;if(b===c.BUTTON&&x===d.HTML||h(b,x))return!1}return!0}hasInTableScope(v){for(let C=this.stackTop;C>=0;C--){let b=this.treeAdapter.getTagName(this.items[C]);if(this.treeAdapter.getNamespaceURI(this.items[C])===d.HTML){if(b===v)return!0;if(b===c.TABLE||b===c.TEMPLATE||b===c.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let v=this.stackTop;v>=0;v--){let C=this.treeAdapter.getTagName(this.items[v]);if(this.treeAdapter.getNamespaceURI(this.items[v])===d.HTML){if(C===c.TBODY||C===c.THEAD||C===c.TFOOT)return!0;if(C===c.TABLE||C===c.HTML)return!1}}return!0}hasInSelectScope(v){for(let C=this.stackTop;C>=0;C--){let b=this.treeAdapter.getTagName(this.items[C]);if(this.treeAdapter.getNamespaceURI(this.items[C])===d.HTML){if(b===v)return!0;if(b!==c.OPTION&&b!==c.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;p(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;f(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(v){for(;p(this.currentTagName)&&this.currentTagName!==v;)this.pop()}}},3988:(n,r,a)=>{"use strict";let s=a(7296),c=a(8904),d=a(1515),p=a(6152),f=p.TAG_NAMES,h=p.NAMESPACES,v={treeAdapter:s},C=/&/g,b=/\u00a0/g,x=/"/g,w=/</g,P=/>/g;class M{constructor(A,k){this.options=c(v,k),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=A}serialize(){return this._serializeChildNodes(this.startNode),this.html}_serializeChildNodes(A){let k=this.treeAdapter.getChildNodes(A);if(k)for(let N=0,V=k.length;N<V;N++){let j=k[N];this.treeAdapter.isElementNode(j)?this._serializeElement(j):this.treeAdapter.isTextNode(j)?this._serializeTextNode(j):this.treeAdapter.isCommentNode(j)?this._serializeCommentNode(j):this.treeAdapter.isDocumentTypeNode(j)&&this._serializeDocumentTypeNode(j)}}_serializeElement(A){let k=this.treeAdapter.getTagName(A),N=this.treeAdapter.getNamespaceURI(A);if(this.html+="<"+k,this._serializeAttributes(A),this.html+=">",k!==f.AREA&&k!==f.BASE&&k!==f.BASEFONT&&k!==f.BGSOUND&&k!==f.BR&&k!==f.COL&&k!==f.EMBED&&k!==f.FRAME&&k!==f.HR&&k!==f.IMG&&k!==f.INPUT&&k!==f.KEYGEN&&k!==f.LINK&&k!==f.META&&k!==f.PARAM&&k!==f.SOURCE&&k!==f.TRACK&&k!==f.WBR){let V=k===f.TEMPLATE&&N===h.HTML?this.treeAdapter.getTemplateContent(A):A;this._serializeChildNodes(V),this.html+="</"+k+">"}}_serializeAttributes(A){let k=this.treeAdapter.getAttrList(A);for(let N=0,V=k.length;N<V;N++){let j=k[N],R=M.escapeString(j.value,!0);this.html+=" ",j.namespace?j.namespace===h.XML?this.html+="xml:"+j.name:j.namespace===h.XMLNS?(j.name!=="xmlns"&&(this.html+="xmlns:"),this.html+=j.name):j.namespace===h.XLINK?this.html+="xlink:"+j.name:this.html+=j.prefix+":"+j.name:this.html+=j.name,this.html+='="'+R+'"'}}_serializeTextNode(A){let k=this.treeAdapter.getTextNodeContent(A),N=this.treeAdapter.getParentNode(A),V;N&&this.treeAdapter.isElementNode(N)&&(V=this.treeAdapter.getTagName(N)),V===f.STYLE||V===f.SCRIPT||V===f.XMP||V===f.IFRAME||V===f.NOEMBED||V===f.NOFRAMES||V===f.PLAINTEXT||V===f.NOSCRIPT?this.html+=k:this.html+=M.escapeString(k,!1)}_serializeCommentNode(A){this.html+="<!--"+this.treeAdapter.getCommentNodeContent(A)+"-->"}_serializeDocumentTypeNode(A){let k=this.treeAdapter.getDocumentTypeNodeName(A);this.html+="<"+d.serializeContent(k,null,null)+">"}}M.escapeString=function(y,A){return y=y.replace(C,"&amp;").replace(b,"&nbsp;"),y=A?y.replace(x,"&quot;"):y.replace(w,"&lt;").replace(P,"&gt;")},n.exports=M},5763:(n,r,a)=>{"use strict";let s=a(7118),c=a(4284),d=a(5482),p=a(1734),f=c.CODE_POINTS,h=c.CODE_POINT_SEQUENCES,v={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},C=1,b=2,x=4,w=C|b|x,P="DATA_STATE",M="RCDATA_STATE",y="RAWTEXT_STATE",A="SCRIPT_DATA_STATE",k="PLAINTEXT_STATE",N="TAG_OPEN_STATE",V="END_TAG_OPEN_STATE",j="TAG_NAME_STATE",R="RCDATA_LESS_THAN_SIGN_STATE",H="RCDATA_END_TAG_OPEN_STATE",I="RCDATA_END_TAG_NAME_STATE",G="RAWTEXT_LESS_THAN_SIGN_STATE",K="RAWTEXT_END_TAG_OPEN_STATE",J="RAWTEXT_END_TAG_NAME_STATE",E="SCRIPT_DATA_LESS_THAN_SIGN_STATE",Z="SCRIPT_DATA_END_TAG_OPEN_STATE",te="SCRIPT_DATA_END_TAG_NAME_STATE",de="SCRIPT_DATA_ESCAPE_START_STATE",Fe="SCRIPT_DATA_ESCAPE_START_DASH_STATE",Ge="SCRIPT_DATA_ESCAPED_STATE",we="SCRIPT_DATA_ESCAPED_DASH_STATE",ge="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",ne="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",he="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",Oe="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",Te="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",Ne="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",ze="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",ke="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",oe="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",Ue="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",ot="BEFORE_ATTRIBUTE_NAME_STATE",_e="ATTRIBUTE_NAME_STATE",Je="AFTER_ATTRIBUTE_NAME_STATE",ut="BEFORE_ATTRIBUTE_VALUE_STATE",at="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",U="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",re="ATTRIBUTE_VALUE_UNQUOTED_STATE",fe="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",Ee="SELF_CLOSING_START_TAG_STATE",Ke="BOGUS_COMMENT_STATE",pe="MARKUP_DECLARATION_OPEN_STATE",Se="COMMENT_START_STATE",Le="COMMENT_START_DASH_STATE",ft="COMMENT_STATE",qt="COMMENT_LESS_THAN_SIGN_STATE",At="COMMENT_LESS_THAN_SIGN_BANG_STATE",ce="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",Me="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",ie="COMMENT_END_DASH_STATE",Xe="COMMENT_END_STATE",Re="COMMENT_END_BANG_STATE",st="DOCTYPE_STATE",yt="BEFORE_DOCTYPE_NAME_STATE",bt="DOCTYPE_NAME_STATE",mt="AFTER_DOCTYPE_NAME_STATE",Et="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",Qt="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",$t="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",Zt="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",pn="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",Rn="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",se="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",xe="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Ie="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",Qe="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",vt="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Ot="BOGUS_DOCTYPE_STATE",It="CDATA_SECTION_STATE",_n="CDATA_SECTION_BRACKET_STATE",gn="CDATA_SECTION_END_STATE",nn="CHARACTER_REFERENCE_STATE",Zn="NAMED_CHARACTER_REFERENCE_STATE",yn="AMBIGUOS_AMPERSAND_STATE",cn="NUMERIC_CHARACTER_REFERENCE_STATE",ni="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",fn="DECIMAL_CHARACTER_REFERENCE_START_STATE",an="HEXADEMICAL_CHARACTER_REFERENCE_STATE",bn="DECIMAL_CHARACTER_REFERENCE_STATE",Vn="NUMERIC_CHARACTER_REFERENCE_END_STATE";function Vt(Nt){return Nt===f.SPACE||Nt===f.LINE_FEED||Nt===f.TABULATION||Nt===f.FORM_FEED}function jn(Nt){return Nt>=f.DIGIT_0&&Nt<=f.DIGIT_9}function Dt(Nt){return Nt>=f.LATIN_CAPITAL_A&&Nt<=f.LATIN_CAPITAL_Z}function Pn(Nt){return Nt>=f.LATIN_SMALL_A&&Nt<=f.LATIN_SMALL_Z}function un(Nt){return Pn(Nt)||Dt(Nt)}function T(Nt){return un(Nt)||jn(Nt)}function B(Nt){return Nt>=f.LATIN_CAPITAL_A&&Nt<=f.LATIN_CAPITAL_F}function F(Nt){return Nt>=f.LATIN_SMALL_A&&Nt<=f.LATIN_SMALL_F}function ue(Nt){return Nt+32}function We(Nt){return Nt<=65535?String.fromCharCode(Nt):(Nt-=65536,String.fromCharCode(Nt>>>10&1023|55296)+String.fromCharCode(56320|1023&Nt))}function Tt(Nt){return String.fromCharCode(ue(Nt))}function Rt(Nt,q){let qe=d[++Nt],Lt=++Nt,Mn=Lt+qe-1;for(;Lt<=Mn;){let ee=Lt+Mn>>>1,ve=d[ee];if(ve<q)Lt=ee+1;else{if(!(ve>q))return d[ee+qe];Mn=ee-1}}return-1}class Ft{constructor(){this.preprocessor=new s,this.tokenQueue=[],this.allowCDATA=!1,this.state=P,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(q){this._consume(),this._err(q),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;let q=this._consume();this._ensureHibernation()||this[this.state](q)}return this.tokenQueue.shift()}write(q,qe){this.active=!0,this.preprocessor.write(q,qe)}insertHtmlAtCurrentPos(q){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(q)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Ft.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(q){this.state=q,this._unconsume()}_consumeSequenceIfMatch(q,qe,Lt){let Mn=0,ee=!0,ve=q.length,$e,ct=0,dt=qe;for(;ct<ve;ct++){if(ct>0&&(dt=this._consume(),Mn++),dt===f.EOF){ee=!1;break}if($e=q[ct],dt!==$e&&(Lt||dt!==ue($e))){ee=!1;break}}if(!ee)for(;Mn--;)this._unconsume();return ee}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==h.SCRIPT_STRING.length)return!1;for(let q=0;q<this.tempBuff.length;q++)if(this.tempBuff[q]!==h.SCRIPT_STRING[q])return!1;return!0}_createStartTagToken(){this.currentToken={type:Ft.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:Ft.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:Ft.COMMENT_TOKEN,data:""}}_createDoctypeToken(q){this.currentToken={type:Ft.DOCTYPE_TOKEN,name:q,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(q,qe){this.currentCharacterToken={type:q,chars:qe}}_createEOFToken(){this.currentToken={type:Ft.EOF_TOKEN}}_createAttr(q){this.currentAttr={name:q,value:""}}_leaveAttrName(q){Ft.getTokenAttr(this.currentToken,this.currentAttr.name)===null?this.currentToken.attrs.push(this.currentAttr):this._err(p.duplicateAttribute),this.state=q}_leaveAttrValue(q){this.state=q}_emitCurrentToken(){this._emitCurrentCharacterToken();let q=this.currentToken;this.currentToken=null,q.type===Ft.START_TAG_TOKEN?this.lastStartTagName=q.tagName:q.type===Ft.END_TAG_TOKEN&&(q.attrs.length>0&&this._err(p.endTagWithAttributes),q.selfClosing&&this._err(p.endTagWithTrailingSolidus)),this.tokenQueue.push(q)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(q,qe){this.currentCharacterToken&&this.currentCharacterToken.type!==q&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=qe:this._createCharacterToken(q,qe)}_emitCodePoint(q){let qe=Ft.CHARACTER_TOKEN;Vt(q)?qe=Ft.WHITESPACE_CHARACTER_TOKEN:q===f.NULL&&(qe=Ft.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(qe,We(q))}_emitSeveralCodePoints(q){for(let qe=0;qe<q.length;qe++)this._emitCodePoint(q[qe])}_emitChars(q){this._appendCharToCurrentCharacterToken(Ft.CHARACTER_TOKEN,q)}_matchNamedCharacterReference(q){let qe=null,Lt=1,Mn=Rt(0,q);for(this.tempBuff.push(q);Mn>-1;){let ee=d[Mn],ve=ee<w;ve&&ee&C&&(qe=ee&b?[d[++Mn],d[++Mn]]:[d[++Mn]],Lt=0);let $e=this._consume();if(this.tempBuff.push($e),Lt++,$e===f.EOF)break;Mn=ve?ee&x?Rt(Mn,$e):-1:$e===ee?++Mn:-1}for(;Lt--;)this.tempBuff.pop(),this._unconsume();return qe}_isCharacterReferenceInAttribute(){return this.returnState===at||this.returnState===U||this.returnState===re}_isCharacterReferenceAttributeQuirk(q){if(!q&&this._isCharacterReferenceInAttribute()){let qe=this._consume();return this._unconsume(),qe===f.EQUALS_SIGN||T(qe)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let q=0;q<this.tempBuff.length;q++)this.currentAttr.value+=We(this.tempBuff[q]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[P](q){this.preprocessor.dropParsedChunk(),q===f.LESS_THAN_SIGN?this.state=N:q===f.AMPERSAND?(this.returnState=P,this.state=nn):q===f.NULL?(this._err(p.unexpectedNullCharacter),this._emitCodePoint(q)):q===f.EOF?this._emitEOFToken():this._emitCodePoint(q)}[M](q){this.preprocessor.dropParsedChunk(),q===f.AMPERSAND?(this.returnState=M,this.state=nn):q===f.LESS_THAN_SIGN?this.state=R:q===f.NULL?(this._err(p.unexpectedNullCharacter),this._emitChars(c.REPLACEMENT_CHARACTER)):q===f.EOF?this._emitEOFToken():this._emitCodePoint(q)}[y](q){this.preprocessor.dropParsedChunk(),q===f.LESS_THAN_SIGN?this.state=G:q===f.NULL?(this._err(p.unexpectedNullCharacter),this._emitChars(c.REPLACEMENT_CHARACTER)):q===f.EOF?this._emitEOFToken():this._emitCodePoint(q)}[A](q){this.preprocessor.dropParsedChunk(),q===f.LESS_THAN_SIGN?this.state=E:q===f.NULL?(this._err(p.unexpectedNullCharacter),this._emitChars(c.REPLACEMENT_CHARACTER)):q===f.EOF?this._emitEOFToken():this._emitCodePoint(q)}[k](q){this.preprocessor.dropParsedChunk(),q===f.NULL?(this._err(p.unexpectedNullCharacter),this._emitChars(c.REPLACEMENT_CHARACTER)):q===f.EOF?this._emitEOFToken():this._emitCodePoint(q)}[N](q){q===f.EXCLAMATION_MARK?this.state=pe:q===f.SOLIDUS?this.state=V:un(q)?(this._createStartTagToken(),this._reconsumeInState(j)):q===f.QUESTION_MARK?(this._err(p.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(Ke)):q===f.EOF?(this._err(p.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(p.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(P))}[V](q){un(q)?(this._createEndTagToken(),this._reconsumeInState(j)):q===f.GREATER_THAN_SIGN?(this._err(p.missingEndTagName),this.state=P):q===f.EOF?(this._err(p.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(p.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(Ke))}[j](q){Vt(q)?this.state=ot:q===f.SOLIDUS?this.state=Ee:q===f.GREATER_THAN_SIGN?(this.state=P,this._emitCurrentToken()):Dt(q)?this.currentToken.tagName+=Tt(q):q===f.NULL?(this._err(p.unexpectedNullCharacter),this.currentToken.tagName+=c.REPLACEMENT_CHARACTER):q===f.EOF?(this._err(p.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=We(q)}[R](q){q===f.SOLIDUS?(this.tempBuff=[],this.state=H):(this._emitChars("<"),this._reconsumeInState(M))}[H](q){un(q)?(this._createEndTagToken(),this._reconsumeInState(I)):(this._emitChars("</"),this._reconsumeInState(M))}[I](q){if(Dt(q))this.currentToken.tagName+=Tt(q),this.tempBuff.push(q);else if(Pn(q))this.currentToken.tagName+=We(q),this.tempBuff.push(q);else{if(this.lastStartTagName===this.currentToken.tagName){if(Vt(q))return void(this.state=ot);if(q===f.SOLIDUS)return void(this.state=Ee);if(q===f.GREATER_THAN_SIGN)return this.state=P,void this._emitCurrentToken()}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(M)}}[G](q){q===f.SOLIDUS?(this.tempBuff=[],this.state=K):(this._emitChars("<"),this._reconsumeInState(y))}[K](q){un(q)?(this._createEndTagToken(),this._reconsumeInState(J)):(this._emitChars("</"),this._reconsumeInState(y))}[J](q){if(Dt(q))this.currentToken.tagName+=Tt(q),this.tempBuff.push(q);else if(Pn(q))this.currentToken.tagName+=We(q),this.tempBuff.push(q);else{if(this.lastStartTagName===this.currentToken.tagName){if(Vt(q))return void(this.state=ot);if(q===f.SOLIDUS)return void(this.state=Ee);if(q===f.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=P)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(y)}}[E](q){q===f.SOLIDUS?(this.tempBuff=[],this.state=Z):q===f.EXCLAMATION_MARK?(this.state=de,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(A))}[Z](q){un(q)?(this._createEndTagToken(),this._reconsumeInState(te)):(this._emitChars("</"),this._reconsumeInState(A))}[te](q){if(Dt(q))this.currentToken.tagName+=Tt(q),this.tempBuff.push(q);else if(Pn(q))this.currentToken.tagName+=We(q),this.tempBuff.push(q);else{if(this.lastStartTagName===this.currentToken.tagName){if(Vt(q))return void(this.state=ot);if(q===f.SOLIDUS)return void(this.state=Ee);if(q===f.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=P)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(A)}}[de](q){q===f.HYPHEN_MINUS?(this.state=Fe,this._emitChars("-")):this._reconsumeInState(A)}[Fe](q){q===f.HYPHEN_MINUS?(this.state=ge,this._emitChars("-")):this._reconsumeInState(A)}[Ge](q){q===f.HYPHEN_MINUS?(this.state=we,this._emitChars("-")):q===f.LESS_THAN_SIGN?this.state=ne:q===f.NULL?(this._err(p.unexpectedNullCharacter),this._emitChars(c.REPLACEMENT_CHARACTER)):q===f.EOF?(this._err(p.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(q)}[we](q){q===f.HYPHEN_MINUS?(this.state=ge,this._emitChars("-")):q===f.LESS_THAN_SIGN?this.state=ne:q===f.NULL?(this._err(p.unexpectedNullCharacter),this.state=Ge,this._emitChars(c.REPLACEMENT_CHARACTER)):q===f.EOF?(this._err(p.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Ge,this._emitCodePoint(q))}[ge](q){q===f.HYPHEN_MINUS?this._emitChars("-"):q===f.LESS_THAN_SIGN?this.state=ne:q===f.GREATER_THAN_SIGN?(this.state=A,this._emitChars(">")):q===f.NULL?(this._err(p.unexpectedNullCharacter),this.state=Ge,this._emitChars(c.REPLACEMENT_CHARACTER)):q===f.EOF?(this._err(p.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Ge,this._emitCodePoint(q))}[ne](q){q===f.SOLIDUS?(this.tempBuff=[],this.state=he):un(q)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(Te)):(this._emitChars("<"),this._reconsumeInState(Ge))}[he](q){un(q)?(this._createEndTagToken(),this._reconsumeInState(Oe)):(this._emitChars("</"),this._reconsumeInState(Ge))}[Oe](q){if(Dt(q))this.currentToken.tagName+=Tt(q),this.tempBuff.push(q);else if(Pn(q))this.currentToken.tagName+=We(q),this.tempBuff.push(q);else{if(this.lastStartTagName===this.currentToken.tagName){if(Vt(q))return void(this.state=ot);if(q===f.SOLIDUS)return void(this.state=Ee);if(q===f.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=P)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(Ge)}}[Te](q){Vt(q)||q===f.SOLIDUS||q===f.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?Ne:Ge,this._emitCodePoint(q)):Dt(q)?(this.tempBuff.push(ue(q)),this._emitCodePoint(q)):Pn(q)?(this.tempBuff.push(q),this._emitCodePoint(q)):this._reconsumeInState(Ge)}[Ne](q){q===f.HYPHEN_MINUS?(this.state=ze,this._emitChars("-")):q===f.LESS_THAN_SIGN?(this.state=oe,this._emitChars("<")):q===f.NULL?(this._err(p.unexpectedNullCharacter),this._emitChars(c.REPLACEMENT_CHARACTER)):q===f.EOF?(this._err(p.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(q)}[ze](q){q===f.HYPHEN_MINUS?(this.state=ke,this._emitChars("-")):q===f.LESS_THAN_SIGN?(this.state=oe,this._emitChars("<")):q===f.NULL?(this._err(p.unexpectedNullCharacter),this.state=Ne,this._emitChars(c.REPLACEMENT_CHARACTER)):q===f.EOF?(this._err(p.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Ne,this._emitCodePoint(q))}[ke](q){q===f.HYPHEN_MINUS?this._emitChars("-"):q===f.LESS_THAN_SIGN?(this.state=oe,this._emitChars("<")):q===f.GREATER_THAN_SIGN?(this.state=A,this._emitChars(">")):q===f.NULL?(this._err(p.unexpectedNullCharacter),this.state=Ne,this._emitChars(c.REPLACEMENT_CHARACTER)):q===f.EOF?(this._err(p.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Ne,this._emitCodePoint(q))}[oe](q){q===f.SOLIDUS?(this.tempBuff=[],this.state=Ue,this._emitChars("/")):this._reconsumeInState(Ne)}[Ue](q){Vt(q)||q===f.SOLIDUS||q===f.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?Ge:Ne,this._emitCodePoint(q)):Dt(q)?(this.tempBuff.push(ue(q)),this._emitCodePoint(q)):Pn(q)?(this.tempBuff.push(q),this._emitCodePoint(q)):this._reconsumeInState(Ne)}[ot](q){Vt(q)||(q===f.SOLIDUS||q===f.GREATER_THAN_SIGN||q===f.EOF?this._reconsumeInState(Je):q===f.EQUALS_SIGN?(this._err(p.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=_e):(this._createAttr(""),this._reconsumeInState(_e)))}[_e](q){Vt(q)||q===f.SOLIDUS||q===f.GREATER_THAN_SIGN||q===f.EOF?(this._leaveAttrName(Je),this._unconsume()):q===f.EQUALS_SIGN?this._leaveAttrName(ut):Dt(q)?this.currentAttr.name+=Tt(q):q===f.QUOTATION_MARK||q===f.APOSTROPHE||q===f.LESS_THAN_SIGN?(this._err(p.unexpectedCharacterInAttributeName),this.currentAttr.name+=We(q)):q===f.NULL?(this._err(p.unexpectedNullCharacter),this.currentAttr.name+=c.REPLACEMENT_CHARACTER):this.currentAttr.name+=We(q)}[Je](q){Vt(q)||(q===f.SOLIDUS?this.state=Ee:q===f.EQUALS_SIGN?this.state=ut:q===f.GREATER_THAN_SIGN?(this.state=P,this._emitCurrentToken()):q===f.EOF?(this._err(p.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(_e)))}[ut](q){Vt(q)||(q===f.QUOTATION_MARK?this.state=at:q===f.APOSTROPHE?this.state=U:q===f.GREATER_THAN_SIGN?(this._err(p.missingAttributeValue),this.state=P,this._emitCurrentToken()):this._reconsumeInState(re))}[at](q){q===f.QUOTATION_MARK?this.state=fe:q===f.AMPERSAND?(this.returnState=at,this.state=nn):q===f.NULL?(this._err(p.unexpectedNullCharacter),this.currentAttr.value+=c.REPLACEMENT_CHARACTER):q===f.EOF?(this._err(p.eofInTag),this._emitEOFToken()):this.currentAttr.value+=We(q)}[U](q){q===f.APOSTROPHE?this.state=fe:q===f.AMPERSAND?(this.returnState=U,this.state=nn):q===f.NULL?(this._err(p.unexpectedNullCharacter),this.currentAttr.value+=c.REPLACEMENT_CHARACTER):q===f.EOF?(this._err(p.eofInTag),this._emitEOFToken()):this.currentAttr.value+=We(q)}[re](q){Vt(q)?this._leaveAttrValue(ot):q===f.AMPERSAND?(this.returnState=re,this.state=nn):q===f.GREATER_THAN_SIGN?(this._leaveAttrValue(P),this._emitCurrentToken()):q===f.NULL?(this._err(p.unexpectedNullCharacter),this.currentAttr.value+=c.REPLACEMENT_CHARACTER):q===f.QUOTATION_MARK||q===f.APOSTROPHE||q===f.LESS_THAN_SIGN||q===f.EQUALS_SIGN||q===f.GRAVE_ACCENT?(this._err(p.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=We(q)):q===f.EOF?(this._err(p.eofInTag),this._emitEOFToken()):this.currentAttr.value+=We(q)}[fe](q){Vt(q)?this._leaveAttrValue(ot):q===f.SOLIDUS?this._leaveAttrValue(Ee):q===f.GREATER_THAN_SIGN?(this._leaveAttrValue(P),this._emitCurrentToken()):q===f.EOF?(this._err(p.eofInTag),this._emitEOFToken()):(this._err(p.missingWhitespaceBetweenAttributes),this._reconsumeInState(ot))}[Ee](q){q===f.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=P,this._emitCurrentToken()):q===f.EOF?(this._err(p.eofInTag),this._emitEOFToken()):(this._err(p.unexpectedSolidusInTag),this._reconsumeInState(ot))}[Ke](q){q===f.GREATER_THAN_SIGN?(this.state=P,this._emitCurrentToken()):q===f.EOF?(this._emitCurrentToken(),this._emitEOFToken()):q===f.NULL?(this._err(p.unexpectedNullCharacter),this.currentToken.data+=c.REPLACEMENT_CHARACTER):this.currentToken.data+=We(q)}[pe](q){this._consumeSequenceIfMatch(h.DASH_DASH_STRING,q,!0)?(this._createCommentToken(),this.state=Se):this._consumeSequenceIfMatch(h.DOCTYPE_STRING,q,!1)?this.state=st:this._consumeSequenceIfMatch(h.CDATA_START_STRING,q,!0)?this.allowCDATA?this.state=It:(this._err(p.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=Ke):this._ensureHibernation()||(this._err(p.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(Ke))}[Se](q){q===f.HYPHEN_MINUS?this.state=Le:q===f.GREATER_THAN_SIGN?(this._err(p.abruptClosingOfEmptyComment),this.state=P,this._emitCurrentToken()):this._reconsumeInState(ft)}[Le](q){q===f.HYPHEN_MINUS?this.state=Xe:q===f.GREATER_THAN_SIGN?(this._err(p.abruptClosingOfEmptyComment),this.state=P,this._emitCurrentToken()):q===f.EOF?(this._err(p.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(ft))}[ft](q){q===f.HYPHEN_MINUS?this.state=ie:q===f.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=qt):q===f.NULL?(this._err(p.unexpectedNullCharacter),this.currentToken.data+=c.REPLACEMENT_CHARACTER):q===f.EOF?(this._err(p.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=We(q)}[qt](q){q===f.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=At):q===f.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(ft)}[At](q){q===f.HYPHEN_MINUS?this.state=ce:this._reconsumeInState(ft)}[ce](q){q===f.HYPHEN_MINUS?this.state=Me:this._reconsumeInState(ie)}[Me](q){q!==f.GREATER_THAN_SIGN&&q!==f.EOF&&this._err(p.nestedComment),this._reconsumeInState(Xe)}[ie](q){q===f.HYPHEN_MINUS?this.state=Xe:q===f.EOF?(this._err(p.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(ft))}[Xe](q){q===f.GREATER_THAN_SIGN?(this.state=P,this._emitCurrentToken()):q===f.EXCLAMATION_MARK?this.state=Re:q===f.HYPHEN_MINUS?this.currentToken.data+="-":q===f.EOF?(this._err(p.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(ft))}[Re](q){q===f.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=ie):q===f.GREATER_THAN_SIGN?(this._err(p.incorrectlyClosedComment),this.state=P,this._emitCurrentToken()):q===f.EOF?(this._err(p.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(ft))}[st](q){Vt(q)?this.state=yt:q===f.GREATER_THAN_SIGN?this._reconsumeInState(yt):q===f.EOF?(this._err(p.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(p.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(yt))}[yt](q){Vt(q)||(Dt(q)?(this._createDoctypeToken(Tt(q)),this.state=bt):q===f.NULL?(this._err(p.unexpectedNullCharacter),this._createDoctypeToken(c.REPLACEMENT_CHARACTER),this.state=bt):q===f.GREATER_THAN_SIGN?(this._err(p.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=P):q===f.EOF?(this._err(p.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(We(q)),this.state=bt))}[bt](q){Vt(q)?this.state=mt:q===f.GREATER_THAN_SIGN?(this.state=P,this._emitCurrentToken()):Dt(q)?this.currentToken.name+=Tt(q):q===f.NULL?(this._err(p.unexpectedNullCharacter),this.currentToken.name+=c.REPLACEMENT_CHARACTER):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=We(q)}[mt](q){Vt(q)||(q===f.GREATER_THAN_SIGN?(this.state=P,this._emitCurrentToken()):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(h.PUBLIC_STRING,q,!1)?this.state=Et:this._consumeSequenceIfMatch(h.SYSTEM_STRING,q,!1)?this.state=se:this._ensureHibernation()||(this._err(p.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ot)))}[Et](q){Vt(q)?this.state=Qt:q===f.QUOTATION_MARK?(this._err(p.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=$t):q===f.APOSTROPHE?(this._err(p.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=Zt):q===f.GREATER_THAN_SIGN?(this._err(p.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=P,this._emitCurrentToken()):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(p.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ot))}[Qt](q){Vt(q)||(q===f.QUOTATION_MARK?(this.currentToken.publicId="",this.state=$t):q===f.APOSTROPHE?(this.currentToken.publicId="",this.state=Zt):q===f.GREATER_THAN_SIGN?(this._err(p.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=P,this._emitCurrentToken()):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(p.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ot)))}[$t](q){q===f.QUOTATION_MARK?this.state=pn:q===f.NULL?(this._err(p.unexpectedNullCharacter),this.currentToken.publicId+=c.REPLACEMENT_CHARACTER):q===f.GREATER_THAN_SIGN?(this._err(p.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=P):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=We(q)}[Zt](q){q===f.APOSTROPHE?this.state=pn:q===f.NULL?(this._err(p.unexpectedNullCharacter),this.currentToken.publicId+=c.REPLACEMENT_CHARACTER):q===f.GREATER_THAN_SIGN?(this._err(p.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=P):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=We(q)}[pn](q){Vt(q)?this.state=Rn:q===f.GREATER_THAN_SIGN?(this.state=P,this._emitCurrentToken()):q===f.QUOTATION_MARK?(this._err(p.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Ie):q===f.APOSTROPHE?(this._err(p.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Qe):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(p.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ot))}[Rn](q){Vt(q)||(q===f.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=P):q===f.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Ie):q===f.APOSTROPHE?(this.currentToken.systemId="",this.state=Qe):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(p.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ot)))}[se](q){Vt(q)?this.state=xe:q===f.QUOTATION_MARK?(this._err(p.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Ie):q===f.APOSTROPHE?(this._err(p.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Qe):q===f.GREATER_THAN_SIGN?(this._err(p.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=P,this._emitCurrentToken()):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(p.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ot))}[xe](q){Vt(q)||(q===f.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Ie):q===f.APOSTROPHE?(this.currentToken.systemId="",this.state=Qe):q===f.GREATER_THAN_SIGN?(this._err(p.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=P,this._emitCurrentToken()):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(p.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ot)))}[Ie](q){q===f.QUOTATION_MARK?this.state=vt:q===f.NULL?(this._err(p.unexpectedNullCharacter),this.currentToken.systemId+=c.REPLACEMENT_CHARACTER):q===f.GREATER_THAN_SIGN?(this._err(p.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=P):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=We(q)}[Qe](q){q===f.APOSTROPHE?this.state=vt:q===f.NULL?(this._err(p.unexpectedNullCharacter),this.currentToken.systemId+=c.REPLACEMENT_CHARACTER):q===f.GREATER_THAN_SIGN?(this._err(p.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=P):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=We(q)}[vt](q){Vt(q)||(q===f.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=P):q===f.EOF?(this._err(p.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(p.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(Ot)))}[Ot](q){q===f.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=P):q===f.NULL?this._err(p.unexpectedNullCharacter):q===f.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[It](q){q===f.RIGHT_SQUARE_BRACKET?this.state=_n:q===f.EOF?(this._err(p.eofInCdata),this._emitEOFToken()):this._emitCodePoint(q)}[_n](q){q===f.RIGHT_SQUARE_BRACKET?this.state=gn:(this._emitChars("]"),this._reconsumeInState(It))}[gn](q){q===f.GREATER_THAN_SIGN?this.state=P:q===f.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(It))}[nn](q){this.tempBuff=[f.AMPERSAND],q===f.NUMBER_SIGN?(this.tempBuff.push(q),this.state=cn):T(q)?this._reconsumeInState(Zn):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Zn](q){let qe=this._matchNamedCharacterReference(q);if(this._ensureHibernation())this.tempBuff=[f.AMPERSAND];else if(qe){let Lt=this.tempBuff[this.tempBuff.length-1]===f.SEMICOLON;this._isCharacterReferenceAttributeQuirk(Lt)||(Lt||this._errOnNextCodePoint(p.missingSemicolonAfterCharacterReference),this.tempBuff=qe),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=yn}[yn](q){T(q)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=We(q):this._emitCodePoint(q):(q===f.SEMICOLON&&this._err(p.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[cn](q){this.charRefCode=0,q===f.LATIN_SMALL_X||q===f.LATIN_CAPITAL_X?(this.tempBuff.push(q),this.state=ni):this._reconsumeInState(fn)}[ni](q){(function(qe){return jn(qe)||B(qe)||F(qe)})(q)?this._reconsumeInState(an):(this._err(p.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[fn](q){jn(q)?this._reconsumeInState(bn):(this._err(p.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[an](q){B(q)?this.charRefCode=16*this.charRefCode+q-55:F(q)?this.charRefCode=16*this.charRefCode+q-87:jn(q)?this.charRefCode=16*this.charRefCode+q-48:q===f.SEMICOLON?this.state=Vn:(this._err(p.missingSemicolonAfterCharacterReference),this._reconsumeInState(Vn))}[bn](q){jn(q)?this.charRefCode=10*this.charRefCode+q-48:q===f.SEMICOLON?this.state=Vn:(this._err(p.missingSemicolonAfterCharacterReference),this._reconsumeInState(Vn))}[Vn](){if(this.charRefCode===f.NULL)this._err(p.nullCharacterReference),this.charRefCode=f.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(p.characterReferenceOutsideUnicodeRange),this.charRefCode=f.REPLACEMENT_CHARACTER;else if(c.isSurrogate(this.charRefCode))this._err(p.surrogateCharacterReference),this.charRefCode=f.REPLACEMENT_CHARACTER;else if(c.isUndefinedCodePoint(this.charRefCode))this._err(p.noncharacterCharacterReference);else if(c.isControlCodePoint(this.charRefCode)||this.charRefCode===f.CARRIAGE_RETURN){this._err(p.controlCharacterReference);let q=v[this.charRefCode];q&&(this.charRefCode=q)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}}Ft.CHARACTER_TOKEN="CHARACTER_TOKEN",Ft.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Ft.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Ft.START_TAG_TOKEN="START_TAG_TOKEN",Ft.END_TAG_TOKEN="END_TAG_TOKEN",Ft.COMMENT_TOKEN="COMMENT_TOKEN",Ft.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Ft.EOF_TOKEN="EOF_TOKEN",Ft.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Ft.MODE={DATA:P,RCDATA:M,RAWTEXT:y,SCRIPT_DATA:A,PLAINTEXT:k},Ft.getTokenAttr=function(Nt,q){for(let qe=Nt.attrs.length-1;qe>=0;qe--)if(Nt.attrs[qe].name===q)return Nt.attrs[qe].value;return null},n.exports=Ft},5482:n=>{"use strict";n.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},7118:(n,r,a)=>{"use strict";let s=a(4284),c=a(1734),d=s.CODE_POINTS,p=65536;n.exports=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=p}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(f){if(this.pos!==this.lastCharPos){let h=this.html.charCodeAt(this.pos+1);if(s.isSurrogatePair(h))return this.pos++,this._addGap(),s.getSurrogatePairCodePoint(f,h)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,d.EOF;return this._err(c.surrogateInInputStream),f}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(f,h){this.html?this.html+=f:this.html=f,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=h}insertHtmlAtCurrentPos(f){this.html=this.html.substring(0,this.pos+1)+f+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,d.EOF;let f=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&f===d.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):f===d.CARRIAGE_RETURN?(this.skipNextNewLine=!0,d.LINE_FEED):(this.skipNextNewLine=!1,s.isSurrogate(f)&&(f=this._processSurrogate(f)),f>31&&f<127||f===d.LINE_FEED||f===d.CARRIAGE_RETURN||f>159&&f<64976||this._checkForProblematicCharacters(f),f)}_checkForProblematicCharacters(f){s.isControlCodePoint(f)?this._err(c.controlCharacterInInputStream):s.isUndefinedCodePoint(f)&&this._err(c.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}}},7296:(n,r,a)=>{"use strict";let{DOCUMENT_MODE:s}=a(6152);r.createDocument=function(){return{nodeName:"#document",mode:s.NO_QUIRKS,childNodes:[]}},r.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},r.createElement=function(f,h,v){return{nodeName:f,tagName:f,attrs:v,namespaceURI:h,childNodes:[],parentNode:null}},r.createCommentNode=function(f){return{nodeName:"#comment",data:f,parentNode:null}};let c=function(f){return{nodeName:"#text",value:f,parentNode:null}},d=r.appendChild=function(f,h){f.childNodes.push(h),h.parentNode=f},p=r.insertBefore=function(f,h,v){let C=f.childNodes.indexOf(v);f.childNodes.splice(C,0,h),h.parentNode=f};r.setTemplateContent=function(f,h){f.content=h},r.getTemplateContent=function(f){return f.content},r.setDocumentType=function(f,h,v,C){let b=null;for(let x=0;x<f.childNodes.length;x++)if(f.childNodes[x].nodeName==="#documentType"){b=f.childNodes[x];break}b?(b.name=h,b.publicId=v,b.systemId=C):d(f,{nodeName:"#documentType",name:h,publicId:v,systemId:C})},r.setDocumentMode=function(f,h){f.mode=h},r.getDocumentMode=function(f){return f.mode},r.detachNode=function(f){if(f.parentNode){let h=f.parentNode.childNodes.indexOf(f);f.parentNode.childNodes.splice(h,1),f.parentNode=null}},r.insertText=function(f,h){if(f.childNodes.length){let v=f.childNodes[f.childNodes.length-1];if(v.nodeName==="#text")return void(v.value+=h)}d(f,c(h))},r.insertTextBefore=function(f,h,v){let C=f.childNodes[f.childNodes.indexOf(v)-1];C&&C.nodeName==="#text"?C.value+=h:p(f,c(h),v)},r.adoptAttributes=function(f,h){let v=[];for(let C=0;C<f.attrs.length;C++)v.push(f.attrs[C].name);for(let C=0;C<h.length;C++)v.indexOf(h[C].name)===-1&&f.attrs.push(h[C])},r.getFirstChild=function(f){return f.childNodes[0]},r.getChildNodes=function(f){return f.childNodes},r.getParentNode=function(f){return f.parentNode},r.getAttrList=function(f){return f.attrs},r.getTagName=function(f){return f.tagName},r.getNamespaceURI=function(f){return f.namespaceURI},r.getTextNodeContent=function(f){return f.value},r.getCommentNodeContent=function(f){return f.data},r.getDocumentTypeNodeName=function(f){return f.name},r.getDocumentTypeNodePublicId=function(f){return f.publicId},r.getDocumentTypeNodeSystemId=function(f){return f.systemId},r.isTextNode=function(f){return f.nodeName==="#text"},r.isCommentNode=function(f){return f.nodeName==="#comment"},r.isDocumentTypeNode=function(f){return f.nodeName==="#documentType"},r.isElementNode=function(f){return!!f.tagName},r.setNodeSourceCodeLocation=function(f,h){f.sourceCodeLocation=h},r.getNodeSourceCodeLocation=function(f){return f.sourceCodeLocation},r.updateNodeSourceCodeLocation=function(f,h){f.sourceCodeLocation=Object.assign(f.sourceCodeLocation,h)}},8904:n=>{"use strict";n.exports=function(r,a){return[r,a=a||Object.create(null)].reduce((s,c)=>(Object.keys(c).forEach(d=>{s[d]=c[d]}),s),Object.create(null))}},1704:n=>{"use strict";class r{constructor(s){let c={},d=this._getOverriddenMethods(this,c);for(let p of Object.keys(d))typeof d[p]=="function"&&(c[p]=s[p],s[p]=d[p])}_getOverriddenMethods(){throw new Error("Not implemented")}}r.install=function(a,s,c){a.__mixins||(a.__mixins=[]);for(let p=0;p<a.__mixins.length;p++)if(a.__mixins[p].constructor===s)return a.__mixins[p];let d=new s(a,c);return a.__mixins.push(d),d},n.exports=r},6585:n=>{"use strict";var r=/([-.*+?^${}()|[\]\/\\])/g,a=/\\/g,s=function(b){return(b+"").replace(r,"\\$1")},c=function(b){return(b+"").replace(a,"")},d=RegExp(`^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:(["']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:(["'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)`.replace(/<combinator>/,"["+s(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),p=function(b){this.combinator=b||" ",this.tag="*"};p.prototype.toString=function(){if(!this.raw){var b,x,w="";if(w+=this.tag||"*",this.id&&(w+="#"+this.id),this.classes&&(w+="."+this.classList.join(".")),this.attributes)for(b=0;x=this.attributes[b++];)w+="["+x.name+(x.operator?x.operator+'"'+x.value+'"':"")+"]";if(this.pseudos)for(b=0;x=this.pseudos[b++];)w+=":"+x.name,x.value&&(w+="("+x.value+")");this.raw=w}return this.raw};var f=function(){this.length=0};f.prototype.toString=function(){if(!this.raw){for(var b,x="",w=0;b=this[w++];)w!==1&&(x+=" "),b.combinator!==" "&&(x+=b.combinator+" "),x+=b;this.raw=x}return this.raw};var h=function(b,x,w,P,M,y,A,k,N,V,j,R,H,I,G,K){var J,E;if((x||!this.length)&&(J=this[this.length++]=new f,x))return"";if(J||(J=this[this.length-1]),(w||P||!J.length)&&(E=J[J.length++]=new p(w)),E||(E=J[J.length-1]),M)E.tag=c(M);else if(y)E.id=c(y);else if(A){var Z=c(A),te=E.classes||(E.classes={});if(!te[Z]){te[Z]=s(A);var de=E.classList||(E.classList=[]);de.push(Z),de.sort()}}else H?(K=K||G,(E.pseudos||(E.pseudos=[])).push({type:R.length==1?"class":"element",name:c(H),escapedName:s(H),value:K?c(K):null,escapedValue:K?s(K):null})):k&&(j=j?s(j):null,(E.attributes||(E.attributes=[])).push({operator:N,name:c(k),escapedName:s(k),value:j?c(j):null,escapedValue:j?s(j):null}));return""},v=function(b){this.length=0;for(var x,w=this,P=b;b;){if(x=b.replace(d,function(){return h.apply(w,arguments)}),x===b)throw new Error(P+" is an invalid expression");b=x}};v.prototype.toString=function(){if(!this.raw){for(var b,x=[],w=0;b=this[w++];)x.push(b);this.raw=x.join(", ")}return this.raw};var C={};n.exports=function(b){return b==null?null:(b=(""+b).replace(/^\s+|\s+$/g,""),C[b]||(C[b]=new v(b)))}},655:(n,r,a)=>{"use strict";a.r(r),a.d(r,{__assign:()=>d,__asyncDelegator:()=>G,__asyncGenerator:()=>I,__asyncValues:()=>K,__await:()=>H,__awaiter:()=>P,__classPrivateFieldGet:()=>de,__classPrivateFieldIn:()=>Ge,__classPrivateFieldSet:()=>Fe,__createBinding:()=>y,__decorate:()=>f,__esDecorate:()=>v,__exportStar:()=>A,__extends:()=>c,__generator:()=>M,__importDefault:()=>te,__importStar:()=>Z,__makeTemplateObject:()=>J,__metadata:()=>w,__param:()=>h,__propKey:()=>b,__read:()=>N,__rest:()=>p,__runInitializers:()=>C,__setFunctionName:()=>x,__spread:()=>V,__spreadArray:()=>R,__spreadArrays:()=>j,__values:()=>k});var s=function(we,ge){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,he){ne.__proto__=he}||function(ne,he){for(var Oe in he)Object.prototype.hasOwnProperty.call(he,Oe)&&(ne[Oe]=he[Oe])},s(we,ge)};function c(we,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Class extends value "+String(ge)+" is not a constructor or null");function ne(){this.constructor=we}s(we,ge),we.prototype=ge===null?Object.create(ge):(ne.prototype=ge.prototype,new ne)}var d=function(){return d=Object.assign||function(we){for(var ge,ne=1,he=arguments.length;ne<he;ne++)for(var Oe in ge=arguments[ne])Object.prototype.hasOwnProperty.call(ge,Oe)&&(we[Oe]=ge[Oe]);return we},d.apply(this,arguments)};function p(we,ge){var ne={};for(var he in we)Object.prototype.hasOwnProperty.call(we,he)&&ge.indexOf(he)<0&&(ne[he]=we[he]);if(we!=null&&typeof Object.getOwnPropertySymbols=="function"){var Oe=0;for(he=Object.getOwnPropertySymbols(we);Oe<he.length;Oe++)ge.indexOf(he[Oe])<0&&Object.prototype.propertyIsEnumerable.call(we,he[Oe])&&(ne[he[Oe]]=we[he[Oe]])}return ne}function f(we,ge,ne,he){var Oe,Te=arguments.length,Ne=Te<3?ge:he===null?he=Object.getOwnPropertyDescriptor(ge,ne):he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ne=Reflect.decorate(we,ge,ne,he);else for(var ze=we.length-1;ze>=0;ze--)(Oe=we[ze])&&(Ne=(Te<3?Oe(Ne):Te>3?Oe(ge,ne,Ne):Oe(ge,ne))||Ne);return Te>3&&Ne&&Object.defineProperty(ge,ne,Ne),Ne}function h(we,ge){return function(ne,he){ge(ne,he,we)}}function v(we,ge,ne,he,Oe,Te){function Ne(re){if(re!==void 0&&typeof re!="function")throw new TypeError("Function expected");return re}for(var ze,ke=he.kind,oe=ke==="getter"?"get":ke==="setter"?"set":"value",Ue=!ge&&we?he.static?we:we.prototype:null,ot=ge||(Ue?Object.getOwnPropertyDescriptor(Ue,he.name):{}),_e=!1,Je=ne.length-1;Je>=0;Je--){var ut={};for(var at in he)ut[at]=at==="access"?{}:he[at];for(var at in he.access)ut.access[at]=he.access[at];ut.addInitializer=function(re){if(_e)throw new TypeError("Cannot add initializers after decoration has completed");Te.push(Ne(re||null))};var U=(0,ne[Je])(ke==="accessor"?{get:ot.get,set:ot.set}:ot[oe],ut);if(ke==="accessor"){if(U===void 0)continue;if(U===null||typeof U!="object")throw new TypeError("Object expected");(ze=Ne(U.get))&&(ot.get=ze),(ze=Ne(U.set))&&(ot.set=ze),(ze=Ne(U.init))&&Oe.push(ze)}else(ze=Ne(U))&&(ke==="field"?Oe.push(ze):ot[oe]=ze)}Ue&&Object.defineProperty(Ue,he.name,ot),_e=!0}function C(we,ge,ne){for(var he=arguments.length>2,Oe=0;Oe<ge.length;Oe++)ne=he?ge[Oe].call(we,ne):ge[Oe].call(we);return he?ne:void 0}function b(we){return typeof we=="symbol"?we:"".concat(we)}function x(we,ge,ne){return typeof ge=="symbol"&&(ge=ge.description?"[".concat(ge.description,"]"):""),Object.defineProperty(we,"name",{configurable:!0,value:ne?"".concat(ne," ",ge):ge})}function w(we,ge){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(we,ge)}function P(we,ge,ne,he){return new(ne||(ne=Promise))(function(Oe,Te){function Ne(oe){try{ke(he.next(oe))}catch(Ue){Te(Ue)}}function ze(oe){try{ke(he.throw(oe))}catch(Ue){Te(Ue)}}function ke(oe){var Ue;oe.done?Oe(oe.value):(Ue=oe.value,Ue instanceof ne?Ue:new ne(function(ot){ot(Ue)})).then(Ne,ze)}ke((he=he.apply(we,ge||[])).next())})}function M(we,ge){var ne,he,Oe,Te,Ne={label:0,sent:function(){if(1&Oe[0])throw Oe[1];return Oe[1]},trys:[],ops:[]};return Te={next:ze(0),throw:ze(1),return:ze(2)},typeof Symbol=="function"&&(Te[Symbol.iterator]=function(){return this}),Te;function ze(ke){return function(oe){return function(Ue){if(ne)throw new TypeError("Generator is already executing.");for(;Te&&(Te=0,Ue[0]&&(Ne=0)),Ne;)try{if(ne=1,he&&(Oe=2&Ue[0]?he.return:Ue[0]?he.throw||((Oe=he.return)&&Oe.call(he),0):he.next)&&!(Oe=Oe.call(he,Ue[1])).done)return Oe;switch(he=0,Oe&&(Ue=[2&Ue[0],Oe.value]),Ue[0]){case 0:case 1:Oe=Ue;break;case 4:return Ne.label++,{value:Ue[1],done:!1};case 5:Ne.label++,he=Ue[1],Ue=[0];continue;case 7:Ue=Ne.ops.pop(),Ne.trys.pop();continue;default:if(Oe=Ne.trys,!((Oe=Oe.length>0&&Oe[Oe.length-1])||Ue[0]!==6&&Ue[0]!==2)){Ne=0;continue}if(Ue[0]===3&&(!Oe||Ue[1]>Oe[0]&&Ue[1]<Oe[3])){Ne.label=Ue[1];break}if(Ue[0]===6&&Ne.label<Oe[1]){Ne.label=Oe[1],Oe=Ue;break}if(Oe&&Ne.label<Oe[2]){Ne.label=Oe[2],Ne.ops.push(Ue);break}Oe[2]&&Ne.ops.pop(),Ne.trys.pop();continue}Ue=ge.call(we,Ne)}catch(ot){Ue=[6,ot],he=0}finally{ne=Oe=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}([ke,oe])}}}var y=Object.create?function(we,ge,ne,he){he===void 0&&(he=ne);var Oe=Object.getOwnPropertyDescriptor(ge,ne);Oe&&!("get"in Oe?!ge.__esModule:Oe.writable||Oe.configurable)||(Oe={enumerable:!0,get:function(){return ge[ne]}}),Object.defineProperty(we,he,Oe)}:function(we,ge,ne,he){he===void 0&&(he=ne),we[he]=ge[ne]};function A(we,ge){for(var ne in we)ne==="default"||Object.prototype.hasOwnProperty.call(ge,ne)||y(ge,we,ne)}function k(we){var ge=typeof Symbol=="function"&&Symbol.iterator,ne=ge&&we[ge],he=0;if(ne)return ne.call(we);if(we&&typeof we.length=="number")return{next:function(){return we&&he>=we.length&&(we=void 0),{value:we&&we[he++],done:!we}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(we,ge){var ne=typeof Symbol=="function"&&we[Symbol.iterator];if(!ne)return we;var he,Oe,Te=ne.call(we),Ne=[];try{for(;(ge===void 0||ge-- >0)&&!(he=Te.next()).done;)Ne.push(he.value)}catch(ze){Oe={error:ze}}finally{try{he&&!he.done&&(ne=Te.return)&&ne.call(Te)}finally{if(Oe)throw Oe.error}}return Ne}function V(){for(var we=[],ge=0;ge<arguments.length;ge++)we=we.concat(N(arguments[ge]));return we}function j(){for(var we=0,ge=0,ne=arguments.length;ge<ne;ge++)we+=arguments[ge].length;var he=Array(we),Oe=0;for(ge=0;ge<ne;ge++)for(var Te=arguments[ge],Ne=0,ze=Te.length;Ne<ze;Ne++,Oe++)he[Oe]=Te[Ne];return he}function R(we,ge,ne){if(ne||arguments.length===2)for(var he,Oe=0,Te=ge.length;Oe<Te;Oe++)!he&&Oe in ge||(he||(he=Array.prototype.slice.call(ge,0,Oe)),he[Oe]=ge[Oe]);return we.concat(he||Array.prototype.slice.call(ge))}function H(we){return this instanceof H?(this.v=we,this):new H(we)}function I(we,ge,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,Oe=ne.apply(we,ge||[]),Te=[];return he={},Ne("next"),Ne("throw"),Ne("return"),he[Symbol.asyncIterator]=function(){return this},he;function Ne(ot){Oe[ot]&&(he[ot]=function(_e){return new Promise(function(Je,ut){Te.push([ot,_e,Je,ut])>1||ze(ot,_e)})})}function ze(ot,_e){try{(Je=Oe[ot](_e)).value instanceof H?Promise.resolve(Je.value.v).then(ke,oe):Ue(Te[0][2],Je)}catch(ut){Ue(Te[0][3],ut)}var Je}function ke(ot){ze("next",ot)}function oe(ot){ze("throw",ot)}function Ue(ot,_e){ot(_e),Te.shift(),Te.length&&ze(Te[0][0],Te[0][1])}}function G(we){var ge,ne;return ge={},he("next"),he("throw",function(Oe){throw Oe}),he("return"),ge[Symbol.iterator]=function(){return this},ge;function he(Oe,Te){ge[Oe]=we[Oe]?function(Ne){return(ne=!ne)?{value:H(we[Oe](Ne)),done:!1}:Te?Te(Ne):Ne}:Te}}function K(we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,ne=we[Symbol.asyncIterator];return ne?ne.call(we):(we=typeof k=="function"?k(we):we[Symbol.iterator](),ge={},he("next"),he("throw"),he("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function he(Oe){ge[Oe]=we[Oe]&&function(Te){return new Promise(function(Ne,ze){(function(ke,oe,Ue,ot){Promise.resolve(ot).then(function(_e){ke({value:_e,done:Ue})},oe)})(Ne,ze,(Te=we[Oe](Te)).done,Te.value)})}}}function J(we,ge){return Object.defineProperty?Object.defineProperty(we,"raw",{value:ge}):we.raw=ge,we}var E=Object.create?function(we,ge){Object.defineProperty(we,"default",{enumerable:!0,value:ge})}:function(we,ge){we.default=ge};function Z(we){if(we&&we.__esModule)return we;var ge={};if(we!=null)for(var ne in we)ne!=="default"&&Object.prototype.hasOwnProperty.call(we,ne)&&y(ge,we,ne);return E(ge,we),ge}function te(we){return we&&we.__esModule?we:{default:we}}function de(we,ge,ne,he){if(ne==="a"&&!he)throw new TypeError("Private accessor was defined without a getter");if(typeof ge=="function"?we!==ge||!he:!ge.has(we))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ne==="m"?he:ne==="a"?he.call(we):he?he.value:ge.get(we)}function Fe(we,ge,ne,he,Oe){if(he==="m")throw new TypeError("Private method is not writable");if(he==="a"&&!Oe)throw new TypeError("Private accessor was defined without a setter");if(typeof ge=="function"?we!==ge||!Oe:!ge.has(we))throw new TypeError("Cannot write private member to an object whose class did not declare it");return he==="a"?Oe.call(we,ne):Oe?Oe.value=ne:ge.set(we,ne),ne}function Ge(we,ge){if(ge===null||typeof ge!="object"&&typeof ge!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof we=="function"?ge===we:we.has(ge)}},3600:n=>{"use strict";n.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},9323:n=>{"use strict";n.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},9591:n=>{"use strict";n.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":"\xA0","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}')},2586:n=>{"use strict";n.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},i={};function e(n){var r=i[n];if(r!==void 0)return r.exports;var a=i[n]={exports:{}};return o[n].call(a.exports,a,a.exports,e),a.exports}e.n=n=>{var r=n&&n.__esModule?()=>n.default:()=>n;return e.d(r,{a:r}),r},e.d=(n,r)=>{for(var a in r)e.o(r,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:r[a]})},e.o=(n,r)=>Object.prototype.hasOwnProperty.call(n,r),e.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var t={};return(()=>{"use strict";e.r(t),e.d(t,{default:()=>C});var n=function(){return n=Object.assign||function(b){for(var x,w=1,P=arguments.length;w<P;w++)for(var M in x=arguments[w])Object.prototype.hasOwnProperty.call(x,M)&&(b[M]=x[M]);return b},n.apply(this,arguments)},r="set-device-desktop",a="set-device-tablet",s="set-device-mobile",c="canvas-clear",d=e(6094),p=e.n(d),f=function(){return f=Object.assign||function(b){for(var x,w=1,P=arguments.length;w<P;w++)for(var M in x=arguments[w])Object.prototype.hasOwnProperty.call(x,M)&&(b[M]=x[M]);return b},f.apply(this,arguments)};let h=function(b,x){var w=b.Commands,P=x.textCleanCanvas;(function(M,y){var A=M.Commands,k=M.getConfig().stylePrefix;A.add(y.cmdOpenImport,{containerEl:null,codeEditorHtml:null,createCodeViewer:function(){return M.CodeManager.createViewer({codeName:"htmlmixed",theme:y.codeViewerTheme,readOnly:!1})},createCodeEditor:function(){var N=document.createElement("div"),V=this.createCodeViewer();return N.style.flex="1 0 auto",N.style.boxSizing="border-box",N.className="".concat(k,"import-code"),N.appendChild(V.getElement()),{codeEditor:V,el:N}},getCodeContainer:function(){var N=this.containerEl;return N||((N=document.createElement("div")).className="".concat(k,"import-container"),N.style.display="flex",N.style.gap="5px",N.style.flexDirection="column",N.style.justifyContent="space-between",this.containerEl=N),N},run:function(N){var V=this.getCodeContainer(),j=this.codeEditorHtml;if(!j){var R=this.createCodeEditor(),H=document.createElement("button");if(j=R.codeEditor,this.codeEditorHtml=j,y.modalLabelImport){var I=document.createElement("div");I.className="".concat(k,"import-label"),I.innerHTML=y.modalLabelImport,V.appendChild(I)}H.innerHTML=y.modalBtnImport,H.type="button",H.className="".concat(k,"btn-prim ").concat(k,"btn-import"),H.style.alignSelf="flex-start",H.onclick=function(){var G=R.codeEditor.editor.getValue();N.Components.clear(),N.Css.clear(),N.setComponents(G),N.Modal.close()},V.appendChild(R.el),V.appendChild(H)}N.Modal.open({title:y.modalTitleImport,content:V}),j&&(j.setContent(y.importPlaceholder||""),j.editor.refresh())}})})(b,x),function(M,y){var A=M.Commands,k=M.getConfig().stylePrefix;A.add(y.cmdInlineHtml,{run:function(N,V,j){j===void 0&&(j={});var R=N.getHtml()+"<style>".concat(N.getCss(),"</style>");return p()(R,f(f({},j.juiceOpts),j))}}),A.add("export-template",{containerEl:null,codeEditorHtml:null,createCodeViewer:function(){return M.CodeManager.createViewer({codeName:"htmlmixed",theme:y.codeViewerTheme})},createCodeEditor:function(){var N=document.createElement("div"),V=this.createCodeViewer();return N.style.flex="1 0 auto",N.style.boxSizing="border-box",N.className="".concat(k,"export-code"),N.appendChild(V.getElement()),{codeEditor:V,el:N}},getCodeContainer:function(){var N=this.containerEl;return N||((N=document.createElement("div")).className="".concat(k,"export-container"),N.style.display="flex",N.style.gap="5px",N.style.flexDirection="column",N.style.justifyContent="space-between",this.containerEl=N),N},run:function(N){var V=this.codeEditorHtml,j=this.getCodeContainer();if(!V){var R=this.createCodeEditor();if(V=R.codeEditor,this.codeEditorHtml=V,y.modalLabelExport){var H=document.createElement("div");H.className="".concat(k,"export-label"),H.innerHTML=y.modalLabelExport,j.appendChild(H)}j.appendChild(R.el)}if(N.Modal.open({title:y.modalTitleExport,content:j}),V){var I="".concat(N.getHtml(),"<style>").concat(N.getCss(),"</style>");V.setContent(y.inlineCss?p()(I,y.juiceOpts):I),V.editor.refresh()}}})}(b,x),function(M,y){M.Commands.add(y.cmdTglImages,{run:function(A){var k=A.getComponents();this.toggleImages(k)},stop:function(A){var k=A.getComponents();this.toggleImages(k,!0)},toggleImages:function(A,k){var N=this;k===void 0&&(k=!1);var V="##";A.forEach(function(j){if(j.get("type")==="image"){var R=j.get("src");k?R===V&&j.set("src",j.get("src_bkp")):R!==V&&(j.set("src_bkp",j.get("src")),j.set("src",V))}N.toggleImages(j.components(),k)})}})}(b,x),w.add(r,{run:function(M){return M.setDevice("Desktop")},stop:function(){}}),w.add(a,{run:function(M){return M.setDevice("Tablet")},stop:function(){}}),w.add(s,{run:function(M){return M.setDevice("Mobile portrait")},stop:function(){}}),w.add(c,{run:function(M){var y="core:canvas-clear";P?confirm(P)&&M.runCommand(y):M.runCommand(y)}})};var v=function(){return v=Object.assign||function(b){for(var x,w=1,P=arguments.length;w<P;w++)for(var M in x=arguments[w])Object.prototype.hasOwnProperty.call(x,M)&&(b[M]=x[M]);return b},v.apply(this,arguments)};let C=function(b,x){x===void 0&&(x={});var w=b.getConfig(),P=v({blocks:["sect100","sect50","sect30","sect37","button","divider","text","text-sect","image","quote","link","link-block","grid-items","list-items"],block:function(){return{}},juiceOpts:{},cmdOpenImport:"gjs-open-import-template",cmdTglImages:"gjs-toggle-images",cmdInlineHtml:"gjs-get-inlined-html",modalTitleImport:"Import template",modalTitleExport:"Export template",modalLabelImport:"",modalLabelExport:"",modalBtnImport:"Import",codeViewerTheme:"hopscotch",importPlaceholder:"",inlineCss:!0,cellStyle:{padding:"0",margin:"0","vertical-align":"top"},tableStyle:{height:"150px",margin:"0 auto 10px auto",padding:"5px 5px 5px 5px",width:"100%"},updateStyleManager:!0,showStylesOnChange:!0,showBlocksOnLoad:!0,useCustomTheme:!0,textCleanCanvas:"Are you sure you want to clear the canvas?"},x);if(w.devicePreviewMode=!0,P.useCustomTheme&&typeof window<"u"){var M="gjs-",y="";[["one","#373d49"],["two","#dae5e6"],["three","#4c9790"],["four","#35d7bb"]].forEach(function(k){var N=k[0],V=k[1];y+=`
        .`.concat(M).concat(N,`-bg {
          background-color: `).concat(V,`;
        }
        .`).concat(M).concat(N,`-color {
          color: `).concat(V,`;
        }
        .`).concat(M).concat(N,`-color-h:hover {
          color: `).concat(V,`;
        }
      `)});var A=document.createElement("style");A.innerText=y,document.head.appendChild(A)}h(b,P),function(k,N){k.Blocks;var V="",j="",R=N.tableStyle||{},H=N.cellStyle||{},I=function(E,Z){N.blocks.indexOf(E)>=0&&k.Blocks.add(E,n(n({select:!0},Z),N.block(E)))};for(var G in R)V+="".concat(G,": ").concat(R[G],"; ");for(var G in H)j+="".concat(G,": ").concat(H[G],"; ");I("sect100",{label:"1 Section",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(V,`">
        <tr>
          <td style="`).concat(j,`"></td>
        </tr>
      </table>
    `)}),I("sect50",{label:"1/2 Section",media:`<svg viewBox="0 0 23 24">
      <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(V,`">
        <tr>
          <td style="`).concat(j,` width: 50%"></td>
          <td style="`).concat(j,` width: 50%"></td>
        </tr>
      </table>
    `)}),I("sect30",{label:"1/3 Section",media:`<svg viewBox="0 0 23 24">
      <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(V,`">
        <tr>
          <td style="`).concat(j,` width: 33.3333%"></td>
          <td style="`).concat(j,` width: 33.3333%"></td>
          <td style="`).concat(j,` width: 33.3333%"></td>
        </tr>
      </table>
    `)}),I("sect37",{label:"3/7 Section",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"></path>
    </svg>`,content:`
      <table style="`.concat(V,`">
        <tr>
          <td style="`).concat(j,` width:30%"></td>
          <td style="`).concat(j,` width:70%"></td>
        </tr>
      </table>
    `)}),I("button",{label:"Button",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />
    </svg>`,content:'<a class="button">Button</a>'}),I("divider",{label:"Divider",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
    </svg>`,content:`
      <table style="width: 100%; margin-top: 10px; margin-bottom: 10px;">
        <tr>
          <td class="divider"></td>
        </tr>
      </table>
      <style>
        .divider {
          background-color: rgba(0, 0, 0, 0.1);
          height: 1px;
        }
      </style>
    `}),I("text",{label:"Text",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
    </svg>`,activate:!0,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}}),I("text-sect",{label:"Text Section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />
    </svg>`,content:`
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua
      </p>
    `}),I("image",{label:"Image",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
    </svg>`,activate:!0,content:{type:"image",style:{color:"black"}}}),I("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:'<blockquote class="quote">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit</blockquote>'}),I("link",{label:"Link",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",content:"Link",style:{color:"#3b97e3"}}}),I("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}});var K=`<table class="grid-item-card">
      <tr>
        <td class="grid-item-card-cell">
          <img class="grid-item-image" src="https://via.placeholder.com/250x150/78c5d6/fff/" alt="Image"/>
          <table class="grid-item-card-body">
            <tr>
              <td class="grid-item-card-content">
                <h1 class="card-title">Title here</h1>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>`;I("grid-items",{label:"Grid Items",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3"/>
    </svg>`,content:`
      <table class="grid-item-row">
        <tr>
          <td class="grid-item-cell2-l">`.concat(K,`</td>
          <td class="grid-item-cell2-r">`).concat(K,`</td>
        </tr>
      </table>
    `)});var J=`<table class="list-item">
      <tr>
        <td class="list-item-cell">
          <table class="list-item-content">
            <tr class="list-item-row">
              <td class="list-cell-left">
                <img class="list-item-image" src="https://via.placeholder.com/150/78c5d6/fff" alt="Image"/>
              </td>
              <td class="list-cell-right">
                <h1 class="card-title">Title here</h1>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>`;I("list-items",{label:"List Items",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 14H8V20H2M16 8H10V10H16M2 10H8V4H2M10 4V6H22V4M10 20H16V18H10M10 16H22V14H10"/>
    </svg>`,content:J+J})}(b,P),function(k,N){var V=k.Panels,j=N.cmdOpenImport,R=N.cmdTglImages,H="export-template",I="open-sm",G="open-tm",K="open-layers",J="open-blocks",E="sw-visibility",Z="fullscreen",te="preview",de='style="display: block; max-width: 22px"';k.getConfig().showDevices=!1,V.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:r,command:r,active:!0,label:"<svg ".concat(de,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:a,command:a,label:"<svg ".concat(de,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:s,command:s,label:"<svg ".concat(de,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:E,command:E,context:E,label:"<svg ".concat(de,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:te,context:te,command:te,label:"<svg ".concat(de,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:Z,command:Z,context:Z,label:"<svg ".concat(de,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:H,command:H,label:"<svg ".concat(de,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:j,command:j,label:"<svg ".concat(de,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:R,command:R,label:"<svg ".concat(de,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M5 3C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H14.09C14.03 20.67 14 20.34 14 20C14 19.32 14.12 18.64 14.35 18H5L8.5 13.5L11 16.5L14.5 12L16.73 14.97C17.7 14.34 18.84 14 20 14C20.34 14 20.67 14.03 21 14.09V5C21 3.89 20.1 3 19 3H5M16.47 17.88L18.59 20L16.47 22.12L17.88 23.54L20 21.41L22.12 23.54L23.54 22.12L21.41 20L23.54 17.88L22.12 16.46L20 18.59L17.88 16.47L16.46 17.88Z"/>
        </svg>`)},{id:"undo",command:"core:undo",label:"<svg ".concat(de,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:"core:redo",label:"<svg ".concat(de,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:c,command:c,label:"<svg ".concat(de,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:I,command:I,active:!0,label:"<svg ".concat(de,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:G,command:G,label:"<svg ".concat(de,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:K,command:K,label:"<svg ".concat(de,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:J,command:J,label:"<svg ".concat(de,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]),N.showStylesOnChange&&k.on("component:selected",function(){var Fe=V.getButton("views",K);if((!Fe||!Fe.get("active"))&&k.getSelected()){var Ge=V.getButton("views",I);Ge?.set("active",!0)}}),k.onReady(function(){if(N.showBlocksOnLoad){var Fe=V.getButton("views",J);Fe?.set("active",!0)}})}(b,P),function(k,N){var V=k.StyleManager.getSectors();if(N.updateStyleManager){var j=[{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Left",property:"margin-left"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-decoration","font-style","vertical-align","text-shadow"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",type:"radio",defaults:"left",list:[{value:"left",name:"Left",className:"fa fa-align-left"},{value:"center",name:"Center",className:"fa fa-align-center"},{value:"right",name:"Right",className:"fa fa-align-right"},{value:"justify",name:"Justify",className:"fa fa-align-justify"}]},{property:"text-decoration",type:"radio",defaults:"none",list:[{value:"none",name:"None",className:"fa fa-times"},{value:"underline",name:"underline",className:"fa fa-underline"},{value:"line-through",name:"Line-through",className:"fa fa-strikethrough"}]},{property:"font-style",type:"radio",defaults:"normal",list:[{value:"normal",name:"Normal",className:"fa fa-font"},{value:"italic",name:"Italic",className:"fa fa-italic"}]},{property:"vertical-align",type:"select",defaults:"baseline",list:[{value:"baseline"},{value:"top"},{value:"middle"},{value:"bottom"}]},{property:"text-shadow",properties:[{name:"X position",property:"text-shadow-h"},{name:"Y position",property:"text-shadow-v"},{name:"Blur",property:"text-shadow-blur"},{name:"Color",property:"text-shadow-color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","border-collapse","border-radius","border","background"],properties:[{property:"background-color",name:"Background"},{property:"border-radius",properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border-collapse",type:"radio",defaults:"separate",list:[{value:"separate",name:"No"},{value:"collapse",name:"Yes"}]},{property:"border",properties:[{name:"Width",property:"border-width",defaults:"0"},{name:"Style",property:"border-style"},{name:"Color",property:"border-color"}]},{property:"background",properties:[{name:"Image",property:"background-image"},{name:"Repeat",property:"background-repeat"},{name:"Position",property:"background-position"},{name:"Attachment",property:"background-attachment"},{name:"Size",property:"background-size"}]}]}];k.onReady(function(){V.reset(),V.add(j)})}}(b,P)}})(),t})())});function o0(o){return new xn(3e3,!1)}function VC(){return new xn(3100,!1)}function jC(){return new xn(3101,!1)}function HC(o){return new xn(3001,!1)}function zC(o){return new xn(3003,!1)}function BC(o){return new xn(3004,!1)}function UC(o,i){return new xn(3005,!1)}function GC(){return new xn(3006,!1)}function WC(){return new xn(3007,!1)}function KC(o,i){return new xn(3008,!1)}function qC(o){return new xn(3002,!1)}function $C(o,i,e,t,n){return new xn(3010,!1)}function YC(){return new xn(3011,!1)}function QC(){return new xn(3012,!1)}function XC(){return new xn(3200,!1)}function ZC(){return new xn(3202,!1)}function JC(){return new xn(3013,!1)}function ex(o){return new xn(3014,!1)}function tx(o){return new xn(3015,!1)}function nx(o){return new xn(3016,!1)}function ix(o,i){return new xn(3404,!1)}function rx(o){return new xn(3502,!1)}function ox(o){return new xn(3503,!1)}function ax(){return new xn(3300,!1)}function sx(o){return new xn(3504,!1)}function lx(o){return new xn(3301,!1)}function cx(o,i){return new xn(3302,!1)}function dx(o){return new xn(3303,!1)}function ux(o,i){return new xn(3400,!1)}function px(o){return new xn(3401,!1)}function fx(o){return new xn(3402,!1)}function hx(o,i){return new xn(3505,!1)}function Ta(o){switch(o.length){case 0:return new Ks;case 1:return o[0];default:return new Ef(o)}}function y0(o,i,e=new Map,t=new Map){let n=[],r=[],a=-1,s=null;if(i.forEach(c=>{let d=c.get("offset"),p=d==a,f=p&&s||new Map;c.forEach((h,v)=>{let C=v,b=h;if(v!=="offset")switch(C=o.normalizePropertyName(C,n),b){case qd:b=e.get(v);break;case po:b=t.get(v);break;default:b=o.normalizeStyleValue(v,C,b,n);break}f.set(C,b)}),p||r.push(f),s=f,a=d}),n.length)throw rx(n);return r}function Jf(o,i,e,t){switch(i){case"start":o.onStart(()=>t(e&&Af(e,"start",o)));break;case"done":o.onDone(()=>t(e&&Af(e,"done",o)));break;case"destroy":o.onDestroy(()=>t(e&&Af(e,"destroy",o)));break}}function Af(o,i,e){let t=e.totalTime,n=!!e.disabled,r=eh(o.element,o.triggerName,o.fromState,o.toState,i||o.phaseName,t??o.totalTime,n),a=o._data;return a!=null&&(r._data=a),r}function eh(o,i,e,t,n="",r=0,a){return{element:o,triggerName:i,fromState:e,toState:t,phaseName:n,totalTime:r,disabled:!!a}}function Mr(o,i,e){let t=o.get(i);return t||o.set(i,t=e),t}function a0(o){let i=o.indexOf(":"),e=o.substring(1,i),t=o.slice(i+1);return[e,t]}var mx=typeof document>"u"?null:document.documentElement;function th(o){let i=o.parentNode||o.host||null;return i===mx?null:i}function gx(o){return o.substring(1,6)=="ebkit"}var es=null,s0=!1;function vx(o){es||(es=_x()||{},s0=es.style?"WebkitAppearance"in es.style:!1);let i=!0;return es.style&&!gx(o)&&(i=o in es.style,!i&&s0&&(i="Webkit"+o.charAt(0).toUpperCase()+o.slice(1)in es.style)),i}function _x(){return typeof document<"u"?document.body:null}function b0(o,i){for(;i;){if(i===o)return!0;i=th(i)}return!1}function C0(o,i,e){if(e)return Array.from(o.querySelectorAll(i));let t=o.querySelector(i);return t?[t]:[]}var nh=(()=>{class o{validateStyleProperty(e){return vx(e)}matchesElement(e,t){return!1}containsElement(e,t){return b0(e,t)}getParentElement(e){return th(e)}query(e,t,n){return C0(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,a,s=[],c){return new Ks(n,r)}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275prov=ao({token:o,factory:o.\u0275fac})}}return o})(),is=class{static{this.NOOP=new nh}},rs=class{};var yx=1e3,x0="{{",bx="}}",w0="ng-enter",Ff="ng-leave",eu="ng-trigger",ou=".ng-trigger",l0="ng-animating",Vf=".ng-animating";function Fo(o){if(typeof o=="number")return o;let i=o.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:jf(parseFloat(i[1]),i[2])}function jf(o,i){switch(i){case"s":return o*yx;default:return o}}function au(o,i,e){return o.hasOwnProperty("duration")?o:Cx(o,i,e)}function Cx(o,i,e){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,r=0,a="";if(typeof o=="string"){let s=o.match(t);if(s===null)return i.push(o0(o)),{duration:0,delay:0,easing:""};n=jf(parseFloat(s[1]),s[2]);let c=s[3];c!=null&&(r=jf(parseFloat(c),s[4]));let d=s[5];d&&(a=d)}else n=o;if(!e){let s=!1,c=i.length;n<0&&(i.push(VC()),s=!0),r<0&&(i.push(jC()),s=!0),s&&i.splice(c,0,o0(o))}return{duration:n,delay:r,easing:a}}function xx(o){return o.length?o[0]instanceof Map?o:o.map(i=>new Map(Object.entries(i))):[]}function bo(o,i,e){i.forEach((t,n)=>{let r=ih(n);e&&!e.has(n)&&e.set(n,o.style[r]),o.style[r]=t})}function ns(o,i){i.forEach((e,t)=>{let n=ih(t);o.style[n]=""})}function _c(o){return Array.isArray(o)?o.length==1?o[0]:G1(o):o}function wx(o,i,e){let t=i.params||{},n=O0(o);n.length&&n.forEach(r=>{t.hasOwnProperty(r)||e.push(HC(r))})}var Hf=new RegExp(`${x0}\\s*(.+?)\\s*${bx}`,"g");function O0(o){let i=[];if(typeof o=="string"){let e;for(;e=Hf.exec(o);)i.push(e[1]);Hf.lastIndex=0}return i}function bc(o,i,e){let t=`${o}`,n=t.replace(Hf,(r,a)=>{let s=i[a];return s==null&&(e.push(zC(a)),s=""),s.toString()});return n==t?o:n}var Ox=/-+([a-z0-9])/g;function ih(o){return o.replace(Ox,(...i)=>i[1].toUpperCase())}function Px(o,i){return o===0||i===0}function Mx(o,i,e){if(e.size&&i.length){let t=i[0],n=[];if(e.forEach((r,a)=>{t.has(a)||n.push(a),t.set(a,r)}),n.length)for(let r=1;r<i.length;r++){let a=i[r];n.forEach(s=>a.set(s,rh(o,s)))}}return i}function Pr(o,i,e){switch(i.type){case hn.Trigger:return o.visitTrigger(i,e);case hn.State:return o.visitState(i,e);case hn.Transition:return o.visitTransition(i,e);case hn.Sequence:return o.visitSequence(i,e);case hn.Group:return o.visitGroup(i,e);case hn.Animate:return o.visitAnimate(i,e);case hn.Keyframes:return o.visitKeyframes(i,e);case hn.Style:return o.visitStyle(i,e);case hn.Reference:return o.visitReference(i,e);case hn.AnimateChild:return o.visitAnimateChild(i,e);case hn.AnimateRef:return o.visitAnimateRef(i,e);case hn.Query:return o.visitQuery(i,e);case hn.Stagger:return o.visitStagger(i,e);default:throw BC(i.type)}}function rh(o,i){return window.getComputedStyle(o)[i]}var Tx=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),su=class extends rs{normalizePropertyName(i,e){return ih(i)}normalizeStyleValue(i,e,t,n){let r="",a=t.toString().trim();if(Tx.has(e)&&t!==0&&t!=="0")if(typeof t=="number")r="px";else{let s=t.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&n.push(UC(i,t))}return a+r}};var lu="*";function Sx(o,i){let e=[];return typeof o=="string"?o.split(/\s*,\s*/).forEach(t=>Ex(t,e,i)):e.push(o),e}function Ex(o,i,e){if(o[0]==":"){let c=kx(o,e);if(typeof c=="function"){i.push(c);return}o=c}let t=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return e.push(tx(o)),i;let n=t[1],r=t[2],a=t[3];i.push(c0(n,a));let s=n==lu&&a==lu;r[0]=="<"&&!s&&i.push(c0(a,n))}function kx(o,i){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return i.push(nx(o)),"* => *"}}var tu=new Set(["true","1"]),nu=new Set(["false","0"]);function c0(o,i){let e=tu.has(o)||nu.has(o),t=tu.has(i)||nu.has(i);return(n,r)=>{let a=o==lu||o==n,s=i==lu||i==r;return!a&&e&&typeof n=="boolean"&&(a=n?tu.has(o):nu.has(o)),!s&&t&&typeof r=="boolean"&&(s=r?tu.has(i):nu.has(i)),a&&s}}var P0=":self",Ax=new RegExp(`s*${P0}s*,?`,"g");function M0(o,i,e,t){return new zf(o).build(i,e,t)}var d0="",zf=class{constructor(i){this._driver=i}build(i,e,t){let n=new Bf(e);return this._resetContextStyleTimingState(n),Pr(this,_c(i),n)}_resetContextStyleTimingState(i){i.currentQuerySelector=d0,i.collectedStyles=new Map,i.collectedStyles.set(d0,new Map),i.currentTime=0}visitTrigger(i,e){let t=e.queryCount=0,n=e.depCount=0,r=[],a=[];return i.name.charAt(0)=="@"&&e.errors.push(GC()),i.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==hn.State){let c=s,d=c.name;d.toString().split(/\s*,\s*/).forEach(p=>{c.name=p,r.push(this.visitState(c,e))}),c.name=d}else if(s.type==hn.Transition){let c=this.visitTransition(s,e);t+=c.queryCount,n+=c.depCount,a.push(c)}else e.errors.push(WC())}),{type:hn.Trigger,name:i.name,states:r,transitions:a,queryCount:t,depCount:n,options:null}}visitState(i,e){let t=this.visitStyle(i.styles,e),n=i.options&&i.options.params||null;if(t.containsDynamicStyles){let r=new Set,a=n||{};t.styles.forEach(s=>{s instanceof Map&&s.forEach(c=>{O0(c).forEach(d=>{a.hasOwnProperty(d)||r.add(d)})})}),r.size&&e.errors.push(KC(i.name,[...r.values()]))}return{type:hn.State,name:i.name,style:t,options:n?{params:n}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let t=Pr(this,_c(i.animation),e),n=Sx(i.expr,e.errors);return{type:hn.Transition,matchers:n,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:ts(i.options)}}visitSequence(i,e){return{type:hn.Sequence,steps:i.steps.map(t=>Pr(this,t,e)),options:ts(i.options)}}visitGroup(i,e){let t=e.currentTime,n=0,r=i.steps.map(a=>{e.currentTime=t;let s=Pr(this,a,e);return n=Math.max(n,e.currentTime),s});return e.currentTime=n,{type:hn.Group,steps:r,options:ts(i.options)}}visitAnimate(i,e){let t=Dx(i.timings,e.errors);e.currentAnimateTimings=t;let n,r=i.styles?i.styles:Yt({});if(r.type==hn.Keyframes)n=this.visitKeyframes(r,e);else{let a=i.styles,s=!1;if(!a){s=!0;let d={};t.easing&&(d.easing=t.easing),a=Yt(d)}e.currentTime+=t.duration+t.delay;let c=this.visitStyle(a,e);c.isEmptyStep=s,n=c}return e.currentAnimateTimings=null,{type:hn.Animate,timings:t,style:n,options:null}}visitStyle(i,e){let t=this._makeStyleAst(i,e);return this._validateStyleAst(t,e),t}_makeStyleAst(i,e){let t=[],n=Array.isArray(i.styles)?i.styles:[i.styles];for(let s of n)typeof s=="string"?s===po?t.push(s):e.errors.push(qC(s)):t.push(new Map(Object.entries(s)));let r=!1,a=null;return t.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!r)){for(let c of s.values())if(c.toString().indexOf(x0)>=0){r=!0;break}}}),{type:hn.Style,styles:t,easing:a,offset:i.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(i,e){let t=e.currentAnimateTimings,n=e.currentTime,r=e.currentTime;t&&r>0&&(r-=t.duration+t.delay),i.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,c)=>{let d=e.collectedStyles.get(e.currentQuerySelector),p=d.get(c),f=!0;p&&(r!=n&&r>=p.startTime&&n<=p.endTime&&(e.errors.push($C(c,p.startTime,p.endTime,r,n)),f=!1),r=p.startTime),f&&d.set(c,{startTime:r,endTime:n}),e.options&&wx(s,e.options,e.errors)})})}visitKeyframes(i,e){let t={type:hn.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(YC()),t;let n=1,r=0,a=[],s=!1,c=!1,d=0,p=i.steps.map(w=>{let P=this._makeStyleAst(w,e),M=P.offset!=null?P.offset:Nx(P.styles),y=0;return M!=null&&(r++,y=P.offset=M),c=c||y<0||y>1,s=s||y<d,d=y,a.push(y),P});c&&e.errors.push(QC()),s&&e.errors.push(XC());let f=i.steps.length,h=0;r>0&&r<f?e.errors.push(ZC()):r==0&&(h=n/(f-1));let v=f-1,C=e.currentTime,b=e.currentAnimateTimings,x=b.duration;return p.forEach((w,P)=>{let M=h>0?P==v?1:h*P:a[P],y=M*x;e.currentTime=C+b.delay+y,b.duration=y,this._validateStyleAst(w,e),w.offset=M,t.styles.push(w)}),t}visitReference(i,e){return{type:hn.Reference,animation:Pr(this,_c(i.animation),e),options:ts(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:hn.AnimateChild,options:ts(i.options)}}visitAnimateRef(i,e){return{type:hn.AnimateRef,animation:this.visitReference(i.animation,e),options:ts(i.options)}}visitQuery(i,e){let t=e.currentQuerySelector,n=i.options||{};e.queryCount++,e.currentQuery=i;let[r,a]=Ix(i.selector);e.currentQuerySelector=t.length?t+" "+r:r,Mr(e.collectedStyles,e.currentQuerySelector,new Map);let s=Pr(this,_c(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:hn.Query,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:a,animation:s,originalSelector:i.selector,options:ts(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(JC());let t=i.timings==="full"?{duration:0,delay:0,easing:"full"}:au(i.timings,e.errors,!0);return{type:hn.Stagger,animation:Pr(this,_c(i.animation),e),timings:t,options:null}}};function Ix(o){let i=!!o.split(/\s*,\s*/).find(e=>e==P0);return i&&(o=o.replace(Ax,"")),o=o.replace(/@\*/g,ou).replace(/@\w+/g,e=>ou+"-"+e.slice(1)).replace(/:animating/g,Vf),[o,i]}function Lx(o){return o?Rr({},o):null}var Bf=class{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Nx(o){if(typeof o=="string")return null;let i=null;if(Array.isArray(o))o.forEach(e=>{if(e instanceof Map&&e.has("offset")){let t=e;i=parseFloat(t.get("offset")),t.delete("offset")}});else if(o instanceof Map&&o.has("offset")){let e=o;i=parseFloat(e.get("offset")),e.delete("offset")}return i}function Dx(o,i){if(o.hasOwnProperty("duration"))return o;if(typeof o=="number"){let r=au(o,i).duration;return If(r,0,"")}let e=o;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=If(0,0,"");return r.dynamic=!0,r.strValue=e,r}let n=au(e,i);return If(n.duration,n.delay,n.easing)}function ts(o){return o?(o=Rr({},o),o.params&&(o.params=Lx(o.params))):o={},o}function If(o,i,e){return{duration:o,delay:i,easing:e}}function oh(o,i,e,t,n,r,a=null,s=!1){return{type:1,element:o,keyframes:i,preStyleProps:e,postStyleProps:t,duration:n,delay:r,totalTime:n+r,easing:a,subTimeline:s}}var Cc=class{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,e){let t=this._map.get(i);t||this._map.set(i,t=[]),t.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}},Rx=1,Fx=":enter",Vx=new RegExp(Fx,"g"),jx=":leave",Hx=new RegExp(jx,"g");function T0(o,i,e,t,n,r=new Map,a=new Map,s,c,d=[]){return new Uf().buildKeyframes(o,i,e,t,n,r,a,s,c,d)}var Uf=class{buildKeyframes(i,e,t,n,r,a,s,c,d,p=[]){d=d||new Cc;let f=new Gf(i,e,d,n,r,p,[]);f.options=c;let h=c.delay?Fo(c.delay):0;f.currentTimeline.delayNextStep(h),f.currentTimeline.setStyles([a],null,f.errors,c),Pr(this,t,f);let v=f.timelines.filter(C=>C.containsAnimation());if(v.length&&s.size){let C;for(let b=v.length-1;b>=0;b--){let x=v[b];if(x.element===e){C=x;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([s],null,f.errors,c)}return v.length?v.map(C=>C.buildKeyframes()):[oh(e,[],[],[],0,h,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let t=e.subInstructions.get(e.element);if(t){let n=e.createSubContext(i.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(t,n,n.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=i}visitAnimateRef(i,e){let t=e.createSubContext(i.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,t),this.visitReference(i.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,t){for(let n of i){let r=n?.delay;if(r){let a=typeof r=="number"?r:Fo(bc(r,n?.params??{},e.errors));t.delayNextStep(a)}}}_visitSubInstructions(i,e,t){let r=e.currentTimeline.currentTime,a=t.duration!=null?Fo(t.duration):null,s=t.delay!=null?Fo(t.delay):null;return a!==0&&i.forEach(c=>{let d=e.appendInstructionToTimeline(c,a,s);r=Math.max(r,d.duration+d.delay)}),r}visitReference(i,e){e.updateOptions(i.options,!0),Pr(this,i.animation,e),e.previousNode=i}visitSequence(i,e){let t=e.subContextCount,n=e,r=i.options;if(r&&(r.params||r.delay)&&(n=e.createSubContext(r),n.transformIntoNewTimeline(),r.delay!=null)){n.previousNode.type==hn.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=cu);let a=Fo(r.delay);n.delayNextStep(a)}i.steps.length&&(i.steps.forEach(a=>Pr(this,a,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>t&&n.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){let t=[],n=e.currentTimeline.currentTime,r=i.options&&i.options.delay?Fo(i.options.delay):0;i.steps.forEach(a=>{let s=e.createSubContext(i.options);r&&s.delayNextStep(r),Pr(this,a,s),n=Math.max(n,s.currentTimeline.currentTime),t.push(s.currentTimeline)}),t.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(n),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){let t=i.strValue,n=e.params?bc(t,e.params,e.errors):t;return au(n,e.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let t=e.currentAnimateTimings=this._visitTiming(i.timings,e),n=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),n.snapshotCurrentStyles());let r=i.style;r.type==hn.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(t.duration),this.visitStyle(r,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){let t=e.currentTimeline,n=e.currentAnimateTimings;!n&&t.hasCurrentStyleProperties()&&t.forwardFrame();let r=n&&n.easing||i.easing;i.isEmptyStep?t.applyEmptyStep(r):t.setStyles(i.styles,r,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){let t=e.currentAnimateTimings,n=e.currentTimeline.duration,r=t.duration,s=e.createSubContext().currentTimeline;s.easing=t.easing,i.styles.forEach(c=>{let d=c.offset||0;s.forwardTime(d*r),s.setStyles(c.styles,c.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(n+r),e.previousNode=i}visitQuery(i,e){let t=e.currentTimeline.currentTime,n=i.options||{},r=n.delay?Fo(n.delay):0;r&&(e.previousNode.type===hn.Style||t==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cu);let a=t,s=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=s.length;let c=null;s.forEach((d,p)=>{e.currentQueryIndex=p;let f=e.createSubContext(i.options,d);r&&f.delayNextStep(r),d===e.element&&(c=f.currentTimeline),Pr(this,i.animation,f),f.currentTimeline.applyStylesToKeyframe();let h=f.currentTimeline.currentTime;a=Math.max(a,h)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){let t=e.parentContext,n=e.currentTimeline,r=i.timings,a=Math.abs(r.duration),s=a*(e.currentQueryTotal-1),c=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":c=s-c;break;case"full":c=t.currentStaggerTime;break}let p=e.currentTimeline;c&&p.delayNextStep(c);let f=p.currentTime;Pr(this,i.animation,e),e.previousNode=i,t.currentStaggerTime=n.currentTime-f+(n.startTime-t.currentTimeline.startTime)}},cu={},Gf=class o{constructor(i,e,t,n,r,a,s,c){this._driver=i,this.element=e,this.subInstructions=t,this._enterClassName=n,this._leaveClassName=r,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new du(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let t=i,n=this.options;t.duration!=null&&(n.duration=Fo(t.duration)),t.delay!=null&&(n.delay=Fo(t.delay));let r=t.params;if(r){let a=n.params;a||(a=this.options.params={}),Object.keys(r).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=bc(r[s],a,this.errors))})}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let t=i.params={};Object.keys(e).forEach(n=>{t[n]=e[n]})}}return i}createSubContext(i=null,e,t){let n=e||this.element,r=new o(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,t||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(i),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(i){return this.previousNode=cu,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,t){let n={duration:e??i.duration,delay:this.currentTimeline.currentTime+(t??0)+i.delay,easing:""},r=new Wf(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,n,i.stretchStartingKeyframe);return this.timelines.push(r),n}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,t,n,r,a){let s=[];if(n&&s.push(this.element),i.length>0){i=i.replace(Vx,"."+this._enterClassName),i=i.replace(Hx,"."+this._leaveClassName);let c=t!=1,d=this._driver.query(this.element,i,c);t!==0&&(d=t<0?d.slice(d.length+t,d.length):d.slice(0,t)),s.push(...d)}return!r&&s.length==0&&a.push(ex(e)),s}},du=class o{constructor(i,e,t,n){this._driver=i,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new o(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Rx,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||po),this._currentKeyframe.set(e,po);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,t,n){e&&this._previousKeyframe.set("easing",e);let r=n&&n.params||{},a=zx(i,this._globalTimelineStyles);for(let[s,c]of a){let d=bc(c,r,t);this._pendingStyles.set(s,d),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??po),this._updateStyle(s,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,t)=>{let n=this._styleSummary.get(t);(!n||e.time>n.time)&&this._updateStyle(t,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,t=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((s,c)=>{let d=new Map([...this._backFill,...s]);d.forEach((p,f)=>{p===qd?i.add(f):p===po&&e.add(f)}),t||d.set("offset",c/this.duration),n.push(d)});let r=[...i.values()],a=[...e.values()];if(t){let s=n[0],c=new Map(s);s.set("offset",0),c.set("offset",1),n=[s,c]}return oh(this.element,n,r,a,this.duration,this.startTime,this.easing,!1)}},Wf=class extends du{constructor(i,e,t,n,r,a,s=!1){super(i,e,a.delay),this.keyframes=t,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:t,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],a=t+e,s=e/a,c=new Map(i[0]);c.set("offset",0),r.push(c);let d=new Map(i[0]);d.set("offset",u0(s)),r.push(d);let p=i.length-1;for(let f=1;f<=p;f++){let h=new Map(i[f]),v=h.get("offset"),C=e+v*t;h.set("offset",u0(C/a)),r.push(h)}t=a,e=0,n="",i=r}return oh(this.element,i,this.preStyleProps,this.postStyleProps,t,e,n,!0)}};function u0(o,i=3){let e=Math.pow(10,i-1);return Math.round(o*e)/e}function zx(o,i){let e=new Map,t;return o.forEach(n=>{if(n==="*"){t??=i.keys();for(let r of t)e.set(r,po)}else for(let[r,a]of n)e.set(r,a)}),e}function p0(o,i,e,t,n,r,a,s,c,d,p,f,h){return{type:0,element:o,triggerName:i,isRemovalTransition:n,fromState:e,fromStyles:r,toState:t,toStyles:a,timelines:s,queriedElements:c,preStyleProps:d,postStyleProps:p,totalTime:f,errors:h}}var Lf={},uu=class{constructor(i,e,t){this._triggerName=i,this.ast=e,this._stateStyles=t}match(i,e,t,n){return Bx(this.ast.matchers,i,e,t,n)}buildStyles(i,e,t){let n=this._stateStyles.get("*");return i!==void 0&&(n=this._stateStyles.get(i?.toString())||n),n?n.buildStyles(e,t):new Map}build(i,e,t,n,r,a,s,c,d,p){let f=[],h=this.ast.options&&this.ast.options.params||Lf,v=s&&s.params||Lf,C=this.buildStyles(t,v,f),b=c&&c.params||Lf,x=this.buildStyles(n,b,f),w=new Set,P=new Map,M=new Map,y=n==="void",A={params:S0(b,h),delay:this.ast.options?.delay},k=p?[]:T0(i,e,this.ast.animation,r,a,C,x,A,d,f),N=0;return k.forEach(V=>{N=Math.max(V.duration+V.delay,N)}),f.length?p0(e,this._triggerName,t,n,y,C,x,[],[],P,M,N,f):(k.forEach(V=>{let j=V.element,R=Mr(P,j,new Set);V.preStyleProps.forEach(I=>R.add(I));let H=Mr(M,j,new Set);V.postStyleProps.forEach(I=>H.add(I)),j!==e&&w.add(j)}),p0(e,this._triggerName,t,n,y,C,x,k,[...w.values()],P,M,N))}};function Bx(o,i,e,t,n){return o.some(r=>r(i,e,t,n))}function S0(o,i){let e=Rr({},i);return Object.entries(o).forEach(([t,n])=>{n!=null&&(e[t]=n)}),e}var Kf=class{constructor(i,e,t){this.styles=i,this.defaultParams=e,this.normalizer=t}buildStyles(i,e){let t=new Map,n=S0(i,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((a,s)=>{a&&(a=bc(a,n,e));let c=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,c,a,e),t.set(s,a)})}),t}};function Ux(o,i,e){return new qf(o,i,e)}var qf=class{constructor(i,e,t){this.name=i,this.ast=e,this._normalizer=t,this.transitionFactories=[],this.states=new Map,e.states.forEach(n=>{let r=n.options&&n.options.params||{};this.states.set(n.name,new Kf(n.style,r,t))}),f0(this.states,"true","1"),f0(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new uu(i,n,this.states))}),this.fallbackTransition=Gx(i,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,t,n){return this.transitionFactories.find(a=>a.match(i,e,t,n))||null}matchStyles(i,e,t){return this.fallbackTransition.buildStyles(i,e,t)}};function Gx(o,i,e){let t=[(a,s)=>!0],n={type:hn.Sequence,steps:[],options:null},r={type:hn.Transition,animation:n,matchers:t,options:null,queryCount:0,depCount:0};return new uu(o,r,i)}function f0(o,i,e){o.has(i)?o.has(e)||o.set(e,o.get(i)):o.has(e)&&o.set(i,o.get(e))}var Wx=new Cc,$f=class{constructor(i,e,t){this.bodyNode=i,this._driver=e,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,e){let t=[],n=[],r=M0(this._driver,e,t,n);if(t.length)throw ox(t);n.length&&void 0,this._animations.set(i,r)}_buildPlayer(i,e,t){let n=i.element,r=y0(this._normalizer,i.keyframes,e,t);return this._driver.animate(n,r,i.duration,i.delay,i.easing,[],!0)}create(i,e,t={}){let n=[],r=this._animations.get(i),a,s=new Map;if(r?(a=T0(this._driver,e,r,w0,Ff,new Map,new Map,t,Wx,n),a.forEach(p=>{let f=Mr(s,p.element,new Map);p.postStyleProps.forEach(h=>f.set(h,null))})):(n.push(ax()),a=[]),n.length)throw sx(n);s.forEach((p,f)=>{p.forEach((h,v)=>{p.set(v,this._driver.computeStyle(f,v,po))})});let c=a.map(p=>{let f=s.get(p.element);return this._buildPlayer(p,new Map,f)}),d=Ta(c);return this._playersById.set(i,d),d.onDestroy(()=>this.destroy(i)),this.players.push(d),d}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw lx(i);return e}listen(i,e,t,n){let r=eh(e,"","","");return Jf(this._getPlayer(i),t,r,n),()=>{}}command(i,e,t,n){if(t=="register"){this.register(i,n[0]);return}if(t=="create"){let a=n[0]||{};this.create(i,e,a);return}let r=this._getPlayer(i);switch(t){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(i);break}}},h0="ng-animate-queued",Kx=".ng-animate-queued",Nf="ng-animate-disabled",qx=".ng-animate-disabled",$x="ng-star-inserted",Yx=".ng-star-inserted",Qx=[],E0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xx={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zr="__ng_removed",xc=class{get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let t=i&&i.hasOwnProperty("value"),n=t?i.value:i;if(this.value=Jx(n),t){let r=i,{value:a}=r,s=m1(r,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let e=i.params;if(e){let t=this.options.params;Object.keys(e).forEach(n=>{t[n]==null&&(t[n]=e[n])})}}},yc="void",Df=new xc(yc),Yf=class{constructor(i,e,t){this.id=i,this.hostElement=e,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Vr(e,this._hostClassName)}listen(i,e,t,n){if(!this._triggers.has(e))throw cx(t,e);if(t==null||t.length==0)throw dx(e);if(!ew(t))throw ux(t,e);let r=Mr(this._elementListeners,i,[]),a={name:e,phase:t,callback:n};r.push(a);let s=Mr(this._engine.statesByElement,i,new Map);return s.has(e)||(Vr(i,eu),Vr(i,eu+"-"+e),s.set(e,Df)),()=>{this._engine.afterFlush(()=>{let c=r.indexOf(a);c>=0&&r.splice(c,1),this._triggers.has(e)||s.delete(e)})}}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw px(i);return e}trigger(i,e,t,n=!0){let r=this._getTrigger(e),a=new wc(this.id,e,i),s=this._engine.statesByElement.get(i);s||(Vr(i,eu),Vr(i,eu+"-"+e),this._engine.statesByElement.set(i,s=new Map));let c=s.get(e),d=new xc(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),s.set(e,d),c||(c=Df),!(d.value===yc)&&c.value===d.value){if(!iw(c.params,d.params)){let b=[],x=r.matchStyles(c.value,c.params,b),w=r.matchStyles(d.value,d.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{ns(i,x),bo(i,w)})}return}let h=Mr(this._engine.playersByElement,i,[]);h.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let v=r.matchTransition(c.value,d.value,i,d.params),C=!1;if(!v){if(!n)return;v=r.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:v,fromState:c,toState:d,player:a,isFallbackTransition:C}),C||(Vr(i,h0),a.onStart(()=>{tl(i,h0)})),a.onDone(()=>{let b=this.players.indexOf(a);b>=0&&this.players.splice(b,1);let x=this._engine.playersByElement.get(i);if(x){let w=x.indexOf(a);w>=0&&x.splice(w,1)}}),this.players.push(a),h.push(a),a}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(n=>n.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){let t=this._engine.driver.query(i,ou,!0);t.forEach(n=>{if(n[Zr])return;let r=this._engine.fetchNamespacesByElement(n);r.size?r.forEach(a=>a.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(i,e,t,n){let r=this._engine.statesByElement.get(i),a=new Map;if(r){let s=[];if(r.forEach((c,d)=>{if(a.set(d,c.value),this._triggers.has(d)){let p=this.trigger(i,d,yc,n);p&&s.push(p)}}),s.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,a),t&&Ta(s).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),t=this._engine.statesByElement.get(i);if(e&&t){let n=new Set;e.forEach(r=>{let a=r.name;if(n.has(a))return;n.add(a);let c=this._triggers.get(a).fallbackTransition,d=t.get(a)||Df,p=new xc(yc),f=new wc(this.id,a,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:a,transition:c,fromState:d,toState:p,player:f,isFallbackTransition:!0})})}}removeNode(i,e){let t=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let n=!1;if(t.totalAnimations){let r=t.players.length?t.playersByQueriedElement.get(i):[];if(r&&r.length)n=!0;else{let a=i;for(;a=a.parentNode;)if(t.statesByElement.get(a)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(i),n)t.markElementAsRemoved(this.id,i,!1,e);else{let r=i[Zr];(!r||r===E0)&&(t.afterFlush(()=>this.clearElementCache(i)),t.destroyInnerAnimations(i),t._onRemovalComplete(i,e))}}insertNode(i,e){Vr(i,this._hostClassName)}drainQueuedTransitions(i){let e=[];return this._queue.forEach(t=>{let n=t.player;if(n.destroyed)return;let r=t.element,a=this._elementListeners.get(r);a&&a.forEach(s=>{if(s.name==t.triggerName){let c=eh(r,t.triggerName,t.fromState.value,t.toState.value);c._data=i,Jf(t.player,s.phase,c,s.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(t)}),this._queue=[],e.sort((t,n)=>{let r=t.transition.ast.depCount,a=n.transition.ast.depCount;return r==0||a==0?r-a:this._engine.driver.containsElement(t.element,n.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},Qf=class{_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,t,n){this.bodyNode=i,this.driver=e,this._normalizer=t,this.scheduler=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&i.push(t)})}),i}createNamespace(i,e){let t=new Yf(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[i]=t}_balanceNamespaceList(i,e){let t=this._namespaceList,n=this.namespacesByHostElement;if(t.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let c=n.get(s);if(c){let d=t.indexOf(c);t.splice(d+1,0,i),a=!0;break}s=this.driver.getParentElement(s)}a||t.unshift(i)}else t.push(i);return n.set(e,i),i}register(i,e){let t=this._namespaceLookup[i];return t||(t=this.createNamespace(i,e)),t}registerTrigger(i,e,t){let n=this._namespaceLookup[i];n&&n.register(e,t)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(i);this.namespacesByHostElement.delete(t.hostElement);let n=this._namespaceList.indexOf(t);n>=0&&this._namespaceList.splice(n,1),t.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,t=this.statesByElement.get(i);if(t){for(let n of t.values())if(n.namespaceId){let r=this._fetchNamespace(n.namespaceId);r&&e.add(r)}}return e}trigger(i,e,t,n){if(iu(e)){let r=this._fetchNamespace(i);if(r)return r.trigger(e,t,n),!0}return!1}insertNode(i,e,t,n){if(!iu(e))return;let r=e[Zr];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(i){let a=this._fetchNamespace(i);a&&a.insertNode(e,t)}n&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Vr(i,Nf)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),tl(i,Nf))}removeNode(i,e,t){if(iu(e)){this.scheduler?.notify();let n=i?this._fetchNamespace(i):null;n?n.removeNode(e,t):this.markElementAsRemoved(i,e,!1,t);let r=this.namespacesByHostElement.get(e);r&&r.id!==i&&r.removeNode(e,t)}else this._onRemovalComplete(e,t)}markElementAsRemoved(i,e,t,n,r){this.collectedLeaveElements.push(e),e[Zr]={namespaceId:i,setForRemoval:n,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:r}}listen(i,e,t,n,r){return iu(e)?this._fetchNamespace(i).listen(e,t,n,r):()=>{}}_buildInstruction(i,e,t,n,r){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,t,n,i.fromState.options,i.toState.options,e,r)}destroyInnerAnimations(i){let e=this.driver.query(i,ou,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,Vf,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Ta(this.players).onDone(()=>i());i()})}processLeaveNode(i){let e=i[Zr];if(e&&e.setForRemoval){if(i[Zr]=E0,e.namespaceId){this.destroyInnerAnimations(i);let t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(Nf)&&this.markElementAsDisabled(i,!1),this.driver.query(i,qx,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,n)=>this._balanceNamespaceList(t,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let n=this.collectedEnterElements[t];Vr(n,$x)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{e=this._flushAnimations(t,i)}finally{for(let n=0;n<t.length;n++)t[n]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let n=this.collectedLeaveElements[t];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],e.length?Ta(e).onDone(()=>{t.forEach(n=>n())}):t.forEach(n=>n())}}reportError(i){throw fx(i)}_flushAnimations(i,e){let t=new Cc,n=[],r=new Map,a=[],s=new Map,c=new Map,d=new Map,p=new Set;this.disabledNodes.forEach(E=>{p.add(E);let Z=this.driver.query(E,Kx,!0);for(let te=0;te<Z.length;te++)p.add(Z[te])});let f=this.bodyNode,h=Array.from(this.statesByElement.keys()),v=v0(h,this.collectedEnterElements),C=new Map,b=0;v.forEach((E,Z)=>{let te=w0+b++;C.set(Z,te),E.forEach(de=>Vr(de,te))});let x=[],w=new Set,P=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){let Z=this.collectedLeaveElements[E],te=Z[Zr];te&&te.setForRemoval&&(x.push(Z),w.add(Z),te.hasAnimation?this.driver.query(Z,Yx,!0).forEach(de=>w.add(de)):P.add(Z))}let M=new Map,y=v0(h,Array.from(w));y.forEach((E,Z)=>{let te=Ff+b++;M.set(Z,te),E.forEach(de=>Vr(de,te))}),i.push(()=>{v.forEach((E,Z)=>{let te=C.get(Z);E.forEach(de=>tl(de,te))}),y.forEach((E,Z)=>{let te=M.get(Z);E.forEach(de=>tl(de,te))}),x.forEach(E=>{this.processLeaveNode(E)})});let A=[],k=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(e).forEach(te=>{let de=te.player,Fe=te.element;if(A.push(de),this.collectedEnterElements.length){let Te=Fe[Zr];if(Te&&Te.setForMove){if(Te.previousTriggersValues&&Te.previousTriggersValues.has(te.triggerName)){let Ne=Te.previousTriggersValues.get(te.triggerName),ze=this.statesByElement.get(te.element);if(ze&&ze.has(te.triggerName)){let ke=ze.get(te.triggerName);ke.value=Ne,ze.set(te.triggerName,ke)}}de.destroy();return}}let Ge=!f||!this.driver.containsElement(f,Fe),we=M.get(Fe),ge=C.get(Fe),ne=this._buildInstruction(te,t,ge,we,Ge);if(ne.errors&&ne.errors.length){k.push(ne);return}if(Ge){de.onStart(()=>ns(Fe,ne.fromStyles)),de.onDestroy(()=>bo(Fe,ne.toStyles)),n.push(de);return}if(te.isFallbackTransition){de.onStart(()=>ns(Fe,ne.fromStyles)),de.onDestroy(()=>bo(Fe,ne.toStyles)),n.push(de);return}let he=[];ne.timelines.forEach(Te=>{Te.stretchStartingKeyframe=!0,this.disabledNodes.has(Te.element)||he.push(Te)}),ne.timelines=he,t.append(Fe,ne.timelines);let Oe={instruction:ne,player:de,element:Fe};a.push(Oe),ne.queriedElements.forEach(Te=>Mr(s,Te,[]).push(de)),ne.preStyleProps.forEach((Te,Ne)=>{if(Te.size){let ze=c.get(Ne);ze||c.set(Ne,ze=new Set),Te.forEach((ke,oe)=>ze.add(oe))}}),ne.postStyleProps.forEach((Te,Ne)=>{let ze=d.get(Ne);ze||d.set(Ne,ze=new Set),Te.forEach((ke,oe)=>ze.add(oe))})});if(k.length){let E=[];k.forEach(Z=>{E.push(hx(Z.triggerName,Z.errors))}),A.forEach(Z=>Z.destroy()),this.reportError(E)}let N=new Map,V=new Map;a.forEach(E=>{let Z=E.element;t.has(Z)&&(V.set(Z,Z),this._beforeAnimationBuild(E.player.namespaceId,E.instruction,N))}),n.forEach(E=>{let Z=E.element;this._getPreviousPlayers(Z,!1,E.namespaceId,E.triggerName,null).forEach(de=>{Mr(N,Z,[]).push(de),de.destroy()})});let j=x.filter(E=>_0(E,c,d)),R=new Map;g0(R,this.driver,P,d,po).forEach(E=>{_0(E,c,d)&&j.push(E)});let I=new Map;v.forEach((E,Z)=>{g0(I,this.driver,new Set(E),c,qd)}),j.forEach(E=>{let Z=R.get(E),te=I.get(E);R.set(E,new Map([...Z?.entries()??[],...te?.entries()??[]]))});let G=[],K=[],J={};a.forEach(E=>{let{element:Z,player:te,instruction:de}=E;if(t.has(Z)){if(p.has(Z)){te.onDestroy(()=>bo(Z,de.toStyles)),te.disabled=!0,te.overrideTotalTime(de.totalTime),n.push(te);return}let Fe=J;if(V.size>1){let we=Z,ge=[];for(;we=we.parentNode;){let ne=V.get(we);if(ne){Fe=ne;break}ge.push(we)}ge.forEach(ne=>V.set(ne,Fe))}let Ge=this._buildAnimation(te.namespaceId,de,N,r,I,R);if(te.setRealPlayer(Ge),Fe===J)G.push(te);else{let we=this.playersByElement.get(Fe);we&&we.length&&(te.parentPlayer=Ta(we)),n.push(te)}}else ns(Z,de.fromStyles),te.onDestroy(()=>bo(Z,de.toStyles)),K.push(te),p.has(Z)&&n.push(te)}),K.forEach(E=>{let Z=r.get(E.element);if(Z&&Z.length){let te=Ta(Z);E.setRealPlayer(te)}}),n.forEach(E=>{E.parentPlayer?E.syncPlayerEvents(E.parentPlayer):E.destroy()});for(let E=0;E<x.length;E++){let Z=x[E],te=Z[Zr];if(tl(Z,Ff),te&&te.hasAnimation)continue;let de=[];if(s.size){let Ge=s.get(Z);Ge&&Ge.length&&de.push(...Ge);let we=this.driver.query(Z,Vf,!0);for(let ge=0;ge<we.length;ge++){let ne=s.get(we[ge]);ne&&ne.length&&de.push(...ne)}}let Fe=de.filter(Ge=>!Ge.destroyed);Fe.length?tw(this,Z,Fe):this.processLeaveNode(Z)}return x.length=0,G.forEach(E=>{this.players.push(E),E.onDone(()=>{E.destroy();let Z=this.players.indexOf(E);this.players.splice(Z,1)}),E.play()}),G}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,t,n,r){let a=[];if(e){let s=this.playersByQueriedElement.get(i);s&&(a=s)}else{let s=this.playersByElement.get(i);if(s){let c=!r||r==yc;s.forEach(d=>{d.queued||!c&&d.triggerName!=n||a.push(d)})}}return(t||n)&&(a=a.filter(s=>!(t&&t!=s.namespaceId||n&&n!=s.triggerName))),a}_beforeAnimationBuild(i,e,t){let n=e.triggerName,r=e.element,a=e.isRemovalTransition?void 0:i,s=e.isRemovalTransition?void 0:n;for(let c of e.timelines){let d=c.element,p=d!==r,f=Mr(t,d,[]);this._getPreviousPlayers(d,p,a,s,e.toState).forEach(v=>{let C=v.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),v.destroy(),f.push(v)})}ns(r,e.fromStyles)}_buildAnimation(i,e,t,n,r,a){let s=e.triggerName,c=e.element,d=[],p=new Set,f=new Set,h=e.timelines.map(C=>{let b=C.element;p.add(b);let x=b[Zr];if(x&&x.removedBeforeQueried)return new Ks(C.duration,C.delay);let w=b!==c,P=nw((t.get(b)||Qx).map(N=>N.getRealPlayer())).filter(N=>{let V=N;return V.element?V.element===b:!1}),M=r.get(b),y=a.get(b),A=y0(this._normalizer,C.keyframes,M,y),k=this._buildPlayer(C,A,P);if(C.subTimeline&&n&&f.add(b),w){let N=new wc(i,s,b);N.setRealPlayer(k),d.push(N)}return k});d.forEach(C=>{Mr(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>Zx(this.playersByQueriedElement,C.element,C))}),p.forEach(C=>Vr(C,l0));let v=Ta(h);return v.onDestroy(()=>{p.forEach(C=>tl(C,l0)),bo(c,e.toStyles)}),f.forEach(C=>{Mr(n,C,[]).push(v)}),v}_buildPlayer(i,e,t){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,t):new Ks(i.duration,i.delay)}},wc=class{constructor(i,e,t){this.namespaceId=i,this.triggerName=e,this.element=t,this._player=new Ks,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,t)=>{e.forEach(n=>Jf(i,t,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){Mr(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i)}};function Zx(o,i,e){let t=o.get(i);if(t){if(t.length){let n=t.indexOf(e);t.splice(n,1)}t.length==0&&o.delete(i)}return t}function Jx(o){return o??null}function iu(o){return o&&o.nodeType===1}function ew(o){return o=="start"||o=="done"}function m0(o,i){let e=o.style.display;return o.style.display=i??"none",e}function g0(o,i,e,t,n){let r=[];e.forEach(c=>r.push(m0(c)));let a=[];t.forEach((c,d)=>{let p=new Map;c.forEach(f=>{let h=i.computeStyle(d,f,n);p.set(f,h),(!h||h.length==0)&&(d[Zr]=Xx,a.push(d))}),o.set(d,p)});let s=0;return e.forEach(c=>m0(c,r[s++])),a}function v0(o,i){let e=new Map;if(o.forEach(s=>e.set(s,[])),i.length==0)return e;let t=1,n=new Set(i),r=new Map;function a(s){if(!s)return t;let c=r.get(s);if(c)return c;let d=s.parentNode;return e.has(d)?c=d:n.has(d)?c=t:c=a(d),r.set(s,c),c}return i.forEach(s=>{let c=a(s);c!==t&&e.get(c).push(s)}),e}function Vr(o,i){o.classList?.add(i)}function tl(o,i){o.classList?.remove(i)}function tw(o,i,e){Ta(e).onDone(()=>o.processLeaveNode(i))}function nw(o){let i=[];return k0(o,i),i}function k0(o,i){for(let e=0;e<o.length;e++){let t=o[e];t instanceof Ef?k0(t.players,i):i.push(t)}}function iw(o,i){let e=Object.keys(o),t=Object.keys(i);if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n];if(!i.hasOwnProperty(r)||o[r]!==i[r])return!1}return!0}function _0(o,i,e){let t=e.get(o);if(!t)return!1;let n=i.get(o);return n?t.forEach(r=>n.add(r)):i.set(o,t),e.delete(o),!0}var nl=class{constructor(i,e,t,n){this._driver=e,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new Qf(i.body,e,t,n),this._timelineEngine=new $f(i.body,e,t),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(i,e,t,n,r){let a=i+"-"+n,s=this._triggerCache[a];if(!s){let c=[],d=[],p=M0(this._driver,r,c,d);if(c.length)throw ix(n,c);d.length&&void 0,s=Ux(n,p,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,n,s)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,t,n){this._transitionEngine.insertNode(i,e,t,n)}onRemove(i,e,t){this._transitionEngine.removeNode(i,e,t)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,t,n){if(t.charAt(0)=="@"){let[r,a]=a0(t),s=n;this._timelineEngine.command(r,e,a,s)}else this._transitionEngine.trigger(i,e,t,n)}listen(i,e,t,n,r){if(t.charAt(0)=="@"){let[a,s]=a0(t);return this._timelineEngine.listen(a,e,s,r)}return this._transitionEngine.listen(i,e,t,n,r)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function rw(o,i){let e=null,t=null;return Array.isArray(i)&&i.length?(e=Rf(i[0]),i.length>1&&(t=Rf(i[i.length-1]))):i instanceof Map&&(e=Rf(i)),e||t?new Xf(o,e,t):null}var Xf=class o{static{this.initialStylesByElement=new WeakMap}constructor(i,e,t){this._element=i,this._startStyles=e,this._endStyles=t,this._state=0;let n=o.initialStylesByElement.get(i);n||o.initialStylesByElement.set(i,n=new Map),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&bo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bo(this._element,this._initialStyles),this._endStyles&&(bo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(o.initialStylesByElement.delete(this._element),this._startStyles&&(ns(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ns(this._element,this._endStyles),this._endStyles=null),bo(this._element,this._initialStyles),this._state=3)}};function Rf(o){let i=null;return o.forEach((e,t)=>{ow(t)&&(i=i||new Map,i.set(t,e))}),i}function ow(o){return o==="display"||o==="position"}var pu=class{constructor(i,e,t,n){this.element=i,this.keyframes=e,this.options=t,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){let e=[];return i.forEach(t=>{e.push(Object.fromEntries(t))}),e}_triggerWebAnimation(i,e,t){return i.animate(this._convertKeyframesToObject(e),t)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,n)=>{n!=="offset"&&i.set(n,this._finished?t:rh(this.element,n))}),this.currentSnapshot=i}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},fu=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,e){return!1}containsElement(i,e){return b0(i,e)}getParentElement(i){return th(i)}query(i,e,t){return C0(i,e,t)}computeStyle(i,e,t){return rh(i,e)}animate(i,e,t,n,r,a=[]){let s=n==0?"both":"forwards",c={duration:t,delay:n,fill:s};r&&(c.easing=r);let d=new Map,p=a.filter(v=>v instanceof pu);Px(t,n)&&p.forEach(v=>{v.currentSnapshot.forEach((C,b)=>d.set(b,C))});let f=xx(e).map(v=>new Map(v));f=Mx(i,f,d);let h=rw(i,f);return new pu(i,f,c,h)}};var ru="@",A0="@.disabled",hu=class{constructor(i,e,t,n){this.namespaceId=i,this.delegate=e,this.engine=t,this._onDestroy=n,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,t,n=!0){this.delegate.insertBefore(i,e,t),this.engine.onInsert(this.namespaceId,e,i,n)}removeChild(i,e,t){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,t,n){this.delegate.setAttribute(i,e,t,n)}removeAttribute(i,e,t){this.delegate.removeAttribute(i,e,t)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,t,n){this.delegate.setStyle(i,e,t,n)}removeStyle(i,e,t){this.delegate.removeStyle(i,e,t)}setProperty(i,e,t){e.charAt(0)==ru&&e==A0?this.disableAnimations(i,!!t):this.delegate.setProperty(i,e,t)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,t){return this.delegate.listen(i,e,t)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}},Zf=class extends hu{constructor(i,e,t,n,r){super(e,t,n,r),this.factory=i,this.namespaceId=e}setProperty(i,e,t){e.charAt(0)==ru?e.charAt(1)=="."&&e==A0?(t=t===void 0?!0:!!t,this.disableAnimations(i,t)):this.engine.process(this.namespaceId,i,e.slice(1),t):this.delegate.setProperty(i,e,t)}listen(i,e,t){if(e.charAt(0)==ru){let n=aw(i),r=e.slice(1),a="";return r.charAt(0)!=ru&&([r,a]=sw(r)),this.engine.listen(this.namespaceId,n,r,a,s=>{let c=s._data||-1;this.factory.scheduleListenerCallback(c,t,s)})}return this.delegate.listen(i,e,t)}};function aw(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o}}function sw(o){let i=o.indexOf("."),e=o.substring(0,i),t=o.slice(i+1);return[e,t]}var mu=class{constructor(i,e,t){this.delegate=i,this.engine=e,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(n,r)=>{let a=r?.parentNode(n);a&&r.removeChild(a,n)}}createRenderer(i,e){let t="",n=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let d=this._rendererCache,p=d.get(n);if(!p){let f=()=>d.delete(n);p=new hu(t,n,this.engine,f),d.set(n,p)}return p}let r=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,i);let s=d=>{Array.isArray(d)?d.forEach(s):this.engine.registerTrigger(r,a,i,d.name,d)};return e.data.animation.forEach(s),new Zf(this,a,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,t){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(t));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(r=>{let[a,s]=r;a(s)}),this._animationCallbacksBuffer=[]})}),n.push([e,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var cw=(()=>{class o extends nl{constructor(e,t,n){super(e,t,n,Pt(M1,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(t){return new(t||o)(Us(zd),Us(is),Us(rs))}}static{this.\u0275prov=ao({token:o,factory:o.\u0275fac})}}return o})();function dw(){return new su}function uw(o,i,e){return new mu(o,i,e)}var I0=[{provide:rs,useFactory:dw},{provide:nl,useClass:cw},{provide:T1,useFactory:uw,deps:[V1,nl,_a]}],pw=[{provide:is,useFactory:()=>new fu},{provide:ga,useValue:"BrowserAnimations"},...I0],iI=[{provide:is,useClass:nh},{provide:ga,useValue:"NoopAnimations"},...I0];function L0(){return S1("NgEagerAnimations"),[...pw]}var hw=["*"],mw='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',gw=["unscopedContent"],vw=["text"],_w=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],yw=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var bw=new cc("ListOption"),Cw=(()=>{class o{constructor(e){this._elementRef=e}static{this.\u0275fac=function(t){return new(t||o)(vn(so))}}static{this.\u0275dir=Fr({type:o,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}}return o})(),xw=(()=>{class o{constructor(e){this._elementRef=e}static{this.\u0275fac=function(t){return new(t||o)(vn(so))}}static{this.\u0275dir=Fr({type:o,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}}return o})(),ww=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275dir=Fr({type:o,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}}return o})(),N0=(()=>{class o{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static{this.\u0275fac=function(t){return new(t||o)(vn(bw,8))}}static{this.\u0275dir=Fr({type:o,hostVars:4,hostBindings:function(t,n){t&2&&Kt("mdc-list-item__start",n._isAlignedAtStart())("mdc-list-item__end",!n._isAlignedAtStart())},standalone:!0})}}return o})(),Ow=(()=>{class o extends N0{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Vd(o)))(n||o)}})()}static{this.\u0275dir=Fr({type:o,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[pc]})}}return o})(),Pw=(()=>{class o extends N0{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Vd(o)))(n||o)}})()}static{this.\u0275dir=Fr({type:o,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[pc]})}}return o})(),Mw=new cc("MAT_LIST_CONFIG"),gu=(()=>{class o{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=Pt(Mw,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=qs(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=qs(e)}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275dir=Fr({type:o,hostVars:1,hostBindings:function(t,n){t&2&&Ri("aria-disabled",n.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}}return o})(),Tw=(()=>{class o{set lines(e){this._explicitLines=W1(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=qs(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=qs(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,t,n,r,a,s){this._elementRef=e,this._ngZone=t,this._listBase=n,this._platform=r,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new g1,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=a||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=s==="NoopAnimations",n&&!n._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Y1(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(C1(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let t=this._explicitLines??this._inferLinesFromContent(),n=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",t<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",t<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",t===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",t===3),this._hasUnscopedTextContent){let r=this._titles.length===0&&t===1;n.classList.toggle("mdc-list-item__primary-text",r),n.classList.toggle("mdc-list-item__secondary-text",!r)}else n.classList.remove("mdc-list-item__primary-text"),n.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static{this.\u0275fac=function(t){return new(t||o)(vn(so),vn(_a),vn(gu,8),vn(gc),vn(kf,8),vn(ga,8))}}static{this.\u0275dir=Fr({type:o,contentQueries:function(t,n,r){if(t&1&&(lo(r,Ow,4),lo(r,Pw,4)),t&2){let a;fi(a=hi())&&(n._avatars=a),fi(a=hi())&&(n._icons=a)}},hostVars:4,hostBindings:function(t,n){t&2&&(Ri("aria-disabled",n.disabled)("disabled",n._isButtonElement&&n.disabled||null),Kt("mdc-list-item--disabled",n.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}}return o})();var D0=(()=>{class o extends Tw{get activated(){return this._activated}set activated(e){this._activated=qs(e)}constructor(e,t,n,r,a,s){super(e,t,n,r,a,s),this._activated=!1}_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}static{this.\u0275fac=function(t){return new(t||o)(vn(so),vn(_a),vn(gu,8),vn(gc),vn(kf,8),vn(ga,8))}}static{this.\u0275cmp=Sn({type:o,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,n,r){if(t&1&&(lo(r,xw,5),lo(r,Cw,5),lo(r,ww,5)),t&2){let a;fi(a=hi())&&(n._lines=a),fi(a=hi())&&(n._titles=a),fi(a=hi())&&(n._meta=a)}},viewQuery:function(t,n){if(t&1&&(co(gw,5),co(vw,5)),t&2){let r;fi(r=hi())&&(n._unscopedContent=r.first),fi(r=hi())&&(n._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(t,n){t&2&&(Ri("aria-current",n._getAriaCurrent()),Kt("mdc-list-item--activated",n.activated)("mdc-list-item--with-leading-avatar",n._avatars.length!==0)("mdc-list-item--with-leading-icon",n._icons.length!==0)("mdc-list-item--with-trailing-meta",n._meta.length!==0)("_mat-animation-noopable",n._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[pc,En],ngContentSelectors:yw,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(t,n){if(t&1){let r=jt();fc(_w),Qr(0),S(1,"span",1),Qr(2,1),Qr(3,2),S(4,"span",2,0),rt("cdkObserveContent",function(){return nt(r),it(n._updateItemLines(!0))}),Qr(6,3),L()(),Qr(7,4),Qr(8,5),je(9,"div",3)}},dependencies:[K1],encapsulation:2,changeDetection:0})}}return o})();var R0=(()=>{class o extends gu{constructor(){super(...arguments),this._isNonInteractive=!1}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Vd(o)))(n||o)}})()}static{this.\u0275cmp=Sn({type:o,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[k1([{provide:gu,useExisting:o}]),pc,En],ngContentSelectors:hw,decls:1,vars:0,template:function(t,n){t&1&&(fc(),Qr(0))},styles:[mw],encapsulation:2,changeDetection:0})}}return o})();var F0=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=Do({type:o})}static{this.\u0275inj=No({imports:[q1,qn,vo,Q1,X1,$s]})}}return o})();var kw=["scrollContainer"],Aw=()=>[],Iw=(o,i,e,t,n)=>({status:o,items:i,selectedId:e,selectedName:t,error:n}),Lw=(o,i,e)=>({"desktop-mode":o,"tablet-mode":i,"mobile-mode":e});function Nw(o,i){if(o&1){let e=jt();S(0,"button",23),rt("click",function(){nt(e);let n=Ae(2);return it(n.onSearch(n.searchQuery))}),pt(),S(1,"svg",10),je(2,"circle",11)(3,"path",12),L()()}}function Dw(o,i){if(o&1){let e=jt();S(0,"button",24),rt("click",function(){nt(e);let n=Ae(2);return n.searchQuery="",it(n.onSearch(""))}),pt(),S(1,"svg",10),je(2,"line",25)(3,"line",26),L()()}}function Rw(o,i){o&1&&(bi(0),S(1,"div",27),je(2,"mat-spinner",28),L(),Ci())}function Fw(o,i){o&1&&(pt(),je(0,"circle",53))}function Vw(o,i){o&1&&(pt(),je(0,"path",54))}function jw(o,i){o&1&&(pt(),je(0,"path",55))}function Hw(o,i){o&1&&(pt(),je(0,"path",56))}function zw(o,i){o&1&&(pt(),je(0,"path",57))}function Bw(o,i){o&1&&(pt(),je(0,"rect",58))}function Uw(o,i){o&1&&(pt(),je(0,"polyline",59))}function Gw(o,i){o&1&&(S(0,"div",63),Y(1,"\u2713"),L())}function Ww(o,i){o&1&&(S(0,"div",63),Y(1,"\u2713"),L())}function Kw(o,i){o&1&&(S(0,"div",63),Y(1,"\u2713"),L())}function qw(o,i){o&1&&(S(0,"div",63),Y(1,"\u2713"),L())}function $w(o,i){if(o&1){let e=jt();S(0,"div",60)(1,"button",61),rt("click",function(){nt(e);let n=Ae(3);return it(n.selectCategory("all"))}),pt(),S(2,"svg",10),je(3,"circle",53)(4,"path",54),L(),Mt(),S(5,"span"),Y(6,"All"),L(),tt(7,Gw,2,0,"div",62),L(),S(8,"button",61),rt("click",function(){nt(e);let n=Ae(3);return it(n.selectCategory("ai-generated"))}),pt(),S(9,"svg",10),je(10,"path",55),L(),Mt(),S(11,"span"),Y(12,"AI Generated"),L(),tt(13,Ww,2,0,"div",62),L(),S(14,"button",61),rt("click",function(){nt(e);let n=Ae(3);return it(n.selectCategory("visual-editor"))}),pt(),S(15,"svg",10),je(16,"path",56)(17,"path",57),L(),Mt(),S(18,"span"),Y(19,"Visual Editor"),L(),tt(20,Kw,2,0,"div",62),L(),S(21,"button",61),rt("click",function(){nt(e);let n=Ae(3);return it(n.selectCategory("esp"))}),pt(),S(22,"svg",10),je(23,"rect",58)(24,"polyline",59),L(),Mt(),S(25,"span"),Y(26,"ESP"),L(),tt(27,qw,2,0,"div",62),L()()}if(o&2){let e=Ae(3);le(),Kt("active",e.selectedCategory==="all"),le(6),Ce("ngIf",e.selectedCategory==="all"),le(),Kt("active",e.selectedCategory==="ai-generated"),le(5),Ce("ngIf",e.selectedCategory==="ai-generated"),le(),Kt("active",e.selectedCategory==="visual-editor"),le(6),Ce("ngIf",e.selectedCategory==="visual-editor"),le(),Kt("active",e.selectedCategory==="esp"),le(6),Ce("ngIf",e.selectedCategory==="esp")}}function Yw(o,i){if(o&1){let e=jt();S(0,"button",74),rt("click",function(n){nt(e);let r=Ae().$implicit,a=Ae(3);return it(a.onAction(r,n))}),S(1,"mat-icon"),Y(2,"visibility"),L(),S(3,"span"),Y(4,"QA Check"),L()()}}function Qw(o,i){o&1&&je(0,"div",75)}function Xw(o,i){if(o&1){let e=jt();S(0,"mat-list-item",64),rt("click",function(){let n=nt(e).$implicit,r=Ae(3);return it(r.onClick(n))}),S(1,"div",65)(2,"div",66),pt(),S(3,"svg",10),je(4,"rect",67)(5,"circle",68)(6,"path",69),L()(),Mt(),S(7,"div",70)(8,"span",71),Y(9),L(),tt(10,Yw,5,0,"button",72),L(),tt(11,Qw,1,0,"div",73),L()()}if(o&2){let e=i.$implicit,t=Ae(2).ngIf,n=Ae();Kt("selected",e.id===t.selectedId),Ri("data-item-id",e.id),le(9),Ht(e.name||"Untitled template"),le(),Ce("ngIf",e.id===n.runButtonItemId),le(),Ce("ngIf",e.id===t.selectedId)}}function Zw(o,i){if(o&1&&(S(0,"div",76),Y(1),L()),o&2){let e=Ae(2).ngIf;le(),rn(" ",e.error," ")}}function Jw(o,i){if(o&1){let e=jt();S(0,"div",29)(1,"div",30)(2,"div",31),pt(),S(3,"svg",10),je(4,"path",32),L(),Mt(),S(5,"span",33),Y(6),L(),S(7,"span",34),Y(8,"templates"),L()(),S(9,"div",35)(10,"button",36),rt("click",function(){nt(e);let n=Ae(2);return it(n.toggleCategoryDropdown())}),pt(),S(11,"svg",37),tt(12,Fw,1,0,"circle",38)(13,Vw,1,0,"path",39)(14,jw,1,0,"path",40)(15,Hw,1,0,"path",41)(16,zw,1,0,"path",42)(17,Bw,1,0,"rect",43)(18,Uw,1,0,"polyline",44),L(),Mt(),S(19,"span",45),Y(20),L(),pt(),S(21,"svg",46),je(22,"polyline",47),L()(),tt(23,$w,28,12,"div",48),L()(),Mt(),S(24,"div",49,1)(26,"mat-nav-list",50),tt(27,Xw,12,6,"mat-list-item",51),L()()(),tt(28,Zw,2,1,"div",52)}if(o&2){let e=Ae().ngIf,t=Ae();le(6),Ht(e.items.length),le(4),Kt("open",t.categoryDropdownOpen),le(2),Ce("ngIf",t.selectedCategory==="all"),le(),Ce("ngIf",t.selectedCategory==="all"),le(),Ce("ngIf",t.selectedCategory==="ai-generated"),le(),Ce("ngIf",t.selectedCategory==="visual-editor"),le(),Ce("ngIf",t.selectedCategory==="visual-editor"),le(),Ce("ngIf",t.selectedCategory==="esp"),le(),Ce("ngIf",t.selectedCategory==="esp"),le(2),Ht(t.getCategoryLabel()),le(3),Ce("ngIf",t.categoryDropdownOpen),le(4),Ce("ngForOf",e.items)("ngForTrackBy",t.trackById),le(),Ce("ngIf",e.status==="error")}}function e2(o,i){o&1&&(pt(),S(0,"svg",90),je(1,"path",112)(2,"path",113)(3,"path",114)(4,"path",115),L())}function t2(o,i){o&1&&(pt(),S(0,"svg",90),je(1,"path",116)(2,"path",117)(3,"path",118)(4,"path",119),L())}function n2(o,i){if(o&1){let e=jt();S(0,"div",77)(1,"div",78)(2,"div",79)(3,"h3",80),Y(4),L(),S(5,"div",81)(6,"span",82),Y(7),L()()(),S(8,"div",83)(9,"div",84)(10,"button",85),rt("click",function(){nt(e);let n=Ae(2);return it(n.toggleInfoBanner())}),pt(),S(11,"svg",10),je(12,"circle",86)(13,"line",87)(14,"circle",88),L(),Mt(),S(15,"span"),Y(16,"Info"),L()(),S(17,"button",89),rt("click",function(){nt(e);let n=Ae(2);return it(n.deleteTemplate())}),pt(),S(18,"svg",90),je(19,"polyline",91)(20,"path",92)(21,"line",93)(22,"line",94),L(),Mt(),S(23,"span"),Y(24,"Delete"),L()(),S(25,"button",95),rt("click",function(){nt(e);let n=Ae(2);return it(n.refresh())}),pt(),S(26,"svg",90),je(27,"path",96)(28,"path",97)(29,"path",98)(30,"path",99),L(),Mt(),S(31,"span"),Y(32,"Refresh"),L()(),S(33,"button",100),rt("click",function(){nt(e);let n=Ae(2);return it(n.toggleFullscreen())}),tt(34,e2,5,0,"svg",101)(35,t2,5,0,"svg",101),S(36,"span"),Y(37),L()()(),S(38,"div",102)(39,"button",103),rt("click",function(){nt(e);let n=Ae(2);return it(n.changeViewMode("desktop"))}),pt(),S(40,"svg",10),je(41,"rect",104)(42,"line",105)(43,"line",106),L(),Mt(),S(44,"span"),Y(45,"Desktop"),L()(),S(46,"button",107),rt("click",function(){nt(e);let n=Ae(2);return it(n.changeViewMode("tablet"))}),pt(),S(47,"svg",10),je(48,"rect",108)(49,"line",109),L(),Mt(),S(50,"span"),Y(51,"Tablet"),L()(),S(52,"button",110),rt("click",function(){nt(e);let n=Ae(2);return it(n.changeViewMode("mobile"))}),pt(),S(53,"svg",10),je(54,"rect",111)(55,"line",109),L(),Mt(),S(56,"span"),Y(57,"Mobile"),L()()()()()()}if(o&2){let e=Ae().ngIf,t=Ae();le(4),Ht(e.selectedName),le(3),rn("ID: ",e.selectedId,""),le(3),Kt("active",t.showInfoBanner),le(7),Ce("disabled",t.isDeleting),le(17),Ce("ngIf",!t.isFullscreen),le(),Ce("ngIf",t.isFullscreen),le(2),Ht(t.isFullscreen?"Exit":"Fullscreen"),le(2),Kt("active",t.viewMode==="desktop"),le(7),Kt("active",t.viewMode==="tablet"),le(6),Kt("active",t.viewMode==="mobile")}}function i2(o,i){o&1&&(S(0,"div",120)(1,"div",121)(2,"div",122),je(3,"div",123)(4,"div",124)(5,"div",125)(6,"div",126),L(),je(7,"div",127),L(),S(8,"div",128)(9,"div",129),je(10,"div",130)(11,"div",131),pt(),S(12,"svg",132),je(13,"path",133)(14,"rect",134),L()(),Mt(),S(15,"div",135)(16,"h2"),Y(17,"Ready for Preview"),L()(),S(18,"div",136)(19,"div",137),pt(),S(20,"svg",90),je(21,"path",138),L(),Y(22," Real-time Updates "),L(),Mt(),S(23,"div",137),pt(),S(24,"svg",90),je(25,"rect",104)(26,"line",105)(27,"line",106),L(),Y(28," Multi-Device "),L(),Mt(),S(29,"div",137),pt(),S(30,"svg",90),je(31,"path",139),L(),Y(32," Lightning Fast "),L()()()())}function r2(o,i){if(o&1&&(S(0,"div",146)(1,"div",147)(2,"div",148),je(3,"div",149)(4,"div",150)(5,"div",151)(6,"div",152)(7,"div",153)(8,"div",154)(9,"div",155),L()(),S(10,"div",156)(11,"div",157),je(12,"div",158)(13,"div",159)(14,"div",160),L(),S(15,"div",161)(16,"h4"),Y(17,"Rendering Preview"),L(),S(18,"p"),Y(19,"Optimizing your template for the best experience"),L(),S(20,"div",162)(21,"div",163),je(22,"div",164),L()()()()()),o&2){let e=Ae(3);Ce("@fadeInOut",e.loading?"in":"out")}}function o2(o,i){if(o&1){let e=jt();S(0,"iframe",165),rt("load",function(){nt(e);let n=Ae(3);return it(n.onIframeLoad())}),L()}if(o&2){let e=Ae(3);Ri("srcdoc",e.safeSrcdoc,dc)}}function a2(o,i){if(o&1){let e=jt();S(0,"iframe",167),rt("load",function(){nt(e);let n=Ae(4);return it(n.onIframeLoad())}),L()}if(o&2){let e=Ae(4);Ri("srcdoc",e.safeSrcdoc,dc)}}function s2(o,i){if(o&1&&tt(0,a2,1,1,"iframe",166),o&2){let e=Ae(3);Ce("ngIf",e.safeSrcdoc)}}function l2(o,i){if(o&1){let e=jt();S(0,"div",168)(1,"div",169),je(2,"div",170),L(),S(3,"div",171)(4,"div",172),je(5,"div",173),pt(),S(6,"svg",174),je(7,"path",175)(8,"line",176)(9,"line",177),L()(),Mt(),S(10,"div",178)(11,"h3"),Y(12,"Preview Unavailable"),L(),S(13,"p"),Y(14),L(),S(15,"div",179)(16,"span"),Y(17,"This usually resolves quickly. Try refreshing the preview."),L()()(),S(18,"div",180)(19,"button",181),rt("click",function(){nt(e);let n=Ae(3);return it(n.refresh())}),pt(),S(20,"svg",90),je(21,"path",96)(22,"path",97)(23,"path",98)(24,"path",99),L(),Y(25," Try Again "),L(),Mt(),S(26,"button",182),pt(),S(27,"svg",90),je(28,"path",183),L(),Y(29," Get Support "),L()()()()}if(o&2){let e=Ae(3);Ce("@bounceIn",void 0),le(14),Ht(e.previewError)}}function c2(o,i){if(o&1&&(S(0,"div",140),tt(1,r2,23,1,"div",141),S(2,"div",142)(3,"div",143),tt(4,o2,1,1,"iframe",144)(5,s2,1,1,"ng-template",null,2,Ws),L()(),tt(7,l2,30,2,"div",145),L()),o&2){let e=Ai(6),t=Ae(2);le(),Ce("ngIf",t.loading),le(),Kt("loading",t.loading),Ce("ngClass",Hd(7,Lw,t.viewMode==="desktop",t.viewMode==="tablet",t.viewMode==="mobile")),le(2),Ce("ngIf",t.allowScripts&&t.safeSrcdoc)("ngIfElse",e),le(3),Ce("ngIf",t.previewError)}}function d2(o,i){if(o&1){let e=jt();S(0,"div",5)(1,"section",6)(2,"div",7)(3,"div",8)(4,"div",9),pt(),S(5,"svg",10),je(6,"circle",11)(7,"path",12),L()(),Mt(),S(8,"input",13),Or("ngModelChange",function(n){nt(e);let r=Ae();return wr(r.searchQuery,n)||(r.searchQuery=n),it(n)}),rt("input",function(){nt(e);let n=Ae();return it(n.onSearch(n.searchQuery))})("keyup.enter",function(){nt(e);let n=Ae();return it(n.onSearch(n.searchQuery))}),L(),S(9,"div",14),tt(10,Nw,4,0,"button",15)(11,Dw,4,0,"button",16),L()()(),tt(12,Rw,3,0,"ng-container",17)(13,Jw,29,15,"ng-template",null,0,Ws),L(),S(15,"aside",18)(16,"div",19),tt(17,n2,58,14,"div",20)(18,i2,33,0,"div",21)(19,c2,8,11,"div",22),L()()()}if(o&2){let e=i.ngIf,t=Ai(14),n=Ae();le(8),xr("ngModel",n.searchQuery),le(2),Ce("ngIf",n.searchQuery),le(),Ce("ngIf",n.searchQuery),le(),Ce("ngIf",e.status==="loading")("ngIfElse",t),le(4),Kt("fullscreen",n.isFullscreen),le(),Ce("ngIf",e.selectedName&&!n.hideHeader),le(),Ce("ngIf",!e.selectedId),le(),Ce("ngIf",e.selectedId)}}function u2(o,i){if(o&1&&(S(0,"div",195)(1,"span",191),Y(2,"Thumbnail"),L(),S(3,"a",196),Y(4," View Thumbnail \u2192 "),L()()),o&2){let e=Ae(3);le(3),Ce("href",e.templateMetadata.thumbnail,va)}}function p2(o,i){if(o&1&&(S(0,"div",195)(1,"span",191),Y(2,"Screenshot"),L(),S(3,"a",196),Y(4," View Screenshot \u2192 "),L()()),o&2){let e=Ae(3);le(3),Ce("href",e.templateMetadata.screenshotUrl,va)}}function f2(o,i){if(o&1&&(S(0,"div",189)(1,"div",190)(2,"span",191),Y(3,"Type"),L(),S(4,"span",192),Y(5),L()(),S(6,"div",190)(7,"span",191),Y(8,"Category"),L(),S(9,"span",192),Y(10),L()(),S(11,"div",190)(12,"span",191),Y(13,"Created By"),L(),S(14,"span",192),Y(15),L()(),S(16,"div",190)(17,"span",191),Y(18,"Created Date"),L(),S(19,"span",192),Y(20),sn(21,"date"),L()(),S(22,"div",190)(23,"span",191),Y(24,"Last Edited"),L(),S(25,"span",192),Y(26),sn(27,"date"),L()(),S(28,"div",190)(29,"span",191),Y(30,"Active"),L(),S(31,"span",192)(32,"span",193),Y(33),L()()(),S(34,"div",190)(35,"span",191),Y(36,"Drag & Drop"),L(),S(37,"span",192),Y(38),L()(),S(39,"div",190)(40,"span",191),Y(41,"Responsive"),L(),S(42,"span",192),Y(43),L()(),S(44,"div",190)(45,"span",191),Y(46,"Folder ID"),L(),S(47,"span",192),Y(48),L()(),S(49,"div",190)(50,"span",191),Y(51,"Source"),L(),S(52,"span",192),Y(53),L()(),tt(54,u2,5,1,"div",194)(55,p2,5,1,"div",194),L()),o&2){let e=Ae(2);le(5),Ht(e.templateMetadata.type||"N/A"),le(5),Ht(e.templateMetadata.category),le(5),Ht(e.templateMetadata.createdBy||"N/A"),le(5),Ht(hc(21,14,e.templateMetadata.dateCreated,"short")),le(6),Ht(hc(27,17,e.templateMetadata.dateEdited,"short")),le(6),Kt("active",e.templateMetadata.active),le(),rn(" ",e.templateMetadata.active?"Yes":"No"," "),le(5),Ht(e.templateMetadata.dragAndDrop?"Yes":"No"),le(5),Ht(e.templateMetadata.responsive?"Yes":"No"),le(5),Ht(e.templateMetadata.folderId),le(5),Ht(e.templateMetadata.source),le(),Ce("ngIf",e.templateMetadata.thumbnail),le(),Ce("ngIf",e.templateMetadata.screenshotUrl)}}function h2(o,i){if(o&1){let e=jt();S(0,"div",184),rt("click",function(){nt(e);let n=Ae();return it(n.toggleInfoBanner())}),S(1,"div",185),rt("click",function(n){return nt(e),it(n.stopPropagation())}),S(2,"div",186)(3,"h3"),Y(4,"Template Information"),L(),S(5,"button",187),rt("click",function(){nt(e);let n=Ae();return it(n.toggleInfoBanner())}),pt(),S(6,"svg",10),je(7,"line",25)(8,"line",26),L()()(),tt(9,f2,56,20,"div",188),L()()}if(o&2){let e=Ae();le(9),Ce("ngIf",e.templateMetadata)}}var V0=(()=>{class o{constructor(){this.svc=Pt(xa),this.router=Pt(Un),this.sanitizer=Pt(Wd),this.http=Pt(Ca),this.cache=Pt(Qs),this.cdr=Pt(Ii),this.snackBar=Pt(Ys),this.templateState=Pt(wa),this.categorySubject=new Gi("all"),this.state$=this.svc.state$,this.items$=_1([this.state$,this.categorySubject]).pipe(oo(([e,t])=>{let n=e.items;return t!=="all"&&(n=e.items.filter(r=>{let s=(r.source||"").toLowerCase().trim();switch(t){case"ai-generated":return s==="ai generated"||s==="ai-generated";case"visual-editor":return s==="visual editor"||s==="visual-editor";case"esp":return s==="mailchimp";default:return!0}})),n})),this.status$=this.state$.pipe(oo(e=>e.status)),this.error$=this.state$.pipe(oo(e=>e.error)),this.selectedId$=this.state$.pipe(oo(e=>e.selectedId)),this.selectedName$=this.state$.pipe(oo(e=>e.selectedName)),this.searchQuery="",this.selectedCategory="all",this.categoryDropdownOpen=!1,this.lastClickTime=0,this.lastClickedId="",this.userInitiatedSelection=!1,this.isInitialLoad=!0,this.isFullscreen=!1,this.hideHeader=!1,this.viewMode="desktop",this.loading=!1,this.allowScripts=!1,this.safeSrcdoc=null,this.showInfoBanner=!1,this.templateMetadata=null,this.destroy$=new Xa,this.isDeleting=!1,this.inflightRequests=new Map}ngOnInit(){this.selectedId$.pipe(Di(this.destroy$),w1()).subscribe(t=>{t?this.loadTemplateContent(t):(this.safeSrcdoc=null,this.runButtonItemId=void 0,this.cdr.markForCheck())});let e=this.svc.snapshot;e.searchQuery&&(this.searchQuery=e.searchQuery),this.svc.search(this.searchQuery),setTimeout(()=>{this.scrollToTop(),this.isInitialLoad=!1},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.fetchSub?.unsubscribe(),this.loadingTimer&&clearTimeout(this.loadingTimer),this.inflightRequests.forEach(e=>e.unsubscribe()),this.inflightRequests.clear()}toggleCategoryDropdown(){this.categoryDropdownOpen=!this.categoryDropdownOpen}selectCategory(e){this.selectedCategory=e,this.categorySubject.next(e),this.categoryDropdownOpen=!1,this.cdr.markForCheck()}getCategoryLabel(){switch(this.selectedCategory){case"all":return"All";case"ai-generated":return"AI Generated";case"visual-editor":return"Visual Editor";case"esp":return"ESP";default:return"All"}}getCategoryIcon(){switch(this.selectedCategory){case"all":return"apps";case"ai-generated":return"auto_awesome";case"visual-editor":return"design_services";case"esp":return"email";default:return"apps"}}onDocumentClick(e){!e.target.closest(".category-filter-wrapper")&&this.categoryDropdownOpen&&(this.categoryDropdownOpen=!1,this.cdr.markForCheck())}onSearch(e){this.searchQuery=e,this.svc.search(e),setTimeout(()=>this.scrollToTop(),100)}onSelect(e){let t=this.svc.snapshot.selectedId;t&&t!==e.id&&(this.runButtonItemId=void 0),this.svc.select(e.id,e.name),this.userInitiatedSelection=!0;try{localStorage.setItem("lastTemplateId",e.id),localStorage.setItem("lastTemplateName",e.name||"")}catch{}this.cdr.markForCheck()}onRunTests(e){let t=this.svc.snapshot.items.find(n=>n.id===e);if(t)if(this.svc.select(e,t.name),t.content)this.templateState.initializeOriginalTemplate(e,t.content),this.router.navigate(["/qa",e]);else{let n=this.cache.get(e)||this.cache.getPersisted(e);n?(this.templateState.initializeOriginalTemplate(e,n),this.router.navigate(["/qa",e])):this.http.get(`/api/templates/${e}/raw`,{responseType:"text"}).subscribe({next:r=>{this.templateState.initializeOriginalTemplate(e,r),this.router.navigate(["/qa",e])},error:r=>{this.snackBar.open("Failed to load template","Close",{duration:3e3,panelClass:["error-snackbar"]})}})}else this.router.navigate(["/qa",e])}onClick(e){let t=Date.now();this.lastClickedId===e.id&&t-this.lastClickTime<500||t-this.lastClickTime<200||(this.lastClickTime=t,this.lastClickedId=e.id,this.onSelect(e))}onAction(e,t){t.stopPropagation(),t.preventDefault(),this.onRunTests(e.id)}trackById(e,t){return t.id}showRunButton(e){let t=this.svc.snapshot.selectedId;e===t&&(this.runButtonItemId=e,this.cdr.markForCheck())}refresh(){let e=this.svc.snapshot.selectedId;e&&(this.cache.clear(e),sessionStorage.removeItem(`metadata-${e}`),this.loadTemplateContent(e))}toggleFullscreen(){let e=document.querySelector(".preview-root");e&&(this.isFullscreen?document.exitFullscreen&&document.exitFullscreen():e.requestFullscreen&&e.requestFullscreen(),this.isFullscreen=!this.isFullscreen,this.cdr.markForCheck())}changeViewMode(e){this.viewMode=e,this.cdr.markForCheck()}toggleInfoBanner(){this.showInfoBanner=!this.showInfoBanner,this.cdr.markForCheck()}deleteTemplate(){if(this.isDeleting)return;let e=this.svc.snapshot.selectedId,t=this.svc.snapshot.selectedName;!e||!confirm(`Are you sure you want to delete "${t}"?

This action cannot be undone and will permanently remove the template from Mailchimp.`)||(this.isDeleting=!0,this.safeSrcdoc=null,this.templateMetadata=null,this.runButtonItemId=void 0,this.loading=!1,this.cdr.markForCheck(),this.cache.clearTemplate(e),this.svc.deleteTemplate(e).subscribe({next:r=>{this.isDeleting=!1,this.snackBar.open(`"${t}" deleted successfully`,"Close",{duration:4e3,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"})},error:r=>{this.isDeleting=!1,this.snackBar.open(`Failed to delete template: ${r?.error?.message||r?.message||"Unknown error"}`,"Close",{duration:6e3,panelClass:["error-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"}),this.svc.search(this.searchQuery)}}))}scrollToItem(e){if(!this.scrollContainer)return;let n=this.scrollContainer.nativeElement.querySelector(`[data-item-id="${e}"]`);n&&n.scrollIntoView({behavior:"smooth",block:"nearest"})}scrollToTop(){this.scrollContainer&&this.scrollContainer.nativeElement.scrollTo({top:0,behavior:"instant"})}scrollToBottom(){if(this.scrollContainer){let e=this.scrollContainer.nativeElement;e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}}loadTemplateContent(e){if(this.previewError=void 0,this.runButtonItemId=void 0,this.templateMetadata=null,this.safeSrcdoc=null,this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=void 0),!e){this.loading=!1,this.cdr.markForCheck();return}this.loading=!0,this.cdr.markForCheck();let t=this.cache.get(e)||this.cache.getPersisted(e);if(t){let r=sessionStorage.getItem(`metadata-${e}`);r?(this.templateMetadata=JSON.parse(r),this.cdr.markForCheck()):this.http.get(`/api/templates/${e}`,{responseType:"json"}).subscribe({next:c=>{this.templateMetadata={type:c.type,templateType:c.templateType,category:c.category||"N/A",thumbnail:c.thumbnail,dateCreated:c.dateCreated,dateEdited:c.dateEdited,createdBy:c.createdBy,active:c.active,dragAndDrop:c.dragAndDrop,responsive:c.responsive,folderId:c.folderId||"N/A",screenshotUrl:c.screenshotUrl,source:c.source},sessionStorage.setItem(`metadata-${e}`,JSON.stringify(this.templateMetadata)),this.cdr.markForCheck()},error:c=>{}});let a=this.ensureDoc(t),s=this.stripDangerousBits(a);this.safeSrcdoc=this.sanitizer.bypassSecurityTrustHtml(s),this.cdr.markForCheck(),this.loadingTimer=setTimeout(()=>{this.svc.snapshot.selectedId===e&&(this.loading=!1,this.showRunButton(e),this.cdr.markForCheck())},50);return}if(this.inflightRequests.has(e)){this.loading=!0,this.cdr.markForCheck();return}this.loading=!0,this.safeSrcdoc=null,this.cdr.markForCheck();let n=this.http.get(`/api/templates/${e}`,{responseType:"json"}).subscribe({next:r=>{if(this.templateMetadata={type:r.type,templateType:r.templateType,category:r.category||"N/A",thumbnail:r.thumbnail,dateCreated:r.dateCreated,dateEdited:r.dateEdited,createdBy:r.createdBy,active:r.active,dragAndDrop:r.dragAndDrop,responsive:r.responsive,folderId:r.folderId||"N/A",screenshotUrl:r.screenshotUrl,source:r.source},sessionStorage.setItem(`metadata-${e}`,JSON.stringify(this.templateMetadata)),this.inflightRequests.delete(e),this.svc.snapshot.selectedId!==e)return;let s=r.html||"";this.cache.set(e,s);let c=this.ensureDoc(s),d=this.stripDangerousBits(c);this.safeSrcdoc=this.sanitizer.bypassSecurityTrustHtml(d),this.cdr.markForCheck()},error:r=>{this.inflightRequests.delete(e),this.loading=!1,this.previewError=r?.message||"Failed to load preview.",this.cdr.markForCheck()},complete:()=>{this.inflightRequests.delete(e)}});this.inflightRequests.set(e,n)}onIframeLoad(){if(!this.safeSrcdoc)return;this.loading=!1;let e=this.svc.snapshot.selectedId;e&&this.showRunButton(e),this.cdr.markForCheck()}ensureDoc(e){let t=String(e||"");return/<body[\s>]/i.test(t)||/<\/html>/i.test(t)?t:["<!doctype html><html><head>",'<meta charset="utf-8">','<meta name="viewport" content="width=device-width,initial-scale=1">',"<style>html,body{margin:0;padding:0}</style>","</head><body>",t,"</body></html>"].join("")}stripDangerousBits(e){try{let t=new DOMParser().parseFromString(e,"text/html");return t.querySelectorAll("script, iframe, base").forEach(n=>n.remove()),t.querySelectorAll("*").forEach(n=>{for(let r=n.attributes.length-1;r>=0;r--){let a=n.attributes.item(r);a&&/^on/i.test(a.name)&&n.removeAttribute(a.name)}}),`<!doctype html>
`+t.documentElement.outerHTML}catch{return e.replace(/<script[\s\S]*?<\/script>/gi,"").replace(/<base[\s\S]*?>/gi,"").replace(/<iframe[\s\S]*?<\/iframe>/gi,"")}}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=Sn({type:o,selectors:[["app-templates-page"]],viewQuery:function(t,n){if(t&1&&co(kw,5),t&2){let r;fi(r=hi())&&(n.scrollContainer=r.first)}},hostBindings:function(t,n){t&1&&rt("click",function(a){return n.onDocumentClick(a)},!1,uc)},standalone:!0,features:[En],decls:7,vars:19,consts:[["listTpl",""],["scrollContainer",""],["safeIframe",""],["class","layout",4,"ngIf"],["class","info-modal-backdrop",3,"click",4,"ngIf"],[1,"layout"],[1,"left"],[1,"search-bar-container"],[1,"search-wrapper"],[1,"search-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search templates...",1,"search-input",3,"ngModelChange","input","keyup.enter","ngModel"],[1,"search-actions"],["class","search-btn",3,"click",4,"ngIf"],["class","clear-btn",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"right"],[1,"preview-root"],["class","preview-header",4,"ngIf"],["class","modern-placeholder",4,"ngIf"],["class","preview-container",4,"ngIf"],[1,"search-btn",3,"click"],[1,"clear-btn",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"loading"],["diameter","40"],[1,"modern-list-wrapper"],[1,"list-header"],[1,"count-badge"],["d","M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"],[1,"count-number"],[1,"count-label"],[1,"category-filter-wrapper"],[1,"category-filter-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"category-icon"],["cx","12","cy","12","r","3",4,"ngIf"],["d","M12 2v20M2 12h20",4,"ngIf"],["d","m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",4,"ngIf"],["d","M12 3c7.2 0 9 1.8 9 9s-1.8 9-9 9-9-1.8-9-9 1.8-9 9-9Z",4,"ngIf"],["d","M12 15V9M15 12H9",4,"ngIf"],["x","3","y","4","width","18","height","18","rx","2",4,"ngIf"],["points","22,6 12,13 2,6",4,"ngIf"],[1,"category-label"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"dropdown-arrow"],["points","6 9 12 15 18 9"],["class","category-dropdown",4,"ngIf"],[1,"scroll-container"],[1,"tpl-list"],["class","template-item",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","error",4,"ngIf"],["cx","12","cy","12","r","3"],["d","M12 2v20M2 12h20"],["d","m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"],["d","M12 3c7.2 0 9 1.8 9 9s-1.8 9-9 9-9-1.8-9-9 1.8-9 9-9Z"],["d","M12 15V9M15 12H9"],["x","3","y","4","width","18","height","18","rx","2"],["points","22,6 12,13 2,6"],[1,"category-dropdown"],[1,"category-option",3,"click"],["class","check-mark",4,"ngIf"],[1,"check-mark"],[1,"template-item",3,"click"],[1,"item-wrapper"],[1,"item-icon"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["cx","9","cy","9","r","2"],["d","m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"],[1,"item-content"],[1,"name"],["mat-raised-button","","color","primary","class","run-btn","aria-label","QA Check",3,"click",4,"ngIf"],["class","selection-indicator",4,"ngIf"],["mat-raised-button","","color","primary","aria-label","QA Check",1,"run-btn",3,"click"],[1,"selection-indicator"],[1,"error"],[1,"preview-header"],[1,"header-content"],[1,"header-left"],[1,"template-title"],[1,"template-meta"],[1,"template-id"],[1,"header-actions"],[1,"action-buttons"],["title","Template Info",1,"action-btn","info-btn",3,"click"],["cx","12","cy","12","r","10"],["x1","12","y1","16","x2","12","y2","12"],["cx","12","cy","8","r","0.7","fill","currentColor"],["title","Delete Template",1,"action-btn","delete-btn",3,"click","disabled"],["viewBox","0 0 24 24","fill","none","stroke","currentColor"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["title","Refresh Preview",1,"action-btn","refresh-btn",3,"click"],["d","M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"],["d","M21 3v5h-5"],["d","M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"],["d","M3 21v-5h5"],["title","Toggle Fullscreen",1,"action-btn","fullscreen-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",4,"ngIf"],[1,"view-mode-toggle"],["title","Desktop View",1,"mode-btn",3,"click"],["x","2","y","3","width","20","height","14","rx","2","ry","2"],["x1","8","y1","21","x2","16","y2","21"],["x1","12","y1","17","x2","12","y2","21"],["title","Tablet View",1,"mode-btn",3,"click"],["x","4","y","2","width","16","height","20","rx","2","ry","2"],["x1","12","y1","18","x2","12.01","y2","18"],["title","Mobile View",1,"mode-btn",3,"click"],["x","5","y","2","width","14","height","20","rx","2","ry","2"],["d","M8 3H5a2 2 0 0 0-2 2v3"],["d","M21 8V5a2 2 0 0 0-2-2h-3"],["d","M3 16v3a2 2 0 0 0 2 2h3"],["d","M16 21h3a2 2 0 0 0 2-2v-3"],["d","M8 3v3a2 2 0 0 1-2 2H3"],["d","M21 8h-3a2 2 0 0 1-2-2V3"],["d","M3 16h3a2 2 0 0 1 2 2v3"],["d","M16 21v-3a2 2 0 0 1 2-2h3"],[1,"modern-placeholder"],[1,"placeholder-background"],[1,"floating-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"grid-pattern"],[1,"placeholder-content"],[1,"placeholder-icon-container"],[1,"icon-backdrop"],[1,"icon-ring"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"placeholder-icon"],["d","m15 10 4.553-2.276A1 1 0 0 1 21 8.618v6.764a1 1 0 0 1-1.447.894L15 14"],["x","3","y","6","width","12","height","12","rx","2"],[1,"placeholder-text"],[1,"feature-pills"],[1,"pill"],["d","M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"],["d","M13 2L3 14h9l-1 8 10-12h-9l1-8z"],[1,"preview-container"],["class","advanced-loader",4,"ngIf"],[1,"iframe-wrapper",3,"ngClass"],[1,"iframe-container"],["class","preview-frame","sandbox","allow-same-origin allow-forms allow-scripts","referrerpolicy","no-referrer",3,"load",4,"ngIf","ngIfElse"],["class","premium-error",4,"ngIf"],[1,"advanced-loader"],[1,"loader-background"],[1,"neural-network"],[1,"node","node-1"],[1,"node","node-2"],[1,"node","node-3"],[1,"node","node-4"],[1,"connection","connection-1"],[1,"connection","connection-2"],[1,"connection","connection-3"],[1,"loader-content"],[1,"loader-spinner"],[1,"spinner-outer"],[1,"spinner-inner"],[1,"spinner-core"],[1,"loader-text"],[1,"progress-indicator"],[1,"progress-bar"],[1,"progress-fill"],["sandbox","allow-same-origin allow-forms allow-scripts","referrerpolicy","no-referrer",1,"preview-frame",3,"load"],["class","preview-frame","sandbox","allow-same-origin allow-forms","referrerpolicy","no-referrer",3,"load",4,"ngIf"],["sandbox","allow-same-origin allow-forms","referrerpolicy","no-referrer",1,"preview-frame",3,"load"],[1,"premium-error"],[1,"error-background"],[1,"error-pattern"],[1,"error-content"],[1,"error-icon-container"],[1,"error-icon-backdrop"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"error-icon"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"error-text"],[1,"error-details"],[1,"error-actions"],[1,"retry-btn",3,"click"],[1,"support-btn"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],[1,"info-modal-backdrop",3,"click"],[1,"info-modal-content",3,"click"],[1,"info-modal-header"],[1,"close-btn",3,"click"],["class","info-grid",4,"ngIf"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"status-badge"],["class","info-item full-width",4,"ngIf"],[1,"info-item","full-width"],["target","_blank",1,"info-link",3,"href"]],template:function(t,n){if(t&1&&(tt(0,d2,20,10,"div",3),sn(1,"async"),sn(2,"async"),sn(3,"async"),sn(4,"async"),sn(5,"async"),tt(6,h2,10,1,"div",4)),t&2){let r;Ce("ngIf",I1(13,Iw,dn(1,2,n.status$),(r=dn(2,4,n.items$))!==null&&r!==void 0?r:A1(12,Aw),dn(3,6,n.selectedId$),dn(4,8,n.selectedName$),dn(5,10,n.error$))),le(6),Ce("ngIf",n.showInfoBanner)}},dependencies:[qn,Ud,ya,xi,ba,Gd,go,fo,ho,mo,F0,R0,D0,Wi,Xr,qi,Ki,yo,Qd,F1],styles:['[_ngcontent-%COMP%]:root{--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--accent-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--glass-bg: rgba(255, 255, 255, .15);--glass-border: rgba(255, 255, 255, .3);--dark-glass: rgba(0, 0, 0, .05);--shadow-soft: 0 8px 32px rgba(0, 0, 0, .1);--shadow-medium: 0 16px 64px rgba(0, 0, 0, .15);--shadow-strong: 0 24px 80px rgba(0, 0, 0, .25);--border-radius: 16px;--border-radius-lg: 24px;--animation-fast: .2s cubic-bezier(.4, 0, .2, 1);--animation-smooth: .4s cubic-bezier(.4, 0, .2, 1);--animation-bounce: .6s cubic-bezier(.68, -.55, .265, 1.55)}[_nghost-%COMP%]{display:block;position:relative}.layout[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 74px);gap:0;overflow:hidden;padding:0;position:relative}.left[_ngcontent-%COMP%]{width:450px;min-width:450px;flex-shrink:0;height:100%;display:flex;flex-direction:column;overflow:hidden;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-right:2px solid #e2e8f0}.right[_ngcontent-%COMP%]{flex:1;height:100%;overflow:hidden;background:linear-gradient(135deg,#f8fafc,#e2e8f0)}.loading[_ngcontent-%COMP%]{padding:24px;display:flex;justify-content:center;align-items:center;flex:1}.error[_ngcontent-%COMP%]{margin:.75rem 1.5rem;padding:1rem 1.25rem;color:#dc2626;background:#dc262614;border:2px solid rgba(220,38,38,.2);border-radius:12px;font-weight:600;font-size:.9375rem;box-shadow:0 2px 8px #dc26261a}.search-bar-container[_ngcontent-%COMP%]{flex-shrink:0;padding:.75rem 1rem .1rem}.search-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#fff;border:2px solid #e2e8f0;border-radius:12px;box-shadow:0 4px 12px #00000014;transition:all var(--animation-fast)}.search-wrapper[_ngcontent-%COMP%]:hover{border-color:#c7d2fe;box-shadow:0 6px 20px #6366f126}.search-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#6366f1;box-shadow:0 0 0 3px #6366f11a}.search-icon[_ngcontent-%COMP%]{padding:.875rem 1rem;color:#64748b;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;padding:.875rem .5rem;font-size:.9375rem;font-weight:500;color:#1e293b;background:transparent}.search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.search-actions[_ngcontent-%COMP%]{padding:.5rem}.search-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{background:#6366f1;border:none;cursor:pointer;padding:.375rem;border-radius:6px;color:#fff;transition:all var(--animation-fast);margin-right:.25rem}.search-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background:#4f46e5}.search-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.375rem;border-radius:6px;color:#64748b;transition:all var(--animation-fast)}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#ef4444}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.modern-list-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0;flex:1;padding:.5rem .75rem 0rem;overflow:hidden}.list-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-shrink:0;margin-top:2px;margin-bottom:.2rem;animation:_ngcontent-%COMP%_slideInDown .4s ease}.count-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.875rem 1.25rem;background:linear-gradient(135deg,#fff,#f8f9ff);border:2px solid #e2e8f0;border-radius:12px;box-shadow:0 4px 12px #00000014;flex-shrink:0;flex:1}.count-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#6366f1;flex-shrink:0}.count-badge[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;color:#1e293b}.count-badge[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b}.category-filter-wrapper[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.category-filter-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.125rem;background:linear-gradient(135deg,#6d28d9,#8b5cf6);color:#fff;border:none;border-radius:12px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #6d28d940;white-space:nowrap}.category-filter-btn[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5;flex-shrink:0}.category-filter-btn[_ngcontent-%COMP%]   .category-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}.category-filter-btn[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{width:14px;height:14px;stroke-width:3;transition:transform .3s ease;margin-left:.125rem}.category-filter-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5b21b6,#7c3aed);box-shadow:0 6px 20px #6d28d959;transform:translateY(-2px)}.category-filter-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.category-filter-btn.open[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}.category-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;min-width:200px;background:#fff;border-radius:12px;box-shadow:0 12px 36px #00000026,0 0 0 1px #0000000d;z-index:1000;overflow:hidden;animation:_ngcontent-%COMP%_dropdownFadeIn .2s ease}@keyframes _ngcontent-%COMP%_dropdownFadeIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.category-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%;padding:.875rem 1rem;background:#fff;border:none;border-bottom:1px solid #f1f5f9;font-size:.875rem;font-weight:500;color:#475569;cursor:pointer;transition:all .2s ease;position:relative}.category-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#94a3b8;transition:color .2s ease}.category-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:left}.category-option[_ngcontent-%COMP%]   .check-mark[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#6d28d9}.category-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-option[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#faf5ff,#f3e8ff);color:#6d28d9}.category-option[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{color:#6d28d9}.category-option.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#faf5ff,#f3e8ff);color:#6d28d9;font-weight:600}.category-option.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6d28d9}.scroll-container[_ngcontent-%COMP%]{flex:1;max-height:100%;min-height:0;border:2px solid #e2e8f0;border-radius:12px;background:#f8fafc;box-shadow:0 4px 12px #00000014;overflow-y:scroll!important;overflow-x:hidden!important;scrollbar-width:auto;scrollbar-color:#6366f1 #e2e8f0}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:14px;background:transparent}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e2e8f0;border-radius:7px;margin:4px 0}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6366f1;border-radius:7px;border:3px solid #f8fafc;min-height:50px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#4f46e5;border-color:#e2e8f0}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background:#4338ca}.tpl-list[_ngcontent-%COMP%]{height:100%!important;overflow:visible!important;padding:.75rem!important}.template-item[_ngcontent-%COMP%]{border-radius:12px!important;margin:0 0 .75rem!important;padding:0!important;cursor:pointer;transition:all .3s ease;background:#fff;border:2px solid #e2e8f0!important;box-shadow:0 2px 8px #0000000f;min-height:72px}.template-item[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.template-item[_ngcontent-%COMP%]:hover{border-color:#c7d2fe!important;transform:translate(4px);box-shadow:0 6px 20px #6366f126}.template-item.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9ff,#f0f2ff);border-color:#6366f1!important;box-shadow:0 6px 20px #6366f133}.template-item[_ngcontent-%COMP%]:focus-visible{outline:3px solid #6366f1!important;outline-offset:2px}.template-item.mat-list-item[_ngcontent-%COMP%]{height:auto!important}.template-item.mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%], .template-item.mat-list-item[_ngcontent-%COMP%]   .mdc-list-item__content[_ngcontent-%COMP%]{padding:0!important;height:100%!important}.item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem;position:relative}.item-icon[_ngcontent-%COMP%]{width:44px;height:44px;min-width:44px;background:linear-gradient(135deg,#f0f0ff,#e8e8ff);border:2px solid #e0e7ff;border-radius:12px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.item-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px;color:#6366f1}.item-content[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.75rem;min-width:0}.name[_ngcontent-%COMP%]{flex:1;font-size:.9375rem;font-weight:700;color:#1e293b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.run-btn[_ngcontent-%COMP%]{flex-shrink:0;border-radius:10px!important;padding:.625rem 1.125rem!important;font-size:.8125rem!important;font-weight:700!important;background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;box-shadow:0 4px 12px #10b9814d!important}.run-btn[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #10b98166!important}.run-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px!important;width:18px!important;height:18px!important}.selection-indicator[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:60%;background:linear-gradient(180deg,#6366f1,#8b5cf6);border-radius:0 4px 4px 0;animation:_ngcontent-%COMP%_slideInLeft .3s ease}.template-item[_ngcontent-%COMP%]:hover   .item-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e0e7ff,#c7d2fe);transform:scale(1.05) rotate(3deg)}.template-item[_ngcontent-%COMP%]:hover   .name[_ngcontent-%COMP%]{color:#6366f1}.template-item.selected[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6)}.template-item.selected[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff}.template-item.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#6366f1}.preview-root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:linear-gradient(135deg,#f8fafc,#e2e8f0);overflow:hidden;position:relative;z-index:1;transition:all var(--animation-smooth)}.preview-root[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(120,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgba(120,219,255,.2) 0%,transparent 50%);pointer-events:none;animation:_ngcontent-%COMP%_gradient-shift 15s ease infinite}.preview-root.fullscreen[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999}.preview-header[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#6d28d9,#5b21b6);padding:clamp(.75rem,2vw,1rem) clamp(1rem,3vw,1.5rem);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.2);overflow:hidden;box-shadow:0 4px 24px #0000001a;min-height:auto;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;gap:clamp(.5rem,2vw,.75rem);max-width:1400px;margin:0 auto}.preview-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;flex:1;width:100%;flex-wrap:wrap}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{margin:0;font-size:clamp(1.25rem,4vw,1.5rem);font-weight:800;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.3);letter-spacing:-.02em;text-align:center;word-break:break-word;padding-bottom:.2rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap;justify-content:center}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#ffffff40;border:1px solid rgba(255,255,255,.4);border-radius:24px;font-size:clamp(.75rem,2.5vw,.875rem);font-weight:700;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #00000026;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background:#10b981;border-radius:50%;box-shadow:0 0 0 2px #10b98166;animation:_ngcontent-%COMP%_pulse-status 2s infinite;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%]{font-size:clamp(.75rem,2vw,.8125rem);color:#fff;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,.3);opacity:.95;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:linear-gradient(135deg,#fbbf24,#f59e0b);border:1px solid #d97706;border-radius:24px;font-size:clamp(.75rem,2.5vw,.875rem);font-weight:700;color:#78350f;box-shadow:0 2px 8px #f59e0b4d;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;stroke-width:2.5;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;flex-shrink:0;width:100%;flex-wrap:wrap}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1rem;border:1px solid rgba(255,255,255,.35);background:#fff3;color:#fff;border-radius:10px;font-size:clamp(.75rem,2.5vw,.875rem);font-weight:700;cursor:pointer;transition:all var(--animation-fast);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #0000001a;white-space:nowrap;min-width:auto}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;box-shadow:0 6px 16px #0003}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.refresh-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin-refresh .6s ease}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]{display:flex;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:12px;padding:4px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);flex-wrap:nowrap;overflow:hidden}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .75rem;border:none;background:transparent;color:#ffffffd9;border-radius:8px;font-size:clamp(.7rem,2vw,.8125rem);font-weight:600;cursor:pointer;transition:all var(--animation-fast);white-space:nowrap;min-width:auto}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#fff3}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn.active[_ngcontent-%COMP%]{color:#fff;background:#ffffff59;box-shadow:0 2px 8px #00000026}.modern-placeholder[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;padding:1rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]{position:absolute;inset:0}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;background:var(--accent-gradient);border-radius:50%;opacity:.12;filter:blur(40px);animation:_ngcontent-%COMP%_float-shapes 12s ease-in-out infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:clamp(100px,20vw,200px);height:clamp(100px,20vw,200px);top:15%;left:8%;animation-delay:0s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:clamp(75px,15vw,150px);height:clamp(75px,15vw,150px);top:55%;right:12%;animation-delay:-3s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:clamp(125px,25vw,250px);height:clamp(125px,25vw,250px);bottom:18%;left:18%;animation-delay:-6s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-4[_ngcontent-%COMP%]{width:clamp(90px,18vw,180px);height:clamp(90px,18vw,180px);top:8%;right:25%;animation-delay:-9s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .grid-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(99,102,241,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(99,102,241,.03) 1px,transparent 1px);background-size:clamp(25px,5vw,50px) clamp(25px,5vw,50px);animation:_ngcontent-%COMP%_grid-move 20s linear infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:min(90vw,560px);padding:clamp(1rem,4vw,2rem);animation:_ngcontent-%COMP%_fadeInUp var(--animation-bounce)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]{position:relative;margin:0 auto clamp(1.5rem,4vw,2.5rem);width:clamp(80px,20vw,140px);height:clamp(80px,20vw,140px)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--success-gradient);border-radius:50%;opacity:.12;animation:_ngcontent-%COMP%_pulse-backdrop 3s ease-in-out infinite;filter:blur(20px)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-ring[_ngcontent-%COMP%]{position:absolute;inset:-10px;border:2px solid rgba(99,102,241,.2);border-radius:50%;animation:_ngcontent-%COMP%_rotate-ring 8s linear infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-ring[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;width:clamp(6px,2vw,8px);height:clamp(6px,2vw,8px);background:#6366f1;border-radius:50%;transform:translate(-50%,-50%);box-shadow:0 0 12px #6366f199}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#6366f1;stroke-width:1.5;animation:_ngcontent-%COMP%_float-icon 4s ease-in-out infinite;filter:drop-shadow(0 4px 12px rgba(99,102,241,.2))}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{margin-bottom:clamp(1.5rem,4vw,2.5rem)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1.75rem,5vw,2.5rem);font-weight:900;background:linear-gradient(135deg,#1f2937,#6366f1);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0 0 clamp(.75rem,3vw,1.25rem) 0;letter-spacing:-.03em;line-height:1.2}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(1rem,3vw,1.25rem);color:#64748b;line-height:1.7;margin:0;font-weight:500}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:clamp(.75rem,3vw,1.25rem);flex-wrap:wrap}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:clamp(.75rem,2vw,.875rem) clamp(1rem,3vw,1.5rem);background:#fff;border:2px solid #e2e8f0;border-radius:50px;font-size:clamp(.875rem,2.5vw,.9375rem);font-weight:700;color:#475569;box-shadow:var(--shadow-soft);transition:all var(--animation-smooth);animation:_ngcontent-%COMP%_slideInUp var(--animation-smooth);animation-fill-mode:both;cursor:default;white-space:nowrap}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(1){animation-delay:.15s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(2){animation-delay:.25s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(3){animation-delay:.35s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(14px,4vw,18px);height:clamp(14px,4vw,18px);stroke-width:2.5;transition:all var(--animation-fast);flex-shrink:0}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-medium);color:#6366f1;background:linear-gradient(135deg,#fff,#f8f9ff)}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg)}.preview-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative;z-index:1;margin:0;background:#fff;border-radius:0;box-shadow:none;overflow:hidden;animation:_ngcontent-%COMP%_scaleIn var(--animation-smooth)}.advanced-loader[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffffffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:.08}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{position:absolute;width:clamp(6px,2vw,10px);height:clamp(6px,2vw,10px);background:#6366f1;border-radius:50%;box-shadow:0 0 20px #6366f180;animation:_ngcontent-%COMP%_node-pulse 2s ease-in-out infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-1[_ngcontent-%COMP%]{top:25%;left:25%;animation-delay:0s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-2[_ngcontent-%COMP%]{top:25%;right:25%;animation-delay:.5s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-3[_ngcontent-%COMP%]{bottom:25%;left:25%;animation-delay:1s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-4[_ngcontent-%COMP%]{bottom:25%;right:25%;animation-delay:1.5s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection[_ngcontent-%COMP%]{position:absolute;height:clamp(2px,.5vw,3px);background:linear-gradient(90deg,transparent,#6366f1,transparent);animation:_ngcontent-%COMP%_connection-flow 3s ease-in-out infinite;box-shadow:0 0 10px #6366f14d}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-1[_ngcontent-%COMP%]{top:25%;left:25%;right:25%;animation-delay:0s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-2[_ngcontent-%COMP%]{bottom:25%;left:25%;right:25%;animation-delay:1s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-3[_ngcontent-%COMP%]{top:25%;bottom:25%;left:25%;width:clamp(2px,.5vw,3px);height:auto;background:linear-gradient(180deg,transparent,#6366f1,transparent);animation-delay:2s}.advanced-loader[_ngcontent-%COMP%]   .loader-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:90vw;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{position:relative;width:clamp(50px,12vw,80px);height:clamp(50px,12vw,80px);margin:clamp(1rem,2vw,1rem) auto clamp(1.5rem,4vw,2.5rem)}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{position:absolute;border:clamp(2px,.5vw,3px) solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin-loader 1.2s linear infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%]{width:100%;height:100%;border-top-color:#6366f1;border-right-color:#6366f1;box-shadow:0 0 20px #6366f14d}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%]{width:70%;height:70%;top:15%;left:15%;border-top-color:#8b5cf6;border-left-color:#8b5cf6;animation:_ngcontent-%COMP%_spin-loader 1.2s linear infinite reverse;animation-delay:-.4s;box-shadow:0 0 15px #8b5cf64d}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{width:40%;height:40%;top:30%;left:30%;border-top-color:#06b6d4;border-bottom-color:#06b6d4;animation:_ngcontent-%COMP%_spin-loader 1.2s linear infinite;animation-delay:-.8s;box-shadow:0 0 10px #06b6d44d}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:clamp(1.25rem,4vw,1.5rem);font-weight:800;color:#1f2937;margin:0 0 clamp(.5rem,2vw,.75rem) 0;letter-spacing:-.02em}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(.875rem,3vw,1rem);color:#6b7280;margin:0 0 clamp(1.5rem,4vw,2rem) 0;font-weight:500}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:min(90vw,350px);margin:0 auto}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:clamp(6px,1.5vw,8px);background:#e5e7eb;border-radius:4px;overflow:hidden;box-shadow:inset 0 2px 4px #0000000f}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(135deg,#4facfe,#00f2fe);border-radius:4px;width:0%;animation:_ngcontent-%COMP%_progress-flow 2.5s ease-in-out infinite;box-shadow:0 0 10px #4facfe80}.iframe-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;background:#fff;display:flex;align-items:center;justify-content:center;padding:0}.iframe-wrapper[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:opacity .3s cubic-bezier(.4,0,.2,1);box-shadow:none;border-radius:0;overflow:hidden;background:#fff;opacity:1}.iframe-wrapper.loading[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{opacity:0}.iframe-wrapper[_ngcontent-%COMP%]   .preview-frame[_ngcontent-%COMP%]{width:100%;height:100%;border:none;border-radius:0!important;background:#fff;transition:all var(--animation-smooth)}.iframe-wrapper.desktop-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100%;height:100%}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(768px,85vw);height:100%;box-shadow:0 8px 32px #0000001f;border-radius:12px}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(375px,50vw);height:100%;box-shadow:0 8px 32px #0000001f;border-radius:12px}.premium-error[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:50;padding:1rem}.premium-error[_ngcontent-%COMP%]   .error-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#fef2f2,#fff7f7)}.premium-error[_ngcontent-%COMP%]   .error-background[_ngcontent-%COMP%]   .error-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:radial-gradient(circle at 2px 2px,rgba(239,68,68,.08) 2px,transparent 0);background-size:clamp(12px,3vw,24px) clamp(12px,3vw,24px);animation:_ngcontent-%COMP%_pattern-shift 20s linear infinite}.premium-error[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:min(90vw,480px);padding:clamp(1.5rem,4vw,2.5rem);animation:_ngcontent-%COMP%_bounceIn var(--animation-bounce)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]{position:relative;margin:0 auto clamp(1.5rem,4vw,2rem);width:clamp(60px,15vw,100px);height:clamp(60px,15vw,100px)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]   .error-icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--accent-gradient);border-radius:50%;opacity:.15;animation:_ngcontent-%COMP%_error-pulse 2s ease-in-out infinite;filter:blur(20px)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#ef4444;stroke-width:2;animation:_ngcontent-%COMP%_shake-error .5s ease-in-out;filter:drop-shadow(0 4px 12px rgba(239,68,68,.3))}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{margin-bottom:clamp(1.5rem,4vw,2.5rem)}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:clamp(1.25rem,4vw,1.75rem);font-weight:800;color:#dc2626;margin:0 0 clamp(.75rem,2vw,1rem) 0;letter-spacing:-.02em}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(1rem,3vw,1.125rem);color:#7f1d1d;margin:0 0 clamp(.5rem,2vw,.75rem) 0;font-weight:600}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{font-size:clamp(.875rem,2.5vw,1rem);color:#991b1b;opacity:.9;font-weight:500}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:clamp(.75rem,3vw,1.25rem);flex-wrap:wrap}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:clamp(.75rem,2vw,.875rem) clamp(1.25rem,3vw,1.75rem);border:none;border-radius:10px;font-size:clamp(.875rem,2.5vw,.9375rem);font-weight:700;cursor:pointer;transition:all var(--animation-fast);position:relative;overflow:hidden;white-space:nowrap}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:before, .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#fff3;transform:translate(-100%);transition:transform var(--animation-smooth)}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(14px,4vw,18px);height:clamp(14px,4vw,18px);position:relative;z-index:1;flex-shrink:0}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover:before, .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:hover:before{transform:translate(0)}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 16px #ef44444d}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 32px #ef444466}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]{background:#fff;color:#ef4444;border:2px solid #ef4444;box-shadow:0 2px 8px #ef44441a}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff;transform:translateY(-3px);box-shadow:0 12px 32px #ef44444d}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.4)}50%{opacity:1;transform:scale(1.08)}70%{transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translateY(-50%) translate(-10px)}to{opacity:1;transform:translateY(-50%) translate(0)}}@keyframes _ngcontent-%COMP%_spin-loader{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_spin-refresh{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_progress-flow{0%{width:0%;opacity:.5}50%{width:75%;opacity:1}to{width:100%;opacity:.8}}@keyframes _ngcontent-%COMP%_node-pulse{0%,to{opacity:.3;transform:scale(1);box-shadow:0 0 20px #6366f14d}50%{opacity:1;transform:scale(1.8);box-shadow:0 0 30px #6366f199}}@keyframes _ngcontent-%COMP%_connection-flow{0%,to{opacity:.3}50%{opacity:1}}@keyframes _ngcontent-%COMP%_gradient-shift{0%,to{opacity:1}50%{opacity:.8}}@keyframes _ngcontent-%COMP%_grid-move{0%{transform:translate(0)}to{transform:translate(50px,50px)}}@keyframes _ngcontent-%COMP%_float-shapes{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-40px,-40px) rotate(120deg)}66%{transform:translate(40px,40px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_float-icon{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(5deg)}}@keyframes _ngcontent-%COMP%_rotate-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-backdrop{0%,to{transform:scale(1);opacity:.12}50%{transform:scale(1.15);opacity:.25}}@keyframes _ngcontent-%COMP%_pulse-status{0%,to{opacity:1;transform:scale(1);box-shadow:0 0 0 3px #10b98166}50%{opacity:.6;transform:scale(1.3);box-shadow:0 0 0 6px #10b9811a}}@keyframes _ngcontent-%COMP%_error-pulse{0%,to{transform:scale(1);opacity:.15}50%{transform:scale(1.25);opacity:.35}}@keyframes _ngcontent-%COMP%_shake-error{0%,to{transform:translate(0) rotate(0)}10%,30%,50%,70%,90%{transform:translate(-6px) rotate(-2deg)}20%,40%,60%,80%{transform:translate(6px) rotate(2deg)}}@keyframes _ngcontent-%COMP%_pattern-shift{0%{transform:translate(0) translateY(0)}to{transform:translate(24px) translateY(24px)}}@media (max-width: 1200px){.layout[_ngcontent-%COMP%]{height:calc(100vh - 10px)}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:.875rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(768px,90vw)}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(375px,60vw)}}@media (max-width: 1024px){.left[_ngcontent-%COMP%]{width:380px;min-width:380px}.layout[_ngcontent-%COMP%]{height:calc(100vh - 10px)}.preview-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.875rem}.preview-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.75rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{order:2;width:100%;justify-content:center}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{order:3;width:100%;justify-content:center;flex-wrap:wrap;gap:.75rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:.875rem}}@media (max-width: 1021px){.run-btn[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important}.run-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.run-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0!important}}@media (max-width: 768px){.layout[_ngcontent-%COMP%]{flex-direction:row;height:100vh}.left[_ngcontent-%COMP%]{width:45%;min-width:300px;height:100%;max-height:none;border-right:none;border-bottom:2px solid #e2e8f0;overflow:hidden}.right[_ngcontent-%COMP%]{width:55%;flex:none;height:100%}.list-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}.count-badge[_ngcontent-%COMP%], .category-filter-wrapper[_ngcontent-%COMP%]{width:100%}.category-filter-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.category-dropdown[_ngcontent-%COMP%]{left:0;right:0;min-width:unset}.scroll-container[_ngcontent-%COMP%]{min-height:750px}.modern-list-wrapper[_ngcontent-%COMP%]{padding:.625rem}.count-badge[_ngcontent-%COMP%]{padding:.75rem 1rem;margin-bottom:.875rem}.count-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.count-badge[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{font-size:1.125rem}.count-badge[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{font-size:.8125rem}.tpl-list[_ngcontent-%COMP%]{padding:.625rem!important}.template-item[_ngcontent-%COMP%]{margin-bottom:.625rem!important;min-height:64px}.item-wrapper[_ngcontent-%COMP%]{padding:.875rem 1rem;gap:.875rem}.item-icon[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px}.item-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.name[_ngcontent-%COMP%]{font-size:.875rem}.run-btn[_ngcontent-%COMP%]{padding:.5rem .875rem!important;font-size:.75rem!important}.run-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.run-btn[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important;width:100%!important;height:100%!important}.run-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0!important;font-size:18px!important;width:18px!important;height:18px!important}.preview-root[_ngcontent-%COMP%]{height:100%}.preview-header[_ngcontent-%COMP%]{padding:clamp(.5rem,1.5vw,.75rem) clamp(.75rem,2vw,1rem);min-height:auto}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:clamp(1rem,3.5vw,1.25rem);text-align:center;line-height:1.2;margin:0}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:clamp(.25rem,1vw,.375rem);flex-wrap:wrap;justify-content:center}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:clamp(.625rem,2vw,.75rem);padding:clamp(.25rem,1vw,.375rem) clamp(.5rem,2vw,.75rem);border-radius:clamp(12px,3vw,16px)}.preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:clamp(.375rem,1.5vw,.5rem) clamp(.5rem,2vw,.75rem);font-size:clamp(.625rem,2vw,.75rem)}.preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{padding:clamp(.25rem,1vw,.375rem) clamp(.375rem,1.5vw,.5rem);font-size:clamp(.6rem,1.8vw,.7rem)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%], .iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:95vw;box-shadow:0 4px 16px #0000001a;border-radius:8px}}@media (max-width: 635px){.layout[_ngcontent-%COMP%]{flex-direction:column;height:auto;min-height:100vh;overflow-y:auto;overflow-x:hidden;position:relative}.left[_ngcontent-%COMP%]{width:100%;min-width:auto;height:100vh;max-height:100vh;border-right:none;border-bottom:2px solid #e2e8f0;overflow:hidden;flex-shrink:0;position:relative;z-index:1}.right[_ngcontent-%COMP%]{width:100%;height:100vh;min-height:100vh;overflow:hidden;flex-shrink:0;position:relative;z-index:0}.scroll-container[_ngcontent-%COMP%]{min-height:0;max-height:100%;overflow-y:auto!important;overflow-x:hidden!important}}@media (max-width: 480px){.layout[_ngcontent-%COMP%]{flex-direction:column;height:auto;min-height:100vh;overflow-y:auto;overflow-x:hidden;position:relative}.left[_ngcontent-%COMP%]{width:100%;min-width:auto;height:100vh;max-height:100vh;border-right:none;border-bottom:2px solid #e2e8f0;overflow:hidden;flex-shrink:0;position:relative;z-index:1}.right[_ngcontent-%COMP%]{width:100%;height:100vh;min-height:100vh;overflow:hidden;flex-shrink:0;position:relative;z-index:0}.scroll-container[_ngcontent-%COMP%]{min-height:0;max-height:100%;overflow-y:auto!important;overflow-x:hidden!important;scrollbar-width:auto;scrollbar-color:#6366f1 #e2e8f0}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e2e8f0;border-radius:6px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6366f1;border-radius:6px;border:2px solid #f8fafc}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#4f46e5}.count-badge[_ngcontent-%COMP%]{padding:.625rem .875rem;gap:.625rem}.count-badge[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{font-size:1rem}.count-badge[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{font-size:.75rem}.category-filter-btn[_ngcontent-%COMP%]{padding:.625rem .875rem;font-size:.8125rem}.category-filter-btn[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:16px;height:16px}.category-filter-btn[_ngcontent-%COMP%]   .category-label[_ngcontent-%COMP%]{font-size:.8125rem}.category-filter-btn[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{width:12px;height:12px}.category-option[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.8125rem}.category-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.item-wrapper[_ngcontent-%COMP%]{gap:.75rem;padding:.75rem .875rem}.item-icon[_ngcontent-%COMP%]{width:36px;height:36px;min-width:36px}.item-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.template-item[_ngcontent-%COMP%]{margin-bottom:.5rem!important;min-height:60px}.preview-header[_ngcontent-%COMP%]{padding:clamp(.375rem,1vw,.5rem) clamp(.75rem,2vw,.875rem)}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:clamp(.875rem,3vw,1.125rem);line-height:1.1}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:clamp(.1875rem,.75vw,.25rem)}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:clamp(.5625rem,1.8vw,.6875rem);padding:clamp(.1875rem,.75vw,.25rem) clamp(.375rem,1.5vw,.625rem);border-radius:clamp(8px,2vw,12px)}.preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:clamp(.25rem,1vw,.375rem) clamp(.375rem,1.5vw,.625rem);border-radius:clamp(4px,1.5vw,6px)}.preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(10px,2.5vw,12px);height:clamp(10px,2.5vw,12px)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]{padding:clamp(1px,.3vw,2px);border-radius:clamp(4px,1.5vw,6px)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{padding:clamp(.1875rem,.75vw,.25rem) clamp(.25rem,1vw,.375rem);border-radius:clamp(3px,1vw,4px)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(6px,2vw,8px);height:clamp(6px,2vw,8px)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.5rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.75rem;width:auto;max-width:200px}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100vw;border-radius:0;box-shadow:none}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100vw;border-radius:4px}}@media (max-width: 768px) and (min-width: 636px){.left[_ngcontent-%COMP%]{width:45%;min-width:300px}.right[_ngcontent-%COMP%]{width:55%}}@media (max-height: 500px) and (orientation: landscape) and (min-width: 900px){.layout[_ngcontent-%COMP%]{flex-direction:row!important;height:100vh!important;overflow:hidden!important}.left[_ngcontent-%COMP%]{width:35%!important;min-width:280px!important;height:100vh!important;max-height:100vh!important;border-right:2px solid #e2e8f0!important;border-bottom:none!important}.list-header[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important;gap:.5rem!important}.category-filter-wrapper[_ngcontent-%COMP%]{width:100%!important}.category-filter-btn[_ngcontent-%COMP%]{width:100%!important;justify-content:center!important}.right[_ngcontent-%COMP%]{width:65%!important;height:100vh!important;max-height:100vh!important;overflow-y:auto!important;overflow-x:hidden!important}.preview-header[_ngcontent-%COMP%]{position:sticky!important;top:0!important;z-index:100!important;padding:.5rem .75rem}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column!important;justify-content:center!important;align-items:center!important;gap:.5rem!important}.preview-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex-direction:row!important;align-items:center!important;justify-content:center!important;gap:.75rem!important;width:100%!important}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{order:initial;width:auto!important;flex-wrap:nowrap!important;gap:.5rem}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{order:initial;width:100%!important;flex-wrap:wrap!important;gap:.5rem;justify-content:center!important}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:left;gap:2rem;max-width:90vw}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]{margin:0;flex-shrink:0}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{margin-bottom:1rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:left}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;text-align:left}}@media (max-height: 500px) and (orientation: landscape) and (max-width: 899px){.layout[_ngcontent-%COMP%]{flex-direction:column!important;height:auto!important;min-height:100vh!important;overflow-y:auto!important;overflow-x:hidden!important}.left[_ngcontent-%COMP%]{width:100%!important;min-width:auto!important;height:100vh!important;max-height:100vh!important;border-right:none!important;border-bottom:2px solid #e2e8f0!important}.list-header[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important;gap:.5rem!important}.category-filter-wrapper[_ngcontent-%COMP%]{width:100%!important}.category-filter-btn[_ngcontent-%COMP%]{width:100%!important;justify-content:center!important}.right[_ngcontent-%COMP%]{width:100%!important;height:100vh!important;min-height:100vh!important;overflow:hidden!important}.preview-header[_ngcontent-%COMP%]{padding:.5rem .75rem}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column!important;justify-content:center!important;align-items:center!important;gap:.5rem!important}.preview-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex-direction:row!important;align-items:center!important;justify-content:center!important;gap:.75rem!important;width:100%!important}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{order:initial;width:auto!important;flex-wrap:nowrap!important;gap:.5rem}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{order:initial;width:100%!important;flex-wrap:wrap!important;gap:.5rem;justify-content:center!important}.preview-header[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{justify-content:flex-start;gap:.5rem}.preview-header[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.75rem}}@media (prefers-color-scheme: dark){.layout[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b);border-color:#475569}.layout[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#334155)}.error[_ngcontent-%COMP%]{background:#dc262626;border-color:#dc262666;color:#fca5a5}.search-wrapper[_ngcontent-%COMP%]{background:#334155;border-color:#475569}.search-wrapper[_ngcontent-%COMP%]:hover{border-color:#8b5cf6}.search-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#a78bfa}.search-icon[_ngcontent-%COMP%]{color:#94a3b8}.search-input[_ngcontent-%COMP%]{color:#f1f5f9}.search-input[_ngcontent-%COMP%]::placeholder{color:#64748b}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{color:#94a3b8}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background:#1e293b;color:#f87171}.scroll-container[_ngcontent-%COMP%]{background:#334155;border-color:#475569;scrollbar-color:#8b5cf6 #1e293b}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e293b}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#8b5cf6,#a78bfa)}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#7c3aed,#9333ea)}.count-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#334155,#3d4a5c);border-color:#475569}.count-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#a78bfa}.count-badge[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{color:#f1f5f9}.count-badge[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{color:#94a3b8}.template-item[_ngcontent-%COMP%]{background:#334155;border-color:#475569!important}.template-item[_ngcontent-%COMP%]:hover{border-color:#8b5cf6!important;background:#3d4a5c}.template-item.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d4a5c,#4c5a6c);border-color:#8b5cf6!important}.name[_ngcontent-%COMP%]{color:#cbd5e1}.preview-root[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b)}.preview-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4c1d95,#3730a3)}.preview-container[_ngcontent-%COMP%]{background:#1e293b}.iframe-wrapper[_ngcontent-%COMP%]{background:#0f172a}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{background:#1e293bcc;border-color:#475569;color:#cbd5e1}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover{background:#6366f11a;border-color:#6366f1;color:#a5b4fc}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]{background:#0f172afa}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f1f5f9}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}.floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%], .neural-network[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .neural-network[_ngcontent-%COMP%]   .connection[_ngcontent-%COMP%], .grid-pattern[_ngcontent-%COMP%]{animation:none!important}}@media (prefers-contrast: high){.preview-header[_ngcontent-%COMP%]{background:#000;border-bottom:2px solid #fff}.template-title[_ngcontent-%COMP%], .template-meta[_ngcontent-%COMP%], .action-btn[_ngcontent-%COMP%], .mode-btn[_ngcontent-%COMP%]{color:#fff!important;border-color:#fff!important}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:#000;-webkit-background-clip:initial;-webkit-text-fill-color:initial;background-clip:initial;color:#000}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{background:#fff;border:2px solid #000;color:#000}.template-item[_ngcontent-%COMP%]{border:2px solid #000!important}.template-item.selected[_ngcontent-%COMP%]{background:#000!important;color:#fff!important}}.action-btn[_ngcontent-%COMP%], .mode-btn[_ngcontent-%COMP%], .loader-spinner[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%], .placeholder-icon[_ngcontent-%COMP%], .error-icon[_ngcontent-%COMP%], .template-item[_ngcontent-%COMP%]{will-change:transform;transform:translateZ(0);backface-visibility:hidden}@media print{.preview-root[_ngcontent-%COMP%]{height:auto;background:#fff}.preview-header[_ngcontent-%COMP%]{background:#6d28d9;color:#fff;-webkit-print-color-adjust:exact;print-color-adjust:exact}.modern-placeholder[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]{page-break-inside:avoid}.left[_ngcontent-%COMP%]{display:none}.right[_ngcontent-%COMP%]{width:100%}}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{padding:clamp(.5rem,1.5vw,.75rem) clamp(.75rem,2vw,1rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:clamp(.375rem,1vw,.5rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:clamp(1rem,3vw,1.25rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:clamp(.25rem,1vw,.375rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%], .preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:clamp(.625rem,2vw,.75rem);padding:clamp(.25rem,1vw,.375rem) clamp(.5rem,1.5vw,.75rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:clamp(.375rem,1vw,.5rem) clamp(.5rem,1.5vw,.75rem);font-size:clamp(.625rem,2vw,.75rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{padding:clamp(.25rem,1vw,.375rem) clamp(.375rem,1.5vw,.5rem);font-size:clamp(.6rem,1.8vw,.7rem)}@media (max-width: 768px){.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{padding:clamp(.375rem,1vw,.5rem) clamp(.5rem,1.5vw,.75rem)}}.info-btn.active[_ngcontent-%COMP%]{background:#fff6!important;border-color:#fff9!important;box-shadow:0 4px 16px #ffffff4d!important}.delete-btn[_ngcontent-%COMP%]:hover{background:#ef44444d!important;border-color:#ef444499!important;color:#fee2e2!important}.delete-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-delete .3s ease}@keyframes _ngcontent-%COMP%_shake-delete{0%,to{transform:translate(0)}25%{transform:translate(-3px)}75%{transform:translate(3px)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.info-item[_ngcontent-%COMP%]:hover{background:#fff3;border-color:#ffffff59;transform:translateY(-2px)}.info-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#ffffffb3}.info-value[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#fff;word-break:break-word}.info-value[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;background:#ef444433;border:1px solid rgba(239,68,68,.4);border-radius:12px;font-size:.8125rem;font-weight:700;color:#fecaca}.info-value[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:#10b98133;border-color:#10b98166;color:#6ee7b7}.info-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#fff;text-decoration:none;font-weight:600;transition:all .2s ease;padding:.5rem 0}.info-link[_ngcontent-%COMP%]:hover{color:#93c5fd;transform:translate(4px)}@media (max-width: 1024px){.info-banner[_ngcontent-%COMP%]{padding:1.25rem}.info-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:.75rem}.info-item[_ngcontent-%COMP%]{padding:.875rem}}@media (max-width: 768px){.info-banner[_ngcontent-%COMP%]{padding:1rem}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:.625rem}.info-item[_ngcontent-%COMP%]{padding:.75rem}.info-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.info-label[_ngcontent-%COMP%]{font-size:.6875rem}.info-value[_ngcontent-%COMP%]{font-size:.875rem}}@media (max-width: 480px){.info-banner[_ngcontent-%COMP%]{padding:.875rem;margin-top:.75rem}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem}.info-item[_ngcontent-%COMP%]{padding:.625rem}.action-buttons[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .info-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media (prefers-color-scheme: dark){.info-banner[_ngcontent-%COMP%]{background:#1e293b99;border-color:#47556966}.info-item[_ngcontent-%COMP%]{background:#1e293b66;border-color:#4755694d}.info-item[_ngcontent-%COMP%]:hover{background:#33415580;border-color:#64748b66}.info-label[_ngcontent-%COMP%]{color:#e2e8f0b3}.info-value[_ngcontent-%COMP%]{color:#e2e8f0}.info-link[_ngcontent-%COMP%]{color:#93c5fd}.info-link[_ngcontent-%COMP%]:hover{color:#60a5fa}}.info-modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;background:#0009;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;padding:1.5rem;animation:_ngcontent-%COMP%_fadeIn .2s ease;overflow-y:auto}.info-modal-content[_ngcontent-%COMP%]{position:relative;z-index:10000;width:90%;max-width:900px;max-height:90vh;background:linear-gradient(135deg,#6d28d9,#5b21b6);border-radius:24px;box-shadow:0 24px 80px #00000080;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.34,1.56,.64,1);overflow:hidden;display:flex;flex-direction:column;margin:auto}.info-modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;border-bottom:1px solid rgba(255,255,255,.2);flex-shrink:0}.info-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:800;color:#fff;letter-spacing:-.02em}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.25);border-radius:10px;padding:.625rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#fff}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:rotate(90deg) scale(1.1);border-color:#fff6}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:active{transform:rotate(90deg) scale(.95)}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{padding:2rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;overflow-y:auto;overflow-x:hidden;flex:1;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.3) rgba(255,255,255,.1)}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:5px;margin:8px}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:5px}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:1rem;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .2s ease}.info-item[_ngcontent-%COMP%]:hover{background:#ffffff26;border-color:#ffffff59;transform:translateY(-2px)}.info-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(50px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.info-modal-content[_ngcontent-%COMP%]{max-width:95vw;max-height:90vh}.info-modal-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.info-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{padding:1.5rem;grid-template-columns:1fr 1fr;gap:.75rem}}@media (max-width: 480px){.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-height: 600px) and (orientation: landscape){.info-modal-backdrop[_ngcontent-%COMP%]{padding:1rem;align-items:center;overflow-y:auto}.info-modal-content[_ngcontent-%COMP%]{max-width:90vw;max-height:95vh;margin:auto}.info-modal-header[_ngcontent-%COMP%]{padding:.75rem 1.25rem}.info-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{padding:.5rem}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{padding:1rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.75rem}.info-item[_ngcontent-%COMP%]{padding:.75rem}}@media (max-height: 400px) and (orientation: landscape){.info-modal-content[_ngcontent-%COMP%]{max-height:98vh}.info-modal-header[_ngcontent-%COMP%]{padding:.5rem 1rem}.info-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}.info-item[_ngcontent-%COMP%]{padding:.5rem .75rem}}'],data:{animation:[Xn("fadeInOut",[mc("in",Yt({opacity:1})),mc("out",Yt({opacity:0})),Nn("* => in",[Yt({opacity:0}),In("300ms ease-in",Yt({opacity:1}))]),Nn("in => out",[In("300ms ease-out",Yt({opacity:0}))])]),Xn("bounceIn",[Nn(":enter",[Yt({opacity:0,transform:"scale(0.3)"}),In("300ms ease-in",Yt({opacity:1,transform:"scale(1.05)"})),In("100ms ease-out",Yt({transform:"scale(1)"}))])])]},changeDetection:0})}}return o})();function m2(o,i){if(o&1){let e=jt();S(0,"button",53),rt("click",function(){nt(e);let n=Ae(2);return it(n.onEditOriginalTemplate())}),pt(),S(1,"svg",22),je(2,"path",37),L()()}}function g2(o,i){o&1&&(S(0,"div",21),pt(),S(1,"svg",22),je(2,"path",54),L()())}function v2(o,i){if(o&1){let e=jt();S(0,"button",55),rt("click",function(){nt(e);let n=Ae(2);return it(n.onSkipToChat())}),pt(),S(1,"svg",22),je(2,"path",56),L()()}}function _2(o,i){o&1&&(S(0,"span",35)(1,"span",36),pt(),S(2,"svg",22),je(3,"path",57),L()(),Mt(),S(4,"span",38),Y(5,"Run Test"),L(),je(6,"span",39),L())}function y2(o,i){o&1&&(S(0,"span",58),je(1,"span",59),S(2,"span",60),Y(3,"Cancel"),L()())}function b2(o,i){if(o&1&&(S(0,"span",61),Y(1),sn(2,"async"),L()),o&2){let e,t=Ae(2);le(),rn(" ",(e=dn(2,1,t.golden$))==null||e.failedEdits==null?null:e.failedEdits.length," ")}}function C2(o,i){o&1&&(S(0,"span",35)(1,"span",36),pt(),S(2,"svg",22),je(3,"path",62),L()(),Mt(),S(4,"span",38),Y(5,"Generate Variants"),L(),je(6,"span",63),L())}function x2(o,i){o&1&&(S(0,"span",58),je(1,"span",59),S(2,"span",60),Y(3,"Cancel"),L()())}function w2(o,i){if(o&1&&(S(0,"div",83)(1,"div",72),pt(),S(2,"svg",22),je(3,"path",84),L()(),Mt(),S(4,"div",74)(5,"span",75),Y(6),L(),S(7,"span",76),Y(8,"Failed"),L()()()),o&2){let e=Ae(2).ngIf;le(6),Ht((e.stats==null?null:e.stats.failed)||0)}}function O2(o,i){if(o&1&&(S(0,"div",85)(1,"div",72),pt(),S(2,"svg",22),je(3,"path",86),L()(),Mt(),S(4,"div",74)(5,"span",75),Y(6),L(),S(7,"span",76),Y(8,"Blocked"),L()()()),o&2){let e=Ae(2).ngIf;le(6),Ht((e.stats==null?null:e.stats.blocked)||0)}}function P2(o,i){o&1&&(S(0,"div",87)(1,"div",88),pt(),S(2,"svg",22),je(3,"path",78),L()(),Mt(),S(4,"h4"),Y(5,"\u{1F389} Perfect Template!"),L(),S(6,"p"),Y(7,"Your template is already optimized. No edits needed!"),L()()),o&2&&Ce("@fadeIn",void 0)}function M2(o,i){if(o&1&&(S(0,"div",89)(1,"div",90)(2,"mat-icon"),Y(3,"schedule"),L(),S(4,"span"),Y(5,"Performance Metrics"),L()(),S(6,"div",91)(7,"div",92)(8,"span",93),Y(9,"Total:"),L(),S(10,"span",94),Y(11),L()(),S(12,"div",92)(13,"span",93),Y(14,"Parsing:"),L(),S(15,"span",94),Y(16),L()(),S(17,"div",92)(18,"span",93),Y(19,"Processing:"),L(),S(20,"span",94),Y(21),L()(),S(22,"div",92)(23,"span",93),Y(24,"Verification:"),L(),S(25,"span",94),Y(26),L()()()()),o&2){let e=Ae(2).ngIf;Ce("@expandIn",void 0),le(11),rn("",(e.timings==null?null:e.timings.total)||0,"ms"),le(5),rn("",(e.timings==null?null:e.timings.parsing)||0,"ms"),le(5),rn("",(e.timings==null?null:e.timings.processing)||0,"ms"),le(5),rn("",(e.timings==null?null:e.timings.verification)||0,"ms")}}function T2(o,i){if(o&1){let e=jt();S(0,"div",65)(1,"div",66)(2,"div",67),pt(),S(3,"svg",22),je(4,"path",68),L()(),Mt(),S(5,"h4"),Y(6,"QA Statistics"),L(),S(7,"button",69),rt("click",function(){nt(e);let n=Ae(3);return it(n.toggleDebugInfo())}),S(8,"mat-icon"),Y(9,"info"),L()()(),S(10,"div",70)(11,"div",71)(12,"div",72),pt(),S(13,"svg",22),je(14,"path",73),L()(),Mt(),S(15,"div",74)(16,"span",75),Y(17),L(),S(18,"span",76),Y(19,"Total"),L()()(),S(20,"div",77)(21,"div",72),pt(),S(22,"svg",22),je(23,"path",78),L()(),Mt(),S(24,"div",74)(25,"span",75),Y(26),L(),S(27,"span",76),Y(28,"Applied"),L()()(),tt(29,w2,9,1,"div",79)(30,O2,9,1,"div",80),L(),tt(31,P2,8,1,"div",81)(32,M2,27,5,"div",82),L()}if(o&2){let e=Ae().ngIf,t=Ae(2);Ce("@slideIn",void 0),le(7),Kt("active",t.showDebugInfo),le(10),Ht((e.stats==null?null:e.stats.total)||0),le(9),Ht((e.stats==null?null:e.stats.applied)||0),le(3),Ce("ngIf",((e.stats==null?null:e.stats.failed)||0)>0),le(),Ce("ngIf",((e.stats==null?null:e.stats.blocked)||0)>0),le(),Ce("ngIf",((e.stats==null?null:e.stats.total)||0)===0),le(),Ce("ngIf",t.showDebugInfo&&(e==null?null:e.timings))}}function S2(o,i){if(o&1&&(bi(0),tt(1,T2,33,9,"div",64),Ci()),o&2){let e=i.ngIf;le(),Ce("ngIf",e==null?null:e.stats)}}function E2(o,i){if(o&1&&(S(0,"div",107),Y(1),L()),o&2){let e=Ae().$implicit;le(),Ht(e.reason)}}function k2(o,i){if(o&1&&(S(0,"li",100)(1,"div",101)(2,"code",102),Y(3),L()(),S(4,"div",103),pt(),S(5,"svg",104),je(6,"path",105),L(),Mt(),S(7,"span"),Y(8),L()(),tt(9,E2,2,1,"div",106),L()),o&2){let e=i.$implicit;Ce("@listAnimation",void 0),le(3),Ht(e.before),le(5),Ht(e.after),le(),Ce("ngIf",e.reason)}}function A2(o,i){if(o&1&&(S(0,"div",96)(1,"div",66)(2,"div",67),pt(),S(3,"svg",22),je(4,"path",37),L()(),Mt(),S(5,"h4"),Y(6,"Applied Edits"),L(),S(7,"span",97),Y(8),L()(),S(9,"ul",98),tt(10,k2,10,4,"li",99),L()()),o&2){let e=Ae().ngIf,t=Ae(2);Ce("@slideIn",void 0),le(8),Ht((e.changes==null?null:e.changes.length)||0),le(2),Ce("ngForOf",e.changes)("ngForTrackBy",t.trackByEdit)}}function I2(o,i){if(o&1&&(bi(0),tt(1,A2,11,4,"div",95),Ci()),o&2){let e=i.ngIf;le(),Ce("ngIf",e==null||e.changes==null?null:e.changes.length)}}function L2(o,i){if(o&1&&(S(0,"span",122),Y(1),L()),o&2){let e=Ae().$implicit;le(),Ht(e.reason)}}function N2(o,i){if(o&1&&(S(0,"li",117)(1,"span",118),Y(2,"\u26A0"),L(),S(3,"div",119)(4,"code",120),Y(5),L(),tt(6,L2,2,1,"span",121),L()()),o&2){let e=i.$implicit;Ce("@listAnimation",void 0),le(5),Ht(e.text),le(),Ce("ngIf",e.reason)}}function D2(o,i){if(o&1&&(S(0,"div",112)(1,"h5",113),pt(),S(2,"svg",22),je(3,"path",114),L(),Y(4," Possible Issues "),L(),Mt(),S(5,"ul",115),tt(6,N2,7,3,"li",116),L()()),o&2){let e=Ae(2).ngIf;le(6),Ce("ngForOf",e.gibberish)}}function R2(o,i){if(o&1&&(S(0,"li",125)(1,"span",126),Y(2,"\u2713"),L(),S(3,"span",127),Y(4),L()()),o&2){let e=i.$implicit;Ce("@listAnimation",void 0),le(4),Ht(e)}}function F2(o,i){if(o&1&&(S(0,"div",112)(1,"h5",113),pt(),S(2,"svg",22),je(3,"path",123),L(),Y(4," Improvements "),L(),Mt(),S(5,"ul",115),tt(6,R2,5,2,"li",124),L()()),o&2){let e=Ae(2).ngIf;le(6),Ce("ngForOf",e.suggestions)}}function V2(o,i){if(o&1&&(S(0,"div",110)(1,"div",66)(2,"div",67),pt(),S(3,"svg",22),je(4,"path",78),L()(),Mt(),S(5,"h4"),Y(6,"AI Suggestions"),L()(),tt(7,D2,7,1,"div",111)(8,F2,7,1,"div",111),L()),o&2){let e=Ae().ngIf;Ce("@slideIn",void 0),le(7),Ce("ngIf",e.gibberish==null?null:e.gibberish.length),le(),Ce("ngIf",e.suggestions==null?null:e.suggestions.length)}}function j2(o,i){o&1&&(S(0,"div",128),je(1,"div",129),S(2,"span"),Y(3,"Analyzing suggestions..."),L()()),o&2&&Ce("@pulse",void 0)}function H2(o,i){if(o&1&&(bi(0),tt(1,V2,9,3,"div",108)(2,j2,4,1,"div",109),Ci()),o&2){let e=i.ngIf,t=Ae(2);le(),Ce("ngIf",(e==null||e.gibberish==null?null:e.gibberish.length)||(e==null||e.suggestions==null?null:e.suggestions.length)),le(),Ce("ngIf",t.suggestionsLoading)}}function z2(o,i){if(o&1){let e=jt();S(0,"button",130),rt("click",function(n){return nt(e),Ae(2).onBypassVariants(),it(n.stopPropagation())}),pt(),S(1,"svg",22),je(2,"path",56),L()()}}function B2(o,i){o&1&&(S(0,"div",131)(1,"div",132)(2,"div",133),je(3,"div",134)(4,"div",134)(5,"div",134),L(),S(6,"div",135),pt(),S(7,"svg",22),je(8,"path",46),L()()(),Mt(),S(9,"div",136)(10,"h4"),Y(11,"Generating Golden Template"),L(),S(12,"p"),Y(13,"AI is optimizing your template for the best user experience"),L()()()),o&2&&Ce("@fadeIn",void 0)}function U2(o,i){if(o&1&&je(0,"app-html-preview",139),o&2){let e=Ae().ngIf;Ce("html",e.html)("loading",!1)("allowScripts",!0)}}function G2(o,i){if(o&1&&(bi(0),tt(1,U2,1,3,"app-html-preview",138),Ci()),o&2){let e=i.ngIf;Ae();let t=Ai(4);le(),Ce("ngIf",e==null?null:e.html)("ngIfElse",t)}}function W2(o,i){o&1&&(S(0,"div",140)(1,"div",141),pt(),S(2,"svg",22),je(3,"path",46),L()(),Mt(),S(4,"h4"),Y(5,"No Golden Template Yet"),L(),S(6,"p"),Y(7,'Click "Run Test" to generate the optimized Golden Template with AI improvements'),L(),S(8,"div",142),pt(),S(9,"svg",22),je(10,"path",143),L(),Mt(),S(11,"span"),Y(12,"The Golden Template shows your template after AI optimization"),L()()()),o&2&&Ce("@fadeIn",void 0)}function K2(o,i){if(o&1&&(bi(0),tt(1,G2,2,2,"ng-container",137),sn(2,"async"),tt(3,W2,13,1,"ng-template",null,1,Ws),Ci()),o&2){let e=Ai(4),t=Ae(2);le(),Ce("ngIf",dn(2,2,t.golden$))("ngIfElse",e)}}function q2(o,i){o&1&&je(0,"div",159)}function $2(o,i){if(o&1&&(S(0,"div",154)(1,"span",155),Y(2),L(),S(3,"div",156),je(4,"div",157),L(),tt(5,q2,1,0,"div",158),L()),o&2){let e=Ae().ngIf,t=Ae(2);le(2),Ja("",e.items.length," / ",e.target||5,""),le(2),ki("width",e.items.length/(e.target||5)*100,"%"),le(),Ce("ngIf",t.variantsGenerating)}}function Y2(o,i){if(o&1&&(S(0,"span",179),Y(1),L()),o&2){let e=Ae().$implicit,t=Ae(3);le(),Ht(t.getFailedEditsCount(e))}}function Q2(o,i){if(o&1&&(S(0,"div",186),Y(1),L()),o&2){let e=Ae().$implicit;le(),Ht(e.reason)}}function X2(o,i){if(o&1&&(S(0,"li",180)(1,"div",181)(2,"code",182),Y(3),L(),pt(),S(4,"svg",183),je(5,"path",105),L(),Mt(),S(6,"code",184),Y(7),L()(),tt(8,Q2,2,1,"div",185),L()),o&2){let e=i.$implicit;le(3),Ht(e.before),le(4),Ht(e.after),le(),Ce("ngIf",e.reason)}}function Z2(o,i){if(o&1&&(S(0,"li",190)(1,"span",191),Y(2,"\u2713"),L(),S(3,"span"),Y(4),L()()),o&2){let e=i.$implicit;le(4),Ht(e)}}function J2(o,i){if(o&1&&(S(0,"div",187)(1,"div",66)(2,"div",67),pt(),S(3,"svg",22),je(4,"path",123),L()(),Mt(),S(5,"h4"),Y(6,"Why This Helps"),L()(),S(7,"ul",188),tt(8,Z2,5,1,"li",189),L()()),o&2){let e=Ae().$implicit,t=Ae(3);le(8),Ce("ngForOf",e.why)("ngForTrackBy",t.trackByIndex)}}function e5(o,i){if(o&1){let e=jt();S(0,"div",160)(1,"div",161)(2,"div",162)(3,"span",163),Y(4),L(),S(5,"div",164),pt(),S(6,"svg",22),je(7,"path",165),L(),Y(8," Ready "),L()(),Mt(),S(9,"div",166),je(10,"app-html-preview",167),L(),S(11,"div",168)(12,"button",169),rt("click",function(){let n=nt(e).$implicit,r=Ae().ngIf,a=Ae().ngIf,s=Ae();return it(s.onUseVariant(a,r.runId,n.no))}),S(13,"span",170),pt(),S(14,"svg",22),je(15,"path",165),L(),Mt(),S(16,"span"),Y(17,"Use This Template"),L()()()()(),S(18,"div",171)(19,"div",172)(20,"div",66)(21,"div",67),pt(),S(22,"svg",22),je(23,"path",173),L()(),Mt(),S(24,"h4"),Y(25,"What Changed"),L(),S(26,"button",174),rt("click",function(){let n=nt(e).$implicit,r=Ae().ngIf,a=Ae(2);return it(a.onEditVariant(r.runId,n.no,n))}),S(27,"mat-icon"),Y(28,"edit"),L(),tt(29,Y2,2,1,"span",175),L()(),S(30,"ul",176),tt(31,X2,9,3,"li",177),L()(),tt(32,J2,9,2,"div",178),L()()}if(o&2){let e=i.$implicit,t=Ae(3);Ce("@variantAnimation",void 0),le(4),rn("Variant ",e.no,""),le(6),Ce("html",e.html)("loading",!1)("allowScripts",!0),le(16),Kt("has-failed-edits",t.hasFailedEdits(e)),Ce("matTooltip",t.getEditTooltip(e)),le(3),Ce("ngIf",t.hasFailedEdits(e)),le(2),Ce("ngForOf",e.changes)("ngForTrackBy",t.trackByEdit),le(),Ce("ngIf",e.why==null?null:e.why.length)}}function t5(o,i){o&1&&(S(0,"div",192)(1,"div",193)(2,"div",194),je(3,"div",195)(4,"div",196),L(),S(5,"div",197)(6,"div",198),je(7,"div",199)(8,"div",199)(9,"div",200),L()(),je(10,"div",201),L()()),o&2&&Ce("@variantAnimation",void 0)}function n5(o,i){if(o&1&&(S(0,"section",144)(1,"div",145)(2,"div",146)(3,"div",147),pt(),S(4,"svg",22),je(5,"path",148),L()(),Mt(),S(6,"h3",13),Y(7,"Generated Variants"),L(),je(8,"div",149),L(),tt(9,$2,6,5,"div",150),L(),S(10,"div",151),tt(11,e5,33,12,"div",152)(12,t5,11,1,"div",153),L()()),o&2){let e=i.ngIf,t=Ae(2);Ce("@expandIn",void 0),le(9),Ce("ngIf",t.variantsGenerating||(e==null||e.items==null?null:e.items.length)),le(2),Ce("ngForOf",e.items)("ngForTrackBy",t.trackByIndex),le(),Ce("ngForOf",t.getSkeletonArray(t.variantsGenerating?(e==null?null:e.target)||5:0,(e==null||e.items==null?null:e.items.length)||0))("ngForTrackBy",t.trackByIndex)}}function i5(o,i){if(o&1){let e=jt();S(0,"div",210)(1,"div",211)(2,"mat-icon"),Y(3,"pending"),L(),S(4,"h3"),Y(5,"No Tests Run Yet"),L()(),S(6,"button",212),rt("click",function(){nt(e);let n=Ae(3);return it(n.closeVisualEditorModal())}),S(7,"mat-icon"),Y(8,"close"),L()()()}}function r5(o,i){if(o&1&&(S(0,"span",214),Y(1),sn(2,"async"),L()),o&2){let e,t=Ae(4);le(),rn(" ",(e=dn(2,1,t.golden$))==null||e.failedEdits==null?null:e.failedEdits.length," ")}}function o5(o,i){if(o&1){let e=jt();S(0,"div",210)(1,"div",211)(2,"mat-icon"),Y(3,"warning"),L(),S(4,"h3"),Y(5,"Failed Edits Detected"),L()(),tt(6,r5,3,3,"span",213),sn(7,"async"),S(8,"button",212),rt("click",function(){nt(e);let n=Ae(3);return it(n.closeVisualEditorModal())}),S(9,"mat-icon"),Y(10,"close"),L()()()}if(o&2){let e,t=Ae(3);le(6),Ce("ngIf",(e=dn(7,1,t.golden$))==null||e.failedEdits==null?null:e.failedEdits.length)}}function a5(o,i){if(o&1){let e=jt();S(0,"div",210)(1,"div",211)(2,"mat-icon"),Y(3,"check_circle"),L(),S(4,"h3"),Y(5),sn(6,"async"),L()(),S(7,"button",212),rt("click",function(){nt(e);let n=Ae(3);return it(n.closeVisualEditorModal())}),S(8,"mat-icon"),Y(9,"close"),L()()()}if(o&2){let e,t=Ae(3);le(5),Ht(((e=dn(6,1,t.golden$))==null||e.stats==null?null:e.stats.total)===0?"Perfect Template":"All Edits Applied")}}function s5(o,i){o&1&&(bi(0),S(1,"div",215)(2,"mat-icon"),Y(3,"info"),L(),S(4,"h4"),Y(5,"Template Not Tested"),L(),S(6,"p"),Y(7,`This template hasn't been tested yet. Click "Run Test" to check for issues and validate all edits.`),L(),S(8,"div",216)(9,"span"),Y(10,'Click the "Run Test" button below to begin'),L(),S(11,"mat-icon"),Y(12,"arrow_downward"),L()()(),Ci())}function l5(o,i){if(o&1&&(S(0,"li")(1,"code"),Y(2),L()()),o&2){let e=i.$implicit;le(2),Ht(e)}}function c5(o,i){if(o&1&&(S(0,"div",234)(1,"strong"),Y(2,"Try searching for:"),L(),S(3,"ul"),tt(4,l5,3,1,"li",235),L()()),o&2){let e=Ae(2).$implicit;le(4),Ce("ngForOf",e.diagnostics==null||e.diagnostics.manualFixGuidance==null||e.diagnostics.manualFixGuidance.searchHints==null?null:e.diagnostics.manualFixGuidance.searchHints.slice(0,3))}}function d5(o,i){o&1&&(S(0,"mat-icon",239),Y(1,"arrow_forward"),L())}function u5(o,i){if(o&1&&(S(0,"span")(1,"code"),Y(2),L(),Y(3),tt(4,d5,2,0,"mat-icon",238),L()),o&2){let e=i.$implicit,t=i.last;le(2),rn("<",e.tag,">"),le(),rn(' "',e.textContent,'" '),le(),Ce("ngIf",!t)}}function p5(o,i){if(o&1&&(S(0,"div",236)(1,"strong"),Y(2,"Split across these elements:"),L(),S(3,"div",237),tt(4,u5,5,3,"span",235),L()()),o&2){let e=Ae(2).$implicit;le(4),Ce("ngForOf",e.diagnostics==null||e.diagnostics.manualFixGuidance==null?null:e.diagnostics.manualFixGuidance.affectedElements)}}function f5(o,i){if(o&1&&(S(0,"div",229)(1,"div",230)(2,"mat-icon"),Y(3,"lightbulb"),L()(),S(4,"div",231)(5,"strong"),Y(6,"How to Fix:"),L(),S(7,"p"),Y(8),L(),tt(9,c5,5,1,"div",232)(10,p5,5,1,"div",233),L()()),o&2){let e=Ae().$implicit;le(8),Ht(e.diagnostics==null||e.diagnostics.manualFixGuidance==null?null:e.diagnostics.manualFixGuidance.recommendation),le(),Ce("ngIf",e.diagnostics==null||e.diagnostics.manualFixGuidance==null||e.diagnostics.manualFixGuidance.searchHints==null?null:e.diagnostics.manualFixGuidance.searchHints.length),le(),Ce("ngIf",e.diagnostics==null||e.diagnostics.manualFixGuidance==null||e.diagnostics.manualFixGuidance.affectedElements==null?null:e.diagnostics.manualFixGuidance.affectedElements.length)}}function h5(o,i){if(o&1){let e=jt();S(0,"div",240)(1,"button",241),rt("click",function(n){return nt(e),it(n.stopPropagation())}),S(2,"mat-icon"),Y(3,"bug_report"),L(),S(4,"span"),Y(5,"Show Diagnostics"),L()(),S(6,"div",242)(7,"div",243)(8,"span"),Y(9,"Raw Occurrences:"),L(),S(10,"strong"),Y(11),L()(),S(12,"div",243)(13,"span"),Y(14,"Normalized:"),L(),S(15,"strong"),Y(16),L()(),S(17,"div",243)(18,"span"),Y(19,"Context Match:"),L(),S(20,"strong"),Y(21),L()(),S(22,"div",243)(23,"span"),Y(24,"Crosses Boundary:"),L(),S(25,"strong"),Y(26),L()()()()}if(o&2){let e=Ae().$implicit;le(11),Ht(e.diagnostics.rawOccurrences||0),le(5),Ht(e.diagnostics.normalizedOccurrences||0),le(5),Ht(e.diagnostics.contextMatched?"\u2713 Yes":"\u2717 No"),le(5),Ht(e.diagnostics.crossesBoundary?"\u2713 Yes":"\u2717 No")}}function m5(o,i){if(o&1&&(S(0,"li",221)(1,"div",222)(2,"mat-icon"),Y(3),L(),S(4,"span"),Y(5),L()(),S(6,"div",223)(7,"code",224),Y(8),L(),S(9,"mat-icon",225),Y(10,"arrow_forward"),L(),S(11,"code",226),Y(12),L()(),tt(13,f5,11,3,"div",227)(14,h5,27,4,"div",228),L()),o&2){let e=i.$implicit,t=Ae(4);le(),Gs(t.getStatusColor(e.status||"not_found")),le(2),Ht(t.getStatusIcon(e.status||"not_found")),le(2),Ht(t.getStatusLabel(e.status||"not_found")),le(3),rn('"',e.find,'"'),le(4),rn('"',e.replace,'"'),le(),Ce("ngIf",e.diagnostics==null?null:e.diagnostics.manualFixGuidance),le(),Ce("ngIf",t.showDebugInfo&&e.diagnostics)}}function g5(o,i){if(o&1&&(bi(0),S(1,"div",217)(2,"mat-icon"),Y(3,"info"),L(),S(4,"p"),Y(5,"The following edits could not be applied automatically. Please use the Visual Editor to fix them manually."),L()(),S(6,"div",218)(7,"ul",219),tt(8,m5,15,8,"li",220),sn(9,"async"),L()(),Ci()),o&2){let e,t=Ae(3);le(8),Ce("ngForOf",(e=dn(9,1,t.golden$))==null?null:e.failedEdits)}}function v5(o,i){o&1&&(bi(0),S(1,"h4"),Y(2,"Perfect Template!"),L(),S(3,"p"),Y(4,"Your template is already optimized and doesn't need any edits. You can still use the Visual Editor for additional customizations if needed."),L(),Ci())}function _5(o,i){o&1&&(bi(0),S(1,"h4"),Y(2,"All Edits Applied Successfully"),L(),S(3,"p"),Y(4,"All automated edits have been applied successfully. You can use the Visual Editor for additional customizations if needed."),L(),Ci())}function y5(o,i){if(o&1&&(bi(0),S(1,"div",244)(2,"mat-icon"),Y(3,"check_circle"),L(),tt(4,v5,5,0,"ng-container",43),sn(5,"async"),tt(6,_5,5,0,"ng-container",43),sn(7,"async"),L(),Ci()),o&2){let e,t,n=Ae(3);le(4),Ce("ngIf",(((e=dn(5,2,n.golden$))==null||e.stats==null?null:e.stats.total)||0)===0),le(2),Ce("ngIf",(((t=dn(7,4,n.golden$))==null||t.stats==null?null:t.stats.total)||0)>0)}}function b5(o,i){if(o&1){let e=jt();S(0,"button",245),rt("click",function(){nt(e);let n=Ae(3);return it(n.navigateToVisualEditor())}),S(1,"mat-icon"),Y(2,"edit"),L(),Y(3," Open Visual Editor "),L()}}function C5(o,i){if(o&1){let e=jt();S(0,"button",245),rt("click",function(){nt(e);let n=Ae(3);return n.closeVisualEditorModal(),it(n.onGenerateGolden(n.templateId))}),S(1,"mat-icon"),Y(2,"play_arrow"),L(),Y(3," Run Test Now "),L()}}function x5(o,i){if(o&1){let e=jt();S(0,"div",202)(1,"div",203),rt("click",function(){nt(e);let n=Ae(2);return it(n.closeVisualEditorModal())}),L(),S(2,"div",204),tt(3,i5,9,0,"div",205)(4,o5,11,3,"div",205)(5,a5,10,3,"div",205),S(6,"div",206),tt(7,s5,13,0,"ng-container",43)(8,g5,10,3,"ng-container",43),sn(9,"async"),tt(10,y5,8,6,"ng-container",43),L(),S(11,"div",207)(12,"button",208),rt("click",function(){nt(e);let n=Ae(2);return it(n.closeVisualEditorModal())}),Y(13,"Cancel"),L(),tt(14,b5,4,0,"button",209)(15,C5,4,0,"button",209),L()()()}if(o&2){let e,t=Ae(2);le(2),Ce("@modalContentAnimation",void 0),le(),Ce("ngIf",t.visualEditorButtonColor==="orange"),le(),Ce("ngIf",t.visualEditorButtonColor==="red"),le(),Ce("ngIf",t.visualEditorButtonColor==="green"),le(2),Ce("ngIf",t.visualEditorButtonColor==="orange"),le(),Ce("ngIf",t.visualEditorButtonColor==="red"&&((e=dn(9,9,t.golden$))==null||e.failedEdits==null?null:e.failedEdits.length)),le(2),Ce("ngIf",t.visualEditorButtonColor==="green"),le(4),Ce("ngIf",t.visualEditorButtonColor!=="orange"),le(),Ce("ngIf",t.visualEditorButtonColor==="orange")}}function w5(o,i){if(o&1){let e=jt();S(0,"div",3)(1,"div",4),je(2,"div",5)(3,"div",6)(4,"div",7),L(),S(5,"div",8)(6,"section",9)(7,"div",10),tt(8,m2,3,0,"button",11)(9,g2,3,0,"div",12),S(10,"h3",13),Y(11,"Original Template"),L(),je(12,"div",14),tt(13,v2,3,0,"button",15),L(),S(14,"div",16)(15,"div",17),je(16,"app-html-preview",18),L()()(),S(17,"section",19)(18,"div",20)(19,"div",21),pt(),S(20,"svg",22),je(21,"path",23),L()(),Mt(),S(22,"h3",13),Y(23,"AI Tools & Analysis"),L(),je(24,"div",14),S(25,"button",24)(26,"mat-icon"),Y(27,"info_outline"),L()(),S(28,"mat-menu",25,0)(30,"div",26),rt("click",function(n){return nt(e),it(n.stopPropagation())}),S(31,"h4"),Y(32,"\u26A0\uFE0F Important Notice"),L(),S(33,"div",27)(34,"p"),Y(35,"AI will make mistakes due to its unpredictable nature and text replacement using AI will only happen under manual supervision."),L()(),S(36,"div",27)(37,"p"),Y(38,"Editing HTML using AI is astonishingly difficult due to the HTML complexity, poorly written HTML, and not following best practices."),L()(),S(39,"div",28),Y(40," Always review AI changes before applying! and use editor if required. "),L()()()(),S(41,"div",29)(42,"div",30)(43,"button",31),rt("click",function(){let n=nt(e).ngIf,r=Ae();return it(r.goldenLoading?r.cancelGolden():r.onGenerateGolden(n))}),tt(44,_2,7,0,"span",32)(45,y2,4,0,"span",33),L(),S(46,"button",34),rt("click",function(n){return nt(e),Ae().openVisualEditorModal(),it(n.stopPropagation())}),S(47,"span",35)(48,"span",36),pt(),S(49,"svg",22),je(50,"path",37),L()(),Mt(),S(51,"span",38),Y(52,"Failed Edits"),L(),je(53,"span",39),L(),tt(54,b2,3,3,"span",40),sn(55,"async"),L()(),S(56,"div",41)(57,"button",42),sn(58,"async"),rt("click",function(){let n=nt(e).ngIf,r=Ae();return it(r.variantsGenerating?r.cancelVariants():r.onGenerateVariants(n))}),tt(59,C2,7,0,"span",32)(60,x2,4,0,"span",33),L()(),tt(61,S2,2,1,"ng-container",43),sn(62,"async"),tt(63,I2,2,1,"ng-container",43),sn(64,"async"),tt(65,H2,3,2,"ng-container",43),sn(66,"async"),L()(),S(67,"section",44),rt("click",function(){nt(e);let n=Ae();return it(n.onGoldenTemplateClick())}),S(68,"div",10)(69,"div",45),pt(),S(70,"svg",22),je(71,"path",46),L()(),Mt(),S(72,"h3",13),Y(73,"Golden Preview"),L(),je(74,"div",47),tt(75,z2,3,0,"button",48),sn(76,"async"),L(),S(77,"div",49),tt(78,B2,14,1,"div",50)(79,K2,5,4,"ng-container",43),L()()(),tt(80,n5,13,6,"section",51),sn(81,"async"),tt(82,x5,16,11,"div",52),L()}if(o&2){let e,t,n,r=Ai(29),a=Ae();le(6),Ce("@fadeInUp",void 0),le(2),Ce("ngIf",!a.templateLoading),le(),Ce("ngIf",a.templateLoading),le(4),Ce("ngIf",a.templateId),le(3),Ce("html",a.templateHtml)("loading",a.templateLoading)("allowScripts",!0),le(),Ce("@fadeInUp",void 0),le(8),Ce("matMenuTriggerFor",r),le(18),Kt("loading",a.goldenLoading),le(),Ce("ngIf",!a.goldenLoading),le(),Ce("ngIf",a.goldenLoading),le(),Kt("orange",a.visualEditorButtonColor==="orange")("red",a.visualEditorButtonColor==="red")("green",a.visualEditorButtonColor==="green"),le(8),Ce("ngIf",(e=dn(55,36,a.golden$))==null||e.failedEdits==null?null:e.failedEdits.length),le(3),Kt("loading",a.variantsGenerating),Ce("disabled",!a.variantsGenerating&&(a.goldenLoading||!((t=dn(58,38,a.golden$))!=null&&t.html))),le(2),Ce("ngIf",!a.variantsGenerating),le(),Ce("ngIf",a.variantsGenerating),le(),Ce("ngIf",dn(62,40,a.golden$)),le(2),Ce("ngIf",dn(64,42,a.golden$)),le(2),Ce("ngIf",dn(66,44,a.suggestions$)),le(2),Kt("shake-animation",a.shouldShake),Ce("@fadeInUp",void 0),le(8),Ce("ngIf",(n=dn(76,46,a.golden$))==null?null:n.html),le(3),Ce("ngIf",a.goldenLoading),le(),Ce("ngIf",!a.goldenLoading),le(),Ce("ngIf",dn(81,48,a.variants$)),le(2),Ce("ngIf",a.showVisualEditorModal)}}var H0=(()=>{class o{constructor(){this.ar=Pt(uo),this.qa=Pt(e0),this.router=Pt(Un),this.http=Pt(Ca),this.templatesService=Pt(xa),this.previewCache=Pt(Qs),this.cdr=Pt(Ii),this.snackBar=Pt(Ys),this.templateState=Pt(wa),this.GOLDEN_TIMEOUT=12e4,this.SUBJECTS_TIMEOUT=6e4,this.SUGGESTIONS_TIMEOUT=9e4,this.VARIANTS_START_TIMEOUT=6e4,this.VARIANTS_NEXT_TIMEOUT=12e4,this.VARIANTS_TOTAL_TIMEOUT=6e5,this.templateId=null,this.goldenAborted=!1,this.suggestionsAborted=!1,this.variantsAborted=!1,this.subscriptions=[],this.templateHtml="",this.templateLoading=!0,this.id$=this.ar.paramMap.pipe(oo(t=>t.get("id")),O1(1)),this.goldenSubject=new Gi(null),this.golden$=this.goldenSubject.asObservable(),this.goldenLoading=!1,this.showVisualEditorModal=!1,this.visualEditorButtonColor="orange",this.shouldShake=!1,this.SHAKE_FLAG_KEY="qa_shake_animation",this.suggestionsSubject=new Gi(null),this.suggestions$=this.suggestionsSubject.asObservable(),this.suggestionsLoading=!1,this.variantsRunId=null,this.variantsSubject=new Gi(null),this.variants$=this.variantsSubject.asObservable(),this.variantsGenerating=!1,this.showDebugInfo=!1,this.trackByIndex=t=>t,this.trackByEdit=(t,n)=>n.before+"|"+n.after+"|"+(n.parent||""),this.trackByFailedEdit=(t,n)=>`${n.find}_${n.replace}_${t}`;let e=this.id$.subscribe(t=>Cn(this,null,function*(){this.templateId=t;let n=yield this.qa.getGoldenCached(t),r=yield this.qa.getSuggestionsCached(t),a=yield this.qa.getVariantsRunCached(t);this.goldenSubject.next(n),this.suggestionsSubject.next(r);let s=a;if(a){a.items?.forEach((f,h)=>{});let p=a.items?.length||0;p>0&&p<a.target&&(s=fa(Rr({},a),{target:p})),this.variantsSubject.next(s),this.variantsGenerating=!1}this.variantsRunId=s?.runId||null,n?.html&&(this.goldenLoading=!1,this.updateVisualEditorButtonColor(n.failedEdits)),r&&(this.suggestionsLoading=!1),this.variantsGenerating&&(this.variantsGenerating=!1),this.templateState.debugState(t);let c=`visual_editor_${t}_return_flag`;if(localStorage.getItem(c)==="true"&&this.templateState.hasEdits(t)){let p=this.templateState.getEditingContext(t),f=this.templateState.getCurrentTemplate(t);if(p?.type==="variant"&&f){let h=this.templateState.getTrueOriginalTemplate(t);h?(this.templateHtml=h,this.templateLoading=!1,localStorage.setItem(`template_state_${t}_original`,h)):yield this.loadOriginalTemplate(t),this.updateVariantInUI(p.runId,p.variantNo,f),localStorage.removeItem(c),this.cdr.markForCheck()}else if(p?.type==="original"&&f)this.templateHtml=f,this.templateLoading=!1,this.previewCache.set(t,f),yield this.handleVisualEditorReturn(t,f),localStorage.removeItem(c),this.cdr.markForCheck();else if(p?.type==="golden"&&f){yield this.handleVisualEditorReturn(t,f);let h=this.templateState.getTrueOriginalTemplate(t);h?(this.templateHtml=h,this.templateLoading=!1,localStorage.setItem(`template_state_${t}_original`,h)):yield this.loadOriginalTemplate(t),localStorage.removeItem(c),this.cdr.markForCheck()}else this.loadOriginalTemplate(t)}else{let p=this.templateState.getEditingContext(t),f=this.templateState.getOriginalTemplate(t);f?(this.templateHtml=f,this.templateLoading=!1,this.cdr.markForCheck()):this.loadOriginalTemplate(t)}this.cdr.markForCheck()}));this.subscriptions.push(e)}handleBeforeUnload(e){if(this.isGenerating()){let t=this.getLoadingStateMessage();e.preventDefault(),e.returnValue=t;return}}canDeactivate(){if(!this.isGenerating())return!0;let e=this.getLoadingStateMessage(),t=confirm(`${e}

Are you sure you want to leave? All progress will be lost.`);return t&&this.cleanupOnExit(),t}isGenerating(){return this.goldenLoading||this.variantsGenerating}getLoadingStateMessage(){return this.isGenerating()?"\u26A0\uFE0F Generation is in progress and will be lost if you leave.":""}cleanupOnExit(){this.goldenLoading&&(this.goldenAborted=!0,this.goldenLoading=!1,this.goldenSub&&(this.goldenSub.unsubscribe(),this.goldenSub=void 0)),this.variantsGenerating&&(this.variantsAborted=!0,this.variantsGenerating=!1),this.clearAllTimeouts(),this.templateId&&this.cleanupVisualEditorFlags(this.templateId)}cleanupVisualEditorFlags(e){let t=`visual_editor_${e}_snapshot_html`,n=`visual_editor_${e}_editing_mode`,r=`visual_editor_${e}_variant_meta`,a=`visual_editor_${e}_edited_html`,s=`visual_editor_${e}_return_flag`;localStorage.removeItem(t),localStorage.removeItem(n),localStorage.removeItem(r),localStorage.removeItem(s),sessionStorage.removeItem(t),sessionStorage.removeItem(n),sessionStorage.removeItem(r)}ngOnDestroy(){this.cleanupOnExit(),this.goldenSub&&this.goldenSub.unsubscribe(),this.suggestionsSub&&this.suggestionsSub.unsubscribe(),this.subscriptions.forEach(e=>e.unsubscribe())}clearAllTimeouts(){this.goldenTimeoutId&&clearTimeout(this.goldenTimeoutId),this.suggestionsTimeoutId&&clearTimeout(this.suggestionsTimeoutId),this.variantsTimeoutId&&clearTimeout(this.variantsTimeoutId),this.variantsTotalTimeoutId&&clearTimeout(this.variantsTotalTimeoutId)}getSkeletonArray(e,t){let n=e-t;return Array(Math.max(0,n)).fill(0)}onBypassVariants(){if(!this.templateId){this.showWarning("Template ID not found");return}let e=this.goldenSubject.value;if(!e?.html){this.showWarning("No golden template available to bypass with");return}let t={runId:`bypass-${this.templateId}`,target:1,items:[{no:1,html:e.html,changes:[],why:["Using Golden Template directly - variants generation bypassed"],artifacts:{usedIdeas:[]}}]};this.qa.clearChatForRun(t.runId,1),this.qa.clearSnapsForRun(t.runId),this.qa.clearValidLinks(t.runId),this.qa.clearGrammarCheck(t.runId,1),sessionStorage.removeItem(`template_modal_${t.runId}_1`);try{sessionStorage.setItem(`synthetic_run_${t.runId}`,JSON.stringify(t));let n={role:"assistant",text:`Hi! I'm here to help refine your email template. Here's what I can do:

\u2022 Design Ideas \u2013 Ask for layout, color, or content suggestions

\u2022 SEO Tips \u2013 Get recommendations for better deliverability and engagement

\u2022 QA Review \u2013 Get feedback on tone, clarity, and professional quality

\u2022 Content Strategy \u2013 Discuss improvements to structure and messaging

What would you like to improve?`,json:null,ts:Date.now()},r={html:e.html,messages:[n]};this.qa.saveChat(t.runId,1,r)}catch{}this.router.navigate(["/qa",this.templateId,"use",t.runId,1])}onSkipToChat(){if(!this.templateId){this.showWarning("Template ID not found");return}if(!this.templateHtml||this.templateLoading){this.showWarning("Template is still loading. Please wait...");return}let e={runId:`skip-${this.templateId}`,target:1,items:[{no:1,html:this.templateHtml,changes:[],why:["Original template - skipped generation"],artifacts:{usedIdeas:[]}}]};this.qa.clearChatForRun(e.runId,1),this.qa.clearSnapsForRun(e.runId),this.qa.clearValidLinks(e.runId),this.qa.clearGrammarCheck(e.runId,1),sessionStorage.removeItem(`template_modal_${e.runId}_1`);try{sessionStorage.setItem(`synthetic_run_${e.runId}`,JSON.stringify(e));let t={role:"assistant",text:`Hi! I'm here to help refine your email template. Here's what I can do:

\u2022 Design Ideas \u2013 Ask for layout, color, or content suggestions

\u2022 SEO Tips \u2013 Get recommendations for better deliverability and engagement

\u2022 QA Review \u2013 Get feedback on tone, clarity, and professional quality

\u2022 Content Strategy \u2013 Discuss improvements to structure and messaging

What would you like to improve?`,json:null,ts:Date.now()},n={html:this.templateHtml,messages:[t]};this.qa.saveChat(e.runId,1,n)}catch{}this.router.navigate(["/qa",this.templateId,"use",e.runId,1])}onGenerateGolden(e){if(this.goldenLoading)return;localStorage.removeItem(`visual_editor_${e}_golden_html`),localStorage.removeItem(`visual_editor_${e}_snapshot_html`),localStorage.removeItem(`visual_editor_${e}_editing_mode`),localStorage.removeItem(`visual_editor_${e}_failed_edits`),localStorage.removeItem(`visual_editor_${e}_original_stats`),this.goldenLoading=!0,this.goldenAborted=!1,this.cdr.markForCheck();let t=`${this.SHAKE_FLAG_KEY}_${e}`;sessionStorage.removeItem(t),this.goldenTimeoutId=window.setTimeout(()=>{this.handleGoldenTimeout()},this.GOLDEN_TIMEOUT),this.goldenSub=this.qa.generateGolden(e,!0).pipe(lc(this.GOLDEN_TIMEOUT),Dd({count:2,delay:3e3,resetOnSuccess:!0}),ha(n=>{throw n.name==="TimeoutError"?new Error("Golden template generation timed out. Please try again."):n})).subscribe({next:n=>{this.goldenAborted||(this.goldenTimeoutId&&(clearTimeout(this.goldenTimeoutId),this.goldenTimeoutId=void 0),this.goldenSubject.next(n),this.updateVisualEditorButtonColor(n.failedEdits),n.failedEdits&&n.failedEdits.length>0&&this.triggerShakeAnimationOnce(e),this.cdr.markForCheck())},error:n=>{if(this.goldenAborted)return;this.goldenTimeoutId&&(clearTimeout(this.goldenTimeoutId),this.goldenTimeoutId=void 0),this.goldenLoading=!1,this.goldenAborted=!0;let r=this.getErrorMessage(n,"golden template generation");this.showError(r),this.cdr.markForCheck()},complete:()=>{this.goldenAborted||(this.goldenLoading=!1,this.cdr.markForCheck())}})}handleGoldenTimeout(){this.goldenLoading=!1,this.goldenAborted=!0,this.showError("Golden template generation is taking longer than expected. The server might be busy. Please try again."),this.cdr.markForCheck()}cancelGolden(){this.goldenLoading&&(this.goldenAborted=!0,this.goldenLoading=!1,this.goldenSub&&(this.goldenSub.unsubscribe(),this.goldenSub=void 0),this.goldenTimeoutId&&(clearTimeout(this.goldenTimeoutId),this.goldenTimeoutId=void 0),this.cdr.markForCheck())}onAnalyzeSuggestions(e){this.suggestionsLoading||(this.suggestionsLoading=!0,this.suggestionsAborted=!1,this.cdr.markForCheck(),this.suggestionsTimeoutId=window.setTimeout(()=>{this.handleSuggestionsTimeout()},this.SUGGESTIONS_TIMEOUT),this.suggestionsSub=this.qa.generateSuggestions(e,!0).pipe(lc(this.SUGGESTIONS_TIMEOUT),Dd({count:2,delay:3e3,resetOnSuccess:!0}),ha(t=>{throw t.name==="TimeoutError"?new Error("Suggestions analysis timed out. Please try again."):t})).subscribe({next:t=>{this.suggestionsAborted||(this.suggestionsTimeoutId&&(clearTimeout(this.suggestionsTimeoutId),this.suggestionsTimeoutId=void 0),this.suggestionsSubject.next(t),this.showSuccess("Suggestions analysis complete!"),setTimeout(()=>{let n=document.querySelector(".col-2 .scrollable-content"),r=document.querySelector(".suggestions-panel");if(n&&r){let a=n.getBoundingClientRect(),c=r.getBoundingClientRect().top-a.top+n.scrollTop;n.scrollTo({top:c-20,behavior:"smooth"})}},300))},error:t=>{if(this.suggestionsAborted)return;this.suggestionsTimeoutId&&(clearTimeout(this.suggestionsTimeoutId),this.suggestionsTimeoutId=void 0),this.suggestionsLoading=!1,this.suggestionsAborted=!0;let n=this.getErrorMessage(t,"suggestions analysis");this.showError(n),this.cdr.markForCheck()},complete:()=>{this.suggestionsAborted||(this.suggestionsLoading=!1,this.cdr.markForCheck())}}))}handleSuggestionsTimeout(){this.suggestionsLoading=!1,this.suggestionsAborted=!0,this.showError("Suggestions analysis is taking longer than expected. Please try again."),this.cdr.markForCheck()}cancelSuggestions(){this.suggestionsLoading&&(this.suggestionsAborted=!0,this.suggestionsLoading=!1,this.suggestionsSub&&(this.suggestionsSub.unsubscribe(),this.suggestionsSub=void 0),this.suggestionsTimeoutId&&(clearTimeout(this.suggestionsTimeoutId),this.suggestionsTimeoutId=void 0),this.showWarning("Suggestions analysis cancelled."),this.cdr.markForCheck())}onGenerateVariants(e){return Cn(this,null,function*(){if(this.variantsGenerating)return;let n=this.goldenSubject.value?.html||"";if(!n){this.showWarning("Please generate a golden template first.");return}this.variantsGenerating=!0,this.variantsAborted=!1,this.variantsSubject.next({runId:"initializing",target:5,items:[]}),this.cdr.markForCheck(),this.variantsTotalTimeoutId=window.setTimeout(()=>{this.handleVariantsTotalTimeout()},this.VARIANTS_TOTAL_TIMEOUT);let r=0,a=!1;try{let s=yield Bs(this.qa.startVariants(e,n,5).pipe(lc(this.VARIANTS_START_TIMEOUT),ha(p=>{throw p.name==="TimeoutError"?new Error("Failed to start variant generation. Please try again."):p})));if(this.variantsAborted){this.cleanupVariants();return}this.variantsRunId=s.runId;let c={runId:s.runId,target:s.target,items:[]};this.variantsSubject.next(c),this.qa.saveVariantsRun(e,c),this.showSuccess("Variant generation started!"),setTimeout(()=>{let p=document.querySelector(".variants-section");p&&p.scrollIntoView({behavior:"smooth",block:"start"})},300);for(let p=0;p<s.target;p++){if(this.variantsAborted){let f=this.variantsSubject.value;f&&(f.target=f.items.length,this.qa.saveVariantsRun(e,f)),this.cleanupVariants();return}r++;try{let f=yield Bs(this.qa.nextVariant(s.runId).pipe(lc(this.VARIANTS_NEXT_TIMEOUT),Dd({count:1,delay:2e3}),ha(h=>{throw a||(a=!0,this.showWarning("Connection issue detected. Retrying... This is taking longer than usual.")),h.name==="TimeoutError"?new Error(`Variant ${p+1} generation timed out.`):h})));if(f?.done)break;c=fa(Rr({},c),{items:[...c.items,f]}),this.variantsSubject.next(c),this.qa.saveVariantsRun(e,c)}catch{this.showWarning(`Variant ${p+1} failed, continuing with others...`);continue}}this.variantsTotalTimeoutId&&(clearTimeout(this.variantsTotalTimeoutId),this.variantsTotalTimeoutId=void 0),this.cdr.markForCheck();let d=c.items.length;this.showSuccess(`Successfully generated ${d} variant(s)!`)}catch(s){this.variantsAborted=!0;let c=this.getErrorMessage(s,"variant generation");this.showError(c)}finally{this.variantsGenerating=!1,this.cleanupVariants(),this.cdr.markForCheck()}})}handleVariantsTotalTimeout(){let e=this.variantsSubject.value;e&&this.templateId&&(e.target=e.items.length,this.variantsSubject.next(e),this.qa.saveVariantsRun(this.templateId,e)),this.variantsGenerating=!1,this.variantsAborted=!0,this.showError("Variant generation timed out. Partial results have been saved and are available to use."),this.cleanupVariants(),this.cdr.markForCheck()}cleanupVariants(){this.variantsTimeoutId&&(clearTimeout(this.variantsTimeoutId),this.variantsTimeoutId=void 0),this.variantsTotalTimeoutId&&(clearTimeout(this.variantsTotalTimeoutId),this.variantsTotalTimeoutId=void 0)}cancelVariants(){if(!this.variantsGenerating)return;this.variantsAborted=!0,this.variantsGenerating=!1;let e=this.variantsSubject.value;e&&this.templateId&&(e.target=e.items.length,this.variantsSubject.next(e),this.qa.saveVariantsRun(this.templateId,e)),this.cleanupVariants();let t=e?.items?.length||0;t>0?this.showWarning(`Variant generation cancelled. ${t} variant(s) generated and available to use.`):this.showWarning("Variant generation cancelled."),this.cdr.markForCheck()}getErrorMessage(e,t){return e?.message?.includes("timeout")||e?.name==="TimeoutError"?`${t} timed out. The server might be busy. Please try again.`:e?.status===0||e?.message?.includes("Http failure")?"Cannot connect to server. Please check if the backend is running.":e?.status===500?`Server error during ${t}. Please try again.`:e?.status===404?"Resource not found. Please refresh the page.":e?.message||`An error occurred during ${t}. Please try again.`}showError(e){this.snackBar.open(e,"Close",{duration:8e3,panelClass:["error-snackbar"],horizontalPosition:"center",verticalPosition:"top"})}showSuccess(e){this.snackBar.open(e,"Close",{duration:3e3,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"})}showWarning(e){this.snackBar.open(e,"Close",{duration:5e3,panelClass:["warning-snackbar"],horizontalPosition:"center",verticalPosition:"top"})}showInfo(e){this.snackBar.open(e,"Dismiss",{duration:6e3,panelClass:["info-snackbar"],horizontalPosition:"center",verticalPosition:"top"})}loadOriginalTemplate(e){this.templateLoading=!0,this.templateHtml="";let t=this.previewCache.get(e)||this.previewCache.getPersisted(e);if(t){this.templateHtml=t,this.templateLoading=!1,this.templateState.initializeOriginalTemplate(e,t),this.cdr.markForCheck();return}let r=this.templatesService.snapshot.items.find(a=>a.id===e);if(r?.content){this.templateHtml=r.content,this.templateLoading=!1,this.templateState.initializeOriginalTemplate(e,r.content),this.cdr.markForCheck();return}this.http.get(`/api/templates/${e}/raw`,{responseType:"text"}).subscribe({next:a=>{this.templateHtml=a,this.templateLoading=!1,this.templateState.initializeOriginalTemplate(e,a),this.cdr.markForCheck()},error:a=>{this.templateHtml="Failed to load template",this.templateLoading=!1,this.cdr.markForCheck()}})}onUseVariant(e,t,n){return Cn(this,null,function*(){this.qa.clearChatForRun(t,n),this.qa.clearSnapsForRun(t),this.qa.clearValidLinks(t),this.qa.clearGrammarCheck(t,n),sessionStorage.removeItem(`template_modal_${t}_${n}`);try{let a=(yield this.qa.getVariantsRunById(t))?.items?.find(s=>s.no===n);if(a?.html){let s={role:"assistant",text:`Hi! I'm here to help refine your email template. Here's what I can do:

\u2022 Design Ideas \u2013 Ask for layout, color, or content suggestions

\u2022 SEO Tips \u2013 Get recommendations for better deliverability and engagement

\u2022 QA Review \u2013 Get feedback on tone, clarity, and professional quality

\u2022 Content Strategy \u2013 Discuss improvements to structure and messaging

What would you like to improve?`,json:null,ts:Date.now()},c={html:a.html,messages:[s]};this.qa.saveChat(t,n,c)}}catch{}this.router.navigate(["/qa",e,"use",t,n])})}toggleDebugInfo(){this.showDebugInfo=!this.showDebugInfo}getStatusIcon(e){return{applied:"check_circle",not_found:"search_off",blocked:"block",context_mismatch:"find_in_page",boundary_issue:"link_off",already_correct:"done_all"}[e]||"error"}getStatusColor(e){return{applied:"success",not_found:"error",blocked:"warn",context_mismatch:"warn",boundary_issue:"warn",already_correct:"info"}[e]||"error"}getStatusLabel(e){return{applied:"Applied",not_found:"Not Found",blocked:"Blocked",context_mismatch:"Context Mismatch",boundary_issue:"Boundary Issue",already_correct:"Already Correct"}[e]||"Unknown"}getFailureRecommendation(e){if(!e?.status)return"No diagnostic information available.";switch(e.status){case"not_found":return"The text may have been already corrected, or GPT hallucinated this error.";case"context_mismatch":return"The text exists but the surrounding context doesn't match. Manual review recommended.";case"boundary_issue":return"The text spans across interactive elements (links/buttons). Cannot be edited safely.";case"blocked":return"Blocked for safety reasons (contains URLs or merge tags).";default:return"Unknown issue. Please report this to developers."}}extractVisibleText(e){try{let t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll("script, style").forEach(a=>a.remove()),t.textContent||t.innerText||""}catch{return e}}updateVisualEditorButtonColor(e){!e||e.length===0?this.visualEditorButtonColor="green":this.visualEditorButtonColor="red",this.cdr.markForCheck()}triggerShakeAnimationOnce(e){let t=`${this.SHAKE_FLAG_KEY}_${e}`;sessionStorage.getItem(t)!=="true"&&(sessionStorage.setItem(t,"true"),this.triggerShakeAnimation())}triggerShakeAnimation(){this.shouldShake=!0,this.cdr.markForCheck(),setTimeout(()=>{this.shouldShake=!1,this.cdr.markForCheck()},1e3)}onGoldenTemplateClick(){}openVisualEditorModal(){this.showVisualEditorModal=!0,this.cdr.markForCheck()}closeVisualEditorModal(){this.showVisualEditorModal=!1,this.cdr.markForCheck()}navigateToVisualEditor(){if(!this.templateId){this.showError("Template ID not found");return}let e=this.goldenSubject.value;if(!e?.html){this.showError("Golden template not found. Please generate golden template first.");return}let t=`visual_editor_${this.templateId}_golden_html`;localStorage.setItem(t,e.html);let n=`visual_editor_${this.templateId}_snapshot_html`;localStorage.setItem(n,e.html),localStorage.removeItem(`visual_editor_${this.templateId}_return_flag`),localStorage.removeItem(`visual_editor_${this.templateId}_edited_html`),localStorage.removeItem(`visual_editor_${this.templateId}_progress`),localStorage.removeItem(`template_state_${this.templateId}_editor_progress`);let r=`visual_editor_${this.templateId}_editing_mode`;localStorage.setItem(r,"golden");let a=localStorage.getItem(r);if(this.templateState.initializeGoldenForEditing(this.templateId,e.html),e.failedEdits&&e.failedEdits.length>0){let c=`visual_editor_${this.templateId}_failed_edits`;localStorage.setItem(c,JSON.stringify(e.failedEdits))}if(e.stats){let c=`visual_editor_${this.templateId}_original_stats`;localStorage.setItem(c,JSON.stringify(e.stats))}let s=`visual_editor_${this.templateId}_use_variant_meta`;sessionStorage.removeItem(s),this.closeVisualEditorModal(),this.router.navigate(["/visual-editor",this.templateId])}handleVisualEditorReturn(e,t){return Cn(this,null,function*(){let n=this.templateState.getEditingContext(e),r=`visual_editor_${e}_editing_mode`,a=localStorage.getItem(r)||sessionStorage.getItem(r),s=`visual_editor_${e}_golden_html`,c=localStorage.getItem(s)||"",d=`visual_editor_${e}_snapshot_html`,p=localStorage.getItem(d)||"",f=`visual_editor_${e}_failed_edits`,h=localStorage.getItem(f),v=[];if(h)try{v=JSON.parse(h)}catch{}let C=`visual_editor_${e}_original_stats`,b=localStorage.getItem(C),x=null;if(b)try{x=JSON.parse(b)}catch{}if(a==="golden"||n?.type==="golden"){let P=this.goldenSubject.value,M=this.extractVisibleText(c),y=this.extractVisibleText(t),A=v.filter(R=>{let{find:H,replace:I}=R,G=H.toLowerCase(),K=M.toLowerCase(),J=y.toLowerCase(),E=K.includes(G);return!J.includes(G)&&E}),k=v.filter(R=>!A.includes(R)),N=A.length,V;x&&x.total?V={total:x.total,applied:x.total-k.length,failed:k.length,blocked:x.blocked||0}:V={total:v.length,applied:N,failed:k.length,blocked:0},localStorage.setItem(C,JSON.stringify(V));let j=fa(Rr({},P),{html:t,failedEdits:k,stats:V});this.goldenSubject.next(j),this.qa.saveGoldenToCache(e,j),this.updateVisualEditorButtonColor(j.failedEdits)}this.cdr.markForCheck()})}updateVariantInUI(e,t,n){let r=this.variantsSubject.value;if(r&&r.runId===e){let a=r.items.findIndex(s=>s.no===t);if(a!==-1){let s=[...r.items];s[a]=fa(Rr({},s[a]),{html:n});let c=fa(Rr({},r),{items:s});this.variantsSubject.next(c),this.qa.saveVariantsRun(this.templateId,c),this.cdr.markForCheck()}}}onEditOriginalTemplate(){if(!this.templateId||!this.templateHtml||this.templateLoading)return;let e=`visual_editor_${this.templateId}_return_flag`,t=`visual_editor_${this.templateId}_edited_html`,n=`visual_editor_${this.templateId}_progress`,r=`visual_editor_${this.templateId}_failed_edits`;localStorage.removeItem(e),localStorage.removeItem(t),localStorage.removeItem(n),localStorage.removeItem(r),sessionStorage.removeItem(r);let a=`visual_editor_${this.templateId}_editing_mode`;localStorage.setItem(a,"original"),this.templateState.initializeOriginalTemplate(this.templateId,this.templateHtml);let s=`visual_editor_${this.templateId}_use_variant_meta`;sessionStorage.removeItem(s),this.router.navigate(["/visual-editor",this.templateId])}onEditVariant(e,t,n){if(!this.templateId||!n?.html)return;let r=`visual_editor_${this.templateId}_return_flag`,a=`visual_editor_${this.templateId}_edited_html`,s=`visual_editor_${this.templateId}_progress`,c=`visual_editor_${this.templateId}_failed_edits`;localStorage.removeItem(r),localStorage.removeItem(a),localStorage.removeItem(s),localStorage.removeItem(c),sessionStorage.removeItem(c);let d=`visual_editor_${this.templateId}_editing_mode`;if(localStorage.setItem(d,"variant"),this.templateState.initializeVariantForEditing(this.templateId,e,t,n.html),n.failedEdits&&n.failedEdits.length>0){localStorage.setItem(c,JSON.stringify(n.failedEdits));let h=localStorage.getItem(c)}let p=localStorage.getItem(c),f=`visual_editor_${this.templateId}_use_variant_meta`;sessionStorage.removeItem(f),this.router.navigate(["/visual-editor",this.templateId])}onEditGoldenTemplate(){let e=this.goldenSubject.value?.html;if(!this.templateId||!e)return;let t=`visual_editor_${this.templateId}_return_flag`,n=`visual_editor_${this.templateId}_edited_html`,r=`visual_editor_${this.templateId}_progress`;localStorage.removeItem(t),localStorage.removeItem(n),localStorage.removeItem(r),this.templateState.initializeGoldenForEditing(this.templateId,e);let a=`visual_editor_${this.templateId}_use_variant_meta`;sessionStorage.removeItem(a),this.router.navigate(["/visual-editor",this.templateId])}hasFailedEdits(e){return e?.failedEdits&&e.failedEdits.length>0}getFailedEditsCount(e){return e?.failedEdits?.length||0}getEditTooltip(e){let t=this.getFailedEditsCount(e);return t>0?`${t} failed edit${t>1?"s":""} detected - open editor`:"Edit in Visual Editor"}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=Sn({type:o,selectors:[["app-qa-page"]],hostBindings:function(t,n){t&1&&rt("beforeunload",function(a){return n.handleBeforeUnload(a)},!1,jd)},standalone:!0,features:[En],decls:2,vars:3,consts:[["qaInfoMenu","matMenu"],["noGoldenYet",""],["class","qa-page-wrapper",4,"ngIf"],[1,"qa-page-wrapper"],[1,"page-background"],[1,"gradient-orb","orb-1"],[1,"gradient-orb","orb-2"],[1,"gradient-orb","orb-3"],[1,"qa-grid",2,"margin-top","2rem"],[1,"col","col-1","glass-card",2,"height","800px !important","min-height","800px !important","display","flex","flex-direction","column"],[1,"card-header"],["class","header-icon clickable-icon","matTooltip","Edit in Visual Editor","mat-icon-button","",3,"click",4,"ngIf"],["class","header-icon",4,"ngIf"],[1,"section-title"],[1,"title-underline"],["mat-icon-button","","class","skip-btn","matTooltip","Skip Golden & Variants Generation",3,"click",4,"ngIf"],[1,"card-content",2,"flex","1","overflow","hidden","min-height","0","display","flex","flex-direction","column"],[1,"template-preview-container",2,"flex","1","height","100%","min-height","500px","background","white","border-radius","8px","overflow","hidden"],[2,"flex","1","height","100%","min-height","500px",3,"html","loading","allowScripts"],[1,"col","col-2","glass-card",2,"height","800px !important","min-height","800px !important","display","flex","flex-direction","column"],[1,"card-header","sticky-header"],[1,"header-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"],["mat-icon-button","","matTooltip","Important Information",1,"qa-info-btn",3,"matMenuTriggerFor"],[1,"qa-info-menu"],[1,"qa-info-content",3,"click"],[1,"info-section"],[1,"info-note"],[1,"scrollable-content",2,"flex","1","overflow-y","auto","min-height","0"],[1,"actions-group"],["mat-raised-button","",1,"modern-btn","primary-btn",3,"click"],["class","btn-content",4,"ngIf"],["class","spinner-container",4,"ngIf"],["mat-raised-button","",1,"modern-btn","visual-editor-btn",3,"click"],[1,"btn-content"],[1,"btn-icon"],["d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"btn-text"],[1,"btn-shimmer"],["class","failed-edits-badge",4,"ngIf"],[1,"variants-action"],["mat-raised-button","",1,"modern-btn","accent-btn",3,"click","disabled"],[4,"ngIf"],[1,"col","col-3","glass-card",2,"height","800px !important","min-height","800px !important","display","flex","flex-direction","column","cursor","pointer",3,"click"],[1,"header-icon","golden-icon"],["d","M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"],[1,"title-underline","golden"],["mat-icon-button","","class","skip-btn","matTooltip","Bypass Variants - Use Golden Template",3,"click",4,"ngIf"],[1,"card-content","preview-content",2,"flex","1","overflow-y","auto","min-height","0","display","flex","flex-direction","column"],["class","golden-loading-state","style","flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2rem;",4,"ngIf"],["class","variants-section",4,"ngIf"],["class","visual-editor-modal",4,"ngIf"],["matTooltip","Edit in Visual Editor","mat-icon-button","",1,"header-icon","clickable-icon",3,"click"],["d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["mat-icon-button","","matTooltip","Skip Golden & Variants Generation",1,"skip-btn",3,"click"],["d","M13 17l5-5m0 0l-5-5m5 5H6"],["d","M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"],[1,"spinner-container"],[1,"modern-spinner"],[1,"btn-text-loading","cancel-text"],[1,"failed-edits-badge"],["d","M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"],[1,"btn-glow"],["class","info-panel stats-panel",4,"ngIf"],[1,"info-panel","stats-panel"],[1,"panel-header"],[1,"panel-icon"],["d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],["matTooltip","Toggle Performance Info",1,"debug-toggle-btn",3,"click"],[1,"stats-grid"],[1,"stat-card","total"],[1,"stat-icon"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","success"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["class","stat-card error",4,"ngIf"],["class","stat-card blocked",4,"ngIf"],["class","perfect-template-message",4,"ngIf"],["class","debug-section",4,"ngIf"],[1,"stat-card","error"],["d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-card","blocked"],["d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"],[1,"perfect-template-message"],[1,"perfect-icon"],[1,"debug-section"],[1,"debug-header"],[1,"timings-grid"],[1,"timing-item"],[1,"timing-label"],[1,"timing-value"],["class","info-panel edits-panel",4,"ngIf"],[1,"info-panel","edits-panel"],[1,"count-badge"],[1,"edits-list"],["class","edit-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"edit-item"],[1,"edit-context"],[1,"context-before"],[1,"edit-replace"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"arrow-icon"],["d","M13 7l5 5m0 0l-5 5m5-5H6"],["class","edit-reason",4,"ngIf"],[1,"edit-reason"],["class","info-panel suggestions-panel",4,"ngIf"],["class","loading-panel",4,"ngIf"],[1,"info-panel","suggestions-panel"],["class","suggestion-section",4,"ngIf"],[1,"suggestion-section"],[1,"section-subtitle"],["d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"suggestion-list"],["class","suggestion-item warning",4,"ngFor","ngForOf"],[1,"suggestion-item","warning"],[1,"warning-icon"],[1,"suggestion-content"],[1,"gibberish-text"],["class","suggestion-reason",4,"ngIf"],[1,"suggestion-reason"],["d","M13 10V3L4 14h7v7l9-11h-7z"],["class","suggestion-item success",4,"ngFor","ngForOf"],[1,"suggestion-item","success"],[1,"success-icon"],[1,"suggestion-text"],[1,"loading-panel"],[1,"loading-spinner"],["mat-icon-button","","matTooltip","Bypass Variants - Use Golden Template",1,"skip-btn",3,"click"],[1,"golden-loading-state",2,"flex","1","display","flex","flex-direction","column","justify-content","center","align-items","center","padding","2rem"],[1,"golden-loader"],[1,"golden-spinner"],[1,"spinner-ring"],[1,"golden-icon-container"],[1,"loading-text"],[4,"ngIf","ngIfElse"],["style","flex: 1; min-height: 0; height: 100%;",3,"html","loading","allowScripts",4,"ngIf","ngIfElse"],[2,"flex","1","min-height","0","height","100%",3,"html","loading","allowScripts"],[1,"empty-state","golden-empty",2,"flex","1","display","flex","flex-direction","column","justify-content","center","align-items","center","padding","2rem"],[1,"empty-icon-animated"],[1,"empty-hint"],["d","M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"],[1,"variants-section"],[1,"variants-header-main"],[1,"variants-title-group"],[1,"header-icon","variants-icon"],["d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"title-underline","variants"],["class","variants-progress",4,"ngIf"],[1,"variants-grid"],["class","variant-card glass-card",4,"ngFor","ngForOf","ngForTrackBy"],["class","variant-skeleton glass-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"variants-progress"],[1,"progress-text"],[1,"progress-bar-container"],[1,"progress-bar-fill"],["class","spinner-small",4,"ngIf"],[1,"spinner-small"],[1,"variant-card","glass-card"],[1,"variant-left"],[1,"variant-header"],[1,"variant-number"],[1,"variant-badge"],["d","M5 13l4 4L19 7"],[1,"variant-preview"],[3,"html","loading","allowScripts"],[1,"variant-actions"],["mat-raised-button","",1,"modern-btn","use-btn",3,"click"],[2,"display","flex","align-items","center","justify-content","center","gap","0.5rem"],[1,"variant-right"],[1,"info-panel","changes-panel"],["d","M8 7h12M8 12h12M8 17h12M3 7h.01M3 12h.01M3 17h.01"],[1,"variant-edit-btn",3,"click","matTooltip"],["class","edit-badge",4,"ngIf"],[1,"changes-list"],["class","change-item",4,"ngFor","ngForOf","ngForTrackBy"],["class","info-panel benefits-panel",4,"ngIf"],[1,"edit-badge"],[1,"change-item"],[1,"change-content"],[1,"change-before"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"change-arrow"],[1,"change-after"],["class","change-reason",4,"ngIf"],[1,"change-reason"],[1,"info-panel","benefits-panel"],[1,"benefits-list"],["class","benefit-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"benefit-item"],[1,"benefit-icon"],[1,"variant-skeleton","glass-card"],[1,"skeleton-content"],[1,"skeleton-header"],[1,"skeleton-title"],[1,"skeleton-badge"],[1,"skeleton-preview"],[1,"skeleton-lines"],[1,"skeleton-line"],[1,"skeleton-line","short"],[1,"skeleton-button"],[1,"visual-editor-modal"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],["class","modal-header",4,"ngIf"],[1,"modal-body"],[1,"modal-footer"],["mat-button","",3,"click"],["mat-raised-button","","class","primary",3,"click",4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["mat-icon-button","",1,"modal-close-btn",3,"click"],["class","failed-count-badge",4,"ngIf"],[1,"failed-count-badge"],[1,"info-state"],[1,"action-hint"],[1,"modal-message"],[1,"failed-edits-preview"],[1,"failed-edits-list"],["class","failed-edit-item",4,"ngFor","ngForOf"],[1,"failed-edit-item"],[1,"status-badge"],[1,"edit-preview"],[1,"preview-find"],[1,"arrow-icon"],[1,"preview-replace"],["class","manual-fix-guidance",4,"ngIf"],["class","debug-info",4,"ngIf"],[1,"manual-fix-guidance"],[1,"guidance-icon"],[1,"guidance-content"],["class","search-hints",4,"ngIf"],["class","affected-elements",4,"ngIf"],[1,"search-hints"],[4,"ngFor","ngForOf"],[1,"affected-elements"],[1,"element-chain"],["class","chain-arrow",4,"ngIf"],[1,"chain-arrow"],[1,"debug-info"],["mat-button","",1,"debug-toggle",3,"click"],[1,"debug-details"],[1,"debug-row"],[1,"success-state"],["mat-raised-button","",1,"primary",3,"click"]],template:function(t,n){t&1&&(tt(0,w5,83,50,"div",2),sn(1,"async")),t&2&&Ce("ngIf",dn(1,1,n.id$))},dependencies:[qn,ya,xi,ba,t0,Wi,Xr,_o,n0,qi,Ki,yo,Js,Zs,Ma,Oa,Pa],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-height:100vh}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]     .card-content, [_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem!important;margin:0!important}[_nghost-%COMP%]     .scrollable-content, [_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem!important;margin:0!important}[_nghost-%COMP%]{--primary-purple: #6d28d9;--primary-purple-dark: #5b21b6;--accent-pink: #ec4899;--accent-blue: #3b82f6;--success-green: #10b981;--warning-orange: #f59e0b;--error-red: #ef4444;--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--gradient-golden: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);--glass-white: rgba(255, 255, 255, .9);--glass-border: rgba(255, 255, 255, .3);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .08);--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px;--transition-fast: .2s cubic-bezier(.4, 0, .2, 1);--transition-normal: .3s cubic-bezier(.4, 0, .2, 1);--transition-smooth: .4s cubic-bezier(.4, 0, .2, 1);display:block;min-height:100vh}.qa-page-wrapper[_ngcontent-%COMP%]{position:relative;min-height:100vh;padding:0 .8rem .5rem;overflow:hidden}.page-background[_ngcontent-%COMP%]{position:fixed;inset:64px 0 0;z-index:0;background:linear-gradient(135deg,#f8fafc,#e2e8f0);pointer-events:none}.page-background[_ngcontent-%COMP%]   .gradient-orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.4;animation:_ngcontent-%COMP%_float-orb 20s ease-in-out infinite}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-1[_ngcontent-%COMP%]{width:400px;height:400px;background:radial-gradient(circle,rgba(139,92,246,.4) 0%,transparent 70%);top:-100px;left:-100px;animation-delay:0s}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-2[_ngcontent-%COMP%]{width:500px;height:500px;background:radial-gradient(circle,rgba(236,72,153,.3) 0%,transparent 70%);top:40%;right:-150px;animation-delay:-7s}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-3[_ngcontent-%COMP%]{width:450px;height:450px;background:radial-gradient(circle,rgba(59,130,246,.35) 0%,transparent 70%);bottom:-100px;left:30%;animation-delay:-14s}.qa-grid[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:1fr 400px 1fr;gap:1.5rem;margin-bottom:2rem;margin-top:.2rem!important;align-items:start}.glass-card[_ngcontent-%COMP%]{background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:var(--glass-shadow);overflow:hidden;transition:all var(--transition-smooth);display:flex;flex-direction:column;height:fit-content}.glass-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 48px #0000001f}.col[_ngcontent-%COMP%]{min-height:0;display:flex;flex-direction:column}.col.col-2[_ngcontent-%COMP%]{position:relative;max-height:calc(100vh - 4rem);display:flex;flex-direction:column}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1.5rem;background:linear-gradient(135deg,#6d28d90d,#ec48990d);border-bottom:1px solid rgba(0,0,0,.05);position:relative;overflow:hidden;min-height:88px;flex-shrink:0}.card-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 3s infinite;will-change:transform}.card-header.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--gradient-primary);border-radius:var(--radius-md);box-shadow:0 4px 12px #6d28d94d;flex-shrink:0}.card-header[_ngcontent-%COMP%]   .header-icon.golden-icon[_ngcontent-%COMP%]{background:var(--gradient-golden);box-shadow:0 4px 12px #f59e0b4d}.card-header[_ngcontent-%COMP%]   .header-icon.variants-icon[_ngcontent-%COMP%]{background:var(--gradient-accent);box-shadow:0 4px 12px #ec48994d}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#fff;stroke-width:2.5}.card-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1.25rem;font-weight:700;background:linear-gradient(135deg,#1f2937 0%,var(--primary-purple) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em}.card-header[_ngcontent-%COMP%]   .title-underline[_ngcontent-%COMP%]{position:absolute;bottom:0;left:1.5rem;right:1.5rem;height:3px;background:var(--gradient-primary);border-radius:3px;transform:scaleX(0);transform-origin:left;animation:_ngcontent-%COMP%_expand-line .6s ease forwards;animation-delay:.2s}.card-header[_ngcontent-%COMP%]   .title-underline.golden[_ngcontent-%COMP%]{background:var(--gradient-golden)}.card-header[_ngcontent-%COMP%]   .title-underline.variants[_ngcontent-%COMP%]{background:var(--gradient-accent)}.card-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem;flex:1;min-height:0}.scrollable-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:0 1.5rem 1.5rem;min-height:0}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000008;border-radius:4px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6d28d94d;border-radius:4px;transition:background var(--transition-fast)}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6d28d980}.modern-btn[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;padding:.875rem 1.5rem;transition:all var(--transition-normal);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.625rem;min-height:48px}.modern-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modern-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .modern-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;position:relative;z-index:2}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5;transition:transform var(--transition-normal)}.modern-btn[_ngcontent-%COMP%]   .btn-shimmer[_ngcontent-%COMP%], .modern-btn[_ngcontent-%COMP%]   .btn-glow[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;transition:opacity var(--transition-normal)}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-shimmer[_ngcontent-%COMP%]{opacity:1;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer-btn 1.5s infinite}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-glow[_ngcontent-%COMP%]{opacity:.5}.modern-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.modern-btn.loading[_ngcontent-%COMP%]{pointer-events:none}.modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 16px #6d28d94d}.modern-btn.primary-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #6d28d966}.modern-btn.secondary-btn[_ngcontent-%COMP%]{background:#fff;color:var(--primary-purple);border:2px solid var(--primary-purple);box-shadow:0 2px 8px #6d28d91a}.modern-btn.secondary-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#6d28d90d,#ec48990d);box-shadow:0 6px 20px #6d28d933}.modern-btn.accent-btn[_ngcontent-%COMP%]{background:var(--gradient-accent);color:#fff;box-shadow:0 4px 16px #ec48994d}.modern-btn.accent-btn[_ngcontent-%COMP%]   .btn-glow[_ngcontent-%COMP%]{background:radial-gradient(circle,rgba(255,255,255,.4) 0%,transparent 70%);filter:blur(10px)}.modern-btn.accent-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #ec489966}.modern-btn.use-btn[_ngcontent-%COMP%]{background:var(--gradient-success);color:#fff;box-shadow:0 4px 12px #10b9814d;width:100%}.modern-btn.use-btn[_ngcontent-%COMP%]     .mat-button-wrapper{display:flex!important;flex-direction:row!important;align-items:center!important;justify-content:center!important;gap:.5rem!important}.modern-btn.use-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5;flex-shrink:0;margin:0!important}.modern-btn.use-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #10b98166}.modern-btn.use-btn[_ngcontent-%COMP%]:hover:not(:disabled)   svg[_ngcontent-%COMP%]{transform:scale(1.15)}.modern-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.spinner-small[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(109,40,217,.3);border-top-color:var(--primary-purple);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.btn-text-loading[_ngcontent-%COMP%]{font-size:.875rem}.actions-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1rem}.variants-action[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:2px dashed rgba(0,0,0,.06)}.info-panel[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:var(--radius-lg);padding:1.25rem;margin-top:22px;box-shadow:0 2px 12px #0000000a;transition:all var(--transition-normal)}.info-panel[_ngcontent-%COMP%]:hover{box-shadow:0 4px 20px #00000014;transform:translateY(-2px)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:2px solid rgba(0,0,0,.05)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .panel-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#6d28d91a,#ec48991a);border-radius:var(--radius-sm)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .panel-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--primary-purple);stroke-width:2.5}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1rem;font-weight:700;color:#1f2937}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;font-size:.75rem;font-weight:700;padding:.25rem .625rem;border-radius:12px;box-shadow:0 2px 8px #6d28d933}.subjects-panel[_ngcontent-%COMP%]   .chip-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.625rem}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:linear-gradient(135deg,#6d28d914,#ec489914);border:1px solid rgba(109,40,217,.2);padding:.5rem 1rem;border-radius:20px;font-size:.875rem;font-weight:600;color:#4c1d95;transition:all var(--transition-normal);cursor:default}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]   .chip-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:var(--gradient-primary);border-radius:50%;box-shadow:0 0 8px #6d28d980;animation:_ngcontent-%COMP%_pulse-dot 2s infinite}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6d28d926,#ec489926);transform:translateY(-2px);box-shadow:0 4px 12px #6d28d933}.edits-panel[_ngcontent-%COMP%]   .edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]{padding:1rem 0;border-top:1px dashed rgba(0,0,0,.08)}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]:first-child{border-top:none;padding-top:0}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;line-height:1.6;margin-bottom:.5rem;padding:.625rem .875rem;background:linear-gradient(135deg,#ef44440d,#dc26260d);border-radius:var(--radius-sm);overflow-x:auto;border-left:3px solid rgba(239,68,68,.4)}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;padding:0}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-before[_ngcontent-%COMP%]{color:#dc2626;font-weight:600;opacity:1}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-after[_ngcontent-%COMP%]{opacity:.5}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-find[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);padding:.125rem .375rem;border-radius:4px;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:.625rem 0;padding:.625rem .875rem;background:linear-gradient(135deg,#10b98114,#05966914);border-radius:var(--radius-sm);font-weight:600;color:#065f46;border-left:3px solid rgba(16,185,129,.5)}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--success-green);stroke-width:2.5;flex-shrink:0}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#059669;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-reason[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;font-style:italic}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-section[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px dashed rgba(0,0,0,.06)}.suggestions-panel[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 .875rem;font-size:.9375rem;font-weight:700;color:#374151}.suggestions-panel[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2.5}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.875rem;margin-bottom:.5rem;border-radius:var(--radius-md);transition:all var(--transition-normal)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b14,#fbbf2414);border:1px solid rgba(245,158,11,.2)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--gradient-golden);color:#fff;border-radius:50%;font-size:.875rem;font-weight:700;flex-shrink:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f59e0b1f,#fbbf241f);transform:translate(4px)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98114,#05966914);border:1px solid rgba(16,185,129,.2)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--gradient-success);color:#fff;border-radius:50%;font-size:.875rem;font-weight:700;flex-shrink:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#10b9811f,#0596691f);transform:translate(4px)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-content[_ngcontent-%COMP%]{flex:1}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .gibberish-text[_ngcontent-%COMP%]{display:block;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;background:#0000000d;padding:.375rem .625rem;border-radius:var(--radius-sm);margin-bottom:.375rem}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-reason[_ngcontent-%COMP%], .suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-text[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.6;color:#374151}.loading-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:2rem;background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px dashed rgba(109,40,217,.2);border-radius:var(--radius-lg);font-size:.9375rem;font-weight:600;color:#6b7280}.loading-panel[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid rgba(109,40,217,.2);border-top-color:var(--primary-purple);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;display:flex;align-items:center;justify-content:center;background:var(--gradient-golden);border-radius:50%;margin-bottom:1.5rem;box-shadow:0 8px 24px #f59e0b4d;animation:_ngcontent-%COMP%_float-icon 3s ease-in-out infinite}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:#fff;stroke-width:2}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;color:#1f2937}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#6b7280;line-height:1.6}.empty-state.golden-empty[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b08,#fbbf240d);border-radius:12px}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;align-items:center;justify-content:center;background:var(--gradient-golden);border-radius:50%;margin-bottom:2rem;box-shadow:0 12px 32px #f59e0b4d;animation:_ngcontent-%COMP%_pulse-glow 2s ease-in-out infinite;position:relative}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-4px;border-radius:50%;background:var(--gradient-golden);opacity:.3;filter:blur(8px);animation:_ngcontent-%COMP%_pulse-ring 2s ease-in-out infinite}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px;color:#fff;stroke-width:2;position:relative;z-index:1;animation:_ngcontent-%COMP%_sparkle-rotate 4s linear infinite}.empty-state.golden-empty[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.375rem;margin-bottom:.75rem}.empty-state.golden-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:380px;font-size:1rem;margin-bottom:2rem}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;background:#f59e0b1a;border:1px solid rgba(245,158,11,.2);border-radius:10px;max-width:420px}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#f59e0b;flex-shrink:0}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#92400e;text-align:left;line-height:1.5}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{transform:scale(1);box-shadow:0 12px 32px #f59e0b4d}50%{transform:scale(1.05);box-shadow:0 16px 40px #f59e0b66}}@keyframes _ngcontent-%COMP%_pulse-ring{0%,to{transform:scale(1);opacity:.3}50%{transform:scale(1.1);opacity:.1}}@keyframes _ngcontent-%COMP%_sparkle-rotate{0%,to{transform:rotate(0)}25%{transform:rotate(-10deg)}75%{transform:rotate(10deg)}}.variants-section[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:2rem}.variants-header-main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:var(--glass-shadow);margin-bottom:1.5rem}.variants-header-main[_ngcontent-%COMP%]   .variants-title-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1;position:relative}.variants-header-main[_ngcontent-%COMP%]   .variants-title-group[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:700;color:var(--primary-purple)}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:120px;height:8px;background:#6d28d91a;border-radius:4px;overflow:hidden}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar-fill[_ngcontent-%COMP%]{height:100%;background:var(--gradient-accent);border-radius:4px;transition:width var(--transition-smooth);box-shadow:0 0 10px #ec489980}.variants-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;grid-template-columns:1fr;align-items:stretch}.variant-card[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:1fr 420px!important;gap:1.5rem!important;padding:1.5rem!important;min-height:600px!important;align-items:start!important}.variant-left[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:100%!important;gap:1rem!important;justify-content:space-between!important}.variant-right[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:100%!important;gap:1rem!important}.variant-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-bottom:1rem;border-bottom:2px solid rgba(0,0,0,.05);flex-shrink:0!important;flex-wrap:nowrap!important}.variant-header[_ngcontent-%COMP%]   .variant-number[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;background:var(--gradient-accent);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;white-space:nowrap;flex-shrink:0}.variant-header[_ngcontent-%COMP%]   .variant-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .875rem;background:linear-gradient(135deg,#10b9811a,#0596691a);border:1px solid rgba(16,185,129,.3);border-radius:20px;font-size:.8125rem;font-weight:700;color:#065f46;white-space:nowrap;flex-shrink:0}.variant-header[_ngcontent-%COMP%]   .variant-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;stroke-width:3}.variant-preview[_ngcontent-%COMP%]{flex:1!important;min-height:350px!important;max-height:450px!important;background:#fff;border:2px solid rgba(0,0,0,.06);border-radius:var(--radius-lg);overflow:hidden}.variant-actions[_ngcontent-%COMP%]{flex-shrink:0!important;display:flex;justify-content:flex-end;gap:.75rem;margin-top:auto!important}.variant-actions[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5}.variant-right[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]{flex:1!important;min-height:200px!important;max-height:250px!important;overflow-y:auto!important;margin-top:0}.variant-right[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.changes-panel[_ngcontent-%COMP%]   .changes-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.changes-panel[_ngcontent-%COMP%]   .change-item[_ngcontent-%COMP%]{padding:.875rem 0;border-top:1px dashed rgba(0,0,0,.08)}.changes-panel[_ngcontent-%COMP%]   .change-item[_ngcontent-%COMP%]:first-child{border-top:none;padding-top:0}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;margin-bottom:.5rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.625rem;background:#00000005;border-radius:var(--radius-sm);flex-wrap:wrap}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;padding:0}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-before[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a);padding:.25rem .5rem;border-radius:4px;color:#991b1b;font-weight:600}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-after[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#0596691a);padding:.25rem .5rem;border-radius:4px;color:#065f46;font-weight:600}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-arrow[_ngcontent-%COMP%]{width:16px;height:16px;color:#9ca3af;flex-shrink:0}.changes-panel[_ngcontent-%COMP%]   .change-reason[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;font-style:italic}.benefits-panel[_ngcontent-%COMP%]{flex:1!important;display:flex!important;flex-direction:column!important}.benefits-panel[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;flex:1;display:flex!important;flex-direction:column!important;justify-content:flex-start!important}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.75rem;margin-bottom:.5rem;background:linear-gradient(135deg,#10b9810d,#0596690d);border-radius:var(--radius-md);font-size:.875rem;line-height:1.6;color:#374151;transition:all var(--transition-normal)}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:var(--gradient-success);color:#fff;border-radius:50%;font-size:.75rem;font-weight:700;flex-shrink:0}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#10b9811a,#0596691a)}.benefits-panel[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]{height:100%!important;display:flex!important;flex-direction:column!important;justify-content:flex-start!important}.variants-grid[_ngcontent-%COMP%] > .variant-card[_ngcontent-%COMP%]{height:auto!important;min-height:600px!important}.variant-skeleton[_ngcontent-%COMP%]{padding:1.5rem;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite;min-height:300px;contain:layout style paint;will-change:opacity,transform}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%], .variant-skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%], .variant-skeleton[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-shimmer 1.5s infinite;border-radius:6px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{height:20px;width:120px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:24px;width:60px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-preview[_ngcontent-%COMP%]{height:200px;background:#f8f8f8;border-radius:8px;display:flex;align-items:center;justify-content:center}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-lines[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:80%}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{height:12px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-shimmer 1.5s infinite;border-radius:6px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-line.short[_ngcontent-%COMP%]{width:60%}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{height:40px;width:100%;margin-top:1rem}@keyframes _ngcontent-%COMP%_float-orb{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-30px,-30px) rotate(120deg)}66%{transform:translate(30px,30px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(200%)}}@keyframes _ngcontent-%COMP%_shimmer-btn{0%{transform:translate(-100%)}to{transform:translate(200%)}}@keyframes _ngcontent-%COMP%_expand-line{0%{transform:scaleX(0)}to{transform:scaleX(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-dot{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}}@keyframes _ngcontent-%COMP%_float-icon{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_skeleton-shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.col-1[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%]{height:800px!important;min-height:800px!important;display:flex!important;flex-direction:column!important;overflow:hidden!important}.col-1[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-shrink:0!important;min-height:88px!important}.col-1[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1!important;overflow-y:auto!important;min-height:0!important;scrollbar-gutter:stable}[_nghost-%COMP%]     app-template-preview iframe, [_nghost-%COMP%]     app-html-preview iframe{height:700px!important;min-height:600px!important;width:100%!important}[_nghost-%COMP%]     app-template-preview .preview-container, [_nghost-%COMP%]     app-html-preview .preview-container, [_nghost-%COMP%]     app-template-preview .iframe-wrapper, [_nghost-%COMP%]     app-html-preview .iframe-wrapper{height:700px!important;min-height:600px!important;flex:1!important;display:flex!important;flex-direction:column!important}[_nghost-%COMP%]     .preview-root{height:700px!important;min-height:600px!important}[_nghost-%COMP%]     app-template-preview, [_nghost-%COMP%]     app-html-preview{margin-top:5px!important}[_nghost-%COMP%]     app-template-preview>*, [_nghost-%COMP%]     app-html-preview>*{margin-top:5px!important}[_nghost-%COMP%]     .preview-container, [_nghost-%COMP%]     .preview-root{margin-top:5px!important}[_nghost-%COMP%]   .col-2[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{margin-top:5px!important}[_nghost-%COMP%]   .col-2[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]{margin-top:5px!important}.col-2[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%], .variants-action[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{width:100%!important}.modern-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{justify-content:center!important;align-items:center!important;text-align:center!important;width:100%!important}.btn-text-loading[_ngcontent-%COMP%]{text-align:center!important;margin:0 auto!important}.modern-btn.loading[_ngcontent-%COMP%]{pointer-events:auto!important;cursor:pointer!important;opacity:1!important}.modern-btn[_ngcontent-%COMP%]:not(.loading)[disabled]{opacity:.6;cursor:not-allowed;pointer-events:none}@media (max-width: 1400px){.qa-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 360px 1fr}.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 380px}}@media (max-width: 1200px){.qa-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.25rem}.col.col-2[_ngcontent-%COMP%]{max-height:none}.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr}.variants-header-main[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.qa-grid[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%] > .glass-card[_ngcontent-%COMP%]{height:auto!important}}@media (max-width: 768px){.qa-page-wrapper[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{padding:1rem}.card-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:36px;height:36px}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.modern-btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem 1.25rem}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.variants-header-main[_ngcontent-%COMP%]{padding:1rem}.variants-header-main[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem!important}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media print{.page-background[_ngcontent-%COMP%], .btn-shimmer[_ngcontent-%COMP%], .btn-glow[_ngcontent-%COMP%], .title-underline[_ngcontent-%COMP%]{display:none!important}.glass-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #ddd}}@media (max-width: 1400px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 380px!important}}@media (max-width: 1199px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 340px!important}}@media (max-width: 991px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 280px!important}}@media (max-width: 768px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:1rem!important;min-height:auto!important}.variant-left[_ngcontent-%COMP%]{justify-content:flex-start!important}.variants-header-main[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:1rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]{width:33%;justify-content:space-between}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{flex:1;max-width:200px;margin:0 1rem}}@media (max-width: 480px){.variant-card[_ngcontent-%COMP%]{padding:1rem!important}.variant-header[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:.5rem}.variant-actions[_ngcontent-%COMP%]{justify-content:stretch}.variant-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{flex:1}.variants-progress[_ngcontent-%COMP%]{flex-direction:column!important;gap:.75rem!important}.variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:100%!important;max-width:none!important;margin:0!important}}.golden-loading-state[_ngcontent-%COMP%]   .golden-loader[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{position:absolute;border:3px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_golden-spin 2s linear infinite}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(1){width:80px;height:80px;border-top-color:#fbbf24;border-right-color:#fbbf24;animation-delay:0s}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(2){width:60px;height:60px;top:10px;left:10px;border-top-color:#f59e0b;border-left-color:#f59e0b;animation-delay:-.4s;animation-direction:reverse}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(3){width:40px;height:40px;top:20px;left:20px;border-top-color:#d97706;border-bottom-color:#d97706;animation-delay:-.8s}.golden-loading-state[_ngcontent-%COMP%]   .golden-icon-container[_ngcontent-%COMP%]{position:absolute;top:24px;left:24px;width:32px;height:32px;background:var(--gradient-golden);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #f59e0b66;z-index:10}.golden-loading-state[_ngcontent-%COMP%]   .golden-icon-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#fff;animation:_ngcontent-%COMP%_float-icon 2s ease-in-out infinite}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{text-align:center}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;background:var(--gradient-golden);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#6b7280;line-height:1.6}@keyframes _ngcontent-%COMP%_golden-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;align-items:center!important;width:100%!important;padding:0!important;margin:0!important}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{margin-right:.5rem!important}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .btn-text-loading[_ngcontent-%COMP%]{text-align:center!important;padding:0!important;margin:0!important}.accent-btn[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]{color:#fff!important;font-weight:600!important;text-shadow:0 1px 2px rgba(0,0,0,.1)!important}.accent-btn[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]:hover{color:#fff!important;text-shadow:0 1px 3px rgba(0,0,0,.2)!important}.secondary-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{justify-content:center!important;text-align:center!important}.secondary-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .btn-text-loading[_ngcontent-%COMP%]{text-align:center!important}.spinner-container[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important;gap:.625rem!important}.spinner-container[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%], .spinner-container[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]{flex-shrink:0}.secondary-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{border-color:#6d28d933!important;border-top-color:var(--primary-purple)!important}.primary-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%], .accent-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{border-color:#ffffff4d!important;border-top-color:#fff!important}  .error-snackbar{background-color:#ef4444!important;color:#fff!important;font-weight:600!important}  .error-snackbar .mat-simple-snackbar-action{color:#fff!important}  .success-snackbar{background-color:#10b981!important;color:#fff!important;font-weight:600!important}  .success-snackbar .mat-simple-snackbar-action{color:#fff!important}  .warning-snackbar{background-color:#f59e0b!important;color:#fff!important;font-weight:600!important}  .warning-snackbar .mat-simple-snackbar-action{color:#fff!important}  .info-snackbar{background-color:#3b82f6!important;color:#fff!important;font-weight:600!important}  .info-snackbar .mat-simple-snackbar-action{color:#fff!important}.cancel-text[_ngcontent-%COMP%]{color:#fff!important;cursor:pointer!important;font-weight:600!important;text-decoration:none!important;transition:color .15s ease!important}.cancel-text[_ngcontent-%COMP%]:hover{color:#fffc!important}.cancel-text[_ngcontent-%COMP%]:active{transform:scale(.98)}.skip-btn[_ngcontent-%COMP%]{margin-left:auto;width:44px;height:44px;background:var(--gradient-accent);color:#fff;border-radius:var(--radius-md);box-shadow:0 4px 12px #ec48994d;transition:all var(--transition-normal)}.skip-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5}.skip-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #ec489966;transform:translateY(-2px)}.skip-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1) translate(2px)}.skip-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}  .editable-preview-container ::selection{background:#6d28d94d;color:inherit}  .editable-preview-container ::-moz-selection{background:#6d28d94d;color:inherit}.editor-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px dashed rgba(109,40,217,.2);border-radius:var(--radius-lg)}.editor-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:64px;height:64px;color:var(--primary-purple);opacity:.5;margin-bottom:1rem;stroke-width:1.5}.editor-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:#6b7280}.edit-modal-footer[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]:active{animation:save-success .3s ease}.qa-info-btn[_ngcontent-%COMP%]{margin-left:auto;color:#6d28d9}.qa-info-btn[_ngcontent-%COMP%]:hover{background-color:#6d28d91a}  .qa-info-menu .mat-mdc-menu-panel{max-width:450px!important;border-radius:12px}.qa-info-content[_ngcontent-%COMP%]{padding:20px;max-width:430px}.qa-info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:600;color:#f59e0b}.qa-info-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{margin-bottom:14px}.qa-info-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:#475569}.qa-info-content[_ngcontent-%COMP%]   .info-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:16px;padding:12px;background:#fef3c7;border-radius:6px;font-size:13px;font-weight:500;color:#78350f}.qa-info-content[_ngcontent-%COMP%]   .info-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#f59e0b}@media (max-width: 768px){  .qa-info-menu .mat-mdc-menu-panel{max-width:calc(100vw - 32px)!important}.qa-info-content[_ngcontent-%COMP%]{max-width:100%;padding:16px}}.stats-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px solid rgba(109,40,217,.15)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto;width:36px;height:36px;min-width:36px;padding:0!important;border:2px solid rgba(109,40,217,.2);outline:none;cursor:pointer;color:#6b7280;background:transparent;border-radius:8px;transition:all var(--transition-normal);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;position:relative;z-index:1;transition:color .2s ease}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:6px;background:var(--gradient-primary);transform:scale(0);transition:transform .2s ease}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active:before{transform:scale(1)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active   mat-icon[_ngcontent-%COMP%]{color:#fff}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn.active[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;border-color:transparent}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:focus{outline:none;border-color:#6d28d966}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;margin-top:1rem}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:1rem;background:#fff;border:2px solid rgba(0,0,0,.06);border-radius:var(--radius-md);transition:all var(--transition-normal)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000014}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;line-height:1;letter-spacing:-.02em}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;opacity:.7}.stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d91a,#ec48991a)}.stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--primary-purple)}.stat-card.total[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--primary-purple)}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#0596691a)}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--success-green)}.stat-card.success[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--success-green)}.stat-card.error[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a)}.stat-card.error[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-red)}.stat-card.error[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--error-red)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#fbbf241a)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--warning-orange)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--warning-orange)}.perfect-template-message[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#10b98114,#05966914);border:2px solid rgba(16,185,129,.3);border-radius:12px;text-align:center}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#10b981,#059669);border-radius:50%;box-shadow:0 8px 24px #10b9814d;animation:_ngcontent-%COMP%_perfect-pulse 2s ease-in-out infinite}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;color:#fff;stroke-width:3}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;color:#065f46}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#047857;font-weight:500}@keyframes _ngcontent-%COMP%_perfect-pulse{0%,to{transform:scale(1);box-shadow:0 8px 24px #10b9814d}50%{transform:scale(1.05);box-shadow:0 12px 32px #10b98166}}.debug-section[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#00000005;border:1px dashed rgba(0,0,0,.1);border-radius:var(--radius-sm)}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-size:.875rem;font-weight:700;color:#374151}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--primary-purple)}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem .75rem;background:#fff;border-radius:6px;font-size:.8125rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%]{font-weight:600;color:#6b7280}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-purple);font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace}.failed-edits-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444408,#dc262608);border:2px solid rgba(239,68,68,.2)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-red)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .count-badge.error[_ngcontent-%COMP%]{background:var(--gradient-accent)}.failed-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1rem}.failed-edit-item[_ngcontent-%COMP%]{padding:1.25rem;background:#fff;border:2px solid rgba(239,68,68,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.failed-edit-item[_ngcontent-%COMP%]:hover{border-color:#ef44444d;box-shadow:0 4px 16px #ef44441a;transform:translate(4px)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.8125rem;font-weight:700;margin-bottom:1rem}.status-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.status-badge.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98126,#05966926);border:1px solid rgba(16,185,129,.3);color:#065f46}.status-badge.error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444426,#dc262626);border:1px solid rgba(239,68,68,.3);color:#991b1b}.status-badge.warn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b26,#fbbf2426);border:1px solid rgba(245,158,11,.3);color:#78350f}.status-badge.disabled[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9ca3af26,#6b728026);border:1px solid rgba(156,163,175,.3);color:#4b5563}.status-badge.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f626,#2563eb26);border:1px solid rgba(59,130,246,.3);color:#1e40af}.failed-edit-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.875rem}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;flex-wrap:wrap;padding:.875rem;background:#00000005;border-radius:var(--radius-sm)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#6b7280;flex-shrink:0}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;padding:.375rem .625rem;border-radius:6px;font-weight:600}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .text-find[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444426,#dc262626);color:#991b1b;border:1px solid rgba(239,68,68,.2)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .text-replace[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98126,#05966926);color:#065f46;border:1px solid rgba(16,185,129,.2)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .arrow-mini[_ngcontent-%COMP%]{width:16px;height:16px;color:#9ca3af;flex-shrink:0}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%], .failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.625rem;padding:.875rem;border-radius:var(--radius-sm);font-size:.875rem;line-height:1.6}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;flex-shrink:0;margin-top:2px}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444414,#dc262614);border:1px solid rgba(239,68,68,.2);color:#991b1b}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:var(--error-red)}.failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b14,#fbbf2414);border:1px solid rgba(245,158,11,.2);color:#78350f}.failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   .bulb-icon[_ngcontent-%COMP%]{color:var(--warning-orange)}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]{padding:.875rem;background:#00000005;border:1px dashed rgba(0,0,0,.1);border-radius:var(--radius-sm);font-size:.8125rem}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#6b7280;margin-bottom:.5rem}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;display:block;background:#fff;padding:.625rem;border-radius:6px;line-height:1.6;word-break:break-word}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]   .dim[_ngcontent-%COMP%]{opacity:.5}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);padding:.125rem .375rem;border-radius:4px;font-weight:600}.diagnostics-section[_ngcontent-%COMP%]{margin-top:.875rem;padding:1rem;background:linear-gradient(135deg,#6d28d908,#ec489908);border:1px dashed rgba(109,40,217,.2);border-radius:var(--radius-sm)}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-size:.875rem;font-weight:700;color:#374151}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--primary-purple)}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.625rem;background:#fff;border-radius:6px}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]   .diag-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.03em}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]   .diag-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:var(--primary-purple);font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.timings-grid[_ngcontent-%COMP%], .diagnostics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.edit-text[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important}.perfect-template-message[_ngcontent-%COMP%]{padding:1.25rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:50px;height:50px}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stat-card[_ngcontent-%COMP%]{padding:.875rem}.perfect-template-message[_ngcontent-%COMP%]{padding:1rem;margin-top:1rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-bottom:.75rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.375rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.debug-section[_ngcontent-%COMP%]{padding:.875rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.625rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{gap:.375rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{padding:.5rem .625rem;font-size:.75rem;min-width:0}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%], .debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-size:.75rem;white-space:nowrap}}@media (max-height: 600px) and (orientation: landscape){.perfect-template-message[_ngcontent-%COMP%]{padding:.875rem;margin-top:1rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-bottom:.5rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9375rem;margin-bottom:.25rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.debug-section[_ngcontent-%COMP%]{padding:.75rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.5rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{gap:.375rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{padding:.375rem .5rem;font-size:.75rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%], .debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-size:.6875rem}}.visual-editor-btn[_ngcontent-%COMP%]{position:relative;transition:all var(--transition-normal);width:100%!important}.visual-editor-btn.orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)!important;color:#fff!important;box-shadow:0 4px 16px #f59e0b4d}.visual-editor-btn.orange[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #f59e0b66;transform:translateY(-2px)}.visual-editor-btn.red[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)!important;color:#fff!important;box-shadow:0 4px 16px #ef44444d}.visual-editor-btn.red[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #ef444466;transform:translateY(-2px)}.visual-editor-btn.green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;box-shadow:0 4px 16px #10b9814d}.visual-editor-btn.green[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #10b98166;transform:translateY(-2px)}.visual-editor-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{position:absolute!important;inset:50% -100px auto auto!important;transform:translateY(-50%)!important;min-width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:#ffffff40;color:#fff;font-size:.75rem;font-weight:700;border-radius:12px;padding:0 8px;box-shadow:none;border:none;z-index:10;flex-shrink:0}@media (max-width: 1024px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-80px!important}}@media (max-width: 768px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-60px!important}}@media (max-width: 480px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-40px!important}}@keyframes _ngcontent-%COMP%_pulse-red{0%,to{box-shadow:0 4px 16px #ef44444d}50%{box-shadow:0 8px 32px #ef444499}}.shake-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_violent-shake 1s cubic-bezier(.36,.07,.19,.97)!important;animation-iteration-count:1!important}@keyframes _ngcontent-%COMP%_violent-shake{0%,to{transform:translate(0) rotate(0)}10%,30%,50%,70%,90%{transform:translate(-10px) rotate(-1deg)}20%,40%,60%,80%{transform:translate(10px) rotate(1deg)}}.visual-editor-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;padding:2rem;animation:none!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);cursor:pointer;animation:none!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{position:relative;z-index:10000;width:100%;max-width:800px;max-height:80vh;background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:0 20px 60px #0000004d;display:flex;flex-direction:column;overflow:hidden}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1.5rem 2rem;border-bottom:1px solid rgba(0,0,0,.08);flex-shrink:0;position:relative}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1f2937;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .failed-count-badge[_ngcontent-%COMP%]{position:static;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;font-size:.875rem;font-weight:700;padding:.25rem .75rem;border-radius:12px;box-shadow:0 2px 8px #ef44444d;margin-left:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]{color:#6b7280;flex-shrink:0;order:3!important;margin-left:auto}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#0000000d;color:#1f2937}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.info-state)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b0d,#fbbf240d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.info-state)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44440d,#dc26260d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--error-red)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#ef44441a;color:var(--error-red)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9810d,#0596690d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--success-green)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#10b9811a;color:var(--success-green)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0;max-height:60vh;min-height:0;display:flex;flex-direction:column}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]:has(.info-state), .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]:has(.success-state){overflow-y:hidden}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000008;border-radius:4px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6d28d94d;border-radius:4px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6d28d980}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1.25rem;background:linear-gradient(135deg,#3b82f614,#6d28d914);border:1px solid rgba(59,130,246,.2);border-radius:var(--radius-md);margin:1.5rem 1.5rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--accent-blue);font-size:24px;width:24px;height:24px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;line-height:1.6;color:#374151}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;border:2px solid rgba(239,68,68,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]:hover{border-color:#ef44444d;box-shadow:0 4px 16px #ef44441a;transform:translate(4px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:.75rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;flex-wrap:wrap}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000d;padding:.375rem .625rem;border-radius:6px;word-break:break-word}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .preview-find[_ngcontent-%COMP%]{color:#991b1b}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .preview-replace[_ngcontent-%COMP%]{color:#065f46}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:18px;width:18px;height:18px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .more-edits[_ngcontent-%COMP%]{margin-top:1rem;text-align:center;font-size:.875rem;font-weight:600;color:#6b7280;font-style:italic}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:2rem;border-top:2px dashed rgba(99,102,241,.2)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#6366f1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:700;color:#1f2937;flex:1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .count-badge.skipped-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;padding:.25rem .75rem;border-radius:12px;font-size:.8125rem;font-weight:700}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{margin:0 0 1.5rem;padding:.875rem 1rem;background:#6366f10d;border-left:3px solid #6366f1;border-radius:6px;font-size:.875rem;color:#4b5563;line-height:1.6}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;border:2px solid rgba(99,102,241,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]:hover{border-color:#6366f14d;box-shadow:0 4px 16px #6366f11a;transform:translate(4px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .status-badge.disabled[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .75rem;background:#6366f11a;border-radius:6px;font-size:.75rem;font-weight:600;color:#6366f1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .status-badge.disabled[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:.75rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;flex-wrap:wrap}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000d;padding:.375rem .625rem;border-radius:6px;word-break:break-word;color:#6b7280;font-style:italic}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:18px;width:18px;height:18px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.75rem;padding:.625rem .875rem;background:#6366f10d;border-radius:6px;font-size:.8125rem;color:#4b5563}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6366f1;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;text-align:center;min-height:300px;width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:72px;width:72px;height:72px;color:var(--success-green);margin-bottom:1.5rem;animation:_ngcontent-%COMP%_scaleIn .5s ease-out}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:#1f2937;letter-spacing:-.02em}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#6b7280;line-height:1.7;max-width:400px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center;width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:72px;width:72px;height:72px;color:#f59e0b;margin-bottom:1.5rem;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:#1f2937;letter-spacing:-.02em}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1rem;color:#6b7280;line-height:1.7;max-width:420px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.875rem 1.25rem;background:linear-gradient(135deg,#f59e0b1a,#fbbf241a);border:2px dashed rgba(245,158,11,.3);border-radius:12px;font-size:.9375rem;font-weight:600;color:#92400e}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#f59e0b;animation:_ngcontent-%COMP%_bounce 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.6}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem;padding:1.5rem 2rem;background:#f9fafbcc;border-top:1px solid rgba(0,0,0,.08);flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #6d28d966}@media (max-width: 768px){.visual-editor-modal[_ngcontent-%COMP%]{padding:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-height:95vh;max-width:100%;border-radius:var(--radius-lg)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{font-size:.8125rem;padding:.25rem .625rem;margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:70vh}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{padding:1.5rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:60px;width:60px;height:60px;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{padding:2rem 1rem;min-height:250px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:60px;width:60px;height:60px;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important;gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .5rem;max-width:100%;overflow-wrap:break-word;word-break:break-all}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.6875rem!important;padding:.3rem .6rem!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:1rem;font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem;gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem 1rem}}@media (max-height: 600px) and (orientation: landscape){.visual-editor-modal[_ngcontent-%COMP%]{padding:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-height:95vh;max-width:90%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .5rem;margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:calc(95vh - 120px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{padding:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:48px;width:48px;height:48px;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{font-size:.8125rem;padding:.625rem .875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{padding:1.5rem 1rem;min-height:200px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.75rem;padding:.3rem .5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]{font-size:.75rem;padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:.75rem;font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8125rem;padding:.5rem .875rem}}@media (max-width: 480px){.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-width:calc(100vw - 1rem)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.625rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.6875rem;gap:.375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.6875rem;padding:.3rem .4rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.625rem!important;padding:.25rem .5rem!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]{font-size:.75rem;padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:.875rem;font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{flex-direction:column-reverse}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.manual-fix-guidance[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:linear-gradient(135deg,#fef3c7,#fde68a);border-left:4px solid #f59e0b;border-radius:8px;display:flex;gap:.75rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-icon[_ngcontent-%COMP%]{flex-shrink:0}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b;font-size:24px;width:24px;height:24px}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]{flex:1}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#92400e;font-size:.875rem;margin-bottom:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#78350f;font-size:.875rem;line-height:1.6}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]{margin-top:.75rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.375rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;list-style:none}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.375rem 0;display:flex;align-items:center;gap:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2192";color:#f59e0b;font-weight:700}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000001a;padding:2px 6px;border-radius:4px;font-size:.75rem;color:#78350f}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid rgba(0,0,0,.1)}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-bottom:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#ffffff80;border-radius:6px;font-size:.8125rem;color:#78350f}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-weight:700;color:#92400e;background:none;padding:0}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   .chain-arrow[_ngcontent-%COMP%]{color:#f59e0b;font-size:16px;width:16px;height:16px}.debug-info[_ngcontent-%COMP%]{margin-top:1rem;padding:.75rem;background:#6d28d90d;border:1px dashed rgba(109,40,217,.2);border-radius:6px}.debug-info[_ngcontent-%COMP%]   .debug-toggle[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--primary-purple);padding:.375rem .75rem;min-height:auto}.debug-info[_ngcontent-%COMP%]   .debug-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:.375rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]{margin-top:.5rem;display:none;flex-direction:column;gap:.375rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.375rem .5rem;background:#fff;border-radius:4px;font-size:.75rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6b7280}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--primary-purple);font-family:SF Mono,Monaco,monospace}.debug-info.expanded[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]{display:flex}@media (max-width: 768px){.manual-fix-guidance[_ngcontent-%COMP%]{flex-direction:column}.manual-fix-guidance[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.manual-fix-guidance[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   .chain-arrow[_ngcontent-%COMP%]{transform:rotate(90deg)}.skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem}.skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]{padding:.875rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.75rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{padding:.25rem .5rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem .75rem}}@media (max-width: 480px){.skipped-edits-section[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch!important;gap:.5rem}.skipped-edits-section[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{display:none}}.header-icon.clickable-icon[_ngcontent-%COMP%]{cursor:pointer;background:linear-gradient(135deg,#8b5cf6,#6d28d9);border-radius:12px;padding:8px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;box-shadow:0 2px 8px #6d28d933}.header-icon.clickable-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff;transition:transform .3s ease}.header-icon.clickable-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 4px 16px #6d28d966}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover:before{left:100%}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:rotate(-5deg) scale(1.1)}.header-icon.clickable-icon[_ngcontent-%COMP%]:active{transform:translateY(0) scale(1)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;position:relative}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;min-width:0}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto;width:36px;height:36px;min-width:36px;padding:0!important;border:none;outline:none;cursor:pointer;background:linear-gradient(135deg,#8b5cf6,#6d28d9);color:#fff!important;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;justify-content:center;position:relative;overflow:visible}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;color:#fff!important;position:relative;z-index:1}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;min-width:18px;height:18px;padding:0 4px;background:#dc2626;color:#fff;font-size:11px;font-weight:700;border-radius:9px;display:flex;align-items:center;justify-content:center;z-index:2;border:2px solid white;box-shadow:0 2px 8px #00000040;line-height:1;animation:_ngcontent-%COMP%_badge-pulse 2s ease-in-out infinite}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]:before{content:"";display:inline-block}@keyframes _ngcontent-%COMP%_badge-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:8px;background:#ffffff4d;transform:scale(0);transition:transform .3s ease;z-index:0}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active:before{transform:scale(1)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 16px #6d28d980;background:linear-gradient(135deg,#9333ea,#7c3aed)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:hover   .edit-badge[_ngcontent-%COMP%]{animation:none;transform:scale(1.05)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active, .changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active   .edit-badge[_ngcontent-%COMP%]{transform:scale(.98)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #6d28d94d}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:before{background:#ffffff4d}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #ef444480;background:linear-gradient(135deg,#f87171,#ef4444)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44444d}@media (max-width: 768px){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:32px;height:32px;min-width:32px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-5px;right:-5px;min-width:16px;height:16px;padding:0 3px;font-size:10px;border-radius:8px}}@media (max-width: 480px){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:30px;height:30px;min-width:30px;border-radius:6px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-4px;right:-4px;min-width:14px;height:14px;padding:0 2px;font-size:9px;border-radius:7px;border-width:1.5px}}@media (max-height: 600px) and (orientation: landscape){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:28px;height:28px;min-width:28px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:15px;width:15px;height:15px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-4px;right:-4px;min-width:14px;height:14px;font-size:9px}}'],data:{animation:[Xn("fadeInUp",[Nn(":enter",[Yt({opacity:0,transform:"translateY(30px)"}),In("0.5s cubic-bezier(0.4, 0, 0.2, 1)",Yt({opacity:1,transform:"translateY(0)"}))])]),Xn("fadeInOut",[Nn(":enter",[Yt({opacity:0}),In("0.3s ease-out",Yt({opacity:1}))]),Nn(":leave",[In("0.3s ease-in",Yt({opacity:0}))])]),Xn("fadeIn",[Nn(":enter",[Yt({opacity:0}),In("0.4s ease-out",Yt({opacity:1}))])]),Xn("slideIn",[Nn(":enter",[Yt({opacity:0,transform:"translateX(-20px)"}),In("0.4s cubic-bezier(0.4, 0, 0.2, 1)",Yt({opacity:1,transform:"translateX(0)"}))])]),Xn("expandIn",[Nn(":enter",[Yt({opacity:0}),In("0.3s ease-out",Yt({opacity:1}))])]),Xn("pulse",[Nn(":enter",[Yt({opacity:0,transform:"scale(0.95)"}),In("0.3s ease-out",Yt({opacity:1,transform:"scale(1)"}))])]),Xn("chipAnimation",[Nn(":enter",[Yt({opacity:0,transform:"scale(0.8) translateY(10px)"}),In("0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",Yt({opacity:1,transform:"scale(1) translateY(0)"}))])]),Xn("listAnimation",[Nn(":enter",[Yt({opacity:0,transform:"translateX(-10px)"}),In("0.3s ease-out",Yt({opacity:1,transform:"translateX(0)"}))])]),Xn("variantAnimation",[Nn(":enter",[Yt({opacity:0}),In("0.3s ease-out",Yt({opacity:1}))]),Nn(":leave",[In("0.15s ease-in",Yt({opacity:0}))])]),Xn("modalContentAnimation",[Nn(":enter",[Yt({opacity:0,transform:"scale(0.95)"}),In("200ms ease-out",Yt({opacity:1,transform:"scale(1)"}))]),Nn(":leave",[In("150ms ease-in",Yt({opacity:0,transform:"scale(0.95)"}))])])]},changeDetection:0})}}return o})();function O5(o,i){if(o&1&&(S(0,"div",45),pt(),S(1,"svg",46),je(2,"path",47),L(),Mt(),S(3,"span"),Y(4),L()()),o&2){let e=Ae(2);le(4),Ht(e.errorMessage)}}function P5(o,i){o&1&&(S(0,"div",48),pt(),S(1,"svg",49),je(2,"path",50)(3,"path",51)(4,"path",52)(5,"path",53),L(),Mt(),S(6,"span"),Y(7,"Sign in with Google"),L()())}function M5(o,i){o&1&&(S(0,"div",54),je(1,"div",55),L())}function T5(o,i){if(o&1){let e=jt();S(0,"div",12)(1,"div",13)(2,"div",14),pt(),S(3,"svg",15)(4,"defs")(5,"clipPath",16),je(6,"rect",17),L(),S(7,"clipPath",18),je(8,"rect",19),L()(),S(9,"g",20),je(10,"path",21)(11,"circle",22)(12,"circle",23)(13,"circle",24)(14,"circle",25)(15,"circle",26)(16,"line",27)(17,"line",28)(18,"line",29)(19,"line",30),L(),S(20,"g",31),je(21,"path",32)(22,"path",33),L(),je(23,"circle",34)(24,"circle",35),L(),Mt(),S(25,"h1"),Y(26,"Camply"),L()(),S(27,"div",36)(28,"h2"),Y(29,"Glad You're Back"),L(),S(30,"p"),Y(31,"Sign in to access your email campaigns"),L()(),tt(32,O5,5,1,"div",37),S(33,"div",38)(34,"label",39),Y(35,"Organization Name"),L(),S(36,"input",40),Or("ngModelChange",function(n){nt(e);let r=Ae();return wr(r.organizationSlug,n)||(r.organizationSlug=n),it(n)}),rt("keyup.enter",function(){nt(e);let n=Ae();return it(n.onGoogleLogin())}),L(),S(37,"small",41),Y(38,"Use lowercase letters, numbers, and hyphens only"),L()(),S(39,"button",42),rt("click",function(){nt(e);let n=Ae();return it(n.onGoogleLogin())}),tt(40,P5,8,0,"div",43)(41,M5,2,0,"div",44),L()()()}if(o&2){let e=Ae();le(32),Ce("ngIf",e.errorMessage),le(4),xr("ngModel",e.organizationSlug),Ce("disabled",e.isLoading),le(3),Kt("loading",e.isLoading),Ce("disabled",e.isLoading),le(),Ce("ngIf",!e.isLoading),le(),Ce("ngIf",e.isLoading)}}function S5(o,i){o&1&&(S(0,"div",56)(1,"div",57)(2,"div",58),pt(),S(3,"svg",15)(4,"defs")(5,"clipPath",59),je(6,"rect",17),L(),S(7,"clipPath",60),je(8,"rect",19),L()(),S(9,"g",61),je(10,"path",21)(11,"circle",22)(12,"circle",23)(13,"circle",24)(14,"circle",25)(15,"circle",26)(16,"line",27)(17,"line",28)(18,"line",29)(19,"line",30),L(),S(20,"g",62),je(21,"path",32)(22,"path",33),L(),je(23,"circle",34)(24,"circle",35),L(),Mt(),S(25,"h1",63),Y(26,"Camply"),L()(),S(27,"div",64)(28,"h2"),Y(29,"Transform Your Email Campaigns"),L(),S(30,"p"),Y(31,"Professional email template testing and quality assurance powered by AI"),L()(),S(32,"div",65)(33,"div",66),pt(),S(34,"svg",46),je(35,"path",67),L(),Mt(),S(36,"span"),Y(37,"AI-Powered Template Analysis"),L()(),S(38,"div",66),pt(),S(39,"svg",46),je(40,"path",68),L(),Mt(),S(41,"span"),Y(42,"Instant Quality Checks"),L()(),S(43,"div",66),pt(),S(44,"svg",46),je(45,"path",69),L(),Mt(),S(46,"span"),Y(47,"Variant Testing & Comparison"),L()()()()())}function E5(o,i){if(o&1&&(S(0,"div",45),pt(),S(1,"svg",46),je(2,"path",47),L(),Mt(),S(3,"span"),Y(4),L()()),o&2){let e=Ae(2);le(4),Ht(e.errorMessage)}}function k5(o,i){o&1&&(S(0,"div",48),pt(),S(1,"svg",49),je(2,"path",50)(3,"path",51)(4,"path",52)(5,"path",53),L(),Mt(),S(6,"span"),Y(7,"Sign in with Google"),L()())}function A5(o,i){o&1&&(S(0,"div",54),je(1,"div",55),L())}function I5(o,i){if(o&1){let e=jt();S(0,"div",70)(1,"div",71)(2,"div",72)(3,"h2"),Y(4,"Glad You're Back"),L(),S(5,"p"),Y(6,"Sign in to access your email campaigns"),L()(),tt(7,E5,5,1,"div",37),S(8,"div",38)(9,"label",73),Y(10,"Organization Name"),L(),S(11,"input",74),Or("ngModelChange",function(n){nt(e);let r=Ae();return wr(r.organizationSlug,n)||(r.organizationSlug=n),it(n)}),rt("keyup.enter",function(){nt(e);let n=Ae();return it(n.onGoogleLogin())}),L(),S(12,"small",41),Y(13,"Use lowercase letters, numbers, and hyphens only"),L()(),S(14,"button",42),rt("click",function(){nt(e);let n=Ae();return it(n.onGoogleLogin())}),tt(15,k5,8,0,"div",43)(16,A5,2,0,"div",44),L(),S(17,"div",75)(18,"span"),Y(19,"Secured by Google"),L()(),S(20,"div",76)(21,"div",77),pt(),S(22,"svg",46),je(23,"path",78),L(),Mt(),S(24,"span"),Y(25,"256-bit SSL Encryption"),L()(),S(26,"div",77),pt(),S(27,"svg",46),je(28,"path",79),L(),Mt(),S(29,"span"),Y(30,"GDPR Compliant"),L()(),S(31,"div",77),pt(),S(32,"svg",46),je(33,"path",80),L(),Mt(),S(34,"span"),Y(35,"Privacy Protected"),L()()()()()}if(o&2){let e=Ae();le(7),Ce("ngIf",e.errorMessage),le(4),xr("ngModel",e.organizationSlug),Ce("disabled",e.isLoading),le(3),Kt("loading",e.isLoading),Ce("disabled",e.isLoading),le(),Ce("ngIf",!e.isLoading),le(),Ce("ngIf",e.isLoading)}}var z0=(()=>{class o{constructor(){this.authService=Pt(Fi),this.router=Pt(Un),this.route=Pt(uo),this.isLoading=!1,this.errorMessage="",this.isLandscape=!1,this.organizationSlug=""}ngOnInit(){this.checkLandscape(),window.addEventListener("resize",this.checkLandscape.bind(this)),window.addEventListener("message",this.handleAuthMessage.bind(this)),this.authService.isAuthenticated$.subscribe(t=>{if(t){let n=this.route.snapshot.queryParams.returnUrl||"/";this.router.navigate([n],{replaceUrl:!0})}});let e=this.route.snapshot.queryParams.error;e&&(e==="pending_approval"?this.router.navigate(["/auth/pending"]):this.errorMessage=this.getErrorMessage(e))}ngOnDestroy(){window.removeEventListener("message",this.handleAuthMessage.bind(this)),window.removeEventListener("resize",this.checkLandscape.bind(this))}checkLandscape(){this.isLandscape=window.innerHeight<=600&&window.innerWidth<1024&&window.matchMedia("(orientation: landscape)").matches}handleAuthMessage(e){if(![window.location.origin,"http://localhost:3000"].includes(e.origin))return;let{type:n,user:r}=e.data;n==="AUTH_SUCCESS"?(this.authService.handleAuthSuccess(r),this.router.navigate(["/"],{replaceUrl:!0})):n==="AUTH_PENDING"?this.router.navigate(["/auth/pending"]):n==="AUTH_DEACTIVATED"&&(this.errorMessage="Your account has been deactivated. Please contact your administrator.")}onGoogleLogin(){let e=this.organizationSlug.trim().toLowerCase();if(!e||e===""){this.errorMessage="Please enter an organization name";return}if(e.length<2){this.errorMessage="Organization name must be at least 2 characters";return}if(!/^[a-z0-9-]+$/.test(e)){this.errorMessage="Organization name can only contain lowercase letters, numbers, and hyphens";return}this.isLoading=!0,this.errorMessage="",this.authService.loginWithGoogle(e),setTimeout(()=>{this.isLoading=!1},1e3)}getErrorMessage(e){return{google_auth_failed:"Google authentication failed. Please try again.",no_user:"Unable to create user account. Please try again.",callback_failed:"Authentication callback failed. Please try again.",pending_approval:"Your account is pending admin approval.",account_deactivated:"Your account has been deactivated. Contact your administrator.",authentication_failed:"Authentication failed. Please try again.",session_expired:"Your session has expired. Please sign in again.",access_denied:"Access denied. Contact your administrator.",org_required:"Organization name is required. Please enter your organization name.",invalid_org:"Invalid organization name format. Use only lowercase letters, numbers, and hyphens."}[e]||"An error occurred during authentication. Please try again."}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=Sn({type:o,selectors:[["app-auth-page"]],standalone:!0,features:[En],decls:12,vars:3,consts:[[1,"auth-container"],[1,"background-effects"],[1,"floating-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"grid-pattern"],[1,"auth-content"],["class","auth-landscape-section",4,"ngIf"],["class","auth-branding",4,"ngIf"],["class","auth-form-section",4,"ngIf"],[1,"auth-landscape-section"],[1,"landscape-card"],[1,"landscape-header"],["viewBox","0 0 48 48","fill","none","xmlns","http://www.w3.org/2000/svg",1,"logo-icon"],["id","left-half-mobile"],["x","0","y","0","width","24","height","48"],["id","right-half-mobile"],["x","24","y","0","width","24","height","48"],["clip-path","url(#left-half-mobile)"],["d","M12 16 Q8 18 8 24 Q8 30 12 32","stroke","white","stroke-width","2","fill","none"],["cx","14","cy","20","r","1.2","fill","white"],["cx","12","cy","24","r","1.5","fill","white"],["cx","14","cy","28","r","1.2","fill","white"],["cx","18","cy","22","r","1","fill","white","opacity","0.7"],["cx","18","cy","26","r","1","fill","white","opacity","0.7"],["x1","14","y1","20","x2","18","y2","22","stroke","white","stroke-width","0.8","opacity","0.5"],["x1","12","y1","24","x2","18","y2","22","stroke","white","stroke-width","0.8","opacity","0.5"],["x1","12","y1","24","x2","18","y2","26","stroke","white","stroke-width","0.8","opacity","0.5"],["x1","14","y1","28","x2","18","y2","26","stroke","white","stroke-width","0.8","opacity","0.5"],["clip-path","url(#right-half-mobile)"],["d","M24 16 L40 16 L40 32 L24 32","stroke","white","stroke-width","2","fill","none"],["d","M24 16 L32 23 L40 16","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","24","cy","24","r","2","fill","white","opacity","0.3"],["cx","24","cy","24","r","1.2","fill","white"],[1,"landscape-welcome"],["class","error-alert",4,"ngIf"],[1,"form-group"],["for","org-slug-landscape"],["id","org-slug-landscape","type","text","placeholder","Enter your organization name",1,"org-input",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"input-hint"],[1,"google-btn",3,"click","disabled"],["class","google-btn-content",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"error-alert"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"google-btn-content"],["viewBox","0 0 24 24",1,"google-icon"],["fill","#4285F4","d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"],["fill","#34A853","d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"],["fill","#FBBC05","d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"],["fill","#EA4335","d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"],[1,"loading-spinner"],[1,"spinner"],[1,"auth-branding"],[1,"branding-content"],[1,"logo-container"],["id","left-half-desktop"],["id","right-half-desktop"],["clip-path","url(#left-half-desktop)"],["clip-path","url(#right-half-desktop)"],[1,"logo-text"],[1,"branding-text"],[1,"feature-list"],[1,"feature-item"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["d","M13 10V3L4 14h7v7l9-11h-7z"],["d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"auth-form-section"],[1,"auth-card"],[1,"auth-header"],["for","org-slug-desktop"],["id","org-slug-desktop","type","text","placeholder","Enter your organization name",1,"org-input",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"divider"],[1,"trust-indicators"],[1,"trust-item"],["d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],["d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],["d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"]],template:function(t,n){t&1&&(S(0,"div",0)(1,"div",1)(2,"div",2),je(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),L(),je(7,"div",7),L(),S(8,"div",8),tt(9,T5,42,8,"div",9)(10,S5,48,0,"div",10)(11,I5,36,8,"div",11),L()()),t&2&&(le(9),Ce("ngIf",n.isLandscape),le(),Ce("ngIf",!n.isLandscape),le(),Ce("ngIf",!n.isLandscape))},dependencies:[qn,xi,go,fo,ho,mo],styles:['[_ngcontent-%COMP%]:root{--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--accent-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--glass-bg: rgba(255, 255, 255, .15);--glass-border: rgba(255, 255, 255, .3);--shadow-soft: 0 8px 32px rgba(0, 0, 0, .1);--shadow-medium: 0 16px 64px rgba(0, 0, 0, .15);--animation-fast: .2s cubic-bezier(.4, 0, .2, 1);--animation-smooth: .4s cubic-bezier(.4, 0, .2, 1)}.auth-container[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:var(--primary-gradient);overflow:hidden;padding:1vh 0}.background-effects[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:0}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;background:var(--accent-gradient);border-radius:50%;opacity:.1;filter:blur(60px);animation:_ngcontent-%COMP%_float-shapes 15s ease-in-out infinite}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:10%;left:5%;animation-delay:0s}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;top:60%;right:10%;animation-delay:-5s}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:400px;height:400px;bottom:10%;left:15%;animation-delay:-10s}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-4[_ngcontent-%COMP%]{width:250px;height:250px;top:5%;right:20%;animation-delay:-7.5s}.background-effects[_ngcontent-%COMP%]   .grid-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(255,255,255,.05) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.05) 1px,transparent 1px);background-size:50px 50px;animation:_ngcontent-%COMP%_grid-move 30s linear infinite}.auth-content[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;width:100%;max-width:95vw;height:96vh;max-height:none;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px;box-shadow:var(--shadow-medium);overflow:hidden;animation:_ngcontent-%COMP%_slideInUp .6s cubic-bezier(.34,1.56,.64,1)}.auth-branding[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:4rem;position:relative;overflow:hidden}.auth-branding[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(255,255,255,.1) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none}.auth-branding[_ngcontent-%COMP%]   .branding-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:500px}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:2rem}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:72px;height:72px;color:#fff;filter:drop-shadow(0 4px 12px rgba(0,0,0,.2))}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:900;color:#fff;margin:0;letter-spacing:-.02em}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]{margin-bottom:2rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:900;color:#fff;margin:0 0 .75rem;line-height:1.2;letter-spacing:-.03em}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem;color:#ffffffe6;line-height:1.5;margin:0;font-weight:500}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:.875rem 1rem;background:#ffffff26;border:1px solid rgba(255,255,255,.25);border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_slideInLeft .6s ease;animation-fill-mode:both}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.2s}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#fff;flex-shrink:0}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#fff}.auth-form-section[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:4rem;background:linear-gradient(135deg,#667eea,#764ba2);position:relative;overflow:hidden}.auth-form-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:linear-gradient(30deg,transparent 40%,rgba(255,255,255,.08) 40%,rgba(255,255,255,.08) 60%,transparent 60%),linear-gradient(150deg,transparent 40%,rgba(255,255,255,.08) 40%,rgba(255,255,255,.08) 60%,transparent 60%);background-size:100px 100px,70px 70px;background-position:0 0,35px 35px;animation:_ngcontent-%COMP%_triangleMove 20s linear infinite;pointer-events:none;opacity:.5;z-index:0}.auth-card[_ngcontent-%COMP%]{position:relative;z-index:1;width:100%;max-width:480px;padding:1.5rem 2.5rem;background:#fff;border-radius:16px;border:1px solid #e2e8f0;box-shadow:0 8px 32px #0003;animation:_ngcontent-%COMP%_fadeIn .8s ease;animation-delay:.3s;animation-fill-mode:both}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.75rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#1e293b;margin:0 0 .5rem;letter-spacing:-.02em}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;margin:0;font-weight:500}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.25rem;background:#ef44441a;border:2px solid rgba(239,68,68,.3);border-radius:12px;margin-bottom:1.5rem;animation:_ngcontent-%COMP%_shake .4s ease}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#ef4444;flex-shrink:0}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#dc2626}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem;width:100%}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:none}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1.25rem;background:#fff;border:2px solid #e2e8f0;border-radius:12px;font-size:.9375rem;color:#1e293b;transition:all var(--animation-smooth);box-sizing:border-box;font-weight:500;box-shadow:0 2px 8px #00000014}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;box-shadow:0 4px 12px #0000001a}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#fff;box-shadow:0 0 0 4px #667eea1a,0 4px 12px #0000001a}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;background:#f8fafc}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#64748b;margin-top:.5rem;text-align:left;padding-left:.25rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{width:100%;padding:.875rem 1.5rem;margin-bottom:4px;background:#fff;border:2px solid #e2e8f0;border-radius:12px;cursor:pointer;transition:all var(--animation-smooth);position:relative;overflow:visible;box-shadow:0 2px 8px #00000014}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-8px;z-index:-1;pointer-events:auto}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#667eea,#764ba2);opacity:0;transition:opacity var(--animation-smooth);border-radius:12px}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 8px 24px #667eea40}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover:not(:disabled):before{opacity:.05}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:center;gap:1rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:22px;height:22px;flex-shrink:0}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;color:#1e293b}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid #e2e8f0;border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin:2rem 0;position:relative}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#e2e8f0}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8125rem;color:#94a3b8;font-weight:600;white-space:nowrap}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background:#f8fafc;border-radius:8px}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;color:#10b981;flex-shrink:0}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8125rem;color:#475569;font-weight:600}@keyframes _ngcontent-%COMP%_float-shapes{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-30px,-30px) rotate(120deg)}66%{transform:translate(30px,30px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_grid-move{0%{transform:translate(0)}to{transform:translate(50px,50px)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(60px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-4px)}20%,40%,60%,80%{transform:translate(4px)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-height: 600px) and (orientation: landscape) and (min-width: 1024px){.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]:nth-child(1), .auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]:nth-child(2){display:none}}@media (max-width: 1200px){.auth-content[_ngcontent-%COMP%]{max-width:1200px}.auth-branding[_ngcontent-%COMP%]{padding:3rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.25rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding:.875rem}.auth-form-section[_ngcontent-%COMP%]{padding:3rem}}@media (max-width: 1024px){.auth-content[_ngcontent-%COMP%]{flex-direction:column;height:auto;max-height:none;margin:1rem}.auth-branding[_ngcontent-%COMP%]{padding:2.5rem 2rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.auth-form-section[_ngcontent-%COMP%]{padding:2.5rem 2rem}.auth-card[_ngcontent-%COMP%]{max-width:500px}}@media (max-width: 1024px) and (min-width: 769px){.auth-content[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow-y:auto}.auth-branding[_ngcontent-%COMP%]{padding:2rem;min-height:auto}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:48px;height:48px}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.5rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]{margin-bottom:1.5rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]{gap:.875rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding:.75rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.auth-form-section[_ngcontent-%COMP%]{padding:2rem}.auth-card[_ngcontent-%COMP%]{padding:1.75rem 1.5rem;max-width:500px}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:.875rem 1.125rem}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{display:none}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:1.25rem 0 0}}@media (max-width: 768px){.auth-content[_ngcontent-%COMP%]{border-radius:16px;flex-direction:column;height:auto;max-height:96vh;overflow-y:auto;overflow-x:hidden}.auth-branding[_ngcontent-%COMP%]{padding:1.5rem 1.25rem;min-height:auto}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{margin-bottom:1rem}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:36px;height:36px}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.15rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]{margin-bottom:1.25rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem;margin-bottom:.5rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem;line-height:1.4}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]{gap:.625rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding:.625rem .875rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.auth-form-section[_ngcontent-%COMP%]{padding:1.5rem 1.25rem}.auth-card[_ngcontent-%COMP%]{max-width:100%;width:100%;padding:1.5rem 1.25rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{margin-bottom:1.25rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem;margin-bottom:.4rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:.8rem 1rem;margin-bottom:.75rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]{gap:.75rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:20px;height:20px}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9375rem}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%], .auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 480px){.auth-container[_ngcontent-%COMP%]{padding:0;overflow:hidden}.auth-content[_ngcontent-%COMP%]{margin:0;border-radius:0;height:100vh;max-height:100vh;overflow:hidden}.auth-form-section[_ngcontent-%COMP%]{padding:1rem;overflow:hidden}.auth-card[_ngcontent-%COMP%]{padding:1.25rem 1rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{margin-bottom:1.25rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]:before{font-size:1.125rem;margin-bottom:1.25rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.375rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{padding:.75rem .875rem;margin-bottom:1rem}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:.75rem 1rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]{gap:.625rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:18px;height:18px}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:1rem 0}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{display:none}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.625rem;color:#94a3b8;text-align:center;width:100%}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{gap:.4375rem}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]{padding:.4375rem .625rem}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.6875rem}}@media (max-height: 600px) and (orientation: landscape) and (max-width: 1024px){.auth-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)!important}.auth-content[_ngcontent-%COMP%]{height:98vh;max-height:98vh;justify-content:center;align-items:center;background:transparent!important;-webkit-backdrop-filter:none!important;backdrop-filter:none!important;box-shadow:none!important;border-radius:0!important}.background-effects[_ngcontent-%COMP%]{display:block!important;opacity:1!important}.auth-landscape-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.landscape-card[_ngcontent-%COMP%]{background:#fffffffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:20px;padding:1rem 1.5rem;max-width:450px;width:85%;box-shadow:0 20px 60px #667eea4d,0 8px 24px #764ba233;border:1px solid rgba(255,255,255,.5);display:flex;flex-direction:column;align-items:center;text-align:center}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:64px;height:64px;color:#667eea;stroke-width:2.5}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]{margin-bottom:.875rem}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin:0 0 .25rem;letter-spacing:-.02em}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;margin:0;font-weight:400}.landscape-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:.875rem}.landscape-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:.9375rem}.landscape-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-hint[_ngcontent-%COMP%]{margin-top:.375rem;font-size:.6875rem}.landscape-card[_ngcontent-%COMP%]   .security-text[_ngcontent-%COMP%]{margin:.875rem 0 .625rem}.landscape-card[_ngcontent-%COMP%]   .security-features[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:0}.landscape-card[_ngcontent-%COMP%]   .security-features[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.8125rem}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.75rem 1rem;background:linear-gradient(135deg,#fee2e2,#fecaca);border:1px solid #fca5a5;border-radius:12px;margin-bottom:1rem;width:100%;box-shadow:0 4px 12px #ef44441a}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#dc2626;flex-shrink:0}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#991b1b;font-weight:500}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem 1.5rem;border:2px solid #e2e8f0;border-radius:12px;background:#fff;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);font-size:1rem;font-weight:600;box-shadow:0 4px 16px #0000000f}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#667eea;background:linear-gradient(135deg,#f8faff,#f0f4ff);transform:translateY(-2px);box-shadow:0 8px 24px #667eea33}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.875rem}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:22px;height:22px;flex-shrink:0}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1e293b;font-weight:600}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:22px;height:22px;border:2.5px solid #e2e8f0;border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin .6s linear infinite}}@media (max-height: 400px) and (orientation: landscape){.landscape-card[_ngcontent-%COMP%]{padding:1.25rem 1.75rem!important;max-width:420px!important}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]{margin-bottom:1rem!important}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:42px!important;height:42px!important}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem!important}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]{margin-bottom:1.25rem!important}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem!important;margin-bottom:.4rem!important}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem!important}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{padding:.75rem 1rem!important;margin-bottom:1rem!important}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px!important;height:18px!important}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8125rem!important}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem!important;font-size:.9375rem!important}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%], .landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px!important;height:20px!important}}@media (prefers-color-scheme: dark){.auth-form-section[_ngcontent-%COMP%]{background:#0f172a}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f1f5f9}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f1f5f9}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#667eea;background:#1e293b}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{background:#334155}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#64748b}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]{background:#1e293b}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#cbd5e1}}@keyframes _ngcontent-%COMP%_triangleMove{0%{background-position:0 0,35px 35px}to{background-position:100px 100px,135px 135px}}']})}}return o})();var B0=(()=>{class o{constructor(){this.authService=Pt(Fi),this.router=Pt(Un),this.route=Pt(uo)}ngOnInit(){if(this.route.snapshot.queryParams.success==="true")if(this.authService.handleAuthCallback(),window.opener)window.close();else{let t=sessionStorage.getItem("auth_return_url")||"/";sessionStorage.removeItem("auth_return_url"),this.router.navigate([t],{replaceUrl:!0})}else this.router.navigate(["/auth"],{queryParams:{error:"callback_failed"}})}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=Sn({type:o,selectors:[["app-auth-callback"]],standalone:!0,features:[En],decls:5,vars:0,consts:[[2,"display","flex","align-items","center","justify-content","center","height","100vh","background","linear-gradient(135deg, #667eea 0%, #764ba2 100%)"],[2,"text-align","center","color","white"],[2,"width","48px","height","48px","border","4px solid rgba(255,255,255,0.3)","border-top-color","white","border-radius","50%","animation","spin 0.8s linear infinite","margin","0 auto 1rem"],[2,"font-size","1.125rem","font-weight","600"]],template:function(t,n){t&1&&(S(0,"div",0)(1,"div",1),je(2,"div",2),S(3,"p",3),Y(4,"Completing sign in..."),L()()())},styles:["@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return o})();var U0=(()=>{class o{constructor(e){this.router=e}closeWindow(){window.close()}static{this.\u0275fac=function(t){return new(t||o)(vn(Un))}}static{this.\u0275cmp=Sn({type:o,selectors:[["app-pending-approval"]],standalone:!0,features:[En],decls:20,vars:0,consts:[[1,"pending-container"],[1,"pending-card"],[1,"icon-container"],[1,"icon-backdrop"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"pending-icon"],["d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"message"],[1,"info-box"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"back-btn",3,"click"],["d","M10 19l-7-7m0 0l7-7m-7 7h18"]],template:function(t,n){t&1&&(S(0,"div",0)(1,"div",1)(2,"div",2),je(3,"div",3),pt(),S(4,"svg",4),je(5,"path",5),L()(),Mt(),S(6,"h1"),Y(7,"Pending Approval"),L(),S(8,"p",6),Y(9,"Your account has been created and is awaiting administrator approval."),L(),S(10,"div",7),pt(),S(11,"svg",8),je(12,"path",9),L(),Mt(),S(13,"p"),Y(14,"You'll receive access once an administrator reviews your request. This typically takes 1-2 business days."),L()(),S(15,"button",10),rt("click",function(){return n.closeWindow()}),pt(),S(16,"svg",8),je(17,"path",11),L(),Mt(),S(18,"span"),Y(19,"Back to Sign In"),L()()()())},dependencies:[qn],styles:[".pending-container[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:2rem}.pending-card[_ngcontent-%COMP%]{max-width:500px;width:100%;background:#fff;border-radius:24px;padding:3rem 2rem;text-align:center;box-shadow:0 24px 80px #00000040;animation:_ngcontent-%COMP%_slideInScale .6s cubic-bezier(.34,1.56,.64,1)}.icon-container[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;margin:0 auto 2rem}.icon-container[_ngcontent-%COMP%]   .icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#fbbf24,#f59e0b);border-radius:50%;opacity:.15;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.icon-container[_ngcontent-%COMP%]   .pending-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#f59e0b;filter:drop-shadow(0 4px 12px rgba(245,158,11,.3));animation:_ngcontent-%COMP%_rotate 3s linear infinite}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#1e293b;margin:0 0 1rem;letter-spacing:-.02em}.message[_ngcontent-%COMP%]{font-size:1.125rem;color:#64748b;margin:0 0 2rem;line-height:1.6}.info-box[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;background:#f8fafc;border:2px solid #e2e8f0;border-radius:12px;margin-bottom:2rem;text-align:left}.info-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;color:#3b82f6;flex-shrink:0;margin-top:2px}.info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem;color:#475569;margin:0;line-height:1.6}.back-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.625rem;padding:.875rem 1.75rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #667eea4d}.back-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.back-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #667eea66}.back-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@keyframes _ngcontent-%COMP%_slideInScale{0%{opacity:0;transform:translateY(30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:.15}50%{transform:scale(1.1);opacity:.25}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 640px){.pending-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}h1[_ngcontent-%COMP%]{font-size:1.75rem}.message[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return o})();var N5=["customHeader"],D5=(o,i,e)=>({"desktop-mode":o,"tablet-mode":i,"mobile-mode":e});function R5(o,i){o&1&&E1(0)}function F5(o,i){if(o&1&&(bi(0),tt(1,R5,1,0,"ng-container",6),Ci()),o&2){let e=Ae();le(),Ce("ngTemplateOutlet",e.customHeaderTemplate)}}function V5(o,i){if(o&1){let e=jt();S(0,"div",17)(1,"h3",18),Y(2,"Generated Template"),L(),S(3,"input",19),Or("ngModelChange",function(n){nt(e);let r=Ae(2);return wr(r.templateName,n)||(r.templateName=n),it(n)}),rt("ngModelChange",function(n){nt(e);let r=Ae(2);return it(r.onTemplateNameChange(n))}),L()()}if(o&2){let e=Ae(2);le(3),xr("ngModel",e.templateName)}}function j5(o,i){if(o&1&&(S(0,"h3",18),Y(1),L()),o&2){let e=Ae(2);le(),Ht(e.templateName||"Live Preview")}}function H5(o,i){if(o&1&&(S(0,"button",20)(1,"mat-icon"),Y(2,"more_vert"),L()()),o&2){Ae();let e=Ai(7);Ce("matMenuTriggerFor",e)}}function z5(o,i){if(o&1){let e=jt();S(0,"button",14),rt("click",function(){nt(e);let n=Ae(2);return it(n.toggleFullscreen())}),S(1,"mat-icon"),Y(2),L(),S(3,"span"),Y(4),L()()}if(o&2){let e=Ae(2);le(2),Ht(e.isFullscreen?"fullscreen_exit":"fullscreen"),le(2),Ht(e.isFullscreen?"Exit Fullscreen":"Fullscreen")}}function B5(o,i){o&1&&je(0,"mat-divider")}function U5(o,i){o&1&&(S(0,"div",21),Y(1,"View Mode"),L())}function G5(o,i){o&1&&(S(0,"mat-icon",23),Y(1,"check"),L())}function W5(o,i){if(o&1){let e=jt();S(0,"button",14),rt("click",function(){nt(e);let n=Ae(2);return it(n.changeViewMode("desktop"))}),S(1,"mat-icon"),Y(2,"computer"),L(),S(3,"span"),Y(4,"Desktop"),L(),tt(5,G5,2,0,"mat-icon",22),L()}if(o&2){let e=Ae(2);le(),Kt("active-mode",e.viewMode==="desktop"),le(4),Ce("ngIf",e.viewMode==="desktop")}}function K5(o,i){o&1&&(S(0,"mat-icon",23),Y(1,"check"),L())}function q5(o,i){if(o&1){let e=jt();S(0,"button",14),rt("click",function(){nt(e);let n=Ae(2);return it(n.changeViewMode("tablet"))}),S(1,"mat-icon"),Y(2,"tablet_mac"),L(),S(3,"span"),Y(4,"Tablet"),L(),tt(5,K5,2,0,"mat-icon",22),L()}if(o&2){let e=Ae(2);le(),Kt("active-mode",e.viewMode==="tablet"),le(4),Ce("ngIf",e.viewMode==="tablet")}}function $5(o,i){o&1&&(S(0,"mat-icon",23),Y(1,"check"),L())}function Y5(o,i){if(o&1){let e=jt();S(0,"button",14),rt("click",function(){nt(e);let n=Ae(2);return it(n.changeViewMode("mobile"))}),S(1,"mat-icon"),Y(2,"phone_iphone"),L(),S(3,"span"),Y(4,"Mobile"),L(),tt(5,$5,2,0,"mat-icon",22),L()}if(o&2){let e=Ae(2);le(),Kt("active-mode",e.viewMode==="mobile"),le(4),Ce("ngIf",e.viewMode==="mobile")}}function Q5(o,i){if(o&1&&(S(0,"span",35),Y(1),L()),o&2){let e=Ae(3);le(),rn("ID: ",e.templateId,"")}}function X5(o,i){o&1&&(pt(),S(0,"svg",29),je(1,"path",38)(2,"path",39)(3,"path",40)(4,"path",41),L())}function Z5(o,i){o&1&&(pt(),S(0,"svg",29),je(1,"path",42)(2,"path",43)(3,"path",44)(4,"path",45),L())}function J5(o,i){if(o&1){let e=jt();S(0,"button",36),rt("click",function(){nt(e);let n=Ae(3);return it(n.toggleFullscreen())}),tt(1,X5,5,0,"svg",37)(2,Z5,5,0,"svg",37),S(3,"span"),Y(4,"Fullscreen"),L()()}if(o&2){let e=Ae(3);le(),Ce("ngIf",!e.isFullscreen),le(),Ce("ngIf",e.isFullscreen)}}function eO(o,i){if(o&1){let e=jt();S(0,"div",46)(1,"button",47),rt("click",function(){nt(e);let n=Ae(3);return it(n.changeViewMode("desktop"))}),pt(),S(2,"svg",48),je(3,"rect",49)(4,"line",50)(5,"line",51),L(),Mt(),S(6,"span"),Y(7,"Desktop"),L()(),S(8,"button",47),rt("click",function(){nt(e);let n=Ae(3);return it(n.changeViewMode("tablet"))}),pt(),S(9,"svg",48),je(10,"rect",52)(11,"line",53),L(),Mt(),S(12,"span"),Y(13,"Tablet"),L()(),S(14,"button",47),rt("click",function(){nt(e);let n=Ae(3);return it(n.changeViewMode("mobile"))}),pt(),S(15,"svg",48),je(16,"rect",54)(17,"line",53),L(),Mt(),S(18,"span"),Y(19,"Mobile"),L()()()}if(o&2){let e=Ae(3);le(),Kt("active",e.viewMode==="desktop"),le(7),Kt("active",e.viewMode==="tablet"),le(6),Kt("active",e.viewMode==="mobile")}}function tO(o,i){if(o&1){let e=jt();S(0,"button",55),rt("click",function(){nt(e);let n=Ae(3);return it(n.onRefresh())}),pt(),S(1,"svg",29),je(2,"path",56)(3,"path",57)(4,"path",58)(5,"path",59),L(),Mt(),S(6,"span"),Y(7,"Refresh"),L()()}}function nO(o,i){if(o&1&&(bi(0),S(1,"div",24)(2,"span",25),je(3,"span",26),Y(4," Live Preview "),L(),tt(5,Q5,2,1,"span",27),S(6,"div",28),pt(),S(7,"svg",29),je(8,"path",30),L(),Mt(),S(9,"span"),Y(10,"Optimized"),L()()(),S(11,"div",31),tt(12,J5,5,2,"button",32)(13,eO,20,6,"div",33)(14,tO,8,0,"button",34),L(),Ci()),o&2){let e=Ae(2);le(5),Ce("ngIf",e.templateId),le(7),Ce("ngIf",e.allowFullscreen),le(),Ce("ngIf",e.allowViewModes),le(),Ce("ngIf",e.allowRefresh&&!e.isGeneratePage)}}function iO(o,i){if(o&1){let e=jt();S(0,"div",7)(1,"div",8)(2,"div",9),tt(3,V5,4,1,"div",10)(4,j5,2,1,"h3",11)(5,H5,3,1,"button",12),S(6,"mat-menu",13,0)(8,"button",14),rt("click",function(){nt(e);let n=Ae();return it(n.onSaveTemplate())}),S(9,"mat-icon"),Y(10,"save"),L(),S(11,"span"),Y(12,"Save Template"),L()(),S(13,"button",14),rt("click",function(){nt(e);let n=Ae();return it(n.onRunTests())}),S(14,"mat-icon"),Y(15,"visibility"),L(),S(16,"span"),Y(17,"QA Check"),L()(),je(18,"mat-divider"),tt(19,z5,5,2,"button",15)(20,B5,1,0,"mat-divider",2)(21,U5,2,0,"div",16)(22,W5,6,3,"button",15)(23,q5,6,3,"button",15)(24,Y5,6,3,"button",15),L(),tt(25,nO,15,4,"ng-container",2),L()()()}if(o&2){let e=Ae();le(2),Kt("generate-page-header",e.isGeneratePage),le(),Ce("ngIf",e.isGeneratePage),le(),Ce("ngIf",!e.isGeneratePage),le(),Ce("ngIf",e.showGenerateActions&&e.isGeneratePage),le(14),Ce("ngIf",e.allowFullscreen),le(),Ce("ngIf",e.allowViewModes),le(),Ce("ngIf",e.allowViewModes),le(),Ce("ngIf",e.allowViewModes),le(),Ce("ngIf",e.allowViewModes),le(),Ce("ngIf",e.allowViewModes),le(),Ce("ngIf",!e.isGeneratePage)}}function rO(o,i){o&1&&(bi(0),S(1,"div",69)(2,"div",70),pt(),S(3,"svg",48),je(4,"circle",71)(5,"path",72)(6,"circle",73),L(),Mt(),je(7,"div",74),L(),S(8,"h2"),Y(9,"AI-Powered Generation"),L(),S(10,"p",75),Y(11,"AI can make mistakes. Please review and verify all generated content carefully before use."),L(),S(12,"div",76)(13,"div",77),pt(),S(14,"svg",48),je(15,"path",78),L(),Y(16," Always Verify "),L(),Mt(),S(17,"div",79),pt(),S(18,"svg",48),je(19,"rect",49)(20,"line",50)(21,"line",51),L(),Y(22," Beta Feature "),L()()(),Ci())}function oO(o,i){o&1&&(bi(0),S(1,"div",80),je(2,"div",81)(3,"div",82),pt(),S(4,"svg",83),je(5,"path",84)(6,"rect",85),L()(),Mt(),S(7,"div",86)(8,"h2"),Y(9,"Ready for Preview"),L()(),S(10,"div",87)(11,"div",88),pt(),S(12,"svg",29),je(13,"path",78),L(),Y(14," Real-time Updates "),L(),Mt(),S(15,"div",88),pt(),S(16,"svg",29),je(17,"rect",49)(18,"line",50)(19,"line",51),L(),Y(20," Multi-Device "),L(),Mt(),S(21,"div",88),pt(),S(22,"svg",29),je(23,"path",30),L(),Y(24," Lightning Fast "),L()(),Ci())}function aO(o,i){if(o&1&&(S(0,"div",60)(1,"div",61)(2,"div",62),je(3,"div",63)(4,"div",64)(5,"div",65)(6,"div",66),L(),je(7,"div",67),L(),S(8,"div",68),tt(9,rO,23,0,"ng-container",2)(10,oO,25,0,"ng-container",2),L()()),o&2){let e=Ae();le(9),Ce("ngIf",e.isGeneratePage),le(),Ce("ngIf",!e.isGeneratePage)}}function sO(o,i){o&1&&(S(0,"div",95)(1,"div",96)(2,"div",97),je(3,"div",98)(4,"div",99)(5,"div",100)(6,"div",101)(7,"div",102)(8,"div",103)(9,"div",104),L()(),S(10,"div",105)(11,"div",106),je(12,"div",107)(13,"div",108)(14,"div",109),L(),S(15,"div",110)(16,"h4"),Y(17,"Rendering Preview"),L(),S(18,"p"),Y(19,"Optimizing your template for the best experience"),L(),S(20,"div",111)(21,"div",112),je(22,"div",113),L()()()()()),o&2&&Ce("@fadeInOut",void 0)}function lO(o,i){if(o&1){let e=jt();S(0,"div",114)(1,"div",115),je(2,"div",116),L(),S(3,"div",117)(4,"div",118),je(5,"div",119),pt(),S(6,"svg",120),je(7,"path",121)(8,"line",122)(9,"line",123),L()(),Mt(),S(10,"div",124)(11,"h3"),Y(12,"Preview Unavailable"),L(),S(13,"p"),Y(14),L(),S(15,"div",125)(16,"span"),Y(17,"This usually resolves quickly. Try refreshing the preview."),L()()(),S(18,"div",126)(19,"button",127),rt("click",function(){nt(e);let n=Ae(2);return it(n.onRefresh())}),pt(),S(20,"svg",29),je(21,"path",56)(22,"path",57)(23,"path",58)(24,"path",59),L(),Y(25," Try Again "),L(),Mt(),S(26,"button",128),pt(),S(27,"svg",29),je(28,"path",129),L(),Y(29," Get Support "),L()()()()}if(o&2){let e=Ae(2);Ce("@bounceIn",void 0),le(14),Ht(e.previewError)}}function cO(o,i){if(o&1){let e=jt();S(0,"div",89),tt(1,sO,23,1,"div",90),S(2,"div",91)(3,"div",92)(4,"iframe",93),rt("load",function(){nt(e);let n=Ae();return it(n.onIframeLoad())}),L()()(),tt(5,lO,30,2,"div",94),L()}if(o&2){let e=Ae();le(),Ce("ngIf",e.loading),le(),Ce("ngClass",Hd(4,D5,e.viewMode==="desktop",e.viewMode==="tablet",e.viewMode==="mobile")),le(2),Ri("srcdoc",e.safeSrcdoc,dc),le(),Ce("ngIf",e.previewError)}}var G0=(()=>{class o{constructor(){this.sanitizer=Pt(Wd),this.cdr=Pt(Ii),this.html="",this.showHeader=!0,this.loading=!1,this.hideHeader=!1,this.allowRefresh=!0,this.allowFullscreen=!0,this.allowViewModes=!0,this.showGenerateActions=!1,this.isGeneratePage=!1,this.internalLoading=!1,this.saveTemplate=new ma,this.runTests=new ma,this.templateNameChange=new ma,this.refresh=new ma,this.viewMode="desktop",this.isFullscreen=!1,this.safeSrcdoc=null}ngOnChanges(e){e.html&&this.html&&this.setFromHtml(this.html)}changeViewMode(e){this.viewMode=e,this.cdr.markForCheck()}onSaveTemplate(){this.saveTemplate.emit()}onTemplateNameChange(e){this.templateNameChange.emit(e)}onRunTests(){this.runTests.emit()}toggleFullscreen(){let e=document.querySelector(".preview-root");if(e)if(!this.isFullscreen)e.requestFullscreen&&e.requestFullscreen().then(()=>{this.isFullscreen=!0,this.cdr.markForCheck(),setTimeout(()=>{let t=document.querySelector(".cdk-overlay-container");t&&document.fullscreenElement&&document.fullscreenElement.appendChild(t)},100)});else{let t=document.querySelector(".cdk-overlay-container");t&&t.parentElement!==document.body&&document.body.appendChild(t),document.exitFullscreen&&document.exitFullscreen().then(()=>{this.isFullscreen=!1,this.cdr.markForCheck()})}}onRefresh(){this.html&&this.setFromHtml(this.html),this.refresh.emit(),this.cdr.markForCheck()}onIframeLoad(){this.internalLoading=!1,this.cdr.markForCheck()}setFromHtml(e){let t=this.ensureDoc(e),n=this.stripDangerousBits(t);this.safeSrcdoc=this.sanitizer.bypassSecurityTrustHtml(n),this.internalLoading=!0,setTimeout(()=>{this.internalLoading&&(this.internalLoading=!1,this.cdr.markForCheck())},3e3)}ensureDoc(e){let t=String(e||"");return/<body[\s>]/i.test(t)||/<\/html>/i.test(t)?t:["<!doctype html><html><head>",'<meta charset="utf-8">','<meta name="viewport" content="width=device-width,initial-scale=1">',"<style>html,body{margin:0;padding:0}</style>","</head><body>",t,"</body></html>"].join("")}stripDangerousBits(e){try{let t=new DOMParser().parseFromString(e,"text/html");return t.querySelectorAll("script, iframe, base").forEach(n=>n.remove()),t.querySelectorAll("*").forEach(n=>{for(let r=n.attributes.length-1;r>=0;r--){let a=n.attributes.item(r);a&&/^on/i.test(a.name)&&n.removeAttribute(a.name)}}),`<!doctype html>
`+t.documentElement.outerHTML}catch{return e.replace(/<script[\s\S]*?<\/script>/gi,"").replace(/<base[\s\S]*?>/gi,"").replace(/<iframe[\s\S]*?<\/iframe>/gi,"")}}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=Sn({type:o,selectors:[["app-template-preview-panel"]],contentQueries:function(t,n,r){if(t&1&&lo(r,N5,5),t&2){let a;fi(a=hi())&&(n.customHeaderTemplate=a.first)}},inputs:{html:"html",templateName:"templateName",templateId:"templateId",showHeader:"showHeader",loading:"loading",hideHeader:"hideHeader",allowRefresh:"allowRefresh",allowFullscreen:"allowFullscreen",allowViewModes:"allowViewModes",showGenerateActions:"showGenerateActions",isGeneratePage:"isGeneratePage"},outputs:{saveTemplate:"saveTemplate",runTests:"runTests",templateNameChange:"templateNameChange",refresh:"refresh"},standalone:!0,features:[Of,En],decls:5,vars:6,consts:[["actionsMenu","matMenu"],[1,"preview-root"],[4,"ngIf"],["class","preview-header",4,"ngIf"],["class","modern-placeholder",4,"ngIf"],["class","preview-container",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"preview-header"],[1,"header-content"],[1,"header-row-unified"],["class","header-left-group",4,"ngIf"],["class","template-title",4,"ngIf"],["class","actions-menu-btn","mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],[1,"actions-dropdown-menu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["class","menu-section-label",4,"ngIf"],[1,"header-left-group"],[1,"template-title"],["type","text","placeholder","Template Name","maxlength","100",1,"template-name-input-compact",3,"ngModelChange","ngModel"],["mat-icon-button","",1,"actions-menu-btn",3,"matMenuTriggerFor"],[1,"menu-section-label"],["class","check-icon",4,"ngIf"],[1,"check-icon"],[1,"template-meta"],[1,"status-badge"],[1,"status-indicator"],["class","template-id",4,"ngIf"],[1,"performance-badge-inline"],["viewBox","0 0 24 24","fill","none","stroke","currentColor"],["d","M13 2L3 14h9l-1 8 10-12h-9l1-8z"],[1,"header-controls-regular"],["class","action-btn fullscreen-btn",3,"click",4,"ngIf"],["class","view-mode-toggle",4,"ngIf"],["class","action-btn refresh-btn",3,"click",4,"ngIf"],[1,"template-id"],[1,"action-btn","fullscreen-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",4,"ngIf"],["d","M8 3H5a2 2 0 0 0-2 2v3"],["d","M21 8V5a2 2 0 0 0-2-2h-3"],["d","M3 16v3a2 2 0 0 0 2 2h3"],["d","M16 21h3a2 2 0 0 0 2-2v-3"],["d","M8 3v3a2 2 0 0 1-2 2H3"],["d","M21 8h-3a2 2 0 0 1-2-2V3"],["d","M3 16h3a2 2 0 0 1 2 2v3"],["d","M16 21v-3a2 2 0 0 1 2-2h3"],[1,"view-mode-toggle"],[1,"mode-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x","2","y","3","width","20","height","14","rx","2","ry","2"],["x1","8","y1","21","x2","16","y2","21"],["x1","12","y1","17","x2","12","y2","21"],["x","4","y","2","width","16","height","20","rx","2","ry","2"],["x1","12","y1","18","x2","12.01","y2","18"],["x","5","y","2","width","14","height","20","rx","2","ry","2"],[1,"action-btn","refresh-btn",3,"click"],["d","M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"],["d","M21 3v5h-5"],["d","M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"],["d","M3 21v-5h5"],[1,"modern-placeholder"],[1,"placeholder-background"],[1,"floating-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"grid-pattern"],[1,"placeholder-content"],[1,"ai-warning-container"],[1,"floating-ai-icon"],["cx","12","cy","12","r","10"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["cx","12","cy","17","r","0.5","fill","currentColor","stroke","none"],[1,"pulse-ring"],[1,"warning-text"],[1,"info-badges"],[1,"badge","warning"],["d","M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"],[1,"badge","info"],[1,"placeholder-icon-container"],[1,"icon-backdrop"],[1,"icon-ring"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"placeholder-icon"],["d","m15 10 4.553-2.276A1 1 0 0 1 21 8.618v6.764a1 1 0 0 1-1.447.894L15 14"],["x","3","y","6","width","12","height","12","rx","2"],[1,"placeholder-text"],[1,"feature-pills"],[1,"pill"],[1,"preview-container"],["class","advanced-loader",4,"ngIf"],[1,"iframe-wrapper",3,"ngClass"],[1,"iframe-container"],["sandbox","allow-same-origin allow-forms","referrerpolicy","no-referrer",1,"preview-frame",3,"load"],["class","premium-error",4,"ngIf"],[1,"advanced-loader"],[1,"loader-background"],[1,"neural-network"],[1,"node","node-1"],[1,"node","node-2"],[1,"node","node-3"],[1,"node","node-4"],[1,"connection","connection-1"],[1,"connection","connection-2"],[1,"connection","connection-3"],[1,"loader-content"],[1,"loader-spinner"],[1,"spinner-outer"],[1,"spinner-inner"],[1,"spinner-core"],[1,"loader-text"],[1,"progress-indicator"],[1,"progress-bar"],[1,"progress-fill"],[1,"premium-error"],[1,"error-background"],[1,"error-pattern"],[1,"error-content"],[1,"error-icon-container"],[1,"error-icon-backdrop"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"error-icon"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"error-text"],[1,"error-details"],[1,"error-actions"],[1,"retry-btn",3,"click"],[1,"support-btn"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"]],template:function(t,n){t&1&&(S(0,"div",1),tt(1,F5,2,1,"ng-container",2)(2,iO,26,12,"div",3)(3,aO,11,2,"div",4)(4,cO,6,8,"div",5),L()),t&2&&(Kt("fullscreen",n.isFullscreen),le(),Ce("ngIf",n.customHeaderTemplate),le(),Ce("ngIf",!n.customHeaderTemplate&&n.showHeader&&!n.hideHeader),le(),Ce("ngIf",!n.html&&!n.loading),le(),Ce("ngIf",n.html||n.loading))},dependencies:[qn,Ud,xi,Sf,Wi,_o,qi,Ki,yo,go,fo,ho,$d,mo,Xs,el,Ma,Oa,Xd,Pa,$s,Yd],styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%;position:relative}.preview-root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:linear-gradient(135deg,#f8fafc,#e2e8f0);overflow:hidden;position:relative;transition:all .4s cubic-bezier(.4,0,.2,1)}.preview-root[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(120,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgba(120,219,255,.2) 0%,transparent 50%);pointer-events:none;animation:_ngcontent-%COMP%_gradient-shift 15s ease infinite}.preview-root.fullscreen[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999}.preview-header[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#6d28d9,#5b21b6);padding:1.5rem 2rem;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.2);overflow:hidden;box-shadow:0 4px 24px #0000001a;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;flex-direction:column;gap:1rem;max-width:1400px;margin:0 auto}.preview-header[_ngcontent-%COMP%]   .header-row-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:nowrap}@media (max-width: 1200px){.preview-header[_ngcontent-%COMP%]   .header-row-main[_ngcontent-%COMP%]{flex-wrap:wrap}}.preview-header[_ngcontent-%COMP%]   .header-row-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;flex-wrap:wrap}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:800;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.3);letter-spacing:-.02em;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#ffffff40;border:1px solid rgba(255,255,255,.4);border-radius:24px;font-size:.875rem;font-weight:700;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #00000026;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background:#10b981;border-radius:50%;box-shadow:0 0 0 2px #10b98166;animation:_ngcontent-%COMP%_pulse-status 2s infinite;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%]{font-size:.8125rem;color:#fff;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,.3);opacity:.95;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:linear-gradient(135deg,#fbbf24,#f59e0b);border:1px solid #d97706;border-radius:24px;font-size:.875rem;font-weight:700;color:#78350f;box-shadow:0 2px 8px #f59e0b4d;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;stroke-width:2.5;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1rem;border:1px solid rgba(255,255,255,.35);background:#fff3;color:#fff;border-radius:10px;font-size:.875rem;font-weight:700;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #0000001a;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-2px);box-shadow:0 6px 16px #0003}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.preview-header[_ngcontent-%COMP%]   .action-btn.refresh-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin-refresh .6s ease}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]{display:flex;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:12px;padding:4px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .75rem;border:none;background:transparent;color:#ffffffd9;border-radius:8px;font-size:.8125rem;font-weight:600;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#fff3}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn.active[_ngcontent-%COMP%]{color:#fff;background:#ffffff59;box-shadow:0 2px 8px #00000026}.template-name-input-simple[_ngcontent-%COMP%]{width:200px;padding:.75rem 1.25rem;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:12px;color:#fff;font-size:.9375rem;font-weight:600;font-family:inherit;transition:all .2s}.template-name-input-simple[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.template-name-input-simple[_ngcontent-%COMP%]:focus{outline:none;background:#ffffff40;border-color:#ffffff80;box-shadow:0 0 0 3px #ffffff1a}.save-btn[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:.5rem!important;padding:.75rem 1.5rem!important;background:linear-gradient(135deg,#667eea,#764ba2)!important;color:#fff!important;border:none!important;border-radius:12px!important;font-weight:700!important;font-size:.9375rem!important;box-shadow:0 4px 16px #667eea4d!important;transition:all .3s!important;white-space:nowrap!important;cursor:pointer}.save-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;display:none}.save-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #667eea66!important}.save-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.run-tests-btn[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:.5rem!important;padding:.75rem 1.5rem!important;background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;border:none!important;border-radius:12px!important;font-weight:700!important;font-size:.9375rem!important;box-shadow:0 4px 16px #10b9814d!important;transition:all .3s!important;white-space:nowrap!important;cursor:pointer}.run-tests-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.run-tests-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #10b98166!important}.run-tests-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.modern-placeholder[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;padding:2rem 1rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]{display:none}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:400px}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]{display:none}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;background:linear-gradient(135deg,#6d28d9,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0 0 1rem;letter-spacing:-.02em;line-height:1.2}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#64748b;line-height:1.6;margin:0;font-weight:500}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%], .modern-placeholder[_ngcontent-%COMP%]   .ai-warning-container[_ngcontent-%COMP%]   .floating-ai-icon[_ngcontent-%COMP%], .modern-placeholder[_ngcontent-%COMP%]   .ai-warning-container[_ngcontent-%COMP%]   .info-badges[_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative;margin:0;background:#fff;border-radius:0;box-shadow:none;overflow:hidden;animation:_ngcontent-%COMP%_scaleIn .4s cubic-bezier(.4,0,.2,1)}.advanced-loader[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;padding:1rem}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffffffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:.08}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;background:#6366f1;border-radius:50%;box-shadow:0 0 20px #6366f180;animation:_ngcontent-%COMP%_node-pulse 2s ease-in-out infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-1[_ngcontent-%COMP%]{top:25%;left:25%}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-2[_ngcontent-%COMP%]{top:25%;right:25%;animation-delay:.5s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-3[_ngcontent-%COMP%]{bottom:25%;left:25%;animation-delay:1s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-4[_ngcontent-%COMP%]{bottom:25%;right:25%;animation-delay:1.5s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection[_ngcontent-%COMP%]{position:absolute;height:3px;background:linear-gradient(90deg,transparent,#6366f1,transparent);animation:_ngcontent-%COMP%_connection-flow 3s ease-in-out infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-1[_ngcontent-%COMP%]{top:25%;left:25%;right:25%}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-2[_ngcontent-%COMP%]{bottom:25%;left:25%;right:25%;animation-delay:1s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-3[_ngcontent-%COMP%]{top:25%;bottom:25%;left:25%;width:3px;height:auto;background:linear-gradient(180deg,transparent,#6366f1,transparent);animation-delay:2s}.advanced-loader[_ngcontent-%COMP%]   .loader-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;animation:_ngcontent-%COMP%_fadeIn .4s}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{position:relative;width:70px;height:70px;margin:0 auto 2rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{position:absolute;border:4px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin-loader 1.2s linear infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%]{width:100%;height:100%;border-top-color:#6366f1;border-right-color:#6366f1;box-shadow:0 0 20px #6366f14d}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%]{width:70%;height:70%;top:15%;left:15%;border-top-color:#8b5cf6;border-left-color:#8b5cf6;animation-delay:-.4s;animation-direction:reverse;box-shadow:0 0 15px #8b5cf64d}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{width:40%;height:40%;top:30%;left:30%;border-top-color:#06b6d4;border-bottom-color:#06b6d4;animation-delay:-.8s;box-shadow:0 0 10px #06b6d44d}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#1f2937;margin:0 0 .75rem;letter-spacing:-.02em}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0 0 2rem;font-weight:500}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:350px;margin:0 auto}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden;box-shadow:inset 0 2px 4px #0000000f}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(135deg,#4facfe,#00f2fe);border-radius:4px;width:0%;animation:_ngcontent-%COMP%_progress-flow 2.5s ease-in-out infinite;box-shadow:0 0 10px #4facfe80}.iframe-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;background:#fff;display:flex;align-items:center;justify-content:center;padding:0}.iframe-wrapper[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:all .4s cubic-bezier(.4,0,.2,1);box-shadow:none;border-radius:0;overflow:hidden;background:#fff}.iframe-wrapper[_ngcontent-%COMP%]   .preview-frame[_ngcontent-%COMP%]{width:100%;height:100%;border:none;border-radius:0;background:#fff;transition:all .4s cubic-bezier(.4,0,.2,1)}.iframe-wrapper.desktop-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100%;height:100%}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(768px,85vw);height:100%;box-shadow:0 8px 32px #0000001f;border-radius:12px}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(375px,50vw);height:100%;box-shadow:0 8px 32px #0000001f;border-radius:12px}.premium-error[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:50;padding:1rem}.premium-error[_ngcontent-%COMP%]   .error-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#fef2f2,#fff7f7)}.premium-error[_ngcontent-%COMP%]   .error-background[_ngcontent-%COMP%]   .error-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:radial-gradient(circle at 2px 2px,rgba(239,68,68,.08) 2px,transparent 0);background-size:24px 24px;animation:_ngcontent-%COMP%_pattern-shift 20s linear infinite}.premium-error[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:480px;padding:2.5rem;animation:_ngcontent-%COMP%_bounceIn .6s cubic-bezier(.68,-.55,.265,1.55)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]{position:relative;margin:0 auto 2rem;width:100px;height:100px}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]   .error-icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#f093fb,#f5576c);border-radius:50%;opacity:.15;animation:_ngcontent-%COMP%_error-pulse 2s ease-in-out infinite;filter:blur(20px)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#ef4444;stroke-width:2;animation:_ngcontent-%COMP%_shake-error .5s ease-in-out;filter:drop-shadow(0 4px 12px rgba(239,68,68,.3))}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{margin-bottom:2.5rem}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;color:#dc2626;margin:0 0 1rem;letter-spacing:-.02em}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#7f1d1d;margin:0 0 .75rem;font-weight:600}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{font-size:1rem;color:#991b1b;opacity:.9;font-weight:500}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.25rem;flex-wrap:wrap}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.75rem;border:none;border-radius:10px;font-size:.9375rem;font-weight:700;cursor:pointer;transition:all .3s;white-space:nowrap}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 16px #ef44444d}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 32px #ef444466}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]{background:#fff;color:#ef4444;border:2px solid #ef4444;box-shadow:0 2px 8px #ef44441a}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff;transform:translateY(-3px)}@keyframes _ngcontent-%COMP%_gradient-shift{0%,to{opacity:1}50%{opacity:.8}}@keyframes _ngcontent-%COMP%_grid-move{0%{transform:translate(0)}to{transform:translate(50px,50px)}}@keyframes _ngcontent-%COMP%_float-shapes{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-40px,-40px) rotate(120deg)}66%{transform:translate(40px,40px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_float-icon{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(5deg)}}@keyframes _ngcontent-%COMP%_rotate-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-backdrop{0%,to{transform:scale(1);opacity:.12}50%{transform:scale(1.15);opacity:.25}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse-status{0%,to{opacity:1;transform:scale(1);box-shadow:0 0 0 3px #10b98166}50%{opacity:.6;transform:scale(1.3);box-shadow:0 0 0 6px #10b9811a}}@keyframes _ngcontent-%COMP%_spin-refresh{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_node-pulse{0%,to{opacity:.3;transform:scale(1);box-shadow:0 0 20px #6366f14d}50%{opacity:1;transform:scale(1.8);box-shadow:0 0 30px #6366f199}}@keyframes _ngcontent-%COMP%_connection-flow{0%,to{opacity:.3}50%{opacity:1}}@keyframes _ngcontent-%COMP%_spin-loader{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_progress-flow{0%{width:0%}50%{width:75%}to{width:100%}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.4)}50%{opacity:1;transform:scale(1.08)}70%{transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_error-pulse{0%,to{transform:scale(1);opacity:.15}50%{transform:scale(1.25);opacity:.35}}@keyframes _ngcontent-%COMP%_shake-error{0%,to{transform:translate(0) rotate(0)}10%,30%,50%,70%,90%{transform:translate(-6px) rotate(-2deg)}20%,40%,60%,80%{transform:translate(6px) rotate(2deg)}}@keyframes _ngcontent-%COMP%_pattern-shift{0%{transform:translate(0) translateY(0)}to{transform:translate(24px) translateY(24px)}}@media (max-width: 1200px){.header-row-main[_ngcontent-%COMP%]{flex-wrap:wrap}.header-row-main[_ngcontent-%COMP%]   .template-name-input-simple[_ngcontent-%COMP%]{width:100%;max-width:300px}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(768px,90vw)}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(375px,60vw)}}@media (max-width: 1024px){.preview-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:.875rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:.875rem}}@media (max-width: 768px){.preview-header[_ngcontent-%COMP%]{padding:1rem}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:1.25rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:.5rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem}.header-row-main[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;width:100%}.header-row-main[_ngcontent-%COMP%]   .template-name-input-simple[_ngcontent-%COMP%], .header-row-main[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%], .header-row-main[_ngcontent-%COMP%]   .run-tests-btn[_ngcontent-%COMP%], .header-row-main[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]   .template-name-input-simple[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]   .run-tests-btn[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%], .view-mode-toggle[_ngcontent-%COMP%]{width:100%;justify-content:center}.view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.5rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.75rem;max-width:200px}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100vw;border-radius:0;box-shadow:none}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100vw;border-radius:4px}}@media (max-width: 480px){.preview-header[_ngcontent-%COMP%]{padding:.75rem}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:1rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:.375rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:.6875rem;padding:.25rem .5rem}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.8125rem}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]{padding:2px}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{padding:.25rem .375rem}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:10px;height:10px}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:60px;height:60px;margin:0 auto 1.5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin:0 0 1rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:250px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:6px}}@media (max-width: 1024px){.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 2rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:300px}}@media (max-width: 768px){.advanced-loader[_ngcontent-%COMP%]{padding:.5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:65px;height:65px;margin:0 auto 1.25rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{border-width:3px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin:0 0 .5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin:0 0 1.25rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:280px}}@media (max-width: 480px),(max-height: 600px){.advanced-loader[_ngcontent-%COMP%]{padding:.5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:55px;height:55px;margin:0 auto 1rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{border-width:2px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin:0 0 .375rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem;margin:0 0 1rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:220px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:5px}}@media (max-height: 500px) and (orientation: landscape){.advanced-loader[_ngcontent-%COMP%]{padding:.5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin:0 auto .75rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{border-width:2px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9375rem;margin:0 0 .25rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;margin:0 0 .75rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:200px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:4px}}@media (max-width: 360px){.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin:0 auto .875rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9375rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:180px}}@media (prefers-color-scheme: dark){.preview-root[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b)}.preview-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4c1d95,#3730a3)}.preview-container[_ngcontent-%COMP%]{background:#1e293b}.iframe-wrapper[_ngcontent-%COMP%]{background:#0f172a}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{background:#1e293bcc;border-color:#475569;color:#cbd5e1}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover{background:#6366f11a;border-color:#6366f1;color:#a5b4fc}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]{background:#0f172afa}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f1f5f9}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}.floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%], .neural-network[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .neural-network[_ngcontent-%COMP%]   .connection[_ngcontent-%COMP%], .grid-pattern[_ngcontent-%COMP%]{animation:none!important}}@media (prefers-contrast: high){.preview-header[_ngcontent-%COMP%]{background:#000;border-bottom:2px solid #fff}.template-title[_ngcontent-%COMP%], .template-meta[_ngcontent-%COMP%], .action-btn[_ngcontent-%COMP%], .mode-btn[_ngcontent-%COMP%]{color:#fff!important;border-color:#fff!important}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:#000;-webkit-background-clip:initial;-webkit-text-fill-color:initial;background-clip:initial;color:#000}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{background:#fff;border:2px solid #000;color:#000}}@media print{.preview-root[_ngcontent-%COMP%]{height:auto;background:#fff}.preview-header[_ngcontent-%COMP%]{background:#6d28d9;color:#fff;-webkit-print-color-adjust:exact;print-color-adjust:exact}.modern-placeholder[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]{page-break-inside:avoid}}.ai-warning-container[_ngcontent-%COMP%]{text-align:center;max-width:600px;margin:0 auto;padding:2rem;animation:_ngcontent-%COMP%_fadeInScale .6s ease forwards;background:transparent!important}.floating-ai-icon[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;margin:0 auto 2.5rem;animation:_ngcontent-%COMP%_floatUpDown 3s ease-in-out infinite}.floating-ai-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;stroke:#6d28d9;filter:drop-shadow(0 10px 30px rgba(109,40,217,.3));position:relative;z-index:2}.floating-ai-icon[_ngcontent-%COMP%]   .pulse-ring[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:100%;height:100%;transform:translate(-50%,-50%);border-radius:50%;border:3px solid rgba(109,40,217,.4);animation:_ngcontent-%COMP%_pulseRing 2s ease-out infinite}.floating-ai-icon[_ngcontent-%COMP%]   .pulse-ring[_ngcontent-%COMP%]:before, .floating-ai-icon[_ngcontent-%COMP%]   .pulse-ring[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%;border:3px solid rgba(109,40,217,.3)}.floating-ai-icon[_ngcontent-%COMP%]   .pulse-ring[_ngcontent-%COMP%]:before{width:130%;height:130%;animation:_ngcontent-%COMP%_pulseRing 2s ease-out infinite .5s}.floating-ai-icon[_ngcontent-%COMP%]   .pulse-ring[_ngcontent-%COMP%]:after{width:160%;height:160%;animation:_ngcontent-%COMP%_pulseRing 2s ease-out infinite 1s}.ai-warning-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1.5rem,3.5vw,2rem);font-weight:800;background:linear-gradient(135deg,#6d28d9,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0 0 1rem;letter-spacing:-.02em;line-height:1.2}.warning-text[_ngcontent-%COMP%]{font-size:clamp(.9375rem,2vw,1.0625rem);line-height:1.6;color:#64748b;margin:0 0 2rem;font-weight:500;max-width:480px;margin-left:auto;margin-right:auto}.info-badges[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.6875rem 1.375rem;border-radius:50px;font-size:.875rem;font-weight:800;border:2.5px solid;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:default;letter-spacing:.01em}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0;stroke-width:2.5}.info-badges[_ngcontent-%COMP%]   .badge.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#fbbf241a);border-color:#f59e0b59;color:#d97706}.info-badges[_ngcontent-%COMP%]   .badge.warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);border-color:#f59e0b80;transform:translateY(-2px);box-shadow:0 8px 20px #f59e0b33}.info-badges[_ngcontent-%COMP%]   .badge.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#93c5fd1a);border-color:#3b82f659;color:#2563eb}.info-badges[_ngcontent-%COMP%]   .badge.info[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f633,#93c5fd33);border-color:#3b82f680;transform:translateY(-2px);box-shadow:0 8px 20px #3b82f633}@keyframes _ngcontent-%COMP%_floatUpDown{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_pulseRing{0%{opacity:1;transform:translate(-50%,-50%) scale(.8)}to{opacity:0;transform:translate(-50%,-50%) scale(1.4)}}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.ai-warning-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.floating-ai-icon[_ngcontent-%COMP%]{width:90px;height:90px;margin-bottom:2rem}.info-badges[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{justify-content:center;width:100%}}@media (max-width: 480px){.floating-ai-icon[_ngcontent-%COMP%]{width:70px;height:70px;margin-bottom:1.5rem}.warning-text[_ngcontent-%COMP%]{font-size:.9375rem;margin-bottom:2rem}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.625rem 1.25rem;font-size:.875rem}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}}@media (prefers-reduced-motion: reduce){.floating-ai-icon[_ngcontent-%COMP%], .pulse-ring[_ngcontent-%COMP%], .pulse-ring[_ngcontent-%COMP%]:before, .pulse-ring[_ngcontent-%COMP%]:after{animation:none!important}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]:hover{transform:none!important}.ai-warning-container[_ngcontent-%COMP%]{animation:none!important}}.header-row-unified[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;width:100%}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .header-left-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1;min-width:0}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .header-left-group[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{margin:0;flex-shrink:0;display:none}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .template-name-input-compact[_ngcontent-%COMP%]{flex:1;min-width:150px;max-width:400px;padding:.75rem 1.25rem;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:12px;color:#fff;font-size:.9375rem;font-weight:600;font-family:inherit;transition:all .2s}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .template-name-input-compact[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .template-name-input-compact[_ngcontent-%COMP%]:focus{outline:none;background:#ffffff40;border-color:#ffffff80;box-shadow:0 0 0 3px #ffffff1a}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .actions-menu-btn[_ngcontent-%COMP%]{width:48px!important;height:48px!important;background:#fff3!important;border:1px solid rgba(255,255,255,.3)!important;border-radius:12px!important;color:#fff!important;transition:all .2s!important;flex-shrink:0;margin-left:auto}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .actions-menu-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .actions-menu-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d!important;transform:scale(1.05)}  .actions-dropdown-menu .mat-mdc-menu-panel{background:#fff;border-radius:12px;box-shadow:0 12px 48px #0003;min-width:240px!important}  .actions-dropdown-menu .mat-mdc-menu-item{height:48px;font-size:.9375rem;font-weight:600;transition:all .2s;display:flex!important;align-items:center!important;padding:0 16px!important}  .actions-dropdown-menu .mat-mdc-menu-item mat-icon{margin-right:1rem;color:#6d28d9;flex-shrink:0}  .actions-dropdown-menu .mat-mdc-menu-item mat-icon.active-mode{color:#10b981}  .actions-dropdown-menu .mat-mdc-menu-item mat-icon.check-icon{position:absolute!important;right:16px!important;margin:0!important;color:#10b981;font-size:20px;width:20px;height:20px}  .actions-dropdown-menu .mat-mdc-menu-item span{flex:1;padding-right:32px}  .actions-dropdown-menu .mat-mdc-menu-item:hover{background:linear-gradient(135deg,#6d28d914,#ec489914)}  .actions-dropdown-menu .menu-section-label{padding:.5rem 1rem;font-size:.75rem;font-weight:800;text-transform:uppercase;letter-spacing:.05em;color:#94a3b8}  .actions-dropdown-menu .mat-divider{margin:.5rem 0;border-top-color:#e2e8f0}.header-controls-regular[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-left:auto}@media (min-width: 768px){.modern-placeholder[_ngcontent-%COMP%]{padding:1rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]{display:block;position:absolute;inset:0}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;background:linear-gradient(135deg,#f093fb,#f5576c);border-radius:50%;opacity:.12;filter:blur(40px);animation:_ngcontent-%COMP%_float-shapes 12s ease-in-out infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:200px;height:200px;top:15%;left:8%}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:150px;height:150px;top:55%;right:12%;animation-delay:-3s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:250px;height:250px;bottom:18%;left:18%;animation-delay:-6s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-4[_ngcontent-%COMP%]{width:180px;height:180px;top:8%;right:25%;animation-delay:-9s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .grid-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(99,102,241,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(99,102,241,.03) 1px,transparent 1px);background-size:50px 50px;animation:_ngcontent-%COMP%_grid-move 20s linear infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{max-width:560px;padding:2rem;animation:_ngcontent-%COMP%_fadeInUp .6s cubic-bezier(.68,-.55,.265,1.55)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]{display:block;position:relative;margin:0 auto 2.5rem;width:140px;height:140px}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#4facfe,#00f2fe);border-radius:50%;opacity:.12;animation:_ngcontent-%COMP%_pulse-backdrop 3s ease-in-out infinite;filter:blur(20px)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-ring[_ngcontent-%COMP%]{position:absolute;inset:-10px;border:2px solid rgba(99,102,241,.2);border-radius:50%;animation:_ngcontent-%COMP%_rotate-ring 8s linear infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-ring[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;width:8px;height:8px;background:#6366f1;border-radius:50%;transform:translate(-50%,-50%);box-shadow:0 0 12px #6366f199}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#6366f1;stroke-width:1.5;animation:_ngcontent-%COMP%_float-icon 4s ease-in-out infinite;filter:drop-shadow(0 4px 12px rgba(99,102,241,.2))}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{margin-bottom:2.5rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1.25rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.25rem;flex-wrap:wrap}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;background:#fff;border:2px solid #e2e8f0;border-radius:50px;font-size:.9375rem;font-weight:700;color:#475569;box-shadow:0 8px 32px #00000014;transition:all .4s cubic-bezier(.4,0,.2,1);animation:_ngcontent-%COMP%_slideInUp .4s cubic-bezier(.4,0,.2,1);animation-fill-mode:both;cursor:default;white-space:nowrap}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(1){animation-delay:.15s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(2){animation-delay:.25s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(3){animation-delay:.35s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5;transition:all .2s;flex-shrink:0}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 16px 64px #00000026;border-color:#6366f1;color:#6366f1;background:linear-gradient(135deg,#fff,#f8f9ff)}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg)}.modern-placeholder[_ngcontent-%COMP%]   .ai-warning-container[_ngcontent-%COMP%]   .floating-ai-icon[_ngcontent-%COMP%]{display:block}.modern-placeholder[_ngcontent-%COMP%]   .ai-warning-container[_ngcontent-%COMP%]   .info-badges[_ngcontent-%COMP%]{display:flex}}'],data:{animation:[Xn("fadeInOut",[mc("in",Yt({opacity:1})),Nn(":enter",[Yt({opacity:0}),In(300,Yt({opacity:1}))]),Nn(":leave",[In(300,Yt({opacity:0}))])]),Xn("bounceIn",[Nn(":enter",[Yt({opacity:0,transform:"scale(0.3)"}),In("300ms ease-in",Yt({opacity:1,transform:"scale(1.05)"})),In("100ms ease-out",Yt({transform:"scale(1)"}))])])]},changeDetection:0})}}return o})();var _u=(()=>{class o{constructor(){this.http=Pt(Ca),this.db=Pt(Ro)}kConversation(e){return`generate:conversation:${e}`}kCurrentConversationId(){return"generate:currentConversationId"}kConversationSession(e){return`generate_session:${e}`}startGeneration(e,t,n){let r={prompt:e,images:t,conversationId:n};return this.http.post("/api/generate/start",r,{withCredentials:!0}).pipe(Rd(a=>{this.setCurrentConversationId(a.conversationId)}))}continueConversation(e,t,n){let r={message:t,images:n};return this.http.post(`/api/generate/continue/${e}`,r,{withCredentials:!0})}getConversation(e){let t=this.getConversationCached(e);return t&&t.messages&&t.messages.length>0?v1(t):this.http.get(`/api/generate/conversation/${e}`,{withCredentials:!0}).pipe(Rd(n=>{this.cacheConversation(e,n)}))}getHistory(e=10,t=0){return this.http.get(`/api/generate/history?limit=${e}&offset=${t}`,{withCredentials:!0})}saveTemplate(e,t){return this.http.post(`/api/generate/save/${e}`,{templateName:t},{withCredentials:!0}).pipe(Rd(n=>{let r=this.getConversationCached(e);r&&(r.templateName=t,r.status="saved",this.cacheConversation(e,r))}))}previewMjml(e){return this.http.post("/api/generate/preview",{mjml:e},{withCredentials:!0})}getStarter(){return this.http.get("/api/generate/starter",{withCredentials:!0})}getConversationCached(e){try{let t=this.kConversationSession(e),n=sessionStorage.getItem(t),r="sessionStorage";if(!n){let s=this.kConversation(e);n=localStorage.getItem(s),r="localStorage"}if(!n)return null;let a=JSON.parse(n);return!a.conversationId||!Array.isArray(a.messages)?(this.clearConversationCache(e),null):(a.createdAt=new Date(a.createdAt),a.updatedAt=new Date(a.updatedAt),a.messages=a.messages.map(s=>fa(Rr({},s),{timestamp:new Date(s.timestamp),images:s.images||void 0})),a)}catch{try{this.clearConversationCache(e)}catch{}return null}}cacheConversation(e,t){try{let n=JSON.stringify(t);try{let r=this.kConversationSession(e);sessionStorage.setItem(r,n)}catch{this.clearOldConversations("session");try{sessionStorage.setItem(this.kConversationSession(e),n)}catch{}}try{let r=this.kConversation(e);localStorage.setItem(r,n)}catch{}}catch{}}updateConversationCache(e,t,n,r,a){try{let s=this.getConversationCached(e);if(s)s.messages=t,s.currentHtml=n,s.currentMjml=r,a!==void 0&&(s.templateName=a),s.updatedAt=new Date,this.cacheConversation(e,s);else{let c={conversationId:e,messages:t,currentHtml:n,currentMjml:r,templateName:a,status:"active",createdAt:new Date,updatedAt:new Date};this.cacheConversation(e,c)}}catch{}}getCurrentConversationId(){try{return sessionStorage.getItem(this.kCurrentConversationId())||localStorage.getItem(this.kCurrentConversationId())}catch{return null}}setCurrentConversationId(e){try{sessionStorage.setItem(this.kCurrentConversationId(),e),localStorage.setItem(this.kCurrentConversationId(),e)}catch{}}clearCurrentConversationId(){try{sessionStorage.removeItem(this.kCurrentConversationId()),localStorage.removeItem(this.kCurrentConversationId())}catch{}}clearConversationCache(e){try{sessionStorage.removeItem(this.kConversationSession(e)),localStorage.removeItem(this.kConversation(e))}catch{}}clearOldConversations(e="session"){try{let t=e==="session"?sessionStorage:localStorage,n=e==="session"?"generate_session:":"generate:conversation:",r=[];for(let a=0;a<t.length;a++){let s=t.key(a);s&&s.startsWith(n)&&r.push(s)}r.length>5&&r.slice(0,r.length-5).forEach(a=>{t.removeItem(a)})}catch{}}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275prov=ao({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var dO=["messagesContainer"],uO=["messageInput"];function pO(o,i){if(o&1&&je(0,"img",39),o&2){let e=i.$implicit;Ce("src","data:"+e.mediaType+";base64,"+e.data,va)("alt",e.fileName)}}function fO(o,i){if(o&1&&(S(0,"div",37),tt(1,pO,1,2,"img",38),L()),o&2){let e=Ae().$implicit;le(),Ce("ngForOf",e.images)}}function hO(o,i){if(o&1&&(S(0,"div",30)(1,"div",31)(2,"div",32)(3,"span",33),Y(4),L(),S(5,"span",34),Y(6),sn(7,"date"),L()(),tt(8,fO,2,1,"div",35),S(9,"div",36),Y(10),L()()()),o&2){let e=i.$implicit;Kt("user-msg",e.role==="user")("assistant-msg",e.role==="assistant"),le(),Kt("user-bubble",e.role==="user"),le(3),Ht(e.role==="user"?"You":"AI Assistant"),le(2),Ht(hc(7,10,e.timestamp,"short")),le(2),Ce("ngIf",e.images&&e.images.length>0),le(2),rn(" ",e.content," ")}}function mO(o,i){if(o&1){let e=jt();S(0,"div",44),je(1,"img",39),S(2,"button",45),rt("click",function(){let n=nt(e).index,r=Ae(2);return it(r.removeImage(n))}),S(3,"mat-icon"),Y(4,"close"),L()()()}if(o&2){let e=i.$implicit,t=i.index;le(),Ce("src",e,va)("alt","Preview "+(t+1))}}function gO(o,i){if(o&1&&(S(0,"div",40)(1,"div",41)(2,"div",32)(3,"span",33),Y(4,"Image Preview"),L()(),S(5,"div",42),tt(6,mO,5,2,"div",43),L()()()),o&2){let e=Ae();le(6),Ce("ngForOf",e.imagePreviewUrls)}}function vO(o,i){if(o&1&&(S(0,"div",46)(1,"div",47)(2,"div",32)(3,"span",33),Y(4,"AI Assistant"),L()(),S(5,"div",36)(6,"div",48),je(7,"span")(8,"span")(9,"span"),L(),S(10,"span",49),Y(11),L()()()()),o&2){let e=Ae();le(11),Ht(e.isRegenerating?"Regenerating template...":"Generating template...")}}var W0=(()=>{class o{constructor(){this.generationService=Pt(_u),this.templatesService=Pt(xa),this.router=Pt(Un),this.route=Pt(uo),this.location=Pt(Bd),this.snackBar=Pt(Ys),this.dialog=Pt(Jd),this.destroy$=new Xa,this.previewCache=Pt(Qs),this.scrollAnimation=null,this.templateState=Pt(wa),this.sentImages=[],this.cdr=Pt(Ii),this.viewMode="desktop",this.conversationId=null,this.messages$=new Gi([]),this.currentHtml$=new Gi(""),this.isGenerating$=new Gi(!1),this.isRegenerating=!1,this.justCreatedConversationId=null,this.userInput="",this.templateName="Generated Template",this.selectedImages=[],this.imagePreviewUrls=[],this.maxImages=2,this.maxSizeBytes=5*1024*1024,this.MAX_CHAT_MESSAGES=20,this.shouldAutoScroll=!0,this.isProgrammaticScroll=!1}ngOnInit(){this.templateName="Generated Template",this.route.paramMap.pipe(Di(this.destroy$)).subscribe(e=>{let t=e.get("conversationId");if(t&&t!=="new")t!==this.justCreatedConversationId&&this.loadConversation(t);else if(t==="new"){let n=this.generateUUID();this.conversationId=n,this.justCreatedConversationId=n,this.isRegenerating=!1,this.initializeWelcome(),this.router.navigate(["/generate",n],{replaceUrl:!0})}})}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}changeViewMode(e){this.viewMode=e}ngAfterViewInit(){setTimeout(()=>{try{let e=this.messagesContainer?.nativeElement;e&&(e.addEventListener("wheel",()=>{this.scrollAnimation&&(cancelAnimationFrame(this.scrollAnimation),this.scrollAnimation=null)}),e.addEventListener("touchmove",()=>{this.scrollAnimation&&(cancelAnimationFrame(this.scrollAnimation),this.scrollAnimation=null)})),window.scrollTo(0,0),this.positionChatAtBottom()}catch{}},0)}positionChatAtBottom(){setTimeout(()=>{let e=this.messagesContainer?.nativeElement;e&&e.scrollHeight>0&&(e.style.scrollBehavior="auto",e.scrollTop=e.scrollHeight,setTimeout(()=>{e.style.scrollBehavior="smooth"},50))},50)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.messages$.complete(),this.currentHtml$.complete(),this.isGenerating$.complete()}handleBeforeUnload(e){if(this.isGenerating$.value){let t="\u26A0\uFE0F Your template is still being generated and will be lost if you leave.";e.preventDefault(),e.returnValue=t;return}}canDeactivate(){if(!this.isGenerating$.value)return!0;let e=confirm(`\u26A0\uFE0F Your template is still being generated and will be lost if you leave.

Are you sure you want to leave? All progress will be lost.`);return e&&this.isGenerating$.next(!1),e}initializeWelcome(){let e={role:"assistant",content:`\u{1F44B} Hi! I'm your email template generator. Describe the email template you'd like to create, and I'll generate it for you.

For example:
\u2022 "Create a welcome email for new subscribers"
\u2022 "Design a product launch announcement"
\u2022 "Make a monthly newsletter template"`,timestamp:new Date};this.messages$.next([e]),this.conversationId&&this.generationService.updateConversationCache(this.conversationId,[e],"","",this.templateName)}loadConversation(e){this.conversationId=e,this.isGenerating$.next(!0),this.generationService.getConversation(e).pipe(Di(this.destroy$)).subscribe({next:t=>{this.messages$.next(t.messages),this.currentHtml$.next(t.currentHtml),this.templateName=t.templateName||"Generated Template",this.isRegenerating=!!t.currentHtml,this.isGenerating$.next(!1),this.scrollToBottom()},error:t=>{t.status!==404&&this.snackBar.open("Failed to load conversation","Close",{duration:5e3,panelClass:["error-snackbar"]}),this.isGenerating$.next(!1),t.status!==404&&this.router.navigate(["/generate/new"],{replaceUrl:!0})}})}onEnterKey(e){e instanceof KeyboardEvent&&(e.shiftKey||(e.preventDefault(),this.onSend()))}onPaste(e){return Cn(this,null,function*(){let t=e.clipboardData;if(!t)return;let r=Array.from(t.items).filter(c=>c.type.startsWith("image/"));if(r.length===0)return;if(e.preventDefault(),this.selectedImages.length>=this.maxImages){this.snackBar.open(`Maximum ${this.maxImages} images allowed. Remove existing images first.`,"Close",{duration:4e3,panelClass:["error-snackbar"]});return}let a=this.maxImages-this.selectedImages.length,s=r.slice(0,a);r.length>a&&this.snackBar.open(`Only ${a} image${a===1?"":"s"} added. Maximum ${this.maxImages} images allowed.`,"Close",{duration:4e3,panelClass:["info-snackbar"]});for(let c of s){let d=c.getAsFile();d&&(yield this.processImage(d))}s.length>0&&this.snackBar.open(`${s.length} image${s.length===1?"":"s"} pasted successfully`,"Close",{duration:2e3,panelClass:["success-snackbar"]})})}hasTemplate(){return!!this.currentHtml$.value}onSend(){return Cn(this,null,function*(){let e=this.userInput.trim();if(!e||this.isGenerating$.value)return;if(this.messages$.value.length>=this.MAX_CHAT_MESSAGES){this.snackBar.open(`Chat limit reached (${this.MAX_CHAT_MESSAGES} messages). Please save your template and start a new chat.`,"Close",{duration:6e3,panelClass:["error-snackbar"],horizontalPosition:"center",verticalPosition:"top"});return}let n=yield Promise.all(this.selectedImages.map(s=>Cn(this,null,function*(){return{data:yield this.fileToBase64(s),mediaType:s.type,fileName:s.name}}))),r=this.messages$.value,a={role:"user",content:e,timestamp:new Date,images:n.length>0?n:void 0};this.messages$.next([...r,a]),this.selectedImages.forEach(s=>{let c=s.originalSize||s.size,d=s.originalName||s.name;this.sentImages.push({name:d,size:c})}),this.isGenerating$.next(!0),this.shouldAutoScroll=!0,setTimeout(()=>this.scrollToBottom(),50),this.conversationId&&this.currentHtml$.value&&(this.isRegenerating=!0),this.startNewConversation(e,n),this.userInput="",this.selectedImages=[],this.imagePreviewUrls=[]})}startNewConversation(e,t){return Cn(this,null,function*(){this.generationService.startGeneration(e,t,this.conversationId||void 0).pipe(Di(this.destroy$)).subscribe({next:n=>{this.conversationId=n.conversationId,this.generationService.setCurrentConversationId(n.conversationId),this.currentHtml$.next(n.html);let r=this.isRegenerating?"\u2705 Template regenerated successfully!":"\u2705 Template generated successfully!",a={role:"assistant",content:n.message||r,timestamp:new Date},s=[...this.messages$.value,a];this.messages$.next(s),this.generationService.updateConversationCache(n.conversationId,s,n.html,n.mjml||"",this.templateName),this.isGenerating$.next(!1),this.isRegenerating||(this.isRegenerating=!0),this.shouldAutoScroll=!0,setTimeout(()=>{this.scrollToBottom()},100),n.hasErrors&&this.snackBar.open("Template generated with warnings. Check console for details.","Close",{duration:5e3,panelClass:["info-snackbar"]})},error:n=>{this.isGenerating$.next(!1),this.snackBar.open(n.error?.message||"Failed to generate template","Close",{duration:5e3,panelClass:["error-snackbar"]}),this.isGenerating$.next(!1)}})})}continueConversation(e,t){return Cn(this,null,function*(){this.conversationId&&this.generationService.continueConversation(this.conversationId,e,t).pipe(Di(this.destroy$)).subscribe({next:n=>{this.currentHtml$.next(n.html);let r=this.messages$.value;r.push({role:"assistant",content:"\u2705 Template updated successfully",timestamp:new Date}),this.messages$.next([...r]),this.generationService.updateConversationCache(this.conversationId,r,n.html,n.mjml||"",this.templateName),this.isGenerating$.next(!1),this.scrollToBottom(),n.hasErrors?this.snackBar.open("Template updated with warnings. Check console for details.","Close",{duration:5e3,panelClass:["info-snackbar"]}):this.snackBar.open("Template updated!","Close",{duration:3e3,panelClass:["success-snackbar"]})},error:n=>{this.snackBar.open(n.error?.message||"Failed to update template","Close",{duration:5e3,panelClass:["error-snackbar"]}),this.isGenerating$.next(!1)}})})}onRunTests(){if(!this.conversationId){this.snackBar.open("No template to test","Close",{duration:3e3,panelClass:["error-snackbar"]});return}if(!this.currentHtml$.value){this.snackBar.open("No template to save","Close",{duration:3e3,panelClass:["error-snackbar"]});return}let e=this.templateName?.trim();if(!e){this.snackBar.open("Please enter a template name before running tests","Close",{duration:4e3,horizontalPosition:"center",verticalPosition:"top"});return}this.generationService.saveTemplate(this.conversationId,e).pipe(Di(this.destroy$)).subscribe({next:t=>{this.snackBar.open("Template saved! Redirecting to QA...","Close",{duration:2e3,panelClass:["success-snackbar"]});let n=this.currentHtml$.value;n&&t.templateId&&this.templateState.initializeOriginalTemplate(t.templateId,n),this.router.navigate(["/qa",t.templateId])},error:t=>{this.snackBar.open("Failed to save template","Close",{duration:5e3,panelClass:["error-snackbar"]})}})}onTemplateNameChange(e){this.templateName=e,this.conversationId&&this.generationService.updateConversationCache(this.conversationId,this.messages$.value,this.currentHtml$.value,"",e)}onSaveTemplate(){if(!this.conversationId){this.snackBar.open("No template to save","Close",{duration:3e3,panelClass:["error-snackbar"]});return}let e=this.templateName?.trim();if(!e){this.snackBar.open("Please enter a template name","Close",{duration:4e3,horizontalPosition:"center",verticalPosition:"top"});return}this.generationService.saveTemplate(this.conversationId,e).pipe(Di(this.destroy$)).subscribe({next:t=>{this.templatesService.select(t.templateId,t.templateName||e),this.templatesService.smartRefresh(),this.router.navigate(["/"])},error:t=>{this.snackBar.open(t.error?.message||"Failed to save template","Close",{duration:5e3,panelClass:["error-snackbar"]})}})}onNewConversation(){this.conversationId&&this.currentHtml$.value?this.dialog.open(_O,{width:"500px",disableClose:!1,data:{hasTemplate:!0}}).afterClosed().subscribe(n=>{n==="save"?this.onSaveTemplate():n==="discard"&&this.clearAndStartNew()}):this.clearAndStartNew()}clearAndStartNew(){this.conversationId=null,this.generationService.clearCurrentConversationId(),this.messages$.next([]),this.currentHtml$.next(""),this.templateName="",this.userInput="",this.sentImages=[],this.router.navigate(["/generate/new"],{replaceUrl:!0}),this.initializeWelcome()}onRefreshPreview(){}scrollToBottom(){this.shouldAutoScroll&&(this.isProgrammaticScroll=!0,setTimeout(()=>{let e=this.messagesContainer?.nativeElement;e&&(this.smoothScrollTo(e.scrollHeight),setTimeout(()=>{e&&this.smoothScrollTo(e.scrollHeight),setTimeout(()=>{this.isProgrammaticScroll=!1},100)},50))},100))}smoothScrollTo(e){let t=this.messagesContainer?.nativeElement;if(!t)return;this.scrollAnimation&&cancelAnimationFrame(this.scrollAnimation);let n=t.scrollTop,r=e-n,a=400,s=null,c=d=>{s===null&&(s=d);let p=d-s,f=Math.min(p/a,1),h=1-Math.pow(1-f,3);t.scrollTop=n+r*h,f<1?this.scrollAnimation=requestAnimationFrame(c):this.scrollAnimation=null};this.scrollAnimation=requestAnimationFrame(c)}onScroll(e){if(this.isProgrammaticScroll)return;let t=e.target,n=t.scrollHeight-t.scrollTop<=t.clientHeight+50;this.shouldAutoScroll=n}onImageSelect(e){return Cn(this,null,function*(){let t=e.target;if(!t.files||t.files.length===0)return;let n=Array.from(t.files);if(this.selectedImages.length+n.length>this.maxImages){this.snackBar.open(`Maximum ${this.maxImages} images allowed at a time`,"Close",{duration:4e3,panelClass:["error-snackbar"]}),t.value="";return}let{duplicates:r,newFiles:a}=this.checkDuplicateImages(n);if(r.length>0){let s=r.map(p=>`\u2022 ${p.name} (${(p.size/1024).toFixed(2)}KB)`).join(`
`),c=r.length===1?`\u26A0\uFE0F This image is already uploaded:

${s}

Would you like to upload it again?`:`\u26A0\uFE0F These images are already uploaded:

${s}

Would you like to upload them again?`;if(!confirm(c)){if(a.length>0)for(let p of a)yield this.processImage(p);t.value="";return}}for(let s of n)yield this.processImage(s);t.value=""})}checkDuplicateImages(e){let t=[],n=[];return e.forEach(r=>{this.sentImages.some(s=>{let c=s.name===r.name,d=s.size===r.size;return c&&d})?t.push(r):n.push(r)}),{duplicates:t,newFiles:n}}toggleFullscreen(){let e=document.querySelector(".preview-wrapper");e&&(document.fullscreenElement?document.exitFullscreen():e.requestFullscreen().then(()=>{setTimeout(()=>{let t=document.querySelector(".cdk-overlay-container")},100)}))}processImage(e){return Cn(this,null,function*(){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type)){this.snackBar.open(`Invalid file type: ${e.name}. Please upload images only.`,"Close",{duration:4e3,panelClass:["error-snackbar"]});return}let n=e.name,r=e.size;try{let a=yield this.compressImage(e);if(a.size>this.maxSizeBytes){this.snackBar.open(`Image ${e.name} is too large even after compression. Please use a smaller image.`,"Close",{duration:4e3,panelClass:["error-snackbar"]});return}a.originalName=n,a.originalSize=r;let s=new FileReader;s.onload=c=>{let d=c.target?.result;this.selectedImages.push(a),this.imagePreviewUrls.push(d),setTimeout(()=>this.scrollToBottom(),100)},s.onerror=c=>{},s.readAsDataURL(a)}catch{this.snackBar.open(`Failed to process ${e.name}. Please try another image.`,"Close",{duration:4e3,panelClass:["error-snackbar"]})}})}compressImage(e){return Cn(this,null,function*(){return new Promise((t,n)=>{let r=new FileReader;r.onload=a=>{let s=new Image;s.onload=()=>{let c=document.createElement("canvas"),d=s.width,p=s.height,f=2e3;(d>f||p>f)&&(d>p?(p=p/d*f,d=f):(d=d/p*f,p=f)),c.width=d,c.height=p,c.getContext("2d")?.drawImage(s,0,0,d,p),c.toBlob(v=>{if(v&&v.size<=this.maxSizeBytes){let C=new File([v],e.name,{type:"image/jpeg",lastModified:Date.now()});t(C)}else n(new Error("Compression failed - file still too large"))},"image/jpeg",.8)},s.onerror=()=>{n(new Error("Failed to load image"))},s.src=a.target?.result},r.onerror=()=>{n(new Error("Failed to read file"))},r.readAsDataURL(e)})})}removeImage(e){this.selectedImages.splice(e,1),this.imagePreviewUrls.splice(e,1)}triggerFileInput(){let e=document.getElementById("imageUploadInput");e&&e?.click()}fileToBase64(e){return new Promise((t,n)=>{let r=new FileReader;r.onload=()=>{let s=r.result.split(",")[1];t(s)},r.onerror=a=>{n(a)},r.readAsDataURL(e)})}trackByIndex(e){return e}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=Sn({type:o,selectors:[["app-generate-page"]],viewQuery:function(t,n){if(t&1&&(co(dO,5),co(uO,5)),t&2){let r;fi(r=hi())&&(n.messagesContainer=r.first),fi(r=hi())&&(n.messageInput=r.first)}},hostBindings:function(t,n){t&1&&rt("beforeunload",function(a){return n.handleBeforeUnload(a)},!1,jd)},standalone:!0,features:[En],decls:88,vars:36,consts:[["usageMenu","matMenu"],["messagesContainer",""],["messageInput",""],[1,"generate-layout"],[1,"preview-section"],[1,"preview-wrapper"],[3,"templateNameChange","saveTemplate","runTests","html","templateName","loading","showHeader","allowRefresh","allowFullscreen","allowViewModes","showGenerateActions","isGeneratePage"],[1,"chat-section"],[1,"chat-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],["mat-icon-button","","matTooltip","Start New Conversation",1,"new-chat-btn",3,"click","disabled"],["mat-icon-button","","matTooltip","How to use",1,"usage-tips-btn",3,"matMenuTriggerFor"],[1,"usage-tips-menu"],[1,"usage-tips-content",3,"click"],[1,"tip-section"],[1,"example"],[1,"tip-section","warning"],[1,"tip-note"],[1,"chat-messages",3,"scroll"],["class","chat-msg",3,"user-msg","assistant-msg",4,"ngFor","ngForOf","ngForTrackBy"],["class","chat-msg user-msg",4,"ngIf"],["class","chat-msg assistant-msg",4,"ngIf"],[1,"composer"],["type","file","id","imageUploadInput","accept","image/jpeg,image/jpg,image/png,image/gif,image/webp,image/svg+xml","multiple","",2,"display","none",3,"change"],[1,"composer-input-row"],["mat-icon-button","","matTooltipPosition","above","type","button",1,"add-image-btn",3,"click","disabled","matTooltip"],["rows","3",1,"message-input",3,"ngModelChange","keydown.enter","paste","ngModel"],["mat-raised-button","",1,"send-btn",3,"click","disabled"],[1,"chat-msg"],[1,"bubble"],[1,"bubble-header"],[1,"role"],[1,"timestamp"],["class","message-images",4,"ngIf"],[1,"bubble-content"],[1,"message-images"],["class","message-image",3,"src","alt",4,"ngFor","ngForOf"],[1,"message-image",3,"src","alt"],[1,"chat-msg","user-msg"],[1,"bubble","user-bubble"],[1,"message-images","preview-mode"],["class","image-wrapper",4,"ngFor","ngForOf"],[1,"image-wrapper"],["type","button",1,"remove-preview-btn",3,"click"],[1,"chat-msg","assistant-msg"],[1,"bubble","generating-bubble"],[1,"typing-indicator"],[1,"generating-text"]],template:function(t,n){if(t&1){let r=jt();S(0,"div",3)(1,"section",4)(2,"div",5)(3,"app-template-preview-panel",6),sn(4,"async"),sn(5,"async"),Or("templateNameChange",function(s){return nt(r),wr(n.templateName,s)||(n.templateName=s),it(s)}),rt("saveTemplate",function(){return nt(r),it(n.onSaveTemplate())})("runTests",function(){return nt(r),it(n.onRunTests())}),L()()(),S(6,"section",7)(7,"div",8)(8,"div",9)(9,"mat-icon",10),Y(10,"auto_awesome"),L(),S(11,"div",11)(12,"h3"),Y(13,"Template Generator"),L(),S(14,"p"),Y(15,"Powered by AI"),L()()(),S(16,"button",12),sn(17,"async"),rt("click",function(){return nt(r),it(n.onNewConversation())}),S(18,"mat-icon"),Y(19,"add_circle"),L()(),S(20,"button",13)(21,"mat-icon"),Y(22,"info_outline"),L()(),S(23,"mat-menu",14,0)(25,"div",15),rt("click",function(s){return nt(r),it(s.stopPropagation())}),S(26,"h4"),Y(27,"\u{1F4A1} How to Use This Generator"),L(),S(28,"div",16)(29,"strong"),Y(30,"Be Specific & Detailed"),L(),S(31,"p"),Y(32,"Describe what you want clearly - layout, colors, content sections, and purpose. The more details, the better the result."),L()(),S(33,"div",16)(34,"strong"),Y(35,"\u{1F4F8} Add Design References"),L(),S(36,"p"),Y(37,"Upload images (max 2) for visual inspiration - colors, layout, style. We'll match the aesthetic while following your text instructions."),L()(),S(38,"div",16)(39,"strong"),Y(40,"\u{1F516} Request Placeholders"),L(),S(41,"p"),Y(42,"Ask for Mailchimp or other placeholders like "),S(43,"code"),Y(44,"|*EMAIL*|"),L(),Y(45,", "),S(46,"code"),Y(47,"|*FNAME*|"),L(),Y(48,", "),S(49,"code"),Y(50,"|*COMPANY*|"),L(),Y(51," - we'll add them where needed."),L()(),S(52,"div",16)(53,"strong"),Y(54,"\u2728 Example Prompt:"),L(),S(55,"p",17),Y(56,'"Create a product launch email with a hero image, bold headline, 3-column feature grid, and a centered CTA button. Use purple (#6d28d9) and white colors. Add |*FNAME*| placeholder in greeting."'),L()(),S(57,"div",18)(58,"strong"),Y(59,"\u26A0\uFE0F Avoid Long Conversations"),L(),S(60,"p"),Y(61,"Limit: 5 messages per chat. Be clear upfront to minimize back-and-forth. If you need major changes, save your template and start fresh."),L()(),S(62,"div",19),Y(63," All templates are mobile-first & responsive! "),L()()()(),S(64,"div",20,1),rt("scroll",function(s){return nt(r),it(n.onScroll(s))}),tt(66,hO,11,13,"div",21),sn(67,"async"),tt(68,gO,7,1,"div",22),sn(69,"async"),tt(70,vO,12,1,"div",23),sn(71,"async"),L(),S(72,"div",24)(73,"input",25),rt("change",function(s){return nt(r),it(n.onImageSelect(s))}),L(),S(74,"div",26)(75,"button",27),sn(76,"async"),rt("click",function(){return nt(r),it(n.triggerFileInput())}),S(77,"mat-icon"),Y(78,"add_photo_alternate"),L()(),S(79,"textarea",28,2),Or("ngModelChange",function(s){return nt(r),wr(n.userInput,s)||(n.userInput=s),it(s)}),rt("keydown.enter",function(s){return nt(r),it(n.onEnterKey(s))})("paste",function(s){return nt(r),it(n.onPaste(s))}),Y(81,"    "),L(),S(82,"button",29),sn(83,"async"),rt("click",function(){return nt(r),it(n.onSend())}),S(84,"mat-icon"),Y(85,"send"),L(),S(86,"span"),Y(87,"Send"),L()()()()()()}if(t&2){let r,a,s,c,d=Ai(24);le(3),Ce("html",dn(4,20,n.currentHtml$)||""),xr("templateName",n.templateName),Ce("loading",(r=dn(5,22,n.isGenerating$))!==null&&r!==void 0?r:!1)("showHeader",!0)("allowRefresh",!1)("allowFullscreen",!0)("allowViewModes",!0)("showGenerateActions",!0)("isGeneratePage",!0),le(13),Ce("disabled",(a=dn(17,24,n.isGenerating$))!==null&&a!==void 0?a:!1),le(4),Ce("matMenuTriggerFor",d),le(46),Ce("ngForOf",dn(67,26,n.messages$))("ngForTrackBy",n.trackByIndex),le(2),Ce("ngIf",n.imagePreviewUrls.length>0&&!dn(69,28,n.isGenerating$)),le(2),Ce("ngIf",dn(71,30,n.isGenerating$)),le(3),Ri("max",n.maxImages),le(2),Ce("disabled",n.selectedImages.length>=n.maxImages||((s=dn(76,32,n.isGenerating$))!==null&&s!==void 0?s:!1))("matTooltip",n.selectedImages.length>=n.maxImages?"Maximum 2 images":"Add design reference images"),le(4),xr("ngModel",n.userInput),le(3),Ce("disabled",!n.userInput.trim()||((c=dn(83,34,n.isGenerating$))!==null&&c!==void 0?c:!1))}},dependencies:[qn,ya,xi,ba,Gd,go,fo,ho,mo,yo,Wi,Xr,_o,qi,Ki,Z1,el,Xs,Js,Zs,Ma,Oa,Pa,vc,G0],styles:['[_nghost-%COMP%]{--primary-purple: #6d28d9;--primary-purple-dark: #5b21b6;--accent-pink: #ec4899;--accent-blue: #3b82f6;--success-green: #10b981;--warning-orange: #f59e0b;--error-red: #ef4444;--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--gradient-golden: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);--glass-white: rgba(255, 255, 255, .9);--glass-border: rgba(255, 255, 255, .3);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .08);--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px;--transition-fast: .2s cubic-bezier(.4, 0, .2, 1);--transition-normal: .3s cubic-bezier(.4, 0, .2, 1);--transition-smooth: .4s cubic-bezier(.4, 0, .2, 1);display:block;height:89vh;overflow:hidden}.add-image-btn.mat-mdc-icon-button[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: transparent !important;--mat-mdc-button-ripple-color: transparent !important}.add-image-btn[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]{display:none!important}.generate-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;width:100%;position:relative;overflow-y:auto;overflow-x:hidden;background:linear-gradient(135deg,#f8fafc,#e2e8f0)}.preview-section[_ngcontent-%COMP%]{flex:0 0 auto;height:auto;min-height:100vh;max-height:45vh;display:flex;flex-direction:column;overflow:auto;padding:.5rem;position:relative}.preview-section[_ngcontent-%COMP%]   app-template-preview-panel[_ngcontent-%COMP%]{flex:1;display:block;width:100%;height:100%;overflow:auto}.preview-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;overflow:auto;margin:0;border-radius:var(--radius-lg);background:#fff;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f,0 0 0 1px #0000000d}.preview-wrapper[_ngcontent-%COMP%]   app-template-preview-panel[_ngcontent-%COMP%]{flex:1;width:100%;height:100%;border-radius:var(--radius-lg);overflow:auto}.chat-section[_ngcontent-%COMP%]{flex:1 1 auto;min-height:400px;max-height:none;display:flex;flex-direction:column;background:#fff;overflow:hidden;margin:.5rem;margin-top:0;border-radius:var(--radius-lg);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f,0 0 0 1px #0000000d}.chat-header[_ngcontent-%COMP%]{flex:0 0 auto;min-height:60px;padding:.75rem 1rem;background:linear-gradient(135deg,#f8f9ff,#f0f2ff);border-bottom:2px solid #e2e8f0;border-radius:var(--radius-lg) var(--radius-lg) 0 0;display:flex;align-items:center;justify-content:space-between;gap:.5rem}.chat-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1;min-width:0}.chat-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:32px;height:32px;font-size:18px;display:flex;align-items:center;justify-content:center;background:var(--gradient-primary);color:#fff;border-radius:var(--radius-md);box-shadow:0 4px 12px #6d28d94d;flex-shrink:0}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{min-width:0;flex:1}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.875rem;font-weight:800;color:#1e293b;letter-spacing:-.02em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.6875rem;color:#64748b;font-weight:600}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]{color:var(--primary-purple);transition:all var(--transition-fast);flex-shrink:0;width:32px!important;height:32px!important;min-width:32px!important;min-height:32px!important;padding:0!important;margin:0!important;display:flex!important;align-items:center!important;justify-content:center!important;border-radius:50%!important}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]     .mat-mdc-button-touch-target, .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]     .mat-mdc-button-touch-target{width:32px!important;height:32px!important}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;display:flex;align-items:center;justify-content:center;margin:0}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]:hover:not(:disabled), .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#6d28d91a;transform:scale(1.05)}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]:disabled, .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]:disabled{opacity:.4}.chat-messages[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;max-height:calc(100% - 220px);overflow-y:auto;overflow-x:hidden;padding:.75rem;display:flex;flex-direction:column;gap:.75rem;scroll-behavior:smooth;background:linear-gradient(135deg,#f8fafc80,#f1f5f980)}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000005;border-radius:3px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#6d28d94d,#ec48994d);border-radius:3px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#6d28d980,#ec489980)}.chat-msg[_ngcontent-%COMP%]{display:flex;animation:_ngcontent-%COMP%_messageSlideIn .3s ease forwards}.chat-msg.user-msg[_ngcontent-%COMP%]{justify-content:flex-end}.chat-msg.assistant-msg[_ngcontent-%COMP%]{justify-content:flex-start}.bubble[_ngcontent-%COMP%]{max-width:92%;padding:.75rem .875rem;border-radius:var(--radius-md);background:#fff;border:2px solid #e2e8f0;box-shadow:0 2px 8px #0000000f;transition:all var(--transition-normal)}.bubble[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.bubble.user-bubble[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d90d,#ec48990d);border-color:#6d28d933}.bubble.generating-bubble[_ngcontent-%COMP%]{border-color:#3b82f633;background:linear-gradient(135deg,#3b82f60d,#0ea5e90d)}.bubble-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.375rem}.bubble-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.625rem;font-weight:800;text-transform:uppercase;letter-spacing:.06em;color:var(--primary-purple)}.bubble-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:.5625rem;color:#94a3b8;font-weight:600}.bubble-content[_ngcontent-%COMP%]{font-size:.8125rem;line-height:1.5;color:#374151;white-space:pre-wrap;word-break:break-word}.typing-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;margin-right:.5rem}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:5px;height:5px;background:var(--accent-blue);border-radius:50%;animation:_ngcontent-%COMP%_typingBounce 1.4s infinite}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.generating-text[_ngcontent-%COMP%]{font-style:italic;color:#64748b;font-size:.75rem}.message-images[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.625rem;flex-wrap:wrap}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:var(--radius-md);border:2px solid rgba(0,0,0,.1);object-fit:cover;cursor:pointer;transition:all .2s}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #00000026}.message-images.preview-mode[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative;width:100px;height:100px}.message-images.preview-mode[_ngcontent-%COMP%]   .remove-preview-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;width:24px;height:24px;min-width:24px;padding:0;border:none;border-radius:50%;background:#ef4444;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;box-shadow:0 2px 6px #0000004d;z-index:10}.message-images.preview-mode[_ngcontent-%COMP%]   .remove-preview-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.message-images.preview-mode[_ngcontent-%COMP%]   .remove-preview-btn[_ngcontent-%COMP%]:hover{background:#dc2626;transform:scale(1.15)}.composer[_ngcontent-%COMP%]{flex:0 0 auto;padding:.625rem;background:linear-gradient(135deg,#ffffffe6,#6d28d905);border-top:2px solid #e2e8f0;min-height:100px;border-radius:0 0 var(--radius-lg) var(--radius-lg);display:flex;flex-direction:column;gap:0;position:relative}.composer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10;left:.625rem;right:.625rem;height:2px;background:var(--gradient-primary);border-radius:2px}.composer-input-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;width:100%;padding-top:.5rem}.add-image-btn[_ngcontent-%COMP%]{flex-shrink:0;color:var(--primary-purple);transition:all var(--transition-fast);display:flex!important;align-items:center!important;justify-content:center!important;padding:0!important}.add-image-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0 auto!important;display:block!important}.add-image-btn[_ngcontent-%COMP%]     .mat-mdc-button-persistent-ripple{background-color:transparent!important;opacity:0!important}.add-image-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05)}.add-image-btn[_ngcontent-%COMP%]:hover:not(:disabled)     .mat-mdc-button-persistent-ripple{background-color:transparent!important}.add-image-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.message-input[_ngcontent-%COMP%]{flex:1;border:2px solid rgba(0,0,0,.08);border-radius:var(--radius-md);padding:.625rem .75rem;font-family:inherit;font-size:.8125rem;line-height:1.4;resize:none;min-height:38px;max-height:45px;transition:all var(--transition-normal);background:#fff;box-shadow:0 2px 8px #0000000a}.message-input[_ngcontent-%COMP%]::-webkit-resizer{display:none}.message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-purple);box-shadow:0 0 0 2px #6d28d91a}.message-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-size:.8125rem}.message-input[_ngcontent-%COMP%]:disabled{background:#f9fafb;cursor:not-allowed;opacity:.6}.send-btn[_ngcontent-%COMP%]{background:var(--gradient-primary)!important;color:#fff!important;border:none!important;border-radius:var(--radius-md)!important;font-weight:700!important;padding:.625rem .875rem!important;min-height:38px!important;min-width:38px!important;box-shadow:0 4px 12px #6d28d94d!important;display:flex!important;align-items:center!important;justify-content:center!important;gap:.375rem!important;transition:all var(--transition-normal)!important;position:relative!important;overflow:hidden!important;flex-shrink:0!important}.send-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left var(--transition-normal)}.send-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;transition:transform var(--transition-normal)}.send-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;font-size:.8125rem}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05);box-shadow:0 6px 20px #6d28d966!important}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{transform:translate(1px)}.send-btn[_ngcontent-%COMP%]:disabled{opacity:.6;transform:none!important;cursor:not-allowed}@keyframes _ngcontent-%COMP%_messageSlideIn{0%{opacity:0;transform:translateY(8px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_typingBounce{0%,60%,to{transform:translateY(0)}30%{transform:translateY(-5px)}}@media (min-width: 768px){.generate-layout[_ngcontent-%COMP%]{overflow-y:auto}.preview-section[_ngcontent-%COMP%]{flex:1 1 auto;min-height:100vh;max-height:none;padding:.75rem}.chat-section[_ngcontent-%COMP%]{flex:1 1 auto;min-height:400px;max-height:none;margin:.75rem;margin-top:0;display:flex;flex-direction:column}.chat-header[_ngcontent-%COMP%]{padding:1rem 1.25rem}.chat-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:36px;height:36px;font-size:20px}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]{width:36px!important;height:36px!important;min-width:36px!important}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.chat-messages[_ngcontent-%COMP%]{padding:1rem 1.25rem;gap:1rem}.bubble[_ngcontent-%COMP%]{max-width:88%;padding:.875rem 1rem}.bubble-header[_ngcontent-%COMP%]{margin-bottom:.5rem}.bubble-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.6875rem}.bubble-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:.625rem}.bubble-content[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.6}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.image-preview-item[_ngcontent-%COMP%]{width:50px;height:50px}.add-image-btn[_ngcontent-%COMP%]{width:36px!important;height:36px!important;min-width:36px!important}.add-image-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.composer[_ngcontent-%COMP%]{padding:.875rem 1rem;gap:.75rem}.composer[_ngcontent-%COMP%]:before{left:1rem;right:1rem}.message-input[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.875rem;min-height:44px;max-height:48px}.message-input[_ngcontent-%COMP%]::placeholder{font-size:.875rem}.send-btn[_ngcontent-%COMP%]{padding:.75rem 1rem!important;min-height:44px!important;gap:.5rem!important}.send-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.send-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline}}@media (min-width: 1024px){.generate-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;gap:0;height:100vh;overflow:hidden}.preview-section[_ngcontent-%COMP%]{flex:1;min-height:unset;height:89vh;padding:.75rem;overflow:auto}.chat-section[_ngcontent-%COMP%]{flex:1;min-height:unset;height:86vh;margin:.75rem;margin-left:0;overflow:hidden}.chat-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.chat-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:24px}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]{width:40px!important;height:40px!important;min-width:40px!important}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.chat-messages[_ngcontent-%COMP%]{padding:1.5rem;gap:1.25rem}.bubble[_ngcontent-%COMP%]{max-width:85%;padding:1rem 1.25rem}.bubble-header[_ngcontent-%COMP%]{margin-bottom:.625rem}.bubble-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.75rem}.bubble-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:.6875rem}.bubble-content[_ngcontent-%COMP%]{font-size:.9375rem;line-height:1.7}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]{max-width:120px;max-height:120px}.image-preview-item[_ngcontent-%COMP%]{width:70px;height:70px}.add-image-btn[_ngcontent-%COMP%]{width:40px!important;height:40px!important;min-width:40px!important}.add-image-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.composer[_ngcontent-%COMP%]{padding:1rem 1.5rem;gap:1rem;max-height:180px}.composer[_ngcontent-%COMP%]:before{left:1.5rem;right:1.5rem}.message-input[_ngcontent-%COMP%]{padding:.875rem 1rem;font-size:.9375rem;min-height:48px;max-height:100px}.message-input[_ngcontent-%COMP%]::placeholder{font-size:.9375rem}.send-btn[_ngcontent-%COMP%]{padding:.875rem 1.5rem!important;min-height:48px!important;gap:.625rem!important}}@media (min-width: 1200px){.generate-layout[_ngcontent-%COMP%]{grid-template-columns:1fr 480px;height:100vh;overflow:hidden}.preview-section[_ngcontent-%COMP%]{height:89%;overflow:auto}.chat-section[_ngcontent-%COMP%]{height:85.5%;overflow:hidden}.chat-header[_ngcontent-%COMP%]{padding:1.5rem 2rem}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.chat-messages[_ngcontent-%COMP%]{padding:2rem 1.5rem;gap:1.5rem}.bubble[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.image-preview-item[_ngcontent-%COMP%]{width:80px;height:80px}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.usage-tips-btn[_ngcontent-%COMP%]{color:#6d28d9}.usage-tips-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}  .usage-tips-menu .mat-mdc-menu-panel{max-width:400px!important;border-radius:12px}.usage-tips-content[_ngcontent-%COMP%]{padding:20px;max-width:380px}.usage-tips-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:600;color:#1a1a1a}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]{margin-bottom:14px}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#6d28d9;margin-bottom:4px}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;line-height:1.5;color:#666}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f1f5f9;padding:2px 6px;border-radius:3px;font-family:Courier New,monospace;font-size:12px;color:#6d28d9;font-weight:500}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]{background:#f8fafc;padding:10px;border-radius:6px;border-left:3px solid #6d28d9;font-style:italic;color:#475569}.usage-tips-content[_ngcontent-%COMP%]   .tip-section.warning[_ngcontent-%COMP%]{background:#fef3c7;padding:10px;border-radius:6px;border-left:3px solid #f59e0b}.usage-tips-content[_ngcontent-%COMP%]   .tip-section.warning[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f59e0b}.usage-tips-content[_ngcontent-%COMP%]   .tip-section.warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#78350f}.usage-tips-content[_ngcontent-%COMP%]   .tip-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:16px;padding:10px;background:#f3e8ff;border-radius:6px;font-size:13px;font-weight:500;color:#6d28d9}.usage-tips-content[_ngcontent-%COMP%]   .tip-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}@media (max-width: 768px){  .usage-tips-menu .mat-mdc-menu-panel{max-width:calc(100vw - 32px)!important}.usage-tips-content[_ngcontent-%COMP%]{max-width:100%;padding:16px}}@media (max-width: 1023px){.ai-warning-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.ai-warning-container[_ngcontent-%COMP%]   .floating-ai-icon[_ngcontent-%COMP%], .ai-warning-container[_ngcontent-%COMP%]   .info-badges[_ngcontent-%COMP%]{display:none!important}.ai-warning-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.75rem}.ai-warning-container[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{font-size:.9375rem;margin-bottom:0}}@media (min-width: 1024px){.ai-warning-container[_ngcontent-%COMP%]   .floating-ai-icon[_ngcontent-%COMP%]{display:block!important}.ai-warning-container[_ngcontent-%COMP%]   .info-badges[_ngcontent-%COMP%]{display:flex!important}}@media (max-width: 1023px){.chat-section[_ngcontent-%COMP%]{min-height:50rem}}']})}}return o})(),_O=(()=>{class o{constructor(){this.dialogRef=Pt(Zd)}onSave(){this.dialogRef.close("save")}onDiscard(){this.dialogRef.close("discard")}onCancel(){this.dialogRef.close("cancel")}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=Sn({type:o,selectors:[["confirm-new-conversation-dialog"]],standalone:!0,features:[En],decls:19,vars:0,consts:[[1,"confirm-dialog"],[1,"dialog-header"],[1,"warning-icon"],[1,"dialog-content"],[1,"dialog-actions"],["mat-button","",1,"cancel-btn",3,"click"],["mat-stroked-button","",1,"discard-btn",3,"click"],["mat-raised-button","",1,"save-btn",3,"click"]],template:function(t,n){t&1&&(S(0,"div",0)(1,"div",1)(2,"mat-icon",2),Y(3,"warning"),L(),S(4,"h2"),Y(5,"Start New Conversation?"),L()(),S(6,"div",3)(7,"p"),Y(8,"You have an unsaved template in the current conversation."),L(),S(9,"p")(10,"strong"),Y(11,"Would you like to save it before starting a new conversation?"),L()()(),S(12,"div",4)(13,"button",5),rt("click",function(){return n.onCancel()}),Y(14," Cancel "),L(),S(15,"button",6),rt("click",function(){return n.onDiscard()}),Y(16," Discard "),L(),S(17,"button",7),rt("click",function(){return n.onSave()}),Y(18," Save Template "),L()()())},dependencies:[qn,vc,Wi,Xr,qi,Ki],styles:[".confirm-dialog[_ngcontent-%COMP%]{padding:1.5rem}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.warning-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#f59e0b}h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#1e293b}.dialog-content[_ngcontent-%COMP%]{margin-bottom:2rem;line-height:1.6;color:#475569}.dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem}.cancel-btn[_ngcontent-%COMP%]{color:#64748b}.discard-btn[_ngcontent-%COMP%]{color:#ef4444;border-color:#ef4444}.discard-btn[_ngcontent-%COMP%]:hover{background-color:#fef2f2}.save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d9,#8b5cf6);color:#fff}.save-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5b21b6,#7c3aed)}"]})}}return o})();var Vo=(o,i)=>Cn(void 0,null,function*(){let e=Pt(Fi),t=Pt(Un);try{if(yield e.checkAuthStatus())return!0;let r=i.url;return t.navigate(["/auth"],{queryParams:{returnUrl:r},replaceUrl:!0}),!1}catch{let r=i.url;return t.navigate(["/auth"],{queryParams:{returnUrl:r},replaceUrl:!0}),!1}});var K0=(o,i)=>{let e=Pt(Fi),t=Pt(Un);return e.currentUser$.pipe(Za(n=>n!==null),x1(1),oo(n=>n.orgRole==="admin"||n.orgRole==="super_admin"?!0:(t.navigate(["/"]),!1)))};var sh=o=>o.canDeactivate?o.canDeactivate():!0;var yO={4729:(o,i,e)=>{var t,n,r;(function(a){n=[e(5706),e(4193)],t=a,r=typeof t=="function"?t.apply(i,n):t,r!==void 0&&(o.exports=r)})(function(a,s){var c=Array.prototype.slice;function d(j,R,H){return H.length<=4?j.call(R,H[0],H[1],H[2],H[3]):j.apply(R,H)}function p(j,R){return c.call(j,R)}function f(j,R){return j==null?!1:(a.isArray(R)||(R=p(arguments,1)),a.all(R,function(H){return H in j}))}var h=function(){var j=!1,R=-1;function H(){R++,j=!0,a.defer(function(){j=!1})}return function(){return j||H(),R}}();function v(){this.registeredObjects=[],this.cidIndexes=[]}v.prototype={isRegistered:function(j){return j&&j.cid?this.registeredObjects[j.cid]:a.contains(this.registeredObjects,j)},register:function(j){return this.isRegistered(j)?!1:(j&&j.cid?(this.registeredObjects[j.cid]=j,this.cidIndexes.push(j.cid)):this.registeredObjects.push(j),!0)},unregister:function(j){if(this.isRegistered(j)){if(j&&j.cid)delete this.registeredObjects[j.cid],this.cidIndexes.splice(a.indexOf(this.cidIndexes,j.cid),1);else{var R=a.indexOf(this.registeredObjects,j);this.registeredObjects.splice(R,1)}return!0}return!1},get:function(){return a.map(this.cidIndexes,function(j){return this.registeredObjects[j]},this).concat(this.registeredObjects)}};function C(j,R,H,I){for(var G=0,K=R.length,J;G<K;G++)if(J=R[G],!!J){if(j==="on"){if(!I.objectRegistry.register(J))continue}else if(!I.objectRegistry.unregister(J))continue;a.isFunction(J[j])&&J[j]("all",H,I)}}function b(j,R){var H=R.type,I=R.undoTypes,G=!I[H]||I[H][j];a.isFunction(G)&&G(R.object,R.before,R.after,R.options)}function x(j,R,H,I,G){if(!(H.isCurrentlyUndoRedoing||j==="undo"&&H.pointer===-1||j==="redo"&&H.pointer===H.length-1)){H.isCurrentlyUndoRedoing=!0;var K,J,E=j==="undo";for(G?J=E&&H.pointer===H.length-1||!E&&H.pointer===-1?a.clone(H.models):c.apply(H.models,E?[0,H.pointer]:[H.pointer,H.length-1]):(K=H.at(E?H.pointer:H.pointer+1),J=I?H.where({magicFusionIndex:K.get("magicFusionIndex")}):[K]),H.pointer+=(E?-1:1)*J.length;K=E?J.pop():J.shift();)K[j]();H.isCurrentlyUndoRedoing=!1,R.trigger(j,R)}}function w(j,R){var H=j.condition,I=typeof H;return I==="function"?!!d(H,j,R):I==="boolean"?H:!0}function P(j,R,H,I){if(j.track&&!j.isCurrentlyUndoRedoing&&R in I&&w(I[R],H)){var G=d(I[R].on,I[R],H),K;if(f(G,"object","before","after")){if(G.type=R,G.magicFusionIndex=h(),G.undoTypes=I,j.pointer<j.length-1)for(var K=j.length-j.pointer-1;K--;)j.pop();j.pointer=j.length,j.add(G),j.length>j.maximumStackLength&&(j.shift(),j.pointer--)}}}var M={add:{undo:function(j,R,H,I){j.remove(H,I)},redo:function(j,R,H,I){I.index&&(I.at=I.index),j.add(H,I)},on:function(j,R,H){return{object:R,before:void 0,after:j,options:a.clone(H)}}},remove:{undo:function(j,R,H,I){"index"in I&&(I.at=I.index),j.add(R,I)},redo:function(j,R,H,I){j.remove(R,I)},on:function(j,R,H){return{object:R,before:j,after:void 0,options:a.clone(H)}}},change:{undo:function(j,R,H,I){a.isEmpty(R)?a.each(a.keys(H),j.unset,j):(j.set(R),I&&I.unsetData&&I.unsetData.before&&I.unsetData.before.length&&a.each(I.unsetData.before,j.unset,j))},redo:function(j,R,H,I){a.isEmpty(H)?a.each(a.keys(R),j.unset,j):(j.set(H),I&&I.unsetData&&I.unsetData.after&&I.unsetData.after.length&&a.each(I.unsetData.after,j.unset,j))},on:function(j,R){var H=j.changedAttributes(),I=a.keys(H),G=a.pick(j.previousAttributes(),I),K=a.keys(G),J=(R||(R={})).unsetData={after:[],before:[]};return I.length!=K.length&&(I.length>K.length?a.each(I,function(E){E in G||J.before.push(E)},this):a.each(K,function(E){E in H||J.after.push(E)})),{object:j,before:G,after:H,options:a.clone(R)}}},reset:{undo:function(j,R,H){j.reset(R)},redo:function(j,R,H){j.reset(H)},on:function(j,R){return{object:j,before:R.previousModels,after:a.clone(j.models)}}}};function y(){}y.prototype=M;function A(j,R,H,I){if(typeof R=="object")return a.each(R,function(G,K){j===2?A(j,G,H,I):A(j,K,G,H)});switch(j){case 0:f(H,"undo","redo","on")&&a.all(a.pick(H,"undo","redo","on"),a.isFunction)&&(I[R]=H);break;case 1:I[R]&&a.isObject(H)&&(I[R]=a.extend({},I[R],H));break;case 2:delete I[R];break}return this}var k=s.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(j){b("undo",this.attributes)},redo:function(j){b("redo",this.attributes)}}),N=s.Collection.extend({model:k,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(j){this.maximumStackLength=j}}),V=s.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(j){this.stack=new N,this.objectRegistry=new v,this.undoTypes=new y,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(R,H){this.stack.setMaxLength(H)},this),j&&j.track&&this.startTracking(),j&&j.register&&(a.isArray(j.register)||a.isArguments(j.register)?d(this.register,this,j.register):this.register(j.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(j){P(this.stack,j,p(arguments,1),this.undoTypes)},register:function(){C("on",arguments,this._addToStack,this)},unregister:function(){C("off",arguments,this._addToStack,this)},unregisterAll:function(){d(this.unregister,this,this.objectRegistry.get())},undo:function(j){x("undo",this,this.stack,j)},undoAll:function(){x("undo",this,this.stack,!1,!0)},redo:function(j){x("redo",this,this.stack,j)},redoAll:function(){x("redo",this,this.stack,!1,!0)},isAvailable:function(j){var R=this.stack,H=R.length;switch(j){case"undo":return H>0&&R.pointer>-1;case"redo":return H>0&&R.pointer<H-1;default:return!1}},merge:function(j){for(var R=a.isArray(j)?j:p(arguments),H;H=R.pop();)H instanceof V&&H.stack instanceof N&&(H.stack=this.stack)},addUndoType:function(j,R){A(0,j,R,this.undoTypes)},changeUndoType:function(j,R){A(1,j,R,this.undoTypes)},removeUndoType:function(j){A(2,j,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return a.extend(V,{defaults:function(j){a.extend(V.prototype.defaults,j)},addUndoType:function(j,R){A(0,j,R,M)},changeUndoType:function(j,R){A(1,j,R,M)},removeUndoType:function(j){A(2,j,void 0,M)}}),s.UndoManager=V})},4193:(o,i,e)=>{var t,n;(function(r){var a=typeof self=="object"&&self.self===self&&self||typeof e.g=="object"&&e.g.global===e.g&&e.g;if(1)t=[e(5706),e(7774),i],n=function(d,p,f){a.Backbone=r(a,f,d,p)}.apply(i,t),n!==void 0&&(o.exports=n);else var s,c})(function(r,a,s,c){var d=r.Backbone,p=Array.prototype.slice;a.VERSION="1.4.1",a.$=c,a.noConflict=function(){return r.Backbone=d,this},a.emulateHTTP=!1,a.emulateJSON=!1;var f=a.Events={},h=/\s+/,v,C=function(U,re,fe,Ee,Ke){var pe=0,Se;if(fe&&typeof fe=="object")for(Ee!==void 0&&("context"in Ke)&&Ke.context===void 0&&(Ke.context=Ee),Se=s.keys(fe);pe<Se.length;pe++)re=C(U,re,Se[pe],fe[Se[pe]],Ke);else if(fe&&h.test(fe))for(Se=fe.split(h);pe<Se.length;pe++)re=U(re,Se[pe],Ee,Ke);else re=U(re,fe,Ee,Ke);return re};f.on=function(U,re,fe){if(this._events=C(b,this._events||{},U,re,{context:fe,ctx:this,listening:v}),v){var Ee=this._listeners||(this._listeners={});Ee[v.id]=v,v.interop=!1}return this},f.listenTo=function(U,re,fe){if(!U)return this;var Ee=U._listenId||(U._listenId=s.uniqueId("l")),Ke=this._listeningTo||(this._listeningTo={}),pe=v=Ke[Ee];pe||(this._listenId||(this._listenId=s.uniqueId("l")),pe=v=Ke[Ee]=new A(this,U));var Se=x(U,re,fe,this);if(v=void 0,Se)throw Se;return pe.interop&&pe.on(re,fe),this};var b=function(U,re,fe,Ee){if(fe){var Ke=U[re]||(U[re]=[]),pe=Ee.context,Se=Ee.ctx,Le=Ee.listening;Le&&Le.count++,Ke.push({callback:fe,context:pe,ctx:pe||Se,listening:Le})}return U},x=function(U,re,fe,Ee){try{U.on(re,fe,Ee)}catch(Ke){return Ke}};f.off=function(U,re,fe){return this._events?(this._events=C(w,this._events,U,re,{context:fe,listeners:this._listeners}),this):this},f.stopListening=function(U,re,fe){var Ee=this._listeningTo;if(!Ee)return this;for(var Ke=U?[U._listenId]:s.keys(Ee),pe=0;pe<Ke.length;pe++){var Se=Ee[Ke[pe]];if(!Se)break;Se.obj.off(re,fe,this),Se.interop&&Se.off(re,fe)}return s.isEmpty(Ee)&&(this._listeningTo=void 0),this};var w=function(U,re,fe,Ee){if(U){var Ke=Ee.context,pe=Ee.listeners,Se=0,Le;if(!re&&!Ke&&!fe){for(Le=s.keys(pe);Se<Le.length;Se++)pe[Le[Se]].cleanup();return}for(Le=re?[re]:s.keys(U);Se<Le.length;Se++){re=Le[Se];var ft=U[re];if(!ft)break;for(var qt=[],At=0;At<ft.length;At++){var ce=ft[At];if(fe&&fe!==ce.callback&&fe!==ce.callback._callback||Ke&&Ke!==ce.context)qt.push(ce);else{var Me=ce.listening;Me&&Me.off(re,fe)}}qt.length?U[re]=qt:delete U[re]}return U}};f.once=function(U,re,fe){var Ee=C(P,{},U,re,this.off.bind(this));return typeof U=="string"&&fe==null&&(re=void 0),this.on(Ee,re,fe)},f.listenToOnce=function(U,re,fe){var Ee=C(P,{},re,fe,this.stopListening.bind(this,U));return this.listenTo(U,Ee)};var P=function(U,re,fe,Ee){if(fe){var Ke=U[re]=s.once(function(){Ee(re,Ke),fe.apply(this,arguments)});Ke._callback=fe}return U};f.trigger=function(U){if(!this._events)return this;for(var re=Math.max(0,arguments.length-1),fe=Array(re),Ee=0;Ee<re;Ee++)fe[Ee]=arguments[Ee+1];return C(M,this._events,U,void 0,fe),this};var M=function(U,re,fe,Ee){if(U){var Ke=U[re],pe=U.all;Ke&&pe&&(pe=pe.slice()),Ke&&y(Ke,Ee),pe&&y(pe,[re].concat(Ee))}return U},y=function(U,re){var fe,Ee=-1,Ke=U.length,pe=re[0],Se=re[1],Le=re[2];switch(re.length){case 0:for(;++Ee<Ke;)(fe=U[Ee]).callback.call(fe.ctx);return;case 1:for(;++Ee<Ke;)(fe=U[Ee]).callback.call(fe.ctx,pe);return;case 2:for(;++Ee<Ke;)(fe=U[Ee]).callback.call(fe.ctx,pe,Se);return;case 3:for(;++Ee<Ke;)(fe=U[Ee]).callback.call(fe.ctx,pe,Se,Le);return;default:for(;++Ee<Ke;)(fe=U[Ee]).callback.apply(fe.ctx,re);return}},A=function(U,re){this.id=U._listenId,this.listener=U,this.obj=re,this.interop=!0,this.count=0,this._events=void 0};A.prototype.on=f.on,A.prototype.off=function(U,re){var fe;this.interop?(this._events=C(w,this._events,U,re,{context:void 0,listeners:void 0}),fe=!this._events):(this.count--,fe=this.count===0),fe&&this.cleanup()},A.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},f.bind=f.on,f.unbind=f.off,s.extend(a,f);var k=a.Model=function(U,re){var fe=U||{};re||(re={}),this.preinitialize.apply(this,arguments),this.cid=s.uniqueId(this.cidPrefix),this.attributes={},re.collection&&(this.collection=re.collection),re.parse&&(fe=this.parse(fe,re)||{});var Ee=s.result(this,"defaults");fe=s.defaults(s.extend({},Ee,fe),Ee),this.set(fe,re),this.changed={},this.initialize.apply(this,arguments)};s.extend(k.prototype,f,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(U){return s.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(U){return this.attributes[U]},escape:function(U){return s.escape(this.get(U))},has:function(U){return this.get(U)!=null},matches:function(U){return!!s.iteratee(U,this)(this.attributes)},set:function(U,re,fe){if(U==null)return this;var Ee;if(typeof U=="object"?(Ee=U,fe=re):(Ee={})[U]=re,fe||(fe={}),!this._validate(Ee,fe))return!1;var Ke=fe.unset,pe=fe.silent,Se=[],Le=this._changing;this._changing=!0,Le||(this._previousAttributes=s.clone(this.attributes),this.changed={});var ft=this.attributes,qt=this.changed,At=this._previousAttributes;for(var ce in Ee)re=Ee[ce],s.isEqual(ft[ce],re)||Se.push(ce),s.isEqual(At[ce],re)?delete qt[ce]:qt[ce]=re,Ke?delete ft[ce]:ft[ce]=re;if(this.idAttribute in Ee){var Me=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Me,fe)}if(!pe){Se.length&&(this._pending=fe);for(var ie=0;ie<Se.length;ie++)this.trigger("change:"+Se[ie],this,ft[Se[ie]],fe)}if(Le)return this;if(!pe)for(;this._pending;)fe=this._pending,this._pending=!1,this.trigger("change",this,fe);return this._pending=!1,this._changing=!1,this},unset:function(U,re){return this.set(U,void 0,s.extend({},re,{unset:!0}))},clear:function(U){var re={};for(var fe in this.attributes)re[fe]=void 0;return this.set(re,s.extend({},U,{unset:!0}))},hasChanged:function(U){return U==null?!s.isEmpty(this.changed):s.has(this.changed,U)},changedAttributes:function(U){if(!U)return this.hasChanged()?s.clone(this.changed):!1;var re=this._changing?this._previousAttributes:this.attributes,fe={},Ee;for(var Ke in U){var pe=U[Ke];s.isEqual(re[Ke],pe)||(fe[Ke]=pe,Ee=!0)}return Ee?fe:!1},previous:function(U){return U==null||!this._previousAttributes?null:this._previousAttributes[U]},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(U){U=s.extend({parse:!0},U);var re=this,fe=U.success;return U.success=function(Ee){var Ke=U.parse?re.parse(Ee,U):Ee;if(!re.set(Ke,U))return!1;fe&&fe.call(U.context,re,Ee,U),re.trigger("sync",re,Ee,U)},at(this,U),this.sync("read",this,U)},save:function(U,re,fe){var Ee;U==null||typeof U=="object"?(Ee=U,fe=re):(Ee={})[U]=re,fe=s.extend({validate:!0,parse:!0},fe);var Ke=fe.wait;if(Ee&&!Ke){if(!this.set(Ee,fe))return!1}else if(!this._validate(Ee,fe))return!1;var pe=this,Se=fe.success,Le=this.attributes;fe.success=function(At){pe.attributes=Le;var ce=fe.parse?pe.parse(At,fe):At;if(Ke&&(ce=s.extend({},Ee,ce)),ce&&!pe.set(ce,fe))return!1;Se&&Se.call(fe.context,pe,At,fe),pe.trigger("sync",pe,At,fe)},at(this,fe),Ee&&Ke&&(this.attributes=s.extend({},Le,Ee));var ft=this.isNew()?"create":fe.patch?"patch":"update";ft==="patch"&&!fe.attrs&&(fe.attrs=Ee);var qt=this.sync(ft,this,fe);return this.attributes=Le,qt},destroy:function(U){U=U?s.clone(U):{};var re=this,fe=U.success,Ee=U.wait,Ke=function(){re.stopListening(),re.trigger("destroy",re,re.collection,U)};U.success=function(Se){Ee&&Ke(),fe&&fe.call(U.context,re,Se,U),re.isNew()||re.trigger("sync",re,Se,U)};var pe=!1;return this.isNew()?s.defer(U.success):(at(this,U),pe=this.sync("delete",this,U)),Ee||Ke(),pe},url:function(){var U=s.result(this,"urlRoot")||s.result(this.collection,"url")||ut();if(this.isNew())return U;var re=this.get(this.idAttribute);return U.replace(/[^\/]$/,"$&/")+encodeURIComponent(re)},parse:function(U,re){return U},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(U){return this._validate({},s.extend({},U,{validate:!0}))},_validate:function(U,re){if(!re.validate||!this.validate)return!0;U=s.extend({},this.attributes,U);var fe=this.validationError=this.validate(U,re)||null;return fe?(this.trigger("invalid",this,fe,s.extend(re,{validationError:fe})),!1):!0}});var N=a.Collection=function(U,re){re||(re={}),this.preinitialize.apply(this,arguments),re.model&&(this.model=re.model),re.comparator!==void 0&&(this.comparator=re.comparator),this._reset(),this.initialize.apply(this,arguments),U&&this.reset(U,s.extend({silent:!0},re))},V={add:!0,remove:!0,merge:!0},j={add:!0,remove:!1},R=function(U,re,fe){fe=Math.min(Math.max(fe,0),U.length);var Ee=Array(U.length-fe),Ke=re.length,pe;for(pe=0;pe<Ee.length;pe++)Ee[pe]=U[pe+fe];for(pe=0;pe<Ke;pe++)U[pe+fe]=re[pe];for(pe=0;pe<Ee.length;pe++)U[pe+Ke+fe]=Ee[pe]};s.extend(N.prototype,f,{model:k,preinitialize:function(){},initialize:function(){},toJSON:function(U){return this.map(function(re){return re.toJSON(U)})},sync:function(){return a.sync.apply(this,arguments)},add:function(U,re){return this.set(U,s.extend({merge:!1},re,j))},remove:function(U,re){re=s.extend({},re);var fe=!s.isArray(U);U=fe?[U]:U.slice();var Ee=this._removeModels(U,re);return!re.silent&&Ee.length&&(re.changes={added:[],merged:[],removed:Ee},this.trigger("update",this,re)),fe?Ee[0]:Ee},set:function(U,re){if(U!=null){re=s.extend({},V,re),re.parse&&!this._isModel(U)&&(U=this.parse(U,re)||[]);var fe=!s.isArray(U);U=fe?[U]:U.slice();var Ee=re.at;Ee!=null&&(Ee=+Ee),Ee>this.length&&(Ee=this.length),Ee<0&&(Ee+=this.length+1);var Ke=[],pe=[],Se=[],Le=[],ft={},qt=re.add,At=re.merge,ce=re.remove,Me=!1,ie=this.comparator&&Ee==null&&re.sort!==!1,Xe=s.isString(this.comparator)?this.comparator:null,Re,st;for(st=0;st<U.length;st++){Re=U[st];var yt=this.get(Re);if(yt){if(At&&Re!==yt){var bt=this._isModel(Re)?Re.attributes:Re;re.parse&&(bt=yt.parse(bt,re)),yt.set(bt,re),Se.push(yt),ie&&!Me&&(Me=yt.hasChanged(Xe))}ft[yt.cid]||(ft[yt.cid]=!0,Ke.push(yt)),U[st]=yt}else qt&&(Re=U[st]=this._prepareModel(Re,re),Re&&(pe.push(Re),this._addReference(Re,re),ft[Re.cid]=!0,Ke.push(Re)))}if(ce){for(st=0;st<this.length;st++)Re=this.models[st],ft[Re.cid]||Le.push(Re);Le.length&&this._removeModels(Le,re)}var mt=!1,Et=!ie&&qt&&ce;if(Ke.length&&Et?(mt=this.length!==Ke.length||s.some(this.models,function(Qt,$t){return Qt!==Ke[$t]}),this.models.length=0,R(this.models,Ke,0),this.length=this.models.length):pe.length&&(ie&&(Me=!0),R(this.models,pe,Ee??this.length),this.length=this.models.length),Me&&this.sort({silent:!0}),!re.silent){for(st=0;st<pe.length;st++)Ee!=null&&(re.index=Ee+st),Re=pe[st],Re.trigger("add",Re,this,re);(Me||mt)&&this.trigger("sort",this,re),(pe.length||Le.length||Se.length)&&(re.changes={added:pe,removed:Le,merged:Se},this.trigger("update",this,re))}return fe?U[0]:U}},reset:function(U,re){re=re?s.clone(re):{};for(var fe=0;fe<this.models.length;fe++)this._removeReference(this.models[fe],re);return re.previousModels=this.models,this._reset(),U=this.add(U,s.extend({silent:!0},re)),re.silent||this.trigger("reset",this,re),U},push:function(U,re){return this.add(U,s.extend({at:this.length},re))},pop:function(U){var re=this.at(this.length-1);return this.remove(re,U)},unshift:function(U,re){return this.add(U,s.extend({at:0},re))},shift:function(U){var re=this.at(0);return this.remove(re,U)},slice:function(){return p.apply(this.models,arguments)},get:function(U){if(U!=null)return this._byId[U]||this._byId[this.modelId(this._isModel(U)?U.attributes:U,U.idAttribute)]||U.cid&&this._byId[U.cid]},has:function(U){return this.get(U)!=null},at:function(U){return U<0&&(U+=this.length),this.models[U]},where:function(U,re){return this[re?"find":"filter"](U)},findWhere:function(U){return this.where(U,!0)},sort:function(U){var re=this.comparator;if(!re)throw new Error("Cannot sort a set without a comparator");U||(U={});var fe=re.length;return s.isFunction(re)&&(re=re.bind(this)),fe===1||s.isString(re)?this.models=this.sortBy(re):this.models.sort(re),U.silent||this.trigger("sort",this,U),this},pluck:function(U){return this.map(U+"")},fetch:function(U){U=s.extend({parse:!0},U);var re=U.success,fe=this;return U.success=function(Ee){var Ke=U.reset?"reset":"set";fe[Ke](Ee,U),re&&re.call(U.context,fe,Ee,U),fe.trigger("sync",fe,Ee,U)},at(this,U),this.sync("read",this,U)},create:function(U,re){re=re?s.clone(re):{};var fe=re.wait;if(U=this._prepareModel(U,re),!U)return!1;fe||this.add(U,re);var Ee=this,Ke=re.success;return re.success=function(pe,Se,Le){fe&&Ee.add(pe,Le),Ke&&Ke.call(Le.context,pe,Se,Le)},U.save(null,re),U},parse:function(U,re){return U},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(U,re){return U[re||this.model.prototype.idAttribute||"id"]},values:function(){return new I(this,G)},keys:function(){return new I(this,K)},entries:function(){return new I(this,J)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(U,re){if(this._isModel(U))return U.collection||(U.collection=this),U;re=re?s.clone(re):{},re.collection=this;var fe;return this.model.prototype?fe=new this.model(U,re):fe=this.model(U,re),fe.validationError?(this.trigger("invalid",this,fe.validationError,re),!1):fe},_removeModels:function(U,re){for(var fe=[],Ee=0;Ee<U.length;Ee++){var Ke=this.get(U[Ee]);if(Ke){var pe=this.indexOf(Ke);this.models.splice(pe,1),this.length--,delete this._byId[Ke.cid];var Se=this.modelId(Ke.attributes,Ke.idAttribute);Se!=null&&delete this._byId[Se],re.silent||(re.index=pe,Ke.trigger("remove",Ke,this,re)),fe.push(Ke),this._removeReference(Ke,re)}}return fe},_isModel:function(U){return U instanceof k},_addReference:function(U,re){this._byId[U.cid]=U;var fe=this.modelId(U.attributes,U.idAttribute);fe!=null&&(this._byId[fe]=U),U.on("all",this._onModelEvent,this)},_removeReference:function(U,re){delete this._byId[U.cid];var fe=this.modelId(U.attributes,U.idAttribute);fe!=null&&delete this._byId[fe],this===U.collection&&delete U.collection,U.off("all",this._onModelEvent,this)},_onModelEvent:function(U,re,fe,Ee){if(re){if((U==="add"||U==="remove")&&fe!==this)return;if(U==="destroy"&&this.remove(re,Ee),U==="changeId"){var Ke=this.modelId(re.previousAttributes(),re.idAttribute),pe=this.modelId(re.attributes,re.idAttribute);Ke!=null&&delete this._byId[Ke],pe!=null&&(this._byId[pe]=re)}}this.trigger.apply(this,arguments)}});var H=typeof Symbol=="function"&&Symbol.iterator;H&&(N.prototype[H]=N.prototype.values);var I=function(U,re){this._collection=U,this._kind=re,this._index=0},G=1,K=2,J=3;H&&(I.prototype[H]=function(){return this}),I.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var U=this._collection.at(this._index);this._index++;var re;if(this._kind===G)re=U;else{var fe=this._collection.modelId(U.attributes,U.idAttribute);this._kind===K?re=fe:re=[fe,U]}return{value:re,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var E=a.View=function(U){this.cid=s.uniqueId("view"),this.preinitialize.apply(this,arguments),s.extend(this,s.pick(U,te)),this._ensureElement(),this.initialize.apply(this,arguments)},Z=/^(\S+)\s*(.*)$/,te=["model","collection","el","id","attributes","className","tagName","events"];s.extend(E.prototype,f,{tagName:"div",$:function(U){return this.$el.find(U)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(U){return this.undelegateEvents(),this._setElement(U),this.delegateEvents(),this},_setElement:function(U){this.$el=U instanceof a.$?U:a.$(U),this.el=this.$el[0]},delegateEvents:function(U){if(U||(U=s.result(this,"events")),!U)return this;this.undelegateEvents();for(var re in U){var fe=U[re];if(s.isFunction(fe)||(fe=this[fe]),!!fe){var Ee=re.match(Z);this.delegate(Ee[1],Ee[2],fe.bind(this))}}return this},delegate:function(U,re,fe){return this.$el.on(U+".delegateEvents"+this.cid,re,fe),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(U,re,fe){return this.$el.off(U+".delegateEvents"+this.cid,re,fe),this},_createElement:function(U){return document.createElement(U)},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"));else{var U=s.extend({},s.result(this,"attributes"));this.id&&(U.id=s.result(this,"id")),this.className&&(U.class=s.result(this,"className")),this.setElement(this._createElement(s.result(this,"tagName"))),this._setAttributes(U)}},_setAttributes:function(U){this.$el.attr(U)}});var de=function(U,re,fe,Ee){switch(re){case 1:return function(){return U[fe](this[Ee])};case 2:return function(Ke){return U[fe](this[Ee],Ke)};case 3:return function(Ke,pe){return U[fe](this[Ee],Ge(Ke,this),pe)};case 4:return function(Ke,pe,Se){return U[fe](this[Ee],Ge(Ke,this),pe,Se)};default:return function(){var Ke=p.call(arguments);return Ke.unshift(this[Ee]),U[fe].apply(U,Ke)}}},Fe=function(U,re,fe,Ee){s.each(fe,function(Ke,pe){re[pe]&&(U.prototype[pe]=de(re,Ke,pe,Ee))})},Ge=function(U,re){return s.isFunction(U)?U:s.isObject(U)&&!re._isModel(U)?we(U):s.isString(U)?function(fe){return fe.get(U)}:U},we=function(U){var re=s.matches(U);return function(fe){return re(fe.attributes)}},ge={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},ne={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s.each([[N,ge,"models"],[k,ne,"attributes"]],function(U){var re=U[0],fe=U[1],Ee=U[2];re.mixin=function(Ke){var pe=s.reduce(s.functions(Ke),function(Se,Le){return Se[Le]=0,Se},{});Fe(re,Ke,pe,Ee)},Fe(re,s,fe,Ee)}),a.sync=function(U,re,fe){var Ee=he[U];s.defaults(fe||(fe={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var Ke={type:Ee,dataType:"json"};if(fe.url||(Ke.url=s.result(re,"url")||ut()),fe.data==null&&re&&(U==="create"||U==="update"||U==="patch")&&(Ke.contentType="application/json",Ke.data=JSON.stringify(fe.attrs||re.toJSON(fe))),fe.emulateJSON&&(Ke.contentType="application/x-www-form-urlencoded",Ke.data=Ke.data?{model:Ke.data}:{}),fe.emulateHTTP&&(Ee==="PUT"||Ee==="DELETE"||Ee==="PATCH")){Ke.type="POST",fe.emulateJSON&&(Ke.data._method=Ee);var pe=fe.beforeSend;fe.beforeSend=function(ft){if(ft.setRequestHeader("X-HTTP-Method-Override",Ee),pe)return pe.apply(this,arguments)}}Ke.type!=="GET"&&!fe.emulateJSON&&(Ke.processData=!1);var Se=fe.error;fe.error=function(ft,qt,At){fe.textStatus=qt,fe.errorThrown=At,Se&&Se.call(fe.context,ft,qt,At)};var Le=fe.xhr=a.ajax(s.extend(Ke,fe));return re.trigger("request",re,Le,fe),Le};var he={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var Oe=a.Router=function(U){U||(U={}),this.preinitialize.apply(this,arguments),U.routes&&(this.routes=U.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Te=/\((.*?)\)/g,Ne=/(\(\?)?:\w+/g,ze=/\*\w+/g,ke=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(Oe.prototype,f,{preinitialize:function(){},initialize:function(){},route:function(U,re,fe){s.isRegExp(U)||(U=this._routeToRegExp(U)),s.isFunction(re)&&(fe=re,re=""),fe||(fe=this[re]);var Ee=this;return a.history.route(U,function(Ke){var pe=Ee._extractParameters(U,Ke);Ee.execute(fe,pe,re)!==!1&&(Ee.trigger.apply(Ee,["route:"+re].concat(pe)),Ee.trigger("route",re,pe),a.history.trigger("route",Ee,re,pe))}),this},execute:function(U,re,fe){U&&U.apply(this,re)},navigate:function(U,re){return a.history.navigate(U,re),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var U,re=s.keys(this.routes);(U=re.pop())!=null;)this.route(U,this.routes[U])}},_routeToRegExp:function(U){return U=U.replace(ke,"\\$&").replace(Te,"(?:$1)?").replace(Ne,function(re,fe){return fe?re:"([^/?]+)"}).replace(ze,"([^?]*?)"),new RegExp("^"+U+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(U,re){var fe=U.exec(re).slice(1);return s.map(fe,function(Ee,Ke){return Ke===fe.length-1?Ee||null:Ee?decodeURIComponent(Ee):null})}});var oe=a.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Ue=/^[#\/]|\s+$/g,ot=/^\/+|\/+$/g,_e=/#.*$/;oe.started=!1,s.extend(oe.prototype,f,{interval:50,atRoot:function(){var U=this.location.pathname.replace(/[^\/]$/,"$&/");return U===this.root&&!this.getSearch()},matchRoot:function(){var U=this.decodeFragment(this.location.pathname),re=U.slice(0,this.root.length-1)+"/";return re===this.root},decodeFragment:function(U){return decodeURI(U.replace(/%25/g,"%2525"))},getSearch:function(){var U=this.location.href.replace(/#.*/,"").match(/\?.+/);return U?U[0]:""},getHash:function(U){var re=(U||this).location.href.match(/#(.*)$/);return re?re[1]:""},getPath:function(){var U=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return U.charAt(0)==="/"?U.slice(1):U},getFragment:function(U){return U==null&&(this._usePushState||!this._wantsHashChange?U=this.getPath():U=this.getHash()),U.replace(Ue,"")},start:function(U){if(oe.started)throw new Error("Backbone.history has already been started");if(oe.started=!0,this.options=s.extend({root:"/"},this.options,U),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ot,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var re=this.root.slice(0,-1)||"/";return this.location.replace(re+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var fe=document.body,Ee=fe.insertBefore(this.iframe,fe.firstChild).contentWindow;Ee.document.open(),Ee.document.close(),Ee.location.hash="#"+this.fragment}var Ke=window.addEventListener||function(pe,Se){return attachEvent("on"+pe,Se)};if(this._usePushState?Ke("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Ke("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var U=window.removeEventListener||function(re,fe){return detachEvent("on"+re,fe)};this._usePushState?U("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&U("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),oe.started=!1},route:function(U,re){this.handlers.unshift({route:U,callback:re})},checkUrl:function(U){var re=this.getFragment();if(re===this.fragment&&this.iframe&&(re=this.getHash(this.iframe.contentWindow)),re===this.fragment)return!1;this.iframe&&this.navigate(re),this.loadUrl()},loadUrl:function(U){return this.matchRoot()?(U=this.fragment=this.getFragment(U),s.some(this.handlers,function(re){if(re.route.test(U))return re.callback(U),!0})):!1},navigate:function(U,re){if(!oe.started)return!1;(!re||re===!0)&&(re={trigger:!!re}),U=this.getFragment(U||"");var fe=this.root;(U===""||U.charAt(0)==="?")&&(fe=fe.slice(0,-1)||"/");var Ee=fe+U;U=U.replace(_e,"");var Ke=this.decodeFragment(U);if(this.fragment!==Ke){if(this.fragment=Ke,this._usePushState)this.history[re.replace?"replaceState":"pushState"]({},document.title,Ee);else if(this._wantsHashChange){if(this._updateHash(this.location,U,re.replace),this.iframe&&U!==this.getHash(this.iframe.contentWindow)){var pe=this.iframe.contentWindow;re.replace||(pe.document.open(),pe.document.close()),this._updateHash(pe.location,U,re.replace)}}else return this.location.assign(Ee);if(re.trigger)return this.loadUrl(U)}},_updateHash:function(U,re,fe){if(fe){var Ee=U.href.replace(/(javascript:|#).*$/,"");U.replace(Ee+"#"+re)}else U.hash="#"+re}}),a.history=new oe;var Je=function(U,re){var fe=this,Ee;return U&&s.has(U,"constructor")?Ee=U.constructor:Ee=function(){return fe.apply(this,arguments)},s.extend(Ee,fe,re),Ee.prototype=s.create(fe.prototype,U),Ee.prototype.constructor=Ee,Ee.__super__=fe.prototype,Ee};k.extend=N.extend=Oe.extend=E.extend=oe.extend=Je;var ut=function(){throw new Error('A "url" property or function must be specified')},at=function(U,re){var fe=re.error;re.error=function(Ee){fe&&fe.call(re.context,U,Ee,re),U.trigger("error",U,Ee,re)}};return a})},3640:(o,i,e)=>{(function(t){t(e(4408))})(function(t){t.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(r,a){return/^[;{}]$/.test(a)}}),t.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(r,a,s,c){return this.jsonMode?/^[\[,{]$/.test(a)||/^}/.test(s):a==";"&&c.lexical&&c.lexical.type==")"?!1:/^[;{}]$/.test(a)&&!/^;/.test(s)}});var n=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;t.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(r,a,s,c){var d=!1;return this.configuration=="html"&&(d=c.context?n.test(c.context.tagName):!1),!d&&(r=="tag"&&/>$/.test(a)&&c.context||/^</.test(s))}}),t.defineExtension("commentRange",function(r,a,s){var c=this,d=t.innerMode(c.getMode(),c.getTokenAt(a).state).mode;c.operation(function(){if(r)c.replaceRange(d.commentEnd,s),c.replaceRange(d.commentStart,a),a.line==s.line&&a.ch==s.ch&&c.setCursor(a.line,a.ch+d.commentStart.length);else{var p=c.getRange(a,s),f=p.indexOf(d.commentStart),h=p.lastIndexOf(d.commentEnd);f>-1&&h>-1&&h>f&&(p=p.substr(0,f)+p.substring(f+d.commentStart.length,h)+p.substr(h+d.commentEnd.length)),c.replaceRange(p,a,s)}})}),t.defineExtension("autoIndentRange",function(r,a){var s=this;this.operation(function(){for(var c=r.line;c<=a.line;c++)s.indentLine(c,"smart")})}),t.defineExtension("autoFormatRange",function(r,a){var s=this,c=s.getMode(),d=s.getRange(r,a).split(`
`),p=t.copyState(c,s.getTokenAt(r).state),f=s.getOption("tabSize"),h="",v=0,C=r.ch===0;function b(){h+=`
`,C=!0,++v}for(var x=0;x<d.length;++x){for(var w=new t.StringStream(d[x],f);!w.eol();){var P=t.innerMode(c,p),M=c.token(w,p),y=w.current();w.start=w.pos,(!C||/\S/.test(y))&&(h+=y,C=!1),!C&&P.mode.newlineAfterToken&&P.mode.newlineAfterToken(M,y,w.string.slice(w.pos)||d[x+1]||"",P.state)&&b()}!w.pos&&c.blankLine&&c.blankLine(p),!C&&x<d.length-1&&b()}s.operation(function(){s.replaceRange(h,r,a);for(var A=r.line+1,k=r.line+v;A<=k;++A)s.indentLine(A,"smart");s.setSelection(r,s.getCursor(!1))})})})},4408:function(o){(function(i,e){o.exports=e()})(this,function(){"use strict";var i=navigator.userAgent,e=navigator.platform,t=/gecko\/\d/i.test(i),n=/MSIE \d/.test(i),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(i),a=/Edge\/(\d+)/.exec(i),s=n||r||a,c=s&&(n?document.documentMode||6:+(a||r)[1]),d=!a&&/WebKit\//.test(i),p=d&&/Qt\/\d+\.\d+/.test(i),f=!a&&/Chrome\//.test(i),h=/Opera\//.test(i),v=/Apple Computer/.test(navigator.vendor),C=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(i),b=/PhantomJS/.test(i),x=v&&(/Mobile\/\w+/.test(i)||navigator.maxTouchPoints>2),w=/Android/.test(i),P=x||w||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(i),M=x||/Mac/.test(e),y=/\bCrOS\b/.test(i),A=/win/i.test(e),k=h&&i.match(/Version\/(\d*\.\d*)/);k&&(k=Number(k[1])),k&&k>=15&&(h=!1,d=!0);var N=M&&(p||h&&(k==null||k<12.11)),V=t||s&&c>=9;function j(l){return new RegExp("(^|\\s)"+l+"(?:$|\\s)\\s*")}var R=function(l,u){var g=l.className,m=j(u).exec(g);if(m){var _=g.slice(m.index+m[0].length);l.className=g.slice(0,m.index)+(_?m[1]+_:"")}};function H(l){for(var u=l.childNodes.length;u>0;--u)l.removeChild(l.firstChild);return l}function I(l,u){return H(l).appendChild(u)}function G(l,u,g,m){var _=document.createElement(l);if(g&&(_.className=g),m&&(_.style.cssText=m),typeof u=="string")_.appendChild(document.createTextNode(u));else if(u)for(var O=0;O<u.length;++O)_.appendChild(u[O]);return _}function K(l,u,g,m){var _=G(l,u,g,m);return _.setAttribute("role","presentation"),_}var J;document.createRange?J=function(l,u,g,m){var _=document.createRange();return _.setEnd(m||l,g),_.setStart(l,u),_}:J=function(l,u,g){var m=document.body.createTextRange();try{m.moveToElementText(l.parentNode)}catch{return m}return m.collapse(!0),m.moveEnd("character",g),m.moveStart("character",u),m};function E(l,u){if(u.nodeType==3&&(u=u.parentNode),l.contains)return l.contains(u);do if(u.nodeType==11&&(u=u.host),u==l)return!0;while(u=u.parentNode)}function Z(){var l;try{l=document.activeElement}catch{l=document.body||null}for(;l&&l.shadowRoot&&l.shadowRoot.activeElement;)l=l.shadowRoot.activeElement;return l}function te(l,u){var g=l.className;j(u).test(g)||(l.className+=(g?" ":"")+u)}function de(l,u){for(var g=l.split(" "),m=0;m<g.length;m++)g[m]&&!j(g[m]).test(u)&&(u+=" "+g[m]);return u}var Fe=function(l){l.select()};x?Fe=function(l){l.selectionStart=0,l.selectionEnd=l.value.length}:s&&(Fe=function(l){try{l.select()}catch{}});function Ge(l){var u=Array.prototype.slice.call(arguments,1);return function(){return l.apply(null,u)}}function we(l,u,g){u||(u={});for(var m in l)l.hasOwnProperty(m)&&(g!==!1||!u.hasOwnProperty(m))&&(u[m]=l[m]);return u}function ge(l,u,g,m,_){u==null&&(u=l.search(/[^\s\u00a0]/),u==-1&&(u=l.length));for(var O=m||0,D=_||0;;){var z=l.indexOf("	",O);if(z<0||z>=u)return D+(u-O);D+=z-O,D+=g-D%g,O=z+1}}var ne=function(){this.id=null,this.f=null,this.time=0,this.handler=Ge(this.onTimeout,this)};ne.prototype.onTimeout=function(l){l.id=0,l.time<=+new Date?l.f():setTimeout(l.handler,l.time-+new Date)},ne.prototype.set=function(l,u){this.f=u;var g=+new Date+l;(!this.id||g<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,l),this.time=g)};function he(l,u){for(var g=0;g<l.length;++g)if(l[g]==u)return g;return-1}var Oe=50,Te={toString:function(){return"CodeMirror.Pass"}},Ne={scroll:!1},ze={origin:"*mouse"},ke={origin:"+move"};function oe(l,u,g){for(var m=0,_=0;;){var O=l.indexOf("	",m);O==-1&&(O=l.length);var D=O-m;if(O==l.length||_+D>=u)return m+Math.min(D,u-_);if(_+=O-m,_+=g-_%g,m=O+1,_>=u)return m}}var Ue=[""];function ot(l){for(;Ue.length<=l;)Ue.push(_e(Ue)+" ");return Ue[l]}function _e(l){return l[l.length-1]}function Je(l,u){for(var g=[],m=0;m<l.length;m++)g[m]=u(l[m],m);return g}function ut(l,u,g){for(var m=0,_=g(u);m<l.length&&g(l[m])<=_;)m++;l.splice(m,0,u)}function at(){}function U(l,u){var g;return Object.create?g=Object.create(l):(at.prototype=l,g=new at),u&&we(u,g),g}var re=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function fe(l){return/\w/.test(l)||l>"\x80"&&(l.toUpperCase()!=l.toLowerCase()||re.test(l))}function Ee(l,u){return u?u.source.indexOf("\\w")>-1&&fe(l)?!0:u.test(l):fe(l)}function Ke(l){for(var u in l)if(l.hasOwnProperty(u)&&l[u])return!1;return!0}var pe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Se(l){return l.charCodeAt(0)>=768&&pe.test(l)}function Le(l,u,g){for(;(g<0?u>0:u<l.length)&&Se(l.charAt(u));)u+=g;return u}function ft(l,u,g){for(var m=u>g?-1:1;;){if(u==g)return u;var _=(u+g)/2,O=m<0?Math.ceil(_):Math.floor(_);if(O==u)return l(O)?u:g;l(O)?g=O:u=O+m}}function qt(l,u,g,m){if(!l)return m(u,g,"ltr",0);for(var _=!1,O=0;O<l.length;++O){var D=l[O];(D.from<g&&D.to>u||u==g&&D.to==u)&&(m(Math.max(D.from,u),Math.min(D.to,g),D.level==1?"rtl":"ltr",O),_=!0)}_||m(u,g,"ltr")}var At=null;function ce(l,u,g){var m;At=null;for(var _=0;_<l.length;++_){var O=l[_];if(O.from<u&&O.to>u)return _;O.to==u&&(O.from!=O.to&&g=="before"?m=_:At=_),O.from==u&&(O.from!=O.to&&g!="before"?m=_:At=_)}return m??At}var Me=function(){var l="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",u="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function g(Q){return Q<=247?l.charAt(Q):1424<=Q&&Q<=1524?"R":1536<=Q&&Q<=1785?u.charAt(Q-1536):1774<=Q&&Q<=2220?"r":8192<=Q&&Q<=8203?"w":Q==8204?"b":"L"}var m=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,_=/[stwN]/,O=/[LRr]/,D=/[Lb1n]/,z=/[1n]/;function W(Q,me,be){this.level=Q,this.from=me,this.to=be}return function(Q,me){var be=me=="ltr"?"L":"R";if(Q.length==0||me=="ltr"&&!m.test(Q))return!1;for(var He=Q.length,De=[],Ye=0;Ye<He;++Ye)De.push(g(Q.charCodeAt(Ye)));for(var lt=0,ht=be;lt<He;++lt){var xt=De[lt];xt=="m"?De[lt]=ht:ht=xt}for(var St=0,wt=be;St<He;++St){var kt=De[St];kt=="1"&&wt=="r"?De[St]="n":O.test(kt)&&(wt=kt,kt=="r"&&(De[St]="R"))}for(var Wt=1,Ut=De[0];Wt<He-1;++Wt){var on=De[Wt];on=="+"&&Ut=="1"&&De[Wt+1]=="1"?De[Wt]="1":on==","&&Ut==De[Wt+1]&&(Ut=="1"||Ut=="n")&&(De[Wt]=Ut),Ut=on}for(var Ln=0;Ln<He;++Ln){var ui=De[Ln];if(ui==",")De[Ln]="N";else if(ui=="%"){var Bn=void 0;for(Bn=Ln+1;Bn<He&&De[Bn]=="%";++Bn);for(var sr=Ln&&De[Ln-1]=="!"||Bn<He&&De[Bn]=="1"?"1":"N",zi=Ln;zi<Bn;++zi)De[zi]=sr;Ln=Bn-1}}for(var ei=0,Bi=be;ei<He;++ei){var yi=De[ei];Bi=="L"&&yi=="1"?De[ei]="L":O.test(yi)&&(Bi=yi)}for(var ai=0;ai<He;++ai)if(_.test(De[ai])){var ti=void 0;for(ti=ai+1;ti<He&&_.test(De[ti]);++ti);for(var Kn=(ai?De[ai-1]:be)=="L",Ui=(ti<He?De[ti]:be)=="L",Hs=Kn==Ui?Kn?"L":"R":be,pa=ai;pa<ti;++pa)De[pa]=Hs;ai=ti-1}for(var Ei=[],ro,pi=0;pi<He;)if(D.test(De[pi])){var xf=pi;for(++pi;pi<He&&D.test(De[pi]);++pi);Ei.push(new W(0,xf,pi))}else{var Lo=pi,Ya=Ei.length,Qa=me=="rtl"?1:0;for(++pi;pi<He&&De[pi]!="L";++pi);for(var Ni=Lo;Ni<pi;)if(z.test(De[Ni])){Lo<Ni&&(Ei.splice(Ya,0,new W(1,Lo,Ni)),Ya+=Qa);var zs=Ni;for(++Ni;Ni<pi&&z.test(De[Ni]);++Ni);Ei.splice(Ya,0,new W(2,zs,Ni)),Ya+=Qa,Lo=Ni}else++Ni;Lo<pi&&Ei.splice(Ya,0,new W(1,Lo,pi))}return me=="ltr"&&(Ei[0].level==1&&(ro=Q.match(/^\s+/))&&(Ei[0].from=ro[0].length,Ei.unshift(new W(0,0,ro[0].length))),_e(Ei).level==1&&(ro=Q.match(/\s+$/))&&(_e(Ei).to-=ro[0].length,Ei.push(new W(0,He-ro[0].length,He)))),me=="rtl"?Ei.reverse():Ei}}();function ie(l,u){var g=l.order;return g==null&&(g=l.order=Me(l.text,u)),g}var Xe=[],Re=function(l,u,g){if(l.addEventListener)l.addEventListener(u,g,!1);else if(l.attachEvent)l.attachEvent("on"+u,g);else{var m=l._handlers||(l._handlers={});m[u]=(m[u]||Xe).concat(g)}};function st(l,u){return l._handlers&&l._handlers[u]||Xe}function yt(l,u,g){if(l.removeEventListener)l.removeEventListener(u,g,!1);else if(l.detachEvent)l.detachEvent("on"+u,g);else{var m=l._handlers,_=m&&m[u];if(_){var O=he(_,g);O>-1&&(m[u]=_.slice(0,O).concat(_.slice(O+1)))}}}function bt(l,u){var g=st(l,u);if(g.length)for(var m=Array.prototype.slice.call(arguments,2),_=0;_<g.length;++_)g[_].apply(null,m)}function mt(l,u,g){return typeof u=="string"&&(u={type:u,preventDefault:function(){this.defaultPrevented=!0}}),bt(l,g||u.type,l,u),Rn(u)||u.codemirrorIgnore}function Et(l){var u=l._handlers&&l._handlers.cursorActivity;if(u)for(var g=l.curOp.cursorActivityHandlers||(l.curOp.cursorActivityHandlers=[]),m=0;m<u.length;++m)he(g,u[m])==-1&&g.push(u[m])}function Qt(l,u){return st(l,u).length>0}function $t(l){l.prototype.on=function(u,g){Re(this,u,g)},l.prototype.off=function(u,g){yt(this,u,g)}}function Zt(l){l.preventDefault?l.preventDefault():l.returnValue=!1}function pn(l){l.stopPropagation?l.stopPropagation():l.cancelBubble=!0}function Rn(l){return l.defaultPrevented!=null?l.defaultPrevented:l.returnValue==!1}function se(l){Zt(l),pn(l)}function xe(l){return l.target||l.srcElement}function Ie(l){var u=l.which;return u==null&&(l.button&1?u=1:l.button&2?u=3:l.button&4&&(u=2)),M&&l.ctrlKey&&u==1&&(u=3),u}var Qe=function(){if(s&&c<9)return!1;var l=G("div");return"draggable"in l||"dragDrop"in l}(),vt;function Ot(l){if(vt==null){var u=G("span","\u200B");I(l,G("span",[u,document.createTextNode("x")])),l.firstChild.offsetHeight!=0&&(vt=u.offsetWidth<=1&&u.offsetHeight>2&&!(s&&c<8))}var g=vt?G("span","\u200B"):G("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return g.setAttribute("cm-text",""),g}var It;function _n(l){if(It!=null)return It;var u=I(l,document.createTextNode("A\u062EA")),g=J(u,0,1).getBoundingClientRect(),m=J(u,1,2).getBoundingClientRect();return H(l),!g||g.left==g.right?!1:It=m.right-g.right<3}var gn=`

b`.split(/\n/).length!=3?function(l){for(var u=0,g=[],m=l.length;u<=m;){var _=l.indexOf(`
`,u);_==-1&&(_=l.length);var O=l.slice(u,l.charAt(_-1)=="\r"?_-1:_),D=O.indexOf("\r");D!=-1?(g.push(O.slice(0,D)),u+=D+1):(g.push(O),u=_+1)}return g}:function(l){return l.split(/\r\n?|\n/)},nn=window.getSelection?function(l){try{return l.selectionStart!=l.selectionEnd}catch{return!1}}:function(l){var u;try{u=l.ownerDocument.selection.createRange()}catch{}return!u||u.parentElement()!=l?!1:u.compareEndPoints("StartToEnd",u)!=0},Zn=function(){var l=G("div");return"oncopy"in l?!0:(l.setAttribute("oncopy","return;"),typeof l.oncopy=="function")}(),yn=null;function cn(l){if(yn!=null)return yn;var u=I(l,G("span","x")),g=u.getBoundingClientRect(),m=J(u,0,1).getBoundingClientRect();return yn=Math.abs(g.left-m.left)>1}var ni={},fn={};function an(l,u){arguments.length>2&&(u.dependencies=Array.prototype.slice.call(arguments,2)),ni[l]=u}function bn(l,u){fn[l]=u}function Vn(l){if(typeof l=="string"&&fn.hasOwnProperty(l))l=fn[l];else if(l&&typeof l.name=="string"&&fn.hasOwnProperty(l.name)){var u=fn[l.name];typeof u=="string"&&(u={name:u}),l=U(u,l),l.name=u.name}else{if(typeof l=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(l))return Vn("application/xml");if(typeof l=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(l))return Vn("application/json")}return typeof l=="string"?{name:l}:l||{name:"null"}}function Vt(l,u){u=Vn(u);var g=ni[u.name];if(!g)return Vt(l,"text/plain");var m=g(l,u);if(jn.hasOwnProperty(u.name)){var _=jn[u.name];for(var O in _)_.hasOwnProperty(O)&&(m.hasOwnProperty(O)&&(m["_"+O]=m[O]),m[O]=_[O])}if(m.name=u.name,u.helperType&&(m.helperType=u.helperType),u.modeProps)for(var D in u.modeProps)m[D]=u.modeProps[D];return m}var jn={};function Dt(l,u){var g=jn.hasOwnProperty(l)?jn[l]:jn[l]={};we(u,g)}function Pn(l,u){if(u===!0)return u;if(l.copyState)return l.copyState(u);var g={};for(var m in u){var _=u[m];_ instanceof Array&&(_=_.concat([])),g[m]=_}return g}function un(l,u){for(var g;l.innerMode&&(g=l.innerMode(u),!(!g||g.mode==l));)u=g.state,l=g.mode;return g||{mode:l,state:u}}function T(l,u,g){return l.startState?l.startState(u,g):!0}var B=function(l,u,g){this.pos=this.start=0,this.string=l,this.tabSize=u||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=g};B.prototype.eol=function(){return this.pos>=this.string.length},B.prototype.sol=function(){return this.pos==this.lineStart},B.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},B.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},B.prototype.eat=function(l){var u=this.string.charAt(this.pos),g;if(typeof l=="string"?g=u==l:g=u&&(l.test?l.test(u):l(u)),g)return++this.pos,u},B.prototype.eatWhile=function(l){for(var u=this.pos;this.eat(l););return this.pos>u},B.prototype.eatSpace=function(){for(var l=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>l},B.prototype.skipToEnd=function(){this.pos=this.string.length},B.prototype.skipTo=function(l){var u=this.string.indexOf(l,this.pos);if(u>-1)return this.pos=u,!0},B.prototype.backUp=function(l){this.pos-=l},B.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ge(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ge(this.string,this.lineStart,this.tabSize):0)},B.prototype.indentation=function(){return ge(this.string,null,this.tabSize)-(this.lineStart?ge(this.string,this.lineStart,this.tabSize):0)},B.prototype.match=function(l,u,g){if(typeof l=="string"){var m=function(D){return g?D.toLowerCase():D},_=this.string.substr(this.pos,l.length);if(m(_)==m(l))return u!==!1&&(this.pos+=l.length),!0}else{var O=this.string.slice(this.pos).match(l);return O&&O.index>0?null:(O&&u!==!1&&(this.pos+=O[0].length),O)}},B.prototype.current=function(){return this.string.slice(this.start,this.pos)},B.prototype.hideFirstChars=function(l,u){this.lineStart+=l;try{return u()}finally{this.lineStart-=l}},B.prototype.lookAhead=function(l){var u=this.lineOracle;return u&&u.lookAhead(l)},B.prototype.baseToken=function(){var l=this.lineOracle;return l&&l.baseToken(this.pos)};function F(l,u){if(u-=l.first,u<0||u>=l.size)throw new Error("There is no line "+(u+l.first)+" in the document.");for(var g=l;!g.lines;)for(var m=0;;++m){var _=g.children[m],O=_.chunkSize();if(u<O){g=_;break}u-=O}return g.lines[u]}function ue(l,u,g){var m=[],_=u.line;return l.iter(u.line,g.line+1,function(O){var D=O.text;_==g.line&&(D=D.slice(0,g.ch)),_==u.line&&(D=D.slice(u.ch)),m.push(D),++_}),m}function We(l,u,g){var m=[];return l.iter(u,g,function(_){m.push(_.text)}),m}function Tt(l,u){var g=u-l.height;if(g)for(var m=l;m;m=m.parent)m.height+=g}function Rt(l){if(l.parent==null)return null;for(var u=l.parent,g=he(u.lines,l),m=u.parent;m;u=m,m=m.parent)for(var _=0;m.children[_]!=u;++_)g+=m.children[_].chunkSize();return g+u.first}function Ft(l,u){var g=l.first;e:do{for(var m=0;m<l.children.length;++m){var _=l.children[m],O=_.height;if(u<O){l=_;continue e}u-=O,g+=_.chunkSize()}return g}while(!l.lines);for(var D=0;D<l.lines.length;++D){var z=l.lines[D],W=z.height;if(u<W)break;u-=W}return g+D}function Nt(l,u){return u>=l.first&&u<l.first+l.size}function q(l,u){return String(l.lineNumberFormatter(u+l.firstLineNumber))}function qe(l,u,g){if(g===void 0&&(g=null),!(this instanceof qe))return new qe(l,u,g);this.line=l,this.ch=u,this.sticky=g}function Lt(l,u){return l.line-u.line||l.ch-u.ch}function Mn(l,u){return l.sticky==u.sticky&&Lt(l,u)==0}function ee(l){return qe(l.line,l.ch)}function ve(l,u){return Lt(l,u)<0?u:l}function $e(l,u){return Lt(l,u)<0?l:u}function ct(l,u){return Math.max(l.first,Math.min(u,l.first+l.size-1))}function dt(l,u){if(u.line<l.first)return qe(l.first,0);var g=l.first+l.size-1;return u.line>g?qe(g,F(l,g).text.length):tn(u,F(l,u.line).text.length)}function tn(l,u){var g=l.ch;return g==null||g>u?qe(l.line,u):g<0?qe(l.line,0):l}function ln(l,u){for(var g=[],m=0;m<u.length;m++)g[m]=dt(l,u[m]);return g}var Tn=function(l,u){this.state=l,this.lookAhead=u},kn=function(l,u,g,m){this.state=u,this.doc=l,this.line=g,this.maxLookAhead=m||0,this.baseTokens=null,this.baseTokenPos=1};kn.prototype.lookAhead=function(l){var u=this.doc.getLine(this.line+l);return u!=null&&l>this.maxLookAhead&&(this.maxLookAhead=l),u},kn.prototype.baseToken=function(l){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=l;)this.baseTokenPos+=2;var u=this.baseTokens[this.baseTokenPos+1];return{type:u&&u.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-l}},kn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},kn.fromSaved=function(l,u,g){return u instanceof Tn?new kn(l,Pn(l.mode,u.state),g,u.lookAhead):new kn(l,Pn(l.mode,u),g)},kn.prototype.save=function(l){var u=l!==!1?Pn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Tn(u,this.maxLookAhead):u};function Wo(l,u,g,m){var _=[l.state.modeGen],O={};Po(l,u.text,l.doc.mode,g,function(Q,me){return _.push(Q,me)},O,m);for(var D=g.state,z=function(Q){g.baseTokens=_;var me=l.state.overlays[Q],be=1,He=0;g.state=!0,Po(l,u.text,me.mode,g,function(De,Ye){for(var lt=be;He<De;){var ht=_[be];ht>De&&_.splice(be,1,De,_[be+1],ht),be+=2,He=Math.min(De,ht)}if(Ye)if(me.opaque)_.splice(lt,be-lt,De,"overlay "+Ye),be=lt+2;else for(;lt<be;lt+=2){var xt=_[lt+1];_[lt+1]=(xt?xt+" ":"")+"overlay "+Ye}},O),g.state=D,g.baseTokens=null,g.baseTokenPos=1},W=0;W<l.state.overlays.length;++W)z(W);return{styles:_,classes:O.bgClass||O.textClass?O:null}}function gr(l,u,g){if(!u.styles||u.styles[0]!=l.state.modeGen){var m=Vi(l,Rt(u)),_=u.text.length>l.options.maxHighlightLength&&Pn(l.doc.mode,m.state),O=Wo(l,u,m);_&&(m.state=_),u.stateAfter=m.save(!_),u.styles=O.styles,O.classes?u.styleClasses=O.classes:u.styleClasses&&(u.styleClasses=null),g===l.doc.highlightFrontier&&(l.doc.modeFrontier=Math.max(l.doc.modeFrontier,++l.doc.highlightFrontier))}return u.styles}function Vi(l,u,g){var m=l.doc,_=l.display;if(!m.mode.startState)return new kn(m,!0,u);var O=Ur(l,u,g),D=O>m.first&&F(m,O-1).stateAfter,z=D?kn.fromSaved(m,D,O):new kn(m,T(m.mode),O);return m.iter(O,u,function(W){no(l,W.text,z);var Q=z.line;W.stateAfter=Q==u-1||Q%5==0||Q>=_.viewFrom&&Q<_.viewTo?z.save():null,z.nextLine()}),g&&(m.modeFrontier=z.line),z}function no(l,u,g,m){var _=l.doc.mode,O=new B(u,l.options.tabSize,g);for(O.start=O.pos=m||0,u==""&&Ra(_,g.state);!O.eol();)Ko(_,O,g.state),O.start=O.pos}function Ra(l,u){if(l.blankLine)return l.blankLine(u);if(l.innerMode){var g=un(l,u);if(g.mode.blankLine)return g.mode.blankLine(g.state)}}function Ko(l,u,g,m){for(var _=0;_<10;_++){m&&(m[0]=un(l,g).mode);var O=l.token(u,g);if(u.pos>u.start)return O}throw new Error("Mode "+l.name+" failed to advance stream.")}var Oo=function(l,u,g){this.start=l.start,this.end=l.pos,this.string=l.current(),this.type=u||null,this.state=g};function Fa(l,u,g,m){var _=l.doc,O=_.mode,D;u=dt(_,u);var z=F(_,u.line),W=Vi(l,u.line,g),Q=new B(z.text,l.options.tabSize,W),me;for(m&&(me=[]);(m||Q.pos<u.ch)&&!Q.eol();)Q.start=Q.pos,D=Ko(O,Q,W.state),m&&me.push(new Oo(Q,D,Pn(_.mode,W.state)));return m?me:new Oo(Q,D,W.state)}function qo(l,u){if(l)for(;;){var g=l.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!g)break;l=l.slice(0,g.index)+l.slice(g.index+g[0].length);var m=g[1]?"bgClass":"textClass";u[m]==null?u[m]=g[2]:new RegExp("(?:^|\\s)"+g[2]+"(?:$|\\s)").test(u[m])||(u[m]+=" "+g[2])}return l}function Po(l,u,g,m,_,O,D){var z=g.flattenSpans;z==null&&(z=l.options.flattenSpans);var W=0,Q=null,me=new B(u,l.options.tabSize,m),be,He=l.options.addModeClass&&[null];for(u==""&&qo(Ra(g,m.state),O);!me.eol();){if(me.pos>l.options.maxHighlightLength?(z=!1,D&&no(l,u,m,me.pos),me.pos=u.length,be=null):be=qo(Ko(g,me,m.state,He),O),He){var De=He[0].name;De&&(be="m-"+(be?De+" "+be:De))}if(!z||Q!=be){for(;W<me.start;)W=Math.min(me.start,W+5e3),_(W,Q);Q=be}me.start=me.pos}for(;W<me.pos;){var Ye=Math.min(me.pos,W+5e3);_(Ye,Q),W=Ye}}function Ur(l,u,g){for(var m,_,O=l.doc,D=g?-1:u-(l.doc.mode.innerMode?1e3:100),z=u;z>D;--z){if(z<=O.first)return O.first;var W=F(O,z-1),Q=W.stateAfter;if(Q&&(!g||z+(Q instanceof Tn?Q.lookAhead:0)<=O.modeFrontier))return z;var me=ge(W.text,null,l.options.tabSize);(_==null||m>me)&&(_=z-1,m=me)}return _}function Mo(l,u){if(l.modeFrontier=Math.min(l.modeFrontier,u),!(l.highlightFrontier<u-10)){for(var g=l.first,m=u-1;m>g;m--){var _=F(l,m).stateAfter;if(_&&(!(_ instanceof Tn)||m+_.lookAhead<u)){g=m+1;break}}l.highlightFrontier=Math.min(l.highlightFrontier,g)}}var Jn=!1,ii=!1;function $o(){Jn=!0}function Va(){ii=!0}function Gr(l,u,g){this.marker=l,this.from=u,this.to=g}function Mi(l,u){if(l)for(var g=0;g<l.length;++g){var m=l[g];if(m.marker==u)return m}}function ja(l,u){for(var g,m=0;m<l.length;++m)l[m]!=u&&(g||(g=[])).push(l[m]);return g}function Lr(l,u,g){var m=g&&window.WeakSet&&(g.markedSpans||(g.markedSpans=new WeakSet));m&&m.has(l.markedSpans)?l.markedSpans.push(u):(l.markedSpans=l.markedSpans?l.markedSpans.concat([u]):[u],m&&m.add(l.markedSpans)),u.marker.attachLine(l)}function ri(l,u,g){var m;if(l)for(var _=0;_<l.length;++_){var O=l[_],D=O.marker,z=O.from==null||(D.inclusiveLeft?O.from<=u:O.from<u);if(z||O.from==u&&D.type=="bookmark"&&(!g||!O.marker.insertLeft)){var W=O.to==null||(D.inclusiveRight?O.to>=u:O.to>u);(m||(m=[])).push(new Gr(D,O.from,W?null:O.to))}}return m}function Yo(l,u,g){var m;if(l)for(var _=0;_<l.length;++_){var O=l[_],D=O.marker,z=O.to==null||(D.inclusiveRight?O.to>=u:O.to>u);if(z||O.from==u&&D.type=="bookmark"&&(!g||O.marker.insertLeft)){var W=O.from==null||(D.inclusiveLeft?O.from<=u:O.from<u);(m||(m=[])).push(new Gr(D,W?null:O.from-u,O.to==null?null:O.to-u))}}return m}function vr(l,u){if(u.full)return null;var g=Nt(l,u.from.line)&&F(l,u.from.line).markedSpans,m=Nt(l,u.to.line)&&F(l,u.to.line).markedSpans;if(!g&&!m)return null;var _=u.from.ch,O=u.to.ch,D=Lt(u.from,u.to)==0,z=ri(g,_,D),W=Yo(m,O,D),Q=u.text.length==1,me=_e(u.text).length+(Q?_:0);if(z)for(var be=0;be<z.length;++be){var He=z[be];if(He.to==null){var De=Mi(W,He.marker);De?Q&&(He.to=De.to==null?null:De.to+me):He.to=_}}if(W)for(var Ye=0;Ye<W.length;++Ye){var lt=W[Ye];if(lt.to!=null&&(lt.to+=me),lt.from==null){var ht=Mi(z,lt.marker);ht||(lt.from=me,Q&&(z||(z=[])).push(lt))}else lt.from+=me,Q&&(z||(z=[])).push(lt)}z&&(z=Nr(z)),W&&W!=z&&(W=Nr(W));var xt=[z];if(!Q){var St=u.text.length-2,wt;if(St>0&&z)for(var kt=0;kt<z.length;++kt)z[kt].to==null&&(wt||(wt=[])).push(new Gr(z[kt].marker,null,null));for(var Wt=0;Wt<St;++Wt)xt.push(wt);xt.push(W)}return xt}function Nr(l){for(var u=0;u<l.length;++u){var g=l[u];g.from!=null&&g.from==g.to&&g.marker.clearWhenEmpty!==!1&&l.splice(u--,1)}return l.length?l:null}function Qo(l,u,g){var m=null;if(l.iter(u.line,g.line+1,function(De){if(De.markedSpans)for(var Ye=0;Ye<De.markedSpans.length;++Ye){var lt=De.markedSpans[Ye].marker;lt.readOnly&&(!m||he(m,lt)==-1)&&(m||(m=[])).push(lt)}}),!m)return null;for(var _=[{from:u,to:g}],O=0;O<m.length;++O)for(var D=m[O],z=D.find(0),W=0;W<_.length;++W){var Q=_[W];if(!(Lt(Q.to,z.from)<0||Lt(Q.from,z.to)>0)){var me=[W,1],be=Lt(Q.from,z.from),He=Lt(Q.to,z.to);(be<0||!D.inclusiveLeft&&!be)&&me.push({from:Q.from,to:z.from}),(He>0||!D.inclusiveRight&&!He)&&me.push({from:z.to,to:Q.to}),_.splice.apply(_,me),W+=me.length-3}}return _}function _r(l){var u=l.markedSpans;if(u){for(var g=0;g<u.length;++g)u[g].marker.detachLine(l);l.markedSpans=null}}function tr(l,u){if(u){for(var g=0;g<u.length;++g)u[g].marker.attachLine(l);l.markedSpans=u}}function To(l){return l.inclusiveLeft?-1:0}function Wr(l){return l.inclusiveRight?1:0}function So(l,u){var g=l.lines.length-u.lines.length;if(g!=0)return g;var m=l.find(),_=u.find(),O=Lt(m.from,_.from)||To(l)-To(u);if(O)return-O;var D=Lt(m.to,_.to)||Wr(l)-Wr(u);return D||u.id-l.id}function Eo(l,u){var g=ii&&l.markedSpans,m;if(g)for(var _=void 0,O=0;O<g.length;++O)_=g[O],_.marker.collapsed&&(u?_.from:_.to)==null&&(!m||So(m,_.marker)<0)&&(m=_.marker);return m}function Ha(l){return Eo(l,!0)}function yr(l){return Eo(l,!1)}function Bt(l,u){var g=ii&&l.markedSpans,m;if(g)for(var _=0;_<g.length;++_){var O=g[_];O.marker.collapsed&&(O.from==null||O.from<u)&&(O.to==null||O.to>u)&&(!m||So(m,O.marker)<0)&&(m=O.marker)}return m}function zt(l,u,g,m,_){var O=F(l,u),D=ii&&O.markedSpans;if(D)for(var z=0;z<D.length;++z){var W=D[z];if(W.marker.collapsed){var Q=W.marker.find(0),me=Lt(Q.from,g)||To(W.marker)-To(_),be=Lt(Q.to,m)||Wr(W.marker)-Wr(_);if(!(me>=0&&be<=0||me<=0&&be>=0)&&(me<=0&&(W.marker.inclusiveRight&&_.inclusiveLeft?Lt(Q.to,g)>=0:Lt(Q.to,g)>0)||me>=0&&(W.marker.inclusiveRight&&_.inclusiveLeft?Lt(Q.from,m)<=0:Lt(Q.from,m)<0)))return!0}}}function Jt(l){for(var u;u=Ha(l);)l=u.find(-1,!0).line;return l}function Gt(l){for(var u;u=yr(l);)l=u.find(1,!0).line;return l}function Gn(l){for(var u,g;u=yr(l);)l=u.find(1,!0).line,(g||(g=[])).push(l);return g}function nr(l,u){var g=F(l,u),m=Jt(g);return g==m?u:Rt(m)}function ir(l,u){if(u>l.lastLine())return u;var g=F(l,u),m;if(!si(l,g))return u;for(;m=yr(g);)g=m.find(1,!0).line;return Rt(g)+1}function si(l,u){var g=ii&&u.markedSpans;if(g){for(var m=void 0,_=0;_<g.length;++_)if(m=g[_],!!m.marker.collapsed){if(m.from==null)return!0;if(!m.marker.widgetNode&&m.from==0&&m.marker.inclusiveLeft&&_i(l,u,m))return!0}}}function _i(l,u,g){if(g.to==null){var m=g.marker.find(1,!0);return _i(l,m.line,Mi(m.line.markedSpans,g.marker))}if(g.marker.inclusiveRight&&g.to==u.text.length)return!0;for(var _=void 0,O=0;O<u.markedSpans.length;++O)if(_=u.markedSpans[O],_.marker.collapsed&&!_.marker.widgetNode&&_.from==g.to&&(_.to==null||_.to!=g.from)&&(_.marker.inclusiveLeft||g.marker.inclusiveRight)&&_i(l,u,_))return!0}function rr(l){l=Jt(l);for(var u=0,g=l.parent,m=0;m<g.lines.length;++m){var _=g.lines[m];if(_==l)break;u+=_.height}for(var O=g.parent;O;g=O,O=g.parent)for(var D=0;D<O.children.length;++D){var z=O.children[D];if(z==g)break;u+=z.height}return u}function Kr(l){if(l.height==0)return 0;for(var u=l.text.length,g,m=l;g=Ha(m);){var _=g.find(0,!0);m=_.from.line,u+=_.from.ch-_.to.ch}for(m=l;g=yr(m);){var O=g.find(0,!0);u-=m.text.length-O.from.ch,m=O.to.line,u+=m.text.length-O.to.ch}return u}function Xo(l){var u=l.display,g=l.doc;u.maxLine=F(g,g.first),u.maxLineLength=Kr(u.maxLine),u.maxLineChanged=!0,g.iter(function(m){var _=Kr(m);_>u.maxLineLength&&(u.maxLineLength=_,u.maxLine=m)})}var li=function(l,u,g){this.text=l,tr(this,u),this.height=g?g(this):1};li.prototype.lineNo=function(){return Rt(this)},$t(li);function ed(l,u,g,m){l.text=u,l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null),l.order!=null&&(l.order=null),_r(l),tr(l,g);var _=m?m(l):1;_!=l.height&&Tt(l,_)}function Cs(l){l.parent=null,_r(l)}var td={},kl={};function Al(l,u){if(!l||/^\s*$/.test(l))return null;var g=u.addModeClass?kl:td;return g[l]||(g[l]=l.replace(/\S+/g,"cm-$&"))}function xs(l,u){var g=K("span",null,null,d?"padding-right: .1px":null),m={pre:K("pre",[g],"CodeMirror-line"),content:g,col:0,pos:0,cm:l,trailingSpace:!1,splitSpaces:l.getOption("lineWrapping")};u.measure={};for(var _=0;_<=(u.rest?u.rest.length:0);_++){var O=_?u.rest[_-1]:u.line,D=void 0;m.pos=0,m.addToken=id,_n(l.display.measure)&&(D=ie(O,l.doc.direction))&&(m.addToken=rd(m.addToken,D)),m.map=[];var z=u!=l.display.externalMeasured&&Rt(O);od(O,m,gr(l,O,z)),O.styleClasses&&(O.styleClasses.bgClass&&(m.bgClass=de(O.styleClasses.bgClass,m.bgClass||"")),O.styleClasses.textClass&&(m.textClass=de(O.styleClasses.textClass,m.textClass||""))),m.map.length==0&&m.map.push(0,0,m.content.appendChild(Ot(l.display.measure))),_==0?(u.measure.map=m.map,u.measure.cache={}):((u.measure.maps||(u.measure.maps=[])).push(m.map),(u.measure.caches||(u.measure.caches=[])).push({}))}if(d){var W=m.content.lastChild;(/\bcm-tab\b/.test(W.className)||W.querySelector&&W.querySelector(".cm-tab"))&&(m.content.className="cm-tab-wrap-hack")}return bt(l,"renderLine",l,u.line,m.pre),m.pre.className&&(m.textClass=de(m.pre.className,m.textClass||"")),m}function nd(l){var u=G("span","\u2022","cm-invalidchar");return u.title="\\u"+l.charCodeAt(0).toString(16),u.setAttribute("aria-label",u.title),u}function id(l,u,g,m,_,O,D){if(u){var z=l.splitSpaces?ws(u,l.trailingSpace):u,W=l.cm.state.specialChars,Q=!1,me;if(!W.test(u))l.col+=u.length,me=document.createTextNode(z),l.map.push(l.pos,l.pos+u.length,me),s&&c<9&&(Q=!0),l.pos+=u.length;else{me=document.createDocumentFragment();for(var be=0;;){W.lastIndex=be;var He=W.exec(u),De=He?He.index-be:u.length-be;if(De){var Ye=document.createTextNode(z.slice(be,be+De));s&&c<9?me.appendChild(G("span",[Ye])):me.appendChild(Ye),l.map.push(l.pos,l.pos+De,Ye),l.col+=De,l.pos+=De}if(!He)break;be+=De+1;var lt=void 0;if(He[0]=="	"){var ht=l.cm.options.tabSize,xt=ht-l.col%ht;lt=me.appendChild(G("span",ot(xt),"cm-tab")),lt.setAttribute("role","presentation"),lt.setAttribute("cm-text","	"),l.col+=xt}else He[0]=="\r"||He[0]==`
`?(lt=me.appendChild(G("span",He[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),lt.setAttribute("cm-text",He[0]),l.col+=1):(lt=l.cm.options.specialCharPlaceholder(He[0]),lt.setAttribute("cm-text",He[0]),s&&c<9?me.appendChild(G("span",[lt])):me.appendChild(lt),l.col+=1);l.map.push(l.pos,l.pos+1,lt),l.pos++}}if(l.trailingSpace=z.charCodeAt(u.length-1)==32,g||m||_||Q||O||D){var St=g||"";m&&(St+=m),_&&(St+=_);var wt=G("span",[me],St,O);if(D)for(var kt in D)D.hasOwnProperty(kt)&&kt!="style"&&kt!="class"&&wt.setAttribute(kt,D[kt]);return l.content.appendChild(wt)}l.content.appendChild(me)}}function ws(l,u){if(l.length>1&&!/  /.test(l))return l;for(var g=u,m="",_=0;_<l.length;_++){var O=l.charAt(_);O==" "&&g&&(_==l.length-1||l.charCodeAt(_+1)==32)&&(O="\xA0"),m+=O,g=O==" "}return m}function rd(l,u){return function(g,m,_,O,D,z,W){_=_?_+" cm-force-border":"cm-force-border";for(var Q=g.pos,me=Q+m.length;;){for(var be=void 0,He=0;He<u.length&&(be=u[He],!(be.to>Q&&be.from<=Q));He++);if(be.to>=me)return l(g,m,_,O,D,z,W);l(g,m.slice(0,be.to-Q),_,O,null,z,W),O=null,m=m.slice(be.to-Q),Q=be.to}}}function Il(l,u,g,m){var _=!m&&g.widgetNode;_&&l.map.push(l.pos,l.pos+u,_),!m&&l.cm.display.input.needsContentAttribute&&(_||(_=l.content.appendChild(document.createElement("span"))),_.setAttribute("cm-marker",g.id)),_&&(l.cm.display.input.setUneditable(_),l.content.appendChild(_)),l.pos+=u,l.trailingSpace=!1}function od(l,u,g){var m=l.markedSpans,_=l.text,O=0;if(!m){for(var D=1;D<g.length;D+=2)u.addToken(u,_.slice(O,O=g[D]),Al(g[D+1],u.cm.options));return}for(var z=_.length,W=0,Q=1,me="",be,He,De=0,Ye,lt,ht,xt,St;;){if(De==W){Ye=lt=ht=He="",St=null,xt=null,De=1/0;for(var wt=[],kt=void 0,Wt=0;Wt<m.length;++Wt){var Ut=m[Wt],on=Ut.marker;if(on.type=="bookmark"&&Ut.from==W&&on.widgetNode)wt.push(on);else if(Ut.from<=W&&(Ut.to==null||Ut.to>W||on.collapsed&&Ut.to==W&&Ut.from==W)){if(Ut.to!=null&&Ut.to!=W&&De>Ut.to&&(De=Ut.to,lt=""),on.className&&(Ye+=" "+on.className),on.css&&(He=(He?He+";":"")+on.css),on.startStyle&&Ut.from==W&&(ht+=" "+on.startStyle),on.endStyle&&Ut.to==De&&(kt||(kt=[])).push(on.endStyle,Ut.to),on.title&&((St||(St={})).title=on.title),on.attributes)for(var Ln in on.attributes)(St||(St={}))[Ln]=on.attributes[Ln];on.collapsed&&(!xt||So(xt.marker,on)<0)&&(xt=Ut)}else Ut.from>W&&De>Ut.from&&(De=Ut.from)}if(kt)for(var ui=0;ui<kt.length;ui+=2)kt[ui+1]==De&&(lt+=" "+kt[ui]);if(!xt||xt.from==W)for(var Bn=0;Bn<wt.length;++Bn)Il(u,0,wt[Bn]);if(xt&&(xt.from||0)==W){if(Il(u,(xt.to==null?z+1:xt.to)-W,xt.marker,xt.from==null),xt.to==null)return;xt.to==W&&(xt=!1)}}if(W>=z)break;for(var sr=Math.min(z,De);;){if(me){var zi=W+me.length;if(!xt){var ei=zi>sr?me.slice(0,sr-W):me;u.addToken(u,ei,be?be+Ye:Ye,ht,W+ei.length==De?lt:"",He,St)}if(zi>=sr){me=me.slice(sr-W),W=sr;break}W=zi,ht=""}me=_.slice(O,O=g[Q++]),be=Al(g[Q++],u.cm.options)}}}function Ll(l,u,g){this.line=u,this.rest=Gn(u),this.size=this.rest?Rt(_e(this.rest))-g+1:1,this.node=this.text=null,this.hidden=si(l,u)}function Os(l,u,g){for(var m=[],_,O=u;O<g;O=_){var D=new Ll(l.doc,F(l.doc,O),O);_=O+D.size,m.push(D)}return m}var ko=null;function ad(l){ko?ko.ops.push(l):l.ownsGroup=ko={ops:[l],delayedCallbacks:[]}}function Bp(l){var u=l.delayedCallbacks,g=0;do{for(;g<u.length;g++)u[g].call(null);for(var m=0;m<l.ops.length;m++){var _=l.ops[m];if(_.cursorActivityHandlers)for(;_.cursorActivityCalled<_.cursorActivityHandlers.length;)_.cursorActivityHandlers[_.cursorActivityCalled++].call(null,_.cm)}}while(g<u.length)}function Nl(l,u){var g=l.ownsGroup;if(g)try{Bp(g)}finally{ko=null,u(g)}}var Zo=null;function Wn(l,u){var g=st(l,u);if(g.length){var m=Array.prototype.slice.call(arguments,2),_;ko?_=ko.delayedCallbacks:Zo?_=Zo:(_=Zo=[],setTimeout(Jo,0));for(var O=function(z){_.push(function(){return g[z].apply(null,m)})},D=0;D<g.length;++D)O(D)}}function Jo(){var l=Zo;Zo=null;for(var u=0;u<l.length;++u)l[u]()}function io(l,u,g,m){for(var _=0;_<u.changes.length;_++){var O=u.changes[_];O=="text"?Rl(l,u):O=="gutter"?ta(l,u,g,m):O=="class"?Ps(l,u):O=="widget"&&ld(l,u,m)}u.changes=null}function ea(l){return l.node==l.text&&(l.node=G("div",null,null,"position: relative"),l.text.parentNode&&l.text.parentNode.replaceChild(l.node,l.text),l.node.appendChild(l.text),s&&c<8&&(l.node.style.zIndex=2)),l.node}function sd(l,u){var g=u.bgClass?u.bgClass+" "+(u.line.bgClass||""):u.line.bgClass;if(g&&(g+=" CodeMirror-linebackground"),u.background)g?u.background.className=g:(u.background.parentNode.removeChild(u.background),u.background=null);else if(g){var m=ea(u);u.background=m.insertBefore(G("div",null,g),m.firstChild),l.display.input.setUneditable(u.background)}}function Dl(l,u){var g=l.display.externalMeasured;return g&&g.line==u.line?(l.display.externalMeasured=null,u.measure=g.measure,g.built):xs(l,u)}function Rl(l,u){var g=u.text.className,m=Dl(l,u);u.text==u.node&&(u.node=m.pre),u.text.parentNode.replaceChild(m.pre,u.text),u.text=m.pre,m.bgClass!=u.bgClass||m.textClass!=u.textClass?(u.bgClass=m.bgClass,u.textClass=m.textClass,Ps(l,u)):g&&(u.text.className=g)}function Ps(l,u){sd(l,u),u.line.wrapClass?ea(u).className=u.line.wrapClass:u.node!=u.text&&(u.node.className="");var g=u.textClass?u.textClass+" "+(u.line.textClass||""):u.line.textClass;u.text.className=g||""}function ta(l,u,g,m){if(u.gutter&&(u.node.removeChild(u.gutter),u.gutter=null),u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null),u.line.gutterClass){var _=ea(u);u.gutterBackground=G("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(l.options.fixedGutter?m.fixedPos:-m.gutterTotalWidth)+"px; width: "+m.gutterTotalWidth+"px"),l.display.input.setUneditable(u.gutterBackground),_.insertBefore(u.gutterBackground,u.text)}var O=u.line.gutterMarkers;if(l.options.lineNumbers||O){var D=ea(u),z=u.gutter=G("div",null,"CodeMirror-gutter-wrapper","left: "+(l.options.fixedGutter?m.fixedPos:-m.gutterTotalWidth)+"px");if(z.setAttribute("aria-hidden","true"),l.display.input.setUneditable(z),D.insertBefore(z,u.text),u.line.gutterClass&&(z.className+=" "+u.line.gutterClass),l.options.lineNumbers&&(!O||!O["CodeMirror-linenumbers"])&&(u.lineNumber=z.appendChild(G("div",q(l.options,g),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+m.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.display.lineNumInnerWidth+"px"))),O)for(var W=0;W<l.display.gutterSpecs.length;++W){var Q=l.display.gutterSpecs[W].className,me=O.hasOwnProperty(Q)&&O[Q];me&&z.appendChild(G("div",[me],"CodeMirror-gutter-elt","left: "+m.gutterLeft[Q]+"px; width: "+m.gutterWidth[Q]+"px"))}}}function ld(l,u,g){u.alignable&&(u.alignable=null);for(var m=j("CodeMirror-linewidget"),_=u.node.firstChild,O=void 0;_;_=O)O=_.nextSibling,m.test(_.className)&&u.node.removeChild(_);na(l,u,g)}function cd(l,u,g,m){var _=Dl(l,u);return u.text=u.node=_.pre,_.bgClass&&(u.bgClass=_.bgClass),_.textClass&&(u.textClass=_.textClass),Ps(l,u),ta(l,u,g,m),na(l,u,m),u.node}function na(l,u,g){if(Fl(l,u.line,u,g,!0),u.rest)for(var m=0;m<u.rest.length;m++)Fl(l,u.rest[m],u,g,!1)}function Fl(l,u,g,m,_){if(u.widgets)for(var O=ea(g),D=0,z=u.widgets;D<z.length;++D){var W=z[D],Q=G("div",[W.node],"CodeMirror-linewidget"+(W.className?" "+W.className:""));W.handleMouseEvents||Q.setAttribute("cm-ignore-events","true"),dd(W,Q,g,m),l.display.input.setUneditable(Q),_&&W.above?O.insertBefore(Q,g.gutter||g.text):O.appendChild(Q),Wn(W,"redraw")}}function dd(l,u,g,m){if(l.noHScroll){(g.alignable||(g.alignable=[])).push(u);var _=m.wrapperWidth;u.style.left=m.fixedPos+"px",l.coverGutter||(_-=m.gutterTotalWidth,u.style.paddingLeft=m.gutterTotalWidth+"px"),u.style.width=_+"px"}l.coverGutter&&(u.style.zIndex=5,u.style.position="relative",l.noHScroll||(u.style.marginLeft=-m.gutterTotalWidth+"px"))}function ia(l){if(l.height!=null)return l.height;var u=l.doc.cm;if(!u)return 0;if(!E(document.body,l.node)){var g="position: relative;";l.coverGutter&&(g+="margin-left: -"+u.display.gutters.offsetWidth+"px;"),l.noHScroll&&(g+="width: "+u.display.wrapper.clientWidth+"px;"),I(u.display.measure,G("div",[l.node],null,g))}return l.height=l.node.parentNode.offsetHeight}function Dr(l,u){for(var g=xe(u);g!=l.wrapper;g=g.parentNode)if(!g||g.nodeType==1&&g.getAttribute("cm-ignore-events")=="true"||g.parentNode==l.sizer&&g!=l.mover)return!0}function ra(l){return l.lineSpace.offsetTop}function za(l){return l.mover.offsetHeight-l.lineSpace.offsetHeight}function ud(l){if(l.cachedPaddingH)return l.cachedPaddingH;var u=I(l.measure,G("pre","x","CodeMirror-line-like")),g=window.getComputedStyle?window.getComputedStyle(u):u.currentStyle,m={left:parseInt(g.paddingLeft),right:parseInt(g.paddingRight)};return!isNaN(m.left)&&!isNaN(m.right)&&(l.cachedPaddingH=m),m}function or(l){return Oe-l.display.nativeBarWidth}function Ao(l){return l.display.scroller.clientWidth-or(l)-l.display.barWidth}function $(l){return l.display.scroller.clientHeight-or(l)-l.display.barHeight}function ae(l,u,g){var m=l.options.lineWrapping,_=m&&Ao(l);if(!u.measure.heights||m&&u.measure.width!=_){var O=u.measure.heights=[];if(m){u.measure.width=_;for(var D=u.text.firstChild.getClientRects(),z=0;z<D.length-1;z++){var W=D[z],Q=D[z+1];Math.abs(W.bottom-Q.bottom)>2&&O.push((W.bottom+Q.top)/2-g.top)}}O.push(g.bottom-g.top)}}function ye(l,u,g){if(l.line==u)return{map:l.measure.map,cache:l.measure.cache};for(var m=0;m<l.rest.length;m++)if(l.rest[m]==u)return{map:l.measure.maps[m],cache:l.measure.caches[m]};for(var _=0;_<l.rest.length;_++)if(Rt(l.rest[_])>g)return{map:l.measure.maps[_],cache:l.measure.caches[_],before:!0}}function Pe(l,u){u=Jt(u);var g=Rt(u),m=l.display.externalMeasured=new Ll(l.doc,u,g);m.lineN=g;var _=m.built=xs(l,m);return m.text=_.pre,I(l.display.lineMeasure,_.pre),m}function Be(l,u,g,m){return _t(l,et(l,u),g,m)}function Ve(l,u){if(u>=l.display.viewFrom&&u<l.display.viewTo)return l.display.view[Ga(l,u)];var g=l.display.externalMeasured;if(g&&u>=g.lineN&&u<g.lineN+g.size)return g}function et(l,u){var g=Rt(u),m=Ve(l,g);m&&!m.text?m=null:m&&m.changes&&(io(l,m,g,qp(l)),l.curOp.forceUpdate=!0),m||(m=Pe(l,u));var _=ye(m,u,g);return{line:u,view:m,rect:null,map:_.map,cache:_.cache,before:_.before,hasHeights:!1}}function _t(l,u,g,m,_){u.before&&(g=-1);var O=g+(m||""),D;return u.cache.hasOwnProperty(O)?D=u.cache[O]:(u.rect||(u.rect=u.view.text.getBoundingClientRect()),u.hasHeights||(ae(l,u.view,u.rect),u.hasHeights=!0),D=Ti(l,u,g,m),D.bogus||(u.cache[O]=D)),{left:D.left,right:D.right,top:_?D.rtop:D.top,bottom:_?D.rbottom:D.bottom}}var en={left:0,right:0,top:0,bottom:0};function Xt(l,u,g){for(var m,_,O,D,z,W,Q=0;Q<l.length;Q+=3)if(z=l[Q],W=l[Q+1],u<z?(_=0,O=1,D="left"):u<W?(_=u-z,O=_+1):(Q==l.length-3||u==W&&l[Q+3]>u)&&(O=W-z,_=O-1,u>=W&&(D="right")),_!=null){if(m=l[Q+2],z==W&&g==(m.insertLeft?"left":"right")&&(D=g),g=="left"&&_==0)for(;Q&&l[Q-2]==l[Q-3]&&l[Q-1].insertLeft;)m=l[(Q-=3)+2],D="left";if(g=="right"&&_==W-z)for(;Q<l.length-3&&l[Q+3]==l[Q+4]&&!l[Q+5].insertLeft;)m=l[(Q+=3)+2],D="right";break}return{node:m,start:_,end:O,collapse:D,coverStart:z,coverEnd:W}}function oi(l,u){var g=en;if(u=="left")for(var m=0;m<l.length&&(g=l[m]).left==g.right;m++);else for(var _=l.length-1;_>=0&&(g=l[_]).left==g.right;_--);return g}function Ti(l,u,g,m){var _=Xt(u.map,g,m),O=_.node,D=_.start,z=_.end,W=_.collapse,Q;if(O.nodeType==3){for(var me=0;me<4;me++){for(;D&&Se(u.line.text.charAt(_.coverStart+D));)--D;for(;_.coverStart+z<_.coverEnd&&Se(u.line.text.charAt(_.coverStart+z));)++z;if(s&&c<9&&D==0&&z==_.coverEnd-_.coverStart?Q=O.parentNode.getBoundingClientRect():Q=oi(J(O,D,z).getClientRects(),m),Q.left||Q.right||D==0)break;z=D,D=D-1,W="right"}s&&c<11&&(Q=pd(l.display.measure,Q))}else{D>0&&(W=m="right");var be;l.options.lineWrapping&&(be=O.getClientRects()).length>1?Q=be[m=="right"?be.length-1:0]:Q=O.getBoundingClientRect()}if(s&&c<9&&!D&&(!Q||!Q.left&&!Q.right)){var He=O.parentNode.getClientRects()[0];He?Q={left:He.left,right:He.left+Ts(l.display),top:He.top,bottom:He.bottom}:Q=en}for(var De=Q.top-u.rect.top,Ye=Q.bottom-u.rect.top,lt=(De+Ye)/2,ht=u.view.measure.heights,xt=0;xt<ht.length-1&&!(lt<ht[xt]);xt++);var St=xt?ht[xt-1]:0,wt=ht[xt],kt={left:(W=="right"?Q.right:Q.left)-u.rect.left,right:(W=="left"?Q.left:Q.right)-u.rect.left,top:St,bottom:wt};return!Q.left&&!Q.right&&(kt.bogus=!0),l.options.singleCursorHeightPerLine||(kt.rtop=De,kt.rbottom=Ye),kt}function pd(l,u){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!cn(l))return u;var g=screen.logicalXDPI/screen.deviceXDPI,m=screen.logicalYDPI/screen.deviceYDPI;return{left:u.left*g,right:u.right*g,top:u.top*m,bottom:u.bottom*m}}function Vl(l){if(l.measure&&(l.measure.cache={},l.measure.heights=null,l.rest))for(var u=0;u<l.rest.length;u++)l.measure.caches[u]={}}function Km(l){l.display.externalMeasure=null,H(l.display.lineMeasure);for(var u=0;u<l.display.view.length;u++)Vl(l.display.view[u])}function jl(l){Km(l),l.display.cachedCharWidth=l.display.cachedTextHeight=l.display.cachedPaddingH=null,l.options.lineWrapping||(l.display.maxLineChanged=!0),l.display.lineNumChars=null}function qm(){return f&&w?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function $m(){return f&&w?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Up(l){var u=0;if(l.widgets)for(var g=0;g<l.widgets.length;++g)l.widgets[g].above&&(u+=ia(l.widgets[g]));return u}function fd(l,u,g,m,_){if(!_){var O=Up(u);g.top+=O,g.bottom+=O}if(m=="line")return g;m||(m="local");var D=rr(u);if(m=="local"?D+=ra(l.display):D-=l.display.viewOffset,m=="page"||m=="window"){var z=l.display.lineSpace.getBoundingClientRect();D+=z.top+(m=="window"?0:$m());var W=z.left+(m=="window"?0:qm());g.left+=W,g.right+=W}return g.top+=D,g.bottom+=D,g}function Ym(l,u,g){if(g=="div")return u;var m=u.left,_=u.top;if(g=="page")m-=qm(),_-=$m();else if(g=="local"||!g){var O=l.display.sizer.getBoundingClientRect();m+=O.left,_+=O.top}var D=l.display.lineSpace.getBoundingClientRect();return{left:m-D.left,top:_-D.top}}function hd(l,u,g,m,_){return m||(m=F(l.doc,u.line)),fd(l,m,Be(l,m,u.ch,_),g)}function qr(l,u,g,m,_,O){m=m||F(l.doc,u.line),_||(_=et(l,m));function D(Ye,lt){var ht=_t(l,_,Ye,lt?"right":"left",O);return lt?ht.left=ht.right:ht.right=ht.left,fd(l,m,ht,g)}var z=ie(m,l.doc.direction),W=u.ch,Q=u.sticky;if(W>=m.text.length?(W=m.text.length,Q="before"):W<=0&&(W=0,Q="after"),!z)return D(Q=="before"?W-1:W,Q=="before");function me(Ye,lt,ht){var xt=z[lt],St=xt.level==1;return D(ht?Ye-1:Ye,St!=ht)}var be=ce(z,W,Q),He=At,De=me(W,be,Q=="before");return He!=null&&(De.other=me(W,He,Q!="before")),De}function Qm(l,u){var g=0;u=dt(l.doc,u),l.options.lineWrapping||(g=Ts(l.display)*u.ch);var m=F(l.doc,u.line),_=rr(m)+ra(l.display);return{left:g,right:g,top:_,bottom:_+m.height}}function Gp(l,u,g,m,_){var O=qe(l,u,g);return O.xRel=_,m&&(O.outside=m),O}function Wp(l,u,g){var m=l.doc;if(g+=l.display.viewOffset,g<0)return Gp(m.first,0,null,-1,-1);var _=Ft(m,g),O=m.first+m.size-1;if(_>O)return Gp(m.first+m.size-1,F(m,O).text.length,null,1,1);u<0&&(u=0);for(var D=F(m,_);;){var z=yb(l,D,_,u,g),W=Bt(D,z.ch+(z.xRel>0||z.outside>0?1:0));if(!W)return z;var Q=W.find(1);if(Q.line==_)return Q;D=F(m,_=Q.line)}}function Xm(l,u,g,m){m-=Up(u);var _=u.text.length,O=ft(function(D){return _t(l,g,D-1).bottom<=m},_,0);return _=ft(function(D){return _t(l,g,D).top>m},O,_),{begin:O,end:_}}function Zm(l,u,g,m){g||(g=et(l,u));var _=fd(l,u,_t(l,g,m),"line").top;return Xm(l,u,g,_)}function Kp(l,u,g,m){return l.bottom<=g?!1:l.top>g?!0:(m?l.left:l.right)>u}function yb(l,u,g,m,_){_-=rr(u);var O=et(l,u),D=Up(u),z=0,W=u.text.length,Q=!0,me=ie(u,l.doc.direction);if(me){var be=(l.options.lineWrapping?Cb:bb)(l,u,g,O,me,m,_);Q=be.level!=1,z=Q?be.from:be.to-1,W=Q?be.to:be.from-1}var He=null,De=null,Ye=ft(function(Wt){var Ut=_t(l,O,Wt);return Ut.top+=D,Ut.bottom+=D,Kp(Ut,m,_,!1)?(Ut.top<=_&&Ut.left<=m&&(He=Wt,De=Ut),!0):!1},z,W),lt,ht,xt=!1;if(De){var St=m-De.left<De.right-m,wt=St==Q;Ye=He+(wt?0:1),ht=wt?"after":"before",lt=St?De.left:De.right}else{!Q&&(Ye==W||Ye==z)&&Ye++,ht=Ye==0?"after":Ye==u.text.length?"before":_t(l,O,Ye-(Q?1:0)).bottom+D<=_==Q?"after":"before";var kt=qr(l,qe(g,Ye,ht),"line",u,O);lt=kt.left,xt=_<kt.top?-1:_>=kt.bottom?1:0}return Ye=Le(u.text,Ye,1),Gp(g,Ye,ht,xt,m-lt)}function bb(l,u,g,m,_,O,D){var z=ft(function(be){var He=_[be],De=He.level!=1;return Kp(qr(l,qe(g,De?He.to:He.from,De?"before":"after"),"line",u,m),O,D,!0)},0,_.length-1),W=_[z];if(z>0){var Q=W.level!=1,me=qr(l,qe(g,Q?W.from:W.to,Q?"after":"before"),"line",u,m);Kp(me,O,D,!0)&&me.top>D&&(W=_[z-1])}return W}function Cb(l,u,g,m,_,O,D){var z=Xm(l,u,m,D),W=z.begin,Q=z.end;/\s/.test(u.text.charAt(Q-1))&&Q--;for(var me=null,be=null,He=0;He<_.length;He++){var De=_[He];if(!(De.from>=Q||De.to<=W)){var Ye=De.level!=1,lt=_t(l,m,Ye?Math.min(Q,De.to)-1:Math.max(W,De.from)).right,ht=lt<O?O-lt+1e9:lt-O;(!me||be>ht)&&(me=De,be=ht)}}return me||(me=_[_.length-1]),me.from<W&&(me={from:W,to:me.to,level:me.level}),me.to>Q&&(me={from:me.from,to:Q,level:me.level}),me}var Ba;function Ms(l){if(l.cachedTextHeight!=null)return l.cachedTextHeight;if(Ba==null){Ba=G("pre",null,"CodeMirror-line-like");for(var u=0;u<49;++u)Ba.appendChild(document.createTextNode("x")),Ba.appendChild(G("br"));Ba.appendChild(document.createTextNode("x"))}I(l.measure,Ba);var g=Ba.offsetHeight/50;return g>3&&(l.cachedTextHeight=g),H(l.measure),g||1}function Ts(l){if(l.cachedCharWidth!=null)return l.cachedCharWidth;var u=G("span","xxxxxxxxxx"),g=G("pre",[u],"CodeMirror-line-like");I(l.measure,g);var m=u.getBoundingClientRect(),_=(m.right-m.left)/10;return _>2&&(l.cachedCharWidth=_),_||10}function qp(l){for(var u=l.display,g={},m={},_=u.gutters.clientLeft,O=u.gutters.firstChild,D=0;O;O=O.nextSibling,++D){var z=l.display.gutterSpecs[D].className;g[z]=O.offsetLeft+O.clientLeft+_,m[z]=O.clientWidth}return{fixedPos:$p(u),gutterTotalWidth:u.gutters.offsetWidth,gutterLeft:g,gutterWidth:m,wrapperWidth:u.wrapper.clientWidth}}function $p(l){return l.scroller.getBoundingClientRect().left-l.sizer.getBoundingClientRect().left}function Jm(l){var u=Ms(l.display),g=l.options.lineWrapping,m=g&&Math.max(5,l.display.scroller.clientWidth/Ts(l.display)-3);return function(_){if(si(l.doc,_))return 0;var O=0;if(_.widgets)for(var D=0;D<_.widgets.length;D++)_.widgets[D].height&&(O+=_.widgets[D].height);return g?O+(Math.ceil(_.text.length/m)||1)*u:O+u}}function Yp(l){var u=l.doc,g=Jm(l);u.iter(function(m){var _=g(m);_!=m.height&&Tt(m,_)})}function Ua(l,u,g,m){var _=l.display;if(!g&&xe(u).getAttribute("cm-not-content")=="true")return null;var O,D,z=_.lineSpace.getBoundingClientRect();try{O=u.clientX-z.left,D=u.clientY-z.top}catch{return null}var W=Wp(l,O,D),Q;if(m&&W.xRel>0&&(Q=F(l.doc,W.line).text).length==W.ch){var me=ge(Q,Q.length,l.options.tabSize)-Q.length;W=qe(W.line,Math.max(0,Math.round((O-ud(l.display).left)/Ts(l.display))-me))}return W}function Ga(l,u){if(u>=l.display.viewTo||(u-=l.display.viewFrom,u<0))return null;for(var g=l.display.view,m=0;m<g.length;m++)if(u-=g[m].size,u<0)return m}function ji(l,u,g,m){u==null&&(u=l.doc.first),g==null&&(g=l.doc.first+l.doc.size),m||(m=0);var _=l.display;if(m&&g<_.viewTo&&(_.updateLineNumbers==null||_.updateLineNumbers>u)&&(_.updateLineNumbers=u),l.curOp.viewChanged=!0,u>=_.viewTo)ii&&nr(l.doc,u)<_.viewTo&&aa(l);else if(g<=_.viewFrom)ii&&ir(l.doc,g+m)>_.viewFrom?aa(l):(_.viewFrom+=m,_.viewTo+=m);else if(u<=_.viewFrom&&g>=_.viewTo)aa(l);else if(u<=_.viewFrom){var O=md(l,g,g+m,1);O?(_.view=_.view.slice(O.index),_.viewFrom=O.lineN,_.viewTo+=m):aa(l)}else if(g>=_.viewTo){var D=md(l,u,u,-1);D?(_.view=_.view.slice(0,D.index),_.viewTo=D.lineN):aa(l)}else{var z=md(l,u,u,-1),W=md(l,g,g+m,1);z&&W?(_.view=_.view.slice(0,z.index).concat(Os(l,z.lineN,W.lineN)).concat(_.view.slice(W.index)),_.viewTo+=m):aa(l)}var Q=_.externalMeasured;Q&&(g<Q.lineN?Q.lineN+=m:u<Q.lineN+Q.size&&(_.externalMeasured=null))}function oa(l,u,g){l.curOp.viewChanged=!0;var m=l.display,_=l.display.externalMeasured;if(_&&u>=_.lineN&&u<_.lineN+_.size&&(m.externalMeasured=null),!(u<m.viewFrom||u>=m.viewTo)){var O=m.view[Ga(l,u)];if(O.node!=null){var D=O.changes||(O.changes=[]);he(D,g)==-1&&D.push(g)}}}function aa(l){l.display.viewFrom=l.display.viewTo=l.doc.first,l.display.view=[],l.display.viewOffset=0}function md(l,u,g,m){var _=Ga(l,u),O,D=l.display.view;if(!ii||g==l.doc.first+l.doc.size)return{index:_,lineN:g};for(var z=l.display.viewFrom,W=0;W<_;W++)z+=D[W].size;if(z!=u){if(m>0){if(_==D.length-1)return null;O=z+D[_].size-u,_++}else O=z-u;u+=O,g+=O}for(;nr(l.doc,g)!=g;){if(_==(m<0?0:D.length-1))return null;g+=m*D[_-(m<0?1:0)].size,_+=m}return{index:_,lineN:g}}function xb(l,u,g){var m=l.display,_=m.view;_.length==0||u>=m.viewTo||g<=m.viewFrom?(m.view=Os(l,u,g),m.viewFrom=u):(m.viewFrom>u?m.view=Os(l,u,m.viewFrom).concat(m.view):m.viewFrom<u&&(m.view=m.view.slice(Ga(l,u))),m.viewFrom=u,m.viewTo<g?m.view=m.view.concat(Os(l,m.viewTo,g)):m.viewTo>g&&(m.view=m.view.slice(0,Ga(l,g)))),m.viewTo=g}function eg(l){for(var u=l.display.view,g=0,m=0;m<u.length;m++){var _=u[m];!_.hidden&&(!_.node||_.changes)&&++g}return g}function Hl(l){l.display.input.showSelection(l.display.input.prepareSelection())}function tg(l,u){u===void 0&&(u=!0);for(var g=l.doc,m={},_=m.cursors=document.createDocumentFragment(),O=m.selection=document.createDocumentFragment(),D=0;D<g.sel.ranges.length;D++)if(!(!u&&D==g.sel.primIndex)){var z=g.sel.ranges[D];if(!(z.from().line>=l.display.viewTo||z.to().line<l.display.viewFrom)){var W=z.empty();(W||l.options.showCursorWhenSelecting)&&ng(l,z.head,_),W||wb(l,z,O)}}return m}function ng(l,u,g){var m=qr(l,u,"div",null,null,!l.options.singleCursorHeightPerLine),_=g.appendChild(G("div","\xA0","CodeMirror-cursor"));if(_.style.left=m.left+"px",_.style.top=m.top+"px",_.style.height=Math.max(0,m.bottom-m.top)*l.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(l.getWrapperElement().className)){var O=hd(l,u,"div",null,null);O.right-O.left>0&&(_.style.width=O.right-O.left+"px")}if(m.other){var D=g.appendChild(G("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));D.style.display="",D.style.left=m.other.left+"px",D.style.top=m.other.top+"px",D.style.height=(m.other.bottom-m.other.top)*.85+"px"}}function gd(l,u){return l.top-u.top||l.left-u.left}function wb(l,u,g){var m=l.display,_=l.doc,O=document.createDocumentFragment(),D=ud(l.display),z=D.left,W=Math.max(m.sizerWidth,Ao(l)-m.sizer.offsetLeft)-D.right,Q=_.direction=="ltr";function me(wt,kt,Wt,Ut){kt<0&&(kt=0),kt=Math.round(kt),Ut=Math.round(Ut),O.appendChild(G("div",null,"CodeMirror-selected","position: absolute; left: "+wt+`px;
                             top: `+kt+"px; width: "+(Wt??W-wt)+`px;
                             height: `+(Ut-kt)+"px"))}function be(wt,kt,Wt){var Ut=F(_,wt),on=Ut.text.length,Ln,ui;function Bn(ei,Bi){return hd(l,qe(wt,ei),"div",Ut,Bi)}function sr(ei,Bi,yi){var ai=Zm(l,Ut,null,ei),ti=Bi=="ltr"==(yi=="after")?"left":"right",Kn=yi=="after"?ai.begin:ai.end-(/\s/.test(Ut.text.charAt(ai.end-1))?2:1);return Bn(Kn,ti)[ti]}var zi=ie(Ut,_.direction);return qt(zi,kt||0,Wt??on,function(ei,Bi,yi,ai){var ti=yi=="ltr",Kn=Bn(ei,ti?"left":"right"),Ui=Bn(Bi-1,ti?"right":"left"),Hs=kt==null&&ei==0,pa=Wt==null&&Bi==on,Ei=ai==0,ro=!zi||ai==zi.length-1;if(Ui.top-Kn.top<=3){var pi=(Q?Hs:pa)&&Ei,xf=(Q?pa:Hs)&&ro,Lo=pi?z:(ti?Kn:Ui).left,Ya=xf?W:(ti?Ui:Kn).right;me(Lo,Kn.top,Ya-Lo,Kn.bottom)}else{var Qa,Ni,zs,wf;ti?(Qa=Q&&Hs&&Ei?z:Kn.left,Ni=Q?W:sr(ei,yi,"before"),zs=Q?z:sr(Bi,yi,"after"),wf=Q&&pa&&ro?W:Ui.right):(Qa=Q?sr(ei,yi,"before"):z,Ni=!Q&&Hs&&Ei?W:Kn.right,zs=!Q&&pa&&ro?z:Ui.left,wf=Q?sr(Bi,yi,"after"):W),me(Qa,Kn.top,Ni-Qa,Kn.bottom),Kn.bottom<Ui.top&&me(z,Kn.bottom,null,Ui.top),me(zs,Ui.top,wf-zs,Ui.bottom)}(!Ln||gd(Kn,Ln)<0)&&(Ln=Kn),gd(Ui,Ln)<0&&(Ln=Ui),(!ui||gd(Kn,ui)<0)&&(ui=Kn),gd(Ui,ui)<0&&(ui=Ui)}),{start:Ln,end:ui}}var He=u.from(),De=u.to();if(He.line==De.line)be(He.line,He.ch,De.ch);else{var Ye=F(_,He.line),lt=F(_,De.line),ht=Jt(Ye)==Jt(lt),xt=be(He.line,He.ch,ht?Ye.text.length+1:null).end,St=be(De.line,ht?0:null,De.ch).start;ht&&(xt.top<St.top-2?(me(xt.right,xt.top,null,xt.bottom),me(z,St.top,St.left,St.bottom)):me(xt.right,xt.top,St.left-xt.right,xt.bottom)),xt.bottom<St.top&&me(z,xt.bottom,null,St.top)}g.appendChild(O)}function Qp(l){if(l.state.focused){var u=l.display;clearInterval(u.blinker);var g=!0;u.cursorDiv.style.visibility="",l.options.cursorBlinkRate>0?u.blinker=setInterval(function(){l.hasFocus()||Ss(l),u.cursorDiv.style.visibility=(g=!g)?"":"hidden"},l.options.cursorBlinkRate):l.options.cursorBlinkRate<0&&(u.cursorDiv.style.visibility="hidden")}}function ig(l){l.hasFocus()||(l.display.input.focus(),l.state.focused||Zp(l))}function Xp(l){l.state.delayingBlurEvent=!0,setTimeout(function(){l.state.delayingBlurEvent&&(l.state.delayingBlurEvent=!1,l.state.focused&&Ss(l))},100)}function Zp(l,u){l.state.delayingBlurEvent&&!l.state.draggingText&&(l.state.delayingBlurEvent=!1),l.options.readOnly!="nocursor"&&(l.state.focused||(bt(l,"focus",l,u),l.state.focused=!0,te(l.display.wrapper,"CodeMirror-focused"),!l.curOp&&l.display.selForContextMenu!=l.doc.sel&&(l.display.input.reset(),d&&setTimeout(function(){return l.display.input.reset(!0)},20)),l.display.input.receivedFocus()),Qp(l))}function Ss(l,u){l.state.delayingBlurEvent||(l.state.focused&&(bt(l,"blur",l,u),l.state.focused=!1,R(l.display.wrapper,"CodeMirror-focused")),clearInterval(l.display.blinker),setTimeout(function(){l.state.focused||(l.display.shift=!1)},150))}function vd(l){for(var u=l.display,g=u.lineDiv.offsetTop,m=Math.max(0,u.scroller.getBoundingClientRect().top),_=u.lineDiv.getBoundingClientRect().top,O=0,D=0;D<u.view.length;D++){var z=u.view[D],W=l.options.lineWrapping,Q=void 0,me=0;if(!z.hidden){if(_+=z.line.height,s&&c<8){var be=z.node.offsetTop+z.node.offsetHeight;Q=be-g,g=be}else{var He=z.node.getBoundingClientRect();Q=He.bottom-He.top,!W&&z.text.firstChild&&(me=z.text.firstChild.getBoundingClientRect().right-He.left-1)}var De=z.line.height-Q;if((De>.005||De<-.005)&&(_<m&&(O-=De),Tt(z.line,Q),rg(z.line),z.rest))for(var Ye=0;Ye<z.rest.length;Ye++)rg(z.rest[Ye]);if(me>l.display.sizerWidth){var lt=Math.ceil(me/Ts(l.display));lt>l.display.maxLineLength&&(l.display.maxLineLength=lt,l.display.maxLine=z.line,l.display.maxLineChanged=!0)}}}Math.abs(O)>2&&(u.scroller.scrollTop+=O)}function rg(l){if(l.widgets)for(var u=0;u<l.widgets.length;++u){var g=l.widgets[u],m=g.node.parentNode;m&&(g.height=m.offsetHeight)}}function _d(l,u,g){var m=g&&g.top!=null?Math.max(0,g.top):l.scroller.scrollTop;m=Math.floor(m-ra(l));var _=g&&g.bottom!=null?g.bottom:m+l.wrapper.clientHeight,O=Ft(u,m),D=Ft(u,_);if(g&&g.ensure){var z=g.ensure.from.line,W=g.ensure.to.line;z<O?(O=z,D=Ft(u,rr(F(u,z))+l.wrapper.clientHeight)):Math.min(W,u.lastLine())>=D&&(O=Ft(u,rr(F(u,W))-l.wrapper.clientHeight),D=W)}return{from:O,to:Math.max(D,O+1)}}function Ob(l,u){if(!mt(l,"scrollCursorIntoView")){var g=l.display,m=g.sizer.getBoundingClientRect(),_=null;if(u.top+m.top<0?_=!0:u.bottom+m.top>(window.innerHeight||document.documentElement.clientHeight)&&(_=!1),_!=null&&!b){var O=G("div","\u200B",null,`position: absolute;
                         top: `+(u.top-g.viewOffset-ra(l.display))+`px;
                         height: `+(u.bottom-u.top+or(l)+g.barHeight)+`px;
                         left: `+u.left+"px; width: "+Math.max(2,u.right-u.left)+"px;");l.display.lineSpace.appendChild(O),O.scrollIntoView(_),l.display.lineSpace.removeChild(O)}}}function Pb(l,u,g,m){m==null&&(m=0);var _;!l.options.lineWrapping&&u==g&&(g=u.sticky=="before"?qe(u.line,u.ch+1,"before"):u,u=u.ch?qe(u.line,u.sticky=="before"?u.ch-1:u.ch,"after"):u);for(var O=0;O<5;O++){var D=!1,z=qr(l,u),W=!g||g==u?z:qr(l,g);_={left:Math.min(z.left,W.left),top:Math.min(z.top,W.top)-m,right:Math.max(z.left,W.left),bottom:Math.max(z.bottom,W.bottom)+m};var Q=Jp(l,_),me=l.doc.scrollTop,be=l.doc.scrollLeft;if(Q.scrollTop!=null&&(Bl(l,Q.scrollTop),Math.abs(l.doc.scrollTop-me)>1&&(D=!0)),Q.scrollLeft!=null&&(Wa(l,Q.scrollLeft),Math.abs(l.doc.scrollLeft-be)>1&&(D=!0)),!D)break}return _}function Mb(l,u){var g=Jp(l,u);g.scrollTop!=null&&Bl(l,g.scrollTop),g.scrollLeft!=null&&Wa(l,g.scrollLeft)}function Jp(l,u){var g=l.display,m=Ms(l.display);u.top<0&&(u.top=0);var _=l.curOp&&l.curOp.scrollTop!=null?l.curOp.scrollTop:g.scroller.scrollTop,O=$(l),D={};u.bottom-u.top>O&&(u.bottom=u.top+O);var z=l.doc.height+za(g),W=u.top<m,Q=u.bottom>z-m;if(u.top<_)D.scrollTop=W?0:u.top;else if(u.bottom>_+O){var me=Math.min(u.top,(Q?z:u.bottom)-O);me!=_&&(D.scrollTop=me)}var be=l.options.fixedGutter?0:g.gutters.offsetWidth,He=l.curOp&&l.curOp.scrollLeft!=null?l.curOp.scrollLeft:g.scroller.scrollLeft-be,De=Ao(l)-g.gutters.offsetWidth,Ye=u.right-u.left>De;return Ye&&(u.right=u.left+De),u.left<10?D.scrollLeft=0:u.left<He?D.scrollLeft=Math.max(0,u.left+be-(Ye?0:10)):u.right>De+He-3&&(D.scrollLeft=u.right+(Ye?0:10)-De),D}function ef(l,u){u!=null&&(yd(l),l.curOp.scrollTop=(l.curOp.scrollTop==null?l.doc.scrollTop:l.curOp.scrollTop)+u)}function Es(l){yd(l);var u=l.getCursor();l.curOp.scrollToPos={from:u,to:u,margin:l.options.cursorScrollMargin}}function zl(l,u,g){(u!=null||g!=null)&&yd(l),u!=null&&(l.curOp.scrollLeft=u),g!=null&&(l.curOp.scrollTop=g)}function Tb(l,u){yd(l),l.curOp.scrollToPos=u}function yd(l){var u=l.curOp.scrollToPos;if(u){l.curOp.scrollToPos=null;var g=Qm(l,u.from),m=Qm(l,u.to);og(l,g,m,u.margin)}}function og(l,u,g,m){var _=Jp(l,{left:Math.min(u.left,g.left),top:Math.min(u.top,g.top)-m,right:Math.max(u.right,g.right),bottom:Math.max(u.bottom,g.bottom)+m});zl(l,_.scrollLeft,_.scrollTop)}function Bl(l,u){Math.abs(l.doc.scrollTop-u)<2||(t||nf(l,{top:u}),ag(l,u,!0),t&&nf(l),Wl(l,100))}function ag(l,u,g){u=Math.max(0,Math.min(l.display.scroller.scrollHeight-l.display.scroller.clientHeight,u)),!(l.display.scroller.scrollTop==u&&!g)&&(l.doc.scrollTop=u,l.display.scrollbars.setScrollTop(u),l.display.scroller.scrollTop!=u&&(l.display.scroller.scrollTop=u))}function Wa(l,u,g,m){u=Math.max(0,Math.min(u,l.display.scroller.scrollWidth-l.display.scroller.clientWidth)),!((g?u==l.doc.scrollLeft:Math.abs(l.doc.scrollLeft-u)<2)&&!m)&&(l.doc.scrollLeft=u,ug(l),l.display.scroller.scrollLeft!=u&&(l.display.scroller.scrollLeft=u),l.display.scrollbars.setScrollLeft(u))}function Ul(l){var u=l.display,g=u.gutters.offsetWidth,m=Math.round(l.doc.height+za(l.display));return{clientHeight:u.scroller.clientHeight,viewHeight:u.wrapper.clientHeight,scrollWidth:u.scroller.scrollWidth,clientWidth:u.scroller.clientWidth,viewWidth:u.wrapper.clientWidth,barLeft:l.options.fixedGutter?g:0,docHeight:m,scrollHeight:m+or(l)+u.barHeight,nativeBarWidth:u.nativeBarWidth,gutterWidth:g}}var Ka=function(l,u,g){this.cm=g;var m=this.vert=G("div",[G("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),_=this.horiz=G("div",[G("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");m.tabIndex=_.tabIndex=-1,l(m),l(_),Re(m,"scroll",function(){m.clientHeight&&u(m.scrollTop,"vertical")}),Re(_,"scroll",function(){_.clientWidth&&u(_.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&c<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ka.prototype.update=function(l){var u=l.scrollWidth>l.clientWidth+1,g=l.scrollHeight>l.clientHeight+1,m=l.nativeBarWidth;if(g){this.vert.style.display="block",this.vert.style.bottom=u?m+"px":"0";var _=l.viewHeight-(u?m:0);this.vert.firstChild.style.height=Math.max(0,l.scrollHeight-l.clientHeight+_)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(u){this.horiz.style.display="block",this.horiz.style.right=g?m+"px":"0",this.horiz.style.left=l.barLeft+"px";var O=l.viewWidth-l.barLeft-(g?m:0);this.horiz.firstChild.style.width=Math.max(0,l.scrollWidth-l.clientWidth+O)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&l.clientHeight>0&&(m==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:g?m:0,bottom:u?m:0}},Ka.prototype.setScrollLeft=function(l){this.horiz.scrollLeft!=l&&(this.horiz.scrollLeft=l),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ka.prototype.setScrollTop=function(l){this.vert.scrollTop!=l&&(this.vert.scrollTop=l),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ka.prototype.zeroWidthHack=function(){var l=M&&!C?"12px":"18px";this.horiz.style.height=this.vert.style.width=l,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ne,this.disableVert=new ne},Ka.prototype.enableZeroWidthBar=function(l,u,g){l.style.pointerEvents="auto";function m(){var _=l.getBoundingClientRect(),O=g=="vert"?document.elementFromPoint(_.right-1,(_.top+_.bottom)/2):document.elementFromPoint((_.right+_.left)/2,_.bottom-1);O!=l?l.style.pointerEvents="none":u.set(1e3,m)}u.set(1e3,m)},Ka.prototype.clear=function(){var l=this.horiz.parentNode;l.removeChild(this.horiz),l.removeChild(this.vert)};var Gl=function(){};Gl.prototype.update=function(){return{bottom:0,right:0}},Gl.prototype.setScrollLeft=function(){},Gl.prototype.setScrollTop=function(){},Gl.prototype.clear=function(){};function ks(l,u){u||(u=Ul(l));var g=l.display.barWidth,m=l.display.barHeight;sg(l,u);for(var _=0;_<4&&g!=l.display.barWidth||m!=l.display.barHeight;_++)g!=l.display.barWidth&&l.options.lineWrapping&&vd(l),sg(l,Ul(l)),g=l.display.barWidth,m=l.display.barHeight}function sg(l,u){var g=l.display,m=g.scrollbars.update(u);g.sizer.style.paddingRight=(g.barWidth=m.right)+"px",g.sizer.style.paddingBottom=(g.barHeight=m.bottom)+"px",g.heightForcer.style.borderBottom=m.bottom+"px solid transparent",m.right&&m.bottom?(g.scrollbarFiller.style.display="block",g.scrollbarFiller.style.height=m.bottom+"px",g.scrollbarFiller.style.width=m.right+"px"):g.scrollbarFiller.style.display="",m.bottom&&l.options.coverGutterNextToScrollbar&&l.options.fixedGutter?(g.gutterFiller.style.display="block",g.gutterFiller.style.height=m.bottom+"px",g.gutterFiller.style.width=u.gutterWidth+"px"):g.gutterFiller.style.display=""}var lg={native:Ka,null:Gl};function cg(l){l.display.scrollbars&&(l.display.scrollbars.clear(),l.display.scrollbars.addClass&&R(l.display.wrapper,l.display.scrollbars.addClass)),l.display.scrollbars=new lg[l.options.scrollbarStyle](function(u){l.display.wrapper.insertBefore(u,l.display.scrollbarFiller),Re(u,"mousedown",function(){l.state.focused&&setTimeout(function(){return l.display.input.focus()},0)}),u.setAttribute("cm-not-content","true")},function(u,g){g=="horizontal"?Wa(l,u):Bl(l,u)},l),l.display.scrollbars.addClass&&te(l.display.wrapper,l.display.scrollbars.addClass)}var Sb=0;function qa(l){l.curOp={cm:l,viewChanged:!1,startHeight:l.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Sb,markArrays:null},ad(l.curOp)}function $a(l){var u=l.curOp;u&&Nl(u,function(g){for(var m=0;m<g.ops.length;m++)g.ops[m].cm.curOp=null;Eb(g)})}function Eb(l){for(var u=l.ops,g=0;g<u.length;g++)kb(u[g]);for(var m=0;m<u.length;m++)Ab(u[m]);for(var _=0;_<u.length;_++)Ib(u[_]);for(var O=0;O<u.length;O++)Lb(u[O]);for(var D=0;D<u.length;D++)Nb(u[D])}function kb(l){var u=l.cm,g=u.display;Rb(u),l.updateMaxLine&&Xo(u),l.mustUpdate=l.viewChanged||l.forceUpdate||l.scrollTop!=null||l.scrollToPos&&(l.scrollToPos.from.line<g.viewFrom||l.scrollToPos.to.line>=g.viewTo)||g.maxLineChanged&&u.options.lineWrapping,l.update=l.mustUpdate&&new bd(u,l.mustUpdate&&{top:l.scrollTop,ensure:l.scrollToPos},l.forceUpdate)}function Ab(l){l.updatedDisplay=l.mustUpdate&&tf(l.cm,l.update)}function Ib(l){var u=l.cm,g=u.display;l.updatedDisplay&&vd(u),l.barMeasure=Ul(u),g.maxLineChanged&&!u.options.lineWrapping&&(l.adjustWidthTo=Be(u,g.maxLine,g.maxLine.text.length).left+3,u.display.sizerWidth=l.adjustWidthTo,l.barMeasure.scrollWidth=Math.max(g.scroller.clientWidth,g.sizer.offsetLeft+l.adjustWidthTo+or(u)+u.display.barWidth),l.maxScrollLeft=Math.max(0,g.sizer.offsetLeft+l.adjustWidthTo-Ao(u))),(l.updatedDisplay||l.selectionChanged)&&(l.preparedSelection=g.input.prepareSelection())}function Lb(l){var u=l.cm;l.adjustWidthTo!=null&&(u.display.sizer.style.minWidth=l.adjustWidthTo+"px",l.maxScrollLeft<u.doc.scrollLeft&&Wa(u,Math.min(u.display.scroller.scrollLeft,l.maxScrollLeft),!0),u.display.maxLineChanged=!1);var g=l.focus&&l.focus==Z();l.preparedSelection&&u.display.input.showSelection(l.preparedSelection,g),(l.updatedDisplay||l.startHeight!=u.doc.height)&&ks(u,l.barMeasure),l.updatedDisplay&&of(u,l.barMeasure),l.selectionChanged&&Qp(u),u.state.focused&&l.updateInput&&u.display.input.reset(l.typing),g&&ig(l.cm)}function Nb(l){var u=l.cm,g=u.display,m=u.doc;if(l.updatedDisplay&&dg(u,l.update),g.wheelStartX!=null&&(l.scrollTop!=null||l.scrollLeft!=null||l.scrollToPos)&&(g.wheelStartX=g.wheelStartY=null),l.scrollTop!=null&&ag(u,l.scrollTop,l.forceScroll),l.scrollLeft!=null&&Wa(u,l.scrollLeft,!0,!0),l.scrollToPos){var _=Pb(u,dt(m,l.scrollToPos.from),dt(m,l.scrollToPos.to),l.scrollToPos.margin);Ob(u,_)}var O=l.maybeHiddenMarkers,D=l.maybeUnhiddenMarkers;if(O)for(var z=0;z<O.length;++z)O[z].lines.length||bt(O[z],"hide");if(D)for(var W=0;W<D.length;++W)D[W].lines.length&&bt(D[W],"unhide");g.wrapper.offsetHeight&&(m.scrollTop=u.display.scroller.scrollTop),l.changeObjs&&bt(u,"changes",u,l.changeObjs),l.update&&l.update.finish()}function ar(l,u){if(l.curOp)return u();qa(l);try{return u()}finally{$a(l)}}function ci(l,u){return function(){if(l.curOp)return u.apply(l,arguments);qa(l);try{return u.apply(l,arguments)}finally{$a(l)}}}function Li(l){return function(){if(this.curOp)return l.apply(this,arguments);qa(this);try{return l.apply(this,arguments)}finally{$a(this)}}}function di(l){return function(){var u=this.cm;if(!u||u.curOp)return l.apply(this,arguments);qa(u);try{return l.apply(this,arguments)}finally{$a(u)}}}function Wl(l,u){l.doc.highlightFrontier<l.display.viewTo&&l.state.highlight.set(u,Ge(Db,l))}function Db(l){var u=l.doc;if(!(u.highlightFrontier>=l.display.viewTo)){var g=+new Date+l.options.workTime,m=Vi(l,u.highlightFrontier),_=[];u.iter(m.line,Math.min(u.first+u.size,l.display.viewTo+500),function(O){if(m.line>=l.display.viewFrom){var D=O.styles,z=O.text.length>l.options.maxHighlightLength?Pn(u.mode,m.state):null,W=Wo(l,O,m,!0);z&&(m.state=z),O.styles=W.styles;var Q=O.styleClasses,me=W.classes;me?O.styleClasses=me:Q&&(O.styleClasses=null);for(var be=!D||D.length!=O.styles.length||Q!=me&&(!Q||!me||Q.bgClass!=me.bgClass||Q.textClass!=me.textClass),He=0;!be&&He<D.length;++He)be=D[He]!=O.styles[He];be&&_.push(m.line),O.stateAfter=m.save(),m.nextLine()}else O.text.length<=l.options.maxHighlightLength&&no(l,O.text,m),O.stateAfter=m.line%5==0?m.save():null,m.nextLine();if(+new Date>g)return Wl(l,l.options.workDelay),!0}),u.highlightFrontier=m.line,u.modeFrontier=Math.max(u.modeFrontier,m.line),_.length&&ar(l,function(){for(var O=0;O<_.length;O++)oa(l,_[O],"text")})}}var bd=function(l,u,g){var m=l.display;this.viewport=u,this.visible=_d(m,l.doc,u),this.editorIsHidden=!m.wrapper.offsetWidth,this.wrapperHeight=m.wrapper.clientHeight,this.wrapperWidth=m.wrapper.clientWidth,this.oldDisplayWidth=Ao(l),this.force=g,this.dims=qp(l),this.events=[]};bd.prototype.signal=function(l,u){Qt(l,u)&&this.events.push(arguments)},bd.prototype.finish=function(){for(var l=0;l<this.events.length;l++)bt.apply(null,this.events[l])};function Rb(l){var u=l.display;!u.scrollbarsClipped&&u.scroller.offsetWidth&&(u.nativeBarWidth=u.scroller.offsetWidth-u.scroller.clientWidth,u.heightForcer.style.height=or(l)+"px",u.sizer.style.marginBottom=-u.nativeBarWidth+"px",u.sizer.style.borderRightWidth=or(l)+"px",u.scrollbarsClipped=!0)}function Fb(l){if(l.hasFocus())return null;var u=Z();if(!u||!E(l.display.lineDiv,u))return null;var g={activeElt:u};if(window.getSelection){var m=window.getSelection();m.anchorNode&&m.extend&&E(l.display.lineDiv,m.anchorNode)&&(g.anchorNode=m.anchorNode,g.anchorOffset=m.anchorOffset,g.focusNode=m.focusNode,g.focusOffset=m.focusOffset)}return g}function Vb(l){if(!(!l||!l.activeElt||l.activeElt==Z())&&(l.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(l.activeElt.nodeName)&&l.anchorNode&&E(document.body,l.anchorNode)&&E(document.body,l.focusNode))){var u=window.getSelection(),g=document.createRange();g.setEnd(l.anchorNode,l.anchorOffset),g.collapse(!1),u.removeAllRanges(),u.addRange(g),u.extend(l.focusNode,l.focusOffset)}}function tf(l,u){var g=l.display,m=l.doc;if(u.editorIsHidden)return aa(l),!1;if(!u.force&&u.visible.from>=g.viewFrom&&u.visible.to<=g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>=g.viewTo)&&g.renderedView==g.view&&eg(l)==0)return!1;pg(l)&&(aa(l),u.dims=qp(l));var _=m.first+m.size,O=Math.max(u.visible.from-l.options.viewportMargin,m.first),D=Math.min(_,u.visible.to+l.options.viewportMargin);g.viewFrom<O&&O-g.viewFrom<20&&(O=Math.max(m.first,g.viewFrom)),g.viewTo>D&&g.viewTo-D<20&&(D=Math.min(_,g.viewTo)),ii&&(O=nr(l.doc,O),D=ir(l.doc,D));var z=O!=g.viewFrom||D!=g.viewTo||g.lastWrapHeight!=u.wrapperHeight||g.lastWrapWidth!=u.wrapperWidth;xb(l,O,D),g.viewOffset=rr(F(l.doc,g.viewFrom)),l.display.mover.style.top=g.viewOffset+"px";var W=eg(l);if(!z&&W==0&&!u.force&&g.renderedView==g.view&&(g.updateLineNumbers==null||g.updateLineNumbers>=g.viewTo))return!1;var Q=Fb(l);return W>4&&(g.lineDiv.style.display="none"),jb(l,g.updateLineNumbers,u.dims),W>4&&(g.lineDiv.style.display=""),g.renderedView=g.view,Vb(Q),H(g.cursorDiv),H(g.selectionDiv),g.gutters.style.height=g.sizer.style.minHeight=0,z&&(g.lastWrapHeight=u.wrapperHeight,g.lastWrapWidth=u.wrapperWidth,Wl(l,400)),g.updateLineNumbers=null,!0}function dg(l,u){for(var g=u.viewport,m=!0;;m=!1){if(!m||!l.options.lineWrapping||u.oldDisplayWidth==Ao(l)){if(g&&g.top!=null&&(g={top:Math.min(l.doc.height+za(l.display)-$(l),g.top)}),u.visible=_d(l.display,l.doc,g),u.visible.from>=l.display.viewFrom&&u.visible.to<=l.display.viewTo)break}else m&&(u.visible=_d(l.display,l.doc,g));if(!tf(l,u))break;vd(l);var _=Ul(l);Hl(l),ks(l,_),of(l,_),u.force=!1}u.signal(l,"update",l),(l.display.viewFrom!=l.display.reportedViewFrom||l.display.viewTo!=l.display.reportedViewTo)&&(u.signal(l,"viewportChange",l,l.display.viewFrom,l.display.viewTo),l.display.reportedViewFrom=l.display.viewFrom,l.display.reportedViewTo=l.display.viewTo)}function nf(l,u){var g=new bd(l,u);if(tf(l,g)){vd(l),dg(l,g);var m=Ul(l);Hl(l),ks(l,m),of(l,m),g.finish()}}function jb(l,u,g){var m=l.display,_=l.options.lineNumbers,O=m.lineDiv,D=O.firstChild;function z(Ye){var lt=Ye.nextSibling;return d&&M&&l.display.currentWheelTarget==Ye?Ye.style.display="none":Ye.parentNode.removeChild(Ye),lt}for(var W=m.view,Q=m.viewFrom,me=0;me<W.length;me++){var be=W[me];if(!be.hidden)if(!be.node||be.node.parentNode!=O){var He=cd(l,be,Q,g);O.insertBefore(He,D)}else{for(;D!=be.node;)D=z(D);var De=_&&u!=null&&u<=Q&&be.lineNumber;be.changes&&(he(be.changes,"gutter")>-1&&(De=!1),io(l,be,Q,g)),De&&(H(be.lineNumber),be.lineNumber.appendChild(document.createTextNode(q(l.options,Q)))),D=be.node.nextSibling}Q+=be.size}for(;D;)D=z(D)}function rf(l){var u=l.gutters.offsetWidth;l.sizer.style.marginLeft=u+"px",Wn(l,"gutterChanged",l)}function of(l,u){l.display.sizer.style.minHeight=u.docHeight+"px",l.display.heightForcer.style.top=u.docHeight+"px",l.display.gutters.style.height=u.docHeight+l.display.barHeight+or(l)+"px"}function ug(l){var u=l.display,g=u.view;if(!(!u.alignWidgets&&(!u.gutters.firstChild||!l.options.fixedGutter))){for(var m=$p(u)-u.scroller.scrollLeft+l.doc.scrollLeft,_=u.gutters.offsetWidth,O=m+"px",D=0;D<g.length;D++)if(!g[D].hidden){l.options.fixedGutter&&(g[D].gutter&&(g[D].gutter.style.left=O),g[D].gutterBackground&&(g[D].gutterBackground.style.left=O));var z=g[D].alignable;if(z)for(var W=0;W<z.length;W++)z[W].style.left=O}l.options.fixedGutter&&(u.gutters.style.left=m+_+"px")}}function pg(l){if(!l.options.lineNumbers)return!1;var u=l.doc,g=q(l.options,u.first+u.size-1),m=l.display;if(g.length!=m.lineNumChars){var _=m.measure.appendChild(G("div",[G("div",g)],"CodeMirror-linenumber CodeMirror-gutter-elt")),O=_.firstChild.offsetWidth,D=_.offsetWidth-O;return m.lineGutter.style.width="",m.lineNumInnerWidth=Math.max(O,m.lineGutter.offsetWidth-D)+1,m.lineNumWidth=m.lineNumInnerWidth+D,m.lineNumChars=m.lineNumInnerWidth?g.length:-1,m.lineGutter.style.width=m.lineNumWidth+"px",rf(l.display),!0}return!1}function af(l,u){for(var g=[],m=!1,_=0;_<l.length;_++){var O=l[_],D=null;if(typeof O!="string"&&(D=O.style,O=O.className),O=="CodeMirror-linenumbers")if(u)m=!0;else continue;g.push({className:O,style:D})}return u&&!m&&g.push({className:"CodeMirror-linenumbers",style:null}),g}function fg(l){var u=l.gutters,g=l.gutterSpecs;H(u),l.lineGutter=null;for(var m=0;m<g.length;++m){var _=g[m],O=_.className,D=_.style,z=u.appendChild(G("div",null,"CodeMirror-gutter "+O));D&&(z.style.cssText=D),O=="CodeMirror-linenumbers"&&(l.lineGutter=z,z.style.width=(l.lineNumWidth||1)+"px")}u.style.display=g.length?"":"none",rf(l)}function Kl(l){fg(l.display),ji(l),ug(l)}function Hb(l,u,g,m){var _=this;this.input=g,_.scrollbarFiller=G("div",null,"CodeMirror-scrollbar-filler"),_.scrollbarFiller.setAttribute("cm-not-content","true"),_.gutterFiller=G("div",null,"CodeMirror-gutter-filler"),_.gutterFiller.setAttribute("cm-not-content","true"),_.lineDiv=K("div",null,"CodeMirror-code"),_.selectionDiv=G("div",null,null,"position: relative; z-index: 1"),_.cursorDiv=G("div",null,"CodeMirror-cursors"),_.measure=G("div",null,"CodeMirror-measure"),_.lineMeasure=G("div",null,"CodeMirror-measure"),_.lineSpace=K("div",[_.measure,_.lineMeasure,_.selectionDiv,_.cursorDiv,_.lineDiv],null,"position: relative; outline: none");var O=K("div",[_.lineSpace],"CodeMirror-lines");_.mover=G("div",[O],null,"position: relative"),_.sizer=G("div",[_.mover],"CodeMirror-sizer"),_.sizerWidth=null,_.heightForcer=G("div",null,null,"position: absolute; height: "+Oe+"px; width: 1px;"),_.gutters=G("div",null,"CodeMirror-gutters"),_.lineGutter=null,_.scroller=G("div",[_.sizer,_.heightForcer,_.gutters],"CodeMirror-scroll"),_.scroller.setAttribute("tabIndex","-1"),_.wrapper=G("div",[_.scrollbarFiller,_.gutterFiller,_.scroller],"CodeMirror"),_.wrapper.setAttribute("translate","no"),s&&c<8&&(_.gutters.style.zIndex=-1,_.scroller.style.paddingRight=0),!d&&!(t&&P)&&(_.scroller.draggable=!0),l&&(l.appendChild?l.appendChild(_.wrapper):l(_.wrapper)),_.viewFrom=_.viewTo=u.first,_.reportedViewFrom=_.reportedViewTo=u.first,_.view=[],_.renderedView=null,_.externalMeasured=null,_.viewOffset=0,_.lastWrapHeight=_.lastWrapWidth=0,_.updateLineNumbers=null,_.nativeBarWidth=_.barHeight=_.barWidth=0,_.scrollbarsClipped=!1,_.lineNumWidth=_.lineNumInnerWidth=_.lineNumChars=null,_.alignWidgets=!1,_.cachedCharWidth=_.cachedTextHeight=_.cachedPaddingH=null,_.maxLine=null,_.maxLineLength=0,_.maxLineChanged=!1,_.wheelDX=_.wheelDY=_.wheelStartX=_.wheelStartY=null,_.shift=!1,_.selForContextMenu=null,_.activeTouch=null,_.gutterSpecs=af(m.gutters,m.lineNumbers),fg(_),g.init(_)}var Cd=0,br=null;s?br=-.53:t?br=15:f?br=-.7:v&&(br=-.3333333333333333);function hg(l){var u=l.wheelDeltaX,g=l.wheelDeltaY;return u==null&&l.detail&&l.axis==l.HORIZONTAL_AXIS&&(u=l.detail),g==null&&l.detail&&l.axis==l.VERTICAL_AXIS?g=l.detail:g==null&&(g=l.wheelDelta),{x:u,y:g}}function zb(l){var u=hg(l);return u.x*=br,u.y*=br,u}function mg(l,u){var g=hg(u),m=g.x,_=g.y,O=l.display,D=O.scroller,z=D.scrollWidth>D.clientWidth,W=D.scrollHeight>D.clientHeight;if(m&&z||_&&W){if(_&&M&&d){e:for(var Q=u.target,me=O.view;Q!=D;Q=Q.parentNode)for(var be=0;be<me.length;be++)if(me[be].node==Q){l.display.currentWheelTarget=Q;break e}}if(m&&!t&&!h&&br!=null){_&&W&&Bl(l,Math.max(0,D.scrollTop+_*br)),Wa(l,Math.max(0,D.scrollLeft+m*br)),(!_||_&&W)&&Zt(u),O.wheelStartX=null;return}if(_&&br!=null){var He=_*br,De=l.doc.scrollTop,Ye=De+O.wrapper.clientHeight;He<0?De=Math.max(0,De+He-50):Ye=Math.min(l.doc.height,Ye+He+50),nf(l,{top:De,bottom:Ye})}Cd<20&&(O.wheelStartX==null?(O.wheelStartX=D.scrollLeft,O.wheelStartY=D.scrollTop,O.wheelDX=m,O.wheelDY=_,setTimeout(function(){if(O.wheelStartX!=null){var lt=D.scrollLeft-O.wheelStartX,ht=D.scrollTop-O.wheelStartY,xt=ht&&O.wheelDY&&ht/O.wheelDY||lt&&O.wheelDX&&lt/O.wheelDX;O.wheelStartX=O.wheelStartY=null,xt&&(br=(br*Cd+xt)/(Cd+1),++Cd)}},200)):(O.wheelDX+=m,O.wheelDY+=_))}}var Cr=function(l,u){this.ranges=l,this.primIndex=u};Cr.prototype.primary=function(){return this.ranges[this.primIndex]},Cr.prototype.equals=function(l){if(l==this)return!0;if(l.primIndex!=this.primIndex||l.ranges.length!=this.ranges.length)return!1;for(var u=0;u<this.ranges.length;u++){var g=this.ranges[u],m=l.ranges[u];if(!Mn(g.anchor,m.anchor)||!Mn(g.head,m.head))return!1}return!0},Cr.prototype.deepCopy=function(){for(var l=[],u=0;u<this.ranges.length;u++)l[u]=new On(ee(this.ranges[u].anchor),ee(this.ranges[u].head));return new Cr(l,this.primIndex)},Cr.prototype.somethingSelected=function(){for(var l=0;l<this.ranges.length;l++)if(!this.ranges[l].empty())return!0;return!1},Cr.prototype.contains=function(l,u){u||(u=l);for(var g=0;g<this.ranges.length;g++){var m=this.ranges[g];if(Lt(u,m.from())>=0&&Lt(l,m.to())<=0)return g}return-1};var On=function(l,u){this.anchor=l,this.head=u};On.prototype.from=function(){return $e(this.anchor,this.head)},On.prototype.to=function(){return ve(this.anchor,this.head)},On.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function $r(l,u,g){var m=l&&l.options.selectionsMayTouch,_=u[g];u.sort(function(He,De){return Lt(He.from(),De.from())}),g=he(u,_);for(var O=1;O<u.length;O++){var D=u[O],z=u[O-1],W=Lt(z.to(),D.from());if(m&&!D.empty()?W>0:W>=0){var Q=$e(z.from(),D.from()),me=ve(z.to(),D.to()),be=z.empty()?D.from()==D.head:z.from()==z.head;O<=g&&--g,u.splice(--O,2,new On(be?me:Q,be?Q:me))}}return new Cr(u,g)}function sa(l,u){return new Cr([new On(l,u||l)],0)}function la(l){return l.text?qe(l.from.line+l.text.length-1,_e(l.text).length+(l.text.length==1?l.from.ch:0)):l.to}function gg(l,u){if(Lt(l,u.from)<0)return l;if(Lt(l,u.to)<=0)return la(u);var g=l.line+u.text.length-(u.to.line-u.from.line)-1,m=l.ch;return l.line==u.to.line&&(m+=la(u).ch-u.to.ch),qe(g,m)}function sf(l,u){for(var g=[],m=0;m<l.sel.ranges.length;m++){var _=l.sel.ranges[m];g.push(new On(gg(_.anchor,u),gg(_.head,u)))}return $r(l.cm,g,l.sel.primIndex)}function vg(l,u,g){return l.line==u.line?qe(g.line,l.ch-u.ch+g.ch):qe(g.line+(l.line-u.line),l.ch)}function Bb(l,u,g){for(var m=[],_=qe(l.first,0),O=_,D=0;D<u.length;D++){var z=u[D],W=vg(z.from,_,O),Q=vg(la(z),_,O);if(_=z.to,O=Q,g=="around"){var me=l.sel.ranges[D],be=Lt(me.head,me.anchor)<0;m[D]=new On(be?Q:W,be?W:Q)}else m[D]=new On(W,W)}return new Cr(m,l.sel.primIndex)}function lf(l){l.doc.mode=Vt(l.options,l.doc.modeOption),ql(l)}function ql(l){l.doc.iter(function(u){u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null)}),l.doc.modeFrontier=l.doc.highlightFrontier=l.doc.first,Wl(l,100),l.state.modeGen++,l.curOp&&ji(l)}function _g(l,u){return u.from.ch==0&&u.to.ch==0&&_e(u.text)==""&&(!l.cm||l.cm.options.wholeLineUpdateBefore)}function cf(l,u,g,m){function _(St){return g?g[St]:null}function O(St,wt,kt){ed(St,wt,kt,m),Wn(St,"change",St,u)}function D(St,wt){for(var kt=[],Wt=St;Wt<wt;++Wt)kt.push(new li(Q[Wt],_(Wt),m));return kt}var z=u.from,W=u.to,Q=u.text,me=F(l,z.line),be=F(l,W.line),He=_e(Q),De=_(Q.length-1),Ye=W.line-z.line;if(u.full)l.insert(0,D(0,Q.length)),l.remove(Q.length,l.size-Q.length);else if(_g(l,u)){var lt=D(0,Q.length-1);O(be,be.text,De),Ye&&l.remove(z.line,Ye),lt.length&&l.insert(z.line,lt)}else if(me==be)if(Q.length==1)O(me,me.text.slice(0,z.ch)+He+me.text.slice(W.ch),De);else{var ht=D(1,Q.length-1);ht.push(new li(He+me.text.slice(W.ch),De,m)),O(me,me.text.slice(0,z.ch)+Q[0],_(0)),l.insert(z.line+1,ht)}else if(Q.length==1)O(me,me.text.slice(0,z.ch)+Q[0]+be.text.slice(W.ch),_(0)),l.remove(z.line+1,Ye);else{O(me,me.text.slice(0,z.ch)+Q[0],_(0)),O(be,He+be.text.slice(W.ch),De);var xt=D(1,Q.length-1);Ye>1&&l.remove(z.line+1,Ye-1),l.insert(z.line+1,xt)}Wn(l,"change",l,u)}function ca(l,u,g){function m(_,O,D){if(_.linked)for(var z=0;z<_.linked.length;++z){var W=_.linked[z];if(W.doc!=O){var Q=D&&W.sharedHist;g&&!Q||(u(W.doc,Q),m(W.doc,_,Q))}}}m(l,null,!0)}function yg(l,u){if(u.cm)throw new Error("This document is already in use.");l.doc=u,u.cm=l,Yp(l),lf(l),bg(l),l.options.direction=u.direction,l.options.lineWrapping||Xo(l),l.options.mode=u.modeOption,ji(l)}function bg(l){(l.doc.direction=="rtl"?te:R)(l.display.lineDiv,"CodeMirror-rtl")}function Ub(l){ar(l,function(){bg(l),ji(l)})}function xd(l){this.done=[],this.undone=[],this.undoDepth=l?l.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=l?l.maxGeneration:1}function df(l,u){var g={from:ee(u.from),to:la(u),text:ue(l,u.from,u.to)};return wg(l,g,u.from.line,u.to.line+1),ca(l,function(m){return wg(m,g,u.from.line,u.to.line+1)},!0),g}function Cg(l){for(;l.length;){var u=_e(l);if(u.ranges)l.pop();else break}}function Gb(l,u){if(u)return Cg(l.done),_e(l.done);if(l.done.length&&!_e(l.done).ranges)return _e(l.done);if(l.done.length>1&&!l.done[l.done.length-2].ranges)return l.done.pop(),_e(l.done)}function xg(l,u,g,m){var _=l.history;_.undone.length=0;var O=+new Date,D,z;if((_.lastOp==m||_.lastOrigin==u.origin&&u.origin&&(u.origin.charAt(0)=="+"&&_.lastModTime>O-(l.cm?l.cm.options.historyEventDelay:500)||u.origin.charAt(0)=="*"))&&(D=Gb(_,_.lastOp==m)))z=_e(D.changes),Lt(u.from,u.to)==0&&Lt(u.from,z.to)==0?z.to=la(u):D.changes.push(df(l,u));else{var W=_e(_.done);for((!W||!W.ranges)&&wd(l.sel,_.done),D={changes:[df(l,u)],generation:_.generation},_.done.push(D);_.done.length>_.undoDepth;)_.done.shift(),_.done[0].ranges||_.done.shift()}_.done.push(g),_.generation=++_.maxGeneration,_.lastModTime=_.lastSelTime=O,_.lastOp=_.lastSelOp=m,_.lastOrigin=_.lastSelOrigin=u.origin,z||bt(l,"historyAdded")}function Wb(l,u,g,m){var _=u.charAt(0);return _=="*"||_=="+"&&g.ranges.length==m.ranges.length&&g.somethingSelected()==m.somethingSelected()&&new Date-l.history.lastSelTime<=(l.cm?l.cm.options.historyEventDelay:500)}function Kb(l,u,g,m){var _=l.history,O=m&&m.origin;g==_.lastSelOp||O&&_.lastSelOrigin==O&&(_.lastModTime==_.lastSelTime&&_.lastOrigin==O||Wb(l,O,_e(_.done),u))?_.done[_.done.length-1]=u:wd(u,_.done),_.lastSelTime=+new Date,_.lastSelOrigin=O,_.lastSelOp=g,m&&m.clearRedo!==!1&&Cg(_.undone)}function wd(l,u){var g=_e(u);g&&g.ranges&&g.equals(l)||u.push(l)}function wg(l,u,g,m){var _=u["spans_"+l.id],O=0;l.iter(Math.max(l.first,g),Math.min(l.first+l.size,m),function(D){D.markedSpans&&((_||(_=u["spans_"+l.id]={}))[O]=D.markedSpans),++O})}function qb(l){if(!l)return null;for(var u,g=0;g<l.length;++g)l[g].marker.explicitlyCleared?u||(u=l.slice(0,g)):u&&u.push(l[g]);return u?u.length?u:null:l}function $b(l,u){var g=u["spans_"+l.id];if(!g)return null;for(var m=[],_=0;_<u.text.length;++_)m.push(qb(g[_]));return m}function Og(l,u){var g=$b(l,u),m=vr(l,u);if(!g)return m;if(!m)return g;for(var _=0;_<g.length;++_){var O=g[_],D=m[_];if(O&&D)e:for(var z=0;z<D.length;++z){for(var W=D[z],Q=0;Q<O.length;++Q)if(O[Q].marker==W.marker)continue e;O.push(W)}else D&&(g[_]=D)}return g}function As(l,u,g){for(var m=[],_=0;_<l.length;++_){var O=l[_];if(O.ranges){m.push(g?Cr.prototype.deepCopy.call(O):O);continue}var D=O.changes,z=[];m.push({changes:z});for(var W=0;W<D.length;++W){var Q=D[W],me=void 0;if(z.push({from:Q.from,to:Q.to,text:Q.text}),u)for(var be in Q)(me=be.match(/^spans_(\d+)$/))&&he(u,Number(me[1]))>-1&&(_e(z)[be]=Q[be],delete Q[be])}}return m}function uf(l,u,g,m){if(m){var _=l.anchor;if(g){var O=Lt(u,_)<0;O!=Lt(g,_)<0?(_=u,u=g):O!=Lt(u,g)<0&&(u=g)}return new On(_,u)}else return new On(g||u,u)}function Od(l,u,g,m,_){_==null&&(_=l.cm&&(l.cm.display.shift||l.extend)),Si(l,new Cr([uf(l.sel.primary(),u,g,_)],0),m)}function Pg(l,u,g){for(var m=[],_=l.cm&&(l.cm.display.shift||l.extend),O=0;O<l.sel.ranges.length;O++)m[O]=uf(l.sel.ranges[O],u[O],null,_);var D=$r(l.cm,m,l.sel.primIndex);Si(l,D,g)}function pf(l,u,g,m){var _=l.sel.ranges.slice(0);_[u]=g,Si(l,$r(l.cm,_,l.sel.primIndex),m)}function Mg(l,u,g,m){Si(l,sa(u,g),m)}function Yb(l,u,g){var m={ranges:u.ranges,update:function(_){this.ranges=[];for(var O=0;O<_.length;O++)this.ranges[O]=new On(dt(l,_[O].anchor),dt(l,_[O].head))},origin:g&&g.origin};return bt(l,"beforeSelectionChange",l,m),l.cm&&bt(l.cm,"beforeSelectionChange",l.cm,m),m.ranges!=u.ranges?$r(l.cm,m.ranges,m.ranges.length-1):u}function Tg(l,u,g){var m=l.history.done,_=_e(m);_&&_.ranges?(m[m.length-1]=u,Pd(l,u,g)):Si(l,u,g)}function Si(l,u,g){Pd(l,u,g),Kb(l,l.sel,l.cm?l.cm.curOp.id:NaN,g)}function Pd(l,u,g){(Qt(l,"beforeSelectionChange")||l.cm&&Qt(l.cm,"beforeSelectionChange"))&&(u=Yb(l,u,g));var m=g&&g.bias||(Lt(u.primary().head,l.sel.primary().head)<0?-1:1);Sg(l,kg(l,u,m,!0)),!(g&&g.scroll===!1)&&l.cm&&l.cm.getOption("readOnly")!="nocursor"&&Es(l.cm)}function Sg(l,u){u.equals(l.sel)||(l.sel=u,l.cm&&(l.cm.curOp.updateInput=1,l.cm.curOp.selectionChanged=!0,Et(l.cm)),Wn(l,"cursorActivity",l))}function Eg(l){Sg(l,kg(l,l.sel,null,!1))}function kg(l,u,g,m){for(var _,O=0;O<u.ranges.length;O++){var D=u.ranges[O],z=u.ranges.length==l.sel.ranges.length&&l.sel.ranges[O],W=Md(l,D.anchor,z&&z.anchor,g,m),Q=Md(l,D.head,z&&z.head,g,m);(_||W!=D.anchor||Q!=D.head)&&(_||(_=u.ranges.slice(0,O)),_[O]=new On(W,Q))}return _?$r(l.cm,_,u.primIndex):u}function Is(l,u,g,m,_){var O=F(l,u.line);if(O.markedSpans)for(var D=0;D<O.markedSpans.length;++D){var z=O.markedSpans[D],W=z.marker,Q="selectLeft"in W?!W.selectLeft:W.inclusiveLeft,me="selectRight"in W?!W.selectRight:W.inclusiveRight;if((z.from==null||(Q?z.from<=u.ch:z.from<u.ch))&&(z.to==null||(me?z.to>=u.ch:z.to>u.ch))){if(_&&(bt(W,"beforeCursorEnter"),W.explicitlyCleared))if(O.markedSpans){--D;continue}else break;if(!W.atomic)continue;if(g){var be=W.find(m<0?1:-1),He=void 0;if((m<0?me:Q)&&(be=Ag(l,be,-m,be&&be.line==u.line?O:null)),be&&be.line==u.line&&(He=Lt(be,g))&&(m<0?He<0:He>0))return Is(l,be,u,m,_)}var De=W.find(m<0?-1:1);return(m<0?Q:me)&&(De=Ag(l,De,m,De.line==u.line?O:null)),De?Is(l,De,u,m,_):null}}return u}function Md(l,u,g,m,_){var O=m||1,D=Is(l,u,g,O,_)||!_&&Is(l,u,g,O,!0)||Is(l,u,g,-O,_)||!_&&Is(l,u,g,-O,!0);return D||(l.cantEdit=!0,qe(l.first,0))}function Ag(l,u,g,m){return g<0&&u.ch==0?u.line>l.first?dt(l,qe(u.line-1)):null:g>0&&u.ch==(m||F(l,u.line)).text.length?u.line<l.first+l.size-1?qe(u.line+1,0):null:new qe(u.line,u.ch+g)}function Ig(l){l.setSelection(qe(l.firstLine(),0),qe(l.lastLine()),Ne)}function Lg(l,u,g){var m={canceled:!1,from:u.from,to:u.to,text:u.text,origin:u.origin,cancel:function(){return m.canceled=!0}};return g&&(m.update=function(_,O,D,z){_&&(m.from=dt(l,_)),O&&(m.to=dt(l,O)),D&&(m.text=D),z!==void 0&&(m.origin=z)}),bt(l,"beforeChange",l,m),l.cm&&bt(l.cm,"beforeChange",l.cm,m),m.canceled?(l.cm&&(l.cm.curOp.updateInput=2),null):{from:m.from,to:m.to,text:m.text,origin:m.origin}}function Ls(l,u,g){if(l.cm){if(!l.cm.curOp)return ci(l.cm,Ls)(l,u,g);if(l.cm.state.suppressEdits)return}if(!((Qt(l,"beforeChange")||l.cm&&Qt(l.cm,"beforeChange"))&&(u=Lg(l,u,!0),!u))){var m=Jn&&!g&&Qo(l,u.from,u.to);if(m)for(var _=m.length-1;_>=0;--_)Ng(l,{from:m[_].from,to:m[_].to,text:_?[""]:u.text,origin:u.origin});else Ng(l,u)}}function Ng(l,u){if(!(u.text.length==1&&u.text[0]==""&&Lt(u.from,u.to)==0)){var g=sf(l,u);xg(l,u,g,l.cm?l.cm.curOp.id:NaN),$l(l,u,g,vr(l,u));var m=[];ca(l,function(_,O){!O&&he(m,_.history)==-1&&(Vg(_.history,u),m.push(_.history)),$l(_,u,null,vr(_,u))})}}function Td(l,u,g){var m=l.cm&&l.cm.state.suppressEdits;if(!(m&&!g)){for(var _=l.history,O,D=l.sel,z=u=="undo"?_.done:_.undone,W=u=="undo"?_.undone:_.done,Q=0;Q<z.length&&(O=z[Q],!(g?O.ranges&&!O.equals(l.sel):!O.ranges));Q++);if(Q!=z.length){for(_.lastOrigin=_.lastSelOrigin=null;;)if(O=z.pop(),O.ranges){if(wd(O,W),g&&!O.equals(l.sel)){Si(l,O,{clearRedo:!1});return}D=O}else if(m){z.push(O);return}else break;var me=[];wd(D,W),W.push({changes:me,generation:_.generation}),_.generation=O.generation||++_.maxGeneration;for(var be=Qt(l,"beforeChange")||l.cm&&Qt(l.cm,"beforeChange"),He=function(lt){var ht=O.changes[lt];if(ht.origin=u,be&&!Lg(l,ht,!1))return z.length=0,{};me.push(df(l,ht));var xt=lt?sf(l,ht):_e(z);$l(l,ht,xt,Og(l,ht)),!lt&&l.cm&&l.cm.scrollIntoView({from:ht.from,to:la(ht)});var St=[];ca(l,function(wt,kt){!kt&&he(St,wt.history)==-1&&(Vg(wt.history,ht),St.push(wt.history)),$l(wt,ht,null,Og(wt,ht))})},De=O.changes.length-1;De>=0;--De){var Ye=He(De);if(Ye)return Ye.v}}}}function Dg(l,u){if(u!=0&&(l.first+=u,l.sel=new Cr(Je(l.sel.ranges,function(_){return new On(qe(_.anchor.line+u,_.anchor.ch),qe(_.head.line+u,_.head.ch))}),l.sel.primIndex),l.cm)){ji(l.cm,l.first,l.first-u,u);for(var g=l.cm.display,m=g.viewFrom;m<g.viewTo;m++)oa(l.cm,m,"gutter")}}function $l(l,u,g,m){if(l.cm&&!l.cm.curOp)return ci(l.cm,$l)(l,u,g,m);if(u.to.line<l.first){Dg(l,u.text.length-1-(u.to.line-u.from.line));return}if(!(u.from.line>l.lastLine())){if(u.from.line<l.first){var _=u.text.length-1-(l.first-u.from.line);Dg(l,_),u={from:qe(l.first,0),to:qe(u.to.line+_,u.to.ch),text:[_e(u.text)],origin:u.origin}}var O=l.lastLine();u.to.line>O&&(u={from:u.from,to:qe(O,F(l,O).text.length),text:[u.text[0]],origin:u.origin}),u.removed=ue(l,u.from,u.to),g||(g=sf(l,u)),l.cm?Qb(l.cm,u,m):cf(l,u,m),Pd(l,g,Ne),l.cantEdit&&Md(l,qe(l.firstLine(),0))&&(l.cantEdit=!1)}}function Qb(l,u,g){var m=l.doc,_=l.display,O=u.from,D=u.to,z=!1,W=O.line;l.options.lineWrapping||(W=Rt(Jt(F(m,O.line))),m.iter(W,D.line+1,function(De){if(De==_.maxLine)return z=!0,!0})),m.sel.contains(u.from,u.to)>-1&&Et(l),cf(m,u,g,Jm(l)),l.options.lineWrapping||(m.iter(W,O.line+u.text.length,function(De){var Ye=Kr(De);Ye>_.maxLineLength&&(_.maxLine=De,_.maxLineLength=Ye,_.maxLineChanged=!0,z=!1)}),z&&(l.curOp.updateMaxLine=!0)),Mo(m,O.line),Wl(l,400);var Q=u.text.length-(D.line-O.line)-1;u.full?ji(l):O.line==D.line&&u.text.length==1&&!_g(l.doc,u)?oa(l,O.line,"text"):ji(l,O.line,D.line+1,Q);var me=Qt(l,"changes"),be=Qt(l,"change");if(be||me){var He={from:O,to:D,text:u.text,removed:u.removed,origin:u.origin};be&&Wn(l,"change",l,He),me&&(l.curOp.changeObjs||(l.curOp.changeObjs=[])).push(He)}l.display.selForContextMenu=null}function Ns(l,u,g,m,_){var O;m||(m=g),Lt(m,g)<0&&(O=[m,g],g=O[0],m=O[1]),typeof u=="string"&&(u=l.splitLines(u)),Ls(l,{from:g,to:m,text:u,origin:_})}function Rg(l,u,g,m){g<l.line?l.line+=m:u<l.line&&(l.line=u,l.ch=0)}function Fg(l,u,g,m){for(var _=0;_<l.length;++_){var O=l[_],D=!0;if(O.ranges){O.copied||(O=l[_]=O.deepCopy(),O.copied=!0);for(var z=0;z<O.ranges.length;z++)Rg(O.ranges[z].anchor,u,g,m),Rg(O.ranges[z].head,u,g,m);continue}for(var W=0;W<O.changes.length;++W){var Q=O.changes[W];if(g<Q.from.line)Q.from=qe(Q.from.line+m,Q.from.ch),Q.to=qe(Q.to.line+m,Q.to.ch);else if(u<=Q.to.line){D=!1;break}}D||(l.splice(0,_+1),_=0)}}function Vg(l,u){var g=u.from.line,m=u.to.line,_=u.text.length-(m-g)-1;Fg(l.done,g,m,_),Fg(l.undone,g,m,_)}function Yl(l,u,g,m){var _=u,O=u;return typeof u=="number"?O=F(l,ct(l,u)):_=Rt(u),_==null?null:(m(O,_)&&l.cm&&oa(l.cm,_,g),O)}function Ql(l){this.lines=l,this.parent=null;for(var u=0,g=0;g<l.length;++g)l[g].parent=this,u+=l[g].height;this.height=u}Ql.prototype={chunkSize:function(){return this.lines.length},removeInner:function(l,u){for(var g=l,m=l+u;g<m;++g){var _=this.lines[g];this.height-=_.height,Cs(_),Wn(_,"delete")}this.lines.splice(l,u)},collapse:function(l){l.push.apply(l,this.lines)},insertInner:function(l,u,g){this.height+=g,this.lines=this.lines.slice(0,l).concat(u).concat(this.lines.slice(l));for(var m=0;m<u.length;++m)u[m].parent=this},iterN:function(l,u,g){for(var m=l+u;l<m;++l)if(g(this.lines[l]))return!0}};function Xl(l){this.children=l;for(var u=0,g=0,m=0;m<l.length;++m){var _=l[m];u+=_.chunkSize(),g+=_.height,_.parent=this}this.size=u,this.height=g,this.parent=null}Xl.prototype={chunkSize:function(){return this.size},removeInner:function(l,u){this.size-=u;for(var g=0;g<this.children.length;++g){var m=this.children[g],_=m.chunkSize();if(l<_){var O=Math.min(u,_-l),D=m.height;if(m.removeInner(l,O),this.height-=D-m.height,_==O&&(this.children.splice(g--,1),m.parent=null),(u-=O)==0)break;l=0}else l-=_}if(this.size-u<25&&(this.children.length>1||!(this.children[0]instanceof Ql))){var z=[];this.collapse(z),this.children=[new Ql(z)],this.children[0].parent=this}},collapse:function(l){for(var u=0;u<this.children.length;++u)this.children[u].collapse(l)},insertInner:function(l,u,g){this.size+=u.length,this.height+=g;for(var m=0;m<this.children.length;++m){var _=this.children[m],O=_.chunkSize();if(l<=O){if(_.insertInner(l,u,g),_.lines&&_.lines.length>50){for(var D=_.lines.length%25+25,z=D;z<_.lines.length;){var W=new Ql(_.lines.slice(z,z+=25));_.height-=W.height,this.children.splice(++m,0,W),W.parent=this}_.lines=_.lines.slice(0,D),this.maybeSpill()}break}l-=O}},maybeSpill:function(){if(!(this.children.length<=10)){var l=this;do{var u=l.children.splice(l.children.length-5,5),g=new Xl(u);if(l.parent){l.size-=g.size,l.height-=g.height;var _=he(l.parent.children,l);l.parent.children.splice(_+1,0,g)}else{var m=new Xl(l.children);m.parent=l,l.children=[m,g],l=m}g.parent=l.parent}while(l.children.length>10);l.parent.maybeSpill()}},iterN:function(l,u,g){for(var m=0;m<this.children.length;++m){var _=this.children[m],O=_.chunkSize();if(l<O){var D=Math.min(u,O-l);if(_.iterN(l,D,g))return!0;if((u-=D)==0)break;l=0}else l-=O}}};var Zl=function(l,u,g){if(g)for(var m in g)g.hasOwnProperty(m)&&(this[m]=g[m]);this.doc=l,this.node=u};Zl.prototype.clear=function(){var l=this.doc.cm,u=this.line.widgets,g=this.line,m=Rt(g);if(!(m==null||!u)){for(var _=0;_<u.length;++_)u[_]==this&&u.splice(_--,1);u.length||(g.widgets=null);var O=ia(this);Tt(g,Math.max(0,g.height-O)),l&&(ar(l,function(){jg(l,g,-O),oa(l,m,"widget")}),Wn(l,"lineWidgetCleared",l,this,m))}},Zl.prototype.changed=function(){var l=this,u=this.height,g=this.doc.cm,m=this.line;this.height=null;var _=ia(this)-u;_&&(si(this.doc,m)||Tt(m,m.height+_),g&&ar(g,function(){g.curOp.forceUpdate=!0,jg(g,m,_),Wn(g,"lineWidgetChanged",g,l,Rt(m))}))},$t(Zl);function jg(l,u,g){rr(u)<(l.curOp&&l.curOp.scrollTop||l.doc.scrollTop)&&ef(l,g)}function Xb(l,u,g,m){var _=new Zl(l,g,m),O=l.cm;return O&&_.noHScroll&&(O.display.alignWidgets=!0),Yl(l,u,"widget",function(D){var z=D.widgets||(D.widgets=[]);if(_.insertAt==null?z.push(_):z.splice(Math.min(z.length,Math.max(0,_.insertAt)),0,_),_.line=D,O&&!si(l,D)){var W=rr(D)<l.scrollTop;Tt(D,D.height+ia(_)),W&&ef(O,_.height),O.curOp.forceUpdate=!0}return!0}),O&&Wn(O,"lineWidgetAdded",O,_,typeof u=="number"?u:Rt(u)),_}var Hg=0,da=function(l,u){this.lines=[],this.type=u,this.doc=l,this.id=++Hg};da.prototype.clear=function(){if(!this.explicitlyCleared){var l=this.doc.cm,u=l&&!l.curOp;if(u&&qa(l),Qt(this,"clear")){var g=this.find();g&&Wn(this,"clear",g.from,g.to)}for(var m=null,_=null,O=0;O<this.lines.length;++O){var D=this.lines[O],z=Mi(D.markedSpans,this);l&&!this.collapsed?oa(l,Rt(D),"text"):l&&(z.to!=null&&(_=Rt(D)),z.from!=null&&(m=Rt(D))),D.markedSpans=ja(D.markedSpans,z),z.from==null&&this.collapsed&&!si(this.doc,D)&&l&&Tt(D,Ms(l.display))}if(l&&this.collapsed&&!l.options.lineWrapping)for(var W=0;W<this.lines.length;++W){var Q=Jt(this.lines[W]),me=Kr(Q);me>l.display.maxLineLength&&(l.display.maxLine=Q,l.display.maxLineLength=me,l.display.maxLineChanged=!0)}m!=null&&l&&this.collapsed&&ji(l,m,_+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,l&&Eg(l.doc)),l&&Wn(l,"markerCleared",l,this,m,_),u&&$a(l),this.parent&&this.parent.clear()}},da.prototype.find=function(l,u){l==null&&this.type=="bookmark"&&(l=1);for(var g,m,_=0;_<this.lines.length;++_){var O=this.lines[_],D=Mi(O.markedSpans,this);if(D.from!=null&&(g=qe(u?O:Rt(O),D.from),l==-1))return g;if(D.to!=null&&(m=qe(u?O:Rt(O),D.to),l==1))return m}return g&&{from:g,to:m}},da.prototype.changed=function(){var l=this,u=this.find(-1,!0),g=this,m=this.doc.cm;!u||!m||ar(m,function(){var _=u.line,O=Rt(u.line),D=Ve(m,O);if(D&&(Vl(D),m.curOp.selectionChanged=m.curOp.forceUpdate=!0),m.curOp.updateMaxLine=!0,!si(g.doc,_)&&g.height!=null){var z=g.height;g.height=null;var W=ia(g)-z;W&&Tt(_,_.height+W)}Wn(m,"markerChanged",m,l)})},da.prototype.attachLine=function(l){if(!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(!u.maybeHiddenMarkers||he(u.maybeHiddenMarkers,this)==-1)&&(u.maybeUnhiddenMarkers||(u.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(l)},da.prototype.detachLine=function(l){if(this.lines.splice(he(this.lines,l),1),!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(u.maybeHiddenMarkers||(u.maybeHiddenMarkers=[])).push(this)}},$t(da);function Ds(l,u,g,m,_){if(m&&m.shared)return Zb(l,u,g,m,_);if(l.cm&&!l.cm.curOp)return ci(l.cm,Ds)(l,u,g,m,_);var O=new da(l,_),D=Lt(u,g);if(m&&we(m,O,!1),D>0||D==0&&O.clearWhenEmpty!==!1)return O;if(O.replacedWith&&(O.collapsed=!0,O.widgetNode=K("span",[O.replacedWith],"CodeMirror-widget"),m.handleMouseEvents||O.widgetNode.setAttribute("cm-ignore-events","true"),m.insertLeft&&(O.widgetNode.insertLeft=!0)),O.collapsed){if(zt(l,u.line,u,g,O)||u.line!=g.line&&zt(l,g.line,u,g,O))throw new Error("Inserting collapsed marker partially overlapping an existing one");Va()}O.addToHistory&&xg(l,{from:u,to:g,origin:"markText"},l.sel,NaN);var z=u.line,W=l.cm,Q;if(l.iter(z,g.line+1,function(be){W&&O.collapsed&&!W.options.lineWrapping&&Jt(be)==W.display.maxLine&&(Q=!0),O.collapsed&&z!=u.line&&Tt(be,0),Lr(be,new Gr(O,z==u.line?u.ch:null,z==g.line?g.ch:null),l.cm&&l.cm.curOp),++z}),O.collapsed&&l.iter(u.line,g.line+1,function(be){si(l,be)&&Tt(be,0)}),O.clearOnEnter&&Re(O,"beforeCursorEnter",function(){return O.clear()}),O.readOnly&&($o(),(l.history.done.length||l.history.undone.length)&&l.clearHistory()),O.collapsed&&(O.id=++Hg,O.atomic=!0),W){if(Q&&(W.curOp.updateMaxLine=!0),O.collapsed)ji(W,u.line,g.line+1);else if(O.className||O.startStyle||O.endStyle||O.css||O.attributes||O.title)for(var me=u.line;me<=g.line;me++)oa(W,me,"text");O.atomic&&Eg(W.doc),Wn(W,"markerAdded",W,O)}return O}var Jl=function(l,u){this.markers=l,this.primary=u;for(var g=0;g<l.length;++g)l[g].parent=this};Jl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var l=0;l<this.markers.length;++l)this.markers[l].clear();Wn(this,"clear")}},Jl.prototype.find=function(l,u){return this.primary.find(l,u)},$t(Jl);function Zb(l,u,g,m,_){m=we(m),m.shared=!1;var O=[Ds(l,u,g,m,_)],D=O[0],z=m.widgetNode;return ca(l,function(W){z&&(m.widgetNode=z.cloneNode(!0)),O.push(Ds(W,dt(W,u),dt(W,g),m,_));for(var Q=0;Q<W.linked.length;++Q)if(W.linked[Q].isParent)return;D=_e(O)}),new Jl(O,D)}function zg(l){return l.findMarks(qe(l.first,0),l.clipPos(qe(l.lastLine())),function(u){return u.parent})}function Jb(l,u){for(var g=0;g<u.length;g++){var m=u[g],_=m.find(),O=l.clipPos(_.from),D=l.clipPos(_.to);if(Lt(O,D)){var z=Ds(l,O,D,m.primary,m.primary.type);m.markers.push(z),z.parent=m}}}function eC(l){for(var u=function(m){var _=l[m],O=[_.primary.doc];ca(_.primary.doc,function(W){return O.push(W)});for(var D=0;D<_.markers.length;D++){var z=_.markers[D];he(O,z.doc)==-1&&(z.parent=null,_.markers.splice(D--,1))}},g=0;g<l.length;g++)u(g)}var tC=0,Hi=function(l,u,g,m,_){if(!(this instanceof Hi))return new Hi(l,u,g,m,_);g==null&&(g=0),Xl.call(this,[new Ql([new li("",null)])]),this.first=g,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=g;var O=qe(g,0);this.sel=sa(O),this.history=new xd(null),this.id=++tC,this.modeOption=u,this.lineSep=m,this.direction=_=="rtl"?"rtl":"ltr",this.extend=!1,typeof l=="string"&&(l=this.splitLines(l)),cf(this,{from:O,to:O,text:l}),Si(this,sa(O),Ne)};Hi.prototype=U(Xl.prototype,{constructor:Hi,iter:function(l,u,g){g?this.iterN(l-this.first,u-l,g):this.iterN(this.first,this.first+this.size,l)},insert:function(l,u){for(var g=0,m=0;m<u.length;++m)g+=u[m].height;this.insertInner(l-this.first,u,g)},remove:function(l,u){this.removeInner(l-this.first,u)},getValue:function(l){var u=We(this,this.first,this.first+this.size);return l===!1?u:u.join(l||this.lineSeparator())},setValue:di(function(l){var u=qe(this.first,0),g=this.first+this.size-1;Ls(this,{from:u,to:qe(g,F(this,g).text.length),text:this.splitLines(l),origin:"setValue",full:!0},!0),this.cm&&zl(this.cm,0,0),Si(this,sa(u),Ne)}),replaceRange:function(l,u,g,m){u=dt(this,u),g=g?dt(this,g):u,Ns(this,l,u,g,m)},getRange:function(l,u,g){var m=ue(this,dt(this,l),dt(this,u));return g===!1?m:g===""?m.join(""):m.join(g||this.lineSeparator())},getLine:function(l){var u=this.getLineHandle(l);return u&&u.text},getLineHandle:function(l){if(Nt(this,l))return F(this,l)},getLineNumber:function(l){return Rt(l)},getLineHandleVisualStart:function(l){return typeof l=="number"&&(l=F(this,l)),Jt(l)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(l){return dt(this,l)},getCursor:function(l){var u=this.sel.primary(),g;return l==null||l=="head"?g=u.head:l=="anchor"?g=u.anchor:l=="end"||l=="to"||l===!1?g=u.to():g=u.from(),g},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:di(function(l,u,g){Mg(this,dt(this,typeof l=="number"?qe(l,u||0):l),null,g)}),setSelection:di(function(l,u,g){Mg(this,dt(this,l),dt(this,u||l),g)}),extendSelection:di(function(l,u,g){Od(this,dt(this,l),u&&dt(this,u),g)}),extendSelections:di(function(l,u){Pg(this,ln(this,l),u)}),extendSelectionsBy:di(function(l,u){var g=Je(this.sel.ranges,l);Pg(this,ln(this,g),u)}),setSelections:di(function(l,u,g){if(l.length){for(var m=[],_=0;_<l.length;_++)m[_]=new On(dt(this,l[_].anchor),dt(this,l[_].head||l[_].anchor));u==null&&(u=Math.min(l.length-1,this.sel.primIndex)),Si(this,$r(this.cm,m,u),g)}}),addSelection:di(function(l,u,g){var m=this.sel.ranges.slice(0);m.push(new On(dt(this,l),dt(this,u||l))),Si(this,$r(this.cm,m,m.length-1),g)}),getSelection:function(l){for(var u=this.sel.ranges,g,m=0;m<u.length;m++){var _=ue(this,u[m].from(),u[m].to());g=g?g.concat(_):_}return l===!1?g:g.join(l||this.lineSeparator())},getSelections:function(l){for(var u=[],g=this.sel.ranges,m=0;m<g.length;m++){var _=ue(this,g[m].from(),g[m].to());l!==!1&&(_=_.join(l||this.lineSeparator())),u[m]=_}return u},replaceSelection:function(l,u,g){for(var m=[],_=0;_<this.sel.ranges.length;_++)m[_]=l;this.replaceSelections(m,u,g||"+input")},replaceSelections:di(function(l,u,g){for(var m=[],_=this.sel,O=0;O<_.ranges.length;O++){var D=_.ranges[O];m[O]={from:D.from(),to:D.to(),text:this.splitLines(l[O]),origin:g}}for(var z=u&&u!="end"&&Bb(this,m,u),W=m.length-1;W>=0;W--)Ls(this,m[W]);z?Tg(this,z):this.cm&&Es(this.cm)}),undo:di(function(){Td(this,"undo")}),redo:di(function(){Td(this,"redo")}),undoSelection:di(function(){Td(this,"undo",!0)}),redoSelection:di(function(){Td(this,"redo",!0)}),setExtending:function(l){this.extend=l},getExtending:function(){return this.extend},historySize:function(){for(var l=this.history,u=0,g=0,m=0;m<l.done.length;m++)l.done[m].ranges||++u;for(var _=0;_<l.undone.length;_++)l.undone[_].ranges||++g;return{undo:u,redo:g}},clearHistory:function(){var l=this;this.history=new xd(this.history),ca(this,function(u){return u.history=l.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(l){return l&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(l){return this.history.generation==(l||this.cleanGeneration)},getHistory:function(){return{done:As(this.history.done),undone:As(this.history.undone)}},setHistory:function(l){var u=this.history=new xd(this.history);u.done=As(l.done.slice(0),null,!0),u.undone=As(l.undone.slice(0),null,!0)},setGutterMarker:di(function(l,u,g){return Yl(this,l,"gutter",function(m){var _=m.gutterMarkers||(m.gutterMarkers={});return _[u]=g,!g&&Ke(_)&&(m.gutterMarkers=null),!0})}),clearGutter:di(function(l){var u=this;this.iter(function(g){g.gutterMarkers&&g.gutterMarkers[l]&&Yl(u,g,"gutter",function(){return g.gutterMarkers[l]=null,Ke(g.gutterMarkers)&&(g.gutterMarkers=null),!0})})}),lineInfo:function(l){var u;if(typeof l=="number"){if(!Nt(this,l)||(u=l,l=F(this,l),!l))return null}else if(u=Rt(l),u==null)return null;return{line:u,handle:l,text:l.text,gutterMarkers:l.gutterMarkers,textClass:l.textClass,bgClass:l.bgClass,wrapClass:l.wrapClass,widgets:l.widgets}},addLineClass:di(function(l,u,g){return Yl(this,l,u=="gutter"?"gutter":"class",function(m){var _=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass";if(!m[_])m[_]=g;else{if(j(g).test(m[_]))return!1;m[_]+=" "+g}return!0})}),removeLineClass:di(function(l,u,g){return Yl(this,l,u=="gutter"?"gutter":"class",function(m){var _=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass",O=m[_];if(O)if(g==null)m[_]=null;else{var D=O.match(j(g));if(!D)return!1;var z=D.index+D[0].length;m[_]=O.slice(0,D.index)+(!D.index||z==O.length?"":" ")+O.slice(z)||null}else return!1;return!0})}),addLineWidget:di(function(l,u,g){return Xb(this,l,u,g)}),removeLineWidget:function(l){l.clear()},markText:function(l,u,g){return Ds(this,dt(this,l),dt(this,u),g,g&&g.type||"range")},setBookmark:function(l,u){var g={replacedWith:u&&(u.nodeType==null?u.widget:u),insertLeft:u&&u.insertLeft,clearWhenEmpty:!1,shared:u&&u.shared,handleMouseEvents:u&&u.handleMouseEvents};return l=dt(this,l),Ds(this,l,l,g,"bookmark")},findMarksAt:function(l){l=dt(this,l);var u=[],g=F(this,l.line).markedSpans;if(g)for(var m=0;m<g.length;++m){var _=g[m];(_.from==null||_.from<=l.ch)&&(_.to==null||_.to>=l.ch)&&u.push(_.marker.parent||_.marker)}return u},findMarks:function(l,u,g){l=dt(this,l),u=dt(this,u);var m=[],_=l.line;return this.iter(l.line,u.line+1,function(O){var D=O.markedSpans;if(D)for(var z=0;z<D.length;z++){var W=D[z];!(W.to!=null&&_==l.line&&l.ch>=W.to||W.from==null&&_!=l.line||W.from!=null&&_==u.line&&W.from>=u.ch)&&(!g||g(W.marker))&&m.push(W.marker.parent||W.marker)}++_}),m},getAllMarks:function(){var l=[];return this.iter(function(u){var g=u.markedSpans;if(g)for(var m=0;m<g.length;++m)g[m].from!=null&&l.push(g[m].marker)}),l},posFromIndex:function(l){var u,g=this.first,m=this.lineSeparator().length;return this.iter(function(_){var O=_.text.length+m;if(O>l)return u=l,!0;l-=O,++g}),dt(this,qe(g,u))},indexFromPos:function(l){l=dt(this,l);var u=l.ch;if(l.line<this.first||l.ch<0)return 0;var g=this.lineSeparator().length;return this.iter(this.first,l.line,function(m){u+=m.text.length+g}),u},copy:function(l){var u=new Hi(We(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return u.scrollTop=this.scrollTop,u.scrollLeft=this.scrollLeft,u.sel=this.sel,u.extend=!1,l&&(u.history.undoDepth=this.history.undoDepth,u.setHistory(this.getHistory())),u},linkedDoc:function(l){l||(l={});var u=this.first,g=this.first+this.size;l.from!=null&&l.from>u&&(u=l.from),l.to!=null&&l.to<g&&(g=l.to);var m=new Hi(We(this,u,g),l.mode||this.modeOption,u,this.lineSep,this.direction);return l.sharedHist&&(m.history=this.history),(this.linked||(this.linked=[])).push({doc:m,sharedHist:l.sharedHist}),m.linked=[{doc:this,isParent:!0,sharedHist:l.sharedHist}],Jb(m,zg(this)),m},unlinkDoc:function(l){if(l instanceof Hn&&(l=l.doc),this.linked)for(var u=0;u<this.linked.length;++u){var g=this.linked[u];if(g.doc==l){this.linked.splice(u,1),l.unlinkDoc(this),eC(zg(this));break}}if(l.history==this.history){var m=[l.id];ca(l,function(_){return m.push(_.id)},!0),l.history=new xd(null),l.history.done=As(this.history.done,m),l.history.undone=As(this.history.undone,m)}},iterLinkedDocs:function(l){ca(this,l)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(l){return this.lineSep?l.split(this.lineSep):gn(l)},lineSeparator:function(){return this.lineSep||`
`},setDirection:di(function(l){l!="rtl"&&(l="ltr"),l!=this.direction&&(this.direction=l,this.iter(function(u){return u.order=null}),this.cm&&Ub(this.cm))})}),Hi.prototype.eachLine=Hi.prototype.iter;var Bg=0;function nC(l){var u=this;if(Ug(u),!(mt(u,l)||Dr(u.display,l))){Zt(l),s&&(Bg=+new Date);var g=Ua(u,l,!0),m=l.dataTransfer.files;if(!(!g||u.isReadOnly()))if(m&&m.length&&window.FileReader&&window.File)for(var _=m.length,O=Array(_),D=0,z=function(){++D==_&&ci(u,function(){g=dt(u.doc,g);var De={from:g,to:g,text:u.doc.splitLines(O.filter(function(Ye){return Ye!=null}).join(u.doc.lineSeparator())),origin:"paste"};Ls(u.doc,De),Tg(u.doc,sa(dt(u.doc,g),dt(u.doc,la(De))))})()},W=function(De,Ye){if(u.options.allowDropFileTypes&&he(u.options.allowDropFileTypes,De.type)==-1){z();return}var lt=new FileReader;lt.onerror=function(){return z()},lt.onload=function(){var ht=lt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ht)){z();return}O[Ye]=ht,z()},lt.readAsText(De)},Q=0;Q<m.length;Q++)W(m[Q],Q);else{if(u.state.draggingText&&u.doc.sel.contains(g)>-1){u.state.draggingText(l),setTimeout(function(){return u.display.input.focus()},20);return}try{var me=l.dataTransfer.getData("Text");if(me){var be;if(u.state.draggingText&&!u.state.draggingText.copy&&(be=u.listSelections()),Pd(u.doc,sa(g,g)),be)for(var He=0;He<be.length;++He)Ns(u.doc,"",be[He].anchor,be[He].head,"drag");u.replaceSelection(me,"around","paste"),u.display.input.focus()}}catch{}}}}function iC(l,u){if(s&&(!l.state.draggingText||+new Date-Bg<100)){se(u);return}if(!(mt(l,u)||Dr(l.display,u))&&(u.dataTransfer.setData("Text",l.getSelection()),u.dataTransfer.effectAllowed="copyMove",u.dataTransfer.setDragImage&&!v)){var g=G("img",null,null,"position: fixed; left: 0; top: 0;");g.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(g.width=g.height=1,l.display.wrapper.appendChild(g),g._top=g.offsetTop),u.dataTransfer.setDragImage(g,0,0),h&&g.parentNode.removeChild(g)}}function rC(l,u){var g=Ua(l,u);if(g){var m=document.createDocumentFragment();ng(l,g,m),l.display.dragCursor||(l.display.dragCursor=G("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),l.display.lineSpace.insertBefore(l.display.dragCursor,l.display.cursorDiv)),I(l.display.dragCursor,m)}}function Ug(l){l.display.dragCursor&&(l.display.lineSpace.removeChild(l.display.dragCursor),l.display.dragCursor=null)}function Gg(l){if(document.getElementsByClassName){for(var u=document.getElementsByClassName("CodeMirror"),g=[],m=0;m<u.length;m++){var _=u[m].CodeMirror;_&&g.push(_)}g.length&&g[0].operation(function(){for(var O=0;O<g.length;O++)l(g[O])})}}var Wg=!1;function oC(){Wg||(aC(),Wg=!0)}function aC(){var l;Re(window,"resize",function(){l==null&&(l=setTimeout(function(){l=null,Gg(sC)},100))}),Re(window,"blur",function(){return Gg(Ss)})}function sC(l){var u=l.display;u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.scrollbarsClipped=!1,l.setSize()}for(var ua={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ec=0;ec<10;ec++)ua[ec+48]=ua[ec+96]=String(ec);for(var Sd=65;Sd<=90;Sd++)ua[Sd]=String.fromCharCode(Sd);for(var tc=1;tc<=12;tc++)ua[tc+111]=ua[tc+63235]="F"+tc;var Io={};Io.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Io.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Io.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Io.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Io.default=M?Io.macDefault:Io.pcDefault;function lC(l){var u=l.split(/-(?!$)/);l=u[u.length-1];for(var g,m,_,O,D=0;D<u.length-1;D++){var z=u[D];if(/^(cmd|meta|m)$/i.test(z))O=!0;else if(/^a(lt)?$/i.test(z))g=!0;else if(/^(c|ctrl|control)$/i.test(z))m=!0;else if(/^s(hift)?$/i.test(z))_=!0;else throw new Error("Unrecognized modifier name: "+z)}return g&&(l="Alt-"+l),m&&(l="Ctrl-"+l),O&&(l="Cmd-"+l),_&&(l="Shift-"+l),l}function cC(l){var u={};for(var g in l)if(l.hasOwnProperty(g)){var m=l[g];if(/^(name|fallthrough|(de|at)tach)$/.test(g))continue;if(m=="..."){delete l[g];continue}for(var _=Je(g.split(" "),lC),O=0;O<_.length;O++){var D=void 0,z=void 0;O==_.length-1?(z=_.join(" "),D=m):(z=_.slice(0,O+1).join(" "),D="...");var W=u[z];if(!W)u[z]=D;else if(W!=D)throw new Error("Inconsistent bindings for "+z)}delete l[g]}for(var Q in u)l[Q]=u[Q];return l}function Rs(l,u,g,m){u=Ed(u);var _=u.call?u.call(l,m):u[l];if(_===!1)return"nothing";if(_==="...")return"multi";if(_!=null&&g(_))return"handled";if(u.fallthrough){if(Object.prototype.toString.call(u.fallthrough)!="[object Array]")return Rs(l,u.fallthrough,g,m);for(var O=0;O<u.fallthrough.length;O++){var D=Rs(l,u.fallthrough[O],g,m);if(D)return D}}}function Kg(l){var u=typeof l=="string"?l:ua[l.keyCode];return u=="Ctrl"||u=="Alt"||u=="Shift"||u=="Mod"}function qg(l,u,g){var m=l;return u.altKey&&m!="Alt"&&(l="Alt-"+l),(N?u.metaKey:u.ctrlKey)&&m!="Ctrl"&&(l="Ctrl-"+l),(N?u.ctrlKey:u.metaKey)&&m!="Mod"&&(l="Cmd-"+l),!g&&u.shiftKey&&m!="Shift"&&(l="Shift-"+l),l}function $g(l,u){if(h&&l.keyCode==34&&l.char)return!1;var g=ua[l.keyCode];return g==null||l.altGraphKey?!1:(l.keyCode==3&&l.code&&(g=l.code),qg(g,l,u))}function Ed(l){return typeof l=="string"?Io[l]:l}function Fs(l,u){for(var g=l.doc.sel.ranges,m=[],_=0;_<g.length;_++){for(var O=u(g[_]);m.length&&Lt(O.from,_e(m).to)<=0;){var D=m.pop();if(Lt(D.from,O.from)<0){O.from=D.from;break}}m.push(O)}ar(l,function(){for(var z=m.length-1;z>=0;z--)Ns(l.doc,"",m[z].from,m[z].to,"+delete");Es(l)})}function ff(l,u,g){var m=Le(l.text,u+g,g);return m<0||m>l.text.length?null:m}function hf(l,u,g){var m=ff(l,u.ch,g);return m==null?null:new qe(u.line,m,g<0?"after":"before")}function mf(l,u,g,m,_){if(l){u.doc.direction=="rtl"&&(_=-_);var O=ie(g,u.doc.direction);if(O){var D=_<0?_e(O):O[0],z=_<0==(D.level==1),W=z?"after":"before",Q;if(D.level>0||u.doc.direction=="rtl"){var me=et(u,g);Q=_<0?g.text.length-1:0;var be=_t(u,me,Q).top;Q=ft(function(He){return _t(u,me,He).top==be},_<0==(D.level==1)?D.from:D.to-1,Q),W=="before"&&(Q=ff(g,Q,1))}else Q=_<0?D.to:D.from;return new qe(m,Q,W)}}return new qe(m,_<0?g.text.length:0,_<0?"before":"after")}function dC(l,u,g,m){var _=ie(u,l.doc.direction);if(!_)return hf(u,g,m);g.ch>=u.text.length?(g.ch=u.text.length,g.sticky="before"):g.ch<=0&&(g.ch=0,g.sticky="after");var O=ce(_,g.ch,g.sticky),D=_[O];if(l.doc.direction=="ltr"&&D.level%2==0&&(m>0?D.to>g.ch:D.from<g.ch))return hf(u,g,m);var z=function(xt,St){return ff(u,xt instanceof qe?xt.ch:xt,St)},W,Q=function(xt){return l.options.lineWrapping?(W=W||et(l,u),Zm(l,u,W,xt)):{begin:0,end:u.text.length}},me=Q(g.sticky=="before"?z(g,-1):g.ch);if(l.doc.direction=="rtl"||D.level==1){var be=D.level==1==m<0,He=z(g,be?1:-1);if(He!=null&&(be?He<=D.to&&He<=me.end:He>=D.from&&He>=me.begin)){var De=be?"before":"after";return new qe(g.line,He,De)}}var Ye=function(xt,St,wt){for(var kt=function(Ln,ui){return ui?new qe(g.line,z(Ln,1),"before"):new qe(g.line,Ln,"after")};xt>=0&&xt<_.length;xt+=St){var Wt=_[xt],Ut=St>0==(Wt.level!=1),on=Ut?wt.begin:z(wt.end,-1);if(Wt.from<=on&&on<Wt.to||(on=Ut?Wt.from:z(Wt.to,-1),wt.begin<=on&&on<wt.end))return kt(on,Ut)}},lt=Ye(O+m,m,me);if(lt)return lt;var ht=m>0?me.end:z(me.begin,-1);return ht!=null&&!(m>0&&ht==u.text.length)&&(lt=Ye(m>0?0:_.length-1,m,Q(ht)),lt)?lt:null}var nc={selectAll:Ig,singleSelection:function(l){return l.setSelection(l.getCursor("anchor"),l.getCursor("head"),Ne)},killLine:function(l){return Fs(l,function(u){if(u.empty()){var g=F(l.doc,u.head.line).text.length;return u.head.ch==g&&u.head.line<l.lastLine()?{from:u.head,to:qe(u.head.line+1,0)}:{from:u.head,to:qe(u.head.line,g)}}else return{from:u.from(),to:u.to()}})},deleteLine:function(l){return Fs(l,function(u){return{from:qe(u.from().line,0),to:dt(l.doc,qe(u.to().line+1,0))}})},delLineLeft:function(l){return Fs(l,function(u){return{from:qe(u.from().line,0),to:u.from()}})},delWrappedLineLeft:function(l){return Fs(l,function(u){var g=l.charCoords(u.head,"div").top+5,m=l.coordsChar({left:0,top:g},"div");return{from:m,to:u.from()}})},delWrappedLineRight:function(l){return Fs(l,function(u){var g=l.charCoords(u.head,"div").top+5,m=l.coordsChar({left:l.display.lineDiv.offsetWidth+100,top:g},"div");return{from:u.from(),to:m}})},undo:function(l){return l.undo()},redo:function(l){return l.redo()},undoSelection:function(l){return l.undoSelection()},redoSelection:function(l){return l.redoSelection()},goDocStart:function(l){return l.extendSelection(qe(l.firstLine(),0))},goDocEnd:function(l){return l.extendSelection(qe(l.lastLine()))},goLineStart:function(l){return l.extendSelectionsBy(function(u){return Yg(l,u.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(l){return l.extendSelectionsBy(function(u){return Qg(l,u.head)},{origin:"+move",bias:1})},goLineEnd:function(l){return l.extendSelectionsBy(function(u){return uC(l,u.head.line)},{origin:"+move",bias:-1})},goLineRight:function(l){return l.extendSelectionsBy(function(u){var g=l.cursorCoords(u.head,"div").top+5;return l.coordsChar({left:l.display.lineDiv.offsetWidth+100,top:g},"div")},ke)},goLineLeft:function(l){return l.extendSelectionsBy(function(u){var g=l.cursorCoords(u.head,"div").top+5;return l.coordsChar({left:0,top:g},"div")},ke)},goLineLeftSmart:function(l){return l.extendSelectionsBy(function(u){var g=l.cursorCoords(u.head,"div").top+5,m=l.coordsChar({left:0,top:g},"div");return m.ch<l.getLine(m.line).search(/\S/)?Qg(l,u.head):m},ke)},goLineUp:function(l){return l.moveV(-1,"line")},goLineDown:function(l){return l.moveV(1,"line")},goPageUp:function(l){return l.moveV(-1,"page")},goPageDown:function(l){return l.moveV(1,"page")},goCharLeft:function(l){return l.moveH(-1,"char")},goCharRight:function(l){return l.moveH(1,"char")},goColumnLeft:function(l){return l.moveH(-1,"column")},goColumnRight:function(l){return l.moveH(1,"column")},goWordLeft:function(l){return l.moveH(-1,"word")},goGroupRight:function(l){return l.moveH(1,"group")},goGroupLeft:function(l){return l.moveH(-1,"group")},goWordRight:function(l){return l.moveH(1,"word")},delCharBefore:function(l){return l.deleteH(-1,"codepoint")},delCharAfter:function(l){return l.deleteH(1,"char")},delWordBefore:function(l){return l.deleteH(-1,"word")},delWordAfter:function(l){return l.deleteH(1,"word")},delGroupBefore:function(l){return l.deleteH(-1,"group")},delGroupAfter:function(l){return l.deleteH(1,"group")},indentAuto:function(l){return l.indentSelection("smart")},indentMore:function(l){return l.indentSelection("add")},indentLess:function(l){return l.indentSelection("subtract")},insertTab:function(l){return l.replaceSelection("	")},insertSoftTab:function(l){for(var u=[],g=l.listSelections(),m=l.options.tabSize,_=0;_<g.length;_++){var O=g[_].from(),D=ge(l.getLine(O.line),O.ch,m);u.push(ot(m-D%m))}l.replaceSelections(u)},defaultTab:function(l){l.somethingSelected()?l.indentSelection("add"):l.execCommand("insertTab")},transposeChars:function(l){return ar(l,function(){for(var u=l.listSelections(),g=[],m=0;m<u.length;m++)if(u[m].empty()){var _=u[m].head,O=F(l.doc,_.line).text;if(O){if(_.ch==O.length&&(_=new qe(_.line,_.ch-1)),_.ch>0)_=new qe(_.line,_.ch+1),l.replaceRange(O.charAt(_.ch-1)+O.charAt(_.ch-2),qe(_.line,_.ch-2),_,"+transpose");else if(_.line>l.doc.first){var D=F(l.doc,_.line-1).text;D&&(_=new qe(_.line,1),l.replaceRange(O.charAt(0)+l.doc.lineSeparator()+D.charAt(D.length-1),qe(_.line-1,D.length-1),_,"+transpose"))}}g.push(new On(_,_))}l.setSelections(g)})},newlineAndIndent:function(l){return ar(l,function(){for(var u=l.listSelections(),g=u.length-1;g>=0;g--)l.replaceRange(l.doc.lineSeparator(),u[g].anchor,u[g].head,"+input");u=l.listSelections();for(var m=0;m<u.length;m++)l.indentLine(u[m].from().line,null,!0);Es(l)})},openLine:function(l){return l.replaceSelection(`
`,"start")},toggleOverwrite:function(l){return l.toggleOverwrite()}};function Yg(l,u){var g=F(l.doc,u),m=Jt(g);return m!=g&&(u=Rt(m)),mf(!0,l,m,u,1)}function uC(l,u){var g=F(l.doc,u),m=Gt(g);return m!=g&&(u=Rt(m)),mf(!0,l,g,u,-1)}function Qg(l,u){var g=Yg(l,u.line),m=F(l.doc,g.line),_=ie(m,l.doc.direction);if(!_||_[0].level==0){var O=Math.max(g.ch,m.text.search(/\S/)),D=u.line==g.line&&u.ch<=O&&u.ch;return qe(g.line,D?0:O,g.sticky)}return g}function kd(l,u,g){if(typeof u=="string"&&(u=nc[u],!u))return!1;l.display.input.ensurePolled();var m=l.display.shift,_=!1;try{l.isReadOnly()&&(l.state.suppressEdits=!0),g&&(l.display.shift=!1),_=u(l)!=Te}finally{l.display.shift=m,l.state.suppressEdits=!1}return _}function pC(l,u,g){for(var m=0;m<l.state.keyMaps.length;m++){var _=Rs(u,l.state.keyMaps[m],g,l);if(_)return _}return l.options.extraKeys&&Rs(u,l.options.extraKeys,g,l)||Rs(u,l.options.keyMap,g,l)}var fC=new ne;function ic(l,u,g,m){var _=l.state.keySeq;if(_){if(Kg(u))return"handled";if(/\'$/.test(u)?l.state.keySeq=null:fC.set(50,function(){l.state.keySeq==_&&(l.state.keySeq=null,l.display.input.reset())}),Xg(l,_+" "+u,g,m))return!0}return Xg(l,u,g,m)}function Xg(l,u,g,m){var _=pC(l,u,m);return _=="multi"&&(l.state.keySeq=u),_=="handled"&&Wn(l,"keyHandled",l,u,g),(_=="handled"||_=="multi")&&(Zt(g),Qp(l)),!!_}function Zg(l,u){var g=$g(u,!0);return g?u.shiftKey&&!l.state.keySeq?ic(l,"Shift-"+g,u,function(m){return kd(l,m,!0)})||ic(l,g,u,function(m){if(typeof m=="string"?/^go[A-Z]/.test(m):m.motion)return kd(l,m)}):ic(l,g,u,function(m){return kd(l,m)}):!1}function hC(l,u,g){return ic(l,"'"+g+"'",u,function(m){return kd(l,m,!0)})}var gf=null;function Jg(l){var u=this;if(!(l.target&&l.target!=u.display.input.getField())&&(u.curOp.focus=Z(),!mt(u,l))){s&&c<11&&l.keyCode==27&&(l.returnValue=!1);var g=l.keyCode;u.display.shift=g==16||l.shiftKey;var m=Zg(u,l);h&&(gf=m?g:null,!m&&g==88&&!Zn&&(M?l.metaKey:l.ctrlKey)&&u.replaceSelection("",null,"cut")),t&&!M&&!m&&g==46&&l.shiftKey&&!l.ctrlKey&&document.execCommand&&document.execCommand("cut"),g==18&&!/\bCodeMirror-crosshair\b/.test(u.display.lineDiv.className)&&mC(u)}}function mC(l){var u=l.display.lineDiv;te(u,"CodeMirror-crosshair");function g(m){(m.keyCode==18||!m.altKey)&&(R(u,"CodeMirror-crosshair"),yt(document,"keyup",g),yt(document,"mouseover",g))}Re(document,"keyup",g),Re(document,"mouseover",g)}function e1(l){l.keyCode==16&&(this.doc.sel.shift=!1),mt(this,l)}function t1(l){var u=this;if(!(l.target&&l.target!=u.display.input.getField())&&!(Dr(u.display,l)||mt(u,l)||l.ctrlKey&&!l.altKey||M&&l.metaKey)){var g=l.keyCode,m=l.charCode;if(h&&g==gf){gf=null,Zt(l);return}if(!(h&&(!l.which||l.which<10)&&Zg(u,l))){var _=String.fromCharCode(m??g);_!="\b"&&(hC(u,l,_)||u.display.input.onKeyPress(l))}}}var gC=400,vf=function(l,u,g){this.time=l,this.pos=u,this.button=g};vf.prototype.compare=function(l,u,g){return this.time+gC>l&&Lt(u,this.pos)==0&&g==this.button};var rc,oc;function vC(l,u){var g=+new Date;return oc&&oc.compare(g,l,u)?(rc=oc=null,"triple"):rc&&rc.compare(g,l,u)?(oc=new vf(g,l,u),rc=null,"double"):(rc=new vf(g,l,u),oc=null,"single")}function n1(l){var u=this,g=u.display;if(!(mt(u,l)||g.activeTouch&&g.input.supportsTouch())){if(g.input.ensurePolled(),g.shift=l.shiftKey,Dr(g,l)){d||(g.scroller.draggable=!1,setTimeout(function(){return g.scroller.draggable=!0},100));return}if(!_f(u,l)){var m=Ua(u,l),_=Ie(l),O=m?vC(m,_):"single";window.focus(),_==1&&u.state.selectingText&&u.state.selectingText(l),!(m&&_C(u,_,m,O,l))&&(_==1?m?bC(u,m,O,l):xe(l)==g.scroller&&Zt(l):_==2?(m&&Od(u.doc,m),setTimeout(function(){return g.input.focus()},20)):_==3&&(V?u.display.input.onContextMenu(l):Xp(u)))}}}function _C(l,u,g,m,_){var O="Click";return m=="double"?O="Double"+O:m=="triple"&&(O="Triple"+O),O=(u==1?"Left":u==2?"Middle":"Right")+O,ic(l,qg(O,_),_,function(D){if(typeof D=="string"&&(D=nc[D]),!D)return!1;var z=!1;try{l.isReadOnly()&&(l.state.suppressEdits=!0),z=D(l,g)!=Te}finally{l.state.suppressEdits=!1}return z})}function yC(l,u,g){var m=l.getOption("configureMouse"),_=m?m(l,u,g):{};if(_.unit==null){var O=y?g.shiftKey&&g.metaKey:g.altKey;_.unit=O?"rectangle":u=="single"?"char":u=="double"?"word":"line"}return(_.extend==null||l.doc.extend)&&(_.extend=l.doc.extend||g.shiftKey),_.addNew==null&&(_.addNew=M?g.metaKey:g.ctrlKey),_.moveOnDrag==null&&(_.moveOnDrag=!(M?g.altKey:g.ctrlKey)),_}function bC(l,u,g,m){s?setTimeout(Ge(ig,l),0):l.curOp.focus=Z();var _=yC(l,g,m),O=l.doc.sel,D;l.options.dragDrop&&Qe&&!l.isReadOnly()&&g=="single"&&(D=O.contains(u))>-1&&(Lt((D=O.ranges[D]).from(),u)<0||u.xRel>0)&&(Lt(D.to(),u)>0||u.xRel<0)?CC(l,m,u,_):xC(l,m,u,_)}function CC(l,u,g,m){var _=l.display,O=!1,D=ci(l,function(Q){d&&(_.scroller.draggable=!1),l.state.draggingText=!1,l.state.delayingBlurEvent&&(l.hasFocus()?l.state.delayingBlurEvent=!1:Xp(l)),yt(_.wrapper.ownerDocument,"mouseup",D),yt(_.wrapper.ownerDocument,"mousemove",z),yt(_.scroller,"dragstart",W),yt(_.scroller,"drop",D),O||(Zt(Q),m.addNew||Od(l.doc,g,null,null,m.extend),d&&!v||s&&c==9?setTimeout(function(){_.wrapper.ownerDocument.body.focus({preventScroll:!0}),_.input.focus()},20):_.input.focus())}),z=function(Q){O=O||Math.abs(u.clientX-Q.clientX)+Math.abs(u.clientY-Q.clientY)>=10},W=function(){return O=!0};d&&(_.scroller.draggable=!0),l.state.draggingText=D,D.copy=!m.moveOnDrag,Re(_.wrapper.ownerDocument,"mouseup",D),Re(_.wrapper.ownerDocument,"mousemove",z),Re(_.scroller,"dragstart",W),Re(_.scroller,"drop",D),l.state.delayingBlurEvent=!0,setTimeout(function(){return _.input.focus()},20),_.scroller.dragDrop&&_.scroller.dragDrop()}function i1(l,u,g){if(g=="char")return new On(u,u);if(g=="word")return l.findWordAt(u);if(g=="line")return new On(qe(u.line,0),dt(l.doc,qe(u.line+1,0)));var m=g(l,u);return new On(m.from,m.to)}function xC(l,u,g,m){s&&Xp(l);var _=l.display,O=l.doc;Zt(u);var D,z,W=O.sel,Q=W.ranges;if(m.addNew&&!m.extend?(z=O.sel.contains(g),z>-1?D=Q[z]:D=new On(g,g)):(D=O.sel.primary(),z=O.sel.primIndex),m.unit=="rectangle")m.addNew||(D=new On(g,g)),g=Ua(l,u,!0,!0),z=-1;else{var me=i1(l,g,m.unit);m.extend?D=uf(D,me.anchor,me.head,m.extend):D=me}m.addNew?z==-1?(z=Q.length,Si(O,$r(l,Q.concat([D]),z),{scroll:!1,origin:"*mouse"})):Q.length>1&&Q[z].empty()&&m.unit=="char"&&!m.extend?(Si(O,$r(l,Q.slice(0,z).concat(Q.slice(z+1)),0),{scroll:!1,origin:"*mouse"}),W=O.sel):pf(O,z,D,ze):(z=0,Si(O,new Cr([D],0),ze),W=O.sel);var be=g;function He(wt){if(Lt(be,wt)!=0)if(be=wt,m.unit=="rectangle"){for(var kt=[],Wt=l.options.tabSize,Ut=ge(F(O,g.line).text,g.ch,Wt),on=ge(F(O,wt.line).text,wt.ch,Wt),Ln=Math.min(Ut,on),ui=Math.max(Ut,on),Bn=Math.min(g.line,wt.line),sr=Math.min(l.lastLine(),Math.max(g.line,wt.line));Bn<=sr;Bn++){var zi=F(O,Bn).text,ei=oe(zi,Ln,Wt);Ln==ui?kt.push(new On(qe(Bn,ei),qe(Bn,ei))):zi.length>ei&&kt.push(new On(qe(Bn,ei),qe(Bn,oe(zi,ui,Wt))))}kt.length||kt.push(new On(g,g)),Si(O,$r(l,W.ranges.slice(0,z).concat(kt),z),{origin:"*mouse",scroll:!1}),l.scrollIntoView(wt)}else{var Bi=D,yi=i1(l,wt,m.unit),ai=Bi.anchor,ti;Lt(yi.anchor,ai)>0?(ti=yi.head,ai=$e(Bi.from(),yi.anchor)):(ti=yi.anchor,ai=ve(Bi.to(),yi.head));var Kn=W.ranges.slice(0);Kn[z]=wC(l,new On(dt(O,ai),ti)),Si(O,$r(l,Kn,z),ze)}}var De=_.wrapper.getBoundingClientRect(),Ye=0;function lt(wt){var kt=++Ye,Wt=Ua(l,wt,!0,m.unit=="rectangle");if(Wt)if(Lt(Wt,be)!=0){l.curOp.focus=Z(),He(Wt);var Ut=_d(_,O);(Wt.line>=Ut.to||Wt.line<Ut.from)&&setTimeout(ci(l,function(){Ye==kt&&lt(wt)}),150)}else{var on=wt.clientY<De.top?-20:wt.clientY>De.bottom?20:0;on&&setTimeout(ci(l,function(){Ye==kt&&(_.scroller.scrollTop+=on,lt(wt))}),50)}}function ht(wt){l.state.selectingText=!1,Ye=1/0,wt&&(Zt(wt),_.input.focus()),yt(_.wrapper.ownerDocument,"mousemove",xt),yt(_.wrapper.ownerDocument,"mouseup",St),O.history.lastSelOrigin=null}var xt=ci(l,function(wt){wt.buttons===0||!Ie(wt)?ht(wt):lt(wt)}),St=ci(l,ht);l.state.selectingText=St,Re(_.wrapper.ownerDocument,"mousemove",xt),Re(_.wrapper.ownerDocument,"mouseup",St)}function wC(l,u){var g=u.anchor,m=u.head,_=F(l.doc,g.line);if(Lt(g,m)==0&&g.sticky==m.sticky)return u;var O=ie(_);if(!O)return u;var D=ce(O,g.ch,g.sticky),z=O[D];if(z.from!=g.ch&&z.to!=g.ch)return u;var W=D+(z.from==g.ch==(z.level!=1)?0:1);if(W==0||W==O.length)return u;var Q;if(m.line!=g.line)Q=(m.line-g.line)*(l.doc.direction=="ltr"?1:-1)>0;else{var me=ce(O,m.ch,m.sticky),be=me-D||(m.ch-g.ch)*(z.level==1?-1:1);me==W-1||me==W?Q=be<0:Q=be>0}var He=O[W+(Q?-1:0)],De=Q==(He.level==1),Ye=De?He.from:He.to,lt=De?"after":"before";return g.ch==Ye&&g.sticky==lt?u:new On(new qe(g.line,Ye,lt),m)}function r1(l,u,g,m){var _,O;if(u.touches)_=u.touches[0].clientX,O=u.touches[0].clientY;else try{_=u.clientX,O=u.clientY}catch{return!1}if(_>=Math.floor(l.display.gutters.getBoundingClientRect().right))return!1;m&&Zt(u);var D=l.display,z=D.lineDiv.getBoundingClientRect();if(O>z.bottom||!Qt(l,g))return Rn(u);O-=z.top-D.viewOffset;for(var W=0;W<l.display.gutterSpecs.length;++W){var Q=D.gutters.childNodes[W];if(Q&&Q.getBoundingClientRect().right>=_){var me=Ft(l.doc,O),be=l.display.gutterSpecs[W];return bt(l,g,l,me,be.className,u),Rn(u)}}}function _f(l,u){return r1(l,u,"gutterClick",!0)}function o1(l,u){Dr(l.display,u)||OC(l,u)||mt(l,u,"contextmenu")||V||l.display.input.onContextMenu(u)}function OC(l,u){return Qt(l,"gutterContextMenu")?r1(l,u,"gutterContextMenu",!1):!1}function a1(l){l.display.wrapper.className=l.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+l.options.theme.replace(/(^|\s)\s*/g," cm-s-"),jl(l)}var Vs={toString:function(){return"CodeMirror.Init"}},s1={},Ad={};function PC(l){var u=l.optionHandlers;function g(m,_,O,D){l.defaults[m]=_,O&&(u[m]=D?function(z,W,Q){Q!=Vs&&O(z,W,Q)}:O)}l.defineOption=g,l.Init=Vs,g("value","",function(m,_){return m.setValue(_)},!0),g("mode",null,function(m,_){m.doc.modeOption=_,lf(m)},!0),g("indentUnit",2,lf,!0),g("indentWithTabs",!1),g("smartIndent",!0),g("tabSize",4,function(m){ql(m),jl(m),ji(m)},!0),g("lineSeparator",null,function(m,_){if(m.doc.lineSep=_,!!_){var O=[],D=m.doc.first;m.doc.iter(function(W){for(var Q=0;;){var me=W.text.indexOf(_,Q);if(me==-1)break;Q=me+_.length,O.push(qe(D,me))}D++});for(var z=O.length-1;z>=0;z--)Ns(m.doc,_,O[z],qe(O[z].line,O[z].ch+_.length))}}),g("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(m,_,O){m.state.specialChars=new RegExp(_.source+(_.test("	")?"":"|	"),"g"),O!=Vs&&m.refresh()}),g("specialCharPlaceholder",nd,function(m){return m.refresh()},!0),g("electricChars",!0),g("inputStyle",P?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),g("spellcheck",!1,function(m,_){return m.getInputField().spellcheck=_},!0),g("autocorrect",!1,function(m,_){return m.getInputField().autocorrect=_},!0),g("autocapitalize",!1,function(m,_){return m.getInputField().autocapitalize=_},!0),g("rtlMoveVisually",!A),g("wholeLineUpdateBefore",!0),g("theme","default",function(m){a1(m),Kl(m)},!0),g("keyMap","default",function(m,_,O){var D=Ed(_),z=O!=Vs&&Ed(O);z&&z.detach&&z.detach(m,D),D.attach&&D.attach(m,z||null)}),g("extraKeys",null),g("configureMouse",null),g("lineWrapping",!1,TC,!0),g("gutters",[],function(m,_){m.display.gutterSpecs=af(_,m.options.lineNumbers),Kl(m)},!0),g("fixedGutter",!0,function(m,_){m.display.gutters.style.left=_?$p(m.display)+"px":"0",m.refresh()},!0),g("coverGutterNextToScrollbar",!1,function(m){return ks(m)},!0),g("scrollbarStyle","native",function(m){cg(m),ks(m),m.display.scrollbars.setScrollTop(m.doc.scrollTop),m.display.scrollbars.setScrollLeft(m.doc.scrollLeft)},!0),g("lineNumbers",!1,function(m,_){m.display.gutterSpecs=af(m.options.gutters,_),Kl(m)},!0),g("firstLineNumber",1,Kl,!0),g("lineNumberFormatter",function(m){return m},Kl,!0),g("showCursorWhenSelecting",!1,Hl,!0),g("resetSelectionOnContextMenu",!0),g("lineWiseCopyCut",!0),g("pasteLinesPerSelection",!0),g("selectionsMayTouch",!1),g("readOnly",!1,function(m,_){_=="nocursor"&&(Ss(m),m.display.input.blur()),m.display.input.readOnlyChanged(_)}),g("screenReaderLabel",null,function(m,_){_=_===""?null:_,m.display.input.screenReaderLabelChanged(_)}),g("disableInput",!1,function(m,_){_||m.display.input.reset()},!0),g("dragDrop",!0,MC),g("allowDropFileTypes",null),g("cursorBlinkRate",530),g("cursorScrollMargin",0),g("cursorHeight",1,Hl,!0),g("singleCursorHeightPerLine",!0,Hl,!0),g("workTime",100),g("workDelay",100),g("flattenSpans",!0,ql,!0),g("addModeClass",!1,ql,!0),g("pollInterval",100),g("undoDepth",200,function(m,_){return m.doc.history.undoDepth=_}),g("historyEventDelay",1250),g("viewportMargin",10,function(m){return m.refresh()},!0),g("maxHighlightLength",1e4,ql,!0),g("moveInputWithCursor",!0,function(m,_){_||m.display.input.resetPosition()}),g("tabindex",null,function(m,_){return m.display.input.getField().tabIndex=_||""}),g("autofocus",null),g("direction","ltr",function(m,_){return m.doc.setDirection(_)},!0),g("phrases",null)}function MC(l,u,g){var m=g&&g!=Vs;if(!u!=!m){var _=l.display.dragFunctions,O=u?Re:yt;O(l.display.scroller,"dragstart",_.start),O(l.display.scroller,"dragenter",_.enter),O(l.display.scroller,"dragover",_.over),O(l.display.scroller,"dragleave",_.leave),O(l.display.scroller,"drop",_.drop)}}function TC(l){l.options.lineWrapping?(te(l.display.wrapper,"CodeMirror-wrap"),l.display.sizer.style.minWidth="",l.display.sizerWidth=null):(R(l.display.wrapper,"CodeMirror-wrap"),Xo(l)),Yp(l),ji(l),jl(l),setTimeout(function(){return ks(l)},100)}function Hn(l,u){var g=this;if(!(this instanceof Hn))return new Hn(l,u);this.options=u=u?we(u):{},we(s1,u,!1);var m=u.value;typeof m=="string"?m=new Hi(m,u.mode,null,u.lineSeparator,u.direction):u.mode&&(m.modeOption=u.mode),this.doc=m;var _=new Hn.inputStyles[u.inputStyle](this),O=this.display=new Hb(l,m,_,u);O.wrapper.CodeMirror=this,a1(this),u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),cg(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ne,keySeq:null,specialChars:null},u.autofocus&&!P&&O.input.focus(),s&&c<11&&setTimeout(function(){return g.display.input.reset(!0)},20),SC(this),oC(),qa(this),this.curOp.forceUpdate=!0,yg(this,m),u.autofocus&&!P||this.hasFocus()?setTimeout(function(){g.hasFocus()&&!g.state.focused&&Zp(g)},20):Ss(this);for(var D in Ad)Ad.hasOwnProperty(D)&&Ad[D](this,u[D],Vs);pg(this),u.finishInit&&u.finishInit(this);for(var z=0;z<yf.length;++z)yf[z](this);$a(this),d&&u.lineWrapping&&getComputedStyle(O.lineDiv).textRendering=="optimizelegibility"&&(O.lineDiv.style.textRendering="auto")}Hn.defaults=s1,Hn.optionHandlers=Ad;function SC(l){var u=l.display;Re(u.scroller,"mousedown",ci(l,n1)),s&&c<11?Re(u.scroller,"dblclick",ci(l,function(W){if(!mt(l,W)){var Q=Ua(l,W);if(!(!Q||_f(l,W)||Dr(l.display,W))){Zt(W);var me=l.findWordAt(Q);Od(l.doc,me.anchor,me.head)}}})):Re(u.scroller,"dblclick",function(W){return mt(l,W)||Zt(W)}),Re(u.scroller,"contextmenu",function(W){return o1(l,W)}),Re(u.input.getField(),"contextmenu",function(W){u.scroller.contains(W.target)||o1(l,W)});var g,m={end:0};function _(){u.activeTouch&&(g=setTimeout(function(){return u.activeTouch=null},1e3),m=u.activeTouch,m.end=+new Date)}function O(W){if(W.touches.length!=1)return!1;var Q=W.touches[0];return Q.radiusX<=1&&Q.radiusY<=1}function D(W,Q){if(Q.left==null)return!0;var me=Q.left-W.left,be=Q.top-W.top;return me*me+be*be>400}Re(u.scroller,"touchstart",function(W){if(!mt(l,W)&&!O(W)&&!_f(l,W)){u.input.ensurePolled(),clearTimeout(g);var Q=+new Date;u.activeTouch={start:Q,moved:!1,prev:Q-m.end<=300?m:null},W.touches.length==1&&(u.activeTouch.left=W.touches[0].pageX,u.activeTouch.top=W.touches[0].pageY)}}),Re(u.scroller,"touchmove",function(){u.activeTouch&&(u.activeTouch.moved=!0)}),Re(u.scroller,"touchend",function(W){var Q=u.activeTouch;if(Q&&!Dr(u,W)&&Q.left!=null&&!Q.moved&&new Date-Q.start<300){var me=l.coordsChar(u.activeTouch,"page"),be;!Q.prev||D(Q,Q.prev)?be=new On(me,me):!Q.prev.prev||D(Q,Q.prev.prev)?be=l.findWordAt(me):be=new On(qe(me.line,0),dt(l.doc,qe(me.line+1,0))),l.setSelection(be.anchor,be.head),l.focus(),Zt(W)}_()}),Re(u.scroller,"touchcancel",_),Re(u.scroller,"scroll",function(){u.scroller.clientHeight&&(Bl(l,u.scroller.scrollTop),Wa(l,u.scroller.scrollLeft,!0),bt(l,"scroll",l))}),Re(u.scroller,"mousewheel",function(W){return mg(l,W)}),Re(u.scroller,"DOMMouseScroll",function(W){return mg(l,W)}),Re(u.wrapper,"scroll",function(){return u.wrapper.scrollTop=u.wrapper.scrollLeft=0}),u.dragFunctions={enter:function(W){mt(l,W)||se(W)},over:function(W){mt(l,W)||(rC(l,W),se(W))},start:function(W){return iC(l,W)},drop:ci(l,nC),leave:function(W){mt(l,W)||Ug(l)}};var z=u.input.getField();Re(z,"keyup",function(W){return e1.call(l,W)}),Re(z,"keydown",ci(l,Jg)),Re(z,"keypress",ci(l,t1)),Re(z,"focus",function(W){return Zp(l,W)}),Re(z,"blur",function(W){return Ss(l,W)})}var yf=[];Hn.defineInitHook=function(l){return yf.push(l)};function ac(l,u,g,m){var _=l.doc,O;g==null&&(g="add"),g=="smart"&&(_.mode.indent?O=Vi(l,u).state:g="prev");var D=l.options.tabSize,z=F(_,u),W=ge(z.text,null,D);z.stateAfter&&(z.stateAfter=null);var Q=z.text.match(/^\s*/)[0],me;if(!m&&!/\S/.test(z.text))me=0,g="not";else if(g=="smart"&&(me=_.mode.indent(O,z.text.slice(Q.length),z.text),me==Te||me>150)){if(!m)return;g="prev"}g=="prev"?u>_.first?me=ge(F(_,u-1).text,null,D):me=0:g=="add"?me=W+l.options.indentUnit:g=="subtract"?me=W-l.options.indentUnit:typeof g=="number"&&(me=W+g),me=Math.max(0,me);var be="",He=0;if(l.options.indentWithTabs)for(var De=Math.floor(me/D);De;--De)He+=D,be+="	";if(He<me&&(be+=ot(me-He)),be!=Q)return Ns(_,be,qe(u,0),qe(u,Q.length),"+input"),z.stateAfter=null,!0;for(var Ye=0;Ye<_.sel.ranges.length;Ye++){var lt=_.sel.ranges[Ye];if(lt.head.line==u&&lt.head.ch<Q.length){var ht=qe(u,Q.length);pf(_,Ye,new On(ht,ht));break}}}var Yr=null;function Id(l){Yr=l}function bf(l,u,g,m,_){var O=l.doc;l.display.shift=!1,m||(m=O.sel);var D=+new Date-200,z=_=="paste"||l.state.pasteIncoming>D,W=gn(u),Q=null;if(z&&m.ranges.length>1)if(Yr&&Yr.text.join(`
`)==u){if(m.ranges.length%Yr.text.length==0){Q=[];for(var me=0;me<Yr.text.length;me++)Q.push(O.splitLines(Yr.text[me]))}}else W.length==m.ranges.length&&l.options.pasteLinesPerSelection&&(Q=Je(W,function(xt){return[xt]}));for(var be=l.curOp.updateInput,He=m.ranges.length-1;He>=0;He--){var De=m.ranges[He],Ye=De.from(),lt=De.to();De.empty()&&(g&&g>0?Ye=qe(Ye.line,Ye.ch-g):l.state.overwrite&&!z?lt=qe(lt.line,Math.min(F(O,lt.line).text.length,lt.ch+_e(W).length)):z&&Yr&&Yr.lineWise&&Yr.text.join(`
`)==W.join(`
`)&&(Ye=lt=qe(Ye.line,0)));var ht={from:Ye,to:lt,text:Q?Q[He%Q.length]:W,origin:_||(z?"paste":l.state.cutIncoming>D?"cut":"+input")};Ls(l.doc,ht),Wn(l,"inputRead",l,ht)}u&&!z&&c1(l,u),Es(l),l.curOp.updateInput<2&&(l.curOp.updateInput=be),l.curOp.typing=!0,l.state.pasteIncoming=l.state.cutIncoming=-1}function l1(l,u){var g=l.clipboardData&&l.clipboardData.getData("Text");if(g)return l.preventDefault(),!u.isReadOnly()&&!u.options.disableInput&&ar(u,function(){return bf(u,g,0,null,"paste")}),!0}function c1(l,u){if(!(!l.options.electricChars||!l.options.smartIndent))for(var g=l.doc.sel,m=g.ranges.length-1;m>=0;m--){var _=g.ranges[m];if(!(_.head.ch>100||m&&g.ranges[m-1].head.line==_.head.line)){var O=l.getModeAt(_.head),D=!1;if(O.electricChars){for(var z=0;z<O.electricChars.length;z++)if(u.indexOf(O.electricChars.charAt(z))>-1){D=ac(l,_.head.line,"smart");break}}else O.electricInput&&O.electricInput.test(F(l.doc,_.head.line).text.slice(0,_.head.ch))&&(D=ac(l,_.head.line,"smart"));D&&Wn(l,"electricInput",l,_.head.line)}}}function d1(l){for(var u=[],g=[],m=0;m<l.doc.sel.ranges.length;m++){var _=l.doc.sel.ranges[m].head.line,O={anchor:qe(_,0),head:qe(_+1,0)};g.push(O),u.push(l.getRange(O.anchor,O.head))}return{text:u,ranges:g}}function u1(l,u,g,m){l.setAttribute("autocorrect",g?"":"off"),l.setAttribute("autocapitalize",m?"":"off"),l.setAttribute("spellcheck",!!u)}function p1(){var l=G("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),u=G("div",[l],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return d?l.style.width="1000px":l.setAttribute("wrap","off"),x&&(l.style.border="1px solid black"),u1(l),u}function EC(l){var u=l.optionHandlers,g=l.helpers={};l.prototype={constructor:l,focus:function(){window.focus(),this.display.input.focus()},setOption:function(m,_){var O=this.options,D=O[m];O[m]==_&&m!="mode"||(O[m]=_,u.hasOwnProperty(m)&&ci(this,u[m])(this,_,D),bt(this,"optionChange",this,m))},getOption:function(m){return this.options[m]},getDoc:function(){return this.doc},addKeyMap:function(m,_){this.state.keyMaps[_?"push":"unshift"](Ed(m))},removeKeyMap:function(m){for(var _=this.state.keyMaps,O=0;O<_.length;++O)if(_[O]==m||_[O].name==m)return _.splice(O,1),!0},addOverlay:Li(function(m,_){var O=m.token?m:l.getMode(this.options,m);if(O.startState)throw new Error("Overlays may not be stateful.");ut(this.state.overlays,{mode:O,modeSpec:m,opaque:_&&_.opaque,priority:_&&_.priority||0},function(D){return D.priority}),this.state.modeGen++,ji(this)}),removeOverlay:Li(function(m){for(var _=this.state.overlays,O=0;O<_.length;++O){var D=_[O].modeSpec;if(D==m||typeof m=="string"&&D.name==m){_.splice(O,1),this.state.modeGen++,ji(this);return}}}),indentLine:Li(function(m,_,O){typeof _!="string"&&typeof _!="number"&&(_==null?_=this.options.smartIndent?"smart":"prev":_=_?"add":"subtract"),Nt(this.doc,m)&&ac(this,m,_,O)}),indentSelection:Li(function(m){for(var _=this.doc.sel.ranges,O=-1,D=0;D<_.length;D++){var z=_[D];if(z.empty())z.head.line>O&&(ac(this,z.head.line,m,!0),O=z.head.line,D==this.doc.sel.primIndex&&Es(this));else{var W=z.from(),Q=z.to(),me=Math.max(O,W.line);O=Math.min(this.lastLine(),Q.line-(Q.ch?0:1))+1;for(var be=me;be<O;++be)ac(this,be,m);var He=this.doc.sel.ranges;W.ch==0&&_.length==He.length&&He[D].from().ch>0&&pf(this.doc,D,new On(W,He[D].to()),Ne)}}}),getTokenAt:function(m,_){return Fa(this,m,_)},getLineTokens:function(m,_){return Fa(this,qe(m),_,!0)},getTokenTypeAt:function(m){m=dt(this.doc,m);var _=gr(this,F(this.doc,m.line)),O=0,D=(_.length-1)/2,z=m.ch,W;if(z==0)W=_[2];else for(;;){var Q=O+D>>1;if((Q?_[Q*2-1]:0)>=z)D=Q;else if(_[Q*2+1]<z)O=Q+1;else{W=_[Q*2+2];break}}var me=W?W.indexOf("overlay "):-1;return me<0?W:me==0?null:W.slice(0,me-1)},getModeAt:function(m){var _=this.doc.mode;return _.innerMode?l.innerMode(_,this.getTokenAt(m).state).mode:_},getHelper:function(m,_){return this.getHelpers(m,_)[0]},getHelpers:function(m,_){var O=[];if(!g.hasOwnProperty(_))return O;var D=g[_],z=this.getModeAt(m);if(typeof z[_]=="string")D[z[_]]&&O.push(D[z[_]]);else if(z[_])for(var W=0;W<z[_].length;W++){var Q=D[z[_][W]];Q&&O.push(Q)}else z.helperType&&D[z.helperType]?O.push(D[z.helperType]):D[z.name]&&O.push(D[z.name]);for(var me=0;me<D._global.length;me++){var be=D._global[me];be.pred(z,this)&&he(O,be.val)==-1&&O.push(be.val)}return O},getStateAfter:function(m,_){var O=this.doc;return m=ct(O,m??O.first+O.size-1),Vi(this,m+1,_).state},cursorCoords:function(m,_){var O,D=this.doc.sel.primary();return m==null?O=D.head:typeof m=="object"?O=dt(this.doc,m):O=m?D.from():D.to(),qr(this,O,_||"page")},charCoords:function(m,_){return hd(this,dt(this.doc,m),_||"page")},coordsChar:function(m,_){return m=Ym(this,m,_||"page"),Wp(this,m.left,m.top)},lineAtHeight:function(m,_){return m=Ym(this,{top:m,left:0},_||"page").top,Ft(this.doc,m+this.display.viewOffset)},heightAtLine:function(m,_,O){var D=!1,z;if(typeof m=="number"){var W=this.doc.first+this.doc.size-1;m<this.doc.first?m=this.doc.first:m>W&&(m=W,D=!0),z=F(this.doc,m)}else z=m;return fd(this,z,{top:0,left:0},_||"page",O||D).top+(D?this.doc.height-rr(z):0)},defaultTextHeight:function(){return Ms(this.display)},defaultCharWidth:function(){return Ts(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(m,_,O,D,z){var W=this.display;m=qr(this,dt(this.doc,m));var Q=m.bottom,me=m.left;if(_.style.position="absolute",_.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(_),W.sizer.appendChild(_),D=="over")Q=m.top;else if(D=="above"||D=="near"){var be=Math.max(W.wrapper.clientHeight,this.doc.height),He=Math.max(W.sizer.clientWidth,W.lineSpace.clientWidth);(D=="above"||m.bottom+_.offsetHeight>be)&&m.top>_.offsetHeight?Q=m.top-_.offsetHeight:m.bottom+_.offsetHeight<=be&&(Q=m.bottom),me+_.offsetWidth>He&&(me=He-_.offsetWidth)}_.style.top=Q+"px",_.style.left=_.style.right="",z=="right"?(me=W.sizer.clientWidth-_.offsetWidth,_.style.right="0px"):(z=="left"?me=0:z=="middle"&&(me=(W.sizer.clientWidth-_.offsetWidth)/2),_.style.left=me+"px"),O&&Mb(this,{left:me,top:Q,right:me+_.offsetWidth,bottom:Q+_.offsetHeight})},triggerOnKeyDown:Li(Jg),triggerOnKeyPress:Li(t1),triggerOnKeyUp:e1,triggerOnMouseDown:Li(n1),execCommand:function(m){if(nc.hasOwnProperty(m))return nc[m].call(null,this)},triggerElectric:Li(function(m){c1(this,m)}),findPosH:function(m,_,O,D){var z=1;_<0&&(z=-1,_=-_);for(var W=dt(this.doc,m),Q=0;Q<_&&(W=Cf(this.doc,W,z,O,D),!W.hitSide);++Q);return W},moveH:Li(function(m,_){var O=this;this.extendSelectionsBy(function(D){return O.display.shift||O.doc.extend||D.empty()?Cf(O.doc,D.head,m,_,O.options.rtlMoveVisually):m<0?D.from():D.to()},ke)}),deleteH:Li(function(m,_){var O=this.doc.sel,D=this.doc;O.somethingSelected()?D.replaceSelection("",null,"+delete"):Fs(this,function(z){var W=Cf(D,z.head,m,_,!1);return m<0?{from:W,to:z.head}:{from:z.head,to:W}})}),findPosV:function(m,_,O,D){var z=1,W=D;_<0&&(z=-1,_=-_);for(var Q=dt(this.doc,m),me=0;me<_;++me){var be=qr(this,Q,"div");if(W==null?W=be.left:be.left=W,Q=f1(this,be,z,O),Q.hitSide)break}return Q},moveV:Li(function(m,_){var O=this,D=this.doc,z=[],W=!this.display.shift&&!D.extend&&D.sel.somethingSelected();if(D.extendSelectionsBy(function(me){if(W)return m<0?me.from():me.to();var be=qr(O,me.head,"div");me.goalColumn!=null&&(be.left=me.goalColumn),z.push(be.left);var He=f1(O,be,m,_);return _=="page"&&me==D.sel.primary()&&ef(O,hd(O,He,"div").top-be.top),He},ke),z.length)for(var Q=0;Q<D.sel.ranges.length;Q++)D.sel.ranges[Q].goalColumn=z[Q]}),findWordAt:function(m){var _=this.doc,O=F(_,m.line).text,D=m.ch,z=m.ch;if(O){var W=this.getHelper(m,"wordChars");(m.sticky=="before"||z==O.length)&&D?--D:++z;for(var Q=O.charAt(D),me=Ee(Q,W)?function(be){return Ee(be,W)}:/\s/.test(Q)?function(be){return/\s/.test(be)}:function(be){return!/\s/.test(be)&&!Ee(be)};D>0&&me(O.charAt(D-1));)--D;for(;z<O.length&&me(O.charAt(z));)++z}return new On(qe(m.line,D),qe(m.line,z))},toggleOverwrite:function(m){m!=null&&m==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?te(this.display.cursorDiv,"CodeMirror-overwrite"):R(this.display.cursorDiv,"CodeMirror-overwrite"),bt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Z()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Li(function(m,_){zl(this,m,_)}),getScrollInfo:function(){var m=this.display.scroller;return{left:m.scrollLeft,top:m.scrollTop,height:m.scrollHeight-or(this)-this.display.barHeight,width:m.scrollWidth-or(this)-this.display.barWidth,clientHeight:$(this),clientWidth:Ao(this)}},scrollIntoView:Li(function(m,_){m==null?(m={from:this.doc.sel.primary().head,to:null},_==null&&(_=this.options.cursorScrollMargin)):typeof m=="number"?m={from:qe(m,0),to:null}:m.from==null&&(m={from:m,to:null}),m.to||(m.to=m.from),m.margin=_||0,m.from.line!=null?Tb(this,m):og(this,m.from,m.to,m.margin)}),setSize:Li(function(m,_){var O=this,D=function(W){return typeof W=="number"||/^\d+$/.test(String(W))?W+"px":W};m!=null&&(this.display.wrapper.style.width=D(m)),_!=null&&(this.display.wrapper.style.height=D(_)),this.options.lineWrapping&&Km(this);var z=this.display.viewFrom;this.doc.iter(z,this.display.viewTo,function(W){if(W.widgets){for(var Q=0;Q<W.widgets.length;Q++)if(W.widgets[Q].noHScroll){oa(O,z,"widget");break}}++z}),this.curOp.forceUpdate=!0,bt(this,"refresh",this)}),operation:function(m){return ar(this,m)},startOperation:function(){return qa(this)},endOperation:function(){return $a(this)},refresh:Li(function(){var m=this.display.cachedTextHeight;ji(this),this.curOp.forceUpdate=!0,jl(this),zl(this,this.doc.scrollLeft,this.doc.scrollTop),rf(this.display),(m==null||Math.abs(m-Ms(this.display))>.5||this.options.lineWrapping)&&Yp(this),bt(this,"refresh",this)}),swapDoc:Li(function(m){var _=this.doc;return _.cm=null,this.state.selectingText&&this.state.selectingText(),yg(this,m),jl(this),this.display.input.reset(),zl(this,m.scrollLeft,m.scrollTop),this.curOp.forceScroll=!0,Wn(this,"swapDoc",this,_),_}),phrase:function(m){var _=this.options.phrases;return _&&Object.prototype.hasOwnProperty.call(_,m)?_[m]:m},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},$t(l),l.registerHelper=function(m,_,O){g.hasOwnProperty(m)||(g[m]=l[m]={_global:[]}),g[m][_]=O},l.registerGlobalHelper=function(m,_,O,D){l.registerHelper(m,_,D),g[m]._global.push({pred:O,val:D})}}function Cf(l,u,g,m,_){var O=u,D=g,z=F(l,u.line),W=_&&l.direction=="rtl"?-g:g;function Q(){var St=u.line+W;return St<l.first||St>=l.first+l.size?!1:(u=new qe(St,u.ch,u.sticky),z=F(l,St))}function me(St){var wt;if(m=="codepoint"){var kt=z.text.charCodeAt(u.ch+(g>0?0:-1));if(isNaN(kt))wt=null;else{var Wt=g>0?kt>=55296&&kt<56320:kt>=56320&&kt<57343;wt=new qe(u.line,Math.max(0,Math.min(z.text.length,u.ch+g*(Wt?2:1))),-g)}}else _?wt=dC(l.cm,z,u,g):wt=hf(z,u,g);if(wt==null)if(!St&&Q())u=mf(_,l.cm,z,u.line,W);else return!1;else u=wt;return!0}if(m=="char"||m=="codepoint")me();else if(m=="column")me(!0);else if(m=="word"||m=="group")for(var be=null,He=m=="group",De=l.cm&&l.cm.getHelper(u,"wordChars"),Ye=!0;!(g<0&&!me(!Ye));Ye=!1){var lt=z.text.charAt(u.ch)||`
`,ht=Ee(lt,De)?"w":He&&lt==`
`?"n":!He||/\s/.test(lt)?null:"p";if(He&&!Ye&&!ht&&(ht="s"),be&&be!=ht){g<0&&(g=1,me(),u.sticky="after");break}if(ht&&(be=ht),g>0&&!me(!Ye))break}var xt=Md(l,u,O,D,!0);return Mn(O,xt)&&(xt.hitSide=!0),xt}function f1(l,u,g,m){var _=l.doc,O=u.left,D;if(m=="page"){var z=Math.min(l.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),W=Math.max(z-.5*Ms(l.display),3);D=(g>0?u.bottom:u.top)+g*W}else m=="line"&&(D=g>0?u.bottom+3:u.top-3);for(var Q;Q=Wp(l,O,D),!!Q.outside;){if(g<0?D<=0:D>=_.height){Q.hitSide=!0;break}D+=g*5}return Q}var An=function(l){this.cm=l,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ne,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};An.prototype.init=function(l){var u=this,g=this,m=g.cm,_=g.div=l.lineDiv;_.contentEditable=!0,u1(_,m.options.spellcheck,m.options.autocorrect,m.options.autocapitalize);function O(z){for(var W=z.target;W;W=W.parentNode){if(W==_)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(W.className))break}return!1}Re(_,"paste",function(z){!O(z)||mt(m,z)||l1(z,m)||c<=11&&setTimeout(ci(m,function(){return u.updateFromDOM()}),20)}),Re(_,"compositionstart",function(z){u.composing={data:z.data,done:!1}}),Re(_,"compositionupdate",function(z){u.composing||(u.composing={data:z.data,done:!1})}),Re(_,"compositionend",function(z){u.composing&&(z.data!=u.composing.data&&u.readFromDOMSoon(),u.composing.done=!0)}),Re(_,"touchstart",function(){return g.forceCompositionEnd()}),Re(_,"input",function(){u.composing||u.readFromDOMSoon()});function D(z){if(!(!O(z)||mt(m,z))){if(m.somethingSelected())Id({lineWise:!1,text:m.getSelections()}),z.type=="cut"&&m.replaceSelection("",null,"cut");else if(m.options.lineWiseCopyCut){var W=d1(m);Id({lineWise:!0,text:W.text}),z.type=="cut"&&m.operation(function(){m.setSelections(W.ranges,0,Ne),m.replaceSelection("",null,"cut")})}else return;if(z.clipboardData){z.clipboardData.clearData();var Q=Yr.text.join(`
`);if(z.clipboardData.setData("Text",Q),z.clipboardData.getData("Text")==Q){z.preventDefault();return}}var me=p1(),be=me.firstChild;m.display.lineSpace.insertBefore(me,m.display.lineSpace.firstChild),be.value=Yr.text.join(`
`);var He=Z();Fe(be),setTimeout(function(){m.display.lineSpace.removeChild(me),He.focus(),He==_&&g.showPrimarySelection()},50)}}Re(_,"copy",D),Re(_,"cut",D)},An.prototype.screenReaderLabelChanged=function(l){l?this.div.setAttribute("aria-label",l):this.div.removeAttribute("aria-label")},An.prototype.prepareSelection=function(){var l=tg(this.cm,!1);return l.focus=Z()==this.div,l},An.prototype.showSelection=function(l,u){!l||!this.cm.display.view.length||((l.focus||u)&&this.showPrimarySelection(),this.showMultipleSelections(l))},An.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},An.prototype.showPrimarySelection=function(){var l=this.getSelection(),u=this.cm,g=u.doc.sel.primary(),m=g.from(),_=g.to();if(u.display.viewTo==u.display.viewFrom||m.line>=u.display.viewTo||_.line<u.display.viewFrom){l.removeAllRanges();return}var O=Ld(u,l.anchorNode,l.anchorOffset),D=Ld(u,l.focusNode,l.focusOffset);if(!(O&&!O.bad&&D&&!D.bad&&Lt($e(O,D),m)==0&&Lt(ve(O,D),_)==0)){var z=u.display.view,W=m.line>=u.display.viewFrom&&h1(u,m)||{node:z[0].measure.map[2],offset:0},Q=_.line<u.display.viewTo&&h1(u,_);if(!Q){var me=z[z.length-1].measure,be=me.maps?me.maps[me.maps.length-1]:me.map;Q={node:be[be.length-1],offset:be[be.length-2]-be[be.length-3]}}if(!W||!Q){l.removeAllRanges();return}var He=l.rangeCount&&l.getRangeAt(0),De;try{De=J(W.node,W.offset,Q.offset,Q.node)}catch{}De&&(!t&&u.state.focused?(l.collapse(W.node,W.offset),De.collapsed||(l.removeAllRanges(),l.addRange(De))):(l.removeAllRanges(),l.addRange(De)),He&&l.anchorNode==null?l.addRange(He):t&&this.startGracePeriod()),this.rememberSelection()}},An.prototype.startGracePeriod=function(){var l=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){l.gracePeriod=!1,l.selectionChanged()&&l.cm.operation(function(){return l.cm.curOp.selectionChanged=!0})},20)},An.prototype.showMultipleSelections=function(l){I(this.cm.display.cursorDiv,l.cursors),I(this.cm.display.selectionDiv,l.selection)},An.prototype.rememberSelection=function(){var l=this.getSelection();this.lastAnchorNode=l.anchorNode,this.lastAnchorOffset=l.anchorOffset,this.lastFocusNode=l.focusNode,this.lastFocusOffset=l.focusOffset},An.prototype.selectionInEditor=function(){var l=this.getSelection();if(!l.rangeCount)return!1;var u=l.getRangeAt(0).commonAncestorContainer;return E(this.div,u)},An.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Z()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},An.prototype.blur=function(){this.div.blur()},An.prototype.getField=function(){return this.div},An.prototype.supportsTouch=function(){return!0},An.prototype.receivedFocus=function(){var l=this,u=this;this.selectionInEditor()?setTimeout(function(){return l.pollSelection()},20):ar(this.cm,function(){return u.cm.curOp.selectionChanged=!0});function g(){u.cm.state.focused&&(u.pollSelection(),u.polling.set(u.cm.options.pollInterval,g))}this.polling.set(this.cm.options.pollInterval,g)},An.prototype.selectionChanged=function(){var l=this.getSelection();return l.anchorNode!=this.lastAnchorNode||l.anchorOffset!=this.lastAnchorOffset||l.focusNode!=this.lastFocusNode||l.focusOffset!=this.lastFocusOffset},An.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var l=this.getSelection(),u=this.cm;if(w&&f&&this.cm.display.gutterSpecs.length&&kC(l.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var g=Ld(u,l.anchorNode,l.anchorOffset),m=Ld(u,l.focusNode,l.focusOffset);g&&m&&ar(u,function(){Si(u.doc,sa(g,m),Ne),(g.bad||m.bad)&&(u.curOp.selectionChanged=!0)})}}},An.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var l=this.cm,u=l.display,g=l.doc.sel.primary(),m=g.from(),_=g.to();if(m.ch==0&&m.line>l.firstLine()&&(m=qe(m.line-1,F(l.doc,m.line-1).length)),_.ch==F(l.doc,_.line).text.length&&_.line<l.lastLine()&&(_=qe(_.line+1,0)),m.line<u.viewFrom||_.line>u.viewTo-1)return!1;var O,D,z;m.line==u.viewFrom||(O=Ga(l,m.line))==0?(D=Rt(u.view[0].line),z=u.view[0].node):(D=Rt(u.view[O].line),z=u.view[O-1].node.nextSibling);var W=Ga(l,_.line),Q,me;if(W==u.view.length-1?(Q=u.viewTo-1,me=u.lineDiv.lastChild):(Q=Rt(u.view[W+1].line)-1,me=u.view[W+1].node.previousSibling),!z)return!1;for(var be=l.doc.splitLines(AC(l,z,me,D,Q)),He=ue(l.doc,qe(D,0),qe(Q,F(l.doc,Q).text.length));be.length>1&&He.length>1;)if(_e(be)==_e(He))be.pop(),He.pop(),Q--;else if(be[0]==He[0])be.shift(),He.shift(),D++;else break;for(var De=0,Ye=0,lt=be[0],ht=He[0],xt=Math.min(lt.length,ht.length);De<xt&&lt.charCodeAt(De)==ht.charCodeAt(De);)++De;for(var St=_e(be),wt=_e(He),kt=Math.min(St.length-(be.length==1?De:0),wt.length-(He.length==1?De:0));Ye<kt&&St.charCodeAt(St.length-Ye-1)==wt.charCodeAt(wt.length-Ye-1);)++Ye;if(be.length==1&&He.length==1&&D==m.line)for(;De&&De>m.ch&&St.charCodeAt(St.length-Ye-1)==wt.charCodeAt(wt.length-Ye-1);)De--,Ye++;be[be.length-1]=St.slice(0,St.length-Ye).replace(/^\u200b+/,""),be[0]=be[0].slice(De).replace(/\u200b+$/,"");var Wt=qe(D,De),Ut=qe(Q,He.length?_e(He).length-Ye:0);if(be.length>1||be[0]||Lt(Wt,Ut))return Ns(l.doc,be,Wt,Ut,"+input"),!0},An.prototype.ensurePolled=function(){this.forceCompositionEnd()},An.prototype.reset=function(){this.forceCompositionEnd()},An.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},An.prototype.readFromDOMSoon=function(){var l=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(l.readDOMTimeout=null,l.composing)if(l.composing.done)l.composing=null;else return;l.updateFromDOM()},80))},An.prototype.updateFromDOM=function(){var l=this;(this.cm.isReadOnly()||!this.pollContent())&&ar(this.cm,function(){return ji(l.cm)})},An.prototype.setUneditable=function(l){l.contentEditable="false"},An.prototype.onKeyPress=function(l){l.charCode==0||this.composing||(l.preventDefault(),this.cm.isReadOnly()||ci(this.cm,bf)(this.cm,String.fromCharCode(l.charCode==null?l.keyCode:l.charCode),0))},An.prototype.readOnlyChanged=function(l){this.div.contentEditable=String(l!="nocursor")},An.prototype.onContextMenu=function(){},An.prototype.resetPosition=function(){},An.prototype.needsContentAttribute=!0;function h1(l,u){var g=Ve(l,u.line);if(!g||g.hidden)return null;var m=F(l.doc,u.line),_=ye(g,m,u.line),O=ie(m,l.doc.direction),D="left";if(O){var z=ce(O,u.ch);D=z%2?"right":"left"}var W=Xt(_.map,u.ch,D);return W.offset=W.collapse=="right"?W.end:W.start,W}function kC(l){for(var u=l;u;u=u.parentNode)if(/CodeMirror-gutter-wrapper/.test(u.className))return!0;return!1}function js(l,u){return u&&(l.bad=!0),l}function AC(l,u,g,m,_){var O="",D=!1,z=l.doc.lineSeparator(),W=!1;function Q(De){return function(Ye){return Ye.id==De}}function me(){D&&(O+=z,W&&(O+=z),D=W=!1)}function be(De){De&&(me(),O+=De)}function He(De){if(De.nodeType==1){var Ye=De.getAttribute("cm-text");if(Ye){be(Ye);return}var lt=De.getAttribute("cm-marker"),ht;if(lt){var xt=l.findMarks(qe(m,0),qe(_+1,0),Q(+lt));xt.length&&(ht=xt[0].find(0))&&be(ue(l.doc,ht.from,ht.to).join(z));return}if(De.getAttribute("contenteditable")=="false")return;var St=/^(pre|div|p|li|table|br)$/i.test(De.nodeName);if(!/^br$/i.test(De.nodeName)&&De.textContent.length==0)return;St&&me();for(var wt=0;wt<De.childNodes.length;wt++)He(De.childNodes[wt]);/^(pre|p)$/i.test(De.nodeName)&&(W=!0),St&&(D=!0)}else De.nodeType==3&&be(De.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;He(u),u!=g;)u=u.nextSibling,W=!1;return O}function Ld(l,u,g){var m;if(u==l.display.lineDiv){if(m=l.display.lineDiv.childNodes[g],!m)return js(l.clipPos(qe(l.display.viewTo-1)),!0);u=null,g=0}else for(m=u;;m=m.parentNode){if(!m||m==l.display.lineDiv)return null;if(m.parentNode&&m.parentNode==l.display.lineDiv)break}for(var _=0;_<l.display.view.length;_++){var O=l.display.view[_];if(O.node==m)return IC(O,u,g)}}function IC(l,u,g){var m=l.text.firstChild,_=!1;if(!u||!E(m,u))return js(qe(Rt(l.line),0),!0);if(u==m&&(_=!0,u=m.childNodes[g],g=0,!u)){var O=l.rest?_e(l.rest):l.line;return js(qe(Rt(O),O.text.length),_)}var D=u.nodeType==3?u:null,z=u;for(!D&&u.childNodes.length==1&&u.firstChild.nodeType==3&&(D=u.firstChild,g&&(g=D.nodeValue.length));z.parentNode!=m;)z=z.parentNode;var W=l.measure,Q=W.maps;function me(ht,xt,St){for(var wt=-1;wt<(Q?Q.length:0);wt++)for(var kt=wt<0?W.map:Q[wt],Wt=0;Wt<kt.length;Wt+=3){var Ut=kt[Wt+2];if(Ut==ht||Ut==xt){var on=Rt(wt<0?l.line:l.rest[wt]),Ln=kt[Wt]+St;return(St<0||Ut!=ht)&&(Ln=kt[Wt+(St?1:0)]),qe(on,Ln)}}}var be=me(D,z,g);if(be)return js(be,_);for(var He=z.nextSibling,De=D?D.nodeValue.length-g:0;He;He=He.nextSibling){if(be=me(He,He.firstChild,0),be)return js(qe(be.line,be.ch-De),_);De+=He.textContent.length}for(var Ye=z.previousSibling,lt=g;Ye;Ye=Ye.previousSibling){if(be=me(Ye,Ye.firstChild,-1),be)return js(qe(be.line,be.ch+lt),_);lt+=Ye.textContent.length}}var Qn=function(l){this.cm=l,this.prevInput="",this.pollingFast=!1,this.polling=new ne,this.hasSelection=!1,this.composing=null};Qn.prototype.init=function(l){var u=this,g=this,m=this.cm;this.createField(l);var _=this.textarea;l.wrapper.insertBefore(this.wrapper,l.wrapper.firstChild),x&&(_.style.width="0px"),Re(_,"input",function(){s&&c>=9&&u.hasSelection&&(u.hasSelection=null),g.poll()}),Re(_,"paste",function(D){mt(m,D)||l1(D,m)||(m.state.pasteIncoming=+new Date,g.fastPoll())});function O(D){if(!mt(m,D)){if(m.somethingSelected())Id({lineWise:!1,text:m.getSelections()});else if(m.options.lineWiseCopyCut){var z=d1(m);Id({lineWise:!0,text:z.text}),D.type=="cut"?m.setSelections(z.ranges,null,Ne):(g.prevInput="",_.value=z.text.join(`
`),Fe(_))}else return;D.type=="cut"&&(m.state.cutIncoming=+new Date)}}Re(_,"cut",O),Re(_,"copy",O),Re(l.scroller,"paste",function(D){if(!(Dr(l,D)||mt(m,D))){if(!_.dispatchEvent){m.state.pasteIncoming=+new Date,g.focus();return}var z=new Event("paste");z.clipboardData=D.clipboardData,_.dispatchEvent(z)}}),Re(l.lineSpace,"selectstart",function(D){Dr(l,D)||Zt(D)}),Re(_,"compositionstart",function(){var D=m.getCursor("from");g.composing&&g.composing.range.clear(),g.composing={start:D,range:m.markText(D,m.getCursor("to"),{className:"CodeMirror-composing"})}}),Re(_,"compositionend",function(){g.composing&&(g.poll(),g.composing.range.clear(),g.composing=null)})},Qn.prototype.createField=function(l){this.wrapper=p1(),this.textarea=this.wrapper.firstChild},Qn.prototype.screenReaderLabelChanged=function(l){l?this.textarea.setAttribute("aria-label",l):this.textarea.removeAttribute("aria-label")},Qn.prototype.prepareSelection=function(){var l=this.cm,u=l.display,g=l.doc,m=tg(l);if(l.options.moveInputWithCursor){var _=qr(l,g.sel.primary().head,"div"),O=u.wrapper.getBoundingClientRect(),D=u.lineDiv.getBoundingClientRect();m.teTop=Math.max(0,Math.min(u.wrapper.clientHeight-10,_.top+D.top-O.top)),m.teLeft=Math.max(0,Math.min(u.wrapper.clientWidth-10,_.left+D.left-O.left))}return m},Qn.prototype.showSelection=function(l){var u=this.cm,g=u.display;I(g.cursorDiv,l.cursors),I(g.selectionDiv,l.selection),l.teTop!=null&&(this.wrapper.style.top=l.teTop+"px",this.wrapper.style.left=l.teLeft+"px")},Qn.prototype.reset=function(l){if(!(this.contextMenuPending||this.composing)){var u=this.cm;if(u.somethingSelected()){this.prevInput="";var g=u.getSelection();this.textarea.value=g,u.state.focused&&Fe(this.textarea),s&&c>=9&&(this.hasSelection=g)}else l||(this.prevInput=this.textarea.value="",s&&c>=9&&(this.hasSelection=null))}},Qn.prototype.getField=function(){return this.textarea},Qn.prototype.supportsTouch=function(){return!1},Qn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!P||Z()!=this.textarea))try{this.textarea.focus()}catch{}},Qn.prototype.blur=function(){this.textarea.blur()},Qn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Qn.prototype.receivedFocus=function(){this.slowPoll()},Qn.prototype.slowPoll=function(){var l=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){l.poll(),l.cm.state.focused&&l.slowPoll()})},Qn.prototype.fastPoll=function(){var l=!1,u=this;u.pollingFast=!0;function g(){var m=u.poll();!m&&!l?(l=!0,u.polling.set(60,g)):(u.pollingFast=!1,u.slowPoll())}u.polling.set(20,g)},Qn.prototype.poll=function(){var l=this,u=this.cm,g=this.textarea,m=this.prevInput;if(this.contextMenuPending||!u.state.focused||nn(g)&&!m&&!this.composing||u.isReadOnly()||u.options.disableInput||u.state.keySeq)return!1;var _=g.value;if(_==m&&!u.somethingSelected())return!1;if(s&&c>=9&&this.hasSelection===_||M&&/[\uf700-\uf7ff]/.test(_))return u.display.input.reset(),!1;if(u.doc.sel==u.display.selForContextMenu){var O=_.charCodeAt(0);if(O==8203&&!m&&(m="\u200B"),O==8666)return this.reset(),this.cm.execCommand("undo")}for(var D=0,z=Math.min(m.length,_.length);D<z&&m.charCodeAt(D)==_.charCodeAt(D);)++D;return ar(u,function(){bf(u,_.slice(D),m.length-D,null,l.composing?"*compose":null),_.length>1e3||_.indexOf(`
`)>-1?g.value=l.prevInput="":l.prevInput=_,l.composing&&(l.composing.range.clear(),l.composing.range=u.markText(l.composing.start,u.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Qn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Qn.prototype.onKeyPress=function(){s&&c>=9&&(this.hasSelection=null),this.fastPoll()},Qn.prototype.onContextMenu=function(l){var u=this,g=u.cm,m=g.display,_=u.textarea;u.contextMenuPending&&u.contextMenuPending();var O=Ua(g,l),D=m.scroller.scrollTop;if(!O||h)return;var z=g.options.resetSelectionOnContextMenu;z&&g.doc.sel.contains(O)==-1&&ci(g,Si)(g.doc,sa(O),Ne);var W=_.style.cssText,Q=u.wrapper.style.cssText,me=u.wrapper.offsetParent.getBoundingClientRect();u.wrapper.style.cssText="position: static",_.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(l.clientY-me.top-5)+"px; left: "+(l.clientX-me.left-5)+`px;
      z-index: 1000; background: `+(s?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var be;d&&(be=window.scrollY),m.input.focus(),d&&window.scrollTo(null,be),m.input.reset(),g.somethingSelected()||(_.value=u.prevInput=" "),u.contextMenuPending=De,m.selForContextMenu=g.doc.sel,clearTimeout(m.detectingSelectAll);function He(){if(_.selectionStart!=null){var lt=g.somethingSelected(),ht="\u200B"+(lt?_.value:"");_.value="\u21DA",_.value=ht,u.prevInput=lt?"":"\u200B",_.selectionStart=1,_.selectionEnd=ht.length,m.selForContextMenu=g.doc.sel}}function De(){if(u.contextMenuPending==De&&(u.contextMenuPending=!1,u.wrapper.style.cssText=Q,_.style.cssText=W,s&&c<9&&m.scrollbars.setScrollTop(m.scroller.scrollTop=D),_.selectionStart!=null)){(!s||s&&c<9)&&He();var lt=0,ht=function(){m.selForContextMenu==g.doc.sel&&_.selectionStart==0&&_.selectionEnd>0&&u.prevInput=="\u200B"?ci(g,Ig)(g):lt++<10?m.detectingSelectAll=setTimeout(ht,500):(m.selForContextMenu=null,m.input.reset())};m.detectingSelectAll=setTimeout(ht,200)}}if(s&&c>=9&&He(),V){se(l);var Ye=function(){yt(window,"mouseup",Ye),setTimeout(De,20)};Re(window,"mouseup",Ye)}else setTimeout(De,50)},Qn.prototype.readOnlyChanged=function(l){l||this.reset(),this.textarea.disabled=l=="nocursor",this.textarea.readOnly=!!l},Qn.prototype.setUneditable=function(){},Qn.prototype.needsContentAttribute=!1;function LC(l,u){if(u=u?we(u):{},u.value=l.value,!u.tabindex&&l.tabIndex&&(u.tabindex=l.tabIndex),!u.placeholder&&l.placeholder&&(u.placeholder=l.placeholder),u.autofocus==null){var g=Z();u.autofocus=g==l||l.getAttribute("autofocus")!=null&&g==document.body}function m(){l.value=z.getValue()}var _;if(l.form&&(Re(l.form,"submit",m),!u.leaveSubmitMethodAlone)){var O=l.form;_=O.submit;try{var D=O.submit=function(){m(),O.submit=_,O.submit(),O.submit=D}}catch{}}u.finishInit=function(W){W.save=m,W.getTextArea=function(){return l},W.toTextArea=function(){W.toTextArea=isNaN,m(),l.parentNode.removeChild(W.getWrapperElement()),l.style.display="",l.form&&(yt(l.form,"submit",m),!u.leaveSubmitMethodAlone&&typeof l.form.submit=="function"&&(l.form.submit=_))}},l.style.display="none";var z=Hn(function(W){return l.parentNode.insertBefore(W,l.nextSibling)},u);return z}function NC(l){l.off=yt,l.on=Re,l.wheelEventPixels=zb,l.Doc=Hi,l.splitLines=gn,l.countColumn=ge,l.findColumn=oe,l.isWordChar=fe,l.Pass=Te,l.signal=bt,l.Line=li,l.changeEnd=la,l.scrollbarModel=lg,l.Pos=qe,l.cmpPos=Lt,l.modes=ni,l.mimeModes=fn,l.resolveMode=Vn,l.getMode=Vt,l.modeExtensions=jn,l.extendMode=Dt,l.copyState=Pn,l.startState=T,l.innerMode=un,l.commands=nc,l.keyMap=Io,l.keyName=$g,l.isModifierKey=Kg,l.lookupKey=Rs,l.normalizeKeyMap=cC,l.StringStream=B,l.SharedTextMarker=Jl,l.TextMarker=da,l.LineWidget=Zl,l.e_preventDefault=Zt,l.e_stopPropagation=pn,l.e_stop=se,l.addClass=te,l.contains=E,l.rmClass=R,l.keyNames=ua}PC(Hn),EC(Hn);var DC="iter insert remove copy getEditor constructor".split(" ");for(var Nd in Hi.prototype)Hi.prototype.hasOwnProperty(Nd)&&he(DC,Nd)<0&&(Hn.prototype[Nd]=function(l){return function(){return l.apply(this.doc,arguments)}}(Hi.prototype[Nd]));return $t(Hi),Hn.inputStyles={textarea:Qn,contenteditable:An},Hn.defineMode=function(l){!Hn.defaults.mode&&l!="null"&&(Hn.defaults.mode=l),an.apply(this,arguments)},Hn.defineMIME=bn,Hn.defineMode("null",function(){return{token:function(l){return l.skipToEnd()}}}),Hn.defineMIME("text/plain","null"),Hn.defineExtension=function(l,u){Hn.prototype[l]=u},Hn.defineDocExtension=function(l,u){Hi.prototype[l]=u},Hn.fromTextArea=LC,NC(Hn),Hn.version="5.63.0",Hn})},7389:(o,i,e)=>{(function(t){t(e(4408))})(function(t){"use strict";t.defineMode("css",function(H,I){var G=I.inline;I.propertyKeywords||(I=t.resolveMode("text/css"));var K=H.indentUnit,J=I.tokenHooks,E=I.documentTypes||{},Z=I.mediaTypes||{},te=I.mediaFeatures||{},de=I.mediaValueKeywords||{},Fe=I.propertyKeywords||{},Ge=I.nonStandardPropertyKeywords||{},we=I.fontProperties||{},ge=I.counterDescriptors||{},ne=I.colorKeywords||{},he=I.valueKeywords||{},Oe=I.allowNested,Te=I.lineComment,Ne=I.supportsAtComponent===!0,ze=H.highlightNonStandardPropertyKeywords!==!1,ke,oe;function Ue(pe,Se){return ke=Se,pe}function ot(pe,Se){var Le=pe.next();if(J[Le]){var ft=J[Le](pe,Se);if(ft!==!1)return ft}if(Le=="@")return pe.eatWhile(/[\w\\\-]/),Ue("def",pe.current());if(Le=="="||(Le=="~"||Le=="|")&&pe.eat("="))return Ue(null,"compare");if(Le=='"'||Le=="'")return Se.tokenize=_e(Le),Se.tokenize(pe,Se);if(Le=="#")return pe.eatWhile(/[\w\\\-]/),Ue("atom","hash");if(Le=="!")return pe.match(/^\s*\w*/),Ue("keyword","important");if(/\d/.test(Le)||Le=="."&&pe.eat(/\d/))return pe.eatWhile(/[\w.%]/),Ue("number","unit");if(Le==="-"){if(/[\d.]/.test(pe.peek()))return pe.eatWhile(/[\w.%]/),Ue("number","unit");if(pe.match(/^-[\w\\\-]*/))return pe.eatWhile(/[\w\\\-]/),pe.match(/^\s*:/,!1)?Ue("variable-2","variable-definition"):Ue("variable-2","variable");if(pe.match(/^\w+-/))return Ue("meta","meta")}else return/[,+>*\/]/.test(Le)?Ue(null,"select-op"):Le=="."&&pe.match(/^-?[_a-z][_a-z0-9-]*/i)?Ue("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Le)?Ue(null,Le):pe.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(pe.current())&&(Se.tokenize=Je),Ue("variable callee","variable")):/[\w\\\-]/.test(Le)?(pe.eatWhile(/[\w\\\-]/),Ue("property","word")):Ue(null,null)}function _e(pe){return function(Se,Le){for(var ft=!1,qt;(qt=Se.next())!=null;){if(qt==pe&&!ft){pe==")"&&Se.backUp(1);break}ft=!ft&&qt=="\\"}return(qt==pe||!ft&&pe!=")")&&(Le.tokenize=null),Ue("string","string")}}function Je(pe,Se){return pe.next(),pe.match(/^\s*[\"\')]/,!1)?Se.tokenize=null:Se.tokenize=_e(")"),Ue(null,"(")}function ut(pe,Se,Le){this.type=pe,this.indent=Se,this.prev=Le}function at(pe,Se,Le,ft){return pe.context=new ut(Le,Se.indentation()+(ft===!1?0:K),pe.context),Le}function U(pe){return pe.context.prev&&(pe.context=pe.context.prev),pe.context.type}function re(pe,Se,Le){return Ke[Le.context.type](pe,Se,Le)}function fe(pe,Se,Le,ft){for(var qt=ft||1;qt>0;qt--)Le.context=Le.context.prev;return re(pe,Se,Le)}function Ee(pe){var Se=pe.current().toLowerCase();he.hasOwnProperty(Se)?oe="atom":ne.hasOwnProperty(Se)?oe="keyword":oe="variable"}var Ke={};return Ke.top=function(pe,Se,Le){if(pe=="{")return at(Le,Se,"block");if(pe=="}"&&Le.context.prev)return U(Le);if(Ne&&/@component/i.test(pe))return at(Le,Se,"atComponentBlock");if(/^@(-moz-)?document$/i.test(pe))return at(Le,Se,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(pe))return at(Le,Se,"atBlock");if(/^@(font-face|counter-style)/i.test(pe))return Le.stateArg=pe,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(pe))return"keyframes";if(pe&&pe.charAt(0)=="@")return at(Le,Se,"at");if(pe=="hash")oe="builtin";else if(pe=="word")oe="tag";else{if(pe=="variable-definition")return"maybeprop";if(pe=="interpolation")return at(Le,Se,"interpolation");if(pe==":")return"pseudo";if(Oe&&pe=="(")return at(Le,Se,"parens")}return Le.context.type},Ke.block=function(pe,Se,Le){if(pe=="word"){var ft=Se.current().toLowerCase();return Fe.hasOwnProperty(ft)?(oe="property","maybeprop"):Ge.hasOwnProperty(ft)?(oe=ze?"string-2":"property","maybeprop"):Oe?(oe=Se.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(oe+=" error","maybeprop")}else return pe=="meta"?"block":!Oe&&(pe=="hash"||pe=="qualifier")?(oe="error","block"):Ke.top(pe,Se,Le)},Ke.maybeprop=function(pe,Se,Le){return pe==":"?at(Le,Se,"prop"):re(pe,Se,Le)},Ke.prop=function(pe,Se,Le){if(pe==";")return U(Le);if(pe=="{"&&Oe)return at(Le,Se,"propBlock");if(pe=="}"||pe=="{")return fe(pe,Se,Le);if(pe=="(")return at(Le,Se,"parens");if(pe=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(Se.current()))oe+=" error";else if(pe=="word")Ee(Se);else if(pe=="interpolation")return at(Le,Se,"interpolation");return"prop"},Ke.propBlock=function(pe,Se,Le){return pe=="}"?U(Le):pe=="word"?(oe="property","maybeprop"):Le.context.type},Ke.parens=function(pe,Se,Le){return pe=="{"||pe=="}"?fe(pe,Se,Le):pe==")"?U(Le):pe=="("?at(Le,Se,"parens"):pe=="interpolation"?at(Le,Se,"interpolation"):(pe=="word"&&Ee(Se),"parens")},Ke.pseudo=function(pe,Se,Le){return pe=="meta"?"pseudo":pe=="word"?(oe="variable-3",Le.context.type):re(pe,Se,Le)},Ke.documentTypes=function(pe,Se,Le){return pe=="word"&&E.hasOwnProperty(Se.current())?(oe="tag",Le.context.type):Ke.atBlock(pe,Se,Le)},Ke.atBlock=function(pe,Se,Le){if(pe=="(")return at(Le,Se,"atBlock_parens");if(pe=="}"||pe==";")return fe(pe,Se,Le);if(pe=="{")return U(Le)&&at(Le,Se,Oe?"block":"top");if(pe=="interpolation")return at(Le,Se,"interpolation");if(pe=="word"){var ft=Se.current().toLowerCase();ft=="only"||ft=="not"||ft=="and"||ft=="or"?oe="keyword":Z.hasOwnProperty(ft)?oe="attribute":te.hasOwnProperty(ft)?oe="property":de.hasOwnProperty(ft)?oe="keyword":Fe.hasOwnProperty(ft)?oe="property":Ge.hasOwnProperty(ft)?oe=ze?"string-2":"property":he.hasOwnProperty(ft)?oe="atom":ne.hasOwnProperty(ft)?oe="keyword":oe="error"}return Le.context.type},Ke.atComponentBlock=function(pe,Se,Le){return pe=="}"?fe(pe,Se,Le):pe=="{"?U(Le)&&at(Le,Se,Oe?"block":"top",!1):(pe=="word"&&(oe="error"),Le.context.type)},Ke.atBlock_parens=function(pe,Se,Le){return pe==")"?U(Le):pe=="{"||pe=="}"?fe(pe,Se,Le,2):Ke.atBlock(pe,Se,Le)},Ke.restricted_atBlock_before=function(pe,Se,Le){return pe=="{"?at(Le,Se,"restricted_atBlock"):pe=="word"&&Le.stateArg=="@counter-style"?(oe="variable","restricted_atBlock_before"):re(pe,Se,Le)},Ke.restricted_atBlock=function(pe,Se,Le){return pe=="}"?(Le.stateArg=null,U(Le)):pe=="word"?(Le.stateArg=="@font-face"&&!we.hasOwnProperty(Se.current().toLowerCase())||Le.stateArg=="@counter-style"&&!ge.hasOwnProperty(Se.current().toLowerCase())?oe="error":oe="property","maybeprop"):"restricted_atBlock"},Ke.keyframes=function(pe,Se,Le){return pe=="word"?(oe="variable","keyframes"):pe=="{"?at(Le,Se,"top"):re(pe,Se,Le)},Ke.at=function(pe,Se,Le){return pe==";"?U(Le):pe=="{"||pe=="}"?fe(pe,Se,Le):(pe=="word"?oe="tag":pe=="hash"&&(oe="builtin"),"at")},Ke.interpolation=function(pe,Se,Le){return pe=="}"?U(Le):pe=="{"||pe==";"?fe(pe,Se,Le):(pe=="word"?oe="variable":pe!="variable"&&pe!="("&&pe!=")"&&(oe="error"),"interpolation")},{startState:function(pe){return{tokenize:null,state:G?"block":"top",stateArg:null,context:new ut(G?"block":"top",pe||0,null)}},token:function(pe,Se){if(!Se.tokenize&&pe.eatSpace())return null;var Le=(Se.tokenize||ot)(pe,Se);return Le&&typeof Le=="object"&&(ke=Le[1],Le=Le[0]),oe=Le,ke!="comment"&&(Se.state=Ke[Se.state](ke,pe,Se)),oe},indent:function(pe,Se){var Le=pe.context,ft=Se&&Se.charAt(0),qt=Le.indent;return Le.type=="prop"&&(ft=="}"||ft==")")&&(Le=Le.prev),Le.prev&&(ft=="}"&&(Le.type=="block"||Le.type=="top"||Le.type=="interpolation"||Le.type=="restricted_atBlock")?(Le=Le.prev,qt=Le.indent):(ft==")"&&(Le.type=="parens"||Le.type=="atBlock_parens")||ft=="{"&&(Le.type=="at"||Le.type=="atBlock"))&&(qt=Math.max(0,Le.indent-K))),qt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Te,fold:"brace"}});function n(H){for(var I={},G=0;G<H.length;++G)I[H[G].toLowerCase()]=!0;return I}var r=["domain","regexp","url","url-prefix"],a=n(r),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],c=n(s),d=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],p=n(d),f=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],h=n(f),v=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],C=n(v),b=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],x=n(b),w=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],P=n(w),M=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],y=n(M),A=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],k=n(A),N=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],V=n(N),j=r.concat(s).concat(d).concat(f).concat(v).concat(b).concat(A).concat(N);t.registerHelper("hintWords","css",j);function R(H,I){for(var G=!1,K;(K=H.next())!=null;){if(G&&K=="/"){I.tokenize=null;break}G=K=="*"}return["comment","comment"]}t.defineMIME("text/css",{documentTypes:a,mediaTypes:c,mediaFeatures:p,mediaValueKeywords:h,propertyKeywords:C,nonStandardPropertyKeywords:x,fontProperties:P,counterDescriptors:y,colorKeywords:k,valueKeywords:V,tokenHooks:{"/":function(H,I){return H.eat("*")?(I.tokenize=R,R(H,I)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:c,mediaFeatures:p,mediaValueKeywords:h,propertyKeywords:C,nonStandardPropertyKeywords:x,colorKeywords:k,valueKeywords:V,fontProperties:P,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,I){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(I.tokenize=R,R(H,I)):["operator","operator"]},":":function(H){return H.match(/^\s*\{/,!1)?[null,null]:!1},$:function(H){return H.match(/^[\w-]+/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(H){return H.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:c,mediaFeatures:p,mediaValueKeywords:h,propertyKeywords:C,nonStandardPropertyKeywords:x,colorKeywords:k,valueKeywords:V,fontProperties:P,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,I){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(I.tokenize=R,R(H,I)):["operator","operator"]},"@":function(H){return H.eat("{")?[null,"interpolation"]:H.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(H.eatWhile(/[\w\\\-]/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:a,mediaTypes:c,mediaFeatures:p,propertyKeywords:C,nonStandardPropertyKeywords:x,fontProperties:P,counterDescriptors:y,colorKeywords:k,valueKeywords:V,supportsAtComponent:!0,tokenHooks:{"/":function(H,I){return H.eat("*")?(I.tokenize=R,R(H,I)):!1}},name:"css",helperType:"gss"})})},8253:(o,i,e)=>{(function(t){t(e(4408),e(9701),e(6061),e(7389))})(function(t){"use strict";var n={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function r(h,v,C){var b=h.current(),x=b.search(v);return x>-1?h.backUp(b.length-x):b.match(/<\/?$/)&&(h.backUp(b.length),h.match(v,!1)||h.match(b)),C}var a={};function s(h){var v=a[h];return v||(a[h]=new RegExp("\\s+"+h+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function c(h,v){var C=h.match(s(v));return C?/^\s*(.*?)\s*$/.exec(C[2])[1]:""}function d(h,v){return new RegExp((v?"^":"")+"</s*"+h+"s*>","i")}function p(h,v){for(var C in h)for(var b=v[C]||(v[C]=[]),x=h[C],w=x.length-1;w>=0;w--)b.unshift(x[w])}function f(h,v){for(var C=0;C<h.length;C++){var b=h[C];if(!b[0]||b[1].test(c(v,b[0])))return b[2]}}t.defineMode("htmlmixed",function(h,v){var C=t.getMode(h,{name:"xml",htmlMode:!0,multilineTagIndentFactor:v.multilineTagIndentFactor,multilineTagIndentPastTag:v.multilineTagIndentPastTag,allowMissingTagName:v.allowMissingTagName}),b={},x=v&&v.tags,w=v&&v.scriptTypes;if(p(n,b),x&&p(x,b),w)for(var P=w.length-1;P>=0;P--)b.script.unshift(["type",w[P].matches,w[P].mode]);function M(y,A){var k=C.token(y,A.htmlState),N=/\btag\b/.test(k),V;if(N&&!/[<>\s\/]/.test(y.current())&&(V=A.htmlState.tagName&&A.htmlState.tagName.toLowerCase())&&b.hasOwnProperty(V))A.inTag=V+" ";else if(A.inTag&&N&&/>$/.test(y.current())){var j=/^([\S]+) (.*)/.exec(A.inTag);A.inTag=null;var R=y.current()==">"&&f(b[j[1]],j[2]),H=t.getMode(h,R),I=d(j[1],!0),G=d(j[1],!1);A.token=function(K,J){return K.match(I,!1)?(J.token=M,J.localState=J.localMode=null,null):r(K,G,J.localMode.token(K,J.localState))},A.localMode=H,A.localState=t.startState(H,C.indent(A.htmlState,"",""))}else A.inTag&&(A.inTag+=y.current(),y.eol()&&(A.inTag+=" "));return k}return{startState:function(){var y=t.startState(C);return{token:M,inTag:null,localMode:null,localState:null,htmlState:y}},copyState:function(y){var A;return y.localState&&(A=t.copyState(y.localMode,y.localState)),{token:y.token,inTag:y.inTag,localMode:y.localMode,localState:A,htmlState:t.copyState(C,y.htmlState)}},token:function(y,A){return A.token(y,A)},indent:function(y,A,k){return!y.localMode||/^\s*<\//.test(A)?C.indent(y.htmlState,A,k):y.localMode.indent?y.localMode.indent(y.localState,A,k):t.Pass},innerMode:function(y){return{state:y.localState||y.htmlState,mode:y.localMode||C}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")})},6061:(o,i,e)=>{(function(t){t(e(4408))})(function(t){"use strict";t.defineMode("javascript",function(n,r){var a=n.indentUnit,s=r.statementIndent,c=r.jsonld,d=r.json||c,p=r.trackScope!==!1,f=r.typescript,h=r.wordCharacters||/[\w$\xa1-\uffff]/,v=function(){function ee(Tn){return{type:Tn,style:"keyword"}}var ve=ee("keyword a"),$e=ee("keyword b"),ct=ee("keyword c"),dt=ee("keyword d"),tn=ee("operator"),ln={type:"atom",style:"atom"};return{if:ee("if"),while:ve,with:ve,else:$e,do:$e,try:$e,finally:$e,return:dt,break:dt,continue:dt,new:ee("new"),delete:ct,void:ct,throw:ct,debugger:ee("debugger"),var:ee("var"),const:ee("var"),let:ee("var"),function:ee("function"),catch:ee("catch"),for:ee("for"),switch:ee("switch"),case:ee("case"),default:ee("default"),in:tn,typeof:tn,instanceof:tn,true:ln,false:ln,null:ln,undefined:ln,NaN:ln,Infinity:ln,this:ee("this"),class:ee("class"),super:ee("atom"),yield:ct,export:ee("export"),import:ee("import"),extends:ct,await:ct}}(),C=/[+\-*&%=<>!?|~^@]/,b=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function x(ee){for(var ve=!1,$e,ct=!1;($e=ee.next())!=null;){if(!ve){if($e=="/"&&!ct)return;$e=="["?ct=!0:ct&&$e=="]"&&(ct=!1)}ve=!ve&&$e=="\\"}}var w,P;function M(ee,ve,$e){return w=ee,P=$e,ve}function y(ee,ve){var $e=ee.next();if($e=='"'||$e=="'")return ve.tokenize=A($e),ve.tokenize(ee,ve);if($e=="."&&ee.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return M("number","number");if($e=="."&&ee.match(".."))return M("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test($e))return M($e);if($e=="="&&ee.eat(">"))return M("=>","operator");if($e=="0"&&ee.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return M("number","number");if(/\d/.test($e))return ee.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),M("number","number");if($e=="/")return ee.eat("*")?(ve.tokenize=k,k(ee,ve)):ee.eat("/")?(ee.skipToEnd(),M("comment","comment")):Mn(ee,ve,1)?(x(ee),ee.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),M("regexp","string-2")):(ee.eat("="),M("operator","operator",ee.current()));if($e=="`")return ve.tokenize=N,N(ee,ve);if($e=="#"&&ee.peek()=="!")return ee.skipToEnd(),M("meta","meta");if($e=="#"&&ee.eatWhile(h))return M("variable","property");if($e=="<"&&ee.match("!--")||$e=="-"&&ee.match("->")&&!/\S/.test(ee.string.slice(0,ee.start)))return ee.skipToEnd(),M("comment","comment");if(C.test($e))return($e!=">"||!ve.lexical||ve.lexical.type!=">")&&(ee.eat("=")?($e=="!"||$e=="=")&&ee.eat("="):/[<>*+\-|&?]/.test($e)&&(ee.eat($e),$e==">"&&ee.eat($e))),$e=="?"&&ee.eat(".")?M("."):M("operator","operator",ee.current());if(h.test($e)){ee.eatWhile(h);var ct=ee.current();if(ve.lastType!="."){if(v.propertyIsEnumerable(ct)){var dt=v[ct];return M(dt.type,dt.style,ct)}if(ct=="async"&&ee.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return M("async","keyword",ct)}return M("variable","variable",ct)}}function A(ee){return function(ve,$e){var ct=!1,dt;if(c&&ve.peek()=="@"&&ve.match(b))return $e.tokenize=y,M("jsonld-keyword","meta");for(;(dt=ve.next())!=null&&!(dt==ee&&!ct);)ct=!ct&&dt=="\\";return ct||($e.tokenize=y),M("string","string")}}function k(ee,ve){for(var $e=!1,ct;ct=ee.next();){if(ct=="/"&&$e){ve.tokenize=y;break}$e=ct=="*"}return M("comment","comment")}function N(ee,ve){for(var $e=!1,ct;(ct=ee.next())!=null;){if(!$e&&(ct=="`"||ct=="$"&&ee.eat("{"))){ve.tokenize=y;break}$e=!$e&&ct=="\\"}return M("quasi","string-2",ee.current())}var V="([{}])";function j(ee,ve){ve.fatArrowAt&&(ve.fatArrowAt=null);var $e=ee.string.indexOf("=>",ee.start);if(!($e<0)){if(f){var ct=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ee.string.slice(ee.start,$e));ct&&($e=ct.index)}for(var dt=0,tn=!1,ln=$e-1;ln>=0;--ln){var Tn=ee.string.charAt(ln),kn=V.indexOf(Tn);if(kn>=0&&kn<3){if(!dt){++ln;break}if(--dt==0){Tn=="("&&(tn=!0);break}}else if(kn>=3&&kn<6)++dt;else if(h.test(Tn))tn=!0;else if(/["'\/`]/.test(Tn))for(;;--ln){if(ln==0)return;var Wo=ee.string.charAt(ln-1);if(Wo==Tn&&ee.string.charAt(ln-2)!="\\"){ln--;break}}else if(tn&&!dt){++ln;break}}tn&&!dt&&(ve.fatArrowAt=ln)}}var R={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function H(ee,ve,$e,ct,dt,tn){this.indented=ee,this.column=ve,this.type=$e,this.prev=dt,this.info=tn,ct!=null&&(this.align=ct)}function I(ee,ve){if(!p)return!1;for(var $e=ee.localVars;$e;$e=$e.next)if($e.name==ve)return!0;for(var ct=ee.context;ct;ct=ct.prev)for(var $e=ct.vars;$e;$e=$e.next)if($e.name==ve)return!0}function G(ee,ve,$e,ct,dt){var tn=ee.cc;for(K.state=ee,K.stream=dt,K.marked=null,K.cc=tn,K.style=ve,ee.lexical.hasOwnProperty("align")||(ee.lexical.align=!0);;){var ln=tn.length?tn.pop():d?Ue:ke;if(ln($e,ct)){for(;tn.length&&tn[tn.length-1].lex;)tn.pop()();return K.marked?K.marked:$e=="variable"&&I(ee,ct)?"variable-2":ve}}}var K={state:null,column:null,marked:null,cc:null};function J(){for(var ee=arguments.length-1;ee>=0;ee--)K.cc.push(arguments[ee])}function E(){return J.apply(null,arguments),!0}function Z(ee,ve){for(var $e=ve;$e;$e=$e.next)if($e.name==ee)return!0;return!1}function te(ee){var ve=K.state;if(K.marked="def",!!p){if(ve.context){if(ve.lexical.info=="var"&&ve.context&&ve.context.block){var $e=de(ee,ve.context);if($e!=null){ve.context=$e;return}}else if(!Z(ee,ve.localVars)){ve.localVars=new we(ee,ve.localVars);return}}r.globalVars&&!Z(ee,ve.globalVars)&&(ve.globalVars=new we(ee,ve.globalVars))}}function de(ee,ve){if(ve)if(ve.block){var $e=de(ee,ve.prev);return $e?$e==ve.prev?ve:new Ge($e,ve.vars,!0):null}else return Z(ee,ve.vars)?ve:new Ge(ve.prev,new we(ee,ve.vars),!1);else return null}function Fe(ee){return ee=="public"||ee=="private"||ee=="protected"||ee=="abstract"||ee=="readonly"}function Ge(ee,ve,$e){this.prev=ee,this.vars=ve,this.block=$e}function we(ee,ve){this.name=ee,this.next=ve}var ge=new we("this",new we("arguments",null));function ne(){K.state.context=new Ge(K.state.context,K.state.localVars,!1),K.state.localVars=ge}function he(){K.state.context=new Ge(K.state.context,K.state.localVars,!0),K.state.localVars=null}function Oe(){K.state.localVars=K.state.context.vars,K.state.context=K.state.context.prev}Oe.lex=!0;function Te(ee,ve){var $e=function(){var ct=K.state,dt=ct.indented;if(ct.lexical.type=="stat")dt=ct.lexical.indented;else for(var tn=ct.lexical;tn&&tn.type==")"&&tn.align;tn=tn.prev)dt=tn.indented;ct.lexical=new H(dt,K.stream.column(),ee,null,ct.lexical,ve)};return $e.lex=!0,$e}function Ne(){var ee=K.state;ee.lexical.prev&&(ee.lexical.type==")"&&(ee.indented=ee.lexical.indented),ee.lexical=ee.lexical.prev)}Ne.lex=!0;function ze(ee){function ve($e){return $e==ee?E():ee==";"||$e=="}"||$e==")"||$e=="]"?J():E(ve)}return ve}function ke(ee,ve){return ee=="var"?E(Te("vardef",ve),Ot,ze(";"),Ne):ee=="keyword a"?E(Te("form"),_e,ke,Ne):ee=="keyword b"?E(Te("form"),ke,Ne):ee=="keyword d"?K.stream.match(/^\s*$/,!1)?E():E(Te("stat"),ut,ze(";"),Ne):ee=="debugger"?E(ze(";")):ee=="{"?E(Te("}"),he,Re,Ne,Oe):ee==";"?E():ee=="if"?(K.state.lexical.info=="else"&&K.state.cc[K.state.cc.length-1]==Ne&&K.state.cc.pop()(),E(Te("form"),_e,ke,Ne,yn)):ee=="function"?E(an):ee=="for"?E(Te("form"),he,cn,ke,Oe,Ne):ee=="class"||f&&ve=="interface"?(K.marked="keyword",E(Te("form",ee=="class"?ee:ve),Dt,Ne)):ee=="variable"?f&&ve=="declare"?(K.marked="keyword",E(ke)):f&&(ve=="module"||ve=="enum"||ve=="type")&&K.stream.match(/^\s*\w/,!1)?(K.marked="keyword",ve=="enum"?E(q):ve=="type"?E(Vn,ze("operator"),Et,ze(";")):E(Te("form"),It,ze("{"),Te("}"),Re,Ne,Ne)):f&&ve=="namespace"?(K.marked="keyword",E(Te("form"),Ue,ke,Ne)):f&&ve=="abstract"?(K.marked="keyword",E(ke)):E(Te("stat"),ft):ee=="switch"?E(Te("form"),_e,ze("{"),Te("}","switch"),he,Re,Ne,Ne,Oe):ee=="case"?E(Ue,ze(":")):ee=="default"?E(ze(":")):ee=="catch"?E(Te("form"),ne,oe,ke,Ne,Oe):ee=="export"?E(Te("stat"),B,Ne):ee=="import"?E(Te("stat"),ue,Ne):ee=="async"?E(ke):ve=="@"?E(Ue,ke):J(Te("stat"),Ue,ze(";"),Ne)}function oe(ee){if(ee=="(")return E(Vt,ze(")"))}function Ue(ee,ve){return Je(ee,ve,!1)}function ot(ee,ve){return Je(ee,ve,!0)}function _e(ee){return ee!="("?J():E(Te(")"),ut,ze(")"),Ne)}function Je(ee,ve,$e){if(K.state.fatArrowAt==K.stream.start){var ct=$e?Ke:Ee;if(ee=="(")return E(ne,Te(")"),ie(Vt,")"),Ne,ze("=>"),ct,Oe);if(ee=="variable")return J(ne,It,ze("=>"),ct,Oe)}var dt=$e?U:at;return R.hasOwnProperty(ee)?E(dt):ee=="function"?E(an,dt):ee=="class"||f&&ve=="interface"?(K.marked="keyword",E(Te("form"),jn,Ne)):ee=="keyword c"||ee=="async"?E($e?ot:Ue):ee=="("?E(Te(")"),ut,ze(")"),Ne,dt):ee=="operator"||ee=="spread"?E($e?ot:Ue):ee=="["?E(Te("]"),Nt,Ne,dt):ee=="{"?Xe(At,"}",null,dt):ee=="quasi"?J(re,dt):ee=="new"?E(pe($e)):E()}function ut(ee){return ee.match(/[;\}\)\],]/)?J():J(Ue)}function at(ee,ve){return ee==","?E(ut):U(ee,ve,!1)}function U(ee,ve,$e){var ct=$e==!1?at:U,dt=$e==!1?Ue:ot;if(ee=="=>")return E(ne,$e?Ke:Ee,Oe);if(ee=="operator")return/\+\+|--/.test(ve)||f&&ve=="!"?E(ct):f&&ve=="<"&&K.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?E(Te(">"),ie(Et,">"),Ne,ct):ve=="?"?E(Ue,ze(":"),dt):E(dt);if(ee=="quasi")return J(re,ct);if(ee!=";"){if(ee=="(")return Xe(ot,")","call",ct);if(ee==".")return E(qt,ct);if(ee=="[")return E(Te("]"),ut,ze("]"),Ne,ct);if(f&&ve=="as")return K.marked="keyword",E(Et,ct);if(ee=="regexp")return K.state.lastType=K.marked="operator",K.stream.backUp(K.stream.pos-K.stream.start-1),E(dt)}}function re(ee,ve){return ee!="quasi"?J():ve.slice(ve.length-2)!="${"?E(re):E(ut,fe)}function fe(ee){if(ee=="}")return K.marked="string-2",K.state.tokenize=N,E(re)}function Ee(ee){return j(K.stream,K.state),J(ee=="{"?ke:Ue)}function Ke(ee){return j(K.stream,K.state),J(ee=="{"?ke:ot)}function pe(ee){return function(ve){return ve=="."?E(ee?Le:Se):ve=="variable"&&f?E(Ie,ee?U:at):J(ee?ot:Ue)}}function Se(ee,ve){if(ve=="target")return K.marked="keyword",E(at)}function Le(ee,ve){if(ve=="target")return K.marked="keyword",E(U)}function ft(ee){return ee==":"?E(Ne,ke):J(at,ze(";"),Ne)}function qt(ee){if(ee=="variable")return K.marked="property",E()}function At(ee,ve){if(ee=="async")return K.marked="property",E(At);if(ee=="variable"||K.style=="keyword"){if(K.marked="property",ve=="get"||ve=="set")return E(ce);var $e;return f&&K.state.fatArrowAt==K.stream.start&&($e=K.stream.match(/^\s*:\s*/,!1))&&(K.state.fatArrowAt=K.stream.pos+$e[0].length),E(Me)}else{if(ee=="number"||ee=="string")return K.marked=c?"property":K.style+" property",E(Me);if(ee=="jsonld-keyword")return E(Me);if(f&&Fe(ve))return K.marked="keyword",E(At);if(ee=="[")return E(Ue,st,ze("]"),Me);if(ee=="spread")return E(ot,Me);if(ve=="*")return K.marked="keyword",E(At);if(ee==":")return J(Me)}}function ce(ee){return ee!="variable"?J(Me):(K.marked="property",E(an))}function Me(ee){if(ee==":")return E(ot);if(ee=="(")return J(an)}function ie(ee,ve,$e){function ct(dt,tn){if($e?$e.indexOf(dt)>-1:dt==","){var ln=K.state.lexical;return ln.info=="call"&&(ln.pos=(ln.pos||0)+1),E(function(Tn,kn){return Tn==ve||kn==ve?J():J(ee)},ct)}return dt==ve||tn==ve?E():$e&&$e.indexOf(";")>-1?J(ee):E(ze(ve))}return function(dt,tn){return dt==ve||tn==ve?E():J(ee,ct)}}function Xe(ee,ve,$e){for(var ct=3;ct<arguments.length;ct++)K.cc.push(arguments[ct]);return E(Te(ve,$e),ie(ee,ve),Ne)}function Re(ee){return ee=="}"?E():J(ke,Re)}function st(ee,ve){if(f){if(ee==":")return E(Et);if(ve=="?")return E(st)}}function yt(ee,ve){if(f&&(ee==":"||ve=="in"))return E(Et)}function bt(ee){if(f&&ee==":")return K.stream.match(/^\s*\w+\s+is\b/,!1)?E(Ue,mt,Et):E(Et)}function mt(ee,ve){if(ve=="is")return K.marked="keyword",E()}function Et(ee,ve){if(ve=="keyof"||ve=="typeof"||ve=="infer"||ve=="readonly")return K.marked="keyword",E(ve=="typeof"?ot:Et);if(ee=="variable"||ve=="void")return K.marked="type",E(xe);if(ve=="|"||ve=="&")return E(Et);if(ee=="string"||ee=="number"||ee=="atom")return E(xe);if(ee=="[")return E(Te("]"),ie(Et,"]",","),Ne,xe);if(ee=="{")return E(Te("}"),$t,Ne,xe);if(ee=="(")return E(ie(se,")"),Qt,xe);if(ee=="<")return E(ie(Et,">"),Et);if(ee=="quasi")return J(pn,xe)}function Qt(ee){if(ee=="=>")return E(Et)}function $t(ee){return ee.match(/[\}\)\]]/)?E():ee==","||ee==";"?E($t):J(Zt,$t)}function Zt(ee,ve){if(ee=="variable"||K.style=="keyword")return K.marked="property",E(Zt);if(ve=="?"||ee=="number"||ee=="string")return E(Zt);if(ee==":")return E(Et);if(ee=="[")return E(ze("variable"),yt,ze("]"),Zt);if(ee=="(")return J(bn,Zt);if(!ee.match(/[;\}\)\],]/))return E()}function pn(ee,ve){return ee!="quasi"?J():ve.slice(ve.length-2)!="${"?E(pn):E(Et,Rn)}function Rn(ee){if(ee=="}")return K.marked="string-2",K.state.tokenize=N,E(pn)}function se(ee,ve){return ee=="variable"&&K.stream.match(/^\s*[?:]/,!1)||ve=="?"?E(se):ee==":"?E(Et):ee=="spread"?E(se):J(Et)}function xe(ee,ve){if(ve=="<")return E(Te(">"),ie(Et,">"),Ne,xe);if(ve=="|"||ee=="."||ve=="&")return E(Et);if(ee=="[")return E(Et,ze("]"),xe);if(ve=="extends"||ve=="implements")return K.marked="keyword",E(Et);if(ve=="?")return E(Et,ze(":"),Et)}function Ie(ee,ve){if(ve=="<")return E(Te(">"),ie(Et,">"),Ne,xe)}function Qe(){return J(Et,vt)}function vt(ee,ve){if(ve=="=")return E(Et)}function Ot(ee,ve){return ve=="enum"?(K.marked="keyword",E(q)):J(It,st,nn,Zn)}function It(ee,ve){if(f&&Fe(ve))return K.marked="keyword",E(It);if(ee=="variable")return te(ve),E();if(ee=="spread")return E(It);if(ee=="[")return Xe(gn,"]");if(ee=="{")return Xe(_n,"}")}function _n(ee,ve){return ee=="variable"&&!K.stream.match(/^\s*:/,!1)?(te(ve),E(nn)):(ee=="variable"&&(K.marked="property"),ee=="spread"?E(It):ee=="}"?J():ee=="["?E(Ue,ze("]"),ze(":"),_n):E(ze(":"),It,nn))}function gn(){return J(It,nn)}function nn(ee,ve){if(ve=="=")return E(ot)}function Zn(ee){if(ee==",")return E(Ot)}function yn(ee,ve){if(ee=="keyword b"&&ve=="else")return E(Te("form","else"),ke,Ne)}function cn(ee,ve){if(ve=="await")return E(cn);if(ee=="(")return E(Te(")"),ni,Ne)}function ni(ee){return ee=="var"?E(Ot,fn):ee=="variable"?E(fn):J(fn)}function fn(ee,ve){return ee==")"?E():ee==";"?E(fn):ve=="in"||ve=="of"?(K.marked="keyword",E(Ue,fn)):J(Ue,fn)}function an(ee,ve){if(ve=="*")return K.marked="keyword",E(an);if(ee=="variable")return te(ve),E(an);if(ee=="(")return E(ne,Te(")"),ie(Vt,")"),Ne,bt,ke,Oe);if(f&&ve=="<")return E(Te(">"),ie(Qe,">"),Ne,an)}function bn(ee,ve){if(ve=="*")return K.marked="keyword",E(bn);if(ee=="variable")return te(ve),E(bn);if(ee=="(")return E(ne,Te(")"),ie(Vt,")"),Ne,bt,Oe);if(f&&ve=="<")return E(Te(">"),ie(Qe,">"),Ne,bn)}function Vn(ee,ve){if(ee=="keyword"||ee=="variable")return K.marked="type",E(Vn);if(ve=="<")return E(Te(">"),ie(Qe,">"),Ne)}function Vt(ee,ve){return ve=="@"&&E(Ue,Vt),ee=="spread"?E(Vt):f&&Fe(ve)?(K.marked="keyword",E(Vt)):f&&ee=="this"?E(st,nn):J(It,st,nn)}function jn(ee,ve){return ee=="variable"?Dt(ee,ve):Pn(ee,ve)}function Dt(ee,ve){if(ee=="variable")return te(ve),E(Pn)}function Pn(ee,ve){if(ve=="<")return E(Te(">"),ie(Qe,">"),Ne,Pn);if(ve=="extends"||ve=="implements"||f&&ee==",")return ve=="implements"&&(K.marked="keyword"),E(f?Et:Ue,Pn);if(ee=="{")return E(Te("}"),un,Ne)}function un(ee,ve){if(ee=="async"||ee=="variable"&&(ve=="static"||ve=="get"||ve=="set"||f&&Fe(ve))&&K.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return K.marked="keyword",E(un);if(ee=="variable"||K.style=="keyword")return K.marked="property",E(T,un);if(ee=="number"||ee=="string")return E(T,un);if(ee=="[")return E(Ue,st,ze("]"),T,un);if(ve=="*")return K.marked="keyword",E(un);if(f&&ee=="(")return J(bn,un);if(ee==";"||ee==",")return E(un);if(ee=="}")return E();if(ve=="@")return E(Ue,un)}function T(ee,ve){if(ve=="!"||ve=="?")return E(T);if(ee==":")return E(Et,nn);if(ve=="=")return E(ot);var $e=K.state.lexical.prev,ct=$e&&$e.info=="interface";return J(ct?bn:an)}function B(ee,ve){return ve=="*"?(K.marked="keyword",E(Ft,ze(";"))):ve=="default"?(K.marked="keyword",E(Ue,ze(";"))):ee=="{"?E(ie(F,"}"),Ft,ze(";")):J(ke)}function F(ee,ve){if(ve=="as")return K.marked="keyword",E(ze("variable"));if(ee=="variable")return J(ot,F)}function ue(ee){return ee=="string"?E():ee=="("?J(Ue):ee=="."?J(at):J(We,Tt,Ft)}function We(ee,ve){return ee=="{"?Xe(We,"}"):(ee=="variable"&&te(ve),ve=="*"&&(K.marked="keyword"),E(Rt))}function Tt(ee){if(ee==",")return E(We,Tt)}function Rt(ee,ve){if(ve=="as")return K.marked="keyword",E(We)}function Ft(ee,ve){if(ve=="from")return K.marked="keyword",E(Ue)}function Nt(ee){return ee=="]"?E():J(ie(ot,"]"))}function q(){return J(Te("form"),It,ze("{"),Te("}"),ie(qe,"}"),Ne,Ne)}function qe(){return J(It,nn)}function Lt(ee,ve){return ee.lastType=="operator"||ee.lastType==","||C.test(ve.charAt(0))||/[,.]/.test(ve.charAt(0))}function Mn(ee,ve,$e){return ve.tokenize==y&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ve.lastType)||ve.lastType=="quasi"&&/\{\s*$/.test(ee.string.slice(0,ee.pos-($e||0)))}return{startState:function(ee){var ve={tokenize:y,lastType:"sof",cc:[],lexical:new H((ee||0)-a,0,"block",!1),localVars:r.localVars,context:r.localVars&&new Ge(null,null,!1),indented:ee||0};return r.globalVars&&typeof r.globalVars=="object"&&(ve.globalVars=r.globalVars),ve},token:function(ee,ve){if(ee.sol()&&(ve.lexical.hasOwnProperty("align")||(ve.lexical.align=!1),ve.indented=ee.indentation(),j(ee,ve)),ve.tokenize!=k&&ee.eatSpace())return null;var $e=ve.tokenize(ee,ve);return w=="comment"?$e:(ve.lastType=w=="operator"&&(P=="++"||P=="--")?"incdec":w,G(ve,$e,w,P,ee))},indent:function(ee,ve){if(ee.tokenize==k||ee.tokenize==N)return t.Pass;if(ee.tokenize!=y)return 0;var $e=ve&&ve.charAt(0),ct=ee.lexical,dt;if(!/^\s*else\b/.test(ve))for(var tn=ee.cc.length-1;tn>=0;--tn){var ln=ee.cc[tn];if(ln==Ne)ct=ct.prev;else if(ln!=yn&&ln!=Oe)break}for(;(ct.type=="stat"||ct.type=="form")&&($e=="}"||(dt=ee.cc[ee.cc.length-1])&&(dt==at||dt==U)&&!/^[,\.=+\-*:?[\(]/.test(ve));)ct=ct.prev;s&&ct.type==")"&&ct.prev.type=="stat"&&(ct=ct.prev);var Tn=ct.type,kn=$e==Tn;return Tn=="vardef"?ct.indented+(ee.lastType=="operator"||ee.lastType==","?ct.info.length+1:0):Tn=="form"&&$e=="{"?ct.indented:Tn=="form"?ct.indented+a:Tn=="stat"?ct.indented+(Lt(ee,ve)?s||a:0):ct.info=="switch"&&!kn&&r.doubleIndentSwitch!=!1?ct.indented+(/^(?:case|default)\b/.test(ve)?a:2*a):ct.align?ct.column+(kn?0:1):ct.indented+(kn?0:a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:d?null:"/*",blockCommentEnd:d?null:"*/",blockCommentContinue:d?null:" * ",lineComment:d?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:d?"json":"javascript",jsonldMode:c,jsonMode:d,expressionAllowed:Mn,skipExpression:function(ee){G(ee,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},9701:(o,i,e)=>{(function(t){t(e(4408))})(function(t){"use strict";var n={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},r={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(a,s){var c=a.indentUnit,d={},p=s.htmlMode?n:r;for(var f in p)d[f]=p[f];for(var f in s)d[f]=s[f];var h,v;function C(E,Z){function te(Ge){return Z.tokenize=Ge,Ge(E,Z)}var de=E.next();if(de=="<")return E.eat("!")?E.eat("[")?E.match("CDATA[")?te(w("atom","]]>")):null:E.match("--")?te(w("comment","-->")):E.match("DOCTYPE",!0,!0)?(E.eatWhile(/[\w\._\-]/),te(P(1))):null:E.eat("?")?(E.eatWhile(/[\w\._\-]/),Z.tokenize=w("meta","?>"),"meta"):(h=E.eat("/")?"closeTag":"openTag",Z.tokenize=b,"tag bracket");if(de=="&"){var Fe;return E.eat("#")?E.eat("x")?Fe=E.eatWhile(/[a-fA-F\d]/)&&E.eat(";"):Fe=E.eatWhile(/[\d]/)&&E.eat(";"):Fe=E.eatWhile(/[\w\.\-:]/)&&E.eat(";"),Fe?"atom":"error"}else return E.eatWhile(/[^&<]/),null}C.isInText=!0;function b(E,Z){var te=E.next();if(te==">"||te=="/"&&E.eat(">"))return Z.tokenize=C,h=te==">"?"endTag":"selfcloseTag","tag bracket";if(te=="=")return h="equals",null;if(te=="<"){Z.tokenize=C,Z.state=N,Z.tagName=Z.tagStart=null;var de=Z.tokenize(E,Z);return de?de+" tag error":"tag error"}else return/[\'\"]/.test(te)?(Z.tokenize=x(te),Z.stringStartCol=E.column(),Z.tokenize(E,Z)):(E.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function x(E){var Z=function(te,de){for(;!te.eol();)if(te.next()==E){de.tokenize=b;break}return"string"};return Z.isInAttribute=!0,Z}function w(E,Z){return function(te,de){for(;!te.eol();){if(te.match(Z)){de.tokenize=C;break}te.next()}return E}}function P(E){return function(Z,te){for(var de;(de=Z.next())!=null;){if(de=="<")return te.tokenize=P(E+1),te.tokenize(Z,te);if(de==">")if(E==1){te.tokenize=C;break}else return te.tokenize=P(E-1),te.tokenize(Z,te)}return"meta"}}function M(E){return E&&E.toLowerCase()}function y(E,Z,te){this.prev=E.context,this.tagName=Z||"",this.indent=E.indented,this.startOfLine=te,(d.doNotIndent.hasOwnProperty(Z)||E.context&&E.context.noIndent)&&(this.noIndent=!0)}function A(E){E.context&&(E.context=E.context.prev)}function k(E,Z){for(var te;;){if(!E.context||(te=E.context.tagName,!d.contextGrabbers.hasOwnProperty(M(te))||!d.contextGrabbers[M(te)].hasOwnProperty(M(Z))))return;A(E)}}function N(E,Z,te){return E=="openTag"?(te.tagStart=Z.column(),V):E=="closeTag"?j:N}function V(E,Z,te){return E=="word"?(te.tagName=Z.current(),v="tag",I):d.allowMissingTagName&&E=="endTag"?(v="tag bracket",I(E,Z,te)):(v="error",V)}function j(E,Z,te){if(E=="word"){var de=Z.current();return te.context&&te.context.tagName!=de&&d.implicitlyClosed.hasOwnProperty(M(te.context.tagName))&&A(te),te.context&&te.context.tagName==de||d.matchClosing===!1?(v="tag",R):(v="tag error",H)}else return d.allowMissingTagName&&E=="endTag"?(v="tag bracket",R(E,Z,te)):(v="error",H)}function R(E,Z,te){return E!="endTag"?(v="error",R):(A(te),N)}function H(E,Z,te){return v="error",R(E,Z,te)}function I(E,Z,te){if(E=="word")return v="attribute",G;if(E=="endTag"||E=="selfcloseTag"){var de=te.tagName,Fe=te.tagStart;return te.tagName=te.tagStart=null,E=="selfcloseTag"||d.autoSelfClosers.hasOwnProperty(M(de))?k(te,de):(k(te,de),te.context=new y(te,de,Fe==te.indented)),N}return v="error",I}function G(E,Z,te){return E=="equals"?K:(d.allowMissing||(v="error"),I(E,Z,te))}function K(E,Z,te){return E=="string"?J:E=="word"&&d.allowUnquoted?(v="string",I):(v="error",I(E,Z,te))}function J(E,Z,te){return E=="string"?J:I(E,Z,te)}return{startState:function(E){var Z={tokenize:C,state:N,indented:E||0,tagName:null,tagStart:null,context:null};return E!=null&&(Z.baseIndent=E),Z},token:function(E,Z){if(!Z.tagName&&E.sol()&&(Z.indented=E.indentation()),E.eatSpace())return null;h=null;var te=Z.tokenize(E,Z);return(te||h)&&te!="comment"&&(v=null,Z.state=Z.state(h||te,E,Z),v&&(te=v=="error"?te+" error":v)),te},indent:function(E,Z,te){var de=E.context;if(E.tokenize.isInAttribute)return E.tagStart==E.indented?E.stringStartCol+1:E.indented+c;if(de&&de.noIndent)return t.Pass;if(E.tokenize!=b&&E.tokenize!=C)return te?te.match(/^(\s*)/)[0].length:0;if(E.tagName)return d.multilineTagIndentPastTag!==!1?E.tagStart+E.tagName.length+2:E.tagStart+c*(d.multilineTagIndentFactor||1);if(d.alignCDATA&&/<!\[CDATA\[/.test(Z))return 0;var Fe=Z&&/^<(\/)?([\w_:\.-]*)/.exec(Z);if(Fe&&Fe[1])for(;de;)if(de.tagName==Fe[2]){de=de.prev;break}else if(d.implicitlyClosed.hasOwnProperty(M(de.tagName)))de=de.prev;else break;else if(Fe)for(;de;){var Ge=d.contextGrabbers[M(de.tagName)];if(Ge&&Ge.hasOwnProperty(M(Fe[2])))de=de.prev;else break}for(;de&&de.prev&&!de.startOfLine;)de=de.prev;return de?de.indent+c:E.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:d.htmlMode?"html":"xml",helperType:d.htmlMode?"html":"xml",skipAttribute:function(E){E.state==K&&(E.state=I)},xmlCurrentTag:function(E){return E.tagName?{name:E.tagName,close:E.type=="closeTag"}:null},xmlCurrentContext:function(E){for(var Z=[],te=E.context;te;te=te.prev)Z.push(te.tagName);return Z.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})},7058:(o,i,e)=>{e.d(i,{A:()=>a});var t=e(9156),n=function(){var s=function(c,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(p[h]=f[h])},s(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");s(c,d);function p(){this.constructor=c}c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}(),r=function(s){n(c,s);function c(d,p,f){var h=s.call(this,p,f)||this;return h._module=d,h}return Object.defineProperty(c.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),c}(t.Kx);let a=r},179:(o,i,e)=>{e.d(i,{A:()=>s,F:()=>r});var t=e(7058),n=function(){var c=function(d,p){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(f[v]=h[v])},c(d,p)};return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");c(d,p);function f(){this.constructor=d}d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),r=function(c){return c.Select="select",c.Hover="hover",c.Spacing="spacing",c.Target="target",c.Resize="resize",c}(r||{}),a=function(c){n(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(d.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"component",{get:function(){var p,f=this.get("component");return f||((p=this.get("componentView"))===null||p===void 0?void 0:p.model)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"componentView",{get:function(){var p,f=this.get("componentView");return f||((p=this.get("component"))===null||p===void 0?void 0:p.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"el",{get:function(){var p;return(p=this.componentView)===null||p===void 0?void 0:p.el},enumerable:!1,configurable:!0}),d.prototype.getBoxRect=function(p){var f=this,h=f.el,v=f.em,C=v.Canvas.getCanvasView(),b=this.get("boxRect");return b||(h&&C?C.getElBoxRect(h,p):{x:0,y:0,width:0,height:0})},d.prototype.getStyle=function(p){p===void 0&&(p={});var f=p.boxRect||this.getBoxRect(p),h=f.width,v=f.height,C=f.x,b=f.y;return{width:"".concat(h,"px"),height:"".concat(v,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(C,"px ").concat(b,"px")}},d.prototype.isType=function(p){return this.type===p},d}(t.A);let s=a},1738:(o,i,e)=>{e.d(i,{A:()=>n});var t=function(r){return r.run="command:run",r.runCommand="command:run:",r.runBeforeCommand="command:run:before:",r.abort="command:abort:",r.stop="command:stop",r.stopCommand="command:stop:",r.stopBeforeCommand="command:stop:before:",r.call="command:call",r.callCommand="command:call:",r}(t||{});let n=t},9484:(o,i,e)=>{e.r(i),e.d(i,{default:()=>t});let t={run:function(n){n.Components.clear(),n.Css.clear()}}},9516:(o,i,e)=>{e.r(i),e.d(i,{default:()=>a});var t=e(5706),n=e(9966),r=e(6294);let a={run:function(s){(0,t.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=s,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(s){this.toggleMove(),this.disableDragger()},onKeyUp:function(s){(0,r.Ch)(s)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(s){this.toggleDragger(1,s)},disableDragger:function(s){this.toggleDragger(0,s)},toggleDragger:function(s,c){var d=this,p=d.canvasModel,f=d.em,h=this.dragger,v=s?"add":"remove";this.getCanvas().classList[v]("".concat(this.ppfx,"is__grabbing")),h||(h=new n.A({getPosition:function(){return{x:p.get("x"),y:p.get("y")}},setPosition:function(C){var b=C.x,x=C.y;p.set({x:b,y:x})},onStart:function(C,b){f.trigger("canvas:move:start",b)},onDrag:function(C,b){f.trigger("canvas:move",b)},onEnd:function(C,b){f.trigger("canvas:move:end",b)}}),this.dragger=h),s?h.start(c):h.stop()},toggleMove:function(s){var c=this.ppfx,d=s?"add":"remove",p=s?"on":"off",f={on:r.on,off:r.AU},h=this.getCanvas(),v=["".concat(c,"is__grab")];!s&&v.push("".concat(c,"is__grabbing")),v.forEach(function(C){return h.classList[d](C)}),f[p](document,"keyup",this.onKeyUp),f[p](h,"mousedown",this.enableDragger),f[p](document,"mouseup",this.disableDragger)}}},9946:(o,i,e)=>{e.r(i),e.d(i,{default:()=>d,defineCommand:()=>s});var t=e(9156),n=e(1738),r=function(){var p=function(f,h){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,C){v.__proto__=C}||function(v,C){for(var b in C)Object.prototype.hasOwnProperty.call(C,b)&&(v[b]=C[b])},p(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");p(f,h);function v(){this.constructor=f}f.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),a=function(){return a=Object.assign||function(p){for(var f,h=1,v=arguments.length;h<v;h++){f=arguments[h];for(var C in f)Object.prototype.hasOwnProperty.call(f,C)&&(p[C]=f[C])}return p},a.apply(this,arguments)};function s(p){return p}var c=function(p){r(f,p);function f(h){var v=p.call(this,0)||this;v.config=h||{},v.em=v.config.em||{};var C=v.config.stylePrefix;return v.pfx=C,v.ppfx=v.config.pStylePrefix,v.hoverClass="".concat(C,"hover"),v.badgeClass="".concat(C,"badge"),v.plhClass="".concat(C,"placeholder"),v.freezClass="".concat(v.ppfx,"freezed"),v.canvas=v.em.Canvas,v.init(v.config),v}return f.prototype.onFrameScroll=function(h){},f.prototype.getCanvas=function(){return this.canvas.getElement()},f.prototype.getCanvasBody=function(){return this.canvas.getBody()},f.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},f.prototype.offset=function(h){var v=h.getBoundingClientRect();return{top:v.top+h.ownerDocument.body.scrollTop,left:v.left+h.ownerDocument.body.scrollLeft}},f.prototype.init=function(h){},f.prototype.callRun=function(h,v){v===void 0&&(v={});var C=this.id;if(h.trigger("".concat(n.A.runBeforeCommand).concat(C),{options:v}),v.abort){h.trigger("".concat(n.A.abort).concat(C),{options:v});return}var b=v.sender||h,x=this.run(h,b,v),w={id:C,result:x,options:v},P=a(a({},w),{type:"run"});return this.noStop||(h.Commands.active[C]=x),h.trigger("".concat(n.A.runCommand).concat(C),w),h.trigger("".concat(n.A.callCommand).concat(C),P),h.trigger(n.A.run,w),h.trigger(n.A.call,P),x},f.prototype.callStop=function(h,v){v===void 0&&(v={});var C=this.id,b=v.sender||h;h.trigger("".concat(n.A.stopBeforeCommand).concat(C),{options:v});var x=this.stop(h,b,v),w={id:C,result:x,options:v},P=a(a({},w),{type:"stop"});return delete h.Commands.active[C],h.trigger("".concat(n.A.stopCommand).concat(C),w),h.trigger("".concat(n.A.callCommand).concat(C),P),h.trigger(n.A.stop,w),h.trigger(n.A.call,P),x},f.prototype.stopCommand=function(h){this.em.Commands.stop(this.id,h)},f.prototype.run=function(h,v,C){},f.prototype.stop=function(h,v,C){},f}(t.Kx);let d=c},7801:(o,i,e)=>{e.r(i),e.d(i,{default:()=>a});var t=e(5706),n=function(s,c,d){if(d||arguments.length===2)for(var p=0,f=c.length,h;p<f;p++)(h||!(p in c))&&(h||(h=Array.prototype.slice.call(c,0,p)),h[p]=c[p]);return s.concat(h||Array.prototype.slice.call(c))},r={run:function(s,c,d){var p=this;d===void 0&&(d={});var f=[],h=d.component||s.getSelectedAll();return h=(0,t.isArray)(h)?n([],h,!0):[h],h.filter(Boolean).forEach(function(v){var C,b;if(!v.get("removable"))return p.em.logWarning("The element is not removable",{component:v});f.push(v);var x=((b=(C=v.delegate)===null||C===void 0?void 0:C.remove)===null||b===void 0?void 0:b.call(C,v))||v;x.remove()}),s.selectRemove(f),f}};let a=r},4864:(o,i,e)=>{e.r(i),e.d(i,{default:()=>c});var t=e(5706),n=e(9966),r=e(1166),a=function(){return a=Object.assign||function(d){for(var p,f=1,h=arguments.length;f<h;f++){p=arguments[f];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(d[v]=p[v])}return d},a.apply(this,arguments)},s="dmode";let c={run:function(d,p,f){var h=this,v,C;if(f===void 0&&(f={}),(0,t.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget"),!f.target)throw new Error("Target option is required");var b=a({doc:(v=f.target.getEl())===null||v===void 0?void 0:v.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){var w;return(w=h.guidesStatic)!==null&&w!==void 0?w:[]},guidesTarget:function(){var w;return(w=h.guidesTarget)!==null&&w!==void 0?w:[]}},(C=f.dragger)!==null&&C!==void 0?C:{});this.setupGuides(),this.opts=f,this.editor=d,this.em=d.getModel(),this.target=f.target,this.isTran=f.mode=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var x=this.dragger;return x?x.setOptions(b):(x=new n.A(b),this.dragger=x),f.event&&x.start(f.event),this.toggleDrag(!0),this.em.trigger("".concat(s,":start"),this.getEventOpts()),x},getEventOpts:function(){var d,p,f=(p=(d=this.guidesTarget)===null||d===void 0?void 0:d.filter(function(h){return h.active}))!==null&&p!==void 0?p:[];return{mode:this.opts.mode,component:this.target,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic,guidesMatched:this.getGuidesMatched(f),command:this}},stop:function(){this.toggleDrag()},setupGuides:function(){var d;((d=this.guides)!==null&&d!==void 0?d:[]).forEach(function(p){var f,h=p.guide;(f=h?.parentNode)===null||f===void 0||f.removeChild(h)}),this.guides=[]},getGuidesContainer:function(){var d=this,p,f,h,v,C=this.guidesEl;if(!C){var b=this,x=b.editor,w=b.em,P=b.opts,M=(p=x.getConfig().stylePrefix)!==null&&p!==void 0?p:"",y=document.createElement("div"),A=document.createElement("div"),k='<div class="'.concat(M,"guide-info__line ").concat(M,`danger-bg">
        <div class="`).concat(M,"guide-info__content ").concat(M,`danger-color"></div>
      </div>`);C=document.createElement("div"),C.className="".concat(M,"guides"),y.className="".concat(M,"guide-info ").concat(M,"guide-info__x"),A.className="".concat(M,"guide-info ").concat(M,"guide-info__y"),y.innerHTML=k,A.innerHTML=k,C.appendChild(y),C.appendChild(A),(f=x.Canvas.getGlobalToolsEl())===null||f===void 0||f.appendChild(C),this.guidesEl=C,this.elGuideInfoX=y,this.elGuideInfoY=A,this.elGuideInfoContentX=(h=y.querySelector(".".concat(M,"guide-info__content")))!==null&&h!==void 0?h:void 0,this.elGuideInfoContentY=(v=A.querySelector(".".concat(M,"guide-info__content")))!==null&&v!==void 0?v:void 0,w.on("canvas:update frame:scroll",(0,t.debounce)(function(){var N;d.updateGuides(),P.debug&&((N=d.guides)===null||N===void 0||N.forEach(function(V){return d.renderGuide(V)}))},200))}return C},getGuidesStatic:function(){var d=this,p=[],f=this.target.getEl(),h=f?.parentElement;return h?((0,t.each)(h.children,function(v){return p=p.concat(f!==v?d.getElementGuides(v):[])}),p.concat(this.getElementGuides(h))):[]},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(d){var p=this,f,h,v,C=(f=d??this.guides)!==null&&f!==void 0?f:[];C.forEach(function(b){var x=b.origin,w=h===x?v:p.getElementPos(x);h=x,v=w,(0,t.each)(p.getGuidePosUpdate(b,w),function(P,M){b[M]=P}),b.originRect=w})},getGuidePosUpdate:function(d,p){var f={},h=p.top,v=p.height,C=p.left,b=p.width;switch(d.type){case"t":f.y=h;break;case"b":f.y=h+v;break;case"l":f.x=C;break;case"r":f.x=C+b;break;case"x":f.x=C+b/2;break;case"y":f.y=h+v/2;break}return f},renderGuide:function(d){var p,f;if(!this.opts.skipGuidesRender){var h=(p=d.guide)!==null&&p!==void 0?p:document.createElement("div"),v="px",C=d.active?2:1;if(h.style.cssText="position: absolute; background-color: ".concat(d.active?"green":"red",";"),!h.children.length){var b=document.createElement("div");b.style.cssText="position: absolute; color: red; padding: 5px; top: 0; left: 0;",h.appendChild(b)}return d.y?(h.style.width="100%",h.style.height="".concat(C).concat(v),h.style.top="".concat(d.y).concat(v),h.style.left="0"):(h.style.width="".concat(C).concat(v),h.style.height="100%",h.style.left="".concat(d.x).concat(v),h.style.top="0".concat(v)),!d.guide&&((f=this.guidesContainer)===null||f===void 0||f.appendChild(h)),h}},getElementPos:function(d){return this.editor.Canvas.getElementPos(d,{noScroll:1})},getElementGuides:function(d){var p=this,f=this.opts,h=d,v=this.getElementPos(d),C=(0,r.getComponentModel)(d),b=(0,r.getComponentView)(d),x=v.top,w=v.height,P=v.left,M=v.width,y=[{type:"t",y:x},{type:"b",y:x+w},{type:"l",x:P},{type:"r",x:P+M},{type:"x",x:P+M/2},{type:"y",y:x+w/2}],A=y.map(function(k){var N=f.debug?p.renderGuide(k):void 0;return a(a({},k),{component:C,componentView:b,componentEl:h,origin:h,componentElRect:v,originRect:v,guideEl:N,guide:N})});return A.forEach(function(k){var N;return(N=p.guides)===null||N===void 0?void 0:N.push(k)}),A},getTranslate:function(d,p){p===void 0&&(p="x");var f=0;return(d||"").split(" ").forEach(function(h){var v=h.trim(),C="translate".concat(p.toUpperCase(),"(");v.indexOf(C)===0&&(f=parseFloat(v.replace(C,"")))}),f},setTranslate:function(d,p,f){var h="translate".concat(p.toUpperCase(),"("),v="".concat(h).concat(f,")"),C=(d||"").split(" ").map(function(b){var x=b.trim();return x.indexOf(h)===0&&(b=v),b}).join(" ");return C.indexOf(h)<0&&(C+=" ".concat(v)),C},getPosition:function(){var d=this,p=d.target,f=d.isTran,h=p.getStyle(),v=h.transform,C=h.left,b=h.top,x=0,w=0;return f&&v?(x=this.getTranslate(v),w=this.getTranslate(v,"y")):(x=parseFloat(C??"0"),w=parseFloat(b??"0")),{x,y:w}},setPosition:function(d){var p,f,h=d.x,v=d.y,C=d.end,b=d.position,x=d.width,w=d.height,P=this,M=P.target,y=P.isTran,A=P.em,k=P.opts,N="px",V=!C,j="".concat(parseInt("".concat(h),10)).concat(N),R="".concat(parseInt("".concat(v),10)).concat(N),H={};if(y){var I=(f=(p=M.getStyle())===null||p===void 0?void 0:p.transform)!==null&&f!==void 0?f:"";I=this.setTranslate(I,"x",j),I=this.setTranslate(I,"y",R),H={transform:I,__p:V}}else{var G={position:b,width:x,height:w},K={left:j,top:R,__p:V};(0,t.keys)(G).forEach(function(J){var E=G[J];E&&(K[J]=E)}),H=K}k.addStyle?k.addStyle({component:M,styles:H,partial:!C}):M.addStyle(H,{avoidStore:!C}),A.Styles.__emitCmpStyleUpdate(H,{components:A.getSelected()})},_getDragData:function(){var d=this.target;return{target:d,parent:d.parent(),index:d.index()}},onStart:function(d){var p,f=this,h=f.target,v=f.editor,C=f.isTran,b=f.opts,x=v.Canvas,w=h.getStyle(),P="absolute",M=[P,"relative"];if((p=b.onStart)===null||p===void 0||p.call(b,this._getDragData()),!C){if(w.position!==P){var y=x.offset(h.getEl()),A=y.left,k=y.top,N=y.width,V=y.height,j=h.parent(),R=null;do{var H=j?.getStyle(),I=H?.position;I&&(R=M.indexOf(I)>=0?j:null),j=j?.parent()}while(j&&!R);if(b.center){var G=x.getMouseRelativeCanvas(d),K=G.x,J=G.y;A=K,k=J}else if(R){var E=x.offset(R.getEl());A=A-E.left,k=k-E.top}this.setPosition({x:A,y:k,width:"".concat(N,"px"),height:"".concat(V,"px"),position:P})}this.guidesStatic=this.getGuidesStatic()}},onDrag:function(d){var p=this,f,h,v=this,C=v.guidesTarget,b=v.opts;this.updateGuides(C),b.debug&&C?.forEach(function(x){return p.renderGuide(x)}),b.guidesInfo&&this.renderGuideInfo((f=C?.filter(function(x){return x.active}))!==null&&f!==void 0?f:[]),(h=b.onDrag)===null||h===void 0||h.call(b,this._getDragData()),this.opts.event=d,this.em.trigger("".concat(s,":move"),this.getEventOpts())},onEnd:function(d,p,f){var h,v=this,C=v.editor,b=v.opts,x=v.id;(h=b.onEnd)===null||h===void 0||h.call(b,d,f,a(a({event:d},f),this._getDragData())),C.stopCommand("".concat(x)),this.hideGuidesInfo(),this.em.trigger("".concat(s,":end"),this.getEventOpts())},hideGuidesInfo:function(){var d=this;["X","Y"].forEach(function(p){var f=d["elGuideInfo".concat(p)];f&&(f.style.display="none")})},renderGuideInfo:function(d){var p=this;d===void 0&&(d=[]),this.hideGuidesInfo();var f=this.getGuidesMatched(d);f.forEach(function(h){p.opts.skipGuidesRender||p.renderSingleGuideInfo(h),p.em.trigger("".concat(s,":active"),a(a({},p.getEventOpts()),h))})},renderSingleGuideInfo:function(d){var p=d.posFirst,f=d.posSecond,h=d.size,v=d.sizeRaw,C=d.guide,b=d.elGuideInfo,x=d.elGuideInfoCnt,w=(0,t.isUndefined)(C.x)?"y":"x",P=w==="y",M=b.style;M.display="",M[P?"top":"left"]="".concat(p,"px"),M[P?"left":"top"]="".concat(f,"px"),M[P?"width":"height"]="".concat(h,"px"),x.innerHTML="".concat(Math.round(v),"px")},getGuidesMatched:function(d){var p=this;d===void 0&&(d=[]);var f=this.guidesStatic,h=f===void 0?[]:f;return d.map(function(v){var C=v.origin,b=v.x,x=p.getElementPos(C),w=(0,t.isUndefined)(b)?"y":"x",P=w==="y",M=x[P?"left":"top"],y=x.rect[P?"left":"top"],A=P?M+x.width:M+x.height,k=P?y+x.rect.width:y+x.rect.height,N=h.filter(function(Oe){var Te,Ne={l:["r","x"],r:["l","x"],x:["l","r"],t:["b","y"],b:["t","y"],y:["t","b"]};return Oe.type===v.type||((Te=Ne[v.type])===null||Te===void 0?void 0:Te.includes(Oe.type))}).map(function(Oe){var Te=Oe.originRect,Ne=Te.left,ze=Te.width,ke=Te.top,oe=Te.height,Ue=P?Ne:ke,ot=P?Ne+ze:ke+oe;return{gap:ot<M?M-ot:Ue-A,guide:Oe}}).filter(function(Oe){return Oe.gap>0}).sort(function(Oe,Te){return Oe.gap-Te.gap}).map(function(Oe){return Oe.guide}).filter(function(Oe){switch(v.type){case"l":case"r":case"x":return Math.abs(Oe.x-v.x)<1;case"t":case"b":case"y":return Math.abs(Oe.y-v.y)<1;default:return!1}}),V=N[0];if(V){var j=V.originRect,R=j.left,H=j.width,I=j.top,G=j.height,K=j.rect,J=P?R<x.left:I<x.top,E=P?R:I,Z=P?K.left:K.top,te=P?R+H:I+G,de=P?K.left+K.width:K.top+K.height,Fe=P?v.y:v.x,Ge=J?te:A,we=J?M-te:E-A,ge=J?y-de:Z-k,ne=p["elGuideInfo".concat(w.toUpperCase())],he=p["elGuideInfoContent".concat(w.toUpperCase())];return{guide:v,guidesStatic:h,matched:V,posFirst:Fe,posSecond:Ge,size:we,sizeRaw:ge,elGuideInfo:ne,elGuideInfoCnt:he}}else return null}).filter(Boolean)},toggleDrag:function(d){var p=this,f=p.ppfx,h=p.editor,v=d?"add":"remove",C=["".concat(f,"is__grabbing")],b=h.Canvas,x=b.getBody();C.forEach(function(w){return x.classList[v](w)}),b[d?"startAutoscroll":"stopAutoscroll"]()},editor:void 0,em:void 0,opts:void 0,target:void 0}},6134:(o,i,e)=>{e.r(i),e.d(i,{default:()=>t});let t={run:function(n){if(n.Canvas.hasFocus()){var r=[];n.getSelectedAll().forEach(function(a){var s=a.components(),c=s&&s.filter(function(d){return d.get("selectable")})[0];c&&r.push(c)}),r.length&&n.select(r)}}}},914:(o,i,e)=>{e.r(i),e.d(i,{default:()=>t});let t={run:function(n,r,a){if(a===void 0&&(a={}),!(!n.Canvas.hasFocus()&&!a.force)){var s=[];n.getSelectedAll().forEach(function(c){for(var d=c.parent();d&&!d.get("selectable");)d=d.parent();d&&s.push(d)}),s.length&&n.select(s)}}}},5547:(o,i,e)=>{e.r(i),e.d(i,{default:()=>t});let t={run:function(n){if(n.Canvas.hasFocus()){var r=[];n.getSelectedAll().forEach(function(a){var s=a.parent();if(s){var c=s.components().length,d=0,p=0,f;do d++,p=a.index()+d,f=p<=c?s.getChildAt(p):null;while(f&&!f.get("selectable"));r.push(f||a)}}),r.length&&n.select(r)}}}},8655:(o,i,e)=>{e.r(i),e.d(i,{default:()=>t});let t={run:function(n){if(n.Canvas.hasFocus()){var r=[];n.getSelectedAll().forEach(function(a){var s=a.parent();if(s){var c=0,d=0,p;do c++,d=a.index()-c,p=d>=0?s.getChildAt(d):null;while(p&&!p.get("selectable"));r.push(p||a)}}),r.length&&n.select(r)}}}},7640:(o,i,e)=>{e.r(i),e.d(i,{default:()=>n});var t=e(5706);let n={run:function(r,a,s){s===void 0&&(s={});var c=s.target,d=[];if(!c.get("styles"))return d;var p=c.get("type"),f=r.Pages.getAllWrappers(),h=(0,t.flatten)(f.map(function(C){return C.findType(p)})).length;if(!h){var v=r.CssComposer.getAll();d=v.filter(function(C){return C.get("group")==="cmp:".concat(p)}),v.remove(d)}return d}}},5837:(o,i,e)=>{e.r(i),e.d(i,{default:()=>n});var t=function(r,a,s){if(s||arguments.length===2)for(var c=0,d=a.length,p;c<d;c++)(p||!(c in a))&&(p||(p=Array.prototype.slice.call(a,0,c)),p[c]=a[c]);return r.concat(p||Array.prototype.slice.call(a))};let n={run:function(r){var a=r.getModel(),s=t([],r.getSelectedAll(),!0).map(function(c){var d,p;return((p=(d=c.delegate)===null||d===void 0?void 0:d.copy)===null||p===void 0?void 0:p.call(d,c))||c}).filter(Boolean);s.length&&a.set("clipboard",s)}}},6477:(o,i,e)=>{e.r(i),e.d(i,{default:()=>n});var t=e(6294);let n={run:function(r,a,s){var c=this;s===void 0&&(s={}),a&&a.set&&a.set("active",0);var d=r.getConfig(),p=r.Modal,f=d.stylePrefix;if(this.cm=r.CodeManager||null,!this.editors){var h=this.buildEditor("htmlmixed","hopscotch","HTML"),v=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=h.model,this.cssEditor=v.model;var C=(0,t.a_)("div",{class:"".concat(f,"export-dl")});C.appendChild(h.el),C.appendChild(v.el),this.editors=C}p.open({title:d.textViewCode,content:this.editors}).getModel().once("change:open",function(){return r.stopCommand("".concat(c.id))}),this.htmlEditor.setContent(r.getHtml(s.optsHtml)),this.cssEditor.setContent(r.getCss(s.optsCss))},stop:function(r){var a=r.Modal;a&&a.close()},buildEditor:function(r,a,s){var c=this.em.CodeManager,d=c.createViewer({label:s,codeName:r,theme:a}),p=new c.EditorView({model:d,config:c.getConfig()}).render().el;return{model:d,el:p}}}},1772:(o,i,e)=>{e.r(i),e.d(i,{default:()=>n});var t=e(5706);let n={isEnabled:function(){var r=document;return!!(r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement)},enable:function(r){var a="";return r.requestFullscreen?r.requestFullscreen():r.webkitRequestFullscreen?(a="webkit",r.webkitRequestFullscreen()):r.mozRequestFullScreen?(a="moz",r.mozRequestFullScreen()):r.msRequestFullscreen&&r.msRequestFullscreen(),a},disable:function(){var r=document;this.isEnabled()&&(r.exitFullscreen?r.exitFullscreen():r.webkitExitFullscreen?r.webkitExitFullscreen():r.mozCancelFullScreen?r.mozCancelFullScreen():r.msExitFullscreen&&r.msExitFullscreen())},fsChanged:function(r){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(r||"","fullscreenchange"),this.fsChanged))},run:function(r,a,s){s===void 0&&(s={}),this.sender=a;var c=s.target,d=(0,t.isElement)(c)?c:document.querySelector(c),p=this.enable(d||r.getContainer());this.fsChanged=this.fsChanged.bind(this,p),document.addEventListener(p+"fullscreenchange",this.fsChanged)},stop:function(r,a){a&&a.set&&a.set("active",!1),this.disable()}}},741:(o,i,e)=>{e.r(i),e.d(i,{default:()=>c});var t=e(5706),n=e(7774),r=e(6294),a=e(9317),s=e(1406);let c=(0,t.extend)({},s.default,a.default,{init:function(d){a.default.init.apply(this,arguments),(0,t.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=d,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];a.default.enable.apply(this,d),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var f=this.$wrapper;f.css("cursor","move"),f.on("mousedown",this.initSorter),f.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(d){var p=(0,n.default)(d.target).data("model"),f=p.get("draggable");f&&(this.cacheEl=null,this.startSelectPosition(d.target,this.frameEl.contentDocument),this.sorter.draggable=f,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,r.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(d){var p=d.get("draggable");if(p){this.cacheEl=null;var f=d.view.el;this.startSelectPosition(f,this.frameEl.contentDocument),this.sorter.draggable=p,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,r.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(d){this.cacheEl=null;var p=d[d.length-1],f=this.em.getCurrentFrame(),h=p.getEl(f?.model),v=h.ownerDocument,C=d.map(function(b){var x;return(x=b?.view)===null||x===void 0?void 0:x.el});this.startSelectPosition(C,v,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,r.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,r.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,r.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(d,p){},rollback:function(d,p){var f=d.which||d.keyCode;(f==27||p)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,n.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,n.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];a.default.stop.apply(this,d),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var f=this.$wrapper;f.css("cursor","").unbind().removeClass(this.noSelClass)}})},2924:(o,i,e)=>{e.r(i),e.d(i,{default:()=>r});var t=e(5706),n=e(6294);let r={open:function(a){var s=this,c=this,d=c.editor,p=c.title,f=c.config,h=c.am,v=f.custom;if((0,t.isFunction)(v.open))return v.open(h.__customData());var C=d.Modal;C.open({title:p,content:a}).onceClose(function(){return d.stopCommand(s.id)})},close:function(){var a=this.config.custom;if((0,t.isFunction)(a.close))return a.close(this.am.__customData());var s=this.editor.Modal;s&&s.close()},run:function(a,s,c){c===void 0&&(c={});var d=a.AssetManager,p=d.getConfig(),f=c.types,h=f===void 0?[]:f,v=c.accept,C=c.select;if(this.title=c.modalTitle||a.t("assetManager.modalTitle")||"",this.editor=a,this.config=p,this.am=d,d.setTarget(c.target),d.onClick(c.onClick),d.onDblClick(c.onDblClick),d.onSelect(c.onSelect),d.__behaviour({select:C,types:h,options:c}),p.custom)this.rendered=this.rendered||(0,n.a_)("div"),this.rendered.className="".concat(p.stylePrefix,"custom-wrp"),d.__behaviour({container:this.rendered}),d.__trgCustom();else{if(!this.rendered||h){var b=d.getAll().filter(function(w){return w});h&&h.length&&(b=b.filter(function(w){return h.indexOf(w.get("type"))!==-1})),d.render(b),this.rendered=d.getContainer()}if(v){var x=this.rendered.querySelector("input#".concat(p.stylePrefix,"uploadFile"));x&&x.setAttribute("accept",v)}}return this.open(this.rendered),this},stop:function(a){this.editor=a,this.close(this.rendered)}}},3963:(o,i,e)=>{e.r(i),e.d(i,{default:()=>r});var t=e(5706),n=e(6294);let r={open:function(){var a=this,s=a.container,c=a.editor,d=a.bm,p=a.config,f=p.custom,h=p.appendTo;if((0,t.isFunction)(f.open))return f.open(d.__customData());if(this.firstRender&&!h){var v="views-container",C=c.Panels,b=C.getPanel(v)||C.addPanel({id:v});b.set("appendContent",s).trigger("change:appendContent"),f||s.appendChild(d.render())}s&&(s.style.display="block")},close:function(){var a=this,s=a.container,c=a.config,d=c.custom;if((0,t.isFunction)(d.close))return d.close(this.bm.__customData());s&&(s.style.display="none")},run:function(a){var s=a.Blocks;this.config=s.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,n.a_)("div"),this.editor=a,this.bm=s;var c=this.container;s.__behaviour({container:c}),this.config.custom&&s.__trgCustom(),this.open()},stop:function(){this.close()}}},1479:(o,i,e)=>{e.r(i),e.d(i,{default:()=>t});let t={run:function(n){var r=n.LayerManager,a=n.Panels,s=r.getConfig();if(!s.appendTo){if(!this.layers){var c="views-container",d=document.createElement("div"),p=a.getPanel(c)||a.addPanel({id:c});s.custom?r.__trgCustom({container:d}):d.appendChild(r.render()),p.set("appendContent",d).trigger("change:appendContent"),this.layers=d}this.layers.style.display="block"}},stop:function(){var n=this.layers;n&&(n.style.display="none")}}},3473:(o,i,e)=>{e.r(i),e.d(i,{default:()=>n});var t=e(7774);let n={run:function(r,a){if(this.sender=a,!this.$cnt){var s=r.getConfig(),c=r.Panels,d=r.DeviceManager,p=r.SelectorManager,f=r.StyleManager,h="change:appendContent",v=(0,t.default)("<div></div>"),C=(0,t.default)("<div></div>"),b=(0,t.default)("<div></div>"),x=(0,t.default)("<div></div>");if(this.$cnt=v,this.$cntInner=C,C.append(b),C.append(x),v.append(C),d&&s.showDevices){var w=c.addPanel({id:"devices-c"}),P=d.render();w.set("appendContent",P).trigger(h)}var M=p.getConfig();M.custom?p.__trgCustom({container:b.get(0)}):M.appendTo||b.append(p.render([])),this.sm=f;var y=f.getConfig(),A=y.stylePrefix;this.$header=(0,t.default)('<div class="'.concat(A,'header">').concat(r.t("styleManager.empty"),"</div>")),v.append(this.$header),y.custom?f.__trgCustom({container:x.get(0)}):y.appendTo||x.append(f.render());var k="views-container",N=c.getPanel(k)||c.addPanel({id:k});N.set("appendContent",v).trigger(h);var V=r.getModel();this.listenTo(V,f.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var r=this,a=r.sender,s=r.sm,c=r.$cntInner,d=r.$header;a&&a.get&&!a.get("active")||!s||(s.getSelected()?(c?.show(),d?.hide()):(c?.hide(),d?.show()))},stop:function(){var r,a;(r=this.$cntInner)===null||r===void 0||r.hide(),(a=this.$header)===null||a===void 0||a.hide()}}},5054:(o,i,e)=>{e.r(i),e.d(i,{default:()=>n});var t=e(7774);let n={run:function(r,a){this.sender=a;var s=r.getModel(),c=r.Config,d=c.stylePrefix,p=r.TraitManager,f=p.getConfig(),h;if(!f.appendTo){if(!this.$cn){this.$cn=(0,t.default)("<div></div>"),this.$cn2=(0,t.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,t.default)("<div>").append('<div class="'.concat(f.stylePrefix,'header">').concat(s.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),f.custom?p.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(d,'traits-label">').concat(s.t("traitManager.label"),"</div>")),this.$cn2.append(p.render()));var v=r.Panels;v.getPanel("views-container")?h=v.getPanel("views-container"):h=v.addPanel({id:"views-container"}),h?.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=r.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var r=this.sender;r&&r.get&&!r.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},6979:(o,i,e)=>{e.r(i),e.d(i,{default:()=>n});var t=e(5706);let n={run:function(a,s,c){c===void 0&&(c={});var d=a.getModel(),p=d.get("clipboard"),f=a.getSelected();p?.length&&f&&(a.getSelectedAll().forEach(function(h){var v,C,b,x=((C=(v=h.delegate)===null||v===void 0?void 0:v.copy)===null||C===void 0?void 0:C.call(v,h))||h,w=x.collection,P;if(w){var M=x.index()+1,y={at:M,action:c.action||"paste-component"};(0,t.contains)(p,x)&&x.get("copyable")?P=w.add(x.clone(),y):P=r(a,p,x.parent(),y)}else{var A=(b=d.Pages.getSelected())===null||b===void 0?void 0:b.getMainComponent(),y={at:A?.components().length||0,action:c.action||"paste-component"};P=r(a,p,A,y)}P=(0,t.isArray)(P)?P:[P],P.forEach(function(k){return a.trigger("component:paste",k)})}),f.emitUpdate())}};function r(a,s,c,d){var p=s.filter(function(h){return h.get("copyable")}),f=p.filter(function(h){return a.Components.canMove(c,h).result});return c.components().add(f.map(function(h){return h.clone()}),d)}},4457:(o,i,e)=>{e.r(i),e.d(i,{default:()=>a});var t=e(5706),n=function(s,c,d){if(d||arguments.length===2)for(var p=0,f=c.length,h;p<f;p++)(h||!(p in c))&&(h||(h=Array.prototype.slice.call(c,0,p)),h[p]=c[p]);return s.concat(h||Array.prototype.slice.call(c))},r="core:component-outline";let a={getPanels:function(s){return this.panels||(this.panels=s.Panels.getPanels()),this.panels},preventDrag:function(s){s.abort=1},tglEffects:function(s){var c=this.em,d=s?"on":"off";if(c){var p=c.Canvas,f=p.getBody(),h=p.getToolbarEl();h&&(h.style.display=s?"none":"");var v=f.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,t.each)(v,function(C){return C.style.pointerEvents=s?"all":""}),c[d]("run:tlb-move:before",this.preventDrag)}},run:function(s,c){var d=this;this.sender=c,this.selected=n([],s.getSelectedAll(),!0),s.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=s.Commands.isActive(r)),this.shouldRunSwVisibility&&s.stopCommand(r),s.getModel().stopDefault();var p=this.getPanels(s),f=s.Canvas.getElement(),h=s.getEl(),v=s.Config.stylePrefix;if(!this.helper){var C=document.createElement("span");C.className="".concat(v,"off-prv fa fa-eye-slash"),h.appendChild(C),C.onclick=function(){return d.stopCommand()},this.helper=C}this.helper.style.display="inline-block",p.forEach(function(x){return x.set("visible",!1)});var b=f.style;b.width="100%",b.height="100%",b.top="0",b.left="0",b.padding="0",b.margin="0",s.refresh(),this.tglEffects(1)},stop:function(s){var c=this,d=c.sender,p=d===void 0?{}:d,f=c.selected;p.set&&p.set("active",0);var h=this.getPanels(s);this.shouldRunSwVisibility&&(s.runCommand(r),this.shouldRunSwVisibility=!1),s.getModel().runDefault(),h.forEach(function(C){return C.set("visible",!0)});var v=s.Canvas.getElement();v.setAttribute("style",""),f&&s.select(f),delete this.selected,this.helper&&(this.helper.style.display="none"),s.refresh(),this.tglEffects()}}},5493:(o,i,e)=>{e.r(i),e.d(i,{ConvertUnitsToPx:()=>s,default:()=>c});var t=e(2225),n=e(1166),r=function(){return r=Object.assign||function(d){for(var p,f=1,h=arguments.length;f<h;f++){p=arguments[f];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(d[v]=p[v])}return d},r.apply(this,arguments)},a=function(d,p){var f={};for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&p.indexOf(h)<0&&(f[h]=d[h]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,h=Object.getOwnPropertySymbols(d);v<h.length;v++)p.indexOf(h[v])<0&&Object.prototype.propertyIsEnumerable.call(d,h[v])&&(f[h[v]]=d[h[v]]);return f},s=function(d){return d.pt="pt",d.pc="pc",d.in="in",d.cm="cm",d.mm="mm",d.vw="vw",d.vh="vh",d.vmin="vmin",d.vmax="vmax",d.svw="svw",d.lvw="lvw",d.dvw="dvw",d.svh="svh",d.lvh="lvh",d.dvh="dvh",d.perc="%",d}(s||{});let c={run:function(d,p,f){var h=this,v=d.Canvas,C=d.Utils,b=d.em,x=v.getCanvasView(),w=b.config.stylePrefix||"",P="".concat(w,"resizing"),M=f.onStart,y=M===void 0?function(){}:M,A=f.onMove,k=A===void 0?function(){}:A,N=f.onEnd,V=N===void 0?function(){}:N,j=f.updateTarget,R=j===void 0?function(){}:j,H=f.el,I=f.componentView,G=f.component,K=f.skipPositionUpdate,J=a(f,["onStart","onMove","onEnd","updateTarget","el","componentView","component","skipPositionUpdate"]),E=H||I?.el||G.getEl(),Z={component:G,el:E},te,de,Fe=function(ge,ne,he){var Oe=he.docs;Oe&&Oe.forEach(function(Te){var Ne=Te.body,ze=Ne.className||"";Ne.className=(ge=="add"?"".concat(ze," ").concat(P):ze.replace(P,"")).trim()})},Ge=r(r({appendTo:v.getResizerEl(),prefix:d.getConfig().stylePrefix,posFetcher:x.getElementPos.bind(x),mousePosFetcher:v.getMouseRelativePos.bind(v),docs:[document],updateOnMove:!0,skipUnitAdjustments:!0,onStart:function(ge,ne){var he;y(ge,ne);var Oe=ne.el,Te=ne.config,Ne=ne.resizer,ze=Te.keyHeight,ke=Te.keyWidth,oe=Te.currentUnit,Ue=Te.keepAutoHeight,ot=Te.keepAutoWidth;Fe("add",ge,ne),te=b.Styles.getModelToStyle(G),de=getComputedStyle(Oe);var _e=te.getStyle(),Je=r({},Ne.startDim),ut=_e[ke];Te.autoWidth=ot&&ut==="auto",isNaN(parseFloat(ut))&&(ut=de[ke]);var at=_e[ze];Te.autoHeight=Ue&&at==="auto",isNaN(parseFloat(at))&&(at=de[ze]);var U=parseFloat(ut),re=parseFloat(at),fe=(0,n.getUnitFromValue)(ut),Ee=(0,n.getUnitFromValue)(at);oe&&(Te.unitWidth=fe,Te.unitHeight=Ee);var Ke=r(r({},Z),{event:ge,rect:Je,model:te,modelWidth:{value:ut,property:ke,number:U,unit:fe},modelHeight:{value:at,property:ze,number:re,unit:Ee}});d.trigger(t.I.resizeStart,Ke),d.trigger(t.I.resize,r(r({},Ke),{type:"start"})),(he=f.afterStart)===null||he===void 0||he.call(f)},onMove:function(ge,ne){k(ge,ne);var he=ne.resizer,Oe=r(r({},Z),{event:ge,delta:he.delta,pointer:he.currentPos,rect:he.rectDim});d.trigger(t.I.resizeStart,Oe),d.trigger(t.I.resize,r(r({},Oe),{type:"move"}))},onEnd:function(ge,ne){var he;V(ge,ne),Fe("remove",ge,ne);var Oe=ne.resizer,Te=r(r({},Z),{event:ge,rect:Oe.rectDim,moved:Oe.moved});d.trigger(t.I.resizeEnd,Te),d.trigger(t.I.resize,r(r({},Z),{type:"end"})),(he=f.afterEnd)===null||he===void 0||he.call(f)},updateTarget:function(ge,ne,he){var Oe;if(R(ge,ne,he),!!te){var Te=he.store,Ne=he.selectedHandler,ze=he.config,ke=he.resizer,oe=he.event,Ue=ze.keyHeight,ot=ze.keyWidth,_e=ze.autoHeight,Je=ze.autoWidth,ut=ze.unitWidth,at=ze.unitHeight,U=["tc","bc"].indexOf(Ne)>=0,re=["cl","cr"].indexOf(Ne)>=0,fe=!Te,Ee={};if(!U){var Ke=((Oe=v.getBody())===null||Oe===void 0?void 0:Oe.offsetWidth)||0,pe=ne.w<Ke?ne.w:Ke;Ee[ot]=Je?"auto":h.convertPxToUnit({el:E,elComputedStyle:de,valuePx:pe,unit:ut})}re||(Ee[Ue]=_e?"auto":h.convertPxToUnit({el:E,elComputedStyle:de,valuePx:ne.h,unit:at,isHeight:!0})),!K&&b.getDragMode(G)&&(Ee.top="".concat(ne.t,"px"),Ee.left="".concat(ne.l,"px"));var Se=!1,Le=function(qt){Se=!0;var At=r(r({},qt||Ee),{__p:fe});te.addStyle(At,{avoidStore:fe}),b.Styles.__emitCmpStyleUpdate(At,{components:G})},ft=r(r({},Z),{rect:ne,partial:fe,event:oe,style:Ee,updateStyle:Le,convertPxToUnit:function(qt){return h.convertPxToUnit(r({el:E,elComputedStyle:de},qt))},delta:ke.delta,pointer:ke.currentPos});d.trigger(t.I.resizeUpdate,ft),!Se&&Le()}}},J),f.options),we=this.canvasResizer;return we||(this.canvasResizer=new C.Resizer(Ge),we=this.canvasResizer),we.setOptions(Ge,!0),we.blur(),we.focus(E),we},stop:function(){var d;(d=this.canvasResizer)===null||d===void 0||d.blur()},convertPxToUnit:function(d){var p=d.el,f=d.valuePx,h=d.unit,v=d.dpi,C=v===void 0?96:v,b=d.roundDecimals,x=b===void 0?3:b,w=d.isHeight,P=d.elComputedStyle,M=p.ownerDocument.defaultView,y=M?.innerWidth||1,A=window.innerHeight||1,k=f,N=h;switch(h){case s.pt:k=f*(72/C);break;case s.pc:k=f*(6/C);break;case s.in:k=f/C;break;case s.cm:k=f/(C/2.54);break;case s.mm:k=f/(C/25.4);break;case s.vw:k=f/y*100;break;case s.vh:k=f/A*100;break;case s.vmin:{var V=Math.min(y,A);k=f/V*100;break}case s.vmax:{var j=Math.max(y,A);k=f/j*100;break}case s.perc:{var R=p.parentElement,H=p.offsetParent,I=P?.position==="absolute"?H:R,G=I?.offsetWidth||1,K=I?.offsetHeight||1,J=w?K:G;k=f/J*100;break}case s.svw:case s.lvw:case s.dvw:k=f/y*100;break;case s.svh:case s.lvh:case s.dvh:k=f/A*100;break;default:N="px"}return"".concat(+k.toFixed(x)).concat(N)}}},9317:(o,i,e)=>{e.r(i),e.d(i,{default:()=>j});var t=e(5706),n=e(179),r=e(9156),a=function(){var R=function(H,I){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,K){for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(G[J]=K[J])},R(H,I)};return function(H,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");R(H,I);function G(){this.constructor=H}H.prototype=I===null?Object.create(I):(G.prototype=I.prototype,new G)}}(),s=function(R){a(H,R);function H(){return R!==null&&R.apply(this,arguments)||this}return H.prototype.defaults=function(){return{command:"",attributes:{}}},H}(r.Kx);let c=s;var d=function(){var R=function(H,I){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,K){for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(G[J]=K[J])},R(H,I)};return function(H,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");R(H,I);function G(){this.constructor=H}H.prototype=I===null?Object.create(I):(G.prototype=I.prototype,new G)}}(),p=function(R){d(H,R);function H(){return R!==null&&R.apply(this,arguments)||this}return H}(r.pM);let f=p;p.prototype.model=c;var h=e(2225),v=e(8242),C=function(){var R=function(H,I){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,K){for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(G[J]=K[J])},R(H,I)};return function(H,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");R(H,I);function G(){this.constructor=H}H.prototype=I===null?Object.create(I):(G.prototype=I.prototype,new G)}}(),b=function(){return b=Object.assign||function(R){for(var H,I=1,G=arguments.length;I<G;I++){H=arguments[I];for(var K in H)Object.prototype.hasOwnProperty.call(H,K)&&(R[K]=H[K])}return R},b.apply(this,arguments)},x=function(R){C(H,R);function H(I){var G=R.call(this,I)||this;return G.em=I.config.em,G}return H.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},H.prototype.attributes=function(){return this.model.get("attributes")},H.prototype.handleClick=function(I){I.preventDefault(),I.stopPropagation();var G=this.em,K=G.Canvas.getFrameEl().getBoundingClientRect(),J=K.left,E=K.top,Z=b(b({},I),{clientX:I.clientX-J,clientY:I.clientY-E});G.trigger("toolbar:run:before",{event:Z}),this.execCommand(Z)},H.prototype.execCommand=function(I){var G=this,K=G.em,J=G.model,E={event:I},Z=J.get("command"),te=K.Editor;(0,t.isFunction)(Z)&&Z(te,null,E),(0,t.isString)(Z)&&te.runCommand(Z,E)},H.prototype.render=function(){var I=this,G=I.em,K=I.$el,J=I.model,E=J.get("id"),Z=J.get("label"),te=G.getConfig().stylePrefix;return K.addClass("".concat(te,"toolbar-item")),E&&K.addClass("".concat(te,"toolbar-item__").concat(E)),Z&&K.append(Z),this},H}(r.Ss);let w=x;var P=function(){var R=function(H,I){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,K){for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(G[J]=K[J])},R(H,I)};return function(H,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");R(H,I);function G(){this.constructor=H}H.prototype=I===null?Object.create(I):(G.prototype=I.prototype,new G)}}(),M=function(R){P(H,R);function H(I){var G=R.call(this,I)||this,K=I.em;return G.em=K,G.config={em:K},G.listenTo(G.collection,"reset",G.render),G}return H.prototype.onRender=function(){var I=this.em.config.stylePrefix;this.el.className="".concat(I,"toolbar-items")},H}(v.A);let y=M;M.prototype.itemView=w;var A=e(6294),k=e(1166),N=function(){return N=Object.assign||function(R){for(var H,I=1,G=arguments.length;I<G;I++){H=arguments[I];for(var K in H)Object.prototype.hasOwnProperty.call(H,K)&&(R[K]=H[K])}return R},N.apply(this,arguments)},V;let j={activeResizer:!1,init:function(){this.onSelect=(0,t.debounce)(this.onSelect,0),(0,t.bindAll)(this,"onHover","onOut","onClick","onCanvasScroll","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),V=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(R){var H=this,I=this,G=I.em,K=I.canvas,J=K.getCanvasView().el,E=G.getConfig().listenToEl,Z=G.getContainer().parentNode,te=R?"on":"off",de={on:A.on,off:A.AU},Fe=h.I.update;!E.length&&Z&&E.push(Z);var Ge=function(we,ge,ne){de[te](ne,"scroll",H.onCanvasScroll,!0),de[te](ge,"mouseover",H.onHover),de[te](ge,"mouseleave",H.onOut),de[te](ge,"click",H.onClick),de[te](we,"scroll",H.onFrameScroll,!0),de[te](we,"resize",H.onFrameResize)};de[te](window,"resize",this.onFrameUpdated),de[te](E,"scroll",this.onContainerChange),G[te]("component:toggled ".concat(Fe," undo redo"),this.onSelect,this),G[te]("change:componentHovered",this.onHovered,this),G[te]("".concat(h.I.resize," styleable:change ").concat(h.I.input),this.updateGlobalPos,this),G[te]("".concat(Fe,":toolbar"),this._upToolbar,this),G[te]("frame:updated",this.onFrameUpdated,this),G[te]("canvas:updateTools",this.onFrameUpdated,this),G[te](G.Canvas.events.refresh,this.updateAttached,this),G.Canvas.getFrames().forEach(function(we){var ge=we.view,ne=ge?.getWindow();ne&&Ge(ne,ge?.getBody(),J)})},onHover:function(R){R.stopPropagation();var H=this.em,I=R.target,G=(0,k.getComponentView)(I),K=G?.frameView,J=G?.model;if(!J)for(var E=I.parentNode;!J&&E&&!(0,A.ZQ)(E);)J=(0,k.getComponentModel)(E),E=E.parentNode;this.currentDoc=I.ownerDocument,H.setHovered(J,{useValid:!0}),K&&H.setCurrentFrame(K)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(R,H){var I=this,G,K={};H?(G=H.views)===null||G===void 0||G.forEach(function(J){var E=J.el,Z=I.getElementPos(E);K={el:E,pos:Z,component:H,view:J},E.ownerDocument===I.currentDoc&&(I.elHovered=K),I.updateToolsLocal(K)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(J){var E=J.view,Z=E&&E.getToolsEl();Z&&I.toggleToolsEl(0,0,{el:Z})}))},onSelect:function(){var R=this.em,H=R.getSelected(),I=R.getCurrentFrame(),G=H&&H.getView(I?.model),K=G?.el,J={};if(K&&(0,A.zN)(K)){var E=this.getElementPos(K);J={el:K,pos:E,component:H,view:G}}this.elSelected=J,this.updateToolsGlobal(),this.updateLocalPos(J),this.initResize(H)},updateGlobalPos:function(){var R=this.getElSelected();R.el&&(R.pos=this.getElementPos(R.el),this.updateToolsGlobal())},updateLocalPos:function(R){var H=this.getElHovered();H.el&&(H.pos=this.getElementPos(H.el),this.updateToolsLocal(R))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(R,H,I){I===void 0&&(I={});var G=I.el||this.canvas.getToolsEl(H);return G&&(G.style.display=R?"":"none"),G||{}},showElementOffset:function(R,H,I){I===void 0&&(I={}),V&&this.editor.runCommand("show-offset",{el:R,elPos:H,view:I.view,force:1,top:0,left:0})},hideElementOffset:function(R){this.editor.stopCommand("show-offset",{view:R})},showFixedElementOffset:function(R,H){this.editor.runCommand("show-offset",{el:R,elPos:H,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(R){this.canvas.getHighlighter(R).style.opacity=0},onClick:function(R){R.stopPropagation(),R.preventDefault();var H=this.em;if(H.get("_cmpDrag"))return H.set("_cmpDrag");var I=R.target,G=(0,k.getComponentModel)(I);if(!G)for(var K=I.parentNode;!G&&K&&!(0,A.ZQ)(K);)G=(0,k.getComponentModel)(K),K=K.parentNode;if(G){if(H.isEditing()&&(!G.get("textable")&&G.isChildOf("text")||H.getEditing()!==G))return;this.select(G,R)}},select:function(R,H){if(R){var I=this.em;I.setSelected(R,{event:H,useValid:!0}),this.initResize(I.getSelected())}},updateBadge:function(R,H,I){I===void 0&&(I={});var G=this.canvas,K=(0,k.getComponentModel)(R),J=this.getBadge(I),E=J.style;if(!K||!K.get("badgable")){E.display="none";return}if(!I.posOnly){var Z=this.canvas.getConfig(),te=K.getIcon(),de=Z.pStylePrefix||"",Fe="".concat(de,"badge"),Ge=Z.customBadgeLabel,we="".concat(te?'<div class="'.concat(Fe,'__icon">').concat(te,"</div>"):"",`
        <div class="`).concat(Fe,'__name">').concat(K.getName(),"</div>");J.innerHTML=Ge?Ge(K):we}var ge="px";E.display="block";var ne=G.getTargetToElementFixed(R,J,{pos:H}),he=ne.top,Oe=I.leftOff<0?-I.leftOff:0;E.top=he+ge,E.left=Oe+ge},showHighlighter:function(R){this.canvas.getHighlighter(R).style.opacity=""},initResize:function(R){var H=this,I,G=this,K=G.em,J=G.canvas,E=K.Editor,Z=!(0,t.isElement)(R)&&(0,A.GW)(R)?R:K.getSelected(),te=(I=Z?.get)===null||I===void 0?void 0:I.call(Z,"resizable"),de=n.F.Resize,Fe=J.hasCustomSpot(de);J.removeSpots({type:de});var Ge={component:Z,hasCustomResize:Fe,resizable:te};Z&&K.trigger(h.I.resizeInit,Ge);var we=Ge.resizable;if(Z&&we){J.addSpot({type:de,component:Z});var ge=(0,t.isElement)(R)?R:Z.getEl(),ne=(0,k.isObject)(we)?we:{};if(Fe||!ge||this.activeResizer)return;this.resizer=E.runCommand("resize",N(N({},ne),{el:ge,component:Z,force:!0,afterStart:function(){V=!1,H.activeResizer=!0},afterEnd:function(){V=!0,H.activeResizer=!1}}))}else{if(Fe)return;E.stopCommand("resize"),this.resizer=null}},updateToolbar:function(R){var H=this.canvas,I=this.config.em,G=R===I?I.getSelected():R,K=H.getToolbarEl(),J=K.style,E=G.get("toolbar"),Z=I.config.showToolbar,te=!H.hasCustomSpot(n.F.Select);if(G&&Z&&E&&E.length&&te){if(J.display="",!this.toolbar){K.innerHTML="",this.toolbar=new f(E);var de=new y({collection:this.toolbar,em:I});K.appendChild(de.render().el)}this.toolbar.reset(E),J.top="-100px",J.left="0"}else J.display="none"},updateToolbarPos:function(R){var H="px",I=this.canvas.getToolbarEl().style;I.top="".concat(R.top).concat(H),I.left="".concat(R.left).concat(H),I.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(R){return R===void 0&&(R={}),this.canvas.getBadgeEl(R.view)},onCanvasScroll:function(R){this.onFrameScroll(R),this.onContainerChange()},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(R){return R&&R.get("status")==="selected"},updateToolsLocal:function(R){var H=this.em.getConfig(),I=R||this.getElHovered(),G=I.el,K=I.pos,J=I.view,E=I.component;if(!G){this.lastHovered=0;return}var Z=E.get("hoverable"),te=this.lastHovered!==G,de=te?{}:{posOnly:1},Fe=this.canvas.hasCustomSpot(n.F.Hover);te&&Z&&(this.lastHovered=G,Fe?this.hideHighlighter(J):this.showHighlighter(J),this.showElementOffset(G,K,{view:J})),this.isCompSelected(E)&&(this.hideHighlighter(J),!H.showOffsetsSelected&&this.hideElementOffset(J));var Ge="px",we=this.toggleToolsEl(1,J),ge=we.style,ne=this.canvas.canvasRectOffset(G,K),he=ne.top,Oe=ne.left;!Fe&&this.updateBadge(G,K,N(N({},de),{view:J,topOff:he,leftOff:Oe})),ge.top=he+Ge,ge.left=Oe+Ge,ge.width=K.width+Ge,ge.height=K.height+Ge,this._trgToolUp("local",{component:E,el:we,top:he,left:Oe,width:K.width,height:K.height})},_upToolbar:(0,t.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(R,H){H===void 0&&(H={}),this.em.trigger("canvas:tools:update",N({type:R},H))},updateToolsGlobal:function(R){R===void 0&&(R={});var H=this.getElSelected(),I=H.el,G=H.pos,K=H.component;if(!I){this.toggleToolsEl(),this.lastSelected=0;return}var J=this.canvas,E=this.lastSelected!==I;(E||R.force)&&(this.lastSelected=I,this.updateToolbar(K));var Z="px",te=this.toggleToolsEl(1),de=te.style,Fe=J.getTargetToElementFixed(I,J.getToolbarEl(),{pos:G}),Ge=Fe.canvasOffsetTop,we=Fe.canvasOffsetLeft;de.top=Ge+Z,de.left=we+Z,de.width=G.width+Z,de.height=G.height+Z,this.updateToolbarPos({top:Fe.top,left:Fe.left}),this._trgToolUp("global",{component:K,el:te,top:Ge,left:we,width:G.width,height:G.height})},updateAttached:(0,t.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,t.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(R){return this.canvas.getCanvasView().getElementPos(R,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(R){R&&R.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(R){(0,k.hasWin)()&&(this.editor=R&&R.get("Editor"),this.enable())},stop:function(R,H,I){if(I===void 0&&(I={}),!!(0,k.hasWin)()){var G=this,K=G.em,J=G.editor;this.onHovered(),this.stopSelectComponent(),!I.preserveSelected&&K.setSelected(),this.toggleToolsEl(),this.updateAttached.cancel(),J&&J.stopCommand("resize")}}}},1406:(o,i,e)=>{e.r(i),e.d(i,{default:()=>a});var t=e(7774),n=e(1447),r=e(8433);let a={startSelectPosition:function(s,c,d){d===void 0&&(d={}),this.isPointed=!1;var p=this.em.Utils,f=s[0].ownerDocument.body;p&&(this.sorter=new p.ComponentSorter({em:this.em,treeClass:n.A,containerContext:{container:f,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:c,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:r.A.BothDirections,nested:!0}})),d.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=d.onStart),s&&s.length>0&&this.sorter.startSort(s.map(function(h){return{element:h}}))},getOffsetDim:function(){var s=this.offset(this.canvas.getFrameEl()),c=this.offset(this.canvas.getElement()),d=s.top-c.top,p=s.left-c.left;return{top:d,left:p}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,t.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,t.default)(this.cDim[this.posIndex][5]).parent():(0,t.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(s,c,d){var p=s||0,f=c||"before",h=d.length,v=h!==0&&f=="after"&&p==h;return h!==0&&(!v&&!d[p][4]||d[p-1]&&!d[p-1][4]||v&&!d[p-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},9395:(o,i,e)=>{e.r(i),e.d(i,{default:()=>s});var t=e(5706),n=e(179),r=e(7774),a=function(){return a=Object.assign||function(c){for(var d,p=1,f=arguments.length;p<f;p++){d=arguments[p];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(c[h]=d[h])}return c},a.apply(this,arguments)};let s={getOffsetMethod:function(c){var d=c||"";return"get"+d+"OffsetViewerEl"},run:function(c,d,p){var f=this.canvas,h=p||{},v=h.state||"",C=c.getConfig(),b=this.em.getZoomDecimal(),x=h.el;if(!C.showOffsets||!(x instanceof HTMLElement)||!C.showOffsetsSelected&&v=="Fixed"){c.stopCommand("".concat(this.id),p);return}if(!f.hasCustomSpot(n.F.Spacing)){var w=a({},h.elPos||f.getElementPos(x));(0,t.isUndefined)(h.top)||(w.top=h.top),(0,t.isUndefined)(h.left)||(w.left=h.left);var P=window.getComputedStyle(x),M=this.ppfx,y=v+"State",A=this.getOffsetMethod(v),k=f[A](p.view);k.style.opacity="";var N=this["marginT"+v],V=this["marginB"+v],j=this["marginL"+v],R=this["marginR"+v],H=this["padT"+v],I=this["padB"+v],G=this["padL"+v],K=this["padR"+v];if(k.childNodes.length&&(this[y]="1",N=k.querySelector("[data-offset-m-t]"),V=k.querySelector("[data-offset-m-b]"),j=k.querySelector("[data-offset-m-l]"),R=k.querySelector("[data-offset-m-r]"),H=k.querySelector("[data-offset-p-t]"),I=k.querySelector("[data-offset-p-b]"),G=k.querySelector("[data-offset-p-l]"),K=k.querySelector("[data-offset-p-r]")),!this[y]){var J=v.toLowerCase(),E=J+"margin-v",Z=J+"padding-v",te=(0,r.default)('<div class="'.concat(M,'marginName">')).get(0),de=(0,r.default)('<div class="'.concat(M,'paddingName">')).get(0),Fe=M+E+"-el",Ge=M+Z+"-el",we="".concat(Fe," ").concat(M+E),ge="".concat(Ge," ").concat(M+Z);N=(0,r.default)('<div class="'.concat(we,'-top"></div>')).get(0),V=(0,r.default)('<div class="'.concat(we,'-bottom"></div>')).get(0),j=(0,r.default)('<div class="'.concat(we,'-left"></div>')).get(0),R=(0,r.default)('<div class="'.concat(we,'-right"></div>')).get(0),H=(0,r.default)('<div class="'.concat(ge,'-top"></div>')).get(0),I=(0,r.default)('<div class="'.concat(ge,'-bottom"></div>')).get(0),G=(0,r.default)('<div class="'.concat(ge,'-left"></div>')).get(0),K=(0,r.default)('<div class="'.concat(ge,'-right"></div>')).get(0),this["marginT"+v]=N,this["marginB"+v]=V,this["marginL"+v]=j,this["marginR"+v]=R,this["padT"+v]=H,this["padB"+v]=I,this["padL"+v]=G,this["padR"+v]=K,te.appendChild(N),te.appendChild(V),te.appendChild(j),te.appendChild(R),de.appendChild(H),de.appendChild(I),de.appendChild(G),de.appendChild(K),k.appendChild(te),k.appendChild(de),this[y]="1"}var ne="px",he=parseFloat(P.marginLeft.replace(ne,""))*b,Oe=parseFloat(P.marginRight.replace(ne,""))*b,Te=parseFloat(P.marginTop.replace(ne,""))*b,Ne=parseFloat(P.marginBottom.replace(ne,""))*b,ze=N.style,ke=V.style,oe=j.style,Ue=R.style,ot=H.style,_e=I.style,Je=G.style,ut=K.style,at=parseFloat(w.left),U=parseFloat(P.width)*b+ne;ze.height=Te+ne,ze.width=U,ze.top=w.top-Te+ne,ze.left=at+ne,ke.height=Ne+ne,ke.width=U,ke.top=w.top+w.height+ne,ke.left=at+ne;var re=w.height+Te+Ne+ne,fe=w.top-Te+ne;oe.height=re,oe.width=he+ne,oe.top=fe,oe.left=at-he+ne,Ue.height=re,Ue.width=Oe+ne,Ue.top=fe,Ue.left=at+w.width+ne;var Ee=parseFloat(P.paddingTop)*b;ot.height=Ee+ne;var Ke=parseFloat(P.paddingBottom)*b;_e.height=Ke+ne;var pe=w.height-Ke-Ee+ne,Se=w.top+Ee+ne;Je.height=pe,Je.width=parseFloat(P.paddingLeft)*b+ne,Je.top=Se;var Le=parseFloat(P.paddingRight)*b;ut.height=pe,ut.width=Le+ne,ut.top=Se}},stop:function(c,d,p){p===void 0&&(p={});var f=p||{},h=f.state||"",v=this.getOffsetMethod(h),C=p.view,b=this.canvas,x=b[v](C);x.style.opacity=0}}},7285:(o,i,e)=>{e.r(i),e.d(i,{default:()=>r});var t=e(5706),n=e(1166);let r={init:function(){(0,t.bindAll)(this,"_onFramesChange")},run:function(a){this.toggleVis(a,!0)},stop:function(a){this.toggleVis(a,!1)},toggleVis:function(a,s){if(s===void 0&&(s=!0),!a.Commands.isActive("preview")){var c=a.Canvas,d=s?"on":"off",p=c.getModel();p[d]("change:frames",this._onFramesChange),this.handleFrames(c.getFrames(),s)}},handleFrames:function(a,s){var c=this;a.forEach(function(d){var p;!((p=d.view)===null||p===void 0)&&p.loaded&&c._upFrame(d,s),d.__ol||(d.on("loaded",function(){return c._upFrame(d)}),d.__ol=!0)})},_onFramesChange:function(a,s){this.handleFrames(s)},_upFrame:function(a,s){var c,d=this,p=d.ppfx,f=d.em,h=d.id,v=(0,n.isDef)(s)?s:f.Commands.isActive(h),C=v?"add":"remove",b="".concat(p,"dashed");(c=a.view)===null||c===void 0||c.getBody().classList[C](b)}}},9156:(o,i,e)=>{e.d(i,{Kx:()=>c,Ss:()=>p,e2:()=>s,lK:()=>h,pM:()=>d,x2:()=>f});var t=e(4193),n=e.n(t),r=function(){var C=function(b,x){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,P){w.__proto__=P}||function(w,P){for(var M in P)Object.prototype.hasOwnProperty.call(P,M)&&(w[M]=P[M])},C(b,x)};return function(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");C(b,x);function w(){this.constructor=b}b.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}}(),a=function(){return a=Object.assign||function(C){for(var b,x=1,w=arguments.length;x<w;x++){b=arguments[x];for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(C[P]=b[P])}return C},a.apply(this,arguments)},s="add remove reset change",c=function(C){r(b,C);function b(){return C!==null&&C.apply(this,arguments)||this}return b}(n().Model),d=function(C){r(b,C);function b(){return C!==null&&C.apply(this,arguments)||this}return b}(n().Collection),p=function(C){r(b,C);function b(){return C!==null&&C.apply(this,arguments)||this}return b}(n().View),f=function(C){return C.Screen="screen",C.World="world",C}(f||{}),h={x:0,y:0},v=a(a({},h),{width:0,height:0})},2225:(o,i,e)=>{e.d(i,{I:()=>n,t:()=>t});var t=function(r){return r.remove="component:remove",r.add="component:add",r.move="component:move",r}(t||{}),n=function(r){return r.add="component:add",r.remove="component:remove",r.removeBefore="component:remove:before",r.removed="component:removed",r.create="component:create",r.update="component:update",r.updateInside="component:update-inside",r.styleUpdate="component:styleUpdate",r.styleUpdateProperty="component:styleUpdate:",r.select="component:select",r.selectBefore="component:select:before",r.mount="component:mount",r.scriptMount="component:script:mount",r.scriptMountBefore="component:script:mount:before",r.scriptUnmount="component:script:unmount",r.render="component:render",r.input="component:input",r.resize="component:resize",r.resizeStart="component:resize:start",r.resizeMove="component:resize:move",r.resizeEnd="component:resize:end",r.resizeUpdate="component:resize:update",r.resizeInit="component:resize:init",r.symbolMainAdd="symbol:main:add",r.symbolMainUpdate="symbol:main:update",r.symbolMainUpdateDeep="symbol:main:update-deep",r.symbolMainRemove="symbol:main:remove",r.symbolMain="symbol:main",r.symbolInstanceAdd="symbol:instance:add",r.symbolInstanceRemove="symbol:instance:remove",r.symbolInstance="symbol:instance",r.symbol="symbol",r}(n||{})},8242:(o,i,e)=>{e.d(i,{A:()=>s});var t=e(5706),n=e(9156),r=function(){var c=function(d,p){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(f[v]=h[v])},c(d,p)};return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");c(d,p);function f(){this.constructor=d}d.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),a=function(c){r(d,c);function d(p,f,h){p===void 0&&(p={}),h===void 0&&(h=!1);var v=c.call(this,p)||this;return v.itemsView="",v.itemType="type",v.reuseView=!1,v.config=f||p.config||{},h&&v.listenTo(v.collection,"add",v.addTo),v.items=[],v}return d.prototype.addTo=function(p){this.add(p)},d.prototype.itemViewNotFound=function(p){var f=this,h=f.config,v=f.ns,C=h.em,b="".concat(v?"[".concat(v,"]: "):"","'").concat(p,"' type not found");C&&C.logWarning(b)},d.prototype.add=function(p,f){var h=this,v=h.config,C=h.reuseView,b=h.items,x=this.itemsView||{},w=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],P=f||null,M=this.itemView,y=p.get(this.itemType),A;x[y]?M=x[y]:y&&!x[y]&&!(0,t.includes)(w,y)&&this.itemViewNotFound(y),p.view&&C?A=p.view:A=new M({model:p,config:v},v),b&&b.push(A);var k=A.render().el;P?P.appendChild(k):this.$el.append(k)},d.prototype.render=function(){var p=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(f){this.add(f,p)},this),this.$el.append(p),this.onRender(),this},d.prototype.onRender=function(){},d.prototype.onRemoveBefore=function(p,f){},d.prototype.onRemove=function(p,f){},d.prototype.remove=function(p){p===void 0&&(p={});var f=this.items;return this.onRemoveBefore(f,p),this.clearItems(),c.prototype.remove.call(this),this.onRemove(f,p),this},d.prototype.clearItems=function(){var p=this.items||[]},d}(n.Ss);let s=a;a.prototype.itemView=""},9966:(o,i,e)=>{e.d(i,{A:()=>d});var t=e(5706),n=e(6294),r=function(){return r=Object.assign||function(p){for(var f,h=1,v=arguments.length;h<v;h++){f=arguments[h];for(var C in f)Object.prototype.hasOwnProperty.call(f,C)&&(p[C]=f[C])}return p},r.apply(this,arguments)},a=function(){return{x:0,y:0}},s=["x","y"],c=function(){function p(f){return f===void 0&&(f={}),this.opts={snapGuides:{x:5,y:5},snapOffset:5,scale:1},(0,t.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(f),this.delta=a(),this.lastScroll=a(),this.lastScrollDiff=a(),this.startPointer=a(),this.startPosition=a(),this.globScrollDiff=a(),this.currentPointer=a(),this.position=a(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return p.prototype.setOptions=function(f){f===void 0&&(f={}),this.opts=r(r({},this.opts),f)},p.prototype.toggleDrag=function(f){var h=this.getDocumentEl(),v=this.getContainerEl(),C=this.getWindowEl(),b=f?"on":"off",x={on:n.on,off:n.AU};x[b](v,"mousemove dragover",this.drag),x[b](h,"mouseup dragend touchend",this.stop),x[b](h,"keydown",this.keyHandle),x[b](C,"scroll",this.handleScroll)},p.prototype.handleScroll=function(){var f=this,h=f.lastScroll,v=f.delta,C=this.getScrollInfo(),b={x:C.x-h.x,y:C.y-h.y};this.move(v.x+b.x,v.y+b.y),this.lastScrollDiff=b},p.prototype.start=function(f){var h=this.opts,v=h.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(f),this.guidesStatic=(0,t.result)(h,"guidesStatic")||[],this.guidesTarget=(0,t.result)(h,"guidesTarget")||[],(0,t.isFunction)(v)&&v(f,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=a(),this.globScrollDiff=a(),this.drag(f)},p.prototype.drag=function(f){var h=this,v=this,C=v.opts,b=v.lastScrollDiff,x=v.globScrollDiff,w=C.onDrag,P=this.startPointer,M=this.getPointerPos(f),y={x:x.x+b.x,y:x.y+b.y};this.globScrollDiff=y;var A={x:M.x-P.x+y.x,y:M.y-P.y+y.y};this.lastScrollDiff=a();var k=function(I){s.forEach(function(G){return I[G]=I[G]*(0,t.result)(C,"scale")}),h.delta=I,h.move(I.x,I.y),(0,t.isFunction)(w)&&w(f,h)},N=r({},A);if(this.currentPointer=M,this.lastScroll=this.getScrollInfo(),k(A),this.guidesTarget.length){var V=this.snapGuides(N),j=V.newDelta,R=V.trgX,H=V.trgY;(R||H)&&k(j)}f.which===0&&this.stop(f)},p.prototype.snapGuides=function(f){var h=this,v=r({},f),C=this,b=C.trgX,x=C.trgY;return this.guidesTarget.forEach(function(w){w.x&&h.trgX||w.y&&h.trgY||(w.active=!1,h.guidesStatic.forEach(function(P){if(!(w.y&&P.x||w.x&&P.y)){var M=w.y&&P.y,y=M?"y":"x",A=w[y],k=P[y],N=f[y],V=M?x:b;if(h.isPointIn(A,k,{axis:y})&&(0,t.isUndefined)(V)){var j=N-(A-k);h.setGuideLock(w,j)}}}))}),b=this.trgX,x=this.trgY,s.forEach(function(w){var P=w.toUpperCase(),M=h["trg".concat(P)];M&&!h.isPointIn(f[w],M.lock,{axis:w})&&(h.setGuideLock(M,null),M=null),M&&!(0,t.isUndefined)(M.lock)&&(v[w]=M.lock)}),{newDelta:v,trgX:this.trgX,trgY:this.trgY}},p.prototype.isPointIn=function(f,h,v){var C,b=v===void 0?{}:v,x=b.offset,w=b.axis,P=this.opts,M=P.snapGuides,y=M===void 0?{}:M,A=P.snapOffset,k=A===void 0?0:A,N=w==="x"?y.x:w==="y"?y.y:void 0,V=N===0?0:(C=x??N)!==null&&C!==void 0?C:k;return V===0?!1:f>=h&&f<=h+V||f<=h&&f>=h-V},p.prototype.setGuideLock=function(f,h){var v=(0,t.isUndefined)(f.x)?"Y":"X",C="trg".concat(v);return h!==null?(f.active=!0,f.lock=h,this[C]=f):(delete f.active,delete f.lock,delete this[C]),f},p.prototype.stop=function(f,h){h===void 0&&(h={});var v=this.delta,C=!!h.cancel,b=C?0:v.x,x=C?0:v.y;this.toggleDrag(),this.move(b,x,!0);var w=this.opts.onEnd;(0,t.isFunction)(w)&&w(f,this,{cancelled:C})},p.prototype.keyHandle=function(f){(0,n.v$)(f)&&this.stop(f,{cancel:!0})},p.prototype.move=function(f,h,v){var C=this,b=C.el,x=C.opts,w=this.startPosition;if(w){var P=x.setPosition,M=w.x+f,y=w.y+h;this.position={x:M,y,end:v},(0,t.isFunction)(P)&&P(this.position),b&&(b.style.left="".concat(M,"px"),b.style.top="".concat(y,"px"))}},p.prototype.getContainerEl=function(){var f=this.opts.container;return f?[f]:this.getDocumentEl()},p.prototype.getWindowEl=function(){var f=this.getContainerEl();return f.map(function(h){var v=h.ownerDocument||h;return v.defaultView||v.parentWindow})},p.prototype.getDocumentEl=function(f){var h=this.opts.doc;if(f=f||this.el,!this.docs.length){var v=[document];f&&v.push(f.ownerDocument),h&&v.push(h),this.docs=v}return this.docs},p.prototype.getPointerPos=function(f){var h=this.opts.getPointerPosition,v=(0,n.G2)(f);return h?h(f):{x:v.clientX,y:v.clientY}},p.prototype.getStartPosition=function(){var f=this,h=f.el,v=f.opts,C=v.getPosition,b=a();return(0,t.isFunction)(C)?b=C():h&&(b={x:parseFloat(h.style.left),y:parseFloat(h.style.top)}),b},p.prototype.getScrollInfo=function(){var f=this.opts.doc,h=f&&f.body;return{y:h?h.scrollTop:0,x:h?h.scrollLeft:0}},p.prototype.detectAxisLock=function(f,h){var v=f,C=h,b=Math.abs(v),x=Math.abs(C);if(C>=b||C<=-b)return"x";if(v>x||v<-x)return"y"},p}();let d=c},7774:(o,i,e)=>{e.r(i),e.d(i,{default:()=>Rn});var t=typeof document<"u"?document:null,n=typeof window<"u"?window:null,r=Array.prototype,a=r.filter,s=r.indexOf,c=r.map,d=r.push,p=r.reverse,f=r.slice,h=r.splice,v=/^#[\w-]*$/,C=/^\.[\w-]*$/,b=/<.+>/,x=/^\w+$/;function w(se,xe){return xe===void 0&&(xe=t),C.test(se)?xe.getElementsByClassName(se.slice(1)):x.test(se)?xe.getElementsByTagName(se):xe.querySelectorAll(se)}function P(se,xe){if(xe===void 0&&(xe=t),!!se){if(se.__cash)return se;var Ie=se;if(G(se)){if(xe.__cash&&(xe=xe[0]),Ie=v.test(se)?xe.getElementById(se.slice(1)):b.test(se)?Qt(se):w(se,xe),!Ie)return}else if(I(se))return this.ready(se);(Ie.nodeType||Ie===n)&&(Ie=[Ie]),this.length=Ie.length;for(var Qe=0,vt=this.length;Qe<vt;Qe++)this[Qe]=Ie[Qe]}}function M(se,xe){return new P(se,xe)}var y=M.fn=M.prototype=P.prototype={constructor:M,__cash:!0,length:0,splice:h};y.get=function(se){return se===void 0?f.call(this):this[se<0?se+this.length:se]},y.eq=function(se){return M(this.get(se))},y.first=function(){return this.eq(0)},y.last=function(){return this.eq(-1)},y.map=function(se){return M(c.call(this,function(xe,Ie){return se.call(xe,Ie,xe)}))},y.slice=function(){return M(f.apply(this,arguments))};var A=/(?:^\w|[A-Z]|\b\w)/g,k=/[\s-_]+/g;function N(se){return se.replace(A,function(xe,Ie){return xe[Ie?"toUpperCase":"toLowerCase"]()}).replace(k,"")}M.camelCase=N;function V(se,xe){for(var Ie=0,Qe=se.length;Ie<Qe&&xe.call(se[Ie],se[Ie],Ie,se)!==!1;Ie++);}M.each=V,y.each=function(se){return V(this,function(xe,Ie){return se.call(xe,Ie,xe)}),this},y.removeProp=function(se){return this.each(function(xe,Ie){delete Ie[se]})};function j(se){se===void 0&&(se=this);for(var xe=arguments,Ie=xe.length,Qe=Ie<2?0:1;Qe<Ie;Qe++)for(var vt in xe[Qe])se[vt]=xe[Qe][vt];return se}M.extend=y.extend=j;var R=1;M.guid=R;function H(se,xe){var Ie=se&&(se.matches||se.webkitMatchesSelector||se.mozMatchesSelector||se.msMatchesSelector||se.oMatchesSelector);return!!Ie&&Ie.call(se,xe)}M.matches=H;function I(se){return typeof se=="function"}M.isFunction=I;function G(se){return typeof se=="string"}M.isString=G;function K(se){return!isNaN(parseFloat(se))&&isFinite(se)}M.isNumeric=K;var J=Array.isArray;M.isArray=J,y.prop=function(se,xe){if(se){if(G(se))return arguments.length<2?this[0]&&this[0][se]:this.each(function(Qe,vt){vt[se]=xe});for(var Ie in se)this.prop(Ie,se[Ie]);return this}};function E(se){return G(se)?function(xe,Ie){return H(Ie,se)}:se.__cash?function(xe,Ie){return se.is(Ie)}:function(xe,Ie,Qe){return Ie===Qe}}y.filter=function(se){if(!se)return M();var xe=I(se)?se:E(se);return M(a.call(this,function(Ie,Qe){return xe.call(Ie,Qe,Ie,se)}))};var Z=/\S+/g;function te(se){return G(se)?se.match(Z)||[]:[]}y.hasClass=function(se){var xe=te(se),Ie=!1;return xe.length&&this.each(function(Qe,vt){return Ie=vt.classList.contains(xe[0]),!Ie}),Ie},y.removeAttr=function(se){var xe=te(se);return xe.length?this.each(function(Ie,Qe){V(xe,function(vt){Qe.removeAttribute(vt)})}):this},y.attr=function(se,xe){if(se){if(G(se)){if(arguments.length<2){if(!this[0])return;var Ie=this[0].getAttribute(se);return Ie===null?void 0:Ie}return xe===null?this.removeAttr(se):this.each(function(vt,Ot){Ot.setAttribute(se,xe)})}for(var Qe in se)this.attr(Qe,se[Qe]);return this}},y.toggleClass=function(se,xe){var Ie=te(se),Qe=xe!==void 0;return Ie.length?this.each(function(vt,Ot){V(Ie,function(It){Qe?xe?Ot.classList.add(It):Ot.classList.remove(It):Ot.classList.toggle(It)})}):this},y.addClass=function(se){return this.toggleClass(se,!0)},y.removeClass=function(se){return arguments.length?this.toggleClass(se,!1):this.attr("class","")};function de(se){return se.filter(function(xe,Ie,Qe){return Qe.indexOf(xe)===Ie})}M.unique=de,y.add=function(se,xe){return M(de(this.get().concat(M(se,xe).get())))};function Fe(se,xe,Ie){if(se.nodeType===1){var Qe=n.getComputedStyle(se,null);return xe?Ie?Qe.getPropertyValue(xe):Qe[xe]:Qe}}function Ge(se,xe){return parseInt(Fe(se,xe),10)||0}var we=/^--/;function ge(se){return we.test(se)}var ne={},he=t&&t.createElement("div"),Oe=he?he.style:{},Te=["webkit","moz","ms","o"];function Ne(se,xe){if(xe===void 0&&(xe=ge(se)),xe)return se;if(!ne[se]){var Ie=N(se),Qe=""+Ie.charAt(0).toUpperCase()+Ie.slice(1),vt=(Ie+" "+Te.join(Qe+" ")+Qe).split(" ");V(vt,function(Ot){if(Ot in Oe)return ne[se]=Ot,!1})}return ne[se]}M.prefixedProp=Ne;var ze={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function ke(se,xe,Ie){return Ie===void 0&&(Ie=ge(se)),!Ie&&!ze[se]&&K(xe)?xe+"px":xe}y.css=function(se,xe){if(G(se)){var Ie=ge(se);return se=Ne(se,Ie),arguments.length<2?this[0]&&Fe(this[0],se,Ie):se?(xe=ke(se,xe,Ie),this.each(function(vt,Ot){Ot.nodeType===1&&(Ie?Ot.style.setProperty(se,xe):Ot.style[se]=xe)})):this}for(var Qe in se)this.css(Qe,se[Qe]);return this};var oe="__cashData",Ue=/^data-(.*)/;M.hasData=function(se){return oe in se};function ot(se){return se[oe]=se[oe]||{}}function _e(se,xe){var Ie=ot(se);if(xe){if(!(xe in Ie)){var Qe=se.dataset?se.dataset[xe]||se.dataset[N(xe)]:M(se).attr("data-"+xe);if(Qe!==void 0){try{Qe=JSON.parse(Qe)}catch{}Ie[xe]=Qe}}return Ie[xe]}return Ie}function Je(se,xe){xe===void 0?delete se[oe]:delete ot(se)[xe]}function ut(se,xe,Ie){ot(se)[xe]=Ie}y.data=function(se,xe){var Ie=this;if(!se)return this[0]?(V(this[0].attributes,function(vt){var Ot=vt.name.match(Ue);Ot&&Ie.data(Ot[1])}),_e(this[0])):void 0;if(G(se))return xe===void 0?this[0]&&_e(this[0],se):this.each(function(vt,Ot){return ut(Ot,se,xe)});for(var Qe in se)this.data(Qe,se[Qe]);return this},y.removeData=function(se){return this.each(function(xe,Ie){return Je(Ie,se)})};function at(se,xe){return Ge(se,"border"+(xe?"Left":"Top")+"Width")+Ge(se,"padding"+(xe?"Left":"Top"))+Ge(se,"padding"+(xe?"Right":"Bottom"))+Ge(se,"border"+(xe?"Right":"Bottom")+"Width")}V(["Width","Height"],function(se){y["inner"+se]=function(){if(this[0])return this[0]===n?n["inner"+se]:this[0]["client"+se]}}),V(["width","height"],function(se,xe){y[se]=function(Ie){return this[0]?arguments.length?(Ie=parseInt(Ie,10),this.each(function(Qe,vt){if(vt.nodeType===1){var Ot=Fe(vt,"boxSizing");vt.style[se]=ke(se,Ie+(Ot==="border-box"?at(vt,!xe):0))}})):this[0]===n?this[0][N("outer-"+se)]:this[0].getBoundingClientRect()[se]-at(this[0],!xe):Ie===void 0?void 0:this}}),V(["Width","Height"],function(se,xe){y["outer"+se]=function(Ie){if(this[0])return this[0]===n?n["outer"+se]:this[0]["offset"+se]+(Ie?Ge(this[0],"margin"+(xe?"Top":"Left"))+Ge(this[0],"margin"+(xe?"Bottom":"Right")):0)}});function U(se,xe){for(var Ie=0,Qe=xe.length;Ie<Qe;Ie++)if(se.indexOf(xe[Ie])<0)return!1;return!0}function re(se,xe,Ie){V(se[Ie],function(Qe){var vt=Qe[0],Ot=Qe[1];xe.removeEventListener(Ie,Ot)}),delete se[Ie]}var fe="__cashEvents",Ee=".";function Ke(se){return se[fe]=se[fe]||{}}function pe(se,xe,Ie,Qe){Qe.guid=Qe.guid||R++;var vt=Ke(se);vt[xe]=vt[xe]||[],vt[xe].push([Ie,Qe]),se.addEventListener(xe,Qe)}function Se(se){var xe=se.split(Ee);return[xe[0],xe.slice(1).sort()]}function Le(se,xe,Ie,Qe){var vt=Ke(se);if(xe){var Ot=vt[xe];if(!Ot)return;Qe&&(Qe.guid=Qe.guid||R++),vt[xe]=Ot.filter(function(It){var _n=It[0],gn=It[1];if(Qe&&gn.guid!==Qe.guid||!U(_n,Ie))return!0;se.removeEventListener(xe,gn)})}else if(!Ie||!Ie.length)for(xe in vt)re(vt,se,xe);else for(xe in vt)Le(se,xe,Ie,Qe)}y.off=function(se,xe){var Ie=this;return se===void 0?this.each(function(Qe,vt){return Le(vt)}):V(te(se),function(Qe){var vt=Se(Qe),Ot=vt[0],It=vt[1];Ie.each(function(_n,gn){return Le(gn,Ot,It,xe)})}),this},y.on=function(se,xe,Ie,Qe){var vt=this;if(!G(se)){for(var Ot in se)this.on(Ot,xe,se[Ot]);return this}return I(xe)&&(Ie=xe,xe=!1),V(te(se),function(It){var _n=Se(It),gn=_n[0],nn=_n[1];vt.each(function(Zn,yn){var cn=function ni(fn){if(!(fn.namespace&&!U(nn,fn.namespace.split(Ee)))){var an=yn;if(xe){for(var bn=fn.target;!H(bn,xe);)if(bn===yn||(bn=bn.parentNode,!bn))return;an=bn}fn.namespace=fn.namespace||"";var Vn=Ie.call(an,fn,fn.data);Qe&&Le(yn,gn,nn,ni),Vn===!1&&(fn.preventDefault(),fn.stopPropagation())}};cn.guid=Ie.guid=Ie.guid||R++,pe(yn,gn,nn,cn)})}),this},y.one=function(se,xe,Ie){return this.on(se,xe,Ie,!0)},y.ready=function(se){var xe=function(){return se(M)};return t.readyState!=="loading"?setTimeout(xe):t.addEventListener("DOMContentLoaded",xe),this},y.trigger=function(se,xe){var Ie=se;if(G(se)){var Qe=Se(se),vt=Qe[0],Ot=Qe[1];Ie=t.createEvent("HTMLEvents"),Ie.initEvent(vt,!0,!0),Ie.namespace=Ot.join(Ee)}return Ie.data=xe,this.each(function(It,_n){_n.dispatchEvent(Ie)})};function ft(se){var xe=[];return V(se.options,function(Ie){Ie.selected&&!Ie.disabled&&!Ie.parentNode.disabled&&xe.push(Ie.value)}),xe}function qt(se){return se.selectedIndex<0?null:se.options[se.selectedIndex].value}var At=/select-one/i,ce=/select-multiple/i;function Me(se){var xe=se.type;return At.test(xe)?qt(se):ce.test(xe)?ft(se):se.value}var ie=/%20/g;function Xe(se,xe){return"&"+encodeURIComponent(se)+"="+encodeURIComponent(xe).replace(ie,"+")}var Re=/file|reset|submit|button|image/i,st=/radio|checkbox/i;y.serialize=function(){var se="";return this.each(function(xe,Ie){V(Ie.elements||[Ie],function(Qe){if(!(Qe.disabled||!Qe.name||Qe.tagName==="FIELDSET")&&!Re.test(Qe.type)&&!(st.test(Qe.type)&&!Qe.checked)){var vt=Me(Qe);if(vt!==void 0){var Ot=J(vt)?vt:[vt];V(Ot,function(It){se+=Xe(Qe.name,It)})}}})}),se.substr(1)},y.val=function(se){return se===void 0?this[0]&&Me(this[0]):this.each(function(xe,Ie){var Qe=ce.test(Ie.type),vt=se===null?Qe?[]:"":se;Qe&&J(vt)?V(Ie.options,function(Ot){Ot.selected=vt.indexOf(Ot.value)>=0}):Ie.value=vt})},y.clone=function(){return this.map(function(se,xe){return xe.cloneNode(!0)})},y.detach=function(){return this.each(function(se,xe){xe.parentNode&&xe.parentNode.removeChild(xe)})};var yt=/^\s*<(\w+)[^>]*>/,bt=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,mt;function Et(){if(!mt){var se=t.createElement("table"),xe=t.createElement("tr");mt={"*":t.createElement("div"),tr:t.createElement("tbody"),td:xe,th:xe,thead:se,tbody:se,tfoot:se}}}function Qt(se){if(Et(),!G(se))return[];if(bt.test(se))return[t.createElement(RegExp.$1)];var xe=yt.test(se)&&RegExp.$1,Ie=mt[xe]||mt["*"];return Ie.innerHTML=se,M(Ie.childNodes).detach().get()}M.parseHTML=Qt,y.empty=function(){var se=this[0];if(se)for(;se.firstChild;)se.removeChild(se.firstChild);return this};function $t(se,xe,Ie){Ie?se.insertBefore(xe,se.childNodes[0]):se.appendChild(xe)}function Zt(se,xe,Ie){if(xe!==void 0){var Qe=G(xe);!Qe&&xe.length?V(xe,function(vt){return Zt(se,vt,Ie)}):V(se,Qe?function(vt){vt.insertAdjacentHTML(Ie?"afterbegin":"beforeend",xe)}:function(vt,Ot){return $t(vt,Ot?xe.cloneNode(!0):xe,Ie)})}}y.append=function(){var se=this;return V(arguments,function(xe){Zt(se,xe)}),this},y.appendTo=function(se){return Zt(M(se),this),this},y.html=function(se){if(se===void 0)return this[0]&&this[0].innerHTML;var xe=se.nodeType?se[0].outerHTML:se;return this.each(function(Ie,Qe){Qe.innerHTML=xe})},y.insertAfter=function(se){var xe=this;return M(se).each(function(Ie,Qe){var vt=Qe.parentNode;xe.each(function(Ot,It){vt.insertBefore(Ie?It.cloneNode(!0):It,Qe.nextSibling)})}),this},y.after=function(){var se=this;return V(p.apply(arguments),function(xe){p.apply(M(xe).slice()).insertAfter(se)}),this},y.insertBefore=function(se){var xe=this;return M(se).each(function(Ie,Qe){var vt=Qe.parentNode;xe.each(function(Ot,It){vt.insertBefore(Ie?It.cloneNode(!0):It,Qe)})}),this},y.before=function(){var se=this;return V(arguments,function(xe){M(xe).insertBefore(se)}),this},y.prepend=function(){var se=this;return V(arguments,function(xe){Zt(se,xe,!0)}),this},y.prependTo=function(se){return Zt(M(se),p.apply(this.slice()),!0),this},y.remove=function(){return this.detach().off()},y.replaceWith=function(se){var xe=this;return this.each(function(Ie,Qe){var vt=Qe.parentNode;if(vt){var Ot=Ie?M(se).clone():M(se);if(!Ot[0])return xe.remove(),!1;vt.replaceChild(Ot[0],Qe),M(Ot[0]).after(Ot.slice(1))}})},y.replaceAll=function(se){return M(se).replaceWith(this),this},y.text=function(se){return se===void 0?this[0]?this[0].textContent:"":this.each(function(xe,Ie){Ie.textContent=se})};var pn=t&&t.documentElement;y.offset=function(){var se=this[0];if(se){var xe=se.getBoundingClientRect();return{top:xe.top+n.pageYOffset-pn.clientTop,left:xe.left+n.pageXOffset-pn.clientLeft}}},y.offsetParent=function(){return M(this[0]&&this[0].offsetParent)},y.position=function(){var se=this[0];if(se)return{left:se.offsetLeft,top:se.offsetTop}},y.children=function(se){var xe=[];return this.each(function(Ie,Qe){d.apply(xe,Qe.children)}),xe=M(de(xe)),se?xe.filter(function(Ie,Qe){return H(Qe,se)}):xe},y.contents=function(){var se=[];return this.each(function(xe,Ie){d.apply(se,Ie.tagName==="IFRAME"?[Ie.contentDocument]:Ie.childNodes)}),M(se.length&&de(se))},y.find=function(se){for(var xe=[],Ie=0,Qe=this.length;Ie<Qe;Ie++){var vt=w(se,this[Ie]);vt.length&&d.apply(xe,vt)}return M(xe.length&&de(xe))},y.has=function(se){var xe=G(se)?function(Ie,Qe){return!!w(se,Qe).length}:function(Ie,Qe){return Qe.contains(se)};return this.filter(xe)},y.is=function(se){if(!se||!this[0])return!1;var xe=E(se),Ie=!1;return this.each(function(Qe,vt){return Ie=xe(Qe,vt,se),!Ie}),Ie},y.next=function(){return M(this[0]&&this[0].nextElementSibling)},y.not=function(se){if(!se||!this[0])return this;var xe=E(se);return this.filter(function(Ie,Qe){return!xe(Ie,Qe,se)})},y.parent=function(){var se=[];return this.each(function(xe,Ie){Ie&&Ie.parentNode&&se.push(Ie.parentNode)}),M(de(se))},y.index=function(se){var xe=se?M(se)[0]:this[0],Ie=se?this:M(xe).parent().children();return s.call(Ie,xe)},y.closest=function(se){return!se||!this[0]?M():this.is(se)?this.filter(se):this.parent().closest(se)},y.parents=function(se){var xe=[],Ie;return this.each(function(Qe,vt){for(Ie=vt;Ie&&Ie.parentNode&&Ie!==t.body.parentNode;)Ie=Ie.parentNode,(!se||se&&H(Ie,se))&&xe.push(Ie)}),M(de(xe))},y.prev=function(){return M(this[0]&&this[0].previousElementSibling)},y.siblings=function(){var se=this[0];return this.parent().children().filter(function(xe,Ie){return Ie!==se})};let Rn=M},6294:(o,i,e)=>{e.d(i,{AU:()=>we,BC:()=>P,C8:()=>R,Ch:()=>G,Ci:()=>E,D8:()=>c,G2:()=>K,GW:()=>j,GZ:()=>y,I6:()=>h,LJ:()=>de,Sc:()=>w,X6:()=>v,Xy:()=>H,YZ:()=>p,ZQ:()=>d,_I:()=>ge,a_:()=>M,af:()=>k,bG:()=>x,cx:()=>f,ir:()=>N,kk:()=>Fe,on:()=>Ge,rp:()=>te,v$:()=>J,yL:()=>A,zN:()=>C});var t=e(5706),n=function(ne,he,Oe){if(Oe||arguments.length===2)for(var Te=0,Ne=he.length,ze;Te<Ne;Te++)(ze||!(Te in he))&&(ze||(ze=Array.prototype.slice.call(he,0,Te)),ze[Te]=he[Te]);return ne.concat(ze||Array.prototype.slice.call(he))},r="tag",a="attributes",s="children",c="transitionend oTransitionEnd transitionend webkitTransitionEnd",d=function(ne){return ne?.nodeType===Node.DOCUMENT_NODE},p=function(ne){var he=ne&&ne.parentNode;he&&he.removeChild(ne)};function f(){for(var ne=[],he=0;he<arguments.length;he++)ne[he]=arguments[he];var Oe=Array.isArray(ne[0])?ne[0]:n([],ne,!0);return Oe.filter(Boolean).join(" ")}var h=function(ne,he){return ne.querySelectorAll(he)},v=function(ne,he){return he===void 0&&(he={}),ne&&ne.setAttribute&&(0,t.each)(he,function(Oe,Te){return ne.setAttribute(Te,Oe)})},C=function(ne){var he;return ne&&!!(ne.offsetWidth||ne.offsetHeight||!((he=ne.getClientRects)===null||he===void 0)&&he.call(ne).length)},b=function(ne){for(;ne.firstChild;)ne.removeChild(ne.firstChild)},x=function(ne,he){var Oe;(Oe=ne.parentNode)===null||Oe===void 0||Oe.replaceChild(he,ne)},w=function(ne,he,Oe){var Te=ne.childNodes,Ne=Te.length,ze=(0,t.isUndefined)(Oe)?Ne:Oe;(0,t.isString)(he)&&(ne.insertAdjacentHTML("beforeEnd",he),he=ne.lastChild,ne.removeChild(he)),ze>=Ne?ne.appendChild(he):ne.insertBefore(he,Te[ze])},P=function(ne,he){return w(ne,he)},M=function(ne,he,Oe){he===void 0&&(he={});var Te=document.createElement(ne);return he&&(0,t.each)(he,function(Ne,ze){return Te.setAttribute(ze,Ne)}),Oe&&((0,t.isString)(Oe)?Te.innerHTML=Oe:Te.appendChild(Oe)),Te},y=function(ne){return document.createTextNode(ne)},A=function(ne,he){var Oe,Te=ne.type;try{Oe=new window[he](Te,ne)}catch{Oe=document.createEvent(he),Oe.initEvent(Te,!0,!0)}return Oe._parentEvent=ne,Te.indexOf("key")===0&&(Oe.keyCodeVal=ne.keyCode,["keyCode","which"].forEach(function(Ne){Object.defineProperty(Oe,Ne,{get:function(){return this.keyCodeVal}})})),Oe},k=function(ne,he){he===void 0&&(he=[]);var Oe=Array.isArray(he)?he:[he];Oe.forEach(function(Te){var Ne=Te[r]||"div",ze=Te[a]||{},ke=document.createElement(Ne);(0,t.each)(ze,function(oe,Ue){ke.setAttribute(Ue,oe)}),ne.appendChild(ke)})},N=function(ne){return ne?.nodeType===Node.TEXT_NODE},V=function(ne){return ne?.nodeType===Node.COMMENT_NODE},j=function(ne){return ne&&!N(ne)&&!V(ne)},R=function(ne){var he={top:0,left:0,width:0,height:0};if(!ne)return he;var Oe;if(N(ne)){var Te=document.createRange();Te.selectNode(ne),Oe=Te.getBoundingClientRect(),Te.detach()}return Oe||(ne.getBoundingClientRect?ne.getBoundingClientRect():he)},H=function(ne){var he=ne?.ownerDocument||document,Oe=he.documentElement,Te=he.defaultView||window;return{x:(Te.pageXOffset||Oe.scrollLeft||0)-(Oe.clientLeft||0),y:(Te.pageYOffset||Oe.scrollTop||0)-(Oe.clientTop||0)}},I=function(ne){return ne.which||ne.keyCode},G=function(ne){return String.fromCharCode(I(ne))},K=function(ne){return ne.touches&&ne.touches[0]?ne.touches[0]:ne},J=function(ne){return I(ne)===27},E=function(ne){return I(ne)===13},Z=function(ne){return ne.ctrlKey},te=function(ne){return Z(ne)||ne.metaKey},de=function(ne){if(!ne)return"";var he=ne.name,Oe=ne.publicId,Te=ne.systemId,Ne=Oe?' PUBLIC "'.concat(Oe,'"'):"",ze=!Oe&&Te?' SYSTEM "'.concat(Te,'"'):"";return"<!DOCTYPE ".concat(he).concat(Ne).concat(ze,">")},Fe=function(ne){ne===void 0&&(ne={});var he=[];return(0,t.each)(ne,function(Oe,Te){return he.push("".concat(Te,'="').concat(Oe,'"'))}),he.join(" ")},Ge=function(ne,he,Oe,Te){var Ne=he.split(/\s+/),ze=(0,t.isArray)(ne)?ne:[ne];Ne.forEach(function(ke){ze.forEach(function(oe){return oe?.addEventListener(ke,Oe,Te)})})},we=function(ne,he,Oe,Te){var Ne=he.split(/\s+/),ze=(0,t.isArray)(ne)?ne:[ne];Ne.forEach(function(ke){ze.forEach(function(oe){return oe?.removeEventListener(ke,Oe,Te)})})},ge=function(ne){var he=ne.replace(/-([a-zA-Z0-9])/g,function(Oe,Te){return Te.toUpperCase()});return he}},1166:(o,i,e)=>{e.r(i),e.d(i,{appendStyles:()=>V,buildBase64UrlFromSvg:()=>ot,camelCase:()=>I,capitalize:()=>he,createId:()=>Ue,deepMerge:()=>Ge,escape:()=>Z,escapeAltQuoteAttrValue:()=>Fe,escapeAttrValue:()=>de,escapeNodeContent:()=>te,find:()=>E,get:()=>h,getComponentModel:()=>ke,getComponentView:()=>ze,getElement:()=>J,getGlobal:()=>M,getModel:()=>we,getUiClass:()=>N,getUnitFromValue:()=>R,getViewEl:()=>Te,hasDnd:()=>K,hasWin:()=>P,isBultInMethod:()=>C,isComponent:()=>Ne,isDef:()=>w,isEmptyObj:()=>ne,isObject:()=>ge,isRule:()=>Oe,matches:()=>k,normalizeFloat:()=>G,normalizeKey:()=>b,serialize:()=>v,setViewEl:()=>oe,shallowDiff:()=>j,stringToPath:()=>p,toLowerCase:()=>y,upFirst:()=>H,wait:()=>x});var t=e(5706),n=e(6294),r=function(){return r=Object.assign||function(_e){for(var Je,ut=1,at=arguments.length;ut<at;ut++){Je=arguments[ut];for(var U in Je)Object.prototype.hasOwnProperty.call(Je,U)&&(_e[U]=Je[U])}return _e},r.apply(this,arguments)},a=function(_e,Je,ut){if(ut||arguments.length===2)for(var at=0,U=Je.length,re;at<U;at++)(re||!(at in Je))&&(re||(re=Array.prototype.slice.call(Je,0,at)),re[at]=Je[at]);return _e.concat(re||Array.prototype.slice.call(Je))},s={},c=/\\(\\)?/g,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=function(_e){var Je=[];return _e.charCodeAt(0)===46&&Je.push(""),_e.replace(d,function(ut,at,U,re){return Je.push(U?re.replace(c,"$1"):at||ut),""}),Je};function f(_e,Je){return(0,t.isArray)(_e)?_e:Je.hasOwnProperty(_e)?[_e]:p(_e)}var h=function(_e,Je,ut){for(var at,U=f(Je,_e),re=U.length,fe=0;_e!=null&&fe<re;)_e=_e["".concat(U[fe++])];return(at=fe&&fe==re?_e:void 0)!==null&&at!==void 0?at:ut},v=function(_e){return JSON.parse(JSON.stringify(_e))},C=function(_e){return(0,t.isFunction)(s[_e])},b=function(_e){return C(_e)?"_".concat(_e):_e},x=function(_e){return _e===void 0&&(_e=0),new Promise(function(Je){return setTimeout(Je,_e)})},w=function(_e){return typeof _e<"u"},P=function(){return typeof window<"u"},M=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:e.g},y=function(_e){return(_e||"").toLowerCase()},A=P()?window.Element.prototype:{},k=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.msMatchesSelector,N=function(_e,Je){var ut=_e.getConfig(),at=ut.stylePrefix,U=ut.customUI;return[U&&"".concat(at,"cui"),Je].filter(function(re){return re}).join(" ")},V=function(_e,Je){Je===void 0&&(Je={});var ut=(0,t.isArray)(_e)?a([],_e,!0):[_e];if(ut.length){var at=ut.shift();if(at&&(!Je.unique||!document.querySelector('link[href="'.concat(at,'"]')))){var U=document.head,re=document.createElement("link");re.href=at,re.rel="stylesheet",Je.prepand?U.insertBefore(re,U.firstChild):U.appendChild(re)}V(ut)}},j=function(_e,Je){var ut={},at=(0,t.keys)(Je);for(var U in _e)if(_e.hasOwnProperty(U)){var re=_e[U],fe=Je[U];at.indexOf(U)>=0?re!==fe&&(ut[U]=fe):ut[U]=null}for(var U in Je)Je.hasOwnProperty(U)&&(0,t.isUndefined)(_e[U])&&(ut[U]=Je[U]);return ut},R=function(_e){return _e.replace(parseFloat(_e),"")},H=function(_e){return _e[0].toUpperCase()+_e.toLowerCase().slice(1)},I=function(_e){return _e.replace(/-./g,function(Je){return Je[1].toUpperCase()})},G=function(_e,Je,ut){Je===void 0&&(Je=1),ut===void 0&&(ut=0);var at=0;if(isNaN(_e))return ut;if(_e=parseFloat(_e),Math.floor(_e)!==_e){var U=Je.toString().split(".")[1];at=U?U.length:0}return at?parseFloat(_e.toFixed(at)):_e},K=function(_e){return"draggable"in document.createElement("i")&&(_e?_e.config.nativeDnD:!0)},J=function(_e){if((0,t.isElement)(_e)||(0,n.ir)(_e))return _e;if(_e&&_e.getEl)return _e.getEl()},E=function(_e,Je){var ut=null;return _e.some(function(at,U){return Je(at,U,_e)?(ut=at,1):0}),ut},Z=function(_e){return _e===void 0&&(_e=""),"".concat(_e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},te=function(_e){return _e===void 0&&(_e=""),"".concat(_e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},de=function(_e){return _e===void 0&&(_e=""),"".concat(_e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},Fe=function(_e){return _e===void 0&&(_e=""),"".concat(_e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;")},Ge=function(){for(var _e=[],Je=0;Je<arguments.length;Je++)_e[Je]=arguments[Je];for(var ut=r({},_e[0]),at=1;at<_e.length;at++){var U=r({},_e[at]);for(var re in U){var fe=ut[re],Ee=U[re];ge(fe)&&ge(Ee)?ut[re]=Ge(fe,Ee):ut[re]=Ee}}return ut},we=function(_e,Je){var ut;return!Je&&_e&&_e.__cashData?ut=_e.__cashData.model:Je&&(0,t.isElement)(_e)&&(ut=Je(_e).data("model")),ut},ge=function(_e){return _e&&!Array.isArray(_e)&&typeof _e=="object"},ne=function(_e){return Object.keys(_e).length<=0},he=function(_e){return _e===void 0&&(_e=""),_e&&_e.charAt(0).toUpperCase()+_e.substring(1)},Oe=function(_e){return _e&&_e.toCSS},Te=function(_e){return _e?.__gjsv},Ne=function(_e){return!!_e?.toHTML},ze=function(_e){return Te(_e)},ke=function(_e){var Je;return(Je=ze(_e))===null||Je===void 0?void 0:Je.model},oe=function(_e,Je){_e.__gjsv=Je},Ue=function(_e){_e===void 0&&(_e=16);for(var Je="",ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",at=ut.length,U=0;U<_e;U++)Je+=ut.charAt(Math.floor(Math.random()*at));return Je},ot=function(_e){if(_e&&_e.substr(0,4)==="<svg"){var Je="";return P()?Je=window.btoa(_e):typeof Buffer<"u"&&(Je=Buffer.from(_e,"utf8").toString("base64")),Je?"data:image/svg+xml;base64,".concat(Je):_e}return _e}},6756:(o,i,e)=>{e.d(i,{h:()=>r});var t=e(3178),n=function(){var s=function(c,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(p[h]=f[h])},s(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");s(c,d);function p(){this.constructor=c}c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}(),r=function(s){n(c,s);function c(){var d=s!==null&&s.apply(this,arguments)||this;return d.displayCache=new Map,d}return c.prototype.getChildren=function(){return this.getDisplayedChildren()},c.prototype.getDisplayedChildren=function(){var d=this,p=this.model.components(),f=p.filter(function(h){return d.isChildDisplayed(h)});return f.map(function(h){return new d.constructor(h)})},c.prototype.isChildDisplayed=function(d){if(this.displayCache.has(d))return this.displayCache.get(d);var p=d.getEl(),f=a(p);return this.displayCache.set(d,f),f},c.prototype.getParent=function(){var d=this.model.parent();return d?new this.constructor(d):null},c.prototype.addChildAt=function(d,p,f){var h,v,C,b,x,w,P,M;f===void 0&&(f={action:"add-component"});var y=((v=(h=this.model)===null||h===void 0?void 0:h.isInstanceOf)===null||v===void 0?void 0:v.call(h,"text"))&&((b=(C=d?.model)===null||C===void 0?void 0:C.get)===null||b===void 0?void 0:b.call(C,"textable"));if(y)return(M=(P=(w=(x=this.model)===null||x===void 0?void 0:x.getView)===null||w===void 0?void 0:w.call(x))===null||P===void 0?void 0:P.insertComponent)===null||M===void 0?void 0:M.call(P,d?.model,{action:f.action});var A=this.model.components().add(d.model,{at:this.getRealIndex(p),action:f.action});return new this.constructor(A)},c.prototype.removeChildAt=function(d,p){p===void 0&&(p={temporary:!1});var f=this.model.components().at(this.getRealIndex(d));f&&this.model.components().remove(f,p)},c.prototype.indexOfChild=function(d){return this.getDisplayIndex(d)},c.prototype.getDisplayIndex=function(d){var p=this.getDisplayedChildren();return p?p.findIndex(function(f){return f.model===d.model}):-1},c.prototype.getRealIndex=function(d){if(d===-1)return-1;for(var p=0,f=this.model.components(),h=0;h<f.length;h++){var v=f.at(h),C=this.isChildDisplayed(v);if(C&&p++,p===d+1)return h}return-1},c.prototype.canMove=function(d,p){return this.model.em.Components.canMove(this.model,d.model,this.getRealIndex(p)).result},c.prototype.equals=function(d){return!!d?._model&&this._model.getId()===d._model.getId()},c.prototype.restNodeState=function(){this.clearState();var d=this.model;this.setContentEditable(!1),d.em.getEditing()===d&&this.disableEditing()},c.prototype.setContentEditable=function(d){this.element&&this.isTextNode()&&(this.element.contentEditable=d?"true":"false")},c.prototype.disableEditing=function(){var d,p;(p=(d=this.view)===null||d===void 0?void 0:d.disableEditing)===null||p===void 0||p.call(d)},c.prototype.clearState=function(){var d,p;(p=(d=this.model).set)===null||p===void 0||p.call(d,"status","")},c.prototype.setSelectedParentState=function(){var d,p;(p=(d=this.model).set)===null||p===void 0||p.call(d,"status","selected-parent")},c.prototype.isTextNode=function(){var d,p;return(p=(d=this.model).isInstanceOf)===null||p===void 0?void 0:p.call(d,"text")},c.prototype.isTextable=function(){var d,p;return(p=(d=this.model).get)===null||p===void 0?void 0:p.call(d,"textable")},c}(t.$);function a(s){return s?typeof s=="object"&&s.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(s).display!=="none"&&s.offsetWidth>0&&s.offsetHeight>0:!1}},1447:(o,i,e)=>{e.d(i,{A:()=>a});var t=e(6756),n=function(){var s=function(c,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(p[h]=f[h])},s(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");s(c,d);function p(){this.constructor=c}c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}(),r=function(s){n(c,s);function c(){var d=s!==null&&s.apply(this,arguments)||this;return d._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},d}return Object.defineProperty(c.prototype,"view",{get:function(){var d,p;return(p=(d=this.model).getView)===null||p===void 0?void 0:p.call(d)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"element",{get:function(){var d,p;return(p=(d=this.model).getEl)===null||p===void 0?void 0:p.call(d)},enumerable:!1,configurable:!0}),c}(t.h);let a=r},3178:(o,i,e)=>{e.d(i,{$:()=>t});var t=function(){function n(r,a){a===void 0&&(a={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=r,this._dragSource=a}return Object.defineProperty(n.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropArea",{get:function(){var r,a;return this.getParent()?(a=this.nodeDimensions)===null||a===void 0?void 0:a.getDropArea(this._dropAreaConfig):(r=this.nodeDimensions)===null||r===void 0?void 0:r.clone()},enumerable:!1,configurable:!0}),n.prototype.isWithinDropBounds=function(r,a){return!!this.dropArea&&this.dropArea.isWithinBounds(r,a)},n.prototype.equals=function(r){return!!r?._model&&this._model===r._model},n.prototype.adjustDimensions=function(r){var a,s;r.topDifference===0&&r.leftDifference===0||((a=this.nodeDimensions)===null||a===void 0||a.adjustDimensions(r),(s=this.childrenDimensions)===null||s===void 0||s.forEach(function(c){return c.adjustDimensions(r)}))},n}()},8433:(o,i,e)=>{e.d(i,{A:()=>t});var t=function(n){return n.Vertical="Vertical",n.Horizontal="Horizontal",n.BothDirections="BothDirections",n}(t||{})},585:(o,i,e)=>{var t={"./CanvasClear":9484,"./CanvasClear.ts":9484,"./CanvasMove":9516,"./CanvasMove.ts":9516,"./CommandAbstract":9946,"./CommandAbstract.ts":9946,"./ComponentDelete":7801,"./ComponentDelete.ts":7801,"./ComponentDrag":4864,"./ComponentDrag.ts":4864,"./ComponentEnter":6134,"./ComponentEnter.ts":6134,"./ComponentExit":914,"./ComponentExit.ts":914,"./ComponentNext":5547,"./ComponentNext.ts":5547,"./ComponentPrev":8655,"./ComponentPrev.ts":8655,"./ComponentStyleClear":7640,"./ComponentStyleClear.ts":7640,"./CopyComponent":5837,"./CopyComponent.ts":5837,"./ExportTemplate":6477,"./ExportTemplate.ts":6477,"./Fullscreen":1772,"./Fullscreen.ts":1772,"./MoveComponent":741,"./MoveComponent.ts":741,"./OpenAssets":2924,"./OpenAssets.ts":2924,"./OpenBlocks":3963,"./OpenBlocks.ts":3963,"./OpenLayers":1479,"./OpenLayers.ts":1479,"./OpenStyleManager":3473,"./OpenStyleManager.ts":3473,"./OpenTraitManager":5054,"./OpenTraitManager.ts":5054,"./PasteComponent":6979,"./PasteComponent.ts":6979,"./Preview":4457,"./Preview.ts":4457,"./Resize":5493,"./Resize.ts":5493,"./SelectComponent":9317,"./SelectComponent.ts":9317,"./SelectPosition":1406,"./SelectPosition.ts":1406,"./ShowOffset":9395,"./ShowOffset.ts":9395,"./SwitchVisibility":7285,"./SwitchVisibility.ts":7285};function n(a){var s=r(a);return e(s)}function r(a){if(!e.o(t,a)){var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}return t[a]}n.keys=function(){return Object.keys(t)},n.resolve=r,o.exports=n,n.id=585},5706:(o,i,e)=>{e.r(i),e.d(i,{VERSION:()=>n,after:()=>Nr,all:()=>Kr,allKeys:()=>mt,any:()=>Xo,assign:()=>cn,before:()=>Qo,bind:()=>Mo,bindAll:()=>$o,chain:()=>Fa,chunk:()=>Dr,clone:()=>Vn,collect:()=>Gn,compact:()=>sd,compose:()=>vr,constant:()=>at,contains:()=>li,countBy:()=>od,create:()=>bn,debounce:()=>Lr,default:()=>Ao,defaults:()=>ni,defer:()=>Mi,delay:()=>Gr,detect:()=>zt,difference:()=>Rl,drop:()=>io,each:()=>Gt,escape:()=>ct,every:()=>Kr,extend:()=>yn,extendOwn:()=>cn,filter:()=>_i,find:()=>zt,findIndex:()=>Wr,findKey:()=>tr,findLastIndex:()=>So,findWhere:()=>Jt,first:()=>Jo,flatten:()=>Dl,foldl:()=>ir,foldr:()=>si,forEach:()=>Gt,functions:()=>nn,get:()=>un,groupBy:()=>rd,has:()=>T,head:()=>Jo,identity:()=>B,include:()=>li,includes:()=>li,indexBy:()=>Il,indexOf:()=>yr,initial:()=>Wn,inject:()=>ir,intersection:()=>cd,invert:()=>gn,invoke:()=>ed,isArguments:()=>_e,isArray:()=>oe,isArrayBuffer:()=>Ge,isBoolean:()=>I,isDataView:()=>ke,isDate:()=>Z,isElement:()=>G,isEmpty:()=>ce,isEqual:()=>bt,isError:()=>de,isFinite:()=>Je,isFunction:()=>ne,isMap:()=>Ie,isMatch:()=>Me,isNaN:()=>ut,isNull:()=>R,isNumber:()=>E,isObject:()=>j,isRegExp:()=>te,isSet:()=>vt,isString:()=>J,isSymbol:()=>Fe,isTypedArray:()=>Se,isUndefined:()=>H,isWeakMap:()=>Qe,isWeakSet:()=>Ot,iteratee:()=>Rt,keys:()=>At,last:()=>ea,lastIndexOf:()=>Bt,map:()=>Gn,mapObject:()=>Nt,matcher:()=>F,matches:()=>F,max:()=>kl,memoize:()=>Va,methods:()=>nn,min:()=>Al,mixin:()=>za,negate:()=>Yo,noop:()=>q,now:()=>ee,object:()=>dd,omit:()=>Zo,once:()=>_r,pairs:()=>_n,partial:()=>Ur,partition:()=>Ll,pick:()=>Nl,pluck:()=>Cs,property:()=>ue,propertyOf:()=>qe,random:()=>Mn,range:()=>ia,reduce:()=>ir,reduceRight:()=>si,reject:()=>rr,rest:()=>io,restArguments:()=>V,result:()=>Ra,sample:()=>xs,select:()=>_i,shuffle:()=>nd,size:()=>ad,some:()=>Xo,sortBy:()=>id,sortedIndex:()=>Eo,tail:()=>io,take:()=>Jo,tap:()=>Vt,template:()=>no,templateSettings:()=>ln,throttle:()=>ja,times:()=>Lt,toArray:()=>ko,toPath:()=>jn,transpose:()=>na,unescape:()=>tn,union:()=>ld,uniq:()=>ta,unique:()=>ta,uniqueId:()=>Oo,unzip:()=>na,values:()=>It,where:()=>td,without:()=>Ps,wrap:()=>ri,zip:()=>Fl});var t={};e.r(t),e.d(t,{VERSION:()=>n,after:()=>Nr,all:()=>Kr,allKeys:()=>mt,any:()=>Xo,assign:()=>cn,before:()=>Qo,bind:()=>Mo,bindAll:()=>$o,chain:()=>Fa,chunk:()=>Dr,clone:()=>Vn,collect:()=>Gn,compact:()=>sd,compose:()=>vr,constant:()=>at,contains:()=>li,countBy:()=>od,create:()=>bn,debounce:()=>Lr,default:()=>ud,defaults:()=>ni,defer:()=>Mi,delay:()=>Gr,detect:()=>zt,difference:()=>Rl,drop:()=>io,each:()=>Gt,escape:()=>ct,every:()=>Kr,extend:()=>yn,extendOwn:()=>cn,filter:()=>_i,find:()=>zt,findIndex:()=>Wr,findKey:()=>tr,findLastIndex:()=>So,findWhere:()=>Jt,first:()=>Jo,flatten:()=>Dl,foldl:()=>ir,foldr:()=>si,forEach:()=>Gt,functions:()=>nn,get:()=>un,groupBy:()=>rd,has:()=>T,head:()=>Jo,identity:()=>B,include:()=>li,includes:()=>li,indexBy:()=>Il,indexOf:()=>yr,initial:()=>Wn,inject:()=>ir,intersection:()=>cd,invert:()=>gn,invoke:()=>ed,isArguments:()=>_e,isArray:()=>oe,isArrayBuffer:()=>Ge,isBoolean:()=>I,isDataView:()=>ke,isDate:()=>Z,isElement:()=>G,isEmpty:()=>ce,isEqual:()=>bt,isError:()=>de,isFinite:()=>Je,isFunction:()=>ne,isMap:()=>Ie,isMatch:()=>Me,isNaN:()=>ut,isNull:()=>R,isNumber:()=>E,isObject:()=>j,isRegExp:()=>te,isSet:()=>vt,isString:()=>J,isSymbol:()=>Fe,isTypedArray:()=>Se,isUndefined:()=>H,isWeakMap:()=>Qe,isWeakSet:()=>Ot,iteratee:()=>Rt,keys:()=>At,last:()=>ea,lastIndexOf:()=>Bt,map:()=>Gn,mapObject:()=>Nt,matcher:()=>F,matches:()=>F,max:()=>kl,memoize:()=>Va,methods:()=>nn,min:()=>Al,mixin:()=>za,negate:()=>Yo,noop:()=>q,now:()=>ee,object:()=>dd,omit:()=>Zo,once:()=>_r,pairs:()=>_n,partial:()=>Ur,partition:()=>Ll,pick:()=>Nl,pluck:()=>Cs,property:()=>ue,propertyOf:()=>qe,random:()=>Mn,range:()=>ia,reduce:()=>ir,reduceRight:()=>si,reject:()=>rr,rest:()=>io,restArguments:()=>V,result:()=>Ra,sample:()=>xs,select:()=>_i,shuffle:()=>nd,size:()=>ad,some:()=>Xo,sortBy:()=>id,sortedIndex:()=>Eo,tail:()=>io,take:()=>Jo,tap:()=>Vt,template:()=>no,templateSettings:()=>ln,throttle:()=>ja,times:()=>Lt,toArray:()=>ko,toPath:()=>jn,transpose:()=>na,unescape:()=>tn,union:()=>ld,uniq:()=>ta,unique:()=>ta,uniqueId:()=>Oo,unzip:()=>na,values:()=>It,where:()=>td,without:()=>Ps,wrap:()=>ri,zip:()=>Fl});var n="1.13.1",r=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,s=Object.prototype,c=typeof Symbol<"u"?Symbol.prototype:null,d=a.push,p=a.slice,f=s.toString,h=s.hasOwnProperty,v=typeof ArrayBuffer<"u",C=typeof DataView<"u",b=Array.isArray,x=Object.keys,w=Object.create,P=v&&ArrayBuffer.isView,M=isNaN,y=isFinite,A=!{toString:null}.propertyIsEnumerable("toString"),k=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=Math.pow(2,53)-1;function V($,ae){return ae=ae==null?$.length-1:+ae,function(){for(var ye=Math.max(arguments.length-ae,0),Pe=Array(ye),Be=0;Be<ye;Be++)Pe[Be]=arguments[Be+ae];switch(ae){case 0:return $.call(this,Pe);case 1:return $.call(this,arguments[0],Pe);case 2:return $.call(this,arguments[0],arguments[1],Pe)}var Ve=Array(ae+1);for(Be=0;Be<ae;Be++)Ve[Be]=arguments[Be];return Ve[ae]=Pe,$.apply(this,Ve)}}function j($){var ae=typeof $;return ae==="function"||ae==="object"&&!!$}function R($){return $===null}function H($){return $===void 0}function I($){return $===!0||$===!1||f.call($)==="[object Boolean]"}function G($){return!!($&&$.nodeType===1)}function K($){var ae="[object "+$+"]";return function(ye){return f.call(ye)===ae}}let J=K("String"),E=K("Number"),Z=K("Date"),te=K("RegExp"),de=K("Error"),Fe=K("Symbol"),Ge=K("ArrayBuffer");var we=K("Function"),ge=r.document&&r.document.childNodes;typeof Int8Array!="object"&&typeof ge!="function"&&(we=function($){return typeof $=="function"||!1});let ne=we,he=K("Object");var Oe=C&&he(new DataView(new ArrayBuffer(8))),Te=typeof Map<"u"&&he(new Map),Ne=K("DataView");function ze($){return $!=null&&ne($.getInt8)&&Ge($.buffer)}let ke=Oe?ze:Ne,oe=b||K("Array");function Ue($,ae){return $!=null&&h.call($,ae)}var ot=K("Arguments");(function(){ot(arguments)||(ot=function($){return Ue($,"callee")})})();let _e=ot;function Je($){return!Fe($)&&y($)&&!isNaN(parseFloat($))}function ut($){return E($)&&M($)}function at($){return function(){return $}}function U($){return function(ae){var ye=$(ae);return typeof ye=="number"&&ye>=0&&ye<=N}}function re($){return function(ae){return ae?.[$]}}let fe=re("byteLength"),Ee=U(fe);var Ke=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function pe($){return P?P($)&&!ke($):Ee($)&&Ke.test(f.call($))}let Se=v?pe:at(!1),Le=re("length");function ft($){for(var ae={},ye=$.length,Pe=0;Pe<ye;++Pe)ae[$[Pe]]=!0;return{contains:function(Be){return ae[Be]},push:function(Be){return ae[Be]=!0,$.push(Be)}}}function qt($,ae){ae=ft(ae);var ye=k.length,Pe=$.constructor,Be=ne(Pe)&&Pe.prototype||s,Ve="constructor";for(Ue($,Ve)&&!ae.contains(Ve)&&ae.push(Ve);ye--;)Ve=k[ye],Ve in $&&$[Ve]!==Be[Ve]&&!ae.contains(Ve)&&ae.push(Ve)}function At($){if(!j($))return[];if(x)return x($);var ae=[];for(var ye in $)Ue($,ye)&&ae.push(ye);return A&&qt($,ae),ae}function ce($){if($==null)return!0;var ae=Le($);return typeof ae=="number"&&(oe($)||J($)||_e($))?ae===0:Le(At($))===0}function Me($,ae){var ye=At(ae),Pe=ye.length;if($==null)return!Pe;for(var Be=Object($),Ve=0;Ve<Pe;Ve++){var et=ye[Ve];if(ae[et]!==Be[et]||!(et in Be))return!1}return!0}function ie($){if($ instanceof ie)return $;if(!(this instanceof ie))return new ie($);this._wrapped=$}ie.VERSION=n,ie.prototype.value=function(){return this._wrapped},ie.prototype.valueOf=ie.prototype.toJSON=ie.prototype.value,ie.prototype.toString=function(){return String(this._wrapped)};function Xe($){return new Uint8Array($.buffer||$,$.byteOffset||0,fe($))}var Re="[object DataView]";function st($,ae,ye,Pe){if($===ae)return $!==0||1/$===1/ae;if($==null||ae==null)return!1;if($!==$)return ae!==ae;var Be=typeof $;return Be!=="function"&&Be!=="object"&&typeof ae!="object"?!1:yt($,ae,ye,Pe)}function yt($,ae,ye,Pe){$ instanceof ie&&($=$._wrapped),ae instanceof ie&&(ae=ae._wrapped);var Be=f.call($);if(Be!==f.call(ae))return!1;if(Oe&&Be=="[object Object]"&&ke($)){if(!ke(ae))return!1;Be=Re}switch(Be){case"[object RegExp]":case"[object String]":return""+$==""+ae;case"[object Number]":return+$!=+$?+ae!=+ae:+$==0?1/+$===1/ae:+$==+ae;case"[object Date]":case"[object Boolean]":return+$==+ae;case"[object Symbol]":return c.valueOf.call($)===c.valueOf.call(ae);case"[object ArrayBuffer]":case Re:return yt(Xe($),Xe(ae),ye,Pe)}var Ve=Be==="[object Array]";if(!Ve&&Se($)){var et=fe($);if(et!==fe(ae))return!1;if($.buffer===ae.buffer&&$.byteOffset===ae.byteOffset)return!0;Ve=!0}if(!Ve){if(typeof $!="object"||typeof ae!="object")return!1;var _t=$.constructor,en=ae.constructor;if(_t!==en&&!(ne(_t)&&_t instanceof _t&&ne(en)&&en instanceof en)&&"constructor"in $&&"constructor"in ae)return!1}ye=ye||[],Pe=Pe||[];for(var Xt=ye.length;Xt--;)if(ye[Xt]===$)return Pe[Xt]===ae;if(ye.push($),Pe.push(ae),Ve){if(Xt=$.length,Xt!==ae.length)return!1;for(;Xt--;)if(!st($[Xt],ae[Xt],ye,Pe))return!1}else{var oi=At($),Ti;if(Xt=oi.length,At(ae).length!==Xt)return!1;for(;Xt--;)if(Ti=oi[Xt],!(Ue(ae,Ti)&&st($[Ti],ae[Ti],ye,Pe)))return!1}return ye.pop(),Pe.pop(),!0}function bt($,ae){return st($,ae)}function mt($){if(!j($))return[];var ae=[];for(var ye in $)ae.push(ye);return A&&qt($,ae),ae}function Et($){var ae=Le($);return function(ye){if(ye==null)return!1;var Pe=mt(ye);if(Le(Pe))return!1;for(var Be=0;Be<ae;Be++)if(!ne(ye[$[Be]]))return!1;return $!==se||!ne(ye[Qt])}}var Qt="forEach",$t="has",Zt=["clear","delete"],pn=["get",$t,"set"],Rn=Zt.concat(Qt,pn),se=Zt.concat(pn),xe=["add"].concat(Zt,Qt,$t);let Ie=Te?Et(Rn):K("Map"),Qe=Te?Et(se):K("WeakMap"),vt=Te?Et(xe):K("Set"),Ot=K("WeakSet");function It($){for(var ae=At($),ye=ae.length,Pe=Array(ye),Be=0;Be<ye;Be++)Pe[Be]=$[ae[Be]];return Pe}function _n($){for(var ae=At($),ye=ae.length,Pe=Array(ye),Be=0;Be<ye;Be++)Pe[Be]=[ae[Be],$[ae[Be]]];return Pe}function gn($){for(var ae={},ye=At($),Pe=0,Be=ye.length;Pe<Be;Pe++)ae[$[ye[Pe]]]=ye[Pe];return ae}function nn($){var ae=[];for(var ye in $)ne($[ye])&&ae.push(ye);return ae.sort()}function Zn($,ae){return function(ye){var Pe=arguments.length;if(ae&&(ye=Object(ye)),Pe<2||ye==null)return ye;for(var Be=1;Be<Pe;Be++)for(var Ve=arguments[Be],et=$(Ve),_t=et.length,en=0;en<_t;en++){var Xt=et[en];(!ae||ye[Xt]===void 0)&&(ye[Xt]=Ve[Xt])}return ye}}let yn=Zn(mt),cn=Zn(At),ni=Zn(mt,!0);function fn(){return function(){}}function an($){if(!j($))return{};if(w)return w($);var ae=fn();ae.prototype=$;var ye=new ae;return ae.prototype=null,ye}function bn($,ae){var ye=an($);return ae&&cn(ye,ae),ye}function Vn($){return j($)?oe($)?$.slice():yn({},$):$}function Vt($,ae){return ae($),$}function jn($){return oe($)?$:[$]}ie.toPath=jn;function Dt($){return ie.toPath($)}function Pn($,ae){for(var ye=ae.length,Pe=0;Pe<ye;Pe++){if($==null)return;$=$[ae[Pe]]}return ye?$:void 0}function un($,ae,ye){var Pe=Pn($,Dt(ae));return H(Pe)?ye:Pe}function T($,ae){ae=Dt(ae);for(var ye=ae.length,Pe=0;Pe<ye;Pe++){var Be=ae[Pe];if(!Ue($,Be))return!1;$=$[Be]}return!!ye}function B($){return $}function F($){return $=cn({},$),function(ae){return Me(ae,$)}}function ue($){return $=Dt($),function(ae){return Pn(ae,$)}}function We($,ae,ye){if(ae===void 0)return $;switch(ye??3){case 1:return function(Pe){return $.call(ae,Pe)};case 3:return function(Pe,Be,Ve){return $.call(ae,Pe,Be,Ve)};case 4:return function(Pe,Be,Ve,et){return $.call(ae,Pe,Be,Ve,et)}}return function(){return $.apply(ae,arguments)}}function Tt($,ae,ye){return $==null?B:ne($)?We($,ae,ye):j($)&&!oe($)?F($):ue($)}function Rt($,ae){return Tt($,ae,1/0)}ie.iteratee=Rt;function Ft($,ae,ye){return ie.iteratee!==Rt?ie.iteratee($,ae):Tt($,ae,ye)}function Nt($,ae,ye){ae=Ft(ae,ye);for(var Pe=At($),Be=Pe.length,Ve={},et=0;et<Be;et++){var _t=Pe[et];Ve[_t]=ae($[_t],_t,$)}return Ve}function q(){}function qe($){return $==null?q:function(ae){return un($,ae)}}function Lt($,ae,ye){var Pe=Array(Math.max(0,$));ae=We(ae,ye,1);for(var Be=0;Be<$;Be++)Pe[Be]=ae(Be);return Pe}function Mn($,ae){return ae==null&&(ae=$,$=0),$+Math.floor(Math.random()*(ae-$+1))}let ee=Date.now||function(){return new Date().getTime()};function ve($){var ae=function(Ve){return $[Ve]},ye="(?:"+At($).join("|")+")",Pe=RegExp(ye),Be=RegExp(ye,"g");return function(Ve){return Ve=Ve==null?"":""+Ve,Pe.test(Ve)?Ve.replace(Be,ae):Ve}}let $e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ct=ve($e),dt=gn($e),tn=ve(dt),ln=ie.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Tn=/(.)^/,kn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Wo=/\\|'|\r|\n|\u2028|\u2029/g;function gr($){return"\\"+kn[$]}var Vi=/^\s*(\w|\$)+\s*$/;function no($,ae,ye){!ae&&ye&&(ae=ye),ae=ni({},ae,ie.templateSettings);var Pe=RegExp([(ae.escape||Tn).source,(ae.interpolate||Tn).source,(ae.evaluate||Tn).source].join("|")+"|$","g"),Be=0,Ve="__p+='";$.replace(Pe,function(Xt,oi,Ti,pd,Vl){return Ve+=$.slice(Be,Vl).replace(Wo,gr),Be=Vl+Xt.length,oi?Ve+=`'+
((__t=(`+oi+`))==null?'':_.escape(__t))+
'`:Ti?Ve+=`'+
((__t=(`+Ti+`))==null?'':__t)+
'`:pd&&(Ve+=`';
`+pd+`
__p+='`),Xt}),Ve+=`';
`;var et=ae.variable;if(et){if(!Vi.test(et))throw new Error("variable is not a bare identifier: "+et)}else Ve=`with(obj||{}){
`+Ve+`}
`,et="obj";Ve=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Ve+`return __p;
`;var _t;try{_t=new Function(et,"_",Ve)}catch(Xt){throw Xt.source=Ve,Xt}var en=function(Xt){return _t.call(this,Xt,ie)};return en.source="function("+et+`){
`+Ve+"}",en}function Ra($,ae,ye){ae=Dt(ae);var Pe=ae.length;if(!Pe)return ne(ye)?ye.call($):ye;for(var Be=0;Be<Pe;Be++){var Ve=$?.[ae[Be]];Ve===void 0&&(Ve=ye,Be=Pe),$=ne(Ve)?Ve.call($):Ve}return $}var Ko=0;function Oo($){var ae=++Ko+"";return $?$+ae:ae}function Fa($){var ae=ie($);return ae._chain=!0,ae}function qo($,ae,ye,Pe,Be){if(!(Pe instanceof ae))return $.apply(ye,Be);var Ve=an($.prototype),et=$.apply(Ve,Be);return j(et)?et:Ve}var Po=V(function($,ae){var ye=Po.placeholder,Pe=function(){for(var Be=0,Ve=ae.length,et=Array(Ve),_t=0;_t<Ve;_t++)et[_t]=ae[_t]===ye?arguments[Be++]:ae[_t];for(;Be<arguments.length;)et.push(arguments[Be++]);return qo($,Pe,this,this,et)};return Pe});Po.placeholder=ie;let Ur=Po,Mo=V(function($,ae,ye){if(!ne($))throw new TypeError("Bind must be called on a function");var Pe=V(function(Be){return qo($,Pe,ae,this,ye.concat(Be))});return Pe}),Jn=U(Le);function ii($,ae,ye,Pe){if(Pe=Pe||[],!ae&&ae!==0)ae=1/0;else if(ae<=0)return Pe.concat($);for(var Be=Pe.length,Ve=0,et=Le($);Ve<et;Ve++){var _t=$[Ve];if(Jn(_t)&&(oe(_t)||_e(_t)))if(ae>1)ii(_t,ae-1,ye,Pe),Be=Pe.length;else for(var en=0,Xt=_t.length;en<Xt;)Pe[Be++]=_t[en++];else ye||(Pe[Be++]=_t)}return Pe}let $o=V(function($,ae){ae=ii(ae,!1,!1);var ye=ae.length;if(ye<1)throw new Error("bindAll must be passed function names");for(;ye--;){var Pe=ae[ye];$[Pe]=Mo($[Pe],$)}return $});function Va($,ae){var ye=function(Pe){var Be=ye.cache,Ve=""+(ae?ae.apply(this,arguments):Pe);return Ue(Be,Ve)||(Be[Ve]=$.apply(this,arguments)),Be[Ve]};return ye.cache={},ye}let Gr=V(function($,ae,ye){return setTimeout(function(){return $.apply(null,ye)},ae)}),Mi=Ur(Gr,ie,1);function ja($,ae,ye){var Pe,Be,Ve,et,_t=0;ye||(ye={});var en=function(){_t=ye.leading===!1?0:ee(),Pe=null,et=$.apply(Be,Ve),Pe||(Be=Ve=null)},Xt=function(){var oi=ee();!_t&&ye.leading===!1&&(_t=oi);var Ti=ae-(oi-_t);return Be=this,Ve=arguments,Ti<=0||Ti>ae?(Pe&&(clearTimeout(Pe),Pe=null),_t=oi,et=$.apply(Be,Ve),Pe||(Be=Ve=null)):!Pe&&ye.trailing!==!1&&(Pe=setTimeout(en,Ti)),et};return Xt.cancel=function(){clearTimeout(Pe),_t=0,Pe=Be=Ve=null},Xt}function Lr($,ae,ye){var Pe,Be,Ve,et,_t,en=function(){var oi=ee()-Be;ae>oi?Pe=setTimeout(en,ae-oi):(Pe=null,ye||(et=$.apply(_t,Ve)),Pe||(Ve=_t=null))},Xt=V(function(oi){return _t=this,Ve=oi,Be=ee(),Pe||(Pe=setTimeout(en,ae),ye&&(et=$.apply(_t,Ve))),et});return Xt.cancel=function(){clearTimeout(Pe),Pe=Ve=_t=null},Xt}function ri($,ae){return Ur(ae,$)}function Yo($){return function(){return!$.apply(this,arguments)}}function vr(){var $=arguments,ae=$.length-1;return function(){for(var ye=ae,Pe=$[ae].apply(this,arguments);ye--;)Pe=$[ye].call(this,Pe);return Pe}}function Nr($,ae){return function(){if(--$<1)return ae.apply(this,arguments)}}function Qo($,ae){var ye;return function(){return--$>0&&(ye=ae.apply(this,arguments)),$<=1&&(ae=null),ye}}let _r=Ur(Qo,2);function tr($,ae,ye){ae=Ft(ae,ye);for(var Pe=At($),Be,Ve=0,et=Pe.length;Ve<et;Ve++)if(Be=Pe[Ve],ae($[Be],Be,$))return Be}function To($){return function(ae,ye,Pe){ye=Ft(ye,Pe);for(var Be=Le(ae),Ve=$>0?0:Be-1;Ve>=0&&Ve<Be;Ve+=$)if(ye(ae[Ve],Ve,ae))return Ve;return-1}}let Wr=To(1),So=To(-1);function Eo($,ae,ye,Pe){ye=Ft(ye,Pe,1);for(var Be=ye(ae),Ve=0,et=Le($);Ve<et;){var _t=Math.floor((Ve+et)/2);ye($[_t])<Be?Ve=_t+1:et=_t}return Ve}function Ha($,ae,ye){return function(Pe,Be,Ve){var et=0,_t=Le(Pe);if(typeof Ve=="number")$>0?et=Ve>=0?Ve:Math.max(Ve+_t,et):_t=Ve>=0?Math.min(Ve+1,_t):Ve+_t+1;else if(ye&&Ve&&_t)return Ve=ye(Pe,Be),Pe[Ve]===Be?Ve:-1;if(Be!==Be)return Ve=ae(p.call(Pe,et,_t),ut),Ve>=0?Ve+et:-1;for(Ve=$>0?et:_t-1;Ve>=0&&Ve<_t;Ve+=$)if(Pe[Ve]===Be)return Ve;return-1}}let yr=Ha(1,Wr,Eo),Bt=Ha(-1,So);function zt($,ae,ye){var Pe=Jn($)?Wr:tr,Be=Pe($,ae,ye);if(Be!==void 0&&Be!==-1)return $[Be]}function Jt($,ae){return zt($,F(ae))}function Gt($,ae,ye){ae=We(ae,ye);var Pe,Be;if(Jn($))for(Pe=0,Be=$.length;Pe<Be;Pe++)ae($[Pe],Pe,$);else{var Ve=At($);for(Pe=0,Be=Ve.length;Pe<Be;Pe++)ae($[Ve[Pe]],Ve[Pe],$)}return $}function Gn($,ae,ye){ae=Ft(ae,ye);for(var Pe=!Jn($)&&At($),Be=(Pe||$).length,Ve=Array(Be),et=0;et<Be;et++){var _t=Pe?Pe[et]:et;Ve[et]=ae($[_t],_t,$)}return Ve}function nr($){var ae=function(ye,Pe,Be,Ve){var et=!Jn(ye)&&At(ye),_t=(et||ye).length,en=$>0?0:_t-1;for(Ve||(Be=ye[et?et[en]:en],en+=$);en>=0&&en<_t;en+=$){var Xt=et?et[en]:en;Be=Pe(Be,ye[Xt],Xt,ye)}return Be};return function(ye,Pe,Be,Ve){var et=arguments.length>=3;return ae(ye,We(Pe,Ve,4),Be,et)}}let ir=nr(1),si=nr(-1);function _i($,ae,ye){var Pe=[];return ae=Ft(ae,ye),Gt($,function(Be,Ve,et){ae(Be,Ve,et)&&Pe.push(Be)}),Pe}function rr($,ae,ye){return _i($,Yo(Ft(ae)),ye)}function Kr($,ae,ye){ae=Ft(ae,ye);for(var Pe=!Jn($)&&At($),Be=(Pe||$).length,Ve=0;Ve<Be;Ve++){var et=Pe?Pe[Ve]:Ve;if(!ae($[et],et,$))return!1}return!0}function Xo($,ae,ye){ae=Ft(ae,ye);for(var Pe=!Jn($)&&At($),Be=(Pe||$).length,Ve=0;Ve<Be;Ve++){var et=Pe?Pe[Ve]:Ve;if(ae($[et],et,$))return!0}return!1}function li($,ae,ye,Pe){return Jn($)||($=It($)),(typeof ye!="number"||Pe)&&(ye=0),yr($,ae,ye)>=0}let ed=V(function($,ae,ye){var Pe,Be;return ne(ae)?Be=ae:(ae=Dt(ae),Pe=ae.slice(0,-1),ae=ae[ae.length-1]),Gn($,function(Ve){var et=Be;if(!et){if(Pe&&Pe.length&&(Ve=Pn(Ve,Pe)),Ve==null)return;et=Ve[ae]}return et==null?et:et.apply(Ve,ye)})});function Cs($,ae){return Gn($,ue(ae))}function td($,ae){return _i($,F(ae))}function kl($,ae,ye){var Pe=-1/0,Be=-1/0,Ve,et;if(ae==null||typeof ae=="number"&&typeof $[0]!="object"&&$!=null){$=Jn($)?$:It($);for(var _t=0,en=$.length;_t<en;_t++)Ve=$[_t],Ve!=null&&Ve>Pe&&(Pe=Ve)}else ae=Ft(ae,ye),Gt($,function(Xt,oi,Ti){et=ae(Xt,oi,Ti),(et>Be||et===-1/0&&Pe===-1/0)&&(Pe=Xt,Be=et)});return Pe}function Al($,ae,ye){var Pe=1/0,Be=1/0,Ve,et;if(ae==null||typeof ae=="number"&&typeof $[0]!="object"&&$!=null){$=Jn($)?$:It($);for(var _t=0,en=$.length;_t<en;_t++)Ve=$[_t],Ve!=null&&Ve<Pe&&(Pe=Ve)}else ae=Ft(ae,ye),Gt($,function(Xt,oi,Ti){et=ae(Xt,oi,Ti),(et<Be||et===1/0&&Pe===1/0)&&(Pe=Xt,Be=et)});return Pe}function xs($,ae,ye){if(ae==null||ye)return Jn($)||($=It($)),$[Mn($.length-1)];var Pe=Jn($)?Vn($):It($),Be=Le(Pe);ae=Math.max(Math.min(ae,Be),0);for(var Ve=Be-1,et=0;et<ae;et++){var _t=Mn(et,Ve),en=Pe[et];Pe[et]=Pe[_t],Pe[_t]=en}return Pe.slice(0,ae)}function nd($){return xs($,1/0)}function id($,ae,ye){var Pe=0;return ae=Ft(ae,ye),Cs(Gn($,function(Be,Ve,et){return{value:Be,index:Pe++,criteria:ae(Be,Ve,et)}}).sort(function(Be,Ve){var et=Be.criteria,_t=Ve.criteria;if(et!==_t){if(et>_t||et===void 0)return 1;if(et<_t||_t===void 0)return-1}return Be.index-Ve.index}),"value")}function ws($,ae){return function(ye,Pe,Be){var Ve=ae?[[],[]]:{};return Pe=Ft(Pe,Be),Gt(ye,function(et,_t){var en=Pe(et,_t,ye);$(Ve,et,en)}),Ve}}let rd=ws(function($,ae,ye){Ue($,ye)?$[ye].push(ae):$[ye]=[ae]}),Il=ws(function($,ae,ye){$[ye]=ae}),od=ws(function($,ae,ye){Ue($,ye)?$[ye]++:$[ye]=1}),Ll=ws(function($,ae,ye){$[ye?0:1].push(ae)},!0);var Os=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function ko($){return $?oe($)?p.call($):J($)?$.match(Os):Jn($)?Gn($,B):It($):[]}function ad($){return $==null?0:Jn($)?$.length:At($).length}function Bp($,ae,ye){return ae in ye}let Nl=V(function($,ae){var ye={},Pe=ae[0];if($==null)return ye;ne(Pe)?(ae.length>1&&(Pe=We(Pe,ae[1])),ae=mt($)):(Pe=Bp,ae=ii(ae,!1,!1),$=Object($));for(var Be=0,Ve=ae.length;Be<Ve;Be++){var et=ae[Be],_t=$[et];Pe(_t,et,$)&&(ye[et]=_t)}return ye}),Zo=V(function($,ae){var ye=ae[0],Pe;return ne(ye)?(ye=Yo(ye),ae.length>1&&(Pe=ae[1])):(ae=Gn(ii(ae,!1,!1),String),ye=function(Be,Ve){return!li(ae,Ve)}),Nl($,ye,Pe)});function Wn($,ae,ye){return p.call($,0,Math.max(0,$.length-(ae==null||ye?1:ae)))}function Jo($,ae,ye){return $==null||$.length<1?ae==null||ye?void 0:[]:ae==null||ye?$[0]:Wn($,$.length-ae)}function io($,ae,ye){return p.call($,ae==null||ye?1:ae)}function ea($,ae,ye){return $==null||$.length<1?ae==null||ye?void 0:[]:ae==null||ye?$[$.length-1]:io($,Math.max(0,$.length-ae))}function sd($){return _i($,Boolean)}function Dl($,ae){return ii($,ae,!1)}let Rl=V(function($,ae){return ae=ii(ae,!0,!0),_i($,function(ye){return!li(ae,ye)})}),Ps=V(function($,ae){return Rl($,ae)});function ta($,ae,ye,Pe){I(ae)||(Pe=ye,ye=ae,ae=!1),ye!=null&&(ye=Ft(ye,Pe));for(var Be=[],Ve=[],et=0,_t=Le($);et<_t;et++){var en=$[et],Xt=ye?ye(en,et,$):en;ae&&!ye?((!et||Ve!==Xt)&&Be.push(en),Ve=Xt):ye?li(Ve,Xt)||(Ve.push(Xt),Be.push(en)):li(Be,en)||Be.push(en)}return Be}let ld=V(function($){return ta(ii($,!0,!0))});function cd($){for(var ae=[],ye=arguments.length,Pe=0,Be=Le($);Pe<Be;Pe++){var Ve=$[Pe];if(!li(ae,Ve)){var et;for(et=1;et<ye&&li(arguments[et],Ve);et++);et===ye&&ae.push(Ve)}}return ae}function na($){for(var ae=$&&kl($,Le).length||0,ye=Array(ae),Pe=0;Pe<ae;Pe++)ye[Pe]=Cs($,Pe);return ye}let Fl=V(na);function dd($,ae){for(var ye={},Pe=0,Be=Le($);Pe<Be;Pe++)ae?ye[$[Pe]]=ae[Pe]:ye[$[Pe][0]]=$[Pe][1];return ye}function ia($,ae,ye){ae==null&&(ae=$||0,$=0),ye||(ye=ae<$?-1:1);for(var Pe=Math.max(Math.ceil((ae-$)/ye),0),Be=Array(Pe),Ve=0;Ve<Pe;Ve++,$+=ye)Be[Ve]=$;return Be}function Dr($,ae){if(ae==null||ae<1)return[];for(var ye=[],Pe=0,Be=$.length;Pe<Be;)ye.push(p.call($,Pe,Pe+=ae));return ye}function ra($,ae){return $._chain?ie(ae).chain():ae}function za($){return Gt(nn($),function(ae){var ye=ie[ae]=$[ae];ie.prototype[ae]=function(){var Pe=[this._wrapped];return d.apply(Pe,arguments),ra(this,ye.apply(ie,Pe))}}),ie}Gt(["pop","push","reverse","shift","sort","splice","unshift"],function($){var ae=a[$];ie.prototype[$]=function(){var ye=this._wrapped;return ye!=null&&(ae.apply(ye,arguments),($==="shift"||$==="splice")&&ye.length===0&&delete ye[0]),ra(this,ye)}}),Gt(["concat","join","slice"],function($){var ae=a[$];ie.prototype[$]=function(){var ye=this._wrapped;return ye!=null&&(ye=ae.apply(ye,arguments)),ra(this,ye)}});let ud=ie;var or=za(t);or._=or;let Ao=or}},q0={};function mn(o){var i=q0[o];if(i!==void 0)return i.exports;var e=q0[o]={exports:{}};return yO[o].call(e.exports,e,e.exports,mn),e.exports}mn.n=o=>{var i=o&&o.__esModule?()=>o.default:()=>o;return mn.d(i,{a:i}),i};mn.d=(o,i)=>{for(var e in i)mn.o(i,e)&&!mn.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:i[e]})};mn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();mn.o=(o,i)=>Object.prototype.hasOwnProperty.call(o,i);mn.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var Vp={};mn.d(Vp,{Ay:()=>J7,I0:()=>nb,nu:()=>tb});var X=mn(5706),Ze=mn(1166);function pr(o){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];var t=o.raw;return t.reduce(function(n,r,a){var s=i[a-1],c=t[a-1];return Array.isArray(s)?s=s.join(""):c&&c.slice(-1)==="$"?n=n.slice(0,-1):s=(0,Ze.escape)(s),n+s+r})}var bO=function(){return{stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0}},CO=bO,xm=mn(4193),xO=mn.n(xm),vi=mn(7774),wO=function(o){var i=o.$;if(i&&i.prototype&&i.prototype.constructor.name!=="jQuery"){var e=i.fn;e.hide=function(){return this.css("display","none")},e.show=function(){return this.css("display","block")},e.focus=function(){var r=this.get(0);return r&&r.focus(),this},e.bind=function(r,a){return this.on(r,a)},e.unbind=function(r,a){if((0,X.isObject)(r)){for(var s in r)r.hasOwnProperty(s)&&this.off(s,r[s]);return this}else return this.off(r,a)},e.click=function(r){return r?this.on("click",r):this.trigger("click")},e.change=function(r){return r?this.on("change",r):this.trigger("change")},e.keydown=function(r){return r?this.on("keydown",r):this.trigger("keydown")},e.delegate=function(r,a,s,c){return c||(c=s),this.on(a,r,function(d){d.data=s,c(d)})},e.scrollLeft=function(){var r=this.get(0);r=r.nodeType==9?r.defaultView:r;var a=r instanceof Window?r:null;return a?a.pageXOffset:r.scrollLeft||0},e.scrollTop=function(){var r=this.get(0);r=r.nodeType==9?r.defaultView:r;var a=r instanceof Window?r:null;return a?a.pageYOffset:r.scrollTop||0};var t=i.prototype.offset;e.offset=function(r){var a,s;return r&&(a=r.top,s=r.left),typeof a<"u"&&this.css("top","".concat(a,"px")),typeof s<"u"&&this.css("left","".concat(s,"px")),t.call(this)},i.map=function(r,a){for(var s=[],c=0;c<r.length;c++)s.push(a(r[c],c));return s};var n=Array.prototype.indexOf;i.inArray=function(r,a,s){return a==null?-1:n.call(a,r,s)},i.Event=function(r,a){if(!(this instanceof i.Event))return new i.Event(r,a);this.type=r,this.isDefaultPrevented=function(){return!1}}}},gt=mn(9156),f_=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),OO=function(o){f_(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i}(gt.Kx),PO=function(o){f_(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.getByComponent=function(e){var t=this;return this.filter(function(n){return t.getComponent(n)===e})[0]},i.prototype.addComponent=function(e,t){var n=this,r=((0,X.isArray)(e)?e:[e]).filter(function(a){return!n.hasComponent(a)}).map(function(a){return new OO({component:a})})[0];return this.push(r,t)},i.prototype.getComponent=function(e){return e.get("component")},i.prototype.hasComponent=function(e){var t=this.getByComponent(e);return t&&this.contains(t)},i.prototype.lastComponent=function(){var e=this.last();return e?this.getComponent(e):void 0},i.prototype.allComponents=function(){var e=this;return this.map(function(t){return e.getComponent(t)}).filter(function(t){return t})},i.prototype.removeComponent=function(e,t){var n=this,r=((0,X.isArray)(e)?e:[e]).map(function(a){return n.getByComponent(a)});return this.remove(r,t)},i}(gt.pM),MO=PO,TO=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gh=function(){return Gh=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Gh.apply(this,arguments)},SO=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},h_=function(){function o(i,e,t){this.debounced=[],this.collections=[],this.cls=[],this.events={},this._em=i,this._name=e;var n=this.name.charAt(0).toLowerCase()+this.name.slice(1),r=(0,X.isUndefined)(i.config[n])?i.config[this.name]:i.config[n],a=r===!0?{}:r||{};a.pStylePrefix=i.config.pStylePrefix||"",!(0,X.isUndefined)(r)&&!r&&(a._disable=1),a.em=i,this._config=(0,Ze.deepMerge)(t||{},a)}return Object.defineProperty(o.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),o.prototype.render=function(i){},o.prototype.postLoad=function(i){},o.prototype.onInit=function(){},Object.defineProperty(o.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(i){return i?this.config[i]:this.config},o.prototype.__logWarn=function(i,e){e===void 0&&(e={}),this.em.logWarning("[".concat(this.name,"]: ").concat(i),e)},o.prototype.destroy=function(){this.__destroy()},o.prototype.__destroy=function(){var i,e,t;(i=this.view)===null||i===void 0||i.remove(),(e=this.state)===null||e===void 0||e.stopListening(),(t=this.state)===null||t===void 0||t.clear(),this.debounced.forEach(function(n){return n.cancel()}),this.collections.forEach(function(n){n.stopListening(),n.reset()})},o.prototype.__appendTo=function(){var i=this.getConfig().appendTo;if(i){var e=(0,X.isElement)(i)?i:document.querySelector(i);if(!e)return this.__logWarn('"appendTo" element not found');e.appendChild(this.render())}},o}(),mr=h_,Go=function(o){TO(i,o);function i(e,t,n,r,a,s){s===void 0&&(s={});var c=o.call(this,e,t,a)||this;return c.cls=[],c.private=!1,c.all=n,r&&(c.events=r),!s.skipListen&&c.__initListen(),c}return i.prototype.postLoad=function(e){},i.prototype.render=function(e){},i.prototype.getProjectData=function(e){var t={},n=this.storageKey;return n&&(t[n]=e||this.getAll()),t},i.prototype.loadProjectData=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n=t.all,r=t.onResult,a=t.reset,s=this.storageKey,c={action:"load"},d=n||this.all,p=e[s];if(typeof p=="string")try{p=JSON.parse(p)}catch{this.__logWarn("Data parsing failed",{input:p})}return a&&p&&d.reset(void 0,c),r?p&&r(p,c):p&&(0,Ze.isDef)(p.length)&&d.reset(p,c),p},i.prototype.clear=function(e){e===void 0&&(e={});var t=this.all;return t&&t.reset(void 0,e),this},i.prototype.getAll=function(){return SO([],this.all.models,!0)},i.prototype.getAllMap=function(){return this.getAll().reduce(function(e,t){return e[t.get(t.idAttribute)]=t,e},{})},i.prototype.__initListen=function(e){e===void 0&&(e={});var t=this,n=t.all,r=t.em,a=t.events;n&&r&&n.on("add",function(s,c,d){return r.trigger(a.add,s,d)}).on("remove",function(s,c,d){return r.trigger(a.remove,s,d)}).on("change",function(s,c){return r.trigger(a.update,s,s.changedAttributes(),c)}).on("all",this.__catchAllEvent,this),this.cls=[n].concat(e.collections||[]),(e.propagate||[]).forEach(function(s){var c=s.entity,d=s.event;c.on("all",function(p,f,h,v){var C=v||h,b=Gh({event:p},C);[r,n].map(function(x){return x.trigger(d,f,b)})})})},i.prototype.__remove=function(e,t){var n=this;t===void 0&&(t={});var r=this.em,a=(0,X.isString)(e)?this.get(e):e,s=function(){return a&&n.all.remove(a,t),a};return!t.silent&&r?.trigger(this.events.removeBefore,a,s,t),!t.abort&&s()},i.prototype.__catchAllEvent=function(e,t,n,r){var a=this,s=a.em,c=a.events,d=r||n;s&&c.all&&s.trigger(c.all,{event:e,model:t,options:d}),this.__onAllEvent()},i.prototype.__appendTo=function(e){var t=this.config.appendTo;if(t){var n=(0,X.isElement)(t)?t:document.querySelector(t);if(!n)return this.__logWarn('"appendTo" element not found');n.appendChild(this.render(e))}},i.prototype.__onAllEvent=function(){},i.prototype._createId=function(e){e===void 0&&(e=16);var t=this.getAll(),n=t.length+e,r=this.getAllMap(),a;do a=(0,Ze.createId)(n);while(r[a]);return a},i.prototype.__listenAdd=function(e,t){var n=this;e.on("add",function(r,a,s){return n.em.trigger(t,r,s)})},i.prototype.__listenRemove=function(e,t){var n=this;e.on("remove",function(r,a,s){return n.em.trigger(t,r,s)})},i.prototype.__listenUpdate=function(e,t){var n=this;e.on("change",function(r,a){return n.em.trigger(t,r,r.changedAttributes(),a)})},i.prototype.__destroy=function(){var e;this.cls.forEach(function(t){t.stopListening(),t.reset()}),(e=this.view)===null||e===void 0||e.remove(),this.view=void 0},i}(h_),EO=function(){return{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0}},kO=EO,Na=mn(7058),m_=function(o){return o.add="device:add",o.addBefore="device:add:before",o.remove="device:remove",o.removeBefore="device:remove:before",o.select="device:select",o.selectBefore="device:select:before",o.update="device:update",o.all="device",o}(m_||{}),g_=m_,v_=function(o){return o.add="page:add",o.addBefore="page:add:before",o.remove="page:remove",o.removeBefore="page:remove:before",o.select="page:select",o.selectBefore="page:select:before",o.update="page:update",o.all="page",o}(v_||{}),Wh=v_,AO=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),IO=function(o){AO(i,o);function i(e,t,n){return o.call(this,t,{module:e,modelConstructor:n})||this}return i.prototype.add=function(e,t){var n=this,r,a=(0,X.isArray)(e)?e:(0,X.isUndefined)(e)?void 0:[e];return a=(r=a?.map(function(s){return s instanceof n.newModel?s:new n.newModel(n.module,s)}))!==null&&r!==void 0?r:[void 0],o.prototype.add.call(this,(0,X.isArray)(e)?a:a[0],t)},i.prototype.preinitialize=function(e,t){this.newModel=t.modelConstructor,this.module=t.module},i}(gt.pM),jp=IO,wm=function(o){return o.dragEnter="canvas:dragenter",o.dragOver="canvas:dragover",o.dragEnd="canvas:dragend",o.dragData="canvas:dragdata",o.drop="canvas:drop",o.spot="canvas:spot",o.spotAdd="canvas:spot:add",o.spotUpdate="canvas:spot:update",o.spotRemove="canvas:spot:remove",o.coords="canvas:coords",o.zoom="canvas:zoom",o.pointer="canvas:pointer",o.refresh="canvas:refresh",o.frameLoad="canvas:frame:load",o.frameLoadHead="canvas:frame:load:head",o.frameLoadBody="canvas:frame:load:body",o.frameUnload="canvas:frame:unload",o}(wm||{}),Nc=wm,LO=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Kh=function(){return Kh=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Kh.apply(this,arguments)},$0=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},Y0="__aw",Q0="__ah",X0=function(o,i){var e,t=o.get(i),n=(e=o.view)===null||e===void 0?void 0:e.el[i==="width"?"offsetWidth":"offsetHeight"];return(0,X.isNumber)(t)?t:(0,X.isString)(t)&&t.endsWith("px")?parseFloat(t):n||0},NO=function(o){LO(i,o);function i(e,t){var n=o.call(this,e,t)||this,r=n.em,a=n.attributes,s=a.styles,c=a.component,d=r.Components,p=d.getConfig(),f=r.Css.getAll(),h={},v={em:r,config:p,frame:n,idMap:h};if(!(0,Ze.isComponent)(c)){var C=(0,Ze.isObject)(c)?c:{components:c};!C.type&&(C.type="wrapper");var b=d.getType("wrapper").model;n.set("component",new b(C,v))}if(!s)n.set("styles",f);else if(!(0,Ze.isObject)(s)){var x=s;(0,X.keys)(h).length&&(x=(0,X.isString)(x)?r.Parser.parseCss(x):x,r.Css.checkId(x,{idMap:h})),f.add(x),n.set("styles",f)}return!t.width&&n.set(Y0,1),!t.height&&n.set(Q0,1),!n.id&&n.set("id",(0,Ze.createId)()),n}return i.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(i.prototype,"width",{get:function(){return X0(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return X0(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"root",{get:function(){var e=this.refFrame;return e?.getComponent()||this.getComponent()},enumerable:!1,configurable:!0}),i.prototype.initRefs=function(){var e=this.refFrame;if((0,X.isString)(e)){var t=this.module.framesById[e];t&&this.set({refFrame:t},{silent:!0})}},i.prototype.getBoxRect=function(){var e=this.attributes,t=e.x,n=e.y,r=this,a=r.width,s=r.height;return{x:t,y:n,width:a,height:s}},i.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},i.prototype.changesUp=function(e){e===void 0&&(e={}),!(e.temporary||e.noCount||e.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},i.prototype.getComponent=function(){return this.get("component")},i.prototype.getStyles=function(){return this.get("styles")},i.prototype.disable=function(){this.trigger("disable")},i.prototype.remove=function(){var e;(e=this.view)===null||e===void 0||e.remove(),this.view=void 0;var t=this.collection;return t&&t.remove(this)},i.prototype.getHead=function(){return $0([],this.head,!0)},i.prototype.setHead=function(e){return this.set("head",$0([],e,!0))},i.prototype.addHeadItem=function(e){this.head.push(e)},i.prototype.getHeadByAttr=function(e,t,n){return this.head.filter(function(r){return r.attributes&&r.attributes[e]==t&&(!n||n===r.tag)})[0]},i.prototype.removeHeadByAttr=function(e,t,n){var r=this.getHeadByAttr(e,t,n),a=this.head.indexOf(r);a>=0&&this.head.splice(a,1)},i.prototype.addLink=function(e){var t="link";!this.getHeadByAttr("href",e,t)&&this.addHeadItem({tag:t,attributes:{href:e,rel:"stylesheet"}})},i.prototype.removeLink=function(e){this.removeHeadByAttr("href",e,"link")},i.prototype.addScript=function(e){var t="script";!this.getHeadByAttr("src",e,t)&&this.addHeadItem({tag:t,attributes:{src:e}})},i.prototype.removeScript=function(e){this.removeHeadByAttr("src",e,"script")},i.prototype.getPage=function(){var e;return(e=this.collection)===null||e===void 0?void 0:e.page},i.prototype._emitUpdated=function(e){e===void 0&&(e={}),this.em.trigger("frame:updated",Kh({frame:this},e))},i.prototype._emitUnload=function(){this._emitWithEditor(Nc.frameUnload,{frame:this})},i.prototype._emitWithEditor=function(e,t){[this.em,this].forEach(function(n){return n?.trigger(e,t)})},i.prototype.hasAutoHeight=function(){var e=this.attributes.height;return!!(e==="auto"||this.config.infiniteCanvas)},i.prototype.toJSON=function(e){e===void 0&&(e={});var t=Na.A.prototype.toJSON.call(this,e),n=(0,X.result)(this,"defaults");return e.fromUndo&&delete t.component,delete t.styles,delete t.changesCount,t[Y0]&&delete t.width,t[Q0]&&delete t.height,t.refFrame&&(t.refFrame=t.refFrame.id,delete t.component),(0,X.forEach)(t,function(r,a){a.indexOf("_")===0&&delete t[a]}),(0,X.forEach)(n,function(r,a){t[a]===r&&delete t[a]}),(0,X.forEach)(["attributes","head"],function(r){(0,X.isEmpty)(t[r])&&delete t[r]}),t},i}(Na.A),__=NO,DO=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),RO=function(o){DO(i,o);function i(e,t){t===void 0&&(t=[]);var n=o.call(this,e,t,__)||this;return n.loadedItems=0,n.itemsToLoad=0,(0,X.bindAll)(n,"itemLoaded"),n.on("add",n.onAdd),n.on("reset",n.onReset),n.on("remove",n.onRemove),n.forEach(function(r){return n.onAdd(r)}),n}return i.prototype.onAdd=function(e){this.module.framesById[e.id]=e},i.prototype.onReset=function(e,t){var n=this,r=t?.previousModels||[];r.map(function(a){return n.onRemove(a)})},i.prototype.onRemove=function(e){e.onRemove(),delete this.module.framesById[e.id]},i.prototype.initRefs=function(){this.forEach(function(e){return e.initRefs()})},i.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},i.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},i.prototype.listenToLoadItems=function(e){var t=this;this.forEach(function(n){return n[e?"on":"off"]("loaded",t.itemLoaded)})},i}(jp),y_=RO,FO=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),VO=function(o){FO(i,o);function i(e){var t=this,n=e.em,r=e.config,a=r.scripts,s=r.styles;return t=o.call(this,e,{scripts:a,styles:s})||this,t.set("frames",new y_(e)),t.on("change:zoom",t.onZoomChange),t.on("change:x change:y",t.onCoordsChange),t.on("change:pointer change:pointerScreen",t.onPointerChange),t.listenTo(n,"change:device ".concat(g_.update),t.updateDevice),t.listenTo(n,Wh.select,t._pageUpdated),t}return i.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:gt.lK,pointerScreen:gt.lK}},Object.defineProperty(i.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),i.prototype.init=function(){var e=this.em,t=e.Pages._initPage();this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},i.prototype._pageUpdated=function(e,t){var n=this.em;n.setSelected(),n.get("readyCanvas")&&n.stopDefault(),t?.getFrames().map(function(r){r.disable(),r._emitUnload()}),this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},i.prototype.updateDevice=function(e){e===void 0&&(e={});var t=this.em,n=t.getDeviceModel(),r=e.frame||t.getCurrentFrameModel();if(r&&n){var a=n.attributes,s=a.width,c=a.height,d=a.minHeight;r.set({width:s,height:c,minHeight:d},{noUndo:1})}},i.prototype.onZoomChange=function(e,t,n){var r=this,a=r.em,s=r.module,c=this.get("zoom");c<1&&this.set("zoom",1),a.trigger(s.events.zoom,{options:n})},i.prototype.onCoordsChange=function(){var e=this,t=e.em,n=e.module;t.trigger(n.events.coords)},i.prototype.onPointerChange=function(){var e=this,t=e.em,n=e.module;t.trigger(n.events.pointer)},i.prototype.getPointerCoords=function(e){e===void 0&&(e=gt.x2.World);var t=this.attributes,n=t.pointer,r=t.pointerScreen;return e===gt.x2.World?n:r},i}(Na.A),jO=VO,Hr=mn(179),wn=mn(2225),HO=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zO=function(o){HO(i,o);function i(e,t){t===void 0&&(t=[]);var n=o.call(this,e,t,Hr.A)||this;n.on("add",n.onAdd),n.on("change",n.onChange),n.on("remove",n.onRemove);var r=n.em;n.refreshDbn=(0,X.debounce)(function(){return n.refresh()},0);var a="".concat(wn.I.resize," styleable:change ").concat(wn.I.input," ").concat(wn.I.update," frame:updated undo redo");return n.listenTo(r,a,function(){return n.refreshDbn()}),n}return Object.defineProperty(i.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),i.prototype.refresh=function(){var e=this,t=e.em,n=e.events;t.trigger(n.spot)},i.prototype.onAdd=function(e){this.__trgEvent(this.events.spotAdd,{spot:e})},i.prototype.onChange=function(e){this.__trgEvent(this.events.spotUpdate,{spot:e})},i.prototype.onRemove=function(e){this.__trgEvent(this.events.spotRemove,{spot:e})},i.prototype.__trgEvent=function(e,t){var n=this.module,r=n.em;r.trigger(e,t),this.refreshDbn()},i}(jp),BO=zO,UO=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),GO=function(o){UO(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"module",{get:function(){var e,t;return(t=(e=this.model)===null||e===void 0?void 0:e.module)!==null&&t!==void 0?t:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),i.prototype.preinitialize=function(e){this.className=""},i}(gt.Ss),Br=GO,Ct=mn(6294),WO=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),KO=function(o){WO(i,o);function i(e,t){e===void 0&&(e={}),t===void 0&&(t=!1);var n=o.call(this,e)||this;return n.itemsView="",n.itemType="type",n.reuseView=!1,n.viewCollection=[],t&&n.listenTo(n.collection,"add",n.addTo),n}return i.prototype.addTo=function(e){this.add(e)},i.prototype.itemViewNotFound=function(e){},i.prototype.add=function(e,t){var n=this,r=n.reuseView,a=n.viewCollection,s=t||null,c=e.get(this.itemType),d;e.view&&r?d=e.view:d=this.renderView(e,c),a.push(d);var p=d.render().el;s?s.appendChild(p):this.$el.append(p)},i.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(n){return e.add(n,t)}),this.$el.append(t),this.onRender(),this},i.prototype.onRender=function(){},i.prototype.onRemoveBefore=function(e,t){},i.prototype.onRemove=function(e,t){},i.prototype.remove=function(e){e===void 0&&(e={});var t=this.viewCollection;return this.onRemoveBefore(t,e),this.clearItems(),gt.Ss.prototype.remove.apply(this,e),this.onRemove(t,e),this},i.prototype.clearItems=function(){var e=this.viewCollection||[]},i}(Br),qO=KO,Gc=function(o){return o.mount="css:mount",o.mountBefore="css:mount:before",o}(Gc||{}),$O=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),YO=function(o){$O(i,o);function i(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.config=e.config||{};var n=t.model;return t.listenTo(n,"change",t.render),t.listenTo(n,"destroy remove",t.remove),t.listenTo(n.get("selectors"),"change",t.render),n.setView(t),t}return Object.defineProperty(i.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"em",{get:function(){return this.model.em},enumerable:!1,configurable:!0}),i.prototype.remove=function(){return o.prototype.remove.call(this),this.model.removeView(this),this},i.prototype.updateStyles=function(){this.render()},i.prototype.tagName=function(){return"style"},i.prototype.render=function(){var e=this,t=e.model,n=e.el,r=e.em,a=t.get("important"),s=t.toCSS({important:a}),c={rule:t,ruleView:this,css:s};return r?.trigger(Gc.mountBefore,c),n.innerHTML=c.css,r?.trigger(Gc.mount,c),this},i}(gt.Ss),Om=YO,QO=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),XO=function(o){QO(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype._createElement=function(){return document.createTextNode("")},i.prototype.render=function(){var e=this.model,t=e.get("important");return this.el.textContent=e.getDeclaration({important:t}),this},i}(Om),ZO=XO,JO=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lh=function(o,i){return"".concat(o).concat(i?"-".concat(parseFloat(i)):"")},eP=function(o){JO(i,o);function i(e){var t=o.call(this,e)||this;(0,X.bindAll)(t,"sortRules");var n=e.config||{};t.atRules={},t.config=n,t.em=n.em,t.pfx=n.stylePrefix||"",t.className=t.pfx+"rules";var r=t.collection;return t.listenTo(r,"add",t.addTo),t.listenTo(r,"reset",t.render),t}return i.prototype.addTo=function(e){this.addToCollection(e)},i.prototype.addToCollection=function(e,t){if(this.renderStarted){var n=t||null,r=this.config,a={model:e,config:r},s,c;if(e.get("atRuleType")==="keyframes"){var d=e.getAtRule(),p=this.atRules[d];if(!p){var f=document.createElement("style");p=document.createTextNode(""),f.appendChild(document.createTextNode("".concat(d,"{"))),f.appendChild(p),f.appendChild(document.createTextNode("}")),this.atRules[d]=p,s=f}c=new ZO(a),p.appendData(c.render().el.textContent)}else c=new Om(a),s=c.render().el;var h=this.className,v=e.get("mediaText"),C=lh(h),b=C;if(v&&(b=lh(h,this.getMediaWidth(v))),s){var x=n||this.el,w=void 0;try{w=x.querySelector("#".concat(b))}catch{}w||(w=x.querySelector("#".concat(C))),w?.appendChild(s)}return s}},i.prototype.getMediaWidth=function(e){return e&&e.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},i.prototype.sortRules=function(e,t){var n=this.em,r=(n.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!r)return 0;var a=r?e:t,s=r?t:e;return a-s},i.prototype.render=function(){var e=this;this.renderStarted=!0,this.atRules={};var t=this,n=t.em,r=t.$el,a=t.collection,s=this.className,c=document.createDocumentFragment();r.empty();var d=n.Devices.getAll().pluck("priority").sort(this.sortRules);return d.every(function(p){return p})&&d.unshift(0),d.forEach(function(p){return c.appendChild((0,Ct.a_)("div",{id:lh(s,p)}))}),a.each(function(p){return e.addToCollection(p,c)}),r.append(c),r.attr("class",s),this},i}(gt.Ss),qh=eP,b_="text/html",tP=b_,nP=function(o,i){i===void 0&&(i={});var e=new DOMParser,t=i.htmlType||tP,n=t===b_,r=n?o:"<div>".concat(o,"</div>"),a=e.parseFromString(r,t),s;if(n){if(i.asDocument)return a;var c=a.head,d=a.body,p=c.querySelectorAll("script");(0,X.each)(p,function(h){return d.appendChild(h)});var f=[];(0,X.each)(c.children,function(h){return f.push(h)}),(0,X.each)(f,function(h,v){return d.insertBefore(h,d.children[v])}),s=d}else s=a.firstChild;return s},hs=function(o){return o.html="parse:html",o.htmlRoot="parse:html:root",o.htmlBefore="parse:html:before",o.css="parse:css",o.cssBefore="parse:css:before",o.all="parse",o}(hs||{});var to=function(){return to=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},to.apply(this,arguments)},iP="data-gjs-",rP=function(o,i){return i===void 0&&(i={}),{compTypes:[],modelAttrStart:iP,getPropAttribute:function(e,t){var n=e.replace(this.modelAttrStart,""),r=t?.length||0,a=t?.substring(0,1),s=t?.substring(r-1),c=t==="true"?!0:t==="false"?!1:t;try{c=a=="{"&&s=="}"||a=="["&&s=="]"?JSON.parse(c):c}catch{}return{name:n,value:c}},splitPropsFromAttr:function(e){var t=this;e===void 0&&(e={});var n={},r={};return(0,X.each)(e,function(a,s){if(s.indexOf(t.modelAttrStart)===0){var c=t.getPropAttribute(s,a);n[c.name]=c.value}else r[s]=a}),{props:n,attrs:r}},parseStyle:function(e){for(var t={};e.indexOf("/*")>=0;){var n=e.indexOf("/*"),r=e.indexOf("*/"),a=r>-1?r+2:void 0;e=e.replace(e.slice(n,a),"")}for(var s=e.split(";"),c=0,d=s.length;c<d;c++){var p=s[c].trim();if(p){var f=p.split(":"),h=f[0].trim(),v=f.slice(1).join(":").trim();t[h]?((0,X.isArray)(t[h])||(t[h]=[t[h]]),t[h].push(v)):t[h]=v}}return t},parseClass:function(e){for(var t=[],n=e.split(" "),r=0,a=n.length;r<a;r++){var s=n[r].trim();s&&t.push(s)}return t},parseNodeAttr:function(e,t){for(var n,r,a=t||{},s=e.attributes||[],c=s.length,d=!!(!((n=i?.optionsHtml)===null||n===void 0)&&n.convertDataGjsAttributesHyphens),p=d&&!!a.type&&(0,X.result)((r=o?.Components.getType(a.type))===null||r===void 0?void 0:r.model.prototype,"defaults")||{},f=0;f<c;f++){var h=s[f].nodeName,v=s[f].nodeValue;if(h=="style")a.style=this.parseStyle(v);else if(h=="class")a.classes=this.parseClass(v);else{if(h=="contenteditable")continue;if(h.indexOf(this.modelAttrStart)===0){var C=this.getPropAttribute(h,v),b=C.name;if(d&&!(b in p)){var x=(0,Ct._I)(b);b=x in p?x:b}a[b]=C.value}else v===""&&e[h]===!0&&(v=!0),a.attributes||(a.attributes={}),a.attributes[h]=v}}return a},detectNode:function(e,t){var n;t===void 0&&(t={});var r=this.compTypes,a={};if(r){var s=(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"".concat(this.modelAttrStart,"type"));if(s)a={type:s};else for(var c=0;c<r.length;c++){var d=r[c],p=d.model.isComponent(e,t);if(p){typeof p!="object"&&(p={type:d.id}),a=p;break}}}return a},parseNode:function(e,t){var n;t===void 0&&(t={});var r=((n=e.content)===null||n===void 0?void 0:n.childNodes)||e.childNodes,a=r.length,s=this.detectNode(e,t);if(!s.tagName){var c=e.tagName||"",d=e.namespaceURI||"";s.tagName=c&&d==="http://www.w3.org/1999/xhtml"?c.toLowerCase():c}if(s=this.parseNodeAttr(e,s),!a&&"".concat(e.outerHTML).slice(-2)==="/>"&&(s.void=!0),a&&!s.components&&!t.skipChildren){var p=r[0];a===1&&p.nodeType===3?(!s.type&&(s.type="text"),s.components={type:"textnode",content:p.nodeValue}):s.components=this.parseNodes(e,to(to({},t),{inSvg:t.inSvg||s.type==="svg"}))}var f=s.components;if(!s.type&&f?.length){for(var h=i.textTypes,v=h===void 0?[]:h,C=i.textTags,b=C===void 0?[]:C,x=!0,w=!1,P=0;P<f.length;P++){var M=f[P],y=M.type;if(!v.includes(y)&&!b.includes(M.tagName)){x=!1;break}y==="textnode"&&(w=!0)}x&&w&&(s.type="text")}return s},parseNodes:function(e,t){var n;t===void 0&&(t={});for(var r=[],a=((n=e.content)===null||n===void 0?void 0:n.childNodes)||e.childNodes,s=a.length,c=0;c<s;c++){var d=a[c],p=r[r.length-1],f=this.parseNode(d,t);if(f.type==="textnode"){if(p?.type==="textnode"){p.content+=f.content;continue}if(!t.keepEmptyTextNodes){var h=d.nodeValue||"",v=c===0||c===s-1,C=h.includes(`
`);if(h!=" "&&!h.trim()&&(v||C))continue}}!f.tagName&&(0,X.isUndefined)(f.content)||r.push(f)}return r},parse:function(e,t,n){var r,a,s;n===void 0&&(n={});var c=o?.get("Config")||{},d=o?.Parser,p={html:[]},f=to(to(to({},i.optionsHtml),{htmlType:((r=i.optionsHtml)===null||r===void 0?void 0:r.htmlType)||i.htmlType}),n),h=to(to({},f),{asDocument:this.__checkAsDocument(e,f)}),v=to(to({},i),h),C=h.preParser,b=h.asDocument,x={input:(0,X.isFunction)(C)?C(e,{editor:o?.getEditor()}):e};d?.__emitEvent(hs.htmlBefore,x);var w=x.input,P=(0,X.isFunction)(v.parserHtml)?v.parserHtml(w,h):nP(w,h),M=P,y=P;b&&(M=y.documentElement,p.doctype=(0,Ct.LJ)(y.doctype));var A=M.querySelectorAll("script"),k=A.length,N=(0,X.isUndefined)(c.allowScripts)?h.allowScripts:c.allowScripts;if(!N)for(;k--;)(a=A[k].parentNode)===null||a===void 0||a.removeChild(A[k]);if((!h.allowUnsafeAttr||!h.allowUnsafeAttrValue)&&this.__sanitizeNode(M,h),t){for(var V=M.querySelectorAll("style"),j=V.length,R="";j--;)R=V[j].innerHTML+R,(s=V[j].parentNode)===null||s===void 0||s.removeChild(V[j]);R&&(p.css=t.parse(R))}d?.__emitEvent(hs.htmlRoot,{input:w,root:M});var H=[];if(b)p.head=this.parseNode(y.head,v),p.root=this.parseNodeAttr(M),H=this.parseNode(y.body,v);else{var I=this.parseNodes(M,v);H=I.length===1&&!v.returnArray?I[0]:I}return p.html=H,d?.__emitEvent(hs.html,{input:w,output:p,options:h}),p},__sanitizeNode:function(e,t){var n=this,r=e.attributes||[],a=e.childNodes||[],s=[];(0,X.each)(r,function(c){var d=c.nodeName||"",p=c.nodeValue||"";!t.allowUnsafeAttr&&d.startsWith("on")&&s.push(d),!t.allowUnsafeAttrValue&&p.startsWith("javascript:")&&s.push(d)}),s.map(function(c){return e.removeAttribute(c)}),(0,X.each)(a,function(c){return n.__sanitizeNode(c,t)})},__checkAsDocument:function(e,t){if((0,Ze.isDef)(t.asDocument))return t.asDocument;if((0,X.isFunction)(t.detectDocument))return!!t.detectDocument(e);if(t.detectDocument)return e.toLowerCase().trim().startsWith("<!doctype")}}},C_=rP,ms=function(o){return o.add="data:add",o.addBefore="data:add:before",o.remove="data:remove",o.removeBefore="data:remove:before",o.update="data:update",o.path="data:path",o.pathSource="data:pathSource:",o.all="data",o}(ms||{});var $h="data-collection",Dc="data-collection-item",sl="dataResolver",Z0=function(){function o(i,e,t){this.operator=i,this.statements=e,this.opts=t}return o.prototype.evaluate=function(){var i=this,e=this.statements.map(function(t){var n=new x_({condition:t},i.opts);return n.evaluate()});return this.operator.evaluate(e)},o}(),Hp=function(){function o(i,e){this.operationString=i,this.em=e.em}return o.prototype.getOperations=function(){return CP(this.operationsEnum)},o}(),oP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pm=function(o){return o.equals="equals",o.isTruthy="isTruthy",o.isFalsy="isFalsy",o.isDefined="isDefined",o.isNull="isNull",o.isUndefined="isUndefined",o.isArray="isArray",o.isObject="isObject",o.isString="isString",o.isNumber="isNumber",o.isBoolean="isBoolean",o.isDefaultValue="isDefaultValue",o}(Pm||{}),aP=function(o){oP(i,o);function i(){var e=o!==null&&o.apply(this,arguments)||this;return e.operationsEnum=Pm,e}return i.prototype.evaluate=function(e,t){var n;switch(this.operationString){case"equals":return e===t;case"isTruthy":return!!e;case"isFalsy":return!e;case"isDefined":return e!=null;case"isNull":return e===null;case"isUndefined":return e===void 0;case"isArray":return Array.isArray(e);case"isObject":return typeof e=="object"&&e!==null;case"isString":return typeof e=="string";case"isNumber":return typeof e=="number";case"isBoolean":return typeof e=="boolean";case"isDefaultValue":return e instanceof Sl&&e.get("defaultValue")===t;default:return(n=this.em)===null||n===void 0||n.logWarning("Unsupported generic operation: ".concat(this.operationString)),!1}},i}(Hp),sP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ec=function(o){return o.and="and",o.or="or",o.xor="xor",o}(Ec||{}),lP=function(o){sP(i,o);function i(){var e=o!==null&&o.apply(this,arguments)||this;return e.operationsEnum=Ec,e}return i.prototype.evaluate=function(e){if(!e?.length)return!1;switch(this.operationString){case Ec.and:return e.every(Boolean);case Ec.or:return e.some(Boolean);case Ec.xor:return e.filter(Boolean).length===1;default:return this.em.logWarning("Unsupported boolean operation: ".concat(this.operationString)),!1}},i}(Hp),cP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ea=function(o){return o.greaterThan=">",o.lessThan="<",o.greaterThanOrEqual=">=",o.lessThanOrEqual="<=",o.equals="=",o.notEquals="!=",o}(Ea||{}),dP=function(o){cP(i,o);function i(){var e=o!==null&&o.apply(this,arguments)||this;return e.operationsEnum=Ea,e}return i.prototype.evaluate=function(e,t){if(typeof e!="number")return!1;switch(this.operationString){case Ea.greaterThan:return e>t;case Ea.lessThan:return e<t;case Ea.greaterThanOrEqual:return e>=t;case Ea.lessThanOrEqual:return e<=t;case Ea.equals:return e===t;case Ea.notEquals:return e!==t;default:return this.em.logWarning("Unsupported number operation: ".concat(this.operationString)),!1}},i}(Hp),uP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xo=function(o){return o.contains="contains",o.startsWith="startsWith",o.endsWith="endsWith",o.matchesRegex="matchesRegex",o.equalsIgnoreCase="equalsIgnoreCase",o.trimEquals="trimEquals",o}(xo||{}),pP=function(o){uP(i,o);function i(){var e=o!==null&&o.apply(this,arguments)||this;return e.operationsEnum=xo,e}return i.prototype.evaluate=function(e,t){if(typeof e!="string")return!1;switch(this.operationString){case xo.contains:return e.includes(t);case xo.startsWith:return e.startsWith(t);case xo.endsWith:return e.endsWith(t);case xo.matchesRegex:return t||this.em.logWarning("Regex pattern must be provided."),new RegExp(t??"").test(e);case xo.equalsIgnoreCase:return e.toLowerCase()===t.toLowerCase();case xo.trimEquals:return e.trim()===t.trim();default:return this.em.logWarning("Unsupported string operation: ".concat(this.operationString)),!1}},i}(Hp),fP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),x_=function(o){fP(i,o);function i(e,t){var n,r=o.call(this,e)||this;return r.collectionsStateMap={},r.em=t.em,r.collectionsStateMap=(n=t.collectionsStateMap)!==null&&n!==void 0?n:{},r}return i.prototype.evaluate=function(){var e=this.get("condition");if(!e||(0,X.isBoolean)(e))return!!e;var t=this.getOperator();return t?t.evaluate(this.getResolvedLeftValue(),this.getResolvedRightValue()):!1},i.prototype.getDependentDataVariables=function(){var e=this.get("condition");return e?this.extractDataVariables(e):[]},i.prototype.getOperations=function(){var e=this.getOperator();return!e||e instanceof Z0?[]:e.getOperations()},i.prototype.updateCollectionStateMap=function(e){this.collectionsStateMap=e},i.prototype.getOperator=function(){var e={em:this.em,collectionsStateMap:this.collectionsStateMap},t=this.get("condition");if(!(!t||(0,X.isBoolean)(t))){var n;if(this.isLogicGroup(t)){var r=t.logicalOperator,a=t.statements,s=new lP(r,e);n=new Z0(s,a,e)}if(this.isExpression(t)){var c=t.left,s=t.operator,d=Ru(c,e);n=this.resolveOperator(d,s)}return n}},i.prototype.resolveOperator=function(e,t){var n=this.em;if(this.isOperatorInEnum(t,Pm))return new aP(t,{em:n});if(typeof e=="number")return new dP(t,{em:n});if(typeof e=="string")return new pP(t,{em:n})},i.prototype.extractDataVariables=function(e){var t=this,n=[];return this.isExpression(e)?(vs(e.left)&&n.push(e.left),vs(e.right)&&n.push(e.right)):this.isLogicGroup(e)&&e.statements.forEach(function(r){return n.push.apply(n,t.extractDataVariables(r))}),n},i.prototype.isLogicGroup=function(e){return e&&typeof e.logicalOperator<"u"&&Array.isArray(e.statements)},i.prototype.isExpression=function(e){return e&&typeof e.left<"u"&&typeof e.operator=="string"},i.prototype.isOperatorInEnum=function(e,t){return Object.values(t).includes(e)},i.prototype.resolveExpressionSide=function(e){var t=this.get("condition"),n=this,r=n.em,a=n.collectionsStateMap;if(!t||typeof t=="boolean")return t;if(t&&typeof t=="object"&&e in t){var s=t[e];return Ru(s,{em:r,collectionsStateMap:a})}},i.prototype.getResolvedLeftValue=function(){return this.resolveExpressionSide("left")},i.prototype.getResolvedRightValue=function(){return this.resolveExpressionSide("right")},i.prototype.toJSON=function(e){var t=this.get("condition");if(typeof t=="object"){var n=JSON.parse(JSON.stringify(t));return n}return t},i}(gt.Kx),hP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Da="data-condition",mP="data-condition-evaluation-changed",Eu="data-condition-output-changed",w_=function(o){hP(i,o);function i(e,t){var n,r=o.call(this,e,t)||this;r.collectionsStateMap={},r.resolverListeners=[],r._previousEvaluationResult=null,r.em=t.em,r.collectionsStateMap=(n=t.collectionsStateMap)!==null&&n!==void 0?n:{};var a=e.condition,s=a===void 0?{}:a,c=new x_({condition:s},{em:r.em});return r._conditionEvaluator=c,r.listenToDataVariables(),r.listenToPropsChange(),r}return i.prototype.defaults=function(){return{type:Da,condition:{left:"",operator:xo.equalsIgnoreCase,right:""},ifTrue:{},ifFalse:{}}},i.prototype.getCondition=function(){return this._conditionEvaluator.get("condition")},i.prototype.getIfTrue=function(){return this.get("ifTrue")},i.prototype.getIfFalse=function(){return this.get("ifFalse")},i.prototype.getOperations=function(){return this._conditionEvaluator.getOperations()},i.prototype.setCondition=function(e){this.set("condition",e),this._conditionEvaluator.set("condition",e),this.trigger(Eu,this.getDataValue())},i.prototype.setIfTrue=function(e){this.set("ifTrue",e)},i.prototype.setIfFalse=function(e){this.set("ifFalse",e)},i.prototype.isTrue=function(){return this._conditionEvaluator.evaluate()},i.prototype.getDataValue=function(e){e===void 0&&(e=!1);var t=this,n=t.em,r=t.collectionsStateMap,a={em:n,collectionsStateMap:r},s=this.getIfTrue(),c=this.getIfFalse(),d=this.isTrue();return e?d?s:c:Ru(d?s:c,a)},i.prototype.resolvesFromCollection=function(){return!1},i.prototype.updateCollectionsStateMap=function(e){this.collectionsStateMap=e,this._conditionEvaluator.updateCollectionStateMap(e),this.listenToDataVariables(),this.emitConditionEvaluationChange()},i.prototype.listenToPropsChange=function(){var e=this;this.on("change:condition",this.handleConditionChange.bind(this)),this.on("change:condition change:ifTrue change:ifFalse",function(){e.listenToDataVariables()})},i.prototype.handleConditionChange=function(){this.setCondition(this.get("condition"))},i.prototype.listenToDataVariables=function(){this.cleanupListeners(),this.setupConditionDataVariableListeners(),this.setupOutputDataVariableListeners()},i.prototype.setupConditionDataVariableListeners=function(){var e=this;this._conditionEvaluator.getDependentDataVariables().forEach(function(t){e.addListener(t,function(){e.emitConditionEvaluationChange()})})},i.prototype.setupOutputDataVariableListeners=function(){var e=this.isTrue();this.setupOutputVariableListener(this.getIfTrue(),e),this.setupOutputVariableListener(this.getIfFalse(),!e)},i.prototype.setupOutputVariableListener=function(e,t){var n=this;vs(e)&&this.addListener(e,function(){t&&n.trigger(Eu,e)})},i.prototype.addListener=function(e,t){var n=new Yc({em:this.em,resolver:new Sl(e,{em:this.em,collectionsStateMap:this.collectionsStateMap}),onUpdate:t});this.resolverListeners.push(n)},i.prototype.emitConditionEvaluationChange=function(){var e=this.isTrue();this._previousEvaluationResult!==e&&(this._previousEvaluationResult=e,this.trigger(mP,e),this.emitOutputValueChange())},i.prototype.emitOutputValueChange=function(){var e=this.getDataValue();this.trigger(Eu,e)},i.prototype.cleanupListeners=function(){this.resolverListeners.forEach(function(e){return e.destroy()}),this.resolverListeners=[]},i.prototype.toJSON=function(){var e=this.getIfTrue(),t=this.getIfFalse();return{type:Da,condition:this._conditionEvaluator.toJSON(),ifTrue:e,ifFalse:t}},i}(gt.Kx),Mm="data-condition-true-content",Tm="data-condition-false-content",cr=function(){return cr=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},cr.apply(this,arguments)},O_=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},ps=function(o){return(0,X.isArray)(o.get(Xi))},Du=function(o){return!!o.get(dr)},wo=function(o){return!!(ps(o)||Du(o))},gs=function(o){var i=o.parent();return wo(o)&&(!i||!wo(i))};var Pc=function(o){o.__symbReady||(o.on("change",o.__upSymbProps),o.__symbReady=!0)},zr=function(o){var i=o.get(dr);if(i&&(0,X.isString)(i)){var e=o.__getAllById()[i];e?(i=e,o.set(dr,e)):i=0}return i||void 0},hr=function(o){var i=o?.get(Xi);return i&&(0,X.isArray)(i)&&(i.forEach(function(e,t){e&&(0,X.isString)(e)&&(i[t]=o.__getAllById()[e])}),i=i.filter(function(e){return e&&!(0,X.isString)(e)})),i||void 0},Wc=function(o,i){i===void 0&&(i="");var e=o?.get(ul),t=i.split(":")[0],n=i!==t?[i,t]:[i];return e===!0||(0,X.isArray)(e)&&n.some(function(r){return e.indexOf(r)>=0})},zo=function(o,i){i===void 0&&(i={});var e=[],t=i.changed;if(i.fromInstance||i.noPropagate||i.fromUndo||t&&Wc(o,t))return e;var n=hr(o)||[],r=zr(o),a=r?O_([r],hr(r)||[],!0):n;return e=a.filter(function(s){return s!==o}).filter(function(s){return!(t&&Wc(s,t))}),e},Kc=function(o,i){for(var e=o,t=o.parent(i);t&&wo(t);)e=t,t=t.parent(i);return e},zp=function(o,i){i===void 0&&(i={});var e=zr(o),t=e&&hr(e);!i.skipRefs&&t&&e.set(Xi,t.filter(function(n){return n!==o})),o.set(dr,0),o.components().forEach(function(n){return zp(n,i)})},Rc=function(o,i,e,t){t===void 0&&(t={});var n=zr(o),r=hr(o);!n&&!r||o.em.log(i,{model:o,toUp:e,context:"symbols",opts:t})},gP=function(o,i){i===void 0&&(i={});var e=o.changedAttributes();if(e){var t=o.dataResolverWatchers.getProps(e);if(vP(t),!(0,Ze.isEmptyObj)(t)){var n=zo(o,i);t=J0(t,o),Rc(o,"props",n,{opts:i,changed:t}),n.forEach(function(r){var a=J0(t,r);r.set(a,cr({fromInstance:o},i))})}}},vP=function(o){var i,e,t=["status","open",Xi,dr,ul];t.forEach(function(n){return delete o[n]}),(i=o.attributes)===null||i===void 0||delete i.id,(0,Ze.isEmptyObj)((e=o.attributes)!==null&&e!==void 0?e:{})&&delete o.attributes},J0=function(o,i){var e=cr({},o);return(0,X.keys)(o).forEach(function(t){_P(o,t,i)||delete e[t]}),e},_P=function(o,i,e){var t=function(){var n;if(i==="attributes"){var r=o.attributes;return Object.values(r).some(function(a){return!!a?.collectionId})}return!!(!((n=o[i])===null||n===void 0)&&n.collectionId)}();return!Wc(e,i)||t},yP=function(o,i){i===void 0&&(i={});var e=zo(o,i);Rc(o,"classes",e,{opts:i}),e.forEach(function(t){t.set("classes",o.get("classes"),{fromInstance:o})}),o.__changesUp(i)},P_=function(o,i,e,t){var n=t||e||{},r=n.fromInstance,a=n.fromUndo,s={fromInstance:r,fromUndo:a},c=i.opt.temporary;if(t)if(t.add){var v=[],C=!!hr(o),p=zo(o,cr(cr({},s),{changed:"components:add"}));if(p.length){var b=zr(i);v=hr(b||i)||[],v=O_([],v,!0),v.push(b||i)}!c&&Rc(o,"add",p,{opts:t,addedInstances:v.map(function(V){return V.cid}),added:i.cid}),p.forEach(function(V){var j=Kc(V),R=v.filter(function(I){var G=Kc(I,{prev:1});return j&&G&&G===j})[0],H=R||i.clone({symbol:!0,symbolInv:C});V.append(H,cr({fromInstance:o},t))})}else{var x=zr(i);if(x&&!t.temporary&&x.set(Xi,hr(x).filter(function(N){return N!==i})),!gs(i)&&!t.skipRefsUp){var w="components:remove",P=t.index,M=i.parent(),y=cr({fromInstance:i},t),A=gs(i),k=function(V){var j=V.parent();j&&!Wc(j,w)&&V.remove(y)},p=Wc(M,w)?[]:zo(i,s);A&&(p=M&&zo(M,cr(cr({},s),{changed:w})),k=function(V){var j=V.components().at(P);j&&j.remove(cr({fromInstance:M},y))}),!c&&Rc(o,"remove",p,{opts:t,removed:i.cid,isSymbNested:A}),p.forEach(k)}}else{var d=i,p=zo(o,cr(cr({},s),{changed:"components:reset"})),f=d.models,h=new Set;Rc(o,"reset",p,{components:f}),p.forEach(function(N){var V=N.components(),j=f.map(function(R,H){return o.get(sl)?R.clone({symbol:wo(R)}):!wo(R)||h.has(R)?(h.add(R),R.clone({symbol:!0})):V.at(H)});V.reset(j,cr({fromInstance:o},e))})}o.__changesUp(n)};function Yh(o){return typeof o=="object"&&[Ar,Da].includes(o?.type)}function vs(o){return o?.type===Ar}function Ru(o,i){return Yh(o)?(vs(o)&&Sl.resolveDataResolver(o,i),T_(o,i)):o}function M_(o,i){var e,t=o.type,n;switch(t){case Ar:n=new Sl(o,i);break;case Da:{n=new w_(o,i);break}default:(e=i.em)===null||e===void 0||e.logWarning("Unsupported resolver type: ".concat(t));return}return n}function T_(o,i){var e=M_(o,i);return e?.getDataValue()}var bP=function(o){return!!o&&[Dc,Mm,Tm].includes(o)};function CP(o){return Object.keys(o).filter(function(i){return isNaN(Number(i))}).map(function(i){return o[i]})}function xP(o){var i=o.collectionsStateMap;if(!i)return!1;var e=Object.keys(i);if(!e.length)return!1;var t=zr(o);if(!t||t===o)return!1;var n=t.collectionsStateMap,r=Object.keys(n),a=r.every(function(s){return e.includes(s)});return a}function wP(o){var i=zr(o);return i?i.getId():""}function OP(o){var i=xP(o),e=i?wP(o):null;return{shouldSync:i,itemId:e}}var PP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fu=function(){return Fu=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Fu.apply(this,arguments)},Ar="data-variable",MP=function(o){PP(i,o);function i(e,t){var n=o.call(this,e,t)||this;return n.em=t.em,n.collectionsStateMap=t.collectionsStateMap,n}return i.prototype.defaults=function(){return{type:Ar,defaultValue:"",path:"",collectionId:void 0,variableType:void 0,asPlainText:void 0}},Object.defineProperty(i.prototype,"path",{get:function(){var e;return(e=this.get("path"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"defaultValue",{get:function(){var e;return(e=this.get("defaultValue"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"collectionId",{get:function(){return this.get("collectionId")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"variableType",{get:function(){return this.get("variableType")},enumerable:!1,configurable:!0}),i.prototype.resolvesFromCollection=function(){return!!this.collectionId},i.prototype.updateCollectionsStateMap=function(e){this.collectionsStateMap=e,this.trigger("change")},i.prototype.getResolverPath=function(){var e;if(this.resolvesFromCollection()){var t=this.resolveCollectionVariable();return vs(t)?(e=t.path)!==null&&e!==void 0?e:"":!1}return this.path},i.prototype.toJSON=function(e){var t=this.defaults(),n=o.prototype.toJSON.call(this,e),r=Object.fromEntries(Object.entries(n).filter(function(a){var s=a[0],c=a[1];return c!==t[s]}));return Fu(Fu({},r),{type:Ar})},i.prototype.getDataValue=function(){var e={em:this.em,collectionsStateMap:this.collectionsStateMap};return i.resolveDataResolver({path:this.path,defaultValue:this.defaultValue,collectionId:this.collectionId,variableType:this.variableType},e)},i.resolveDataSourceVariable=function(e,t){var n,r;return t.em.DataSources.getValue((n=e.path)!==null&&n!==void 0?n:"",(r=e.defaultValue)!==null&&r!==void 0?r:"")},i.resolveDataResolver=function(e,t){var n,r,a,s;if(e.collectionId){var c=i.resolveCollectionVariable(e,t);return vs(c)?i.resolveDataSourceVariable({path:(n=c.path)!==null&&n!==void 0?n:"",defaultValue:(r=e.defaultValue)!==null&&r!==void 0?r:""},{em:t.em}):c}return i.resolveDataSourceVariable({path:(a=e.path)!==null&&a!==void 0?a:"",defaultValue:(s=e.defaultValue)!==null&&s!==void 0?s:""},{em:t.em})},i.prototype.resolveCollectionVariable=function(){var e=this,t=e.em,n=e.collectionsStateMap;return i.resolveCollectionVariable(this.attributes,{em:t,collectionsStateMap:n})},i.resolveCollectionVariable=function(e,t){var n=e.collectionId,r=n===void 0?"":n,a=e.variableType,s=e.path,c=e.defaultValue,d=c===void 0?"":c,p=t.em,f=t.collectionsStateMap;if(!f)return d;var h=f[r];return h?a?a==="currentItem"?i.resolveCurrentItem(h,s,r,p):h[a]:(p.logError("Missing collection variable type for collection: ".concat(r)),d):d},i.resolveCurrentItem=function(e,t,n,r){var a=e.currentItem;if(!a)return r.logError("Current item is missing for collection: ".concat(n)),"";if(a.type===Ar){var s=a.path?"".concat(a.path,".").concat(t):t;return{type:Ar,path:s}}return t&&!a[t]?(r.logError("Path not found in current item: ".concat(t," for collection: ").concat(n)),""):t?a[t]:a},i}(gt.Kx),Sl=MP,TP=function(){function o(i){var e=this;this.listeners=[],this.model=new gt.Kx,this.onChange=function(){var t=e.resolver.getDataValue();e.onUpdate(t)},this.em=i.em,this.resolver=i.resolver,this.onUpdate=i.onUpdate,this.listenToResolver()}return o.prototype.createListener=function(i,e,t){return t===void 0&&(t=this.onChange),{obj:i,event:e,callback:t}},o.prototype.listenToResolver=function(){var i=this,e=i.resolver,t=i.model;this.removeListeners();var n=[],r=e.attributes.type;switch(r){case Ar:n=this.listenToDataVariable(e);break;case Da:n=this.listenToConditionalVariable(e);break}n.forEach(function(a){return t.listenTo(a.obj,a.event,a.callback)}),this.listeners=n},o.prototype.listenToConditionalVariable=function(i){return[{obj:i,event:Eu,callback:this.onChange}]},o.prototype.listenToDataVariable=function(i){var e=this,t=this.em,n=[],r=function(){e.listenToResolver(),e.onChange()};n.push(this.createListener(i,"change",r));var a=i.getResolverPath();if(!a)return n;var s=(0,Ze.stringToPath)(a||"").join("."),c=t.DataSources.fromPath(a),d=c[0],p=c[1];return d&&n.push(this.createListener(d.records,"add remove reset",r)),p&&n.push(this.createListener(p,"change")),n.push(this.createListener(t.DataSources.all,"add remove reset",r),this.createListener(t,"".concat(ms.path,":").concat(s))),n},o.prototype.removeListeners=function(){var i=this;this.listeners.forEach(function(e){return i.model.stopListening(e.obj,e.event,e.callback)}),this.listeners=[]},o.prototype.destroy=function(){this.removeListeners()},o}(),Yc=TP,Vu=function(){return Vu=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Vu.apply(this,arguments)},ch=function(){function o(i,e,t){this.model=i,this.updateFn=e,this.resolverListeners={},this.em=t.em}return o.prototype.bindModel=function(i){this.model=i},o.prototype.setDataValues=function(i,e){e===void 0&&(e={});var t=e.skipWatcherUpdates||e.fromDataSource;return t||this.removeListeners(),this.addDataValues(i,e)},o.prototype.addDataValues=function(i,e){if(e===void 0&&(e={}),!i)return{};var t=this.evaluateValues(i),n=e.skipWatcherUpdates||e.fromDataSource;return n||this.updateListeners(i),t},o.prototype.onCollectionsStateMapUpdate=function(){var i=this,e=this.getValuesResolvingFromCollections();if(e.length){e.forEach(function(n){return i.resolverListeners[n].resolver.updateCollectionsStateMap(i.collectionsStateMap)});var t=this.addDataValues(this.getValuesOrResolver(Object.fromEntries(e.map(function(n){return[n,""]}))));Object.entries(t).forEach(function(n){var r=n[0],a=n[1];return i.updateFn(i.model,r,a)})}},Object.defineProperty(o.prototype,"collectionsStateMap",{get:function(){var i,e=this.model;return(i=e?.collectionsStateMap)!==null&&i!==void 0?i:{}},enumerable:!1,configurable:!0}),o.prototype.updateListeners=function(i){var e=this,t=this,n=t.em,r=t.collectionsStateMap;this.removeListeners(Object.keys(i));for(var a=Object.keys(i),s=function(p){var f=a[p],h=i[f];if(!Yh(h))return"continue";var v=M_(h,{em:n,collectionsStateMap:r});c.resolverListeners[f]=new Yc({em:n,resolver:v,onUpdate:function(C){return e.updateFn(e.model,f,C)}})},c=this,d=0;d<a.length;d++)s(d)},o.prototype.evaluateValues=function(i){for(var e=this,t=e.em,n=e.collectionsStateMap,r=Vu({},i),a=Object.keys(i),s=0;s<a.length;s++){var c=a[s],d=i[c];Yh(d)&&(r[c]=T_(d,{em:t,collectionsStateMap:n}))}return r},o.prototype.removeListeners=function(i){var e=this,t=i||Object.keys(this.resolverListeners);return t.forEach(function(n){var r,a;e.resolverListeners[n]&&((a=(r=e.resolverListeners[n]).destroy)===null||a===void 0||a.call(r),delete e.resolverListeners[n])}),t},o.prototype.getValuesOrResolver=function(i){if(!i)return{};for(var e=Vu({},i),t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],a=this.resolverListeners[r];a&&(e[r]=a.resolver.toJSON())}return e},o.prototype.getAllDataResolvers=function(){for(var i={},e=Object.keys(this.resolverListeners),t=0;t<e.length;t++){var n=e[t];i[n]=this.resolverListeners[n].resolver.toJSON()}return i},o.prototype.getValuesResolvingFromCollections=function(){var i=this,e=Object.keys(this.resolverListeners).filter(function(t){return i.resolverListeners[t].resolver.resolvesFromCollection()});return e},o.prototype.destroy=function(){this.removeListeners()},o}(),Tr=function(){return Tr=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Tr.apply(this,arguments)},SP=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},ku={fromDataSource:!0,avoidStore:!0},ll="__data_values",EP=function(){function o(i,e){var t=this;this.model=i,this.options=e,this.onPropertyUpdate=function(n,r,a){n?.set(r,a,ku)},this.onAttributeUpdate=function(n,r,a){var s;t.isComponent(n)&&n?.addAttributes((s={},s[r]=a,s),ku)},this.onStyleUpdate=function(n,r,a){var s;n?.addStyle((s={},s[r]=a,s),Tr(Tr({},ku),{partial:!0,avoidStore:!0}))},this.propertyWatcher=new ch(i,this.onPropertyUpdate,e),this.attributeWatcher=new ch(i,this.onAttributeUpdate,e),this.styleWatcher=new ch(i,this.onStyleUpdate,e)}return o.prototype.bindModel=function(i){this.model=i,this.watchers.forEach(function(e){return e.bindModel(i)}),this.updateSymbolOverride()},o.prototype.addProps=function(i,e){var t;e===void 0&&(e={});var n=(t=i[ll])!==null&&t!==void 0?t:{},r=this.filterProps(i),a=Tr(Tr({},i),this.propertyWatcher.addDataValues(Tr(Tr({},r),n.props),e));this.shouldProcessProp("attributes",i,n)&&(a.attributes=this.processAttributes(i,n,e)),this.shouldProcessProp("style",i,n)&&(a.style=this.processStyles(i,n,e));var s=e.skipWatcherUpdates||e.fromDataSource;return s||(this.updateSymbolOverride(),a[ll]={props:this.propertyWatcher.getAllDataResolvers(),style:this.styleWatcher.getAllDataResolvers(),attributes:this.attributeWatcher.getAllDataResolvers()}),a},o.prototype.getProps=function(i){var e=this.getValueOrResolver("props",i),t=Tr({},e);return delete t[ll],(0,X.isEmpty)(i.attributes)||(t.attributes=this.getValueOrResolver("attributes",i.attributes)),(0,X.isObject)(i.style)&&!(0,X.isEmpty)(i.style)&&(t.style=this.getValueOrResolver("styles",i.style)),t},o.prototype.getValueOrResolver=function(i,e){var t;switch(i){case"props":t=this.propertyWatcher;break;case"styles":t=this.styleWatcher;break;case"attributes":t=this.attributeWatcher;break;default:{var n=this.options.em;return n?.logError("Invalid target '".concat(i,"'. Must be 'props', 'styles', or 'attributes'.")),{}}}return e?t.getValuesOrResolver(e):t.getAllDataResolvers()},o.prototype.removeAttributes=function(i){this.attributeWatcher.removeListeners(i),this.updateSymbolOverride()},o.prototype.disableStyles=function(){this.styleWatcher.removeListeners(),this.styleWatcher.destroy()},o.prototype.onCollectionsStateMapUpdate=function(){this.watchers.forEach(function(i){return i.onCollectionsStateMapUpdate()})},o.prototype.destroy=function(){this.watchers.forEach(function(i){return i.destroy()})},Object.defineProperty(o.prototype,"watchers",{get:function(){return[this.propertyWatcher,this.styleWatcher,this.attributeWatcher]},enumerable:!1,configurable:!0}),o.prototype.isComponent=function(i){return i instanceof $n},o.prototype.shouldProcessProp=function(i,e,t){var n=i==="attributes"?this.attributeWatcher:this.styleWatcher,r=t[i],a=!!e[i],s=r&&Object.keys(r).length>0,c=r&&Object.keys(n.getAllDataResolvers()).length>0;return a||s||c},o.prototype.updateSymbolOverride=function(){var i,e=this.model;if(this.isComponent(e)){var t=!!Object.keys((i=e?.collectionsStateMap)!==null&&i!==void 0?i:{}).length;if(t){var n=this.propertyWatcher.getValuesResolvingFromCollections(),r=this.attributeWatcher.getValuesResolvingFromCollections(),a=SP(["locked","layerable",ll],n,!0),s=Object.keys(r).length;s&&a.push("attributes");var c=zo(e);c.forEach(function(d){d.setSymbolOverride(a,{fromDataSource:!0})}),e.setSymbolOverride(a,{fromDataSource:!0})}}},o.prototype.filterProps=function(i){var e=["components","dataResolver",ll],t=Object.fromEntries(Object.entries(i).filter(function(n){var r=n[0];return!e.includes(r)}));return t},o.prototype.processAttributes=function(i,e,t){var n;return t===void 0&&(t={}),this.attributeWatcher.setDataValues(Tr(Tr({},i.attributes),(n=e.attributes)!==null&&n!==void 0?n:{}),t)},o.prototype.processStyles=function(i,e,t){var n;return t===void 0&&(t={}),typeof i=="string"?(this.styleWatcher.removeListeners(),i):this.styleWatcher.setDataValues(Tr(Tr({},i.style),(n=e.style)!==null&&n!==void 0?n:{}),t)},o}(),kP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wi=function(){return wi=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},wi.apply(this,arguments)},AP=C_(),Qh=function(o){return(0,X.isArray)(o)?o[o.length-1]:o},IP=function(o){kP(i,o);function i(e,t){t===void 0&&(t={});var n=this,r=t.em,a=new EP(void 0,{em:r});return n=o.call(this,e,wi(wi({},t),{dataResolverWatchers:a}))||this,n.views=[],n.collectionsStateMap={},a.bindModel(n),n.dataResolverWatchers=a,n.em=t.em,n.opt=t,n}return i.prototype.get=function(e,t){return t?.skipResolve?this.dataResolverWatchers.getValueOrResolver("props")[e]:o.prototype.get.call(this,e)},i.prototype.set=function(e,t,n){var r,a,s={skipWatcherUpdates:!1,fromDataSource:!1},c,d;typeof e=="object"?(c=e,d=t||s):typeof e=="string"?(c=(r={},r[e]=t,r),d=n||s):(c={},d=s),this.dataResolverWatchers=(a=this.dataResolverWatchers)!==null&&a!==void 0?a:d.dataResolverWatchers;var p=this.dataResolverWatchers.addProps(c,d);return o.prototype.set.call(this,p,d)},i.prototype.parseStyle=function(e){return AP.parseStyle(e)},i.prototype.extendStyle=function(e){return wi(wi({},this.getStyle("",{skipResolve:!0})),e)},i.prototype.getStyle=function(e,t){t===void 0&&(t={});var n=this.get("style"),r=(0,X.isString)(n)?this.parseStyle(n):(0,X.isObject)(n)?wi({},n):{};delete r.__p;var a=!e||e===""||(0,X.isObject)(e);if(!t.skipResolve)return a?r:r[e];var s=this.dataResolverWatchers.getValueOrResolver("styles",r);return a?s:s[e]},i.prototype.setStyle=function(e,t){var n=this;e===void 0&&(e={}),t===void 0&&(t={}),(0,X.isString)(e)&&(e=this.parseStyle(e));var r=this.getStyle("",{skipResolve:!0});t.partial||t.avoidStore?(t.avoidStore=!0,e.__p=!0):delete e.__p;var a=wi({},e),s=wi({},a);(0,X.keys)(s).forEach(function(f){if(s[f]===""){delete s[f];return}});var c=this.dataResolverWatchers.addProps({style:s},t);this.set(c,t),s=c.style;var d=Object.keys((0,Ze.shallowDiff)(r,a)),p=d.reduce(function(f,h){var v;return wi(wi({},f),(v={},v[h]=s[h],v))},{});return delete p.__p,(0,X.keys)(p).forEach(function(f){var h=n.em;t.noEvent||(n.trigger("change:style:".concat(f)),h&&(h.trigger("styleable:change",n,f,t),h.trigger("styleable:change:".concat(f),n,f,t)))}),s},i.prototype.getView=function(e){var t=this,n=t.views,r=t.em,a=e||r?.getCurrentFrameModel();return a?n.find(function(s){return s.frameView===a.view}):n[0]},i.prototype.setView=function(e){var t=this.views;!t.includes(e)&&t.push(e)},i.prototype.removeView=function(e){var t=this.views;t.splice(t.indexOf(e),1)},i.prototype.updateView=function(){this.views.forEach(function(e){return e.updateStyles()})},i.prototype.addStyle=function(e,t,n){var r;t===void 0&&(t=""),n===void 0&&(n={}),typeof e=="string"?e=(r={},r[e]=t,r):n=t||{},n.addStyle=e,e=this.extendStyle(e),this.setStyle(e,n)},i.prototype.removeStyle=function(e){var t=this.getStyle();delete t[e],this.setStyle(t)},i.prototype.styleToString=function(e){e===void 0&&(e={});var t=[],n=e.style||this.getStyle(e),r=e.important,a=function(c){var d=(0,X.isArray)(r)?r.indexOf(c)>=0:r,p=c.substring(0,2),f=p==="__";if(f)return"continue";var h=n[c],v=(0,X.isArray)(h)?h:[h];v.forEach(function(C){var b="".concat(C).concat(d?" !important":"");b&&t.push("".concat(c,":").concat(b,";"))})};for(var s in n)a(s);return t.join("")},i.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},i.prototype.getSelectorsString=function(e){return this.selectorsToString?this.selectorsToString(e):this.getSelectors().getFullString()},i.prototype.onCollectionsStateMapUpdate=function(e){this.collectionsStateMap=e,this.dataResolverWatchers.onCollectionsStateMapUpdate()},i.prototype.clone=function(e,t){var n=this.dataResolverWatchers.getProps(this.attributes),r=wi(wi({},n),e),a=wi(wi({},this.opt),t),s=this.constructor;return new s(r,a)},i.prototype.toJSON=function(e,t){if(e?.fromUndo)return wi({},o.prototype.toJSON.call(this,e));var n=wi(wi({},this.attributes),t),r=this.dataResolverWatchers.getProps(n);return r},i}(gt.Kx),S_=IP,LP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kr=function(){return kr=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},kr.apply(this,arguments)},Au=function(o,i){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&i.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},dh=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},dl=function(o,i){if(i===void 0&&(i=[]),!o)return[];var e=(0,X.isArray)(o)||(0,X.isFunction)(o.map)?o:[o];return e.map(function(t){i.push(t.getId()),dl(t.components().models,i)}),i},E_=function(o,i,e){i===void 0&&(i={}),e===void 0&&(e={}),e.visitedCmps=e.visitedCmps||{};var t=e.visitedCmps,n=e.updateOptions||{},r=(0,X.isArray)(o)?o:[o];return r.map(function(a){var s=a.attributes,c=s===void 0?{}:s,d=a.components,p=a.tagName,f=a.style,h=c.id,v=c.draggable,C=Au(c,["id","draggable"]),b=a;if(h){if(t[h])t[h].push(b),h=$n.getNewId(i),b.attributes.id=h;else if(t[h]=[],i[h]){b=i[h];var x=n.onAttributes,w=n.onStyle,P=b;p&&P.set({tagName:p},kr(kr({},e),{silent:!0})),x?x({item:a,component:P,attributes:C,options:e}):(0,X.keys)(C).length&&P.addAttributes(C,kr({},e)),w?w({item:a,component:P,style:f,options:e}):(0,X.keys)(f).length&&P.addStyle(f,e)}}var M=(0,X.isFunction)(b.components)?b:null;if(d){var y=E_(d,i,e);M?M.components().reset(y,e):b.components=y}else M&&M.components().reset([],e);return b})},NP=function(o){LP(i,o);function i(e,t){var n=o.call(this,e,t)||this;n.opt=t,n.listenTo(n,"add",n.onAdd),n.listenTo(n,"remove",n.removeChildren),n.listenTo(n,"reset",n.resetChildren);var r=t.em,a=t.config;return n.config=a,n.em=r,n.domc=t.domc||r?.Components,n}return Object.defineProperty(i.prototype,"events",{get:function(){var e;return(e=this.domc)===null||e===void 0?void 0:e.events},enumerable:!1,configurable:!0}),i.prototype.resetChildren=function(e,t){var n=this;t===void 0&&(t={});var r=this,a=t.previousModels||[],s=a.filter(function(p){return!e.get(p.cid)}),c=dl(e),d=dl(a).filter(function(p){return c.indexOf(p)>=0});t.keepIds=(t.keepIds||[]).concat(d),s.forEach(function(p){return n.removeChildren(p,r,t)}),e.each(function(p){return n.onAdd(p)})},i.prototype.resetFromString=function(e,t){var n,r;e===void 0&&(e=""),t===void 0&&(t={}),t.keepIds=dl(this);var a=this,s=a.domc,c=a.em,d=a.parent,p=c?.Css,f=s?.allById()||{},h=this.parseString(e,t),v=E_(h,f,t),C=t.visitedCmps,b=C===void 0?{}:C;Object.keys(b).forEach(function(x){var w=b[x];if(w.length){var P=p?.getRules("#".concat(x))||[];P.length&&w.forEach(function(M){P.forEach(function(y){var A=y.clone();A.set("selectors",["#".concat(M.attributes.id)]),p.getAll().add(A)})})}}),this.reset(v,t),c?.trigger("component:content",d,t,e),(r=(n=d).__checkInnerChilds)===null||r===void 0||r.call(n)},i.prototype.removeChildren=function(e,t,n){var r=this;if(n===void 0&&(n={}),!!e){var a=this,s=a.domc,c=a.em,d=n.temporary||n.fromUndo;if(e.prevColl=this,!d){var p=e.getId(),f=c.Selectors.getAll(),h=c.Css.getAll(),v=(n.keepIds||[]).indexOf(p)<0,C=s?s.allById():{};delete C[p];var b=v?h.remove(h.filter(function(M){return M.getSelectors().getFullString()==="#".concat(p)}),n):[];f.remove(b.map(function(M){return M.getSelectors().at(0)})),e.opt.temporary||(c.Commands.run("core:component-style-clear",{target:e}),e.views.forEach(function(M){M.scriptContainer&&e.emitWithEditor(wn.I.scriptUnmount,{component:e,view:M,el:M.el})}),e.removed(),e.trigger("removed"),c.trigger(wn.I.remove,e),s&&Du(e)&&gs(e)&&s.symbols.__trgEvent(s.events.symbolInstanceRemove,{component:e},!0));var x=e.components();x.forEach(function(M){P_(M,M,x,kr(kr({},n),{skipRefsUp:!0})),r.removeChildren(M,t,n)})}var w=e.components();if(c.stopListening(w),c.stopListening(e),c.stopListening(e.get("classes")),e.__postRemove(),!e.opt.temporary){var P=function(M){M.emitWithEditor(wn.I.removed,M,{removeOptions:n}),M.components().forEach(function(y){return P(y)})};P(e)}}},i.prototype.model=function(e,t){var n=t.collection.opt,r=n.em,a,s=r.Components.componentTypes;t.em=r,t.config=n.config,t.componentTypes=s,t.domc=n.domc;for(var c=0;c<s.length;c++){var d=s[c].id;if(d==e.type){a=s[c].model;break}}return a||(a=s[s.length-1].model,r&&e.type&&r.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:t})),new a(e,t)},i.prototype.parseString=function(e,t){t===void 0&&(t={});var n=this,r=n.em,a=n.domc,s=n.parent,c=s?.is("wrapper"),d=t.asDocument&&c,p=r.Css,f=r.Parser.parseHtml(e,kr({asDocument:d},t.parserOptions)),h=f.html;if(c&&f.doctype){var v=s,C=f.html||{},b=C.components,x=b===void 0?[]:b,w=Au(C,["components"]),P=f.head||{},M=P.components,y=Au(P,["components"]);h=x,v.set(w,t),v.head.set(y,t),v.head.components(M,t),v.docEl.set(f.root,t),v.set({doctype:f.doctype})}if($n.checkId(h,f.css,a.componentsById,t),f.css&&p&&!t.temporary){var A=t.at,k=Au(t,["at"]);p.addCollection(f.css,kr(kr({},k),{extend:1}))}return h},i.prototype.add=function(e,t){var n=this;if(t===void 0&&(t={}),e!=null){t.keepIds=dh(dh([],t.keepIds||[],!0),dl(t.previousModels),!0),(0,X.isString)(e)?e=this.parseString(e,t):(0,X.isArray)(e)&&(e=dh([],e,!0),e.forEach(function(a,s){if((0,X.isString)(a)){var c=n.parseString(a,t);e[s]=(0,X.isArray)(c)&&!c.length?null:c}}));var r=((0,X.isArray)(e)?e:[e]).filter(Boolean).map(function(a){return n.processDef(a)});return e=(0,X.isArray)(e)?(0,X.flatten)(r,1):r[0],o.prototype.add.call(this,e,t)}},i.prototype.processDef=function(e){if(e.cid&&e.ccid)return e;var t=this,n=t.em,r=t.config,a=r===void 0?{}:r,s=a.processor,c=e;if(s){c=kr({},c);var d=s(c);d&&((0,X.each)(c,function(x,w){return delete c[w]}),(0,X.extend)(c,d))}if(c.$$typeof&&typeof c.props=="object"){c=kr({},c),c.props=kr({},c.props);var p=n.Components,f=n.Parser,h=f.parserHtml;(0,X.each)(c,function(x,w){(0,X.includes)(["props","type"],w)||delete c[w]});var v=c.props,C=v.children;delete v.children,delete c.props;var b=h.splitPropsFromAttr(v);c.attributes=b.attrs,C&&(c.components=C),c.type?p.getType(c.type)||(c.tagName=c.type,delete c.type):c.type="textnode",(0,X.extend)(c,b.props)}return c},i.prototype.onAdd=function(e,t,n){n===void 0&&(n={});var r=this,a=r.domc,s=r.em,c=e.getStyle(),d=s&&s.getConfig().avoidInlineStyle;if(a&&a.Component.ensureInList(e),!(0,X.isEmpty)(c)&&!d&&s&&s.getConfig().forceClass&&!n.temporary){var p=e.cid;s.Css.setClassRule(p,c),e.setStyle({}),e.addClass(p)}if(e.__postAdd({recursive:!0}),s&&!n.temporary){var f=function(h){s.trigger(wn.I.add,h,n),h.components().forEach(function(v){return f(v)})};f(e),a&&Du(e)&&gs(e)&&a.symbols.__trgEvent(a.events.symbolInstanceAdd,{component:e},!0)}},i}(gt.pM),qc=NP,DP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yu=1,uh=2,k_=function(o){DP(i,o);function i(e,t){t===void 0&&(t={});var n=o.call(this,e,t)||this,r=t.config,a=r===void 0?{}:r,s=n.get("name"),c=n.get("label");s?c||n.set("label",s):n.set("name",c);var d=n.get("name"),p=a.escapeName,f=p?p(d):i.escapeName(d);return n.set("name",f),n.em=t.em,n}return i.prototype.defaults=function(){return{name:"",label:"",type:yu,active:!0,private:!1,protected:!1,_undo:!0}},i.prototype.isId=function(){return this.get("type")===uh},i.prototype.isClass=function(){return this.get("type")===yu},i.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.escape,n=this.get("name"),r="";switch(this.get("type")){case yu:r=".";break;case uh:r="#";break}return r+(t?t(n):n)},i.prototype.toString=function(){return this.getFullName()},i.prototype.getName=function(){return this.get("name")||""},i.prototype.getLabel=function(){return this.get("label")||""},i.prototype.setLabel=function(e){return this.set("label",e)},i.prototype.getActive=function(){return!!this.get("active")},i.prototype.setActive=function(e){return this.set("active",e)},i.prototype.toJSON=function(e){e===void 0&&(e={});var t=this.em,n=gt.Kx.prototype.toJSON.call(this,[e]),r=(0,X.result)(this,"defaults");if(t?.getConfig().avoidDefaults){(0,X.forEach)(r,function(s,c){n[c]===s&&delete n[c]}),n.label===n.name&&delete n.label;var a=(0,X.keys)(n).length;a===1&&n.name&&(n=n.name),a===2&&n.name&&n.type&&(n=this.getFullName())}return n},i.escapeName=function(e){return"".concat(e).trim().replace(/\s+/g,"-")},i.TYPE_CLASS=yu,i.TYPE_ID=uh,i}(gt.Kx),Ji=k_;k_.prototype.idAttribute="name";var RP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),A_=function(o,i){return o.reduce(function(e,t,n){return e.concat(A_(o.slice(n+1),"".concat(i).concat(t)))},[i])},I_=function(o){RP(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.modelId=function(e){return"".concat(e.name,"_").concat(e.type||Ji.TYPE_CLASS)},i.prototype.getStyleable=function(){return(0,X.filter)(this.models,function(e){return e.getActive()&&!e.get("private")})},i.prototype.getValid=function(e){var t=e===void 0?{}:e,n=t.noDisabled;return(0,X.filter)(this.models,function(r){return!r.get("private")}).filter(function(r){return n?r.get("active"):1})},i.prototype.getFullString=function(e,t){t===void 0&&(t={});var n=[],r=e||this;return r.forEach(function(a){return n.push(a.getFullName(t))}),t.sort&&n.sort(),n.join("").trim()},i.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.combination,n=e.array,r=[],a=this.map(function(s){return s.getFullName(e)}).sort();return t?a.forEach(function(s,c){r=r.concat(A_(a.slice(c+1),s))}):r=a,n?r:t?r.join(","):r.join("")},i}(gt.pM),La=I_;I_.prototype.model=Ji;var FP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ev=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},VP=function(o){FP(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},i.prototype.getId=function(){return this.get("id")},i.prototype.getLabel=function(){return this.get("label")},i}(gt.Kx),Qc=VP;function L_(o){var i=new Set,e=new Map,t={items:[]};o.forEach(function(r){var a=r.category;if(a){i.add(a);var s=e.get(a);s?s.push(r):e.set(a,[r])}else t.items.push(r)});var n=Array.from(i).map(function(r){return{category:r,items:e.get(r)||[]}});return ev(ev([],n,!0),[t],!1)}var jP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tv="category",N_=function(o){jP(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.initCategory=function(e){var t=e.get(tv),n=t instanceof Qc;if(t&&!n){(0,X.isString)(t)?t={id:t,label:t}:(0,Ze.isObject)(t)&&!t.id&&(t.id=t.label);var r=this.getCategories().add(t);return e.set(tv,r,{silent:!0}),r}else if(n){var r=t;return this.getCategories().add(r),r}},i}(gt.pM),HP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),D_=function(o){HP(i,o);function i(e,t){t===void 0&&(t={});var n=o.call(this,e,t)||this,r=t.events,a=t.em,s=r?.update;return a&&s&&n.on("change",function(c,d){return a.trigger(s,{category:c,changes:c.changedAttributes(),options:d})}),n}return i.prototype.add=function(e,t){var n=(0,X.isArray)(e)?e:[e];return n.forEach(function(r){return r&&(r.id=(0,Ze.normalizeKey)("".concat(r.id)))}),o.prototype.add.call(this,e,t)},i.prototype.get=function(e){return o.prototype.get.call(this,(0,X.isString)(e)?(0,Ze.normalizeKey)(e):e)},i}(gt.pM),ju=D_;D_.prototype.model=Qc;var Sm=function(o){return o.select="trait:select",o.value="trait:value",o.categoryUpdate="trait:category:update",o.custom="trait:custom",o.all="trait",o}(Sm||{}),Xh=Sm,zP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hu=function(){return Hu=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Hu.apply(this,arguments)},BP=function(o){zP(i,o);function i(e,t){var n=o.call(this,e)||this,r=n.attributes,a=r.target,s=r.name;return!n.get("id")&&n.set("id",s),a&&n.setTarget(a),n.em=t,n}return i.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(i.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"category",{get:function(){var e=this.get("category");return e instanceof Qc?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),i.prototype.setTarget=function(e){if(e){var t=this.attributes,n=t.name,r=t.changeProp,a=t.value,s=t.getValue;this.target=e,this.unset("target");var c=r?"change:".concat(n):"change:attributes:".concat(n);this.listenTo(e,c,this.targetUpdated);var d=a||(s?void 0:this.getValue());!(0,X.isUndefined)(d)&&this.set({value:d},{silent:!0})}},i.prototype.getId=function(){return this.get("id")},i.prototype.getType=function(){return this.get("type")},i.prototype.getName=function(){return this.get("name")},i.prototype.getLabel=function(e){var t;e===void 0&&(e={});var n=e.locale,r=n===void 0?!0:n,a=this.getId(),s=this.get("label")||this.getName();return r&&((t=this.em)===null||t===void 0?void 0:t.t("traitManager.traits.labels.".concat(a)))||s},i.prototype.getValue=function(e){return this.getTargetValue(e)},i.prototype.setValue=function(e,t){var n=this;t===void 0&&(t={});var r=this,a=r.component,s=r.em,c=t.partial,d={},p=this.attributes.setValue;if(p){p({value:e,component:a,editor:s?.getEditor(),trait:this,partial:!!c,options:t,emitUpdate:function(){return n.targetUpdated()}});return}c&&(d.avoidStore=!0),this.setTargetValue(e,d)},i.prototype.getDefault=function(){return this.get("default")},i.prototype.getOptions=function(){return this.get("options")||[]},i.prototype.getOption=function(e){var t=this,n=(0,Ze.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(r){return t.getOptionId(r)===n})[0]},i.prototype.getOptionId=function(e){return e.id||e.value},i.prototype.getOptionLabel=function(e,t){var n;t===void 0&&(t={});var r=t.locale,a=r===void 0?!0:r,s=(0,X.isString)(e)?this.getOption(e):e,c=this.getOptionId(s),d=s.label||s.name||c,p=this.getName();return a&&((n=this.em)===null||n===void 0?void 0:n.t("traitManager.traits.options.".concat(p,".").concat(c)))||d},i.prototype.getCategoryLabel=function(e){e===void 0&&(e={});var t=this,n=t.em,r=t.category,a=e.locale,s=a===void 0?!0:a,c=r?.getId(),d=r?.getLabel();return s&&n?.t("traitManager.categories.".concat(c))||d||""},i.prototype.runCommand=function(){var e=this.em,t=this.attributes.command;if(t&&e)return(0,X.isString)(t)?e.Commands.run(t):t(e.Editor,this)},i.prototype.props=function(){return this.attributes},i.prototype.targetUpdated=function(){var e=this,t=e.component,n=e.em,r=this.getTargetValue({useType:!0});this.set({value:r},{fromTarget:1});var a={trait:this,component:t,value:r};t.trigger(Xh.value,a),n?.trigger(Xh.value,a),n?.trigger("trait:update",a)},i.prototype.getTargetValue=function(e){var t;e===void 0&&(e={});var n=this,r=n.component,a=n.em,s=this.getName(),c=this.get("getValue"),d,p=e.skipResolve;if(c?d=c({editor:a?.getEditor(),trait:this,component:r}):this.changeProp?(d=r.get(s),p&&(d=r.dataResolverWatchers.getValueOrResolver("props",(t={},t[s]=d,t))[s])):d=r.getAttributes({skipResolve:p})[s],e.useType){var f=this.getType();if(f==="checkbox"){var h=this.attributes,v=h.valueTrue,C=h.valueFalse;!(0,X.isUndefined)(v)&&v===d?d=!0:!(0,X.isUndefined)(C)&&C===d&&(d=!1)}}return(0,X.isUndefined)(d)?"":d},i.prototype.setTargetValue=function(e,t){var n;t===void 0&&(t={});var r=this,a=r.component,s=r.attributes,c=this.getName();if(!(0,X.isUndefined)(e)){var d=e;if(e==="false"?d=!1:e==="true"&&(d=!0),this.getType()==="checkbox"){var p=s.valueTrue,f=s.valueFalse;d&&!(0,X.isUndefined)(p)&&(d=p),!d&&!(0,X.isUndefined)(f)&&(d=f)}var h=(n={},n[c]=d,n);h.__p=t.avoidStore?null:void 0,this.changeProp?a.set(h,t):a.addAttributes(h,t)}},i.prototype.setValueFromInput=function(e,t,n){t===void 0&&(t=!0),n===void 0&&(n={});var r={value:e};this.set(r,Hu(Hu({},n),{avoidStore:1})),t&&(this.set("value","",n),this.set(r,n))},i.prototype.getInitValue=function(){var e=this.component,t=this.getName(),n;if(e){var r=e.get("attributes");n=this.changeProp?e.get(t):r[t]}return n||this.get("value")||this.get("default")},i}(gt.Kx),zu=BP,UP=function(){function o(i){i===void 0&&(i={}),this.config=i}return o.prototype.build=function(i,e){return(0,X.isString)(i)?this.buildFromString(i,e):new zu(i,e)},o.prototype.buildFromString=function(i,e){var t={name:i,type:"text"};switch(i){case"target":t.type="select",t.default=!1,t.options=this.config.optionsTarget;break}return new zu(t,e)},o}(),GP=UP,WP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),KP=function(o){WP(i,o);function i(e,t){var n=o.call(this,e)||this;n.categories=new ju;var r=t.em;n.em=r,n.categories=new ju([],{em:r,events:{update:Xh.categoryUpdate}}),n.on("add",n.handleAdd),n.on("reset",n.handleReset);var a=n.module,s=a?.getConfig();return n.tf=new GP(s),n}return Object.defineProperty(i.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),i.prototype.getCategories=function(){return this.categories},i.prototype.handleReset=function(e,t){var n=t===void 0?{}:t,r=n.previousModels,a=r===void 0?[]:r;a.forEach(function(s){return s.trigger("remove")})},i.prototype.handleAdd=function(e){e.em=this.em;var t=this.target;t&&(e.target=t),this.initCategory(e)},i.prototype.setTarget=function(e){this.target=e,this.models.forEach(function(t){return t.setTarget(e)})},i.prototype.add=function(e,t){if(e!=null){var n=this,r=n.target,a=n.em;if((0,X.isArray)(e)){for(var s=[],c=0,d=e.length;c<d;c++){var p=e[c];s[c]=p instanceof zu?p:this.tf.build(p,a),s[c].setTarget(r)}return o.prototype.add.call(this,s,t)}var f=e instanceof zu?e:this.tf.build(e,a);return f.setTarget(r),o.prototype.add.call(this,f,t)}},i}(N_),Bu=KP,qP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Dn=function(){return Dn=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Dn.apply(this,arguments)},$P=function(o,i){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&i.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},Jr=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},nv=function(o){return o.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},as=function(o){return!!o?.getConfig().avoidInlineStyle},Em="component:drag",Xi="__symbols",dr="__symbol",ul="__symbol_ovrd",Iu=wn.I.update,Zh=wn.I.updateInside,YP=function(o){qP(i,o);function i(e,t){e===void 0&&(e={});var n=this,r=t.em;n=o.call(this,e,t)||this,(0,X.bindAll)(n,"__upSymbProps","__upSymbCls","__upSymbComps","syncOnComponentChange");var a=n.parent(),s=a?.attributes,c=n.get("propagate");if(c&&n.set("propagate",(0,X.isArray)(c)?c:[c]),s&&s.propagate&&!c){var d={},p=s.propagate;p.forEach(function(w){return d[w]=a.get(w)}),d.propagate=p,n.set(Dn(Dn({},d),e))}t&&t.config&&t.config.voidElements.indexOf(n.get("tagName"))>=0&&n.set("void",!0),t.em=r,n.opt=t,n.em=r,n.config=t.config||{};var f=Dn(Dn({},(0,X.result)(n,"defaults").attributes||{}),n.get("attributes")||{}),h=n.dataResolverWatchers.getValueOrResolver("attributes",f);if(n.setAttributes(h),n.ccid=i.createId(n,t),n.preInit(),n.initClasses(),n.initComponents(),n.initTraits(),n.initToolbar(),n.initScriptProps(),n.listenTo(n,"change:script",n.scriptUpdated),n.listenTo(n,"change:tagName",n.tagUpdated),n.listenTo(n,"change:attributes",n.attrUpdated),n.listenTo(n,"change:attributes:id",n._idUpdated),n.on("change:toolbar",n.__emitUpdateTlb),n.on("change",n.__onChange),n.on(Zh,n.__propToParent),n.set("status",""),n.views=[],["classes","traits","components"].forEach(function(w){var P="add remove reset ".concat(w!=="components"?"change":"");n.listenTo(n.get(w),P.trim(),function(){for(var M=[],y=0;y<arguments.length;y++)M[y]=arguments[y];return n.emitUpdate.apply(n,Jr([w],M,!1))})}),!t.temporary){var v=r&&r.Css,C=n.attributes,b=C.styles,x=C.type;b&&v&&v.addCollection(b,{avoidUpdateStyle:!0},{group:"cmp:".concat(x)}),n._moveInlineStyleToRule(),n.__postAdd(),n.init(),wo(n)&&Pc(n),r?.trigger(wn.I.create,n,t)}return as(r)&&n.dataResolverWatchers.disableStyles(),n}return Object.defineProperty(i.prototype,"defaults",{get:function(){var e;return e={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},e[dr]=0,e[Xi]=0,e[ul]=0,e._undo=!0,e._undoexc=["status","open"],e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"content",{get:function(){var e;return(e=this.get("content"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"page",{get:function(){var e;return(e=this.frame)===null||e===void 0?void 0:e.getPage()},enumerable:!1,configurable:!0}),i.prototype.getType=function(){return this.get("type")||"default"},i.prototype.preInit=function(){},i.prototype.init=function(){},i.prototype.updated=function(e,t,n){},i.prototype.removed=function(){},i.prototype.onCollectionsStateMapUpdate=function(e){var t;o.prototype.onCollectionsStateMapUpdate.call(this,e),(t=this._getStyleRule())===null||t===void 0||t.onCollectionsStateMapUpdate(e);var n=this.components();n.forEach(function(r){return r.onCollectionsStateMapUpdate(e)})},i.prototype.syncComponentsCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.listenTo(this.components(),"add remove reset",this.syncOnComponentChange),this.components().forEach(function(e){return e.syncComponentsCollectionState()})},i.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.collectionsStateMap={},this.components().forEach(function(e){return e.stopSyncComponentCollectionState()})},i.prototype.syncOnComponentChange=function(e,t,n){var r=this;if(!(!this.collectionsStateMap||!Object.keys(this.collectionsStateMap).length)){var a=n||t||{};if(n)if(a.add){var c=e;c.syncComponentsCollectionState(),c.onCollectionsStateMapUpdate(this.collectionsStateMap)}else{var d=e;d.stopSyncComponentCollectionState()}else{var s=a.previousModels||[];s.forEach(function(p){return p.stopSyncComponentCollectionState()}),this.components().forEach(function(p){p.syncComponentsCollectionState(),p.onCollectionsStateMapUpdate(r.collectionsStateMap)})}}},i.prototype.__postAdd=function(e){e===void 0&&(e={});var t=this.em,n=t?.UndoManager,r=this.components();n&&!this.__hasUm&&(n.add(r),n.add(this.getSelectors()),this.__hasUm=!0),e.recursive&&r.map(function(a){return a.__postAdd(e)})},i.prototype.__postRemove=function(){var e=this.em,t=e?.UndoManager;t&&(t.remove(this.components()),t.remove(this.getSelectors()),delete this.__hasUm)},i.prototype.__onChange=function(e,t){var n=this,r=this.changedAttributes()||{};(0,X.keys)(r).forEach(function(a){return n.emitUpdate(a)}),["status","open","toolbar","traits"].forEach(function(a){return delete r[a]}),(0,Ze.isEmptyObj)(r)||(this.__changesUp(t),this.__propSelfToParent({component:this,changed:r,options:t}))},i.prototype.__onStyleChange=function(e){var t=this,n=this.em;if(n){var r=(0,X.keys)(e),a={style:e};this.emitWithEditor(wn.I.styleUpdate,this,a),r.forEach(function(f){return t.emitWithEditor("".concat(wn.I.styleUpdateProperty).concat(f),t,a)});var s=this.collectionsStateMap,c=Object.keys(s);if(c.length){var d=c.every(function(f){return s[f].currentIndex===s[f].startIndex});if(d){var p=zo(this);p.forEach(function(f){var h=f.collectionsStateMap,v=Object.keys(h),C=v.every(function(b){return c.includes(b)});C&&f.addStyle(e)})}}}},i.prototype.__changesUp=function(e){var t=this,n=t.em,r=t.frame;[r,n].forEach(function(a){return a&&a.changesUp(e)})},i.prototype.__propSelfToParent=function(e){this.trigger(Iu,e),this.__propToParent(e)},i.prototype.__propToParent=function(e){var t=this.parent();t&&t.trigger(Zh,e)},i.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},i.prototype.__getAllById=function(){var e=this.em;return e?e.Components.allById():{}},i.prototype.__upSymbProps=function(e,t){t===void 0&&(t={}),gP(this,t)},i.prototype.__upSymbCls=function(e,t,n){n===void 0&&(n={}),yP(this,n)},i.prototype.__upSymbComps=function(e,t,n){P_(this,e,t,n)},i.prototype.__onDestroy=function(){},i.prototype.is=function(e){return this.get("type")==e},i.prototype.props=function(){return this.attributes},i.prototype.index=function(){var e=this.collection;return e?e.indexOf(this):0},i.prototype.setDragMode=function(e){return this.set("dmode",e)},i.prototype.getDragMode=function(){return this.get("dmode")||""},i.prototype.setSymbolOverride=function(e,t){var n,r;t===void 0&&(t={}),this.set((n={},n[ul]=(r=(0,X.isString)(e)?[e]:e)!==null&&r!==void 0?r:0,n),t)},i.prototype.getSymbolOverride=function(){return this.get(ul)},i.prototype.find=function(e){var t,n=[],r=(t=this.view)===null||t===void 0?void 0:t.$el.find(e);return r?.each(function(a){var s=r.eq(a),c=s.data("model");c&&n.push(c)}),n},i.prototype.findType=function(e){var t=[],n=function(r){return r.forEach(function(a){a.is(e)&&t.push(a),n(a.components())})};return n(this.components()),t},i.prototype.findFirstType=function(e){return this.findType(e).at(0)},i.prototype.closest=function(e){var t,n=(t=this.view)===null||t===void 0?void 0:t.$el.closest(e);return n?.length?n.data("model"):void 0},i.prototype.closestType=function(e){for(var t=this.parent();t&&!t.is(e);)t=t.parent();return t},i.prototype.contains=function(e){var t=!1;if(!e)return t;var n=function(r){!t&&r.forEach(function(a){a===e&&(t=!0),!t&&n(a.components())})};return n(this.components()),t},i.prototype.tagUpdated=function(){this.trigger("rerender")},i.prototype.replaceWith=function(e,t){t===void 0&&(t={});var n=this.collection,r=n.indexOf(this);n.remove(this);var a=n.add(e,Dn(Dn({},t),{at:r}));return(0,X.isArray)(a)?a:[a]},i.prototype.attrUpdated=function(e,t,n){var r=this;n===void 0&&(n={});var a=this.get("attributes"),s=a.class;s&&this.setClass(s),delete a.class;var c=a.style;c&&this.setStyle(c,n),delete a.style;var d=Dn({},this.previous("attributes")),p=(0,Ze.shallowDiff)(d,this.get("attributes"));(0,X.keys)(p).forEach(function(f){var h,v="attributes:".concat(f);r.trigger("change:".concat(v),r,p[f],n),(h=r.em)===null||h===void 0||h.trigger("".concat(Iu,":").concat(v),r,p[f],n)})},i.prototype.setAttributes=function(e,t){return t===void 0&&(t={skipWatcherUpdates:!1,fromDataSource:!1}),this.set("attributes",Dn({},e),t),this},i.prototype.addAttributes=function(e,t){t===void 0&&(t={});var n=this.dataResolverWatchers.getValueOrResolver("attributes",this.getAttributes({noClass:!0,noStyle:!0}));return this.setAttributes(Dn(Dn({},n),e),t)},i.prototype.removeAttributes=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var n=Array.isArray(e)?e:[e],r=this.getAttributes();return n.map(function(a){return delete r[a]}),this.setAttributes(r,t)},i.prototype.getStyle=function(e,t){var n=this.em,r=(0,X.isString)(e),a=r?e:"",s=r?t:e,c=!!s?.skipResolve;if(as(n)&&!s?.inline){var d=n.get("state"),p=n.Css,f=p.getIdRule(this.getId(),Dn({state:d},s));return this.rule=f,f?f.getStyle(a,{skipResolve:c}):{}}return o.prototype.getStyle.call(this,a,{skipResolve:c})},i.prototype.setStyle=function(e,t){var n=this;e===void 0&&(e={}),t===void 0&&(t={});var r=this,a=r.opt,s=r.em;if(as(s)&&!a.temporary&&!t.inline){var c=this.get("style")||{};e=(0,X.isString)(e)?this.parseStyle(e):e,e=Dn(Dn({},c),e);var d=s.get("state"),p=s.Css,f=this.getStyle(Dn(Dn({},t),{skipResolve:!0}));this.rule=p.setIdRule(this.getId(),e,Dn({state:d},t));var h=(0,Ze.shallowDiff)(f,e);this.set("style","",{silent:!0}),(0,X.keys)(h).forEach(function(v){return n.trigger("change:style:".concat(v))})}else e=o.prototype.setStyle.apply(this,arguments);return a.temporary||this.__onStyleChange(t.addStyle||e),e},i.prototype.getAttributes=function(e){e===void 0&&(e={});var t=this.em,n=[],r=Dn({},this.get("attributes")),a=e?.skipResolve?this.dataResolverWatchers.getValueOrResolver("attributes",r):r,s=t?.Selectors,c=this.getId();if(e.noClass?delete a.class:(this.classes.forEach(function(f){return n.push((0,X.isString)(f)?f:f.getName())}),n.length&&(a.class=n.join(" "))),!e.noStyle){var d=this.getStyle({inline:!0});(0,Ze.isObject)(d)&&!(0,Ze.isEmptyObj)(d)&&(a.style=this.styleToString({inline:!0}))}if(!(0,X.has)(a,"id")){var p=!1;(as(t)||!(0,X.isEmpty)(this.getStyle()))&&(p=!!s?.get(c,s.Selector.TYPE_ID)),(wo(this)||this.get("script-export")||this.get("script"))&&(p=!0),p&&(a.id=c)}return a},i.prototype.addClass=function(e){var t=this.em.Selectors.addClass(e);return this.classes.add(t)},i.prototype.setClass=function(e){return this.classes.reset(),this.addClass(e)},i.prototype.removeClass=function(e){var t=[];e=(0,X.isArray)(e)?e:[e];var n=this.classes,r=Ji.TYPE_CLASS;return e.forEach(function(a){var s=a.split(" ");s.forEach(function(c){var d=n.where({name:c,type:r})[0];d&&t.push(n.remove(d))})}),t},i.prototype.getClasses=function(){var e=this.getAttributes(),t=e.class;return t?t.split(" "):[]},i.prototype.initClasses=function(e,t,n){n===void 0&&(n={});var r="change:classes",a=this.get("attributes")||{},s=a.class,c=$P(a,["class"]),d=[this,r,this.initClasses],p=this.get("classes")||s||[],f=(0,X.isString)(p)?p.split(" "):p;this.stopListening.apply(this,d);var h=this.normalizeClasses(f),v=new La([]);return this.set("classes",v,n),v.add(h),v.on("add remove reset",this.__upSymbCls),s&&h.length&&this.set("attributes",c),this.listenTo.apply(this,d),this},i.prototype.initComponents=function(){var e="change:components",t=[this,e,this.initComponents];this.stopListening.apply(this,t);var n=new qc([],this.opt);n.parent=this;var r=this.get("components"),a=!this.opt.avoidChildren;return this.set("components",n),a&&r&&n.add((0,X.isFunction)(r)?r(this):r,this.opt),n.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,t),this},i.prototype.initTraits=function(e){var t=this,n=this.em,r="change:traits";this.off(r,this.initTraits),this.__loadTraits();var a=Dn({},this.get("attributes")),s=this.traits;s.each(function(d){var p=d.getName(),f=d.getInitValue();d.changeProp?(0,X.isUndefined)(t.get(p))&&t.set(p,f):p&&f&&(a[p]=f)});var c=this.dataResolverWatchers.getValueOrResolver("attributes",a);return s.length&&this.setAttributes(c),this.on(r,this.initTraits),e&&n&&n.trigger("component:toggled"),this},i.prototype.initScriptProps=function(){if(!this.opt.temporary){var e="script-props",t=["change:".concat(e),this.initScriptProps];this.off.apply(this,t);var n=this.previous(e)||[],r=this.get(e)||[],a=n.map(function(c){return"change:".concat(c)}).join(" "),s=r.map(function(c){return"change:".concat(c)}).join(" ");a&&this.off(a,this.__scriptPropsChange),s&&this.on(s,this.__scriptPropsChange),this.on.apply(this,t)}},i.prototype.__scriptPropsChange=function(e,t,n){n===void 0&&(n={}),!n.avoidStore&&this.trigger("rerender")},i.prototype.append=function(e,t){t===void 0&&(t={});var n=(0,X.isArray)(e)?Jr([],e,!0):[e],r=n.map(function(s){return(0,X.isString)(s)||s.collection&&s.collection.remove(s,{temporary:!0}),s}),a=this.components().add(r,Dn({action:wn.t.add},t));return a},i.prototype.components=function(e,t){t===void 0&&(t={});var n=this.get("components");return(0,X.isUndefined)(e)?n:(n.reset(void 0,t),e?this.append(e,t):[])},i.prototype.getChildAt=function(e){return this.components().at(e||0)||void 0},i.prototype.getLastChild=function(){var e=this.components();return e.at(e.length-1)||null},i.prototype.empty=function(e){return e===void 0&&(e={}),this.components().reset(void 0,e),this},i.prototype.parent=function(e){e===void 0&&(e={});var t=this.collection||e.prev&&this.prevColl;return t?t.parent:void 0},i.prototype.parents=function(){var e=this.parent();return e?[e].concat(e.parents()):[]},i.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},i.prototype.initToolbar=function(){var e=this.em,t=this,n=e&&e.getConfig().stylePrefix||"";if(!t.get("toolbar")&&e){var r=[];t.collection&&r.push({label:e.getIcon("arrowUp"),command:function(a){return a.runCommand("core:component-exit",{force:1})}}),t.get("draggable")&&r.push({attributes:{class:"".concat(n,"no-touch-actions"),draggable:!0},label:e.getIcon("move"),command:"tlb-move"}),t.get("copyable")&&r.push({label:e.getIcon("copy"),command:"tlb-clone"}),t.get("removable")&&r.push({label:e.getIcon("delete"),command:"tlb-delete"}),t.set("toolbar",r)}},i.prototype.__loadTraits=function(e,t){t===void 0&&(t={});var n=e||this.traits;if(!(n instanceof Bu)){n=(0,X.isFunction)(n)?n(this):n;var r=new Bu([],this.opt);r.setTarget(this),n.length&&r.add(n),this.set({traits:r},t)}return this},i.prototype.getTraits=function(){return this.__loadTraits(),Jr([],this.traits.models,!0)},i.prototype.setTraits=function(e){var t=(0,X.isArray)(e)?e:[e];return this.set({traits:t}),this.getTraits()},i.prototype.getTrait=function(e){return this.getTraits().filter(function(t){return t.get("id")===e||t.get("name")===e})[0]||null},i.prototype.updateTrait=function(e,t){var n,r=this.getTrait(e);return r&&r.set(t),(n=this.em)===null||n===void 0||n.trigger("component:toggled"),this},i.prototype.getTraitIndex=function(e){var t=this.getTrait(e);return t?this.traits.indexOf(t):-1},i.prototype.removeTrait=function(e){var t=this,n,r=(0,X.isArray)(e)?e:[e],a=r.map(function(d){return t.getTrait(d)}),s=this.traits,c=a.length?s.remove(a):[];return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,X.isArray)(c)?c:[c]},i.prototype.addTrait=function(e,t){var n;t===void 0&&(t={}),this.__loadTraits();var r=this.traits.add(e,t);return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,X.isArray)(r)?r:[r]},i.prototype.normalizeClasses=function(e){var t=[],n=this.em,r=n?.Selectors;return r?e.models?Jr([],e.models,!0):(e.forEach(function(a){return t.push(r.add(a))}),t):[]},i.prototype.clone=function(e){var t;e===void 0&&(e={});var n=this.em,r=this.dataResolverWatchers.getProps(this.attributes),a=Dn({},this.opt),s=this.getId(),c=n?.Css;r.components=[],r.classes=[],r.traits=[],gs(this)&&(e.symbol=!0),this.get("components").each(function(x,w){r.components[w]=x.clone(Dn(Dn({},e),{_inner:1}))}),this.get("traits").each(function(x,w){r.traits[w]=x.clone()}),this.get("classes").each(function(x,w){r.classes[w]=x.get("name")}),r.status="",a.collection=null,a.forCloning=!0;var d=new this.constructor(r,a),p="#".concat(d.getId()),f=c?c.getRules("#".concat(s)):[];f.forEach(function(x){var w=x.clone();w.set("selectors",[p]),c.getAll().add(w)}),d.set(Xi,0);var h=zr(this),v=hr(this);if(!e.symbol&&(h||v))d.set(dr,0),d.set(Xi,0);else if(h){var C=(t=hr(h))!==null&&t!==void 0?t:[];h.set(Xi,Jr(Jr([],C,!0),[d],!1)),Pc(d)}else e.symbol&&(ps(this)?(this.set(Xi,Jr(Jr([],v,!0),[d],!1)),d.set(dr,this),Pc(d)):e.symbolInv?(this.set(Xi,[d]),d.set(dr,this),[this,d].map(function(x){return Pc(x)})):(d.set(Xi,[this]),[this,d].map(function(x){return Pc(x)}),this.set(dr,d)));var b="component:clone";return n&&n.trigger(b,d),this.trigger(b,d),d},i.prototype.getName=function(e){e===void 0&&(e={});var t=this.em,n=this.attributes,r=n.type,a=n.tagName,s=n.name,c=r||a,d=r?"":a,p="domComponents.names.",f=s&&t?.t("".concat(p).concat(s)),h=d&&t?.t("".concat(p).concat(d)),v=t&&(t.t("".concat(p).concat(r))||t.t("".concat(p).concat(a))),C=this.get("custom-name");return(e.noCustom?"":C)||f||s||h||(0,Ze.capitalize)(d)||v||(0,Ze.capitalize)(c)},i.prototype.setName=function(e,t){t===void 0&&(t={}),this.set("custom-name",e,t)},i.prototype.getIcon=function(){var e=this.get("icon");return e?e+" ":""},i.prototype.toHTML=function(e){e===void 0&&(e={});var t=e.tag,n=t||this.get("tagName");delete e.tag;var r=this.__attrToString(e),a=r?" ".concat(r):"",s=this.getInnerHTML(e),c=!s&&this.get("void"),d="<".concat(n).concat(a).concat(c?"/":"",">").concat(s);return!c&&(d+="</".concat(n,">")),d},i.prototype.getInnerHTML=function(e){return this.__innerHTML(e)},i.prototype.__innerHTML=function(e){e===void 0&&(e={});var t=this.components();return t.length?t.map(function(n){return n.toHTML(e)}).join(""):this.content},i.prototype.__attrToString=function(e){e===void 0&&(e={});var t=[],n=e.attributes,r=this.getAttrToHTML(e);if(n&&((0,X.isFunction)(n)?r=n(this,r)||{}:(0,Ze.isObject)(n)&&(r=n)),e.withProps){var a=this.toJSON();(0,X.forEach)(a,function(f,h){var v=["classes","attributes","components"];h[0]!=="_"&&v.indexOf(h)<0&&(r["data-gjs-".concat(h)]=(0,X.isArray)(f)||(0,Ze.isObject)(f)?JSON.stringify(f):(0,X.isBoolean)(f)?"".concat(f):f)})}for(var s in r){var c=r[s];if(!(0,X.isUndefined)(c)&&c!==null)if((0,X.isBoolean)(c))c&&t.push(s);else{var d="";if(e.altQuoteAttr&&(0,X.isString)(c)&&c.indexOf('"')>=0)d="'".concat((0,Ze.escapeAltQuoteAttrValue)(c),"'");else{var p=(0,X.isString)(c)?(0,Ze.escapeAttrValue)(c):c;d='"'.concat(p,'"')}t.push("".concat(s,"=").concat(d))}}return t.join(" ")},i.prototype.getAttrToHTML=function(e){var t=this.getAttributes();return as(this.em)&&e?.keepInlineStyle!==!0&&delete t.style,t},i.prototype.toJSON=function(e){e===void 0&&(e={});var t=o.prototype.toJSON.call(this,e,{attributes:this.getAttributes()});if(delete t.dataResolverWatchers,delete t.attributes.class,delete t.toolbar,delete t.traits,delete t.status,delete t.open,delete t._undoexc,delete t.delegate,this.collectionsStateMap&&Object.getOwnPropertyNames(this.collectionsStateMap).length>0&&(delete t[dr],delete t[ul],delete t[Xi],delete t.attributes.id),!e.fromUndo){var n=t[dr],r=t[Xi];r&&(0,X.isArray)(r)&&(t[Xi]=r.filter(function(a){return a}).map(function(a){return a.getId?a.getId():a})),n&&!(0,X.isString)(n)&&(t[dr]=n.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(t),t},i.prototype.getChangedProps=function(e){var t=e||xm.Model.prototype.toJSON.apply(this),n=(0,X.result)(this,"defaults");return(0,X.forEach)(n,function(r,a){["type"].indexOf(a)===-1&&t[a]===r&&delete t[a]}),(0,X.isEmpty)(t.type)&&delete t.type,(0,X.forEach)(["attributes","style"],function(r){(0,X.isEmpty)(n[r])&&(0,X.isEmpty)(t[r])&&delete t[r]}),(0,X.forEach)(["classes","components"],function(r){(!t[r]||(0,X.isEmpty)(n[r])&&!t[r].length)&&delete t[r]}),t},i.prototype.getId=function(){var e=this.get("attributes")||{},t=OP(this),n=t.shouldSync,r=t.itemId;return n&&(e.id=r),e.id||this.ccid||this.cid},i.prototype.setId=function(e,t){return this.addAttributes({id:e},t),this},i.prototype.getEl=function(e){var t=this.getView(e);return t&&t.el},i.prototype.getView=function(e){var t=this,n=t.view,r=t.views,a=t.em,s=e||a?.getCurrentFrameModel();return s&&(n=r.filter(function(c){return c.frameView===s.view})[0]),n},i.prototype.getCurrentView=function(){var e=this.em.getCurrentFrame(),t=e?.model;return this.getView(t)},i.prototype.__getScriptProps=function(){var e=this.props(),t=this.get("script-props")||[];return t.reduce(function(n,r){return n[r]=e[r],n},{})},i.prototype.getScriptString=function(e){var t=this,n=e||this.get("script")||"";if(!n)return n;if(this.get("script-props"))n=n.toString().trim();else{if((0,X.isFunction)(n)){var r=n.toString().trim();r=r.slice(r.indexOf("{")+1,r.lastIndexOf("}")),n=r.trim()}var a=this.em.getConfig(),s=nv(a.tagVarStart||"{[ "),c=nv(a.tagVarEnd||" ]}"),d=new RegExp("".concat(s,"([\\w\\d-]*)").concat(c),"g");n=n.replace(d,function(p,f){t.scriptUpdated();var h=t.attributes[f]||"";return(0,X.isArray)(h)||typeof h=="object"?JSON.stringify(h):h})}return n},i.prototype.emitUpdate=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=this.em,s=Iu+(e?":".concat(e):""),c=e&&this.get(e);e&&this.updated.apply(this,Jr([e,c,e&&this.previous(e)],n,!1)),this.trigger.apply(this,Jr([s],n,!1)),a&&a.trigger.apply(a,Jr([s,this],n,!1)),["components","classes"].indexOf(e)>=0&&this.__propSelfToParent({component:this,changed:(t={},t[e]=c,t),options:n[2]||n[1]||{}})},i.prototype.emitWithEditor=function(e,t,n){[this.em,this].forEach(function(r){return r?.trigger(e,t,n)})},i.prototype.onAll=function(e){return(0,X.isFunction)(e)&&(e(this),this.components().forEach(function(t){return t.onAll(e)})),this},i.prototype.forEachChild=function(e){(0,X.isFunction)(e)&&this.components().forEach(function(t){e(t),t.forEachChild(e)})},i.prototype.remove=function(e){var t=this;e===void 0&&(e={});var n=this.em,r=this.collection,a=function(){r&&r.remove(t,Dn({action:wn.t.remove},e)),r||(t.components("",e),t.components().removeChildren(t,void 0,e))},s=Dn({},e);return[this,n].map(function(c){return c.trigger(wn.I.removeBefore,t,a,s)}),!s.abort&&a(),this},i.prototype.destroy=function(e){return this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.dataResolverWatchers.destroy(),this.__onDestroy(),o.prototype.destroy.call(this,e)},i.prototype.move=function(e,t){if(t===void 0&&(t={}),e){var n=t.at,r=this.index(),a=e===this.parent(),s=r===n||r===n-1;if(!a||!s){a&&n&&n>r&&(t.at=n-1);var c=wn.t.move;this.remove({action:c,temporary:1}),e.append(this,Dn({action:c},t)),this.emitUpdate()}}return this},i.prototype.isInstanceOf=function(e){var t,n,r=(n=(t=this.em)===null||t===void 0?void 0:t.Components.getType(e))===null||n===void 0?void 0:n.model;if(!r)return!1;var a=this.constructor.typeExtends;return this instanceof r||a.has(e)},i.prototype.isChildOf=function(e){for(var t=(0,X.isString)(e),n=this.parent();n;){if(t){if(n.isInstanceOf(e))return!0}else if(n===e)return!0;n=n.parent()}return!1},i.prototype.resetId=function(e){e===void 0&&(e={});var t=this.em,n=this.getId();if(!n)return this;var r=i.createId(this);this.setId(r);var a=t?.Css.getIdRule(n),s=a?.get("selectors").at(0);return s?.set("name",r),this},i.prototype._getStyleRule=function(e){var t=e===void 0?{}:e,n=t.id,r=this.em,a=n||this.getId();return r?.Css.getIdRule(a)},i.prototype._getStyleSelector=function(e){var t=this._getStyleRule(e);return t?.get("selectors").at(0)},i.prototype._moveInlineStyleToRule=function(){var e=this.get("style"),t=(0,X.isString)(e)&&e.length>0||(0,Ze.isObject)(e)&&Object.keys(e).length>0;as(this.em)&&t&&this.addStyle((0,Ze.isObject)(e)?this.dataResolverWatchers.getValueOrResolver("styles",e):e,{avoidStore:!0,noUndo:!0})},i.prototype._idUpdated=function(e,t,n){if(n===void 0&&(n={}),!n.idUpdate){var r=this.ccid,a=(this.get("attributes")||{}).id,s=(this.previous("attributes")||{}).id||r,c=i.getList(this);if(c[a]||!a&&s)return this.setId(s,{idUpdate:!0});delete c[s],c[a]=this,this.ccid=a;var d=this._getStyleSelector({id:s});d&&d.set({name:a,label:a})}},i.getDefaults=function(){return(0,X.result)(this.prototype,"defaults")},i.isComponent=function(e,t){return{tagName:(0,Ze.toLowerCase)(e.tagName)}},i.ensureInList=function(e){var t=i.getList(e),n=e.getId(),r=t[n];if(!r)t[n]=e;else if(r!==e){var a=i.getIncrementId(n,t);e.setId(a),t[a]=e}e.components().forEach(function(s){return i.ensureInList(s)})},i.createId=function(e,t){t===void 0&&(t={});var n=i.getList(e),r=t.idMap,a=r===void 0?{}:r,s=e.get("attributes").id,c;return s?(c=i.getIncrementId(s,n,t),e.setId(c),s!==c&&(a[s]=c)):c=i.getNewId(n),n[c]=e,c},i.getNewId=function(e){for(var t=Object.keys(e).length,n=t.toString().length+2,r=(Math.random()+1.1).toString(36).slice(-n),a="i".concat(r);e[a];)a=i.getNewId(e);return a},i.getIncrementId=function(e,t,n){n===void 0&&(n={});var r=n.keepIds,a=r===void 0?[]:r,s=1,c=e;if(a.indexOf(e)<0)for(;t[c];)s++,c="".concat(e,"-").concat(s);return c},i.getList=function(e){var t,n=e.em,r=n?.Components;return(t=r?.componentsById)!==null&&t!==void 0?t:{}},i.checkId=function(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n={}),r===void 0&&(r={});var a=(0,X.isArray)(e)?e:[e],s=r.keepIds,c=s===void 0?[]:s,d=r.idMap,p=d===void 0?{}:d;a.forEach(function(f){f.attributes;var h=f.attributes,v=h===void 0?{}:h,C=f.components,b=v.id;if(b&&n[b]&&c.indexOf(b)<0){var x=i.getIncrementId(b,n);p[b]=x,v.id=x,(0,X.isArray)(t)&&t.forEach(function(w){var P=w.selectors;P.forEach(function(M,y){M==="#".concat(b)&&(P[y]="#".concat(x))})})}C&&i.checkId(C,t,n,r)})},i.typeExtends=new Set,i}(S_),$n=YP,QP=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Uu=function(){return Uu=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Uu.apply(this,arguments)},Pl="head",XP=["title","style","base","link","meta","script","noscript"],ZP=function(o){QP(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Uu(Uu({},o.prototype.defaults),{type:Pl,tagName:Pl,draggable:!1,highlightable:!1,droppable:function(e){var t=e.tagName;return!t||XP.includes((0,Ze.toLowerCase)(t))}})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===Pl},i}($n),JP=ZP,eM=function(){function o(i,e){i===void 0&&(i=50);var t;this.dragging=!1,this.lastMaxHeight=0,this.zoom=1,this.rectIsInScrollIframe=!1,this.autoscrollLimit=i,this.lastMaxHeight=(t=e?.lastMaxHeight)!==null&&t!==void 0?t:0,this.onScroll=e?.onScroll,this.rectIsInScrollIframe=!!e?.rectIsInScrollIframe,(0,X.bindAll)(this,"start","autoscroll","updateClientY","stop")}return o.prototype.start=function(i,e,t){var n=this;this.eventEl=i,this.scrollEl=e,this.lastMaxHeight=t?.lastMaxHeight||Number.POSITIVE_INFINITY,this.zoom=t?.zoom||1,this.ignoredElement=t?.ignoredElement,setTimeout(function(){n.toggleAutoscrollFx(!0),requestAnimationFrame(n.autoscroll)},0)},o.prototype.autoscroll=function(){var i=this,e,t,n=this.scrollEl;if(!(!this.dragging||!n)){if(this.lastClientY===void 0){setTimeout(function(){requestAnimationFrame(i.autoscroll)},50);return}var r=(e=this.lastClientY)!==null&&e!==void 0?e:0,a=this.autoscrollLimit,s=this.getEventElHeight(),c=s-a,d=0;r<a&&(d+=r-a),r>c&&(d+=r-c);var p=this.getElScrollTop(n);d=Math.min(d,this.lastMaxHeight-p),d=Math.max(d,-p),d!==0&&(n.scrollBy({top:d,behavior:"auto"}),(t=this.onScroll)===null||t===void 0||t.call(this)),requestAnimationFrame(this.autoscroll)}},o.prototype.getEventElHeight=function(){var i=this.eventEl;if(!i)return 0;var e=i.getBoundingClientRect();return e.height},o.prototype.updateClientY=function(i){var e=i.target;if(!(this.ignoredElement&&this.ignoredElement.contains(e))){var t=this.scrollEl;i.preventDefault();var n=this.rectIsInScrollIframe?0:this.getElScrollTop(t);this.lastClientY=(0,Ct.G2)(i).clientY*this.zoom-n}},o.prototype.getElScrollTop=function(i){return(i instanceof HTMLElement?i.scrollTop:i?.scrollY)||0},o.prototype.toggleAutoscrollFx=function(i){this.dragging=i;var e=this.eventEl;if(e){var t=i?"on":"off",n={on:Ct.on,off:Ct.AU};n[t](e,"mousemove dragover",this.updateClientY),n[t](e,"mouseup",this.stop)}},o.prototype.stop=function(){this.toggleAutoscrollFx(!1),this.lastClientY=void 0,this.ignoredElement=void 0},o}(),R_=eM,tM=mn(1447),nM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),iM=function(o){nM(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.canMove=function(e,t){var n=this,r=this.getRealIndex(t),a=e._dragSource,s=a.model,c=a.content,d=a.dragDef,p=!s||!this.isSourceSameSymbol(s),f=((0,X.isFunction)(c)?d:c)||e.model;return Array.isArray(f)?p&&f.every(function(h,v){return n.canMoveSingleContent(h,r+v)}):p&&this.canMoveSingleContent(f,r)},i.prototype.canMoveSingleContent=function(e,t){return this.model.em.Components.canMove(this.model,e,t).result},i.prototype.addChildAt=function(e,t){var n=e._dragSource,r=n.content,a=this.isTextNode()&&e.isTextable(),s=(0,X.isFunction)(r)?r():r;return Array.isArray(s)?this.addMultipleChildren(s,t,a):this.addSingleChild(s,t,a)},i.prototype.addSingleChild=function(e,t,n){var r,a,s,c,d;return n?d=(c=(s=(a=(r=this.model)===null||r===void 0?void 0:r.getView)===null||a===void 0?void 0:a.call(r))===null||s===void 0?void 0:s.insertComponent)===null||c===void 0?void 0:c.call(s,e,{action:"add-component"}):d=this.model.components().add(e,{at:this.getRealIndex(t),action:"add-component"}),new this.constructor(d)},i.prototype.addMultipleChildren=function(e,t,n){var r=this,a;return e.forEach(function(s,c){a=r.addSingleChild(s,t+c,n)}),a},i.prototype.isSourceSameSymbol=function(e){if(wo(this.model)){var t=Kc(this.model),n=ps(t)?t:zr(t);if(n===e)return!0}return!1},Object.defineProperty(i.prototype,"content",{set:function(e){this._dragSource.content=e},enumerable:!1,configurable:!0}),i}(tM.A),F_=iM,_s=mn(8433),Jh=function(){return Jh=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Jh.apply(this,arguments)},rM=function(){function o(i,e){var t=this;this.em=i,this.canvas=i.Canvas;var n=e||this.canvas.getFrames().map(function(a){return a.getComponent().getEl()}),r=Array.isArray(n)?n:[n];this.el=r[0],this.counter=0,(0,X.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),r.forEach(function(a){return t.toggleEffects(a,!0)})}return o.prototype.toggleEffects=function(i,e){var t={on:Ct.on,off:Ct.AU},n=e?"on":"off";t[n](i,"dragenter",this.handleDragEnter),t[n](i,"dragover",this.handleDragOver),t[n](i,"drop",this.handleDrop),t[n](i,"dragleave",this.handleDragLeave)},o.prototype.__customTglEff=function(i){var e,t=i?Ct.on:Ct.AU,n=this.el.ownerDocument,r=(e=n.defaultView)===null||e===void 0?void 0:e.frameElement,a=function(s){return{legacyOnStartSort:function(){(0,Ct.on)(r,"pointermove",s.onMove)},legacyOnEnd:function(){(0,Ct.AU)(r,"pointermove",s.onMove)},customTarget:function(c){var d=c.event;return n.elementFromPoint(d.clientX,d.clientY)}}};this.getSorterOptions=i?a:void 0,t(r,"pointerenter",this.handleDragEnter),t(r,"pointermove",this.handleDragOver),t(document,"pointerup",this.handleDrop),t(r,"pointerout",this.handleDragLeave)},o.prototype.startCustom=function(){this.__customTglEff(!0)},o.prototype.endCustom=function(i){this.over?this.endDrop(i):this.__customTglEff(!1)},o.prototype.endDrop=function(i,e){var t=this,n=t.em,r=t.dragStop;this.counter=0,r&&r(i||!this.over),this.__customTglEff(!1),n.trigger("canvas:dragend",e)},o.prototype.handleDragLeave=function(i){this.updateCounter(-1,i)},o.prototype.updateCounter=function(i,e){this.counter+=i,this.counter===0&&this.endDrop(!0,e)},o.prototype.handleDragEnter=function(i){var e=this,t,n,r=this,a=r.em,s=r.canvas,c=i.dataTransfer,d=a.get("dragSource");if(!(!d?.content&&!s.getConfig().allowExternalDrop)&&(this.updateCounter(1,i),!this.over)){this.over=!0;var p=a.Utils,f=d?.content||"<br>",h;if(a.stopDefault(),a.inAbsoluteMode()){var v=a.Components.getWrapper(),C=v.append({})[0],b=a.Commands.run("core:component-drag",{event:i,guidesInfo:1,center:1,target:C,onEnd:function(k,N,V){var j=V.cancelled,R;if(!j&&f){R=v.append(f)[0];var H=s.getOffset(),I=C.getStyle(),G=I.top,K=I.left,J=I.position,E=(0,Ct.Xy)(k.target),Z=parseInt("".concat(parseFloat(K)+E.x-H.left),10),te=parseInt("".concat(parseFloat(G)+E.y-H.top),10);R.addStyle({left:Z+"px",top:te+"px",position:J})}e.handleDragEnd(R,c),C.remove()}});h=function(k){return b.stop(i,{cancel:k})},this.setAbsoluteDragContent=function(k){return f=k}}else{var x=new p.ComponentSorter({em:a,treeClass:F_,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:s.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:_s.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),w=(t=this.getSorterOptions)===null||t===void 0?void 0:t.call(this,x);w&&(x.eventHandlers.legacyOnStartSort=w.legacyOnStart,x.eventHandlers.legacyOnEnd=w.legacyOnEnd,x.containerContext.customTarget=w.customTarget);var P=a.Components.getShallowWrapper(),M=P?.append(f,{temporary:!0})[0],y=M?.getEl(),A=[{element:y,dragSource:Jh({model:M},d)}];x.startSort(A),this.sorter=x,this.draggedNode=(n=x.sourceNodes)===null||n===void 0?void 0:n[0],h=function(k){k?x.cancelDrag():x.endDrag()}}this.dragStop=h,a.trigger("canvas:dragenter",c,f)}},o.prototype.handleDragEnd=function(i,e){var t=this.em;this.over=!1,i&&(t.set("dragResult",i),t.trigger("canvas:drop",e,i)),t.runDefault({preserveSelected:1})},o.prototype.handleDragOver=function(i){i.preventDefault(),this.em.trigger("canvas:dragover",i)},o.prototype.handleDrop=function(i){var e;i.preventDefault();var t=i.dataTransfer,n=this.getContentByData(t).content||"";this.draggedNode&&(this.draggedNode.content=n),(e=this.setAbsoluteDragContent)===null||e===void 0||e.call(this,n),this.endDrop(!n,i)},o.prototype.getContentByData=function(i){var e=this.em,t=i?.types||[],n=i?.files||[],r=e.get("dragSource"),a=i?.getData("text")||"";if(n.length){a=[];for(var s=0;s<n.length;s++){var c=n[s],d=c.type.split("/")[0];d=="image"&&a.push({type:d,file:c,attributes:{alt:c.name}})}}else if(r?.content)a=r.content;else if((0,X.indexOf)(t,"text/html")>=0)a=i&&i.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,X.indexOf)(t,"text/uri-list")>=0)a={type:"link",attributes:{href:a},content:a};else if((0,X.indexOf)(t,"text/json")>=0){var p=i&&i.getData("text/json");p&&(a=JSON.parse(p))}else t.length===1&&t[0]==="text/plain"&&(a="<div>".concat(a,"</div>"));var f={content:a,setContent:function(h){f.content=h}};return e.trigger("canvas:dragdata",i,f),f},o}(),oM=rM,aM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jr=function(){return jr=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},jr.apply(this,arguments)},sM=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},lM=function(o){aM(i,o);function i(e,t){var n=o.call(this,{model:e})||this;n.dragging=!1,n.loaded=!1,n.lastMaxHeight=0,n.tools={},(0,X.bindAll)(n,"startAutoscroll","stopAutoscroll","_emitUpdate");var r=n.el;n.module._config=jr(jr({},n.config||{}),{frameView:n}),n.frameWrapView=t,n.showGlobalTools=(0,X.debounce)(n.showGlobalTools.bind(n),50);var a=n.getCanvasModel();return n.listenTo(e,"change:head",n.updateHead),n.listenTo(a,"change:styles",n.renderStyles),e.view=n,(0,Ze.setViewEl)(r,n),n.autoScroller=new R_(n.config.autoscrollLimit,{rectIsInScrollIframe:!0,onScroll:function(){var s=n.getGlobalToolsEl();s.style.opacity="0",n.showGlobalTools(),n.em.Canvas.spots.refreshDbn()}}),n}return Object.defineProperty(i.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),i.prototype.getBoxRect=function(){var e=this,t=e.el,n=e.module,r=n.getCanvasView(),a=n.getCoords(),s=t.getBoundingClientRect(),c=r.getCanvasOffset(),d=r.getViewportDelta(),p=n.getZoomMultiplier(),f=(s.x-c.left-d.x-a.x)*p,h=(s.y-c.top-d.y-a.y)*p,v=s.width*p,C=s.height*p;return{x:f,y:h,width:v,height:C}},i.prototype.updateHead=function(){var e=this.model,t=this.getHead(),n=[],r=[],a=e.head,s=e.previous("head"),c=function(p){return p===void 0&&(p={}),Object.keys(p).sort().map(function(f){return"[".concat(f,'="').concat(p[f],'"]')}).join("")},d=function(p,f,h){p.forEach(function(v){var C=v.tag,b=v.attributes,x=f.some(function(w){return w.tag===C&&c(w.attributes)===c(b)});!x&&h.push(v)})};d(a,s,r),d(s,a,n),n.forEach(function(p){var f,h=t.querySelector("".concat(p.tag).concat(c(p.attributes)));(f=h?.parentNode)===null||f===void 0||f.removeChild(h)}),(0,Ct.af)(t,r)},i.prototype.getEl=function(){return this.el},i.prototype.getCanvasModel=function(){var e;return(e=this===null||this===void 0?void 0:this.em.Canvas)===null||e===void 0?void 0:e.getModel()},i.prototype.getWindow=function(){return this.getEl().contentWindow},i.prototype.getDoc=function(){return this.getEl().contentDocument},i.prototype.getHead=function(){return this.getDoc().querySelector("head")},i.prototype.getBody=function(){return this.getDoc().querySelector("body")},i.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},i.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,Ct.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},i.prototype.getToolsEl=function(){var e;return(e=this.frameWrapView)===null||e===void 0?void 0:e.elTools},i.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},i.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},i.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},i.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},i.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},i.prototype.getOffsetRect=function(){var e=this.el,t=this.getBody(),n=t.scrollTop,r=t.scrollLeft,a=e.offsetHeight,s=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:a,width:s,scrollTop:n,scrollLeft:r,scrollBottom:n+a,scrollRight:r+s}},i.prototype._getTool=function(e){var t=this.tools,n=this.getToolsEl();return t[e]||(t[e]=n.querySelector(e)),t[e]},i.prototype.remove=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._toggleEffects(!1),this.tools={},(e=this.wrapper)===null||e===void 0||e.remove(),Br.prototype.remove.apply(this,t),this},i.prototype.startAutoscroll=function(){this.autoScroller.start(this.el,this.getWindow(),{lastMaxHeight:this.getWrapper().offsetHeight-this.el.offsetHeight,zoom:this.em.getZoomDecimal(),ignoredElement:this.em.Canvas.getSpotsEl()})},i.prototype.stopAutoscroll=function(){this.autoScroller.stop()},i.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},i.prototype.render=function(){var e=this,t=e.$el,n=e.ppfx,r=e.em;return t.attr({class:"".concat(n,"frame")}),this.renderScripts(),r.trigger("frame:render",this),this},i.prototype.renderScripts=function(){var e=this,t=this,n=t.el,r=t.model,a=t.em,s="frame:load",c={el:n,model:r,view:this},d=this.getCanvasModel(),p=function(f){var h;if(f.length>0){var v=f.shift(),C=(0,Ct.a_)("script",jr({type:"text/javascript"},(0,X.isString)(v)?{src:v}:v));(h=n.contentDocument)===null||h===void 0||h.head.appendChild(C),C.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?p(f):C.onerror=C.onload=p.bind(null,f)}else a?.trigger(Nc.frameLoadHead,c),e.renderBody(),a?.trigger(Nc.frameLoadBody,c),a?.trigger(s,c)};n.onload=function(){var f=e.config.frameContent;if(f){var h=e.getDoc();h.open(),h.write(f),h.close()}c.window=e.getWindow(),a?.trigger("".concat(s,":before"),c),a?.trigger(Nc.frameLoad,c),e.renderHead(),p(sM([],d.get("scripts"),!0))}},i.prototype.renderStyles=function(e){e===void 0&&(e={});var t=this.getHead(),n=this.getCanvasModel(),r=function(f){return f===void 0&&(f=[]),f.map(function(h){return{tag:"link",attributes:jr({rel:"stylesheet"},(0,X.isString)(h)?{href:h}:h)}})},a=r(e.prev||n.previous("styles")),s=r(n?.get("styles")),c=[],d=[],p=function(f,h,v){f.forEach(function(C){var b=C.attributes.href,x=h.some(function(w){return w.attributes.href===b});!x&&v.push(C)})};p(s,a,d),p(a,s,c),c.forEach(function(f){var h,v=t.querySelector('link[href="'.concat(f.attributes.href,'"]'));(h=v?.parentNode)===null||h===void 0||h.removeChild(v)}),(0,Ct.af)(t,d)},i.prototype.renderHead=function(){var e,t=this,n=t.model,r=t.em,a=n.root,s=(e=r?.Components)===null||e===void 0?void 0:e.getType(Pl).view;s&&(this.headView=new s({el:this.getHead(),model:a.head,config:jr(jr({},a.config),{frameView:this})}).render())},i.prototype.renderBody=function(){var e=this,t,n=this,r=n.config,a=n.em,s=n.model,c=n.ppfx,d=this.getBody(),p=this.getWindow(),f=s.hasAutoHeight(),h=a.config;p._isEditor=!0,this.renderStyles({prev:[]});var v="#ffca6f";(0,Ct.BC)(d,`<style>
      `.concat(h.baseCss||r.frameStyle||"",`

      `).concat(f?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(f?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(c,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(c,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(c,`selected-parent {
        outline: 2px solid `).concat(v,` !important
      }

      .`).concat(c,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(c,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(c,`no-pointer {
        pointer-events: none;
      }

      .`).concat(c,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(c,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(c,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(c,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(c,`is__grabbing,
      .`).concat(c,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(h.canvasCss||"",`
      `).concat(h.protectedCss||"",`
    </style>`));var C=s.root,b=(((t=a?.Components)===null||t===void 0?void 0:t.getType("wrapper"))||{}).view;b&&((0,X.isFunction)(r.customRenderer)?r.customRenderer({editor:a.Editor,frame:s,window:p,frameView:this,onMount:function(x){e.wrapper=x,e._onRootMount(x)}}):(this.wrapper=new b({model:C,config:jr(jr({},C.config),{em:a,frameView:this})}).render(),this._onRootMount(this.wrapper)))},i.prototype._onRootMount=function(e){var t=this,n,r=this,a=r.config,s=r.em,c=r.model,d=this.getDoc(),p=d.body;(0,Ct.BC)(p,e.el),(0,Ct.BC)(p,new qh({collection:c.getStyles(),config:jr(jr({},s.Css.getConfig()),{frameView:this})}).render().el),(0,Ct.BC)(p,this.getJsContainer()),(0,Ct.on)(p,"click",function(f){var h;return f&&((h=f.target)===null||h===void 0?void 0:h.tagName)=="A"&&f.preventDefault()}),(0,Ct.on)(p,"submit",function(f){return f&&f.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!a.infiniteCanvas}}].forEach(function(f){return f.event.split(" ").forEach(function(h){d.addEventListener(h,function(v){return t.el.dispatchEvent((0,Ct.yL)(v,f.class))},f.opts)})}),this._toggleEffects(!0),(0,Ze.hasDnd)(s)&&(this.droppable=new oM(s,(n=this.wrapper)===null||n===void 0?void 0:n.el)),this.loaded=!0,c.trigger("loaded")},i.prototype._toggleEffects=function(e){var t=e?Ct.on:Ct.AU,n=this.getWindow();n&&t(n,"".concat(Ct.D8," resize"),this._emitUpdate)},i.prototype._emitUpdate=function(){this.model._emitUpdated()},i}(Br),cM=lM,V_=mn(9966),dM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pl=function(){return pl=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},pl.apply(this,arguments)},uM=function(o){dM(i,o);function i(e,t){var n=o.call(this,{model:e})||this;(0,X.bindAll)(n,"onScroll","frameLoaded","updateOffset","remove","startDrag");var r=pl(pl({},e.config),{frameWrapView:n});return n.cv=t,n.frame=new cM(e,n),n.classAnim="".concat(n.ppfx,"frame-wrapper--anim"),n.updateOffset=(0,X.debounce)(n.updateOffset.bind(n),0),n.updateSize=(0,X.debounce)(n.updateSize.bind(n),0),n.listenTo(e,"loaded",n.frameLoaded),n.listenTo(e,"change:x change:y",n.updatePos),n.listenTo(e,"change:width change:height",n.updateSize),n.listenTo(e,"destroy remove",n.remove),n.updatePos(),n.setupDragger(),n}return i.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},i.prototype.setupDragger=function(){var e=this,t=this,n=t.module,r=t.model,a,s,c,d=function(p){n.toggleFramesEvents(p)};this.dragger=new V_.A({onStart:function(){var p=r.attributes,f=p.x,h=p.y;c=e.em.getZoomMultiplier(),a=f,s=h,d(!1)},onEnd:function(){return d(!0)},setPosition:function(p){r.set({x:a+p.x*c,y:s+p.y*c})}})},i.prototype.startDrag=function(e){var t;e&&((t=this.dragger)===null||t===void 0||t.start(e))},i.prototype.__clear=function(e){var t=this.frame;t&&t.remove(e),(0,Ct.YZ)(this.elTools)},i.prototype.remove=function(e){var t=this,n;return(n=this.sizeObserver)===null||n===void 0||n.disconnect(),this.__clear(e),Br.prototype.remove.apply(this,e),["frame","dragger","cv","elTools"].forEach(function(r){return t[r]=0}),this},i.prototype.updateOffset=function(){var e,t=this,n=t.em,r=t.$el,a=t.frame;!n||n.destroyed||(n.runDefault({preserveSelected:1}),r.removeClass(this.classAnim),(e=a?.model)===null||e===void 0||e._emitUpdated())},i.prototype.updatePos=function(e){var t=this,n=t.model,r=t.el,a=n.attributes,s=a.x,c=a.y,d=r.style;this.frame.rect=void 0,d.left=isNaN(s)?s:"".concat(s,"px"),d.top=isNaN(c)?c:"".concat(c,"px"),e&&this.updateOffset()},i.prototype.updateSize=function(){this.updateDim()},i.prototype.updateDim=function(){var e=this,t=e.em,n=e.el,r=e.$el,a=e.model,s=e.classAnim,c=e.frame;if(c){c.rect=void 0,r.addClass(s);var d=this.__handleSize(),p=d.noChanges,f=d.width,h=d.height;((0,X.isNull)(f)||(0,X.isNull)(h))&&a.set(pl(pl({},f?{}:{width:n.offsetWidth}),h?{}:{height:n.offsetHeight}),{silent:1}),t.stopDefault({preserveSelected:1}),p?this.updateOffset():setTimeout(this.updateOffset,350)}},i.prototype.onScroll=function(){var e=this,t=e.frame,n=e.em;n.trigger("frame:scroll",{frame:t,body:t.getBody(),target:t.getWindow()})},i.prototype.frameLoaded=function(){var e=this,t=e.frame,n=e.config;t.getWindow().onscroll=this.onScroll,this.updateDim()},i.prototype.__handleSize=function(){var e,t="px",n=this,r=n.model,a=n.el,s=a.style,c=r.attributes,d=c.width,p=c.height,f=s.width||"",h=s.height||"",v=d||"",C=p||"",b=f==v&&h==C,x=(0,X.isNumber)(v)?"".concat(v).concat(t):v,w=(0,X.isNumber)(C)?"".concat(C).concat(t):C;if(s.width=x,(e=this.sizeObserver)===null||e===void 0||e.disconnect(),r.hasAutoHeight()){var P=this.frame.el,M=P.contentDocument;if(M){var y=new ResizeObserver(function(){requestAnimationFrame(function(){var A=parseFloat(r.get("minHeight"))||0,k=Math.max(M.body.scrollHeight,A);s.height="".concat(k,"px")})});y.observe(M.body),this.sizeObserver=y}}else s.height=w,delete this.sizeObserver;return{noChanges:b,width:d,height:p,newW:v,newH:C}},i.prototype.render=function(){var e=this,t=e.frame,n=e.$el,r=e.ppfx,a=e.cv,s=e.model,c=e.el,d=s.attributes.onRender;this.__clear(),this.__handleSize(),t.render(),n.empty().attr({class:"".concat(r,"frame-wrapper")}).append(`
      <div class="`.concat(r,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(r,`frame-wrapper__name" data-action-move>
          `).concat(s.get("name")||"",`
        </div>
        <div class="`).concat(r,`frame-wrapper__top-r">
          <div class="`).concat(r,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(r,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(r,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(r,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(t.el);var p=(0,Ct.a_)("div",{class:"".concat(r,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(r,`highlighter" data-hl></div>
      <div class="`).concat(r,`badge" data-badge></div>
      <div class="`).concat(r,`placeholder">
        <div class="`).concat(r,`placeholder-int"></div>
      </div>
      <div class="`).concat(r,`ghost"></div>
      <div class="`).concat(r,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(r,`resizer"></div>
      <div class="`).concat(r,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(r,`offset-fixed-v"></div>
    `));this.elTools=p;var f=a?.toolsWrapper;return f&&f.appendChild(p),d&&d({el:c,elTop:c.querySelector("[data-frame-top]"),elRight:c.querySelector("[data-frame-right]"),elBottom:c.querySelector("[data-frame-bottom]"),elLeft:c.querySelector("[data-frame-left]"),frame:s,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},i}(Br),pM=uM,fM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hM=function(o){fM(i,o);function i(e,t){e===void 0&&(e={});var n=o.call(this,e,!0)||this;return n.listenTo(n.collection,"reset",n.render),n.canvasView=t.canvasView,n._module=t.module,n}return i.prototype.onRemoveBefore=function(e,t){t===void 0&&(t={}),e.forEach(function(n){return n.remove(t)})},i.prototype.onRender=function(){var e=this,t=e.$el,n=e.ppfx;t.attr({class:"".concat(n,"frames")})},i.prototype.clearItems=function(){var e=this.viewCollection||[];e.forEach(function(t){return t.remove()}),this.viewCollection=[]},i.prototype.renderView=function(e,t){return new pM(e,this.canvasView)},i}(qO),mM=hM,gM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gu=function(){return Gu=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Gu.apply(this,arguments)},vM=function(o){gM(i,o);function i(e){var t=o.call(this,{model:e})||this;t.ready=!1,(0,X.bindAll)(t,"clearOff","onKeyPress","onWheel","onPointer");var n=t,r=n.em,a=n.pfx,s=n.ppfx,c=t.module.events;return t.className="".concat(a,"canvas ").concat(s,"no-touch-actions").concat(r.config.customUI?"":" ".concat(a,"canvas-bg")),t.clsUnscale="".concat(a,"unscale"),t._initFrames(),t.listenTo(r,c.refresh,t.clearOff),t.listenTo(r,"component:selected",t.checkSelected),t.listenTo(r,"".concat(c.coords," ").concat(c.zoom),t.updateFrames),t.listenTo(e,"change:frames",t._onFramesUpdate),t.toggleListeners(!0),t}return i.prototype.template=function(){var e=this.pfx;return`
      <div class="`.concat(e,`canvas__frames" data-frames>
        <div class="`).concat(e,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(e,'tools" class="').concat(e,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},i.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},i.prototype._initFrames=function(){var e=this,t=e.frames,n=e.model,r=e.config,a=e.em,s=n.frames;a.set("readyCanvas",0),s.once("loaded:all",function(){return a.set("readyCanvas",1)}),t?.remove(),this.frames=new mM({collection:s},Gu(Gu({},r),{canvasView:this}))},i.prototype.checkSelected=function(e,t){var n;t===void 0&&(t={});var r=t.scroll,a=this.em.getCurrentFrame();r&&((n=e.views)===null||n===void 0||n.forEach(function(s){s.frameView===a&&s.scrollIntoView(r)}))},i.prototype.remove=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return clearTimeout(this.timerZoom),(e=this.frames)===null||e===void 0||e.remove(),this.frames=void 0,Br.prototype.remove.apply(this,t),this.toggleListeners(!1),this},i.prototype.preventDefault=function(e){var t;e&&(e.preventDefault(),(t=e._parentEvent)===null||t===void 0||t.preventDefault())},i.prototype.toggleListeners=function(e){var t=this,n=t.el,r=t.config,a=e?Ct.on:Ct.AU;a(document,"keypress",this.onKeyPress),a(window,"scroll resize",this.clearOff),a(n,"wheel",this.onWheel,{passive:!r.infiniteCanvas}),a(n,"pointermove",this.onPointer)},i.prototype.screenToWorld=function(e,t){var n=this.module,r=n.getCoords(),a=n.getZoomMultiplier(),s=this.getViewportDelta();return{x:(e-r.x-s.x)*a,y:(t-r.y-s.y)*a}},i.prototype.onPointer=function(e){if(this.config.infiniteCanvas){var t=this.getCanvasOffset(),n=(0,Ct.Xy)(),r={x:e.clientX-t.left+n.x,y:e.clientY-t.top+n.y};if(e._parentEvent){var a=e.target.getBoundingClientRect(),s=this.module.getZoomDecimal();r.x=a.left-t.left+n.x+e.clientX*s,r.y=a.top-t.top+n.y+e.clientY*s}this.model.set({pointerScreen:r,pointer:this.screenToWorld(r.x,r.y)})}},i.prototype.onKeyPress=function(e){var t=this.em,n=(0,Ct.Ch)(e);n===" "&&t.getZoomDecimal()!==1&&!t.Canvas.isInputFocused()&&(this.preventDefault(e),t.Editor.runCommand("core:canvas-move"))},i.prototype.onWheel=function(e){var t=this,n=t.module,r=t.config;if(r.infiniteCanvas){this.preventDefault(e);var a=e.deltaX,s=e.deltaY,c=n.getZoomDecimal(),d=(0,Ct.rp)(e),p=n.getCoords();if(d){var f=c-s*c*.01;n.setZoom(f*100);var h=this.model.getPointerCoords(gt.x2.Screen),v=this.getCanvasOffset(),C=h.x-v.width/2,b=h.y-v.height/2,x=f/c,w=C-(C-p.x)*x,P=b-(b-p.y)*x;n.setCoords(w,P)}else this.onPointer(e),n.setCoords(p.x-a,p.y-s)}},i.prototype.updateFrames=function(e){var t=this.em,n=this.toolsWrapper,r={preserveSelected:1};this.updateFramesArea(),this.clearOff(),n.style.display="none",t.trigger("canvas:update",e),clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){t.stopDefault(r),t.runDefault(r),n.style.display=""},300)},i.prototype.updateFramesArea=function(){var e=this,t=e.framesArea,n=e.model,r=e.module,a=e.cvStyle,s=e.clsUnscale,c=r.getZoomMultiplier();if(t){var d=n.attributes,p=d.x,f=d.y,h=r.getZoomDecimal();t.style.transform="scale(".concat(h,") translate(").concat(p*c,"px, ").concat(f*c,"px)")}a&&(a.innerHTML=`
        .`.concat(s," { scale: ").concat(c,` }
      `))},i.prototype.fitViewport=function(e){var t,n,r;e===void 0&&(e={});var a=this,s=a.em,c=a.module,d=a.model;this.clearOff();var p=this.getCanvasOffset(),f=e.el,h=f&&((t=(0,Ze.getComponentView)(f))===null||t===void 0?void 0:t.frameView),v=h?h.model:e.frame||s.getCurrentFrameModel()||d.frames.at(0),C=v.attributes,b=C.x,x=C.y,w={x:b??0,y:x??0,width:v.width,height:v.height};if(f){var P=this.getElBoxRect(f);w.x=w.x+P.x,w.y=w.y+P.y,w.width=P.width,w.height=P.height}var M=e.ignoreHeight,y=(n=e.gap)!==null&&n!==void 0?n:0,A=(0,X.isNumber)(y),k=A?y:y.x,N=A?y:y.y,V=w.width+k*2,j=w.height+N*2,R=p.width,H=p.height,I=R/V,G=H/j,K=M?I:Math.min(I,G),J=K*100,E=(r=(0,X.isFunction)(e.zoom)?e.zoom(J):e.zoom)!==null&&r!==void 0?r:J;c.setZoom(E,{from:"fitViewport"});var Z=-w.x+(v.width>=R?R/2-V/2:-k),te=-w.y+H/2-j/2,de=c.getZoomDecimal(),Fe={x:(Z+k)*de,y:(te+N)*de};if(M){var Ge=c.getZoomMultiplier(),we=H*Ge,ge=we-H,ne=ge/2;Fe.y=(-w.y+N)*de-ne/Ge}c.setCoords(Fe.x,Fe.y)},i.prototype.isElInViewport=function(e){var t=(0,Ze.getElement)(e),n=(0,Ct.C8)(t),r=this.getFrameOffset(t),a=n.top,s=n.left;return a>=0&&s>=0&&a<=r.height&&s<=r.width},i.prototype.offset=function(e,t){t===void 0&&(t={});var n=t.noScroll,r=(0,Ct.C8)(e),a=n?{x:0,y:0}:(0,Ct.Xy)(e);return{top:r.top+a.y,left:r.left+a.x,width:r.width,height:r.height}},i.prototype.getRectToScreen=function(e){var t,n,r,a,s=this.getCanvasScroll(),c=this.module.getZoomDecimal(),d=this.module.getCoords(),p=this.getViewportDelta(),f=((t=e.x)!==null&&t!==void 0?t:0)*c-s.scrollLeft+d.x+p.x||0,h=((n=e.y)!==null&&n!==void 0?n:0)*c-s.scrollTop+d.y+p.y||0;return{x:f,y:h,width:((r=e.width)!==null&&r!==void 0?r:0)*c,height:((a=e.height)!==null&&a!==void 0?a:0)*c}},i.prototype.getElBoxRect=function(e,t){var n,r,a;t===void 0&&(t={});var s=this.module,c=(0,Ct.C8)(e),d=c.width,p=c.height,f=c.left,h=c.top,v=(n=(0,Ze.getComponentView)(e))===null||n===void 0?void 0:n.frameView,C=v?.getBoxRect(),b=s.getZoomMultiplier(),x=(r=C?.x)!==null&&r!==void 0?r:0,w=(a=C?.y)!==null&&a!==void 0?a:0,P=this.el,M=(0,Ct.Xy)(),y=f+x+(P.scrollLeft+M.x)*b,A=h+w+(P.scrollTop+M.y)*b,k={x:y,y:A,width:d,height:p};return t.local&&(k.x=f,k.y=h),t.toScreen?this.getRectToScreen(k):k},i.prototype.getViewportRect=function(e){e===void 0&&(e={});var t=this.getCanvasOffset(),n=t.top,r=t.left,a=t.width,s=t.height,c=this.module;if(e.toWorld){var d=c.getZoomMultiplier(),p=c.getCoords(),f=this.getViewportDelta(),h=-p.x-f.x||0,v=-p.y-f.y||0;return{x:h*d,y:v*d,width:a*d,height:s*d}}else return{x:r,y:n,width:a,height:s}},i.prototype.getViewportDelta=function(e){e===void 0&&(e={});var t=this.module.getZoomMultiplier(),n=this.getCanvasOffset(),r=n.width,a=n.height,s=r*t,c=a*t,d=s-r,p=c-a;return{x:d/2/t,y:p/2/t}},i.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},i.prototype.getFrameOffset=function(e){var t;if(!this.frmOff||e){var n=(t=this.frame)===null||t===void 0?void 0:t.el,r=e?.ownerDocument.defaultView,a=r?r.frameElement:n;this.frmOff=this.offset(a||n)}return this.frmOff},i.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},i.prototype.getElementPos=function(e,t){t===void 0&&(t={});var n=this.module.getZoomDecimal(),r=this.getFrameOffset(e),a=this.el,s=this.getCanvasOffset(),c=this.offset(e,t),d=t.avoidFrameOffset?0:r.top,p=t.avoidFrameOffset?0:r.left,f=t.avoidFrameZoom?c.top:c.top*n,h=t.avoidFrameZoom?c.left:c.left*n,v=t.avoidFrameOffset?f:f+d-s.top+a.scrollTop,C=t.avoidFrameOffset?h:h+p-s.left+a.scrollLeft,b=t.avoidFrameZoom?c.height:c.height*n,x=t.avoidFrameZoom?c.width:c.width*n;return{top:v,left:C,height:b,width:x,zoom:n,rect:c}},i.prototype.getElementOffsets=function(e){if(!e||(0,Ct.ir)(e))return{};var t={},n=window.getComputedStyle(e),r=this.module.getZoomDecimal(),a=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return a.forEach(function(s){t[s]=parseFloat(n[s])*r}),t},i.prototype.getPosition=function(e){var t;e===void 0&&(e={});var n=(t=this.frame)===null||t===void 0?void 0:t.el.contentDocument;if(!n)return{top:0,left:0,width:0,height:0};var r=n.body,a=this.module.getZoomDecimal(),s=this.getFrameOffset(),c=this.getCanvasOffset(),d=e.noScroll;return{top:s.top+(d?0:r.scrollTop)*a-c.top,left:s.left+(d?0:r.scrollLeft)*a-c.left,width:c.width,height:c.height}},i.prototype.getCanvasScroll=function(){return this.config.scrollableCanvas?{scrollTop:this.el.scrollTop,scrollLeft:this.el.scrollLeft}:{scrollTop:0,scrollLeft:0}},i.prototype.updateScript=function(e){var t=e.model,n=t.getId(),r={component:t,view:e,el:e.el};if(!e.scriptContainer){e.scriptContainer=(0,Ct.a_)("div",{"data-id":n});var a=this.getJsContainer();a?.appendChild(e.scriptContainer)}e.el.id=n,e.scriptContainer.innerHTML="";var s=document.createElement("script"),c=t.getScriptString(),d=t.get("script-props")?c:`function(){
`.concat(c,`
;}`),p=JSON.stringify(t.__getScriptProps());s.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(n,`');
        if (!item) return;
        var script = (`).concat(d,`).bind(item);
        script(`).concat(p,`, { el: item });
      }, 1);`),setTimeout(function(){t.emitWithEditor(wn.I.scriptMountBefore,r);var f=e.scriptContainer;f?.appendChild(s),t.emitWithEditor(wn.I.scriptMount,r)},0)},i.prototype.getJsContainer=function(e){var t=this.getFrameView(e);return t?.getJsContainer()},i.prototype.getFrameView=function(e){return e?.frameView||this.em.getCurrentFrame()},i.prototype._renderFrames=function(){if(this.ready){var e=this,t=e.model,n=e.frames,r=e.em,a=e.framesArea,s=t.frames;s.listenToLoad(),n.render();var c=s.at(0),d=c?.view;r.setCurrentFrame(d),a?.appendChild(n.el),this.frame=d,this.updateFramesArea()}},i.prototype.renderFrames=function(){this._renderFrames()},i.prototype.render=function(){var e=this,t=e.el,n=e.$el,r=e.ppfx,a=e.config,s=e.em;n.html(this.template());var c=n.find("[data-frames]");this.framesArea=c.get(0);var d=n.find("[data-tools]");return this.toolsWrapper=d.get(0),d.append(`
      <div class="`.concat(r,"tools ").concat(r,`tools-gl" style="pointer-events:none">
        <div class="`).concat(r,`placeholder">
          <div class="`).concat(r,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(r,`tools" style="pointer-events:none">
        `).concat(a.extHl?'<div class="'.concat(r,'highlighter-sel"></div>'):"",`
        <div class="`).concat(r,`badge"></div>
        <div class="`).concat(r,`ghost"></div>
        <div class="`).concat(r,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(r,`resizer"></div>
        <div class="`).concat(r,`offset-v"></div>
        <div class="`).concat(r,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=t.querySelector("#".concat(r,"tools")),this.hlEl=t.querySelector(".".concat(r,"highlighter")),this.badgeEl=t.querySelector(".".concat(r,"badge")),this.placerEl=t.querySelector(".".concat(r,"placeholder")),this.ghostEl=t.querySelector(".".concat(r,"ghost")),this.toolbarEl=t.querySelector(".".concat(r,"toolbar")),this.resizerEl=t.querySelector(".".concat(r,"resizer")),this.offsetEl=t.querySelector(".".concat(r,"offset-v")),this.fixedOffsetEl=t.querySelector(".".concat(r,"offset-fixed-v")),this.toolsGlobEl=t.querySelector(".".concat(r,"tools-gl")),this.spotsEl=t.querySelector("[data-spots]"),this.cvStyle=t.querySelector("[data-canvas-style]"),t.className=(0,Ze.getUiClass)(s,this.className),a.scrollableCanvas===!0&&(t.style.overflow="auto"),this.ready=!0,this._renderFrames(),this},i}(Br),_M=vM,yM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ss=function(){return ss=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},ss.apply(this,arguments)},bM=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},CM=function(o){yM(i,o);function i(e){var t=o.call(this,e,"Canvas",kO())||this;return t.events=wm,t.framesById={},t.canvas=new jO(t),t.spots=new BO(t),t.model=t.canvas,t.startAutoscroll=t.startAutoscroll.bind(t),t.stopAutoscroll=t.stopAutoscroll.bind(t),t.autoScroller=new R_,t}return i.prototype.getCanvasView=function(){return this.canvasView},i.prototype.postLoad=function(){this.model.init()},i.prototype.getModel=function(){return this.canvas},i.prototype.getElement=function(){return this.getCanvasView().el},i.prototype.getFrame=function(e){return this.getFrames()[e||0]},i.prototype.getFrameEl=function(){var e=(this.canvasView||{}).frame;return e?.el},i.prototype.getFramesEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.framesArea},i.prototype.getWindow=function(){var e=(this.canvasView||{}).frame;return e?.getWindow()},i.prototype.getDocument=function(){var e=this.getFrameEl();return e?.contentDocument},i.prototype.getBody=function(){var e=this.getDocument();return e?.body},i.prototype._getLocalEl=function(e,t,n){var r=e,a=t?.frameView;return r=a?a[n]():r,r},i.prototype.getGlobalToolsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.toolsGlobEl},i.prototype.getToolsEl=function(e){return this._getLocalEl(this.getCanvasView().toolsEl,e,"getToolsEl")},i.prototype.getHighlighter=function(e){return this._getLocalEl(this.getCanvasView().hlEl,e,"getHighlighter")},i.prototype.getBadgeEl=function(e){return this._getLocalEl(this.getCanvasView().badgeEl,e,"getBadgeEl")},i.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},i.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},i.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},i.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},i.prototype.getOffsetViewerEl=function(e){return this._getLocalEl(this.getCanvasView().offsetEl,e,"getOffsetViewerEl")},i.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},i.prototype.getSpotsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.spotsEl},i.prototype.render=function(){var e;return(e=this.canvasView)===null||e===void 0||e.remove(),this.canvasView=new _M(this.canvas),this.canvasView.render().el},i.prototype.getOffset=function(){var e=this.offset(this.getFrameEl()),t=this.offset(this.getElement());return{top:e.top-t.top,left:e.left-t.left}},i.prototype.offset=function(e){return this.getCanvasView().offset(e)},i.prototype.setCustomBadgeLabel=function(e){this.config.customBadgeLabel=e},i.prototype.getElementPos=function(e,t){return this.getCanvasView().getElementPos(e,t)},i.prototype.getElementOffsets=function(e){return this.getCanvasView().getElementOffsets(e)},i.prototype.getRect=function(){var e,t=(e=this.getCanvasView().getPosition())!==null&&e!==void 0?e:{},n=t.top,r=n===void 0?0:n,a=t.left,s=a===void 0?0:a;return ss(ss({},this.getCanvasView().getCanvasOffset()),{topScroll:r,leftScroll:s})},i.prototype.getTargetToElementDim=function(e,t,n){n===void 0&&(n={});var r=n||{},a=this.getCanvasView().getPosition();if(a){var s=r.elPos||this.getCanvasView().getElementPos(t),c=n.toRight||0,d=r.targetHeight||e.offsetHeight,p=r.targetWidth||e.offsetWidth,f=r.event||null,h=s.top-d,v=s.left;v+=c?s.width:0,v=c?v-p:v;var C=v<a.left?a.left:v,b=h<a.top?a.top:h;b=b>s.top+s.height?s.top+s.height:b;var x={top:b,left:C,elementTop:s.top,elementLeft:s.left,elementWidth:s.width,elementHeight:s.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:a.top,canvasLeft:a.left,canvasWidth:a.width,canvasHeight:a.height};return f&&this.em&&this.em.trigger(f,x),x}},i.prototype.canvasRectOffset=function(e,t,n){var r=this;n===void 0&&(n={});var a=function(c){var d=c.defaultView;return d?.frameElement},s=function(c,d,p){d===void 0&&(d=1);var f=r.em.getZoomDecimal(),h=d?"top":"left",v=c.ownerDocument,C=n.offset?a(v):{},b=C.offsetTop,x=b===void 0?0:b,w=C.offsetLeft,P=w===void 0?0:w,M=v.body||{},y=M.scrollTop,A=y===void 0?0:y,k=M.scrollLeft,N=k===void 0?0:k,V=d?A:N,j=d?x:P;return p[h]-(V-j)*f};return{top:s(e,1,t),left:s(e,0,t)}},i.prototype.getTargetToElementFixed=function(e,t,n){n===void 0&&(n={});var r=n.pos||this.getElementPos(e,{noScroll:!0}),a=n.canvasOff||this.canvasRectOffset(e,r),s=t.offsetHeight||0,c=t.offsetWidth||0,d=this.getCanvasView(),p=d.getCanvasScroll(),f=p.scrollTop,h=p.scrollLeft,v=d.getPosition(),C=n.event,b=r.width-c,x=-s,w=(0,X.isUndefined)(n.left)?b:n.left,P=Math.max(-r.left+h,0);w=Math.max(w,P);var M=r.width-c;w=Math.min(w,M);var y=v.width+h-c-r.left;w=Math.min(w,y);var A=a.top<s+f,k=x;if(A){var N=r.height+s,V=N<v.height;if(V)k=k+N;else{var j=-a.top+f;k=j<r.height?j:r.height}}var R={top:k,left:w,canvasOffsetTop:a.top,canvasOffsetLeft:a.left,elRect:r,canvasOffset:a,canvasRect:v,targetWidth:c,targetHeight:s};return C&&this.em.trigger(C,R),R},i.prototype.getMouseRelativePos=function(e,t){t===void 0&&(t={});var n=t.subWinOffset,r=e.target,a=r.nodeType===Node.DOCUMENT_NODE?r:r.ownerDocument,s=a.defaultView||a.parentWindow,c=s.frameElement,d=n?s.pageYOffset:0,p=n?s.pageXOffset:0,f=this.getZoomMultiplier(),h=0,v=0;if(c){var C=c.getBoundingClientRect();h=C.top||0,v=C.left||0}return{y:(e.clientY+h-d)*f,x:(e.clientX+v-p)*f}},i.prototype.getMouseRelativeCanvas=function(e,t){var n,r=this.getZoomDecimal(),a=this.getCanvasView(),s=(n=a.getPosition(t))!==null&&n!==void 0?n:{top:0,left:0},c=a.getCanvasScroll(),d={top:s.top+c.scrollTop,left:s.left+c.scrollLeft},p=d.top,f=d.left;return{y:e.clientY*r+p,x:e.clientX*r+f}},i.prototype.startDrag=function(e){this.em.set("dragSource",e)},i.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},i.prototype.hasFocus=function(){return this.getDocument().hasFocus()},i.prototype.isInputFocused=function(){var e=this.getDocument(),t=this.getFrameEl(),n=bM(["body"],this.config.notTextable,!0),r=t&&document.activeElement===t,a=r?e&&e.activeElement:document.activeElement;return a&&!n.some(function(s){return a.matches(s)})},i.prototype.scrollTo=function(e,t){t===void 0&&(t={});var n=(0,Ze.getElement)(e),r=n&&(0,Ze.getViewEl)(n);r&&r.scrollIntoView(t)},i.prototype.startAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();if(t&&t.startAutoscroll(),this.config.scrollableCanvas){var n=this.getCanvasView().el;this.autoScroller.start(n,n,{zoom:this.em.getZoomDecimal(),ignoredElement:this.getSpotsEl()})}},i.prototype.stopAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.stopAutoscroll(),this.config.scrollableCanvas&&this.autoScroller.stop()},i.prototype.setZoom=function(e,t){return t===void 0&&(t={}),this.canvas.set("zoom",typeof e=="string"?parseFloat(e):e,t),this},i.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},i.prototype.setCoords=function(e,t,n){var r;n===void 0&&(n={});var a=e||e===0,s=t||t===0,c={x:this.canvas.get("x"),y:this.canvas.get("y")};if(a&&(c.x=parseFloat("".concat(e))),s&&(c.y=parseFloat("".concat(t))),n.toWorld){var d=(r=this.canvasView)===null||r===void 0?void 0:r.getViewportDelta();d&&(a&&(c.x=c.x-d.x),s&&(c.y=c.y-d.y))}return this.canvas.set(c),this},i.prototype.getCoords=function(){var e=this.canvas.attributes,t=e.x,n=e.y;return{x:t,y:n}},i.prototype.getPointer=function(e){var t=this.canvas.attributes,n=t.pointer,r=t.pointerScreen;return e?r:n},i.prototype.getZoomDecimal=function(){return this.getZoom()/100},i.prototype.getZoomMultiplier=function(){var e=this.getZoomDecimal();return e?1/e:1},i.prototype.fitViewport=function(e){var t;(t=this.canvasView)===null||t===void 0||t.fitViewport(e)},i.prototype.toggleFramesEvents=function(e){var t=this.getFramesEl().style;t.pointerEvents=e?"":"none"},i.prototype.getFrames=function(){return this.canvas.frames.map(function(e){return e})},i.prototype.addFrame=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),this.canvas.frames.add(new __(this,ss({},e)),t)},i.prototype.getLastDragResult=function(){return this.em.get("dragResult")},i.prototype.addSpot=function(e,t){var n;t===void 0&&(t={});var r=e,a=this.getSpots(r);if(a.length){var s=a[0];return s.set(r),s}var c=r.componentView||((n=r.component)===null||n===void 0?void 0:n.view),d=new Hr.A(this,ss(ss({},r),{id:r.id||"cs_".concat(r.type,"_").concat(c?.cid),type:r.type||""}));return this.spots.add(d,t),d},i.prototype.getSpots=function(e){return e===void 0&&(e={}),this.spots.where(e.id?{id:e.id}:e)},i.prototype.removeSpots=function(e){e===void 0&&(e={});var t=(0,X.isArray)(e)?e:this.getSpots(e),n=this.spots.remove(t);return n},i.prototype.hasCustomSpot=function(e){var t=this.config.customSpots;return!!(t===!0||t&&e&&t[e])},i.prototype.getWorldRectToScreen=function(e){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.getRectToScreen(e)},i.prototype.refresh=function(e){e===void 0&&(e={});var t=this,n=t.em,r=t.events,a=t.canvasView;a?.clearOff(),(e.spots||e.all)&&(this.refreshSpots(),n.trigger("canvas:updateTools")),n.set("canvasOffset",this.getOffset()),n.trigger(r.refresh,e)},i.prototype.refreshSpots=function(){this.spots.refresh()},i.prototype.destroy=function(){var e=this,t;this.canvas.stopListening(),(t=this.canvasView)===null||t===void 0||t.remove(),["model","droppable"].forEach(function(n){return e[n]={}})},i}(mr),xM=CM,wM=function(){return{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}},OM=wM,PM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wu=function(){return Wu=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Wu.apply(this,arguments)},MM=function(o){PM(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Wu(Wu({},o.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),i.prototype.toHTML=function(){var e=this.content,t=this.parent();return t?.is("script")?e:this.__escapeContent(e)},i.prototype.__escapeContent=function(e){return(0,Ze.escapeNodeContent)(e)},i.isComponent=function(e){var t;if(e.nodeType===3)return{type:"textnode",content:(t=e.textContent)!==null&&t!==void 0?t:""}},i}($n),j_=MM,TM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),em=function(){return em=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},em.apply(this,arguments)},SM=function(o){TM(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return em({},o.prototype.defaults)},enumerable:!1,configurable:!0}),i.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},i.isComponent=function(e){var t;if(e.nodeType==8)return{type:"comment",content:(t=e.textContent)!==null&&t!==void 0?t:""}},i}(j_),EM=SM,kM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ku=function(){return Ku=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Ku.apply(this,arguments)},ph="iframe",AM=function(o){kM(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Ku(Ku({},o.prototype.defaults),{type:ph,tagName:ph,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===ph},i}($n),IM=AM,LM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qu=function(){return qu=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},qu.apply(this,arguments)},iv='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',NM=function(o){LM(i,o);function i(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this,r=n.get("attributes").src;return r&&(0,Ze.buildBase64UrlFromSvg)((0,X.result)(n,"defaults").src)!==r&&n.set("src",r,{silent:!0}),n}return Object.defineProperty(i.prototype,"defaults",{get:function(){return qu(qu({},o.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(iv,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(iv,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),i.prototype.initToolbar=function(){o.prototype.initToolbar.call(this);var e=this.em;if(e){var t=e.Commands,n="image-editor";if(t.has(n)){for(var r=!1,a=this.get("toolbar"),s=0;s<a.length;s++)if(a[s].command==="image-editor"){r=!0;break}r||(a.push({attributes:{class:"fa fa-pencil"},command:n}),this.set("toolbar",a))}}},i.prototype.getAttrToHTML=function(){var e=o.prototype.getAttrToHTML.call(this),t=this.getSrcResult();return t&&(e.src=t),e},i.prototype.getSrcResult=function(e){e===void 0&&(e={});var t=this.get(e.fallback?"fallback":"src")||"",n=t;return t&&t.substr(0,4)==="<svg"&&(n=(0,Ze.buildBase64UrlFromSvg)(t)),n},i.prototype.isDefaultSrc=function(){var e=this.get("src"),t=(0,X.result)(this,"defaults").src;return e===t||e===(0,Ze.buildBase64UrlFromSvg)(t)},i.prototype.toJSON=function(e){var t=o.prototype.toJSON.call(this,e),n=t.attributes;return n&&t.src===n.src&&delete t.src,t},i.prototype.parseUri=function(e){var t={},n=function(r){r===void 0&&(r="");for(var a={},s=r.substring(1).split("&"),c=0;c<s.length;c++){var d=s[c].split("="),p=decodeURIComponent(d[0]);p&&(a[p]=decodeURIComponent(d[1]||""))}return a};if((0,Ze.hasWin)())t=document.createElement("a"),t.href=e;else if(typeof URL<"u")try{t=new URL(e)}catch{}return{hostname:t.hostname||"",pathname:t.pathname||"",protocol:t.protocol||"",search:t.search||"",hash:t.hash||"",port:t.port||"",query:n(t.search)}},i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)==="img"},i}($n),km=NM,DM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$u=function(){return $u=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},$u.apply(this,arguments)},RM=function(o){DM(i,o);function i(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this;return n.__checkInnerChilds(),n}return Object.defineProperty(i.prototype,"defaults",{get:function(){return $u($u({},o.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),i.prototype.__checkInnerChilds=function(){var e=this.em.Components.config.disableTextInnerChilds;if(e){var t=function(n){n.isInstanceOf("textnode")||n.set({locked:!0,layerable:!1})};(0,X.isFunction)(e)?this.forEachChild(function(n){e(n)&&t(n)}):this.forEachChild(t)}},i}($n),Am=RM,FM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yu=function(){return Yu=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Yu.apply(this,arguments)},fh="label",VM=function(o){FM(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Yu(Yu({},o.prototype.defaults),{type:fh,tagName:fh,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===fh},i}(Am),jM=VM,HM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qu=function(){return Qu=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Qu.apply(this,arguments)},rv="link",zM=function(o){HM(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Qu(Qu({},o.prototype.defaults),{type:rv,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),i.isComponent=function(e,t){t===void 0&&(t={});var n;if((0,Ze.toLowerCase)(e.tagName)==="a"){var r=t.textTags||[];n={type:rv,editable:!1};var a=e.childNodes,s=a.length;s||delete n.editable,(0,X.forEach)(a,function(c){var d=c.tagName;(c.nodeType==3&&c.textContent.trim()!==""||d&&r.indexOf((0,Ze.toLowerCase)(d))>=0)&&delete n.editable})}return n},i}(Am),BM=zM,UM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xu=function(){return Xu=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Xu.apply(this,arguments)},GM=function(o){UM(i,o);function i(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this;return n.get("src")?n.parseFromSrc():n.updateSrc(),n.listenTo(n,"change:address change:zoom change:mapType",n.updateSrc),n}return Object.defineProperty(i.prototype,"defaults",{get:function(){var e=o.prototype.defaults;return Xu(Xu({},e),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:e.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),i.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},i.prototype.getMapUrl=function(){var e=this.get("address"),t=this.get("zoom"),n=this.get("mapType");e=e?"&q="+e:"",t=t?"&z="+t:"",n=n?"&t="+n:"";var r=this.get("mapUrl")+"?"+e+t+n;return r+="&output=embed",r},i.prototype.parseFromSrc=function(){var e=this.parseUri(this.get("src")),t=e.query;t.q&&this.set("address",t.q),t.z&&this.set("zoom",t.z),t.t&&this.set("mapType",t.t)},i.isComponent=function(e){if((0,Ze.toLowerCase)(e.tagName)=="iframe"&&/maps\.google\.com/.test(e.src))return{type:"map",src:e.src}},i}(km),WM=GM,KM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Zu=function(){return Zu=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Zu.apply(this,arguments)},hh="script",qM=function(o){KM(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Zu(Zu({},o.prototype.defaults),{type:hh,tagName:hh,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===hh},i}($n),$M=qM,YM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ju=function(){return Ju=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Ju.apply(this,arguments)},mh="svg",QM=function(o){YM(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Ju(Ju({},o.prototype.defaults),{type:mh,tagName:mh,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),i.prototype.getName=function(){var e=this.get("tagName"),t=this.get("custom-name");return e=e.charAt(0).toUpperCase()+e.slice(1),t||e},i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===mh},i}($n),H_=QM,XM=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ep=function(){return ep=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},ep.apply(this,arguments)},ZM=function(o){XM(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return ep(ep({},o.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),i.isComponent=function(e,t){return t===void 0&&(t={}),!!t.inSvg},i}(H_),JM=ZM,e9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tp=function(){return tp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},tp.apply(this,arguments)},gh="table",t9=function(o){e9(i,o);function i(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this,r=n.get("components");return!r.length&&r.add({type:"tbody"}),n}return Object.defineProperty(i.prototype,"defaults",{get:function(){return tp(tp({},o.prototype.defaults),{type:gh,tagName:gh,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===gh},i}($n),n9=t9,i9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),np=function(){return np=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},np.apply(this,arguments)},vh="tbody",r9=function(o){i9(i,o);function i(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this,r=n.get("components"),a=n.get("columns"),s=n.get("rows");if(!r.length){for(var c=[];s--;){for(var d=[],p=a;p--;)d.push({type:"cell",classes:["cell"]});c.push({type:"row",classes:["row"],components:d})}r.add(c)}return n}return Object.defineProperty(i.prototype,"defaults",{get:function(){return np(np({},o.prototype.defaults),{type:vh,tagName:vh,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===vh},i}($n),Im=r9,o9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ip=function(){return ip=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},ip.apply(this,arguments)},a9=function(o){o9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return ip(ip({},o.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return["td","th"].indexOf((0,Ze.toLowerCase)(e.tagName))>=0},i}($n),s9=a9,l9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rp=function(){return rp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},rp.apply(this,arguments)},_h="tfoot",c9=function(o){l9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return rp(rp({},o.prototype.defaults),{type:_h,tagName:_h})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===_h},i}(Im),d9=c9,u9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),op=function(){return op=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},op.apply(this,arguments)},yh="thead",p9=function(o){u9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return op(op({},o.prototype.defaults),{type:yh,tagName:yh})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===yh},i}(Im),f9=p9,h9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ap=function(){return ap=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},ap.apply(this,arguments)},ov="tr",m9=function(o){h9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return ap(ap({},o.prototype.defaults),{tagName:ov,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===ov},i}($n),g9=m9,v9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sp=function(){return sp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},sp.apply(this,arguments)},bh="video",rl="yt",ol="vi",al="ytnc",av="so",Ch=function(o){return o&&o!=="0"},_9=function(o){v9(i,o);function i(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this;return n.get("src")&&n.parseFromSrc(),n.updatePropsFromAttr(),n.updateTraits(),n.on("change:provider",n.updateTraits),n.on("change:videoId change:provider",n.updateSrc),n}return Object.defineProperty(i.prototype,"defaults",{get:function(){return sp(sp({},o.prototype.defaults),{type:bh,tagName:bh,videoId:"",void:!1,provider:av,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:!1,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),i.prototype.updatePropsFromAttr=function(){if(this.get("provider")===av){var e=this.get("attributes"),t=e.controls,n=e.autoplay,r=e.loop,a=e.muted,s={};(0,Ze.isDef)(t)&&(s.controls=!!t),(0,Ze.isDef)(n)&&(s.autoplay=!!n),(0,Ze.isDef)(r)&&(s.loop=!!r),(0,Ze.isDef)(a)&&(s.muted=!!a),(0,Ze.isEmptyObj)(s)||this.set(s)}},i.prototype.updateTraits=function(){var e=this.em,t=this.get("provider"),n="iframe",r;switch(t){case rl:case al:r=this.getYoutubeTraits();break;case ol:r=this.getVimeoTraits();break;default:n="video",r=this.getSourceTraits()}this.set({tagName:n},{silent:!0}),this.set({traits:r}),e.get("ready")&&e.trigger("component:toggled")},i.prototype.parseFromSrc=function(){var e=this.get("provider"),t=this.parseUri(this.get("src")),n=t.query;switch(e){case rl:case al:case ol:this.set("videoId",t.pathname.split("/").pop()),n.list&&this.set("list",n.list),Ch(n.autoplay)&&this.set("autoplay",!0),Ch(n.loop)&&this.set("loop",!0),parseInt(n.controls)===0&&this.set("controls",!1),Ch(n.color)&&this.set("color",n.color),n.rel==="0"&&this.set("rel",0),n.modestbranding==="1"&&this.set("modestbranding",1),n.muted==="1"&&this.set("muted",!0);break;default:}},i.prototype.updateSrc=function(){var e=this.get("provider"),t="";switch(e){case rl:t=this.getYoutubeSrc();break;case al:t=this.getYoutubeNoCookieSrc();break;case ol:t=this.getVimeoSrc();break}this.set({src:t})},i.prototype.getAttrToHTML=function(){var e=o.prototype.getAttrToHTML.call(this),t=this.get("provider");switch(t){case rl:case al:case ol:break;default:e.loop=!!this.get("loop"),e.autoplay=!!this.get("autoplay"),e.controls=!!this.get("controls"),e.muted=!!this.get("muted")}return e},i.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:rl,name:"Youtube"},{value:al,name:"Youtube (no cookie)"},{value:ol,name:"Vimeo"}]}},i.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),this.getMutedTrait()]},i.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0},this.getMutedTrait()]},i.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getMutedTrait()]},i.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},i.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},i.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},i.prototype.getMutedTrait=function(){return{type:"checkbox",label:"Muted",name:"muted",changeProp:!0}},i.prototype.getYoutubeSrc=function(){var e=this.get("videoId"),t=this.get("ytUrl"),n=this.get("list");return t+=e+(e.indexOf("?")<0?"?":""),t+=n?"&list=".concat(n):"",t+=this.get("autoplay")?"&autoplay=1":"",t+=this.get("muted")?"&mute=1":"",t+=this.get("controls")?"":"&controls=0&showinfo=0",t+=this.get("loop")?"&loop=1&playlist=".concat(e):"",t+=this.get("rel")?"":"&rel=0",t+=this.get("modestbranding")?"&modestbranding=1":"",t},i.prototype.getYoutubeNoCookieSrc=function(){var e=this.getYoutubeSrc();return e=e.replace(this.get("ytUrl"),this.get("ytncUrl")),e},i.prototype.getVimeoSrc=function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1":"",e+=this.get("muted")?"&muted=1":"",e+=this.get("loop")?"&loop=1":"",e+=this.get("controls")?"":"&title=0&portrait=0&badge=0",e+=this.get("color")?"&color="+this.get("color"):"",e},i.isComponent=function(e){var t=e.tagName,n=e.src,r=/youtube\.com\/embed/.test(n),a=/youtube-nocookie\.com\/embed/.test(n),s=/player\.vimeo\.com\/video/.test(n),c=r||a||s;if((0,Ze.toLowerCase)(t)==bh||(0,Ze.toLowerCase)(t)=="iframe"&&c){var d={type:"video"};return n&&(d.src=n),c&&(r?d.provider=rl:a?d.provider=al:s&&(d.provider=ol)),d}},i}(km),y9=_9,b9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fl=function(){return fl=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},fl.apply(this,arguments)},C9=function(o){b9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return fl(fl({},o.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),i.prototype.preInit=function(){var e,t,n=this,r=n.opt,a=n.attributes,s=(e=this.em)===null||e===void 0?void 0:e.Components,c=(t=s?.getType(Pl))===null||t===void 0?void 0:t.model,d=s?.getType("default").model;if(c){var p=a.head,f=a.docEl;this.set({head:p&&p instanceof $n?p:new c(fl({},p),r),docEl:f&&f instanceof $n?f:new d(fl({tagName:"html"},f),r)},{silent:!0})}},Object.defineProperty(i.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),i.prototype.clone=function(e){var t=o.prototype.clone.call(this,e);return t.set("head",this.get("head").clone(e)),t.set("docEl",this.get("docEl").clone(e)),t},i.prototype.toHTML=function(e){e===void 0&&(e={});var t=this.doctype,n=(0,X.isUndefined)(e.asDocument)?!!t:e.asDocument,r=this,a=r.head,s=r.docEl,c=o.prototype.toHTML.call(this,e),d=n&&a?.toHTML(e)||"",p=n&&(0,Ct.kk)(s?.getAttrToHTML())||"",f=p?" ".concat(p):"";return n?"".concat(t,"<html").concat(f,">").concat(d).concat(c,"</html>"):c},i.prototype.__postAdd=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return!this.__hasUm&&t?.add(this),o.prototype.__postAdd.call(this)},i.prototype.__postRemove=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return t?.remove(this),o.prototype.__postRemove.call(this)},i.isComponent=function(){return!1},i}($n),x9=C9,w9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),O9=function(o){w9(i,o);function i(){var e=o!==null&&o.apply(this,arguments)||this;return e.compView=Fn,e}return i.prototype.initialize=function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.resetChildren),this.listenTo(t,"remove",this.removeChildren)},i.prototype.removeChildren=function(e,t,n){var r=this;n===void 0&&(n={}),e.views.forEach(function(s){if(s){var c=s.childrenView,d=s.scriptContainer;c&&c.stopListening(),(0,Ct.YZ)(d),s.remove.apply(s)}});var a=e.components();a.forEach(function(s){return r.removeChildren(s,t,n)})},i.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},i.prototype.addToCollection=function(e,t,n){for(var r=this,a=r.config,s=r.opts,c=r.em,d=a.frameView,p=d?.model&&e.getView(d.model),f=s.componentTypes||c?.Components.getTypes(),h=e.get("type")||"default",v=this.compView,C=0;C<f.length;C++)if(f[C].id==h){v=f[C].view;break}var b=p||new v({model:e,config:a,componentTypes:f}),x;try{x=b.render().el}catch(y){x=document.createTextNode(""),c.logError(y)}if(t)t.appendChild(x);else{var w=this.parentEl,P=w.childNodes;if((0,X.isUndefined)(n))w.appendChild(x);else{var M=P.length==n;M&&n--,M||!P.length?w.appendChild(x):w.insertBefore(x,P[n])}}return e.opt.temporary||c?.trigger(wn.I.mount,e),x},i.prototype.resetChildren=function(e,t){var n=this;t===void 0&&(t={});var r=t.previousModels;t.skipDomReset||(this.parentEl.innerHTML=""),r?.forEach(function(a){return n.removeChildren(a,n.collection)}),e.each(function(a){return n.addToCollection(a)})},i.prototype.render=function(e){var t=this,n=this.el,r=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(a){return t.addToCollection(a,r)}),n.innerHTML="",n.appendChild(r),this},i}(gt.Ss),z_=O9,P9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Co=function(){return Co=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Co.apply(this,arguments)},M9=function(o){P9(i,o);function i(){var e=o!==null&&o.apply(this,arguments)||this;return e.rendered=!1,e}return i.prototype.className=function(){return this.getClasses()},i.prototype.tagName=function(){return this.model.get("tagName")},i.prototype.preinitialize=function(e){e===void 0&&(e={}),this.opts=e},i.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,n=e.config||{},r=n.em,a=t.opt||{},s=this,c=s.$el,d=s.el;this.opts=e,this.modelOpt=a,this.config=n,this.em=r,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.attr=t.get("attributes"),this.classe=this.attr.class||[],this.listenTo(t,"change:style",this.updateStyle),this.listenTo(t,"change:attributes",this.renderAttributes),this.listenTo(t,"change:highlightable",this.updateHighlight),this.listenTo(t,"change:status change:locked",this.updateStatus),this.listenTo(t,"change:script rerender",this.reset),this.listenTo(t,"change:content",this.updateContent),this.listenTo(t,"change",this.handleChange),this.listenTo(t,"active",this.onActive),this.listenTo(t,"disable",this.onDisable),c.data("model",t),(0,Ze.setViewEl)(d,this),t.view=this,this.frameView&&t.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=Co(Co({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!a.temporary&&this.init(this._clbObj())},Object.defineProperty(i.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"createDoc",{get:function(){var e,t,n=((e=this.frameView)===null||e===void 0?void 0:e.getDoc())||document;return!((t=this.opts.config)===null||t===void 0)&&t.useFrameDoc?n:document},enumerable:!1,configurable:!0}),i.prototype.__isDraggable=function(){var e=this,t=e.model,n=e.config,r=t.attributes.draggable;return n.draggableComponents&&r},i.prototype._clbObj=function(){var e=this,t=e.em,n=e.model,r=e.el;return{editor:t?.getEditor(),model:n,el:r}},i.prototype.init=function(e){},i.prototype.removed=function(e){},i.prototype.onRender=function(e){},i.prototype.onActive=function(e){},i.prototype.onDisable=function(e){},i.prototype.remove=function(){var e;o.prototype.remove.call(this);var t=this,n=t.model,r=t.$el,a=n.views,s=this.frameView||{};return n.components().forEach(function(c){var d=c.getView(s.model);d?.remove()}),(e=this.childrenView)===null||e===void 0||e.remove(),a.splice(a.indexOf(this),1),this.removed(this._clbObj()),r.data({model:"",collection:"",view:""}),this},i.prototype.handleDragStart=function(e){if(!this.__isDraggable())return!1;e.stopPropagation(),e.preventDefault();var t=this.em.getSelectedAll(),n=t.includes(this.model)?t:[this.model];this.em.Commands.run("tlb-move",{target:n,event:e})},i.prototype.initClasses=function(){var e=this.model,t=e.classes,n="change:classes";t instanceof La&&(this.stopListening(e,n,this.initClasses),this.listenTo(e,n,this.initClasses),this.listenTo(t,"add remove change reset",this.updateClasses),t.length&&this.importClasses())},i.prototype.initComponents=function(e){e===void 0&&(e={});var t=this,n=t.model,r=t.$el,a=t.childrenView,s="change:components",c=n.get("components"),d=[n,s,this.initComponents];c instanceof qc&&(r.data("collection",c),a&&a.remove(),this.stopListening.apply(this,d),!e.avoidRender&&this.renderChildren(),this.listenTo.apply(this,d))},i.prototype.handleChange=function(){var e=this.model,t=(0,X.keys)(e.changed);if(!(t.length===1&&t[0]==="status")){e.emitUpdate();for(var n in e.changed)e.emitUpdate(n)}},i.prototype.importClasses=function(){var e=this,t=e.em,n=e.model,r=t.Selectors;r&&n.classes.forEach(function(a){return r.add(a.getName())})},i.prototype.updateStatus=function(e){e===void 0&&(e={});var t=this,n=t.em,r=t.el,a=t.ppfx,s=t.model,c=n?.Canvas,d=c?.config.extHl,p=s.get("status"),f="".concat(a,"selected"),h="".concat(f,"-parent"),v="".concat(a,"freezed"),C="".concat(a,"hovered"),b="".concat(a,"no-pointer"),x="".concat(a,"pointer-init"),w=[f,h,v,C,b,x],P=d&&!e.noExtHl?"":f;this.$el.removeClass(w.join(" "));var M=r.getAttribute("class")||"",y=[M],A=!c?.hasCustomSpot(Hr.F.Select),k=!c?.hasCustomSpot(Hr.F.Target);switch(p){case"selected":A&&y.push(P);break;case"selected-parent":k&&y.push(h);break;case"freezed":y.push(v);break;case"freezed-selected":y.push(v),A&&y.push(P);break;case"hovered":!e.avoidHover&&y.push(C);break}(0,X.isBoolean)(s.locked)&&y.push(s.locked?b:x);var N=y.filter(Boolean).join(" ");N&&r.setAttribute("class",N)},i.prototype.updateHighlight=function(){var e=this.model,t=e.get("textable"),n=e.get("highlightable")&&(t||!e.isChildOf("text"));this.setAttribute("data-gjs-highlightable",n?!0:"")},i.prototype.updateStyle=function(e,t,n){n===void 0&&(n={});var r=this,a=r.model,s=r.em;if(as(s)&&!n.inline){var c=this.__cmpStyleOpts,d=a.getStyle(Co({inline:!0},c));!(0,X.isEmpty)(d)&&a.setStyle(d,c)}else this.setAttribute("style",a.styleToString(n))},i.prototype.updateStyles=function(){this.updateStyle()},i.prototype.updateClasses=function(){var e,t,n=((t=(e=this.model.classes).pluck)===null||t===void 0?void 0:t.call(e,"name").join(" "))||"";this.setAttribute("class",n),this.updateStatus(),this.onAttrUpdate()},i.prototype.setAttribute=function(e,t){var n=this.$el;t?n.attr(e,t):n.removeAttr(e)},i.prototype.getClasses=function(){return this.model.getClasses().join(" ")},i.prototype.updateAttributes=function(){var e=[],t=this,n=t.model,r=t.$el,a=t.el,s=n.attributes,c=s.textable,d=s.type,p=Co(Co({id:n.getId(),"data-gjs-type":d||"default"},this.__isDraggable()&&{draggable:!0}),c&&{contenteditable:"false"});this.__clearAttributes(),this.updateStyle(),this.updateHighlight();var f=Co(Co({},p),n.getAttributes());(0,X.keys)(f).forEach(function(h){return f[h]===!1&&delete f[h]}),r.attr(f)},i.prototype.__clearAttributes=function(){var e=this,t=e.el,n=e.$el,r=[];(0,X.each)(t.attributes,function(a){return r.push(a.nodeName)}),r.forEach(function(a){return n.removeAttr(a)})},i.prototype.updateContent=function(){var e=this.model.content,t=this.model.components().length;this.getChildrenContainer().innerHTML=t?"":e},i.prototype.prevDef=function(e){e.preventDefault()},i.prototype.updateScript=function(){var e=this,t=e.model,n=e.em;t.get("script")&&n?.Canvas.getCanvasView().updateScript(this)},i.prototype.getChildrenContainer=function(){var e=this.el;return typeof this.getChildrenSelector=="function"?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},i.prototype.getOffsetRect=function(){var e={top:0,left:0,bottom:0,right:0},t=this.el,n=0,r=0,a=function(s){var c=s.offsetParent;c?(n+=c.offsetTop,r+=c.offsetLeft,a(c)):(e.top=t.offsetTop+n,e.left=t.offsetLeft+r,e.bottom=e.top+t.offsetHeight,e.right=e.left+t.offsetWidth)};return a(t),e},i.prototype.isInViewport=function(){var e=this,t=e.el,n=e.em,r=e.frameView,a=n.Canvas.getCanvasView(),s=a.getElBoxRect(t,{local:!0}),c=r.el,d=c.clientHeight,p=c.clientWidth,f=s.y,h=s.x,v=f+s.height,C=h+s.width,b=f>=0&&f<d,x=v>0&&v<d,w=C>=0&&C<p,P=h>0&&h<=p,M=(b||x)&&(w||P);return M},i.prototype.scrollIntoView=function(e){var t;e===void 0&&(e={});var n=this.isInViewport();if(!n||e.force){var r=this.el;if(e.behavior!=="smooth"){var a=this.getOffsetRect();(t=r.ownerDocument.defaultView)===null||t===void 0||t.scrollTo(0,a.top)}else r.scrollIntoView(Co({behavior:"smooth",block:"nearest"},e))}},i.prototype.reset=function(){var e=this,t=e.el,n=e.model;e.scriptContainer&&n.emitWithEditor(wn.I.scriptUnmount,{component:n,view:e,el:t}),this.el="",this._ensureElement(),this._setData(),(0,Ct.bG)(t,this.el),this.render()},i.prototype._setData=function(){var e=this,t=e.model,n=e.el,r=t.components(),a=this;this.$el.data({model:t,collection:r,view:a}),(0,Ze.setViewEl)(n,this)},i.prototype._createElement=function(e){return this.createDoc.createElement(e)},i.prototype.renderChildren=function(){this.updateContent();var e=this.getChildrenContainer(),t=this.childrenView||new z_({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});t.render(e),this.childrenView=t;for(var n=Array.prototype.slice.call(t.el.childNodes),r=0,a=n.length;r<a;r++)e.appendChild(n.shift())},i.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},i.prototype.onAttrUpdate=function(){},i.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,Ze.setViewEl)(this.el,this),this.postRender(),this)},i.prototype.postRender=function(){if(!this.modelOpt.temporary){var e=this,t=e.model,n=e.el;this.onRender(this._clbObj()),t.emitWithEditor(wn.I.render,{component:t,view:this,el:n}),this.rendered=!0}},i.getEvents=function(){return(0,X.result)(this.prototype,"events")},i}(gt.Ss),Fn=M9,T9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),S9=function(o){T9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype._setAttributes=function(){},i.prototype.renderAttributes=function(){},i.prototype.updateStatus=function(){},i.prototype.updateClasses=function(){},i.prototype.setAttribute=function(){},i.prototype.updateAttributes=function(){},i.prototype.initClasses=function(){},i.prototype.initComponents=function(){},i.prototype.delegateEvents=function(){return this},i.prototype._createElement=function(){return document.createTextNode("")},i.prototype.render=function(){var e=this,t=e.model,n=e.el;return t.opt.temporary?this:(n.textContent=t.content,this)},i}(Fn),B_=S9,E9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),k9=function(o){E9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype._createElement=function(){return document.createComment(this.model.content)},i}(B_),A9=k9,I9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),L9=function(o){I9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.tagName=function(){return"div"},i.prototype.initialize=function(e){o.prototype.initialize.call(this,e),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},i.prototype.updateSrc=function(){var e=(0,Ct.I6)(this.el,"iframe")[0];e&&(0,Ct.X6)(e,{src:this.__getSrc()})},i.prototype.render=function(){o.prototype.render.call(this);var e=(0,Ct.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(e),this},i.prototype.__getSrc=function(){return this.model.getAttributes().src||""},i}(Fn),N9=L9,D9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),R9=function(o){D9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.tagName=function(){return"img"},i.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},i.prototype.initialize=function(e){o.prototype.initialize.call(this,e),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},i.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var e=this,t=e.model,n=e.em,r=t.get("file");if(r&&n){var a=n.Assets.FileUploader();a?.uploadFile({dataTransfer:{files:[r]}},function(s){var c=s&&s.data&&s.data[0],d=c&&((0,X.isString)(c)?c:c.src);d&&t.set({src:d})},{componentView:this,file:r}),t.set("file","")}}},i.prototype.updateSrc=function(){var e=this.model;e.addAttributes({src:e.getSrcResult()}),this.updateClasses()},i.prototype.updateClasses=function(){o.prototype.updateClasses.call(this);var e=this,t=e.el,n=e.classEmpty,r=e.model,a=r.getSrcResult()&&!r.isDefaultSrc(),s=a?"remove":"add";t.classList[s](n)},i.prototype.onActive=function(e){e?.stopPropagation();var t=this,n=t.em,r=t.model,a=n?.Assets;a&&r.get("editable")&&a.open({select:function(s,c){r.set({src:s.getSrc()}),c&&a.close()},target:r,types:["image"],accept:"image/*"})},i.prototype.onError=function(){var e=this,t=e.model,n=e.el,r=t.getSrcResult({fallback:!0});r&&(n.srcset&&(n.srcset=""),n.src=r)},i.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},i.prototype.noDrag=function(e){return e.preventDefault(),!1},i.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var e=this,t=e.$el,n=e.model,r=t.attr("class")||"";return!n.get("src")&&t.attr("class","".concat(r," ").concat(this.classEmpty).trim()),this.postRender(),this},i}(Fn),Lm=R9,F9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ls=function(){return ls=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},ls.apply(this,arguments)},bu=function(o,i,e,t){function n(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function s(p){try{d(t.next(p))}catch(f){a(f)}}function c(p){try{d(t.throw(p))}catch(f){a(f)}}function d(p){p.done?r(p.value):n(p.value).then(s,c)}d((t=t.apply(o,i||[])).next())})},Cu=function(o,i){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},t,n,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(p){return c([d,p])}}function c(d){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){e.label=d[1];break}if(d[0]===6&&e.label<r[1]){e.label=r[1],r=d;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(d);break}r[2]&&e.ops.pop(),e.trys.pop();continue}d=i.call(o,e)}catch(p){d=[6,p],n=0}finally{t=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},V9=function(o){F9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},i.prototype.initialize=function(e){o.prototype.initialize.call(this,e),(0,X.bindAll)(this,"disableEditing","onDisable");var t=this.model,n=this.em;this.listenTo(t,"focus",this.onActive),this.listenTo(t,"change:content",this.updateContentText),this.listenTo(t,"sync:content",this.syncContent),this.rte=n?.RichTextEditor},i.prototype.updateContentText=function(e,t,n){n===void 0&&(n={}),!n.fromDisable&&this.disableEditing()},i.prototype.canActivate=function(){var e=this,t=e.model,n=e.rteEnabled,r=e.em,a=r?.getEditing(),s=a===t,c=!0,d=!1,p;if((n||!t.get("editable")||s||(d=t.isChildOf("text")))&&(c=!1,d&&!t.get("textable"))){for(var f=t.parent();f&&!f.isInstanceOf("text");)f=f.parent();f&&f.get("editable")?p=f:c=!0}return{result:c,delegate:p}},i.prototype.onActive=function(e){return bu(this,void 0,void 0,function(){var t,n,r,a,s,c,d,p,f,h,v,C;return Cu(this,function(b){switch(b.label){case 0:return t=this,n=t.rte,r=t.em,a=this.canActivate(),s=a.result,c=a.delegate,s?((C=e?.stopPropagation)===null||C===void 0||C.call(e),d=this,[4,this.getContent()]):(c&&((v=e?.stopPropagation)===null||v===void 0||v.call(e),r.setSelected(c),c.trigger("active",e)),[2]);case 1:if(d.lastContent=b.sent(),!n)return[3,5];b.label=2;case 2:return b.trys.push([2,4,,5]),p=this,f=this,[4,n.enable(p,this.activeRte,{event:e,view:p})];case 3:return f.activeRte=b.sent(),[3,5];case 4:return h=b.sent(),r.logError(h),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},i.prototype.onDisable=function(e){this.disableEditing(e)},i.prototype.disableEditing=function(){return bu(this,arguments,void 0,function(e){var t,n,r,a,s,c,d,p,f;return e===void 0&&(e={}),Cu(this,function(h){switch(h.label){case 0:return t=this,n=t.model,r=t.rte,a=t.activeRte,s=t.em,c=n&&n.get("editable"),r?(d={},[4,this.getContent()]):[3,7];case 1:p=h.sent(),h.label=2;case 2:return h.trys.push([2,4,,5]),[4,r.disable(this,a,e)];case 3:return d=h.sent(),[3,5];case 4:return f=h.sent(),s.logError(f),[3,5];case 5:return c&&(p!==this.lastContent||d.forceSync)?[4,this.syncContent(ls(ls({},e),{content:p}))]:[3,7];case 6:h.sent(),this.lastContent="",h.label=7;case 7:return this.toggleEvents(),[2]}})})},i.prototype.getContent=function(){return bu(this,void 0,void 0,function(){var e,t,n,r;return Cu(this,function(a){switch(a.label){case 0:return e=this,t=e.rte,n=e.activeRte,r="",t?[4,t.getContent(this,n)]:[3,2];case 1:r=a.sent(),a.label=2;case 2:return[2,r]}})})},i.prototype.syncContent=function(){return bu(this,arguments,void 0,function(e){var t,n,r,a,s,c,d,p,f;return e===void 0&&(e={}),Cu(this,function(h){switch(h.label){case 0:return t=this,n=t.model,r=t.rte,a=t.rteEnabled,!a&&!e.force?[2]:(f=e.content)!==null&&f!==void 0?(c=f,[3,3]):[3,1];case 1:return[4,this.getContent()];case 2:c=h.sent(),h.label=3;case 3:return s=c,d=n.components(),p=ls({fromDisable:1},e),n.set("content","",p),r?.customRte&&!r.customRte.parseContent?(d.length&&d.reset(void 0,ls(ls({},e),{keepIds:dl(d)})),n.set("content",s,p)):d.resetFromString(s,e),[2]}})})},i.prototype.insertComponent=function(e,t){var n;t===void 0&&(t={});var r=this,a=r.model,s=r.el,c=s.ownerDocument,d=c.getSelection();if(d?.rangeCount){var p=d.getRangeAt(0),f=p.startContainer,h=p.startOffset,v=(0,Ze.getComponentModel)(f),C=[];if(v&&(!((n=v.is)===null||n===void 0)&&n.call(v,"textnode"))){var b=v.collection;b.forEach(function(P){if(P===v){var M="textnode",y=t.useDomContent?f.textContent||"":P.content;C.push({type:M,content:y.slice(0,h)}),C.push(e),C.push({type:M,content:y.slice(h)})}else C.push(P)});var x=C.filter(Boolean),w=x.indexOf(e);return b.reset(x,t),b.at(w)}}return a.append(e,t)},i.prototype.onInput=function(){var e=this.model,t=[wn.I.update,wn.I.input];t.forEach(function(n){return e.emitWithEditor(n,e)})},i.prototype.disablePropagation=function(e){e.stopPropagation()},i.prototype.toggleEvents=function(e){var t=this,n=t.em,r=t.model,a=t.$el,s={on:Ct.on,off:Ct.AU},c=e?"on":"off";n.setEditing(e?this:!1),this.rteEnabled=!!e;var d=[this.el.ownerDocument,document];if(s.off(d,"mousedown",this.onDisable),s[c](d,"mousedown",this.onDisable),n[c]("toolbar:run:before",this.onDisable),r&&(r[c]("removed",this.onDisable),r.trigger("rte:".concat(e?"enable":"disable"))),a?.off("mousedown",this.disablePropagation),a&&a[c]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var p=this.el;p;)p.draggable=!e,p=p.parentNode,p&&p.tagName=="BODY"&&(p=0)},i}(Fn),U_=V9,j9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),H9=function(o){j9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.render=function(){return o.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},i}(U_),G_=H9,z9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),B9=function(o){z9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i}(G_),U9=B9,G9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),W9=function(o){G9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.tagName=function(){return"div"},i.prototype.events=function(){return{}},i.prototype.initialize=function(e){o.prototype.initialize.call(this,e),this.classEmpty=this.ppfx+"plh-map"},i.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},i.prototype.getIframe=function(){if(!this.iframe){var e=document.createElement("iframe");e.src=this.model.get("src"),e.frameBorder="0",e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e}return this.iframe},i.prototype.render=function(){return o.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},i}(Lm),K9=W9,q9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$9=function(o){q9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.tagName=function(){return"script"},i.prototype.events=function(){return{}},i}(Fn),Y9=$9,Q9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),X9=function(o){Q9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},i}(Fn),sv=X9,Z9=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),J9=function(o){Z9(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i}(Fn),e4=J9,t4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),n4=function(o){t4(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i}(Fn),i4=n4,r4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),o4=function(o){r4(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i}(Fn),a4=o4,s4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),l4=function(o){s4(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i}(Fn),c4=l4,d4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),u4=function(o){d4(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i}(Fn),p4=u4,f4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),h4=function(o){f4(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.events=function(){return{}},i}(Fn),m4=h4,g4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),v4=function(o){g4(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.tagName=function(){return"div"},i.prototype.events=function(){return{}},i.prototype.initialize=function(){Fn.prototype.initialize.apply(this,arguments);var e=this.model,t=["loop","autoplay","controls","color","rel","modestbranding","poster","muted"],n=t.map(function(r){return"change:".concat(r)}).join(" ");this.listenTo(e,"change:provider",this.updateProvider),this.listenTo(e,"change:src",this.updateSrc),this.listenTo(e,n,this.updateVideo)},i.prototype.updateProvider=function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},i.prototype.updateSrc=function(){var e=this,t=e.model,n=e.videoEl;if(n){var r=t.get("provider"),a=t.get("src");switch(r){case"yt":a=t.getYoutubeSrc();break;case"ytnc":a=t.getYoutubeNoCookieSrc();break;case"vi":a=t.getVimeoSrc();break}n.src=a}},i.prototype.updateVideo=function(){var e=this,t=e.model,n=e.videoEl,r=t.get("provider");switch(r){case"yt":case"ytnc":case"vi":t.trigger("change:videoId");break;default:if(n){var a=n;a.loop=t.get("loop"),a.autoplay=t.get("autoplay"),a.controls=t.get("controls"),a.poster=t.get("poster"),a.muted=t.get("muted")}}},i.prototype.renderByProvider=function(e){var t;switch(e){case"yt":t=this.renderYoutube();break;case"ytnc":t=this.renderYoutubeNoCookie();break;case"vi":t=this.renderVimeo();break;default:t=this.renderSource()}return this.videoEl=t,t},i.prototype.renderSource=function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},i.prototype.renderYoutube=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},i.prototype.renderYoutubeNoCookie=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},i.prototype.renderVimeo=function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},i.prototype.initVideoEl=function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},i.prototype.render=function(){Fn.prototype.render.apply(this),this.updateClasses();var e=this.model.get("provider");return this.el.appendChild(this.renderByProvider(e)),this.updateVideo(),this},i}(Lm),_4=v4,y4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),b4=function(o){y4(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.tagName=function(){return"div"},i}(Fn),C4=b4,x4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lp=function(){return lp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},lp.apply(this,arguments)},w4=function(o){x4(i,o);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.apply(this,e)||this;n.refreshDbn=(0,X.debounce)(function(){return n.refresh()},0);var r=n.events;return n.on(r.update,n.onUpdate),n.on(r.updateInside,n.onUpdateDeep),n}return i.prototype.removeChildren=function(e,t,n){var r;n===void 0&&(n={}),o.prototype.removeChildren.call(this,e,t,n),(r=hr(e))===null||r===void 0||r.forEach(function(a){return zp(a,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:e})},i.prototype.onAdd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.prototype.onAdd.apply(this,e);var n=e[0];this.__trgEvent(this.events.symbolMainAdd,{component:n})},i.prototype.onUpdate=function(e){this.__trgEvent(this.events.symbolMainUpdate,e)},i.prototype.onUpdateDeep=function(e){this.__trgEvent(this.events.symbolMainUpdateDeep,e)},i.prototype.refresh=function(){var e=this,t=e.em,n=e.events;t.trigger(n.symbol)},i.prototype.__trgEvent=function(e,t,n){n===void 0&&(n=!1);var r=this,a=r.em,s=r.events,c=n?s.symbolInstance:s.symbolMain;a.trigger(e,t),a.trigger(c,lp(lp({},t),{event:e})),this.refreshDbn()},i}(qc),O4=w4,P4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hl=function(){return hl=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},hl.apply(this,arguments)},W_=function(o){P4(i,o);function i(e,t){var n=o.call(this,e,t)||this;return n.dataResolver=n.initializeDataResolver(e,t),n.listenToPropsChange(),n}return i.prototype.initializeDataResolver=function(e,t){var n,r=(n=e.dataResolver)!==null&&n!==void 0?n:{type:e.type},a=this.createResolverInstance(r,hl(hl({},t),{collectionsStateMap:this.collectionsStateMap}));return a},i.prototype.getDataResolver=function(){return this.get("dataResolver")},i.prototype.setDataResolver=function(e){return this.set("dataResolver",e)},i.prototype.onCollectionsStateMapUpdate=function(e){this.dataResolver.updateCollectionsStateMap(e),o.prototype.onCollectionsStateMapUpdate.call(this,e)},i.prototype.listenToPropsChange=function(){var e=this;this.listenTo(this.dataResolver,"change",function(){e.__changesUp({m:e})}.bind(this)),this.on("change:dataResolver",function(){e.dataResolver.set(e.get("dataResolver"))})},i.prototype.removePropsListeners=function(){this.stopListening(this.dataResolver),this.off("change:dataResolver"),this.off("change:".concat(this.collectionsStateMap))},i.prototype.destroy=function(e){return this.removePropsListeners(),o.prototype.destroy.call(this,e)},i.prototype.toJSON=function(e){var t=o.prototype.toJSON.call(this,e),n=this.dataResolver.toJSON();return delete n.type,hl(hl({},t),{dataResolver:n})},i}($n),M4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cp=function(){return cp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},cp.apply(this,arguments)},T4=function(o){M4(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return cp(cp({},o.prototype.defaults),{type:Ar,dataResolver:{},droppable:!1})},enumerable:!1,configurable:!0}),i.prototype.getPath=function(){return this.dataResolver.get("path")},i.prototype.getCollectionId=function(){return this.dataResolver.get("collectionId")},i.prototype.getVariableType=function(){return this.dataResolver.get("variableType")},i.prototype.getDefaultValue=function(){return this.dataResolver.get("defaultValue")},i.prototype.getDataValue=function(){return this.dataResolver.getDataValue()},i.prototype.resolvesFromCollection=function(){return this.dataResolver.resolvesFromCollection()},i.prototype.getInnerHTML=function(){return this.getDataValue()},i.prototype.setPath=function(e){this.dataResolver.set("path",e)},i.prototype.setDefaultValue=function(e){this.dataResolver.set("defaultValue",e)},i.prototype.resetDataSourcePath=function(e){this.set("dataResolver",{path:e,collectionId:void 0,variableType:void 0})},i.prototype.createResolverInstance=function(e,t){return new Sl(e,t)},i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===Ar},i}(W_),S4=T4,E4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),k4=function(o){E4(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.initialize=function(e){var t=this;e===void 0&&(e={}),o.prototype.initialize.call(this,e),this.dataResolverListener=new Yc({em:this.em,resolver:this.model.dataResolver,onUpdate:function(){return t.postRender()}})},i.prototype.remove=function(){return this.dataResolverListener.destroy(),o.prototype.remove.call(this)},i.prototype.postRender=function(){var e=this.model,t=e.getDataResolver(),n=!!t.asPlainText;n?this.el.textContent=e.getDataValue():this.el.innerHTML=e.getDataValue(),o.prototype.postRender.call(this)},i}(Fn),A4=k4,I4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),L4=function(o){I4(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.initialize=function(e){e===void 0&&(e={}),o.prototype.initialize.call(this,e),this.postRender=this.postRender.bind(this),this.listenTo(this.model.components(),"reset",this.postRender),this.dataResolverListener=new Yc({em:this.em,resolver:this.model.dataResolver,onUpdate:this.postRender})},i.prototype.renderDataResolver=function(){var e=this.model.getIfTrueContent(),t=this.model.getIfFalseContent(),n=e?.getEl(),r=t?.getEl(),a=this.model.isTrue();n&&(n.style.display=a?"":"none"),r&&(r.style.display=a?"none":"")},i.prototype.postRender=function(){this.renderDataResolver(),o.prototype.postRender.call(this)},i.prototype.remove=function(){return this.stopListening(this.model.components(),"reset",this.postRender),this.dataResolverListener.destroy(),o.prototype.remove.call(this)},i}(Fn),N4=L4,D4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dp=function(){return dp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},dp.apply(this,arguments)},R4=function(o){D4(i,o);function i(e,t){t===void 0&&(t={});var n,r=o.call(this,e,t)||this;return r.mutable=(n=e.mutable)!==null&&n!==void 0?n:!0,r.on("change",r.handleChange),r}return Object.defineProperty(i.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),i.prototype.handleChange=function(e,t){var n=this,r=this.changedAttributes();(0,X.keys)(r).forEach(function(a){return n.triggerChange(a,t)})},i.prototype.getPath=function(e,t){t===void 0&&(t={});var n=this,r=n.dataSource,a=n.id,s=n.index,c=r.id,d=e?".".concat(e):"";return"".concat(c,".").concat(t.useIndex?s:a).concat(d)},i.prototype.getPaths=function(e){return[this.getPath(e),this.getPath(e,{useIndex:!0})]},i.prototype.triggerChange=function(e,t){t===void 0&&(t={});var n=this,r=n.dataSource,a=n.em,s=this.getPaths(e),c={dataSource:r,dataRecord:this,path:s[0],options:t};a.trigger(ms.path,c),a.trigger("".concat(ms.pathSource,":").concat(r.id),c),s.forEach(function(d){return a.trigger("".concat(ms.path,":").concat(d),dp(dp({},c),{path:d}))})},i.prototype.set=function(e,t,n){var r=this,a,s;if(!this.isNew()&&this.attributes.mutable===!1)throw new Error("Cannot modify immutable record");var c=(s=(a=this.dataSource)===null||a===void 0?void 0:a.transformers)===null||s===void 0?void 0:s.onRecordSetValue,d=function(x,w,P){P===void 0&&(P={});var M=P?.avoidTransformers||!c?w:c({id:r.id,key:x,value:w});o.prototype.set.call(r,x,M,P),o.prototype.set.call(r,{__p:P.partial?!0:void 0},P)};if(typeof e=="object"&&e!==null)for(var p=e,f=0,h=Object.entries(p);f<h.length;f++){var v=h[f],C=v[0],b=v[1];d(C,b,t)}else d(e,t,n);return this},i}(gt.Kx),F4=R4,V4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),K_=function(o){V4(i,o);function i(e,t){var n=o.call(this,e,t)||this;return n.dataSource=t.dataSource,n}return i}(gt.pM),lv=K_;K_.prototype.model=F4;var j4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),up=function(){return up=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},up.apply(this,arguments)},H4=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},z4=function(o){j4(i,o);function i(e,t){var n=o.call(this,up(up({},e),{records:[]}),t)||this,r=e.records,a=e.transformers;return n.transformers=a||{},r instanceof lv||n.set({records:new lv(r,{dataSource:n})}),n.listenTo(n.records,"add",n.onAdd),n.listenTo(n.records,gt.e2,n.handleChanges),n}return i.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(i.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),i.prototype.onAdd=function(e){e.triggerChange()},i.prototype.addRecord=function(e,t){return this.records.add(e,t)},i.prototype.getRecord=function(e){return this.records.get(e)},i.prototype.getRecords=function(){var e=this;return H4([],this.records.models,!0).map(function(t){return e.getRecord(t.id)})},i.prototype.removeRecord=function(e,t){var n=this.getRecord(e);if(n?.mutable===!1&&!t?.dangerously)throw new Error("Cannot remove immutable record");return this.records.remove(e,t)},i.prototype.setRecords=function(e){var t=this;this.records.reset([],{silent:!0}),e.forEach(function(n){t.records.add(n)})},i.prototype.handleChanges=function(e,t,n){this.em.changesUp(n||t)},i}(gt.Kx),q_=z4,B4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yi=function(){return Yi=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Yi.apply(this,arguments)},xh={avoidStore:!0,partial:!0},U4=function(o){B4(i,o);function i(e,t){var n=this;if(t.forCloning)return n=o.call(this,e,t)||this;var r=Yi(Yi({},e),{droppable:!1}),a=n=o.call(this,r,t)||this;return n.rebuildChildrenFromCollection=n.rebuildChildrenFromCollection.bind(n),n.listenToPropsChange(),n.rebuildChildrenFromCollection(),a}return Object.defineProperty(i.prototype,"defaults",{get:function(){return Yi(Yi({},o.prototype.defaults),{droppable:!1,dataResolver:{},type:$h,components:[{type:Dc}]})},enumerable:!1,configurable:!0}),i.prototype.getDataResolver=function(){return this.get("dataResolver")},i.prototype.getItemsCount=function(){var e,t,n=this.getDataSourceItems(),r=W4(n),a=Math.max(0,(e=this.getConfigStartIndex())!==null&&e!==void 0?e:0),s=(t=this.getConfigEndIndex())!==null&&t!==void 0?t:Number.MAX_VALUE,c=Math.min(r-1,s),d=c-a+1;return Math.max(0,d)},i.prototype.getConfigStartIndex=function(){return this.dataResolver.startIndex},i.prototype.getConfigEndIndex=function(){return this.dataResolver.endIndex},i.prototype.getDataSource=function(){var e;return(e=this.dataResolver)===null||e===void 0?void 0:e.dataSource},i.prototype.getCollectionId=function(){var e;return(e=this.dataResolver)===null||e===void 0?void 0:e.collectionId},i.prototype.getCollectionItemComponents=function(){return this.firstChild.components()},i.prototype.setDataResolver=function(e){return this.set("dataResolver",e)},i.prototype.setCollectionId=function(e){this.updateCollectionConfig({collectionId:e})},i.prototype.setStartIndex=function(e){if(e<0){this.em.logError("Start index should be greater than or equal to 0");return}this.updateCollectionConfig({startIndex:e})},i.prototype.setEndIndex=function(e){this.updateCollectionConfig({endIndex:e})},i.prototype.setDataSource=function(e){this.set(sl,Yi(Yi({},this.dataResolver),{dataSource:e}))},i.prototype.setCollectionItemComponents=function(e){this.firstChild.components(e)},Object.defineProperty(i.prototype,"firstChild",{get:function(){return this.components().at(0)},enumerable:!1,configurable:!0}),i.prototype.updateCollectionConfig=function(e){this.set(sl,Yi(Yi({},this.dataResolver),e))},i.prototype.getDataSourceItems=function(){var e=$4(this.dataResolver.dataSource,this.em);if((0,X.isArray)(e))return e;var t=Yi({},e);return delete t.__p,t},Object.defineProperty(i.prototype,"dataResolver",{get:function(){return this.get(sl)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"collectionDataSource",{get:function(){return this.dataResolver.dataSource},enumerable:!1,configurable:!0}),i.prototype.listenToDataSource=function(){var e,t=this.em,n=(e=this.collectionDataSource)===null||e===void 0?void 0:e.path;n&&(this.dataSourceWatcher=new Yc({em:t,resolver:new Sl({type:Ar,path:n},{em:t,collectionsStateMap:this.collectionsStateMap}),onUpdate:this.rebuildChildrenFromCollection}))},i.prototype.rebuildChildrenFromCollection=function(){this.components().reset(this.getCollectionItems(),ku)},i.prototype.getCollectionItems=function(){var e,t=this.ensureFirstChild(),n=t.getStyle().display,r=!n||n==="none",a=r?"":n;t.addStyle({display:"none"},xh);var s=[t],c=q4(this.dataResolver,this.em);if(!c)return s;var d=this.collectionId,p=this.getDataSourceItems(),f=this.resolveCollectionConfig(p),h=f.startIndex,v=f.endIndex,C=this.hasDuplicateCollectionId();if(C)return this.em.logError('The collection ID "'.concat(d,'" already exists in the parent collection state. Overriding it is not allowed.')),s;for(var b=h;b<=v;b++){var x=b===h,w=(0,X.isArray)(p)?b:Object.keys(p)[b],P=this.getCollectionsStateMapForItem(p,w);if(x){(e=hr(t))===null||e===void 0||e.forEach(function(y){return zp(y)}),cv(t,P),t.addStyle({display:a},xh);continue}var M=t.clone({symbol:!0,symbolInv:!0});M.set({locked:!0,layerable:!1},xh),cv(M,P),s.push(M)}return s},i.prototype.getCollectionsStateMapForItem=function(e,t){var n,r=this.resolveCollectionConfig(e),a=r.startIndex,s=r.endIndex,c=r.totalItems,d=this.collectionId,p=e[t],f=this.collectionsStateMap,h=typeof t=="string"?Object.keys(e).indexOf(t):t,v=h-a,C=c-(1+v),b={collectionId:d,currentIndex:h,currentItem:p,currentKey:t,startIndex:a,endIndex:s,totalItems:c,remainingItems:C},x=Yi(Yi({},f),(n={},n[d]=b,n));return x},i.prototype.hasDuplicateCollectionId=function(){var e=this.collectionId,t=this.collectionsStateMap;return!!t[e]},i.prototype.resolveCollectionConfig=function(e){var t,n,r=Array.isArray(e),a=r?e.length:Object.keys(e).length,s=(t=this.getConfigStartIndex())!==null&&t!==void 0?t:0,c=(n=this.getConfigEndIndex())!==null&&n!==void 0?n:Number.MAX_VALUE,d=Math.min(a-1,c),p=0;return a>0&&(p=Math.max(0,d-s+1)),{startIndex:s,endIndex:d,totalItems:p,isArray:r}},i.prototype.ensureFirstChild=function(){var e=this.em.Components.getType(Dc).model;return this.firstChild||new e({type:Dc},this.opt)},i.prototype.listenToPropsChange=function(){var e=this;this.on("change:".concat(sl),function(){e.rebuildChildrenFromCollection(),e.listenToDataSource()}),this.listenToDataSource()},i.prototype.removePropsListeners=function(){var e;this.off("change:".concat(sl)),(e=this.dataSourceWatcher)===null||e===void 0||e.destroy()},i.prototype.onCollectionsStateMapUpdate=function(e){var t=this;o.prototype.onCollectionsStateMapUpdate.call(this,e);var n=this.getDataSourceItems(),r=this.resolveCollectionConfig(n).startIndex,a=this.components();a.forEach(function(s,c){var d=t.getCollectionsStateMapForItem(n,r+c);s.onCollectionsStateMapUpdate(d)})},i.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.onCollectionsStateMapUpdate({})},i.prototype.syncOnComponentChange=function(e,t,n){var r=this.collectionsStateMap;this.collectionsStateMap={},o.prototype.syncOnComponentChange.call(this,e,t,n),this.collectionsStateMap=r,this.onCollectionsStateMapUpdate(r)},Object.defineProperty(i.prototype,"collectionId",{get:function(){return this.getDataResolver().collectionId},enumerable:!1,configurable:!0}),i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===$h},i.prototype.toJSON=function(e){var t,n=o.prototype.toJSON.call(this,e);delete n.droppable,delete n[dr],(t=n.attributes)===null||t===void 0||delete t.id;var r=this.firstChild;return Yi(Yi({},n),{components:[r]})},i.prototype.destroy=function(e){return this.removePropsListeners(),o.prototype.destroy.call(this,e)},i}($n),G4=U4;function W4(o){return(0,X.isArray)(o)?o.length:Object.keys(o).length}function cv(o,i){o.setSymbolOverride(["locked","layerable",ll]),o.syncComponentsCollectionState(),o.onCollectionsStateMapUpdate(i)}function K4(o,i,e){return o?!0:(e.logError('The "'.concat(i,'" property is required in the collection definition.')),!1)}function q4(o,i){for(var e=[{property:o?.collectionId,propertyPath:"dataResolver.collectionId"},{property:o?.dataSource,propertyPath:"dataResolver.dataSource"}],t=0,n=e;t<n.length;t++){var r=n[t].propertyPath;if(!K4(o,r,i))return[]}var a=o?.startIndex;return a!==void 0&&(a<0||!Number.isInteger(a))&&i.logError("Invalid startIndex: ".concat(a,". It must be a non-negative integer.")),!0}function $4(o,i){switch(!0){case((0,Ze.isObject)(o)&&o instanceof q_):{var e=o.get("id");return dv(e,i)}case vs(o):{var t=o.path;if(!t)return[];var n=t.split(".").length===1;return n?dv(t,i):i.DataSources.getValue(t,[])}default:return[]}}function dv(o,i){var e=i.DataSources.getValue(o,[]),t=Object.keys(e);return t.map(function(n){return{type:Ar,path:o+"."+n}})}var Y4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Q4=function(o){Y4(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i}(Fn),X4=Q4,Z4=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pp=function(){return pp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},pp.apply(this,arguments)},J4=function(o){Z4(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return pp(pp({},o.prototype.defaults),{droppable:!1,type:Da,dataResolver:{condition:{left:"",operator:xo.equalsIgnoreCase,right:""}},components:[{type:Mm},{type:Tm}]})},enumerable:!1,configurable:!0}),i.prototype.isTrue=function(){return this.dataResolver.isTrue()},i.prototype.getCondition=function(){return this.dataResolver.getCondition()},i.prototype.getIfTrueContent=function(){return this.components().at(0)},i.prototype.getIfFalseContent=function(){return this.components().at(1)},i.prototype.getOutputContent=function(){return this.isTrue()?this.getIfTrueContent():this.getIfFalseContent()},i.prototype.setCondition=function(e){this.dataResolver.setCondition(e)},i.prototype.setIfTrueComponents=function(e){this.setComponentsAtIndex(0,e)},i.prototype.setIfFalseComponents=function(e){this.setComponentsAtIndex(1,e)},i.prototype.getInnerHTML=function(e){var t,n;return(n=(t=this.getOutputContent())===null||t===void 0?void 0:t.getInnerHTML(e))!==null&&n!==void 0?n:""},i.prototype.createResolverInstance=function(e,t){return new w_(e,t)},i.prototype.setComponentsAtIndex=function(e,t){var n=this.components().at(e);n?.components(t)},i.isComponent=function(e){return(0,Ze.toLowerCase)(e.tagName)===Da},i}(W_),eT=J4,tT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fp=function(){return fp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},fp.apply(this,arguments)},nT=function(o){tT(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(i.prototype,"defaults",{get:function(){return fp(fp({},o.prototype.defaults),{removable:!1,draggable:!1})},enumerable:!1,configurable:!0}),i.isComponent=function(e){return bP((0,Ze.toLowerCase)(e.tagName))},i}($n),wh=nT,iT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Oi=function(){return Oi=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Oi.apply(this,arguments)},rT=function(o,i){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&i.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},oT=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},kc=function(o){return o[o.InvalidSource=0]="InvalidSource",o[o.SourceReject=1]="SourceReject",o[o.TargetReject=2]="TargetReject",o}(kc||{}),aT=function(o){iT(i,o);function i(e){var t=o.call(this,e,"DomComponents",new qc(void 0,{em:e}),wn.I,OM())||this;t.componentTypes=[{id:Dc,model:wh,view:Fn},{id:Mm,model:wh,view:Fn},{id:Tm,model:wh,view:Fn},{id:$h,model:G4,view:X4},{id:Da,model:eT,view:N4},{id:Ar,model:S4,view:A4},{id:"cell",model:s9,view:i4},{id:"row",model:g9,view:p4},{id:"table",model:n9,view:m4},{id:"thead",model:f9,view:c4},{id:"tbody",model:Im,view:e4},{id:"tfoot",model:d9,view:a4},{id:"map",model:WM,view:K9},{id:"link",model:BM,view:G_},{id:"label",model:jM,view:U9},{id:"video",model:y9,view:_4},{id:"image",model:km,view:Lm},{id:"script",model:$M,view:Y9},{id:"svg-in",model:JM,view:sv},{id:"svg",model:H_,view:sv},{id:"iframe",model:IM,view:N9},{id:"comment",model:EM,view:A9},{id:"textnode",model:j_,view:B_},{id:Pl,model:JP,view:Fn},{id:"wrapper",model:x9,view:C4},{id:"text",model:Am,view:U_},{id:"default",model:$n,view:Fn}],t.componentsById={},t.Component=$n,t.Components=qc,t.ComponentView=Fn,t.ComponentsView=z_,t.storageKey="components",t.keySymbols="symbols",t.events=wn.I;var n=t.config;t.symbols=new O4([],{em:e,config:n,domc:t}),e&&(t.config.components=e.config.components||t.config.components);var r=t.config.pStylePrefix;if(r&&(t.config.stylePrefix=r+t.config.stylePrefix),e){e.get("Parser").compTypes=t.componentTypes,e.on("change:componentHovered",t.componentHovered,t);var a=e.get("selected");e.listenTo(a,"add",function(s,c,d){return t.selectAdd(a.getComponent(s),d)}),e.listenTo(a,"remove",function(s,c,d){return t.selectRemove(a.getComponent(s),d)})}return t}return i.prototype.postLoad=function(){var e=this,t=e.em,n=e.symbols,r=t.UndoManager;r.add(n)},i.prototype.load=function(e){var t=this,n=this.loadProjectData(e,{onResult:function(r){var a=t.getWrapper();if(a||(t.em.Pages.add({},{select:!0}),a=t.getWrapper()),(0,X.isArray)(r))r.length&&a.components(r);else{var s=r.components,c=s===void 0?[]:s,d=rT(r,["components"]);a.set(d),a.components(c)}}});return this.symbols.reset(e[this.keySymbols]||[]),n},i.prototype.store=function(){var e;return e={},e[this.keySymbols]=this.symbols,e},i.prototype.getComponent=function(){var e=this.em.Pages.getSelected(),t=e?.getMainFrame();return t?.getComponent()},i.prototype.getWrapper=function(){return this.getComponent()},i.prototype.getComponents=function(){var e=this.getWrapper();return e?.components()},i.prototype.addComponent=function(e,t){return t===void 0&&(t={}),this.getComponents().add(e,t)},i.prototype.render=function(){var e;return(e=this.componentView)===null||e===void 0?void 0:e.render().el},i.prototype.clear=function(e){e===void 0&&(e={});var t=this.getComponents();return t?.filter(Boolean).forEach(function(n){return n.remove(e)}),this},i.prototype.setComponents=function(e,t){t===void 0&&(t={}),this.clear(t).addComponent(e,t)},i.prototype.addType=function(e,t){var n=this.em,r=t.model,a=r===void 0?{}:r,s=t.view,c=s===void 0?{}:s,d=t.isComponent,p=t.extend,f=t.extendView,h=t.extendFn,v=h===void 0?[]:h,C=t.extendFnView,b=C===void 0?[]:C,x=t.block,w=this.getType(e),P=this.getType(p),M=this.getType(f),y=P||w||this.getType("default"),A=y.model,k=M?M.view:y.view,N=function(G,K,J){return G.reduce(function(E,Z){var te=K[Z],de=J.prototype[Z];return te&&de&&(E[Z]=function(){for(var Fe=[],Ge=0;Ge<arguments.length;Ge++)Fe[Ge]=arguments[Ge];de.bind(this).apply(void 0,Fe),te.bind(this).apply(void 0,Fe)}),E},{})};if(typeof a=="object"){var V={defaults:a.defaults};delete a.defaults;var j=new Set(A.typeExtends);j.add(A.getDefaults().type),t.model=A.extend(Oi(Oi({},a),N(v,a,A)),{typeExtends:j,isComponent:w&&!P&&!d?A.isComponent:d||function(){return 0}}),Object.defineProperty(t.model.prototype,"defaults",{get:function(){return Oi(Oi({},(0,X.result)(A.prototype,"defaults")||{}),(0,X.result)(V,"defaults")||{})}})}if(typeof c=="object"&&(t.view=k.extend(Oi(Oi({},c),N(b,c,k)))),w?(w.model=t.model,w.view=t.view):(t.id=e,this.componentTypes.unshift(t)),x){var R={id:e,label:e,content:{type:e}},H=x===!0?R:Oi(Oi({},R),x);n.Blocks.add(H.id||e,H)}var I="component:type:".concat(w?"update":"add");return n?.trigger(I,w||t),this},i.prototype.getType=function(e){for(var t=this.componentTypes,n=0;n<t.length;n++){var r=t[n].id;if(r==e)return t[n]}},i.prototype.removeType=function(e){var t=this.componentTypes,n=this.getType(e);if(n){var r=t.indexOf(n);return t.splice(r,1),n}},i.prototype.getTypes=function(){return this.componentTypes},i.prototype.selectAdd=function(e,t){var n=this;t===void 0&&(t={}),e&&(e.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(r){return n.em.trigger(r,e,t)}))},i.prototype.selectRemove=function(e,t){var n=this;if(t===void 0&&(t={}),e){var r=this.em;e.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(a){return n.em.trigger(a,e,t)})}},i.prototype.componentHovered=function(){var e=this.em,t=e.get("componentHovered"),n=e.previous("componentHovered"),r="hovered";n&&n.get("status")==r&&n.set({status:"",state:""}),t&&(0,X.isEmpty)(t.get("status"))&&t.set("status",r)},i.prototype.getShallowWrapper=function(){var e=this,t=e.shallow,n=e.em;if(!t&&n){var r=n.shallow;if(!r)return;var a=r.Components;if(a.componentTypes=this.componentTypes,t=a.getWrapper(),t){var s=[Iu,Zh].join(" ");t.on(s,(0,X.debounce)(function(){return t?.components("")},100))}this.shallow=t}return t},i.prototype.isComponent=function(e){return(0,Ze.isComponent)(e)},i.prototype.addSymbol=function(e){if(!((0,X.isSymbol)(e)&&!gs(e))){var t=e.clone({symbol:!0});return ps(t)&&this.symbols.add(t),this.em.trigger("component:toggled"),t}},i.prototype.getSymbols=function(){return oT([],this.symbols.models,!0)},i.prototype.detachSymbol=function(e){Du(e)&&zp(e)},i.prototype.getSymbolInfo=function(e,t){t===void 0&&(t={});var n=ps(e),r=zr(e),a=!!r,s=hr(n?e:r)||[],c=r||(n?e:void 0),d=zo(e,{changed:t.withChanges}),p=n||a,f=p&&gs(e);return{isSymbol:p,isMain:n,isInstance:a,isRoot:f,main:c,instances:s,relatives:d||[]}},i.prototype.canMove=function(e,t,n){var r={result:!1,reason:kc.InvalidSource,target:e,source:null};if(!t||!e)return r;if(wo(e)&&t instanceof $n&&wo(t)){var a=Kc(e),s=ps(a)?a:zr(a),c=Kc(t),d=ps(c)?c:zr(c),p=s===d,f=a!==c;if(p&&f)return Oi(Oi({},r),{reason:kc.TargetReject})}var h=(0,Ze.isComponent)(t)?t:null;if(!h){var v=this.getShallowWrapper();h=v?.append(t,{temporary:!0})[0]||null}if(r.source=h,!h)return r;var C=h.get("draggable");if((0,X.isFunction)(C))C=!!C(h,e,n);else{var b=e.getEl();C=(0,X.isArray)(C)?C.join(","):C,C=(0,X.isString)(C)?b?.matches(C):C}if(!C)return Oi(Oi({},r),{reason:kc.SourceReject});var x=e.get("droppable");if((0,X.isFunction)(x))x=!!x(h,e,n);else if(x===!1&&e.isInstanceOf("text")&&h.get("textable"))x=!0;else{var b=h.getEl();x=(0,X.isArray)(x)?x.join(","):x,x=(0,X.isString)(x)?b?.matches(x):x}var w=[e].concat(e.parents()).indexOf(h)>-1;return!x||w?Oi(Oi({},r),{reason:kc.TargetReject}):Oi(Oi({},r),{result:!0})},i.prototype.allById=function(){return this.componentsById},i.prototype.getById=function(e){return this.componentsById[e]||null},i.prototype.destroy=function(){var e,t=this.allById();Object.keys(t).forEach(function(n){return t[n]&&t[n].remove()}),(e=this.componentView)===null||e===void 0||e.remove(),[this.em,this.componentsById,this.componentView].forEach(function(n){return n={}})},i}(Go),sT=aT,lT=function(){return{stylePrefix:"css-",rules:[]}},cT=lT,dT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uT=Number.MAX_VALUE,pT=function(o){var i=/(-?\d*\.?\d+)\w{0,}/.exec(o);return i?i[0]:""},fT=function(o){dT(i,o);function i(){var e=o.call(this)||this;return(0,X.bindAll)(e,"sortRules"),e.compCls=[],e.ids=[],e}return i.prototype.buildFromModel=function(e,t){var n=this;t===void 0&&(t={});var r="",a=this.em,s=a&&a.getConfig().avoidInlineStyle,c=e.styleToString(),d=e.classes;this.ids.push("#".concat(e.getId())),d.forEach(function(f){return n.compCls.push(f.getFullName())}),!s&&c&&(r="#".concat(e.getId(),"{").concat(c,"}"));var p=e.components();return p.forEach(function(f){return r+=n.buildFromModel(f,t)}),r},i.prototype.build=function(e,t){var n=this;t===void 0&&(t={});var r=t.json,a=t.em,s=t.cssc||a?.Css;this.em=a,this.compCls=[],this.ids=[],this.model=e;var c=[],d=e?this.buildFromModel(e,t):"",p=(0,X.isUndefined)(t.clearStyles)&&a?a.getConfig().clearStyles:t.clearStyles;if(s){var f=t.rules||s.getAll(),h={},v=[];t.onlyMatched&&e&&(0,Ze.hasWin)()&&(f=this.matchedRules(e,f)),f.forEach(function(C){var b=C.getAtRule();if(b){var x=h[b];x?x.push(C):h[b]=[C];return}var w=n.buildFromRule(C,v,t);r?c.push(w):d+=w}),this.sortMediaObject(h).forEach(function(C){var b="",x=C.key,w=C.value;w.forEach(function(P){var M=n.buildFromRule(P,v,t);P.get("singleAtRule")?d+="".concat(x,"{").concat(M,"}"):b+=M,r&&c.push(M)}),b&&(d+="".concat(x,"{").concat(b,"}"))}),a&&p&&f.remove&&f.remove(v)}return r?c.filter(function(C){return C}):d},i.prototype.buildFromRule=function(e,t,n){var r=this,a;n===void 0&&(n={});var s="",c=this.model,d=e.selectorsToString({skipAdd:1}),p=e.get("selectorsAdd"),f=e.get("singleAtRule"),h;if((a=e.get("selectors"))===null||a===void 0||a.forEach(function(C){var b=C.getFullName();(r.compCls.indexOf(b)>=0||r.ids.indexOf(b)>=0||n.keepUnusedStyles)&&(h=1)}),d&&h||p||f||!c){var v=e.getDeclaration();v&&(n.json?s=e:s+=v)}else t.push(e);return s},i.prototype.matchedRules=function(e,t){var n=this,r=e.getEl(),a=[];return t.forEach(function(s){try{s.selectorsToString().split(",").some(function(c){return r?.matches(n.__cleanSelector(c))})&&a.push(s)}catch{}}),e.components().forEach(function(s){a=a.concat(n.matchedRules(s,t))}),a=a.filter(function(s,c){return a.indexOf(s)===c}),a},i.prototype.getQueryLength=function(e){var t=/(-?\d*\.?\d+)\w{0,}/.exec(e);return t?parseFloat(t[1]):uT},i.prototype.sortMediaObject=function(e){var t=this;e===void 0&&(e={});var n=[];return(0,X.each)(e,function(r,a){return n.push({key:a,value:r})}),n.sort(function(r,a){var s=[r.key,a.key].every(function(p){return p.indexOf("min-width")!==-1}),c=s?r.key:a.key,d=s?a.key:r.key;return t.getQueryLength(c)-t.getQueryLength(d)})},i.prototype.sortRules=function(e,t){var n=function(c){return c.get("mediaText")||""},r=[n(e),n(t)].every(function(c){return c.indexOf("min-width")!==-1}),a=n(r?e:t),s=n(r?t:e);return this.getQueryLength(a)-this.getQueryLength(s)},i.prototype.__cleanSelector=function(e){return e.split(" ").map(function(t){return t.split(":")[0]}).join(" ")},i}(gt.Kx),hT=fT,mT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tm=function(){return tm=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},tm.apply(this,arguments)},gT=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},Oh=((0,Ze.hasWin)()?window:{}).CSS,vT=function(o){mT(i,o);function i(e,t){t===void 0&&(t={});var n=o.call(this,e,{em:t.em})||this;return n.views=[],n.config=e||{},n.opt=t,n.em=t.em,n.ensureSelectors(null,null,{}),n.on("change",n.__onChange),n.setStyle(n.get("style"),{skipWatcherUpdates:!0}),n}return i.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},i.prototype.__onChange=function(e,t){var n=this.em,r=this.changedAttributes();r&&!(0,Ze.isEmptyObj)(r)&&n?.changesUp(t)},i.prototype.clone=function(){var e=this.get("selectors").map(function(t){return t.clone()});return o.prototype.clone.call(this,{selectors:e})},i.prototype.ensureSelectors=function(e,t,n){var r=this.em,a=r?.Selectors,s=[this,"change:selectors",this.ensureSelectors],c=this.getSelectors();if(this.stopListening.apply(this,s),c.models&&(c=gT([],c.models,!0)),c=(0,X.isString)(c)?[c]:c,Array.isArray(c)){var d=c.filter(function(p){return p}).map(function(p){return a?a.add(p):p});c=new La(d)}this.set("selectors",c,n),this.listenTo.apply(this,s)},i.prototype.getAtRule=function(){var e=this.get("atRuleType"),t=this.get("mediaText"),n=e?"@".concat(e):t?"@media":"";return n+(t&&n?" ".concat(t):"")},i.prototype.selectorsToString=function(e){e===void 0&&(e={});var t=[],n=this.get("state"),r=this.get("selectorsAdd"),a={escape:function(d){return Oh&&Oh.escape?Oh.escape(d):d}},s=this.getSelectors().getFullString(0,a),c=n&&!e.skipState?":".concat(n):"";return s&&t.push("".concat(s).concat(c)),r&&!e.skipAdd&&t.push(r),t.join(", ")},i.prototype.getDeclaration=function(e){e===void 0&&(e={});var t="",n=this.attributes.important,r=this.selectorsToString(e),a=this.styleToString(tm({important:n},e)),s=this.get("singleAtRule");return(r||s)&&(a||e.allowEmpty)&&(t=s?a:"".concat(r,"{").concat(a,"}")),t},i.prototype.getDevice=function(){var e=this.em,t=this.attributes,n=t.atRuleType,r=t.mediaText,a=e?.Devices.getDevices()||[],s=a.filter(function(c){return c.getWidthMedia()===""})[0];return n!=="media"||!r?s||null:a.filter(function(c){return c.getWidthMedia()===pT(r)})[0]||null},i.prototype.getState=function(){var e=this.em,t=this.get("state"),n=e?.Selectors.getStates()||[];return n.filter(function(r){return r.getName()===t})[0]||null},i.prototype.getComponent=function(){var e,t=this.getSelectors(),n=t.length==1&&t.at(0),r=n&&n.isId()&&n.get("name");return r&&((e=this.em)===null||e===void 0?void 0:e.Components.getById(r))||null},i.prototype.toCSS=function(e){e===void 0&&(e={});var t="",n=this.getAtRule(),r=this.getDeclaration(e);return(r||e.allowEmpty)&&(t=r),n&&t&&(t="".concat(n,"{").concat(t,"}")),t},i.prototype.toJSON=function(e){var t,n=o.prototype.toJSON.call(this,e);if(!((t=this.em)===null||t===void 0)&&t.getConfig().avoidDefaults){var r=this.defaults();(0,X.forEach)(r,function(a,s){n[s]===a&&delete n[s]}),delete n.style.__p,(0,X.isEmpty)(n.selectors)&&delete n.selectors,(0,X.isEmpty)(n.style)&&delete n.style}return n},i.prototype.compare=function(e,t,n,r){var a;r===void 0&&(r={});var s=t||"",c=n||"",d=r.selectorsAdd||"",p=r.atRuleType||"",f=!(0,X.isArray)(e)&&!e.models?[e]:e.models||e;c&&!p&&(p="media");var h=f.map(function(x){return x.getFullName()}),v=(a=this.get("selectors"))===null||a===void 0?void 0:a.map(function(x){return x.getFullName()}),C=h.slice().sort(),b=v.slice().sort();return!(h.length!==v.length||!C.every(function(x,w){return x===b[w]})||this.get("state")!==s||this.get("mediaText")!==c||this.get("selectorsAdd")!==d||this.get("atRuleType")!==p)},i}(S_),nm=vT,_T=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$_=function(o){_T(i,o);function i(e,t){var n=o.call(this,e)||this;return n.editor=t?.em,setTimeout(function(){n.on("remove",n.onRemove),n.on("add",n.onAdd)}),n}return i.prototype.toJSON=function(e){var t=gt.pM.prototype.toJSON.call(this,e);return t.filter(function(n){return n.style&&!n.shallow})},i.prototype.onAdd=function(e,t,n){e.ensureSelectors(e,t,n)},i.prototype.onRemove=function(e){var t=this.editor;t.stopListening(e),t.UndoManager.remove(e)},i.prototype.add=function(e,t){return t===void 0&&(t={}),typeof e=="string"&&(e=this.editor.get("Parser").parseCss(e)),t.em=this.editor,gt.pM.prototype.add.apply(this,[e,t])},i}(gt.pM),uv=$_;$_.prototype.model=nm;var yT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cs=function(){return cs=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},cs.apply(this,arguments)},bT=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},CT=function(o){yT(i,o);function i(e){var t=o.call(this,e,"CssComposer",null,Gc,cT())||this;t.classes={CssRule:nm,CssRules:uv,CssRuleView:Om,CssRulesView:qh},t.events=Gc,t.Selectors=La,t.storageKey="styles";var n=t.config,r=n.pStylePrefix;return r&&(n.stylePrefix=r+n.stylePrefix),n.rules=t.em.config.style||n.rules||"",t.rules=new uv([],n),t}return i.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},i.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},i.prototype.store=function(){return this.getProjectData()},i.prototype.load=function(e){return this.loadProjectData(e,{all:this.rules})},i.prototype.add=function(e,t,n,r,a){r===void 0&&(r={}),a===void 0&&(a={});var s=t||"",c=n||"",d=cs({},r),p=this.get(e,s,c,d);return p&&p.config&&!p.config.singleAtRule||(d.state=s,d.mediaText=c,d.selectors=[],c&&!d.atRuleType&&(d.atRuleType="media"),p=new nm(d,this.config),p.get("selectors").add(e,a),this.rules.add(p,a)),p},i.prototype.get=function(e,t,n,r){var a=e;if((0,X.isString)(e)){var s=this.em.Selectors,c=e.split(",")[0].trim(),d=this.em.Parser.parserCss.checkNode({selectors:c})[0];a=s.get(d.selectors)}return this.rules.find(function(p){return p.compare(a,t,n,r)})||null},i.prototype.getAll=function(){return this.rules},i.prototype.addCollection=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var r=this.em,a=[];(0,X.isString)(e)&&(e=r.Parser.parseCss(e));for(var s=e instanceof Array?e:[e],c=0,d=s.length;c<d;c++){var p=s[c]||{};if(p.selectors){var f=r?.Selectors;f||console.warn("Selector Manager not found");for(var h=p.selectors,v=h instanceof Array?h:[h],C=[],b=0,x=v.length;b<x;b++){var w=f.add(v[b]);C.push(w)}var P=this.get(C,p.state,p.mediaText,p),M=this.add(C,p.state,p.mediaText,p,t),y=!P||!t.avoidUpdateStyle,A=p.style||{};if((0,Ze.isObject)(n)&&M.set(n,t),y){var k=t.extend?cs(cs({},M.getStyle("",{skipResolve:!0})),A):A;M.setStyle(k,t)}a.push(M)}}return a},i.prototype.addRules=function(e){return this.addCollection(e)},i.prototype.setRule=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var r=n.atRuleType,a=n.atRuleParams,s=this.em.Parser.parserCss.checkNode({selectors:e,style:t})[0],c=s.state,d=s.selectorsAdd,p=this.em.Selectors,f=p.add(s.selectors),h=this.add(f,c,a,{selectorsAdd:d,atRule:r});return n.addStyles?h.addStyle(t,n):h.setStyle(t,n),h},i.prototype.getRule=function(e,t){t===void 0&&(t={});var n=this.em,r=n.Selectors,a=n.Parser.parserCss.checkNode({selectors:e})[0],s=r.get(a.selectors),c=a.state,d=a.selectorsAdd,p=t.atRuleType,f=t.atRuleParams;return s?this.get(s,c,f,{selectorsAdd:d,atRuleType:p}):void 0},i.prototype.getRules=function(e){var t=this.getAll();if(!e)return bT([],t.models,!0);var n={sort:!0},r=(0,X.isString)(e)?e.split(",").map(function(s){return s.trim()}):e,a=t.filter(function(s){return r.indexOf(s.getSelectors().getFullString(null,n))>=0});return a},i.prototype.setIdRule=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var r=n.addOpts,a=r===void 0?{}:r,s=n.mediaText,c=n.state||"",d=(0,X.isUndefined)(s)?this.em.getCurrentMedia():s,p=this.em.Selectors,f=p.add({name:e,type:Ji.TYPE_ID},a),h=this.add(f,c,d,{},a);return h.setStyle(t,cs(cs({},n),a)),h},i.prototype.getIdRule=function(e,t){t===void 0&&(t={});var n=t.mediaText,r=t.state||"",a=(0,X.isUndefined)(n)?this.em.getCurrentMedia():n,s=this.em.Selectors.get(e,Ji.TYPE_ID);return s&&this.get(s,r,a)},i.prototype.setClassRule=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var r=n.state||"",a=n.mediaText||this.em.getCurrentMedia(),s=this.em.Selectors,c=s.add({name:e,type:Ji.TYPE_CLASS}),d=this.add(c,r,a);return d.setStyle(t,n),d},i.prototype.getClassRule=function(e,t){t===void 0&&(t={});var n=t.state||"",r=t.mediaText||this.em.getCurrentMedia(),a=this.em.Selectors.get(e,Ji.TYPE_CLASS);return a&&this.get(a,n,r)},i.prototype.remove=function(e,t){var n=(0,X.isString)(e)?this.getRules(e):e,r=this.getAll().remove(n,t);return(0,X.isArray)(r)?r:[r]},i.prototype.clear=function(e){return e===void 0&&(e={}),this.getAll().reset([],e),this},i.prototype.getComponentRules=function(e,t){t===void 0&&(t={});var n=t.state,r=t.mediaText,a=t.current;a&&(n=this.em.get("state")||"",r=this.em.getCurrentMedia());var s=e.getId(),c=this.getAll().filter(function(d){return!(0,X.isUndefined)(n)&&d.get("state")!==n||!(0,X.isUndefined)(r)&&d.get("mediaText")!==r?!1:d.getSelectorsString()==="#".concat(s)});return c},i.prototype.render=function(){var e;return(e=this.rulesView)===null||e===void 0||e.remove(),this.rulesView=new qh({collection:this.rules,config:this.config}),this.rulesView.render().el},i.prototype.checkId=function(e,t){t===void 0&&(t={});var n=t.idMap,r=n===void 0?{}:n,a=[];if(!Object.keys(r).length)return a;var s=Array.isArray(e)?e:[e];return s.forEach(function(c){var d=c.selectors;if(d&&d.length==1){var p=d[0];if((0,X.isString)(p)){if(p[0]==="#"){var f=p.substring(1),h=r[f];f&&h&&(d[0]="#".concat(h),a.push(c))}}else if(p.name&&p.type===Ji.TYPE_ID){var h=r[p.name];h&&(p.name=h,a.push(c))}}}),a},i.prototype.destroy=function(){var e;this.rules.reset(),this.rules.stopListening(),(e=this.rulesView)===null||e===void 0||e.remove()},i}(Go),xT=CT,wT=function(){return{appendTo:"",blocks:[],appendOnClick:!1,custom:!1}},OT=wT,PT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),MT=function(o){PT(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(i.prototype,"category",{get:function(){var e=this.get("category");return e instanceof Qc?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),i.prototype.getId=function(){return this.id},i.prototype.getLabel=function(){return this.get("label")},i.prototype.getMedia=function(){return this.get("media")},i.prototype.getContent=function(){return this.get("content")},i.prototype.getDragDef=function(){return this.get("dragDef")},i.prototype.getCategoryLabel=function(){var e=this.get("category");return(0,X.isFunction)(e?.get)?e.get("label"):e?.label?e?.label:e},i}(gt.Kx),Y_=MT,TT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Q_=function(o){TT(i,o);function i(e,t){var n=o.call(this,e)||this;return n.em=t.em,n.on("add",n.handleAdd),n}return i.prototype.getCategories=function(){return this.em.Blocks.getCategories()},i.prototype.handleAdd=function(e){this.initCategory(e)},i}(N_),xu=Q_;Q_.prototype.model=Y_;var Lu=function(o){return o.add="block:add",o.remove="block:remove",o.removeBefore="block:remove:before",o.update="block:update",o.dragStart="block:drag:start",o.drag="block:drag",o.dragEnd="block:drag:stop",o.categoryUpdate="block:category:update",o.custom="block:custom",o.all="block",o}(Lu||{});var ST=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ml=function(){return ml=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},ml.apply(this,arguments)},ET=function(o){ST(i,o);function i(e,t){t===void 0&&(t={});var n=o.call(this,e)||this,r=n.model;return n.em=t.em,n.config=t,n.endDrag=n.endDrag.bind(n),n.ppfx=t.pStylePrefix||"",n.listenTo(r,"destroy remove",n.remove),n.listenTo(r,"change",n.render),n}return i.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},i.prototype.__getModule=function(){return this.em.Blocks},i.prototype.handleClick=function(e){var t,n,r=this,a=r.config,s=r.model,c=r.em,d=s.get("onClick")||a.appendOnClick;if(c.trigger("block:click",s,e),d){if((0,X.isFunction)(d))return d(s,c?.getEditor(),{event:e})}else return;var p=(t=a.getSorter)===null||t===void 0?void 0:t.call(a);if(p){var f=s.get("content"),h=this.getTempDropModel(f),v=(n=h.view)===null||n===void 0?void 0:n.el,C=v?[{element:v,dragSource:{content:f}}]:[],b=c.getSelected(),x,w,P,M=0;if(b)if(w=p.validTarget(b.getEl(),C,M),w)x=b;else{var y=b.parent();y&&(w=p.validTarget(y.getEl(),C,M),w&&(x=y,P=y.components().indexOf(b)+1))}if(!x){var A=c.getWrapper();w=p.validTarget(A.getEl(),C,M),w&&(x=A)}var k=x&&x.append(f,{at:P})[0];k&&c.setSelected(k,{scroll:!0})}},i.prototype.startDrag=function(e){var t,n=this,r=n.config,a=n.em,s=n.model,c=s.get("disable");if(!(e.button!==0||!r.getSorter||this.el.draggable||c)){a.refreshCanvas();var d=r.getSorter();d.__currentBlock=s;var p=this.model.get("content"),f=this.getTempDropModel(p),h=(t=f.view)===null||t===void 0?void 0:t.el,v=h?[{element:h,dragSource:{content:p}}]:[];d.startSort(v),(0,Ct.on)(document,"mouseup",this.endDrag)}},i.prototype.handleDragStart=function(e){this.__getModule().__startDrag(this.model,e)},i.prototype.handleDrag=function(e){this.__getModule().__drag(e)},i.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},i.prototype.endDrag=function(){var e,t;(0,Ct.AU)(document,"mouseup",this.endDrag);var n=(t=(e=this.config).getSorter)===null||t===void 0?void 0:t.call(e);n&&n.endDrag()},i.prototype.getTempDropModel=function(e){var t,n=this.em.Components.getComponents(),r={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},a=n.add(e,ml(ml({},r),{temporary:!0})),s=n.remove(a,ml(ml({},r),{temporary:!0}));return s=s instanceof Array?s[0]:s,(t=s.view)===null||t===void 0||t.$el.data("model",s),s},i.prototype.render=function(){var e,t=this,n=t.em,r=t.el,a=t.$el,s=t.ppfx,c=t.model,d=c.get("disable"),p=c.get("attributes")||{},f=p.class||"",h="".concat(s,"block"),v=n&&n.t("blockManager.labels.".concat(c.id))||c.get("label"),C=c.get("render"),b=c.get("media"),x=d?"".concat(h,"--disable"):"".concat(s,"four-color-h");a.attr(p),r.className="".concat(f," ").concat(h," ").concat(s,"one-bg ").concat(x).trim(),r.innerHTML=`
      `.concat(b?'<div class="'.concat(h,'__media">').concat(b,"</div>"):"",`
      <div class="`).concat(h,'-label">').concat(v,`</div>
    `),r.title=p.title||((e=r.textContent)===null||e===void 0?void 0:e.trim()),r.setAttribute("draggable","".concat(!!((0,Ze.hasDnd)(n)&&!d)));var w=C&&C({el:r,model:c,className:h,prefix:s});return w&&(r.innerHTML=w),this},i}(gt.Ss),kT=ET,AT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),IT=function(o,i){return Object.defineProperty?Object.defineProperty(o,"raw",{value:i}):o.raw=i,o},LT=function(o){AT(i,o);function i(e,t,n){var r=o.call(this,e)||this;r.config=t;var a=t.pStylePrefix||"";return r.em=t.em,r.catName=n,r.pfx=a,r.caretR="fa fa-caret-right",r.caretD="fa fa-caret-down",r.iconClass="".concat(a,"caret-icon"),r.activeClass="".concat(a,"open"),r.className="".concat(a).concat(n,"-category"),r.listenTo(r.model,"change:open",r.updateVisibility),r.model.view=r,r}return i.prototype.events=function(){return{"click [data-title]":"toggle"}},i.prototype.template=function(e){var t=e.pfx,n=e.label,r=e.catName;return pr(pv||(pv=IT([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),t,t,n,t,r)},i.prototype.attributes=function(){return this.model.get("attributes")||{}},i.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},i.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},i.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},i.prototype.toggle=function(){var e=this.model;e.set("open",!e.get("open"))},i.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},i.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},i.prototype.append=function(e){this.getTypeEl().appendChild(e)},i.prototype.render=function(){var e=this,t=e.em,n=e.el,r=e.$el,a=e.model,s=e.pfx,c=e.catName,d=t.t("".concat(c,"Manager.categories.").concat(a.id))||a.get("label");return n.innerHTML=this.template({pfx:s,label:d,catName:c}),r.addClass(this.className),r.css({order:a.get("order")}),this.updateVisibility(),this},i}(gt.Ss),X_=LT,pv,NT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hp=function(){return hp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},hp.apply(this,arguments)},DT=function(o){NT(i,o);function i(e,t){var n=o.call(this,e)||this;n.renderedCategories=new Map,(0,X.bindAll)(n,"getSorter","onDrag","onDrop","onMove"),n.config=t||{},n.categories=e.categories||"";var r=n.config.pStylePrefix||"";n.ppfx=r,n.noCatClass="".concat(r,"blocks-no-cat"),n.blockContClass="".concat(r,"blocks-c"),n.catsClass="".concat(r,"block-categories");var a=n.collection;return n.listenTo(a,"add",n.addTo),n.listenTo(a,"reset",n.render),n.em=n.config.em,n.em&&(n.config.getSorter=n.getSorter),n}return i.prototype.__getModule=function(){return this.em.Blocks},i.prototype.updateConfig=function(e){e===void 0&&(e={}),this.config=hp(hp({},this.config),e)},i.prototype.getSorter=function(){var e=this.em;if(e){if(!this.sorter){var t=e.Utils,n=e.Canvas;this.sorter=new t.ComponentSorter({em:e,treeClass:F_,containerContext:{container:n.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:n.getPlacerEl(),document:n.getBody().ownerDocument},dragBehavior:{dragDirection:_s.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},i.prototype.onDrag=function(e){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,e)},i.prototype.onMove=function(e){this.__getModule().__drag(e)},i.prototype.onDrop=function(e){this.em.runDefault(),this.__getModule().__endDrag({component:e}),delete this.sorter.__currentBlock},i.prototype.addTo=function(e){this.add(e)},i.prototype.add=function(e,t){var n=this,r=n.config,a=n.renderedCategories,s=e.get("attributes"),c=new kT({model:e,attributes:s},r),d=c.render().el,p=e.parent.initCategory(e);if(p&&this.categories&&!r.ignoreCategories){var f=p.getId(),h=this.getCategoriesEl(),v=a.get(f);!v&&h&&(v=new X_({model:p},r,"block").render(),a.set(f,v),h.appendChild(v.el)),v?.append(d);return}t?t.appendChild(d):this.append(d)},i.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},i.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},i.prototype.append=function(e){var t=this.getBlocksEl();t&&t.appendChild(e)},i.prototype.render=function(){var e=this,t=this.ppfx,n=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(a){return e.add(a,n)}),this.append(n);var r="".concat(this.blockContClass,"s ").concat(t,"one-bg ").concat(t,"two-color");return this.$el.addClass(r),this.rendered=!0,this},i}(gt.Ss),fv=DT,RT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ka=function(){return ka=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},ka.apply(this,arguments)},FT=function(o){RT(i,o);function i(e){var t=o.call(this,e,"BlockManager",new xu([],{em:e}),Lu,OT())||this;return t.events=Lu,t.Block=Y_,t.Blocks=xu,t.Category=Qc,t.Categories=ju,t.storageKey="",t.blocks=t.all,t.blocksVisible=new xu(t.blocks.models,{em:e}),t.categories=new ju([],{em:e,events:{update:Lu.categoryUpdate}}),t.__onAllEvent=(0,X.debounce)(function(){return t.__trgCustom()},0),t}return i.prototype.onInit=function(){var e=this,t=e.config,n=e.blocks,r=e.blocksVisible;n.on("add",function(a){return r.add(a)}),n.on("remove",function(a){return r.remove(a)}),n.on("reset",function(a){return r.reset(a.models)}),n.add(t.blocks||[])},i.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},i.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:t.container,dragStart:function(n,r){return e.startDrag(n,r)},drag:function(n){return e.__drag(n)},dragStop:function(n){return e.endDrag(n)}}},i.prototype.__startDrag=function(e,t){var n=this,r=n.em,a=n.events,s=n.blocks,c=e.getContent?e.getContent():e;this._dragBlock=e,r.set({dragResult:null,dragSource:{content:c,dragDef:e.getDragDef()}}),[r,s].map(function(d){return d.trigger(a.dragStart,e,t)})},i.prototype.__drag=function(e){var t=this,n=t.em,r=t.events,a=t.blocks,s=this._dragBlock;[n,a].map(function(c){return c.trigger(r.drag,s,e)})},i.prototype.__endDrag=function(e){e===void 0&&(e={});var t=this,n=t.em,r=t.events,a=t.blocks,s=this._dragBlock,c=e.component||n.get("dragResult");if(delete this._dragBlock,c&&s){var d="activeOnRender",p=c.get&&c.get(d),f=s.get("activate")||p,h=s.get("select"),v=(0,X.isArray)(c)?c[0]:c,C=h||f&&h!==!1;C?n.setSelected(v,{activate:f}):f&&v.trigger("active"),f&&p&&v.unset(d),s.get("resetId")&&v.onAll(function(b){return b.resetId()})}n.set({dragResult:null,dragSource:void 0}),s&&[n,a].map(function(b){return b.trigger(r.dragEnd,c,s)})},i.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(e){return e.view}).filter(Boolean)},i.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=ka(ka({},this._bhv||{}),e)},i.prototype.__getBehaviour=function(){return this._bhv||{}},i.prototype.startDrag=function(e,t){this.__startDrag(e,t),this.__getFrameViews().forEach(function(n){var r;return(r=n.droppable)===null||r===void 0?void 0:r.startCustom()})},i.prototype.endDrag=function(e){this.__getFrameViews().forEach(function(t){var n;return(n=t.droppable)===null||n===void 0?void 0:n.endCustom(e)}),this.__endDrag()},i.prototype.postRender=function(){var e=this,t=e.categories,n=e.config,r=e.em,a=this.blocksVisible;this.blocksView=new fv({collection:a,categories:t},ka(ka({},n),{em:r})),this.__appendTo(a.models),this.__trgCustom()},i.prototype.add=function(e,t,n){n===void 0&&(n={});var r=t||{};return r.id=e,this.blocks.add(r,n)},i.prototype.get=function(e){return this.blocks.get(e)},i.prototype.getAll=function(){return this.blocks},i.prototype.getAllVisible=function(){return this.blocksVisible},i.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},i.prototype.getCategories=function(){return this.categories},i.prototype.getContainer=function(){var e;return(e=this.blocksView)===null||e===void 0?void 0:e.el},i.prototype.getDragBlock=function(){return this._dragBlock},i.prototype.getBlocksByCategory=function(e){return L_(e||this.getAll().models)},i.prototype.render=function(e,t){t===void 0&&(t={});var n=this,r=n.categories,a=n.config,s=n.em,c=e||this.getAll().models;if(t.external){var d=new xu(c,{em:s});return new fv({collection:d,categories:r},ka(ka({em:s},a),t)).render().el}return this.blocksView&&(this.blocksView.updateConfig(t),this.blocksView.collection.reset(c),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},i.prototype.destroy=function(){var e,t=[this.blocks,this.blocksVisible,this.categories];t.map(function(n){return n.stopListening()}),t.map(function(n){return n.reset()}),(e=this.blocksView)===null||e===void 0||e.remove()},i}(Go),VT=FT,jT=function(){return{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1}},HT=jT,zT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Z_=function(o){zT(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return{name:"",label:""}},i.prototype.getName=function(){return this.get("name")},i.prototype.getLabel=function(){return this.get("label")||this.getName()},i}(gt.Kx),Ph=Z_;Z_.prototype.idAttribute="name";var BT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),UT=function(o,i){return Object.defineProperty?Object.defineProperty(o,"raw",{value:i}):o.raw=i,o},hv="contentEditable",GT=function(o){BT(i,o);function i(e){e===void 0&&(e={});var t=o.call(this,e)||this,n=e.config||{};return t.config=n,t.module=e.module,t.coll=e.coll||null,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.em=n.em,t.listenTo(t.model,"change:active",t.updateStatus),t}return i.prototype.template=function(){var e=this,t=e.pfx,n=e.model,r=e.config,a=n.get("label")||"";return pr(mv||(mv=UT([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),t,t,t,a,t,t,r.iconTagRemove)},i.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},i.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},i.prototype.startEditTag=function(){var e=this.em,t=this.getInputEl();t[hv]="true",t.focus(),e?.setEditing(!0)},i.prototype.endEditTag=function(){var e=this,t=e.model,n=e.em,r=this.getInputEl(),a=r.textContent||"",s=n?.Selectors;r[hv]="false",n?.setEditing(!1),s&&s.rename(t,a)!==t&&(r.innerText=t.getLabel())},i.prototype.changeStatus=function(){var e=this.model;e.set("active",!e.getActive())},i.prototype.removeTag=function(){this.module.removeSelected(this.model)},i.prototype.updateStatus=function(){var e=this,t=e.model,n=e.$el,r=e.config,a=r.iconTagOn,s=r.iconTagOff,c=n.find("[data-tag-status]");t.get("active")?(c.html(a),n.removeClass("opac50")):(c.html(s),n.addClass("opac50"))},i.prototype.render=function(){var e=this,t=e.pfx,n=e.ppfx,r=e.$el,a=e.model,s="".concat(t,"tag"),c=["".concat(s," ").concat(n,"three-bg")];return a.get("protected")&&c.push("".concat(s,"-protected")),r.html(this.template()),r.attr("class",c.join(" ")),this.updateStatus(),this},i}(gt.Ss),WT=GT,mv,KT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Mc=function(o,i){return Object.defineProperty?Object.defineProperty(o,"raw",{value:i}):o.raw=i,o},qT=function(o){KT(i,o);function i(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.className=t.pfx+"tags",t.stateInputId=t.pfx+"states",t.stateInputC=t.pfx+"input-c",t.states=t.config.states||[];var n=t.config.em,r=t.collection;t.target=n;var a=n.Selectors;t.module=a,t.em=n,t.componentChanged=(0,X.debounce)(t.componentChanged.bind(t),0),t.checkSync=(0,X.debounce)(t.checkSync.bind(t),0);var s=wn.I.update,c="".concat(s,":classes"),d="component:toggled ".concat(c),p="".concat(c," ").concat(s,":attributes:id change:state");return t.listenTo(n,d,t.componentChanged),t.listenTo(n,"styleManager:update",t.componentChanged),t.listenTo(n,p,t.__handleStateChange),t.listenTo(n,"styleable:change change:device",t.checkSync),t.listenTo(r,"add",t.addNew),t.listenTo(r,"reset",t.renderClasses),t.listenTo(r,"remove",t.tagRemoved),t.listenTo(a.getAll(),a.events.state,(0,X.debounce)(function(){return t.renderStates()},0)),t.delegateEvents(),t}return i.prototype.template=function(e){var t=e.labelInfo,n=e.labelHead,r=e.iconSync,a=e.iconAdd,s=e.pfx,c=e.ppfx;return pr(gv||(gv=Mc([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),s,s,s,s,n,s,s,s,c,c,c,s,c,c,s,c,s,s,s,s,s,a,s,s,r,s,s,t,s)},i.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},i.prototype.syncStyle=function(){var e=this.em,t=this.getTarget(),n=e.Css,r={noDisabled:1},a=this.getCommonSelectors({opts:r}),s=e.get("state"),c=e.getCurrentMedia(),d=[],p=n.get(a,s,c)||n.add(a,s,c),f;this.getTargets().forEach(function(h){var v=n.getIdRule(h.getId(),{state:s,mediaText:c});f=v.getStyle(),v.setStyle({}),d.push(v)}),f&&p.addStyle(f),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:t,selectors:a,mediaText:c,rule:p,ruleComponents:d,state:s})},i.prototype.tagRemoved=function(e){this.updateStateVis()},i.prototype.addNew=function(e){this.addToClasses(e)},i.prototype.startNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:"none"}),(t=this.$input)===null||t===void 0||t.show().focus()},i.prototype.endNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:""}),(t=this.$input)===null||t===void 0||t.hide().val("")},i.prototype.onInputKeyUp=function(e){var t;e.keyCode===13?(e.preventDefault(),this.addNewTag((t=this.$input)===null||t===void 0?void 0:t.val())):e.keyCode===27&&this.endNewTag()},i.prototype.checkStates=function(){var e=this.em.getState(),t=this.getStates();t&&t.val(e)},i.prototype.componentChanged=function(e){var t=e===void 0?{}:e,n=t.targets;this.updateSelection(n)},i.prototype.updateSelection=function(e){var t=e||this.getTargets();t=(0,X.isArray)(t)?t:[t];var n=[];return t&&t.length&&(n=this.getCommonSelectors({targets:t}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(t),this.module.__trgCustom(),n},i.prototype.getCommonSelectors=function(e){var t=e===void 0?{}:e,n=t.targets,r=t.opts,a=r===void 0?{}:r,s=n||this.getTargets();return this.module.__getCommonSelectors(s,a)},i.prototype._commonSelectors=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.module).__common.apply(e,t)},i.prototype.checkSync=function(){var e=this,t=e.$btnSyncEl,n=e.config,r=e.collection,a=this.getTarget(),s;if(a&&n.componentFirst&&r.length){var c=a.getStyle();s=!(0,X.isEmpty)(c)}t&&t[s?"show":"hide"]()},i.prototype.getTarget=function(){return this.target.getSelected()},i.prototype.getTargets=function(){return this.target.getSelectedAll()},i.prototype.updateStateVis=function(e){var t=this.em,n=t&&t.getConfig().avoidInlineStyle,r=this.collection.length||n?"":"none";this.getStatesC().css("display",r),this.updateSelector(e)},i.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},i.prototype.updateSelector=function(e){var t=this,n=this.el.querySelector("[data-selected]"),r=[],a=e||this.getTargets();a=(0,X.isArray)(a)?a:[a],a.forEach(function(s){return r.push(t.__getName(s))}),n&&(n.innerHTML=r.join(", ")),this.checkStates()},i.prototype.__getName=function(e){var t=this,n=t.pfx,r=t.config,a=t.em,s=r.selectedName,c=r.componentFirst,d;if((0,X.isString)(e))d=pr(vv||(vv=Mc(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),n,e);else{var p=e?.getSelectors();if(!p)return"";var f=p.getStyleable(),h=a.get("state"),v=e.getId?pr(_v||(_v=Mc(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),n,e.getName(),n,e.getId()):"";d=this.collection.getFullString(f),d=d?pr(yv||(yv=Mc(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),n,d):e.get("selectorsAdd")||v,d=c&&v?v:d,d+=h?pr(bv||(bv=Mc(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),n,h):"",d=s?s({result:d,state:h,target:e}):d}return d&&'<span class="'.concat(n,'sel">').concat(d,"</span>")},i.prototype.stateChanged=function(e){var t=this.em,n=e.target.value;t.set("state",n)},i.prototype.addNewTag=function(e){var t=e.trim();t&&(this.module.addSelected({label:t}),this.endNewTag())},i.prototype.addToClasses=function(e,t){var n=t,r=this.getClasses(),a=new WT({model:e,config:this.config,coll:this.collection,module:this.module}).render().el;return n?n.appendChild(a):r.append(a),a},i.prototype.renderClasses=function(){var e=this,t=document.createDocumentFragment(),n=this.getClasses();n.empty(),this.collection.each(function(r){return e.addToClasses(r,t)}),n.append(t)},i.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},i.prototype.getStates=function(){if(!this.$states){var e=this.$el.find("[data-states]");this.$states=e[0]&&e}return this.$states},i.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},i.prototype.renderStates=function(){var e=this,t=e.module,n=e.em,r=n.t("selectorManager.emptyState"),a=t.getStates().map(function(c){var d=n.t("selectorManager.states.".concat(c.id))||c.getLabel()||c.id;return'<option value="'.concat(c.id,'">').concat(d,"</option>")}).join(""),s=this.getStates();s&&s.html('<option value="">'.concat(r,"</option>").concat(a)),this.checkStates()},i.prototype.render=function(){var e=this,t=e.em,n=e.pfx,r=e.ppfx,a=e.config,s=e.$el,c=e.el,d=a.render,p=a.iconSync,f=a.iconAdd,h={iconSync:p,iconAdd:f,labelHead:t.t("selectorManager.label"),labelInfo:t.t("selectorManager.selected"),ppfx:r,pfx:n,el:c};s.html(this.template(h));var v=d&&d(h);return v&&v!==c&&s.empty().append(v),this.$input=s.find("[data-input]"),this.$addBtn=s.find("[data-add]"),this.$classes=s.find("#"+n+"tags-c"),this.$btnSyncEl=s.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),s.attr("class","".concat(this.className," ").concat(r,"one-bg ").concat(r,"two-color")),this},i}(gt.Ss),$T=qT,gv,vv,_v,yv,bv,YT=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fc=function(){return Fc=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Fc.apply(this,arguments)},Mh=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},Cv=function(o){return(0,X.isString)(o)&&o[0]=="#"},xv=function(o){return(0,X.isString)(o)&&o[0]=="."},J_="selector",Xc="".concat(J_,":"),QT="".concat(Xc,"add"),XT="".concat(Xc,"update"),ey="".concat(Xc,"remove"),ZT="".concat(ey,":before"),JT="".concat(Xc,"custom"),ty="".concat(Xc,"state"),eS={all:J_,update:XT,add:QT,remove:ey,removeBefore:ZT,state:ty,custom:JT},tS=function(o){YT(i,o);function i(e){var t=o.call(this,e,"SelectorManager",new La([]),eS,HT(),{skipListen:!0})||this;t.Selector=Ji,t.Selectors=La,t.storageKey="",(0,X.bindAll)(t,"__updateSelectedByComponents");var n=t.config,r=n.pStylePrefix;r&&(n.stylePrefix=r+n.stylePrefix),t.all=new La(n.selectors),t.selected=new La([],{em:e,config:n}),t.states=new gt.pM(n.states.map(function(c){return new Ph(c)}),{model:Ph}),t.model=new gt.Kx({cFirst:n.componentFirst,_undo:!0}),t.__update=(0,X.debounce)(function(){return t.__trgCustom()},0),t.__initListen({collections:[t.states,t.selected],propagate:[{entity:t.states,event:t.events.state}]}),e.on("change:state",function(c,d){return e.trigger(ty,d)}),t.model.on("change:cFirst",function(c,d){return e.trigger("selector:type",d)});var a="".concat(wn.I.update,":classes");e.on("component:toggled ".concat(a),t.__updateSelectedByComponents);var s="component:toggled ".concat(a," change:device styleManager:update selector:state selector:type style:target");return t.model.listenTo(e,s,function(){return t.__update()}),t}return i.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,this.__customData(e))},i.prototype.getAll=function(e){return e===void 0&&(e={}),this.all?e.array?Mh([],this.all.models,!0):this.all:[]},i.prototype.__customData=function(e){return e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},i.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},i.prototype.select=function(e,t){t===void 0&&(t={});var n=Array.isArray(e)?e:[e],r=this.em.Styles.select(n,t);this.selected.reset(this.__getCommonSelectors(r));var a=this.selectorTags,s=r.filter(function(c){return c}).map(function(c){return(0,Ze.isComponent)(c)||(0,Ze.isRule)(c)&&!c.get("selectorsAdd")?c:c.getSelectorsString()});return a&&a.componentChanged({targets:s}),this},i.prototype.addSelector=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var r=Fc({},t);(0,X.isObject)(e)?r=e:r.name=e,Cv(r.name)?(r.name=r.name.substr(1),r.type=Ji.TYPE_ID):xv(r.name)&&(r.name=r.name.substr(1)),r.label&&!r.name&&(r.name=this.escapeName(r.label));var a=r.name,s=this.getConfig(),c=this,d=c.all,p=c.em,f=a?this.get(a,r.type):d.where(r)[0];if(!f){var h=r instanceof Ji?r:new Ji(r,Fc(Fc({},n),{config:s,em:p}));return d.add(h,n)}return f},i.prototype.getSelector=function(e,t){return t===void 0&&(t=Ji.TYPE_CLASS),Cv(e)?(e=e.substr(1),t=Ji.TYPE_ID):xv(e)&&(e=e.substr(1)),this.all.where({name:e,type:t})[0]},i.prototype.add=function(e,t){var n=this;t===void 0&&(t={});var r=(0,X.isString)(e)?{}:t;return(0,X.isArray)(e)?e.map(function(a){return n.addSelector(a,t,r)}):this.addSelector(e,t,r)},i.prototype.addClass=function(e){var t=this,n=[];return(0,X.isString)(e)&&(e=e.trim().split(" ").filter(Boolean)),e.forEach(function(r){return n.push(t.addSelector(r))}),n},i.prototype.get=function(e,t){var n=this;if((0,X.isArray)(e)){var r=[],a=e.map(function(s){return n.getSelector(s)}).filter(Boolean);return a.forEach(function(s){return r.indexOf(s)<0&&r.push(s)}),r}else return this.getSelector(e,t)},i.prototype.remove=function(e,t){return this.__remove(e,t)},i.prototype.rename=function(e,t,n){var r=this.escapeName(t),a=this.get(r);return a||e.set({name:r,label:t},n)},i.prototype.setState=function(e){return this.em.setState(e),this},i.prototype.getState=function(){return this.em.getState()},i.prototype.getStates=function(){return Mh([],this.states.models,!0)},i.prototype.setStates=function(e,t){return this.states.reset(e.map(function(n){return new Ph(n)}),t)},i.prototype.getSelected=function(){return this.__getCommon()},i.prototype.getSelectedAll=function(){return Mh([],this.selected.models,!0)},i.prototype.addSelected=function(e){var t=this.add(e);this.em.getSelectedAll().forEach(function(n){n.getSelectors().add(t)})},i.prototype.removeSelected=function(e){this.em.getSelectedAll().forEach(function(t){!e.get("protected")&&t&&t.getSelectors().remove(e)})},i.prototype.duplicateSelected=function(e,t){var n=this;t===void 0&&(t={});var r=this.em,a=this.getSelected();if(!(a.indexOf(e)<0)){var s=this.getState(),c=r.getCurrentMedia(),d=r.Css.get(a,s,c),p=d?.getStyle();if(r.getSelectedAll().forEach(function(h){var v=h.getSelectors();if(v.includes(e)){var C=t.suffix||" copy",b=e.getLabel(),x=n.addSelector("".concat(b).concat(C)),w=v.indexOf(e);v.remove(e),v.add(x,{at:w})}}),p){var f=r.Css.add(this.getSelected(),s,c);f.setStyle(p)}}},i.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},i.prototype.setComponentFirst=function(e){this.getConfig().componentFirst=e,this.model.set({cFirst:e})},i.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},i.prototype.escapeName=function(e){var t=this.getConfig().escapeName;return t?t(e):Ji.escapeName(e)},i.prototype.render=function(e){var t=this.selectorTags,n=this.getConfig(),r=t?.el;return this.selected.reset(e),this.selectorTags=new $T({el:r,collection:this.selected,module:this,config:n}),this.selectorTags.render().el},i.prototype.destroy=function(){var e=this,t=e.selectorTags,n=e.model;n.stopListening(),this.__update.cancel(),this.__destroy(),t?.remove(),this.selectorTags=void 0},i.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},i.prototype.__getCommonSelectors=function(e,t){t===void 0&&(t={});var n=e.map(function(r){return r.getSelectors&&r.getSelectors().getValid(t)}).filter(Boolean);return this.__common.apply(this,n)},i.prototype.__common=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length?t.length===1?t[0]:t.length===2?t[0].filter(function(r){return t[1].indexOf(r)>=0}):t.slice(1).reduce(function(r,a){return e.__common(r,a)},t[0]):[]},i.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},i}(Go),nS=tS,iS=function(){return{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1,convertDataGjsAttributesHyphens:!1}}},rS=iS,eo,Er={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},Ml=(eo={},eo[Er.MEDIA_RULE]="media",eo[Er.FONT_FACE_RULE]="font-face",eo[Er.PAGE_RULE]="page",eo[Er.KEYFRAMES_RULE]="keyframes",eo[Er.COUNTER_STYLE_RULE]="counter-style",eo[Er.SUPPORTS_RULE]="supports",eo[Er.DOCUMENT_RULE]="document",eo[Er.FONT_FEATURE_VALUES_RULE]="font-feature-values",eo[Er.VIEWPORT_RULE]="viewport",eo),ny=(0,X.keys)(Ml),Nm=[Er.FONT_FACE_RULE,Er.PAGE_RULE,Er.COUNTER_STYLE_RULE,Er.VIEWPORT_RULE],oS=ny.filter(function(o){return Nm.indexOf(Number(o))<0}).map(function(o){return Ml[o]}).concat(["container","layer"]),aS=Nm.map(function(o){return Ml[o]}),iy=function(o){o===void 0&&(o="");for(var i=[],e=[],t=o.split(","),n=0,r=t.length;n<r;n++){var a=t[n].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(a)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(a)){var s=a.split(".").filter(Boolean);e.push(s)}else i.push(a)}return{result:e,add:i}},sS=function(o){for(var i=o.style,e={},t=0,n=i.length;t<n;t++){var r=i[t],a=i.getPropertyValue(r),s=i.getPropertyPriority(r);e[r]="".concat(a).concat(s?" !".concat(s):"")}return e},wv=function(o){var i=o.conditionText||o.media&&o.media.mediaText||o.name||o.selectorText||"";return i.trim()},im=function(o,i,e){i===void 0&&(i={}),e===void 0&&(e={});var t={},n=o.length,r=o[n-1],a=r?r.split(/:(.+)/):[],s=a[1],c=e.atRule,d=e.selectorsAdd,p=e.mediaText,f=aS.indexOf(c)>=0;return f&&(t.singleAtRule=!0),c&&(t.atRuleType=c),d&&(t.selectorsAdd=d),p&&(t.mediaText=p),s&&(o[n-1]=a[0],t.state=s,a.splice(a.length-1,1)),t.selectors=o,t.style=i,t},Ov=function(o){var i=o.cssText,e=i===void 0?"":i;return oS.find(function(t){return e.indexOf("@".concat(t))===0})},ry=function(o){for(var i=[],e=o.cssRules||[],t=0,n=e.length;t<n;t++){var r=e[t],a=r.type,s=!1,c="",d="",p=r.selectorText||r.keyText||"",f=Nm.indexOf(a)>=0;if(f)s=!0,c=Ml[a],d=wv(r);else if(ny.indexOf("".concat(a))>=0||!a&&Ov(r)){var h=ry(r),v=Ml[a]||Ov(r);d=wv(r);for(var C=0,b=h.length;C<b;C++){var x=h[C];d&&(x.mediaText=d),x.atRuleType=v}i=i.concat(h)}if(!(!p&&!f)){for(var w=sS(r),P=iy(p),M=P.add,y=P.result,A=void 0,k=0,N=y.length;k<N;k++){var V=im(y[k],w,{atRule:Ml[a]});i.push(V),A=V}if(M.length){var j=M.join(", ");if(A)A.selectorsAdd=j;else{var V={selectors:[],selectorsAdd:j,style:w};s&&(V.singleAtRule=s),c&&(V.atRuleType=c),d&&(V.mediaText=d),i.push(V)}}}}return i},lS=function(o){var i=document.createElement("style");i.innerHTML=o,document.head.appendChild(i);var e=i.sheet;return document.head.removeChild(i),e?ry(e):[]},cS=function(o,i){return i===void 0&&(i={}),{parse:function(e,t){var n=this;t===void 0&&(t={});var r=[],a=i.parserCss,s=o?.Editor,c=[],d,p=o?.Parser,f={input:e};p?.__emitEvent(hs.cssBefore,f);var h=f.input;try{c=a?a(h,s):lS(h)}catch(v){if(d=v,t.throwOnError)throw v}return c.forEach(function(v){return r=r.concat(n.checkNode(v))}),p?.__emitEvent(hs.css,{input:h,output:r,nodes:c,error:d}),r},checkNode:function(e){var t=e.selectors,n=e.style,r=[e];if((0,X.isString)(t)){var a=[],s=e,c=iy(t),d=c.result,p=c.add.join(", "),f={atRule:s.atRule,mediaText:s.params};if(d.length?d.forEach(function(v){a.push(im(v,n,f))}):a.push(im([],n,f)),p){var h=a[a.length-1];h.selectorsAdd=p}r=a}return r}}},dS=cS,uS=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rm=function(){return rm=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},rm.apply(this,arguments)},pS=function(o){uS(i,o);function i(e){var t=o.call(this,e,"Parser",rS())||this;t.events=hs;var n=t.config;return t.parserCss=dS(e,n),t.parserHtml=C_(e,n),t}return i.prototype.parseHtml=function(e,t){t===void 0&&(t={});var n=this,r=n.em,a=n.parserHtml;return a.compTypes=r.Components.getTypes()||[],a.parse(e,this.parserCss,t)},i.prototype.parseCss=function(e){return this.parserCss.parse(e)},i.prototype.__emitEvent=function(e,t){var n=this,r=n.em,a=n.events;r.trigger(e,t),r.trigger(a.all,rm({event:e},t))},i.prototype.destroy=function(){},i}(mr),fS=pS,hS=function(){return{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(o){return o},onLoad:function(o){return o},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(o){return o},onLoad:function(o){return o}}}}},mS=hS,Pv=function(o,i,e,t){function n(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function s(p){try{d(t.next(p))}catch(f){a(f)}}function c(p){try{d(t.throw(p))}catch(f){a(f)}}function d(p){p.done?r(p.value):n(p.value).then(s,c)}d((t=t.apply(o,i||[])).next())})},Mv=function(o,i){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},t,n,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(p){return c([d,p])}}function c(d){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){e.label=d[1];break}if(d[0]===6&&e.label<r[1]){e.label=r[1],r=d;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(d);break}r[2]&&e.ops.pop(),e.trys.pop();continue}d=i.call(o,e)}catch(p){d=[6,p],n=0}finally{t=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},gS=function(){function o(){}return o.prototype.store=function(i){return Pv(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),Mv(this,function(n){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(e)),[2,e]})})},o.prototype.load=function(){return Pv(this,arguments,void 0,function(i){var e;return i===void 0&&(i={}),Mv(this,function(t){return e={},this.hasLocal(i,!0)&&(e=JSON.parse(localStorage.getItem(i.key)||"{}")),[2,e]})})},o.prototype.hasLocal=function(i,e){if(i===void 0&&(i={}),i.checkLocal&&(!(0,Ze.hasWin)()||!localStorage)){if(e)throw new Error("localStorage not available");return!1}return!0},o}(),vS=gS;function ys(o){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ys(o)}function _S(o){var i=this.constructor;return this.then(function(e){return i.resolve(o()).then(function(){return e})},function(e){return i.resolve(o()).then(function(){return i.reject(e)})})}var yS=_S;function bS(o){var i=this;return new i(function(e,t){if(!(o&&typeof o.length<"u"))return t(new TypeError(ys(o)+" "+o+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(o);if(n.length===0)return e([]);var r=n.length;function a(c,d){if(d&&(ys(d)==="object"||typeof d=="function")){var p=d.then;if(typeof p=="function"){p.call(d,function(f){a(c,f)},function(f){n[c]={status:"rejected",reason:f},--r===0&&e(n)});return}}n[c]={status:"fulfilled",value:d},--r===0&&e(n)}for(var s=0;s<n.length;s++)a(s,n[s])})}var CS=bS;function oy(o,i){this.name="AggregateError",this.errors=o,this.message=i||""}oy.prototype=Error.prototype;function xS(o){var i=this;return new i(function(e,t){if(!(o&&typeof o.length<"u"))return t(new TypeError("Promise.any accepts an array"));var n=Array.prototype.slice.call(o);if(n.length===0)return t();for(var r=[],a=0;a<n.length;a++)try{i.resolve(n[a]).then(e).catch(function(s){r.push(s),r.length===n.length&&t(new oy(r,"All promises were rejected"))})}catch(s){t(s)}})}var wS=xS,OS=setTimeout;function ay(o){return!!(o&&typeof o.length<"u")}function PS(){}function MS(o,i){return function(){o.apply(i,arguments)}}function Yn(o){if(!(this instanceof Yn))throw new TypeError("Promises must be constructed via new");if(typeof o!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ly(o,this)}function sy(o,i){for(;o._state===3;)o=o._value;if(o._state===0){o._deferreds.push(i);return}o._handled=!0,Yn._immediateFn(function(){var e=o._state===1?i.onFulfilled:i.onRejected;if(e===null){(o._state===1?om:$c)(i.promise,o._value);return}var t;try{t=e(o._value)}catch(n){$c(i.promise,n);return}om(i.promise,t)})}function om(o,i){try{if(i===o)throw new TypeError("A promise cannot be resolved with itself.");if(i&&(ys(i)==="object"||typeof i=="function")){var e=i.then;if(i instanceof Yn){o._state=3,o._value=i,am(o);return}else if(typeof e=="function"){ly(MS(e,i),o);return}}o._state=1,o._value=i,am(o)}catch(t){$c(o,t)}}function $c(o,i){o._state=2,o._value=i,am(o)}function am(o){o._state===2&&o._deferreds.length===0&&Yn._immediateFn(function(){o._handled||Yn._unhandledRejectionFn(o._value)});for(var i=0,e=o._deferreds.length;i<e;i++)sy(o,o._deferreds[i]);o._deferreds=null}function TS(o,i,e){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof i=="function"?i:null,this.promise=e}function ly(o,i){var e=!1;try{o(function(t){e||(e=!0,om(i,t))},function(t){e||(e=!0,$c(i,t))})}catch(t){if(e)return;e=!0,$c(i,t)}}Yn.prototype.catch=function(o){return this.then(null,o)};Yn.prototype.then=function(o,i){var e=new this.constructor(PS);return sy(this,new TS(o,i,e)),e};Yn.prototype.finally=yS;Yn.all=function(o){return new Yn(function(i,e){if(!ay(o))return e(new TypeError("Promise.all accepts an array"));var t=Array.prototype.slice.call(o);if(t.length===0)return i([]);var n=t.length;function r(s,c){try{if(c&&(ys(c)==="object"||typeof c=="function")){var d=c.then;if(typeof d=="function"){d.call(c,function(p){r(s,p)},e);return}}t[s]=c,--n===0&&i(t)}catch(p){e(p)}}for(var a=0;a<t.length;a++)r(a,t[a])})};Yn.any=wS;Yn.allSettled=CS;Yn.resolve=function(o){return o&&ys(o)==="object"&&o.constructor===Yn?o:new Yn(function(i){i(o)})};Yn.reject=function(o){return new Yn(function(i,e){e(o)})};Yn.race=function(o){return new Yn(function(i,e){if(!ay(o))return e(new TypeError("Promise.race accepts an array"));for(var t=0,n=o.length;t<n;t++)Yn.resolve(o[t]).then(i,e)})};Yn._immediateFn=typeof setImmediate=="function"&&function(o){setImmediate(o)}||function(o){OS(o,0)};Yn._unhandledRejectionFn=function(i){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",i)};var sm=Yn;(0,Ze.hasWin)()&&(window.Promise=window.Promise||sm);var cy=typeof fetch=="function"?fetch.bind():function(o,i){return new sm(function(e,t){var n=new XMLHttpRequest;n.open(i.method||"get",o),n.withCredentials=i.credentials=="include";for(var r in i.headers||{})n.setRequestHeader(r,i.headers[r]);n.onload=function(a){return e({status:n.status,statusText:n.statusText,text:function(){return sm.resolve(n.responseText)}})},n.onerror=t,n.upload&&i.onProgress&&(n.upload.onprogress=i.onProgress),i.body?n.send(i.body):n.send()})},mp=function(){return mp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},mp.apply(this,arguments)},Tv=function(o,i,e,t){function n(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function s(p){try{d(t.next(p))}catch(f){a(f)}}function c(p){try{d(t.throw(p))}catch(f){a(f)}}function d(p){p.done?r(p.value):n(p.value).then(s,c)}d((t=t.apply(o,i||[])).next())})},Sv=function(o,i){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},t,n,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(p){return c([d,p])}}function c(d){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){e.label=d[1];break}if(d[0]===6&&e.label<r[1]){e.label=r[1],r=d;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(d);break}r[2]&&e.ops.pop(),e.trys.pop();continue}d=i.call(o,e)}catch(p){d=[6,p],n=0}finally{t=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},SS=function(){function o(){}return o.prototype.store=function(i){return Tv(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),Sv(this,function(n){switch(n.label){case 0:return[4,this.request(t.urlStore,this.__props(t,e),t)];case 1:return[2,n.sent()]}})})},o.prototype.load=function(){return Tv(this,arguments,void 0,function(i){return i===void 0&&(i={}),Sv(this,function(e){switch(e.label){case 0:return[4,this.request(i.urlLoad,this.__props(i),i)];case 1:return[2,e.sent()]}})})},o.prototype.request=function(i,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),cy(i,e).then(function(n){var r=n.text(),a=(n.status/200|0)===1;return a?r:r.then(Promise.reject)}).then(function(n){var r=n&&(0,X.isString)(n);return t.contentTypeJson&&r?JSON.parse(n):n})},o.prototype.__props=function(i,e){i===void 0&&(i={});var t=i.contentTypeJson,n=i.headers||{},r=i.fetchOptions||{},a="X-Requested-With",s="Content-Type",c;if((0,X.isUndefined)(n[a])&&(n[a]="XMLHttpRequest"),(0,X.isUndefined)(n[s])&&t&&(n[s]="application/json; charset=utf-8"),e)if(t)c=JSON.stringify(e);else{c=new FormData;for(var d in e)c.append(d,e[d])}var p={method:c?"POST":"GET",credentials:i.credentials,headers:n,body:c};return mp(mp({},p),(0,X.isFunction)(r)?r(p):r)},o}(),ES=SS,dy=function(o){return o.start="storage:start",o.startStore="storage:start:store",o.startLoad="storage:start:load",o.load="storage:load",o.store="storage:store",o.after="storage:after",o.afterStore="storage:after:store",o.afterLoad="storage:after:load",o.end="storage:end",o.endStore="storage:end:store",o.endLoad="storage:end:load",o.error="storage:error",o.errorStore="storage:error:store",o.errorLoad="storage:error:load",o}(dy||{}),$i=dy,kS=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gl=function(){return gl=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},gl.apply(this,arguments)},Th=function(o,i,e,t){function n(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function s(p){try{d(t.next(p))}catch(f){a(f)}}function c(p){try{d(t.throw(p))}catch(f){a(f)}}function d(p){p.done?r(p.value):n(p.value).then(s,c)}d((t=t.apply(o,i||[])).next())})},Sh=function(o,i){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},t,n,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(p){return c([d,p])}}function c(d){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){e.label=d[1];break}if(d[0]===6&&e.label<r[1]){e.label=r[1],r=d;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(d);break}r[2]&&e.ops.pop(),e.trys.pop();continue}d=i.call(o,e)}catch(p){d=[6,p],n=0}finally{t=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},wu="local",Ev="remote",AS=function(o){kS(i,o);function i(e){var t=o.call(this,e,"StorageManager",mS())||this;t.storages={},t.events=$i;var n=t.config;return n._disable&&(n.type=void 0),t.storages={},t.add(wu,new vS),t.add(Ev,new ES),t.setCurrent(n.type),t}return i.prototype.isAutosave=function(){return!!this.config.autosave},i.prototype.setAutosave=function(e){return this.config.autosave=!!e,this},i.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},i.prototype.setStepsBeforeSave=function(e){return this.config.stepsBeforeSave=e,this},i.prototype.add=function(e,t){return this.storages[e]=t,this},i.prototype.get=function(e){return this.storages[e]},i.prototype.getStorages=function(){return this.storages},i.prototype.getCurrent=function(){return this.config.currentStorage},i.prototype.setCurrent=function(e){return this.getConfig().currentStorage=e,this},i.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},i.prototype.getStorageOptions=function(e){return this.getCurrentOptions(e)},i.prototype.store=function(e){return Th(this,arguments,void 0,function(t,n){var r,a,s,c,d,p;return n===void 0&&(n={}),Sh(this,function(f){switch(f.label){case 0:r=this.getCurrentStorage(),a=gl(gl({},this.getCurrentOptions()),n),s=this.getRecoveryStorage(),c=this.getCurrentOptions(wu),f.label=1;case 1:return f.trys.push([1,5,,9]),[4,this.__exec(r,a,t)];case 2:return f.sent(),d=s,d?[4,this.__exec(s,c,{})]:[3,4];case 3:d=f.sent(),f.label=4;case 4:return[3,9];case 5:return p=f.sent(),s?[4,this.__exec(s,c,t)]:[3,7];case 6:return f.sent(),[3,8];case 7:throw p;case 8:return[3,9];case 9:return[2,t]}})})},i.prototype.load=function(){return Th(this,arguments,void 0,function(e){var t,n,r,a,s,c;return e===void 0&&(e={}),Sh(this,function(d){switch(d.label){case 0:return t=this.getCurrentStorage(),n=gl(gl({},this.getCurrentOptions()),e),r=this.getRecoveryStorage(),r?[4,this.__exec(r,this.getCurrentOptions(wu))]:[3,5];case 1:if(s=d.sent(),(0,X.isEmpty)(s))return[3,5];d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return d.sent(),a=s,[3,5];case 4:return c=d.sent(),[3,5];case 5:return a?[3,7]:[4,this.__exec(t,n)];case 6:a=d.sent(),d.label=7;case 7:return[2,a||{}]}})})},i.prototype.__askRecovery=function(){var e=this.em,t=this.getRecovery();return new Promise(function(n,r){(0,X.isFunction)(t)?t(n,r,e?.getEditor()):confirm(e?.t("storageManager.recover"))?n(null):r()})},i.prototype.getRecovery=function(){return this.config.recovery},i.prototype.getRecoveryStorage=function(){var e=this.getRecovery();return e&&this.getCurrent()===Ev&&this.get(wu)},i.prototype.__exec=function(e,t,n){return Th(this,void 0,void 0,function(){var r,a,s,c,d,p,f,h,v,C,b,x,w,P;return Sh(this,function(M){switch(M.label){case 0:if(r=n?"store":"load",a=this.getConfig(),s=a.onStore,c=a.onLoad,!e)return[2,n||{}];this.onStart(r,n),M.label=1;case 1:return M.trys.push([1,14,,15]),p=(P=this.em)===null||P===void 0?void 0:P.getEditor(),f=void 0,n?(v=s,v?[4,s(n,p)]:[3,3]):[3,7];case 2:v=M.sent(),M.label=3;case 3:return h=v||n,C=t.onStore,C?[4,t.onStore(h,p)]:[3,5];case 4:C=M.sent(),M.label=5;case 5:return h=C||h,[4,e.store(h,t)];case 6:return f=M.sent(),d=n,[3,13];case 7:return[4,e.load(t)];case 8:return f=M.sent(),d=this.__clearKeys(f),b=t.onLoad,b?[4,t.onLoad(d,p)]:[3,10];case 9:b=M.sent(),M.label=10;case 10:return d=b||d,x=c,x?[4,c(d,p)]:[3,12];case 11:x=M.sent(),M.label=12;case 12:d=x||d,M.label=13;case 13:return this.onAfter(r,d,f),this.onEnd(r,d,f),[3,15];case 14:throw w=M.sent(),this.onError(r,w),w;case 15:return[2,d]}})})},i.prototype.__clearKeys=function(e){e===void 0&&(e={});var t=this.getConfig(),n=new RegExp("^".concat(t.id)),r={};for(var a in e){var s=a.replace(n,"");r[s]=e[a]}return r},i.prototype.getCurrentOptions=function(e){var t=this.getConfig(),n=e||this.getCurrent();return t.options[n]||{}},i.prototype.onStart=function(e,t){var n=this.em;if(n){var r=e==="load"?$i.startLoad:$i.startStore;n.trigger($i.start,e,t),n.trigger(r,t)}},i.prototype.onAfter=function(e,t,n){var r=this.em;if(r){var a=e==="load"?$i.afterLoad:$i.afterStore;r.trigger($i.after),r.trigger(a,t,n);var s=e==="load"?$i.load:$i.store;r.trigger(s,t,n)}},i.prototype.onEnd=function(e,t,n){var r=this.em;if(r){var a=e==="load"?$i.endLoad:$i.endStore;r.trigger($i.end,e,t,n),r.trigger(a,t,n)}},i.prototype.onError=function(e,t){var n=this.em;if(n){var r=e==="load"?$i.errorLoad:$i.errorStore;n.trigger($i.error,t,e),n.trigger(r,t),this.onEnd(e,t)}},i.prototype.canAutoload=function(){var e=this.getCurrentStorage();return!!e&&!!this.config.autoload},i.prototype.destroy=function(){this.storages={}},i}(mr),IS=AS,LS=function(){return{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1}},NS=LS,DS=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vc=function(){return Vc=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Vc.apply(this,arguments)},uy=function(o){DS(i,o);function i(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.events={},t.appendInput=!0;var n=e.config,r=n===void 0?{}:n,a=t,s=a.model,c=a.eventCapture,d=s.target,p=s.attributes.type;t.config=r,t.em=r.em,t.pfx=r.stylePrefix||"",t.ppfx=r.pStylePrefix||"",t.target=d,t.className=t.pfx+"trait",t.clsField="".concat(t.ppfx,"field ").concat(t.ppfx,"field-").concat(p);var f=[["change:value",t.onValueChange],["remove",t.removeView]];return f.forEach(function(h){var v=h[0],C=h[1];s.off(v,C),t.listenTo(s,v,C)}),s.view=t,t.listenTo(s,"change:label",t.render),t.listenTo(s,"change:placeholder",t.rerender),t.events={},c.forEach(function(h){return t.events[h]="onChange"}),t.delegateEvents(),t.init(),t}return i.prototype.attributes=function(){return this.model.get("attributes")||{}},i.prototype.templateLabel=function(e){var t=this.ppfx,n=this.getLabel();return'<div class="'.concat(t,'label" title="').concat(n,'">').concat(n,"</div>")},i.prototype.templateInput=function(e){var t=this.clsField;return'<div class="'.concat(t,'" data-input></div>')},i.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},i.prototype.removeView=function(){this.remove(),this.removed()},i.prototype.init=function(){},i.prototype.removed=function(){},i.prototype.onRender=function(e){},i.prototype.onUpdate=function(e){},i.prototype.onEvent=function(e){},i.prototype.onChange=function(e){var t=this.getInputElem();t&&!(0,X.isUndefined)(t.value)&&this.model.set("value",t.value),this.onEvent(Vc(Vc({},this.getClbOpts()),{event:e}))},i.prototype.getValueForTarget=function(){return this.model.get("value")},i.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.value=e)},i.prototype.onValueChange=function(e,t,n){n===void 0&&(n={});var r=this.model,a=this.getValueForTarget();n.fromTarget?(this.setInputValue(a),this.postUpdate()):r.setValue(a,n)},i.prototype.renderLabel=function(){var e=this,t=e.$el,n=e.target,r=this.getLabel(),a=this.templateLabel(n);this.createLabel&&(a=this.createLabel({label:r,component:n,trait:this})||""),t.find("[data-label]").append(a)},i.prototype.getLabel=function(){var e=this.em,t=this.model.attributes,n=t.label,r=t.name;return e.t("traitManager.traits.labels.".concat(r))||(0,Ze.capitalize)(n||r).replace(/-/g," ")},i.prototype.getComponent=function(){return this.target},i.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.em,n=e.model,r=n,a=n.attributes.name,s=r.get("placeholder")||r.get("default")||"",c=r.get("type")||"text",d=r.get("min"),p=r.get("max"),f=this.getModelValue(),h=(0,vi.default)('<input type="'.concat(c,'">')),v=t.t("traitManager.traits.attributes.".concat(a))||{};h.attr(Vc({placeholder:s},v)),(0,X.isUndefined)(f)||(r.set({value:f},{silent:!0}),h.prop("value",f)),d&&h.prop("min",d),p&&h.prop("max",p),this.$input=h}return this.$input.get(0)},i.prototype.getInputElem=function(){var e=this,t=e.input,n=e.$input;return t||n&&n.get&&n.get(0)||this.getElInput()},i.prototype.getModelValue=function(){return this.model.getValue()},i.prototype.getElInput=function(){return this.elInput},i.prototype.renderField=function(){var e=this,t=e.$el,n=e.appendInput,r=e.model,a=t.find("[data-input]"),s=a[a.length-1],c=r.el;c||(c=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,X.isString)(c)?(s.innerHTML=c,this.elInput=s.firstChild):(n?s.appendChild(c):s.insertBefore(c,s.firstChild),this.elInput=c),r.el=this.elInput},i.prototype.hasLabel=function(){var e=this.model.attributes.label;return!this.noLabel&&e!==!1},i.prototype.rerender=function(){delete this.model.el,this.render()},i.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},i.prototype.render=function(){var e=this,t=e.$el,n=e.pfx,r=e.ppfx,a=e.model,s=a.attributes,c=s.type,d=s.id,p=this.hasLabel&&this.hasLabel(),f="".concat(n,"trait");delete this.$input;var h='<div class="'.concat(f," ").concat(f,"--").concat(c,`">
      `).concat(p?'<div class="'.concat(r,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(r,"field-wrp ").concat(r,"field-wrp--").concat(c,`" data-input>
        `).concat(this.templateInput?(0,X.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return t.empty().append(h),p&&this.renderLabel(),this.renderField(),this.el.className="".concat(f,"__wrp ").concat(f,"__wrp-").concat(d),this.postUpdate(),this.onRender(this.getClbOpts()),this},i}(gt.Ss),Uo=uy;uy.prototype.eventCapture=["change"];var RS=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),py=function(o){RS(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.templateInput=function(){return""},i.prototype.onChange=function(){this.handleClick()},i.prototype.handleClick=function(){this.model.runCommand()},i.prototype.renderLabel=function(){this.model.get("label")&&Uo.prototype.renderLabel.apply(this)},i.prototype.getInputEl=function(){var e=this,t=e.model,n=e.ppfx,r=t.props(),a=r.labelButton,s=r.text,c=r.full,d=a||s,p="".concat(n,"btn"),f='<button type="button" class="'.concat(p,"-prim").concat(c?" ".concat(p,"--full"):"",'">').concat(d,"</button>");return f},i}(Uo),FS=py;py.prototype.eventCapture=["click button"];var VS=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jS=function(o){VS(i,o);function i(){var e=o!==null&&o.apply(this,arguments)||this;return e.appendInput=!1,e}return i.prototype.templateInput=function(){var e=this,t=e.ppfx,n=e.clsField;return'<label class="'.concat(n,`" data-input>
    <i class="`).concat(t,`chk-icon"></i>
  </label>`)},i.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},i.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.checked=!!e)},i.prototype.getInputEl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!this.$input,r=Uo.prototype.getInputEl.apply(this,e);if(n){var a=void 0,s=void 0,c=this,d=c.model,p=c.target,f=d.attributes.valueFalse,h=d.getName();d.changeProp?(a=p.get(h),s=a):(s=p.get("attributes")[h],a=!!(s||s==="")),!(0,X.isUndefined)(f)&&s===f&&(a=!1),r.checked=a}return r},i}(Uo),HS=jS;function zS(o,i){"use strict";if(!(0,Ze.hasWin)())return;var e={beforeShow:v,move:v,change:v,show:v,hide:v,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},t=[],n=!!/msie/i.exec(window.navigator.userAgent),r=function(){function ce(Xe,Re){return!!~(""+Xe).indexOf(Re)}var Me=document.createElement("div"),ie=Me.style;return ie.cssText="background-color:rgba(0,0,0,.5)",ce(ie.backgroundColor,"rgba")||ce(ie.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var ce="";if(n)for(var Me=1;Me<=6;Me++)ce+="<div class='sp-"+Me+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",ce,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function c(ce,Me,ie,Xe){for(var Re=[],st=0;st<ce.length;st++){var yt=ce[st];if(yt){var bt=I(yt),mt=bt.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";mt+=I.equals(Me,yt)?" sp-thumb-active":"";var Et=bt.toString(Xe.preferredFormat||"rgb"),Qt=r?"background-color:"+bt.toRgbString():"filter:"+bt.toFilter();Re.push('<span title="'+Et+'" data-color="'+bt.toRgbString()+'" class="'+mt+'"><span class="sp-thumb-inner" style="'+Qt+';"></span></span>')}else{var $t="sp-clear-display";Re.push(o("<div />").append(o('<span data-color="" style="background-color:transparent;" class="'+$t+'"></span>').attr("title",Xe.noColorSelectedText)).html())}}return"<div class='sp-cf "+ie+"'>"+Re.join("")+"</div>"}function d(){for(var ce=0;ce<t.length;ce++)t[ce]&&t[ce].hide()}function p(ce,Me){var ie=o.extend({},e,ce);return ie.callbacks={move:b(ie.move,Me),change:b(ie.change,Me),show:b(ie.show,Me),hide:b(ie.hide,Me),beforeShow:b(ie.beforeShow,Me)},ie}function f(ce,Me){var ie=p(Me,ce),Xe=ie.flat,Re=ie.showSelectionPalette,st=ie.localStorageKey,yt=ie.theme,bt=ie.callbacks,mt=w(tr,10),Et=!1,Qt=!1,$t=!0,Zt=0,pn=0,Rn=0,se=0,xe=0,Ie=0,Qe=0,vt=0,Ot=0,It=0,_n=0,gn=1,nn=[],Zn=[],yn={},cn=ie.selectionPalette.slice(0),ni=ie.maxSelectionSize,fn="sp-dragging",an=null,bn=ce.ownerDocument,Vn=bn.body,Vt=o(ce),jn=!1,Dt=o(s,bn).addClass(yt),Pn=Dt.find(".sp-picker-container"),un=Dt.find(".sp-color"),T=Dt.find(".sp-dragger"),B=Dt.find(".sp-hue"),F=Dt.find(".sp-slider"),ue=Dt.find(".sp-alpha-inner"),We=Dt.find(".sp-alpha"),Tt=Dt.find(".sp-alpha-handle"),Rt=Dt.find(".sp-input"),Ft=Dt.find(".sp-palette"),Nt=Dt.find(".sp-initial"),q=Dt.find(".sp-cancel"),qe=Dt.find(".sp-clear"),Lt=Dt.find(".sp-choose"),Mn=Dt.find(".sp-palette-toggle"),ee=Vt.is("input"),ve=ee&&Vt.attr("type")==="color"&&P(),$e=ee&&!Xe,ct=$e?o(a).addClass(yt).addClass(ie.className).addClass(ie.replacerClassName):o([]),dt=$e?ct:Vt,tn=ct.find(".sp-preview-inner"),ln=ie.color||ee&&Vt.val(),Tn=!1,kn=ie.preferredFormat,Wo=!ie.showButtons||ie.clickoutFiresChange,gr=!ln,Vi=ie.allowEmpty&&!ve;function no(){if(ie.showPaletteOnly&&(ie.showPalette=!0),Mn.text(ie.showPaletteOnly?ie.togglePaletteMoreText:ie.togglePaletteLessText),ie.palette){nn=ie.palette.slice(0),Zn=o.isArray(nn[0])?nn:[nn],yn={};for(var Bt=0;Bt<Zn.length;Bt++)for(var zt=0;zt<Zn[Bt].length;zt++){var Jt=I(Zn[Bt][zt]).toRgbString();yn[Jt]=!0}}Dt.toggleClass("sp-flat",Xe),Dt.toggleClass("sp-input-disabled",!ie.showInput),Dt.toggleClass("sp-alpha-enabled",ie.showAlpha),Dt.toggleClass("sp-clear-enabled",Vi),Dt.toggleClass("sp-buttons-disabled",!ie.showButtons),Dt.toggleClass("sp-palette-buttons-disabled",!ie.togglePaletteOnly),Dt.toggleClass("sp-palette-disabled",!ie.showPalette),Dt.toggleClass("sp-palette-only",ie.showPaletteOnly),Dt.toggleClass("sp-initial-disabled",!ie.showInitial),Dt.addClass(ie.className).addClass(ie.containerClassName),tr()}function Ra(){if(n&&Dt.find("*:not(input)").attr("unselectable","on"),no(),$e&&Vt.after(ct).hide(),Vi||qe.hide(),Xe)Vt.after(Dt).hide();else{var Bt=ie.appendTo==="parent"?Vt.parent():o(ie.appendTo);Bt.length!==1&&(Bt=o("body")),Bt.append(Dt)}Ko(),dt.bind("click.spectrum touchstart.spectrum",function(Gt){jn||ii(),Gt.stopPropagation(),o(Gt.target).is("input")||Gt.preventDefault()}),(Vt.is(":disabled")||ie.disabled===!0)&&Eo(),Dt.click(C),Rt.change(Jn),Rt.bind("paste",function(){setTimeout(Jn,1)}),Rt.keydown(function(Gt){Gt.keyCode==13&&Jn()}),q.text(ie.cancelText),q.bind("click.spectrum",function(Gt){Gt.stopPropagation(),Gt.preventDefault(),ja(),Mi()}),qe.attr("title",ie.clearText),qe.bind("click.spectrum",function(Gt){Gt.stopPropagation(),Gt.preventDefault(),gr=!0,vr(),Xe&&_r(!0)}),Lt.text(ie.chooseText),Lt.bind("click.spectrum",function(Gt){Gt.stopPropagation(),Gt.preventDefault(),n&&Rt.is(":focus")&&Rt.trigger("change"),Yo()&&(_r(!0),Mi())}),Mn.text(ie.showPaletteOnly?ie.togglePaletteMoreText:ie.togglePaletteLessText),Mn.bind("click.spectrum",function(Gt){Gt.stopPropagation(),Gt.preventDefault(),ie.showPaletteOnly=!ie.showPaletteOnly,!ie.showPaletteOnly&&!Xe&&Dt.css("left","-="+(Pn.outerWidth(!0)+5)),no()}),x(We,function(Gt,Gn,nr){gn=Gt/Ie,gr=!1,nr.shiftKey&&(gn=Math.round(gn*10)/10),vr()},Ur,Mo),x(B,function(Gt,Gn){Ot=parseFloat(Gn/se),gr=!1,ie.showAlpha||(gn=1),vr()},Ur,Mo),x(un,function(Gt,Gn,nr){if(!nr.shiftKey)an=null;else if(!an){var ir=It*Zt,si=pn-_n*pn,_i=Math.abs(Gt-ir)>Math.abs(Gn-si);an=_i?"x":"y"}var rr=!an||an==="x",Kr=!an||an==="y";rr&&(It=parseFloat(Gt/Zt)),Kr&&(_n=parseFloat((pn-Gn)/pn)),gr=!1,ie.showAlpha||(gn=1),vr()},Ur,Mo),ln?(Lr(ln),Nr(),kn=ie.preferredFormat||I(ln).getFormat(),Oo(ln)):Nr(),Xe&&$o();function zt(Gt){return Gt.data&&Gt.data.ignore?(Lr(o(Gt.target).closest(".sp-thumb-el").data("color")),vr()):(Lr(o(Gt.target).closest(".sp-thumb-el").data("color")),vr(),ie.hideAfterPaletteSelect&&(_r(!0),Mi())),!1}var Jt=n?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ft.delegate(".sp-thumb-el",Jt,zt),Nt.delegate(".sp-thumb-el:nth-child(1)",Jt,{ignore:!0},zt)}function Ko(){if(st&&window.localStorage){try{var Bt=window.localStorage[st].split(",#");Bt.length>1&&(delete window.localStorage[st],o.each(Bt,function(zt,Jt){Oo(Jt)}))}catch{}try{cn=window.localStorage[st].split(";")}catch{}}}function Oo(Bt){if(Re){var zt=I(Bt).toRgbString();if(!yn[zt]&&o.inArray(zt,cn)===-1)for(cn.push(zt);cn.length>ni;)cn.shift();if(st&&window.localStorage)try{window.localStorage[st]=cn.join(";")}catch{}}}function Fa(){var Bt=[];if(ie.showPalette)for(var zt=0;zt<cn.length;zt++){var Jt=I(cn[zt]).toRgbString();yn[Jt]||Bt.push(cn[zt])}return Bt.reverse().slice(0,ie.maxSelectionSize)}function qo(){var Bt=ri(),zt=o.map(Zn,function(Jt,Gt){return c(Jt,Bt,"sp-palette-row sp-palette-row-"+Gt,ie)});Ko(),cn&&zt.push(c(Fa(),Bt,"sp-palette-row sp-palette-row-selection",ie)),Ft.html(zt.join(""))}function Po(){if(ie.showInitial){var Bt=Tn,zt=ri();Nt.html(c([Bt,zt],zt,"sp-palette-row-initial",ie))}}function Ur(){(pn<=0||Zt<=0||se<=0)&&tr(),Qt=!0,Dt.addClass(fn),an=null,Vt.trigger("dragstart.spectrum",[ri()])}function Mo(){Qt=!1,Dt.removeClass(fn),Vt.trigger("dragstop.spectrum",[ri()])}function Jn(){var Bt=Rt.val();if((Bt===null||Bt==="")&&Vi)Lr(null),_r(!0);else{var zt=I(Bt);zt.isValid()?(Lr(zt),_r(!0)):Rt.addClass("sp-validation-error")}}function ii(){Et?Mi():$o()}function $o(){var Bt=o.Event("beforeShow.spectrum");if(Et){tr();return}if(Vt.trigger("beforeShow.spectrum",[ri()]),!(bt.beforeShow(ri())===!1||Bt.isDefaultPrevented())){d(),Et=!0;var zt=o(bn);zt.bind("keydown.spectrum",Va),zt.bind("click.spectrum",Gr),o(window).bind("resize.spectrum",mt),ct.addClass("sp-active"),Dt.removeClass("sp-hidden"),tr(),Nr(),Tn=ri(),Po(),bt.show(Tn),Vt.trigger("show.spectrum",[Tn])}}function Va(Bt){Bt.keyCode===27&&Mi()}function Gr(Bt){Bt.button!=2&&(Qt||(Wo?_r(!0):ja(),Mi()))}function Mi(){!Et||Xe||(Et=!1,o(bn).unbind("keydown.spectrum",Va),o(bn).unbind("click.spectrum",Gr),o(window).unbind("resize.spectrum",mt),ct.removeClass("sp-active"),Dt.addClass("sp-hidden"),bt.hide(ri()),Vt.trigger("hide.spectrum",[ri()]))}function ja(){Lr(Tn,!0)}function Lr(Bt,zt){if(I.equals(Bt,ri())){Nr();return}var Jt,Gt;!Bt&&Vi?gr=!0:(gr=!1,$t=!Bt,Jt=I(Bt),Gt=Jt.toHsv(),Ot=Gt.h%360/360,It=Gt.s,_n=Gt.v,gn=Gt.a),Nr(),Jt&&Jt.isValid()&&!zt&&(kn=ie.preferredFormat||Jt.getFormat())}function ri(Bt){return Bt=Bt||{},Vi&&gr?null:I.fromRatio({h:Ot,s:It,v:_n,a:Math.round(gn*100)/100},{format:Bt.format||kn})}function Yo(){return!Rt.hasClass("sp-validation-error")}function vr(){Nr(),bt.move(ri()),Vt.trigger("move.spectrum",[ri()])}function Nr(){Rt.removeClass("sp-validation-error"),Qo();var Bt=I.fromRatio({h:Ot,s:1,v:1});un.css("background-color",Bt.toHexString());var zt=kn;gn<1&&!(gn===0&&zt==="name")&&(zt==="hex"||zt==="hex3"||zt==="hex6"||zt==="name")&&(zt="rgb");var Jt=ri({format:zt}),Gt="";if(tn.removeClass("sp-clear-display"),tn.css("background-color","transparent"),!Jt&&Vi)tn.addClass("sp-clear-display");else{var Gn=Jt.toHexString(),nr=Jt.toRgbString();if(r||Jt.alpha===1?tn.css("background-color",nr):(tn.css("background-color","transparent"),tn.css("filter",Jt.toFilter())),ie.showAlpha){var ir=Jt.toRgb();ir.a=0;var si=I(ir).toRgbString(),_i="linear-gradient(left, "+si+", "+Gn+")";n?ue.css("filter",I(si).toFilter({gradientType:1},Gn)):(ue.css("background","-webkit-"+_i),ue.css("background","-moz-"+_i),ue.css("background","-ms-"+_i),ue.css("background","linear-gradient(to right, "+si+", "+Gn+")"))}Gt=Jt.toString(zt)}ie.showInput&&Rt.val(Gt),ie.showPalette&&qo(),Po()}function Qo(){var Bt=It,zt=_n;if(Vi&&gr)Tt.hide(),F.hide(),T.hide();else{Tt.show(),F.show(),T.show();var Jt=Bt*Zt,Gt=pn-zt*pn;Jt=Math.max(-Rn,Math.min(Zt-Rn,Jt-Rn)),Gt=Math.max(-Rn,Math.min(pn-Rn,Gt-Rn)),T.css({top:Gt+"px",left:Jt+"px"});var Gn=gn*Ie;Tt.css({left:Gn-Qe/2+"px"});var nr=Ot*se;F.css({top:nr-vt+"px"})}}function _r(Bt){var zt=ri(),Jt="",Gt=$t?!0:!I.equals(zt,Tn);zt&&(Jt=zt.toString(kn),!Et&&Oo(zt)),ee&&Vt.val(Jt),Bt&&Gt&&(bt.change(zt),Vt.trigger("change",[zt]))}function tr(){Et&&(Zt=un.width(),pn=un.height(),Rn=T.height(),xe=B.width(),se=B.height(),vt=F.height(),Ie=We.width(),Qe=Tt.width(),Xe||(Dt.css("position","absolute"),ie.offset?Dt.offset(ie.offset):Dt.offset(h(Dt,dt))),Qo(),ie.showPalette&&qo(),Vt.trigger("reflow.spectrum"))}function To(){Vt.show(),dt.unbind("click.spectrum touchstart.spectrum"),Dt.remove(),ct.remove(),t[yr.id]=null}function Wr(Bt,zt){if(Bt===i)return o.extend({},ie);if(zt===i)return ie[Bt];ie[Bt]=zt,Bt==="preferredFormat"&&(kn=ie.preferredFormat),no()}function So(){jn=!1,Vt.attr("disabled",!1),dt.removeClass("sp-disabled")}function Eo(){Mi(),jn=!0,Vt.attr("disabled",!0),dt.addClass("sp-disabled")}function Ha(Bt){ie.offset=Bt,tr()}Ra();var yr={show:$o,hide:Mi,toggle:ii,reflow:tr,option:Wr,enable:So,disable:Eo,offset:Ha,set:function(Bt){Lr(Bt),_r()},get:ri,destroy:To,container:Dt};return yr.id=t.push(yr)-1,yr}function h(ce,Me){for(var ie=Me[0],Xe=ce[0],Re=Xe.parentElement,st=ie.getBoundingClientRect(),yt=Xe.offsetWidth,bt=Xe.offsetHeight,mt={top:0,left:0,width:ie.offsetWidth,height:ie.offsetHeight};ie&&(mt.top+=ie.offsetTop-ie.scrollTop,mt.left+=ie.offsetLeft-ie.scrollLeft,!(ie===Re||!Re.contains(ie.offsetParent)));)ie=ie.offsetParent;return st.right+yt>window.innerWidth-window.scrollX&&st.right-yt>0&&(mt.left-=yt-mt.width),st.bottom+bt<window.innerHeight-window.scrollY?mt.top+=mt.height:mt.top-=bt,mt}function v(){}function C(ce){ce.stopPropagation()}function b(ce,Me){var ie=Array.prototype.slice,Xe=ie.call(arguments,2);return function(){return ce.apply(Me,Xe.concat(ie.call(arguments)))}}function x(ce,Me,ie,Xe){Me=Me||function(){},ie=ie||function(){},Xe=Xe||function(){};var Re=document,st=!1,yt={},bt=0,mt=0,Et="ontouchstart"in window,Qt={};Qt.selectstart=$t,Qt.dragstart=$t,Qt["touchmove mousemove"]=Zt,Qt["touchend mouseup"]=Rn;function $t(se){se.stopPropagation&&se.stopPropagation(),se.preventDefault&&se.preventDefault(),se.returnValue=!1}function Zt(se){if(st){if(n&&Re.documentMode<9&&!se.button)return Rn();var xe=se&&se.touches&&se.touches[0],Ie=xe&&xe.pageX||se.pageX,Qe=xe&&xe.pageY||se.pageY,vt=Math.max(0,Math.min(Ie-yt.left,mt)),Ot=Math.max(0,Math.min(Qe-yt.top,bt));Et&&$t(se),Me.apply(ce,[vt,Ot,se])}}function pn(se){var xe=se.which?se.which==3:se.button==2;!xe&&!st&&ie.apply(ce,arguments)!==!1&&(st=!0,bt=o(ce).height(),mt=o(ce).width(),yt=o(ce).offset(),o(Re).bind(Qt),o(Re.body).addClass("sp-dragging"),Zt(se),$t(se))}function Rn(){st&&(o(Re).unbind(Qt),o(Re.body).removeClass("sp-dragging"),setTimeout(function(){Xe.apply(ce,arguments)},0)),st=!1}o(ce).bind("touchstart mousedown",pn)}function w(ce,Me,ie){var Xe;return function(){var Re=this,st=arguments,yt=function(){Xe=null,ce.apply(Re,st)};ie&&clearTimeout(Xe),(ie||!Xe)&&(Xe=setTimeout(yt,Me))}}function P(){return o.fn.spectrum.inputTypeColorSupport()}var M="spectrum.id";o.fn.spectrum=function(ce,Me){if(typeof ce=="string"){var ie=this,Xe=Array.prototype.slice.call(arguments,1);return this.each(function(){var Re=t[o(this).data(M)];if(Re){var st=Re[ce];if(!st)throw new Error("Spectrum: no such method: '"+ce+"'");ce=="get"?ie=Re.get():ce=="container"?ie=Re.container:ce=="option"?ie=Re.option.apply(Re,Xe):ce=="destroy"?(Re.destroy(),o(this).removeData(M)):st.apply(Re,Xe)}}),ie}return this.spectrum("destroy").each(function(){var Re=o.extend({},ce,o(this).data()),st=f(this,Re);o(this).data(M,st.id)})},o.fn.spectrum.load=!0,o.fn.spectrum.loadOpts={},o.fn.spectrum.draggable=x,o.fn.spectrum.defaults=e,o.fn.spectrum.inputTypeColorSupport=function ce(){if(typeof ce._cachedResult>"u"){var Me=o("<input type='color'/>")[0];ce._cachedResult=Me.type==="color"&&Me.value!==""}return ce._cachedResult},o.spectrum={},o.spectrum.localization={},o.spectrum.palettes={},o.fn.spectrum.processNativeColorInputs=function(){var ce=o("input[type=color]");ce.length&&!P()&&ce.spectrum({preferredFormat:"hex6"})};var y=/^[\s,#]+/,A=/\s+$/,k=0,N=Math,V=N.round,j=N.min,R=N.max,H=N.random,I=function(ce,Me){if(ce=ce||"",Me=Me||{},ce instanceof I)return ce;if(!(this instanceof I))return new I(ce,Me);var ie=G(ce);this._originalInput=ce,this._r=ie.r,this._g=ie.g,this._b=ie.b,this._a=ie.a,this._roundA=V(100*this._a)/100,this._format=Me.format||ie.format,this._gradientType=Me.gradientType,this._r<1&&(this._r=V(this._r)),this._g<1&&(this._g=V(this._g)),this._b<1&&(this._b=V(this._b)),this._ok=ie.ok,this._tc_id=k++};I.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ce=this.toRgb();return(ce.r*299+ce.g*587+ce.b*114)/1e3},setAlpha:function(ce){return this._a=at(ce),this._roundA=V(100*this._a)/100,this},toHsv:function(){var ce=Z(this._r,this._g,this._b);return{h:ce.h*360,s:ce.s,v:ce.v,a:this._a}},toHsvString:function(){var ce=Z(this._r,this._g,this._b),Me=V(ce.h*360),ie=V(ce.s*100),Xe=V(ce.v*100);return this._a==1?"hsv("+Me+", "+ie+"%, "+Xe+"%)":"hsva("+Me+", "+ie+"%, "+Xe+"%, "+this._roundA+")"},toHsl:function(){var ce=J(this._r,this._g,this._b);return{h:ce.h*360,s:ce.s,l:ce.l,a:this._a}},toHslString:function(){var ce=J(this._r,this._g,this._b),Me=V(ce.h*360),ie=V(ce.s*100),Xe=V(ce.l*100);return this._a==1?"hsl("+Me+", "+ie+"%, "+Xe+"%)":"hsla("+Me+", "+ie+"%, "+Xe+"%, "+this._roundA+")"},toHex:function(ce){return de(this._r,this._g,this._b,ce)},toHexString:function(ce){return"#"+this.toHex(ce)},toHex8:function(){return Fe(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:V(this._r),g:V(this._g),b:V(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+V(this._r)+", "+V(this._g)+", "+V(this._b)+")":"rgba("+V(this._r)+", "+V(this._g)+", "+V(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:V(U(this._r,255)*100)+"%",g:V(U(this._g,255)*100)+"%",b:V(U(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+V(U(this._r,255)*100)+"%, "+V(U(this._g,255)*100)+"%, "+V(U(this._b,255)*100)+"%)":"rgba("+V(U(this._r,255)*100)+"%, "+V(U(this._g,255)*100)+"%, "+V(U(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Je[de(this._r,this._g,this._b,!0)]||!1},toFilter:function(ce){var Me="#"+Fe(this._r,this._g,this._b,this._a),ie=Me,Xe=this._gradientType?"GradientType = 1, ":"";if(ce){var Re=I(ce);ie=Re.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Xe+"startColorstr="+Me+",endColorstr="+ie+")"},toString:function(ce){var Me=!!ce;ce=ce||this._format;var ie=!1,Xe=this._a<1&&this._a>=0,Re=!Me&&Xe&&(ce==="hex"||ce==="hex6"||ce==="hex3"||ce==="name");return Re?ce==="name"&&this._a===0?this.toName():this.toRgbString():(ce==="rgb"&&(ie=this.toRgbString()),ce==="prgb"&&(ie=this.toPercentageRgbString()),(ce==="hex"||ce==="hex6")&&(ie=this.toHexString()),ce==="hex3"&&(ie=this.toHexString(!0)),ce==="hex8"&&(ie=this.toHex8String()),ce==="name"&&(ie=this.toName()),ce==="hsl"&&(ie=this.toHslString()),ce==="hsv"&&(ie=this.toHsvString()),ie||this.toHexString())},_applyModification:function(ce,Me){var ie=ce.apply(null,[this].concat([].slice.call(Me)));return this._r=ie._r,this._g=ie._g,this._b=ie._b,this.setAlpha(ie._a),this},lighten:function(){return this._applyModification(ne,arguments)},brighten:function(){return this._applyModification(he,arguments)},darken:function(){return this._applyModification(Oe,arguments)},desaturate:function(){return this._applyModification(Ge,arguments)},saturate:function(){return this._applyModification(we,arguments)},greyscale:function(){return this._applyModification(ge,arguments)},spin:function(){return this._applyModification(Te,arguments)},_applyCombination:function(ce,Me){return ce.apply(null,[this].concat([].slice.call(Me)))},analogous:function(){return this._applyCombination(Ue,arguments)},complement:function(){return this._applyCombination(Ne,arguments)},monochromatic:function(){return this._applyCombination(ot,arguments)},splitcomplement:function(){return this._applyCombination(oe,arguments)},triad:function(){return this._applyCombination(ze,arguments)},tetrad:function(){return this._applyCombination(ke,arguments)}},I.fromRatio=function(ce,Me){if(typeof ce=="object"){var ie={};for(var Xe in ce)ce.hasOwnProperty(Xe)&&(Xe==="a"?ie[Xe]=ce[Xe]:ie[Xe]=Se(ce[Xe]));ce=ie}return I(ce,Me)};function G(ce){var Me={r:0,g:0,b:0},ie=1,Xe=!1,Re=!1;return typeof ce=="string"&&(ce=At(ce)),typeof ce=="object"&&(ce.hasOwnProperty("r")&&ce.hasOwnProperty("g")&&ce.hasOwnProperty("b")?(Me=K(ce.r,ce.g,ce.b),Xe=!0,Re=String(ce.r).substr(-1)==="%"?"prgb":"rgb"):ce.hasOwnProperty("h")&&ce.hasOwnProperty("s")&&ce.hasOwnProperty("v")?(ce.s=Se(ce.s),ce.v=Se(ce.v),Me=te(ce.h,ce.s,ce.v),Xe=!0,Re="hsv"):ce.hasOwnProperty("h")&&ce.hasOwnProperty("s")&&ce.hasOwnProperty("l")&&(ce.s=Se(ce.s),ce.l=Se(ce.l),Me=E(ce.h,ce.s,ce.l),Xe=!0,Re="hsl"),ce.hasOwnProperty("a")&&(ie=ce.a)),ie=at(ie),{ok:Xe,format:ce.format||Re,r:j(255,R(Me.r,0)),g:j(255,R(Me.g,0)),b:j(255,R(Me.b,0)),a:ie}}function K(ce,Me,ie){return{r:U(ce,255)*255,g:U(Me,255)*255,b:U(ie,255)*255}}function J(ce,Me,ie){ce=U(ce,255),Me=U(Me,255),ie=U(ie,255);var Xe=R(ce,Me,ie),Re=j(ce,Me,ie),st,yt,bt=(Xe+Re)/2;if(Xe==Re)st=yt=0;else{var mt=Xe-Re;switch(yt=bt>.5?mt/(2-Xe-Re):mt/(Xe+Re),Xe){case ce:st=(Me-ie)/mt+(Me<ie?6:0);break;case Me:st=(ie-ce)/mt+2;break;case ie:st=(ce-Me)/mt+4;break}st/=6}return{h:st,s:yt,l:bt}}function E(ce,Me,ie){var Xe,Re,st;ce=U(ce,360),Me=U(Me,100),ie=U(ie,100);function yt(Et,Qt,$t){return $t<0&&($t+=1),$t>1&&($t-=1),$t<1/6?Et+(Qt-Et)*6*$t:$t<1/2?Qt:$t<2/3?Et+(Qt-Et)*(2/3-$t)*6:Et}if(Me===0)Xe=Re=st=ie;else{var bt=ie<.5?ie*(1+Me):ie+Me-ie*Me,mt=2*ie-bt;Xe=yt(mt,bt,ce+1/3),Re=yt(mt,bt,ce),st=yt(mt,bt,ce-1/3)}return{r:Xe*255,g:Re*255,b:st*255}}function Z(ce,Me,ie){ce=U(ce,255),Me=U(Me,255),ie=U(ie,255);var Xe=R(ce,Me,ie),Re=j(ce,Me,ie),st,yt,bt=Xe,mt=Xe-Re;if(yt=Xe===0?0:mt/Xe,Xe==Re)st=0;else{switch(Xe){case ce:st=(Me-ie)/mt+(Me<ie?6:0);break;case Me:st=(ie-ce)/mt+2;break;case ie:st=(ce-Me)/mt+4;break}st/=6}return{h:st,s:yt,v:bt}}function te(ce,Me,ie){ce=U(ce,360)*6,Me=U(Me,100),ie=U(ie,100);var Xe=N.floor(ce),Re=ce-Xe,st=ie*(1-Me),yt=ie*(1-Re*Me),bt=ie*(1-(1-Re)*Me),mt=Xe%6,Et=[ie,yt,st,st,bt,ie][mt],Qt=[bt,ie,ie,yt,st,st][mt],$t=[st,st,bt,ie,ie,yt][mt];return{r:Et*255,g:Qt*255,b:$t*255}}function de(ce,Me,ie,Xe){var Re=[pe(V(ce).toString(16)),pe(V(Me).toString(16)),pe(V(ie).toString(16))];return Xe&&Re[0].charAt(0)==Re[0].charAt(1)&&Re[1].charAt(0)==Re[1].charAt(1)&&Re[2].charAt(0)==Re[2].charAt(1)?Re[0].charAt(0)+Re[1].charAt(0)+Re[2].charAt(0):Re.join("")}function Fe(ce,Me,ie,Xe){var Re=[pe(Le(Xe)),pe(V(ce).toString(16)),pe(V(Me).toString(16)),pe(V(ie).toString(16))];return Re.join("")}I.equals=function(ce,Me){return!ce||!Me?!1:I(ce).toRgbString()==I(Me).toRgbString()},I.random=function(){return I.fromRatio({r:H(),g:H(),b:H()})};function Ge(ce,Me){Me=Me===0?0:Me||10;var ie=I(ce).toHsl();return ie.s-=Me/100,ie.s=re(ie.s),I(ie)}function we(ce,Me){Me=Me===0?0:Me||10;var ie=I(ce).toHsl();return ie.s+=Me/100,ie.s=re(ie.s),I(ie)}function ge(ce){return I(ce).desaturate(100)}function ne(ce,Me){Me=Me===0?0:Me||10;var ie=I(ce).toHsl();return ie.l+=Me/100,ie.l=re(ie.l),I(ie)}function he(ce,Me){Me=Me===0?0:Me||10;var ie=I(ce).toRgb();return ie.r=R(0,j(255,ie.r-V(255*-(Me/100)))),ie.g=R(0,j(255,ie.g-V(255*-(Me/100)))),ie.b=R(0,j(255,ie.b-V(255*-(Me/100)))),I(ie)}function Oe(ce,Me){Me=Me===0?0:Me||10;var ie=I(ce).toHsl();return ie.l-=Me/100,ie.l=re(ie.l),I(ie)}function Te(ce,Me){var ie=I(ce).toHsl(),Xe=(V(ie.h)+Me)%360;return ie.h=Xe<0?360+Xe:Xe,I(ie)}function Ne(ce){var Me=I(ce).toHsl();return Me.h=(Me.h+180)%360,I(Me)}function ze(ce){var Me=I(ce).toHsl(),ie=Me.h;return[I(ce),I({h:(ie+120)%360,s:Me.s,l:Me.l}),I({h:(ie+240)%360,s:Me.s,l:Me.l})]}function ke(ce){var Me=I(ce).toHsl(),ie=Me.h;return[I(ce),I({h:(ie+90)%360,s:Me.s,l:Me.l}),I({h:(ie+180)%360,s:Me.s,l:Me.l}),I({h:(ie+270)%360,s:Me.s,l:Me.l})]}function oe(ce){var Me=I(ce).toHsl(),ie=Me.h;return[I(ce),I({h:(ie+72)%360,s:Me.s,l:Me.l}),I({h:(ie+216)%360,s:Me.s,l:Me.l})]}function Ue(ce,Me,ie){Me=Me||6,ie=ie||30;var Xe=I(ce).toHsl(),Re=360/ie,st=[I(ce)];for(Xe.h=(Xe.h-(Re*Me>>1)+720)%360;--Me;)Xe.h=(Xe.h+Re)%360,st.push(I(Xe));return st}function ot(ce,Me){Me=Me||6;for(var ie=I(ce).toHsv(),Xe=ie.h,Re=ie.s,st=ie.v,yt=[],bt=1/Me;Me--;)yt.push(I({h:Xe,s:Re,v:st})),st=(st+bt)%1;return yt}I.mix=function(ce,Me,ie){ie=ie===0?0:ie||50;var Xe=I(ce).toRgb(),Re=I(Me).toRgb(),st=ie/100,yt=st*2-1,bt=Re.a-Xe.a,mt;yt*bt==-1?mt=yt:mt=(yt+bt)/(1+yt*bt),mt=(mt+1)/2;var Et=1-mt,Qt={r:Re.r*mt+Xe.r*Et,g:Re.g*mt+Xe.g*Et,b:Re.b*mt+Xe.b*Et,a:Re.a*st+Xe.a*(1-st)};return I(Qt)},I.readability=function(ce,Me){var ie=I(ce),Xe=I(Me),Re=ie.toRgb(),st=Xe.toRgb(),yt=ie.getBrightness(),bt=Xe.getBrightness(),mt=Math.max(Re.r,st.r)-Math.min(Re.r,st.r)+Math.max(Re.g,st.g)-Math.min(Re.g,st.g)+Math.max(Re.b,st.b)-Math.min(Re.b,st.b);return{brightness:Math.abs(yt-bt),color:mt}},I.isReadable=function(ce,Me){var ie=I.readability(ce,Me);return ie.brightness>125&&ie.color>500},I.mostReadable=function(ce,Me){for(var ie=null,Xe=0,Re=!1,st=0;st<Me.length;st++){var yt=I.readability(ce,Me[st]),bt=yt.brightness>125&&yt.color>500,mt=3*(yt.brightness/125)+yt.color/500;(bt&&!Re||bt&&Re&&mt>Xe||!bt&&!Re&&mt>Xe)&&(Re=bt,Xe=mt,ie=I(Me[st]))}return ie};var _e=I.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Je=I.hexNames=ut(_e);function ut(ce){var Me={};for(var ie in ce)ce.hasOwnProperty(ie)&&(Me[ce[ie]]=ie);return Me}function at(ce){return ce=parseFloat(ce),(isNaN(ce)||ce<0||ce>1)&&(ce=1),ce}function U(ce,Me){Ee(ce)&&(ce="100%");var ie=Ke(ce);return ce=j(Me,R(0,parseFloat(ce))),ie&&(ce=parseInt(ce*Me,10)/100),N.abs(ce-Me)<1e-6?1:ce%Me/parseFloat(Me)}function re(ce){return j(1,R(0,ce))}function fe(ce){return parseInt(ce,16)}function Ee(ce){return typeof ce=="string"&&ce.indexOf(".")!=-1&&parseFloat(ce)===1}function Ke(ce){return typeof ce=="string"&&ce.indexOf("%")!=-1}function pe(ce){return ce.length==1?"0"+ce:""+ce}function Se(ce){return ce<=1&&(ce=ce*100+"%"),ce}function Le(ce){return Math.round(parseFloat(ce)*255).toString(16)}function ft(ce){return fe(ce)/255}var qt=function(){var ce="[-\\+]?\\d+%?",Me="[-\\+]?\\d*\\.\\d+%?",ie="(?:"+Me+")|(?:"+ce+")",Xe="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?",Re="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?";return{rgb:new RegExp("rgb"+Xe),rgba:new RegExp("rgba"+Re),hsl:new RegExp("hsl"+Xe),hsla:new RegExp("hsla"+Re),hsv:new RegExp("hsv"+Xe),hsva:new RegExp("hsva"+Re),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function At(ce){ce=ce.replace(y,"").replace(A,"").toLowerCase();var Me=!1;if(_e[ce])ce=_e[ce],Me=!0;else if(ce=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ie;return(ie=qt.rgb.exec(ce))?{r:ie[1],g:ie[2],b:ie[3]}:(ie=qt.rgba.exec(ce))?{r:ie[1],g:ie[2],b:ie[3],a:ie[4]}:(ie=qt.hsl.exec(ce))?{h:ie[1],s:ie[2],l:ie[3]}:(ie=qt.hsla.exec(ce))?{h:ie[1],s:ie[2],l:ie[3],a:ie[4]}:(ie=qt.hsv.exec(ce))?{h:ie[1],s:ie[2],v:ie[3]}:(ie=qt.hsva.exec(ce))?{h:ie[1],s:ie[2],v:ie[3],a:ie[4]}:(ie=qt.hex8.exec(ce))?{a:ft(ie[1]),r:fe(ie[2]),g:fe(ie[3]),b:fe(ie[4]),format:Me?"name":"hex8"}:(ie=qt.hex6.exec(ce))?{r:fe(ie[1]),g:fe(ie[2]),b:fe(ie[3]),format:Me?"name":"hex"}:(ie=qt.hex3.exec(ce))?{r:fe(ie[1]+""+ie[1]),g:fe(ie[2]+""+ie[2]),b:fe(ie[3]+""+ie[3]),format:Me?"name":"hex"}:!1}window.tinycolor=I,o(function(){o.fn.spectrum.load&&o.fn.spectrum.processNativeColorInputs()})}var BS=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fy=function(o){BS(i,o);function i(e){e===void 0&&(e={});var t=o.call(this,e)||this,n=e.ppfx||"";return t.opts=e,t.ppfx=n,t.em=e.target||{},!e.onChange&&t.listenTo(t.model,"change:value",t.handleModelChange),t}return i.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},i.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},i.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},i.prototype.elementUpdated=function(){this.model.trigger("el:change")},i.prototype.setValue=function(e,t){var n=this.model,r=e||n.get("defaults"),a=this.getInputEl();a&&(a.value=r)},i.prototype.handleModelChange=function(e,t,n){this.setValue(t,n)},i.prototype.handleChange=function(e){e.stopPropagation();var t=this.getInputEl().value;this.__onInputChange(t),this.elementUpdated()},i.prototype.__onInputChange=function(e){this.model.set({value:e},{fromInput:1})},i.prototype.getInputEl=function(){if(!this.inputEl){var e=this,t=e.model,n=e.opts,r=n.type||"text",a=t.get("placeholder")||t.get("defaults")||t.get("default")||"";this.inputEl=(0,vi.default)('<input type="'.concat(r,'" placeholder="').concat(a,'">'))}return this.inputEl.get(0)},i.prototype.render=function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this},i}(gt.Ss),gp=fy;fy.prototype.events={change:"handleChange"};var US=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jc=function(){return jc=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},jc.apply(this,arguments)};vi.default&&zS(vi.default);var Ou=function(o){var i=o.getFormat()==="name"&&o.toName(),e=o.getAlpha()==1?o.toHexString():o.toRgbString();return i||e.replace(/ /g,"")},GS=function(o){US(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.template=function(){var e=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(e,`field-colorp">
        <div class="`).concat(e,`field-colorp-c" data-colorp-c>
          <div class="`).concat(e,`checker-bg"></div>
        </div>
      </div>
    `)},i.prototype.inputClass=function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},i.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},i.prototype.remove=function(){return o.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},i.prototype.handleChange=function(e){e.stopPropagation();var t=e.target.value;(0,X.isUndefined)(t)||this.__onInputChange(t)},i.prototype.__onInputChange=function(e){var t=this,n=t.model,r=t.opts,a=r.onChange,s=e,c=this.getColorEl();if(c){c.spectrum("set",s);var d=c.spectrum("get"),p=s&&Ou(d);p&&(s=p)}a?a(s):n.set({value:s},{fromInput:1})},i.prototype.setValue=function(e,t){t===void 0&&(t={});var n=this.model,r=(0,X.isUndefined)(t.def)?n.get("defaults"):t.def,a=(0,X.isUndefined)(e)?(0,X.isUndefined)(r)?"":r:e,s=this.getInputEl(),c=this.getColorEl(),d=a!="none"?a:"";s.value=a,c.get(0).style.backgroundColor=d,(t.fromTarget||t.fromInput&&!t.avoidStore)&&(c.spectrum("set",d),this.noneColor=a=="none",this.movedColor=d)},i.prototype.getColorEl=function(){var e=this;if(!this.colorEl){var t=this,n=t.em,r=t.model,a=t.opts,s=this.ppfx,c=a.onChange,d=(0,vi.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),p=d.get(0).style,f=n&&n.getConfig&&n.getConfig().colorPicker||{};this.movedColor="";var h=!1,v;this.$el.find("[data-colorp-c]").append(d);var C=function(b,x){x===void 0&&(x=!0),c?c(b,!x):(x&&r.setValueFromInput(0,!1),r.setValueFromInput(b,x))};d.spectrum(jc(jc(jc({color:r.getValue()||!1,containerClassName:"".concat(s,"one-bg ").concat(s,"two-color ").concat(s,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F",palette:[]},f),r.get("colorPicker")||{}),{move:function(b){var x=Ou(b);e.movedColor=x,p.backgroundColor=x,C(x,!1)},change:function(b){h=!0;var x=Ou(b);p.backgroundColor=x,C(x),e.noneColor=!1},show:function(b){h=!1,e.movedColor="",v=c?r.getValue({noDefault:!0}):Ou(b)},hide:function(){!h&&(v||c)&&(e.noneColor&&(v=""),p.backgroundColor=v,d.spectrum("set",v),C(v,!1))}})),n&&n.on&&this.listenTo(n,"component:selected",function(){e.movedColor&&C(e.movedColor),h=!0,e.movedColor="",d.spectrum("hide")}),this.colorEl=d}return this.colorEl},i.prototype.render=function(){return gp.prototype.render.call(this),this.getColorEl(),this},i}(gp),hy=GS,WS=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),KS=function(o){WS(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.templateInput=function(){return""},i.prototype.getInputEl=function(){if(!this.input){var e=this.model,t=this.getModelValue(),n=new hy({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),r=n.render();r.setValue(t,{fromTarget:1}),this.input=r.el}return this.input},i}(Uo),qS=KS,$S=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),my=function(o){$S(i,o);function i(e){e===void 0&&(e={});var t=o.call(this,e)||this;return(0,X.bindAll)(t,"moveIncrement","upIncrement"),t.doc=document,t.listenTo(t.model,"change:unit",t.handleModelChange),t}return i.prototype.template=function(){var e=this.ppfx;return`
      <span class="`.concat(e,`input-holder"></span>
      <span class="`).concat(e,`field-units"></span>
      <div class="`).concat(e,`field-arrows" data-arrows>
        <div class="`).concat(e,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(e,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},i.prototype.inputClass=function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},i.prototype.setValue=function(e,t){var n=t||{},r=this.validateInputValue(e,{deepCheck:1}),a={value:r.value,unit:""};(r.unit||r.force)&&(a.unit=r.unit),this.model.set(a,n),n.silent&&this.handleModelChange()},i.prototype.handleChange=function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},i.prototype.handleUnitChange=function(e){e.stopPropagation();var t=this.getUnitEl().value;this.model.set("unit",t),this.elementUpdated()},i.prototype.handleKeyDown=function(e){e.key==="ArrowUp"&&(e.preventDefault(),this.upArrowClick()),e.key==="ArrowDown"&&(e.preventDefault(),this.downArrowClick())},i.prototype.elementUpdated=function(){this.model.trigger("el:change")},i.prototype.handleModelChange=function(){var e=this.model;this.getInputEl().value=e.get("value");var t=this.getUnitEl();t&&(t.value=e.get("unit")||"")},i.prototype.getUnitEl=function(){if(!this.unitEl){var e=this.model,t=e.get("units")||[];if(t.length){var n=['<option value="" disabled hidden>-</option>'];t.forEach(function(a){var s=a==e.get("unit")?"selected":"";n.push("<option ".concat(s,">").concat(a,"</option>"))});var r=document.createElement("div");r.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(n.join(""),"</select>"),this.unitEl=r.firstChild}}return this.unitEl},i.prototype.upArrowClick=function(){var e=this.model,t=e.get("step"),n=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(n+t)),this.elementUpdated()},i.prototype.downArrowClick=function(){var e=this.model,t=e.get("step"),n=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(n-t)),this.elementUpdated()},i.prototype.downIncrement=function(e){e.preventDefault(),this.moved=!1;var t=this.model.get("value")||0;t=this.normalizeValue(t),this.current={y:e.pageY,val:t},(0,Ct.on)(this.doc,"mousemove",this.moveIncrement),(0,Ct.on)(this.doc,"mouseup",this.upIncrement)},i.prototype.moveIncrement=function(e){this.moved=!0;var t=this.model,n=t.get("step"),r=this.current,a=this.normalizeValue(r.val+(r.y-e.pageY)*n),s=this.validateInputValue(a),c=s.value,d=s.unit;return this.prValue=c,t.set({value:c,unit:d},{avoidStore:1}),!1},i.prototype.upIncrement=function(){var e=this.model,t=e.get("step");if((0,Ct.AU)(this.doc,"mouseup",this.upIncrement),(0,Ct.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var n=this.prValue-t;e.set("value",n,{avoidStore:1}).set("value",n+t),this.elementUpdated()}},i.prototype.normalizeValue=function(e,t){t===void 0&&(t=0);var n=this.model,r=n.get("step"),a=0;if(isNaN(e))return t;if(e=parseFloat(e),Math.floor(e)!==e){var s=r.toString().split(".")[1];a=s?s.length:0}return a?parseFloat(e.toFixed(a)):e},i.prototype.validateInputValue=function(e,t){t===void 0&&(t={});var n=0,r=t||{},a=this.model,s="",c=(0,X.isUndefined)(e)?s:e,d=t.units||a.get("units")||[],p=a.get("unit")||d.length&&d[0]||"",f=(0,X.isUndefined)(t.max)?a.get("max"):t.max,h=(0,X.isUndefined)(t.min)?a.get("min"):t.min,v=!!a.get("limitlessMax"),C=!!a.get("limitlessMin");if(r.deepCheck){var b=a.get("fixedValues")||[];if(c===""&&(p=""),c){var x=new RegExp("^"+b.join("|"),"g");if(b.length&&x.test(c))c=c.match(x)[0],p="",n=1;else{var w=c+"";c+="",c=parseFloat(c.replace(",",".")),c=isNaN(c)?s:c;var P=w.replace(c,"");(0,X.indexOf)(d,P)>=0&&(p=P)}}}return!isNaN(c)&&c!==""&&(!v&&!(0,X.isUndefined)(f)&&f!==""&&(c=c>f?f:c),!C&&!(0,X.isUndefined)(h)&&h!==""&&(c=c<h?h:c)),{force:n,value:c,unit:p}},i.prototype.render=function(){gp.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this},i}(gp),gy=my;my.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var YS=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),QS=function(o){YS(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.getValueForTarget=function(){var e=this.model,t=e.attributes,n=t.value,r=t.unit;return!(0,X.isUndefined)(n)&&n!==""?n+r:e.get("default")},i.prototype.getInputEl=function(){if(!this.input){var e=this,t=e.ppfx,n=e.model,r=this.getModelValue(),a=new gy({contClass:"".concat(t,"field-int"),type:"number",model:n,ppfx:t});a.render(),this.$input=a.inputEl,this.$unit=a.unitEl,n.set("value",r,{fromTarget:!0}),this.$input.val(r),this.input=a.el}return this.input},i}(Uo),XS=QS,ZS=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),JS=function(o){ZS(i,o);function i(e){e===void 0&&(e={});var t=o.call(this,e)||this;return t.listenTo(t.model,"change:options",t.rerender),t}return i.prototype.templateInput=function(){var e=this,t=e.ppfx,n=e.clsField;return'<div class="'.concat(n,`">
      <div data-input></div>
      <div class="`).concat(t,`sel-arrow">
        <div class="`).concat(t,`d-s-arrow"></div>
      </div>
    </div>`)},i.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.model,n=e.em,r=t.get("name"),a=t.get("options")||[],s=[],c="<select>";a.forEach(function(f){var h="",v,C,b;(0,X.isString)(f)?(v=f,C=f):(v=f.name||f.label||f.value,C="".concat((0,X.isUndefined)(f.value)?f.id:f.value).replace(/"/g,"&quot;"),b=f.style?f.style.replace(/"/g,"&quot;"):"",h+=b?' style="'.concat(b,'"'):"");var x=n.t("traitManager.traits.options.".concat(r,".").concat(C))||v;c+='<option value="'.concat(C,'"').concat(h,">").concat(x,"</option>"),s.push(C)}),c+="</select>",this.$input=(0,vi.default)(c);var d=t.getTargetValue(),p=s.indexOf(d)>=0?d:t.get("default");!(0,X.isUndefined)(p)&&this.$input.val(p)}return this.$input.get(0)},i}(Uo),eE=JS,tE=mn(8242),nE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kv="data-categories",Av="data-no-categories",vy=function(o){nE(i,o);function i(e,t){var n=o.call(this,e)||this;n.reuseView=!0,n.renderedCategories=new Map,n.itemsView=t;var r=e.config||{};n.config=r;var a=e.editor;n.em=a;var s=r.pStylePrefix||"";return n.ppfx=s,n.pfx=s+r.stylePrefix||"",n.className="".concat(n.pfx,"traits"),n.traitContClass="".concat(s,"traits-c"),n.classNoCat="".concat(s,"traits-empty-c"),n.catsClass="".concat(s,"trait-categories"),n.collection=new Bu([],{em:a}),n.listenTo(a,"component:toggled",n.updatedCollection),n.updatedCollection(),n}return i.prototype.updatedCollection=function(){var e=this,t=e.ppfx,n=e.em,r=n.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(t,"one-bg ").concat(t,"two-color"),this.collection=r?.traits||new Bu([],{em:n}),this.render()},i.prototype.add=function(e,t){var n=this,r=n.config,a=n.renderedCategories,s=this.itemView,c=e.get(this.itemType);this.itemsView&&this.itemsView[c]&&(s=this.itemsView[c]);var d=new s({config:r,model:e,attributes:e.get("attributes")}),p=d.render().el,f=e.parent.initCategory(e);if(f){var h=f.getId(),v=this.getCategoriesEl(),C=a.get(h);!C&&v&&(C=new X_({model:f},r,"trait").render(),a.set(h,C),v.appendChild(C.el)),C?.append(p);return}t?t.appendChild(p):this.append(p)},i.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(kv,"]"))),this.catsEl},i.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(Av,"]"))),this.traitsEl},i.prototype.append=function(e){var t=this.getTraitsEl();t?.appendChild(e)},i.prototype.render=function(){var e=this,t=this,n=t.el,r=t.ppfx,a=t.catsClass,s=t.traitContClass,c=t.classNoCat,d=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,n.innerHTML=`
      <div class="`.concat(a,'" ').concat(kv,`></div>
      <div class="`).concat(c," ").concat(s,'" ').concat(Av,`></div>
    `),this.collection.forEach(function(f){return e.add(f,d)}),this.append(d);var p="".concat(s,"s ").concat(r,"one-bg ").concat(r,"two-color");return this.$el.addClass(p),this.rendered=!0,this},i}(tE.A),Iv=vy;vy.prototype.itemView=Uo;var iE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rE=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},oE=function(o){iE(i,o);function i(e){var t=o.call(this,e,"TraitManager",NS())||this;t.TraitsView=Iv,t.events=Sm,t.state=new gt.Kx({traits:[]}),t.types={text:Uo,number:XS,select:eE,checkbox:HS,color:qS,button:FS};var n=t,r=n.state,a=n.config,s=n.events,c=a.pStylePrefix;c&&(a.stylePrefix="".concat(c).concat(a.stylePrefix)),(0,X.bindAll)(t,"__onSelect");var d=(0,X.debounce)(function(){return t.__upSel()},0),p=(0,X.debounce)(function(){return t.__onUp()},0);return r.listenTo(e,"component:toggled",d),r.listenTo(e,s.value,p),r.on("change:traits",t.__onSelect),t.debounced=[d,p],t}return i.prototype.select=function(e){var t=e?.getTraits()||[];this.state.set({component:e,traits:t}),this.__trgCustom()},i.prototype.getCategories=function(){var e,t=this.getComponent(),n=((e=t?.traits.categories)===null||e===void 0?void 0:e.models)||[];return rE([],n,!0)},i.prototype.getTraits=function(){return this.getCurrent()},i.prototype.getTraitsByCategory=function(e){return L_(e||this.getTraits())},i.prototype.getComponent=function(){return this.state.attributes.component},i.prototype.addType=function(e,t){var n=this.getType("text");this.types[e]=n.extend(t)},i.prototype.getType=function(e){return this.getTypes()[e]},i.prototype.getTypes=function(){return this.types},i.prototype.getTraitsViewer=function(){return this.view},i.prototype.getCurrent=function(){return this.state.get("traits")||[]},i.prototype.render=function(){var e=this.view,t=this.em;return e=new Iv({el:e?.el,collection:[],editor:t,config:this.getConfig()},this.getTypes()),this.view=e,e.el},i.prototype.postRender=function(){this.__appendTo()},i.prototype.__onSelect=function(){var e=this,t=e.em,n=e.events,r=e.state,a=r.attributes,s=a.component,c=a.traits;t.trigger(n.select,{component:s,traits:c})},i.prototype.__trgCustom=function(e){e===void 0&&(e={});var t=this,n=t.em,r=t.events,a=t.__ctn;this.__ctn=a||e.container,n.trigger(r.custom,this.__customData())},i.prototype.__customData=function(){return{container:this.__ctn}},i.prototype.__upSel=function(){this.select(this.em.getSelected())},i.prototype.__onUp=function(){this.select(this.getComponent())},i}(mr),aE=oE,sE=function(){return{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}}},lE=sE,cE=mn(6756),dE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uE=function(o){dE(i,o);function i(){var e=o!==null&&o.apply(this,arguments)||this;return e._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},e}return Object.defineProperty(i.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"element",{get:function(){var e;return(e=this.model.viewLayer)===null||e===void 0?void 0:e.el},enumerable:!1,configurable:!0}),i}(cE.h),pE=uE,fE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hE=function(o){fE(i,o);function i(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.items=[],t.opt=e;var n=e.config||{};t.config=n,t.module=e.module,t.parentView=e.parentView;var r=n.stylePrefix||"",a=n.pStylePrefix||"",s=t.collection;t.listenTo(s,"add",t.addTo),t.listenTo(s,"reset resetNavigator",t.render),t.listenTo(s,"remove",t.removeChildren),t.className="".concat(r,"layers");var c=n.em;if(n.sortable&&!t.opt.sorter){var d=c.Utils,p=n.sortContainer||t.el,f=t.createPlaceholder(r);t.opt.sorter=new d.ComponentSorter({em:c,treeClass:pE,containerContext:{container:p,containerSel:".".concat(t.className),itemSel:".".concat(r,"layer"),pfx:n.pStylePrefix,document,placeholderElement:f},dragBehavior:{dragDirection:_s.A.Vertical,nested:!0}})}return t.$el.data("collection",s),e.parent&&t.$el.data("model",e.parent),t}return i.prototype.createPlaceholder=function(e){var t=document.createElement("div"),n=document.createElement("div");return this.el.parentNode,t.className=e+"placeholder",t.style.display="none",t.style.pointerEvents="none",n.className=e+"placeholder-int",t.appendChild(n),t},i.prototype.removeChildren=function(e){var t=e.viewLayer;t&&(t.remove(),delete e.viewLayer)},i.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},i.prototype.addToCollection=function(e,t,n){var r=this,a=r.parentView,s=r.opt,c=r.config,d=r.el,p=s.ItemView,f=s.opened,h=s.module,v=s.level,C=s.sorter,b=e.viewLayer||new p({ItemView:p,level:v,model:e,parentView:a,config:c,sorter:C,opened:f,module:h}),x=b.render().el;if(t)t.appendChild(x);else{var w=d,P=w.childNodes;if((0,X.isUndefined)(n))w.appendChild(x);else{var M=P.length==n;M&&n--,M||!P.length?w.appendChild(x):w.insertBefore(x,P[n])}}return this.items.push(b),x},i.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return gt.Ss.prototype.remove.apply(this,e),this.items.map(function(n){return n.remove()}),this},i.prototype.render=function(){var e=this,t=this,n=t.el,r=t.module,a=document.createDocumentFragment();return n.innerHTML="",this.collection.map(function(s){return r.__getLayerFromComponent(s)}).forEach(function(s){return e.addToCollection(s,a)}),n.appendChild(a),n.className=this.className,this},i}(gt.Ss),mE=hE,Eh=mn(9946),gE=function(){return{stylePrefix:"com-",defaults:{},strict:!0,defaultOptions:{}}},vE=gE,_E=mn(1738),yE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vp=function(){return vp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},vp.apply(this,arguments)},Lv=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},Nv=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],_y={preserveSelected:1},yy=function(o){return function(i){return o.trigger("".concat(Em,":start"),i)}},by=function(o){return function(i){return o.trigger(Em,i)}},Cy=function(o,i,e){return e===void 0&&(e={}),function(t,n,r){setTimeout(function(){i.forEach(function(a){return a.set("status",a.get("selectable")?"selected":"")}),o.setSelected(i),i[0].emitUpdate()}),o.trigger("".concat(Em,":end"),r),setTimeout(function(){return o.runDefault(_y)}),(e.altMode||r.cancelled)&&o.set("_cmpDrag",1)}},bE=function(o){yE(i,o);function i(e){var t=o.call(this,e,"Commands",vE())||this;t.CommandAbstract=Eh.default,t.defaultCommands={},t.commands={},t.active={},t.events=_E.A;var n=t.config,r=n.pStylePrefix,a=t.defaultCommands;r&&(n.stylePrefix=r+n.stylePrefix),Object.keys(n.defaults).forEach(function(c){var d=n.defaults[c];d.id&&t.add(d.id,d)}),a["tlb-delete"]={run:function(c){return c.runCommand("core:component-delete")}},a["tlb-clone"]={run:function(c){c.runCommand("core:copy"),c.runCommand("core:paste",{action:"clone-component"})}},a["tlb-move"]={run:function(c,d,p){var f,h;p===void 0&&(p={});var v,C=c.getModel(),b=p.event,x=p.target,w=Array.isArray(x)?x:x?[x]:Lv([],c.getSelectedAll(),!0),P=w.map(function(G){var K,J;return((J=(K=G.delegate)===null||K===void 0?void 0:K.move)===null||J===void 0?void 0:J.call(K,G))||G}).filter(Boolean),M=P[P.length-1],y=b?.type==="dragstart",A=["absolute","translate"];if(!M?.get("draggable"))return C.logWarning("The element is not draggable");var k=p.mode||M.get("dmode")||C.get("dmode"),N=function(){return C.stopDefault(_y)},V=(0,X.includes)(A,k);P.forEach(function(G){return G.trigger("disable",{fromMove:!0})}),y?setTimeout(N,0):N();var j=yy(C),R=by(C),H=Cy(C,P,{altMode:V});if(V)v=c.runCommand("core:component-drag",{guidesInfo:1,mode:k,target:M,onStart:j,onDrag:R,onEnd:H,event:b});else{y&&((f=b?.dataTransfer)===null||f===void 0||f.setDragImage((h=M.view)===null||h===void 0?void 0:h.el,0,0));var I=c.Commands.get("move-comp");I.onStart=j,I.onDrag=R,I.onEndMoveFromModel=H,I.initSorterFromModels(P)}P.filter(function(G){return G.get("selectable")}).forEach(function(G){return G.set("status","freezed-selected")})}},a["core:undo"]=function(c){return c.UndoManager.undo()},a["core:redo"]=function(c){return c.UndoManager.redo()},Nv.forEach(function(c){var d=c[2],p=mn(585)("./".concat(c[1])).default,f="core:".concat(c[0]);a[f]=p,d&&(a[d]=p,["run","stop"].forEach(function(h){e.on("".concat(h,":").concat(d),function(){for(var v=[],C=0;C<arguments.length;C++)v[C]=arguments[C];return e.trigger.apply(e,Lv(["".concat(h,":").concat(f)],v,!1))})}))}),n.model=e.Canvas;for(var s in a)t.add(s,a[s]);return t}return i.prototype.add=function(e,t){var n=(0,X.isFunction)(t)?{run:t}:t;return n.stop||(n.noStop=!0),delete n.initialize,n.id=e,this.commands[e]=Eh.default.extend(n),this},i.prototype.get=function(e){var t=this.commands[e];return(0,X.isFunction)(t)?(t=new t(this.config),this.commands[e]=t):t||this.em.logWarning("'".concat(e,"' command not found")),t},i.prototype.extend=function(e,t){t===void 0&&(t={});var n=this.get(e);if(n){var r=vp(vp({},n.constructor.prototype),t);this.add(e,r);var a=Nv.filter(function(s){return"core:".concat(s[0])===e&&s[2]})[0];a&&this.add(a[2],r)}return this},i.prototype.has=function(e){return!!this.commands[e]},i.prototype.getAll=function(){return this.commands},i.prototype.run=function(e,t){return t===void 0&&(t={}),this.runCommand(this.get(e),t)},i.prototype.stop=function(e,t){return t===void 0&&(t={}),this.stopCommand(this.get(e),t)},i.prototype.isActive=function(e){return this.getActive().hasOwnProperty(e)},i.prototype.getActive=function(){return this.active},i.prototype.runCommand=function(e,t){var n,r;t===void 0&&(t={});var a;if(e?.run){var s=this,c=s.em,d=s.config,p=e.id,f=c.Editor;if(!this.isActive(p)||t.force||!d.strict){var h=(r=(n=d.defaultOptions)===null||n===void 0?void 0:n[p])===null||r===void 0?void 0:r.run;(0,X.isFunction)(h)&&(t=h(t)),a=f&&e.callRun(f,t)}}return a},i.prototype.stopCommand=function(e,t){var n,r;t===void 0&&(t={});var a;if(e?.run){var s=this,c=s.em,d=s.config,p=e.id,f=c.Editor;if(this.isActive(p)||t.force||!d.strict){var h=(r=(n=d.defaultOptions)===null||n===void 0?void 0:n[p])===null||r===void 0?void 0:r.stop;(0,X.isFunction)(h)&&(t=h(t)),a=e.callStop(f,t)}}return a},i.prototype.create=function(e){e.stop||(e.noStop=!0);var t=Eh.default.extend(e);return new t(this.config)},i.prototype.__onRun=function(e,t){var n=this,r=n.em,a=n.events;r.on("".concat(a.runCommand).concat(e),t)},i.prototype.__onStop=function(e,t){var n=this,r=n.em,a=n.events;r.on("".concat(a.stopCommand).concat(e),t)},i.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},i}(mr),CE=bE,xE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lm=function(){return lm=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},lm.apply(this,arguments)},Dv="contentEditable",Pu="data-toggle-move",wE=function(o){xE(i,o);function i(e){var t=o.call(this,e)||this;(0,X.bindAll)(t,"__render"),t.opt=e,t.module=e.module,t.config=e.config||{},t.sorter=e.sorter||"",t.parentView=e.parentView;var n=t,r=n.model,a=n.pfx,s=n.ppfx,c=r.get("type")||"default";return t.className="".concat(a,"layer ").concat(a,"layer__t-").concat(c," no-select ").concat(s,"two-color"),t.inputNameCls="".concat(s,"layer-name"),t.clsTitleC="".concat(a,"layer-title-c"),t.clsTitle="".concat(a,"layer-title"),t.clsCaret="".concat(a,"layer-caret"),t.clsCount="".concat(a,"layer-count"),t.clsMove="".concat(a,"layer-move"),t.clsChildren="".concat(a,"layer-children"),t.clsNoChild="".concat(a,"layer-no-chld"),t.clsEdit="".concat(t.inputNameCls,"--edit"),t.clsNoEdit="".concat(t.inputNameCls,"--no-edit"),t.initComponent(),t}return i.prototype.events=function(){var e;return e={},e["mousedown [".concat(Pu,"]")]="startSort",e["touchstart [".concat(Pu,"]")]="startSort",e["click [data-toggle-visible]"]="toggleVisibility",e["click [data-toggle-open]"]="toggleOpening",e["click [data-toggle-select]"]="handleSelect",e["mouseover [data-toggle-select]"]="handleHover",e["mouseout [data-toggle-select]"]="handleHoverOut",e["dblclick [data-name]"]="handleEdit",e["keydown [data-name]"]="handleEditKey",e["focusout [data-name]"]="handleEditEnd",e},i.prototype.template=function(e){var t=this,n=t.pfx,r=t.ppfx,a=t.config,s=t.clsNoEdit,c=t.module,d=t.opt,p=t.em,f=a.hidable,h=c.getComponents(e).length,v=h?"":this.clsNoChild,C="".concat(this.clsTitle," ").concat(v),b="".concat(this.clsTitleC),x="".concat(this.inputNameCls," ").concat(s," ").concat(r,"no-app"),w=d.level||0,P="".concat(w*10,"px"),M=e.getName(),y=e.getIcon(),A="".concat(n,"layer"),k=(p?.getConfig()).icons,N=k,V=N.move,j=N.eye,R=N.eyeOff,H=N.chevron;return`
      <div class="`.concat(n,"layer-item ").concat(r,`one-bg" data-toggle-select>
        <div class="`).concat(n,`layer-item-left">
          `).concat(f?'<i class="'.concat(n,`layer-vis" data-toggle-visible>
                <i class="`).concat(n,'layer-vis-on">').concat(j,`</i>
                <i class="`).concat(n,'layer-vis-off">').concat(R,`</i>
              </i>`):"",`
          <div class="`).concat(b,`">
            <div class="`).concat(C,'" style="padding-left: ').concat(P,`">
              <div class="`).concat(n,'layer-title-inn" title="').concat(M,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(H,`</i>
                  `).concat(y?'<span class="'.concat(A,'__icon">').concat(y,"</span>"):"",`
                <span class="`).concat(x,'" data-name>').concat(M,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(n,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(h||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Pu,">").concat(V||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(i.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),i.prototype.initComponent=function(){var e=this,t=this,n=t.model,r=t.config,a=r.onInit,s=n.components();this.listenTo(s,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(c){return e.listenTo(n,c[0],c[1])}),this.$el.data("model",n),this.$el.data("collection",s),n.viewLayer=this,a.bind(this)({component:n,render:this.__render,listenTo:this.listenTo})},i.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},i.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},i.prototype.updateVisibility=function(){var e=this,t=e.pfx,n=e.model,r=e.module,a="".concat(t,"layer-hidden"),s=!r.isVisible(n),c=s?"addClass":"removeClass";this.$el[c](a),this.getVisibilityEl()[c]("".concat(t,"layer-off"))},i.prototype.updateMove=function(){var e=this,t=e.model,n=e.config,r=this.getItemContainer().find("[".concat(Pu,"]"))[0];if(r){var a=t.get("draggable")&&n.sortable;r.style.display=a?"":"none"}},i.prototype.toggleVisibility=function(e){e?.stopImmediatePropagation();var t=this,n=t.module,r=t.model;n.setVisible(r,!n.isVisible(r))},i.prototype.handleEdit=function(e){e?.stopPropagation();var t=this,n=t.em,r=t.$el,a=t.clsNoEdit,s=t.clsEdit,c=this.getInputName();c[Dv]="true",c.focus(),document.execCommand("selectAll",!1),n.setEditing(!0),r.find(".".concat(this.inputNameCls)).removeClass(a).addClass(s)},i.prototype.handleEditKey=function(e){e.stopPropagation(),((0,Ct.v$)(e)||(0,Ct.Ci)(e))&&this.handleEditEnd(e)},i.prototype.handleEditEnd=function(e){e?.stopPropagation();var t=this,n=t.em,r=t.$el,a=t.clsNoEdit,s=t.clsEdit,c=t.model,d=this.getInputName(),p=d.textContent;d.scrollLeft=0,d[Dv]="false",c.setName(p),n.setEditing(!1),r.find(".".concat(this.inputNameCls)).addClass(a).removeClass(s),this.updateName()},i.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},i.prototype.updateOpening=function(){var e=this,t=e.$el,n=e.model,r=e.pfx,a="open",s="".concat(r,"layer-open"),c=this.getCaret();this.module.isOpen(n)?(t.addClass(a),c.addClass(s)):(t.removeClass(a),c.removeClass(s))},i.prototype.toggleOpening=function(e){var t=this,n=t.model,r=t.module;e?.stopImmediatePropagation(),n.get("components").length&&r.setOpen(n,!r.isOpen(n))},i.prototype.handleSelect=function(e){e?.stopPropagation();var t=this,n=t.module,r=t.model;n.setLayerData(r,{selected:!0},{event:e})},i.prototype.handleHover=function(e){e?.stopPropagation();var t=this,n=t.module,r=t.model;n.setLayerData(r,{hovered:!0})},i.prototype.handleHoverOut=function(e){e?.stopPropagation();var t=this,n=t.module,r=t.model;n.setLayerData(r,{hovered:!1})},i.prototype.startSort=function(e){var t,n,r;e.stopPropagation();var a=this,s=a.em,c=a.sorter,d=a.model;if(!(e.button&&e.button!==0)&&c){var p=((n=(t=d.delegate)===null||t===void 0?void 0:t.move)===null||n===void 0?void 0:n.call(t,d))||d;c.eventHandlers=lm({legacyOnStartSort:yy(s),legacyOnMoveClb:by(s),legacyOnEndMove:Cy(s,[p])},c.eventHandlers);var f=((r=p.viewLayer)===null||r===void 0?void 0:r.el)||e.target;c.startSort([{element:f}])}},i.prototype.updateStatus=function(){Fn.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},i.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},i.prototype.checkChildren=function(){var e=this,t=e.model,n=e.clsNoChild,r=e.module,a=r.getComponents(t).length,s=this.getItemContainer(),c=s.find(".".concat(this.clsTitle)),d=s.find("[data-count]");c[a?"removeClass":"addClass"](n),d.html("".concat(a||"")),!a&&r.setOpen(t,!1)},i.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},i.prototype.setRoot=function(e){var t,n=(0,X.isString)(e)?(t=this.em.getWrapper())===null||t===void 0?void 0:t.find(e)[0]:e;n&&(this.stopListening(),this.model=n,this.initComponent(),this._rendered&&this.render())},i.prototype.updateLayerable=function(){var e=this.parentView,t=e||this;t.render()},i.prototype.__clearItems=function(){var e;(e=this.items)===null||e===void 0||e.remove()},i.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return gt.Ss.prototype.remove.apply(this,e),delete this.model.viewLayer,this.__clearItems(),this},i.prototype.render=function(){var e=this,t=e.model,n=e.config,r=e.pfx,a=e.ppfx,s=e.opt,c=e.sorter;this.__clearItems();var d=s.opened,p=s.module,f=s.ItemView,h=!p.__isLayerable(t),v=this.$el.empty(),C=s.level+1;delete this.inputName,this.items=new mE({ItemView:f,collection:t.get("components"),config:n,sorter:c,opened:d,parentView:this,parent:t,level:C,module:p});var b=this.items.render().$el;return!n.showWrapper&&C===1?v.append(b):(v.html(this.template(t)),v.find(".".concat(this.clsChildren)).append(b)),!p.isVisible(t)&&(this.className+=" ".concat(r,"hide")),h&&(this.className+=" ".concat(a,"hidden")),v.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},i.prototype.__render=function(){var e=this,t=e.model,n=e.config,r=e.el,a=n.onRender,s={component:t,el:r};a.bind(this)(s),this.em.trigger("layer:render",s)},i}(gt.Ss),OE=wE,PE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cm=function(){return cm=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},cm.apply(this,arguments)},xy="layer",Dm="".concat(xy,":"),wy="".concat(Dm,"root"),Oy="".concat(Dm,"component"),ME="".concat(Dm,"custom"),TE={all:xy,root:wy,component:Oy,custom:ME},kh={mediaText:""},SE=["open","status","locked","custom-name","components","classes"].map(function(o){return"".concat(wn.I.update,":").concat(o)}).join(" "),EE=function(o){return o===void 0&&(o={}),(o.display||"").trim().indexOf("none")===0},kE=function(o){PE(i,o);function i(e){var t=o.call(this,e,"LayerManager",lE())||this;return t.events=TE,(0,X.bindAll)(t,"componentChanged","__onRootChange","__onComponent"),t.model=new Na.A(t,{opened:{}}),t.config.stylePrefix=t.config.pStylePrefix,t}return i.prototype.onLoad=function(){var e=this,t=this,n=t.em,r=t.config,a=t.model;a.listenTo(n,"component:selected",this.componentChanged),a.on("change:root",this.__onRootChange),a.listenTo(n,SE,this.__onComponent),this.componentChanged(),a.listenToOnce(n,"load",function(){e.setRoot(r.root),e.__appendTo()})},i.prototype.setRoot=function(e){var t=this.em.getWrapper(),n=(0,Ze.isComponent)(e)?e:t;e&&(0,X.isString)(e)&&(0,Ze.hasWin)()&&(n=t.find(e)[0]||t);var r=this.__getLayerFromComponent(n);return this.model.set("root",r),r},i.prototype.getRoot=function(){return this.model.get("root")},i.prototype.getComponents=function(e){var t=this;return e.components().map(function(n){return t.__getLayerFromComponent(n)}).filter(function(n){return t.__isLayerable(n)})},i.prototype.setOpen=function(e,t){e.set("open",t)},i.prototype.isOpen=function(e){return!!e.get("open")},i.prototype.setVisible=function(e,t){var n="__prev-display",r=e.getStyle(kh),a=r.display;if(t){var s=e.get(n);delete r.display,s&&(r.display=s,e.unset(n))}else a&&e.set(n,a),r.display="none";e.setStyle(r,kh),this.updateLayer(e),this.em.trigger("component:toggled")},i.prototype.isVisible=function(e){return!EE(e.getStyle(kh))},i.prototype.setLocked=function(e,t){e.set("locked",t)},i.prototype.isLocked=function(e){return!!e.get("locked")},i.prototype.setName=function(e,t){e.set("custom-name",t)},i.prototype.getName=function(e){return e.getName()},i.prototype.getLayerData=function(e){var t=e.get("status");return{name:e.getName(),open:this.isOpen(e),selected:t==="selected",hovered:t==="hovered",visible:this.isVisible(e),locked:this.isLocked(e),components:this.getComponents(e)}},i.prototype.setLayerData=function(e,t,n){var r;n===void 0&&(n={});var a=this,s=a.em,c=a.config,d=t.open,p=t.selected,f=t.hovered,h=t.visible,v=t.locked,C=t.name,b=cm({fromLayers:!0},n);if((0,Ze.isDef)(d)&&this.setOpen(e,d),(0,Ze.isDef)(p))if(p){s.setSelected(e,b);var x=c.scrollCanvas;x&&((r=e.views)===null||r===void 0||r.forEach(function(w){return w.scrollIntoView(x)}))}else s.removeSelected(e,b);(0,Ze.isDef)(f)&&c.showHover&&(f?s.setHovered(e,b):s.setHovered(null,b)),(0,Ze.isDef)(h)&&h!==this.isVisible(e)&&this.setVisible(e,h),(0,Ze.isDef)(v)&&this.setLocked(e,v),(0,Ze.isDef)(C)&&this.setName(e,C)},i.prototype.componentChanged=function(e,t){var n;if(t===void 0&&(t={}),!t.fromLayers){var r=this,a=r.em,s=r.config,c=s.scrollLayers,d=this.model.get("opened"),p=a.getSelected(),f=p?.parent();for(var h in d)d[h].set("open",!1),delete d[h];for(;f;)f.set("open",!0),d[f.cid]=f,f=f.parent();if(p&&c){var v=(n=p.viewLayer)===null||n===void 0?void 0:n.el;v?.scrollIntoView(c)}}},i.prototype.getAll=function(){return this.view},i.prototype.render=function(){var e,t,n=this,r=n.config,a=n.model,s=OE.extend(r.extend);return this.view=new s({el:(e=this.view)===null||e===void 0?void 0:e.el,ItemView:s,level:0,config:r,opened:a.get("opened"),model:this.getRoot(),module:this}),(t=this.view)===null||t===void 0?void 0:t.render().el},i.prototype.destroy=function(){var e;(e=this.view)===null||e===void 0||e.remove()},i.prototype.__onRootChange=function(){var e,t=this.getRoot();(e=this.view)===null||e===void 0||e.setRoot(t),this.em.trigger(wy,t),this.__trgCustom()},i.prototype.__getLayerFromComponent=function(e){var t,n;return((n=(t=e.delegate)===null||t===void 0?void 0:t.layer)===null||n===void 0?void 0:n.call(t,e))||e},i.prototype.__onComponent=function(e){this.updateLayer(e)},i.prototype.__isLayerable=function(e){var t=e.tagName,n=this.config.hideTextnode,r=!n||!e.isInstanceOf("textnode")&&t!=="br";return r&&e.get("layerable")},i.prototype.__trgCustom=function(e){var t=this,n=t.__ctn,r=t.em,a=t.events;this.__ctn=n||e?.container,r.trigger(a.custom,{container:this.__ctn,root:this.getRoot()})},i.prototype.updateLayer=function(e,t){this.em.trigger(Oy,e,t)},i}(mr),AE=kE,IE=function(){return{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""}},LE=IE,NE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Py=function(o){NE(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.getDefaults=function(){return(0,X.result)(this.prototype,"defaults")},i.prototype.defaults=function(){return{type:"",src:""}},i.prototype.getType=function(){return this.get("type")},i.prototype.getSrc=function(){return this.get("src")||""},i.prototype.getFilename=function(){return this.getSrc().split("/").pop().split("?").shift()},i.prototype.getExtension=function(){return this.getFilename().split(".").pop()},i}(gt.Kx),dm=Py;Py.prototype.idAttribute="src";var DE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_p=function(){return _p=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},_p.apply(this,arguments)},RE=function(o){DE(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return _p(_p({},dm.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},i}(dm),FE=RE,VE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jE=function(o){VE(i,o);function i(e){var t=o.call(this,e)||this;t.options=e,t.collection=e.collection;var n=e.config||{};t.config=n,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.em=n.em,t.className=t.pfx+"asset",t.listenTo(t.model,"destroy remove",t.remove),t.model.view=t;var r=t.init&&t.init.bind(t);return r&&r(e),t}return i.prototype.__getBhv=function(){var e=this.em,t=e?.Assets;return t?.__getBehaviour()||{}},i.prototype.template=function(e,t){var n=this.pfx;return`
      <div class="`.concat(n,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(n,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(n,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},i.prototype.updateTarget=function(e){e&&e.set&&(e.set("attributes",(0,X.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},i.prototype.getPreview=function(){return""},i.prototype.getInfo=function(){return""},i.prototype.render=function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this},i}(gt.Ss),HE=jE,zE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rv=function(o,i){return Object.defineProperty?Object.defineProperty(o,"raw",{value:i}):o.raw=i,o},My=function(o){zE(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.getPreview=function(){var e=this,t=e.pfx,n=e.ppfx,r=e.model,a=r.get("src");return pr(Fv||(Fv=Rv([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),t,a,t,n)},i.prototype.getInfo=function(){var e=this,t=e.pfx,n=e.model,r=n.get("name"),a=n.get("width"),s=n.get("height"),c=n.get("unitDim"),d=a&&s?"".concat(a,"x").concat(s).concat(c):"";return r=r||n.getFilename(),pr(Vv||(Vv=Rv([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),t,r,t,d)},i.prototype.init=function(e){var t=this.pfx;this.className+=" ".concat(t,"asset-image")},i.prototype.onClick=function(){var e=this,t=e.model,n=e.pfx,r=this.__getBhv().select,a=this.config.onClick,s=this.collection;s.trigger("deselectAll"),this.$el.addClass(n+"highlight"),(0,X.isFunction)(r)?r(t,!1):(0,X.isFunction)(a)?a(t):this.updateTarget(s.target)},i.prototype.onDblClick=function(){var e=this,t=e.em,n=e.model,r=this.__getBhv().select,a=this.config.onDblClick,s=this.collection,c=s.target,d=s.onSelect;(0,X.isFunction)(r)?r(n,!0):(0,X.isFunction)(a)?a(n):(this.updateTarget(c),t?.Modal.close()),(0,X.isFunction)(d)&&d(n)},i.prototype.onRemove=function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)},i}(HE),BE=My;My.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var Fv,Vv,yp=function(){return yp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},yp.apply(this,arguments)},UE={types:[],initialize:function(o,i){var e=this;i===void 0&&(i={});var t=i.em;this.em=t,this.opts=i,this.model=function(r,a){r===void 0&&(r={}),a===void 0&&(a={});var s,c,d;if(r&&r.type){var p=e.getBaseType();d=e.getType(r.type),s=d?d.model:p.model,c=d?d.view:p.view}else{var f=e.recognizeType(r);d=f.type,s=d.model,c=d.view,r=f.attributes}var h=new s(r,yp(yp({},a),{em:t}));return h.typeView=c,e.model.prototype=s.prototype,h};var n=this.init&&this.init.bind(this);n&&n()},recognizeType:function(o){for(var i=this.getTypes(),e=0;e<i.length;e++){var t=i[e],n=t.isType(o);if(n=typeof n=="boolean"&&n?{type:t.id}:n,n)return{type:t,attributes:n}}return{type:this.getBaseType(),attributes:o}},getBaseType:function(){var o=this.getTypes();return o[o.length-1]},getTypes:function(){return this.types},getType:function(o){for(var i=this.getTypes(),e=0;e<i.length;e++){var t=i[e];if(t.id===o)return t}},addType:function(o,i){var e=this.getType(o),t=this.getBaseType(),n=e?e.model:t.model,r=e?e.view:t.view,a=i.model,s=i.view,c=i.isType;a=a instanceof gt.Kx||(0,X.isFunction)(a)?a:n.extend(a||{}),s=s instanceof gt.Ss||(0,X.isFunction)(s)?s:r.extend(s||{}),this.extendViewApi&&!i.model&&!i.view&&(s=s.extend(i)),e?(e.model=a,e.view=s,e.isType=c||e.isType):(i.id=o,i.model=a,i.view=s,i.isType=c||function(d){if(d&&d.type==o)return!0},this.getTypes().unshift(i))}},Ty=UE,GE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),WE=gt.pM.extend(Ty),Sy=function(o){GE(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i}(WE),Ah=Sy;Sy.prototype.types=[{id:"image",model:FE,view:BE,isType:function(o){return typeof o=="string"?{type:"image",src:o}:o}}];var Ey=function(o){return o.add="asset:add",o.remove="asset:remove",o.removeBefore="asset:remove:before",o.update="asset:update",o.open="asset:open",o.close="asset:close",o.uploadStart="asset:upload:start",o.uploadEnd="asset:upload:end",o.uploadError="asset:upload:error",o.uploadResponse="asset:upload:response",o.custom="asset:custom",o.all="asset",o}(Ey||{}),jv=Ey,KE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ky=function(o){KE(i,o);function i(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.options=e,t.config=e.config,t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.em=t.config.em;var n=t.collection;return t.listenTo(n,"reset",t.renderAssets),t.listenTo(n,"add",t.addToAsset),t.listenTo(n,"remove",t.removedAsset),t.listenTo(n,"deselectAll",t.deselectAll),t}return i.prototype.template=function(e){var t=e.pfx,n=e.ppfx,r=e.em,a="";return this.config.showUrlInput&&(a=`
          <form class="`.concat(t,`add-asset">
            <div class="`).concat(n,"field ").concat(t,`add-field">
              <input placeholder="`).concat(r?.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(n,'btn-prim">').concat(r?.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(t,`assets-cont">
      <div class="`).concat(t,`assets-header">
        `).concat(a,`
      </div>
      <div class="`).concat(t,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},i.prototype.handleSubmit=function(e){e.preventDefault();var t=this.getAddInput(),n=t&&t.value.trim(),r=this.config.handleAdd;if(n){t.value="";var a=this.getAssetsEl();a&&(a.scrollTop=0),r?r.bind(this)(n):this.options.globalCollection.add(n,{at:0})}},i.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},i.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},i.prototype.removedAsset=function(e){this.collection.length||this.toggleNoAssets()},i.prototype.addToAsset=function(e){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(e)},i.prototype.addAsset=function(e,t){t===void 0&&(t=null);var n=t,r=this.collection,a=this.config,s=new e.typeView({model:e,collection:r,config:a}).render().el;if(n)n.appendChild(s);else{var c=this.getAssetsEl();c&&c.insertBefore(s,c.firstChild)}return s},i.prototype.toggleNoAssets=function(e){e===void 0&&(e=!1);var t=this.$el.find(".".concat(this.pfx,"assets"));if(e)t.empty();else{var n=this.config.noAssets;n&&t.append(n)}},i.prototype.deselectAll=function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},i.prototype.renderAssets=function(){var e=this,t=document.createDocumentFragment(),n=this.$el.find(".".concat(this.pfx,"assets"));n.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(r){return e.addAsset(r,t)}),n.append(t)},i.prototype.render=function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},i}(gt.Ss),qE=ky;ky.prototype.events={submit:"handleSubmit"};var $E=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),YE=function(o,i){return Object.defineProperty?Object.defineProperty(o,"raw",{value:i}):o.raw=i,o},QE=function(o){$E(i,o);function i(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.options=e;var n=e.config||{};t.module=e.module,t.config=n,t.em=t.config.em,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.target=t.options.globalCollection||{},t.uploadId=t.pfx+"uploadFile",t.disabled=n.disableUpload!==void 0?n.disableUpload:!n.upload&&!n.embedAsBase64,t.multiUpload=n.multiUpload!==void 0?n.multiUpload:!0;var r=n.uploadFile;return r?t.uploadFile=r.bind(t):!n.upload&&n.embedAsBase64&&(t.uploadFile=i.embedAsBase64),t.delegateEvents(),t}return i.prototype.template=function(e){var t=e.pfx,n=e.title,r=e.uploadId,a=e.disabled,s=e.multiUpload;return pr(Hv||(Hv=YE([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),t,n,r,a?"disabled":"",s?"multiple":"")},i.prototype.events=function(){return{"change [data-input]":"uploadFile"}},i.prototype.onUploadStart=function(){var e=this.module;e?.__propEv(e.events.uploadStart)},i.prototype.onUploadEnd=function(e){var t=this,n=t.$el,r=t.module;r?.__propEv(r.events.uploadEnd,e);var a=n.find("input");a&&a.val("")},i.prototype.onUploadError=function(e){var t=this.module;console.error(e),this.onUploadEnd(e),t?.__propEv(t.events.uploadError,e)},i.prototype.onUploadResponse=function(e,t){var n=this,r=n.module,a=n.config,s=n.target,c;try{c=typeof e=="string"?JSON.parse(e):e}catch{c=e}r?.__propEv(r.events.uploadResponse,c),a.autoAdd&&s&&s.add(c.data,{at:0}),this.onUploadEnd(e),t?.(c)},i.prototype.uploadFile=function(e,t,n){var r=this,a,s=e.dataTransfer?e.dataTransfer.files:(a=e.target)===null||a===void 0?void 0:a.files,c=this.config,d=c.beforeUpload,p=d&&d(s);if(p!==!1){var f=new FormData,h=c.params,v=c.customFetch,C=c.fetchOptions;for(var b in h)f.append(b,h[b]);if(this.multiUpload)for(var x=0;x<s.length;x++)f.append("".concat(c.uploadName).concat(c.multiUploadSuffix),s[x]);else s.length&&f.append(c.uploadName,s[0]);var w=c.upload,P=c.headers,M="X-Requested-With";if(typeof P[M]>"u"&&(P[M]="XMLHttpRequest"),w){this.onUploadStart();var y={method:"post",credentials:c.credentials||"include",headers:P,body:f},A=C?.(y)||y,k=v?v(w,A):cy(w,A).then(function(N){return(N.status/200|0)==1?N.text():N.text().then(function(V){return Promise.reject(V)})});return k.then(function(N){return r.onUploadResponse(N,t)}).catch(function(N){return r.onUploadError(N)})}}},i.prototype.initDrop=function(){var e=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var t=this.uploadForm;"draggable"in t&&(this.uploadForm.ondragover=function(){return t.className=e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return t.className="",!1},this.uploadForm.ondrop=function(n){t.className="",n.preventDefault(),e.uploadFile(n)})}},i.prototype.initDropzone=function(e){var t=this,n=0,r=this.config,a=e.model,s=e.el,c=a.Editor,d=a.Canvas.getBody(),p=this.ppfx,f="".concat(p,"dropzone-active"),h="".concat(p,"dropzone"),v=function(){s.className=s.className.replace(f,"").trim(),n=0},C=function(){return n||(s.className+=" ".concat(f),n=1),!1},b=function(){return v(),!1},x=function(w){if(v(),w.preventDefault(),w.stopPropagation(),t.uploadFile(w),r.openAssetsOnDrop&&c){var P=c.getSelected();c.runCommand("open-assets",{target:P,onSelect:function(){c.Modal.close(),c.AssetManager.setTarget(null)}})}return!1};e.$el.append('<div class="'.concat(h,'">').concat(r.dropzoneContent,"</div>")),v(),"draggable"in s&&[s,d].forEach(function(w){w.ondragover=C,w.ondragleave=b,w.ondrop=x})},i.prototype.render=function(){var e=this,t=e.$el,n=e.pfx,r=e.em;return t.html(this.template({title:r&&r.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:n})),this.initDrop(),t.attr("class",n+"file-uploader"),this},i.embedAsBase64=function(e,t){var n=this,r=e.dataTransfer?e.dataTransfer.files:e.target.files,a={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var s=[],c=/^(.+)\/(.+)$/,d=function(v){var C=new Promise(function(b,x){var w=new FileReader;w.addEventListener("load",function(P){var M,y=v.name,A=c.exec(v.type);if(A?M=A[1]:M=v.type,M==="image"){var k={src:w.result,name:y,type:M,height:0,width:0},N=new Image;N.addEventListener("error",function(V){x(V)}),N.addEventListener("load",function(){k.height=N.height,k.width=N.width,b(k)}),N.src=k.src}else b(M?{src:w.result,name:y,type:M}:w.result)}),w.addEventListener("error",function(P){x(P)}),w.addEventListener("abort",function(P){x("Aborted")}),w.readAsDataURL(v)});s.push(C)},p=0,f=r;p<f.length;p++){var h=f[p];d(h)}return Promise.all(s).then(function(v){a.data=v,n.onUploadResponse(a,t)},function(v){n.onUploadError(v)})},i}(gt.Ss),XE=QE,Hv,ZE=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vl=function(){return vl=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},vl.apply(this,arguments)},zv=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},Tc="open-assets",JE=function(o){ZE(i,o);function i(e){var t=o.call(this,e,"AssetManager",new Ah([],e),jv,LE())||this;t.storageKey="assets",t.Asset=dm,t.Assets=Ah,t.events=jv;var n=t,r=n.all,a=n.config;t.assetsVis=new Ah([]);var s=a.pStylePrefix;return s&&(a.stylePrefix="".concat(s).concat(a.stylePrefix)),r.on("add",function(c){return t.getAllVisible().add(c)}),r.on("remove",function(c){return t.getAllVisible().remove(c)}),t.__onAllEvent=(0,X.debounce)(function(){return t.__trgCustom()},0),t}return i.prototype.open=function(e){e===void 0&&(e={});var t=this.em.Commands;t.run(Tc,vl({types:["image"],select:function(){}},e))},i.prototype.close=function(){var e=this.em.Commands;e.stop(Tc)},i.prototype.isOpen=function(){var e=this.em.Commands;return!!e?.isActive(Tc)},i.prototype.add=function(e,t){return t===void 0&&(t={}),typeof t.at>"u"&&(t.at=0),this.all.add(e,t)},i.prototype.get=function(e){return this.all.where({src:e})[0]||null},i.prototype.getAll=function(){return this.all},i.prototype.getAllVisible=function(){return this.assetsVis},i.prototype.remove=function(e,t){return this.__remove(e,t)},i.prototype.store=function(){return this.getProjectData()},i.prototype.load=function(e){return this.loadProjectData(e)},i.prototype.getContainer=function(){var e,t=this.__getBehaviour();return t.container||((e=this.am)===null||e===void 0?void 0:e.el)},i.prototype.getAssetsEl=function(){var e;return(e=this.am)===null||e===void 0?void 0:e.el.querySelector("[data-el=assets]")},i.prototype.render=function(e){if(!this.getConfig().custom){var t=e||this.getAll().models;if(!this.am){var n=this.__viewParams();n.fu=this.FileUploader(),this.am=new qE(vl({},n)),this.am.render()}return this.assetsVis.reset(t),this.getContainer()}},i.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},i.prototype.addType=function(e,t){this.getAll().addType(e,t)},i.prototype.getType=function(e){return this.getAll().getType(e)},i.prototype.getTypes=function(){return this.getAll().getTypes()},i.prototype.AssetsView=function(){return this.am},i.prototype.FileUploader=function(){return this.fu||(this.fu=new XE(this.__viewParams())),this.fu},i.prototype.onLoad=function(){var e=this;this.getAll().reset(this.config.assets);var t=this,n=t.em,r=t.events;n.Commands.__onRun(Tc,function(){return e.__propEv(r.open)}),n.Commands.__onStop(Tc,function(){return e.__propEv(r.close)})},i.prototype.postRender=function(e){var t;this.config.dropzone&&((t=this.fu)===null||t===void 0||t.initDropzone(e))},i.prototype.setTarget=function(e){this.assetsVis.target=e},i.prototype.onSelect=function(e){this.assetsVis.onSelect=e},i.prototype.onClick=function(e){this.config.onClick=e},i.prototype.onDblClick=function(e){this.config.onDblClick=e},i.prototype.__propEv=function(e){for(var t,n,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];(t=this.em).trigger.apply(t,zv([e],r,!1)),(n=this.getAll()).trigger.apply(n,zv([e],r,!1))},i.prototype.__trgCustom=function(){var e=this.__getBehaviour(),t=this.getConfig().custom;!e.container&&!t.open||this.em.trigger(this.events.custom,this.__customData())},i.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:t.types||[],container:t.container,close:function(){return e.close()},remove:function(n,r){return e.remove(n,r)},select:function(n,r){var a=e.add(n);(0,X.isFunction)(t.select)&&t.select(a,r)},options:t.options||{}}},i.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=vl(vl({},this._bhv||{}),e)},i.prototype.__getBehaviour=function(e){return e===void 0&&(e={}),this._bhv||{}},i.prototype.destroy=function(){var e,t;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(e=this.fu)===null||e===void 0||e.remove(),(t=this.am)===null||t===void 0||t.remove(),this._bhv={}},i}(Go),e8=JE,t8=function(){return{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}},n8=t8,i8=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),r8=function(o){i8(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},i.prototype.initialize=function(){var e=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var t=["width","height","widthMedia"];t.forEach(function(n){return e.checkUnit(n)})},i.prototype.checkUnit=function(e){var t=this.get(e)||"",n=(parseFloat(t)||0).toString()===t.toString();n&&this.set(e,"".concat(t,"px"))},i.prototype.getName=function(){return this.get("name")||this.get("id")},i.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},i}(gt.Kx),Ay=r8,o8=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Iy=function(o){o8(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i}(gt.pM),Bv=Iy;Iy.prototype.model=Ay;var a8=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),s8=function(o,i){return Object.defineProperty?Object.defineProperty(o,"raw",{value:i}):o.raw=i,o},l8=function(o){a8(i,o);function i(e){var t=o.call(this,e)||this;return t.config=e.config||{},t.em=t.config.em,t.ppfx=t.config.pStylePrefix||"",t.listenTo(t.em,"change:device",t.updateSelect),t}return i.prototype.template=function(e){var t=e.ppfx,n=e.label;return pr(Uv||(Uv=s8([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),t,n,t,t,t,t,t,t,t)},i.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},i.prototype.startAdd=function(){},i.prototype.updateDevice=function(){var e=this.em;if(e){var t=this.devicesEl;e.set("device",t?t.val():"")}},i.prototype.updateSelect=function(){var e=this,t=e.em,n=e.devicesEl;if(t&&t.getDeviceModel&&n){var r=t.getDeviceModel();n.val(r?r.get("id"):"")}},i.prototype.getOptions=function(){var e=this,t=e.collection,n=e.em,r="";return t.forEach(function(a){var s=a.attributes,c=s.name,d=s.id,p=n&&n.t&&n.t("deviceManager.devices.".concat(d))||c;r+='<option value="'.concat(d||c,'">').concat(p,"</option>")}),r},i.prototype.render=function(){var e=this,t=e.em,n=e.ppfx,r=e.$el,a=e.el,s=t&&t.t&&t.t("deviceManager.device");return r.html(this.template({ppfx:n,label:s})),this.devicesEl=r.find(".".concat(n,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(t.get("device")),a.className="".concat(n,"devices-c"),this},i}(gt.Ss),c8=l8,Uv,d8=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hc=function(){return Hc=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Hc.apply(this,arguments)},u8=function(o){d8(i,o);function i(e){var t,n=o.call(this,e,"DeviceManager",new Bv,g_,n8())||this;return n.Device=Ay,n.Devices=Bv,n.storageKey="",n.devices=n.all,(t=n.config.devices)===null||t===void 0||t.forEach(function(r){return n.add(r,{silent:!0})}),n.select(n.config.default||n.devices.at(0)),e.on("change:device",n._onSelect,n),n}return i.prototype._onSelect=function(e,t,n){var r=this,a=r.em,s=r.events,c=e.previous("device"),d=this.get(t),p=s.select;a.trigger(p,d,this.get(c)),this.__catchAllEvent(p,d,n)},i.prototype.add=function(e,t){t===void 0&&(t={});var n,r=t;if((0,X.isString)(e)){var a=t;r=arguments[2]||{},n=Hc(Hc({},r),{id:e,name:r.name||e,width:a})}else n=e;return n.id||(n.id=n.name||this._createId()),this.devices.add(n,r)},i.prototype.get=function(e){var t=this.getAll().filter(function(n){return n.get("name")===e})[0];return t||this.devices.get(e)||null},i.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},i.prototype.getDevices=function(){return this.devices.models},i.prototype.select=function(e,t){t===void 0&&(t={});var n=(0,X.isString)(e)?this.get(e):e;return n&&this.em.set("device",n.get("id"),t),this},i.prototype.getSelected=function(){return this.get(this.em.get("device"))},i.prototype.getAll=function(){return this.devices},i.prototype.render=function(){var e,t=this.em;return(e=this.view)===null||e===void 0||e.remove(),this.view=new c8({collection:this.devices,config:Hc({em:t},this.config)}),this.view.render().el},i.prototype.destroy=function(){this.__destroy()},i}(Go),p8=u8,f8=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),h8=function(o){f8(i,o);function i(e,t){t===void 0&&(t={});var n=o.call(this,e,t)||this,r=t.em,a={};n.em=r,e.frames||(a.component=e.component,a.styles=e.styles,["component","styles"].map(function(d){return n.unset(d)}));var s=e.frames||[a],c=new y_(r.Canvas,s);return c.page=n,n.set("frames",c),!n.getId()&&n.set("id",r?.Pages._createId()),r?.UndoManager.add(c),n}return i.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},i.prototype.onRemove=function(){this.getFrames().reset()},i.prototype.getFrames=function(){return this.get("frames")},i.prototype.getId=function(){return this.id},i.prototype.getName=function(){return this.get("name")},i.prototype.setName=function(e){return this.set({name:e})},i.prototype.getAllFrames=function(){return this.getFrames().models||[]},i.prototype.getMainFrame=function(){return this.getFrames().at(0)},i.prototype.getMainComponent=function(){var e=this.getMainFrame();return e?.getComponent()},i.prototype.toJSON=function(e){e===void 0&&(e={});var t=gt.Kx.prototype.toJSON.call(this,e),n=(0,X.result)(this,"defaults");return(0,X.forEach)(t,function(r,a){a.indexOf("_")===0&&delete t[a]}),(0,X.forEach)(n,function(r,a){t[a]===r&&delete t[a]}),t},i}(gt.Kx),um=h8,m8=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bp=function(){return bp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},bp.apply(this,arguments)},g8=function(o){m8(i,o);function i(e,t){var n=o.call(this,e)||this;return n.on("reset",n.onReset),n.on("remove",n.onRemove),n.model=function(r,a){return a===void 0&&(a={}),new um(r,bp(bp({},a),{em:t}))},n}return i.prototype.onReset=function(e,t){var n=this,r;(r=t?.previousModels)===null||r===void 0||r.map(function(a){return n.onRemove(a,n,t)})},i.prototype.onRemove=function(e,t,n){n===void 0&&(n={}),!(n.fromUndo||n.temporary)&&e?.onRemove()},i}(gt.pM),v8=g8,_8=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_l=function(){return _l=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},_l.apply(this,arguments)},y8=function(o,i){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&i.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},b8=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},Gv="change:selected",Wv="main",C8=function(o){_8(i,o);function i(e){var t=o.call(this,e,"PageManager",new v8([],e),Wh)||this;t.events=Wh,t.storageKey="pages",(0,X.bindAll)(t,"_onPageChange");var n=new Na.A(t,{_undo:!0});return t.model=n,t.pages.on("reset",t.__onReset,t),t.pages.on("all",t.__onChange,t),n.on(Gv,t._onPageChange),t}return Object.defineProperty(i.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),i.prototype.getAll=function(){return b8([],this.all.models,!0)},i.prototype.__onChange=function(e,t,n,r){var a=this,s=a.em,c=a.events,d=r||n;s.trigger(c.all,{event:e,page:t,options:d})},i.prototype.__onReset=function(){var e=this.pages.at(0);e&&this.select(e)},i.prototype.onLoad=function(){var e,t=this,n=t.pages,r=t.config,a=t.em,s={silent:!0},c=((e=r.pages)===null||e===void 0?void 0:e.map(function(p){return new um(p,{em:a,config:r})}))||[];n.add(c,s);var d=n.length?this._initPage():this.add({type:Wv},s);d&&this.select(d,s)},i.prototype._onPageChange=function(e,t,n){var r=this,a=r.em,s=r.events,c=a.Layers,d=t.getMainComponent();c&&d&&c.setRoot(d),a.trigger(s.select,t,e.previous("selected")),this.__onChange(Gv,t,n)},i.prototype.postLoad=function(){var e=this,t=e.em,n=e.model,r=e.pages,a=t.UndoManager;a.add(n),a.add(r),r.on("add remove reset change",function(s,c,d){return t.changesUp(d||c)})},i.prototype.add=function(e,t){var n=this;t===void 0&&(t={});var r=this,a=r.em,s=r.events;e.id=e.id||this._createId();var c=function(){var d=n.pages.add(new um(e,{em:n.em,config:n.config}),t);return t.select&&n.select(d),d};return!t.silent&&a.trigger(s.addBefore,e,c,t),t.abort?void 0:c()},i.prototype.remove=function(e,t){var n=this;t===void 0&&(t={});var r=this,a=r.em,s=r.events,c=(0,X.isString)(e)?this.get(e):e,d=function(){return c&&n.pages.remove(c,t),c};return!t.silent&&a.trigger(s.removeBefore,c,d,t),!t.abort&&d()},i.prototype.move=function(e,t){t===void 0&&(t={});var n=this.pages,r=(0,X.isString)(e)?this.get(e):e,a=t.at,s=a===void 0?0:a,c=y8(t,["at"]);if(r){var d=n.indexOf(r),p=d===s;if(!(s<0||s>=n.length||p))return this.remove(r,_l(_l({},c),{temporary:!0})),n.add(r,_l(_l({},c),{at:s})),r}},i.prototype.get=function(e){return this.pages.filter(function(t){return t.get(t.idAttribute)===e})[0]},i.prototype.getMain=function(){var e=this.pages;return e.filter(function(t){return t.get("type")===Wv})[0]||e.at(0)},i.prototype.getAllWrappers=function(){var e=this.getAll();return(0,X.unique)((0,X.flatten)(e.map(function(t){return t.getAllFrames().map(function(n){return n.getComponent()})})))},i.prototype.select=function(e,t){t===void 0&&(t={});var n=this,r=n.em,a=n.model,s=n.events,c=(0,X.isString)(e)?this.get(e):e;return c&&(r.trigger(s.selectBefore,c,t),a.set("selected",c,t)),this},i.prototype.getSelected=function(){return this.model.get("selected")},i.prototype.destroy=function(){var e=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(t){return e[t]=0})},i.prototype.store=function(){return this.getProjectData()},i.prototype.load=function(e){var t=this,n=this.loadProjectData(e,{all:this.pages,reset:!0,onResult:function(r,a){r.forEach(function(s){return t.add(s,a)}),t.__onReset()}});return this.pages.forEach(function(r){return r.getFrames().initRefs()}),n},i.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},i.prototype._createId=function(){var e=this.getAll(),t=e.length+16,n=this.getAllMap(),r;do r=(0,Ze.createId)(t);while(n[r]);return r},i}(Go),x8=C8,Ih={placeholder:"eg. Text here"},w8={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Ih,alt:Ih,title:Ih,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}},O8=function(){return{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:w8},messagesAdd:void 0}},P8=O8,Ly=function(o){return o.add="i18n:add",o.update="i18n:update",o.locale="i18n:locale",o}(Ly||{}),M8=Ly,T8=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),S8=function(o){T8(i,o);function i(e){var t=o.call(this,e,"I18n",P8())||this;t.events=M8;var n=t.config.messagesAdd;return n&&t.addMessages(n),t.config.detectLocale&&(t.config.locale=t._localLang()),t}return i.prototype.setLocale=function(e){var t=this,n=t.em,r=t.config,a=t.events;return n.trigger(a.locale,{value:e,valuePrev:r.locale}),r.locale=e,this},i.prototype.getLocale=function(){return this.config.locale},i.prototype.getMessages=function(e,t){t===void 0&&(t={});var n=this.config.messages;return e&&!n[e]&&this._debug("'".concat(e,"' i18n lang not found"),t),e?n[e]:n},i.prototype.setMessages=function(e){var t=this,n=t.em,r=t.config,a=t.events;return r.messages=e,n.trigger(a.update,e),this},i.prototype.addMessages=function(e){var t=this,n=t.em,r=t.events,a=t.config,s=a.messages;return n.trigger(r.add,e),this.setMessages((0,Ze.deepMerge)(s,e)),this},i.prototype.t=function(e,t){t===void 0&&(t={});var n=this.config,r=t.params||{},a=t.l||this.getLocale(),s=t.lFlb||n.localeFallback,c=this._getMsg(e,a,t);return c||(c=this._getMsg(e,s,t)),!c&&this._debug("'".concat(e,"' i18n key not found in '").concat(a,"' lang"),t),c=c&&(0,X.isString)(c)?this._addParams(c,r):c,c},i.prototype._localLang=function(){var e=(0,Ze.hasWin)()&&window.navigator||{},t=e.language||e.userLanguage;return t?t.split("-")[0]:"en"},i.prototype._addParams=function(e,t){var n=new RegExp("{([\\w\\d-]*)}","g");return e.replace(n,function(r,a){return t[a]||""}).trim()},i.prototype._getMsg=function(e,t,n){n===void 0&&(n={});var r=this.getMessages(t,n);if(r){var a=r[e];return!a&&e.indexOf(".")>0&&(a=e.split(".").reduce(function(s,c){if(!(0,X.isUndefined)(s))return s[c]},r)),a}},i.prototype._debug=function(e,t){t===void 0&&(t={});var n=this,r=n.em,a=n.config;(t.debug||a.debug)&&r&&r.logWarning(e)},i.prototype.destroy=function(){},i}(mr),E8=S8,ds=function(){return ds=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},ds.apply(this,arguments)},k8=function(o,i){i===void 0&&(i={});var e=i.prefix||"",t=document.createElement("i");return t.className=e+"resizer-h "+e+"resizer-h-"+o,t.setAttribute("data-"+e+"handler",o),t},A8=function(o,i){var e=i||window,t=o.getBoundingClientRect();return{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,width:t.width,height:t.height}},I8=function(){function o(i){i===void 0&&(i={}),this.moved=!1,this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=ds({},this.defOpts),this.setOptions(i),(0,X.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return o.prototype.getConfig=function(){return this.opts},o.prototype.setOptions=function(i,e){i===void 0&&(i={}),this.opts=ds(ds({},e?this.defOpts:this.opts),i),this.setup()},o.prototype.setup=function(){var i=this.opts,e=i.prefix||"",t=i.appendTo||document.body,n=this.container;for(n||(n=document.createElement("div"),n.className="".concat(e,"resizer-c"),t.appendChild(n),this.container=n);n.firstChild;)n.removeChild(n.firstChild);var r={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(c){return r[c]=i[c]?k8(c,i):null});for(var a in r){var s=r[a];s&&n.appendChild(s)}this.handlers=r,this.mousePosFetcher=i.mousePosFetcher,this.updateTarget=i.updateTarget,this.posFetcher=i.posFetcher,this.onStart=i.onStart,this.onMove=i.onMove,this.onEnd=i.onEnd,this.onUpdateContainer=i.onUpdateContainer},o.prototype.toggleFrames=function(i){if(this.opts.silentFrames){var e=document.querySelectorAll("iframe");(0,X.each)(e,function(t){return t.style.pointerEvents=i?"none":""})}},o.prototype.isHandler=function(i){var e=this.handlers;for(var t in e)if(e[t]===i)return!0;return!1},o.prototype.getFocusedEl=function(){return this.el},o.prototype.getParentEl=function(){var i;return(i=this.el)===null||i===void 0?void 0:i.parentElement},o.prototype.getDocumentEl=function(){return this.opts.docs||[this.el.ownerDocument,document]},o.prototype.getElementPos=function(i,e){e===void 0&&(e={});var t=this.posFetcher;return t?t(i,e):A8(i)},o.prototype.focus=function(i){i&&i===this.el||(this.el=i,this.updateContainer({forceShow:!0}),(0,Ct.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},o.prototype.blur=function(){this.container.style.display="none",this.el&&((0,Ct.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},o.prototype.start=function(i){var e,t=this,n=t.el,r=t.opts,a=r===void 0?{}:r;if(this.moved=!1,!(i.button!==0||!n)){i.preventDefault(),i.stopPropagation(),(e=this.selectedHandler)===null||e===void 0||e.setPointerCapture(i.pointerId);var s=this.getParentEl(),c=this,d=a,p=this.mousePosFetcher,f="data-"+d.prefix+"handler",h=this.getElementPos(n,{avoidFrameZoom:!0,avoidFrameOffset:!0}),v=this.getElementPos(s),C=i.target;this.handlerAttr=C.getAttribute(f),this.clickedHandler=C,this.startDim={t:h.top,l:h.left,w:h.width,h:h.height},this.rectDim={t:h.top,l:h.left,w:h.width,h:h.height},this.startPos=p?p(i):{x:i.clientX,y:i.clientY},this.parentDim={t:v.top,l:v.left,w:v.width,h:v.height};var b=this.getDocumentEl();this.docs=b,(0,Ct.on)(b,"pointermove",this.move),(0,Ct.on)(b,"keydown",this.handleKeyDown),(0,Ct.on)(b,"pointerup",this.stop),(0,X.isFunction)(this.onStart)&&this.onStart(i,{docs:b,config:d,el:n,resizer:c}),this.toggleFrames(!0),!d.updateOnMove&&this.move(i)}},o.prototype.move=function(i){var e,t;this.moved=!0;var n=this.el,r=this.opts,a=this.docs||this.getDocumentEl(),s=((e=this.mousePosFetcher)===null||e===void 0?void 0:e.call(this,i))||{x:i.clientX,y:i.clientY};this.currentPos=s,this.delta={x:s.x-this.startPos.x,y:s.y-this.startPos.y},this.keys={shift:i.shiftKey,ctrl:i.ctrlKey,alt:i.altKey},this.rectDim=this.calc(this),this.updateRect(!1,i),(t=this.onMove)===null||t===void 0||t.call(this,i,{docs:a,config:r,el:n,resizer:this})},o.prototype.stop=function(i){var e,t,n=this.el,r=this.opts,a=this.docs||this.getDocumentEl();(0,Ct.AU)(a,"pointermove",this.move),(0,Ct.AU)(a,"keydown",this.handleKeyDown),(0,Ct.AU)(a,"pointerup",this.stop),(this.moved||!r.updateOnMove)&&this.updateRect(!0,i),i.pointerId&&((e=this.selectedHandler)===null||e===void 0||e.releasePointerCapture(i.pointerId)),this.toggleFrames(),(t=this.onEnd)===null||t===void 0||t.call(this,i,{docs:a,config:r,el:n,resizer:this}),this.moved=!1,delete this.docs},o.prototype.updateRect=function(i,e){var t=this.el,n=this,r=this.opts,a=this.rectDim,s=this.updateTarget,c=this.getSelectedHandler(),d=r.unitHeight,p=r.unitWidth,f=r.keyWidth,h=r.keyHeight;if((0,X.isFunction)(s))s(t,a,{store:i,selectedHandler:c,resizer:n,config:r,event:e});else{var v=t.style;v[f]=a.w+p,v[h]=a.h+d}this.updateContainer()},o.prototype.updateContainer=function(i){var e;i===void 0&&(i={});var t=this,n=t.opts,r=t.container,a=t.el,s=r.style;!n.avoidContainerUpdate&&a&&i.forceShow&&(s.display="block"),(e=this.onUpdateContainer)===null||e===void 0||e.call(this,{el:r,resizer:this,opts:ds(ds({},n),i)})},o.prototype.getSelectedHandler=function(){var i=this.handlers;if(this.selectedHandler){for(var e in i)if(i[e]===this.selectedHandler)return e}},o.prototype.handleKeyDown=function(i){i.keyCode===27&&(this.rectDim=this.startDim,this.stop(i))},o.prototype.handleMouseDown=function(i){var e=i.target;this.isHandler(e)?(this.selectedHandler=e,this.start(i)):e!==this.el&&(delete this.selectedHandler,this.blur())},o.prototype.calc=function(i){var e,t=this.opts||{},n=t.step,r=this.startDim,a=t.minDim,s=t.maxDim,c=i.delta.x,d=i.delta.y,p=this.parentDim.w,f=this.parentDim.h,h=t.unitWidth,v=t.unitHeight,C=t.skipUnitAdjustments,b=this.getParentRect(),x=h==="%"&&!C,w=v==="%"&&!C,P=x?r.w/100*p:r.w,M=w?r.h/100*f:r.h,y={t:r.t-b.top,l:r.l-b.left,w:P,h:M};if(i){var A=i.handlerAttr;~A.indexOf("r")&&(e=x?(0,Ze.normalizeFloat)((P+c*n)/p*100,.01):(0,Ze.normalizeFloat)(P+c*n,n),e=Math.max(a,e),s&&(e=Math.min(s,e)),y.w=e),~A.indexOf("b")&&(e=w?(0,Ze.normalizeFloat)((M+d*n)/f*100,.01):(0,Ze.normalizeFloat)(M+d*n,n),e=Math.max(a,e),s&&(e=Math.min(s,e)),y.h=e),~A.indexOf("l")&&(e=x?(0,Ze.normalizeFloat)((P-c*n)/p*100,.01):(0,Ze.normalizeFloat)(P-c*n,n),e=Math.max(a,e),s&&(e=Math.min(s,e)),y.w=e),~A.indexOf("t")&&(e=w?(0,Ze.normalizeFloat)((M-d*n)/f*100,.01):(0,Ze.normalizeFloat)(M-d*n,n),e=Math.max(a,e),s&&(e=Math.min(s,e)),y.h=e);var k=t.ratioDefault?!i.keys.shift:i.keys.shift;if(A.indexOf("c")<0&&k){var N=r.w/r.h;y.w/y.h>N?y.h=Math.round(y.w/N):y.w=Math.round(y.h*N)}~A.indexOf("l")&&(y.l+=r.w-y.w),~A.indexOf("t")&&(y.t+=r.h-y.h);for(var V in y){var j=V;y[j]=parseInt("".concat(y[j]),10)}return y}},o.prototype.getParentRect=function(){var i={left:0,top:0,width:0,height:0},e=this.el;if(!e)return i;var t=e.offsetParent;return t&&t.tagName!=="BODY"&&(i=this.getElementPos(t)),i},o}(),L8=I8,Sr=function(){return Sr=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Sr.apply(this,arguments)};function N8(o,i,e){for(var t={index:0,placement:"before"},n=0,r=0,a=0,s=0,c=0,d=0,p=0,f,h=0,v=o.length;h<v;h++){f=o[h];var C=f.top,b=f.left,x=f.height,w=f.width;if(a=b+w,p=C+x,c=b+w/2,d=C+x/2,!(r&&b>r||s&&d>=s||n&&a<n))if(t.index=h,!f.dir)e<p&&(s=p),i<c?(r=c,t.placement="before"):(n=c,t.placement="after");else if(e<d){t.placement="before";break}else t.placement="after"}return t}function Kv(o){var i=o.getBoundingClientRect();return{top:i.top+document.body.scrollTop,left:i.left+document.body.scrollLeft}}function Rm(o,i){return Ze.matches.call(o,i)}function D8(o,i){var e=pm(o),t=pm(i),n=t.filter(function(c){return e.includes(c)}),r=n[0];if(!r)return o.model.index()-i.model.index();var a=t[t.indexOf(r)-1],s=e[e.indexOf(r)-1];return s.index()-a.index()}function pm(o){return o?[o].concat(pm(o.parent())):[]}function R8(o,i){if(o)for(var e=o.parentNode;e&&e.nodeType===1;){if(Rm(e,i))return e;e=e.parentNode}}function F8(o,i){if((0,Ct.ir)(o))return!1;var e=o.style||{},t=(0,vi.default)(o),n=(0,vi.default)(i);if(e.overflow&&e.overflow!=="visible")return!1;var r=t.css("float");return r&&r!=="none"||n.css("display")==="flex"&&n.css("flex-direction")!=="column"||!V8(e.position)?!1:j8(o)||H8(t)}function V8(o){switch(o){case"static":case"relative":case"":return!0;default:return!1}}function j8(o){var i=["TR","TBODY","THEAD","TFOOT"];return i.includes(o.tagName)}function H8(o){var i=o.css("display"),e=["block","list-item","table","flex","grid"];return e.includes(i)}function z8(o){var i={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:_s.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},e=Sr(Sr(Sr({},i),o),{containerContext:Sr(Sr({},i.containerContext),o.containerContext),positionOptions:Sr(Sr({},i.positionOptions),o.positionOptions),dragBehavior:Sr(Sr({},i.dragBehavior),o.dragBehavior),eventHandlers:Sr(Sr({},i.eventHandlers),o.eventHandlers)});return e}var Ny=function(){function o(i){this.timeout=null,this.threshold=i}return o.prototype.updateArgs=function(i){this.lastArgs=i},o.prototype.execute=function(i){var e=this;this.timeout||(this.timeout=setTimeout(function(){e.lastArgs&&i(e.lastArgs),e.timeout=null},this.threshold))},o.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},o}(),fm=function(){return fm=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},fm.apply(this,arguments)},B8=function(){function o(i){this.top=i.top,this.left=i.left,this.height=i.height,this.width=i.width,this.offsets=i.offsets,this.dir=i.dir}return o.prototype.calculateDimensionDifference=function(i){var e=i.top-this.top,t=i.left-this.left;return{topDifference:e,leftDifference:t}},o.prototype.adjustDimensions=function(i){return this.top+=i.topDifference,this.left+=i.leftDifference,this},o.prototype.determinePlacement=function(i,e){var t=this.left+this.width/2,n=this.top+this.height/2;return this.dir?e<n?"before":"after":i<t?"before":"after"},o.prototype.equals=function(i){return i?this.top===i.top&&this.left===i.left&&this.height===i.height&&this.width===i.width&&this.dir===i.dir&&JSON.stringify(this.offsets)===JSON.stringify(i.offsets):!1},o.prototype.clone=function(){return new o({top:this.top,left:this.left,height:this.height,width:this.width,offsets:fm({},this.offsets),dir:this.dir})},o.prototype.getDropArea=function(i){var e=this.clone(),t=this.adjustDropDimension(this.width,this.left,i),n=t.newSize,r=t.newPosition;e.width=n,e.left=r;var a=this.adjustDropDimension(this.height,this.top,i),s=a.newSize,c=a.newPosition;return e.height=s,e.top=c,e},o.prototype.adjustDropDimension=function(i,e,t){var n=t.ratio,r=t.minUndroppableDimension,a=t.maxUndroppableDimension,s=i*(1-n)/2;s=Math.max(s,r),s=Math.min(s,a);var c=i-s*2,d=e+s;return{newSize:c,newPosition:d}},o.prototype.isWithinBounds=function(i,e){return i>=this.left&&i<=this.left+this.width&&e>=this.top&&e<=this.top+this.height},o}(),U8=B8,G8=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),W8=function(o){G8(i,o);function i(e){var t=o.call(this)||this;return t.sourceNodes=[],t.containerOffset={top:0,left:0},t.moveThreshold=20,t.treeClass=e.treeClass,t.em=e.em,t.containerContext=e.containerContext,t.positionOptions=e.positionOptions,t.dragDirection=e.dragDirection,t.eventHandlers=e.eventHandlers,(0,X.bindAll)(t,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),t.restLastMoveData(),t.rateLimiter=new Ny(t.moveThreshold),t}return i.prototype.startSort=function(e){this.sourceNodes=e,this.bindDragEventHandlers()},i.prototype.bindDragEventHandlers=function(){(0,Ct.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,Ct.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,Ct.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},i.prototype.recalculateTargetOnScroll=function(){var e=this.lastMoveData.mouseEvent;e&&this.onMove(e)},i.prototype.onMove=function(e){this.rateLimiter.updateArgs(e),this.rateLimiter.execute(this.handleMove.bind(this))},i.prototype.handleMove=function(e){var t,n,r,a,s,c,d;this.adjustForScroll();var p=this.lastMoveData.targetNode;(n=(t=this.eventHandlers).onMouseMove)===null||n===void 0||n.call(t,e),this.cacheContainerPosition();var f=this.getMousePositionRelativeToContainer(e.clientX,e.clientY),h=f.mouseXRelative,v=f.mouseYRelative,C=this.getMouseTargetElement(e),b=this.getFirstElementWithAModel(C),x=b?(r=(0,vi.default)(b))===null||r===void 0?void 0:r.data("model"):void 0,w=x?this.getOrCreateHoveredNode(x):void 0,P=w?this.getIndexInParent(w,w.nodeDimensions,h,v):0,M=w?this.getValidParent(w,0,h,v):void 0,y=!M?.equals(p);if(y&&((s=(a=this.eventHandlers).onTargetChange)===null||s===void 0||s.call(a,p,M)),!M||!w){this.triggerLegacyOnMoveCallback(e,0),this.triggerMoveEvent(h,v),this.restLastMoveData();return}var A=this.getDropPosition(M,h,v),k=A.index,N=A.placement,V=A.placeholderDimensions,j=!V.equals(this.lastMoveData.placeholderDimensions)||N!==this.lastMoveData.placement;j&&((d=(c=this.eventHandlers).onPlaceholderPositionChange)===null||d===void 0||d.call(c,V,N)),this.lastMoveData={targetNode:M,hoveredNode:w,mouseEvent:e,index:k,hoveredIndex:P,placement:N,placeholderDimensions:V},this.triggerMoveEvent(h,v),this.triggerLegacyOnMoveCallback(e,k)},i.prototype.adjustForScroll=function(){var e,t,n=this.lastMoveData.targetNode;if(n?.element){var r=this.getDim(n?.element),a=(e=n.nodeDimensions)===null||e===void 0?void 0:e.calculateDimensionDifference(r);a&&n.adjustDimensions(a)}var s=this.lastMoveData.hoveredNode;if(s?.element){var r=this.getDim(s?.element),a=(t=s.nodeDimensions)===null||t===void 0?void 0:t.calculateDimensionDifference(r);a&&s.adjustDimensions(a)}},i.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},i.prototype.triggerLegacyOnMoveCallback=function(e,t){var n,r,a,s,c=(n=this.sourceNodes[0])===null||n===void 0?void 0:n.model;(a=(r=this.eventHandlers).legacyOnMoveClb)===null||a===void 0||a.call(r,{event:e,target:c,parent:(s=this.lastMoveData.targetNode)===null||s===void 0?void 0:s.model,index:t})},i.prototype.triggerMoveEvent=function(e,t){var n,r=this.lastMoveData,a=r.targetNode,s=r.placement,c=r.index,d=c?c+(s==="after"?-1:0):0;this.em.trigger("sorter:drag",{target:a?.element||null,targetModel:(n=this.lastMoveData.targetNode)===null||n===void 0?void 0:n.model,sourceModel:this.sourceNodes[0].model,dims:a?.childrenDimensions||[],pos:{index:d,indexEl:d,placement:s},x:e,y:t})},i.prototype.getDropPosition=function(e,t,n){var r,a=e.nodeDimensions,s=e.childrenDimensions,c=e.getChildren(),d=c&&c.length>0;a=a||this.getDim(e.element),e.nodeDimensions=a,s=s||this.getChildrenDim(e),e.childrenDimensions=s;var p=a.clone(),f=0,h="inside";return d&&(r=N8(s,t,n),f=r.index,h=r.placement,p=s[f].clone(),f=f+(h=="after"?1:0)),{index:f,placement:h,placeholderDimensions:p}},i.prototype.getOrCreateHoveredNode=function(e){var t=this.lastMoveData.hoveredNode,n=new this.treeClass(e),r=n.equals(t),a=r?t:n;return a.nodeDimensions=r?t.nodeDimensions:this.getDim(n.element),a},i.prototype.getMouseTargetElement=function(e){var t=this.containerContext.customTarget,n=this.containerContext.document.elementFromPoint(e.clientX,e.clientY),r=t?t({event:e}):n;return r},i.prototype.onDragStart=function(e){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(e)},i.prototype.endDrag=function(){this.dropDragged()},i.prototype.cancelDrag=function(){var e,t,n=this.lastMoveData.targetNode;(t=(e=this.eventHandlers).onTargetChange)===null||t===void 0||t.call(e,n,void 0),this.finalizeMove()},i.prototype.finalizeMove=function(){var e,t,n,r;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),(t=(e=this.eventHandlers).onEnd)===null||t===void 0||t.call(e),(r=(n=this.eventHandlers).legacyOnEnd)===null||r===void 0||r.call(n),this.restLastMoveData(),this.rateLimiter.clearTimeout()},i.prototype.dropDragged=function(){var e,t,n=this.lastMoveData,r=n.targetNode,a=n.index;(t=(e=this.eventHandlers).onDrop)===null||t===void 0||t.call(e,r,this.sourceNodes,a),this.finalizeMove()},i.prototype.triggerOnDragEndEvent=function(){var e=this.lastMoveData.targetNode,t=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:e?e.getChildren():null,modelToDrop:t?.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(n){return n.element}),srcModel:t?.model,trg:e?.element,trgModel:e?.model,draggable:!0,droppable:!0},dst:e?.element,srcEl:t?.element})},i.prototype.getFirstElementWithAModel=function(e){for(var t=function(n){return(0,vi.default)(n).data("model")!==void 0};e&&this.containerContext.container.contains(e);){if(t(e))return e;e=e.parentElement}return null},i.prototype.getValidParent=function(e,t,n,r){var a,s;if(e){var c=this.lastMoveData,d=c.targetNode,p=c.hoveredNode,f=c.hoveredIndex,h=c.mouseEvent,v=e.equals(p);e.nodeDimensions=v?p.nodeDimensions:this.getDim(e.element);var C=this.getIndexInParent(e,e.nodeDimensions,n,r),b=C===f,x=e.isWithinDropBounds(n,r),w=v&&b&&x===e.isWithinDropBounds((a=h?.clientX)!==null&&a!==void 0?a:0,(s=h?.clientY)!==null&&s!==void 0?s:0);if(w&&d)return d;if(!x)return this.handleParentTraversal(e,n,r);var P=this.sourceNodes.some(function(M){return e.canMove(M,t)});return this.triggerDragValidation(P,e),P?e:this.handleParentTraversal(e,n,r)}},i.prototype.handleParentTraversal=function(e,t,n){var r=e.getParent();if(r){var a=this.getIndexInParent(e,e.nodeDimensions,t,n);if(a!==void 0)return this.getValidParent(r,a,t,n)}},i.prototype.getIndexInParent=function(e,t,n,r){var a=e.getParent();if(a){var s=a?.indexOfChild(e);return t.dir=this.getDirection(e.element,a.element),s=s+(t.determinePlacement(n,r)=="after"?1:0),s}},i.prototype.triggerDragValidation=function(e,t){var n=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:e,src:n?.element,srcModel:n?.model,trg:t.element,trgModel:t.model}),n},i.prototype.cleanupEventListeners=function(){var e=this.containerContext.container;(0,Ct.AU)(e,"dragstart",this.onDragStart),(0,Ct.AU)(e,"mousemove dragover",this.onMove),(0,Ct.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},i.prototype.getDirection=function(e,t){var n;return this.dragDirection===_s.A.Vertical?n=!0:this.dragDirection===_s.A.Horizontal?n=!1:n=F8(e,t),n},i.prototype.getChildrenDim=function(e){var t=this,n=[],r=e.element;if(!r)return[];var a=e.getChildren();return!a||a.length===0?[]:((0,X.each)(a,function(s,c){var d=s.element;if(d&&!(!(0,Ct.ir)(d)&&!Rm(d,t.containerContext.itemSel))){var p=t.getDim(d);p.dir=t.getDirection(d,r),n.push(p)}}),n)},i.prototype.getMousePositionRelativeToContainer=function(e,t){var n=t-this.containerOffset.top+this.containerContext.container.scrollTop,r=e-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var a=this.em.Canvas.getMouseRelativeCanvas({clientX:e,clientY:t},{noScroll:1});r=a.x,n=a.y}return{mouseXRelative:r,mouseYRelative:n}},i.prototype.cacheContainerPosition=function(){var e=this.containerContext.container,t=Kv(e),n=this.positionOptions.windowMargin?Math.abs(t.top):t.top,r=this.positionOptions.windowMargin?Math.abs(t.left):t.left;this.containerOffset={top:n,left:r}},i.prototype.getDim=function(e){var t=this.em,n=this.positionOptions.relative,r=this.positionOptions.windowMargin,a=t?.Canvas,s=a?a.getElementOffsets(e):{},c,d,p,f;if(this.positionOptions.canvasRelative&&this.em){var h=a.getElementPos(e,{noScroll:1});c=h.top,d=h.left,p=h.height,f=h.width}else{var v=Kv(e);c=n?e.offsetTop:v.top-(r?-1:1)*this.containerOffset.top,d=n?e.offsetLeft:v.left-(r?-1:1)*this.containerOffset.left,p=e.offsetHeight,f=e.offsetWidth}return new U8({top:c,left:d,height:p,width:f,offsets:s})},i}(gt.Ss),K8=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),q8=function(o){K8(i,o);function i(e){var t=o.call(this)||this;return t.pfx=e.pfx||"",t.allowNesting=e.allowNesting||!1,t.container=e.container,t.setElement(e.el),t.offset={top:e.offset.top||0,left:e.offset.left||0},t.moveLimiter=new Ny(100),t}return i.prototype.show=function(){this.el.style.display="block"},i.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},i.prototype.move=function(e,t){var n=this,r={elementDimension:e,placement:t};this.moveLimiter.updateArgs(r),this.moveLimiter.execute(function(a){var s=a.elementDimension,c=a.placement;n._move(s,c)})},i.prototype._move=function(e,t){var n=0,r="px",a=0,s=0,c="",d="";this.setOrientationForDimension(e);var p=e.top,f=e.left,h=e.height,v=e.width,C=e.dir,b=e.offsets;if(t==="inside"){if(this.setOrientation("horizontal"),!this.allowNesting){this.hide();return}var x=5,w=b?.paddingTop||x,P=b?.paddingLeft||x,M=b?.borderTopWidth||0,y=b?.borderLeftWidth||0,A=b?.borderRightWidth||0,k=y+A;a=p+w+M,s=f+P+y,c=Math.max(v-P*2-k,1)+"px",d="auto"}else C?(c=v+r,d="auto",a=t==="before"?p-n:p+h-n,s=f):(c="auto",d=h-n*2+r,a=p+n,s=t==="before"?f-n:f+v-n,this.setOrientation("vertical"));this.updateStyles(a,s,c,d),this.adjustOffset()},i.prototype.setOrientationForDimension=function(e){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),e&&!e.dir&&this.setOrientation("vertical")},i.prototype.setOrientation=function(e){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(e)},i.prototype.updateStyles=function(e,t,n,r){this.el.style.top=e+"px",this.el.style.left=t+"px",n&&(this.el.style.width=n),r&&(this.el.style.height=r)},i.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},i}(gt.Ss),yl=function(){return yl=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},yl.apply(this,arguments)},$8=function(){function o(i){var e=z8(i);(0,X.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=e.containerContext,this.positionOptions=e.positionOptions,this.dragBehavior=e.dragBehavior,this.eventHandlers=yl(yl({},e.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=i.em,this.treeClass=i.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new W8({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return o.prototype.startSort=function(i){var e,t,n,r,a,s,c,d=this.getSourceNodes(i),p=d.sourceNodes,f=d.sourcesWithModel;this.sourceNodes=p,this.dropLocationDeterminer.startSort(p),this.bindDragEventHandlers(),(t=(e=this.eventHandlers).onStartSort)===null||t===void 0||t.call(e,this.sourceNodes,this.containerContext.container);var h=(n=this.sourceNodes[0])===null||n===void 0?void 0:n.model;(a=(r=this.eventHandlers).legacyOnStartSort)===null||a===void 0||a.call(r,{sorter:this,target:h,parent:h&&((s=h.parent)===null||s===void 0?void 0:s.call(h)),index:h&&((c=h.index)===null||c===void 0?void 0:c.call(h))}),this.em.trigger("sorter:drag:start",i[0],f[0])},o.prototype.validTarget=function(i,e,t){if(!i)return!1;var n=(0,vi.default)(i).data("model");if(!n)return!1;var r=new this.treeClass(n),a=this.getSourceNodes(e).sourceNodes,s=a.some(function(c){return r.canMove(c,t)});return s},o.prototype.getSourceNodes=function(i){var e=this,t=i.filter(function(s){return!!s.dragSource||e.findValidSourceElement(s.element)}),n=t.map(function(s){var c,d;return{model:((c=s.dragSource)===null||c===void 0?void 0:c.model)||((d=(0,vi.default)(s.element))===null||d===void 0?void 0:d.data("model")),content:s.dragSource}}),r=n.sort(function(s,c){return D8(s.model,c.model)}),a=r.map(function(s){return new e.treeClass(s.model,s.content)});return{sourceNodes:a,sourcesWithModel:n}},o.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},o.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},o.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},o.prototype.handlePlaceholderMove=function(i,e){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(i,e)},o.prototype.createPlaceholder=function(){return new q8({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},o.prototype.ensurePlaceholderElement=function(){var i=this.placeholder.el,e=this.containerContext.container;i.ownerDocument.contains(i)||e.append(this.placeholder.el)},o.prototype.updateOffset=function(){var i,e=((i=this.em)===null||i===void 0?void 0:i.get("canvasOffset"))||{};this.positionOptions.offsetTop=e.top,this.positionOptions.offsetLeft=e.left},o.prototype.findValidSourceElement=function(i){return i&&!Rm(i,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(i=R8(i,this.containerContext.itemSel)),i},o.prototype.bindDragEventHandlers=function(){(0,Ct.on)(this.containerContext.document,"keydown",this.rollback)},o.prototype.updatePlaceholderPosition=function(i,e){this.placeholder.move(i,e)},o.prototype.cleanupEventListeners=function(){(0,Ct.AU)(this.containerContext.document,"keydown",this.rollback)},o.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},o.prototype.rollback=function(i){(0,Ct.AU)(this.containerContext.document,"keydown",this.rollback);var e="Escape";i.key===e&&this.cancelDrag()},o.prototype.triggerNullOnEndMove=function(i){var e,t,n,r,a,s=(e=this.sourceNodes)===null||e===void 0?void 0:e[0].model,c={target:s,parent:s&&((t=s.parent)===null||t===void 0?void 0:t.call(s)),index:s&&((n=s.index)===null||n===void 0?void 0:n.call(s))};(a=(r=this.eventHandlers).legacyOnEndMove)===null||a===void 0||a.call(r,null,this,yl(yl({},c),{cancelled:i}))},o}(),Dy=$8,Y8=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bl=function(){return bl=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},bl.apply(this,arguments)},Q8=Hr.F.Target,Lh={id:"sorter-target",type:Q8},X8=function(o){Y8(i,o);function i(e){var t=e.em,n=e.treeClass,r=e.containerContext,a=e.dragBehavior,s=e.positionOptions,c=s===void 0?{}:s,d=e.eventHandlers,p=d===void 0?{}:d,f=o.call(this,{em:t,treeClass:n,containerContext:r,positionOptions:c,dragBehavior:a,eventHandlers:bl(bl({},p),{onStartSort:function(h,v){var C;(C=p.onStartSort)===null||C===void 0||C.call(p,h,v),f.onStartSort()},onDrop:function(h,v,C){var b;(b=p.onDrop)===null||b===void 0||b.call(p,h,v,C),f.onDrop(h,v,C)},onTargetChange:function(h,v){var C;(C=p.onTargetChange)===null||C===void 0||C.call(p,h,v),f.onTargetChange(h,v)},onMouseMove:function(h){var v;(v=p.onMouseMove)===null||v===void 0||v.call(p,h),f.onMouseMove(h)}})})||this;return f.targetIsText=!1,f.onMouseMove=function(h){var v,C=f.targetIsText&&((v=f.sourceNodes)===null||v===void 0?void 0:v.some(function(b){return b.isTextable()}));C&&f.updateTextViewCursorPosition(h)},f.onDrop=function(h,v,C){var b=typeof C=="number"?C:-1;if(h&&v.length>0){var x=f.handleNodeAddition(h,v,b);x.length===0&&f.triggerNullOnEndMove(!1)}else f.triggerNullOnEndMove(!0);h?.restNodeState(),f.placeholder.hide()},f.onTargetChange=function(h,v){var C;h?.restNodeState();var b=f.em.Canvas;if(!v){f.placeholder.hide(),b.removeSpots(Lh);return}v?.setSelectedParentState(),f.targetIsText=v.isTextNode();var x=f.targetIsText&&((C=f.sourceNodes)===null||C===void 0?void 0:C.some(function(y){return y.isTextable()}));x?(v.setContentEditable(!0),f.placeholder.hide()):f.placeholder.show();var w=Hr.F.Select,P=Hr.F.Hover,M=Hr.F.Spacing;[w,P,M].forEach(function(y){return b.removeSpots({type:y})}),b.addSpot(bl(bl({},Lh),{component:v.model}))},(0,X.bindAll)(f,"handleScrollEvent"),f}return i.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},i.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),o.prototype.bindDragEventHandlers.call(this)},i.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),o.prototype.cleanupEventListeners.call(this)},i.prototype.handleScrollEvent=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(e=t?.[0])===null||e===void 0?void 0:e.frame,a=this.em.Canvas.getCanvasView().frame===r;a&&this.recalculateTargetOnScroll()},i.prototype.handleNodeAddition=function(e,t,n){var r=this;return t.reduce(function(a,s){if(!e.canMove(s,n))return a;if(r.isPositionChanged(e,s,n)){var c=r.moveNode(e,s,n),d=c.index,p=c.addedNode;a.push(p),n=d}return n++,a},[])},i.prototype.isPositionChanged=function(e,t,n){var r=t.getParent(),a=r?r.indexOfChild(t):-1;r?.model.cid===e.model.cid&&a<n&&n--;var s=r?.model.cid===e.model.cid,c=a===n,d=this.targetIsText&&t.isTextable();return!(s&&c&&!d)},i.prototype.moveNode=function(e,t,n){var r=t.getParent();if(r){var a=r.indexOfChild(t);r.removeChildAt(a,{temporary:!0}),r.model.cid===e.model.cid&&a<n&&n--}var s=e.addChildAt(t,n,{action:"move-component"});return s&&this.triggerEndMoveEvent(s),{addedNode:s,index:n}},i.prototype.triggerEndMoveEvent=function(e){var t,n,r,a,s,c;(n=(t=this.eventHandlers).legacyOnEndMove)===null||n===void 0||n.call(t,e.model,this,{target:e.model,parent:e.model&&((a=(r=e.model).parent)===null||a===void 0?void 0:a.call(r)),index:e.model&&((c=(s=e.model).index)===null||c===void 0?void 0:c.call(s))})},i.prototype.finalizeMove=function(){var e,t;(e=this.em)===null||e===void 0||e.Canvas.removeSpots(Lh),(t=this.sourceNodes)===null||t===void 0||t.forEach(function(n){return n.restNodeState()}),this.setAutoCanvasScroll(!1),o.prototype.finalizeMove.call(this)},i.prototype.updateTextViewCursorPosition=function(e){var t=this.em;if(t){var n=t.Canvas,r=n.getDocument(),a=null,s=(0,Ct.G2)(e);if(r.caretPositionFromPoint){var c=r.caretPositionFromPoint(s.clientX,s.clientY);c&&(a=r.createRange(),a.setStart(c.offsetNode,c.offset))}else r.caretRangeFromPoint?a=r.caretRangeFromPoint(s.clientX,s.clientY):e.rangeParent&&(a=r.createRange(),a.setStart(e.rangeParent,e.rangeOffset));var d=n.getWindow().getSelection();n.getFrameEl().focus(),d?.removeAllRanges(),a&&d?.addRange(a)}},i.prototype.setAutoCanvasScroll=function(e){var t=this.em,n=t?.Canvas;n&&(e?n.startAutoscroll():n.stopAutoscroll())},i}(Dy),qv=X8,Z8=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Cp=function(){return Cp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Cp.apply(this,arguments)},J8=function(o){Z8(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return{values:{}}},i.prototype.initialize=function(){var e=this.collection;this.prop=e?.prop},i.prototype.getId=function(){return this.cid},i.prototype.getIndex=function(){var e=this.collection;return e?e.indexOf(this):-1},i.prototype.getValues=function(e){e===void 0&&(e={});var t=this.get("values");return e.camelCase?Object.keys(t).reduce(function(n,r){return n[(0,Ze.camelCase)(r)]=t[r],n},{}):t},i.prototype.getLabel=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.getLayerLabel(this)},i.prototype.isSelected=function(){var e;return((e=this.prop)===null||e===void 0?void 0:e.getSelectedLayer())===this},i.prototype.select=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.selectLayer(this)},i.prototype.remove=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.removeLayer(this)},i.prototype.move=function(e){var t;return(t=this.prop)===null||t===void 0?void 0:t.moveLayer(this,e)},i.prototype.getStylePreview=function(e){var t;return e===void 0&&(e={}),(t=this.prop)===null||t===void 0?void 0:t.getStylePreview(this,e)},i.prototype.hasPreview=function(){var e;return!!(!((e=this.prop)===null||e===void 0)&&e.get("preview"))},i.prototype.upValues=function(e){return e===void 0&&(e={}),this.set("values",Cp(Cp({},this.getValues()),e))},i}(gt.Kx),Ac=J8,e3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ry=function(o){e3(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.initialize=function(e,t){t===void 0&&(t={}),this.prop=t.prop},i}(gt.pM),Nu=Ry;Ry.prototype.model=Ac;var t3=mn(3178),n3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),i3=function(o){n3(i,o);function i(e){return o.call(this,e)||this}return i.prototype.getChildren=function(){return this.model instanceof Nu?this.model.models.map(function(e){return new i(e)}):null},i.prototype.getParent=function(){var e=this.model instanceof Ac?this.model.collection:null;return e?new i(e):null},i.prototype.addChildAt=function(e,t){if(this.model instanceof Ac)throw Error("Cannot add a layer model to another layer model");var n=this.model.add(e.model,{at:t});return new i(n)},i.prototype.removeChildAt=function(e){if(this.model instanceof Ac)throw Error("Cannot remove a layer model from another layer model");var t=this.model.at(e);t&&this.model.remove(t)},i.prototype.indexOfChild=function(e){return!(e.model instanceof Ac)||!(this.model instanceof Nu)?-1:this.model.indexOf(e.model)},i.prototype.canMove=function(e,t){return this.model instanceof Nu&&!!e.model},Object.defineProperty(i.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"element",{get:function(){var e;return(e=this.view)===null||e===void 0?void 0:e.el},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),i}(t3.$),r3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hm=function(){return hm=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},hm.apply(this,arguments)},o3=function(o){r3(i,o);function i(e){var t=e.em,n=e.containerContext,r=e.dragBehavior,a=e.positionOptions,s=a===void 0?{}:a,c=e.eventHandlers,d=c===void 0?{}:c,p=o.call(this,{em:t,treeClass:i3,containerContext:n,positionOptions:s,dragBehavior:r,eventHandlers:hm({onStartSort:function(f,h){var v;(v=d.onStartSort)===null||v===void 0||v.call(d,f,h),p.onLayerStartSort(f)},onDrop:function(f,h,v){var C;(C=d.onDrop)===null||C===void 0||C.call(d,f,h,v),p.onLayerDrop(f,h,v)},onEnd:function(){p.placeholder.hide()}},d)})||this;return p.onLayerStartSort=function(f){p.em.clearSelection();var h=f[0];p.em.trigger("sorter:drag:start",h?.element,h?.model),p.placeholder.show()},p.onLayerDrop=function(f,h,v){if(f){v=typeof v=="number"?v:-1;for(var C=0;C<h.length;C++){var b=h[C];if(f.canMove(b,C)){var x=b.getParent(),w=-1;x&&(w=x.indexOfChild(b),x.removeChildAt(w)),v=w<v?v-1:v,f.addChildAt(b,v)}}p.placeholder.hide()}},p}return i}(Dy),a3=o3,s3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),mm=function(){return mm=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},mm.apply(this,arguments)},l3=function(o){s3(i,o);function i(e){var t=o.call(this,e,"Utils")||this;return t.Sorter=qv,t.Resizer=L8,t.Dragger=V_.A,t.ComponentSorter=qv,t.StyleManagerSorter=a3,t.helpers=mm({},Ze),t}return i.prototype.destroy=function(){},i}(mr),c3=l3,fr,Ir={},Zi={16:!1,18:!1,17:!1,91:!1},Fy="all",bs={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},Vy={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},Fm=function(o){return Vy[o]||o.toUpperCase().charCodeAt(0)},Tl=[];for(fr=1;fr<20;fr++)Vy["f"+fr]=111+fr;function zc(o,i){for(var e=o.length;e--;)if(o[e]===i)return e;return-1}function d3(o,i){if(o.length!=i.length)return!1;for(var e=0;e<o.length;e++)if(o[e]!==i[e])return!1;return!0}var u3={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function p3(o){for(fr in Zi)Zi[fr]=o[u3[fr]]}function f3(o){var i,e,t,n,r,a;if(i=o.keyCode,zc(Tl,i)==-1&&Tl.push(i),(i==93||i==224)&&(i=91),i in Zi){Zi[i]=!0;for(t in bs)bs[t]==i&&(er[t]=!0);return}if(p3(o),!!er.filter.call(this,o)&&i in Ir){for(a=Vm(),n=0;n<Ir[i].length;n++)if(e=Ir[i][n],e.scope==a||e.scope=="all"){r=e.mods.length>0;for(t in Zi)(!Zi[t]&&zc(e.mods,+t)>-1||Zi[t]&&zc(e.mods,+t)==-1)&&(r=!1);(e.mods.length==0&&!Zi[16]&&!Zi[18]&&!Zi[17]&&!Zi[91]||r)&&e.method(o,e)===!1&&(o.preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation&&o.stopPropagation(),o.cancelBubble&&(o.cancelBubble=!0))}}}function h3(o){var i=o.keyCode,e,t=zc(Tl,i);if(t>=0&&Tl.splice(t,1),(i==93||i==224)&&(i=91),i in Zi){Zi[i]=!1;for(e in bs)bs[e]==i&&(er[e]=!1)}}function m3(){for(fr in Zi)Zi[fr]=!1;for(fr in bs)er[fr]=!1}function er(o,i,e){var t,n;t=jy(o),e===void 0&&(e=i,i="all");for(var r=0;r<t.length;r++)n=[],o=t[r].split("+"),o.length>1&&(n=Hy(o),o=[o[o.length-1]]),o=o[0],o=Fm(o),o in Ir||(Ir[o]=[]),Ir[o].push({shortcut:t[r],scope:i,method:e,key:t[r],mods:n})}function g3(o,i){var e,t,n=[],r,a,s;for(e=jy(o),a=0;a<e.length;a++){if(t=e[a].split("+"),t.length>1&&(n=Hy(t)),o=t[t.length-1],o=Fm(o),i===void 0&&(i=Vm()),!Ir[o])return;for(r=0;r<Ir[o].length;r++)s=Ir[o][r],s.scope===i&&d3(s.mods,n)&&(Ir[o][r]={})}}function v3(o){return typeof o=="string"&&(o=Fm(o)),zc(Tl,o)!=-1}function _3(){return Tl.slice(0)}function y3(o){var i=(o.target||o.srcElement).tagName;return!(i=="INPUT"||i=="SELECT"||i=="TEXTAREA")}for(fr in bs)er[fr]=!1;function b3(o){Fy=o||"all"}function Vm(){return Fy||"all"}function C3(o){var i,e,t;for(i in Ir)for(e=Ir[i],t=0;t<e.length;)e[t].scope===o?e.splice(t,1):t++}function jy(o){var i;return o=o.replace(/\s/g,""),i=o.split(","),i[i.length-1]==""&&(i[i.length-2]+=","),i}function Hy(o){for(var i=o.slice(0,o.length-1),e=0;e<i.length;e++)i[e]=bs[i[e]];return i}function Nh(o,i,e){o.addEventListener?o.addEventListener(i,e,!1):o.attachEvent&&o.attachEvent("on"+i,function(){e(window.event)})}er.setScope=b3;er.getScope=Vm;er.deleteScope=C3;er.filter=y3;er.isPressed=v3;er.getPressedKeyCodes=_3;er.unbind=g3;er.handlers=Ir;er.init=function(o){Nh(o.document,"keydown",function(i){f3(i)}),Nh(o.document,"keyup",h3),Nh(o,"focus",m3)};var Ic=er,x3=function(){return{defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}}},w3=x3,O3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$v=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))};(0,Ze.hasWin)()&&Ic.init(window);var P3=function(o){O3(i,o);function i(e){var t=o.call(this,e,"Keymaps",w3())||this;return t.keymaster=Ic,t.keymaps={},t}return i.prototype.onLoad=function(){if(!this.em.isHeadless){var e=this.config.defaults;for(var t in e){var n=e[t];this.add(t,n.keys,n.handler,n.opts||{})}}},i.prototype.add=function(e,t,n,r){r===void 0&&(r={});var a=this.em,s=a.Commands,c=a.getEditor(),d=a.Canvas,p={id:e,keys:t,handler:n},f=this.keymaps[e];return f&&this.remove(e),this.keymaps[e]=p,Ic(t,function(h,v){var C,b={event:h,h:v},x=(0,X.isString)(n)?s.get(n):n,w=!a.isEditing()&&!c.Canvas.isInputFocused();if(w||r.force){r.prevent&&((C=d.getCanvasView())===null||C===void 0||C.preventDefault(h)),(0,X.isFunction)(x)?x(c,0,b):s.runCommand(x,b);var P=[e,v.shortcut,h];a.trigger.apply(a,$v(["keymap:emit"],P,!1)),a.trigger.apply(a,$v(["keymap:emit:".concat(e)],P,!1))}},void 0),a.trigger("keymap:add",p),p},i.prototype.get=function(e){return this.keymaps[e]},i.prototype.getAll=function(){return this.keymaps},i.prototype.remove=function(e){var t=this.em,n=this.get(e);if(n)return delete this.keymaps[e],n.keys.split(", ").forEach(function(r){Ic.unbind(r.trim())}),t?.trigger("keymap:remove",n),n},i.prototype.removeAll=function(){var e=this;return Object.keys(this.keymaps).forEach(function(t){return e.remove(t)}),Ic.handlers={},this},i.prototype.destroy=function(){this.removeAll(),this.keymaps={}},i}(mr),M3=P3,T3=function(){return{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}}},S3=T3,E3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),k3=function(o){E3(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},i.prototype.open=function(){this.set("open",!0)},i.prototype.close=function(){this.set("open",!1)},i}(Na.A),A3=k3,I3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xp=function(){return xp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},xp.apply(this,arguments)},L3=function(o){I3(i,o);function i(e){var t=o.call(this,e)||this,n=t.model;return t.listenTo(n,"change:open",t.updateOpen),t.listenTo(n,"change:title",t.updateTitle),t.listenTo(n,"change:content",t.updateContent),t}return i.prototype.template=function(e){var t=e.pfx,n=e.ppfx,r=e.content,a=e.title;return'<div class="'.concat(t,"dialog ").concat(n,"one-bg ").concat(n,`two-color">
      <div class="`).concat(t,`header">
        <div class="`).concat(t,'title">').concat(a,`</div>
        <div class="`).concat(t,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(t,`content">
        <div id="`).concat(t,'c">').concat(r,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(t,'collector" style="display: none"></div>')},i.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},i.prototype.onClick=function(e){var t=this.config.backdrop;t&&e.target===this.el&&this.hide()},i.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},i.prototype.getContent=function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},i.prototype.getTitle=function(e){return e===void 0&&(e={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),e.$?this.$title:this.$title.get(0)},i.prototype.updateContent=function(){var e=this.getContent(),t=e.children(),n=this.getCollector(),r=this.model.get("content");t.length&&n.append(t),e.empty().append(r)},i.prototype.updateTitle=function(){var e=this.getTitle({$:!0});e&&e.empty().append(this.model.get("title"))},i.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},i.prototype.hide=function(){this.model.close()},i.prototype.show=function(){this.model.open()},i.prototype.updateAttr=function(e){var t=this,n=t.pfx,r=t.$el,a=t.el,s=[].slice.call(a.attributes).map(function(c){return c.name});r.removeAttr(s.join(" ")),r.attr(xp(xp({},e||{}),{class:"".concat(n,"container ").concat(e&&e.class||"").trim()}))},i.prototype.render=function(){var e=this.$el,t=this.model.toJSON();return t.pfx=this.pfx,t.ppfx=this.ppfx,e.html(this.template(t)),this.updateAttr(),this.updateOpen(),this},i}(Br),N3=L3,D3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),R3=function(o){D3(i,o);function i(e){var t=o.call(this,e,"Modal",S3())||this;return t.model=new A3(t),t.model.on("change:open",function(n,r){e.trigger("modal:".concat(r?"open":"close"))}),t.model.on("change",(0,X.debounce)(function(){var n=t._evData(),r=t.config.custom;(0,X.isFunction)(r)&&r(n),e.trigger("modal",n)},0)),t}return i.prototype._evData=function(){var e=this,t=this.getTitle(),n=this.getContent(),r=this.model.attributes,a=r.open,s=r.attributes;return{open:a,attributes:s,title:(0,X.isString)(t)?(0,Ct.GZ)(t):t,content:(0,X.isString)(n)?(0,Ct.GZ)(n):n.get?n.get(0):n,close:function(){e.close()}}},i.prototype.postRender=function(e){var t=e.model.config.el||e.el,n=this.render();n&&t?.appendChild(n)},i.prototype.open=function(e){e===void 0&&(e={});var t=e.attributes||{};return e.title&&this.setTitle(e.title),e.content&&this.setContent(e.content),this.model.set("attributes",t),this.model.open(),this.modal&&this.modal.updateAttr(t),this},i.prototype.close=function(){return this.model.close(),this},i.prototype.onceClose=function(e){return this.em.once("modal:close",e),this},i.prototype.onceOpen=function(e){return this.em.once("modal:open",e),this},i.prototype.isOpen=function(){return!!this.model.get("open")},i.prototype.setTitle=function(e){return this.model.set("title",e),this},i.prototype.getTitle=function(){return this.model.get("title")},i.prototype.setContent=function(e){return this.model.set("content"," "),this.model.set("content",e),this},i.prototype.getContent=function(){return this.model.get("content")},i.prototype.getContentEl=function(){var e;return(e=this.modal)===null||e===void 0?void 0:e.getContent().get(0)},i.prototype.getModel=function(){return this.model},i.prototype.render=function(){var e;if(!this.config.custom){var t=N3.extend(this.config.extend),n=this.modal&&this.modal.el;return this.modal=new t({el:n,model:this.model,config:this.config}),(e=this.modal)===null||e===void 0?void 0:e.render().el}},i.prototype.destroy=function(){var e;(e=this.modal)===null||e===void 0||e.remove()},i}(mr),F3=R3,Yv="sw-visibility",Qv="export-template",Xv="open-sm",Zv="open-tm",Jv="open-layers",e_="open-blocks",Dh="fullscreen",Rh="preview",V3=function(){return{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:Yv,className:"fa fa-square-o",command:"core:component-outline",context:Yv,attributes:{title:"View components"}},{id:Rh,className:"fa fa-eye",command:Rh,context:Rh,attributes:{title:"Preview"}},{id:Dh,className:"fa fa-arrows-alt",command:Dh,context:Dh,attributes:{title:"Fullscreen"}},{id:Qv,className:"fa fa-code",command:Qv,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:Xv,className:"fa fa-paint-brush",command:Xv,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:Zv,className:"fa fa-cog",command:Zv,togglable:!1,attributes:{title:"Settings"}},{id:Jv,className:"fa fa-bars",command:Jv,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:e_,className:"fa fa-th-large",command:e_,togglable:!1,attributes:{title:"Open Blocks"}}]}]}},j3=V3,H3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),z3=function(o){H3(i,o);function i(e,t){var n=o.call(this,e,t)||this;return n.get("buttons").length&&n.set("buttons",new Uy(n.module,n.get("buttons"))),n}return i.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(i.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"active",{get:function(){return this.get("active")},set:function(e){this.set("active",e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),i}(Na.A),zy=z3,B3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),By=function(o){B3(i,o);function i(e,t){return o.call(this,e,t,zy)||this}return i.prototype.deactivateAllExceptOne=function(e,t){this.forEach(function(n,r){n!==e&&(n.set("active",!1),t&&n.get("buttons").length&&n.get("buttons").deactivateAllExceptOne(e,t))})},i.prototype.deactivateAll=function(e,t){var n=e||"";this.forEach(function(r){r.get("context")==n&&r!==t&&r.set("active",!1,{fromCollection:!0})})},i.prototype.disableAllButtons=function(e){var t=e||"";this.forEach(function(n,r){n.get("context")==t&&n.set("disable",!0)})},i.prototype.disableAllButtonsExceptOne=function(e,t){this.forEach(function(n,r){n!==e&&(n.set("disable",!0),t&&n.get("buttons").length&&n.get("buttons").disableAllButtonsExceptOne(e,t))})},i}(jp),Uy=By;By.prototype.model=zy;var U3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),G3=function(o){U3(i,o);function i(e,t){var n=o.call(this,e,t)||this,r=n.get("buttons")||[];return n.buttons=new Uy(e,r),n}return i.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(i.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(e){this.set("buttons",e)},enumerable:!1,configurable:!0}),i}(Na.A),Gy=G3,W3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wy=function(o){W3(i,o);function i(e,t){return o.call(this,e,t,Gy)||this}return i}(jp),K3=Wy;Wy.prototype.model=Gy;var q3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Cl=function(){return Cl=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Cl.apply(this,arguments)},$3=function(o){q3(i,o);function i(e){var t=o.call(this,e)||this,n=t,r=n.model,a=n.em,s=n.pfx,c=n.ppfx,d=r.className,p=r.attributes,f=p.command,h=p.listen;if(t.id=s+r.get("id"),t.activeCls="".concat(s,"active ").concat(c,"four-color"),t.disableCls="".concat(c,"disabled"),t.btnsVisCls="".concat(s,"visible"),t.className=s+"btn"+(d?" "+d:""),t.listenTo(r,"change",t.render),t.listenTo(r,"change:active updateActive",t.updateActive),t.listenTo(r,"checkActive",t.checkActive),t.listenTo(r,"change:bntsVis",t.updateBtnsVis),t.listenTo(r,"change:attributes",t.updateAttributes),t.listenTo(r,"change:className",t.updateClassName),t.listenTo(r,"change:disable",t.updateDisable),a&&(0,X.isString)(f)&&h){var v={fromListen:!0};t.listenTo(a,"run:".concat(f),function(){return r.set("active",!0,v)}),t.listenTo(a,"stop:".concat(f),function(){return r.set("active",!1,v)})}return a&&a.get&&(t.commands=a.get("Commands")),t}return i.prototype.tagName=function(){return this.model.get("tagName")},i.prototype.events=function(){return{click:"clicked"}},i.prototype.updateClassName=function(){var e=this,t=e.model,n=e.pfx,r=t.className,a=t.get("attributes").class,s="".concat(a||""," ").concat(n,"btn ").concat(r||"");this.$el.attr("class",s.trim())},i.prototype.updateAttributes=function(){var e=this,t=e.em,n=e.model,r=e.$el,a=n.get("attributes")||{},s=t&&t.t&&t.t("panels.buttons.titles.".concat(n.id));r.attr(a),s&&r.attr({title:s}),this.updateClassName()},i.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},i.prototype.updateActive=function(e,t,n){var r;n===void 0&&(n={});var a=this,s=a.model,c=a.commands,d=a.$el,p=a.activeCls,f=n.fromCollection,h=n.fromListen,v=s.get("context"),C=s.get("options"),b=s.command,x={};b&&(c&&(0,X.isString)(b)?x=c.get(b)||{}:(0,X.isFunction)(b)?x=c.create({run:b}):b!==null&&(0,X.isObject)(b)&&(x=c.create(b)),s.active?(!f&&((r=s.collection)===null||r===void 0||r.deactivateAll(v,s)),s.set("active",!0,{silent:!0}).trigger("checkActive"),!h&&c.runCommand(x,Cl(Cl({},C),{sender:s})),x.noStop&&s.set("active",!1)):(d.removeClass(p),!h&&c.stopCommand(x,Cl(Cl({},C),{sender:s,force:1}))))},i.prototype.updateDisable=function(){var e=this,t=e.disableCls,n=e.model,r=n.disable;this.$el[r?"addClass":"removeClass"](t)},i.prototype.checkActive=function(){var e=this,t=e.model,n=e.$el,r=e.activeCls;t.active?n.addClass(r):n.removeClass(r)},i.prototype.clicked=function(){var e=this.model;e.get("bntsVis")||e.disable||!e.command||this.toggleActive()},i.prototype.toggleActive=function(){var e=this,t=e.model,n=e.em,r=t.active,a=t.togglable;r&&!a||(t.active=!r,r?t.runDefaultCommand&&n.runDefault():t.stopDefaultCommand&&n.stopDefault())},i.prototype.render=function(){var e=this.model,t=e.get("label"),n=this.$el;return!e.get("el")&&n.empty(),this.updateAttributes(),t&&n.append(t),this.checkActive(),this.updateDisable(),this},i}(Br),Y3=$3,Q3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),X3=function(o){Q3(i,o);function i(e){var t=o.call(this,{collection:e})||this;return t.listenTo(t.collection,"add",t.addTo),t.listenTo(t.collection,"reset remove",t.render),t.className=t.pfx+"buttons",t}return i.prototype.addTo=function(e){this.addToCollection(e)},i.prototype.addToCollection=function(e,t){var n=t||null,r=e.get("el"),a=new Y3({el:r,model:e}),s=a.render().el;return n?n.appendChild(s):this.$el.append(s),s},i.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(n){return e.addToCollection(n,t)}),this.$el.append(t),this.$el.attr("class",(0,X.result)(this,"className")),this},i}(Br),Z3=X3,J3=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gm=function(){return gm=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},gm.apply(this,arguments)},e6=function(o){J3(i,o);function i(e){var t=o.call(this,{model:e,el:e.get("el")})||this;return t.className=t.pfx+"panel",t.id=t.pfx+e.get("id"),t.listenTo(e,"change:appendContent",t.appendContent),t.listenTo(e,"change:content",t.updateContent),t.listenTo(e,"change:visible",t.toggleVisible),e.view=t,t}return i.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},i.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},i.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},i.prototype.attributes=function(){return this.model.get("attributes")},i.prototype.initResize=function(){var e=this.em,t=e?.Editor,n=this.model.get("resizable");if(t&&n){var r=n===!0?[!0,!0,!0,!0]:n,a=r.length,s=void 0,c=void 0,d=void 0,p=!1;if(a==2){var f=r;s=f[0],d=f[0],c=f[1],p=f[1]}else if(a==4){var f=r;s=f[0],c=f[1],d=f[2],p=f[3]}var h=new t.Utils.Resizer(gm({tc:s,cr:c,bc:d,cl:p,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:t.getConfig().stylePrefix,onEnd:function(){e.Canvas.refresh({all:!0})},posFetcher:function(v,C){var b=C.target,x=v.style,w=h.getConfig(),P=w.keyWidth,M=w.keyHeight,y=v.getBoundingClientRect(),A=b=="container",k=x[P],N=x[M],V=k&&!A?parseFloat(k):y.width,j=N&&!A?parseFloat(N):y.height;return{left:0,top:0,width:V,height:j}}},n&&typeof n!="boolean"?n:{}));h.blur=function(){},h.focus(this.el)}},i.prototype.render=function(){var e=this.model.buttons,t=this.$el,n=this.ppfx,r="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");if(t.addClass(r),this.toggleVisible(),e.length){var a=new Z3(e);t.append(a.render().el)}return t.append(this.model.get("content")),this},i}(Br),t6=e6,n6=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),i6=function(o){n6(i,o);function i(e){var t=o.call(this,{collection:e})||this;return t.listenTo(e,"add",t.addTo),t.listenTo(e,"reset",t.render),t.listenTo(e,"remove",t.onRemove),t.className=t.pfx+"panels",t}return i.prototype.onRemove=function(e){var t=e.view;t&&t.remove()},i.prototype.addTo=function(e){this.addToCollection(e)},i.prototype.addToCollection=function(e,t){var n=t||null,r=e.get("el"),a=new t6(e),s=a.render().el,c=e.get("appendTo");if(!r)if(c){var d=document.querySelector(c);d?.appendChild(s)}else n?n.appendChild(s):this.$el.append(s);return a.initResize(),s},i.prototype.render=function(){var e=this,t=this.$el,n=document.createDocumentFragment();return t.empty(),this.collection.each(function(r){return e.addToCollection(r,n)}),t.append(n),t.attr("class",this.className),this},i}(Br),r6=i6,o6=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),a6=function(o){o6(i,o);function i(e){var t=o.call(this,e,"Panels",j3())||this;return t.panels=new K3(t,t.config.defaults),t}return i.prototype.getPanels=function(){return this.panels},i.prototype.getPanelsEl=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0?void 0:e.el},i.prototype.addPanel=function(e){return this.panels.add(e)},i.prototype.removePanel=function(e){return this.panels.remove(e)},i.prototype.getPanel=function(e){var t=this.panels.where({id:e});return t.length?t[0]:null},i.prototype.addButton=function(e,t){var n=this.getPanel(e);return n?n.buttons.add(t):null},i.prototype.removeButton=function(e,t){var n=this.getPanel(e);return n&&n.buttons.remove(t)},i.prototype.getButton=function(e,t){var n=this.getPanel(e);if(n){var r=n.buttons.where({id:t});return r.length?r[0]:null}return null},i.prototype.render=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0||e.remove(),this.PanelsViewObj=new r6(this.panels),this.PanelsViewObj.render().el},i.prototype.active=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("active")&&t.trigger("updateActive")})})},i.prototype.disableButtons=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("disable")&&t.trigger("change:disable")})})},i.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},i}(mr),s6=a6,l6=function(){return{stylePrefix:"cm-",optsCodeViewer:{}}},c6=l6,d6=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),u6=function(o,i){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&i.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},p6=function(o){d6(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.build=function(e,t){t===void 0&&(t={});var n=t.em,r=u6(t,["em"]),a=r;if(t.cleanId&&n){var s=n.Css.getAll(),c=s.toJSON().map(function(d){var p=d.selectors,f=p&&p.length===1&&p.models[0];return f&&f.isId()&&f.get("name")}).filter(Boolean);a.attributes||(a.attributes=function(d,p){var f=p.id;return f&&f[0]==="i"&&!d.get("script")&&!d.get("script-export")&&!d.get("attributes").id&&c.indexOf(f)<0&&delete p.id,p})}return e.toHTML(a)},i}(gt.Kx),f6=p6,h6=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),m6=function(o){h6(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.build=function(e){var t=this,n=e.toJSON();return this.beforeEach(n),(0,X.each)(n,function(r,a){var s=n[a];if(s instanceof gt.Kx)n[a]=t.build(s);else if(s instanceof gt.pM){var c=s;n[a]=[],c.length&&c.forEach(function(d,p){n[a][p]=t.build(d)})}}),n},i.prototype.beforeEach=function(e){delete e.status},i}(gt.Kx),g6=m6,v6=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();function _6(o){var i,e=((i=o.toString().match(/\{([\s\S]*)\}/m))===null||i===void 0?void 0:i[1])||"";return e.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var y6=function(o){v6(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.mapModel=function(e){var t,n=this,r="",a=e.get("script-export")||e.get("script"),s=e.get("type"),c=e.get("components"),d=e.getId();if(a){var p=e.get("attributes");p=(0,X.extend)({},p,{id:d}),e.set("attributes",p,{silent:!0});var f=e.getScriptString(a),h=e.get("script-props");if(e.get("scriptUpdated")&&!h)this.mapJs[s+"-"+d]={ids:[d],code:f};else{var v=void 0,C=this.mapJs[s];if(h&&(v=e.__getScriptProps()),C)C.ids.push(d),v&&(C.props[d]=v);else{var b={ids:[d],code:f};v&&(b.props=(t={},t[d]=v,t)),this.mapJs[s]=b}}}return c.forEach(function(x){r+=n.mapModel(x)}),r},i.prototype.build=function(e){this.mapJs={},this.mapModel(e);var t="";for(var n in this.mapJs){var r=this.mapJs[n];if(r.code)if(r.props){if(_6(r.code))continue;t+=`
          var props = `.concat(JSON.stringify(r.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(r.code,`.bind(el))(props[el.id]);
          }`)}else{var a="#"+r.ids.join(", #");t+=`
          var items = document.querySelectorAll('`.concat(a,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(r.code,`
}.bind(items[i]))();
          }`)}}return t},i}(gt.Kx),b6=y6,C6=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vm=function(){return vm=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},vm.apply(this,arguments)},Bc;(0,Ze.hasWin)()&&(Bc=mn(4408),mn(8253),mn(7389),mn(3640));var Ky=function(o){C6(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},i.prototype.init=function(e){return(0,X.bindAll)(this,"onChange"),this.editor=Bc.fromTextArea(e,vm({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},i.prototype.onChange=function(){this.trigger("update",this)},i.prototype.getEditor=function(){return this.editor},i.prototype.getElement=function(){return this.element},i.prototype.setElement=function(e){return this.element=e,this},i.prototype.refresh=function(){return this.getEditor().refresh(),this},i.prototype.focus=function(){return this.getEditor().focus(),this},i.prototype.getContent=function(){var e=this.getEditor();return e&&e.getValue()},i.prototype.setContent=function(e,t){var n=this;t===void 0&&(t={});var r=this.editor;if(r){r.setValue(e);var a=this.get("autoFormat"),s=r.autoFormatRange&&(a===!0||Array.isArray(a)&&a.includes(this.get("codeName")));s&&(Bc.commands.selectAll(r),r.autoFormatRange(r.getCursor(!0),r.getCursor(!1)),Bc.commands.goDocStart(r)),!t.noRefresh&&setTimeout(function(){return n.refresh()})}},i}(gt.Kx),x6=Ky;Ky.prototype.CodeMirror=Bc;var w6=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),O6=function(o,i){return Object.defineProperty?Object.defineProperty(o,"raw",{value:i}):o.raw=i,o},P6=function(o){w6(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.template=function(e){var t=e.pfx,n=e.codeName,r=e.label;return pr(t_||(t_=O6([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),t,t,n,t,r,t)},i.prototype.initialize=function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},i.prototype.render=function(){var e,t,n=this,r=n.model,a=n.pfx,s=n.$el,c=r.toJSON(),d=r.get("input")||((t=(e=r).getElement)===null||t===void 0?void 0:t.call(e));return c.pfx=a,s.html(this.template(c)),s.attr("class","".concat(a,"editor-c")),s.find("#".concat(a,"code")).append(d),this},i}(gt.Ss),M6=P6,t_,T6=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wp=function(){return wp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},wp.apply(this,arguments)},S6="CodeMirror",E6=function(o){T6(i,o);function i(e){var t=o.call(this,e,"CodeManager",c6())||this;t.EditorView=M6;var n=t.config,r=n.pStylePrefix;return r&&(n.stylePrefix=r+n.stylePrefix),t.generators={},t.viewers={},t.defGenerators={html:new f6,css:new hT,json:new g6,js:new b6},t.defViewers={CodeMirror:new x6},t.loadDefaultGenerators().loadDefaultViewers(),t}return i.prototype.addGenerator=function(e,t){return this.generators[e]=t,this},i.prototype.getGenerator=function(e){return this.generators[e]},i.prototype.getGenerators=function(){return this.generators},i.prototype.addViewer=function(e,t){return this.viewers[e]=t,this},i.prototype.getViewer=function(e){return this.viewers[e]},i.prototype.getViewers=function(){return this.viewers},i.prototype.createViewer=function(e){e===void 0&&(e={});var t=(0,X.isUndefined)(e.type)?S6:e.type,n=this.getViewer(t)&&this.getViewer(t).clone(),r=document.createElement("div"),a=document.createElement("textarea");return r.appendChild(a),n.set(wp(wp({},this.config.optsCodeViewer),e)),n.init(a),n.setElement(r),n},i.prototype.updateViewer=function(e,t){e.setContent(t)},i.prototype.getCode=function(e,t,n){n===void 0&&(n={}),n.em=this.em;var r=this.getGenerator(t);return r?r.build(e,n):""},i.prototype.loadDefaultGenerators=function(){for(var e in this.defGenerators)this.addGenerator(e,this.defGenerators[e]);return this},i.prototype.loadDefaultViewers=function(){for(var e in this.defViewers)this.addViewer(e,this.defViewers[e]);return this},i.prototype.destroy=function(){},i}(mr),k6=E6,A6=mn(4729),I6=mn.n(A6),L6=function(){return{maximumStackLength:500,trackSelection:!0}},N6=L6,ur=function(o){return o.update="update",o.undo="undo",o.redo="redo",o.load="load",o.projectLoad="project:load",o.projectLoaded="project:loaded",o.projectGet="project:get",o.log="log",o.telemetryInit="telemetry:init",o.destroy="destroy",o.destroyed="destroyed",o}(ur||{});var D6=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jo=function(){return jo=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},jo.apply(this,arguments)},R6=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},Mu=function(o){return o.avoidStore||o.noUndo||o.partial},n_=function(o){return Object.keys(o.changedAttributes())},Tu=new WeakMap,F6=function(o){D6(i,o);function i(e){var t=o.call(this,e,"UndoManager",N6())||this;t.config._disable&&(t.config.maximumStackLength=0);var n=!0;return t.um=new(I6())(jo({track:!0,register:[]},t.config)),t.um.changeUndoType("change",{condition:function(r){var a=r.get("_undo");if(a){var s=r.get("_undoexc");if((0,X.isArray)(s)&&n_(r).some(function(c){return s.indexOf(c)>=0}))return!1;if((0,X.isBoolean)(a)||(0,X.isArray)(a)&&n_(r).some(function(c){return a.indexOf(c)>=0}))return!0}return!1},on:function(r,a,s){var c=Tu.get(r);c||(c=r.previousAttributes(),Tu.set(r,c));var d=s||a||{};if(d.noUndo&&setTimeout(function(){Tu.delete(r)}),!Mu(d)){var p=r.toJSON({fromUndo:n}),f={object:r,before:c,after:p};return Tu.delete(r),(0,X.isEmpty)(p)?void 0:f}}}),t.um.changeUndoType("add",{on:function(r,a,s){if(s===void 0&&(s={}),!(Mu(s)||!t.isRegistered(a)))return{object:a,before:void 0,after:r,options:jo(jo({},s),{fromUndo:n})}}}),t.um.changeUndoType("remove",{on:function(r,a,s){if(s===void 0&&(s={}),!(Mu(s)||!t.isRegistered(a)))return{object:a,before:r,after:void 0,options:jo(jo({},s),{fromUndo:n})}}}),t.um.changeUndoType("reset",{undo:function(r,a){r.reset(a,{fromUndo:n})},redo:function(r,a,s){r.reset(s,{fromUndo:n})},on:function(r,a){if(a===void 0&&(a={}),!(Mu(a)||!t.isRegistered(r)))return{object:r,before:a.previousModels,after:R6([],r.models,!0),options:jo(jo({},a),{fromUndo:n})}}}),t.um.on("undo redo",function(){e.getSelectedAll().map(function(r){return r.trigger("rerender:layer")})}),[ur.undo,ur.redo].forEach(function(r){return t.um.on(r,function(){return e.trigger(r)})}),t}return i.prototype.postLoad=function(){var e=this,t=e.config,n=e.em;t.trackSelection&&n&&this.add(n.get("selected"))},i.prototype.add=function(e){return this.um.register(e),this},i.prototype.remove=function(e){return this.um.unregister(e),this},i.prototype.removeAll=function(){return this.um.unregisterAll(),this},i.prototype.start=function(){return this.um.startTracking(),this},i.prototype.stop=function(){return this.um.stopTracking(),this},i.prototype.undo=function(e){e===void 0&&(e=!0);var t=this,n=t.em,r=t.um;return!n.isEditing()&&r.undo(e),this},i.prototype.undoAll=function(){return this.um.undoAll(),this},i.prototype.redo=function(e){e===void 0&&(e=!0);var t=this,n=t.em,r=t.um;return!n.isEditing()&&r.redo(e),this},i.prototype.redoAll=function(){return this.um.redoAll(),this},i.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},i.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},i.prototype.isRegistered=function(e){return!!this.getInstance().objectRegistry.isRegistered(e)},i.prototype.getStack=function(){return this.um.stack},i.prototype.getStackGroup=function(){var e=[],t=[];return this.getStack().forEach(function(n){var r=n.get("magicFusionIndex");t.indexOf(r)<0&&(t.push(r),e.push(n))}),e},i.prototype.skip=function(e){var t=!!this.um.isTracking();t&&this.stop(),e(),t&&this.start()},i.prototype.getGroupedStack=function(){var e={},t=this.getStack(),n=function(r,a){var s=r.attributes,c=s.type,d=s.after,p=s.before,f=s.object,h=s.options,v=h===void 0?{}:h;return{index:a,type:c,after:d,before:p,object:f,options:v}};return t.forEach(function(r,a){var s=r.get("magicFusionIndex"),c=n(r,a);e[s]?e[s].push(c):e[s]=[c]}),Object.keys(e).map(function(r){var a=e[r];return{index:a[a.length-1].index,actions:a,labels:(0,X.unique)(a.reduce(function(s,c){var d,p=(d=c.options)===null||d===void 0?void 0:d.action;return p&&s.push(p),s},[]))}})},i.prototype.goToGroup=function(e){var t=this;if(e){var n=this.getPointer(),r=e.index-n;(0,X.times)(Math.abs(r),function(){t[r<0?"undo":"redo"](!1)})}},i.prototype.getPointer=function(){return this.getStack().pointer},i.prototype.clear=function(){return this.um.clear(),this},i.prototype.getInstance=function(){return this.um},i.prototype.destroy=function(){this.clear().removeAll()},i}(mr),V6=F6,j6=function(){return{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1}},H6=j6,xl=function(){return xl=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},xl.apply(this,arguments)},_m=function(o){return o[o.ACTIVE=1]="ACTIVE",o[o.INACTIVE=0]="INACTIVE",o[o.DISABLED=-1]="DISABLED",o}(_m||{}),Fh="_rte",fs={ACTIVE:1,INACTIVE:0,DISABLED:-1},Su=function(o,i){i===void 0&&(i="A");var e=o.selection()||{},t=e.anchorNode,n=e.focusNode,r=t?.parentNode,a=n?.parentNode;return r?.nodeName==i||a?.nodeName==i},Op="data-selectme",Sc={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(o){return o.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(o){return o.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(o){return o.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(o){return o.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(o){return o&&o.selection()&&Su(o)?fs.ACTIVE:fs.INACTIVE},result:function(o){Su(o)?o.exec("unlink"):o.insertHTML('<a href="" '.concat(Op,">").concat(o.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(o){return o?.selection()&&Su(o,"SPAN")?fs.DISABLED:fs.INACTIVE},result:function(o){!Su(o,"SPAN")&&o.insertHTML("<span ".concat(Op,">").concat(o.selection(),"</span>"),{select:!0})}}},z6=function(){function o(i,e,t){t===void 0&&(t={});var n=this;if(this.em=i,this.settings=t,e[Fh])return e[Fh];e[Fh]=this,this.setEl(e),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var r=(t.actions||[]).map(function(p){var f=p;return(0,X.isString)(p)?f=xl({},Sc[p]):Sc[p.name]&&(f=xl(xl({},Sc[p.name]),p)),f}),a=r.length?r:Object.keys(Sc).map(function(p){return Sc[p]});t.classes=xl({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},t.classes);var s=t.classes,c=t.actionbar;if(this.actionbar=c,this.classes=s,this.actions=a,!c){if(!this.isCustom(t.module)){var d=t.actionbarContainer;c=document.createElement("div"),c.className=s.actionbar,d?.appendChild(c),this.actionbar=c}a.forEach(function(p){return n.addAction(p)})}return t.styleWithCSS&&this.exec("styleWithCSS"),this}return o.prototype.isCustom=function(i){var e=i||this.em.RichTextEditor;return!!(e?.config.custom||e?.customRte)},o.prototype.destroy=function(){},o.prototype.setEl=function(i){this.el=i,this.doc=i.ownerDocument},o.prototype.updateActiveActions=function(){var i=this,e=this.getActions();e.forEach(function(t){var n=t.update,r=t.btn,a=i.classes,s=a.active,c=a.inactive,d=a.disabled,p=t.state,f=t.name,h=i.doc,v=_m.INACTIVE;if(r&&(r.className=r.className.replace(s,"").trim(),r.className=r.className.replace(c,"").trim(),r.className=r.className.replace(d,"").trim()),p){var C=p(i,h);if(v=C,r)switch(C){case fs.ACTIVE:r.className+=" ".concat(s);break;case fs.INACTIVE:r.className+=" ".concat(c);break;case fs.DISABLED:r.className+=" ".concat(d);break}}else h.queryCommandSupported(f)&&h.queryCommandState(f)&&(r&&(r.className+=" ".concat(s)),v=_m.ACTIVE);t.currentState=v,n?.(i,t)}),e.length&&this.em.RichTextEditor.__dbdTrgCustom()},o.prototype.enable=function(i){return this.enabled?this:this.__toggleEffects(!0,i)},o.prototype.disable=function(){return this.__toggleEffects(!1)},o.prototype.__toggleEffects=function(i,e){i===void 0&&(i=!1),e===void 0&&(e={});var t=i?Ct.on:Ct.AU,n=this,r=n.el,a=n.doc,s=this.actionbarEl();if(s&&(s.style.display=i?"":"none"),r.contentEditable="".concat(!!i),t(r,"mouseup keyup",this.updateActiveActions),t(a,"keydown",this.__onKeydown),t(a,"paste",this.__onPaste),this.enabled=i,i){var c=e.event;if(this.syncActions(),this.updateActiveActions(),c){var d=null;if(a.caretRangeFromPoint){var p=(0,Ct.G2)(c);d=a.caretRangeFromPoint(p.clientX,p.clientY)}else c.rangeParent&&(d=a.createRange(),d.setStart(c.rangeParent,c.rangeOffset));var f=a.getSelection();f?.removeAllRanges(),d&&f?.addRange(d)}r.focus()}return this},o.prototype.__onKeydown=function(i){var e=this.em,t=e.RichTextEditor.getConfig().onKeydown;if(t)return t({ev:i,rte:this,editor:e.getEditor()});var n=this.doc,r=["insertOrderedList","insertUnorderedList"];i.key==="Enter"&&!r.some(function(a){return n.queryCommandState(a)})&&(n.execCommand("insertLineBreak"),i.preventDefault())},o.prototype.__onPaste=function(i){var e=this.em,t=e.RichTextEditor.getConfig().onPaste;if(t)return t({ev:i,rte:this,editor:e.getEditor()});var n=i.clipboardData,r=n.getData("text"),a=n.getData("text/html");if(r&&!a){i.preventDefault();var s=r.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,s)}},o.prototype.syncActions=function(){var i=this;this.getActions().forEach(function(e){if(i.actionbar&&(!e.state||e.state&&e.state(i,i.doc)>=0)){var t=e.event||"click",n=e.btn;n&&(n["on".concat(t)]=function(){e.result(i,e),i.updateActiveActions()})}})},o.prototype.addAction=function(i,e){e===void 0&&(e={});var t=e.sync,n=this.actionbarEl();if(n){var r=i.icon,a=i.attributes,s=a===void 0?{}:a,c=document.createElement("span");c.className=this.classes.button,i.btn=c;for(var d in s)c.setAttribute(d,s[d]);typeof r=="string"?c.innerHTML=r:c.appendChild(r),n.appendChild(c)}t&&(this.actions.push(i),this.syncActions())},o.prototype.getActions=function(){return this.actions},o.prototype.selection=function(){return this.doc.getSelection()},o.prototype.exec=function(i,e){this.doc.execCommand(i,!1,e)},o.prototype.actionbarEl=function(){return this.actionbar},o.prototype.insertHTML=function(i,e){var t=e===void 0?{}:e,n=t.select,r=this,a=r.em,s=r.doc,c=r.el,d=s.getSelection();if(d&&d.rangeCount){var p=(0,Ze.getComponentModel)(c)||a.getSelected(),f=s.createElement("div"),h=d.getRangeAt(0);h.deleteContents(),(0,X.isString)(i)?f.innerHTML=i:i&&f.appendChild(i),Array.prototype.slice.call(f.childNodes).forEach(function(v){h.insertNode(v)}),d.removeAllRanges(),d.addRange(h),c.focus(),n&&p&&(p.once("rte:disable",function(){var v=p.find("[".concat(Op,"]"))[0];v&&(a.setSelected(v),v.removeAttributes(Op))}),p.trigger("disable"))}},o}(),B6=z6,U6=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pp=function(){return Pp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Pp.apply(this,arguments)},Vh=function(o,i,e,t){function n(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function s(p){try{d(t.next(p))}catch(f){a(f)}}function c(p){try{d(t.throw(p))}catch(f){a(f)}}function d(p){p.done?r(p.value):n(p.value).then(s,c)}d((t=t.apply(o,i||[])).next())})},jh=function(o,i){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},t,n,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(p){return c([d,p])}}function c(d){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){e.label=d[1];break}if(d[0]===6&&e.label<r[1]){e.label=r[1],r=d;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(d);break}r[2]&&e.ops.pop(),e.trys.pop();continue}d=i.call(o,e)}catch(p){d=[6,p],n=0}finally{t=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},G6=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},Hh="".concat(Nc.refresh," frame:scroll ").concat(wn.I.update),W6="rte:enable",K6="rte:disable",q6="rte:custom",$6={enable:W6,disable:K6,custom:q6},Y6=function(o){U6(i,o);function i(e){var t=o.call(this,e,"RichTextEditor",H6())||this;t.events=$6;var n=t.config,r=n.pStylePrefix;r&&(n.stylePrefix=r+n.stylePrefix),t.pfx=n.stylePrefix,t.actions=n.actions||[];var a=new gt.Kx;return t.model=a,a.on("change:currentView",t.__trgCustom,t),t.__dbdTrgCustom=(0,X.debounce)(function(){return t.__trgCustom()},0),t}return i.prototype.onLoad=function(){if((0,Ze.hasWin)()){var e=this.config,t=e.pStylePrefix,n=e.custom,r=(0,Ct.a_)("div",{class:(0,Ct.cx)("".concat(t,"rte-toolbar"),!n&&"".concat(t,"one-bg ").concat(t,"rte-toolbar-ui"))});this.toolbar=r,this.initRte((0,Ct.a_)("div")),(0,Ct.on)(r,"mousedown",function(a){return a.stopPropagation()})}},i.prototype.__trgCustom=function(){var e=this,t=e.model,n=e.em,r=e.events;n.trigger(r.custom,{enabled:!!t.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},i.prototype.destroy=function(){var e,t,n;(e=this.globalRte)===null||e===void 0||e.destroy(),(n=(t=this.customRte)===null||t===void 0?void 0:t.destroy)===null||n===void 0||n.call(t),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,Ct.YZ)(this.toolbar)},i.prototype.postRender=function(e){var t=e.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),t.getToolsEl().appendChild(this.toolbar)},i.prototype.initRte=function(e){var t=this.globalRte,n=this,r=n.em,a=n.pfx,s=n.actionbar,c=n.config,d=this.actions||G6([],c.actions,!0),p={actionbar:"".concat(a,"actionbar"),button:"".concat(a,"action"),active:"".concat(a,"active"),inactive:"".concat(a,"inactive"),disabled:"".concat(a,"disabled")};return t?(t.em=r,t.setEl(e)):(t=new B6(r,e,{classes:p,actions:d,actionbar:s,actionbarContainer:this.toolbar,module:this}),this.globalRte=t),t.actionbar&&(this.actionbar=t.actionbar),t.actions&&(this.actions=t.actions),t},i.prototype.add=function(e,t){var n;t===void 0&&(t={}),t.name=e,(n=this.globalRte)===null||n===void 0||n.addAction(t,{sync:!0})},i.prototype.get=function(e){var t,n;return(t=this.globalRte)===null||t===void 0||t.getActions().forEach(function(r){r.name==e&&(n=r)}),n},i.prototype.getAll=function(){var e;return((e=this.globalRte)===null||e===void 0?void 0:e.getActions())||[]},i.prototype.remove=function(e){var t,n=this.getAll(),r=this.get(e);if(r){var a=r.btn,s=n.indexOf(r);(t=a?.parentNode)===null||t===void 0||t.removeChild(a),n.splice(s,1)}return r},i.prototype.run=function(e){var t=this.globalRte,n=(0,X.isString)(e)?this.get(e):e;t&&n&&(n.result(t,n),t.updateActiveActions())},i.prototype.getToolbarEl=function(){return this.toolbar},i.prototype.updatePosition=function(){var e=this,t=e.em,n=e.toolbar,r="px",a=t.Canvas,s=n.style,c=a.getTargetToElementFixed(this.lastEl,n,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(d){var p=c[d];(0,Ze.isDef)(p)&&(s[d]=(0,X.isString)(p)?p:(p||0)+r)})},i.prototype.enable=function(e,t,n){return Vh(this,void 0,void 0,function(){var r,a,s,c,d;return jh(this,function(p){switch(p.label){case 0:return this.lastEl=e.el,r=this,a=r.customRte,s=r.em,c=e.getChildrenContainer(),this.toolbar.style.display="",[4,a?a.enable(c,t,n):this.initRte(c).enable(n)];case 1:return d=p.sent(),s&&(setTimeout(this.updatePosition.bind(this),0),s.off(Hh,this.updatePosition,this),s.on(Hh,this.updatePosition,this),s.trigger("rte:enable",e,d)),this.model.set({currentView:e}),[2,d]}})})},i.prototype.getContent=function(e,t){return Vh(this,void 0,void 0,function(){var n,r;return jh(this,function(a){switch(a.label){case 0:return n=this.customRte,r=e.getChildrenContainer(),n&&t&&(0,X.isFunction)(n.getContent)?[4,n.getContent(r,t,{view:e})]:[3,2];case 1:return[2,a.sent()];case 2:return[2,r.innerHTML]}})})},i.prototype.hideToolbar=function(){var e=this.toolbar.style,t="-1000px";e.top=t,e.left=t,e.display="none"},i.prototype.disable=function(e,t){return Vh(this,arguments,void 0,function(n,r,a){var s,c,d,p;return a===void 0&&(a={}),jh(this,function(f){switch(f.label){case 0:return s={},c=this.em,d=this.customRte,d?[4,d.disable(n.getChildrenContainer(),r,Pp(Pp({},a),{view:n}))]:[3,2];case 1:return p=f.sent(),p&&(s=p),[3,3];case 2:r&&r.disable(),f.label=3;case 3:return this.hideToolbar(),c&&(c.off(Hh,this.updatePosition,this),!a.fromMove&&c.trigger("rte:disable",n,r)),this.model.unset("currentView"),[2,s]}})})},i}(mr),Q6=Y6,X6=function(){return{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]}},Z6=X6,J6=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qi=function(){return Qi=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Qi.apply(this,arguments)},ek=function(o,i){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&i.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},i_=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},jm=function(o){J6(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.getDefaults=function(){return(0,X.result)(this.prototype,"defaults")},i.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},i.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.em=t.em;var n=this.getId()||"",r=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(r||n).replace(/ /g,"-"));var a=this.get("property");!this.get("id")&&this.set("id",a),!r&&this.set("name",(0,Ze.capitalize)(a).replace(/-/g," ")),this.on("change",this.__upTargets),i.callInit(this,e,t)},i.prototype.__getParentProp=function(){var e,t;return(t=(e=this.collection)===null||e===void 0?void 0:e.opts)===null||t===void 0?void 0:t.parentProp},i.prototype.__upTargets=function(e,t){var n,r=this;t===void 0&&(t={});var a=this.em,s=a.Styles,c=this.getName(),d=t.__clear,p=d?"":this.__getFullValue(t),f=this.__getParentProp(),h=this.changedAttributes(),v=(0,X.keys)(h).reduce(function(M,y){return M[y]=r.previous(y),M},{}),C=i_(i_([],(0,X.keys)(this.__getClearProps()),!0),["__p"],!1),b=(0,X.keys)(h),x=!t.__up&&!f&&(d||C.some(function(M){return b.indexOf(M)>=0})),w=this.get("onChange"),P={property:this,from:v,to:h,value:p,opts:t};s.__trgEv(s.events.propertyUpdate,P),w&&w(P),x&&this.__upTargetsStyle((n={},n[c]=p,n),t)},i.prototype.__upTargetsStyle=function(e,t){var n,r=(n=this.em)===null||n===void 0?void 0:n.get("StyleManager");r?.addStyleTargets(Qi(Qi({},e),{__p:!!t.avoidStore}),t)},i.prototype._up=function(e,t){t===void 0&&(t={}),t.noTarget&&(t.__up=!0);var n=t.partial,r=ek(t,["partial"]);return e.__p=!!(r.avoidStore||n),this.set(e,Qi(Qi({},r),{avoidStore:e.__p}))},i.prototype.up=function(e,t){t===void 0&&(t={}),this.set(e,Qi(Qi({},t),{__up:!0}))},i.prototype.init=function(){},i.prototype.getId=function(){return this.get("id")},i.prototype.getType=function(){return this.get("type")},i.prototype.getName=function(){return this.get("property")},i.prototype.getLabel=function(e){var t;e===void 0&&(e={});var n=e.locale,r=n===void 0?!0:n,a=this.getId(),s=this.get("name")||this.get("label");return r&&((t=this.em)===null||t===void 0?void 0:t.t("styleManager.properties.".concat(a)))||s},i.prototype.getValue=function(e){e===void 0&&(e={});var t=e.noDefault,n=this.get("value");return!this.hasValue()&&!t?this.getDefaultValue():n},i.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,n=t&&this.getParentTarget(),r=this.get("value");return!(0,X.isUndefined)(r)&&r!==""&&!n},i.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},i.prototype.getStyle=function(e){var t;e===void 0&&(e={});var n=this.getName(),r=e.camelCase?(0,Ze.camelCase)(n):n;return t={},t[r]=this.__getFullValue(e),t},i.prototype.getDefaultValue=function(){var e=this.get("default");return"".concat((0,X.isUndefined)(e)?this.get("defaults"):e)},i.prototype.upValue=function(e,t){t===void 0&&(t={});var n=e===null||e===""?this.__getClearProps():this.__parseValue(e,t);return this._up(n,t)},i.prototype.isVisible=function(){return!!this.get("visible")},i.prototype.clear=function(e){return e===void 0&&(e={}),this._up(this.__getClearProps(),Qi(Qi({},e),{__clear:!0})),this},i.prototype.canClear=function(){var e=this.getParent();return e?e.__canClearProp(this):this.hasValue({noParent:!0})},i.prototype.getParent=function(){return this.__getParentProp()},i.prototype.isFull=function(){return!!this.get("full")},i.prototype.__parseValue=function(e,t){return this.parseValue(e,t)},i.prototype.__getClearProps=function(){return{value:"",important:!1}},i.prototype.setValue=function(e,t,n){t===void 0&&(t=!0),n===void 0&&(n={});var r=this.parseValue(e),a=!t;!a&&this.set({value:void 0},{avoidStore:a,silent:!0}),this.set(r,Qi({avoidStore:a},n))},i.prototype.setValueFromInput=function(e,t,n){n===void 0&&(n={}),this.setValue(e,t,Qi(Qi({},n),{fromInput:1}))},i.prototype.parseValue=function(e,t){t===void 0&&(t={});var n={value:e},r="!important",a=this.get("functionName")||"";if((0,X.isString)(e)&&e.indexOf(r)!==-1&&(n.value=e.replace(r,"").trim(),n.important=!0),!a&&!t.complete)return n;var s=[],c="".concat(n.value).trim(),d=c.indexOf("(")+1,p=a||c.substring(0,d-1);if(p&&(n.functionName=p),!a||c.indexOf("".concat(a,"("))===0){var f=c.lastIndexOf(")");s.push(d),f>=0&&s.push(f),n.value=String.prototype.substring.apply(c,s)}if(t.numeric){var h=parseFloat(n.value);n.unit=n.value.replace(h,""),n.value=h}return n},i.prototype.__getFullValue=function(e){var t=e===void 0?{}:e,n=t.withDefault;return!this.hasValue()&&n?this.getDefaultValue():this.getFullValue()},i.prototype.getFullValue=function(e,t){t===void 0&&(t={});var n=this.get("functionName"),r=this.getDefaultValue(),a=(0,X.isUndefined)(e)?this.get("value"):e,s=this.hasValue();if(a&&r&&a===r)return r;if(n&&s){var c=n==="url"?"'".concat(a.replace(/'|"/g,""),"'"):a;a="".concat(n,"(").concat(c,")")}return s&&this.get("important")&&!t.skipImportant&&(a="".concat(a," !important")),a||""},i.prototype.__setParentTarget=function(e){this.up({parentTarget:e})},i.prototype.getParentTarget=function(){return this.get("parentTarget")||null},i.prototype.__parseFn=function(e){e===void 0&&(e="");var t=e.indexOf("(")+1,n=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,n>=0?n:void 0]).trim()}},i.prototype.__checkVisibility=function(e){var t=e.target,n=e.component,r=e.sector,a=e.sectors,s=n||t;if(!s)return!1;var c=this.getId(),d=this.getName(),p=this.attributes,f=p.requires,h=p.requiresParent,v=p.toRequire,C=p.isVisible,b=s.get("unstylable"),x=s.get("stylable-require"),w=s.get("stylable");if((0,X.isFunction)(C))return!!C({property:this,sector:r,target:t,component:n});if((0,X.isArray)(w)&&(w=w.indexOf(d)>=0),(0,X.isArray)(b)&&(w=b.indexOf(d)<0),v&&(w=!t||x&&(x.indexOf(c)>=0||x.indexOf(d)>=0)),a&&f){var P=(0,X.keys)(f);a.forEach(function(k){k.getProperties().forEach(function(N){if((0,X.includes)(P,N.id)){var V=f[N.id];w=w&&(0,X.includes)(V,N.get("value"))}})})}if(h){var M=n&&n.parent(),y=M&&M.getEl();if(y){var A=(0,Ze.hasWin)()?window.getComputedStyle(y):{};(0,X.each)(h,function(k,N){w=w&&A[N]&&(0,X.includes)(k,A[N])})}else w=!1}return!!w},i}(gt.Kx),zn=jm;jm.callParentInit=function(o,i,e,t){t===void 0&&(t={}),o.prototype.initialize.apply(i,[e,Qi(Qi({},t),{skipInit:1})])};jm.callInit=function(o,i,e){e===void 0&&(e={}),!e.skipInit&&o.init(i,e)};var tk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wl=function(){return wl=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},wl.apply(this,arguments)},r_=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},qy=function(o){return o==="integer"||o==="number"},nk=function(o){tk(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return wl(wl({},zn.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},i.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),zn.callParentInit(zn,this,e,t);var n=this.em,r=new zm(this.get("properties")||[],{em:n,parentProp:this});this.set("properties",r,{silent:!0}),this.listenTo(r,"change",this.__upProperties),zn.callInit(this,e,t)},Object.defineProperty(i.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),i.prototype.getProperties=function(){return r_([],this.get("properties").models,!0)},i.prototype.getProperty=function(e){return this.properties.filter(function(t){return t.getId()===e||t.getName()===e})[0]},i.prototype.getPropertyAt=function(e){return this.get("properties").at(e)},i.prototype.isDetached=function(){return!!this.get("detached")},i.prototype.getValues=function(e){var t=e===void 0?{}:e,n=t.byName;return this.getProperties().reduce(function(r,a){var s=n?a.getName():a.getId();return r[s]="".concat(a.__getFullValue()),r},{})},i.prototype.getSeparator=function(){return this.getSplitSeparator()},i.prototype.getJoin=function(){return this.__getJoin()},i.prototype.getStyleFromProps=function(e){var t;e===void 0&&(e={});var n=this.getName(),r=this.__getJoin(),a=this.get("toStyle"),s=this.getValues(),c={};if(a)c=a(s,{join:r,name:n,property:this});else if(s=this.getValues({byName:!0}),this.isDetached())c=s;else{var d=this.getProperties().map(function(p){return p.__getFullValue({withDefault:1})}).filter(Boolean).join(r);c=(t={},t[n]=d,t)}return this.isDetached()?c[n]="":(c[n]=c[n]||"",c=wl(wl({},c),this.getProperties().reduce(function(p,f){return p[f.getName()]="",p},{}))),e.camelCase?Object.keys(c).reduce(function(p,f){return p[(0,Ze.camelCase)(f)]=c[f],p},{}):c},i.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},i.prototype.__upProperties=function(e,t){if(t===void 0&&(t={}),!(t.__up||t.__clearIn)){var n=this.__getParentProp();if(n)return n.__upProperties(this,t);this.__upTargetsStyleProps(t,e)}},i.prototype.__upTargetsStyleProps=function(e,t){var n;e===void 0&&(e={});var r=this.getStyleFromProps();if(this.isDetached()&&t){var a=t.getName();r=(n={},n[a]=r[a],n)}this.__upTargetsStyle(r,e)},i.prototype._up=function(e,t){return t===void 0&&(t={}),this.__setProperties(this.__getSplitValue(e.value),t),zn.prototype._up.call(this,e,t),this},i.prototype.getStyle=function(e){return this.getStyleFromProps(e)},i.prototype.__getFullValue=function(e){if(e===void 0&&(e={}),this.isDetached()||e.__clear)return"";var t=this.getStyleFromProps()[this.getName()]||"";return Qh(t)},i.prototype.__getJoin=function(){var e=this.get("join");return(0,X.isString)(e)?e:this.get("separator")},i.prototype.__styleHasProps=function(e){e===void 0&&(e={});var t=this.getName(),n=this.getProperties(),r=n.map(function(s){return s.getName()}),a=r_([t],r,!0);return a.some(function(s){return!(0,X.isUndefined)(e[s])&&e[s]!==""})},i.prototype.__splitValue=function(e,t){return Qh(e).split(t).map(function(n){return n.trim()}).filter(Boolean)},i.prototype.__splitStyleName=function(e,t,n){var r=e[t];return this.__splitValue(r||"",n)},i.prototype.__getSplitValue=function(e,t){e===void 0&&(e="");var n=t===void 0?{}:t,r=n.byName,a=this.getProperties(),s=a.length===4&&a.every(function(p){return qy(p.getType())}),c=this.__splitValue(e,this.getSplitSeparator()),d={};return a.forEach(function(p,f){var h=c[f],v=(0,X.isUndefined)(h)?"":h;if(s){var C=c.length;v=c[f]||c[f%C+(C!=1&&C%2?1:0)]||v}var b=r?p.getName():p.getId();d[b]=v||""}),d},i.prototype.__getPropsFromStyle=function(e,t){if(e===void 0&&(e={}),t===void 0&&(t={}),!this.__styleHasProps(e))return null;var n=t.byName,r=this.getName(),a=this.getProperties(),s=this.getSplitSeparator(),c=this.get("fromStyle"),d=c?c(e,{property:this,name:r,separator:s}):{};if(!c){var p=e[r];d=this.__getSplitValue(p||"",{byName:n}),a.forEach(function(f){var h=e[f.getName()],v=n?f.getName():f.getId();!(0,X.isUndefined)(h)&&h!==""&&(d[v]=h)})}return d},i.prototype.__setProperties=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.getProperties().forEach(function(r){var a=e[r.getId()];r.__getFullValue()!==a&&r.upValue(a,t)});var n=(0,X.keys)(e).map(function(r){return e[r]}).join(" ");this.set("value",n,{silent:!0})},i.prototype.clear=function(){var e=this;return this.getProperties().map(function(t){return t.clear({__clearIn:!e.isDetached()})}),zn.prototype.clear.call(this),this},i.prototype.hasValue=function(e){return this.getProperties().some(function(t){return t.hasValue(e)})},i.prototype.getFullValue=function(){return this.__getFullValue()},i.prototype.__canClearProp=function(e){return this.isDetached()&&e.hasValue({noParent:!0})},i}(zn),cl=nk,ik=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lr=function(){return lr=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},lr.apply(this,arguments)},rk=function(o,i){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&i.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},ok=/,(?![^\(]*\))/,ak=/\s(?![^(]*\))/,sk=function(o){ik(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return lr(lr({},cl.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},i.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),cl.callParentInit(cl,this,e,t);var n=this.get("layers"),r=new Nu(n,{prop:this});r.property=this,r.properties=this.get("properties"),this.set("layers",r,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(r,"add remove",this.__upLayers),cl.callInit(this,e,t)},Object.defineProperty(i.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),i.prototype.getLayers=function(){return this.layers.models},i.prototype.hasLayers=function(){return this.getLayers().length>0},i.prototype.getLayer=function(e){return e===void 0&&(e=0),this.layers.at(e)||void 0},i.prototype.getSelectedLayer=function(){var e=this.get("selectedLayer");return e&&e.getIndex()>=0?e:void 0},i.prototype.selectLayer=function(e){return this.set("selectedLayer",e,{__select:!0})},i.prototype.selectLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t&&this.selectLayer(t)},i.prototype.moveLayer=function(e,t){t===void 0&&(t=0);var n=this.layers,r=e?e.getIndex():-1;r>=0&&(0,X.isNumber)(t)&&t>=0&&t<n.length&&r!==t&&(this.removeLayer(e),n.add(e,{at:t}))},i.prototype.addLayer=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={};this.getProperties().forEach(function(a){var s=a.getId(),c=e[s];n[s]=(0,X.isUndefined)(c)?a.getDefaultValue():c});var r=this.layers.push({values:n},t);return r},i.prototype.removeLayer=function(e){return this.layers.remove(e)},i.prototype.removeLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t?this.removeLayer(t):null},i.prototype.getLayerLabel=function(e){var t="";if(e){var n=this.get("layerLabel"),r=e.getValues(),a=e.getIndex();if(n)t=n(e,{index:a,values:r,property:this});else{var s=[];this.getProperties().map(function(c){s.push(r[c.getId()])}),t=s.filter(Boolean).join(" ")}}return t},i.prototype.getStyleFromLayer=function(e,t){var n;t===void 0&&(t={});var r=this.__getJoin(),a=this.__getJoinLayers(),s=this.get("toStyle"),c=this.getName(),d=e.getValues(),p;if(s)p=s(d,{join:r,joinLayers:a,name:c,layer:e,property:this});else{var f=this.getProperties().map(function(h){var v=h.getName(),C=d[h.getId()],b=(0,X.isUndefined)(C)?h.getDefaultValue():C;if(t.number&&qy(h.getType())){var x=h.parseValue(C,t.number);b="".concat(x.value).concat(x.unit)}return{name:v,value:b}});p=this.isDetached()?f.reduce(function(h,v){return h[v.name]=v.value,h},{}):(n={},n[this.getName()]=f.map(function(h){return h.value}).join(r),n)}return t.camelCase?Object.keys(p).reduce(function(h,v){return h[(0,Ze.camelCase)(v)]=p[v],h},{}):p},i.prototype.getStylePreview=function(e,t){t===void 0&&(t={});var n={},r=this.get("preview");return r&&(n=this.getStyleFromLayer(e,t)),n},i.prototype.getLayerSeparator=function(){var e=this.get("layerSeparator");return(0,X.isString)(e)?new RegExp("".concat(e,"(?![^\\(]*\\))")):e},i.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},i.prototype.__upProperties=function(e,t){var n;t===void 0&&(t={});var r=this.getSelectedLayer();r&&(r.upValues((n={},n[e.getId()]=e.__getFullValue(),n)),!t.__up&&this.__upTargetsStyleProps(t))},i.prototype.__upLayers=function(e,t,n){this.__upTargetsStyleProps(n||t)},i.prototype.__upTargets=function(e,t){if(t===void 0&&(t={}),!t.__select)return zn.prototype.__upTargets.call(this,e,t)},i.prototype.__upTargetsStyleProps=function(e){e===void 0&&(e={}),this.__upTargetsStyle(this.getStyleFromLayers(e),e)},i.prototype.__upTargetsStyle=function(e,t){return zn.prototype.__upTargetsStyle.call(this,e,t)},i.prototype.__upSelected=function(e,t){var n=e===void 0?{}:e,r=n.noEvent;t===void 0&&(t={});var a=this.em.Styles,s=this.getSelectedLayer(),c=s?.getValues();c&&this.getProperties().forEach(function(d){var p,f=(p=c[d.getId()])!==null&&p!==void 0?p:"";d.__getFullValue()!==f&&d.upValue(f,lr(lr({},t),{__up:!0}))}),!r&&a.__trgEv(a.events.layerSelect,{property:this})},i.prototype._up=function(e,t){t===void 0&&(t={});var n=e.__layers,r=n===void 0?[]:n,a=rk(e,["__layers"]);return!this.isDetached()&&this.__setLayers(r),this.__upSelected({noEvent:!0},t),zn.prototype._up.call(this,a,t),this},i.prototype.__setLayers=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var n=this.layers,r=e.map(function(a){return{values:a}});n.length===r.length?r.map(function(a,s){var c;return(c=n.at(s))===null||c===void 0?void 0:c.upValues(a.values)}):n.reset(r),this.set({isEmptyValue:!!t.isEmptyValue}),this.__upSelected({noEvent:!0})},i.prototype.__parseValue=function(e){var t=this,n=this.parseValue(e);return n.__layers=e.split(ok).map(function(r){return r.trim()}).map(function(r){return t.__parseLayer(r)}).filter(Boolean),n},i.prototype.__parseLayer=function(e){var t=this.get("parseLayer"),n=e.split(ak),r=this.getProperties();return t?t({value:e,values:n}):r.reduce(function(a,s,c){var d=n[c];return a[s.getId()]=(0,X.isUndefined)(d)?s.getDefaultValue():d,a},{})},i.prototype.__getLayersFromStyle=function(e){var t=this;if(e===void 0&&(e={}),!this.__styleHasProps(e))return null;if(this.isEmptyValueStyle(e))return[];var n=this.getName(),r=this.getProperties(),a=this.getLayerSeparator(),s=this.attributes.fromStyle,c=s?s(e,{property:this,name:n,separatorLayers:a}):[];if(!s){var d=this.__splitStyleName(e,n,a).map(function(p){return p.split(t.getSplitSeparator())}).map(function(p){var f={};return r.forEach(function(h,v){var C=p[v];f[h.getId()]=(0,X.isUndefined)(C)?h.getDefaultValue():C}),f});r.forEach(function(p){var f=p.getId();t.__splitStyleName(e,p.getName(),a).map(function(h){var v;return v={},v[f]=h||p.getDefaultValue(),v}).forEach(function(h,v){d[v]=d[v]?lr(lr({},d[v]),h):h})}),c=d}return(0,X.isArray)(c)?c:[c]},i.prototype.getStyle=function(e){return e===void 0&&(e={}),this.getStyleFromLayers(e)},i.prototype.getStyleFromLayers=function(e){var t=this;e===void 0&&(e={});var n={},r=this.getName(),a=this.getLayers(),s=this.getProperties(),c=a.map(function(p){return t.getStyleFromLayer(p,e)});if(c.forEach(function(p){(0,X.keys)(p).map(function(f){n[f]||(n[f]=[]),n[f].push(p[f])})}),(0,X.keys)(n).map(function(p){n[p]=n[p].join(t.__getJoinLayers())}),this.isDetached())n[r]="",!a.length&&s.map(function(p){n[p.getName()]=""});else{var d=s.reduce(function(p,f){return p[f.getName()]="",p},{});n[r]=n[r]||"",n=lr(lr({},n),d)}return lr(lr({},n),e.__clear?{}:this.getEmptyValueStyle())},i.prototype.isEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.getEmptyValueStyle({force:!0}),n=(0,X.keys)(t);return!!n.length&&n.every(function(r){return t[r]===e[r]})},i.prototype.getEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.attributes.emptyValue;if(t&&(!this.hasLayers()||e.force)){var n=this.getName(),r=this.getProperties(),a=(0,X.isString)(t)?t:t({property:this});if((0,X.isString)(a)){var s={};return this.isDetached()?r.map(function(c){s[c.getName()]=a}):s[n]=a,s}else return a}else return{}},i.prototype.__getJoinLayers=function(){var e=this.get("layerJoin"),t=this.get("layerSeparator");return e||((0,X.isString)(t)?t:e)},i.prototype.__getFullValue=function(){if(this.get("detached"))return"";var e=this.getStyleFromLayers();return Qh(e[this.getName()])},i.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,n=t&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!n},i.prototype.clear=function(e){return e===void 0&&(e={}),this.layers.reset(),this.__upTargetsStyleProps(lr(lr({},e),{__clear:!0})),zn.prototype.clear.call(this),this},i.prototype.__canClearProp=function(){return!1},i.prototype.__getLayers=function(){return this.layers},i}(cl),lk=sk,ck=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Mp=function(){return Mp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Mp.apply(this,arguments)},dk=function(o,i){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&i.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},uk=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},zh="data-clear-style",pk=function(o){ck(i,o);function i(e){e===void 0&&(e={});var t=o.call(this,e)||this;(0,X.bindAll)(t,"__change","__updateStyle");var n=e.config||{},r=n.em;t.config=n,t.em=r,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.__destroyFn=t.destroy?t.destroy.bind(t):function(){};var a=t.model;a.view=t,t.onValueChange=(0,X.debounce)(t.onValueChange.bind(t),10),t.updateStatus=(0,X.debounce)(t.updateStatus.bind(t),0),t.listenTo(a,"destroy remove",t.remove),t.listenTo(a,"change:visible",t.updateVisibility),t.listenTo(a,"change:name change:className change:full",t.render),t.listenTo(a,"change:value",t.onValueChange),t.listenTo(a,"change:parentTarget",t.updateStatus),t.listenTo(r,"change:device",t.onValueChange);var s=t.init&&t.init.bind(t);return s&&s(),t}return i.prototype.events=function(){var e;return e={change:"inputValueChanged"},e["click [".concat(zh,"]")]="clear",e},i.prototype.template=function(e){var t=this,n=t.pfx,r=t.ppfx;return`
      <div class="`.concat(n,`label" data-sm-label></div>
      <div class="`).concat(r,`fields" data-sm-fields></div>
    `)},i.prototype.templateLabel=function(e){var t=this,n=t.pfx,r=t.em,a=e.parent,s=e.attributes,c=s.icon,d=c===void 0?"":c,p=s.info,f=p===void 0?"":p,h=r?.getConfig().icons,v=h?.close||"";return`
      <span class="`.concat(n,"icon ").concat(d,'" title="').concat(f,`">
        `).concat(e.getLabel(),`
      </span>
      `).concat(a?"":'<div class="'.concat(n,'clear" style="display: none" ').concat(zh,">").concat(v,"</div>"),`
    `)},i.prototype.templateInput=function(e){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(e.getDefaultValue(),`"/>
      </div>
    `)},i.prototype.remove=function(){var e=this;return gt.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(t){return e[t]=null}),this.__destroyFn(this._getClbOpts()),this},i.prototype.updateStatus=function(){var e,t=this,n=t.model,r=t.pfx,a=t.ppfx,s=t.config,c="".concat(a,"four-color"),d="".concat(a,"color-warn"),p=this.$el.children(".".concat(r,"label")),f=this.getClearEl(),h=f?f.style:{};p.removeClass("".concat(c," ").concat(d)),h.display="none",n.hasValue({noParent:!0})&&s.highlightChanged?(p.addClass(c),s.clearProperties&&(h.display="")):n.hasValue()&&s.highlightComputed&&p.addClass(d),(e=this.parent)===null||e===void 0||e.updateStatus()},i.prototype.clear=function(e){e&&e.stopPropagation(),this.model.clear()},i.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(zh,"]"))),this.clearEl},i.prototype.inputValueChanged=function(e){e&&e.stopPropagation(),!this.emit&&this.model.upValue(e.target.value)},i.prototype.onValueChange=function(e,t,n){n===void 0&&(n={}),this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},i.prototype.setValue=function(e){var t=this.model,n=(0,X.isUndefined)(e)||e===""?t.getDefaultValue():e;if(this.update)return this.__update(n);this.__setValueInput(n)},i.prototype.__setValueInput=function(e){var t=this.getInputEl();t&&(t.value=e)},i.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},i.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},i.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},i.prototype.__unset=function(){var e=this.unset&&this.unset.bind(this);e&&e(this._getClbOpts())},i.prototype.__update=function(e){var t=this.update&&this.update.bind(this);t&&t(Mp(Mp({},this._getClbOpts()),{value:e}))},i.prototype.__change=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.emit&&this.emit.bind(this);n&&n.apply(void 0,uk([this._getClbOpts()],e,!1))},i.prototype.__updateStyle=function(e,t){t===void 0&&(t={});var n=t.complete,r=t.partial,a=dk(t,["complete","partial"]),s=this.model,c=n!==!1&&r!==!0;(0,Ze.isObject)(e)?s.__upTargetsStyle(e,{avoidStore:!c}):s.upValue(e,{partial:!c})},i.prototype._getClbOpts=function(){var e=this,t=e.model,n=e.el,r=e.createdEl;return{el:n,createdEl:r,property:t,props:t.attributes,change:this.__change,updateStyle:this.__updateStyle}},i.prototype.render=function(){this.clearCached();var e=this,t=e.pfx,n=e.model,r=e.el,a=e.$el,s=n.getName(),c=n.getType(),d=n.get("className")||"",p="".concat(t,"property"),f=c==="number"?"".concat(t).concat(c," ").concat(t,"integer"):"".concat(t).concat(c);this.createdEl&&this.__destroyFn(this._getClbOpts()),a.empty().append(this.template(n)),a.find("[data-sm-label]").append(this.templateLabel(n));var h=this.create&&this.create.bind(this);this.createdEl=h&&h(this._getClbOpts()),a.find("[data-sm-fields]").append(this.createdEl||this.templateInput(n)),r.className="".concat(p," ").concat(f," ").concat(p,"__").concat(s," ").concat(d).trim(),r.className+=n.isFull()?" ".concat(p,"--full"):"";var v=this.onRender&&this.onRender.bind(this);return v&&v(),this.setValue(n.getValue()),this},i.prototype.onRender=function(){},i}(gt.Ss),Bo=pk,fk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hk=function(o){fk(i,o);function i(e){var t=o.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.properties=[],t.parent=e.parent;var n=t.collection;return t.listenTo(n,"add",t.addTo),t.listenTo(n,"reset",t.render),t}return i.prototype.addTo=function(e,t,n){this.add(e,null,n)},i.prototype.add=function(e,t,n){n===void 0&&(n={});var r=this,a=r.parent,s=r.config,c=t||this.el,d=new e.typeView({model:e,config:s});a&&(d.parent=a),d.render();var p=d.el;this.properties.push(d),(0,Ct.Sc)(c,p,n.at)},i.prototype.remove=function(){return gt.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},i.prototype.clearItems=function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]},i.prototype.render=function(){var e=this,t=this,n=t.$el,r=t.pfx;this.clearItems();var a=document.createDocumentFragment();return this.collection.forEach(function(s){return e.add(s,a)}),n.empty(),n.append(a),n.attr("class","".concat(r,"properties")),this},i}(gt.Ss),Hm=hk,mk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Tp=function(){return Tp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Tp.apply(this,arguments)},gk=function(o){mk(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.templateInput=function(){var e=this.pfx;return`
      <div class="`.concat(e,"field ").concat(e,`composite">
        <span id="`).concat(e,`input-holder"></span>
      </div>
    `)},i.prototype.remove=function(){var e;return(e=this.props)===null||e===void 0||e.remove(),Bo.prototype.remove.apply(this,arguments),this},i.prototype.onValueChange=function(){},i.prototype.onRender=function(){var e=this.pfx,t=this.model,n=t.get("properties");if(n.length&&!this.props){var r=t.isDetached(),a=new Hm({config:Tp(Tp({},this.config),{highlightComputed:r,highlightChanged:r}),collection:n,parent:this});a.render(),this.$el.find("#".concat(e,"input-holder")).append(a.el),this.props=a}},i.prototype.clearCached=function(){Bo.prototype.clearCached.apply(this,arguments),delete this.props},i}(Bo),Lc=gk,vk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_k=function(o){vk(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},i.prototype.template=function(){var e=this,t=e.pfx,n=e.ppfx,r=e.em,a=r?.getConfig().icons,s=a?.close||"",c=a?.move||"";return`
      <div class="`.concat(t,`label-wrp">
        <div id="`).concat(t,'move" class="').concat(n,`no-touch-actions" data-move-layer>
          `).concat(c,`
        </div>
        <div id="`).concat(t,`label" data-label></div>
        <div id="`).concat(t,'preview-box" class="').concat(t,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(t,'preview" class="').concat(t,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(t,'close-layer" class="').concat(t,`btn-close" data-close-layer>
          `).concat(s,`
        </div>
      </div>
      <div id="`).concat(t,`inputs" data-properties></div>
    `)},i.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,n=e.config||{};this.em=n.em,this.config=n,this.sorter=e.sorter,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.propertyView=e.propertyView;var r=this.propertyView.model;this.listenTo(t,"destroy remove",this.remove),this.listenTo(t,"change:values",this.updateLabel),this.listenTo(r,"change:selectedLayer",this.updateVisibility),t.view=this,t.set({droppable:0,draggable:1}),this.$el.data("model",t)},i.prototype.initSorter=function(){var e;(e=this.sorter)===null||e===void 0||e.startSort([{element:this.el}])},i.prototype.removeItem=function(e){e&&e.stopPropagation(),this.model.remove()},i.prototype.select=function(){this.model.select()},i.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},i.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},i.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},i.prototype.updateLabel=function(){var e=this.model,t=e.getLabel();if(this.getLabelEl().innerHTML=t,e.hasPreview()){var n=this.getPreviewEl(),r=e.getStylePreview({number:{min:-3,max:3}}),a=(0,X.keys)(r).map(function(s){return"".concat(s,":").concat(r[s])}).join(";");n.setAttribute("style",a)}},i.prototype.updateVisibility=function(){var e,t=this,n=t.pfx,r=t.model,a=t.propertyView,s=this.getPropertiesWrapper(),c=r.isSelected();s.style.display=c?"":"none",this.$el[c?"addClass":"removeClass"]("".concat(n,"active")),c&&s.appendChild((e=a.props)===null||e===void 0?void 0:e.el)},i.prototype.render=function(){var e=this,t=e.el,n=e.pfx,r=e.model;return t.innerHTML=this.template(),t.className="".concat(n,"layer"),r.hasPreview()&&(t.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},i}(gt.Ss),yk=_k,bk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ck=function(o){bk(i,o);function i(e){var t=o.call(this,e)||this,n=t.collection,r=e.config||{},a=r.em,s=r.stylePrefix||"",c=r.pStylePrefix||"";t.config=r,t.pfx=s,t.ppfx=c,t.propertyView=e.propertyView,t.className="".concat(s,"layers ").concat(c,"field"),t.listenTo(n,"add",t.addTo),t.listenTo(n,"reset",t.reset),t.items=[];var d=t.createPlaceholder(r.pStylePrefix);t.$el.append(d);var p=a?.Utils;return t.sorter=p?new p.StyleManagerSorter({em:a,containerContext:{container:t.el,containerSel:".".concat(s,"layers"),itemSel:".".concat(s,"layer"),pfx:r.pStylePrefix,document,placeholderElement:d},dragBehavior:{dragDirection:_s.A.Vertical,nested:!1}}):void 0,n.view=t,t.$el.data("model",n),t.$el.data("collection",n),t}return i.prototype.addTo=function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)},i.prototype.addToCollection=function(e,t,n){var r=t||null,a=this,s=a.propertyView,c=a.config,d=a.sorter,p=a.$el,f=new yk({model:e,config:c,sorter:d,propertyView:s}),h=f.render().el;if(this.items.push(f),r)r.appendChild(h);else if(typeof n<"u"){var v="before";p.children().length===n&&(n--,v="after"),n<0?p.append(h):p.children().eq(n)[v](h)}else p.append(h);return h},i.prototype.reset=function(e,t){this.clearItems(),this.render()},i.prototype.remove=function(){return this.clearItems(),gt.Ss.prototype.remove.apply(this,arguments),this},i.prototype.clearItems=function(){this.items.forEach(function(e){return e.remove()}),this.items=[]},i.prototype.render=function(){var e=this,t=this.$el,n=document.createDocumentFragment();return t.empty(),this.collection.forEach(function(r){return e.addToCollection(r,n)}),t.append(n),t.attr("class",this.className),this},i.prototype.createPlaceholder=function(e){var t=document.createElement("div"),n=document.createElement("div");return this.el.parentNode,t.className=e+"placeholder",t.style.display="none",t.style.pointerEvents="none",n.className=e+"placeholder-int",t.appendChild(n),t},i}(gt.Ss),xk=Ck,wk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ol=function(){return Ol=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Ol.apply(this,arguments)},Ok=function(o){wk(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.events=function(){return Ol(Ol({},Lc.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},i.prototype.templateInput=function(){var e=this,t=e.pfx,n=e.em,r=n?.getConfig().icons,a=r?.plus||"+";return`
      <div class="`.concat(t,"field ").concat(t,`stack">
        <button type="button" id="`).concat(t,`add" data-add-layer>
          `).concat(a,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},i.prototype.init=function(){var e=this.model;this.listenTo(e.layers,"change reset",this.updateStatus),this.listenTo(e,"change:isEmptyValue",this.updateStatus)},i.prototype.addLayer=function(){this.model.addLayer({},{at:0})},i.prototype.setValue=function(){},i.prototype.remove=function(){var e;return(e=this.layersView)===null||e===void 0||e.remove(),Lc.prototype.remove.apply(this,arguments),this},i.prototype.clearCached=function(){Lc.prototype.clearCached.apply(this,arguments),delete this.layersView},i.prototype.onRender=function(){var e=this,t=e.model,n=e.el,r=e.config,a=t.get("properties");if(a.length&&!this.props){var s=new Hm({config:Ol(Ol({},r),{highlightComputed:!1,highlightChanged:!1}),collection:a,parent:this});s.render();var c=new xk({collection:t.layers,config:r,propertyView:this});c.render();var d=n.querySelector("[data-layers-wrapper]");d.appendChild(c.el),this.props=s,this.layersView=c}},i}(Lc),Pk=Ok,Mk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sp=function(){return Sp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Sp.apply(this,arguments)},Tk=function(o){Mk(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.events=function(){return Sp(Sp({},Bo.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},i.prototype.templateInput=function(){var e,t=this,n=t.pfx,r=t.em,a=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,s=a?.close;return`
      <div class="`.concat(n,"field ").concat(n,`file">
        <div id='`).concat(n,`input-holder'>
          <div class="`).concat(n,`btn-c">
            <button class="`).concat(n,'btn" id="').concat(n,`images" type="button" data-open-assets>
              `).concat(r.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(n,'preview-box" class="').concat(n,`preview-file" data-preview-box>
          <div id="`).concat(n,'preview-file" class="').concat(n,`preview-file-cnt" data-preview></div>
          <div id="`).concat(n,'close" class="').concat(n,'preview-file-close" data-clear-asset>').concat(s,`</div>
        </div>
      </div>
    `)},i.prototype.__setValueInput=function(e){var t=this,n=t.model,r=t.el,a=n.getDefaultValue(),s=r.querySelector("[data-preview-box]"),c=r.querySelector("[data-preview]");s.style.display=!e||e===a?"none":"",c.style.backgroundImage=e||n.getDefaultValue()},i.prototype.openAssetManager=function(){var e=this,t,n=(t=this.em)===null||t===void 0?void 0:t.Assets;n?.open({select:function(r,a){var s=(0,X.isString)(r)?r:r.get("src");e.model.upValue(s,{partial:!a}),a&&n.close()},types:["image"],accept:"image/*"})},i}(Bo),Sk=Tk,Ek=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kk=function(o){Ek(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.templateInput=function(e){return""},i.prototype.init=function(){var e=this.model;this.listenTo(e,"change:unit",this.onValueChange),this.listenTo(e,"change:units",this.render)},i.prototype.setValue=function(e){},i.prototype.onRender=function(){var e=this,t=e.ppfx,n=e.model,r=e.el;if(!this.inputInst){var a=n.input;a.ppfx=t,a.render();var s=r.querySelector(".".concat(t,"fields"));s.appendChild(a.el),this.input=a.inputEl.get(0),this.inputInst=a}},i.prototype.clearCached=function(){Bo.prototype.clearCached.apply(this,arguments),this.inputInst=null},i}(Bo),Ho=kk,Ak=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ik=function(o){Ak(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.setValue=function(e){var t;(t=this.inputInst)===null||t===void 0||t.setValue(e,{fromTarget:1,def:this.model.getDefaultValue()})},i.prototype.remove=function(){var e=this;Ho.prototype.remove.apply(this,arguments);var t=this.inputInst;return t&&t.remove&&t.remove(),["inputInst","$color"].forEach(function(n){return e[n]=null}),this},i.prototype.__handleChange=function(e,t){this.model.upValue(e,{partial:t})},i.prototype.onRender=function(){var e;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var t=this,n=t.ppfx,r=t.model,a=t.em,s=t.el,c=new hy({target:a,model:r,ppfx:n,onChange:this.__handleChange}),d=c.render();s.querySelector(".".concat(n,"fields")).appendChild(d.el),this.input=(e=d.inputEl)===null||e===void 0?void 0:e.get(0),this.inputInst=d}},i}(Ho),Lk=Ik,Nk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ep=function(){return Ep=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Ep.apply(this,arguments)},o_=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},Dk=function(o){Nk(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return Ep(Ep({},zn.getDefaults()),{options:[],full:0})},i.prototype.getOptions=function(){var e=this.attributes,t=e.options,n=e.list;return(t&&t.length?t:n)||[]},i.prototype.getOption=function(e){var t=this,n=(0,Ze.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(r){return t.getOptionId(r)===n})[0]||null},i.prototype.setOptions=function(e){return e===void 0&&(e=[]),this.set("options",e),this},i.prototype.addOption=function(e){if(e){var t=this.getOptions();this.setOptions(o_(o_([],t,!0),[e],!1))}return this},i.prototype.getOptionId=function(e){return(0,Ze.isDef)(e.id)?e.id:e.value},i.prototype.getOptionLabel=function(e,t){var n;t===void 0&&(t={});var r=t.locale,a=r===void 0?!0:r,s=((0,X.isString)(e)?this.getOption(e):e)||{},c=this.getOptionId(s),d=s.label||s.name||c,p=t.property||this.getId();return a&&((n=this.em)===null||n===void 0?void 0:n.t("styleManager.options.".concat(p,".").concat(c)))||d},i.prototype.initialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];zn.prototype.initialize.apply(this,e),this.listenTo(this,"change:options",this.__onOptionChange)},i.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},i}(zn),ym=Dk,Rk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fk=function(o){Rk(i,o);function i(e){var t=o.call(this,e)||this;return t.listenTo(t.model,"change:options",t.updateOptions),t}return i.prototype.templateInput=function(){var e=this,t=e.pfx,n=e.ppfx;return`
      <div class="`.concat(n,"field ").concat(n,`select">
        <span id="`).concat(t,`input-holder"></span>
        <div class="`).concat(n,`sel-arrow">
          <div class="`).concat(n,`d-s-arrow"></div>
        </div>
      </div>
    `)},i.prototype.updateOptions=function(){delete this.input,this.onRender()},i.prototype.onRender=function(){var e=this.pfx,t=this.model,n=t.getOptions();if(!this.input){var r=[];n.forEach(function(s){var c=t.getOptionId(s),d=t.getOptionLabel(c),p=s.style?s.style.replace(/"/g,"&quot;"):"",f=p?'style="'.concat(p,'"'):"",h=c.replace(/"/g,"&quot;");r.push('<option value="'.concat(h,'" ').concat(f,">").concat(d,"</option>"))});var a=this.el.querySelector("#".concat(e,"input-holder"));a.innerHTML="<select>".concat(r.join(""),"</select>"),this.input=a.firstChild}},i.prototype.__setValueInput=function(e){var t=this.model,n=this.getInputEl(),r=t.getOptions()[0],a=r?t.getOptionId(r):"";n&&(n.value=e||a)},i}(Bo),$y=Fk,Vk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kp=function(){return kp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},kp.apply(this,arguments)},jk=function(o){Vk(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return kp(kp({},ym.getDefaults()),{full:1})},i}(ym),Hk=jk,zk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Bk=function(o){zk(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.templateInput=function(){var e=this.ppfx;return'<div class="'.concat(e,"field ").concat(e,'field-radio"></div>')},i.prototype.onRender=function(){var e=this,t=e.pfx,n=e.ppfx,r=this.model,a="".concat(n,"radio-item-label"),s=r.getName(),c=r.getOptions(),d="".concat(t,"radio ").concat(t,"radio-").concat(s),p=r.cid;if(!this.input){var f=[];c.forEach(function(v){var C=v.className?"".concat(v.className," ").concat(t,"icon ").concat(a):"",b=r.getOptionId(v),x="".concat(s,"-").concat(b,"-").concat(p),w=C?"":r.getOptionLabel(b),P=v.title?'title="'.concat(v.title,'"'):"",M=r.getValue()===b?"checked":"";f.push(`
          <div class="`.concat(n,`radio-item">
            <input type="radio" class="`).concat(d,'" id="').concat(x,'" name="').concat(s,"-").concat(p,'" value="').concat(b,'" ').concat(M,`/>
            <label class="`).concat(C||a,'" ').concat(P,' for="').concat(x,'">').concat(w,`</label>
          </div>
        `))});var h=this.el.querySelector(".".concat(n,"field"));h.innerHTML='<div class="'.concat(n,'radio-items">').concat(f.join(""),"</div>"),this.input=h.firstChild}},i.prototype.__setValueInput=function(e){var t,n=this.model,r=e||n.getDefaultValue(),a=(t=this.getInputEl())===null||t===void 0?void 0:t.querySelector('[value="'.concat(r,'"]'));a&&(a.checked=!0)},i}($y),Uk=Bk,Gk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),us=function(){return us=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},us.apply(this,arguments)},Wk=function(o){Gk(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return us(us({},zn.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},i.prototype.getUnits=function(){return this.get("units")||[]},i.prototype.getUnit=function(){return this.get("unit")},i.prototype.getMin=function(){return this.get("min")},i.prototype.getMax=function(){return this.get("max")},i.prototype.getStep=function(){return this.get("step")},i.prototype.upUnit=function(e,t){return t===void 0&&(t={}),this._up({unit:e},t)},i.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),zn.callParentInit(zn,this,e,t);var n=this.get("unit"),r=this.getUnits();this.input=(0,Ze.hasWin)()?new gy({model:this}):void 0,r.length&&!n&&this.set("unit",r[0],{silent:!0}),zn.callInit(this,e,t)},i.prototype.__getClearProps=function(){return us(us({},zn.prototype.__getClearProps()),{unit:""})},i.prototype.parseValue=function(e,t){t===void 0&&(t={});var n=zn.prototype.parseValue.apply(this,arguments),r=this.input.validateInputValue(n.value,us({deepCheck:1},t)),a=r.value,s=r.unit;return n.value=a,n.unit=s,n},i.prototype.getFullValue=function(){var e=this.get("value"),t=this.get("unit"),n=(0,X.isUndefined)(e)?"":"".concat(e),r=!(0,X.isUndefined)(t)&&n?t:"",a="".concat(n).concat(r);return zn.prototype.getFullValue.apply(this,[a])},i}(zn),Ap=Wk,Kk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ip=function(){return Ip=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Ip.apply(this,arguments)},qk=function(o){Kk(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.defaults=function(){return Ip(Ip({},Ap.getDefaults()),{showInput:1})},i}(Ap),$k=qk,Yk=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Lp=function(){return Lp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Lp.apply(this,arguments)},Qk=function(o){Yk(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.events=function(){return Lp(Lp({},Ho.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},i.prototype.templateInput=function(e){var t=this.ppfx;return`
      <div class="`.concat(t,"field ").concat(t,`field-range">
        <input type="range" min="`).concat(e.get("min"),'" max="').concat(e.get("max"),'" step="').concat(e.get("step"),`"/>
      </div>
    `)},i.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},i.prototype.inputValueChanged=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value)},i.prototype.inputValueChangedSoft=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},i.prototype.setValue=function(e){var t=this.model,n=t.parseValue(e);this.getSliderEl().value=e===""?t.getDefaultValue():parseFloat(n.value),Ho.prototype.setValue.apply(this,arguments)},i.prototype.onRender=function(){Ho.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},i.prototype.clearCached=function(){Ho.prototype.clearCached.apply(this,arguments),delete this.slider},i}(Ho),Xk=Qk,Zk=gt.pM.extend(Ty),Jk=Zk.extend({extendViewApi:1,init:function(){var o=this,i=o.opts,e=o.em,t=i.module||e?.get("StyleManager");t&&(t.__listenAdd(this,t.events.propertyAdd),t.__listenRemove(this,t.events.propertyRemove))},types:[{id:"stack",model:lk,view:Pk,isType:function(o){if(o&&o.type=="stack")return o}},{id:"composite",model:cl,view:Lc,isType:function(o){if(o&&o.type=="composite")return o}},{id:"file",model:zn,view:Sk,isType:function(o){if(o&&o.type=="file")return o}},{id:"color",model:zn,view:Lk,isType:function(o){if(o&&o.type=="color")return o}},{id:"select",model:ym,view:$y,isType:function(o){if(o&&o.type=="select")return o}},{id:"radio",model:Hk,view:Uk,isType:function(o){if(o&&o.type=="radio")return o}},{id:"slider",model:$k,view:Xk,isType:function(o){if(o&&o.type=="slider")return o}},{id:"integer",model:Ap,view:Ho,isType:function(o){if(o&&o.type=="integer")return o}},{id:"number",model:Ap,view:Ho,isType:function(o){if(o&&o.type=="number")return o}},{id:"base",model:zn,view:Bo,isType:function(o){return o.type="base",o}}]}),zm=Jk,e7=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Np=function(){return Np=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Np.apply(this,arguments)},t7=function(o,i){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&i.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},n7=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},i7=function(o){e7(i,o);function i(e,t){t===void 0&&(t={});var n=o.call(this,e)||this,r=t.em;n.em=r;var a=e||{},s=n.buildProperties(a.buildProps),c=n.get("name")||"",d=[];!n.get("id")&&n.set("id",c.replace(/ /g,"_").toLowerCase()),s?d=n.extendProperties(s):d=n.get("properties").map(function(f){return(0,X.isString)(f)?n.buildProperties(f)[0]:f}).filter(Boolean),d=d.map(function(f){return n.checkExtend(f)});var p=new zm(d,{em:r});return p.sector=n,n.set("properties",p),n}return i.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(i.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),i.prototype.getId=function(){return this.get("id")},i.prototype.getName=function(){var e,t=this.getId();return((e=this.em)===null||e===void 0?void 0:e.t("styleManager.sectors.".concat(t)))||this.get("name")},i.prototype.setName=function(e){return this.set("name",e)},i.prototype.isOpen=function(){return!!this.get("open")},i.prototype.setOpen=function(e){return this.set("open",e)},i.prototype.isVisible=function(){return!!this.get("visible")},i.prototype.getProperties=function(e){e===void 0&&(e={});var t=this.properties,n=t.models?n7([],t.models,!0):t;return n.filter(function(r){var a=!0;if(e.withValue&&(a=r.hasValue({noParent:!0})),e.withParentValue){var s=r.hasValue({noParent:!0});a=!s&&r.hasValue()}return a})},i.prototype.getProperty=function(e){return this.getProperties().filter(function(t){return t.get("id")===e})[0]||void 0},i.prototype.addProperty=function(e,t){return this.properties.add(this.checkExtend(e),t)},i.prototype.extendProperties=function(e,t,n){n===void 0&&(n=!1);for(var r=e.length,a=t||this.get("properties"),s=this.get("extendBuilded"),c=[],d=0,p=a.length;d<p;d++){for(var f=a[d],h=0,v=0;v<r;v++){var C=e[v];if(f.property==C.property||f.id==C.property){var b=f.properties;b&&b.length&&(f.properties=this.extendProperties(C.properties||[],b,1)),e[v]=s?(0,X.extend)(C,f):f,c[v]=e[v],h=1;continue}}h||(e.push(f),c.push(f))}return n?c.filter(function(x){return x}):e},i.prototype.checkExtend=function(e){var t=((0,X.isString)(e)?{extend:e}:e)||{},n=t.extend,r=t7(t,["extend"]);return n?Np(Np({},this.buildProperties([n])[0]||{}),r):e},i.prototype.buildProperties=function(e){var t,n=e||[];if(!n.length)return[];var r=(t=this.em)===null||t===void 0?void 0:t.Styles.builtIn;return r?.build(n)},i}(gt.Kx),Yy=i7,r7=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Dp=function(){return Dp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Dp.apply(this,arguments)},o7=function(o){r7(i,o);function i(){return o!==null&&o.apply(this,arguments)||this}return i.prototype.initialize=function(e,t){t===void 0&&(t={});var n=t.module,r=t.em;this.em=r,this.module=n,this.listenTo(this,"reset",this.onReset)},i.prototype.model=function(e,t){t===void 0&&(t={});var n=t.collection.em;return new Yy(e,Dp(Dp({},t),{em:n}))},i.prototype.onReset=function(e,t){t===void 0&&(t={});var n=t.previousModels||[];n.forEach(function(r){return r.get("properties").reset()})},i}(gt.pM),a7=o7,Aa=function(){return Aa=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Aa.apply(this,arguments)},s7=function(o,i){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&i.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},os=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},gi=function(o){return o.map(function(i){return{id:i}})},l7=function(){function o(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var i=", sans-serif",e=["flex-start","flex-end","center"],t=os(os([],e,!0),["baseline","stretch"],!1);this.optsBgSize=gi(["auto","cover","contain"]),this.optsBgAttach=gi(["scroll","fixed","local"]),this.optsBgRepeat=gi(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=gi(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=gi(["visible","hidden","scroll","auto"]),this.optsDir=gi(["row","row-reverse","column","column-reverse"]),this.opstDisplay=gi(["block","inline","inline-block","flex","none"]),this.optsTransitFn=gi(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=gi(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=gi(["none","left","right"]),this.optsPos=gi(["static","relative","absolute","fixed"]),this.optsTextAlign=gi(["left","center","right","justify"]),this.optsFlexAlign=gi(t),this.optsJustCont=gi(os(os([],e,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=gi(os(os([],e,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=gi(os(["auto"],t,!0)),this.optsTransitProp=gi(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=gi(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=gi(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+i,"Arial Black, Gadget"+i,"Brush Script MT"+i,"Comic Sans MS, cursive"+i,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+i,"Impact, Charcoal"+i,"Lucida Sans Unicode, Lucida Grande"+i,"Tahoma, Geneva"+i,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+i,"Verdana, Geneva"+i].map(function(n){return{id:n,label:n.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return o.prototype.__sub=function(i){var e=this;return function(){return i.map(function(t){if((0,X.isString)(t))return e.get(t);var n=t.extend,r=s7(t,["extend"]);return Aa(Aa({},e.get(n)),r)})}},o.prototype.init=function(){var i=this,e=this,t=e.fixedValues,n=e.requireFlex,r=e.typeNumber;this.props={};var a=[["text-shadow-h",{type:r,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:t},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:n},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:r,default:"0",requiresParent:n}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:n},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:n},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(s,c){var d=c.values,p=d["box-shadow-h"],f=d["box-shadow-v"],h=d["box-shadow-blur"],v=d["box-shadow-spread"];return"".concat(p," ").concat(f," ").concat(h," ").concat(v)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(s,c){var d=c.values,p=d["text-shadow-h"],f=d["text-shadow-v"],h=d["text-shadow-blur"];return"".concat(p," ").concat(f," ").concat(h)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(s,c){var d=c.values,p=d["background-repeat-sub"]||"",f=d["background-position-sub"]||"",h=d["background-attachment-sub"]||"",v=d["background-size-sub"]||"";return[p,f,h,v].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(s,c){var d=c.property,p=c.name,f=s[p]||"",h=d.getLayerSeparator();return f?f.split(h).map(function(v){var C=d.__parseFn(v),b=C.name,x=C.value;return{"transform-type":b,"transform-value":x}}):[]},toStyle:function(s,c){var d,p=c.name;return d={},d[p]="".concat(s["transform-type"],"(").concat(s["transform-value"],")"),d},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(s){var c=s.property,d=s.to;if(d.value){var p=c.getOption(),f=Aa({},p.propValue||{}),h=c.getParent().getProperty("transform-value"),v=h.getUnit();(!v||f?.units.indexOf(v)<0)&&(f.unit=f?.units[0]||""),h.up(f)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return a.forEach(function(s){var c=s[0],d=s[1],p=s[2];i.add(c,d||{},{from:p})}),this},o.prototype.add=function(i,e,t){e===void 0&&(e={}),t===void 0&&(t={});var n=t.from||"",r=this.props[n||i]||{},a=Aa(Aa(Aa({},r),{property:i}),e);return a.properties&&(0,X.isFunction)(a.properties)&&(a.properties=a.properties()),this.props[i]=a,a},o.prototype.get=function(i){return this.props[i]},o.prototype.build=function(i){var e=this,t=[],n=(0,X.isString)(i)?[i]:i;return n.forEach(function(r){t.push(e.get(r)||{property:r})}),t},o}(),c7=l7,d7=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),u7=function(o,i){return Object.defineProperty?Object.defineProperty(o,"raw",{value:i}):o.raw=i,o},p7=function(o){d7(i,o);function i(e){var t=o.call(this,e)||this,n=e.config||{},r=t.model,a=n.em;return t.config=n,t.em=a,t.pfx=n.stylePrefix||"",t.listenTo(r,"destroy remove",t.remove),t.listenTo(r,"change:open",t.updateOpen),t.listenTo(r,"change:visible",t.updateVisibility),t}return i.prototype.template=function(e){var t,n=e.pfx,r=e.label,a=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,s=a?.caret||"",c="".concat(n,"sector-");return pr(a_||(a_=u7([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),c,c,s,c,r)},i.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},i.prototype.updateOpen=function(){var e=this,t=e.$el,n=e.model,r=e.pfx,a=n.isOpen();t[a?"addClass":"removeClass"]("".concat(r,"open")),this.getPropertiesEl().style.display=a?"":"none"},i.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},i.prototype.getPropertiesEl=function(){var e=this,t=e.$el,n=e.pfx;return t.find(".".concat(n,"properties")).get(0)},i.prototype.toggle=function(){var e=this.model;e.setOpen(!e.get("open"))},i.prototype.renderProperties=function(){var e=this,t=e.model,n=e.config,r=t.get("properties");if(r){var a=new Hm({collection:r,config:n});this.$el.append(a.render().el)}},i.prototype.render=function(){var e=this,t=e.pfx,n=e.model,r=e.$el,a=n.getId(),s=n.getName();return r.html(this.template({pfx:t,label:s})),this.renderProperties(),r.attr("class","".concat(t,"sector ").concat(t,"sector__").concat(a," no-select")),this.updateOpen(),this},i}(gt.Ss),f7=p7,a_,h7=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),m7=function(o){h7(i,o);function i(e){e===void 0&&(e={});var t=o.call(this,e)||this,n=e.module,r=e.config,a=t.collection;return t.pfx=r?.stylePrefix||"",t.ppfx=r?.pStylePrefix||"",t.config=r,t.module=n,t.listenTo(a,"add",t.addTo),t.listenTo(a,"reset",t.render),t}return i.prototype.remove=function(){var e=this;return gt.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(t){return e[t]={}}),this},i.prototype.addTo=function(e,t,n){n===void 0&&(n={}),this.addToCollection(e,null,n)},i.prototype.addToCollection=function(e,t,n){n===void 0&&(n={});var r=this,a=r.config,s=r.el,c=t||s,d=new f7({model:e,config:a}).render().el;return(0,Ct.Sc)(c,d,n.at),d},i.prototype.render=function(){var e=this,t=this,n=t.$el,r=t.pfx,a=t.ppfx;n.empty();var s=document.createDocumentFragment();return this.collection.each(function(c){return e.addToCollection(c,s)}),n.append(s),n.addClass("".concat(r,"sectors ").concat(a,"one-bg ").concat(a,"two-color")),this},i}(gt.Ss),g7=m7,v7=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ia=function(){return Ia=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Ia.apply(this,arguments)},s_=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},Qy="style",Zc="".concat(Qy,":"),Bm="".concat(Zc,"sector"),_7="".concat(Bm,":add"),y7="".concat(Bm,":remove"),b7="".concat(Bm,":update"),Um="".concat(Zc,"property"),C7="".concat(Um,":add"),x7="".concat(Um,":remove"),w7="".concat(Um,":update"),Xy="".concat(Zc,"layer:select"),bm="".concat(Zc,"target"),O7="".concat(Zc,"custom"),l_=function(o){return o||o===0},P7={all:Qy,sectorAdd:_7,sectorRemove:y7,sectorUpdate:b7,propertyAdd:C7,propertyRemove:x7,propertyUpdate:w7,layerSelect:Xy,target:bm,custom:O7},M7=function(o){v7(i,o);function i(e){var t=o.call(this,e,"StyleManager",new a7([],{em:e}),P7,Z6())||this;t.Sector=Yy,t.storageKey="",(0,X.bindAll)(t,"__clearStateTarget");var n=t.config,r=n.pStylePrefix;r&&(n.stylePrefix=r+n.stylePrefix),t.builtIn=new c7,t.properties=new zm([],{em:e,module:t}),t.sectors=t.all;var a=new gt.Kx({targets:[]});t.model=a;var s=wn.I.update,c="component:toggled ".concat(s,":classes change:state change:device frame:resized selector:type");t.upAll=(0,X.debounce)(function(){return t.__upSel()},0),a.listenTo(e,c,t.upAll),a.listenTo(e,"component:toggled",t.__clearStateTarget);var d=(0,X.debounce)(function(){t.__upProps(),t.__trgCustom()},0);a.listenTo(e,"styleable:change undo redo",d);var p=(0,X.debounce)(function(){return t.__trgCustom()},0);return a.listenTo(e,"".concat(Xy," ").concat(bm),p),a.on("change:lastTarget",function(){return e.trigger(bm,t.getSelected())}),t}return i.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},i.prototype.__trgCustom=function(e){e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},i.prototype.__trgEv=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(t=this.em).trigger.apply(t,s_([e],n,!1))},i.prototype.__clearStateTarget=function(){var e=this,t=this.em,n=this.__getStateTarget();n&&t?.skip(function(){t.Css.remove(n),e.model.set({stateTarget:null})})},i.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},i.prototype.postRender=function(){this.__appendTo()},i.prototype.addSector=function(e,t,n){n===void 0&&(n={});var r=this.getSector(e);return r||(t.id=e,r=this.sectors.add(t,n)),r},i.prototype.getSector=function(e,t){t===void 0&&(t={});var n=this.sectors.where({id:e})[0];return!n&&t.warn&&this._logNoSector(e),n||null},i.prototype.getSectors=function(e){e===void 0&&(e={});var t=this.sectors,n=t&&t.models?e.array?s_([],t.models,!0):t:[];return e.visible?n.filter(function(r){return r.isVisible()}):n},i.prototype.removeSector=function(e){return this.getSectors().remove(this.getSector(e,{warn:!0}))},i.prototype.addProperty=function(e,t,n){n===void 0&&(n={});var r=this.getSector(e,{warn:!0}),a;return r&&(a=r.addProperty(t,n)),a},i.prototype.getProperty=function(e,t){var n=this.getSector(e,{warn:!0}),r;return n&&(r=n.properties.filter(function(a){return a.get("property")===t||a.get("id")===t})[0]),r},i.prototype.getProperties=function(e){var t,n=this.getSector(e,{warn:!0});return n&&(t=n.properties),t},i.prototype.removeProperty=function(e,t){var n=this.getProperties(e);return n?n.remove(this.getProperty(e,t)):null},i.prototype.select=function(e,t){var n=this;t===void 0&&(t={});var r=this.em,a=(0,X.isArray)(e)?e:[e],s=t.stylable,c=r.Css,d=[];a.filter(Boolean).forEach(function(b){var x=b;if((0,X.isString)(b)){var w=c.getRule(b)||c.setRule(b);!(0,X.isUndefined)(s)&&w.set({stylable:s}),x=w}d.push(x)});var p=t.component||d.filter(function(b){return(0,Ze.isComponent)(b)}).reverse()[0];d=d.map(function(b){return n.getModelToStyle(b)});var f=r.getState(),h=d.slice().reverse()[0],v=this.getParentRules(h,{state:f,component:p}),C=this.__getStateTarget();return r.skip(function(){var b;if(f&&(!((b=h?.getState)===null||b===void 0)&&b.call(h))){var x=h.getStyle();C?C.setStyle(x):C=c.getAll().add({selectors:"gjs-selected",style:x,shallow:!0,important:!0})}else C&&(c.remove(C),C=void 0)}),this.model.set({targets:d,lastTarget:h,lastTargetParents:v,stateTarget:C,component:p}),this.__upProps(t),d},i.prototype.getSelected=function(){return this.model.get("lastTarget")},i.prototype.getSelectedAll=function(){return this.model.get("targets")},i.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},i.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},i.prototype.addStyleTargets=function(e,t){this.getSelectedAll().map(function(a){return a.addStyle(e,t)});var n=this.getSelected();n&&this.__emitCmpStyleUpdate(e);var r=this.__getStateTarget();n&&r?.setStyle(n.getStyle(),t)},i.prototype.getBuiltIn=function(e){return this.builtIn.get(e)},i.prototype.getBuiltInAll=function(){return this.builtIn.props},i.prototype.addBuiltIn=function(e,t){return this.builtIn.add(e,t)},i.prototype.getModelToStyle=function(e,t){t===void 0&&(t={});var n=this.em,r=t.skipAdd;if(n&&e?.toHTML){var a=n.getConfig(),s=n.UndoManager,c=n.Css,d=n.Selectors,p=d?d.getConfig():{},f=a.devicePreviewMode?"":n.get("state"),h=e.get("classes"),v=h.getStyleable(),C=v.length,b=!p.componentFirst||t.useClasses,x={noCount:1},w={state:f,addOpts:x};s.skip(function(){var P;if(C&&b){var M=n.getCurrentMedia();P=c.get(v,f,M),!P&&!r&&(P=c.add(v,f,M,{},x))}else if(a.avoidInlineStyle){var y=e.getId();P=c.getIdRule(y,w),!P&&!r&&(P=c.setIdRule(y,{},w)),e.is("wrapper")&&P.set("wrapper",1,x)}P&&(e=P)})}return e},i.prototype.getParentRules=function(e,t){var n=t===void 0?{}:t,r=n.state,a=n.component,s=this.em,c=[];if(s&&e){var d=a,p=s.Css,f=s.CodeManager.getGenerator("css"),h=e.toHTML?e:e.getComponent(),v={array:!0},C=[],b=[],x=[],w=[],P=[],M=function(V){return V.length?p.getRules().filter(function(j){var R=j.getSelectors().map(function(H){return H.getFullName()});return R.length===0?!1:R.every(function(H){return V.indexOf(H)>=0})}):[]},y=function(V){return V?p.getRules().filter(function(j){return j.selectorsToString()===V}):[]};if(h)C=p.getRules("#".concat(h.getId())),b=y(h.get("tagName")),w=d?M(d.getSelectors().getFullName(v)):[],P=w.concat(b).concat(C);else{C=d?p.getRules("#".concat(d.getId())):[],b=y(d?.get("tagName")||"");var A=d?.getSelectors().getFullName(v)||[],k=A.filter(function(V){return e.getSelectors().getFullName(v).findIndex(function(j){return j===V})===-1});x=M(k.concat(e.getSelectors().getFullName(v))),P=b.concat(C).concat(x)}var N=P.filter(function(V){return(0,X.isUndefined)(r)?1:V.get("state")===r}).sort(f.sortRules).reverse();c=N.slice(N.indexOf(e)+1)}return c},i.prototype.addType=function(e,t){this.properties.addType(e,t)},i.prototype.getType=function(e){return this.properties.getType(e)},i.prototype.getTypes=function(){return this.properties.getTypes()},i.prototype.createType=function(e,t){var n=t===void 0?{}:t,r=n.model,a=r===void 0?{}:r,s=n.view,c=s===void 0?{}:s,d=this.config,p=this.getType(e);if(p)return new p.view(Ia({model:new p.model(a),config:d},c))},i.prototype.render=function(){var e=this,t=e.config,n=e.em,r=e.SectView,a=r&&r.el;return this.SectView=new g7({el:a,em:n,config:t,module:this,collection:this.sectors}),this.SectView.render().el},i.prototype._logNoSector=function(e){var t=this.em;t&&t.logWarning("'".concat(e,"' sector not found"))},i.prototype.__emitCmpStyleUpdate=function(e,t){t===void 0&&(t={});var n=this.em;if(!e.__p){var r=this.getSelectedAll(),a=t.components||n.getSelectedAll(),s=Array.isArray(a)?a:[a],c=Ia({},e);delete c.__p,s.forEach(function(d){return!r.includes(d)&&d.__onStyleChange(c)})}},i.prototype.__upProps=function(e){var t=this;e===void 0&&(e={});var n=this.getSelected();if(n){var r=this.sectors,a=this.model.get("component"),s=this.getSelectedParents(),c=n.getStyle(),d=s.map(function(p){return{target:p,style:p.getStyle()}});r.map(function(p){p.getProperties().map(function(f){t.__upProp(f,c,d,e)})}),r.forEach(function(p){var f=p.getProperties();f.forEach(function(v){var C=v.__checkVisibility({target:n,sector:p,component:a,sectors:r.models});v.set("visible",C)});var h=f.some(function(v){return v.isVisible()});p.set("visible",h)})}},i.prototype.__upProp=function(e,t,n,r){var a=this,s=e.getName(),c=t[s],d=l_(c),p=e.getType()==="stack",f=e.getType()==="composite",h=Ia(Ia({},r),{__up:!0}),v=!f&&!p,C=e,b=e,x=p?C.__getLayersFromStyle(t):[],w=f?b.__getPropsFromStyle(t):{},P=d?c:null,M=null;if(p&&x===null||f&&w===null){var y=p?"__getLayersFromStyle":"__getPropsFromStyle",A=n.filter(function(R){return C[y](R.style)!==null})[0];if(A){P=A.style[s],M=A.target;var k=C[y](A.style);p?x=k:w=k}}else if(!d){P=null;var A=n.filter(function(H){return l_(H.style[s])})[0];A&&(P=A.style[s],M=A.target)}if(e.__setParentTarget(M),v&&e.__getFullValue()!==P&&e.upValue(P,h),p&&C.__setLayers(x||[],{isEmptyValue:C.isEmptyValueStyle(t)}),f){var N=b.getProperties();if(b.isDetached()){var V=b.__getPropsFromStyle(t,{byName:!0})||{},j=n.map(function(R){return Ia(Ia({},R),{style:b.__getPropsFromStyle(R.style,{byName:!0})||{}})});N.map(function(R){return a.__upProp(R,V,j,r)})}else b.__setProperties(w||{},h),b.getProperties().map(function(R){return R.__setParentTarget(M)})}},i.prototype.destroy=function(){var e;[this.properties,this.sectors].forEach(function(t){t.reset(),t.stopListening()}),(e=this.SectView)===null||e===void 0||e.remove(),this.model.stopListening(),this.upAll.cancel()},i}(Go),T7=M7,S7=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rp=function(){return Rp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Rp.apply(this,arguments)},E7=function(o){S7(i,o);function i(e,t){var n=o.call(this,e,t)||this;return n.em=t,n.model=function(r,a){return a===void 0&&(a={}),new q_(r,Rp(Rp({},a),{em:t}))},n}return i}(gt.pM),k7=E7,A7=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),I7=function(o){A7(i,o);function i(e){var t=o.call(this,e,"DataSources",new k7([],e),ms)||this;return t.storageKey="dataSources",t.events=ms,Object.assign(t,xm.Events),t}return i.prototype.destroy=function(){},i.prototype.add=function(e,t){t===void 0&&(t={});var n=this.all;return e.id=e.id||this._createId(),n.add(e,t)},i.prototype.get=function(e){return this.all.get(e)},i.prototype.getValue=function(e,t){return(0,Ze.get)(this.getContext(),e,t)},i.prototype.getContext=function(){return this.all.reduce(function(e,t){return e[t.id]=t.records.reduce(function(n,r,a){var s=r;return n[s.id||a]=s.attributes,n},{}),e},{})},i.prototype.remove=function(e,t){return this.__remove(e,t)},i.prototype.fromPath=function(e){var t=[],n=(0,Ze.stringToPath)(e||""),r=n[0],a=n[1],s=n.slice(2),c=this.get(r),d=c?.records.get(a);return c&&t.push(c),d&&(t.push(d),s.length&&t.push(s.join("."))),t},i.prototype.store=function(){var e,t=[];return this.all.forEach(function(n){var r=n.get("skipFromStorage");r||t.push({id:n.id,name:n.get("name"),records:n.records.toJSON(),skipFromStorage:r})}),e={},e[this.storageKey]=t,e},i.prototype.load=function(e){return this.loadProjectData(e)},i.prototype.postLoad=function(){var e=this,t=e.em,n=e.all;t.listenTo(n,gt.e2,function(r,a,s){return t.changesUp(s||a)}),this.em.UndoManager.add(n)},i}(Go),Zy=I7,L7=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pi=function(){return Pi=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Pi.apply(this,arguments)},Bh=function(o,i,e,t){function n(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function s(p){try{d(t.next(p))}catch(f){a(f)}}function c(p){try{d(t.throw(p))}catch(f){a(f)}}function d(p){p.done?r(p.value):n(p.value).then(s,c)}d((t=t.apply(o,i||[])).next())})},Uh=function(o,i){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},t,n,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(p){return c([d,p])}}function c(d){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){e.label=d[1];break}if(d[0]===6&&e.label<r[1]){e.label=r[1],r=d;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(d);break}r[2]&&e.ops.pop(),e.trys.pop();continue}d=i.call(o,e)}catch(p){d=[6,p],n=0}finally{t=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},N7=function(o,i){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&i.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},D7=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))};xO().$=vi.default;var R7=[c3,E8,M3,V6,IS,p8,fS,T7,nS,F3,k6,s6,Q6,aE,AE,xM,CE,VT,Zy],F7=[Zy,e8,xT,x8,sT];wO({$:vi.default});var c_={debug:console.log,info:console.info,warning:console.warn,error:console.error},V7=function(o){L7(i,o);function i(e){e===void 0&&(e={});var t=o.call(this)||this;t.Model=gt.Kx,t.Collection=gt.pM,t.events=ur,t.__skip=!1,t.defaultRunning=!1,t.loadTriggered=!1,t.destroyed=!1,t._isStoring=!1,t._config=e;var n=t.config;t.set("Config",e),t.set("modules",[]),t.set("toLoad",[]),t.set("storables",[]),t.set("selected",new MO),t.set("dmode",n.dragMode);var r=n.el,a=n.log,s=a===!0?(0,X.keys)(c_):(0,X.isArray)(a)?a:[];return(0,X.bindAll)(t,"initBaseColorPicker"),r&&n.fromElement&&(n.components=r.innerHTML),t.attrsOrig=r?(0,X.toArray)(r.attributes).reduce(function(c,d){return c[d.nodeName]=d.nodeValue,c},{}):"",n.components&&!n.pageManager&&(n.pageManager={pages:[{component:n.components}]}),R7.forEach(function(c){return t.loadModule(c)}),F7.forEach(function(c){return t.loadStorableModule(c)}),t.on("change:componentHovered",t.componentHovered,t),t.on("change:changesCount",t.updateChanges,t),t.on("change:readyLoad change:readyCanvas",t._checkReady,t),s.forEach(function(c){return t.listenLog(c)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(c){var d=c.from,p=c.to;t.listenTo(t,d,function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];t.trigger.apply(t,D7([p],f,!1)),t.logWarning("The event '".concat(d,"' is deprecated, replace it with '").concat(p,"'"))})}),t}return i.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(i.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),i.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},i.prototype.getContainer=function(){return this.config.el},i.prototype.listenLog=function(e){this.listenTo(this,"log:".concat(e),c_[e])},Object.defineProperty(i.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"version",{get:function(){var e;return((e=this.config.grapesjs)===null||e===void 0?void 0:e.version)||""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isHeadless",{get:function(){return!!this.config.headless},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isShallow",{get:function(){return!!this.get("isShallow")},enumerable:!1,configurable:!0}),i.prototype.initModules=function(){this.modules.forEach(function(e){return e.onInit()})},i.prototype.getConfig=function(e){var t=this.config;return(0,X.isUndefined)(e)?t:t[e]},i.prototype.loadOnStart=function(){var e=this,t=this.config,n=t.projectData,r=t.headless,a={initial:!0},s=this.Storage;this.toLoad.reverse().forEach(function(p){return p.onLoad()});var c=function(){e.modules.forEach(function(p){return p.postLoad&&p.postLoad(e)}),e.set("readyLoad",1)};r?(n&&this.loadData(n,a),c()):this._storageTimeout=setTimeout(function(){return Bh(e,void 0,void 0,function(){var p;return Uh(this,function(f){switch(f.label){case 0:return n?(this.loadData(n,a),[3,5]):[3,1];case 1:if(!s?.canAutoload())return[3,5];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,this.load({},a)];case 3:return f.sent(),[3,5];case 4:return p=f.sent(),this.logError(p),[3,5];case 5:return c(),[2]}})})});var d=new i({noticeOnUnload:!1,storageManager:!1,undoManager:!1});d.set({isShallow:!0}),d.Pages.onLoad(),d.Canvas.postLoad(),this.set("shallow",d)},i.prototype.updateChanges=function(e,t,n){var r=this,a=this.Storage,s=this.getDirtyCount();n.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return r.trigger(ur.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=s?function(){return!0}:null),a.isAutosave()&&s>=a.getStepsBeforeSave()&&this.store().catch(function(c){return r.logError(c)})},i.prototype.loadModule=function(e){var t=new e(this);return this.set(t.name,t),t.onLoad&&this.toLoad.push(t),this.modules.push(t),t},i.prototype.loadStorableModule=function(e){var t=this.loadModule(e);return this.storables.push(t),t},i.prototype.init=function(e,t){t===void 0&&(t={}),this.destroyed&&(this.initialize(t),this.destroyed=!1),this.set("Editor",e)},i.prototype.getEditor=function(){return this.get("Editor")},i.prototype.handleUpdates=function(e,t,n){var r=this;n===void 0&&(n={}),!(this.__skip||!this.loadTriggered||n.temporary||n.noCount||n.avoidStore||n.partial)&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var a=r.getDirtyCount()||0,s=n.unset,c=N7(n,["unset"]);r.set("changesCount",a+1,c)},0))},i.prototype.changesUp=function(e){this.handleUpdates(0,0,e)},i.prototype.componentHovered=function(e,t,n){var r=this.previous("componentHovered");r&&this.trigger("component:unhovered",r,n),t&&this.trigger("component:hovered",t,n)},i.prototype.getSelected=function(){return this.selected.lastComponent()},i.prototype.getSelectedAll=function(){return this.selected.allComponents()},i.prototype.setSelected=function(e,t){var n=this;t===void 0&&(t={});var r=t.event,a=r&&(r.ctrlKey||r.metaKey),s=(r||{}).shiftKey,c=((0,X.isArray)(e)?e:[e]).map(function(h){var v,C;return((C=(v=h?.delegate)===null||v===void 0?void 0:v.select)===null||C===void 0?void 0:C.call(v,h))||h}).filter(Boolean),d=this.getSelectedAll(),p=this.getConfig().multipleSelection,f=(0,X.isArray)(e);(f||!e)&&this.removeSelected(d.filter(function(h){return!(0,X.contains)(c,h)})),c.forEach(function(h){if(h&&(n.trigger(wn.I.selectBefore,h,t),!h.get("selectable")||t.abort))if(t.useValid){for(var v=h.parent();v&&!v.get("selectable");)v=v.parent();h=v}else return;if(a&&p)return n.toggleSelected(h);if(s&&p){if(n.isEditing())return;n.clearSelection(n.Canvas.getWindow());var C=h.collection,b=h.index(),x,w;if(n.getSelectedAll().forEach(function(P){var M=P.collection,y=P.index();M===C&&(y<b?x=(0,X.isUndefined)(x)?y:Math.max(x,y):y>b&&(w=(0,X.isUndefined)(w)?y:Math.min(w,y)))}),!(0,X.isUndefined)(x))for(;x!==b;)n.addSelected(C.at(x),t),x++;if(!(0,X.isUndefined)(w))for(;w!==b;)n.addSelected(C.at(w),t),w--;return n.addSelected(h,t)}!f&&n.removeSelected(d.filter(function(P){return P!==h})),n.addSelected(h,t)})},i.prototype.addSelected=function(e,t){var n=this;t===void 0&&(t={});var r=(0,X.isArray)(e)?e:[e];r.forEach(function(a){var s=n.selected;if(!(!a||!a.get("selectable")||a.parents().some(function(p){return s.hasComponent(p)}))){t.forceChange&&n.removeSelected(a,t);var c=s.allComponents().filter(function(p){return(0,X.contains)(p.parents(),a)});if(c.forEach(function(p){return n.removeSelected(p,t)}),s.addComponent(a,t),n.trigger(wn.I.select,a,t),n.Canvas.addSpot({type:Hr.F.Select,component:a}),t.activate){var d=a.getView();d?.rendered?d.onActive(t.event):a.once(wn.I.render,function(p){var f=p.view;return f.onActive(t.event)})}}})},i.prototype.removeSelected=function(e,t){var n=this;t===void 0&&(t={}),this.selected.removeComponent(e,t);var r=(0,X.isArray)(e)?e:[e];r.forEach(function(a){return n.Canvas.removeSpots({type:Hr.F.Select,component:a})})},i.prototype.toggleSelected=function(e,t){var n=this;t===void 0&&(t={});var r=(0,X.isArray)(e)?e:[e];r.forEach(function(a){n.selected.hasComponent(a)?n.removeSelected(a,t):n.addSelected(a,t)})},i.prototype.setHovered=function(e,t){var n=this;t===void 0&&(t={});var r=function(c,d){var p=n,f=p.config,h=p.Canvas,v=n.getHovered(),C=n.getSelectedAll(),b=Hr.F.Hover,x=Hr.F.Spacing;n.set("componentHovered",c||null,d),v&&(h.removeSpots({type:b,component:v}),h.removeSpots({type:x,component:v})),c&&(h.addSpot({type:b,component:c}),(!C.includes(c)||f.showOffsetsSelected)&&h.addSpot({type:x,component:c}))};if(!e)return r();var a="component:hover";if(t.forceChange&&r(),this.trigger("".concat(a,":before"),e,t),!e.get("hoverable"))if(t.useValid&&!t.abort){for(var s=e.parent();s&&!s.get("hoverable");)s=s.parent();e=s}else return;t.abort||(r(e,t),this.trigger(a,e,t))},i.prototype.getHovered=function(){return this.get("componentHovered")},i.prototype.setComponents=function(e,t){return t===void 0&&(t={}),this.Components.setComponents(e,t)},i.prototype.getComponents=function(){var e=this.Components,t=this.CodeManager;if(!(!e||!t)){var n=e.getComponents();return t.getCode(n,"json")}},i.prototype.setStyle=function(e,t){t===void 0&&(t={});var n=this.Css;return n.clear(t),n.getAll().add(e,t),this},i.prototype.addStyle=function(e,t){t===void 0&&(t={});var n=this.getStyle().add(e,t);return(0,X.isArray)(n)?n:[n]},i.prototype.getStyle=function(){return this.Css.getAll()},i.prototype.setState=function(e){return this.set("state",e),this},i.prototype.getState=function(){return this.get("state")||""},i.prototype.getHtml=function(e){e===void 0&&(e={});var t=this.config,n=t.optsHtml,r=t.jsInHtml?this.getJs(e):"",a=e.component||this.Components.getComponent(),s=a?this.CodeManager.getCode(a,"html",Pi(Pi({},n),e)):"";return s+=r?"<script>".concat(r,"<\/script>"):"",s},i.prototype.getCss=function(e){e===void 0&&(e={});var t=this.config,n=t.optsCss,r=e.avoidProtected,a=(0,X.isUndefined)(e.keepUnusedStyles)?t.keepUnusedStyles:e.keepUnusedStyles,s=this.Css,c=e.component||this.Components.getComponent(),d=r?"":t.protectedCss,p=c&&this.CodeManager.getCode(c,"css",Pi(Pi({cssc:s,keepUnusedStyles:a},n),e));return c?e.json?p:d+p:""},i.prototype.getJs=function(e){e===void 0&&(e={});var t=e.component||this.Components.getWrapper();return t?this.CodeManager.getCode(t,"js").trim():""},i.prototype.store=function(e){return Bh(this,void 0,void 0,function(){var t,n=this;return Uh(this,function(r){switch(r.label){case 0:return this._isStoring?[2]:(this._isStoring=!0,setTimeout(function(){n.clearDirtyCount()},1),t=this.storeData(),[4,this.Storage.store(t,e)]);case 1:return r.sent(),setTimeout(function(){n._isStoring=!1},1),[2,t]}})})},i.prototype.load=function(e){return Bh(this,arguments,void 0,function(t,n){var r;return n===void 0&&(n={}),Uh(this,function(a){switch(a.label){case 0:return[4,this.Storage.load(t)];case 1:return r=a.sent(),this.loadData(r,n),[4,(0,Ze.wait)()];case 2:return a.sent(),n.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,r]}})})},i.prototype.storeData=function(){var e={},t=this.getEditing();t&&t.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(r){e=Pi(Pi({},e),r.store(1))});var n=JSON.parse(JSON.stringify(e));return this.trigger(ur.projectGet,{project:n}),n},i.prototype.loadData=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={project:e,options:t,initial:!!t.initial},r=!1;return(0,Ze.isEmptyObj)(e)||(this.storables.forEach(function(a){return a.clear()}),this.storables.forEach(function(a){return a.load(e)}),r=!0),this.trigger(ur.projectLoad,Pi(Pi({},n),{loaded:r})),r&&this.trigger(ur.projectLoaded,n),e},i.prototype.getDeviceModel=function(){var e=this.get("device");return this.Devices.get(e)},i.prototype.runDefault=function(e){e===void 0&&(e={});var t=this.Commands.get(this.config.defaultCommand);!t||this.defaultRunning||(t.stop(this,this,e),t.run(this,this,e),this.defaultRunning=!0)},i.prototype.stopDefault=function(e){e===void 0&&(e={});var t=this.Commands;if(t){var n=t.get(this.config.defaultCommand);!n||!this.defaultRunning||(n.stop(this,this,e),this.defaultRunning=!1)}},i.prototype.refreshCanvas=function(e){e===void 0&&(e={}),this.Canvas.refresh({spots:e.tools})},i.prototype.clearSelection=function(e){var t,n=e||window;(t=n.getSelection())===null||t===void 0||t.removeAllRanges()},i.prototype.getCurrentMedia=function(){var e=this.config,t=this.getDeviceModel(),n=e.mediaCondition,r=e.devicePreviewMode,a=t&&t.get("widthMedia");return t&&a&&!r?"(".concat(n,": ").concat(a,")"):""},i.prototype.getWrapper=function(){return this.Components.getWrapper()},i.prototype.setCurrentFrame=function(e){return this.set("currentFrame",e)},i.prototype.getCurrentFrame=function(){return this.get("currentFrame")},i.prototype.getCurrentFrameModel=function(){var e;return(e=this.getCurrentFrame()||{})===null||e===void 0?void 0:e.model},i.prototype.getIcon=function(e){var t=this.config.icons||{};return t[e]||""},i.prototype.getDirtyCount=function(){return this.get("changesCount")},i.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},i.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},i.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},i.prototype.setDragMode=function(e){return this.set("dmode",e)},i.prototype.getDragMode=function(e){var t=e?.getDragMode()||this.get("dmode");return t||""},i.prototype.t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.get("I18n");return n?.t.apply(n,e)},i.prototype.inAbsoluteMode=function(e){return this.getDragMode(e)==="absolute"},i.prototype.destroyAll=function(){var e=this,t=this,n=t.config,r=t.view;this.trigger(ur.destroy);var a=this.getEditor(),s=(n.grapesjs||{}).editors,c=s===void 0?[]:s,d=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),d?.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(p){return p.destroy()}),r?.remove&&r.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(p){return e[p]={}}),c.splice(c.indexOf(a),1),(0,Ze.hasWin)()&&(0,vi.default)(n.el).empty().attr(this.attrsOrig),this.trigger(ur.destroyed)},i.prototype.getEditing=function(){var e=this.get("editing");return e&&e.model||void 0},i.prototype.setEditing=function(e){return this.set("editing",e),this},i.prototype.isEditing=function(){return!!this.get("editing")},i.prototype.log=function(e,t){t===void 0&&(t={});var n=ur.log,r=t.ns,a=t.level,s=a===void 0?"debug":a;if(this.trigger(n,e,t),s&&this.trigger("".concat(n,":").concat(s),e,t),r){var c="".concat(n,"-").concat(r);this.trigger(c,e,t),s&&this.trigger("".concat(c,":").concat(s),e,t)}},i.prototype.logInfo=function(e,t){this.log(e,Pi(Pi({},t),{level:"info"}))},i.prototype.logWarning=function(e,t){this.log(e,Pi(Pi({},t),{level:"warning"}))},i.prototype.logError=function(e,t){this.log(e,Pi(Pi({},t),{level:"error"}))},i.prototype.initBaseColorPicker=function(e,t){t===void 0&&(t={});var n=this.config,r=n.colorPicker,a=r===void 0?{}:r,s=n.el,c=n.stylePrefix;return(0,vi.default)(e).spectrum(Pi(Pi({containerClassName:"".concat(c,"one-bg ").concat(c,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F"},t),a))},i.prototype.skip=function(e){this.__skip=!0;var t=this.UndoManager;t?t.skip(e):e(),this.__skip=!1},i.prototype.data=function(e,t,n){var r="_gjs-data";if(e[r]||(e[r]={}),(0,X.isUndefined)(n))return e[r][t];e[r][t]=n},i}(gt.Kx),j7=V7;function H7(){return window.location.hostname}var z7=function(){var o=function(i,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},o(i,e)};return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),B7=function(o,i,e,t){function n(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function s(p){try{d(t.next(p))}catch(f){a(f)}}function c(p){try{d(t.throw(p))}catch(f){a(f)}}function d(p){p.done?r(p.value):n(p.value).then(s,c)}d((t=t.apply(o,i||[])).next())})},U7=function(o,i){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},t,n,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(p){return c([d,p])}}function c(d){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){e.label=d[1];break}if(d[0]===6&&e.label<r[1]){e.label=r[1],r=d;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(d);break}r[2]&&e.ops.pop(),e.trys.pop();continue}d=i.call(o,e)}catch(p){d=[6,p],n=0}finally{t=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},G7=function(o){z7(i,o);function i(e){var t=o.call(this,{model:e})||this,n=e.Panels,r=e.UndoManager;return e.view=t,e.once("change:ready",function(){n.active(),n.disableButtons(),e.getConfig().telemetry&&t.sendTelemetryData().catch(function(){}),setTimeout(function(){e.trigger(ur.load,e.Editor),e.loadTriggered=!0,r.clear(),e.clearDirtyCount()})}),t}return i.prototype.render=function(){var e=this,t=this,n=t.$el,r=t.model,a=r.Panels,s=r.Canvas,c=r.config,d=r.modules,p=c.stylePrefix,f=["".concat(p,"editor")];!c.customUI&&f.push("".concat(p,"one-bg ").concat(p,"two-color"));var h=(0,vi.default)(c.el||"body ".concat(c.container));c.cssIcons&&(0,Ze.appendStyles)(c.cssIcons,{unique:!0,prepand:!0}),n.empty(),c.width&&h.css("width",c.width),c.height&&h.css("height",c.height),n.append(s.render()),n.append(a.render());var v=r.shallow,C=v.Canvas.render();return C.style.display="none",n.append(C),n.attr("class",f.join(" ")),h.addClass("".concat(p,"editor-cont")).empty().append(n),d.forEach(function(b){var x;return(x=b.postRender)===null||x===void 0?void 0:x.call(b,e)}),this},i.prototype.sendTelemetryData=function(){return B7(this,void 0,void 0,function(){var e,t,n,r,a,s,c,d;return U7(this,function(p){switch(p.label){case 0:return e=H7(),e==="localhost"||e.includes("localhost")?[2]:(t="gjs_telemetry_sent_",n=this.model.version,r="".concat(t).concat(n),sessionStorage.getItem(r)?[2]:(a="https://app.grapesjs.com",[4,fetch("".concat(a,"/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:e,version:n})})]));case 1:return s=p.sent(),s.ok?[3,3]:(c=Error.bind,d="Failed to send telemetry data ".concat,[4,s.text()]);case 2:throw new(c.apply(Error,[void 0,d.apply("Failed to send telemetry data ",[p.sent()])]));case 3:return sessionStorage.setItem(r,"true"),Object.keys(sessionStorage).forEach(function(f){f.startsWith(t)&&f!==r&&sessionStorage.removeItem(f)}),this.trigger(ur.telemetryInit),[2]}})})},i}(gt.Ss),W7=G7,Uc=function(){return Uc=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Uc.apply(this,arguments)},d_=function(o,i,e,t){function n(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function s(p){try{d(t.next(p))}catch(f){a(f)}}function c(p){try{d(t.throw(p))}catch(f){a(f)}}function d(p){p.done?r(p.value):n(p.value).then(s,c)}d((t=t.apply(o,i||[])).next())})},u_=function(o,i){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},t,n,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(p){return c([d,p])}}function c(d){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(e=0)),e;)try{if(t=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,n=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){e.label=d[1];break}if(d[0]===6&&e.label<r[1]){e.label=r[1],r=d;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(d);break}r[2]&&e.ops.pop(),e.trys.pop();continue}d=i.call(o,e)}catch(p){d=[6,p],n=0}finally{t=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},K7=function(o,i,e){if(e||arguments.length===2)for(var t=0,n=i.length,r;t<n;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return o.concat(r||Array.prototype.slice.call(i))},q7=function(){function o(i,e){i===void 0&&(i={}),e===void 0&&(e={});var t;this.events=ur,this.html=pr;var n=CO();this.config=Uc(Uc(Uc({},n),i),{pStylePrefix:(t=i.stylePrefix)!==null&&t!==void 0?t:n.stylePrefix}),this.em=new j7(this.config),this.$=e.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(o.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(i){return this.em.getConfig(i)},o.prototype.getHtml=function(i){return this.em.getHtml(i)},o.prototype.getCss=function(i){return this.em.getCss(i)},o.prototype.getJs=function(i){return this.em.getJs(i)},o.prototype.getComponents=function(){return this.Components.getComponents()},o.prototype.getWrapper=function(){return this.Components.getWrapper()},o.prototype.setComponents=function(i,e){return e===void 0&&(e={}),this.em.setComponents(i,e),this},o.prototype.addComponents=function(i,e){return this.getWrapper().append(i,e)},o.prototype.getStyle=function(){return this.em.Css.getAll()},o.prototype.setStyle=function(i,e){return e===void 0&&(e={}),this.em.setStyle(i,e),this},o.prototype.addStyle=function(i,e){return e===void 0&&(e={}),this.em.addStyle(i,e)},o.prototype.getSelected=function(){return this.em.getSelected()},o.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},o.prototype.getSelectedToStyle=function(){var i=this.em.getSelected();if(i)return this.StyleManager.getModelToStyle(i)},o.prototype.select=function(i,e){return this.em.setSelected(i,e),this},o.prototype.selectAdd=function(i){return this.em.addSelected(i),this},o.prototype.selectRemove=function(i){return this.em.removeSelected(i),this},o.prototype.selectToggle=function(i){return this.em.toggleSelected(i),this},o.prototype.getEditing=function(){return this.em.getEditing()},o.prototype.setDevice=function(i){return this.em.set("device",i),this},o.prototype.getDevice=function(){return this.em.get("device")},o.prototype.runCommand=function(i,e){return e===void 0&&(e={}),this.Commands.run(i,e)},o.prototype.stopCommand=function(i,e){return e===void 0&&(e={}),this.Commands.stop(i,e)},o.prototype.store=function(i){return d_(this,void 0,void 0,function(){return u_(this,function(e){switch(e.label){case 0:return[4,this.em.store(i)];case 1:return[2,e.sent()]}})})},o.prototype.load=function(i){return d_(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),u_(this,function(n){switch(n.label){case 0:return[4,this.em.load(e,t)];case 1:return[2,n.sent()]}})})},o.prototype.getProjectData=function(){return this.em.storeData()},o.prototype.loadProjectData=function(i,e){return e===void 0&&(e={}),this.em.loadData(i,e)},o.prototype.storeData=function(){return this.em.storeData()},o.prototype.loadData=function(i){return this.em.loadData(i)},o.prototype.getContainer=function(){return this.config.el},o.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},o.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},o.prototype.refresh=function(i){this.em.refreshCanvas(i)},o.prototype.setCustomRte=function(i){this.RichTextEditor.customRte=i},o.prototype.setCustomParserCss=function(i){return this.Parser.getConfig().parserCss=i,this},o.prototype.setDragMode=function(i){return this.em.setDragMode(i),this},o.prototype.log=function(i,e){return e===void 0&&(e={}),this.em.log(i,e),this},o.prototype.t=function(){for(var i,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(i=this.em).t.apply(i,e)},o.prototype.on=function(i,e){return this.em.on(i,e),this},o.prototype.once=function(i,e){return this.em.once(i,e),this},o.prototype.off=function(i,e){return this.em.off(i,e),this},o.prototype.trigger=function(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return this.em.trigger.apply(this.em,K7([i],e,!0)),this},o.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},o.prototype.getEl=function(){var i;return(i=this.editorView)===null||i===void 0?void 0:i.el},o.prototype.getModel=function(){return this.em},o.prototype.render=function(){var i;return(i=this.editorView)===null||i===void 0||i.remove(),this.editorView=new W7(this.em),this.editorView.render().el},o.prototype.onReady=function(i){this.em.get("ready")?i(this):this.em.on("load",i)},o}(),$7=q7,Y7=function(o,i){var e=i.get(o);if(!e){var t=(0,Ze.getGlobal)()[o];e=t?.default||t}return e},Jy=function(o,i){return(0,X.isString)(o)?Y7(o,i):o?.default||o},eb=function(o,i){o.getModel().logWarning("Plugin ".concat(i," not found"),{context:"plugins",plugin:i})},Q7=function(){function o(){this.plugins={}}return o.prototype.add=function(i,e){var t=this.get(i);return t||(this.plugins[i]=e,e)},o.prototype.get=function(i){return this.plugins[i]},o.prototype.getAll=function(){return this.plugins},o}(),X7=Q7,Z7=function(){var o=function(){for(var e,t=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],r=0;r<n.length;r++){var a=n[r];if(e=a[1].exec(t),e)break}return!!e};if((0,Ze.hasWin)()&&o()){var i=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(e){return e||(e=""),i.apply(document.implementation,[e])}}},Fp=function(){return Fp=Object.assign||function(o){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},Fp.apply(this,arguments)};Z7();var Cm=new X7,p_=[],tb=function(o,i){var e=Jy(o,Cm);return function(t){e?e(t,i||{}):eb(t,o)}},nb={$:vi.default,editors:p_,plugins:Cm,usePlugin:tb,version:"0.22.13",init:function(o){o===void 0&&(o={});var i=o.headless,e=o.container;if(!e&&!i)throw new Error("'container' is required");var t=Fp(Fp({autorender:!0,plugins:[],pluginsOpts:{}},o),{grapesjs:this,el:i?void 0:(0,X.isElement)(e)?e:document.querySelector(e)}),n=new $7(t,{$:vi.default}),r=n.getModel();return r.initModules(),t.plugins.forEach(function(a){var s=Jy(a,Cm),c=t.pluginsOpts[a]||{};s?s(n,c):eb(n,a)}),r.loadOnStart(),t.autorender&&!i&&n.render(),p_.push(n),n}},J7=nb,ib=Vp.Ay,HN=Vp.I0,zN=Vp.nu;var ob=FC(rb());var eA=["editorContainer"];function tA(o,i){o&1&&(S(0,"div",16),je(1,"mat-progress-spinner",17),S(2,"p"),Y(3,"Loading Visual Editor..."),L()())}function nA(o,i){if(o&1){let e=jt();S(0,"div",31)(1,"div",32)(2,"input",33,1),rt("change",function(n){nt(e);let r=Ae(2);return it(r.onFileSelected(n))}),L(),S(4,"div",34),rt("click",function(){nt(e);let n=Ai(3);return it(n.click())}),S(5,"div",35)(6,"mat-icon"),Y(7,"cloud_upload"),L()(),S(8,"h3"),Y(9,"Drop your HTML file here"),L(),S(10,"p"),Y(11,"or click to browse"),L(),S(12,"div",36)(13,"span",37),Y(14,".html"),L(),S(15,"span",37),Y(16,".htm"),L()()()()()}}function iA(o,i){if(o&1){let e=jt();S(0,"div",38)(1,"textarea",39),Or("ngModelChange",function(n){nt(e);let r=Ae(2);return wr(r.importHtmlCode,n)||(r.importHtmlCode=n),it(n)}),L()()}if(o&2){let e=Ae(2);le(),xr("ngModel",e.importHtmlCode)}}function rA(o,i){if(o&1){let e=jt();S(0,"button",8),rt("click",function(){nt(e);let n=Ae(2);return it(n.importHTML())}),S(1,"mat-icon"),Y(2,"check"),L(),Y(3," Import Code "),L()}if(o&2){let e=Ae(2);Ce("disabled",e.importMethod==="paste"&&!e.importHtmlCode.trim())}}function oA(o,i){if(o&1){let e=jt();S(0,"div",18)(1,"div",19),rt("click",function(){nt(e);let n=Ae();return it(n.closeImportModal())}),L(),S(2,"div",20)(3,"div",21)(4,"h2")(5,"mat-icon"),Y(6,"file_upload"),L(),Y(7," Import HTML "),L(),S(8,"button",22),rt("click",function(){nt(e);let n=Ae();return it(n.closeImportModal())}),S(9,"mat-icon"),Y(10,"close"),L()()(),S(11,"div",23)(12,"button",24),rt("click",function(){nt(e);let n=Ae();return it(n.setImportMethod("file"))}),S(13,"mat-icon"),Y(14,"upload_file"),L(),S(15,"span"),Y(16,"Upload File"),L()(),S(17,"button",24),rt("click",function(){nt(e);let n=Ae();return it(n.setImportMethod("paste"))}),S(18,"mat-icon"),Y(19,"content_paste"),L(),S(20,"span"),Y(21,"Paste Code"),L()()(),S(22,"div",25),tt(23,nA,17,0,"div",26)(24,iA,2,1,"div",27),L(),S(25,"div",28)(26,"button",29),rt("click",function(){nt(e);let n=Ae();return it(n.closeImportModal())}),Y(27,"Cancel"),L(),tt(28,rA,4,1,"button",30),L()()()}if(o&2){let e=Ae();le(12),Kt("active",e.importMethod==="file"),le(5),Kt("active",e.importMethod==="paste"),le(6),Ce("ngIf",e.importMethod==="file"),le(),Ce("ngIf",e.importMethod==="paste"),le(4),Ce("ngIf",e.importMethod==="paste")}}function aA(o,i){if(o&1&&(S(0,"div",46),Y(1),L()),o&2){let e=Ae(2);le(),rn(" ",e.getPendingEditsCount()," ")}}function sA(o,i){o&1&&(S(0,"div",47)(1,"mat-icon"),Y(2,"open_with"),L()())}function lA(o,i){o&1&&(S(0,"mat-icon"),Y(1,"autorenew"),L())}function cA(o,i){o&1&&(S(0,"mat-icon"),Y(1,"check_circle"),L())}function dA(o,i){if(o&1&&(S(0,"div",65)(1,"mat-icon"),Y(2,"info"),L(),Y(3),L()),o&2){let e=Ae().$implicit;le(3),rn(" ",e.reason," ")}}function uA(o,i){if(o&1){let e=jt();S(0,"div",55)(1,"div",56),tt(2,lA,2,0,"mat-icon",57)(3,cA,2,0,"mat-icon",57),L(),S(4,"div",58)(5,"div",59)(6,"span",60),Y(7,"Find:"),L(),S(8,"code",61),rt("click",function(n){let r=nt(e).$implicit,a=Ae(3);return it(a.searchAndReplaceText(r.find||"",r.replace||"",n))}),Y(9),L()(),S(10,"div",62)(11,"span",60),Y(12,"Replace:"),L(),S(13,"code",63),rt("click",function(n){let r=nt(e).$implicit,a=Ae(3);return it(a.copyTextToClipboard(r.replace||"",n))}),Y(14),L()(),tt(15,dA,4,1,"div",64),L()()}if(o&2){let e=i.$implicit,t=i.index,n=Ae(3);Kt("applied",n.isEditApplied(t)),le(),Kt("pending",!n.isEditApplied(t))("success",n.isEditApplied(t))("failed",!1),le(),Ce("ngIf",!n.isEditApplied(t)),le(),Ce("ngIf",n.isEditApplied(t)),le(6),rn(" ",e.find," "),le(5),rn(" ",e.replace," "),le(),Ce("ngIf",e.reason)}}function pA(o,i){o&1&&(S(0,"div",66)(1,"mat-icon"),Y(2,"check_circle"),L(),S(3,"p"),Y(4,"All edits applied!"),L()())}function fA(o,i){if(o&1){let e=jt();S(0,"div",48)(1,"div",49),rt("mousedown",function(n){nt(e);let r=Ae(2);return it(r.onModalHeaderMouseDown(n))}),S(2,"h3")(3,"mat-icon"),Y(4,"report_problem"),L(),Y(5," Failed Edits "),L(),S(6,"span",50),Y(7),L()(),S(8,"div",51),tt(9,uA,16,13,"div",52)(10,pA,5,0,"div",53),L(),S(11,"div",54)(12,"button",29),rt("click",function(){nt(e);let n=Ae(2);return it(n.closeWidget())}),S(13,"mat-icon"),Y(14,"close"),L(),Y(15," Close "),L()()()}if(o&2){let e=Ae(2);ki("left",e.modalPosition.x,"px")("top",e.modalPosition.y,"px"),Kt("modal-dragging",e.isModalDragging)("modal-drag-enabled",e.modalDragEnabled),Ce("@slideIn",void 0),le(),Kt("draggable-header",e.modalDragEnabled),le(6),rn("",e.getPendingEditsCount()," pending"),le(2),Ce("ngForOf",e.failedEdits),le(),Ce("ngIf",e.getPendingEditsCount()===0)}}function hA(o,i){if(o&1){let e=jt();S(0,"div",40)(1,"div",41),rt("mousedown",function(n){nt(e);let r=Ae();return it(r.onButtonMouseDown(n))})("click",function(n){nt(e);let r=Ae();return it(r.onButtonClick(n))})("touchstart",function(n){nt(e);let r=Ae();return it(r.onTouchStart(n))})("touchmove",function(n){nt(e);let r=Ae();return it(r.onTouchMove(n))})("touchend",function(n){nt(e);let r=Ae();return it(r.onTouchEnd(n))}),S(2,"mat-icon",42),Y(3),L(),tt(4,aA,2,1,"div",43)(5,sA,3,0,"div",44),L(),tt(6,fA,16,14,"div",45),L()}if(o&2){let e=Ae();ki("left",e.widgetPosition.x,"px")("top",e.widgetPosition.y,"px"),Kt("modal-drag-enabled",e.modalDragEnabled),le(),Kt("open",e.isWidgetOpen)("pulse-animate",!e.hasShownPulseAnimation)("drag-enabled",e.dragEnabled),le(2),Ht(e.isWidgetOpen?"close":"add"),le(),Ce("ngIf",e.getPendingEditsCount()>0&&!e.isWidgetOpen),le(),Ce("ngIf",e.dragEnabled&&!e.isDragging),le(),Ce("ngIf",e.isWidgetOpen)}}function mA(o,i){if(o&1&&(S(0,"span",83),Y(1),L()),o&2){let e=Ae(2);le(),rn(" ",e.newTemplateName.length," / 100 characters ")}}function gA(o,i){o&1&&(S(0,"span",84),Y(1," Minimum 3 characters required "),L())}function vA(o,i){o&1&&(S(0,"div",85),Y(1," \u26A0 Name must be at least 3 characters "),L())}function _A(o,i){o&1&&(S(0,"mat-icon"),Y(1,"save"),L())}function yA(o,i){o&1&&je(0,"mat-spinner",86)}function bA(o,i){if(o&1){let e=jt();S(0,"div",67)(1,"div",68)(2,"div",69)(3,"div",70)(4,"h2"),Y(5,"\u{1F4DD} Name Your Template"),L(),S(6,"p"),Y(7,"Give your template a memorable name before saving"),L()(),S(8,"div",71)(9,"div",72)(10,"label",73),Y(11,"Template Name"),L(),S(12,"input",74),Or("ngModelChange",function(n){nt(e);let r=Ae();return wr(r.newTemplateName,n)||(r.newTemplateName=n),it(n)}),rt("keyup.enter",function(){nt(e);let n=Ae();return it(n.isValidName()&&n.confirmTemplateName())}),L(),S(13,"div",75),tt(14,mA,2,1,"span",76)(15,gA,2,0,"span",77),L(),tt(16,vA,2,0,"div",78),L()(),S(17,"div",79)(18,"button",80),rt("click",function(){nt(e);let n=Ae();return it(n.cancelNameDialog())}),Y(19," Cancel "),L(),S(20,"button",81),rt("click",function(){nt(e);let n=Ae();return it(n.confirmTemplateName())}),tt(21,_A,2,0,"mat-icon",57)(22,yA,1,0,"mat-spinner",82),Y(23),L()()()()()}if(o&2){let e=Ae();Ce("@slideIn",void 0),le(12),xr("ngModel",e.newTemplateName),le(2),Ce("ngIf",e.newTemplateName.length>0),le(),Ce("ngIf",e.newTemplateName.length===0),le(),Ce("ngIf",e.newTemplateName.length>0&&e.newTemplateName.trim().length<3),le(2),Ce("disabled",e.isSavingTemplate),le(2),Ce("disabled",!e.isValidName()||e.isSavingTemplate),le(),Ce("ngIf",!e.isSavingTemplate),le(),Ce("ngIf",e.isSavingTemplate),le(),rn(" ",e.isSavingTemplate?"Saving...":"Save & Continue"," ")}}var Wm=(()=>{class o{constructor(){this.router=Pt(Un),this.cacheService=Pt(J1),this.authService=Pt(Fi),this.route=Pt(uo),this.http=Pt(Ca),this.cdr=Pt(Ii),this.templateState=Pt(wa),this.AUTO_SAVE_DELAY=300,this.overlays=[],this.overlayContainer=null,this.showNameDialog=!1,this.newTemplateName="",this.isSavingTemplate=!1,this.failedEdits=[],this.showFloatingWidget=!1,this.isWidgetOpen=!1,this.hasShownPulseAnimation=!1,this.widgetPosition={x:20,y:100},this.isDragging=!1,this.dragEnabled=!1,this.dragOffset={x:0,y:0},this.isModalDragging=!1,this.modalDragEnabled=!1,this.modalPosition={x:0,y:0},this.modalDragOffset={x:0,y:0},this.lastButtonClickTime=0,this.lastModalClickTime=0,this.DOUBLE_CLICK_THRESHOLD=500,this.WIDGET_POSITION_KEY="visual_editor_widget_position",this.APPLIED_EDITS_KEY="visual_editor_applied_edits",this.PULSE_SHOWN_KEY="visual_editor_pulse_shown",this.loading=!0,this.showImportModal=!1,this.importHtmlCode="",this.importMethod="paste",this.EDITOR_CACHE_KEY="visual-editor-content",this.templateId=null,this.originalGoldenHtml=""}ngOnInit(){this.route.paramMap.subscribe(e=>{if(this.templateId=e.get("id"),!this.templateId){let t="visual_editor_temp_id",n=localStorage.getItem(t);n||(n="temp_"+Date.now()+"_"+Math.random().toString(36).substring(2,9),localStorage.setItem(t,n)),this.templateId=n}this.templateId&&(this.loadGoldenHtml(this.templateId),this.loadFailedEdits(this.templateId),setTimeout(()=>{this.loadFailedEdits(this.templateId),this.cdr.markForCheck()},100))}),this.restoreWidgetPosition()}ngAfterViewInit(){document.getElementById("gjs")?(this.initGrapesJS(),setTimeout(()=>{this.removeAllHighlights()},3e3),this.periodicSaveInterval=setInterval(()=>{this.editor&&this.templateId&&this.autoSave()},1e4),document.addEventListener("visibilitychange",()=>{document.hidden&&this.editor&&this.templateId&&this.autoSave()}),window.addEventListener("beforeunload",()=>{this.editor&&this.templateId&&this.autoSave()})):(this.loading=!1,this.cdr.markForCheck())}ngOnDestroy(){this.autoSave(!0),this.periodicSaveInterval&&clearInterval(this.periodicSaveInterval),this.autoSaveTimer&&clearTimeout(this.autoSaveTimer),document.body.classList.remove("validation-modal-open"),document.body.style.overflow="auto",this.editor&&this.editor.destroy()}onTouchStart(e){this.longPressTimer=setTimeout(()=>{this.dragEnabled=!0,this.isDragging=!0;let t=e.touches[0],r=e.currentTarget.getBoundingClientRect();this.dragOffset={x:t.clientX-r.left,y:t.clientY-r.top},"vibrate"in navigator&&navigator.vibrate(50)},500)}onTouchMove(e){if(!this.isDragging){clearTimeout(this.longPressTimer);return}e.preventDefault();let t=e.touches[0],n=window.innerWidth,r=window.innerHeight,a=60,s=t.clientX-this.dragOffset.x,c=t.clientY-this.dragOffset.y;s=Math.max(0,Math.min(s,n-a)),c=Math.max(0,Math.min(c,r-a)),this.widgetPosition={x:s,y:c},this.cdr.markForCheck()}onTouchEnd(e){clearTimeout(this.longPressTimer),this.isDragging&&(this.isDragging=!1,this.dragEnabled=!1,this.saveWidgetPosition())}promptTemplateName(){return new Promise(e=>{this.newTemplateName="",this.showNameDialog=!0,this.cdr.markForCheck(),window.__templateNameResolve=e})}cancelNameDialog(){this.showNameDialog=!1,this.newTemplateName="",window.__templateNameResolve&&(window.__templateNameResolve(null),delete window.__templateNameResolve)}confirmTemplateName(){let e=this.newTemplateName.trim();if(!this.isValidName()){this.showToast("Please enter a valid template name (3-100 characters)","error");return}this.showNameDialog=!1,window.__templateNameResolve&&(window.__templateNameResolve(e),delete window.__templateNameResolve)}isValidName(){let e=this.newTemplateName?.trim();return!!(e&&e.length>=3&&e.length<=100)}saveNewTemplate(e,t){return Cn(this,null,function*(){this.isSavingTemplate=!0;try{let n="Unknown User";try{if("user$"in this.authService){let s=yield Bs(this.authService.user$);n=s?.displayName||s?.name||s?.email||"Unknown User"}else if("currentUser"in this.authService){let s=this.authService.currentUser;n=s?.displayName||s?.name||s?.email||"Unknown User"}else{let s=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");if(s){let c=JSON.parse(s);n=c?.displayName||c?.name||c?.email||"Unknown User"}}}catch{}let r={name:e,content:t,type:"Visual editor",category:"N/A",createdBy:n,createdDate:new Date().toISOString(),lastEdited:new Date().toISOString(),active:!0,dragDrop:!0,responsive:"N/A",folderId:"N/A",source:"Visual Editor"},a=yield Bs(this.http.post("/api/templates",r));return this.showToast("Template saved successfully!","success"),a.id||a.templateId||a._id}catch{return this.showToast("Failed to save template. Please try again.","error"),null}finally{this.isSavingTemplate=!1}})}loadGoldenHtml(e){let t=localStorage.getItem(`visual_editor_${e}_editing_mode`),n=localStorage.getItem(`visual_editor_${e}_variant_meta`);if(t==="variant"&&n)try{let a=JSON.parse(n),{runId:s,no:c}=a,d=`visual_editor_variant_${s}_${c}_html`,p=localStorage.getItem(d);if(p){this.originalGoldenHtml=p;return}}catch{}let r=this.templateState.getTemplateForEditor(e);r?this.originalGoldenHtml=r:this.originalGoldenHtml=""}initGrapesJS(){try{let e=setTimeout(()=>{this.loading&&(this.loading=!1,this.cdr.markForCheck())},5e3);this.editor=ib.init({container:"#gjs",fromElement:!1,height:"calc(100vh - 80px)",width:"100%",storageManager:!1,plugins:[ob.default],pluginsOpts:{"grapesjs-preset-newsletter":{modalLabelImport:"Paste HTML",modalLabelExport:"Copy HTML",codeViewerTheme:"material",importPlaceholder:"<table>...</table>"}}}),this.editor.on("load",()=>{clearTimeout(e);try{let r=this.editor.Panels;r.removeButton("options","export-template"),r.removeButton("options","gjs-open-import-webpage"),r.removeButton("views","open-code")}catch{}this.setupCodeEditor();let t=`visual_editor_${this.templateId}_progress`;if(localStorage.getItem(t))this.restoreProgress(),setTimeout(()=>{this.autoSave()},500);else if(this.originalGoldenHtml)try{this.editor.setComponents(this.originalGoldenHtml),setTimeout(()=>{this.autoSave()},500)}catch{}else this.templateId&&(this.restoreProgress(),setTimeout(()=>{this.autoSave()},500));this.loading=!1}),this.editor.on("update",()=>{this.autoSave()}),this.editor.on("component:add",()=>{this.autoSave()}),this.editor.on("component:remove",()=>{this.autoSave()}),this.editor.on("component:update",()=>{this.autoSave()}),this.editor.on("style:update",()=>{this.autoSave()})}catch{this.loading=!1}}setupCodeEditor(){try{let e=this.editor.Panels;this.editor.Commands.add("custom-edit-code",{run:t=>{this.openCodeEditor(t)},stop:t=>{}}),e.addButton("options",{id:"custom-code-edit",className:"fa fa-code",command:t=>{this.openCodeEditor(t)},attributes:{title:"Edit HTML/CSS Code","data-tooltip":"Edit Code"}})}catch{}}openCodeEditor(e){try{let t=e.Modal,n=e.getHtml(),a=`<style>
${e.getCss()}
</style>

${n}`;t.setTitle("Edit HTML & CSS Code"),t.setContent(`
        <div style="padding: 20px; display: flex; flex-direction: column; height: 600px;">
          <div style="margin-bottom: 15px; color: #64748b; font-size: 14px; font-weight: 500;">
            \u270F\uFE0F Edit your template code below
          </div>
          <textarea id="gjs-code-editor" style="flex: 1; width: 100%; font-family: 'Courier New', Consolas, monospace; font-size: 14px; line-height: 1.6; padding: 20px; border: 2px solid #e2e8f0; border-radius: 10px; resize: none; background: #0f172a; color: #e2e8f0; outline: none;">${a}</textarea>
          <div style="margin-top: 20px; display: flex; gap: 12px; justify-content: flex-end;">
            <button id="apply-code-btn" style="background: #10b981; color: white; border: none; padding: 14px 28px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 15px; box-shadow: 0 2px 8px rgba(16,185,129,0.3);">
              \u2713 Apply Changes
            </button>
            <button id="cancel-code-btn" style="background: #ef4444; color: white; border: none; padding: 14px 28px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 15px; box-shadow: 0 2px 8px rgba(239,68,68,0.3);">
              \u2715 Close
            </button>
          </div>
        </div>
      `),t.open(),setTimeout(()=>{let s=document.getElementById("apply-code-btn"),c=document.getElementById("cancel-code-btn"),d=document.getElementById("gjs-code-editor");s&&(s.onclick=()=>{d&&(e.setComponents(d.value),s.textContent="\u2713 Applied!",s.style.background="#6d28d9",setTimeout(()=>{s.textContent="\u2713 Apply Changes",s.style.background="#10b981"},1500))}),c&&(c.onclick=()=>t.close())},100)}catch{}}openImportModal(){this.showImportModal=!0,this.importHtmlCode=""}closeImportModal(){this.showImportModal=!1,this.importHtmlCode=""}importHTML(){!this.editor||!this.importHtmlCode.trim()||(this.editor.setComponents(this.importHtmlCode),this.closeImportModal())}onFileSelected(e){let t=e.target;if(!t.files||t.files.length===0)return;let n=t.files[0];if(!n.name.endsWith(".html")&&!n.name.endsWith(".htm")){this.showToast("\u26A0\uFE0F Please select a valid HTML file (.html or .htm)");return}let r=new FileReader;r.onload=a=>{let s=a.target?.result;s&&this.editor&&(this.editor.setComponents(s),this.closeImportModal(),this.showToast("\u2705 HTML file imported successfully!"))},r.onerror=()=>{this.showToast("\u274C Failed to read file. Please try again.")},r.readAsText(n)}setImportMethod(e){this.importMethod=e,this.importHtmlCode=""}goBack(){let e=localStorage.getItem(`visual_editor_${this.templateId}_editing_mode`),t=localStorage.getItem(`visual_editor_${this.templateId}_variant_meta`);if(e==="variant"&&t)try{let n=JSON.parse(t),{runId:r,no:a}=n,s=this.editor?.getHtml()||"",c=this.editor?.getCss()||"";s=this.cleanHtmlFromOverlays(s);let d=`<style>${c}</style>${s}`;sessionStorage.setItem("visual_editor_edited_html",d),sessionStorage.setItem("visual_editor_return_use_variant","true"),localStorage.removeItem(`visual_editor_variant_${r}_${a}_html`),localStorage.removeItem(`visual_editor_variant_${r}_${a}_snapshot`),localStorage.removeItem(`visual_editor_${this.templateId}_editing_mode`),localStorage.removeItem(`visual_editor_${this.templateId}_variant_meta`),localStorage.removeItem(`visual_editor_${this.templateId}_failed_edits`);let p=this.templateId;this.router.navigate(["/qa",p,"use",r,a]);return}catch{}this.router.navigate(["/"])}saveTemplate(){return Cn(this,null,function*(){if(!this.editor)return;this.removeAllHighlights(),yield new Promise(r=>setTimeout(r,100));let e=this.editor.getHtml(),t=this.editor.getCss();e=this.cleanHtmlFromOverlays(e);let n=`<style>${t}</style>${e}`})}exportHTML(){return Cn(this,null,function*(){if(!this.editor)return;this.removeAllHighlights(),yield new Promise(c=>setTimeout(c,100));let e=this.editor.getHtml(),t=this.editor.getCss();e=this.cleanHtmlFromOverlays(e);let n=`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>${t}</style>
</head>
<body>
  ${e}
</body>
</html>`,r=new Blob([n],{type:"text/html"}),a=window.URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download="email-template.html",s.click(),window.URL.revokeObjectURL(a)})}autoSave(e=!1){if(!(!this.editor||!this.templateId)){if(e){try{if(!this.editor||typeof this.editor.getHtml!="function"||typeof this.editor.getWrapper!="function")return;try{if(!this.editor.getWrapper())return}catch{return}let t=this.editor.getHtml(),n=this.editor.getCss();if(!t||t.trim()==="")return;t=this.cleanHtmlFromOverlays(t),this.templateState.saveEditorProgress(this.templateId,t,n);let r={html:t,css:n,templateId:this.templateId,savedAt:new Date().toISOString()},a=`visual_editor_${this.templateId}_progress`;localStorage.setItem(a,JSON.stringify(r))}catch{}return}this.autoSaveTimer&&clearTimeout(this.autoSaveTimer),this.autoSaveTimer=setTimeout(()=>{try{if(!this.editor||typeof this.editor.getHtml!="function"||typeof this.editor.getWrapper!="function")return;try{if(!this.editor.getWrapper())return}catch{return}let t=this.editor.getHtml(),n=this.editor.getCss();if(!t||t.trim()==="")return;t=this.cleanHtmlFromOverlays(t),this.templateState.saveEditorProgress(this.templateId,t,n);let r={html:t,css:n,templateId:this.templateId,savedAt:new Date().toISOString()},a=`visual_editor_${this.templateId}_progress`;localStorage.setItem(a,JSON.stringify(r))}catch{}},this.AUTO_SAVE_DELAY)}}restoreProgress(){if(this.templateId)try{let e=`visual_editor_${this.templateId}_progress`,t=localStorage.getItem(e);for(let n=0;n<localStorage.length;n++){let r=localStorage.key(n);if(r&&r.includes(this.templateId)){let a=localStorage.getItem(r)}}if(t){let n=JSON.parse(t);n&&this.editor&&(n.html&&this.editor.setComponents(n.html),n.css&&this.editor.setStyle(n.css))}}catch{}}clearProgress(){if(!this.templateId)return;let e=`visual_editor_${this.templateId}_progress`;localStorage.removeItem(e)}loadFailedEdits(e){let t=`visual_editor_${e}_editing_mode`;if(localStorage.getItem(t)==="original"){this.showFloatingWidget=!1,this.failedEdits=[];return}let r=`visual_editor_${e}_failed_edits`,a=localStorage.getItem(r)||sessionStorage.getItem(r);if(!a){this.showFloatingWidget=!1;return}try{if(this.failedEdits=JSON.parse(a),this.failedEdits.length>0){this.showFloatingWidget=!0;let s=`${this.PULSE_SHOWN_KEY}_${e}`;sessionStorage.getItem(s)?this.hasShownPulseAnimation=!0:(this.hasShownPulseAnimation=!1,sessionStorage.setItem(s,"true")),this.cdr.markForCheck()}else this.showFloatingWidget=!1}catch{this.showFloatingWidget=!1}}restoreWidgetPosition(){let e=localStorage.getItem(this.WIDGET_POSITION_KEY);if(e)try{let t=JSON.parse(e);this.widgetPosition=t}catch{this.widgetPosition={x:20,y:100}}else this.widgetPosition={x:20,y:100}}saveWidgetPosition(){localStorage.setItem(this.WIDGET_POSITION_KEY,JSON.stringify(this.widgetPosition))}onButtonMouseDown(e){let t=Date.now(),n=t-this.lastButtonClickTime;if(n<this.DOUBLE_CLICK_THRESHOLD&&n>0){e.stopPropagation(),e.preventDefault(),this.dragEnabled=!0,this.isDragging=!0,this.isWidgetOpen&&(this.isWidgetOpen=!1);let a=e.currentTarget.getBoundingClientRect();this.dragOffset={x:e.clientX-a.left,y:e.clientY-a.top},this.lastButtonClickTime=0}else this.lastButtonClickTime=t}onButtonClick(e){if(this.isDragging||this.dragEnabled)return;Date.now()-this.lastButtonClickTime<this.DOUBLE_CLICK_THRESHOLD&&this.lastButtonClickTime>0?(this.isWidgetOpen=!this.isWidgetOpen,this.isWidgetOpen&&(this.modalPosition={x:this.widgetPosition.x,y:this.widgetPosition.y+70}),this.isWidgetOpen&&!this.hasShownPulseAnimation&&(this.hasShownPulseAnimation=!0),this.cdr.markForCheck()):(this.isWidgetOpen=!this.isWidgetOpen,this.isWidgetOpen&&(this.modalPosition={x:this.widgetPosition.x,y:this.widgetPosition.y+70}),this.isWidgetOpen&&!this.hasShownPulseAnimation&&(this.hasShownPulseAnimation=!0))}closeWidget(){this.isWidgetOpen=!1}onDragStart(e){this.isDragging&&(e.preventDefault(),e.stopPropagation())}onDragMove(e){if(!this.isDragging||!this.dragEnabled)return;e.preventDefault();let t=window.innerWidth,n=window.innerHeight,r=60,a=e.clientX-this.dragOffset.x,s=e.clientY-this.dragOffset.y;a=Math.max(0,Math.min(a,t-r)),s=Math.max(0,Math.min(s,n-r));let c={x:a,y:s};this.widgetPosition=c,this.isWidgetOpen&&(this.modalPosition={x:a,y:s+70}),this.cdr.markForCheck()}onDragEnd(e){this.isDragging&&(e.stopPropagation(),e.preventDefault(),this.isDragging=!1,this.dragEnabled=!1,this.saveWidgetPosition())}onDocumentMouseMove(e){this.isDragging&&this.dragEnabled&&this.onDragMove(e),this.isModalDragging&&this.modalDragEnabled&&this.onModalDragMove(e)}onDocumentMouseUp(e){this.isDragging&&this.onDragEnd(e),this.isModalDragging&&this.onModalDragEnd(e)}onModalHeaderMouseDown(e){let t=Date.now(),n=t-this.lastModalClickTime;if(n<this.DOUBLE_CLICK_THRESHOLD&&n>0){e.stopPropagation(),e.preventDefault(),this.modalDragEnabled=!0,this.isModalDragging=!0;let r=e.target.closest(".widget-dropdown");if(!r)return;let a=r.getBoundingClientRect();this.modalDragOffset={x:e.clientX-a.left,y:e.clientY-a.top},this.modalPosition={x:a.left,y:a.top},this.lastModalClickTime=0,this.cdr.markForCheck()}else this.lastModalClickTime=t}onModalDragStart(e){}onModalDragMove(e){if(!this.isModalDragging||!this.modalDragEnabled)return;e.stopPropagation(),e.preventDefault();let t=window.innerWidth,n=window.innerHeight,r=e.clientX-this.modalDragOffset.x,a=e.clientY-this.modalDragOffset.y;r=Math.max(0,Math.min(r,t-400)),a=Math.max(0,Math.min(a,n-500));let s={x:r,y:a};this.modalPosition=s,this.widgetPosition={x:r,y:a-70},this.cdr.markForCheck()}onModalDragEnd(e){this.isModalDragging&&(e.stopPropagation(),e.preventDefault(),this.isModalDragging=!1,this.saveWidgetPosition())}applySuggestion(e){if(!this.editor){this.showToast("Editor not initialized","error");return}let t=this.failedEdits[e];if(!t||!t.find){this.showToast("Invalid edit data","error");return}let n=document.querySelector(".gjs-frame");if(!n||!n.contentDocument){this.showToast("Editor iframe not found","error");return}this.clearHighlights(n.contentDocument),this.highlightMatches(n.contentDocument,t.find,t.replace)}highlightMatches(e,t,n){let r=e.body;this.overlayContainer=e.createElement("div"),this.overlayContainer.id="ai-overlay-container",this.overlayContainer.setAttribute("data-gjs-type","temporary-overlay"),this.overlayContainer.setAttribute("data-gjs-removable","false"),this.overlayContainer.setAttribute("data-gjs-draggable","false"),this.overlayContainer.setAttribute("data-gjs-editable","false"),this.overlayContainer.setAttribute("data-gjs-selectable","false"),this.overlayContainer.setAttribute("data-gjs-hoverable","false"),this.overlayContainer.setAttribute("data-gjs-copyable","false"),this.overlayContainer.style.cssText=`
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
    `,r.appendChild(this.overlayContainer);let a=this.findAllTextMatches(r,t);if(a.length===0){this.showToast(`\u274C "${t}" not found`,"error"),this.clearHighlights(e);return}a.forEach((s,c)=>{this.createSimpleOverlay(e,s,c+1)}),this.showToast(`\u{1F50D} Found ${a.length} match(es)

Find: "${this.truncateText(t,30)}"
Replace with: "${this.truncateText(n,30)}"

Use Ctrl+F to find and replace manually`,"info"),this.overlays.length>0&&this.overlays[0].overlayElement.scrollIntoView({behavior:"smooth",block:"center"})}createSimpleOverlay(e,t,n){if(!this.overlayContainer)return;let r=t.getBoundingClientRect(),a=e.body.getBoundingClientRect(),s=e.documentElement.scrollTop||e.body.scrollTop,c=e.createElement("div");c.style.cssText=`
      position: absolute;
      left: ${r.left-a.left}px;
      top: ${r.top-a.top+s}px;
      width: ${r.width}px;
      height: ${r.height}px;
      background: rgba(255, 235, 59, 0.4);
      border: 2px solid #ffd700;
      border-radius: 4px;
      pointer-events: none;
      box-sizing: border-box;
    `;let d=e.createElement("div");d.textContent=n.toString(),d.style.cssText=`
      position: absolute;
      left: ${r.left-a.left+r.width+4}px;
      top: ${r.top-a.top+s-12}px;
      background: #667eea;
      color: white;
      font-size: 11px;
      font-weight: bold;
      padding: 3px 7px;
      border-radius: 12px;
      pointer-events: none;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      z-index: 10000;
    `,this.overlayContainer.appendChild(c),this.overlayContainer.appendChild(d),this.overlays.push({id:`overlay-${n}`,range:t.cloneRange(),rect:r,overlayElement:c,badgeElement:d,matchNumber:n,searchText:"",replaceText:""})}findAllTextMatches(e,t){let n=[],r=t.toLowerCase(),a=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:c=>{let d=c.parentElement;if(!d)return NodeFilter.FILTER_REJECT;let p=d.tagName.toLowerCase();return p==="script"||p==="style"||p==="noscript"||d.id==="ai-overlay-container"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),s;for(;s=a.nextNode();){let d=(s.textContent||"").toLowerCase(),p=0,f;for(;(f=d.indexOf(r,p))!==-1;){let h=document.createRange();h.setStart(s,f),h.setEnd(s,f+t.length),n.push(h),p=f+t.length}}return n}clearHighlights(e){let t=e.getElementById("ai-overlay-container");t&&t.remove(),this.overlays=[],this.overlayContainer=null}onCheckPreview(){return Cn(this,null,function*(){if(!this.editor||!this.templateId)return;this.removeAllHighlights();let e=this.editor.Canvas.getFrameEl();if(e&&e.contentDocument&&e.contentDocument.body.offsetHeight,yield new Promise(a=>setTimeout(a,300)),this.templateId.startsWith("temp_")){let a=this.editor.getHtml(),s=this.editor.getCss();a=this.cleanHtmlFromOverlays(a);let c=`<style>${s}</style>${a}`,d=yield this.promptTemplateName();if(!d)return;let p=yield this.saveNewTemplate(d,c);if(!p)return;this.templateId=p,localStorage.removeItem("visual_editor_temp_id")}this.removeAllHighlights(),yield new Promise(a=>setTimeout(a,100));try{let a=this.editor.getHtml(),s=this.editor.getCss();if(a=this.cleanHtmlFromOverlays(a),a&&a.trim()){this.templateState.saveEditorProgress(this.templateId,a,s);let c={html:a,css:s,templateId:this.templateId,savedAt:new Date().toISOString()};localStorage.setItem(`visual_editor_${this.templateId}_progress`,JSON.stringify(c))}}catch{}let t=localStorage.getItem(`visual_editor_${this.templateId}_editing_mode`),n=`visual_editor_${this.templateId}_variant_meta`,r=localStorage.getItem(n);if(t==="variant"&&r)try{let a=JSON.parse(r),{runId:s,no:c}=a,d=this.editor.getHtml(),p=this.editor.getCss();d=this.cleanHtmlFromOverlays(d);let f=`<style>${p}</style>${d}`;sessionStorage.setItem("visual_editor_edited_html",f),sessionStorage.setItem("visual_editor_return_use_variant","true"),yield this.router.navigate(["/qa",this.templateId,"use",s,c],{replaceUrl:!1,skipLocationChange:!1})}catch{let s=`visual_editor_${this.templateId}_return_flag`;localStorage.setItem(s,"true"),this.router.navigate(["/qa",this.templateId])}else{let a=this.editor.getHtml(),s=this.editor.getCss();a=this.cleanHtmlFromOverlays(a);let c=`<style>${s}</style>${a}`,d=localStorage.getItem(`template_state_${this.templateId}_editing_context`);if(d)try{let f=JSON.parse(d);f.type==="golden"?localStorage.setItem(`visual_editor_${this.templateId}_golden_html`,c):f.type==="original"&&localStorage.setItem(`template_state_${this.templateId}_edited`,c)}catch{}let p=`visual_editor_${this.templateId}_return_flag`;localStorage.setItem(p,"true"),this.router.navigate(["/qa",this.templateId])}})}copyTextToClipboard(e,t){t&&t.stopPropagation(),navigator.clipboard.writeText(e).then(()=>{this.showToast(`Copied: "${this.truncateText(e,30)}"`,"success")}).catch(n=>{this.showToast("Copy failed. Please try again.","error")})}removeAllHighlights(){try{let e=document.querySelector("iframe#gjs");if(e||(e=document.querySelector(".gjs-frame")),e||(e=document.querySelector("iframe")),e&&e.contentDocument){let t=e.contentDocument,n=t.getElementById("ai-overlay-container");n&&n.remove();let r=t.querySelectorAll('span[data-ai-highlight="true"]');r.length>0&&(r.forEach(a=>{let s=t.createTextNode(a.textContent||"");a.parentNode?.replaceChild(s,a)}),t.body.normalize()),this.overlays=[],this.overlayContainer=null}}catch{}}cleanHtmlFromOverlays(e){if(!e)return e;let t=e.replace(/<div[^>]*id=["']ai-overlay-container["'][^>]*>[\s\S]*?<\/div>/gi,"");return t=t.replace(/<span[^>]*data-ai-highlight=["']true["'][^>]*>(.*?)<\/span>/gi,"$1"),t=t.replace(/background:\s*rgba\(255,\s*235,\s*59,\s*0\.4\);?/gi,""),t=t.replace(/background-color:\s*rgba\(255,\s*235,\s*59,\s*0\.4\);?/gi,""),t=t.replace(/<[^>]*data-gjs-type=["']temporary-overlay["'][^>]*>[\s\S]*?<\/[^>]+>/gi,""),t}searchAndReplaceText(e,t,n){n&&n.stopPropagation();try{let r=document.querySelector("iframe#gjs");if(r||(r=document.querySelector(".gjs-frame")),r||(r=document.querySelector("iframe")),!r||!r.contentDocument){this.showToast("Editor not ready","warning");return}let a=r.contentDocument,s=a.body;a.querySelectorAll('span[data-ai-highlight="true"]').forEach(h=>{let v=a.createTextNode(h.textContent||"");h.parentNode?.replaceChild(v,h)});let d=a.createTreeWalker(s,NodeFilter.SHOW_TEXT,null),p,f=!1;for(;p=d.nextNode();){let h=p.textContent||"",v=e.toLowerCase();if(h.toLowerCase().includes(v)){let C=p.parentElement;if(C){C.scrollIntoView({behavior:"smooth",block:"center"});let b=a.createRange(),x=h.toLowerCase().indexOf(v);b.setStart(p,x),b.setEnd(p,x+e.length);let w=a.createElement("span");w.setAttribute("data-ai-highlight","true"),w.style.cssText="background-color: yellow !important; color: black !important; padding: 2px;";try{b.surroundContents(w),f=!0,this.showToast(`Found "${this.truncateText(e,25)}"`,"success");break}catch{}}}}f||this.showToast("Not found","warning")}catch{}}searchTextInPage(e,t){t&&t.stopPropagation();try{let n=document.querySelector("iframe#gjs");if(n||(n=document.querySelector(".gjs-frame")),n||(n=document.querySelector("iframe")),!n||!n.contentWindow||!n.contentDocument){this.showToast("Editor not ready","warning");return}let r=n.contentDocument,a=r.body,c=(a.innerText||a.textContent||"").toLowerCase(),d=e.toLowerCase();if(c.includes(d)){let p=r.createTreeWalker(a,NodeFilter.SHOW_TEXT,null),f,h=!1;for(;f=p.nextNode();){let v=f.textContent||"";if(v.toLowerCase().includes(d)){let C=f.parentElement;if(C){C.scrollIntoView({behavior:"smooth",block:"center"});let b=r.createRange(),x=v.toLowerCase().indexOf(d);b.setStart(f,x),b.setEnd(f,x+e.length);let w=r.createElement("span");w.style.cssText=`
                background-color: yellow !important;
                color: black !important;
                padding: 2px 4px;
                border-radius: 3px;
                box-shadow: 0 0 0 3px rgba(255, 235, 59, 0.5);
                font-weight: bold;
              `;try{b.surroundContents(w),setTimeout(()=>{if(w.parentNode){let P=r.createTextNode(w.textContent||"");w.parentNode.replaceChild(P,w)}},5e3)}catch{let M=r.getSelection();M&&(M.removeAllRanges(),M.addRange(b))}h=!0,this.showToast(`Found "${this.truncateText(e,30)}"`,"success");break}}}h||this.showToast("Found in content but could not highlight","warning")}else navigator.clipboard.writeText(e).then(()=>{this.showToast("Not found. Copied - try Ctrl+F","warning")}).catch(()=>{this.showToast("Not found","warning")})}catch{this.showToast("Press Ctrl+F to search","info")}}makeTextCopyable(e,t){e.style.cursor="pointer",e.title="Click to copy",e.addEventListener("click",n=>{n.stopPropagation(),this.copyTextToClipboard(t)})}showToast(e,t="info"){let n=document.createElement("div"),r="",a="";switch(t){case"success":r="\u2713",a="#10b981";break;case"error":r="\u2715",a="#ef4444";break;case"warning":r="\u26A0",a="#f59e0b";break;case"info":r="\u2139",a="#3b82f6";break}n.style.cssText=`
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: ${a};
      color: white;
      padding: 16px 20px;
      border-radius: 10px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      z-index: 10000;
      font-weight: 600;
      font-size: 14px;
      max-width: 400px;
      white-space: pre-line;
      display: flex;
      align-items: center;
      gap: 10px;
    `,n.innerHTML=`
      <span style="font-size: 18px; line-height: 1; display: flex; align-items: center; flex-shrink: 0;">${r}</span>
      <span style="line-height: 1.4;">${e}</span>
    `,document.body.appendChild(n),setTimeout(()=>{n.remove()},t==="info"?1e4:3e3)}truncateText(e,t){return e.length<=t?e:e.substring(0,t)+"..."}isEditApplied(e){if(!this.templateId)return!1;let t=`${this.APPLIED_EDITS_KEY}_${this.templateId}`,n=sessionStorage.getItem(t);if(!n)return!1;try{return JSON.parse(n).includes(e)}catch{return!1}}getPendingEditsCount(){return this.failedEdits.filter((e,t)=>!this.isEditApplied(t)).length}selectText(e){let t=e.target;if(window.getSelection&&document.createRange){let n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n?.removeAllRanges(),n?.addRange(r)}}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=Sn({type:o,selectors:[["app-visual-editor"]],viewQuery:function(t,n){if(t&1&&co(eA,5),t&2){let r;fi(r=hi())&&(n.editorContainer=r.first)}},hostBindings:function(t,n){t&1&&rt("mousemove",function(a){return n.onDocumentMouseMove(a)},!1,uc)("mouseup",function(a){return n.onDocumentMouseUp(a)},!1,uc)},standalone:!0,features:[En],decls:36,vars:7,consts:[["editorContainer",""],["fileInput",""],[1,"visual-editor-page"],[1,"editor-header"],["mat-button","",1,"back-btn",3,"click"],[1,"header-title"],[1,"header-actions"],["mat-stroked-button","",1,"action-btn",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","",1,"action-btn","primary",3,"click"],["class","loading-container",4,"ngIf"],[1,"editor-wrapper"],["id","gjs",1,"grapesjs-editor"],["class","import-modal",4,"ngIf"],["class","floating-widget-container",3,"modal-drag-enabled","left","top",4,"ngIf"],["class","name-dialog-overlay",4,"ngIf"],[1,"loading-container"],["diameter","48","mode","indeterminate"],[1,"import-modal"],[1,"modal-backdrop",3,"click"],[1,"modal-content"],[1,"modal-header"],["mat-icon-button","",3,"click"],[1,"import-tabs"],[1,"tab-btn",3,"click"],[1,"modal-body"],["class","file-upload-container",4,"ngIf"],["class","paste-code-container",4,"ngIf"],[1,"modal-footer"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"file-upload-container"],[1,"upload-area"],["type","file","accept",".html,.htm",2,"display","none",3,"change"],[1,"upload-content",3,"click"],[1,"upload-icon"],[1,"file-types"],[1,"file-badge"],[1,"paste-code-container"],["placeholder","Paste your HTML code here...","rows","15",3,"ngModelChange","ngModel"],[1,"floating-widget-container"],[1,"floating-button",3,"mousedown","click","touchstart","touchmove","touchend"],[1,"widget-icon"],["class","count-badge",4,"ngIf"],["class","drag-indicator",4,"ngIf"],["class","widget-dropdown",3,"modal-dragging","modal-drag-enabled","left","top",4,"ngIf"],[1,"count-badge"],[1,"drag-indicator"],[1,"widget-dropdown"],[1,"dropdown-header",3,"mousedown"],[1,"edit-count"],[1,"dropdown-content"],["class","suggestion-item",3,"applied",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"dropdown-footer"],[1,"suggestion-item"],[1,"status-indicator"],[4,"ngIf"],[1,"suggestion-content"],[1,"text-block","find-text"],[1,"label"],["title","Click to find and replace",1,"searchable",3,"click"],[1,"text-block","replace-text"],["title","Click to copy",1,"copyable",3,"click"],["class","reason",4,"ngIf"],[1,"reason"],[1,"empty-state"],[1,"name-dialog-overlay"],[1,"name-dialog-container"],[1,"name-dialog-content"],[1,"dialog-header"],[1,"dialog-body"],[1,"template-name-field"],[1,"field-label"],["type","text","placeholder","e.g., Welcome Email, Newsletter Template","maxlength","100","autofocus","",1,"template-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"field-hint"],["class","char-count",4,"ngIf"],["class","hint-text",4,"ngIf"],["class","field-error",4,"ngIf"],[1,"dialog-actions"],["mat-button","",1,"cancel-btn",3,"click","disabled"],["mat-raised-button","","color","primary",1,"save-btn",3,"click","disabled"],["diameter","20","class","spinner-inline",4,"ngIf"],[1,"char-count"],[1,"hint-text"],[1,"field-error"],["diameter","20",1,"spinner-inline"]],template:function(t,n){if(t&1){let r=jt();S(0,"div",2)(1,"div",3)(2,"button",4),rt("click",function(){return nt(r),it(n.goBack())}),S(3,"mat-icon"),Y(4,"arrow_back"),L(),S(5,"span"),Y(6,"Back to Dashboard"),L()(),S(7,"div",5)(8,"mat-icon"),Y(9,"design_services"),L(),S(10,"h1"),Y(11,"Visual Template Editor"),L()(),S(12,"div",6)(13,"button",7),rt("click",function(){return nt(r),it(n.openImportModal())}),S(14,"mat-icon"),Y(15,"file_upload"),L(),Y(16," Import HTML "),L(),S(17,"button",7),rt("click",function(){return nt(r),it(n.saveTemplate())}),S(18,"mat-icon"),Y(19,"save"),L(),Y(20," Save "),L(),S(21,"button",8),rt("click",function(){return nt(r),it(n.onCheckPreview())}),S(22,"mat-icon"),Y(23,"preview"),L(),Y(24,` Check Preview
`),L(),S(25,"button",9),rt("click",function(){return nt(r),it(n.exportHTML())}),S(26,"mat-icon"),Y(27,"file_download"),L(),Y(28," Export HTML "),L()()(),tt(29,tA,4,0,"div",10),S(30,"div",11),je(31,"div",12,0),L(),tt(33,oA,29,7,"div",13)(34,hA,7,16,"div",14)(35,bA,24,10,"div",15),L()}t&2&&(le(21),Ce("disabled",n.loading),le(8),Ce("ngIf",n.loading),le(),Kt("hidden",n.loading),le(3),Ce("ngIf",n.showImportModal),le(),Ce("ngIf",n.showFloatingWidget),le(),Ce("ngIf",n.showNameDialog))},dependencies:[qn,ya,xi,go,fo,ho,$d,mo,Wi,Xr,_o,qi,Ki,yo,Qd,Xs,el],styles:[`@charset "UTF-8";.visual-editor-page{display:flex;flex-direction:column;height:100vh;width:100%;background:#f8fafc;overflow:hidden}.editor-header{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;background:#fff;border-bottom:1px solid #e2e8f0;box-shadow:0 1px 3px #0000000d;z-index:100;flex-shrink:0}.back-btn{display:flex;align-items:center;gap:.5rem;color:#64748b}.back-btn:hover{color:#6d28d9}.header-title{display:flex;align-items:center;gap:.75rem}.header-title mat-icon{color:#f59e0b;font-size:28px;width:28px;height:28px}.header-title h1{margin:0;font-size:1.25rem;font-weight:600;color:#1e293b}.header-actions{display:flex;gap:.75rem}.action-btn{display:flex;align-items:center;gap:.5rem}.action-btn.primary{background:#6d28d9;color:#fff}.action-btn.primary:hover{background:#5b21b6}.loading-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:calc(100vh - 80px);gap:1rem}.loading-container p{color:#64748b;font-size:1rem}.editor-wrapper{flex:1;overflow:hidden;position:relative;min-height:0;height:100%}.editor-wrapper.hidden{display:none}.grapesjs-editor{height:100%;width:100%}.import-modal{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center}.modal-backdrop{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content{position:relative;background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;width:90%;max-width:700px;max-height:80vh;display:flex;flex-direction:column;overflow:hidden}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;border-bottom:1px solid #e2e8f0}.modal-header h2{margin:0;font-size:1.25rem;font-weight:600;color:#1e293b;display:flex;align-items:center;gap:.5rem}.modal-header h2 mat-icon{color:#6d28d9}.import-tabs{display:flex;border-bottom:2px solid #e2e8f0;background:#f8fafc}.import-tabs .tab-btn{flex:1;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;background:transparent;border:none;color:#64748b;font-size:.9375rem;font-weight:500;cursor:pointer;transition:all .3s ease;position:relative}.import-tabs .tab-btn mat-icon{font-size:20px;width:20px;height:20px}.import-tabs .tab-btn:hover{background:#6d28d90d;color:#6d28d9}.import-tabs .tab-btn.active{color:#6d28d9;background:#fff}.import-tabs .tab-btn.active:after{content:"";position:absolute;bottom:-2px;left:0;right:0;height:2px;background:linear-gradient(90deg,#8b5cf6,#6d28d9)}.modal-body{flex:1;padding:1.5rem;overflow-y:auto;min-height:350px}.modal-body textarea{width:100%;min-height:300px;padding:1rem;border:2px solid #e2e8f0;border-radius:8px;font-family:Courier New,monospace;font-size:.875rem;resize:vertical}.modal-body textarea:focus{outline:none;border-color:#6d28d9}.modal-body textarea::placeholder{color:#94a3b8}.file-upload-container{height:100%;display:flex;align-items:center;justify-content:center}.upload-area{width:100%;min-height:300px;display:flex;align-items:center;justify-content:center}.upload-content{width:100%;max-width:400px;padding:3rem 2rem;border:3px dashed #cbd5e1;border-radius:16px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);text-align:center;cursor:pointer;transition:all .3s ease}.upload-content:hover{border-color:#6d28d9;background:linear-gradient(135deg,#faf5ff,#f3e8ff);transform:translateY(-4px);box-shadow:0 8px 24px #6d28d926}.upload-content:hover .upload-icon mat-icon{transform:scale(1.1);color:#6d28d9}.upload-content:active{transform:translateY(-2px)}.upload-icon{margin-bottom:1rem}.upload-icon mat-icon{font-size:64px;width:64px;height:64px;color:#94a3b8;transition:all .3s ease}.upload-content h3{margin:0 0 .5rem;font-size:1.125rem;font-weight:600;color:#1e293b}.upload-content p{margin:0 0 1.5rem;font-size:.875rem;color:#64748b}.file-types{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap}.file-badge{display:inline-block;padding:.25rem .75rem;background:#fff;border:1px solid #e2e8f0;border-radius:6px;font-size:.75rem;font-weight:600;color:#6d28d9;font-family:Courier New,monospace}.paste-code-container{height:100%}.modal-footer{display:flex;gap:.75rem;justify-content:flex-end;padding:1.5rem;border-top:1px solid #e2e8f0}.modal-footer .primary{background:#6d28d9;color:#fff}.modal-footer .primary:hover:not(:disabled){background:#5b21b6}.modal-footer .primary:disabled{opacity:.5;cursor:not-allowed}.check-preview-btn{background:linear-gradient(135deg,#8b5cf6,#6d28d9)!important;color:#fff!important;box-shadow:0 4px 12px #6d28d94d;transition:all .3s ease}.check-preview-btn mat-icon{margin-right:.5rem}.check-preview-btn:hover:not(:disabled){box-shadow:0 6px 20px #6d28d966;transform:translateY(-2px)}.check-preview-btn:active:not(:disabled){transform:translateY(0)}.check-preview-btn:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.header-actions{display:flex;gap:12px;align-items:center}.floating-widget-container{position:fixed;z-index:999;pointer-events:none;transition:left .1s ease-out,top .1s ease-out}.floating-widget-container.modal-drag-enabled{transition:none}.floating-widget-container>*{pointer-events:auto}.floating-button{position:relative;width:60px;height:60px;background:linear-gradient(135deg,#3b82f6,#2563eb);border-radius:50%;box-shadow:0 4px 20px #3b82f666;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-user-select:none;user-select:none}.floating-button:hover{transform:scale(1.1);box-shadow:0 6px 28px #3b82f680}.floating-button:active{transform:scale(.95)}.floating-button.open{background:linear-gradient(135deg,#ef4444,#dc2626);box-shadow:0 4px 20px #ef444466}.floating-button.open .widget-icon{transform:rotate(90deg)}.floating-button.drag-enabled{cursor:move!important;box-shadow:0 6px 28px #3b82f699;transform:scale(1.05)}.floating-button.drag-enabled .widget-icon{opacity:.3}.floating-button.pulse-animate{animation:pulse-attention 2s ease-in-out infinite}.floating-button .widget-icon{color:#fff;font-size:28px;width:28px;height:28px;transition:transform .3s ease,opacity .3s ease}.floating-button .count-badge{position:absolute;top:-4px;right:-4px;min-width:24px;height:24px;background:linear-gradient(135deg,#f59e0b,#d97706);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;padding:0 6px;box-shadow:0 2px 8px #f59e0b66;animation:badge-pop .4s cubic-bezier(.34,1.56,.64,1)}.floating-button .drag-indicator{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;z-index:10}.floating-button .drag-indicator mat-icon{font-size:32px;width:32px;height:32px;color:#fff;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3));animation:pulse-drag 1s ease-in-out infinite}@keyframes pulse-drag{0%,to{transform:scale(1);opacity:.8}50%{transform:scale(1.2);opacity:1}}@keyframes pulse-modal-drag{0%,to{transform:scale(1);opacity:.6}50%{transform:scale(1.15);opacity:1}}.widget-dropdown{position:fixed;top:70px;left:0;width:380px;max-height:400px;background:#fff;border-radius:16px;box-shadow:0 12px 48px #0003;display:flex;flex-direction:column;overflow:hidden;border:1px solid rgba(0,0,0,.08);transition:box-shadow .3s ease}.widget-dropdown.modal-drag-enabled{box-shadow:0 16px 64px #6366f14d;border:2px solid rgba(99,102,241,.4);cursor:move}.widget-dropdown.modal-dragging{cursor:grabbing!important;box-shadow:0 20px 80px #6366f180;transform:scale(1.02);z-index:999}.widget-dropdown .dropdown-header{display:flex;align-items:center;justify-content:space-between;position:relative;cursor:move;padding:16px 20px;background:linear-gradient(135deg,#3b82f614,#2563eb14);border-bottom:1px solid rgba(0,0,0,.06)}.widget-dropdown .dropdown-header.draggable-header{background:linear-gradient(135deg,#6366f10d,#8b5cf60d);border-bottom:2px solid rgba(99,102,241,.2)}.widget-dropdown .dropdown-header h3{margin:0;font-size:16px;font-weight:600;color:#1e293b;display:flex;align-items:center;gap:8px}.widget-dropdown .dropdown-header h3 mat-icon{color:#f59e0b;font-size:20px;width:20px;height:20px}.widget-dropdown .dropdown-header .edit-count{font-size:12px;font-weight:700;color:#fff;background:linear-gradient(135deg,#3b82f6,#2563eb);padding:4px 12px;border-radius:12px;box-shadow:0 2px 8px #3b82f64d}.widget-dropdown .dropdown-content{flex:1;overflow-y:auto;padding:12px}.widget-dropdown .dropdown-content::-webkit-scrollbar{width:6px}.widget-dropdown .dropdown-content::-webkit-scrollbar-track{background:#00000008}.widget-dropdown .dropdown-content::-webkit-scrollbar-thumb{background:#3b82f64d;border-radius:3px}.widget-dropdown .dropdown-content::-webkit-scrollbar-thumb:hover{background:#3b82f680}.widget-dropdown .dropdown-footer{padding:12px 16px;border-top:1px solid rgba(0,0,0,.06);display:flex;justify-content:flex-end}.widget-dropdown .dropdown-footer button{color:#64748b}.widget-dropdown .dropdown-footer button mat-icon{margin-right:4px}.widget-dropdown .dropdown-footer button:hover{color:#ef4444;background:#ef444414}.suggestion-item{display:flex;align-items:flex-start;gap:12px;padding:14px;background:#fff;border:2px solid rgba(0,0,0,.08);border-radius:12px;margin-bottom:10px;transition:all .3s ease}.suggestion-item:last-child{margin-bottom:0}.suggestion-item:hover:not(.applied){border-color:#3b82f64d;box-shadow:0 4px 16px #3b82f61a;transform:translate(4px)}.suggestion-item.applied{opacity:.6;background:#10b98108;border-color:#10b98133}.suggestion-item.selected{border-color:#f59e0b;background:#f59e0b0d}.suggestion-item .status-indicator{flex-shrink:0;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.suggestion-item .status-indicator mat-icon{font-size:18px;width:18px;height:18px}.suggestion-item .status-indicator.pending{background:linear-gradient(135deg,#f59e0b26,#fbbf2426);border:2px solid rgba(245,158,11,.3)}.suggestion-item .status-indicator.pending mat-icon{color:#f59e0b}.suggestion-item .status-indicator.success{background:linear-gradient(135deg,#10b98126,#05966926);border:2px solid rgba(16,185,129,.3)}.suggestion-item .status-indicator.success mat-icon{color:#10b981}.suggestion-item .status-indicator.failed{background:linear-gradient(135deg,#ef444426,#dc262626);border:2px solid rgba(239,68,68,.3)}.suggestion-item .status-indicator.failed mat-icon{color:#ef4444}.suggestion-item .suggestion-content{flex:1;display:flex;flex-direction:column;gap:8px;min-width:0;overflow:visible}.suggestion-item .suggestion-content .text-block{display:flex;flex-direction:column;gap:4px}.suggestion-item .suggestion-content .text-block .label{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#64748b}.suggestion-item .suggestion-content .text-block code{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:13px;padding:8px 10px;border-radius:8px;display:block;word-break:break-word;cursor:text;transition:all .2s ease}.suggestion-item .suggestion-content .text-block code:hover{box-shadow:0 0 0 2px #3b82f633}.suggestion-item .suggestion-content .text-block.find-text code{background:linear-gradient(135deg,#ef44441a,#dc26261a);border:1px solid rgba(239,68,68,.2);color:#991b1b}.suggestion-item .suggestion-content .text-block.replace-text code{background:linear-gradient(135deg,#10b9811a,#0596691a);border:1px solid rgba(16,185,129,.2);color:#065f46}.suggestion-item .suggestion-content .reason{display:flex;align-items:center;gap:8px;font-size:12px;color:#64748b;font-style:italic;padding:8px 12px;background:#00000005;border-radius:6px;overflow:visible}.suggestion-item .suggestion-content .reason mat-icon{font-size:16px;width:16px;height:16px;color:#3b82f6;flex-shrink:0}.suggestion-item .apply-btn{flex-shrink:0;width:36px;height:36px;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border-radius:50%;box-shadow:0 2px 8px #10b9814d;transition:all .3s ease}.suggestion-item .apply-btn mat-icon{font-size:20px;width:20px;height:20px}.suggestion-item .apply-btn:hover{transform:scale(1.1);box-shadow:0 4px 16px #10b98166}.suggestion-item .apply-btn:active{transform:scale(.95)}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}.empty-state mat-icon{font-size:64px;width:64px;height:64px;color:#10b981;margin-bottom:12px}.empty-state p{margin:0;font-size:16px;font-weight:600;color:#64748b}@keyframes pulse-attention{0%,to{box-shadow:0 4px 20px #3b82f666;transform:scale(1)}50%{box-shadow:0 8px 40px #3b82f6cc,0 0 0 12px #3b82f633;transform:scale(1.05)}}@keyframes badge-pop{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}@media (max-width: 768px){.floating-button{width:50px;height:50px}.floating-button .widget-icon{font-size:24px;width:24px;height:24px}.floating-button .count-badge{min-width:20px;height:20px;font-size:11px}.widget-dropdown{width:320px;max-height:350px}.widget-dropdown .dropdown-header h3{font-size:14px}.widget-dropdown .suggestion-item{padding:12px;gap:10px}.widget-dropdown .suggestion-item .status-indicator{width:28px;height:28px}.widget-dropdown .suggestion-item .status-indicator mat-icon{font-size:16px;width:16px;height:16px}.widget-dropdown .suggestion-item .suggestion-content .text-block code{font-size:12px;padding:6px 8px}.widget-dropdown .suggestion-item .apply-btn{width:32px;height:32px}.widget-dropdown .suggestion-item .apply-btn mat-icon{font-size:18px;width:18px;height:18px}}@media (max-width: 480px){.floating-button{width:44px;height:44px}.floating-button .widget-icon{font-size:20px;width:20px;height:20px}.floating-button .count-badge{min-width:18px;height:18px;font-size:10px}.widget-dropdown{width:calc(100vw - 32px);max-width:280px;max-height:300px}.modal-content{width:95%;max-height:90vh}.modal-header{padding:1rem}.modal-header h2{font-size:1rem}.modal-header h2 mat-icon{font-size:18px;width:18px;height:18px}.import-tabs .tab-btn{padding:.75rem;font-size:.8125rem;flex-direction:column;gap:.25rem}.import-tabs .tab-btn span{font-size:.75rem}.modal-body{padding:1rem}.modal-body textarea{min-height:200px;font-size:.8125rem}.upload-content{padding:2rem 1rem}.upload-content h3{font-size:1rem}.upload-content p{font-size:.8125rem}.upload-icon mat-icon{font-size:48px;width:48px;height:48px}.modal-footer{padding:1rem;flex-wrap:wrap}.modal-footer button{flex:1;min-width:100px}}@media (prefers-reduced-motion: reduce){.floating-button.pulse-animate{animation:none}.status-indicator.pending mat-icon{animation:none}*{animation-duration:.01ms!important;transition-duration:.01ms!important}}::ng-deep .match-number-badge{position:absolute;top:-8px;right:-8px;min-width:18px;height:18px;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;padding:2px 4px;box-shadow:0 2px 6px #ef444480;z-index:10;pointer-events:none}@keyframes slideInRight{0%{opacity:0;transform:translate(100px)}to{opacity:1;transform:translate(0)}}@keyframes slideOutRight{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:translate(100px)}}.custom-toast{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;letter-spacing:.3px}::ng-deep .ai-highlight{background:#ffeb3b66!important;border:2px solid #ffd700;border-radius:4px;padding:2px 4px;box-sizing:border-box}.copyable{cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease}.copyable:hover{background:#a855f71a!important;transform:scale(1.02)}.copyable:active{transform:scale(.98)}.searchable{cursor:text;-webkit-user-select:text;user-select:text;transition:all .2s ease}.searchable:hover{background:#3b82f626!important;transform:scale(1.02);box-shadow:0 0 0 2px #3b82f64d}.searchable:active{transform:scale(.98)}.name-dialog-overlay{position:fixed;inset:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px}.name-dialog-container{background:#fff;border-radius:16px;box-shadow:0 24px 48px #0003;max-width:500px;width:100%;animation:slideInUp .3s cubic-bezier(.4,0,.2,1)}@keyframes slideInUp{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.name-dialog-content{padding:32px}.dialog-header{margin-bottom:24px}.dialog-header h2{margin:0 0 8px;font-size:24px;font-weight:600;color:#1e293b}.dialog-header p{margin:0;font-size:14px;color:#64748b}.dialog-body{margin-bottom:24px}.dialog-body .template-name-field{width:100%}.dialog-body .template-name-field .field-label{display:block;font-size:14px;font-weight:500;color:#64748b;margin-bottom:8px}.dialog-body .template-name-field .template-input{width:100%;font-size:16px;padding:16px;border:2px solid #e2e8f0;border-radius:8px;background:#f8fafc;outline:none;transition:all .2s ease;font-family:inherit}.dialog-body .template-name-field .template-input::placeholder{color:#94a3b8}.dialog-body .template-name-field .template-input:focus{border-color:#667eea;background:#fff;box-shadow:0 0 0 3px #667eea1a}.dialog-body .template-name-field .template-input:hover:not(:focus){border-color:#cbd5e1}.dialog-body .template-name-field .field-hint{margin-top:8px;font-size:12px}.dialog-body .template-name-field .field-hint .char-count{color:#64748b}.dialog-body .template-name-field .field-hint .hint-text{color:#94a3b8}.dialog-body .template-name-field .field-error{margin-top:8px;font-size:12px;color:#ef4444;font-weight:500}.dialog-actions{display:flex;gap:12px;justify-content:flex-end}.dialog-actions button{min-width:120px;height:44px;font-weight:600}.dialog-actions button[mat-raised-button]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.dialog-actions button[mat-raised-button]:hover:not(:disabled){background:linear-gradient(135deg,#5568d3,#6a3f91);transform:translateY(-2px);box-shadow:0 8px 16px #667eea4d}.dialog-actions button[mat-raised-button]:disabled{opacity:.6;cursor:not-allowed}.dialog-actions button[mat-button]{color:#64748b}.dialog-actions button[mat-button]:hover:not(:disabled){background:#f1f5f9}@media (max-width: 600px){.name-dialog-container{max-width:100%;margin:20px}.name-dialog-content{padding:24px}.dialog-actions{flex-direction:column-reverse}.dialog-actions button{width:100%}}
`],encapsulation:2,data:{animation:[Xn("slideIn",[Nn(":enter",[Yt({opacity:0,transform:"translateY(-20px) scale(0.95)"}),In("300ms cubic-bezier(0.4, 0, 0.2, 1)",Yt({opacity:1,transform:"translateY(0) scale(1)"}))]),Nn(":leave",[In("200ms cubic-bezier(0.4, 0, 0.2, 1)",Yt({opacity:0,transform:"translateY(-20px) scale(0.95)"}))])])]}})}}return o})();var ab=(()=>{class o{canDeactivate(e){return e.canDeactivate?e.canDeactivate():!0}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275prov=ao({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var sb=[{path:"auth",component:z0},{path:"auth/callback",component:B0},{path:"auth/pending",component:U0},{path:"generate/:conversationId",component:W0,canActivate:[Vo],canDeactivate:[ab]},{path:"admin",loadComponent:()=>import("./chunk-XP6VHXLR.js").then(o=>o.AdminDashboardComponent),canActivate:[Vo,K0],runGuardsAndResolvers:"always"},{path:"",component:V0,canActivate:[Vo]},{path:"qa/:id",component:H0,canActivate:[Vo],canDeactivate:[sh]},{path:"qa/:id/use/:runId/:no",loadComponent:()=>import("./chunk-I3JOIRX7.js").then(o=>o.UseVariantPageComponent),canActivate:[Vo],canDeactivate:[sh]},{path:"qa/:id/use/:runId/:no/campaign",loadComponent:()=>import("./chunk-ALNTGUAL.js").then(o=>o.CampaignSetupPageComponent),canActivate:[Vo]},{path:"visual-editor",component:Wm,canActivate:[Vo]},{path:"visual-editor/:id",component:Wm,canActivate:[Vo]},{path:"**",redirectTo:""}];var lb=(o,i)=>{let e=Pt(Fi),t=Pt(Un),n=o.clone({withCredentials:!0});return i(n).pipe(ha(r=>{if(r.status===401)return o.url.includes("/api/auth/refresh")||o.url.includes("/api/auth/logout")||o.url.includes("/api/auth/google")?sc(()=>r):e.refreshToken().pipe(P1(()=>i(n)),ha(a=>sc(()=>a)));if(r.status===403){let a=r.error?.error||"",s=r.error?.code||"";return(s==="USER_INACTIVE"||s==="USER_NOT_APPROVED"||a.includes("deactivated")||a.includes("pending approval")||a.includes("Access denied"))&&!t.url.startsWith("/auth")&&e.logout().subscribe({next:()=>{let d=s==="USER_INACTIVE"||a.includes("deactivated")?"account_deactivated":a.includes("pending")?"pending_approval":"access_denied";t.navigate(["/auth"],{queryParams:{error:d},replaceUrl:!0})},error:d=>{t.navigate(["/auth"],{queryParams:{error:"access_denied"},replaceUrl:!0})}}),sc(()=>r)}return r.status>=500,sc(()=>r)}))};var El=(()=>{class o{constructor(e){this.db=e,this.MAX_CACHE_SIZE_MB=50,this.WARNING_THRESHOLD_PERCENT=80,this.MONITORING_INTERVAL_MS=3*60*60*1e3}checkStorageQuota(){return Cn(this,null,function*(){try{if("storage"in navigator&&"estimate"in navigator.storage){let e=yield navigator.storage.estimate(),t=e.usage||0,n=e.quota||0,r=n>0?t/n*100:0,a="healthy";return r>90?a="critical":r>this.WARNING_THRESHOLD_PERCENT&&(a="warning"),a==="critical"&&(yield this.emergencyCleanup()),{used:t,total:n,percentage:r,status:a}}return{used:0,total:0,percentage:0,status:"healthy"}}catch{return{used:0,total:0,percentage:0,status:"healthy"}}})}checkCacheHealth(){return Cn(this,null,function*(){try{let e=yield this.db.getCacheStats(),t=[],n=!0;return e.estimatedSizeMB>this.MAX_CACHE_SIZE_MB&&(t.push(`Cache size (${e.estimatedSizeMB}MB) exceeds limit (${this.MAX_CACHE_SIZE_MB}MB)`),n=!1),e.templateCount>40&&t.push(`High template count: ${e.templateCount}`),e.conversationCount>80&&t.push(`High conversation count: ${e.conversationCount}`),t.length>0,{stats:e,isHealthy:n,warnings:t}}catch{return{stats:null,isHealthy:!1,warnings:["Failed to check cache health"]}}})}emergencyCleanup(){return Cn(this,null,function*(){try{let t=(yield this.db.templates.orderBy("timestamp").reverse().toArray()).slice(10);for(let a of t)yield this.db.templates.delete(a.id);let r=(yield this.db.conversations.orderBy("timestamp").reverse().toArray()).slice(20);for(let a of r)yield this.db.conversations.delete(a.runId);yield this.db.cleanExpiredData()}catch{}})}periodicCleanup(){return Cn(this,null,function*(){try{yield this.db.cleanExpiredData(),(yield this.checkCacheHealth()).isHealthy||(yield this.db.cleanOldestTemplates(10),yield this.db.cleanOldestConversations(20))}catch{}})}displayStats(){return Cn(this,null,function*(){yield this.db.logCacheStats();let e=yield this.checkStorageQuota();!(yield this.checkCacheHealth()).isHealthy||e.status})}startMonitoring(){return Cn(this,null,function*(){yield this.periodicCleanup(),yield this.checkStorageQuota(),b1(this.MONITORING_INTERVAL_MS).subscribe(()=>Cn(this,null,function*(){yield this.periodicCleanup(),yield this.checkStorageQuota()}))})}static{this.\u0275fac=function(t){return new(t||o)(Us(Ro))}}static{this.\u0275prov=ao({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function wA(o){return()=>o.checkAuthStatus()}var cb={providers:[N1({eventCoalescing:!0}),z1(sb,B1()),D1(R1([lb])),L0(),{provide:Ro,useValue:new Ro},El,{provide:L1,useFactory:wA,deps:[Fi],multi:!0}]};var OA=["*",[["mat-toolbar-row"]]],PA=["*","mat-toolbar-row"],MA=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275dir=Fr({type:o,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return o})(),db=(()=>{class o{constructor(e,t,n){this._elementRef=e,this._platform=t,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(t){return new(t||o)(vn(so),vn(gc),vn(zd))}}static{this.\u0275cmp=Sn({type:o,selectors:[["mat-toolbar"]],contentQueries:function(t,n,r){if(t&1&&lo(r,MA,5),t&2){let a;fi(a=hi())&&(n._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,n){t&2&&(Gs(n.color?"mat-"+n.color:""),Kt("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",n._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[En],ngContentSelectors:PA,decls:2,vars:0,template:function(t,n){t&1&&(fc(OA),Qr(0),Qr(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return o})();var ub=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=Do({type:o})}static{this.\u0275inj=No({imports:[vo,vo]})}}return o})();var pb=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=Do({type:o})}static{this.\u0275inj=No({imports:[$1,vo,vo]})}}return o})();function SA(o,i){o&1&&je(0,"div",2)}var EA=new cc("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var hb=(()=>{class o{constructor(e,t,n,r,a){this._elementRef=e,this._ngZone=t,this._changeDetectorRef=n,this._animationMode=r,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new ma,this._mode="determinate",this._transitionendHandler=s=>{this.animationEnd.observers.length===0||!s.target||!s.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=r==="NoopAnimations",a&&(a.color&&(this.color=this._defaultColor=a.color),this.mode=a.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=fb(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=fb(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}static{this.\u0275fac=function(t){return new(t||o)(vn(so),vn(_a),vn(Ii),vn(ga,8),vn(EA,8))}}static{this.\u0275cmp=Sn({type:o,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(t,n){t&2&&(Ri("aria-valuenow",n._isIndeterminate()?null:n.value)("mode",n.mode),Gs("mat-"+n.color),Kt("_mat-animation-noopable",n._isNoopAnimation)("mdc-linear-progress--animation-ready",!n._isNoopAnimation)("mdc-linear-progress--indeterminate",n._isIndeterminate()))},inputs:{color:"color",value:[Fd.HasDecoratorInputTransform,"value","value",Tf],bufferValue:[Fd.HasDecoratorInputTransform,"bufferValue","bufferValue",Tf],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[Pf,En],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,n){t&1&&(S(0,"div",0),je(1,"div",1),tt(2,SA,1,0,"div",2),L(),S(3,"div",3),je(4,"span",4),L(),S(5,"div",5),je(6,"span",4),L()),t&2&&(le(),ki("flex-basis",n._getBufferBarFlexBasis()),le(),Mf(2,n.mode==="buffer"?2:-1),le(),ki("transform",n._getPrimaryBarTransform()))},styles:[`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}`],encapsulation:2,changeDetection:0})}}return o})();function fb(o,i=0,e=100){return Math.max(i,Math.min(e,o))}var mb=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=Do({type:o})}static{this.\u0275inj=No({imports:[vo]})}}return o})();function AA(o,i){if(o&1&&(S(0,"div",12)(1,"div",13)(2,"div",14)(3,"mat-icon"),Y(4),L(),S(5,"h3"),Y(6,"Cache Health"),L()(),S(7,"div",15),Y(8),L(),S(9,"p",16),Y(10),L()(),S(11,"div",17)(12,"div",14)(13,"mat-icon"),Y(14,"storage"),L(),S(15,"h3"),Y(16,"Browser Storage"),L()(),S(17,"div",18)(18,"div",19)(19,"span",20),Y(20,"Used Storage"),L(),S(21,"span",21),Y(22),L()(),je(23,"mat-progress-bar",22),S(24,"div",23),Y(25),L()(),S(26,"div",24)(27,"mat-icon",25),Y(28,"info"),L(),S(29,"span"),Y(30,"Browser allocates storage dynamically. Typical limit: 50-500 MB"),L()()(),S(31,"div",26)(32,"div",27)(33,"div",28)(34,"mat-icon"),Y(35,"article"),L()(),S(36,"div",29)(37,"div",30),Y(38,"Cached Templates"),L(),S(39,"div",31),Y(40),L(),S(41,"div",32),je(42,"div",33),L(),S(43,"div",34),Y(44),L()()(),S(45,"div",27)(46,"div",28)(47,"mat-icon"),Y(48,"chat"),L()(),S(49,"div",29)(50,"div",30),Y(51,"Conversations"),L(),S(52,"div",31),Y(53),L(),S(54,"div",32),je(55,"div",33),L(),S(56,"div",34),Y(57),L()()(),S(58,"div",27)(59,"div",28)(60,"mat-icon"),Y(61,"link"),L()(),S(62,"div",29)(63,"div",30),Y(64,"Valid Links"),L(),S(65,"div",31),Y(66),L(),S(67,"div",32),je(68,"div",33),L(),S(69,"div",34),Y(70," Link validation cache "),L()()(),S(71,"div",27)(72,"div",28)(73,"mat-icon"),Y(74,"data_usage"),L()(),S(75,"div",29)(76,"div",30),Y(77,"Cache Size"),L(),S(78,"div",31),Y(79),L(),S(80,"div",32),je(81,"div",33),L(),S(82,"div",34),Y(83),L()()()(),S(84,"div",35)(85,"div",14)(86,"mat-icon"),Y(87,"schedule"),L(),S(88,"h3"),Y(89,"Cache Lifecycle"),L()(),S(90,"div",36)(91,"div",37)(92,"div",38)(93,"mat-icon"),Y(94,"add_circle"),L()(),S(95,"div",39)(96,"h4"),Y(97,"Created"),L(),S(98,"p"),Y(99,"Cache is created automatically when you visit pages and load data"),L()()(),S(100,"div",37)(101,"div",40)(102,"mat-icon"),Y(103,"bolt"),L()(),S(104,"div",39)(105,"h4"),Y(106,"Active Use"),L(),S(107,"p"),Y(108,"Provides instant page loads (10-50ms) instead of API calls (500-1000ms)"),L()()(),S(109,"div",37)(110,"div",41)(111,"mat-icon"),Y(112,"schedule"),L()(),S(113,"div",39)(114,"h4"),Y(115,"Auto-Deletion"),L(),S(116,"p"),Y(117,"Cache expires after "),S(118,"strong"),Y(119),L(),Y(120," and is automatically cleaned"),L()()(),S(121,"div",37)(122,"div",42)(123,"mat-icon"),Y(124,"refresh"),L()(),S(125,"div",39)(126,"h4"),Y(127,"Restored"),L(),S(128,"p"),Y(129,"Fresh data is fetched from server and cached again for future use"),L()()()()(),S(130,"div",43)(131,"div",14)(132,"mat-icon"),Y(133,"lightbulb"),L(),S(134,"h3"),Y(135,"Performance Tips"),L()(),S(136,"ul",44)(137,"li")(138,"mat-icon"),Y(139,"check_circle"),L(),S(140,"span")(141,"strong"),Y(142,"Navigation:"),L(),Y(143," Use back/forward buttons for instant page loads"),L()(),S(144,"li")(145,"mat-icon"),Y(146,"check_circle"),L(),S(147,"span")(148,"strong"),Y(149,"Cache Clear:"),L(),Y(150," Only clear when experiencing issues or storage is full"),L()(),S(151,"li")(152,"mat-icon"),Y(153,"check_circle"),L(),S(154,"span")(155,"strong"),Y(156,"Auto-Cleanup:"),L(),Y(157," Old data is cleaned automatically on app startup"),L()(),S(158,"li")(159,"mat-icon"),Y(160,"check_circle"),L(),S(161,"span")(162,"strong"),Y(163,"Logout:"),L(),Y(164," All cache is cleared on logout for security"),L()()()()()),o&2){let e=Ae();le(),Ce("@slideIn",void 0),le(2),ki("color",e.cacheHealthColor),le(),rn(" ",e.cacheHealthStatus==="healthy"?"check_circle":e.cacheHealthStatus==="warning"?"warning":"error"," "),le(3),ki("color",e.cacheHealthColor),le(),rn(" ",e.cacheHealthStatus==="healthy"?"\u2728 Excellent":e.cacheHealthStatus==="warning"?"\u26A0\uFE0F Fair":"\u{1F6A8} Needs Attention"," "),le(2),rn(" ",e.cacheHealthStatus==="healthy"?"Your cache is running smoothly. Enjoy lightning-fast performance! \u26A1":e.cacheHealthStatus==="warning"?"Cache is getting full. Consider clearing old data for optimal performance.":"Cache is critically full! Clear cache to prevent slowdowns."," "),le(),Ce("@slideIn",void 0),le(10),ki("color",e.storageColor),le(),Ja(" ",e.formatBytes(e.storageQuota.used)," / ",e.formatBytes(e.storageQuota.total)," "),le(),Ce("value",e.storagePercentage)("color",e.storagePercentage>90?"warn":e.storagePercentage>70?"accent":"primary"),le(),ki("color",e.storageColor),le(),rn(" ",e.storagePercentage.toFixed(1),"% "),le(7),Ce("@slideIn",void 0),le(8),Ht(e.cacheStats.templateCount),le(2),ki("width",e.templatePercentage,"%")("background",e.templatePercentage>80?"#f59e0b":"#6366f1"),le(2),Ja(" ",e.cacheStats.templateCount," / ",e.MAX_TEMPLATES," max "),le(),Ce("@slideIn",void 0),le(8),Ht(e.cacheStats.conversationCount),le(2),ki("width",e.conversationPercentage,"%")("background",e.conversationPercentage>80?"#f59e0b":"#8b5cf6"),le(2),Ja(" ",e.cacheStats.conversationCount," / ",e.MAX_CONVERSATIONS," max "),le(),Ce("@slideIn",void 0),le(8),Ht(e.cacheStats.validLinksCount),le(2),ki("width",e.cacheStats.validLinksCount>0?100:0,"%")("background","#10b981"),le(3),Ce("@slideIn",void 0),le(8),rn("",e.cacheStats.estimatedSizeMB.toFixed(2)," MB"),le(2),ki("width",e.cacheSizePercentage,"%")("background",e.cacheSizePercentage>90?"#ef4444":e.cacheSizePercentage>70?"#f59e0b":"#10b981"),le(2),Ja(" ",e.cacheStats.estimatedSizeMB.toFixed(2)," / ",e.MAX_CACHE_SIZE_MB," MB max "),le(),Ce("@slideIn",void 0),le(35),rn("",e.CACHE_EXPIRY_DAYS," days"),le(11),Ce("@slideIn",void 0)}}function IA(o,i){o&1&&(S(0,"div",45)(1,"mat-icon",46),Y(2,"sync"),L(),S(3,"p"),Y(4,"Loading performance data..."),L()())}function LA(o,i){if(o&1){let e=jt();S(0,"div",47)(1,"div",48)(2,"mat-icon"),Y(3,"info"),L(),S(4,"span"),Y(5,"Cache monitoring \u2022 Auto-refresh every 3 hours"),L()(),S(6,"div",49)(7,"button",50),rt("click",function(){nt(e);let n=Ae();return it(n.showClearConfirmation())}),S(8,"mat-icon"),Y(9,"delete_sweep"),L(),Y(10," Clear Cache "),L(),S(11,"button",51),rt("click",function(){nt(e);let n=Ae();return it(n.close())}),Y(12," Done "),L()()()}if(o&2){let e=Ae();le(7),Ce("disabled",e.isClearing||!e.cacheStats||e.cacheStats.estimatedSizeMB===0)}}function NA(o,i){o&1&&(S(0,"mat-icon"),Y(1,"delete_forever"),L())}function DA(o,i){o&1&&(S(0,"mat-icon",46),Y(1,"sync"),L())}function RA(o,i){if(o&1){let e=jt();S(0,"div",52)(1,"div",53)(2,"div",54)(3,"mat-icon",55),Y(4,"warning"),L(),S(5,"h3"),Y(6,"Clear All Cache?"),L()(),S(7,"p",56),Y(8," This will delete all cached data including: "),L(),S(9,"ul",57)(10,"li"),Y(11),L(),S(12,"li"),Y(13),L(),S(14,"li"),Y(15),L(),S(16,"li"),Y(17),L()(),S(18,"p",58),Y(19," \u26A0\uFE0F "),S(20,"strong"),Y(21,"Note:"),L(),Y(22," Data will be re-fetched from the server on your next visit. This won't delete any data from the server. "),L(),S(23,"div",59)(24,"button",60),rt("click",function(){nt(e);let n=Ae();return it(n.cancelClear())}),Y(25," Cancel "),L(),S(26,"button",61),rt("click",function(){nt(e);let n=Ae();return it(n.confirmClearCache())}),tt(27,NA,2,0,"mat-icon",62)(28,DA,2,0,"mat-icon",63),Y(29),L()()()()}if(o&2){let e=Ae();Ce("@fadeIn",void 0),le(),Ce("@slideIn",void 0),le(10),rn("\u2022 ",(e.cacheStats==null?null:e.cacheStats.templateCount)||0," cached templates"),le(2),rn("\u2022 ",(e.cacheStats==null?null:e.cacheStats.conversationCount)||0," conversation threads"),le(2),rn("\u2022 ",(e.cacheStats==null?null:e.cacheStats.validLinksCount)||0," link validations"),le(2),rn("\u2022 Total: ",((e.cacheStats==null?null:e.cacheStats.estimatedSizeMB)||0).toFixed(2)," MB"),le(7),Ce("disabled",e.isClearing),le(2),Ce("disabled",e.isClearing),le(),Ce("ngIf",!e.isClearing),le(),Ce("ngIf",e.isClearing),le(),rn(" ",e.isClearing?"Clearing...":"Yes, Clear Cache"," ")}}var gb=(()=>{class o{constructor(e,t,n,r){this.dialogRef=e,this.db=t,this.cacheMonitor=n,this.cdr=r,this.cacheStats=null,this.storageQuota=null,this.showClearWarning=!1,this.isClearing=!1,this.MAX_CACHE_SIZE_MB=250,this.MAX_TEMPLATES=500,this.MAX_CONVERSATIONS=1e3,this.CACHE_EXPIRY_DAYS=30}ngOnInit(){return Cn(this,null,function*(){yield this.loadStats(),this.refreshInterval=setInterval(()=>{this.loadStats()},3e4)})}ngOnDestroy(){this.refreshInterval&&clearInterval(this.refreshInterval)}loadStats(){return Cn(this,null,function*(){try{this.cacheStats=yield this.db.getCacheStats(),this.storageQuota=yield this.cacheMonitor.checkStorageQuota(),this.cdr.markForCheck()}catch{}})}get cacheHealthStatus(){return this.cacheStats?this.cacheStats.estimatedSizeMB>this.MAX_CACHE_SIZE_MB*.9?"critical":this.cacheStats.estimatedSizeMB>this.MAX_CACHE_SIZE_MB*.7||this.cacheStats.templateCount>this.MAX_TEMPLATES*.8||this.cacheStats.conversationCount>this.MAX_CONVERSATIONS*.8?"warning":"healthy":"healthy"}get cacheHealthColor(){let e=this.cacheHealthStatus;return e==="critical"?"#ef4444":e==="warning"?"#f59e0b":"#10b981"}get storagePercentage(){return this.storageQuota?.percentage||0}get storageColor(){let e=this.storagePercentage;return e>90?"#ef4444":e>70?"#f59e0b":"#10b981"}get templatePercentage(){return this.cacheStats?this.cacheStats.templateCount/this.MAX_TEMPLATES*100:0}get conversationPercentage(){return this.cacheStats?this.cacheStats.conversationCount/this.MAX_CONVERSATIONS*100:0}get cacheSizePercentage(){return this.cacheStats?this.cacheStats.estimatedSizeMB/this.MAX_CACHE_SIZE_MB*100:0}formatBytes(e){return e===0?"0 MB":(e/(1024*1024)).toFixed(2)+" MB"}showClearConfirmation(){this.showClearWarning=!0,this.cdr.markForCheck()}cancelClear(){this.showClearWarning=!1,this.cdr.markForCheck()}confirmClearCache(){return Cn(this,null,function*(){this.isClearing=!0,this.cdr.markForCheck();try{yield this.db.clearAllCache(),yield this.loadStats(),this.showClearWarning=!1,this.isClearing=!1,this.cdr.markForCheck()}catch{this.isClearing=!1,this.cdr.markForCheck()}})}close(){this.dialogRef.close()}static{this.\u0275fac=function(t){return new(t||o)(vn(Zd),vn(Ro),vn(El),vn(Ii))}}static{this.\u0275cmp=Sn({type:o,selectors:[["app-performance-dashboard"]],standalone:!0,features:[En],decls:18,vars:5,consts:[[1,"performance-dashboard"],[1,"dashboard-header"],[1,"header-content"],[1,"header-icon"],[1,"pulse"],[1,"header-text"],[1,"subtitle"],["mat-icon-button","","matTooltip","Close",1,"close-btn",3,"click"],["class","dashboard-content",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","dashboard-footer",4,"ngIf"],["class","warning-overlay",4,"ngIf"],[1,"dashboard-content"],[1,"health-card"],[1,"card-header"],[1,"health-status"],[1,"health-description"],[1,"stat-card"],[1,"progress-section"],[1,"progress-header"],[1,"progress-label"],[1,"progress-value"],["mode","determinate",3,"value","color"],[1,"progress-percentage"],[1,"info-box"],[1,"info-icon"],[1,"stats-grid"],[1,"metric-card"],[1,"metric-icon"],[1,"metric-content"],[1,"metric-label"],[1,"metric-value"],[1,"metric-bar"],[1,"bar-fill"],[1,"metric-footer"],[1,"lifecycle-card"],[1,"lifecycle-timeline"],[1,"timeline-item"],[1,"timeline-icon","created"],[1,"timeline-content"],[1,"timeline-icon","active"],[1,"timeline-icon","expired"],[1,"timeline-icon","restored"],[1,"tips-card"],[1,"tips-list"],[1,"loading-state"],[1,"spin"],[1,"dashboard-footer"],[1,"footer-info"],[1,"footer-actions"],["mat-stroked-button","","color","warn",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click"],[1,"warning-overlay"],[1,"warning-modal"],[1,"warning-header"],[1,"warning-icon"],[1,"warning-message"],[1,"warning-list"],[1,"warning-note"],[1,"warning-actions"],["mat-stroked-button","",3,"click","disabled"],["mat-raised-button","","color","warn",3,"click","disabled"],[4,"ngIf"],["class","spin",4,"ngIf"]],template:function(t,n){t&1&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),Y(5,"speed"),L()(),S(6,"div",5)(7,"h2"),Y(8,"App Performance"),L(),S(9,"p",6),Y(10,"Real-time cache & storage monitoring"),L()()(),S(11,"button",7),rt("click",function(){return n.close()}),S(12,"mat-icon"),Y(13,"close"),L()()(),tt(14,AA,165,51,"div",8)(15,IA,5,0,"div",9)(16,LA,13,1,"div",10)(17,RA,30,11,"div",11),L()),t&2&&(Ce("@fadeIn",void 0),le(14),Ce("ngIf",n.cacheStats&&n.storageQuota),le(),Ce("ngIf",!n.cacheStats||!n.storageQuota),le(),Ce("ngIf",n.cacheStats&&n.storageQuota),le(),Ce("ngIf",n.showClearWarning))},dependencies:[qn,xi,vc,Wi,Xr,_o,qi,Ki,mb,hb,Js,Zs],styles:['.performance-dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;overflow:hidden}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 32px;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.2)}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#fff}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:700;color:#fff;letter-spacing:-.5px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:4px 0 0;font-size:14px;color:#fffc}.dashboard-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#fff}.dashboard-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.dashboard-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px 32px;background:#f8fafc}.dashboard-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.dashboard-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e2e8f0}.dashboard-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.dashboard-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.health-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:32px;border-radius:16px;margin-bottom:24px;box-shadow:0 10px 30px #667eea4d}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600}.health-card[_ngcontent-%COMP%]   .health-status[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin-bottom:12px;text-shadow:0 2px 10px rgba(0,0,0,.2)}.health-card[_ngcontent-%COMP%]   .health-description[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;opacity:.95;margin:0}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;margin-bottom:24px;box-shadow:0 4px 12px #0000000d}.stat-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.stat-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6366f1;font-size:24px;width:24px;height:24px}.stat-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1e293b}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{height:12px;border-radius:6px;margin-bottom:8px}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]     .mdc-linear-progress__bar-inner{border-radius:6px}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-percentage[_ngcontent-%COMP%]{text-align:right;font-size:20px;font-weight:700}.stat-card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{display:flex;align-items:start;gap:8px;margin-top:16px;padding:12px;background:#f1f5f9;border-radius:8px;font-size:13px;color:#64748b}.stat-card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6366f1}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;margin-bottom:24px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.metric-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 12px #0000000d;transition:transform .2s,box-shadow .2s}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0000001a}.metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;color:#6366f1;margin-bottom:12px}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin-bottom:8px}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;margin-bottom:12px}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]{height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden;margin-bottom:8px}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .5s ease,background .3s ease}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-footer[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.lifecycle-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;margin-bottom:24px;box-shadow:0 4px 12px #0000000d}.lifecycle-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:24px}.lifecycle-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6366f1}.lifecycle-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1e293b}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]{position:relative;padding-left:32px}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:10px;top:0;bottom:0;width:2px;background:linear-gradient(180deg,#6366f1,#8b5cf6,#ec4899,#10b981)}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative;padding-bottom:32px}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]{position:absolute;left:-32px;top:0;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:2px solid}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.created[_ngcontent-%COMP%]{border-color:#6366f1}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.created[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6366f1}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.active[_ngcontent-%COMP%]{border-color:#8b5cf6}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#8b5cf6}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.expired[_ngcontent-%COMP%]{border-color:#ec4899}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.expired[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ec4899}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.restored[_ngcontent-%COMP%]{border-color:#10b981}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.restored[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#10b981}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:600;color:#1e293b}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:#64748b}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#6366f1}.tips-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 12px #0000000d}.tips-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.tips-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b}.tips-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1e293b}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:start;gap:12px;padding:12px 0;border-bottom:1px solid #f1f5f9}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#10b981;font-size:20px;width:20px;height:20px;flex-shrink:0}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;color:#475569}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1e293b}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 32px;color:#64748b}.loading-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px;color:#6366f1}.loading-state[_ngcontent-%COMP%]   mat-icon.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0}.dashboard-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 32px;background:#fff;border-top:1px solid #e2e8f0;gap:16px}@media (max-width: 768px){.dashboard-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.dashboard-footer[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#64748b}.dashboard-footer[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6366f1}.dashboard-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:12px}.dashboard-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.warning-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;padding:24px;z-index:1000}.warning-modal[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;max-width:500px;width:100%;box-shadow:0 20px 60px #0000004d}.warning-modal[_ngcontent-%COMP%]   .warning-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:20px}.warning-modal[_ngcontent-%COMP%]   .warning-header[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#f59e0b}.warning-modal[_ngcontent-%COMP%]   .warning-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:#1e293b}.warning-modal[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]{font-size:16px;color:#475569;margin-bottom:16px}.warning-modal[_ngcontent-%COMP%]   .warning-list[_ngcontent-%COMP%]{background:#fef3c7;border-left:4px solid #f59e0b;padding:16px 20px;margin:16px 0;border-radius:8px;list-style:none}.warning-modal[_ngcontent-%COMP%]   .warning-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;color:#92400e;margin-bottom:8px}.warning-modal[_ngcontent-%COMP%]   .warning-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.warning-modal[_ngcontent-%COMP%]   .warning-note[_ngcontent-%COMP%]{font-size:14px;color:#64748b;background:#f8fafc;padding:12px;border-radius:8px;margin-bottom:24px}.warning-modal[_ngcontent-%COMP%]   .warning-note[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f59e0b}.warning-modal[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;flex-direction:row}.warning-modal[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.warning-modal[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-height: 500px) and (orientation: landscape){.dashboard-header[_ngcontent-%COMP%]{padding:12px 20px}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:12px;margin:2px 0 0}.dashboard-content[_ngcontent-%COMP%]{padding:16px 20px}.health-card[_ngcontent-%COMP%]{padding:16px 20px;margin-bottom:16px}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.health-card[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:12px;padding:4px 12px}.info-section[_ngcontent-%COMP%]{padding:12px 16px;font-size:13px}.warning-note[_ngcontent-%COMP%]{font-size:13px;padding:8px 12px;margin-bottom:12px}.warning-actions[_ngcontent-%COMP%]{gap:8px;margin-top:12px;flex-direction:row!important}.warning-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;font-size:13px}}@media (max-height: 400px) and (orientation: landscape){.performance-dashboard[_ngcontent-%COMP%]{max-height:95vh}.dashboard-header[_ngcontent-%COMP%]{padding:8px 16px}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:11px}.dashboard-content[_ngcontent-%COMP%]{padding:12px 16px}.health-card[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:12px}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.warning-note[_ngcontent-%COMP%]{font-size:12px;padding:6px 10px;margin-bottom:8px}.warning-actions[_ngcontent-%COMP%]{gap:6px;flex-direction:row!important}.warning-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}}'],data:{animation:[Xn("fadeIn",[Nn(":enter",[Yt({opacity:0,transform:"translateY(-10px)"}),In("300ms ease-out",Yt({opacity:1,transform:"translateY(0)"}))])]),Xn("slideIn",[Nn(":enter",[Yt({transform:"translateX(-20px)",opacity:0}),In("400ms ease-out",Yt({transform:"translateX(0)",opacity:1}))])])]},changeDetection:0})}}return o})();function FA(o,i){if(o&1){let e=jt();S(0,"img",62),rt("error",function(n){nt(e);let r=Ae().ngIf,a=Ae();return it(a.handleImageError(n,r.name))}),L()}if(o&2){let e=Ae().ngIf;Ce("src",e.picture,va)("alt",e.name)}}function VA(o,i){if(o&1&&(S(0,"div",63),Y(1),L()),o&2){let e=Ae().ngIf,t=Ae();le(),rn(" ",t.getInitials(e.name)," ")}}function jA(o,i){if(o&1&&je(0,"span",64),o&2){let e=i.ngIf;Ri("data-count",e)}}function HA(o,i){if(o&1&&(S(0,"span",68),Y(1),L()),o&2){let e=i.ngIf;le(),rn(" ",e," ")}}function zA(o,i){if(o&1){let e=jt();S(0,"button",65),rt("click",function(){nt(e);let n=Ae(2);return it(n.navigateToAdmin())}),S(1,"div",66)(2,"mat-icon"),Y(3,"admin_panel_settings"),L()(),S(4,"div",47)(5,"span",48),Y(6,"Admin Dashboard"),L(),S(7,"span",49),Y(8,"Manage Users"),L()(),tt(9,HA,2,1,"span",67),sn(10,"async"),L()}if(o&2){let e=Ae(2);le(9),Ce("ngIf",dn(10,1,e.pendingCount$))}}function BA(o,i){o&1&&je(0,"mat-divider")}function UA(o,i){if(o&1){let e=jt();S(0,"div",34)(1,"button",35,0)(3,"div",36),tt(4,FA,1,2,"img",37)(5,VA,2,1,"div",38)(6,jA,1,1,"span",39),sn(7,"async"),L(),S(8,"span",40),Y(9),L(),S(10,"mat-icon",41),Y(11,"expand_more"),L()(),S(12,"mat-menu",42,1),tt(14,zA,11,3,"button",43)(15,BA,1,0,"mat-divider",44),S(16,"button",45),rt("click",function(){nt(e);let n=Ae();return it(n.navigateToGenerate())}),S(17,"div",46)(18,"mat-icon"),Y(19,"auto_awesome"),L()(),S(20,"div",47)(21,"span",48),Y(22,"Generate Template"),L(),S(23,"span",49),Y(24,"Create with AI"),L()()(),je(25,"mat-divider"),S(26,"button",50),rt("click",function(){nt(e);let n=Ae();return it(n.navigateTo("/visual-editor"))}),S(27,"div",51)(28,"mat-icon"),Y(29,"design_services"),L()(),S(30,"div",47)(31,"span",48),Y(32,"Visual Editor"),L(),S(33,"span",49),Y(34,"Drag & drop designer"),L()()(),je(35,"mat-divider"),S(36,"button",52),rt("click",function(){nt(e);let n=Ae();return it(n.openPerformanceDashboard())}),S(37,"div",53)(38,"mat-icon"),Y(39,"speed"),L()(),S(40,"div",47)(41,"span",48),Y(42,"App Performance"),L(),S(43,"span",49),Y(44,"Cache & storage stats"),L()()(),je(45,"mat-divider"),S(46,"div",54)(47,"div",55)(48,"div",56)(49,"mat-icon"),Y(50,"business"),L()(),S(51,"div",57)(52,"span",58),Y(53),sn(54,"async"),L(),S(55,"span",59),Y(56,"Organization"),L()()()(),je(57,"mat-divider"),S(58,"button",60),rt("click",function(){nt(e);let n=Ae();return it(n.logout())}),S(59,"div",61)(60,"mat-icon"),Y(61,"logout"),L()(),S(62,"div",47)(63,"span",48),Y(64,"Logout"),L()()()()()}if(o&2){let e,t=i.ngIf,n=Ai(2),r=Ai(13),a=Ae();le(),Ce("matMenuTriggerFor",r),le(3),Ce("ngIf",t.picture),le(),Ce("ngIf",!t.picture),le(),Ce("ngIf",a.isAdmin()&&dn(7,10,a.pendingCount$)),le(3),Ht(t.name),le(),Kt("open",n.menuOpen),le(4),Ce("ngIf",a.isAdmin()),le(),Ce("ngIf",a.isAdmin()),le(38),Ht(((e=dn(54,12,a.currentUser$))==null||e.organizationId==null?null:e.organizationId.name)||"Unknown Org")}}var vb=(()=>{class o{constructor(){this.svc=Pt(xa),this.authService=Pt(Fi),this.adminService=Pt(i0),this.adminEventService=Pt(r0),this.router=Pt(Un),this.location=Pt(Bd),this.generationService=Pt(_u),this.dialog=Pt(Jd),this.destroy$=new Xa,this.pendingCount$=new Gi(0),this.currentUser$=this.authService.currentUser$,this.activeRoute$=new Gi(""),this.canGoBack$=new Gi(!1),this.canGoForward$=new Gi(!1),this.imageRetryCount=new Map,this.MAX_RETRIES=2}ngOnInit(){this.activeRoute$.next(this.router.url),this.router.events.pipe(Za(e=>e instanceof Kd),Di(this.destroy$)).subscribe(e=>{this.activeRoute$.next(e.urlAfterRedirects)}),this.currentUser$.pipe(Za(e=>e?e.orgRole==="admin"||e.orgRole==="super_admin":!1),Di(this.destroy$)).subscribe(()=>{this.loadPendingCount(),y1(3e4,3e4).pipe(Di(this.destroy$)).subscribe(()=>{this.loadPendingCount()})}),this.adminEventService.refreshPendingCount.pipe(Di(this.destroy$)).subscribe(()=>{this.isAdmin()&&this.loadPendingCount()}),this.adminEventService.refresh$.pipe(Di(this.destroy$)).subscribe(()=>{this.isAdmin()&&this.loadPendingCount()})}loadPendingCount(){this.adminService.getPendingUsers().pipe(Di(this.destroy$)).subscribe({next:e=>{this.pendingCount$.next(e.users.length)},error:e=>{}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.pendingCount$.complete(),this.canGoBack$.complete(),this.canGoForward$.complete()}canGoBack(){return!0}canGoForward(){return!0}goBack(){this.location.back()}goForward(){this.location.forward()}isAdmin(){let e=this.authService.currentUserValue;return e?.orgRole==="admin"||e?.orgRole==="super_admin"}isActive(e){let t=this.activeRoute$.value;return e==="/"?t==="/":t.startsWith(e)}getAvatarSrc(e){return e.picture&&e.picture.trim()!==""?e.picture:this.getInitialsAvatar(e.name)}handleImageError(e,t){let n=e.target,r=n.src,a=this.imageRetryCount.get(r)||0;a<this.MAX_RETRIES?(this.imageRetryCount.set(r,a+1),setTimeout(()=>{let s=new Date().getTime(),c=r.includes("?")?"&":"?";n.src=`${r}${c}_retry=${s}`},500*(a+1))):(this.imageRetryCount.delete(r),n.src=this.getInitialsAvatar(t))}getInitialsAvatar(e){let t=e.trim().split(" ").filter(s=>s.length>0).map(s=>s[0]).slice(0,2).join("").toUpperCase(),n=document.createElement("canvas");n.width=80,n.height=80;let r=n.getContext("2d"),a=r.createLinearGradient(0,0,80,80);return a.addColorStop(0,"#667eea"),a.addColorStop(1,"#764ba2"),r.fillStyle=a,r.fillRect(0,0,80,80),r.fillStyle="white",r.font="bold 32px system-ui",r.textAlign="center",r.textBaseline="middle",r.fillText(t,40,40),n.toDataURL()}navigateToHome(){let e=this.router.url;if(e==="/"||e==="")try{this.svc.smartRefresh()}catch{}else this.router.navigate(["/"]).then(n=>{}).catch(n=>{})}navigateToAdmin(){this.router.navigate(["/admin"])}navigateToGenerate(){let e=this.generationService.getCurrentConversationId();e?this.router.navigate(["/generate",e]):this.router.navigate(["/generate/new"])}navigateTo(e){this.router.navigate([e]).then(t=>{}).catch(t=>{})}openPerformanceDashboard(){this.dialog.open(gb,{width:"95vw",maxWidth:"1200px",height:"90vh",panelClass:"performance-dashboard-dialog",disableClose:!1,autoFocus:!1})}getInitials(e){return e.trim().split(" ").filter(t=>t.length>0).map(t=>t[0]).slice(0,2).join("").toUpperCase()}logout(){this.authService.logout().subscribe({next:()=>{this.router.navigate(["/auth"]).then(e=>{}).catch(e=>{e instanceof Error&&e.message.includes("Cannot match any routes");try{window.location.href="/auth"}catch{}})},error:e=>{e?.status===401?this.router.navigate(["/auth"]).then(()=>{}).catch(t=>{window.location.href="/auth"}):e?.status===0||e?.status===504?this.router.navigate(["/auth"]).then(()=>{}).catch(t=>{window.location.href="/auth"}):e?.status>=500?this.router.navigate(["/auth"]).then(()=>{}).catch(t=>{window.location.href="/auth"}):this.router.navigate(["/auth"]).catch(t=>{window.location.href="/auth"})},complete:()=>{}})}refresh(){this.svc.refresh()}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=Sn({type:o,selectors:[["app-toolbar"]],standalone:!0,features:[En],decls:39,vars:5,consts:[["menuTrigger","matMenuTrigger"],["userMenu","matMenu"],[1,"modern-toolbar"],[1,"toolbar-container"],["title","Go to Home",1,"brand-section",3,"click"],[1,"brand-icon"],["viewBox","0 0 48 48","fill","none","xmlns","http://www.w3.org/2000/svg",2,"width","40px","height","40px"],["id","left-half"],["x","0","y","0","width","24","height","48"],["id","right-half"],["x","24","y","0","width","24","height","48"],["clip-path","url(#left-half)"],["d","M12 16 Q8 18 8 24 Q8 30 12 32","stroke","white","stroke-width","2.5","fill","none"],["cx","14","cy","20","r","1.5","fill","white"],["cx","12","cy","24","r","2","fill","white"],["cx","14","cy","28","r","1.5","fill","white"],["cx","18","cy","22","r","1.3","fill","white","opacity","0.8"],["cx","18","cy","26","r","1.3","fill","white","opacity","0.8"],["x1","14","y1","20","x2","18","y2","22","stroke","white","stroke-width","1.2","opacity","0.6"],["x1","12","y1","24","x2","18","y2","22","stroke","white","stroke-width","1.2","opacity","0.6"],["x1","12","y1","24","x2","18","y2","26","stroke","white","stroke-width","1.2","opacity","0.6"],["x1","14","y1","28","x2","18","y2","26","stroke","white","stroke-width","1.2","opacity","0.6"],["clip-path","url(#right-half)"],["d","M24 16 L40 16 L40 32 L24 32","stroke","white","stroke-width","2.5","fill","none"],["d","M24 16 L32 23 L40 16","stroke","white","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["cx","24","cy","24","r","2.5","fill","white","opacity","0.4"],["cx","24","cy","24","r","1.5","fill","white"],[1,"brand-name"],[1,"toolbar-spacer"],[1,"right-section"],[1,"nav-arrows"],["title","Previous",1,"arrow-btn",3,"click","disabled"],["title","Next",1,"arrow-btn",3,"click","disabled"],["class","user-section",4,"ngIf"],[1,"user-section"],[1,"user-menu-btn",3,"matMenuTriggerFor"],[1,"user-avatar"],["loading","lazy","referrerpolicy","no-referrer","crossorigin","anonymous",3,"src","alt","error",4,"ngIf"],["class","avatar-initials",4,"ngIf"],["class","notification-dot",4,"ngIf"],[1,"user-name"],[1,"dropdown-icon"],["xPosition","before",1,"modern-user-dropdown"],["mat-menu-item","","class","menu-item admin-item",3,"click",4,"ngIf"],[4,"ngIf"],["mat-menu-item","",1,"menu-item","generate-item",3,"click"],[1,"menu-item-icon","generate-icon"],[1,"menu-item-content"],[1,"menu-item-title"],[1,"menu-item-subtitle"],["mat-menu-item","",1,"menu-item","visual-editor-item",3,"click"],[1,"menu-item-icon","visual-editor-icon"],["mat-menu-item","",1,"menu-item","performance-item",3,"click"],[1,"menu-item-icon","performance-icon"],[1,"org-info-section"],[1,"org-info-content"],[1,"org-icon"],[1,"org-details"],[1,"org-name"],[1,"org-label"],["mat-menu-item","",1,"menu-item","logout-item",3,"click"],[1,"menu-item-icon","logout-icon"],["loading","lazy","referrerpolicy","no-referrer","crossorigin","anonymous",3,"error","src","alt"],[1,"avatar-initials"],[1,"notification-dot"],["mat-menu-item","",1,"menu-item","admin-item",3,"click"],[1,"menu-item-icon","admin-icon"],["class","pending-badge",4,"ngIf"],[1,"pending-badge"]],template:function(t,n){t&1&&(S(0,"mat-toolbar",2)(1,"div",3)(2,"div",4),rt("click",function(){return n.navigateToHome()}),S(3,"div",5),pt(),S(4,"svg",6)(5,"defs")(6,"clipPath",7),je(7,"rect",8),L(),S(8,"clipPath",9),je(9,"rect",10),L()(),S(10,"g",11),je(11,"path",12)(12,"circle",13)(13,"circle",14)(14,"circle",15)(15,"circle",16)(16,"circle",17)(17,"line",18)(18,"line",19)(19,"line",20)(20,"line",21),L(),S(21,"g",22),je(22,"path",23)(23,"path",24),L(),je(24,"circle",25)(25,"circle",26),L()(),Mt(),S(26,"span",27),Y(27,"Camply"),L()(),je(28,"div",28),S(29,"div",29)(30,"div",30)(31,"button",31),rt("click",function(){return n.goBack()}),S(32,"mat-icon"),Y(33,"arrow_back_ios"),L()(),S(34,"button",32),rt("click",function(){return n.goForward()}),S(35,"mat-icon"),Y(36,"arrow_forward_ios"),L()()(),tt(37,UA,65,14,"div",33),sn(38,"async"),L()()()),t&2&&(le(31),Ce("disabled",!n.canGoBack()),le(3),Ce("disabled",!n.canGoForward()),le(3),Ce("ngIf",dn(38,3,n.currentUser$)))},dependencies:[qn,xi,ba,ub,db,Wi,U1,qi,Ki,Ma,Oa,Xd,Pa,pb,$s,Yd],styles:['.modern-toolbar[_ngcontent-%COMP%]{position:relative;overflow:visible!important;box-shadow:0 4px 24px #00000026;min-height:70px!important;padding:0!important;background:linear-gradient(135deg,#6d28d9,#5b21b6,#6d28d9)!important;background-size:200% 100%;animation:_ngcontent-%COMP%_gradient-flow 15s ease infinite}.modern-toolbar[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 10% 50%,rgba(255,255,255,.15) 0%,transparent 50%),radial-gradient(circle at 90% 50%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none;animation:_ngcontent-%COMP%_shimmer 8s ease-in-out infinite}.toolbar-container[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;width:100%;padding:0 2rem;gap:1.5rem;height:70px}.brand-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);padding:.5rem 1rem;border-radius:12px}.brand-section[_ngcontent-%COMP%]:hover{background:#ffffff26}.brand-section[_ngcontent-%COMP%]:hover   .brand-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.brand-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;background:#fff3;border-radius:10px;border:1px solid rgba(255,255,255,.3);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #00000026}.brand-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px!important;height:40px!important;color:#fff;stroke-width:2.5}.brand-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.3);letter-spacing:-.01em;-webkit-user-select:none;user-select:none}.toolbar-spacer[_ngcontent-%COMP%]{flex:1}.right-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.nav-arrows[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.arrow-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:#ffffff26;border:1px solid rgba(255,255,255,.25);border-radius:10px;color:#fff;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.arrow-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.arrow-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff40;box-shadow:0 4px 12px #0003}.arrow-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.arrow-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center}.user-menu-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem 1rem .5rem .5rem;background:#ffffff26;border:1px solid rgba(255,255,255,.25);border-radius:50px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #00000026}.user-menu-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px);box-shadow:0 6px 16px #0003}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;overflow:hidden;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;border:2px solid rgba(255,255,255,.3);box-shadow:0 2px 8px #0003;flex-shrink:0;position:relative}.user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-avatar[_ngcontent-%COMP%]   .avatar-initials[_ngcontent-%COMP%]{color:#fff;font-size:.875rem;font-weight:700}.notification-dot[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;width:12px;height:12px;background:#ef4444;border:2px solid #1e293b;border-radius:50%;box-shadow:0 2px 6px #ef444466;z-index:10}.user-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#fff;white-space:nowrap;max-width:150px;overflow:hidden;text-overflow:ellipsis}.dropdown-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px;width:20px;height:20px;transition:transform .3s ease;flex-shrink:0}.dropdown-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg)}  .modern-user-dropdown{margin-top:.75rem!important;border-radius:16px!important;overflow:hidden!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);min-width:280px!important;max-width:320px!important}  .modern-user-dropdown .mat-mdc-menu-panel{border-radius:16px!important;background:#fff!important}  .modern-user-dropdown .mat-mdc-menu-content{padding:0!important}.org-info-section[_ngcontent-%COMP%]{padding:.875rem .75rem;margin:.5rem;margin-bottom:0}.org-info-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem}.org-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:linear-gradient(135deg,#6d28d9,#5b21b6);border-radius:10px;flex-shrink:0}.org-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#fff}.org-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;flex:1;min-width:0}.org-label[_ngcontent-%COMP%]{font-size:.6875rem;font-weight:500;color:#64748b;text-transform:uppercase;letter-spacing:.05em}.org-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#1e293b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .modern-user-dropdown .mat-mdc-menu-content{padding:.5rem!important}.menu-item[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:.875rem!important;padding:.75rem!important;border-radius:10px!important;transition:all .2s ease!important;margin-bottom:.25rem!important;min-height:48px!important;height:auto!important;position:relative!important}.menu-item[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.menu-item[_ngcontent-%COMP%]:hover{background:#6d28d914!important}.menu-item[_ngcontent-%COMP%]:active{transform:scale(.98)}  .modern-user-dropdown .menu-item.mat-mdc-menu-item{display:flex!important;flex-direction:row!important;align-items:center!important;justify-content:flex-start!important;--mat-menu-item-spacing: 0px !important}  .modern-user-dropdown .mat-mdc-menu-item .mat-mdc-menu-item-text{display:flex!important;flex-direction:row!important;align-items:center!important;width:100%!important;gap:.875rem!important}.menu-item-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:10px;flex-shrink:0;transition:all .2s ease}.menu-item-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px;line-height:22px;display:flex;align-items:center;justify-content:center}.admin-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d9,#5b21b6);box-shadow:0 2px 8px #6d28d94d}.admin-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.generate-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);box-shadow:0 2px 8px #10b9814d}.generate-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.visual-editor-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);box-shadow:0 2px 8px #f59e0b4d}.visual-editor-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.performance-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed);box-shadow:0 2px 8px #8b5cf64d}.performance-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.logout-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);box-shadow:0 2px 8px #ef44444d}.logout-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.menu-item-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.125rem;min-width:0;align-self:center}.menu-item-title[_ngcontent-%COMP%]{font-size:.9375rem!important;font-weight:600!important;color:#1e293b!important;line-height:1.4!important}.menu-item-subtitle[_ngcontent-%COMP%]{font-size:.75rem!important;color:#64748b!important;line-height:1.3!important;font-weight:500!important}.pending-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:22px;height:22px;padding:0 6px;background:#ef4444;color:#fff;font-size:.75rem;font-weight:700;border-radius:11px;flex-shrink:0}  .modern-user-dropdown mat-divider{margin:.375rem 0!important;border-top-color:#00000014!important}@keyframes _ngcontent-%COMP%_gradient-flow{0%,to{background-position:0% 50%}50%{background-position:100% 50%}}@keyframes _ngcontent-%COMP%_shimmer{0%,to{opacity:1}50%{opacity:.7}}@media (max-width: 1024px){.user-name[_ngcontent-%COMP%]{max-width:120px}  .modern-user-dropdown{min-width:260px!important;max-width:280px!important}}@media (max-width: 768px){.toolbar-container[_ngcontent-%COMP%]{padding:0 1rem;gap:.75rem}.brand-name[_ngcontent-%COMP%]{font-size:1rem}.user-name[_ngcontent-%COMP%]{display:none}.user-menu-btn[_ngcontent-%COMP%]{padding:.5rem;gap:0}.dropdown-icon[_ngcontent-%COMP%]{display:none}  .modern-user-dropdown{min-width:240px!important;max-width:260px!important}.menu-item[_ngcontent-%COMP%]{gap:.625rem!important;padding:.5rem .625rem!important}.menu-item-icon[_ngcontent-%COMP%]{width:32px;height:32px}.menu-item-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.menu-item-title[_ngcontent-%COMP%]{font-size:.8125rem!important}.menu-item-subtitle[_ngcontent-%COMP%]{font-size:.6875rem!important}.pending-badge[_ngcontent-%COMP%]{min-width:20px;height:20px;font-size:.6875rem}}@media (max-width: 480px){.toolbar-container[_ngcontent-%COMP%]{padding:0 .75rem}.nav-arrows[_ngcontent-%COMP%]{gap:.25rem}.arrow-btn[_ngcontent-%COMP%]{width:36px;height:36px}.brand-section[_ngcontent-%COMP%]{padding:.375rem .75rem;gap:.75rem}.brand-name[_ngcontent-%COMP%]{display:none}.brand-icon[_ngcontent-%COMP%]{width:32px;height:32px}.brand-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}  .modern-user-dropdown{min-width:220px!important;max-width:240px!important}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.brand-section[_ngcontent-%COMP%], .arrow-btn[_ngcontent-%COMP%], .user-menu-btn[_ngcontent-%COMP%], .menu-item[_ngcontent-%COMP%]{will-change:transform;transform:translateZ(0);backface-visibility:hidden}']})}}return o})();function GA(o,i){o&1&&je(0,"app-toolbar")}var _b=(()=>{class o{constructor(){this.router=Pt(Un),this.cacheMonitor=Pt(El),this.cdr=Pt(Ii),this.showToolbar=!0,this.updateToolbarVisibility(this.router.url),this.router.events.pipe(Za(e=>e instanceof Kd)).subscribe(e=>{let t=e.urlAfterRedirects||e.url;this.updateToolbarVisibility(t)})}updateToolbarVisibility(e){let t=!e.includes("/auth");this.showToolbar!==t&&(this.showToolbar=t,setTimeout(()=>this.cdr.detectChanges(),0))}ngOnInit(){this.cacheMonitor.startMonitoring().catch(e=>{})}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=Sn({type:o,selectors:[["app-root"]],standalone:!0,features:[En],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(t,n){t&1&&(tt(0,GA,1,0,"app-toolbar",0),je(1,"router-outlet")),t&2&&Ce("ngIf",n.showToolbar)},dependencies:[qn,xi,H1,vb]})}}return o})();j1(_b,cb).catch(o=>console.error(o));
