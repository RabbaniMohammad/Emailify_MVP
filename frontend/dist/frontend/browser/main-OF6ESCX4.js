import{a as Oc,b as aa,c as sa,d as la,e as Jb,f as Zb,g as tC,h as eC,i as nC,j as iC,k as rC,l as oC,m as aC,n as sC,o as yf,p as lC,q as cC}from"./chunk-LDPBKAVQ.js";import{a as Bb}from"./chunk-QQQPMS3V.js";import{a as $b,b as Ss}from"./chunk-BDLXHRDD.js";import{e as Db,f as Lb,g as Nb}from"./chunk-YRLYPSZF.js";import{a as mf,b as vf,c as Ps,d as qb,e as ws,f as hi,g as _f,i as Pc,m as ml,n as Mc,p as Yb,q as Xb,r as Qb}from"./chunk-DMRAWTGL.js";import{a as ra,b as oa}from"./chunk-YRZUBIO5.js";import{$ as nr,$a as Xy,$b as Um,A as rf,Ab as Tn,B as Uy,Bb as xs,Ca as x,Cb as nb,Cd as Rb,D as Bm,Da as P,Db as ib,Dc as Gm,Dd as Fb,E as eu,Ea as vt,Eb as rb,F as hn,Fa as Rn,Fb as ob,G as nu,Ga as Fn,Gb as ab,Gc as Cb,H as Sn,Ha as Yy,Hb as pf,Hc as Wm,Ia as fe,Ib as ff,Id as qm,J as yo,Jb as Ar,Jc as xb,Jd as $m,K as Bo,Ka as Bt,Kb as sb,Kd as Ym,L as ea,La as ct,Lb as jn,Ld as zb,M as mc,Ma as fl,Mb as lb,Md as Os,N as be,Na as Go,Nb as cb,Nd as Vb,O as sr,Oa as bs,Ob as db,Od as jb,P as ln,Pa as Wo,Pb as ub,Pc as Ob,Pd as Aa,Q as Uo,Qa as Ki,Qb as bn,Qd as Cc,R as Ta,Ra as qi,Rb as ia,Rd as Ms,S as ys,Sa as gi,Sb as Jn,Sc as Pb,Sd as Hb,T as Dt,Ta as I,Tb as En,Tc as Mb,Td as Ub,U as Lt,Ua as Jt,Ub as pb,Uc as Dr,V as Xt,Va as Fe,Vb as $e,Vc as wb,Vd as Gb,W as ie,Wa as io,Wb as hl,Wc as Sb,Wd as Wb,Xb as In,Xd as Kb,Y as Gy,Ya as bi,Yb as fb,Yd as xc,Za as Ci,Zb as gb,Zd as Po,_ as Ea,_a as xi,_b as yc,ab as cn,ac as gf,ad as Tb,ba as iu,bb as af,bd as Eb,c as Gi,ca as pl,cb as sf,cd as bc,d as Wi,da as no,dc as bo,dd as kb,ea as of,eb as lf,ed as Ab,fa as ru,fb as Qy,fc as hb,fd as Km,ga as j,gb as on,gc as mb,h as jm,ha as pn,hb as un,hc as Co,i as Zd,ib as su,ja as Wy,jb as lu,jc as vb,k as hc,kb as Jy,l as tu,la as Ky,lb as Zy,lc as xo,m as eo,ma as qy,mb as $i,md as Ib,n as Vy,na as ka,nd as ro,o as jy,ob as gl,od as lr,p as Hm,pb as _c,pc as _b,pd as Oi,qa as ou,qb as cf,qd as Pi,ra as It,rb as df,rd as Mi,s as Hy,sa as fi,sb as na,sc as yb,sd as Oo,t as nf,ta as tt,tb as kr,tc as hf,td as cr,u as ta,ua as Vi,ub as qn,uc as Ir,v as vs,va as De,vb as tb,w as By,wa as vc,wb as Cs,x as _o,xa as $y,xb as eb,ya as au,yb as uf,z as _s,zc as bb}from"./chunk-D537H2LC.js";import{a as pi,b as Zo,c as zy,d as H9,e as B9,f as gn}from"./chunk-CWTPBX7D.js";var oP=H9((Gu,lv)=>{"use strict";(function(o,n){typeof Gu=="object"&&typeof lv=="object"?lv.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Gu=="object"?Gu["grapesjs-preset-newsletter"]=n():o["grapesjs-preset-newsletter"]=n()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Gu,()=>(()=>{var o={1073:i=>{i.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},9125:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.groupSelectors=r.getDocumentRoot=void 0;var s=a(2515);r.getDocumentRoot=function(l){for(;l.parent;)l=l.parent;return l},r.groupSelectors=function(l){for(var c=[],u=[],p=0,g=l;p<g.length;p++){var h=g[p];h.some(s.isFilter)?c.push(h):u.push(h)}return[u,c]}},7248:function(i,r,a){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(J){for(var D,Z=1,nt=arguments.length;Z<nt;Z++)for(var pt in D=arguments[Z])Object.prototype.hasOwnProperty.call(D,pt)&&(J[pt]=D[pt]);return J},s.apply(this,arguments)},l=this&&this.__createBinding||(Object.create?function(J,D,Z,nt){nt===void 0&&(nt=Z);var pt=Object.getOwnPropertyDescriptor(D,Z);pt&&!("get"in pt?!D.__esModule:pt.writable||pt.configurable)||(pt={enumerable:!0,get:function(){return D[Z]}}),Object.defineProperty(J,nt,pt)}:function(J,D,Z,nt){nt===void 0&&(nt=Z),J[nt]=D[Z]}),c=this&&this.__setModuleDefault||(Object.create?function(J,D){Object.defineProperty(J,"default",{enumerable:!0,value:D})}:function(J,D){J.default=D}),u=this&&this.__importStar||function(J){if(J&&J.__esModule)return J;var D={};if(J!=null)for(var Z in J)Z!=="default"&&Object.prototype.hasOwnProperty.call(J,Z)&&l(D,J,Z);return c(D,J),D},p=this&&this.__spreadArray||function(J,D,Z){if(Z||arguments.length===2)for(var nt,pt=0,Vt=D.length;pt<Vt;pt++)!nt&&pt in D||(nt||(nt=Array.prototype.slice.call(D,0,pt)),nt[pt]=D[pt]);return J.concat(nt||Array.prototype.slice.call(D))};Object.defineProperty(r,"__esModule",{value:!0}),r.select=r.filter=r.some=r.is=r.aliases=r.pseudos=r.filters=void 0;var g=a(7763),h=a(5366),y=u(a(9432)),_=a(9125),O=a(2515),M=a(5366);Object.defineProperty(r,"filters",{enumerable:!0,get:function(){return M.filters}}),Object.defineProperty(r,"pseudos",{enumerable:!0,get:function(){return M.pseudos}}),Object.defineProperty(r,"aliases",{enumerable:!0,get:function(){return M.aliases}});var w={type:g.SelectorType.Pseudo,name:"scope",data:null},T=s({},w),b={type:g.SelectorType.Universal,namespace:null};function k(J,D,Z){if(Z===void 0&&(Z={}),typeof D=="function")return J.some(D);var nt=(0,_.groupSelectors)((0,g.parse)(D)),pt=nt[0],Vt=nt[1];return pt.length>0&&J.some((0,h._compileToken)(pt,Z))||Vt.some(function(qt){return N(qt,J,Z).length>0})}function E(J,D,Z){if(D.length===0)return[];var nt,pt=(0,_.groupSelectors)(J),Vt=pt[0],qt=pt[1];if(Vt.length){var Pt=q(D,Vt,Z);if(qt.length===0)return Pt;Pt.length&&(nt=new Set(Pt))}for(var yt=0;yt<qt.length&&nt?.size!==D.length;yt++){var rt=qt[yt];if((nt?D.filter(function(ft){return y.isTag(ft)&&!nt.has(ft)}):D).length===0)break;if((Pt=N(rt,D,Z)).length)if(nt)Pt.forEach(function(ft){return nt.add(ft)});else{if(yt===qt.length-1)return Pt;nt=new Set(Pt)}}return nt!==void 0?nt.size===D.length?D:D.filter(function(ft){return nt.has(ft)}):[]}function N(J,D,Z){var nt;return J.some(g.isTraversal)?H((nt=Z.root)!==null&&nt!==void 0?nt:(0,_.getDocumentRoot)(D[0]),p(p([],J,!0),[T],!1),Z,!0,D):H(D,J,Z,!1)}r.is=function(J,D,Z){return Z===void 0&&(Z={}),k([J],D,Z)},r.some=k,r.filter=function(J,D,Z){return Z===void 0&&(Z={}),E((0,g.parse)(J),D,Z)},r.select=function(J,D,Z){if(Z===void 0&&(Z={}),typeof J=="function")return W(D,J);var nt=(0,_.groupSelectors)((0,g.parse)(J)),pt=nt[0],Vt=nt[1].map(function(qt){return H(D,qt,Z,!0)});return pt.length&&Vt.push(L(D,pt,Z,1/0)),Vt.length===0?[]:Vt.length===1?Vt[0]:y.uniqueSort(Vt.reduce(function(qt,Pt){return p(p([],qt,!0),Pt,!0)}))};var F=new Set([g.SelectorType.Descendant,g.SelectorType.Adjacent]);function V(J){return J!==w&&J.type==="pseudo"&&(J.name==="scope"||Array.isArray(J.data)&&J.data.some(function(D){return D.some(V)}))}function R(J,D,Z){return Z&&J.some(V)?s(s({},D),{context:Z}):D}function H(J,D,Z,nt,pt){var Vt=D.findIndex(O.isFilter),qt=D.slice(0,Vt),Pt=D[Vt],yt=(0,O.getLimit)(Pt.name,Pt.data);if(yt===0)return[];var rt=R(qt,Z,pt),ft=(qt.length!==0||Array.isArray(J)?qt.length===0||qt.length===1&&qt[0]===w?(Array.isArray(J)?J:[J]).filter(y.isTag):nt||qt.some(g.isTraversal)?L(J,[qt],rt,yt):q(J,[qt],rt):y.getChildren(J).filter(y.isTag)).slice(0,yt),wt=function(Nt,st,$t,le){var Ct=typeof $t=="string"?parseInt($t,10):NaN;switch(Nt){case"first":case"lt":return st;case"last":return st.length>0?[st[st.length-1]]:st;case"nth":case"eq":return isFinite(Ct)&&Math.abs(Ct)<st.length?[Ct<0?st[st.length+Ct]:st[Ct]]:[];case"gt":return isFinite(Ct)?st.slice(Ct+1):[];case"even":return st.filter(function(he,ce){return ce%2==0});case"odd":return st.filter(function(he,ce){return ce%2==1});case"not":var ae=new Set(E($t,st,le));return st.filter(function(he){return!ae.has(he)})}}(Pt.name,ft,Pt.data,Z);if(wt.length===0||D.length===Vt+1)return wt;var Et=D.slice(Vt+1),zt=Et.some(g.isTraversal),Wt=R(Et,Z,pt);return zt&&(F.has(Et[0].type)&&Et.unshift(b),Et.unshift(w)),Et.some(O.isFilter)?H(wt,Et,Z,!1,pt):zt?L(wt,[Et],Wt,1/0):q(wt,[Et],Wt)}function L(J,D,Z,nt){return nt===0?[]:W(J,(0,h._compileToken)(D,Z,J),nt)}function W(J,D,Z){Z===void 0&&(Z=1/0);var nt=(0,h.prepareContext)(J,y,D.shouldTestNextSiblings);return y.find(function(pt){return y.isTag(pt)&&D(pt)},nt,!0,Z)}function q(J,D,Z){var nt=(Array.isArray(J)?J:[J]).filter(y.isTag);if(nt.length===0)return nt;var pt=(0,h._compileToken)(D,Z);return nt.filter(pt)}},2515:(i,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getLimit=r.isFilter=r.filterNames=void 0,r.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]),r.isFilter=function a(s){return s.type==="pseudo"&&(!!r.filterNames.has(s.name)||!(s.name!=="not"||!Array.isArray(s.data))&&s.data.some(function(l){return l.some(a)}))},r.getLimit=function(a,s){var l=s!=null?parseInt(s,10):NaN;switch(a){case"first":return 1;case"nth":case"eq":return isFinite(l)?l>=0?l+1:1/0:0;case"lt":return isFinite(l)?l>=0?l:1/0:0;case"gt":return isFinite(l)?1/0:0;default:return 1/0}}},6451:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toggleClass=r.removeClass=r.addClass=r.hasClass=r.removeAttr=r.val=r.data=r.prop=r.attr=void 0;var s=a(6634),l=a(5633),c=Object.prototype.hasOwnProperty,u=/\s+/,p="data-",g={null:null,true:!0,false:!1},h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,y=/^{[^]*}$|^\[[^]*]$/;function _(N,F,V){var R;if(N&&l.isTag(N))return(R=N.attribs)!==null&&R!==void 0||(N.attribs={}),F?c.call(N.attribs,F)?!V&&h.test(F)?F:N.attribs[F]:N.name==="option"&&F==="value"?s.text(N.children):N.name!=="input"||N.attribs.type!=="radio"&&N.attribs.type!=="checkbox"||F!=="value"?void 0:"on":N.attribs}function O(N,F,V){V===null?k(N,F):N.attribs[F]=""+V}function M(N,F,V){if(N&&l.isTag(N))return F in N?N[F]:!V&&h.test(F)?_(N,F,!1)!==void 0:_(N,F,V)}function w(N,F,V,R){F in N?N[F]=V:O(N,F,!R&&h.test(F)?V?"":null:""+V)}function T(N,F,V){var R,H=N;(R=H.data)!==null&&R!==void 0||(H.data={}),typeof F=="object"?Object.assign(H.data,F):typeof F=="string"&&V!==void 0&&(H.data[F]=V)}function b(N,F){var V,R,H;F==null?R=(V=Object.keys(N.attribs).filter(function(J){return J.startsWith(p)})).map(function(J){return l.camelCase(J.slice(p.length))}):(V=[p+l.cssCase(F)],R=[F]);for(var L=0;L<V.length;++L){var W=V[L],q=R[L];if(c.call(N.attribs,W)&&!c.call(N.data,q)){if(H=N.attribs[W],c.call(g,H))H=g[H];else if(H===String(Number(H)))H=Number(H);else if(y.test(H))try{H=JSON.parse(H)}catch{}N.data[q]=H}}return F==null?N.data:H}function k(N,F){N.attribs&&c.call(N.attribs,F)&&delete N.attribs[F]}function E(N){return N?N.trim().split(u):[]}r.attr=function(N,F){if(typeof N=="object"||F!==void 0){if(typeof F=="function"){if(typeof N!="string")throw new Error("Bad combination of arguments.");return l.domEach(this,function(V,R){l.isTag(V)&&O(V,N,F.call(V,R,V.attribs[N]))})}return l.domEach(this,function(V){l.isTag(V)&&(typeof N=="object"?Object.keys(N).forEach(function(R){var H=N[R];O(V,R,H)}):O(V,N,F))})}return arguments.length>1?this:_(this[0],N,this.options.xmlMode)},r.prop=function(N,F){var V=this;if(typeof N=="string"&&F===void 0)switch(N){case"style":var R=this.css(),H=Object.keys(R);return H.forEach(function(W,q){R[q]=W}),R.length=H.length,R;case"tagName":case"nodeName":var L=this[0];return l.isTag(L)?L.name.toUpperCase():void 0;case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return M(this[0],N,this.options.xmlMode)}if(typeof N=="object"||F!==void 0){if(typeof F=="function"){if(typeof N=="object")throw new Error("Bad combination of arguments.");return l.domEach(this,function(W,q){l.isTag(W)&&w(W,N,F.call(W,q,M(W,N,V.options.xmlMode)),V.options.xmlMode)})}return l.domEach(this,function(W){l.isTag(W)&&(typeof N=="object"?Object.keys(N).forEach(function(q){var J=N[q];w(W,q,J,V.options.xmlMode)}):w(W,N,F,V.options.xmlMode))})}},r.data=function(N,F){var V,R=this[0];if(R&&l.isTag(R)){var H=R;return(V=H.data)!==null&&V!==void 0||(H.data={}),N?typeof N=="object"||F!==void 0?(l.domEach(this,function(L){l.isTag(L)&&(typeof N=="object"?T(L,N):T(L,N,F))}),this):c.call(H.data,N)?H.data[N]:b(H,N):b(H)}},r.val=function(N){var F=arguments.length===0,V=this[0];if(!V||!l.isTag(V))return F?void 0:this;switch(V.name){case"textarea":return this.text(N);case"select":var R=this.find("option:selected");if(!F){if(this.attr("multiple")==null&&typeof N=="object")return this;this.find("option").removeAttr("selected");for(var H=typeof N!="object"?[N]:N,L=0;L<H.length;L++)this.find('option[value="'+H[L]+'"]').attr("selected","");return this}return this.attr("multiple")?R.toArray().map(function(W){return s.text(W.children)}):R.attr("value");case"input":case"option":return F?this.attr("value"):this.attr("value",N)}},r.removeAttr=function(N){for(var F=E(N),V=function(L){l.domEach(R,function(W){l.isTag(W)&&k(W,F[L])})},R=this,H=0;H<F.length;H++)V(H);return this},r.hasClass=function(N){return this.toArray().some(function(F){var V=l.isTag(F)&&F.attribs.class,R=-1;if(V&&N.length)for(;(R=V.indexOf(N,R+1))>-1;){var H=R+N.length;if((R===0||u.test(V[R-1]))&&(H===V.length||u.test(V[H])))return!0}return!1})},r.addClass=function N(F){if(typeof F=="function")return l.domEach(this,function(Z,nt){if(l.isTag(Z)){var pt=Z.attribs.class||"";N.call([Z],F.call(Z,nt,pt))}});if(!F||typeof F!="string")return this;for(var V=F.split(u),R=this.length,H=0;H<R;H++){var L=this[H];if(l.isTag(L)){var W=_(L,"class",!1);if(W){for(var q=" "+W+" ",J=0;J<V.length;J++){var D=V[J]+" ";q.includes(" "+D)||(q+=D)}O(L,"class",q.trim())}else O(L,"class",V.join(" ").trim())}}return this},r.removeClass=function N(F){if(typeof F=="function")return l.domEach(this,function(L,W){l.isTag(L)&&N.call([L],F.call(L,W,L.attribs.class||""))});var V=E(F),R=V.length,H=arguments.length===0;return l.domEach(this,function(L){if(l.isTag(L))if(H)L.attribs.class="";else{for(var W=E(L.attribs.class),q=!1,J=0;J<R;J++){var D=W.indexOf(V[J]);D>=0&&(W.splice(D,1),q=!0,J--)}q&&(L.attribs.class=W.join(" "))}})},r.toggleClass=function N(F,V){if(typeof F=="function")return l.domEach(this,function(pt,Vt){l.isTag(pt)&&N.call([pt],F.call(pt,Vt,pt.attribs.class||"",V),V)});if(!F||typeof F!="string")return this;for(var R=F.split(u),H=R.length,L=typeof V=="boolean"?V?1:-1:0,W=this.length,q=0;q<W;q++){var J=this[q];if(l.isTag(J)){for(var D=E(J.attribs.class),Z=0;Z<H;Z++){var nt=D.indexOf(R[Z]);L>=0&&nt<0?D.push(R[Z]):L<=0&&nt>=0&&D.splice(nt,1)}J.attribs.class=D.join(" ")}}return this}},9806:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.css=void 0;var s=a(5633);function l(u,p,g,h){if(typeof p=="string"){var y=c(u),_=typeof g=="function"?g.call(u,h,y[p]):g;_===""?delete y[p]:_!=null&&(y[p]=_),u.attribs.style=(O=y,Object.keys(O).reduce(function(M,w){return M+(M?" ":"")+w+": "+O[w]+";"},""))}else typeof p=="object"&&Object.keys(p).forEach(function(M,w){l(u,M,p[M],w)});var O}function c(u,p){if(u&&s.isTag(u)){var g=function(y){return y=(y||"").trim(),y?y.split(";").reduce(function(_,O){var M=O.indexOf(":");return M<1||M===O.length-1||(_[O.slice(0,M).trim()]=O.slice(M+1).trim()),_},{}):{}}(u.attribs.style);if(typeof p=="string")return g[p];if(Array.isArray(p)){var h={};return p.forEach(function(y){g[y]!=null&&(h[y]=g[y])}),h}return g}}r.css=function(u,p){return u!=null&&p!=null||typeof u=="object"&&!Array.isArray(u)?s.domEach(this,function(g,h){s.isTag(g)&&l(g,u,p,h)}):c(this[0],u)}},3432:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeArray=r.serialize=void 0;var s=a(5633),l="input,select,textarea,keygen",c=/%20/g,u=/\r?\n/g;r.serialize=function(){return this.serializeArray().map(function(p){return encodeURIComponent(p.name)+"="+encodeURIComponent(p.value)}).join("&").replace(c,"+")},r.serializeArray=function(){var p=this;return this.map(function(g,h){var y=p._make(h);return s.isTag(h)&&h.name==="form"?y.find(l).toArray():y.filter(l).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(g,h){var y,_=p._make(h),O=_.attr("name"),M=(y=_.val())!==null&&y!==void 0?y:"";return Array.isArray(M)?M.map(function(w){return{name:O,value:w.replace(u,`\r
`)}}):{name:O,value:M.replace(u,`\r
`)}}).toArray()}},848:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.clone=r.text=r.toString=r.html=r.empty=r.replaceWith=r.remove=r.insertBefore=r.before=r.insertAfter=r.after=r.wrapAll=r.unwrap=r.wrapInner=r.wrap=r.prepend=r.append=r.prependTo=r.appendTo=r._makeDomArray=void 0;var s=a(655),l=a(7915),c=a(7915),u=s.__importStar(a(5012)),p=a(6634),g=a(5633),h=a(3719);function y(M){return function(){for(var w=this,T=[],b=0;b<arguments.length;b++)T[b]=arguments[b];var k=this.length-1;return g.domEach(this,function(E,N){if(l.hasChildren(E)){var F=typeof T[0]=="function"?T[0].call(E,N,p.html(E.children)):T,V=w._makeDomArray(F,N<k);M(V,E.children,E)}})}}function _(M,w,T,b,k){for(var E,N,F=s.__spreadArray([w,T],b),V=M[w-1]||null,R=M[w+T]||null,H=0;H<b.length;++H){var L=b[H],W=L.parent;if(W){var q=W.children.indexOf(b[H]);q>-1&&(W.children.splice(q,1),k===W&&w>q&&F[0]--)}L.parent=k,L.prev&&(L.prev.next=(E=L.next)!==null&&E!==void 0?E:null),L.next&&(L.next.prev=(N=L.prev)!==null&&N!==void 0?N:null),L.prev=b[H-1]||V,L.next=b[H+1]||R}return V&&(V.next=b[0]),R&&(R.prev=b[b.length-1]),M.splice.apply(M,F)}function O(M){return function(w){for(var T=this.length-1,b=this.parents().last(),k=0;k<this.length;k++){var E=this[k],N=typeof w=="function"?w.call(E,k,E):typeof w!="string"||g.isHtml(w)?w:b.find(w).clone(),F=this._makeDomArray(N,k<T)[0];if(F&&h.DomUtils.hasChildren(F)){for(var V=F,R=0;R<V.children.length;){var H=V.children[R];g.isTag(H)?(V=H,R=0):R++}M(E,V,[F])}}return this}}r._makeDomArray=function(M,w){var T=this;return M==null?[]:g.isCheerio(M)?w?g.cloneDom(M.get()):M.get():Array.isArray(M)?M.reduce(function(b,k){return b.concat(T._makeDomArray(k,w))},[]):typeof M=="string"?u.default(M,this.options,!1).children:w?g.cloneDom([M]):[M]},r.appendTo=function(M){return(g.isCheerio(M)?M:this._make(M)).append(this),this},r.prependTo=function(M){return(g.isCheerio(M)?M:this._make(M)).prepend(this),this},r.append=y(function(M,w,T){_(w,w.length,0,M,T)}),r.prepend=y(function(M,w,T){_(w,0,0,M,T)}),r.wrap=O(function(M,w,T){var b=M.parent;if(b){var k=b.children,E=k.indexOf(M);u.update([M],w),_(k,E,0,T,b)}}),r.wrapInner=O(function(M,w,T){l.hasChildren(M)&&(u.update(M.children,w),u.update(T,M))}),r.unwrap=function(M){var w=this;return this.parent(M).not("body").each(function(T,b){w._make(b).replaceWith(b.children)}),this},r.wrapAll=function(M){var w=this[0];if(w){for(var T=this._make(typeof M=="function"?M.call(w,0,w):M).insertBefore(w),b=void 0,k=0;k<T.length;k++)T[k].type==="tag"&&(b=T[k]);for(var E=0;b&&E<b.children.length;){var N=b.children[E];N.type==="tag"?(b=N,E=0):E++}b&&this._make(b).append(this)}return this},r.after=function(){for(var M=this,w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var b=this.length-1;return g.domEach(this,function(k,E){var N=k.parent;if(h.DomUtils.hasChildren(k)&&N){var F=N.children,V=F.indexOf(k);if(!(V<0)){var R=typeof w[0]=="function"?w[0].call(k,E,p.html(k.children)):w;_(F,V+1,0,M._makeDomArray(R,E<b),N)}}})},r.insertAfter=function(M){var w=this;typeof M=="string"&&(M=this._make(M)),this.remove();var T=[];return this._makeDomArray(M).forEach(function(b){var k=w.clone().toArray(),E=b.parent;if(E){var N=E.children,F=N.indexOf(b);F<0||(_(N,F+1,0,k,E),T.push.apply(T,k))}}),this._make(T)},r.before=function(){for(var M=this,w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var b=this.length-1;return g.domEach(this,function(k,E){var N=k.parent;if(h.DomUtils.hasChildren(k)&&N){var F=N.children,V=F.indexOf(k);if(!(V<0)){var R=typeof w[0]=="function"?w[0].call(k,E,p.html(k.children)):w;_(F,V,0,M._makeDomArray(R,E<b),N)}}})},r.insertBefore=function(M){var w=this,T=this._make(M);this.remove();var b=[];return g.domEach(T,function(k){var E=w.clone().toArray(),N=k.parent;if(N){var F=N.children,V=F.indexOf(k);V<0||(_(F,V,0,E,N),b.push.apply(b,E))}}),this._make(b)},r.remove=function(M){var w=M?this.filter(M):this;return g.domEach(w,function(T){h.DomUtils.removeElement(T),T.prev=T.next=T.parent=null}),this},r.replaceWith=function(M){var w=this;return g.domEach(this,function(T,b){var k=T.parent;if(k){var E=k.children,N=typeof M=="function"?M.call(T,b,T):M,F=w._makeDomArray(N);u.update(F,null);var V=E.indexOf(T);_(E,V,1,F,k),F.includes(T)||(T.parent=T.prev=T.next=null)}})},r.empty=function(){return g.domEach(this,function(M){h.DomUtils.hasChildren(M)&&(M.children.forEach(function(w){w.next=w.prev=w.parent=null}),M.children.length=0)})},r.html=function(M){if(M===void 0){var w=this[0];return w&&h.DomUtils.hasChildren(w)?p.html(w.children,this.options):null}var T=s.__assign(s.__assign({},this.options),{context:null});return g.domEach(this,function(b){if(h.DomUtils.hasChildren(b)){b.children.forEach(function(E){E.next=E.prev=E.parent=null}),T.context=b;var k=g.isCheerio(M)?M.toArray():u.default(""+M,T,!1).children;u.update(k,b)}})},r.toString=function(){return p.html(this,this.options)},r.text=function M(w){var T=this;return w===void 0?p.text(this):typeof w=="function"?g.domEach(this,function(b,k){M.call(T._make(b),w.call(b,k,p.text([b])))}):g.domEach(this,function(b){if(h.DomUtils.hasChildren(b)){b.children.forEach(function(E){E.next=E.prev=E.parent=null});var k=new c.Text(w);u.update(k,b)}})},r.clone=function(){return this._make(g.cloneDom(this.get()))}},1042:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addBack=r.add=r.end=r.slice=r.index=r.toArray=r.get=r.eq=r.last=r.first=r.has=r.not=r.is=r.filterArray=r.filter=r.map=r.each=r.contents=r.children=r.siblings=r.prevUntil=r.prevAll=r.prev=r.nextUntil=r.nextAll=r.next=r.closest=r.parentsUntil=r.parents=r.parent=r.find=void 0;var s=a(655),l=a(7915),c=s.__importStar(a(7248)),u=a(5633),p=a(6634),g=a(3719),h=g.DomUtils.uniqueSort,y=/^\s*[~+]/;function _(E){return function(N){for(var F=[],V=1;V<arguments.length;V++)F[V-1]=arguments[V];return function(R){var H,L=E(N,this);return R&&(L=k(L,R,this.options.xmlMode,(H=this._root)===null||H===void 0?void 0:H[0])),this._make(this.length>1&&L.length>1?F.reduce(function(W,q){return q(W)},L):L)}}}r.find=function(E){var N;if(!E)return this._make([]);var F=this.toArray();if(typeof E!="string"){var V=u.isCheerio(E)?E.toArray():[E];return this._make(V.filter(function(L){return F.some(function(W){return p.contains(W,L)})}))}var R=y.test(E)?F:this.children().toArray(),H={context:F,root:(N=this._root)===null||N===void 0?void 0:N[0],xmlMode:this.options.xmlMode};return this._make(c.select(E,R,H))};var O=_(function(E,N){for(var F,V=[],R=0;R<N.length;R++){var H=E(N[R]);V.push(H)}return(F=new Array).concat.apply(F,V)}),M=_(function(E,N){for(var F=[],V=0;V<N.length;V++){var R=E(N[V]);R!==null&&F.push(R)}return F});function w(E){for(var N=[],F=1;F<arguments.length;F++)N[F-1]=arguments[F];var V=null,R=_(function(H,L){var W=[];return u.domEach(L,function(q){for(var J;(J=H(q))&&!V?.(J,W.length);q=J)W.push(J)}),W}).apply(void 0,s.__spreadArray([E],N));return function(H,L){var W=this;V=typeof H=="string"?function(J){return c.is(J,H,W.options)}:H?b(H):null;var q=R.call(this,L);return V=null,q}}function T(E){return Array.from(new Set(E))}function b(E){return typeof E=="function"?function(N,F){return E.call(N,F,N)}:u.isCheerio(E)?function(N){return Array.prototype.includes.call(E,N)}:function(N){return E===N}}function k(E,N,F,V){return typeof N=="string"?c.filter(N,E,{xmlMode:F,root:V}):E.filter(b(N))}r.parent=M(function(E){var N=E.parent;return N&&!l.isDocument(N)?N:null},T),r.parents=O(function(E){for(var N=[];E.parent&&!l.isDocument(E.parent);)N.push(E.parent),E=E.parent;return N},h,function(E){return E.reverse()}),r.parentsUntil=w(function(E){var N=E.parent;return N&&!l.isDocument(N)?N:null},h,function(E){return E.reverse()}),r.closest=function(E){var N=this,F=[];return E?(u.domEach(this,function(V){for(var R;V&&V.type!=="root";){if(!E||k([V],E,N.options.xmlMode,(R=N._root)===null||R===void 0?void 0:R[0]).length){V&&!F.includes(V)&&F.push(V);break}V=V.parent}}),this._make(F)):this._make(F)},r.next=M(function(E){return g.DomUtils.nextElementSibling(E)}),r.nextAll=O(function(E){for(var N=[];E.next;)E=E.next,u.isTag(E)&&N.push(E);return N},T),r.nextUntil=w(function(E){return g.DomUtils.nextElementSibling(E)},T),r.prev=M(function(E){return g.DomUtils.prevElementSibling(E)}),r.prevAll=O(function(E){for(var N=[];E.prev;)E=E.prev,u.isTag(E)&&N.push(E);return N},T),r.prevUntil=w(function(E){return g.DomUtils.prevElementSibling(E)},T),r.siblings=O(function(E){return g.DomUtils.getSiblings(E).filter(function(N){return u.isTag(N)&&N!==E})},h),r.children=O(function(E){return g.DomUtils.getChildren(E).filter(u.isTag)},T),r.contents=function(){var E=this.toArray().reduce(function(N,F){return l.hasChildren(F)?N.concat(F.children):N},[]);return this._make(E)},r.each=function(E){for(var N=0,F=this.length;N<F&&E.call(this[N],N,this[N])!==!1;)++N;return this},r.map=function(E){for(var N=[],F=0;F<this.length;F++){var V=this[F],R=E.call(V,F,V);R!=null&&(N=N.concat(R))}return this._make(N)},r.filter=function(E){var N;return this._make(k(this.toArray(),E,this.options.xmlMode,(N=this._root)===null||N===void 0?void 0:N[0]))},r.filterArray=k,r.is=function(E){var N=this.toArray();return typeof E=="string"?c.some(N.filter(u.isTag),E,this.options):!!E&&N.some(b(E))},r.not=function(E){var N=this.toArray();if(typeof E=="string"){var F=new Set(c.filter(E,N,this.options));N=N.filter(function(R){return!F.has(R)})}else{var V=b(E);N=N.filter(function(R,H){return!V(R,H)})}return this._make(N)},r.has=function(E){var N=this;return this.filter(typeof E=="string"?":has("+E+")":function(F,V){return N._make(V).find(E).length>0})},r.first=function(){return this.length>1?this._make(this[0]):this},r.last=function(){return this.length>0?this._make(this[this.length-1]):this},r.eq=function(E){var N;return(E=+E)==0&&this.length<=1?this:(E<0&&(E=this.length+E),this._make((N=this[E])!==null&&N!==void 0?N:[]))},r.get=function(E){return E==null?this.toArray():this[E<0?this.length+E:E]},r.toArray=function(){return Array.prototype.slice.call(this)},r.index=function(E){var N,F;return E==null?(N=this.parent().children(),F=this[0]):typeof E=="string"?(N=this._make(E),F=this[0]):(N=this,F=u.isCheerio(E)?E[0]:E),Array.prototype.indexOf.call(N,F)},r.slice=function(E,N){return this._make(Array.prototype.slice.call(this,E,N))},r.end=function(){var E;return(E=this.prevObject)!==null&&E!==void 0?E:this._make([])},r.add=function(E,N){var F=this._make(E,N),V=h(s.__spreadArray(s.__spreadArray([],this.get()),F.get()));return this._make(V)},r.addBack=function(E){return this.prevObject?this.add(E?this.prevObject.filter(E):this.prevObject):this}},7911:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Cheerio=void 0;var s=a(655),l=s.__importDefault(a(5012)),c=s.__importDefault(a(2754)),u=a(5633),p=s.__importStar(a(6451)),g=s.__importStar(a(1042)),h=s.__importStar(a(848)),y=s.__importStar(a(9806)),_=s.__importStar(a(3432)),O=function(){function M(w,T,b,k){var E=this;if(k===void 0&&(k=c.default),this.length=0,this.options=k,!w)return this;if(b&&(typeof b=="string"&&(b=l.default(b,this.options,!1)),this._root=new this.constructor(b,null,null,this.options),this._root._root=this._root),u.isCheerio(w))return w;var N,F=typeof w=="string"&&u.isHtml(w)?l.default(w,this.options,!1).children:(N=w).name||N.type==="root"||N.type==="text"||N.type==="comment"?[w]:Array.isArray(w)?w:null;if(F)return F.forEach(function(H,L){E[L]=H}),this.length=F.length,this;var V=w,R=T?typeof T=="string"?u.isHtml(T)?this._make(l.default(T,this.options,!1)):(V=T+" "+V,this._root):u.isCheerio(T)?T:this._make(T):this._root;return R?R.find(V):this}return M.prototype._make=function(w,T){var b=new this.constructor(w,T,this._root,this.options);return b.prevObject=this,b},M}();r.Cheerio=O,O.prototype.cheerio="[cheerio object]",O.prototype.splice=Array.prototype.splice,O.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(O.prototype,p,g,h,y,_)},7503:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.root=r.parseHTML=r.merge=r.contains=void 0;var s=a(655);s.__exportStar(a(8701),r),s.__exportStar(a(3434),r);var l=a(3434);r.default=l.load([]);var c=s.__importStar(a(6634));r.contains=c.contains,r.merge=c.merge,r.parseHTML=c.parseHTML,r.root=c.root},3434:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.load=void 0;var s=a(655),l=s.__importStar(a(2754)),c=s.__importStar(a(6634)),u=a(7911),p=s.__importDefault(a(5012));r.load=function g(h,y,_){if(_===void 0&&(_=!0),h==null)throw new Error("cheerio.load() expects a string");var O=s.__assign(s.__assign({},l.default),l.flatten(y)),M=p.default(h,O,_),w=function(b){function k(){return b!==null&&b.apply(this,arguments)||this}return s.__extends(k,b),k}(u.Cheerio);function T(b,k,E,N){return E===void 0&&(E=M),new w(b,k,E,s.__assign(s.__assign({},O),l.flatten(N)))}return Object.assign(T,c,{load:g,_root:M,_options:O,fn:w.prototype,prototype:w.prototype}),T}},2754:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flatten=void 0;var s=a(655);r.default={xml:!1,decodeEntities:!0};var l={_useHtmlParser2:!0,xmlMode:!0};r.flatten=function(c){return c?.xml?typeof c.xml=="boolean"?l:s.__assign(s.__assign({},l),c.xml):c??void 0}},5012:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.update=void 0;var s=a(3719),l=a(8585),c=a(7957),u=a(7915);function p(g,h){var y=Array.isArray(g)?g:[g];h?h.children=y:h=null;for(var _=0;_<y.length;_++){var O=y[_];O.parent&&O.parent.children!==y&&s.DomUtils.removeElement(O),h?(O.prev=y[_-1]||null,O.next=y[_+1]||null):O.prev=O.next=null,O.parent=h}return h}r.default=function(g,h,y){if(typeof Buffer<"u"&&Buffer.isBuffer(g)&&(g=g.toString()),typeof g=="string")return h.xmlMode||h._useHtmlParser2?l.parse(g,h):c.parse(g,h,y);var _=g;if(!Array.isArray(_)&&u.isDocument(_))return _;var O=new u.Document([]);return p(_,O),O},r.update=p},8585:function(i,r,a){"use strict";var s=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(r,"__esModule",{value:!0}),r.render=r.parse=void 0;var l=a(3719);Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return l.parseDocument}});var c=a(7220);Object.defineProperty(r,"render",{enumerable:!0,get:function(){return s(c).default}})},7957:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.render=r.parse=void 0;var s=a(655),l=a(7915),c=a(2394),u=s.__importDefault(a(1906));r.parse=function(p,g,h){var y={scriptingEnabled:typeof g.scriptingEnabled!="boolean"||g.scriptingEnabled,treeAdapter:u.default,sourceCodeLocationInfo:g.sourceCodeLocationInfo},_=g.context;return h?c.parse(p,y):c.parseFragment(_,p,y)},r.render=function(p){for(var g,h=("length"in p)?p:[p],y=0;y<h.length;y+=1){var _=h[y];l.isDocument(_)&&(g=Array.prototype.splice).call.apply(g,s.__spreadArray([h,y,1],_.children))}return c.serialize({children:h},{treeAdapter:u.default})}},6634:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.merge=r.contains=r.root=r.parseHTML=r.text=r.xml=r.html=void 0;var s=a(655),l=s.__importStar(a(2754)),c=a(7248),u=a(3719),p=a(7957),g=a(8585);function h(_,O,M){var w,T=O?typeof O=="string"?c.select(O,(w=_?._root)!==null&&w!==void 0?w:[],M):O:_?._root.children;return T?M.xmlMode||M._useHtmlParser2?g.render(T,M):p.render(T):""}function y(_){if(Array.isArray(_))return!0;if(typeof _!="object"||!Object.prototype.hasOwnProperty.call(_,"length")||typeof _.length!="number"||_.length<0)return!1;for(var O=0;O<_.length;O++)if(!(O in _))return!1;return!0}r.html=function(_,O){return!O&&function(M){return typeof M=="object"&&M!=null&&!("length"in M)&&!("type"in M)}(_)&&(O=_,_=void 0),h(this||void 0,_,s.__assign(s.__assign(s.__assign({},l.default),this?this._options:{}),l.flatten(O??{})))},r.xml=function(_){return h(this,_,s.__assign(s.__assign({},this._options),{xmlMode:!0}))},r.text=function _(O){for(var M=O||(this?this.root():[]),w="",T=0;T<M.length;T++){var b=M[T];u.DomUtils.isText(b)?w+=b.data:u.DomUtils.hasChildren(b)&&b.type!==u.ElementType.Comment&&b.type!==u.ElementType.Script&&b.type!==u.ElementType.Style&&(w+=_(b.children))}return w},r.parseHTML=function(_,O,M){if(M===void 0&&(M=typeof O=="boolean"&&O),!_||typeof _!="string")return null;typeof O=="boolean"&&(M=O);var w=this.load(_,l.default,!1);return M||w("script").remove(),w.root()[0].children.slice()},r.root=function(){return this(this._root)},r.contains=function(_,O){if(O===_)return!1;for(var M=O;M&&M!==M.parent;)if((M=M.parent)===_)return!0;return!1},r.merge=function(_,O){if(y(_)&&y(O)){for(var M=_.length,w=+O.length,T=0;T<w;T++)_[M++]=O[T];return _.length=M,_}}},8701:(i,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},5633:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isHtml=r.cloneDom=r.domEach=r.cssCase=r.camelCase=r.isCheerio=r.isTag=void 0;var s=a(3719),l=a(7915);r.isTag=s.DomUtils.isTag,r.isCheerio=function(u){return u.cheerio!=null},r.camelCase=function(u){return u.replace(/[_.-](\w|$)/g,function(p,g){return g.toUpperCase()})},r.cssCase=function(u){return u.replace(/[A-Z]/g,"-$&").toLowerCase()},r.domEach=function(u,p){for(var g=u.length,h=0;h<g;h++)p(u[h],h);return u},r.cloneDom=function(u){var p="length"in u?Array.prototype.map.call(u,function(h){return l.cloneNode(h,!0)}):[l.cloneNode(u,!0)],g=new l.Document(p);return p.forEach(function(h){h.parent=g}),p};var c=/<[a-zA-Z][^]*>/;r.isHtml=function(u){return c.test(u)}},996:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.attributeRules=void 0;var s=a(1073),l=/[-[\]{}()*+?.,\\^$|#\s]/g;function c(g){return g.replace(l,"\\$&")}var u=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function p(g,h){return typeof g.ignoreCase=="boolean"?g.ignoreCase:g.ignoreCase==="quirks"?!!h.quirksMode:!h.xmlMode&&u.has(g.name)}r.attributeRules={equals:function(g,h,y){var _=y.adapter,O=h.name,M=h.value;return p(h,y)?(M=M.toLowerCase(),function(w){var T=_.getAttributeValue(w,O);return T!=null&&T.length===M.length&&T.toLowerCase()===M&&g(w)}):function(w){return _.getAttributeValue(w,O)===M&&g(w)}},hyphen:function(g,h,y){var _=y.adapter,O=h.name,M=h.value,w=M.length;return p(h,y)?(M=M.toLowerCase(),function(T){var b=_.getAttributeValue(T,O);return b!=null&&(b.length===w||b.charAt(w)==="-")&&b.substr(0,w).toLowerCase()===M&&g(T)}):function(T){var b=_.getAttributeValue(T,O);return b!=null&&(b.length===w||b.charAt(w)==="-")&&b.substr(0,w)===M&&g(T)}},element:function(g,h,y){var _=y.adapter,O=h.name,M=h.value;if(/\s/.test(M))return s.falseFunc;var w=new RegExp("(?:^|\\s)".concat(c(M),"(?:$|\\s)"),p(h,y)?"i":"");return function(T){var b=_.getAttributeValue(T,O);return b!=null&&b.length>=M.length&&w.test(b)&&g(T)}},exists:function(g,h,y){var _=h.name,O=y.adapter;return function(M){return O.hasAttrib(M,_)&&g(M)}},start:function(g,h,y){var _=y.adapter,O=h.name,M=h.value,w=M.length;return w===0?s.falseFunc:p(h,y)?(M=M.toLowerCase(),function(T){var b=_.getAttributeValue(T,O);return b!=null&&b.length>=w&&b.substr(0,w).toLowerCase()===M&&g(T)}):function(T){var b;return!!(!((b=_.getAttributeValue(T,O))===null||b===void 0)&&b.startsWith(M))&&g(T)}},end:function(g,h,y){var _=y.adapter,O=h.name,M=h.value,w=-M.length;return w===0?s.falseFunc:p(h,y)?(M=M.toLowerCase(),function(T){var b;return((b=_.getAttributeValue(T,O))===null||b===void 0?void 0:b.substr(w).toLowerCase())===M&&g(T)}):function(T){var b;return!!(!((b=_.getAttributeValue(T,O))===null||b===void 0)&&b.endsWith(M))&&g(T)}},any:function(g,h,y){var _=y.adapter,O=h.name,M=h.value;if(M==="")return s.falseFunc;if(p(h,y)){var w=new RegExp(c(M),"i");return function(T){var b=_.getAttributeValue(T,O);return b!=null&&b.length>=M.length&&w.test(b)&&g(T)}}return function(T){var b;return!!(!((b=_.getAttributeValue(T,O))===null||b===void 0)&&b.includes(M))&&g(T)}},not:function(g,h,y){var _=y.adapter,O=h.name,M=h.value;return M===""?function(w){return!!_.getAttributeValue(w,O)&&g(w)}:p(h,y)?(M=M.toLowerCase(),function(w){var T=_.getAttributeValue(w,O);return(T==null||T.length!==M.length||T.toLowerCase()!==M)&&g(w)}):function(w){return _.getAttributeValue(w,O)!==M&&g(w)}}}},8866:function(i,r,a){"use strict";var s=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(r,"__esModule",{value:!0}),r.compileToken=r.compileUnsafe=r.compile=void 0;var l=a(7763),c=a(1073),u=s(a(7353)),p=a(7177),g=a(3621),h=a(1768);function y(k,E,N){return T(typeof k=="string"?(0,l.parse)(k):k,E,N)}function _(k){return k.type==="pseudo"&&(k.name==="scope"||Array.isArray(k.data)&&k.data.some(function(E){return E.some(_)}))}r.compile=function(k,E,N){var F=y(k,E,N);return(0,h.ensureIsTag)(F,E.adapter)},r.compileUnsafe=y;var O={type:l.SelectorType.Descendant},M={type:"_flexibleDescendant"},w={type:l.SelectorType.Pseudo,name:"scope",data:null};function T(k,E,N){var F;(k=k.filter(function(W){return W.length>0})).forEach(u.default),N=(F=E.context)!==null&&F!==void 0?F:N;var V=Array.isArray(N),R=N&&(Array.isArray(N)?N:[N]);(function(W,q,J){for(var D=q.adapter,Z=!!J?.every(function(qt){var Pt=D.isTag(qt)&&D.getParent(qt);return qt===h.PLACEHOLDER_ELEMENT||Pt&&D.isTag(Pt)}),nt=0,pt=W;nt<pt.length;nt++){var Vt=pt[nt];if(!(Vt.length>0&&(0,p.isTraversal)(Vt[0])&&Vt[0].type!=="descendant")){if(!Z||Vt.some(_))continue;Vt.unshift(O)}Vt.unshift(w)}})(k,E,R);var H=!1,L=k.map(function(W){if(W.length>=2){var q=W[0],J=W[1];q.type!=="pseudo"||q.name!=="scope"||(V&&J.type==="descendant"?W[1]=M:J.type!=="adjacent"&&J.type!=="sibling"||(H=!0))}return function(D,Z,nt){var pt;return D.reduce(function(Vt,qt){return Vt===c.falseFunc?c.falseFunc:(0,g.compileGeneralSelector)(Vt,qt,Z,nt,T)},(pt=Z.rootFunc)!==null&&pt!==void 0?pt:c.trueFunc)}(W,E,R)}).reduce(b,c.falseFunc);return L.shouldTestNextSiblings=H,L}function b(k,E){return E===c.falseFunc||k===c.trueFunc?k:k===c.falseFunc||E===c.trueFunc?E:function(N){return k(N)||E(N)}}r.compileToken=T},3621:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compileGeneralSelector=void 0;var s=a(996),l=a(8677),c=a(7763);r.compileGeneralSelector=function(u,p,g,h,y){var _=g.adapter,O=g.equals;switch(p.type){case c.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case c.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case c.SelectorType.Attribute:if(p.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return g.xmlMode&&!g.lowerCaseAttributeNames||(p.name=p.name.toLowerCase()),s.attributeRules[p.action](u,p,g);case c.SelectorType.Pseudo:return(0,l.compilePseudoSelector)(u,p,g,h,y);case c.SelectorType.Tag:if(p.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var M=p.name;return g.xmlMode&&!g.lowerCaseTags||(M=M.toLowerCase()),function(T){return _.getName(T)===M&&u(T)};case c.SelectorType.Descendant:if(g.cacheResults===!1||typeof WeakSet>"u")return function(T){for(var b=T;b=_.getParent(b);)if(_.isTag(b)&&u(b))return!0;return!1};var w=new WeakSet;return function(T){for(var b=T;b=_.getParent(b);)if(!w.has(b)){if(_.isTag(b)&&u(b))return!0;w.add(b)}return!1};case"_flexibleDescendant":return function(T){var b=T;do if(_.isTag(b)&&u(b))return!0;while(b=_.getParent(b));return!1};case c.SelectorType.Parent:return function(T){return _.getChildren(T).some(function(b){return _.isTag(b)&&u(b)})};case c.SelectorType.Child:return function(T){var b=_.getParent(T);return b!=null&&_.isTag(b)&&u(b)};case c.SelectorType.Sibling:return function(T){for(var b=_.getSiblings(T),k=0;k<b.length;k++){var E=b[k];if(O(T,E))break;if(_.isTag(E)&&u(E))return!0}return!1};case c.SelectorType.Adjacent:return _.prevElementSibling?function(T){var b=_.prevElementSibling(T);return b!=null&&u(b)}:function(T){for(var b,k=_.getSiblings(T),E=0;E<k.length;E++){var N=k[E];if(O(T,N))break;_.isTag(N)&&(b=N)}return!!b&&u(b)};case c.SelectorType.Universal:if(p.namespace!=null&&p.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return u}}},5366:function(i,r,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(k,E,N,F){F===void 0&&(F=N);var V=Object.getOwnPropertyDescriptor(E,N);V&&!("get"in V?!E.__esModule:V.writable||V.configurable)||(V={enumerable:!0,get:function(){return E[N]}}),Object.defineProperty(k,F,V)}:function(k,E,N,F){F===void 0&&(F=N),k[F]=E[N]}),l=this&&this.__setModuleDefault||(Object.create?function(k,E){Object.defineProperty(k,"default",{enumerable:!0,value:E})}:function(k,E){k.default=E}),c=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var E={};if(k!=null)for(var N in k)N!=="default"&&Object.prototype.hasOwnProperty.call(k,N)&&s(E,k,N);return l(E,k),E};Object.defineProperty(r,"__esModule",{value:!0}),r.aliases=r.pseudos=r.filters=r.is=r.selectOne=r.selectAll=r.prepareContext=r._compileToken=r._compileUnsafe=r.compile=void 0;var u=c(a(9432)),p=a(1073),g=a(8866),h=a(1768),y=function(k,E){return k===E},_={adapter:u,equals:y};function O(k){var E,N,F,V,R=k??_;return(E=R.adapter)!==null&&E!==void 0||(R.adapter=u),(N=R.equals)!==null&&N!==void 0||(R.equals=(V=(F=R.adapter)===null||F===void 0?void 0:F.equals)!==null&&V!==void 0?V:y),R}function M(k){return function(E,N,F){var V=O(N);return k(E,V,F)}}function w(k){return function(E,N,F){var V=O(F);typeof E!="function"&&(E=(0,g.compileUnsafe)(E,V,N));var R=T(N,V.adapter,E.shouldTestNextSiblings);return k(E,R,V)}}function T(k,E,N){return N===void 0&&(N=!1),N&&(k=function(F,V){for(var R=Array.isArray(F)?F.slice(0):[F],H=R.length,L=0;L<H;L++){var W=(0,h.getNextSiblings)(R[L],V);R.push.apply(R,W)}return R}(k,E)),Array.isArray(k)?E.removeSubsets(k):E.getChildren(k)}r.compile=M(g.compile),r._compileUnsafe=M(g.compileUnsafe),r._compileToken=M(g.compileToken),r.prepareContext=T,r.selectAll=w(function(k,E,N){return k!==p.falseFunc&&E&&E.length!==0?N.adapter.findAll(k,E):[]}),r.selectOne=w(function(k,E,N){return k!==p.falseFunc&&E&&E.length!==0?N.adapter.findOne(k,E):null}),r.is=function(k,E,N){var F=O(N);return(typeof E=="function"?E:(0,g.compile)(E,F))(k)},r.default=r.selectAll;var b=a(8677);Object.defineProperty(r,"filters",{enumerable:!0,get:function(){return b.filters}}),Object.defineProperty(r,"pseudos",{enumerable:!0,get:function(){return b.pseudos}}),Object.defineProperty(r,"aliases",{enumerable:!0,get:function(){return b.aliases}})},7177:(i,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isTraversal=r.procedure=void 0,r.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1},r.isTraversal=function(a){return r.procedure[a.type]<0}},2968:(i,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.aliases=void 0,r.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}},7689:function(i,r,a){"use strict";var s=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(r,"__esModule",{value:!0}),r.filters=void 0;var l=s(a(7540)),c=a(1073);function u(g,h){return function(y){var _=h.getParent(y);return _!=null&&h.isTag(_)&&g(y)}}function p(g){return function(h,y,_){var O=_.adapter[g];return typeof O!="function"?c.falseFunc:function(M){return O(M)&&h(M)}}}r.filters={contains:function(g,h,y){var _=y.adapter;return function(O){return g(O)&&_.getText(O).includes(h)}},icontains:function(g,h,y){var _=y.adapter,O=h.toLowerCase();return function(M){return g(M)&&_.getText(M).toLowerCase().includes(O)}},"nth-child":function(g,h,y){var _=y.adapter,O=y.equals,M=(0,l.default)(h);return M===c.falseFunc?c.falseFunc:M===c.trueFunc?u(g,_):function(w){for(var T=_.getSiblings(w),b=0,k=0;k<T.length&&!O(w,T[k]);k++)_.isTag(T[k])&&b++;return M(b)&&g(w)}},"nth-last-child":function(g,h,y){var _=y.adapter,O=y.equals,M=(0,l.default)(h);return M===c.falseFunc?c.falseFunc:M===c.trueFunc?u(g,_):function(w){for(var T=_.getSiblings(w),b=0,k=T.length-1;k>=0&&!O(w,T[k]);k--)_.isTag(T[k])&&b++;return M(b)&&g(w)}},"nth-of-type":function(g,h,y){var _=y.adapter,O=y.equals,M=(0,l.default)(h);return M===c.falseFunc?c.falseFunc:M===c.trueFunc?u(g,_):function(w){for(var T=_.getSiblings(w),b=0,k=0;k<T.length;k++){var E=T[k];if(O(w,E))break;_.isTag(E)&&_.getName(E)===_.getName(w)&&b++}return M(b)&&g(w)}},"nth-last-of-type":function(g,h,y){var _=y.adapter,O=y.equals,M=(0,l.default)(h);return M===c.falseFunc?c.falseFunc:M===c.trueFunc?u(g,_):function(w){for(var T=_.getSiblings(w),b=0,k=T.length-1;k>=0;k--){var E=T[k];if(O(w,E))break;_.isTag(E)&&_.getName(E)===_.getName(w)&&b++}return M(b)&&g(w)}},root:function(g,h,y){var _=y.adapter;return function(O){var M=_.getParent(O);return(M==null||!_.isTag(M))&&g(O)}},scope:function(g,h,y,_){var O=y.equals;return _&&_.length!==0?_.length===1?function(M){return O(_[0],M)&&g(M)}:function(M){return _.includes(M)&&g(M)}:r.filters.root(g,h,y)},hover:p("isHovered"),visited:p("isVisited"),active:p("isActive")}},8677:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compilePseudoSelector=r.aliases=r.pseudos=r.filters=void 0;var s=a(1073),l=a(7763),c=a(7689);Object.defineProperty(r,"filters",{enumerable:!0,get:function(){return c.filters}});var u=a(7221);Object.defineProperty(r,"pseudos",{enumerable:!0,get:function(){return u.pseudos}});var p=a(2968);Object.defineProperty(r,"aliases",{enumerable:!0,get:function(){return p.aliases}});var g=a(1768);r.compilePseudoSelector=function(h,y,_,O,M){var w=y.name,T=y.data;if(Array.isArray(T))return g.subselects[w](h,T,_,O,M);if(w in p.aliases){if(T!=null)throw new Error("Pseudo ".concat(w," doesn't have any arguments"));var b=(0,l.parse)(p.aliases[w]);return g.subselects.is(h,b,_,O,M)}if(w in c.filters)return c.filters[w](h,T,_,O);if(w in u.pseudos){var k=u.pseudos[w];return(0,u.verifyPseudoArgs)(k,w,T),k===s.falseFunc?s.falseFunc:h===s.trueFunc?function(E){return k(E,_,T)}:function(E){return k(E,_,T)&&h(E)}}throw new Error("unmatched pseudo-class :".concat(w))}},7221:(i,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.verifyPseudoArgs=r.pseudos=void 0,r.pseudos={empty:function(a,s){var l=s.adapter;return!l.getChildren(a).some(function(c){return l.isTag(c)||l.getText(c)!==""})},"first-child":function(a,s){var l=s.adapter,c=s.equals,u=l.getSiblings(a).find(function(p){return l.isTag(p)});return u!=null&&c(a,u)},"last-child":function(a,s){for(var l=s.adapter,c=s.equals,u=l.getSiblings(a),p=u.length-1;p>=0;p--){if(c(a,u[p]))return!0;if(l.isTag(u[p]))break}return!1},"first-of-type":function(a,s){for(var l=s.adapter,c=s.equals,u=l.getSiblings(a),p=l.getName(a),g=0;g<u.length;g++){var h=u[g];if(c(a,h))return!0;if(l.isTag(h)&&l.getName(h)===p)break}return!1},"last-of-type":function(a,s){for(var l=s.adapter,c=s.equals,u=l.getSiblings(a),p=l.getName(a),g=u.length-1;g>=0;g--){var h=u[g];if(c(a,h))return!0;if(l.isTag(h)&&l.getName(h)===p)break}return!1},"only-of-type":function(a,s){var l=s.adapter,c=s.equals,u=l.getName(a);return l.getSiblings(a).every(function(p){return c(a,p)||!l.isTag(p)||l.getName(p)!==u})},"only-child":function(a,s){var l=s.adapter,c=s.equals;return l.getSiblings(a).every(function(u){return c(a,u)||!l.isTag(u)})}},r.verifyPseudoArgs=function(a,s,l){if(l===null){if(a.length>2)throw new Error("pseudo-selector :".concat(s," requires an argument"))}else if(a.length===2)throw new Error("pseudo-selector :".concat(s," doesn't have any arguments"))}},1768:function(i,r,a){"use strict";var s=this&&this.__spreadArray||function(h,y,_){if(_||arguments.length===2)for(var O,M=0,w=y.length;M<w;M++)!O&&M in y||(O||(O=Array.prototype.slice.call(y,0,M)),O[M]=y[M]);return h.concat(O||Array.prototype.slice.call(y))};Object.defineProperty(r,"__esModule",{value:!0}),r.subselects=r.getNextSiblings=r.ensureIsTag=r.PLACEHOLDER_ELEMENT=void 0;var l=a(1073),c=a(7177);function u(h,y){return h===l.falseFunc?l.falseFunc:function(_){return y.isTag(_)&&h(_)}}function p(h,y){var _=y.getSiblings(h);if(_.length<=1)return[];var O=_.indexOf(h);return O<0||O===_.length-1?[]:_.slice(O+1).filter(y.isTag)}r.PLACEHOLDER_ELEMENT={},r.ensureIsTag=u,r.getNextSiblings=p;var g=function(h,y,_,O,M){var w=M(y,{xmlMode:!!_.xmlMode,adapter:_.adapter,equals:_.equals},O);return function(T){return w(T)&&h(T)}};r.subselects={is:g,matches:g,where:g,not:function(h,y,_,O,M){var w=M(y,{xmlMode:!!_.xmlMode,adapter:_.adapter,equals:_.equals},O);return w===l.falseFunc?h:w===l.trueFunc?l.falseFunc:function(T){return!w(T)&&h(T)}},has:function(h,y,_,O,M){var w=_.adapter,T={xmlMode:!!_.xmlMode,adapter:w,equals:_.equals},b=y.some(function(V){return V.some(c.isTraversal)})?[r.PLACEHOLDER_ELEMENT]:void 0,k=M(y,T,b);if(k===l.falseFunc)return l.falseFunc;if(k===l.trueFunc)return function(V){return w.getChildren(V).some(w.isTag)&&h(V)};var E=u(k,w),N=k.shouldTestNextSiblings,F=N!==void 0&&N;return b?function(V){b[0]=V;var R=w.getChildren(V),H=F?s(s([],R,!0),p(V,w),!0):R;return h(V)&&w.existsOne(E,H)}:function(V){return h(V)&&w.existsOne(E,w.getChildren(V))}}}},7353:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=a(7763),l=a(7177),c={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function u(p){var g=l.procedure[p.type];if(p.type===s.SelectorType.Attribute)(g=c[p.action])===c.equals&&p.name==="id"&&(g=9),p.ignoreCase&&(g>>=1);else if(p.type===s.SelectorType.Pseudo)if(p.data)if(p.name==="has"||p.name==="contains")g=0;else if(Array.isArray(p.data)){g=0;for(var h=0;h<p.data.length;h++)if(p.data[h].length===1){var y=u(p.data[h][0]);if(y===0){g=0;break}y>g&&(g=y)}p.data.length>1&&g>0&&(g-=1)}else g=1;else g=3;return g}r.default=function(p){for(var g=p.map(u),h=1;h<p.length;h++){var y=g[h];if(!(y<0))for(var _=h-1;_>=0&&y<g[_];_--){var O=p[_+1];p[_+1]=p[_],p[_]=O,g[_+1]=g[_],g[_]=y}}}},7763:(i,r,a)=>{"use strict";var s;a.r(r),a.d(r,{AttributeAction:()=>c,IgnoreCaseMode:()=>l,SelectorType:()=>s,isTraversal:()=>y,parse:()=>b,stringify:()=>H}),function(D){D.Attribute="attribute",D.Pseudo="pseudo",D.PseudoElement="pseudo-element",D.Tag="tag",D.Universal="universal",D.Adjacent="adjacent",D.Child="child",D.Descendant="descendant",D.Parent="parent",D.Sibling="sibling",D.ColumnCombinator="column-combinator"}(s||(s={}));let l={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var c;(function(D){D.Any="any",D.Element="element",D.End="end",D.Equals="equals",D.Exists="exists",D.Hyphen="hyphen",D.Not="not",D.Start="start"})(c||(c={}));let u=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,p=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,g=new Map([[126,c.Element],[94,c.Start],[36,c.End],[42,c.Any],[33,c.Not],[124,c.Hyphen]]),h=new Set(["has","not","matches","is","where","host","host-context"]);function y(D){switch(D.type){case s.Adjacent:case s.Child:case s.Descendant:case s.Parent:case s.Sibling:case s.ColumnCombinator:return!0;default:return!1}}let _=new Set(["contains","icontains"]);function O(D,Z,nt){let pt=parseInt(Z,16)-65536;return pt!=pt||nt?Z:pt<0?String.fromCharCode(pt+65536):String.fromCharCode(pt>>10|55296,1023&pt|56320)}function M(D){return D.replace(p,O)}function w(D){return D===39||D===34}function T(D){return D===32||D===9||D===10||D===12||D===13}function b(D){let Z=[],nt=k(Z,`${D}`,0);if(nt<D.length)throw new Error(`Unmatched selector: ${D.slice(nt)}`);return Z}function k(D,Z,nt){let pt=[];function Vt(zt){let Wt=Z.slice(nt+zt).match(u);if(!Wt)throw new Error(`Expected name, found ${Z.slice(nt)}`);let[Nt]=Wt;return nt+=zt+Nt.length,M(Nt)}function qt(zt){for(nt+=zt;nt<Z.length&&T(Z.charCodeAt(nt));)nt++}function Pt(){let zt=nt+=1,Wt=1;for(;Wt>0&&nt<Z.length;nt++)Z.charCodeAt(nt)!==40||yt(nt)?Z.charCodeAt(nt)!==41||yt(nt)||Wt--:Wt++;if(Wt)throw new Error("Parenthesis not matched");return M(Z.slice(zt,nt-1))}function yt(zt){let Wt=0;for(;Z.charCodeAt(--zt)===92;)Wt++;return(1&Wt)==1}function rt(){if(pt.length>0&&y(pt[pt.length-1]))throw new Error("Did not expect successive traversals.")}function ft(zt){pt.length>0&&pt[pt.length-1].type===s.Descendant?pt[pt.length-1].type=zt:(rt(),pt.push({type:zt}))}function wt(zt,Wt){pt.push({type:s.Attribute,name:zt,action:Wt,value:Vt(1),namespace:null,ignoreCase:"quirks"})}function Et(){if(pt.length&&pt[pt.length-1].type===s.Descendant&&pt.pop(),pt.length===0)throw new Error("Empty sub-selector");D.push(pt)}if(qt(0),Z.length===nt)return nt;t:for(;nt<Z.length;){let zt=Z.charCodeAt(nt);switch(zt){case 32:case 9:case 10:case 12:case 13:pt.length!==0&&pt[0].type===s.Descendant||(rt(),pt.push({type:s.Descendant})),qt(1);break;case 62:ft(s.Child),qt(1);break;case 60:ft(s.Parent),qt(1);break;case 126:ft(s.Sibling),qt(1);break;case 43:ft(s.Adjacent),qt(1);break;case 46:wt("class",c.Element);break;case 35:wt("id",c.Equals);break;case 91:{let Wt;qt(1);let Nt=null;Z.charCodeAt(nt)===124?Wt=Vt(1):Z.startsWith("*|",nt)?(Nt="*",Wt=Vt(2)):(Wt=Vt(0),Z.charCodeAt(nt)===124&&Z.charCodeAt(nt+1)!==61&&(Nt=Wt,Wt=Vt(1))),qt(0);let st=c.Exists,$t=g.get(Z.charCodeAt(nt));if($t){if(st=$t,Z.charCodeAt(nt+1)!==61)throw new Error("Expected `=`");qt(2)}else Z.charCodeAt(nt)===61&&(st=c.Equals,qt(1));let le="",Ct=null;if(st!=="exists"){if(w(Z.charCodeAt(nt))){let ce=Z.charCodeAt(nt),K=nt+1;for(;K<Z.length&&(Z.charCodeAt(K)!==ce||yt(K));)K+=1;if(Z.charCodeAt(K)!==ce)throw new Error("Attribute value didn't end");le=M(Z.slice(nt+1,K)),nt=K+1}else{let ce=nt;for(;nt<Z.length&&(!T(Z.charCodeAt(nt))&&Z.charCodeAt(nt)!==93||yt(nt));)nt+=1;le=M(Z.slice(ce,nt))}qt(0);let he=32|Z.charCodeAt(nt);he===115?(Ct=!1,qt(1)):he===105&&(Ct=!0,qt(1))}if(Z.charCodeAt(nt)!==93)throw new Error("Attribute selector didn't terminate");nt+=1;let ae={type:s.Attribute,name:Wt,action:st,value:le,namespace:Nt,ignoreCase:Ct};pt.push(ae);break}case 58:{if(Z.charCodeAt(nt+1)===58){pt.push({type:s.PseudoElement,name:Vt(2).toLowerCase(),data:Z.charCodeAt(nt)===40?Pt():null});continue}let Wt=Vt(1).toLowerCase(),Nt=null;if(Z.charCodeAt(nt)===40)if(h.has(Wt)){if(w(Z.charCodeAt(nt+1)))throw new Error(`Pseudo-selector ${Wt} cannot be quoted`);if(Nt=[],nt=k(Nt,Z,nt+1),Z.charCodeAt(nt)!==41)throw new Error(`Missing closing parenthesis in :${Wt} (${Z})`);nt+=1}else{if(Nt=Pt(),_.has(Wt)){let st=Nt.charCodeAt(0);st===Nt.charCodeAt(Nt.length-1)&&w(st)&&(Nt=Nt.slice(1,-1))}Nt=M(Nt)}pt.push({type:s.Pseudo,name:Wt,data:Nt});break}case 44:Et(),pt=[],qt(1);break;default:{if(Z.startsWith("/*",nt)){let st=Z.indexOf("*/",nt+2);if(st<0)throw new Error("Comment was not terminated");nt=st+2,pt.length===0&&qt(0);break}let Wt,Nt=null;if(zt===42)nt+=1,Wt="*";else if(zt===124){if(Wt="",Z.charCodeAt(nt+1)===124){ft(s.ColumnCombinator),qt(2);break}}else{if(!u.test(Z.slice(nt)))break t;Wt=Vt(0)}Z.charCodeAt(nt)===124&&Z.charCodeAt(nt+1)!==124&&(Nt=Wt,Z.charCodeAt(nt+1)===42?(Wt="*",nt+=2):Wt=Vt(1)),pt.push(Wt==="*"?{type:s.Universal,namespace:Nt}:{type:s.Tag,name:Wt,namespace:Nt})}}}return Et(),nt}let E=["\\",'"'],N=[...E,"(",")"],F=new Set(E.map(D=>D.charCodeAt(0))),V=new Set(N.map(D=>D.charCodeAt(0))),R=new Set([...N,"~","^","$","*","+","!","|",":","[","]"," ","."].map(D=>D.charCodeAt(0)));function H(D){return D.map(Z=>Z.map(L).join("")).join(", ")}function L(D,Z,nt){switch(D.type){case s.Child:return Z===0?"> ":" > ";case s.Parent:return Z===0?"< ":" < ";case s.Sibling:return Z===0?"~ ":" ~ ";case s.Adjacent:return Z===0?"+ ":" + ";case s.Descendant:return" ";case s.ColumnCombinator:return Z===0?"|| ":" || ";case s.Universal:return D.namespace==="*"&&Z+1<nt.length&&"name"in nt[Z+1]?"":`${q(D.namespace)}*`;case s.Tag:return W(D);case s.PseudoElement:return`::${J(D.name,R)}${D.data===null?"":`(${J(D.data,V)})`}`;case s.Pseudo:return`:${J(D.name,R)}${D.data===null?"":`(${typeof D.data=="string"?J(D.data,V):H(D.data)})`}`;case s.Attribute:{if(D.name==="id"&&D.action===c.Equals&&D.ignoreCase==="quirks"&&!D.namespace)return`#${J(D.value,R)}`;if(D.name==="class"&&D.action===c.Element&&D.ignoreCase==="quirks"&&!D.namespace)return`.${J(D.value,R)}`;let pt=W(D);return D.action===c.Exists?`[${pt}]`:`[${pt}${function(Vt){switch(Vt){case c.Equals:return"";case c.Element:return"~";case c.Start:return"^";case c.End:return"$";case c.Any:return"*";case c.Not:return"!";case c.Hyphen:return"|";case c.Exists:throw new Error("Shouldn't be here")}}(D.action)}="${J(D.value,F)}"${D.ignoreCase===null?"":D.ignoreCase?" i":" s"}]`}}}function W(D){return`${q(D.namespace)}${J(D.name,R)}`}function q(D){return D!==null?`${D==="*"?"*":J(D,R)}|`:""}function J(D,Z){let nt=0,pt="";for(let Vt=0;Vt<D.length;Vt++)Z.has(D.charCodeAt(Vt))&&(pt+=`${D.slice(nt,Vt)}\\${D.charAt(Vt)}`,nt=Vt+1);return pt.length>0?pt+D.slice(nt):D}},7837:(i,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.attributeNames=r.elementNames=void 0,r.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),r.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},7220:function(i,r,a){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(b){for(var k,E=1,N=arguments.length;E<N;E++)for(var F in k=arguments[E])Object.prototype.hasOwnProperty.call(k,F)&&(b[F]=k[F]);return b},s.apply(this,arguments)},l=this&&this.__createBinding||(Object.create?function(b,k,E,N){N===void 0&&(N=E),Object.defineProperty(b,N,{enumerable:!0,get:function(){return k[E]}})}:function(b,k,E,N){N===void 0&&(N=E),b[N]=k[E]}),c=this&&this.__setModuleDefault||(Object.create?function(b,k){Object.defineProperty(b,"default",{enumerable:!0,value:k})}:function(b,k){b.default=k}),u=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var k={};if(b!=null)for(var E in b)E!=="default"&&Object.prototype.hasOwnProperty.call(b,E)&&l(k,b,E);return c(k,b),k};Object.defineProperty(r,"__esModule",{value:!0});var p=u(a(9960)),g=a(5863),h=a(7837),y=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),_=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function O(b,k){k===void 0&&(k={});for(var E=("length"in b)?b:[b],N="",F=0;F<E.length;F++)N+=M(E[F],k);return N}function M(b,k){switch(b.type){case p.Root:return O(b.children,k);case p.Directive:case p.Doctype:return"<"+b.data+">";case p.Comment:return function(E){return"<!--"+E.data+"-->"}(b);case p.CDATA:return function(E){return"<![CDATA["+E.children[0].data+"]]>"}(b);case p.Script:case p.Style:case p.Tag:return function(E,N){var F;N.xmlMode==="foreign"&&(E.name=(F=h.elementNames.get(E.name))!==null&&F!==void 0?F:E.name,E.parent&&w.has(E.parent.name)&&(N=s(s({},N),{xmlMode:!1}))),!N.xmlMode&&T.has(E.name)&&(N=s(s({},N),{xmlMode:"foreign"}));var V="<"+E.name,R=function(H,L){if(H)return Object.keys(H).map(function(W){var q,J,D=(q=H[W])!==null&&q!==void 0?q:"";return L.xmlMode==="foreign"&&(W=(J=h.attributeNames.get(W))!==null&&J!==void 0?J:W),L.emptyAttrs||L.xmlMode||D!==""?W+'="'+(L.decodeEntities!==!1?g.encodeXML(D):D.replace(/"/g,"&quot;"))+'"':W}).join(" ")}(E.attribs,N);return R&&(V+=" "+R),E.children.length===0&&(N.xmlMode?N.selfClosingTags!==!1:N.selfClosingTags&&_.has(E.name))?(N.xmlMode||(V+=" "),V+="/>"):(V+=">",E.children.length>0&&(V+=O(E.children,N)),!N.xmlMode&&_.has(E.name)||(V+="</"+E.name+">")),V}(b,k);case p.Text:return function(E,N){var F=E.data||"";return N.decodeEntities===!1||!N.xmlMode&&E.parent&&y.has(E.parent.name)||(F=g.encodeXML(F)),F}(b,k)}}r.default=O;var w=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),T=new Set(["svg","math"])},9960:(i,r)=>{"use strict";var a;Object.defineProperty(r,"__esModule",{value:!0}),r.Doctype=r.CDATA=r.Tag=r.Style=r.Script=r.Comment=r.Directive=r.Text=r.Root=r.isTag=r.ElementType=void 0,function(s){s.Root="root",s.Text="text",s.Directive="directive",s.Comment="comment",s.Script="script",s.Style="style",s.Tag="tag",s.CDATA="cdata",s.Doctype="doctype"}(a=r.ElementType||(r.ElementType={})),r.isTag=function(s){return s.type===a.Tag||s.type===a.Script||s.type===a.Style},r.Root=a.Root,r.Text=a.Text,r.Directive=a.Directive,r.Comment=a.Comment,r.Script=a.Script,r.Style=a.Style,r.Tag=a.Tag,r.CDATA=a.CDATA,r.Doctype=a.Doctype},7915:function(i,r,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(y,_,O,M){M===void 0&&(M=O);var w=Object.getOwnPropertyDescriptor(_,O);w&&!("get"in w?!_.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return _[O]}}),Object.defineProperty(y,M,w)}:function(y,_,O,M){M===void 0&&(M=O),y[M]=_[O]}),l=this&&this.__exportStar||function(y,_){for(var O in y)O==="default"||Object.prototype.hasOwnProperty.call(_,O)||s(_,y,O)};Object.defineProperty(r,"__esModule",{value:!0}),r.DomHandler=void 0;var c=a(9960),u=a(7790);l(a(7790),r);var p=/\s+/g,g={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},h=function(){function y(_,O,M){this.dom=[],this.root=new u.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof O=="function"&&(M=O,O=g),typeof _=="object"&&(O=_,_=void 0),this.callback=_??null,this.options=O??g,this.elementCB=M??null}return y.prototype.onparserinit=function(_){this.parser=_},y.prototype.onreset=function(){this.dom=[],this.root=new u.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},y.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},y.prototype.onerror=function(_){this.handleCallback(_)},y.prototype.onclosetag=function(){this.lastNode=null;var _=this.tagStack.pop();this.options.withEndIndices&&(_.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(_)},y.prototype.onopentag=function(_,O){var M=this.options.xmlMode?c.ElementType.Tag:void 0,w=new u.Element(_,O,void 0,M);this.addNode(w),this.tagStack.push(w)},y.prototype.ontext=function(_){var O=this.options.normalizeWhitespace,M=this.lastNode;if(M&&M.type===c.ElementType.Text)O?M.data=(M.data+_).replace(p," "):M.data+=_,this.options.withEndIndices&&(M.endIndex=this.parser.endIndex);else{O&&(_=_.replace(p," "));var w=new u.Text(_);this.addNode(w),this.lastNode=w}},y.prototype.oncomment=function(_){if(this.lastNode&&this.lastNode.type===c.ElementType.Comment)this.lastNode.data+=_;else{var O=new u.Comment(_);this.addNode(O),this.lastNode=O}},y.prototype.oncommentend=function(){this.lastNode=null},y.prototype.oncdatastart=function(){var _=new u.Text(""),O=new u.NodeWithChildren(c.ElementType.CDATA,[_]);this.addNode(O),_.parent=O,this.lastNode=_},y.prototype.oncdataend=function(){this.lastNode=null},y.prototype.onprocessinginstruction=function(_,O){var M=new u.ProcessingInstruction(_,O);this.addNode(M)},y.prototype.handleCallback=function(_){if(typeof this.callback=="function")this.callback(_,this.dom);else if(_)throw _},y.prototype.addNode=function(_){var O=this.tagStack[this.tagStack.length-1],M=O.children[O.children.length-1];this.options.withStartIndices&&(_.startIndex=this.parser.startIndex),this.options.withEndIndices&&(_.endIndex=this.parser.endIndex),O.children.push(_),M&&(_.prev=M,M.next=_),_.parent=O,this.lastNode=null},y}();r.DomHandler=h,r.default=h},7790:function(i,r,a){"use strict";var s,l=this&&this.__extends||(s=function(L,W){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,J){q.__proto__=J}||function(q,J){for(var D in J)Object.prototype.hasOwnProperty.call(J,D)&&(q[D]=J[D])},s(L,W)},function(L,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function q(){this.constructor=L}s(L,W),L.prototype=W===null?Object.create(W):(q.prototype=W.prototype,new q)}),c=this&&this.__assign||function(){return c=Object.assign||function(L){for(var W,q=1,J=arguments.length;q<J;q++)for(var D in W=arguments[q])Object.prototype.hasOwnProperty.call(W,D)&&(L[D]=W[D]);return L},c.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.cloneNode=r.hasChildren=r.isDocument=r.isDirective=r.isComment=r.isText=r.isCDATA=r.isTag=r.Element=r.Document=r.NodeWithChildren=r.ProcessingInstruction=r.Comment=r.Text=r.DataNode=r.Node=void 0;var u=a(9960),p=new Map([[u.ElementType.Tag,1],[u.ElementType.Script,1],[u.ElementType.Style,1],[u.ElementType.Directive,1],[u.ElementType.Text,3],[u.ElementType.CDATA,4],[u.ElementType.Comment,8],[u.ElementType.Root,9]]),g=function(){function L(W){this.type=W,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(L.prototype,"nodeType",{get:function(){var W;return(W=p.get(this.type))!==null&&W!==void 0?W:1},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"parentNode",{get:function(){return this.parent},set:function(W){this.parent=W},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"previousSibling",{get:function(){return this.prev},set:function(W){this.prev=W},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"nextSibling",{get:function(){return this.next},set:function(W){this.next=W},enumerable:!1,configurable:!0}),L.prototype.cloneNode=function(W){return W===void 0&&(W=!1),R(this,W)},L}();r.Node=g;var h=function(L){function W(q,J){var D=L.call(this,q)||this;return D.data=J,D}return l(W,L),Object.defineProperty(W.prototype,"nodeValue",{get:function(){return this.data},set:function(q){this.data=q},enumerable:!1,configurable:!0}),W}(g);r.DataNode=h;var y=function(L){function W(q){return L.call(this,u.ElementType.Text,q)||this}return l(W,L),W}(h);r.Text=y;var _=function(L){function W(q){return L.call(this,u.ElementType.Comment,q)||this}return l(W,L),W}(h);r.Comment=_;var O=function(L){function W(q,J){var D=L.call(this,u.ElementType.Directive,J)||this;return D.name=q,D}return l(W,L),W}(h);r.ProcessingInstruction=O;var M=function(L){function W(q,J){var D=L.call(this,q)||this;return D.children=J,D}return l(W,L),Object.defineProperty(W.prototype,"firstChild",{get:function(){var q;return(q=this.children[0])!==null&&q!==void 0?q:null},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"childNodes",{get:function(){return this.children},set:function(q){this.children=q},enumerable:!1,configurable:!0}),W}(g);r.NodeWithChildren=M;var w=function(L){function W(q){return L.call(this,u.ElementType.Root,q)||this}return l(W,L),W}(M);r.Document=w;var T=function(L){function W(q,J,D,Z){D===void 0&&(D=[]),Z===void 0&&(Z=q==="script"?u.ElementType.Script:q==="style"?u.ElementType.Style:u.ElementType.Tag);var nt=L.call(this,Z,D)||this;return nt.name=q,nt.attribs=J,nt}return l(W,L),Object.defineProperty(W.prototype,"tagName",{get:function(){return this.name},set:function(q){this.name=q},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"attributes",{get:function(){var q=this;return Object.keys(this.attribs).map(function(J){var D,Z;return{name:J,value:q.attribs[J],namespace:(D=q["x-attribsNamespace"])===null||D===void 0?void 0:D[J],prefix:(Z=q["x-attribsPrefix"])===null||Z===void 0?void 0:Z[J]}})},enumerable:!1,configurable:!0}),W}(M);function b(L){return(0,u.isTag)(L)}function k(L){return L.type===u.ElementType.CDATA}function E(L){return L.type===u.ElementType.Text}function N(L){return L.type===u.ElementType.Comment}function F(L){return L.type===u.ElementType.Directive}function V(L){return L.type===u.ElementType.Root}function R(L,W){var q;if(W===void 0&&(W=!1),E(L))q=new y(L.data);else if(N(L))q=new _(L.data);else if(b(L)){var J=W?H(L.children):[],D=new T(L.name,c({},L.attribs),J);J.forEach(function(Vt){return Vt.parent=D}),L.namespace!=null&&(D.namespace=L.namespace),L["x-attribsNamespace"]&&(D["x-attribsNamespace"]=c({},L["x-attribsNamespace"])),L["x-attribsPrefix"]&&(D["x-attribsPrefix"]=c({},L["x-attribsPrefix"])),q=D}else if(k(L)){J=W?H(L.children):[];var Z=new M(u.ElementType.CDATA,J);J.forEach(function(Vt){return Vt.parent=Z}),q=Z}else if(V(L)){J=W?H(L.children):[];var nt=new w(J);J.forEach(function(Vt){return Vt.parent=nt}),L["x-mode"]&&(nt["x-mode"]=L["x-mode"]),q=nt}else{if(!F(L))throw new Error("Not implemented yet: ".concat(L.type));var pt=new O(L.name,L.data);L["x-name"]!=null&&(pt["x-name"]=L["x-name"],pt["x-publicId"]=L["x-publicId"],pt["x-systemId"]=L["x-systemId"]),q=pt}return q.startIndex=L.startIndex,q.endIndex=L.endIndex,L.sourceCodeLocation!=null&&(q.sourceCodeLocation=L.sourceCodeLocation),q}function H(L){for(var W=L.map(function(J){return R(J,!0)}),q=1;q<W.length;q++)W[q].prev=W[q-1],W[q-1].next=W[q];return W}r.Element=T,r.isTag=b,r.isCDATA=k,r.isText=E,r.isComment=N,r.isDirective=F,r.isDocument=V,r.hasChildren=function(L){return Object.prototype.hasOwnProperty.call(L,"children")},r.cloneNode=R},6996:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getFeed=void 0;var s=a(3346),l=a(3905);r.getFeed=function(O){var M=g(_,O);return M?M.name==="feed"?function(w){var T,b=w.children,k={type:"atom",items:(0,l.getElementsByTagName)("entry",b).map(function(F){var V,R=F.children,H={media:p(R)};y(H,"id","id",R),y(H,"title","title",R);var L=(V=g("link",R))===null||V===void 0?void 0:V.attribs.href;L&&(H.link=L);var W=h("summary",R)||h("content",R);W&&(H.description=W);var q=h("updated",R);return q&&(H.pubDate=new Date(q)),H})};y(k,"id","id",b),y(k,"title","title",b);var E=(T=g("link",b))===null||T===void 0?void 0:T.attribs.href;E&&(k.link=E),y(k,"description","subtitle",b);var N=h("updated",b);return N&&(k.updated=new Date(N)),y(k,"author","email",b,!0),k}(M):function(w){var T,b,k=(b=(T=g("channel",w.children))===null||T===void 0?void 0:T.children)!==null&&b!==void 0?b:[],E={type:w.name.substr(0,3),id:"",items:(0,l.getElementsByTagName)("item",w.children).map(function(F){var V=F.children,R={media:p(V)};y(R,"id","guid",V),y(R,"title","title",V),y(R,"link","link",V),y(R,"description","description",V);var H=h("pubDate",V);return H&&(R.pubDate=new Date(H)),R})};y(E,"title","title",k),y(E,"link","link",k),y(E,"description","description",k);var N=h("lastBuildDate",k);return N&&(E.updated=new Date(N)),y(E,"author","managingEditor",k,!0),E}(M):null};var c=["url","type","lang"],u=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function p(O){return(0,l.getElementsByTagName)("media:content",O).map(function(M){for(var w=M.attribs,T={medium:w.medium,isDefault:!!w.isDefault},b=0,k=c;b<k.length;b++)w[F=k[b]]&&(T[F]=w[F]);for(var E=0,N=u;E<N.length;E++){var F;w[F=N[E]]&&(T[F]=parseInt(w[F],10))}return w.expression&&(T.expression=w.expression),T})}function g(O,M){return(0,l.getElementsByTagName)(O,M,!0,1)[0]}function h(O,M,w){return w===void 0&&(w=!1),(0,s.textContent)((0,l.getElementsByTagName)(O,M,w,1)).trim()}function y(O,M,w,T,b){b===void 0&&(b=!1);var k=h(w,T,b);k&&(O[M]=k)}function _(O){return O==="rss"||O==="feed"||O==="rdf:RDF"}},4975:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.uniqueSort=r.compareDocumentPosition=r.removeSubsets=void 0;var s=a(7915);function l(c,u){var p=[],g=[];if(c===u)return 0;for(var h=(0,s.hasChildren)(c)?c:c.parent;h;)p.unshift(h),h=h.parent;for(h=(0,s.hasChildren)(u)?u:u.parent;h;)g.unshift(h),h=h.parent;for(var y=Math.min(p.length,g.length),_=0;_<y&&p[_]===g[_];)_++;if(_===0)return 1;var O=p[_-1],M=O.children,w=p[_],T=g[_];return M.indexOf(w)>M.indexOf(T)?O===u?20:4:O===c?10:2}r.removeSubsets=function(c){for(var u=c.length;--u>=0;){var p=c[u];if(u>0&&c.lastIndexOf(p,u-1)>=0)c.splice(u,1);else for(var g=p.parent;g;g=g.parent)if(c.includes(g)){c.splice(u,1);break}}return c},r.compareDocumentPosition=l,r.uniqueSort=function(c){return(c=c.filter(function(u,p,g){return!g.includes(u,p+1)})).sort(function(u,p){var g=l(u,p);return 2&g?-1:4&g?1:0}),c}},9432:function(i,r,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(u,p,g,h){h===void 0&&(h=g),Object.defineProperty(u,h,{enumerable:!0,get:function(){return p[g]}})}:function(u,p,g,h){h===void 0&&(h=g),u[h]=p[g]}),l=this&&this.__exportStar||function(u,p){for(var g in u)g==="default"||Object.prototype.hasOwnProperty.call(p,g)||s(p,u,g)};Object.defineProperty(r,"__esModule",{value:!0}),r.hasChildren=r.isDocument=r.isComment=r.isText=r.isCDATA=r.isTag=void 0,l(a(3346),r),l(a(5010),r),l(a(6765),r),l(a(8043),r),l(a(3905),r),l(a(4975),r),l(a(6996),r);var c=a(7915);Object.defineProperty(r,"isTag",{enumerable:!0,get:function(){return c.isTag}}),Object.defineProperty(r,"isCDATA",{enumerable:!0,get:function(){return c.isCDATA}}),Object.defineProperty(r,"isText",{enumerable:!0,get:function(){return c.isText}}),Object.defineProperty(r,"isComment",{enumerable:!0,get:function(){return c.isComment}}),Object.defineProperty(r,"isDocument",{enumerable:!0,get:function(){return c.isDocument}}),Object.defineProperty(r,"hasChildren",{enumerable:!0,get:function(){return c.hasChildren}})},3905:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getElementsByTagType=r.getElementsByTagName=r.getElementById=r.getElements=r.testElement=void 0;var s=a(7915),l=a(8043),c={tag_name:function(h){return typeof h=="function"?function(y){return(0,s.isTag)(y)&&h(y.name)}:h==="*"?s.isTag:function(y){return(0,s.isTag)(y)&&y.name===h}},tag_type:function(h){return typeof h=="function"?function(y){return h(y.type)}:function(y){return y.type===h}},tag_contains:function(h){return typeof h=="function"?function(y){return(0,s.isText)(y)&&h(y.data)}:function(y){return(0,s.isText)(y)&&y.data===h}}};function u(h,y){return typeof y=="function"?function(_){return(0,s.isTag)(_)&&y(_.attribs[h])}:function(_){return(0,s.isTag)(_)&&_.attribs[h]===y}}function p(h,y){return function(_){return h(_)||y(_)}}function g(h){var y=Object.keys(h).map(function(_){var O=h[_];return Object.prototype.hasOwnProperty.call(c,_)?c[_](O):u(_,O)});return y.length===0?null:y.reduce(p)}r.testElement=function(h,y){var _=g(h);return!_||_(y)},r.getElements=function(h,y,_,O){O===void 0&&(O=1/0);var M=g(h);return M?(0,l.filter)(M,y,_,O):[]},r.getElementById=function(h,y,_){return _===void 0&&(_=!0),Array.isArray(y)||(y=[y]),(0,l.findOne)(u("id",h),y,_)},r.getElementsByTagName=function(h,y,_,O){return _===void 0&&(_=!0),O===void 0&&(O=1/0),(0,l.filter)(c.tag_name(h),y,_,O)},r.getElementsByTagType=function(h,y,_,O){return _===void 0&&(_=!0),O===void 0&&(O=1/0),(0,l.filter)(c.tag_type(h),y,_,O)}},6765:(i,r)=>{"use strict";function a(s){if(s.prev&&(s.prev.next=s.next),s.next&&(s.next.prev=s.prev),s.parent){var l=s.parent.children;l.splice(l.lastIndexOf(s),1)}}Object.defineProperty(r,"__esModule",{value:!0}),r.prepend=r.prependChild=r.append=r.appendChild=r.replaceElement=r.removeElement=void 0,r.removeElement=a,r.replaceElement=function(s,l){var c=l.prev=s.prev;c&&(c.next=l);var u=l.next=s.next;u&&(u.prev=l);var p=l.parent=s.parent;if(p){var g=p.children;g[g.lastIndexOf(s)]=l}},r.appendChild=function(s,l){if(a(l),l.next=null,l.parent=s,s.children.push(l)>1){var c=s.children[s.children.length-2];c.next=l,l.prev=c}else l.prev=null},r.append=function(s,l){a(l);var c=s.parent,u=s.next;if(l.next=u,l.prev=s,s.next=l,l.parent=c,u){if(u.prev=l,c){var p=c.children;p.splice(p.lastIndexOf(u),0,l)}}else c&&c.children.push(l)},r.prependChild=function(s,l){if(a(l),l.parent=s,l.prev=null,s.children.unshift(l)!==1){var c=s.children[1];c.prev=l,l.next=c}else l.next=null},r.prepend=function(s,l){a(l);var c=s.parent;if(c){var u=c.children;u.splice(u.indexOf(s),0,l)}s.prev&&(s.prev.next=l),l.parent=c,l.prev=s.prev,l.next=s,s.prev=l}},8043:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.findAll=r.existsOne=r.findOne=r.findOneChild=r.find=r.filter=void 0;var s=a(7915);function l(c,u,p,g){for(var h=[],y=0,_=u;y<_.length;y++){var O=_[y];if(c(O)&&(h.push(O),--g<=0))break;if(p&&(0,s.hasChildren)(O)&&O.children.length>0){var M=l(c,O.children,p,g);if(h.push.apply(h,M),(g-=M.length)<=0)break}}return h}r.filter=function(c,u,p,g){return p===void 0&&(p=!0),g===void 0&&(g=1/0),Array.isArray(u)||(u=[u]),l(c,u,p,g)},r.find=l,r.findOneChild=function(c,u){return u.find(c)},r.findOne=function c(u,p,g){g===void 0&&(g=!0);for(var h=null,y=0;y<p.length&&!h;y++){var _=p[y];(0,s.isTag)(_)&&(u(_)?h=_:g&&_.children.length>0&&(h=c(u,_.children)))}return h},r.existsOne=function c(u,p){return p.some(function(g){return(0,s.isTag)(g)&&(u(g)||g.children.length>0&&c(u,g.children))})},r.findAll=function(c,u){for(var p,g,h=[],y=u.filter(s.isTag);g=y.shift();){var _=(p=g.children)===null||p===void 0?void 0:p.filter(s.isTag);_&&_.length>0&&y.unshift.apply(y,_),c(g)&&h.push(g)}return h}},3346:function(i,r,a){"use strict";var s=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(r,"__esModule",{value:!0}),r.innerText=r.textContent=r.getText=r.getInnerHTML=r.getOuterHTML=void 0;var l=a(7915),c=s(a(7220)),u=a(9960);function p(g,h){return(0,c.default)(g,h)}r.getOuterHTML=p,r.getInnerHTML=function(g,h){return(0,l.hasChildren)(g)?g.children.map(function(y){return p(y,h)}).join(""):""},r.getText=function g(h){return Array.isArray(h)?h.map(g).join(""):(0,l.isTag)(h)?h.name==="br"?`
`:g(h.children):(0,l.isCDATA)(h)?g(h.children):(0,l.isText)(h)?h.data:""},r.textContent=function g(h){return Array.isArray(h)?h.map(g).join(""):(0,l.hasChildren)(h)&&!(0,l.isComment)(h)?g(h.children):(0,l.isText)(h)?h.data:""},r.innerText=function g(h){return Array.isArray(h)?h.map(g).join(""):(0,l.hasChildren)(h)&&(h.type===u.ElementType.Tag||(0,l.isCDATA)(h))?g(h.children):(0,l.isText)(h)?h.data:""}},5010:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.prevElementSibling=r.nextElementSibling=r.getName=r.hasAttrib=r.getAttributeValue=r.getSiblings=r.getParent=r.getChildren=void 0;var s=a(7915),l=[];function c(p){var g;return(g=p.children)!==null&&g!==void 0?g:l}function u(p){return p.parent||null}r.getChildren=c,r.getParent=u,r.getSiblings=function(p){var g=u(p);if(g!=null)return c(g);for(var h=[p],y=p.prev,_=p.next;y!=null;)h.unshift(y),y=y.prev;for(;_!=null;)h.push(_),_=_.next;return h},r.getAttributeValue=function(p,g){var h;return(h=p.attribs)===null||h===void 0?void 0:h[g]},r.hasAttrib=function(p,g){return p.attribs!=null&&Object.prototype.hasOwnProperty.call(p.attribs,g)&&p.attribs[g]!=null},r.getName=function(p){return p.name},r.nextElementSibling=function(p){for(var g=p.next;g!==null&&!(0,s.isTag)(g);)g=g.next;return g},r.prevElementSibling=function(p){for(var g=p.prev;g!==null&&!(0,s.isTag)(g);)g=g.prev;return g}},4076:function(i,r,a){"use strict";var s=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(r,"__esModule",{value:!0}),r.decodeHTML=r.decodeHTMLStrict=r.decodeXML=void 0;var l=s(a(9323)),c=s(a(9591)),u=s(a(2586)),p=s(a(26)),g=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function h(O){var M=_(O);return function(w){return String(w).replace(g,M)}}r.decodeXML=h(u.default),r.decodeHTMLStrict=h(l.default);var y=function(O,M){return O<M?1:-1};function _(O){return function(M){if(M.charAt(1)==="#"){var w=M.charAt(2);return w==="X"||w==="x"?p.default(parseInt(M.substr(3),16)):p.default(parseInt(M.substr(2),10))}return O[M.slice(1,-1)]||M}}r.decodeHTML=function(){for(var O=Object.keys(c.default).sort(y),M=Object.keys(l.default).sort(y),w=0,T=0;w<M.length;w++)O[T]===M[w]?(M[w]+=";?",T++):M[w]+=";";var b=new RegExp("&(?:"+M.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),k=_(l.default);function E(N){return N.substr(-1)!==";"&&(N+=";"),k(N)}return function(N){return String(N).replace(b,E)}}()},26:function(i,r,a){"use strict";var s=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(r,"__esModule",{value:!0});var l=s(a(3600)),c=String.fromCodePoint||function(u){var p="";return u>65535&&(u-=65536,p+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),p+=String.fromCharCode(u)};r.default=function(u){return u>=55296&&u<=57343||u>1114111?"\uFFFD":(u in l.default&&(u=l.default[u]),c(u))}},7322:function(i,r,a){"use strict";var s=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(r,"__esModule",{value:!0}),r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=void 0;var l=y(s(a(2586)).default),c=_(l);r.encodeXML=b(l);var u,p,g=y(s(a(9323)).default),h=_(g);function y(k){return Object.keys(k).sort().reduce(function(E,N){return E[k[N]]="&"+N+";",E},{})}function _(k){for(var E=[],N=[],F=0,V=Object.keys(k);F<V.length;F++){var R=V[F];R.length===1?E.push("\\"+R):N.push(R)}E.sort();for(var H=0;H<E.length-1;H++){for(var L=H;L<E.length-1&&E[L].charCodeAt(1)+1===E[L+1].charCodeAt(1);)L+=1;var W=1+L-H;W<3||E.splice(H,W,E[H]+"-"+E[L])}return N.unshift("["+E.join("")+"]"),new RegExp(N.join("|"),"g")}r.encodeHTML=(u=g,p=h,function(k){return k.replace(p,function(E){return u[E]}).replace(O,w)}),r.encodeNonAsciiHTML=b(g);var O=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,M=String.prototype.codePointAt!=null?function(k){return k.codePointAt(0)}:function(k){return 1024*(k.charCodeAt(0)-55296)+k.charCodeAt(1)-56320+65536};function w(k){return"&#x"+(k.length>1?M(k):k.charCodeAt(0)).toString(16).toUpperCase()+";"}var T=new RegExp(c.source+"|"+O.source,"g");function b(k){return function(E){return E.replace(T,function(N){return k[N]||w(N)})}}r.escape=function(k){return k.replace(T,w)},r.escapeUTF8=function(k){return k.replace(c,w)}},5863:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decodeXMLStrict=r.decodeHTML5Strict=r.decodeHTML4Strict=r.decodeHTML5=r.decodeHTML4=r.decodeHTMLStrict=r.decodeHTML=r.decodeXML=r.encodeHTML5=r.encodeHTML4=r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=r.encode=r.decodeStrict=r.decode=void 0;var s=a(4076),l=a(7322);r.decode=function(p,g){return(!g||g<=0?s.decodeXML:s.decodeHTML)(p)},r.decodeStrict=function(p,g){return(!g||g<=0?s.decodeXML:s.decodeHTMLStrict)(p)},r.encode=function(p,g){return(!g||g<=0?l.encodeXML:l.encodeHTML)(p)};var c=a(7322);Object.defineProperty(r,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(r,"encodeHTML",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(r,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return c.encodeNonAsciiHTML}}),Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(r,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(r,"encodeHTML4",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(r,"encodeHTML5",{enumerable:!0,get:function(){return c.encodeHTML}});var u=a(4076);Object.defineProperty(r,"decodeXML",{enumerable:!0,get:function(){return u.decodeXML}}),Object.defineProperty(r,"decodeHTML",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(r,"decodeHTMLStrict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML4",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(r,"decodeHTML5",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(r,"decodeHTML4Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML5Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(r,"decodeXMLStrict",{enumerable:!0,get:function(){return u.decodeXML}})},3870:function(i,r,a){"use strict";var s,l=this&&this.__extends||(s=function(R,H){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,W){L.__proto__=W}||function(L,W){for(var q in W)Object.prototype.hasOwnProperty.call(W,q)&&(L[q]=W[q])},s(R,H)},function(R,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function L(){this.constructor=R}s(R,H),R.prototype=H===null?Object.create(H):(L.prototype=H.prototype,new L)}),c=this&&this.__createBinding||(Object.create?function(R,H,L,W){W===void 0&&(W=L),Object.defineProperty(R,W,{enumerable:!0,get:function(){return H[L]}})}:function(R,H,L,W){W===void 0&&(W=L),R[W]=H[L]}),u=this&&this.__setModuleDefault||(Object.create?function(R,H){Object.defineProperty(R,"default",{enumerable:!0,value:H})}:function(R,H){R.default=H}),p=this&&this.__importStar||function(R){if(R&&R.__esModule)return R;var H={};if(R!=null)for(var L in R)L!=="default"&&Object.prototype.hasOwnProperty.call(R,L)&&c(H,R,L);return u(H,R),H},g=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(r,"__esModule",{value:!0}),r.parseFeed=r.FeedHandler=void 0;var h,y,_=g(a(7915)),O=p(a(9432)),M=a(763);(function(R){R[R.image=0]="image",R[R.audio=1]="audio",R[R.video=2]="video",R[R.document=3]="document",R[R.executable=4]="executable"})(h||(h={})),function(R){R[R.sample=0]="sample",R[R.full=1]="full",R[R.nonstop=2]="nonstop"}(y||(y={}));var w=function(R){function H(L,W){return typeof L=="object"&&(W=L=void 0),R.call(this,L,W)||this}return l(H,R),H.prototype.onend=function(){var L,W,q=k(V,this.dom);if(q){var J={};if(q.name==="feed"){var D=q.children;J.type="atom",F(J,"id","id",D),F(J,"title","title",D);var Z=N("href",k("link",D));Z&&(J.link=Z),F(J,"description","subtitle",D),(nt=E("updated",D))&&(J.updated=new Date(nt)),F(J,"author","email",D,!0),J.items=b("entry",D).map(function(pt){var Vt={},qt=pt.children;F(Vt,"id","id",qt),F(Vt,"title","title",qt);var Pt=N("href",k("link",qt));Pt&&(Vt.link=Pt);var yt=E("summary",qt)||E("content",qt);yt&&(Vt.description=yt);var rt=E("updated",qt);return rt&&(Vt.pubDate=new Date(rt)),Vt.media=T(qt),Vt})}else{var nt;D=(W=(L=k("channel",q.children))===null||L===void 0?void 0:L.children)!==null&&W!==void 0?W:[],J.type=q.name.substr(0,3),J.id="",F(J,"title","title",D),F(J,"link","link",D),F(J,"description","description",D),(nt=E("lastBuildDate",D))&&(J.updated=new Date(nt)),F(J,"author","managingEditor",D,!0),J.items=b("item",q.children).map(function(pt){var Vt={},qt=pt.children;F(Vt,"id","guid",qt),F(Vt,"title","title",qt),F(Vt,"link","link",qt),F(Vt,"description","description",qt);var Pt=E("pubDate",qt);return Pt&&(Vt.pubDate=new Date(Pt)),Vt.media=T(qt),Vt})}this.feed=J,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},H}(_.default);function T(R){return b("media:content",R).map(function(H){var L={medium:H.attribs.medium,isDefault:!!H.attribs.isDefault};return H.attribs.url&&(L.url=H.attribs.url),H.attribs.fileSize&&(L.fileSize=parseInt(H.attribs.fileSize,10)),H.attribs.type&&(L.type=H.attribs.type),H.attribs.expression&&(L.expression=H.attribs.expression),H.attribs.bitrate&&(L.bitrate=parseInt(H.attribs.bitrate,10)),H.attribs.framerate&&(L.framerate=parseInt(H.attribs.framerate,10)),H.attribs.samplingrate&&(L.samplingrate=parseInt(H.attribs.samplingrate,10)),H.attribs.channels&&(L.channels=parseInt(H.attribs.channels,10)),H.attribs.duration&&(L.duration=parseInt(H.attribs.duration,10)),H.attribs.height&&(L.height=parseInt(H.attribs.height,10)),H.attribs.width&&(L.width=parseInt(H.attribs.width,10)),H.attribs.lang&&(L.lang=H.attribs.lang),L})}function b(R,H){return O.getElementsByTagName(R,H,!0)}function k(R,H){return O.getElementsByTagName(R,H,!0,1)[0]}function E(R,H,L){return L===void 0&&(L=!1),O.getText(O.getElementsByTagName(R,H,L,1)).trim()}function N(R,H){return H?H.attribs[R]:null}function F(R,H,L,W,q){q===void 0&&(q=!1);var J=E(L,W,q);J&&(R[H]=J)}function V(R){return R==="rss"||R==="feed"||R==="rdf:RDF"}r.FeedHandler=w,r.parseFeed=function(R,H){H===void 0&&(H={xmlMode:!0});var L=new w(H);return new M.Parser(L,H).end(R),L.feed}},763:function(i,r,a){"use strict";var s=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(r,"__esModule",{value:!0}),r.Parser=void 0;var l=s(a(9889)),c=new Set(["input","option","optgroup","select","button","datalist","textarea"]),u=new Set(["p"]),p={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:u,h1:u,h2:u,h3:u,h4:u,h5:u,h6:u,select:c,input:c,output:c,button:c,datalist:c,textarea:c,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:u,article:u,aside:u,blockquote:u,details:u,div:u,dl:u,fieldset:u,figcaption:u,figure:u,footer:u,form:u,header:u,hr:u,main:u,nav:u,ol:u,pre:u,section:u,table:u,ul:u,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},g=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),y=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),_=/\s|\//,O=function(){function M(w,T){var b,k,E,N,F;T===void 0&&(T={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=T,this.cbs=w??{},this.lowerCaseTagNames=(b=T.lowerCaseTags)!==null&&b!==void 0?b:!T.xmlMode,this.lowerCaseAttributeNames=(k=T.lowerCaseAttributeNames)!==null&&k!==void 0?k:!T.xmlMode,this.tokenizer=new((E=T.Tokenizer)!==null&&E!==void 0?E:l.default)(this.options,this),(F=(N=this.cbs).onparserinit)===null||F===void 0||F.call(N,this)}return M.prototype.updatePosition=function(w){this.endIndex===null?this.tokenizer.sectionStart<=w?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-w:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},M.prototype.ontext=function(w){var T,b;this.updatePosition(1),this.endIndex--,(b=(T=this.cbs).ontext)===null||b===void 0||b.call(T,w)},M.prototype.onopentagname=function(w){var T,b;if(this.lowerCaseTagNames&&(w=w.toLowerCase()),this.tagname=w,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(p,w))for(var k=void 0;this.stack.length>0&&p[w].has(k=this.stack[this.stack.length-1]);)this.onclosetag(k);!this.options.xmlMode&&g.has(w)||(this.stack.push(w),h.has(w)?this.foreignContext.push(!0):y.has(w)&&this.foreignContext.push(!1)),(b=(T=this.cbs).onopentagname)===null||b===void 0||b.call(T,w),this.cbs.onopentag&&(this.attribs={})},M.prototype.onopentagend=function(){var w,T;this.updatePosition(1),this.attribs&&((T=(w=this.cbs).onopentag)===null||T===void 0||T.call(w,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&g.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},M.prototype.onclosetag=function(w){if(this.updatePosition(1),this.lowerCaseTagNames&&(w=w.toLowerCase()),(h.has(w)||y.has(w))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&g.has(w))this.options.xmlMode||w!=="br"&&w!=="p"||(this.onopentagname(w),this.closeCurrentTag());else{var T=this.stack.lastIndexOf(w);if(T!==-1)if(this.cbs.onclosetag)for(T=this.stack.length-T;T--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=T;else w!=="p"||this.options.xmlMode||(this.onopentagname(w),this.closeCurrentTag())}},M.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},M.prototype.closeCurrentTag=function(){var w,T,b=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===b&&((T=(w=this.cbs).onclosetag)===null||T===void 0||T.call(w,b),this.stack.pop())},M.prototype.onattribname=function(w){this.lowerCaseAttributeNames&&(w=w.toLowerCase()),this.attribname=w},M.prototype.onattribdata=function(w){this.attribvalue+=w},M.prototype.onattribend=function(w){var T,b;(b=(T=this.cbs).onattribute)===null||b===void 0||b.call(T,this.attribname,this.attribvalue,w),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},M.prototype.getInstructionName=function(w){var T=w.search(_),b=T<0?w:w.substr(0,T);return this.lowerCaseTagNames&&(b=b.toLowerCase()),b},M.prototype.ondeclaration=function(w){if(this.cbs.onprocessinginstruction){var T=this.getInstructionName(w);this.cbs.onprocessinginstruction("!"+T,"!"+w)}},M.prototype.onprocessinginstruction=function(w){if(this.cbs.onprocessinginstruction){var T=this.getInstructionName(w);this.cbs.onprocessinginstruction("?"+T,"?"+w)}},M.prototype.oncomment=function(w){var T,b,k,E;this.updatePosition(4),(b=(T=this.cbs).oncomment)===null||b===void 0||b.call(T,w),(E=(k=this.cbs).oncommentend)===null||E===void 0||E.call(k)},M.prototype.oncdata=function(w){var T,b,k,E,N,F;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?((b=(T=this.cbs).oncdatastart)===null||b===void 0||b.call(T),(E=(k=this.cbs).ontext)===null||E===void 0||E.call(k,w),(F=(N=this.cbs).oncdataend)===null||F===void 0||F.call(N)):this.oncomment("[CDATA["+w+"]]")},M.prototype.onerror=function(w){var T,b;(b=(T=this.cbs).onerror)===null||b===void 0||b.call(T,w)},M.prototype.onend=function(){var w,T;if(this.cbs.onclosetag)for(var b=this.stack.length;b>0;this.cbs.onclosetag(this.stack[--b]));(T=(w=this.cbs).onend)===null||T===void 0||T.call(w)},M.prototype.reset=function(){var w,T,b,k;(T=(w=this.cbs).onreset)===null||T===void 0||T.call(w),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],(k=(b=this.cbs).onparserinit)===null||k===void 0||k.call(b,this)},M.prototype.parseComplete=function(w){this.reset(),this.end(w)},M.prototype.write=function(w){this.tokenizer.write(w)},M.prototype.end=function(w){this.tokenizer.end(w)},M.prototype.pause=function(){this.tokenizer.pause()},M.prototype.resume=function(){this.tokenizer.resume()},M.prototype.parseChunk=function(w){this.write(w)},M.prototype.done=function(w){this.end(w)},M}();r.Parser=O},9889:function(i,r,a){"use strict";var s=this&&this.__importDefault||function(Nt){return Nt&&Nt.__esModule?Nt:{default:Nt}};Object.defineProperty(r,"__esModule",{value:!0});var l=s(a(26)),c=s(a(9323)),u=s(a(9591)),p=s(a(2586));function g(Nt){return Nt===" "||Nt===`
`||Nt==="	"||Nt==="\f"||Nt==="\r"}function h(Nt){return Nt>="a"&&Nt<="z"||Nt>="A"&&Nt<="Z"}function y(Nt,st,$t){var le=Nt.toLowerCase();return Nt===le?function(Ct,ae){ae===le?Ct._state=st:(Ct._state=$t,Ct._index--)}:function(Ct,ae){ae===le||ae===Nt?Ct._state=st:(Ct._state=$t,Ct._index--)}}function _(Nt,st){var $t=Nt.toLowerCase();return function(le,Ct){Ct===$t||Ct===Nt?le._state=st:(le._state=3,le._index--)}}var O=y("C",24,16),M=y("D",25,16),w=y("A",26,16),T=y("T",27,16),b=y("A",28,16),k=_("R",35),E=_("I",36),N=_("P",37),F=_("T",38),V=y("R",40,1),R=y("I",41,1),H=y("P",42,1),L=y("T",43,1),W=_("Y",45),q=_("L",46),J=_("E",47),D=y("Y",49,1),Z=y("L",50,1),nt=y("E",51,1),pt=_("I",54),Vt=_("T",55),qt=_("L",56),Pt=_("E",57),yt=y("I",58,1),rt=y("T",59,1),ft=y("L",60,1),wt=y("E",61,1),Et=y("#",63,64),zt=y("X",66,65),Wt=function(){function Nt(st,$t){var le;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=$t,this.xmlMode=!!st?.xmlMode,this.decodeEntities=(le=st?.decodeEntities)===null||le===void 0||le}return Nt.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},Nt.prototype.write=function(st){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=st,this.parse()},Nt.prototype.end=function(st){this.ended&&this.cbs.onerror(Error(".end() after done!")),st&&this.write(st),this.ended=!0,this.running&&this.finish()},Nt.prototype.pause=function(){this.running=!1},Nt.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},Nt.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},Nt.prototype.stateText=function(st){st==="<"?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||st!=="&"||this.special!==1&&this.special!==4||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},Nt.prototype.isTagStartChar=function(st){return h(st)||this.xmlMode&&!g(st)&&st!=="/"&&st!==">"},Nt.prototype.stateBeforeTagName=function(st){st==="/"?this._state=5:st==="<"?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):st===">"||this.special!==1||g(st)?this._state=1:st==="!"?(this._state=15,this.sectionStart=this._index+1):st==="?"?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(st)?(this._state=this.xmlMode||st!=="s"&&st!=="S"?this.xmlMode||st!=="t"&&st!=="T"?3:52:32,this.sectionStart=this._index):this._state=1},Nt.prototype.stateInTagName=function(st){(st==="/"||st===">"||g(st))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},Nt.prototype.stateBeforeClosingTagName=function(st){g(st)||(st===">"?this._state=1:this.special!==1?this.special===4||st!=="s"&&st!=="S"?this.special!==4||st!=="t"&&st!=="T"?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(st)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},Nt.prototype.stateInClosingTagName=function(st){(st===">"||g(st))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},Nt.prototype.stateAfterClosingTagName=function(st){st===">"&&(this._state=1,this.sectionStart=this._index+1)},Nt.prototype.stateBeforeAttributeName=function(st){st===">"?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):st==="/"?this._state=4:g(st)||(this._state=9,this.sectionStart=this._index)},Nt.prototype.stateInSelfClosingTag=function(st){st===">"?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):g(st)||(this._state=8,this._index--)},Nt.prototype.stateInAttributeName=function(st){(st==="="||st==="/"||st===">"||g(st))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},Nt.prototype.stateAfterAttributeName=function(st){st==="="?this._state=11:st==="/"||st===">"?(this.cbs.onattribend(void 0),this._state=8,this._index--):g(st)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},Nt.prototype.stateBeforeAttributeValue=function(st){st==='"'?(this._state=12,this.sectionStart=this._index+1):st==="'"?(this._state=13,this.sectionStart=this._index+1):g(st)||(this._state=14,this.sectionStart=this._index,this._index--)},Nt.prototype.handleInAttributeValue=function(st,$t){st===$t?(this.emitToken("onattribdata"),this.cbs.onattribend($t),this._state=8):this.decodeEntities&&st==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},Nt.prototype.stateInAttributeValueDoubleQuotes=function(st){this.handleInAttributeValue(st,'"')},Nt.prototype.stateInAttributeValueSingleQuotes=function(st){this.handleInAttributeValue(st,"'")},Nt.prototype.stateInAttributeValueNoQuotes=function(st){g(st)||st===">"?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&st==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},Nt.prototype.stateBeforeDeclaration=function(st){this._state=st==="["?23:st==="-"?18:16},Nt.prototype.stateInDeclaration=function(st){st===">"&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},Nt.prototype.stateInProcessingInstruction=function(st){st===">"&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},Nt.prototype.stateBeforeComment=function(st){st==="-"?(this._state=19,this.sectionStart=this._index+1):this._state=16},Nt.prototype.stateInComment=function(st){st==="-"&&(this._state=21)},Nt.prototype.stateInSpecialComment=function(st){st===">"&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},Nt.prototype.stateAfterComment1=function(st){this._state=st==="-"?22:19},Nt.prototype.stateAfterComment2=function(st){st===">"?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):st!=="-"&&(this._state=19)},Nt.prototype.stateBeforeCdata6=function(st){st==="["?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},Nt.prototype.stateInCdata=function(st){st==="]"&&(this._state=30)},Nt.prototype.stateAfterCdata1=function(st){this._state=st==="]"?31:29},Nt.prototype.stateAfterCdata2=function(st){st===">"?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):st!=="]"&&(this._state=29)},Nt.prototype.stateBeforeSpecialS=function(st){st==="c"||st==="C"?this._state=34:st==="t"||st==="T"?this._state=44:(this._state=3,this._index--)},Nt.prototype.stateBeforeSpecialSEnd=function(st){this.special!==2||st!=="c"&&st!=="C"?this.special!==3||st!=="t"&&st!=="T"?this._state=1:this._state=48:this._state=39},Nt.prototype.stateBeforeSpecialLast=function(st,$t){(st==="/"||st===">"||g(st))&&(this.special=$t),this._state=3,this._index--},Nt.prototype.stateAfterSpecialLast=function(st,$t){st===">"||g(st)?(this.special=1,this._state=6,this.sectionStart=this._index-$t,this._index--):this._state=1},Nt.prototype.parseFixedEntity=function(st){if(st===void 0&&(st=this.xmlMode?p.default:c.default),this.sectionStart+1<this._index){var $t=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(st,$t)&&(this.emitPartial(st[$t]),this.sectionStart=this._index+1)}},Nt.prototype.parseLegacyEntity=function(){for(var st=this.sectionStart+1,$t=Math.min(this._index-st,6);$t>=2;){var le=this.buffer.substr(st,$t);if(Object.prototype.hasOwnProperty.call(u.default,le))return this.emitPartial(u.default[le]),void(this.sectionStart+=$t+1);$t--}},Nt.prototype.stateInNamedEntity=function(st){st===";"?(this.parseFixedEntity(),this.baseState===1&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(st<"0"||st>"9")&&!h(st)&&(this.xmlMode||this.sectionStart+1===this._index||(this.baseState!==1?st!=="="&&this.parseFixedEntity(u.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},Nt.prototype.decodeNumericEntity=function(st,$t,le){var Ct=this.sectionStart+st;if(Ct!==this._index){var ae=this.buffer.substring(Ct,this._index),he=parseInt(ae,$t);this.emitPartial(l.default(he)),this.sectionStart=le?this._index+1:this._index}this._state=this.baseState},Nt.prototype.stateInNumericEntity=function(st){st===";"?this.decodeNumericEntity(2,10,!0):(st<"0"||st>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},Nt.prototype.stateInHexEntity=function(st){st===";"?this.decodeNumericEntity(3,16,!0):(st<"a"||st>"f")&&(st<"A"||st>"F")&&(st<"0"||st>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},Nt.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(this._state===1?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},Nt.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var st=this.buffer.charAt(this._index);this._state===1?this.stateText(st):this._state===12?this.stateInAttributeValueDoubleQuotes(st):this._state===9?this.stateInAttributeName(st):this._state===19?this.stateInComment(st):this._state===20?this.stateInSpecialComment(st):this._state===8?this.stateBeforeAttributeName(st):this._state===3?this.stateInTagName(st):this._state===6?this.stateInClosingTagName(st):this._state===2?this.stateBeforeTagName(st):this._state===10?this.stateAfterAttributeName(st):this._state===13?this.stateInAttributeValueSingleQuotes(st):this._state===11?this.stateBeforeAttributeValue(st):this._state===5?this.stateBeforeClosingTagName(st):this._state===7?this.stateAfterClosingTagName(st):this._state===32?this.stateBeforeSpecialS(st):this._state===21?this.stateAfterComment1(st):this._state===14?this.stateInAttributeValueNoQuotes(st):this._state===4?this.stateInSelfClosingTag(st):this._state===16?this.stateInDeclaration(st):this._state===15?this.stateBeforeDeclaration(st):this._state===22?this.stateAfterComment2(st):this._state===18?this.stateBeforeComment(st):this._state===33?this.stateBeforeSpecialSEnd(st):this._state===53?yt(this,st):this._state===39?V(this,st):this._state===40?R(this,st):this._state===41?H(this,st):this._state===34?k(this,st):this._state===35?E(this,st):this._state===36?N(this,st):this._state===37?F(this,st):this._state===38?this.stateBeforeSpecialLast(st,2):this._state===42?L(this,st):this._state===43?this.stateAfterSpecialLast(st,6):this._state===44?W(this,st):this._state===29?this.stateInCdata(st):this._state===45?q(this,st):this._state===46?J(this,st):this._state===47?this.stateBeforeSpecialLast(st,3):this._state===48?D(this,st):this._state===49?Z(this,st):this._state===50?nt(this,st):this._state===51?this.stateAfterSpecialLast(st,5):this._state===52?pt(this,st):this._state===54?Vt(this,st):this._state===55?qt(this,st):this._state===56?Pt(this,st):this._state===57?this.stateBeforeSpecialLast(st,4):this._state===58?rt(this,st):this._state===59?ft(this,st):this._state===60?wt(this,st):this._state===61?this.stateAfterSpecialLast(st,5):this._state===17?this.stateInProcessingInstruction(st):this._state===64?this.stateInNamedEntity(st):this._state===23?O(this,st):this._state===62?Et(this,st):this._state===24?M(this,st):this._state===25?w(this,st):this._state===30?this.stateAfterCdata1(st):this._state===31?this.stateAfterCdata2(st):this._state===26?T(this,st):this._state===27?b(this,st):this._state===28?this.stateBeforeCdata6(st):this._state===66?this.stateInHexEntity(st):this._state===65?this.stateInNumericEntity(st):this._state===63?zt(this,st):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},Nt.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},Nt.prototype.handleTrailingData=function(){var st=this.buffer.substr(this.sectionStart);this._state===29||this._state===30||this._state===31?this.cbs.oncdata(st):this._state===19||this._state===21||this._state===22?this.cbs.oncomment(st):this._state!==64||this.xmlMode?this._state!==65||this.xmlMode?this._state!==66||this.xmlMode?this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this.cbs.ontext(st):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},Nt.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},Nt.prototype.emitToken=function(st){this.cbs[st](this.getSection()),this.sectionStart=-1},Nt.prototype.emitPartial=function(st){this.baseState!==1?this.cbs.onattribdata(st):this.cbs.ontext(st)},Nt}();r.default=Wt},3719:function(i,r,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(w,T,b,k){k===void 0&&(k=b),Object.defineProperty(w,k,{enumerable:!0,get:function(){return T[b]}})}:function(w,T,b,k){k===void 0&&(k=b),w[k]=T[b]}),l=this&&this.__setModuleDefault||(Object.create?function(w,T){Object.defineProperty(w,"default",{enumerable:!0,value:T})}:function(w,T){w.default=T}),c=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var T={};if(w!=null)for(var b in w)b!=="default"&&Object.prototype.hasOwnProperty.call(w,b)&&s(T,w,b);return l(T,w),T},u=this&&this.__exportStar||function(w,T){for(var b in w)b==="default"||Object.prototype.hasOwnProperty.call(T,b)||s(T,w,b)},p=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(r,"__esModule",{value:!0}),r.RssHandler=r.DefaultHandler=r.DomUtils=r.ElementType=r.Tokenizer=r.createDomStream=r.parseDOM=r.parseDocument=r.DomHandler=r.Parser=void 0;var g=a(763);Object.defineProperty(r,"Parser",{enumerable:!0,get:function(){return g.Parser}});var h=a(7915);function y(w,T){var b=new h.DomHandler(void 0,T);return new g.Parser(b,T).end(w),b.root}Object.defineProperty(r,"DomHandler",{enumerable:!0,get:function(){return h.DomHandler}}),Object.defineProperty(r,"DefaultHandler",{enumerable:!0,get:function(){return h.DomHandler}}),r.parseDocument=y,r.parseDOM=function(w,T){return y(w,T).children},r.createDomStream=function(w,T,b){var k=new h.DomHandler(w,T,b);return new g.Parser(k,T)};var _=a(9889);Object.defineProperty(r,"Tokenizer",{enumerable:!0,get:function(){return p(_).default}});var O=c(a(9960));r.ElementType=O,u(a(3870),r),r.DomUtils=c(a(9432));var M=a(3870);Object.defineProperty(r,"RssHandler",{enumerable:!0,get:function(){return M.FeedHandler}})},6094:(i,r,a)=>{"use strict";var s=a(9018),l=a(8880)(function(u,p){return s(u,{xmlMode:p&&p.xmlMode},c,[p])}),c=function(u,p){return l.juiceDocument(u,p)};l.inlineContent=function(u,p,g){return s(u,{xmlMode:g&&g.xmlMode},l.inlineDocument,[p,g])},i.exports=l},9018:(i,r,a)=>{"use strict";var s=a(7503);a(9671),i.exports=function(l,c,u,p){var g,h=(g=[],{encodeEntities:function(M){var w=i.exports.codeBlocks;return Object.keys(w).forEach(function(T){var b=new RegExp(w[T].start+"([\\S\\s]*?)"+w[T].end,"g");M=M.replace(b,function(k,E){return g.push(k),"JUICE_CODE_BLOCK_"+(g.length-1)+"_"})}),M},decodeEntities:function(M){for(var w=0;w<g.length;w++){var T=new RegExp("JUICE_CODE_BLOCK_"+w+'_(="")?',"gi");M=M.replace(T,function(){return g[w]})}return M}}),y=function(M,w,T){return w=Object.assign({decodeEntities:!1,_useHtmlParser2:!0},w),M=T(M),s.load(M,w)}(l,c,h.encodeEntities),_=[y];_.push.apply(_,p);var O=u.apply(void 0,_)||y;return c&&c.xmlMode?h.decodeEntities(O.xml()):h.decodeEntities(O.html())},i.exports.codeBlocks={EJS:{start:"<%",end:"%>"},HBS:{start:"{{",end:"}}"}}},8880:(i,r,a)=>{"use strict";var s=a(9671),l=a(5468);i.exports=function(c){function u(_,O,M){M=M||{};var w=s.parseCSS(O),T=[],b="style",k={};if(M.styleAttributeName&&(b=M.styleAttributeName),w.forEach(function(R){var H=R[0],L=R[1],W=new s.Selector(H),q=W.parsed();if(q){for(var J,D=function(yt){if(yt.length!==0){var rt=yt[yt.length-1].pseudos;if(rt){for(var ft=0;ft<rt.length;ft++)if(y(rt[ft]))return rt[ft].name}}}(q),Z=0;Z<q.length;++Z){var nt=q[Z];if(nt.pseudos)for(var pt=0;pt<nt.pseudos.length;++pt){var Vt=nt.pseudos[pt];if(c.ignoredPseudos.indexOf(Vt.name)>=0)return}}if(D){var qt=q[q.length-1],Pt=qt.pseudos;qt.pseudos=function(yt){return yt.filter(function(rt){return!y(rt)})}(qt.pseudos),H=q.toString(),qt.pseudos=Pt}try{J=_(H)}catch{return}J.each(function(){var yt=this;if(!(yt.name&&c.nonVisualElements.indexOf(yt.name.toUpperCase())>=0)){if(D){var rt="pseudo"+D,ft=yt[rt];ft||((ft=yt[rt]=_("<span />").get(0)).pseudoElementType=D,ft.pseudoElementParent=yt,ft.counterProps=yt.counterProps,yt[rt]=ft),yt=ft}if(!yt.styleProps){if(yt.styleProps={},_(yt).attr(b)){var wt="* { "+_(yt).attr(b)+" } ";Wt(s.parseCSS(wt)[0][1],new s.Selector("<style>",!0))}T.push(yt)}yt.counterProps||(yt.counterProps=yt.parent&&yt.parent.counterProps?Object.create(yt.parent.counterProps):{}),Wt(L,W)}function Et(Nt,st){for(var $t=st.split(/\s+/),le=0;le<$t.length;le++){var Ct=$t[le],ae=parseInt($t[le+1],10);isNaN(ae)?Nt.counterProps[Ct]=k[Ct]=0:Nt.counterProps[Ct]=k[$t[le++]]=ae}}function zt(Nt,st){for(var $t=st.split(/\s+/),le=0;le<$t.length;le++){var Ct=$t[le];if(Nt.counterProps[Ct]!==void 0){var ae=parseInt($t[le+1],10);isNaN(ae)?Nt.counterProps[Ct]=k[Ct]+=1:Nt.counterProps[Ct]=k[$t[le++]]+=ae}}}function Wt(Nt,st){for(var $t=0,le=Nt.length;$t<le;$t++)if(Nt[$t].type=="property"){var Ct=Nt[$t].name,ae=Nt[$t].value;Ct==="counter-reset"&&Et(yt,ae),Ct==="counter-increment"&&zt(yt,ae);var he=ae.match(/!important$/)!==null;he&&!M.preserveImportant&&(ae=p(ae));var ce=[Nt[$t].position.start.line,Nt[$t].position.start.col],K=new s.Property(Ct,ae,st,he?2:0,ce),at=yt.styleProps[Ct];c.excludedProperties.indexOf(Ct)<0&&(at&&at.compare(K)===K||!at)&&(at&&at.selector!==st?delete yt.styleProps[Ct]:at&&(K.nextProp=at),yt.styleProps[Ct]=K)}}})}}),T.forEach(function(R){Object.keys(R.styleProps).length;var H=[];Object.keys(R.styleProps).forEach(function(W){for(var q=R.styleProps[W];q!==void 0;)H.push(q),q=q.nextProp}),H.sort(function(W,q){return W.compareFunc(q)});var L=H.filter(function(W){return W.prop!=="content"}).map(function(W){return W.prop+": "+W.value.replace(/["]/g,"'")+";"}).join(" ");L&&_(R).attr(b,L)}),M.inlinePseudoElements&&T.forEach(function(R){if(R.pseudoElementType&&R.styleProps.content){var H=function(W){var q=W.styleProps.content.value;if(q==="none"||q==="normal")return"";var J=q.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);if(J)return{img:J[1].replace(/^['"]|['"]$/g,"")};for(var D=[],Z=q.split(/['"]/),nt=0;nt<Z.length;nt++)if(Z[nt]!==""){var pt=Z[nt].match(/var\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(pt){var Vt=g(W,pt[1])||pt[2];D.push(Vt.replace(/^['"]|['"]$/g,""))}else{var qt=Z[nt].match(/counter\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(qt&&qt[1]in W.counterProps){var Pt=W.counterProps[qt[1]];D.push(h(Pt,qt[3]))}else{var yt=Z[nt].match(/attr\s*\(\s*(.*?)\s*\)/i);if(yt){var rt=yt[1];D.push(W.pseudoElementParent?W.pseudoElementParent.attribs[rt]:W.attribs[rt])}else D.push(Z[nt])}}}return q=D.join(""),q=q.replace(/\\/g,"")}(R);H.img?(R.name="img",_(R).attr("src",H.img)):_(R).text(H);var L=R.pseudoElementParent;R.pseudoElementType==="before"?_(L).prepend(R):_(L).append(R)}}),M.applyWidthAttributes&&T.forEach(function(R){F(R,"width")}),M.applyHeightAttributes&&T.forEach(function(R){F(R,"height")}),M.applyAttributesTableElements&&T.forEach(function(R){if(R.name){var H=R.name.toUpperCase(),L=Object.keys(c.styleToAttribute);if(c.tableElements.indexOf(H)>-1){for(var W in R.styleProps)if(L.indexOf(R.styleProps[W].prop)>-1){var q=c.styleToAttribute[R.styleProps[W].prop],J=R.styleProps[W].value;if(M.preserveImportant&&(J=p(J)),q==="background"&&(J=V(J)),/(linear|radial)-gradient\(/i.test(J))continue;_(R).attr(q,J)}}}}),M.insertPreservedExtraCss&&M.extraCss){var E=s.getPreservedText(M.extraCss,{mediaQueries:M.preserveMediaQueries,fontFaces:M.preserveFontFaces,keyFrames:M.preserveKeyFrames});if(E){var N=null;M.insertPreservedExtraCss!==!0?N=_(M.insertPreservedExtraCss):((N=_("head")).length||(N=_("body")),N.length||(N=_.root())),N.first().append("<style>"+E+"</style>")}}function F(R,H){if(R.name){var L=R.name.toUpperCase();if(c[H+"Elements"].indexOf(L)>-1){for(var W in R.styleProps)if(R.styleProps[W].prop===H){var q=R.styleProps[W].value;if(M.preserveImportant&&(q=p(q)),q.match(/px/)){var J=q.replace("px","");return void _(R).attr(H,J)}if(c.tableElements.indexOf(L)>-1&&q.match(/\%/))return void _(R).attr(H,q)}}}}function V(R){return R.indexOf("url(")!==0?R:R.replace(/^url\((["'])?([^"']+)\1\)$/,"$2")}}function p(_){return _.replace(/\s*!important$/,"")}function g(_,O){for(;_;){if(O in _.styleProps)return _.styleProps[O].value;_=_.pseudoElementParent||_.parent}}function h(_,O){switch(O){case"lower-roman":return l.romanize(_).toLowerCase();case"upper-roman":return l.romanize(_);case"lower-latin":case"lower-alpha":return l.alphanumeric(_).toLowerCase();case"upper-latin":case"upper-alpha":return l.alphanumeric(_);default:return _.toString()}}function y(_){return _.name==="before"||_.name==="after"}return c.ignoredPseudos=["hover","active","focus","visited","link"],c.widthElements=["TABLE","TD","TH","IMG"],c.heightElements=["TABLE","TD","TH","IMG"],c.tableElements=["TABLE","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],c.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],c.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},c.excludedProperties=[],c.juiceDocument=function(_,O){O=s.getDefaultOptions(O);var M=function(w,T){var b=function(E,N){var F,V,R,H=[],L=E("style");return L.each(function(){var W=!!(R=this).childNodes;if((F=W?R.childNodes:R.children).length===1){if(V=F[0].data,N.applyStyleTags&&E(R).attr("data-embed")===void 0&&H.push(V),N.removeStyleTags&&E(R).attr("data-embed")===void 0){var q=W?R.childNodes[0].nodeValue:R.children[0].data,J=s.getPreservedText(q,{mediaQueries:N.preserveMediaQueries,fontFaces:N.preserveFontFaces,keyFrames:N.preserveKeyFrames,pseudos:N.preservePseudos},c.ignoredPseudos);J?W?R.childNodes[0].nodeValue=J:R.children[0].data=J:E(R).remove()}E(R).removeAttr("data-embed")}else N.removeStyleTags&&E(R).remove()}),H}(w,T),k=b.join(`
`);return k}(_,O);return M+=`
`+O.extraCss,u(_,M,O),_},c.inlineDocument=u,c}},5468:(i,r)=>{"use strict";r.romanize=function(a){if(isNaN(a))return NaN;for(var s=String(+a).split(""),l=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],c="",u=3;u--;)c=(l[+s.pop()+10*u]||"")+c;return Array(+s.join("")+1).join("M")+c},r.alphanumeric=function(a){for(var s,l="";a>0;)s=(a-1)%26,l=String.fromCharCode(65+s)+l,a=(a-s)/26|0;return l||void 0}},4777:(i,r,a)=>{"use strict";i.exports=l;var s=a(9671);function l(c,u,p,g,h){this.prop=c,this.value=u,this.selector=p,this.priority=g||0,this.additionalPriority=h||[]}l.prototype.compareFunc=function(c){var u=[];u.push.apply(u,this.selector.specificity()),u.push.apply(u,this.additionalPriority),u[0]+=this.priority;var p=[];return p.push.apply(p,c.selector.specificity()),p.push.apply(p,c.additionalPriority),p[0]+=c.priority,s.compareFunc(u,p)},l.prototype.compare=function(c){return this.compareFunc(c)===1?this:c},l.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}},9240:(i,r,a)=>{"use strict";var s=a(6585);function l(u,p){this.text=u,this.spec=void 0,this.styleAttribute=p||!1}function c(u){try{return s(u)[0]}catch{return[]}}i.exports=l,l.prototype.parsed=function(){return this.tokens||(this.tokens=c(this.text)),this.tokens},l.prototype.specificity=function(){var u=this.styleAttribute;return this.spec||(this.spec=function p(g,h){for(var y=h||c(g),_=[u?1:0,0,0,0],O=[],M=0;M<y.length;M++){var w=y[M],T=w.pseudos;if(w.id&&_[1]++,w.attributes&&(_[2]+=w.attributes.length),w.classList&&(_[2]+=w.classList.length),w.tag&&w.tag!=="*"&&_[3]++,T){_[3]+=T.length;for(var b=0;b<T.length;b++)T[b].name==="not"&&(O.push(T[b].value),_[3]--)}}for(var k=O.length;k--;)for(var E=p(O[k]),N=4;N--;)_[N]+=E[N];return _}(this.text,this.parsed())),this.spec}},9671:(i,r,a)=>{"use strict";var s=a(4984),l=a(9240),c=a(4777);r.Selector=l,r.Property=c,r.extract=function(u){for(var p=0,g=[],h="",y=0,_=u.length;y<_;y++){var O=u.charAt(y);p?(O!=="]"&&O!==")"||p--,h+=O):O===","?(g.push(h),h=""):(O!=="["&&O!=="("||p++,(h.length||O!==","&&O!==`
`&&O!==" ")&&(h+=O))}return h.length&&g.push(h),g},r.parseCSS=function(u){for(var p=s.parse(u,{position:!0,comments:!0}),g=p.stylesheet!==void 0&&p.stylesheet.rules?p.stylesheet.rules:[],h=[],y=0,_=g.length;y<_;y++)if(g[y].type=="rule")for(var O=g[y],M=O.selectors,w=0,T=M.length;w<T;w++)h.push([M[w],O.declarations]);return h},r.getPreservedText=function(u,p,g){for(var h=s.parse(u,{position:!0,comments:!0}),y=h.stylesheet!==void 0&&h.stylesheet.rules?h.stylesheet.rules:[],_=[],O=y.length-1;O>=0;O--)(p.fontFaces&&y[O].type==="font-face"||p.mediaQueries&&y[O].type==="media"||p.keyFrames&&y[O].type==="keyframes"||p.pseudos&&y[O].selectors&&this.matchesPseudo(y[O].selectors[0],g))&&_.unshift(s.stringify({stylesheet:{rules:[y[O]]}},{comments:!1,indentation:"  "})),y[O].position.start;return _.length!==0&&`
`+_.join(`
`)+`
`},r.normalizeLineEndings=function(u){return u.replace(/\r\n/g,`
`).replace(/\n/g,`\r
`)},r.matchesPseudo=function(u,p){return p.find(function(g){return u.indexOf(g)>-1})},r.compareFunc=function(u,p){for(var g=Math.min(u.length,p.length),h=0;h<g;h++)if(u[h]!==p[h])return u[h]>p[h]?1:-1;return u.length-p.length},r.compare=function(u,p){return r.compareFunc(u,p)==1?u:p},r.getDefaultOptions=function(u){var p=Object.assign({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,preserveKeyFrames:!0,preservePseudos:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:""},u);return p.webResources=p.webResources||{},p}},4984:(i,r,a)=>{i.exports={lex:a(5625),parse:a(2579),stringify:a(7134)}},1514:(i,r)=>{function a(s){var l=[].slice.call(arguments,1);l.unshift("["+s+"]"),process.stderr.write(l.join(" ")+`
`)}i.exports=function(s){return a.bind(null,s)}},5625:(i,r,a)=>{var s=!1,l=!1,c=a(1514)("lex");i.exports=function(u){var p,g,h="",y=0,_=-1,O=0,M=1,w="before-selector",T=[w],b={},k=[],E=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];function N(rt){return rt?T[T.length-1-rt]:w}function F(rt){var ft=_+1;return rt===u.slice(ft,ft+rt.length)}function V(rt){var ft=u.slice(_).indexOf(rt);return ft>0&&ft}function R(rt){return rt===H(1)}function H(rt){return u[_+(rt||1)]}function L(){var rt=T.pop();return w=T[T.length-1],rt}function W(rt){return w=rt,T.push(w),T.length}function q(rt){var ft=w;return T[T.length-1]=w=rt,ft}function J(rt){if((rt||1)==1)u[_]==`
`?(M++,y=1):y++,_++;else{var ft=u.slice(_,_+rt).split(`
`);ft.length>1&&(M+=ft.length-1,y=1),y+=ft[ft.length-1].length,_+=rt}}function D(){b.end={line:M,col:y},s&&c("addToken:",JSON.stringify(b,null,2)),k.push(b),h="",b={}}function Z(rt){b={type:rt,start:{line:M,col:y}}}for(l&&(p=Date.now());J(),g=u[_];)switch(s&&c(g,N()),g){case" ":switch(N()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":h+=g}break;case`
`:case"	":case"\r":case"\f":switch(N()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":h+=g;break;case"at-value":g===`
`&&(b.value=h.trim(),D(),L())}break;case":":switch(N()){case"name":b.name=h.trim(),h="",q("before-value");break;case"before-selector":h+=g,Z("selector"),W("selector");break;case"before-value":q("value"),h+=g;break;default:h+=g}break;case";":switch(N()){case"name":case"before-value":case"value":h.trim().length>0&&(b.value=h.trim(),D()),q("before-name");break;case"value-paren":default:h+=g;break;case"at-value":b.value=h.trim(),D(),L();case"before-name":}break;case"{":switch(N()){case"selector":if(H(-1)==="\\"){h+=g;break}b.text=h.trim(),D(),q("before-name"),O+=1;break;case"at-group":switch(b.name=h.trim(),b.type){case"font-face":case"viewport":case"page":W("before-name");break;default:W("before-selector")}D(),O+=1;break;case"name":case"at-rule":b.name=h.trim(),D(),W("before-name"),O+=1;break;case"comment":case"double-string":case"single-string":h+=g;break;case"before-value":q("value"),h+=g}break;case"}":switch(N()){case"before-name":case"name":case"before-value":case"value":h&&(b.value=h.trim()),b.name&&b.value&&D(),Z("end"),D(),L(),N()==="at-group"&&(Z("at-group-end"),D(),L()),O>0&&(O-=1);break;case"at-group":case"before-selector":case"selector":if(H(-1)==="\\"){h+=g;break}O>0&&N(1)==="at-group"&&(Z("at-group-end"),D()),O>1&&L(),O>0&&(O-=1);break;case"double-string":case"single-string":case"comment":h+=g}break;case'"':case"'":switch(N()){case"double-string":g==='"'&&H(-1)!=="\\"&&L();break;case"single-string":g==="'"&&H(-1)!=="\\"&&L();break;case"before-at-value":q("at-value"),W(g==='"'?"double-string":"single-string");break;case"before-value":q("value"),W(g==='"'?"double-string":"single-string");break;case"comment":break;default:H(-1)!=="\\"&&W(g==='"'?"double-string":"single-string")}h+=g;break;case"/":switch(N()){case"comment":case"double-string":case"single-string":h+=g;break;case"before-value":case"selector":case"name":case"value":if(R("*")){var nt=V("*/");nt&&J(nt+1)}else N()=="before-value"&&q("value"),h+=g;break;default:R("*")?(Z("comment"),W("comment"),J()):h+=g}break;case"*":switch(N()){case"comment":R("/")?(b.text=h,J(),D(),L()):h+=g;break;case"before-selector":h+=g,Z("selector"),W("selector");break;case"before-value":q("value"),h+=g;break;default:h+=g}break;case"@":switch(N()){case"comment":case"double-string":case"single-string":h+=g;break;case"before-value":q("value"),h+=g;break;default:for(var pt,Vt,qt=!1,Pt=0,yt=E.length;!qt&&Pt<yt;++Pt)F(pt=(Vt=E[Pt]).name||Vt)&&(qt=!0,Z(pt),W(Vt.state||"at-group"),J(pt.length),Vt.prefix&&(b.prefix=Vt.prefix),Vt.type&&(b.type=Vt.type));qt||(h+=g)}break;case"(":switch(N()){case"value":W("value-paren");break;case"before-value":q("value")}h+=g;break;case")":switch(N()){case"value-paren":L();break;case"before-value":q("value")}h+=g;break;default:switch(N()){case"before-selector":Z("selector"),W("selector");break;case"before-name":Z("property"),q("name");break;case"before-value":q("value");break;case"before-at-value":q("at-value")}h+=g}return l&&c("ran in",Date.now()-p+"ms"),k}},2579:(i,r,a)=>{var s,l,c,u,p=!1,g=!1,h=a(1514)("parse"),y=a(5625);function _(k,E){var N;E||(E={});for(var F=["type","name","value"],V={},R=0;R<F.length;++R)k[N=F[R]]&&(V[N]=E[N]||k[N]);for(F=Object.keys(E),R=0;R<F.length;++R)V[N=F[R]]||(V[N]=E[N]);return c&&(V.position={start:k.start,end:k.end}),p&&h("astNode:",JSON.stringify(V,null,2)),V}function O(){var k=u.shift();return p&&h("next:",JSON.stringify(k,null,2)),k}function M(k){l+=1;var E={};switch(k.type){case"font-face":case"viewport":E.declarations=b();break;case"page":E.prefix=k.prefix,E.declarations=b();break;default:E.prefix=k.prefix,E.rules=T(function(){return l})}return _(k,E)}function w(k){switch(k.type){case"property":case"charset":case"import":case"namespace":return function(E){return _(E)}(k);case"selector":return function(E){return _(E,{type:"rule",selectors:E.text.split(",").map(function(N){return N.trim()}),declarations:b()})}(k);case"at-group-end":return void(l-=1);case"media":case"keyframes":case"font-face":case"supports":case"viewport":case"document":case"page":return M(k);case"comment":if(s)return function(E){return _(E,{text:E.text})}(k)}p&&h("parseToken: unexpected token:",JSON.stringify(k))}function T(k){for(var E,N,F=[];(N=O())&&k&&k(N);)(E=w(N))&&F.push(E);return N&&N.type!=="end"&&u.unshift(N),F}function b(){return T(function(k){return k.type==="property"||k.type==="comment"})}i.exports=function(k,E){var N,F;E||(E={}),s=!!E.comments,c=!!E.position,l=0,u=Array.isArray(k)?k.slice():y(k);var V,R=[];for(g&&(N=Date.now());V=O();)(F=w(V))&&R.push(F);return g&&h("ran in",Date.now()-N+"ms"),{type:"stylesheet",stylesheet:{rules:R}}}},7134:(i,r,a)=>{var s,l,c,u,p,g,h=!1,y=!1,_=a(1514)("stringify");function O(F){if(!F)return l?"":Array(u).join(c||"");u+=F}function M(F){var V="",R=F.prefix||"";F.name&&(V=" "+F.name);var H=F.type!=="page";return"@"+R+F.type+V+g+k(F,H)+p}function w(F){return s?"/*"+(F.text||"")+"*/"+p:""}function T(F){var V;return F.selectors?V=F.selectors.join(","+p):(V="@"+F.type,V+=F.name?" "+F.name:""),O()+V+g+k(F)+p}function b(F,V){return F.reduce(function(R,H){var L=H.type==="comment"?w(H):V(H);return L&&R.push(L),R},[])}function k(F,V){var R=F.declarations,H=E;return F.rules&&(R=F.rules,H=T),R=function(L,W){if(!L)return"";O(1);var q=b(L,W);return O(-1),q.length?q.join(p):""}(R,H),R&&(R=p+R+(V?"":p)),"{"+R+O()+"}"}function E(F){if(F.type==="property")return function(V){var R=V.name?V.name+":"+g:"";return O()+R+V.value+";"}(F);h&&_("stringifyDeclaration: unexpected node:",JSON.stringify(F))}function N(F){switch(F.type){case"rule":return T(F);case"media":case"keyframes":case"font-face":case"supports":case"viewport":case"document":case"page":return M(F);case"comment":return w(F);case"import":case"charset":case"namespace":return function(V){return"@"+V.type+" "+V.value+";"+p}(F)}h&&_("stringifyNode: unexpected node: "+JSON.stringify(F))}i.exports=function(F,V){var R;V||(V={}),c=V.indentation||"",l=!!V.compress,s=!!V.comments,u=1,l?p=g="":(p=`
`,g=" "),y&&(R=Date.now());var H=b(F.stylesheet.rules,N).join(`
`).trim();return y&&_("ran in",Date.now()-R+"ms"),H}},9769:function(i,r,a){"use strict";var s=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(r,"__esModule",{value:!0}),r.generate=r.compile=void 0;var l=s(a(1073));r.compile=function(c){var u=c[0],p=c[1]-1;if(p<0&&u<=0)return l.default.falseFunc;if(u===-1)return function(y){return y<=p};if(u===0)return function(y){return y===p};if(u===1)return p<0?l.default.trueFunc:function(y){return y>=p};var g=Math.abs(u),h=(p%g+g)%g;return u>1?function(y){return y>=p&&y%g===h}:function(y){return y<=p&&y%g===h}},r.generate=function(c){var u=c[0],p=c[1]-1,g=0;if(u<0){var h=-u,y=(p%h+h)%h;return function(){var _=y+h*g++;return _>p?null:_}}return u===0?p<0?function(){return null}:function(){return g++==0?p:null}:(p<0&&(p+=u*Math.ceil(-p/u)),function(){return u*g+++p})}},7540:(i,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sequence=r.generate=r.compile=r.parse=void 0;var s=a(7766);Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return s.parse}});var l=a(9769);Object.defineProperty(r,"compile",{enumerable:!0,get:function(){return l.compile}}),Object.defineProperty(r,"generate",{enumerable:!0,get:function(){return l.generate}}),r.default=function(c){return(0,l.compile)((0,s.parse)(c))},r.sequence=function(c){return(0,l.generate)((0,s.parse)(c))}},7766:(i,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parse=void 0;var a=new Set([9,10,12,13,32]),s=48,l=57;r.parse=function(c){if((c=c.trim().toLowerCase())==="even")return[2,0];if(c==="odd")return[2,1];var u=0,p=0,g=y(),h=_();if(u<c.length&&c.charAt(u)==="n"&&(u++,p=g*(h??1),O(),u<c.length?(g=y(),O(),h=_()):g=h=0),h===null||u<c.length)throw new Error("n-th rule couldn't be parsed ('".concat(c,"')"));return[p,g*h];function y(){return c.charAt(u)==="-"?(u++,-1):(c.charAt(u)==="+"&&u++,1)}function _(){for(var M=u,w=0;u<c.length&&c.charCodeAt(u)>=s&&c.charCodeAt(u)<=l;)w=10*w+(c.charCodeAt(u)-s),u++;return u===M?null:w}function O(){for(;u<c.length&&a.has(c.charCodeAt(u));)u++}}},1906:(i,r,a)=>{"use strict";let s=a(1515),{DOCUMENT_MODE:l}=a(6152),c={element:1,text:3,cdata:4,comment:8},u={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"};class p{constructor(O){for(let M of Object.keys(O))this[M]=O[M]}get firstChild(){let O=this.children;return O&&O[0]||null}get lastChild(){let O=this.children;return O&&O[O.length-1]||null}get nodeType(){return c[this.type]||c.element}}Object.keys(u).forEach(_=>{let O=u[_];Object.defineProperty(p.prototype,_,{get:function(){return this[O]||null},set:function(M){return this[O]=M,M}})}),r.createDocument=function(){return new p({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":l.NO_QUIRKS})},r.createDocumentFragment=function(){return new p({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},r.createElement=function(_,O,M){let w=Object.create(null),T=Object.create(null),b=Object.create(null);for(let k=0;k<M.length;k++){let E=M[k].name;w[E]=M[k].value,T[E]=M[k].namespace,b[E]=M[k].prefix}return new p({type:_==="script"||_==="style"?_:"tag",name:_,namespace:O,attribs:w,"x-attribsNamespace":T,"x-attribsPrefix":b,children:[],parent:null,prev:null,next:null})},r.createCommentNode=function(_){return new p({type:"comment",data:_,parent:null,prev:null,next:null})};let g=function(_){return new p({type:"text",data:_,parent:null,prev:null,next:null})},h=r.appendChild=function(_,O){let M=_.children[_.children.length-1];M&&(M.next=O,O.prev=M),_.children.push(O),O.parent=_},y=r.insertBefore=function(_,O,M){let w=_.children.indexOf(M),T=M.prev;T&&(T.next=O,O.prev=T),M.prev=O,O.next=M,_.children.splice(w,0,O),O.parent=_};r.setTemplateContent=function(_,O){h(_,O)},r.getTemplateContent=function(_){return _.children[0]},r.setDocumentType=function(_,O,M,w){let T=s.serializeContent(O,M,w),b=null;for(let k=0;k<_.children.length;k++)if(_.children[k].type==="directive"&&_.children[k].name==="!doctype"){b=_.children[k];break}b?(b.data=T,b["x-name"]=O,b["x-publicId"]=M,b["x-systemId"]=w):h(_,new p({type:"directive",name:"!doctype",data:T,"x-name":O,"x-publicId":M,"x-systemId":w}))},r.setDocumentMode=function(_,O){_["x-mode"]=O},r.getDocumentMode=function(_){return _["x-mode"]},r.detachNode=function(_){if(_.parent){let O=_.parent.children.indexOf(_),M=_.prev,w=_.next;_.prev=null,_.next=null,M&&(M.next=w),w&&(w.prev=M),_.parent.children.splice(O,1),_.parent=null}},r.insertText=function(_,O){let M=_.children[_.children.length-1];M&&M.type==="text"?M.data+=O:h(_,g(O))},r.insertTextBefore=function(_,O,M){let w=_.children[_.children.indexOf(M)-1];w&&w.type==="text"?w.data+=O:y(_,g(O),M)},r.adoptAttributes=function(_,O){for(let M=0;M<O.length;M++){let w=O[M].name;_.attribs[w]===void 0&&(_.attribs[w]=O[M].value,_["x-attribsNamespace"][w]=O[M].namespace,_["x-attribsPrefix"][w]=O[M].prefix)}},r.getFirstChild=function(_){return _.children[0]},r.getChildNodes=function(_){return _.children},r.getParentNode=function(_){return _.parent},r.getAttrList=function(_){let O=[];for(let M in _.attribs)O.push({name:M,value:_.attribs[M],namespace:_["x-attribsNamespace"][M],prefix:_["x-attribsPrefix"][M]});return O},r.getTagName=function(_){return _.name},r.getNamespaceURI=function(_){return _.namespace},r.getTextNodeContent=function(_){return _.data},r.getCommentNodeContent=function(_){return _.data},r.getDocumentTypeNodeName=function(_){return _["x-name"]},r.getDocumentTypeNodePublicId=function(_){return _["x-publicId"]},r.getDocumentTypeNodeSystemId=function(_){return _["x-systemId"]},r.isTextNode=function(_){return _.type==="text"},r.isCommentNode=function(_){return _.type==="comment"},r.isDocumentTypeNode=function(_){return _.type==="directive"&&_.name==="!doctype"},r.isElementNode=function(_){return!!_.attribs},r.setNodeSourceCodeLocation=function(_,O){_.sourceCodeLocation=O},r.getNodeSourceCodeLocation=function(_){return _.sourceCodeLocation},r.updateNodeSourceCodeLocation=function(_,O){_.sourceCodeLocation=Object.assign(_.sourceCodeLocation,O)}},1515:(i,r,a)=>{"use strict";let{DOCUMENT_MODE:s}=a(6152),l="html",c="about:legacy-compat",u="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",p=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],g=p.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),h=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],y=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],_=y.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function O(w){let T=w.indexOf('"')!==-1?"'":'"';return T+w+T}function M(w,T){for(let b=0;b<T.length;b++)if(w.indexOf(T[b])===0)return!0;return!1}r.isConforming=function(w){return w.name===l&&w.publicId===null&&(w.systemId===null||w.systemId===c)},r.getDocumentMode=function(w){if(w.name!==l)return s.QUIRKS;let T=w.systemId;if(T&&T.toLowerCase()===u)return s.QUIRKS;let b=w.publicId;if(b!==null){if(b=b.toLowerCase(),h.indexOf(b)>-1)return s.QUIRKS;let k=T===null?g:p;if(M(b,k))return s.QUIRKS;if(k=T===null?y:_,M(b,k))return s.LIMITED_QUIRKS}return s.NO_QUIRKS},r.serializeContent=function(w,T,b){let k="!DOCTYPE ";return w&&(k+=w),T?k+=" PUBLIC "+O(T):b&&(k+=" SYSTEM"),b!==null&&(k+=" "+O(b)),k}},1734:i=>{"use strict";i.exports={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}},8779:(i,r,a)=>{"use strict";let s=a(5763),l=a(6152),c=l.TAG_NAMES,u=l.NAMESPACES,p=l.ATTRS,g="text/html",h="application/xhtml+xml",y="definitionurl",_="definitionURL",O={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},M={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:u.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:u.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:u.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:u.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:u.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:u.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:u.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:u.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:u.XML},"xml:space":{prefix:"xml",name:"space",namespace:u.XML},xmlns:{prefix:"",name:"xmlns",namespace:u.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:u.XMLNS}},w=r.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},T={[c.B]:!0,[c.BIG]:!0,[c.BLOCKQUOTE]:!0,[c.BODY]:!0,[c.BR]:!0,[c.CENTER]:!0,[c.CODE]:!0,[c.DD]:!0,[c.DIV]:!0,[c.DL]:!0,[c.DT]:!0,[c.EM]:!0,[c.EMBED]:!0,[c.H1]:!0,[c.H2]:!0,[c.H3]:!0,[c.H4]:!0,[c.H5]:!0,[c.H6]:!0,[c.HEAD]:!0,[c.HR]:!0,[c.I]:!0,[c.IMG]:!0,[c.LI]:!0,[c.LISTING]:!0,[c.MENU]:!0,[c.META]:!0,[c.NOBR]:!0,[c.OL]:!0,[c.P]:!0,[c.PRE]:!0,[c.RUBY]:!0,[c.S]:!0,[c.SMALL]:!0,[c.SPAN]:!0,[c.STRONG]:!0,[c.STRIKE]:!0,[c.SUB]:!0,[c.SUP]:!0,[c.TABLE]:!0,[c.TT]:!0,[c.U]:!0,[c.UL]:!0,[c.VAR]:!0};r.causesExit=function(b){let k=b.tagName;return k===c.FONT&&(s.getTokenAttr(b,p.COLOR)!==null||s.getTokenAttr(b,p.SIZE)!==null||s.getTokenAttr(b,p.FACE)!==null)||T[k]},r.adjustTokenMathMLAttrs=function(b){for(let k=0;k<b.attrs.length;k++)if(b.attrs[k].name===y){b.attrs[k].name=_;break}},r.adjustTokenSVGAttrs=function(b){for(let k=0;k<b.attrs.length;k++){let E=O[b.attrs[k].name];E&&(b.attrs[k].name=E)}},r.adjustTokenXMLAttrs=function(b){for(let k=0;k<b.attrs.length;k++){let E=M[b.attrs[k].name];E&&(b.attrs[k].prefix=E.prefix,b.attrs[k].name=E.name,b.attrs[k].namespace=E.namespace)}},r.adjustTokenSVGTagName=function(b){let k=w[b.tagName];k&&(b.tagName=k)},r.isIntegrationPoint=function(b,k,E,N){return!(N&&N!==u.HTML||!function(F,V,R){if(V===u.MATHML&&F===c.ANNOTATION_XML){for(let H=0;H<R.length;H++)if(R[H].name===p.ENCODING){let L=R[H].value.toLowerCase();return L===g||L===h}}return V===u.SVG&&(F===c.FOREIGN_OBJECT||F===c.DESC||F===c.TITLE)}(b,k,E))||!(N&&N!==u.MATHML||!function(F,V){return V===u.MATHML&&(F===c.MI||F===c.MO||F===c.MN||F===c.MS||F===c.MTEXT)}(b,k))}},6152:(i,r)=>{"use strict";let a=r.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};r.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},r.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};let s=r.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};r.SPECIAL_ELEMENTS={[a.HTML]:{[s.ADDRESS]:!0,[s.APPLET]:!0,[s.AREA]:!0,[s.ARTICLE]:!0,[s.ASIDE]:!0,[s.BASE]:!0,[s.BASEFONT]:!0,[s.BGSOUND]:!0,[s.BLOCKQUOTE]:!0,[s.BODY]:!0,[s.BR]:!0,[s.BUTTON]:!0,[s.CAPTION]:!0,[s.CENTER]:!0,[s.COL]:!0,[s.COLGROUP]:!0,[s.DD]:!0,[s.DETAILS]:!0,[s.DIR]:!0,[s.DIV]:!0,[s.DL]:!0,[s.DT]:!0,[s.EMBED]:!0,[s.FIELDSET]:!0,[s.FIGCAPTION]:!0,[s.FIGURE]:!0,[s.FOOTER]:!0,[s.FORM]:!0,[s.FRAME]:!0,[s.FRAMESET]:!0,[s.H1]:!0,[s.H2]:!0,[s.H3]:!0,[s.H4]:!0,[s.H5]:!0,[s.H6]:!0,[s.HEAD]:!0,[s.HEADER]:!0,[s.HGROUP]:!0,[s.HR]:!0,[s.HTML]:!0,[s.IFRAME]:!0,[s.IMG]:!0,[s.INPUT]:!0,[s.LI]:!0,[s.LINK]:!0,[s.LISTING]:!0,[s.MAIN]:!0,[s.MARQUEE]:!0,[s.MENU]:!0,[s.META]:!0,[s.NAV]:!0,[s.NOEMBED]:!0,[s.NOFRAMES]:!0,[s.NOSCRIPT]:!0,[s.OBJECT]:!0,[s.OL]:!0,[s.P]:!0,[s.PARAM]:!0,[s.PLAINTEXT]:!0,[s.PRE]:!0,[s.SCRIPT]:!0,[s.SECTION]:!0,[s.SELECT]:!0,[s.SOURCE]:!0,[s.STYLE]:!0,[s.SUMMARY]:!0,[s.TABLE]:!0,[s.TBODY]:!0,[s.TD]:!0,[s.TEMPLATE]:!0,[s.TEXTAREA]:!0,[s.TFOOT]:!0,[s.TH]:!0,[s.THEAD]:!0,[s.TITLE]:!0,[s.TR]:!0,[s.TRACK]:!0,[s.UL]:!0,[s.WBR]:!0,[s.XMP]:!0},[a.MATHML]:{[s.MI]:!0,[s.MO]:!0,[s.MN]:!0,[s.MS]:!0,[s.MTEXT]:!0,[s.ANNOTATION_XML]:!0},[a.SVG]:{[s.TITLE]:!0,[s.FOREIGN_OBJECT]:!0,[s.DESC]:!0}}},4284:(i,r)=>{"use strict";let a=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];r.REPLACEMENT_CHARACTER="\uFFFD",r.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},r.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},r.isSurrogate=function(s){return s>=55296&&s<=57343},r.isSurrogatePair=function(s){return s>=56320&&s<=57343},r.getSurrogatePairCodePoint=function(s,l){return 1024*(s-55296)+9216+l},r.isControlCodePoint=function(s){return s!==32&&s!==10&&s!==13&&s!==9&&s!==12&&s>=1&&s<=31||s>=127&&s<=159},r.isUndefinedCodePoint=function(s){return s>=64976&&s<=65007||a.indexOf(s)>-1}},3843:(i,r,a)=>{"use strict";let s=a(1704);i.exports=class extends s{constructor(l,c){super(l),this.posTracker=null,this.onParseError=c.onParseError}_setErrorLocation(l){l.startLine=l.endLine=this.posTracker.line,l.startCol=l.endCol=this.posTracker.col,l.startOffset=l.endOffset=this.posTracker.offset}_reportError(l){let c={code:l,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(c),this.onParseError(c)}_getOverriddenMethods(l){return{_err(c){l._reportError(c)}}}}},2232:(i,r,a)=>{"use strict";let s=a(3843),l=a(50),c=a(6110),u=a(1704);i.exports=class extends s{constructor(p,g){super(p,g),this.opts=g,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(p){this.ctLoc&&(p.startLine=this.ctLoc.startLine,p.startCol=this.ctLoc.startCol,p.startOffset=this.ctLoc.startOffset,p.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,p.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,p.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(p,g){return{_bootstrap(h,y){g._bootstrap.call(this,h,y),u.install(this.tokenizer,l,p.opts),u.install(this.tokenizer,c)},_processInputToken(h){p.ctLoc=h.location,g._processInputToken.call(this,h)},_err(h,y){p.locBeforeToken=y&&y.beforeToken,p._reportError(h)}}}}},3288:(i,r,a)=>{"use strict";let s=a(3843),l=a(7930),c=a(1704);i.exports=class extends s{constructor(u,p){super(u,p),this.posTracker=c.install(u,l),this.lastErrOffset=-1}_reportError(u){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(u))}}},50:(i,r,a)=>{"use strict";let s=a(3843),l=a(3288),c=a(1704);i.exports=class extends s{constructor(u,p){super(u,p);let g=c.install(u.preprocessor,l,p);this.posTracker=g.posTracker}}},1077:(i,r,a)=>{"use strict";let s=a(1704);i.exports=class extends s{constructor(l,c){super(l),this.onItemPop=c.onItemPop}_getOverriddenMethods(l,c){return{pop(){l.onItemPop(this.current),c.pop.call(this)},popAllUpToHtmlElement(){for(let u=this.stackTop;u>0;u--)l.onItemPop(this.items[u]);c.popAllUpToHtmlElement.call(this)},remove(u){l.onItemPop(this.current),c.remove.call(this,u)}}}}},452:(i,r,a)=>{"use strict";let s=a(1704),l=a(5763),c=a(6110),u=a(1077),p=a(6152).TAG_NAMES;i.exports=class extends s{constructor(g){super(g),this.parser=g,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(g){let h=null;this.lastStartTagToken&&(h=Object.assign({},this.lastStartTagToken.location),h.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(g,h)}_setEndLocation(g,h){if(this.treeAdapter.getNodeSourceCodeLocation(g)&&h.location){let y=h.location,_=this.treeAdapter.getTagName(g),O={};h.type===l.END_TAG_TOKEN&&_===h.tagName?(O.endTag=Object.assign({},y),O.endLine=y.endLine,O.endCol=y.endCol,O.endOffset=y.endOffset):(O.endLine=y.startLine,O.endCol=y.startCol,O.endOffset=y.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(g,O)}}_getOverriddenMethods(g,h){return{_bootstrap(y,_){h._bootstrap.call(this,y,_),g.lastStartTagToken=null,g.lastFosterParentingLocation=null,g.currentToken=null;let O=s.install(this.tokenizer,c);g.posTracker=O.posTracker,s.install(this.openElements,u,{onItemPop:function(M){g._setEndLocation(M,g.currentToken)}})},_runParsingLoop(y){h._runParsingLoop.call(this,y);for(let _=this.openElements.stackTop;_>=0;_--)g._setEndLocation(this.openElements.items[_],g.currentToken)},_processTokenInForeignContent(y){g.currentToken=y,h._processTokenInForeignContent.call(this,y)},_processToken(y){if(g.currentToken=y,h._processToken.call(this,y),y.type===l.END_TAG_TOKEN&&(y.tagName===p.HTML||y.tagName===p.BODY&&this.openElements.hasInScope(p.BODY)))for(let _=this.openElements.stackTop;_>=0;_--){let O=this.openElements.items[_];if(this.treeAdapter.getTagName(O)===y.tagName){g._setEndLocation(O,y);break}}},_setDocumentType(y){h._setDocumentType.call(this,y);let _=this.treeAdapter.getChildNodes(this.document),O=_.length;for(let M=0;M<O;M++){let w=_[M];if(this.treeAdapter.isDocumentTypeNode(w)){this.treeAdapter.setNodeSourceCodeLocation(w,y.location);break}}},_attachElementToTree(y){g._setStartLocation(y),g.lastStartTagToken=null,h._attachElementToTree.call(this,y)},_appendElement(y,_){g.lastStartTagToken=y,h._appendElement.call(this,y,_)},_insertElement(y,_){g.lastStartTagToken=y,h._insertElement.call(this,y,_)},_insertTemplate(y){g.lastStartTagToken=y,h._insertTemplate.call(this,y);let _=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(_,null)},_insertFakeRootElement(){h._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(y,_){h._appendCommentNode.call(this,y,_);let O=this.treeAdapter.getChildNodes(_),M=O[O.length-1];this.treeAdapter.setNodeSourceCodeLocation(M,y.location)},_findFosterParentingLocation(){return g.lastFosterParentingLocation=h._findFosterParentingLocation.call(this),g.lastFosterParentingLocation},_insertCharacters(y){h._insertCharacters.call(this,y);let _=this._shouldFosterParentOnInsertion(),O=_&&g.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,M=this.treeAdapter.getChildNodes(O),w=_&&g.lastFosterParentingLocation.beforeElement?M.indexOf(g.lastFosterParentingLocation.beforeElement)-1:M.length-1,T=M[w];if(this.treeAdapter.getNodeSourceCodeLocation(T)){let{endLine:b,endCol:k,endOffset:E}=y.location;this.treeAdapter.updateNodeSourceCodeLocation(T,{endLine:b,endCol:k,endOffset:E})}else this.treeAdapter.setNodeSourceCodeLocation(T,y.location)}}}}},6110:(i,r,a)=>{"use strict";let s=a(1704),l=a(5763),c=a(7930);i.exports=class extends s{constructor(u){super(u),this.tokenizer=u,this.posTracker=s.install(u.preprocessor,c),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;let u=this.tokenizer.currentToken,p=this.tokenizer.currentAttr;u.location.attrs||(u.location.attrs=Object.create(null)),u.location.attrs[p.name]=this.currentAttrLocation}_getOverriddenMethods(u,p){let g={_createStartTagToken(){p._createStartTagToken.call(this),this.currentToken.location=u.ctLoc},_createEndTagToken(){p._createEndTagToken.call(this),this.currentToken.location=u.ctLoc},_createCommentToken(){p._createCommentToken.call(this),this.currentToken.location=u.ctLoc},_createDoctypeToken(h){p._createDoctypeToken.call(this,h),this.currentToken.location=u.ctLoc},_createCharacterToken(h,y){p._createCharacterToken.call(this,h,y),this.currentCharacterToken.location=u.ctLoc},_createEOFToken(){p._createEOFToken.call(this),this.currentToken.location=u._getCurrentLocation()},_createAttr(h){p._createAttr.call(this,h),u.currentAttrLocation=u._getCurrentLocation()},_leaveAttrName(h){p._leaveAttrName.call(this,h),u._attachCurrentAttrLocationInfo()},_leaveAttrValue(h){p._leaveAttrValue.call(this,h),u._attachCurrentAttrLocationInfo()},_emitCurrentToken(){let h=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=h.startLine,this.currentCharacterToken.location.endCol=h.startCol,this.currentCharacterToken.location.endOffset=h.startOffset),this.currentToken.type===l.EOF_TOKEN?(h.endLine=h.startLine,h.endCol=h.startCol,h.endOffset=h.startOffset):(h.endLine=u.posTracker.line,h.endCol=u.posTracker.col+1,h.endOffset=u.posTracker.offset+1),p._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){let h=this.currentCharacterToken&&this.currentCharacterToken.location;h&&h.endOffset===-1&&(h.endLine=u.posTracker.line,h.endCol=u.posTracker.col,h.endOffset=u.posTracker.offset),p._emitCurrentCharacterToken.call(this)}};return Object.keys(l.MODE).forEach(h=>{let y=l.MODE[h];g[y]=function(_){u.ctLoc=u._getCurrentLocation(),p[y].call(this,_)}}),g}}},7930:(i,r,a)=>{"use strict";let s=a(1704);i.exports=class extends s{constructor(l){super(l),this.preprocessor=l,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(l,c){return{advance(){let u=this.pos+1,p=this.html[u];return l.isEol&&(l.isEol=!1,l.line++,l.lineStartPos=u),(p===`
`||p==="\r"&&this.html[u+1]!==`
`)&&(l.isEol=!0),l.col=u-l.lineStartPos+1,l.offset=l.droppedBufferSize+u,c.advance.call(this)},retreat(){c.retreat.call(this),l.isEol=!1,l.col=this.pos-l.lineStartPos+1},dropParsedChunk(){let u=this.pos;c.dropParsedChunk.call(this);let p=u-this.pos;l.lineStartPos-=p,l.droppedBufferSize+=p,l.offset=l.droppedBufferSize+this.pos}}}}},2394:(i,r,a)=>{"use strict";let s=a(7045),l=a(3988);r.parse=function(c,u){return new s(u).parse(c)},r.parseFragment=function(c,u,p){return typeof c=="string"&&(p=u,u=c,c=null),new s(p).parseFragment(u,c)},r.serialize=function(c,u){return new l(c,u).serialize()}},2484:i=>{"use strict";class a{constructor(l){this.length=0,this.entries=[],this.treeAdapter=l,this.bookmark=null}_getNoahArkConditionCandidates(l){let c=[];if(this.length>=3){let u=this.treeAdapter.getAttrList(l).length,p=this.treeAdapter.getTagName(l),g=this.treeAdapter.getNamespaceURI(l);for(let h=this.length-1;h>=0;h--){let y=this.entries[h];if(y.type===a.MARKER_ENTRY)break;let _=y.element,O=this.treeAdapter.getAttrList(_);this.treeAdapter.getTagName(_)===p&&this.treeAdapter.getNamespaceURI(_)===g&&O.length===u&&c.push({idx:h,attrs:O})}}return c.length<3?[]:c}_ensureNoahArkCondition(l){let c=this._getNoahArkConditionCandidates(l),u=c.length;if(u){let p=this.treeAdapter.getAttrList(l),g=p.length,h=Object.create(null);for(let y=0;y<g;y++){let _=p[y];h[_.name]=_.value}for(let y=0;y<g;y++)for(let _=0;_<u;_++){let O=c[_].attrs[y];if(h[O.name]!==O.value&&(c.splice(_,1),u--),c.length<3)return}for(let y=u-1;y>=2;y--)this.entries.splice(c[y].idx,1),this.length--}}insertMarker(){this.entries.push({type:a.MARKER_ENTRY}),this.length++}pushElement(l,c){this._ensureNoahArkCondition(l),this.entries.push({type:a.ELEMENT_ENTRY,element:l,token:c}),this.length++}insertElementAfterBookmark(l,c){let u=this.length-1;for(;u>=0&&this.entries[u]!==this.bookmark;u--);this.entries.splice(u+1,0,{type:a.ELEMENT_ENTRY,element:l,token:c}),this.length++}removeEntry(l){for(let c=this.length-1;c>=0;c--)if(this.entries[c]===l){this.entries.splice(c,1),this.length--;break}}clearToLastMarker(){for(;this.length;){let l=this.entries.pop();if(this.length--,l.type===a.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(l){for(let c=this.length-1;c>=0;c--){let u=this.entries[c];if(u.type===a.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(u.element)===l)return u}return null}getElementEntry(l){for(let c=this.length-1;c>=0;c--){let u=this.entries[c];if(u.type===a.ELEMENT_ENTRY&&u.element===l)return u}return null}}a.MARKER_ENTRY="MARKER_ENTRY",a.ELEMENT_ENTRY="ELEMENT_ENTRY",i.exports=a},7045:(i,r,a)=>{"use strict";let s=a(5763),l=a(6519),c=a(2484),u=a(452),p=a(2232),g=a(1704),h=a(7296),y=a(8904),_=a(1515),O=a(8779),M=a(1734),w=a(4284),T=a(6152),b=T.TAG_NAMES,k=T.NAMESPACES,E=T.ATTRS,N={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:h},F="hidden",V=8,R=3,H="INITIAL_MODE",L="BEFORE_HTML_MODE",W="BEFORE_HEAD_MODE",q="IN_HEAD_MODE",J="IN_HEAD_NO_SCRIPT_MODE",D="AFTER_HEAD_MODE",Z="IN_BODY_MODE",nt="TEXT_MODE",pt="IN_TABLE_MODE",Vt="IN_TABLE_TEXT_MODE",qt="IN_CAPTION_MODE",Pt="IN_COLUMN_GROUP_MODE",yt="IN_TABLE_BODY_MODE",rt="IN_ROW_MODE",ft="IN_CELL_MODE",wt="IN_SELECT_MODE",Et="IN_SELECT_IN_TABLE_MODE",zt="IN_TEMPLATE_MODE",Wt="AFTER_BODY_MODE",Nt="IN_FRAMESET_MODE",st="AFTER_FRAMESET_MODE",$t="AFTER_AFTER_BODY_MODE",le="AFTER_AFTER_FRAMESET_MODE",Ct={[b.TR]:rt,[b.TBODY]:yt,[b.THEAD]:yt,[b.TFOOT]:yt,[b.CAPTION]:qt,[b.COLGROUP]:Pt,[b.TABLE]:pt,[b.BODY]:Z,[b.FRAMESET]:Nt},ae={[b.CAPTION]:pt,[b.COLGROUP]:pt,[b.TBODY]:pt,[b.TFOOT]:pt,[b.THEAD]:pt,[b.COL]:Pt,[b.TR]:yt,[b.TD]:rt,[b.TH]:rt},he={[H]:{[s.CHARACTER_TOKEN]:Tt,[s.NULL_CHARACTER_TOKEN]:Tt,[s.WHITESPACE_CHARACTER_TOKEN]:kt,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:function(A,G){A._setDocumentType(G);let B=G.forceQuirks?T.DOCUMENT_MODE.QUIRKS:_.getDocumentMode(G);_.isConforming(G)||A._err(M.nonConformingDoctype),A.treeAdapter.setDocumentMode(A.document,B),A.insertionMode=L},[s.START_TAG_TOKEN]:Tt,[s.END_TAG_TOKEN]:Tt,[s.EOF_TOKEN]:Tt},[L]:{[s.CHARACTER_TOKEN]:ot,[s.NULL_CHARACTER_TOKEN]:ot,[s.WHITESPACE_CHARACTER_TOKEN]:kt,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){G.tagName===b.HTML?(A._insertElement(G,k.HTML),A.insertionMode=W):ot(A,G)},[s.END_TAG_TOKEN]:function(A,G){let B=G.tagName;B!==b.HTML&&B!==b.HEAD&&B!==b.BODY&&B!==b.BR||ot(A,G)},[s.EOF_TOKEN]:ot},[W]:{[s.CHARACTER_TOKEN]:re,[s.NULL_CHARACTER_TOKEN]:re,[s.WHITESPACE_CHARACTER_TOKEN]:kt,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:Ft,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.HTML?Ne(A,G):B===b.HEAD?(A._insertElement(G,k.HTML),A.headElement=A.openElements.current,A.insertionMode=q):re(A,G)},[s.END_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.HEAD||B===b.BODY||B===b.HTML||B===b.BR?re(A,G):A._err(M.endTagWithoutMatchingOpenElement)},[s.EOF_TOKEN]:re},[q]:{[s.CHARACTER_TOKEN]:Oe,[s.NULL_CHARACTER_TOKEN]:Oe,[s.WHITESPACE_CHARACTER_TOKEN]:Le,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:Ft,[s.START_TAG_TOKEN]:Ht,[s.END_TAG_TOKEN]:de,[s.EOF_TOKEN]:Oe},[J]:{[s.CHARACTER_TOKEN]:Pe,[s.NULL_CHARACTER_TOKEN]:Pe,[s.WHITESPACE_CHARACTER_TOKEN]:Le,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:Ft,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.HTML?Ne(A,G):B===b.BASEFONT||B===b.BGSOUND||B===b.HEAD||B===b.LINK||B===b.META||B===b.NOFRAMES||B===b.STYLE?Ht(A,G):B===b.NOSCRIPT?A._err(M.nestedNoscriptInHead):Pe(A,G)},[s.END_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.NOSCRIPT?(A.openElements.pop(),A.insertionMode=q):B===b.BR?Pe(A,G):A._err(M.endTagWithoutMatchingOpenElement)},[s.EOF_TOKEN]:Pe},[D]:{[s.CHARACTER_TOKEN]:_e,[s.NULL_CHARACTER_TOKEN]:_e,[s.WHITESPACE_CHARACTER_TOKEN]:Le,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:Ft,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.HTML?Ne(A,G):B===b.BODY?(A._insertElement(G,k.HTML),A.framesetOk=!1,A.insertionMode=Z):B===b.FRAMESET?(A._insertElement(G,k.HTML),A.insertionMode=Nt):B===b.BASE||B===b.BASEFONT||B===b.BGSOUND||B===b.LINK||B===b.META||B===b.NOFRAMES||B===b.SCRIPT||B===b.STYLE||B===b.TEMPLATE||B===b.TITLE?(A._err(M.abandonedHeadElementChild),A.openElements.push(A.headElement),Ht(A,G),A.openElements.remove(A.headElement)):B===b.HEAD?A._err(M.misplacedStartTagForHeadElement):_e(A,G)},[s.END_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.BODY||B===b.HTML||B===b.BR?_e(A,G):B===b.TEMPLATE?de(A,G):A._err(M.endTagWithoutMatchingOpenElement)},[s.EOF_TOKEN]:_e},[Z]:{[s.CHARACTER_TOKEN]:Qe,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:Ne,[s.END_TAG_TOKEN]:mi,[s.EOF_TOKEN]:Mn},[nt]:{[s.CHARACTER_TOKEN]:Le,[s.NULL_CHARACTER_TOKEN]:Le,[s.WHITESPACE_CHARACTER_TOKEN]:Le,[s.COMMENT_TOKEN]:kt,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:kt,[s.END_TAG_TOKEN]:function(A,G){G.tagName===b.SCRIPT&&(A.pendingScript=A.openElements.current),A.openElements.pop(),A.insertionMode=A.originalInsertionMode},[s.EOF_TOKEN]:function(A,G){A._err(M.eofInElementThatCanContainOnlyText),A.openElements.pop(),A.insertionMode=A.originalInsertionMode,A._processToken(G)}},[pt]:{[s.CHARACTER_TOKEN]:fn,[s.NULL_CHARACTER_TOKEN]:fn,[s.WHITESPACE_CHARACTER_TOKEN]:fn,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:Si,[s.END_TAG_TOKEN]:yn,[s.EOF_TOKEN]:Mn},[Vt]:{[s.CHARACTER_TOKEN]:function(A,G){A.pendingCharacterTokens.push(G),A.hasNonWhitespacePendingCharacterToken=!0},[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:function(A,G){A.pendingCharacterTokens.push(G)},[s.COMMENT_TOKEN]:wn,[s.DOCTYPE_TOKEN]:wn,[s.START_TAG_TOKEN]:wn,[s.END_TAG_TOKEN]:wn,[s.EOF_TOKEN]:wn},[qt]:{[s.CHARACTER_TOKEN]:Qe,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.CAPTION||B===b.COL||B===b.COLGROUP||B===b.TBODY||B===b.TD||B===b.TFOOT||B===b.TH||B===b.THEAD||B===b.TR?A.openElements.hasInTableScope(b.CAPTION)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(b.CAPTION),A.activeFormattingElements.clearToLastMarker(),A.insertionMode=pt,A._processToken(G)):Ne(A,G)},[s.END_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.CAPTION||B===b.TABLE?A.openElements.hasInTableScope(b.CAPTION)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(b.CAPTION),A.activeFormattingElements.clearToLastMarker(),A.insertionMode=pt,B===b.TABLE&&A._processToken(G)):B!==b.BODY&&B!==b.COL&&B!==b.COLGROUP&&B!==b.HTML&&B!==b.TBODY&&B!==b.TD&&B!==b.TFOOT&&B!==b.TH&&B!==b.THEAD&&B!==b.TR&&mi(A,G)},[s.EOF_TOKEN]:Mn},[Pt]:{[s.CHARACTER_TOKEN]:Yn,[s.NULL_CHARACTER_TOKEN]:Yn,[s.WHITESPACE_CHARACTER_TOKEN]:Le,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.HTML?Ne(A,G):B===b.COL?(A._appendElement(G,k.HTML),G.ackSelfClosing=!0):B===b.TEMPLATE?Ht(A,G):Yn(A,G)},[s.END_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.COLGROUP?A.openElements.currentTagName===b.COLGROUP&&(A.openElements.pop(),A.insertionMode=pt):B===b.TEMPLATE?de(A,G):B!==b.COL&&Yn(A,G)},[s.EOF_TOKEN]:Mn},[yt]:{[s.CHARACTER_TOKEN]:fn,[s.NULL_CHARACTER_TOKEN]:fn,[s.WHITESPACE_CHARACTER_TOKEN]:fn,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.TR?(A.openElements.clearBackToTableBodyContext(),A._insertElement(G,k.HTML),A.insertionMode=rt):B===b.TH||B===b.TD?(A.openElements.clearBackToTableBodyContext(),A._insertFakeElement(b.TR),A.insertionMode=rt,A._processToken(G)):B===b.CAPTION||B===b.COL||B===b.COLGROUP||B===b.TBODY||B===b.TFOOT||B===b.THEAD?A.openElements.hasTableBodyContextInTableScope()&&(A.openElements.clearBackToTableBodyContext(),A.openElements.pop(),A.insertionMode=pt,A._processToken(G)):Si(A,G)},[s.END_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.TBODY||B===b.TFOOT||B===b.THEAD?A.openElements.hasInTableScope(B)&&(A.openElements.clearBackToTableBodyContext(),A.openElements.pop(),A.insertionMode=pt):B===b.TABLE?A.openElements.hasTableBodyContextInTableScope()&&(A.openElements.clearBackToTableBodyContext(),A.openElements.pop(),A.insertionMode=pt,A._processToken(G)):(B!==b.BODY&&B!==b.CAPTION&&B!==b.COL&&B!==b.COLGROUP||B!==b.HTML&&B!==b.TD&&B!==b.TH&&B!==b.TR)&&yn(A,G)},[s.EOF_TOKEN]:Mn},[rt]:{[s.CHARACTER_TOKEN]:fn,[s.NULL_CHARACTER_TOKEN]:fn,[s.WHITESPACE_CHARACTER_TOKEN]:fn,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.TH||B===b.TD?(A.openElements.clearBackToTableRowContext(),A._insertElement(G,k.HTML),A.insertionMode=ft,A.activeFormattingElements.insertMarker()):B===b.CAPTION||B===b.COL||B===b.COLGROUP||B===b.TBODY||B===b.TFOOT||B===b.THEAD||B===b.TR?A.openElements.hasInTableScope(b.TR)&&(A.openElements.clearBackToTableRowContext(),A.openElements.pop(),A.insertionMode=yt,A._processToken(G)):Si(A,G)},[s.END_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.TR?A.openElements.hasInTableScope(b.TR)&&(A.openElements.clearBackToTableRowContext(),A.openElements.pop(),A.insertionMode=yt):B===b.TABLE?A.openElements.hasInTableScope(b.TR)&&(A.openElements.clearBackToTableRowContext(),A.openElements.pop(),A.insertionMode=yt,A._processToken(G)):B===b.TBODY||B===b.TFOOT||B===b.THEAD?(A.openElements.hasInTableScope(B)||A.openElements.hasInTableScope(b.TR))&&(A.openElements.clearBackToTableRowContext(),A.openElements.pop(),A.insertionMode=yt,A._processToken(G)):(B!==b.BODY&&B!==b.CAPTION&&B!==b.COL&&B!==b.COLGROUP||B!==b.HTML&&B!==b.TD&&B!==b.TH)&&yn(A,G)},[s.EOF_TOKEN]:Mn},[ft]:{[s.CHARACTER_TOKEN]:Qe,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.CAPTION||B===b.COL||B===b.COLGROUP||B===b.TBODY||B===b.TD||B===b.TFOOT||B===b.TH||B===b.THEAD||B===b.TR?(A.openElements.hasInTableScope(b.TD)||A.openElements.hasInTableScope(b.TH))&&(A._closeTableCell(),A._processToken(G)):Ne(A,G)},[s.END_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.TD||B===b.TH?A.openElements.hasInTableScope(B)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(B),A.activeFormattingElements.clearToLastMarker(),A.insertionMode=rt):B===b.TABLE||B===b.TBODY||B===b.TFOOT||B===b.THEAD||B===b.TR?A.openElements.hasInTableScope(B)&&(A._closeTableCell(),A._processToken(G)):B!==b.BODY&&B!==b.CAPTION&&B!==b.COL&&B!==b.COLGROUP&&B!==b.HTML&&mi(A,G)},[s.EOF_TOKEN]:Mn},[wt]:{[s.CHARACTER_TOKEN]:Le,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Le,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:Be,[s.END_TAG_TOKEN]:Xn,[s.EOF_TOKEN]:Mn},[Et]:{[s.CHARACTER_TOKEN]:Le,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Le,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.CAPTION||B===b.TABLE||B===b.TBODY||B===b.TFOOT||B===b.THEAD||B===b.TR||B===b.TD||B===b.TH?(A.openElements.popUntilTagNamePopped(b.SELECT),A._resetInsertionMode(),A._processToken(G)):Be(A,G)},[s.END_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.CAPTION||B===b.TABLE||B===b.TBODY||B===b.TFOOT||B===b.THEAD||B===b.TR||B===b.TD||B===b.TH?A.openElements.hasInTableScope(B)&&(A.openElements.popUntilTagNamePopped(b.SELECT),A._resetInsertionMode(),A._processToken(G)):Xn(A,G)},[s.EOF_TOKEN]:Mn},[zt]:{[s.CHARACTER_TOKEN]:Qe,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;if(B===b.BASE||B===b.BASEFONT||B===b.BGSOUND||B===b.LINK||B===b.META||B===b.NOFRAMES||B===b.SCRIPT||B===b.STYLE||B===b.TEMPLATE||B===b.TITLE)Ht(A,G);else{let gt=ae[B]||Z;A._popTmplInsertionMode(),A._pushTmplInsertionMode(gt),A.insertionMode=gt,A._processToken(G)}},[s.END_TAG_TOKEN]:function(A,G){G.tagName===b.TEMPLATE&&de(A,G)},[s.EOF_TOKEN]:Ve},[Wt]:{[s.CHARACTER_TOKEN]:Dn,[s.NULL_CHARACTER_TOKEN]:Dn,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:function(A,G){A._appendCommentNode(G,A.openElements.items[0])},[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){G.tagName===b.HTML?Ne(A,G):Dn(A,G)},[s.END_TAG_TOKEN]:function(A,G){G.tagName===b.HTML?A.fragmentContext||(A.insertionMode=$t):Dn(A,G)},[s.EOF_TOKEN]:ut},[Nt]:{[s.CHARACTER_TOKEN]:kt,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Le,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.HTML?Ne(A,G):B===b.FRAMESET?A._insertElement(G,k.HTML):B===b.FRAME?(A._appendElement(G,k.HTML),G.ackSelfClosing=!0):B===b.NOFRAMES&&Ht(A,G)},[s.END_TAG_TOKEN]:function(A,G){G.tagName!==b.FRAMESET||A.openElements.isRootHtmlElementCurrent()||(A.openElements.pop(),A.fragmentContext||A.openElements.currentTagName===b.FRAMESET||(A.insertionMode=st))},[s.EOF_TOKEN]:ut},[st]:{[s.CHARACTER_TOKEN]:kt,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Le,[s.COMMENT_TOKEN]:me,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.HTML?Ne(A,G):B===b.NOFRAMES&&Ht(A,G)},[s.END_TAG_TOKEN]:function(A,G){G.tagName===b.HTML&&(A.insertionMode=le)},[s.EOF_TOKEN]:ut},[$t]:{[s.CHARACTER_TOKEN]:vn,[s.NULL_CHARACTER_TOKEN]:vn,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:Ye,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){G.tagName===b.HTML?Ne(A,G):vn(A,G)},[s.END_TAG_TOKEN]:vn,[s.EOF_TOKEN]:ut},[le]:{[s.CHARACTER_TOKEN]:kt,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:Ye,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,G){let B=G.tagName;B===b.HTML?Ne(A,G):B===b.NOFRAMES&&Ht(A,G)},[s.END_TAG_TOKEN]:kt,[s.EOF_TOKEN]:ut}};function ce(A,G){let B=A.activeFormattingElements.getElementEntryInScopeWithTagName(G.tagName);return B?A.openElements.contains(B.element)?A.openElements.hasInScope(G.tagName)||(B=null):(A.activeFormattingElements.removeEntry(B),B=null):rn(A,G),B}function K(A,G){let B=null;for(let gt=A.openElements.stackTop;gt>=0;gt--){let Yt=A.openElements.items[gt];if(Yt===G.element)break;A._isSpecialElement(Yt)&&(B=Yt)}return B||(A.openElements.popUntilElementPopped(G.element),A.activeFormattingElements.removeEntry(G)),B}function at(A,G,B){let gt=G,Yt=A.openElements.getCommonAncestor(G);for(let Ee=0,je=Yt;je!==B;Ee++,je=Yt){Yt=A.openElements.getCommonAncestor(je);let He=A.activeFormattingElements.getElementEntry(je),ze=He&&Ee>=R;!He||ze?(ze&&A.activeFormattingElements.removeEntry(He),A.openElements.remove(je)):(je=mt(A,He),gt===G&&(A.activeFormattingElements.bookmark=He),A.treeAdapter.detachNode(gt),A.treeAdapter.appendChild(je,gt),gt=je)}return gt}function mt(A,G){let B=A.treeAdapter.getNamespaceURI(G.element),gt=A.treeAdapter.createElement(G.token.tagName,B,G.token.attrs);return A.openElements.replace(G.element,gt),G.element=gt,gt}function At(A,G,B){if(A._isElementCausesFosterParenting(G))A._fosterParentElement(B);else{let gt=A.treeAdapter.getTagName(G),Yt=A.treeAdapter.getNamespaceURI(G);gt===b.TEMPLATE&&Yt===k.HTML&&(G=A.treeAdapter.getTemplateContent(G)),A.treeAdapter.appendChild(G,B)}}function Qt(A,G,B){let gt=A.treeAdapter.getNamespaceURI(B.element),Yt=B.token,Ee=A.treeAdapter.createElement(Yt.tagName,gt,Yt.attrs);A._adoptNodes(G,Ee),A.treeAdapter.appendChild(G,Ee),A.activeFormattingElements.insertElementAfterBookmark(Ee,B.token),A.activeFormattingElements.removeEntry(B),A.openElements.remove(B.element),A.openElements.insertAfter(G,Ee)}function ht(A,G){let B;for(let gt=0;gt<V&&(B=ce(A,G),B);gt++){let Yt=K(A,B);if(!Yt)break;A.activeFormattingElements.bookmark=B;let Ee=at(A,Yt,B.element),je=A.openElements.getCommonAncestor(B.element);A.treeAdapter.detachNode(Ee),At(A,je,Ee),Qt(A,Yt,B)}}function kt(){}function Ft(A){A._err(M.misplacedDoctype)}function me(A,G){A._appendCommentNode(G,A.openElements.currentTmplContent||A.openElements.current)}function Ye(A,G){A._appendCommentNode(G,A.document)}function Le(A,G){A._insertCharacters(G)}function ut(A){A.stopped=!0}function Tt(A,G){A._err(M.missingDoctype,{beforeToken:!0}),A.treeAdapter.setDocumentMode(A.document,T.DOCUMENT_MODE.QUIRKS),A.insertionMode=L,A._processToken(G)}function ot(A,G){A._insertFakeRootElement(),A.insertionMode=W,A._processToken(G)}function re(A,G){A._insertFakeElement(b.HEAD),A.headElement=A.openElements.current,A.insertionMode=q,A._processToken(G)}function Ht(A,G){let B=G.tagName;B===b.HTML?Ne(A,G):B===b.BASE||B===b.BASEFONT||B===b.BGSOUND||B===b.LINK||B===b.META?(A._appendElement(G,k.HTML),G.ackSelfClosing=!0):B===b.TITLE?A._switchToTextParsing(G,s.MODE.RCDATA):B===b.NOSCRIPT?A.options.scriptingEnabled?A._switchToTextParsing(G,s.MODE.RAWTEXT):(A._insertElement(G,k.HTML),A.insertionMode=J):B===b.NOFRAMES||B===b.STYLE?A._switchToTextParsing(G,s.MODE.RAWTEXT):B===b.SCRIPT?A._switchToTextParsing(G,s.MODE.SCRIPT_DATA):B===b.TEMPLATE?(A._insertTemplate(G,k.HTML),A.activeFormattingElements.insertMarker(),A.framesetOk=!1,A.insertionMode=zt,A._pushTmplInsertionMode(zt)):B===b.HEAD?A._err(M.misplacedStartTagForHeadElement):Oe(A,G)}function de(A,G){let B=G.tagName;B===b.HEAD?(A.openElements.pop(),A.insertionMode=D):B===b.BODY||B===b.BR||B===b.HTML?Oe(A,G):B===b.TEMPLATE&&A.openElements.tmplCount>0?(A.openElements.generateImpliedEndTagsThoroughly(),A.openElements.currentTagName!==b.TEMPLATE&&A._err(M.closingOfElementWithOpenChildElements),A.openElements.popUntilTagNamePopped(b.TEMPLATE),A.activeFormattingElements.clearToLastMarker(),A._popTmplInsertionMode(),A._resetInsertionMode()):A._err(M.endTagWithoutMatchingOpenElement)}function Oe(A,G){A.openElements.pop(),A.insertionMode=D,A._processToken(G)}function Pe(A,G){let B=G.type===s.EOF_TOKEN?M.openElementsLeftAfterEof:M.disallowedContentInNoscriptInHead;A._err(B),A.openElements.pop(),A.insertionMode=q,A._processToken(G)}function _e(A,G){A._insertFakeElement(b.BODY),A.insertionMode=Z,A._processToken(G)}function Ae(A,G){A._reconstructActiveFormattingElements(),A._insertCharacters(G)}function Qe(A,G){A._reconstructActiveFormattingElements(),A._insertCharacters(G),A.framesetOk=!1}function Xe(A,G){A.openElements.hasInButtonScope(b.P)&&A._closePElement(),A._insertElement(G,k.HTML)}function Ze(A,G){A.openElements.hasInButtonScope(b.P)&&A._closePElement(),A._insertElement(G,k.HTML),A.skipNextNewLine=!0,A.framesetOk=!1}function _n(A,G){A._reconstructActiveFormattingElements(),A._insertElement(G,k.HTML),A.activeFormattingElements.pushElement(A.openElements.current,G)}function Kn(A,G){A._reconstructActiveFormattingElements(),A._insertElement(G,k.HTML),A.activeFormattingElements.insertMarker(),A.framesetOk=!1}function dt(A,G){A._reconstructActiveFormattingElements(),A._appendElement(G,k.HTML),A.framesetOk=!1,G.ackSelfClosing=!0}function Mt(A,G){A._appendElement(G,k.HTML),G.ackSelfClosing=!0}function Rt(A,G){A._switchToTextParsing(G,s.MODE.RAWTEXT)}function ne(A,G){A.openElements.currentTagName===b.OPTION&&A.openElements.pop(),A._reconstructActiveFormattingElements(),A._insertElement(G,k.HTML)}function Ce(A,G){A.openElements.hasInScope(b.RUBY)&&A.openElements.generateImpliedEndTags(),A._insertElement(G,k.HTML)}function Te(A,G){A._reconstructActiveFormattingElements(),A._insertElement(G,k.HTML)}function Ne(A,G){let B=G.tagName;switch(B.length){case 1:B===b.I||B===b.S||B===b.B||B===b.U?_n(A,G):B===b.P?Xe(A,G):B===b.A?function(gt,Yt){let Ee=gt.activeFormattingElements.getElementEntryInScopeWithTagName(b.A);Ee&&(ht(gt,Yt),gt.openElements.remove(Ee.element),gt.activeFormattingElements.removeEntry(Ee)),gt._reconstructActiveFormattingElements(),gt._insertElement(Yt,k.HTML),gt.activeFormattingElements.pushElement(gt.openElements.current,Yt)}(A,G):Te(A,G);break;case 2:B===b.DL||B===b.OL||B===b.UL?Xe(A,G):B===b.H1||B===b.H2||B===b.H3||B===b.H4||B===b.H5||B===b.H6?function(gt,Yt){gt.openElements.hasInButtonScope(b.P)&&gt._closePElement();let Ee=gt.openElements.currentTagName;Ee!==b.H1&&Ee!==b.H2&&Ee!==b.H3&&Ee!==b.H4&&Ee!==b.H5&&Ee!==b.H6||gt.openElements.pop(),gt._insertElement(Yt,k.HTML)}(A,G):B===b.LI||B===b.DD||B===b.DT?function(gt,Yt){gt.framesetOk=!1;let Ee=Yt.tagName;for(let je=gt.openElements.stackTop;je>=0;je--){let He=gt.openElements.items[je],ze=gt.treeAdapter.getTagName(He),Y=null;if(Ee===b.LI&&ze===b.LI?Y=b.LI:Ee!==b.DD&&Ee!==b.DT||ze!==b.DD&&ze!==b.DT||(Y=ze),Y){gt.openElements.generateImpliedEndTagsWithExclusion(Y),gt.openElements.popUntilTagNamePopped(Y);break}if(ze!==b.ADDRESS&&ze!==b.DIV&&ze!==b.P&&gt._isSpecialElement(He))break}gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._insertElement(Yt,k.HTML)}(A,G):B===b.EM||B===b.TT?_n(A,G):B===b.BR?dt(A,G):B===b.HR?function(gt,Yt){gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._appendElement(Yt,k.HTML),gt.framesetOk=!1,Yt.ackSelfClosing=!0}(A,G):B===b.RB?Ce(A,G):B===b.RT||B===b.RP?function(gt,Yt){gt.openElements.hasInScope(b.RUBY)&&gt.openElements.generateImpliedEndTagsWithExclusion(b.RTC),gt._insertElement(Yt,k.HTML)}(A,G):B!==b.TH&&B!==b.TD&&B!==b.TR&&Te(A,G);break;case 3:B===b.DIV||B===b.DIR||B===b.NAV?Xe(A,G):B===b.PRE?Ze(A,G):B===b.BIG?_n(A,G):B===b.IMG||B===b.WBR?dt(A,G):B===b.XMP?function(gt,Yt){gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._reconstructActiveFormattingElements(),gt.framesetOk=!1,gt._switchToTextParsing(Yt,s.MODE.RAWTEXT)}(A,G):B===b.SVG?function(gt,Yt){gt._reconstructActiveFormattingElements(),O.adjustTokenSVGAttrs(Yt),O.adjustTokenXMLAttrs(Yt),Yt.selfClosing?gt._appendElement(Yt,k.SVG):gt._insertElement(Yt,k.SVG),Yt.ackSelfClosing=!0}(A,G):B===b.RTC?Ce(A,G):B!==b.COL&&Te(A,G);break;case 4:B===b.HTML?function(gt,Yt){gt.openElements.tmplCount===0&&gt.treeAdapter.adoptAttributes(gt.openElements.items[0],Yt.attrs)}(A,G):B===b.BASE||B===b.LINK||B===b.META?Ht(A,G):B===b.BODY?function(gt,Yt){let Ee=gt.openElements.tryPeekProperlyNestedBodyElement();Ee&&gt.openElements.tmplCount===0&&(gt.framesetOk=!1,gt.treeAdapter.adoptAttributes(Ee,Yt.attrs))}(A,G):B===b.MAIN||B===b.MENU?Xe(A,G):B===b.FORM?function(gt,Yt){let Ee=gt.openElements.tmplCount>0;gt.formElement&&!Ee||(gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._insertElement(Yt,k.HTML),Ee||(gt.formElement=gt.openElements.current))}(A,G):B===b.CODE||B===b.FONT?_n(A,G):B===b.NOBR?function(gt,Yt){gt._reconstructActiveFormattingElements(),gt.openElements.hasInScope(b.NOBR)&&(ht(gt,Yt),gt._reconstructActiveFormattingElements()),gt._insertElement(Yt,k.HTML),gt.activeFormattingElements.pushElement(gt.openElements.current,Yt)}(A,G):B===b.AREA?dt(A,G):B===b.MATH?function(gt,Yt){gt._reconstructActiveFormattingElements(),O.adjustTokenMathMLAttrs(Yt),O.adjustTokenXMLAttrs(Yt),Yt.selfClosing?gt._appendElement(Yt,k.MATHML):gt._insertElement(Yt,k.MATHML),Yt.ackSelfClosing=!0}(A,G):B===b.MENU?function(gt,Yt){gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._insertElement(Yt,k.HTML)}(A,G):B!==b.HEAD&&Te(A,G);break;case 5:B===b.STYLE||B===b.TITLE?Ht(A,G):B===b.ASIDE?Xe(A,G):B===b.SMALL?_n(A,G):B===b.TABLE?function(gt,Yt){gt.treeAdapter.getDocumentMode(gt.document)!==T.DOCUMENT_MODE.QUIRKS&&gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._insertElement(Yt,k.HTML),gt.framesetOk=!1,gt.insertionMode=pt}(A,G):B===b.EMBED?dt(A,G):B===b.INPUT?function(gt,Yt){gt._reconstructActiveFormattingElements(),gt._appendElement(Yt,k.HTML);let Ee=s.getTokenAttr(Yt,E.TYPE);Ee&&Ee.toLowerCase()===F||(gt.framesetOk=!1),Yt.ackSelfClosing=!0}(A,G):B===b.PARAM||B===b.TRACK?Mt(A,G):B===b.IMAGE?function(gt,Yt){Yt.tagName=b.IMG,dt(gt,Yt)}(A,G):B!==b.FRAME&&B!==b.TBODY&&B!==b.TFOOT&&B!==b.THEAD&&Te(A,G);break;case 6:B===b.SCRIPT?Ht(A,G):B===b.CENTER||B===b.FIGURE||B===b.FOOTER||B===b.HEADER||B===b.HGROUP||B===b.DIALOG?Xe(A,G):B===b.BUTTON?function(gt,Yt){gt.openElements.hasInScope(b.BUTTON)&&(gt.openElements.generateImpliedEndTags(),gt.openElements.popUntilTagNamePopped(b.BUTTON)),gt._reconstructActiveFormattingElements(),gt._insertElement(Yt,k.HTML),gt.framesetOk=!1}(A,G):B===b.STRIKE||B===b.STRONG?_n(A,G):B===b.APPLET||B===b.OBJECT?Kn(A,G):B===b.KEYGEN?dt(A,G):B===b.SOURCE?Mt(A,G):B===b.IFRAME?function(gt,Yt){gt.framesetOk=!1,gt._switchToTextParsing(Yt,s.MODE.RAWTEXT)}(A,G):B===b.SELECT?function(gt,Yt){gt._reconstructActiveFormattingElements(),gt._insertElement(Yt,k.HTML),gt.framesetOk=!1,gt.insertionMode===pt||gt.insertionMode===qt||gt.insertionMode===yt||gt.insertionMode===rt||gt.insertionMode===ft?gt.insertionMode=Et:gt.insertionMode=wt}(A,G):B===b.OPTION?ne(A,G):Te(A,G);break;case 7:B===b.BGSOUND?Ht(A,G):B===b.DETAILS||B===b.ADDRESS||B===b.ARTICLE||B===b.SECTION||B===b.SUMMARY?Xe(A,G):B===b.LISTING?Ze(A,G):B===b.MARQUEE?Kn(A,G):B===b.NOEMBED?Rt(A,G):B!==b.CAPTION&&Te(A,G);break;case 8:B===b.BASEFONT?Ht(A,G):B===b.FRAMESET?function(gt,Yt){let Ee=gt.openElements.tryPeekProperlyNestedBodyElement();gt.framesetOk&&Ee&&(gt.treeAdapter.detachNode(Ee),gt.openElements.popAllUpToHtmlElement(),gt._insertElement(Yt,k.HTML),gt.insertionMode=Nt)}(A,G):B===b.FIELDSET?Xe(A,G):B===b.TEXTAREA?function(gt,Yt){gt._insertElement(Yt,k.HTML),gt.skipNextNewLine=!0,gt.tokenizer.state=s.MODE.RCDATA,gt.originalInsertionMode=gt.insertionMode,gt.framesetOk=!1,gt.insertionMode=nt}(A,G):B===b.TEMPLATE?Ht(A,G):B===b.NOSCRIPT?A.options.scriptingEnabled?Rt(A,G):Te(A,G):B===b.OPTGROUP?ne(A,G):B!==b.COLGROUP&&Te(A,G);break;case 9:B===b.PLAINTEXT?function(gt,Yt){gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._insertElement(Yt,k.HTML),gt.tokenizer.state=s.MODE.PLAINTEXT}(A,G):Te(A,G);break;case 10:B===b.BLOCKQUOTE||B===b.FIGCAPTION?Xe(A,G):Te(A,G);break;default:Te(A,G)}}function Pn(A,G){let B=G.tagName;A.openElements.hasInScope(B)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(B))}function On(A,G){let B=G.tagName;A.openElements.hasInScope(B)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(B),A.activeFormattingElements.clearToLastMarker())}function rn(A,G){let B=G.tagName;for(let gt=A.openElements.stackTop;gt>0;gt--){let Yt=A.openElements.items[gt];if(A.treeAdapter.getTagName(Yt)===B){A.openElements.generateImpliedEndTagsWithExclusion(B),A.openElements.popUntilElementPopped(Yt);break}if(A._isSpecialElement(Yt))break}}function mi(A,G){let B=G.tagName;switch(B.length){case 1:B===b.A||B===b.B||B===b.I||B===b.S||B===b.U?ht(A,G):B===b.P?function(gt){gt.openElements.hasInButtonScope(b.P)||gt._insertFakeElement(b.P),gt._closePElement()}(A):rn(A,G);break;case 2:B===b.DL||B===b.UL||B===b.OL?Pn(A,G):B===b.LI?function(gt){gt.openElements.hasInListItemScope(b.LI)&&(gt.openElements.generateImpliedEndTagsWithExclusion(b.LI),gt.openElements.popUntilTagNamePopped(b.LI))}(A):B===b.DD||B===b.DT?function(gt,Yt){let Ee=Yt.tagName;gt.openElements.hasInScope(Ee)&&(gt.openElements.generateImpliedEndTagsWithExclusion(Ee),gt.openElements.popUntilTagNamePopped(Ee))}(A,G):B===b.H1||B===b.H2||B===b.H3||B===b.H4||B===b.H5||B===b.H6?function(gt){gt.openElements.hasNumberedHeaderInScope()&&(gt.openElements.generateImpliedEndTags(),gt.openElements.popUntilNumberedHeaderPopped())}(A):B===b.BR?function(gt){gt._reconstructActiveFormattingElements(),gt._insertFakeElement(b.BR),gt.openElements.pop(),gt.framesetOk=!1}(A):B===b.EM||B===b.TT?ht(A,G):rn(A,G);break;case 3:B===b.BIG?ht(A,G):B===b.DIR||B===b.DIV||B===b.NAV||B===b.PRE?Pn(A,G):rn(A,G);break;case 4:B===b.BODY?function(gt){gt.openElements.hasInScope(b.BODY)&&(gt.insertionMode=Wt)}(A):B===b.HTML?function(gt,Yt){gt.openElements.hasInScope(b.BODY)&&(gt.insertionMode=Wt,gt._processToken(Yt))}(A,G):B===b.FORM?function(gt){let Yt=gt.openElements.tmplCount>0,Ee=gt.formElement;Yt||(gt.formElement=null),(Ee||Yt)&&gt.openElements.hasInScope(b.FORM)&&(gt.openElements.generateImpliedEndTags(),Yt?gt.openElements.popUntilTagNamePopped(b.FORM):gt.openElements.remove(Ee))}(A):B===b.CODE||B===b.FONT||B===b.NOBR?ht(A,G):B===b.MAIN||B===b.MENU?Pn(A,G):rn(A,G);break;case 5:B===b.ASIDE?Pn(A,G):B===b.SMALL?ht(A,G):rn(A,G);break;case 6:B===b.CENTER||B===b.FIGURE||B===b.FOOTER||B===b.HEADER||B===b.HGROUP||B===b.DIALOG?Pn(A,G):B===b.APPLET||B===b.OBJECT?On(A,G):B===b.STRIKE||B===b.STRONG?ht(A,G):rn(A,G);break;case 7:B===b.ADDRESS||B===b.ARTICLE||B===b.DETAILS||B===b.SECTION||B===b.SUMMARY||B===b.LISTING?Pn(A,G):B===b.MARQUEE?On(A,G):rn(A,G);break;case 8:B===b.FIELDSET?Pn(A,G):B===b.TEMPLATE?de(A,G):rn(A,G);break;case 10:B===b.BLOCKQUOTE||B===b.FIGCAPTION?Pn(A,G):rn(A,G);break;default:rn(A,G)}}function Mn(A,G){A.tmplInsertionModeStackTop>-1?Ve(A,G):A.stopped=!0}function fn(A,G){let B=A.openElements.currentTagName;B===b.TABLE||B===b.TBODY||B===b.TFOOT||B===b.THEAD||B===b.TR?(A.pendingCharacterTokens=[],A.hasNonWhitespacePendingCharacterToken=!1,A.originalInsertionMode=A.insertionMode,A.insertionMode=Vt,A._processToken(G)):sn(A,G)}function Si(A,G){let B=G.tagName;switch(B.length){case 2:B===b.TD||B===b.TH||B===b.TR?function(gt,Yt){gt.openElements.clearBackToTableContext(),gt._insertFakeElement(b.TBODY),gt.insertionMode=yt,gt._processToken(Yt)}(A,G):sn(A,G);break;case 3:B===b.COL?function(gt,Yt){gt.openElements.clearBackToTableContext(),gt._insertFakeElement(b.COLGROUP),gt.insertionMode=Pt,gt._processToken(Yt)}(A,G):sn(A,G);break;case 4:B===b.FORM?function(gt,Yt){gt.formElement||gt.openElements.tmplCount!==0||(gt._insertElement(Yt,k.HTML),gt.formElement=gt.openElements.current,gt.openElements.pop())}(A,G):sn(A,G);break;case 5:B===b.TABLE?function(gt,Yt){gt.openElements.hasInTableScope(b.TABLE)&&(gt.openElements.popUntilTagNamePopped(b.TABLE),gt._resetInsertionMode(),gt._processToken(Yt))}(A,G):B===b.STYLE?Ht(A,G):B===b.TBODY||B===b.TFOOT||B===b.THEAD?function(gt,Yt){gt.openElements.clearBackToTableContext(),gt._insertElement(Yt,k.HTML),gt.insertionMode=yt}(A,G):B===b.INPUT?function(gt,Yt){let Ee=s.getTokenAttr(Yt,E.TYPE);Ee&&Ee.toLowerCase()===F?gt._appendElement(Yt,k.HTML):sn(gt,Yt),Yt.ackSelfClosing=!0}(A,G):sn(A,G);break;case 6:B===b.SCRIPT?Ht(A,G):sn(A,G);break;case 7:B===b.CAPTION?function(gt,Yt){gt.openElements.clearBackToTableContext(),gt.activeFormattingElements.insertMarker(),gt._insertElement(Yt,k.HTML),gt.insertionMode=qt}(A,G):sn(A,G);break;case 8:B===b.COLGROUP?function(gt,Yt){gt.openElements.clearBackToTableContext(),gt._insertElement(Yt,k.HTML),gt.insertionMode=Pt}(A,G):B===b.TEMPLATE?Ht(A,G):sn(A,G);break;default:sn(A,G)}}function yn(A,G){let B=G.tagName;B===b.TABLE?A.openElements.hasInTableScope(b.TABLE)&&(A.openElements.popUntilTagNamePopped(b.TABLE),A._resetInsertionMode()):B===b.TEMPLATE?de(A,G):B!==b.BODY&&B!==b.CAPTION&&B!==b.COL&&B!==b.COLGROUP&&B!==b.HTML&&B!==b.TBODY&&B!==b.TD&&B!==b.TFOOT&&B!==b.TH&&B!==b.THEAD&&B!==b.TR&&sn(A,G)}function sn(A,G){let B=A.fosterParentingEnabled;A.fosterParentingEnabled=!0,A._processTokenInBodyMode(G),A.fosterParentingEnabled=B}function wn(A,G){let B=0;if(A.hasNonWhitespacePendingCharacterToken)for(;B<A.pendingCharacterTokens.length;B++)sn(A,A.pendingCharacterTokens[B]);else for(;B<A.pendingCharacterTokens.length;B++)A._insertCharacters(A.pendingCharacterTokens[B]);A.insertionMode=A.originalInsertionMode,A._processToken(G)}function Yn(A,G){A.openElements.currentTagName===b.COLGROUP&&(A.openElements.pop(),A.insertionMode=pt,A._processToken(G))}function Be(A,G){let B=G.tagName;B===b.HTML?Ne(A,G):B===b.OPTION?(A.openElements.currentTagName===b.OPTION&&A.openElements.pop(),A._insertElement(G,k.HTML)):B===b.OPTGROUP?(A.openElements.currentTagName===b.OPTION&&A.openElements.pop(),A.openElements.currentTagName===b.OPTGROUP&&A.openElements.pop(),A._insertElement(G,k.HTML)):B===b.INPUT||B===b.KEYGEN||B===b.TEXTAREA||B===b.SELECT?A.openElements.hasInSelectScope(b.SELECT)&&(A.openElements.popUntilTagNamePopped(b.SELECT),A._resetInsertionMode(),B!==b.SELECT&&A._processToken(G)):B!==b.SCRIPT&&B!==b.TEMPLATE||Ht(A,G)}function Xn(A,G){let B=G.tagName;if(B===b.OPTGROUP){let gt=A.openElements.items[A.openElements.stackTop-1],Yt=gt&&A.treeAdapter.getTagName(gt);A.openElements.currentTagName===b.OPTION&&Yt===b.OPTGROUP&&A.openElements.pop(),A.openElements.currentTagName===b.OPTGROUP&&A.openElements.pop()}else B===b.OPTION?A.openElements.currentTagName===b.OPTION&&A.openElements.pop():B===b.SELECT&&A.openElements.hasInSelectScope(b.SELECT)?(A.openElements.popUntilTagNamePopped(b.SELECT),A._resetInsertionMode()):B===b.TEMPLATE&&de(A,G)}function Ve(A,G){A.openElements.tmplCount>0?(A.openElements.popUntilTagNamePopped(b.TEMPLATE),A.activeFormattingElements.clearToLastMarker(),A._popTmplInsertionMode(),A._resetInsertionMode(),A._processToken(G)):A.stopped=!0}function Dn(A,G){A.insertionMode=Z,A._processToken(G)}function vn(A,G){A.insertionMode=Z,A._processToken(G)}i.exports=class{constructor(A){this.options=y(N,A),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&g.install(this,u),this.options.onParseError&&g.install(this,p,{onParseError:this.options.onParseError})}parse(A){let G=this.treeAdapter.createDocument();return this._bootstrap(G,null),this.tokenizer.write(A,!0),this._runParsingLoop(null),G}parseFragment(A,G){G||(G=this.treeAdapter.createElement(b.TEMPLATE,k.HTML,[]));let B=this.treeAdapter.createElement("documentmock",k.HTML,[]);this._bootstrap(B,G),this.treeAdapter.getTagName(G)===b.TEMPLATE&&this._pushTmplInsertionMode(zt),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(A,!0),this._runParsingLoop(null);let gt=this.treeAdapter.getFirstChild(B),Yt=this.treeAdapter.createDocumentFragment();return this._adoptNodes(gt,Yt),Yt}_bootstrap(A,G){this.tokenizer=new s(this.options),this.stopped=!1,this.insertionMode=H,this.originalInsertionMode="",this.document=A,this.fragmentContext=G,this.headElement=null,this.formElement=null,this.openElements=new l(this.document,this.treeAdapter),this.activeFormattingElements=new c(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(A){for(;!this.stopped;){this._setupTokenizerCDATAMode();let G=this.tokenizer.getNextToken();if(G.type===s.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,G.type===s.WHITESPACE_CHARACTER_TOKEN&&G.chars[0]===`
`)){if(G.chars.length===1)continue;G.chars=G.chars.substr(1)}if(this._processInputToken(G),A&&this.pendingScript)break}}runParsingLoopForCurrentChunk(A,G){if(this._runParsingLoop(G),G&&this.pendingScript){let B=this.pendingScript;return this.pendingScript=null,void G(B)}A&&A()}_setupTokenizerCDATAMode(){let A=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=A&&A!==this.document&&this.treeAdapter.getNamespaceURI(A)!==k.HTML&&!this._isIntegrationPoint(A)}_switchToTextParsing(A,G){this._insertElement(A,k.HTML),this.tokenizer.state=G,this.originalInsertionMode=this.insertionMode,this.insertionMode=nt}switchToPlaintextParsing(){this.insertionMode=nt,this.originalInsertionMode=Z,this.tokenizer.state=s.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let A=this.fragmentContext;do{if(this.treeAdapter.getTagName(A)===b.FORM){this.formElement=A;break}A=this.treeAdapter.getParentNode(A)}while(A)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===k.HTML){let A=this.treeAdapter.getTagName(this.fragmentContext);A===b.TITLE||A===b.TEXTAREA?this.tokenizer.state=s.MODE.RCDATA:A===b.STYLE||A===b.XMP||A===b.IFRAME||A===b.NOEMBED||A===b.NOFRAMES||A===b.NOSCRIPT?this.tokenizer.state=s.MODE.RAWTEXT:A===b.SCRIPT?this.tokenizer.state=s.MODE.SCRIPT_DATA:A===b.PLAINTEXT&&(this.tokenizer.state=s.MODE.PLAINTEXT)}}_setDocumentType(A){let G=A.name||"",B=A.publicId||"",gt=A.systemId||"";this.treeAdapter.setDocumentType(this.document,G,B,gt)}_attachElementToTree(A){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(A);else{let G=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(G,A)}}_appendElement(A,G){let B=this.treeAdapter.createElement(A.tagName,G,A.attrs);this._attachElementToTree(B)}_insertElement(A,G){let B=this.treeAdapter.createElement(A.tagName,G,A.attrs);this._attachElementToTree(B),this.openElements.push(B)}_insertFakeElement(A){let G=this.treeAdapter.createElement(A,k.HTML,[]);this._attachElementToTree(G),this.openElements.push(G)}_insertTemplate(A){let G=this.treeAdapter.createElement(A.tagName,k.HTML,A.attrs),B=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(G,B),this._attachElementToTree(G),this.openElements.push(G)}_insertFakeRootElement(){let A=this.treeAdapter.createElement(b.HTML,k.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,A),this.openElements.push(A)}_appendCommentNode(A,G){let B=this.treeAdapter.createCommentNode(A.data);this.treeAdapter.appendChild(G,B)}_insertCharacters(A){if(this._shouldFosterParentOnInsertion())this._fosterParentText(A.chars);else{let G=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(G,A.chars)}}_adoptNodes(A,G){for(let B=this.treeAdapter.getFirstChild(A);B;B=this.treeAdapter.getFirstChild(A))this.treeAdapter.detachNode(B),this.treeAdapter.appendChild(G,B)}_shouldProcessTokenInForeignContent(A){let G=this._getAdjustedCurrentElement();if(!G||G===this.document)return!1;let B=this.treeAdapter.getNamespaceURI(G);if(B===k.HTML||this.treeAdapter.getTagName(G)===b.ANNOTATION_XML&&B===k.MATHML&&A.type===s.START_TAG_TOKEN&&A.tagName===b.SVG)return!1;let gt=A.type===s.CHARACTER_TOKEN||A.type===s.NULL_CHARACTER_TOKEN||A.type===s.WHITESPACE_CHARACTER_TOKEN;return(!(A.type===s.START_TAG_TOKEN&&A.tagName!==b.MGLYPH&&A.tagName!==b.MALIGNMARK)&&!gt||!this._isIntegrationPoint(G,k.MATHML))&&(A.type!==s.START_TAG_TOKEN&&!gt||!this._isIntegrationPoint(G,k.HTML))&&A.type!==s.EOF_TOKEN}_processToken(A){he[this.insertionMode][A.type](this,A)}_processTokenInBodyMode(A){he[Z][A.type](this,A)}_processTokenInForeignContent(A){A.type===s.CHARACTER_TOKEN?function(G,B){G._insertCharacters(B),G.framesetOk=!1}(this,A):A.type===s.NULL_CHARACTER_TOKEN?function(G,B){B.chars=w.REPLACEMENT_CHARACTER,G._insertCharacters(B)}(this,A):A.type===s.WHITESPACE_CHARACTER_TOKEN?Le(this,A):A.type===s.COMMENT_TOKEN?me(this,A):A.type===s.START_TAG_TOKEN?function(G,B){if(O.causesExit(B)&&!G.fragmentContext){for(;G.treeAdapter.getNamespaceURI(G.openElements.current)!==k.HTML&&!G._isIntegrationPoint(G.openElements.current);)G.openElements.pop();G._processToken(B)}else{let gt=G._getAdjustedCurrentElement(),Yt=G.treeAdapter.getNamespaceURI(gt);Yt===k.MATHML?O.adjustTokenMathMLAttrs(B):Yt===k.SVG&&(O.adjustTokenSVGTagName(B),O.adjustTokenSVGAttrs(B)),O.adjustTokenXMLAttrs(B),B.selfClosing?G._appendElement(B,Yt):G._insertElement(B,Yt),B.ackSelfClosing=!0}}(this,A):A.type===s.END_TAG_TOKEN&&function(G,B){for(let gt=G.openElements.stackTop;gt>0;gt--){let Yt=G.openElements.items[gt];if(G.treeAdapter.getNamespaceURI(Yt)===k.HTML){G._processToken(B);break}if(G.treeAdapter.getTagName(Yt).toLowerCase()===B.tagName){G.openElements.popUntilElementPopped(Yt);break}}}(this,A)}_processInputToken(A){this._shouldProcessTokenInForeignContent(A)?this._processTokenInForeignContent(A):this._processToken(A),A.type===s.START_TAG_TOKEN&&A.selfClosing&&!A.ackSelfClosing&&this._err(M.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(A,G){let B=this.treeAdapter.getTagName(A),gt=this.treeAdapter.getNamespaceURI(A),Yt=this.treeAdapter.getAttrList(A);return O.isIntegrationPoint(B,gt,Yt,G)}_reconstructActiveFormattingElements(){let A=this.activeFormattingElements.length;if(A){let G=A,B=null;do if(G--,B=this.activeFormattingElements.entries[G],B.type===c.MARKER_ENTRY||this.openElements.contains(B.element)){G++;break}while(G>0);for(let gt=G;gt<A;gt++)B=this.activeFormattingElements.entries[gt],this._insertElement(B.token,this.treeAdapter.getNamespaceURI(B.element)),B.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=rt}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let A=this.openElements.stackTop,G=!1;A>=0;A--){let B=this.openElements.items[A];A===0&&(G=!0,this.fragmentContext&&(B=this.fragmentContext));let gt=this.treeAdapter.getTagName(B),Yt=Ct[gt];if(Yt){this.insertionMode=Yt;break}if(!(G||gt!==b.TD&&gt!==b.TH)){this.insertionMode=ft;break}if(!G&&gt===b.HEAD){this.insertionMode=q;break}if(gt===b.SELECT){this._resetInsertionModeForSelect(A);break}if(gt===b.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(gt===b.HTML){this.insertionMode=this.headElement?D:W;break}if(G){this.insertionMode=Z;break}}}_resetInsertionModeForSelect(A){if(A>0)for(let G=A-1;G>0;G--){let B=this.openElements.items[G],gt=this.treeAdapter.getTagName(B);if(gt===b.TEMPLATE)break;if(gt===b.TABLE)return void(this.insertionMode=Et)}this.insertionMode=wt}_pushTmplInsertionMode(A){this.tmplInsertionModeStack.push(A),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=A}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(A){let G=this.treeAdapter.getTagName(A);return G===b.TABLE||G===b.TBODY||G===b.TFOOT||G===b.THEAD||G===b.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){let A={parent:null,beforeElement:null};for(let G=this.openElements.stackTop;G>=0;G--){let B=this.openElements.items[G],gt=this.treeAdapter.getTagName(B),Yt=this.treeAdapter.getNamespaceURI(B);if(gt===b.TEMPLATE&&Yt===k.HTML){A.parent=this.treeAdapter.getTemplateContent(B);break}if(gt===b.TABLE){A.parent=this.treeAdapter.getParentNode(B),A.parent?A.beforeElement=B:A.parent=this.openElements.items[G-1];break}}return A.parent||(A.parent=this.openElements.items[0]),A}_fosterParentElement(A){let G=this._findFosterParentingLocation();G.beforeElement?this.treeAdapter.insertBefore(G.parent,A,G.beforeElement):this.treeAdapter.appendChild(G.parent,A)}_fosterParentText(A){let G=this._findFosterParentingLocation();G.beforeElement?this.treeAdapter.insertTextBefore(G.parent,A,G.beforeElement):this.treeAdapter.insertText(G.parent,A)}_isSpecialElement(A){let G=this.treeAdapter.getTagName(A),B=this.treeAdapter.getNamespaceURI(A);return T.SPECIAL_ELEMENTS[B][G]}}},6519:(i,r,a)=>{"use strict";let s=a(6152),l=s.TAG_NAMES,c=s.NAMESPACES;function u(h){switch(h.length){case 1:return h===l.P;case 2:return h===l.RB||h===l.RP||h===l.RT||h===l.DD||h===l.DT||h===l.LI;case 3:return h===l.RTC;case 6:return h===l.OPTION;case 8:return h===l.OPTGROUP}return!1}function p(h){switch(h.length){case 1:return h===l.P;case 2:return h===l.RB||h===l.RP||h===l.RT||h===l.DD||h===l.DT||h===l.LI||h===l.TD||h===l.TH||h===l.TR;case 3:return h===l.RTC;case 5:return h===l.TBODY||h===l.TFOOT||h===l.THEAD;case 6:return h===l.OPTION;case 7:return h===l.CAPTION;case 8:return h===l.OPTGROUP||h===l.COLGROUP}return!1}function g(h,y){switch(h.length){case 2:if(h===l.TD||h===l.TH)return y===c.HTML;if(h===l.MI||h===l.MO||h===l.MN||h===l.MS)return y===c.MATHML;break;case 4:if(h===l.HTML)return y===c.HTML;if(h===l.DESC)return y===c.SVG;break;case 5:if(h===l.TABLE)return y===c.HTML;if(h===l.MTEXT)return y===c.MATHML;if(h===l.TITLE)return y===c.SVG;break;case 6:return(h===l.APPLET||h===l.OBJECT)&&y===c.HTML;case 7:return(h===l.CAPTION||h===l.MARQUEE)&&y===c.HTML;case 8:return h===l.TEMPLATE&&y===c.HTML;case 13:return h===l.FOREIGN_OBJECT&&y===c.SVG;case 14:return h===l.ANNOTATION_XML&&y===c.MATHML}return!1}i.exports=class{constructor(h,y){this.stackTop=-1,this.items=[],this.current=h,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=y}_indexOf(h){let y=-1;for(let _=this.stackTop;_>=0;_--)if(this.items[_]===h){y=_;break}return y}_isInTemplate(){return this.currentTagName===l.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===c.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(h){this.items[++this.stackTop]=h,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(h,y){let _=this._indexOf(h);this.items[_]=y,_===this.stackTop&&this._updateCurrentElement()}insertAfter(h,y){let _=this._indexOf(h)+1;this.items.splice(_,0,y),_===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(h){for(;this.stackTop>-1;){let y=this.currentTagName,_=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),y===h&&_===c.HTML)break}}popUntilElementPopped(h){for(;this.stackTop>-1;){let y=this.current;if(this.pop(),y===h)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){let h=this.currentTagName,y=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),h===l.H1||h===l.H2||h===l.H3||h===l.H4||h===l.H5||h===l.H6&&y===c.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){let h=this.currentTagName,y=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),h===l.TD||h===l.TH&&y===c.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==l.TABLE&&this.currentTagName!==l.TEMPLATE&&this.currentTagName!==l.HTML||this.treeAdapter.getNamespaceURI(this.current)!==c.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==l.TBODY&&this.currentTagName!==l.TFOOT&&this.currentTagName!==l.THEAD&&this.currentTagName!==l.TEMPLATE&&this.currentTagName!==l.HTML||this.treeAdapter.getNamespaceURI(this.current)!==c.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==l.TR&&this.currentTagName!==l.TEMPLATE&&this.currentTagName!==l.HTML||this.treeAdapter.getNamespaceURI(this.current)!==c.HTML;)this.pop()}remove(h){for(let y=this.stackTop;y>=0;y--)if(this.items[y]===h){this.items.splice(y,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){let h=this.items[1];return h&&this.treeAdapter.getTagName(h)===l.BODY?h:null}contains(h){return this._indexOf(h)>-1}getCommonAncestor(h){let y=this._indexOf(h);return--y>=0?this.items[y]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.currentTagName===l.HTML}hasInScope(h){for(let y=this.stackTop;y>=0;y--){let _=this.treeAdapter.getTagName(this.items[y]),O=this.treeAdapter.getNamespaceURI(this.items[y]);if(_===h&&O===c.HTML)return!0;if(g(_,O))return!1}return!0}hasNumberedHeaderInScope(){for(let h=this.stackTop;h>=0;h--){let y=this.treeAdapter.getTagName(this.items[h]),_=this.treeAdapter.getNamespaceURI(this.items[h]);if((y===l.H1||y===l.H2||y===l.H3||y===l.H4||y===l.H5||y===l.H6)&&_===c.HTML)return!0;if(g(y,_))return!1}return!0}hasInListItemScope(h){for(let y=this.stackTop;y>=0;y--){let _=this.treeAdapter.getTagName(this.items[y]),O=this.treeAdapter.getNamespaceURI(this.items[y]);if(_===h&&O===c.HTML)return!0;if((_===l.UL||_===l.OL)&&O===c.HTML||g(_,O))return!1}return!0}hasInButtonScope(h){for(let y=this.stackTop;y>=0;y--){let _=this.treeAdapter.getTagName(this.items[y]),O=this.treeAdapter.getNamespaceURI(this.items[y]);if(_===h&&O===c.HTML)return!0;if(_===l.BUTTON&&O===c.HTML||g(_,O))return!1}return!0}hasInTableScope(h){for(let y=this.stackTop;y>=0;y--){let _=this.treeAdapter.getTagName(this.items[y]);if(this.treeAdapter.getNamespaceURI(this.items[y])===c.HTML){if(_===h)return!0;if(_===l.TABLE||_===l.TEMPLATE||_===l.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let h=this.stackTop;h>=0;h--){let y=this.treeAdapter.getTagName(this.items[h]);if(this.treeAdapter.getNamespaceURI(this.items[h])===c.HTML){if(y===l.TBODY||y===l.THEAD||y===l.TFOOT)return!0;if(y===l.TABLE||y===l.HTML)return!1}}return!0}hasInSelectScope(h){for(let y=this.stackTop;y>=0;y--){let _=this.treeAdapter.getTagName(this.items[y]);if(this.treeAdapter.getNamespaceURI(this.items[y])===c.HTML){if(_===h)return!0;if(_!==l.OPTION&&_!==l.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;u(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;p(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(h){for(;u(this.currentTagName)&&this.currentTagName!==h;)this.pop()}}},3988:(i,r,a)=>{"use strict";let s=a(7296),l=a(8904),c=a(1515),u=a(6152),p=u.TAG_NAMES,g=u.NAMESPACES,h={treeAdapter:s},y=/&/g,_=/\u00a0/g,O=/"/g,M=/</g,w=/>/g;class T{constructor(k,E){this.options=l(h,E),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=k}serialize(){return this._serializeChildNodes(this.startNode),this.html}_serializeChildNodes(k){let E=this.treeAdapter.getChildNodes(k);if(E)for(let N=0,F=E.length;N<F;N++){let V=E[N];this.treeAdapter.isElementNode(V)?this._serializeElement(V):this.treeAdapter.isTextNode(V)?this._serializeTextNode(V):this.treeAdapter.isCommentNode(V)?this._serializeCommentNode(V):this.treeAdapter.isDocumentTypeNode(V)&&this._serializeDocumentTypeNode(V)}}_serializeElement(k){let E=this.treeAdapter.getTagName(k),N=this.treeAdapter.getNamespaceURI(k);if(this.html+="<"+E,this._serializeAttributes(k),this.html+=">",E!==p.AREA&&E!==p.BASE&&E!==p.BASEFONT&&E!==p.BGSOUND&&E!==p.BR&&E!==p.COL&&E!==p.EMBED&&E!==p.FRAME&&E!==p.HR&&E!==p.IMG&&E!==p.INPUT&&E!==p.KEYGEN&&E!==p.LINK&&E!==p.META&&E!==p.PARAM&&E!==p.SOURCE&&E!==p.TRACK&&E!==p.WBR){let F=E===p.TEMPLATE&&N===g.HTML?this.treeAdapter.getTemplateContent(k):k;this._serializeChildNodes(F),this.html+="</"+E+">"}}_serializeAttributes(k){let E=this.treeAdapter.getAttrList(k);for(let N=0,F=E.length;N<F;N++){let V=E[N],R=T.escapeString(V.value,!0);this.html+=" ",V.namespace?V.namespace===g.XML?this.html+="xml:"+V.name:V.namespace===g.XMLNS?(V.name!=="xmlns"&&(this.html+="xmlns:"),this.html+=V.name):V.namespace===g.XLINK?this.html+="xlink:"+V.name:this.html+=V.prefix+":"+V.name:this.html+=V.name,this.html+='="'+R+'"'}}_serializeTextNode(k){let E=this.treeAdapter.getTextNodeContent(k),N=this.treeAdapter.getParentNode(k),F;N&&this.treeAdapter.isElementNode(N)&&(F=this.treeAdapter.getTagName(N)),F===p.STYLE||F===p.SCRIPT||F===p.XMP||F===p.IFRAME||F===p.NOEMBED||F===p.NOFRAMES||F===p.PLAINTEXT||F===p.NOSCRIPT?this.html+=E:this.html+=T.escapeString(E,!1)}_serializeCommentNode(k){this.html+="<!--"+this.treeAdapter.getCommentNodeContent(k)+"-->"}_serializeDocumentTypeNode(k){let E=this.treeAdapter.getDocumentTypeNodeName(k);this.html+="<"+c.serializeContent(E,null,null)+">"}}T.escapeString=function(b,k){return b=b.replace(y,"&amp;").replace(_,"&nbsp;"),b=k?b.replace(O,"&quot;"):b.replace(M,"&lt;").replace(w,"&gt;")},i.exports=T},5763:(i,r,a)=>{"use strict";let s=a(7118),l=a(4284),c=a(5482),u=a(1734),p=l.CODE_POINTS,g=l.CODE_POINT_SEQUENCES,h={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},y=1,_=2,O=4,M=y|_|O,w="DATA_STATE",T="RCDATA_STATE",b="RAWTEXT_STATE",k="SCRIPT_DATA_STATE",E="PLAINTEXT_STATE",N="TAG_OPEN_STATE",F="END_TAG_OPEN_STATE",V="TAG_NAME_STATE",R="RCDATA_LESS_THAN_SIGN_STATE",H="RCDATA_END_TAG_OPEN_STATE",L="RCDATA_END_TAG_NAME_STATE",W="RAWTEXT_LESS_THAN_SIGN_STATE",q="RAWTEXT_END_TAG_OPEN_STATE",J="RAWTEXT_END_TAG_NAME_STATE",D="SCRIPT_DATA_LESS_THAN_SIGN_STATE",Z="SCRIPT_DATA_END_TAG_OPEN_STATE",nt="SCRIPT_DATA_END_TAG_NAME_STATE",pt="SCRIPT_DATA_ESCAPE_START_STATE",Vt="SCRIPT_DATA_ESCAPE_START_DASH_STATE",qt="SCRIPT_DATA_ESCAPED_STATE",Pt="SCRIPT_DATA_ESCAPED_DASH_STATE",yt="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",rt="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",ft="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",wt="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",Et="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",zt="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",Wt="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",Nt="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",st="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",$t="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",le="BEFORE_ATTRIBUTE_NAME_STATE",Ct="ATTRIBUTE_NAME_STATE",ae="AFTER_ATTRIBUTE_NAME_STATE",he="BEFORE_ATTRIBUTE_VALUE_STATE",ce="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",K="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",at="ATTRIBUTE_VALUE_UNQUOTED_STATE",mt="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",At="SELF_CLOSING_START_TAG_STATE",Qt="BOGUS_COMMENT_STATE",ht="MARKUP_DECLARATION_OPEN_STATE",kt="COMMENT_START_STATE",Ft="COMMENT_START_DASH_STATE",me="COMMENT_STATE",Ye="COMMENT_LESS_THAN_SIGN_STATE",Le="COMMENT_LESS_THAN_SIGN_BANG_STATE",ut="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",Tt="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",ot="COMMENT_END_DASH_STATE",re="COMMENT_END_STATE",Ht="COMMENT_END_BANG_STATE",de="DOCTYPE_STATE",Oe="BEFORE_DOCTYPE_NAME_STATE",Pe="DOCTYPE_NAME_STATE",_e="AFTER_DOCTYPE_NAME_STATE",Ae="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",Qe="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",Xe="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",Ze="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",_n="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",Kn="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",dt="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",Mt="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Rt="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",ne="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",Ce="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Te="BOGUS_DOCTYPE_STATE",Ne="CDATA_SECTION_STATE",Pn="CDATA_SECTION_BRACKET_STATE",On="CDATA_SECTION_END_STATE",rn="CHARACTER_REFERENCE_STATE",mi="NAMED_CHARACTER_REFERENCE_STATE",Mn="AMBIGUOS_AMPERSAND_STATE",fn="NUMERIC_CHARACTER_REFERENCE_STATE",Si="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",yn="DECIMAL_CHARACTER_REFERENCE_START_STATE",sn="HEXADEMICAL_CHARACTER_REFERENCE_STATE",wn="DECIMAL_CHARACTER_REFERENCE_STATE",Yn="NUMERIC_CHARACTER_REFERENCE_END_STATE";function Be(ze){return ze===p.SPACE||ze===p.LINE_FEED||ze===p.TABULATION||ze===p.FORM_FEED}function Xn(ze){return ze>=p.DIGIT_0&&ze<=p.DIGIT_9}function Ve(ze){return ze>=p.LATIN_CAPITAL_A&&ze<=p.LATIN_CAPITAL_Z}function Dn(ze){return ze>=p.LATIN_SMALL_A&&ze<=p.LATIN_SMALL_Z}function vn(ze){return Dn(ze)||Ve(ze)}function A(ze){return vn(ze)||Xn(ze)}function G(ze){return ze>=p.LATIN_CAPITAL_A&&ze<=p.LATIN_CAPITAL_F}function B(ze){return ze>=p.LATIN_SMALL_A&&ze<=p.LATIN_SMALL_F}function gt(ze){return ze+32}function Yt(ze){return ze<=65535?String.fromCharCode(ze):(ze-=65536,String.fromCharCode(ze>>>10&1023|55296)+String.fromCharCode(56320|1023&ze))}function Ee(ze){return String.fromCharCode(gt(ze))}function je(ze,Y){let Zt=c[++ze],Re=++ze,Ln=Re+Zt-1;for(;Re<=Ln;){let it=Re+Ln>>>1,bt=c[it];if(bt<Y)Re=it+1;else{if(!(bt>Y))return c[it+Zt];Ln=it-1}}return-1}class He{constructor(){this.preprocessor=new s,this.tokenQueue=[],this.allowCDATA=!1,this.state=w,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(Y){this._consume(),this._err(Y),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;let Y=this._consume();this._ensureHibernation()||this[this.state](Y)}return this.tokenQueue.shift()}write(Y,Zt){this.active=!0,this.preprocessor.write(Y,Zt)}insertHtmlAtCurrentPos(Y){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(Y)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:He.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(Y){this.state=Y,this._unconsume()}_consumeSequenceIfMatch(Y,Zt,Re){let Ln=0,it=!0,bt=Y.length,te,pe=0,ge=Zt;for(;pe<bt;pe++){if(pe>0&&(ge=this._consume(),Ln++),ge===p.EOF){it=!1;break}if(te=Y[pe],ge!==te&&(Re||ge!==gt(te))){it=!1;break}}if(!it)for(;Ln--;)this._unconsume();return it}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==g.SCRIPT_STRING.length)return!1;for(let Y=0;Y<this.tempBuff.length;Y++)if(this.tempBuff[Y]!==g.SCRIPT_STRING[Y])return!1;return!0}_createStartTagToken(){this.currentToken={type:He.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:He.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:He.COMMENT_TOKEN,data:""}}_createDoctypeToken(Y){this.currentToken={type:He.DOCTYPE_TOKEN,name:Y,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(Y,Zt){this.currentCharacterToken={type:Y,chars:Zt}}_createEOFToken(){this.currentToken={type:He.EOF_TOKEN}}_createAttr(Y){this.currentAttr={name:Y,value:""}}_leaveAttrName(Y){He.getTokenAttr(this.currentToken,this.currentAttr.name)===null?this.currentToken.attrs.push(this.currentAttr):this._err(u.duplicateAttribute),this.state=Y}_leaveAttrValue(Y){this.state=Y}_emitCurrentToken(){this._emitCurrentCharacterToken();let Y=this.currentToken;this.currentToken=null,Y.type===He.START_TAG_TOKEN?this.lastStartTagName=Y.tagName:Y.type===He.END_TAG_TOKEN&&(Y.attrs.length>0&&this._err(u.endTagWithAttributes),Y.selfClosing&&this._err(u.endTagWithTrailingSolidus)),this.tokenQueue.push(Y)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(Y,Zt){this.currentCharacterToken&&this.currentCharacterToken.type!==Y&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=Zt:this._createCharacterToken(Y,Zt)}_emitCodePoint(Y){let Zt=He.CHARACTER_TOKEN;Be(Y)?Zt=He.WHITESPACE_CHARACTER_TOKEN:Y===p.NULL&&(Zt=He.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(Zt,Yt(Y))}_emitSeveralCodePoints(Y){for(let Zt=0;Zt<Y.length;Zt++)this._emitCodePoint(Y[Zt])}_emitChars(Y){this._appendCharToCurrentCharacterToken(He.CHARACTER_TOKEN,Y)}_matchNamedCharacterReference(Y){let Zt=null,Re=1,Ln=je(0,Y);for(this.tempBuff.push(Y);Ln>-1;){let it=c[Ln],bt=it<M;bt&&it&y&&(Zt=it&_?[c[++Ln],c[++Ln]]:[c[++Ln]],Re=0);let te=this._consume();if(this.tempBuff.push(te),Re++,te===p.EOF)break;Ln=bt?it&O?je(Ln,te):-1:te===it?++Ln:-1}for(;Re--;)this.tempBuff.pop(),this._unconsume();return Zt}_isCharacterReferenceInAttribute(){return this.returnState===ce||this.returnState===K||this.returnState===at}_isCharacterReferenceAttributeQuirk(Y){if(!Y&&this._isCharacterReferenceInAttribute()){let Zt=this._consume();return this._unconsume(),Zt===p.EQUALS_SIGN||A(Zt)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let Y=0;Y<this.tempBuff.length;Y++)this.currentAttr.value+=Yt(this.tempBuff[Y]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[w](Y){this.preprocessor.dropParsedChunk(),Y===p.LESS_THAN_SIGN?this.state=N:Y===p.AMPERSAND?(this.returnState=w,this.state=rn):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitCodePoint(Y)):Y===p.EOF?this._emitEOFToken():this._emitCodePoint(Y)}[T](Y){this.preprocessor.dropParsedChunk(),Y===p.AMPERSAND?(this.returnState=T,this.state=rn):Y===p.LESS_THAN_SIGN?this.state=R:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?this._emitEOFToken():this._emitCodePoint(Y)}[b](Y){this.preprocessor.dropParsedChunk(),Y===p.LESS_THAN_SIGN?this.state=W:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?this._emitEOFToken():this._emitCodePoint(Y)}[k](Y){this.preprocessor.dropParsedChunk(),Y===p.LESS_THAN_SIGN?this.state=D:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?this._emitEOFToken():this._emitCodePoint(Y)}[E](Y){this.preprocessor.dropParsedChunk(),Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?this._emitEOFToken():this._emitCodePoint(Y)}[N](Y){Y===p.EXCLAMATION_MARK?this.state=ht:Y===p.SOLIDUS?this.state=F:vn(Y)?(this._createStartTagToken(),this._reconsumeInState(V)):Y===p.QUESTION_MARK?(this._err(u.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(Qt)):Y===p.EOF?(this._err(u.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(u.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(w))}[F](Y){vn(Y)?(this._createEndTagToken(),this._reconsumeInState(V)):Y===p.GREATER_THAN_SIGN?(this._err(u.missingEndTagName),this.state=w):Y===p.EOF?(this._err(u.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(u.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(Qt))}[V](Y){Be(Y)?this.state=le:Y===p.SOLIDUS?this.state=At:Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Ve(Y)?this.currentToken.tagName+=Ee(Y):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.tagName+=l.REPLACEMENT_CHARACTER):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=Yt(Y)}[R](Y){Y===p.SOLIDUS?(this.tempBuff=[],this.state=H):(this._emitChars("<"),this._reconsumeInState(T))}[H](Y){vn(Y)?(this._createEndTagToken(),this._reconsumeInState(L)):(this._emitChars("</"),this._reconsumeInState(T))}[L](Y){if(Ve(Y))this.currentToken.tagName+=Ee(Y),this.tempBuff.push(Y);else if(Dn(Y))this.currentToken.tagName+=Yt(Y),this.tempBuff.push(Y);else{if(this.lastStartTagName===this.currentToken.tagName){if(Be(Y))return void(this.state=le);if(Y===p.SOLIDUS)return void(this.state=At);if(Y===p.GREATER_THAN_SIGN)return this.state=w,void this._emitCurrentToken()}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(T)}}[W](Y){Y===p.SOLIDUS?(this.tempBuff=[],this.state=q):(this._emitChars("<"),this._reconsumeInState(b))}[q](Y){vn(Y)?(this._createEndTagToken(),this._reconsumeInState(J)):(this._emitChars("</"),this._reconsumeInState(b))}[J](Y){if(Ve(Y))this.currentToken.tagName+=Ee(Y),this.tempBuff.push(Y);else if(Dn(Y))this.currentToken.tagName+=Yt(Y),this.tempBuff.push(Y);else{if(this.lastStartTagName===this.currentToken.tagName){if(Be(Y))return void(this.state=le);if(Y===p.SOLIDUS)return void(this.state=At);if(Y===p.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=w)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(b)}}[D](Y){Y===p.SOLIDUS?(this.tempBuff=[],this.state=Z):Y===p.EXCLAMATION_MARK?(this.state=pt,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(k))}[Z](Y){vn(Y)?(this._createEndTagToken(),this._reconsumeInState(nt)):(this._emitChars("</"),this._reconsumeInState(k))}[nt](Y){if(Ve(Y))this.currentToken.tagName+=Ee(Y),this.tempBuff.push(Y);else if(Dn(Y))this.currentToken.tagName+=Yt(Y),this.tempBuff.push(Y);else{if(this.lastStartTagName===this.currentToken.tagName){if(Be(Y))return void(this.state=le);if(Y===p.SOLIDUS)return void(this.state=At);if(Y===p.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=w)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(k)}}[pt](Y){Y===p.HYPHEN_MINUS?(this.state=Vt,this._emitChars("-")):this._reconsumeInState(k)}[Vt](Y){Y===p.HYPHEN_MINUS?(this.state=yt,this._emitChars("-")):this._reconsumeInState(k)}[qt](Y){Y===p.HYPHEN_MINUS?(this.state=Pt,this._emitChars("-")):Y===p.LESS_THAN_SIGN?this.state=rt:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(Y)}[Pt](Y){Y===p.HYPHEN_MINUS?(this.state=yt,this._emitChars("-")):Y===p.LESS_THAN_SIGN?this.state=rt:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.state=qt,this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=qt,this._emitCodePoint(Y))}[yt](Y){Y===p.HYPHEN_MINUS?this._emitChars("-"):Y===p.LESS_THAN_SIGN?this.state=rt:Y===p.GREATER_THAN_SIGN?(this.state=k,this._emitChars(">")):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.state=qt,this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=qt,this._emitCodePoint(Y))}[rt](Y){Y===p.SOLIDUS?(this.tempBuff=[],this.state=ft):vn(Y)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(Et)):(this._emitChars("<"),this._reconsumeInState(qt))}[ft](Y){vn(Y)?(this._createEndTagToken(),this._reconsumeInState(wt)):(this._emitChars("</"),this._reconsumeInState(qt))}[wt](Y){if(Ve(Y))this.currentToken.tagName+=Ee(Y),this.tempBuff.push(Y);else if(Dn(Y))this.currentToken.tagName+=Yt(Y),this.tempBuff.push(Y);else{if(this.lastStartTagName===this.currentToken.tagName){if(Be(Y))return void(this.state=le);if(Y===p.SOLIDUS)return void(this.state=At);if(Y===p.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=w)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(qt)}}[Et](Y){Be(Y)||Y===p.SOLIDUS||Y===p.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?zt:qt,this._emitCodePoint(Y)):Ve(Y)?(this.tempBuff.push(gt(Y)),this._emitCodePoint(Y)):Dn(Y)?(this.tempBuff.push(Y),this._emitCodePoint(Y)):this._reconsumeInState(qt)}[zt](Y){Y===p.HYPHEN_MINUS?(this.state=Wt,this._emitChars("-")):Y===p.LESS_THAN_SIGN?(this.state=st,this._emitChars("<")):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(Y)}[Wt](Y){Y===p.HYPHEN_MINUS?(this.state=Nt,this._emitChars("-")):Y===p.LESS_THAN_SIGN?(this.state=st,this._emitChars("<")):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.state=zt,this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=zt,this._emitCodePoint(Y))}[Nt](Y){Y===p.HYPHEN_MINUS?this._emitChars("-"):Y===p.LESS_THAN_SIGN?(this.state=st,this._emitChars("<")):Y===p.GREATER_THAN_SIGN?(this.state=k,this._emitChars(">")):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.state=zt,this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=zt,this._emitCodePoint(Y))}[st](Y){Y===p.SOLIDUS?(this.tempBuff=[],this.state=$t,this._emitChars("/")):this._reconsumeInState(zt)}[$t](Y){Be(Y)||Y===p.SOLIDUS||Y===p.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?qt:zt,this._emitCodePoint(Y)):Ve(Y)?(this.tempBuff.push(gt(Y)),this._emitCodePoint(Y)):Dn(Y)?(this.tempBuff.push(Y),this._emitCodePoint(Y)):this._reconsumeInState(zt)}[le](Y){Be(Y)||(Y===p.SOLIDUS||Y===p.GREATER_THAN_SIGN||Y===p.EOF?this._reconsumeInState(ae):Y===p.EQUALS_SIGN?(this._err(u.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Ct):(this._createAttr(""),this._reconsumeInState(Ct)))}[Ct](Y){Be(Y)||Y===p.SOLIDUS||Y===p.GREATER_THAN_SIGN||Y===p.EOF?(this._leaveAttrName(ae),this._unconsume()):Y===p.EQUALS_SIGN?this._leaveAttrName(he):Ve(Y)?this.currentAttr.name+=Ee(Y):Y===p.QUOTATION_MARK||Y===p.APOSTROPHE||Y===p.LESS_THAN_SIGN?(this._err(u.unexpectedCharacterInAttributeName),this.currentAttr.name+=Yt(Y)):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentAttr.name+=l.REPLACEMENT_CHARACTER):this.currentAttr.name+=Yt(Y)}[ae](Y){Be(Y)||(Y===p.SOLIDUS?this.state=At:Y===p.EQUALS_SIGN?this.state=he:Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(Ct)))}[he](Y){Be(Y)||(Y===p.QUOTATION_MARK?this.state=ce:Y===p.APOSTROPHE?this.state=K:Y===p.GREATER_THAN_SIGN?(this._err(u.missingAttributeValue),this.state=w,this._emitCurrentToken()):this._reconsumeInState(at))}[ce](Y){Y===p.QUOTATION_MARK?this.state=mt:Y===p.AMPERSAND?(this.returnState=ce,this.state=rn):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentAttr.value+=l.REPLACEMENT_CHARACTER):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):this.currentAttr.value+=Yt(Y)}[K](Y){Y===p.APOSTROPHE?this.state=mt:Y===p.AMPERSAND?(this.returnState=K,this.state=rn):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentAttr.value+=l.REPLACEMENT_CHARACTER):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):this.currentAttr.value+=Yt(Y)}[at](Y){Be(Y)?this._leaveAttrValue(le):Y===p.AMPERSAND?(this.returnState=at,this.state=rn):Y===p.GREATER_THAN_SIGN?(this._leaveAttrValue(w),this._emitCurrentToken()):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentAttr.value+=l.REPLACEMENT_CHARACTER):Y===p.QUOTATION_MARK||Y===p.APOSTROPHE||Y===p.LESS_THAN_SIGN||Y===p.EQUALS_SIGN||Y===p.GRAVE_ACCENT?(this._err(u.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=Yt(Y)):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):this.currentAttr.value+=Yt(Y)}[mt](Y){Be(Y)?this._leaveAttrValue(le):Y===p.SOLIDUS?this._leaveAttrValue(At):Y===p.GREATER_THAN_SIGN?(this._leaveAttrValue(w),this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):(this._err(u.missingWhitespaceBetweenAttributes),this._reconsumeInState(le))}[At](Y){Y===p.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):(this._err(u.unexpectedSolidusInTag),this._reconsumeInState(le))}[Qt](Y){Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._emitCurrentToken(),this._emitEOFToken()):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.data+=l.REPLACEMENT_CHARACTER):this.currentToken.data+=Yt(Y)}[ht](Y){this._consumeSequenceIfMatch(g.DASH_DASH_STRING,Y,!0)?(this._createCommentToken(),this.state=kt):this._consumeSequenceIfMatch(g.DOCTYPE_STRING,Y,!1)?this.state=de:this._consumeSequenceIfMatch(g.CDATA_START_STRING,Y,!0)?this.allowCDATA?this.state=Ne:(this._err(u.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=Qt):this._ensureHibernation()||(this._err(u.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(Qt))}[kt](Y){Y===p.HYPHEN_MINUS?this.state=Ft:Y===p.GREATER_THAN_SIGN?(this._err(u.abruptClosingOfEmptyComment),this.state=w,this._emitCurrentToken()):this._reconsumeInState(me)}[Ft](Y){Y===p.HYPHEN_MINUS?this.state=re:Y===p.GREATER_THAN_SIGN?(this._err(u.abruptClosingOfEmptyComment),this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(me))}[me](Y){Y===p.HYPHEN_MINUS?this.state=ot:Y===p.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=Ye):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.data+=l.REPLACEMENT_CHARACTER):Y===p.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=Yt(Y)}[Ye](Y){Y===p.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=Le):Y===p.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(me)}[Le](Y){Y===p.HYPHEN_MINUS?this.state=ut:this._reconsumeInState(me)}[ut](Y){Y===p.HYPHEN_MINUS?this.state=Tt:this._reconsumeInState(ot)}[Tt](Y){Y!==p.GREATER_THAN_SIGN&&Y!==p.EOF&&this._err(u.nestedComment),this._reconsumeInState(re)}[ot](Y){Y===p.HYPHEN_MINUS?this.state=re:Y===p.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(me))}[re](Y){Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Y===p.EXCLAMATION_MARK?this.state=Ht:Y===p.HYPHEN_MINUS?this.currentToken.data+="-":Y===p.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(me))}[Ht](Y){Y===p.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=ot):Y===p.GREATER_THAN_SIGN?(this._err(u.incorrectlyClosedComment),this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(me))}[de](Y){Be(Y)?this.state=Oe:Y===p.GREATER_THAN_SIGN?this._reconsumeInState(Oe):Y===p.EOF?(this._err(u.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(Oe))}[Oe](Y){Be(Y)||(Ve(Y)?(this._createDoctypeToken(Ee(Y)),this.state=Pe):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._createDoctypeToken(l.REPLACEMENT_CHARACTER),this.state=Pe):Y===p.GREATER_THAN_SIGN?(this._err(u.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=w):Y===p.EOF?(this._err(u.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(Yt(Y)),this.state=Pe))}[Pe](Y){Be(Y)?this.state=_e:Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Ve(Y)?this.currentToken.name+=Ee(Y):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.name+=l.REPLACEMENT_CHARACTER):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=Yt(Y)}[_e](Y){Be(Y)||(Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(g.PUBLIC_STRING,Y,!1)?this.state=Ae:this._consumeSequenceIfMatch(g.SYSTEM_STRING,Y,!1)?this.state=dt:this._ensureHibernation()||(this._err(u.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))}[Ae](Y){Be(Y)?this.state=Qe:Y===p.QUOTATION_MARK?(this._err(u.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=Xe):Y===p.APOSTROPHE?(this._err(u.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=Ze):Y===p.GREATER_THAN_SIGN?(this._err(u.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te))}[Qe](Y){Be(Y)||(Y===p.QUOTATION_MARK?(this.currentToken.publicId="",this.state=Xe):Y===p.APOSTROPHE?(this.currentToken.publicId="",this.state=Ze):Y===p.GREATER_THAN_SIGN?(this._err(u.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))}[Xe](Y){Y===p.QUOTATION_MARK?this.state=_n:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.publicId+=l.REPLACEMENT_CHARACTER):Y===p.GREATER_THAN_SIGN?(this._err(u.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=w):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=Yt(Y)}[Ze](Y){Y===p.APOSTROPHE?this.state=_n:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.publicId+=l.REPLACEMENT_CHARACTER):Y===p.GREATER_THAN_SIGN?(this._err(u.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=w):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=Yt(Y)}[_n](Y){Be(Y)?this.state=Kn:Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Y===p.QUOTATION_MARK?(this._err(u.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Rt):Y===p.APOSTROPHE?(this._err(u.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=ne):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te))}[Kn](Y){Be(Y)||(Y===p.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=w):Y===p.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Rt):Y===p.APOSTROPHE?(this.currentToken.systemId="",this.state=ne):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))}[dt](Y){Be(Y)?this.state=Mt:Y===p.QUOTATION_MARK?(this._err(u.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Rt):Y===p.APOSTROPHE?(this._err(u.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=ne):Y===p.GREATER_THAN_SIGN?(this._err(u.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te))}[Mt](Y){Be(Y)||(Y===p.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Rt):Y===p.APOSTROPHE?(this.currentToken.systemId="",this.state=ne):Y===p.GREATER_THAN_SIGN?(this._err(u.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))}[Rt](Y){Y===p.QUOTATION_MARK?this.state=Ce:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.systemId+=l.REPLACEMENT_CHARACTER):Y===p.GREATER_THAN_SIGN?(this._err(u.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=w):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=Yt(Y)}[ne](Y){Y===p.APOSTROPHE?this.state=Ce:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.systemId+=l.REPLACEMENT_CHARACTER):Y===p.GREATER_THAN_SIGN?(this._err(u.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=w):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=Yt(Y)}[Ce](Y){Be(Y)||(Y===p.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=w):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(Te)))}[Te](Y){Y===p.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=w):Y===p.NULL?this._err(u.unexpectedNullCharacter):Y===p.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[Ne](Y){Y===p.RIGHT_SQUARE_BRACKET?this.state=Pn:Y===p.EOF?(this._err(u.eofInCdata),this._emitEOFToken()):this._emitCodePoint(Y)}[Pn](Y){Y===p.RIGHT_SQUARE_BRACKET?this.state=On:(this._emitChars("]"),this._reconsumeInState(Ne))}[On](Y){Y===p.GREATER_THAN_SIGN?this.state=w:Y===p.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(Ne))}[rn](Y){this.tempBuff=[p.AMPERSAND],Y===p.NUMBER_SIGN?(this.tempBuff.push(Y),this.state=fn):A(Y)?this._reconsumeInState(mi):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[mi](Y){let Zt=this._matchNamedCharacterReference(Y);if(this._ensureHibernation())this.tempBuff=[p.AMPERSAND];else if(Zt){let Re=this.tempBuff[this.tempBuff.length-1]===p.SEMICOLON;this._isCharacterReferenceAttributeQuirk(Re)||(Re||this._errOnNextCodePoint(u.missingSemicolonAfterCharacterReference),this.tempBuff=Zt),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=Mn}[Mn](Y){A(Y)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=Yt(Y):this._emitCodePoint(Y):(Y===p.SEMICOLON&&this._err(u.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[fn](Y){this.charRefCode=0,Y===p.LATIN_SMALL_X||Y===p.LATIN_CAPITAL_X?(this.tempBuff.push(Y),this.state=Si):this._reconsumeInState(yn)}[Si](Y){(function(Zt){return Xn(Zt)||G(Zt)||B(Zt)})(Y)?this._reconsumeInState(sn):(this._err(u.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[yn](Y){Xn(Y)?this._reconsumeInState(wn):(this._err(u.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[sn](Y){G(Y)?this.charRefCode=16*this.charRefCode+Y-55:B(Y)?this.charRefCode=16*this.charRefCode+Y-87:Xn(Y)?this.charRefCode=16*this.charRefCode+Y-48:Y===p.SEMICOLON?this.state=Yn:(this._err(u.missingSemicolonAfterCharacterReference),this._reconsumeInState(Yn))}[wn](Y){Xn(Y)?this.charRefCode=10*this.charRefCode+Y-48:Y===p.SEMICOLON?this.state=Yn:(this._err(u.missingSemicolonAfterCharacterReference),this._reconsumeInState(Yn))}[Yn](){if(this.charRefCode===p.NULL)this._err(u.nullCharacterReference),this.charRefCode=p.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(u.characterReferenceOutsideUnicodeRange),this.charRefCode=p.REPLACEMENT_CHARACTER;else if(l.isSurrogate(this.charRefCode))this._err(u.surrogateCharacterReference),this.charRefCode=p.REPLACEMENT_CHARACTER;else if(l.isUndefinedCodePoint(this.charRefCode))this._err(u.noncharacterCharacterReference);else if(l.isControlCodePoint(this.charRefCode)||this.charRefCode===p.CARRIAGE_RETURN){this._err(u.controlCharacterReference);let Y=h[this.charRefCode];Y&&(this.charRefCode=Y)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}}He.CHARACTER_TOKEN="CHARACTER_TOKEN",He.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",He.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",He.START_TAG_TOKEN="START_TAG_TOKEN",He.END_TAG_TOKEN="END_TAG_TOKEN",He.COMMENT_TOKEN="COMMENT_TOKEN",He.DOCTYPE_TOKEN="DOCTYPE_TOKEN",He.EOF_TOKEN="EOF_TOKEN",He.HIBERNATION_TOKEN="HIBERNATION_TOKEN",He.MODE={DATA:w,RCDATA:T,RAWTEXT:b,SCRIPT_DATA:k,PLAINTEXT:E},He.getTokenAttr=function(ze,Y){for(let Zt=ze.attrs.length-1;Zt>=0;Zt--)if(ze.attrs[Zt].name===Y)return ze.attrs[Zt].value;return null},i.exports=He},5482:i=>{"use strict";i.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},7118:(i,r,a)=>{"use strict";let s=a(4284),l=a(1734),c=s.CODE_POINTS,u=65536;i.exports=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=u}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(p){if(this.pos!==this.lastCharPos){let g=this.html.charCodeAt(this.pos+1);if(s.isSurrogatePair(g))return this.pos++,this._addGap(),s.getSurrogatePairCodePoint(p,g)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,c.EOF;return this._err(l.surrogateInInputStream),p}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(p,g){this.html?this.html+=p:this.html=p,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=g}insertHtmlAtCurrentPos(p){this.html=this.html.substring(0,this.pos+1)+p+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,c.EOF;let p=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&p===c.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):p===c.CARRIAGE_RETURN?(this.skipNextNewLine=!0,c.LINE_FEED):(this.skipNextNewLine=!1,s.isSurrogate(p)&&(p=this._processSurrogate(p)),p>31&&p<127||p===c.LINE_FEED||p===c.CARRIAGE_RETURN||p>159&&p<64976||this._checkForProblematicCharacters(p),p)}_checkForProblematicCharacters(p){s.isControlCodePoint(p)?this._err(l.controlCharacterInInputStream):s.isUndefinedCodePoint(p)&&this._err(l.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}}},7296:(i,r,a)=>{"use strict";let{DOCUMENT_MODE:s}=a(6152);r.createDocument=function(){return{nodeName:"#document",mode:s.NO_QUIRKS,childNodes:[]}},r.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},r.createElement=function(p,g,h){return{nodeName:p,tagName:p,attrs:h,namespaceURI:g,childNodes:[],parentNode:null}},r.createCommentNode=function(p){return{nodeName:"#comment",data:p,parentNode:null}};let l=function(p){return{nodeName:"#text",value:p,parentNode:null}},c=r.appendChild=function(p,g){p.childNodes.push(g),g.parentNode=p},u=r.insertBefore=function(p,g,h){let y=p.childNodes.indexOf(h);p.childNodes.splice(y,0,g),g.parentNode=p};r.setTemplateContent=function(p,g){p.content=g},r.getTemplateContent=function(p){return p.content},r.setDocumentType=function(p,g,h,y){let _=null;for(let O=0;O<p.childNodes.length;O++)if(p.childNodes[O].nodeName==="#documentType"){_=p.childNodes[O];break}_?(_.name=g,_.publicId=h,_.systemId=y):c(p,{nodeName:"#documentType",name:g,publicId:h,systemId:y})},r.setDocumentMode=function(p,g){p.mode=g},r.getDocumentMode=function(p){return p.mode},r.detachNode=function(p){if(p.parentNode){let g=p.parentNode.childNodes.indexOf(p);p.parentNode.childNodes.splice(g,1),p.parentNode=null}},r.insertText=function(p,g){if(p.childNodes.length){let h=p.childNodes[p.childNodes.length-1];if(h.nodeName==="#text")return void(h.value+=g)}c(p,l(g))},r.insertTextBefore=function(p,g,h){let y=p.childNodes[p.childNodes.indexOf(h)-1];y&&y.nodeName==="#text"?y.value+=g:u(p,l(g),h)},r.adoptAttributes=function(p,g){let h=[];for(let y=0;y<p.attrs.length;y++)h.push(p.attrs[y].name);for(let y=0;y<g.length;y++)h.indexOf(g[y].name)===-1&&p.attrs.push(g[y])},r.getFirstChild=function(p){return p.childNodes[0]},r.getChildNodes=function(p){return p.childNodes},r.getParentNode=function(p){return p.parentNode},r.getAttrList=function(p){return p.attrs},r.getTagName=function(p){return p.tagName},r.getNamespaceURI=function(p){return p.namespaceURI},r.getTextNodeContent=function(p){return p.value},r.getCommentNodeContent=function(p){return p.data},r.getDocumentTypeNodeName=function(p){return p.name},r.getDocumentTypeNodePublicId=function(p){return p.publicId},r.getDocumentTypeNodeSystemId=function(p){return p.systemId},r.isTextNode=function(p){return p.nodeName==="#text"},r.isCommentNode=function(p){return p.nodeName==="#comment"},r.isDocumentTypeNode=function(p){return p.nodeName==="#documentType"},r.isElementNode=function(p){return!!p.tagName},r.setNodeSourceCodeLocation=function(p,g){p.sourceCodeLocation=g},r.getNodeSourceCodeLocation=function(p){return p.sourceCodeLocation},r.updateNodeSourceCodeLocation=function(p,g){p.sourceCodeLocation=Object.assign(p.sourceCodeLocation,g)}},8904:i=>{"use strict";i.exports=function(r,a){return[r,a=a||Object.create(null)].reduce((s,l)=>(Object.keys(l).forEach(c=>{s[c]=l[c]}),s),Object.create(null))}},1704:i=>{"use strict";class r{constructor(s){let l={},c=this._getOverriddenMethods(this,l);for(let u of Object.keys(c))typeof c[u]=="function"&&(l[u]=s[u],s[u]=c[u])}_getOverriddenMethods(){throw new Error("Not implemented")}}r.install=function(a,s,l){a.__mixins||(a.__mixins=[]);for(let u=0;u<a.__mixins.length;u++)if(a.__mixins[u].constructor===s)return a.__mixins[u];let c=new s(a,l);return a.__mixins.push(c),c},i.exports=r},6585:i=>{"use strict";var r=/([-.*+?^${}()|[\]\/\\])/g,a=/\\/g,s=function(_){return(_+"").replace(r,"\\$1")},l=function(_){return(_+"").replace(a,"")},c=RegExp(`^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:(["']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:(["'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)`.replace(/<combinator>/,"["+s(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),u=function(_){this.combinator=_||" ",this.tag="*"};u.prototype.toString=function(){if(!this.raw){var _,O,M="";if(M+=this.tag||"*",this.id&&(M+="#"+this.id),this.classes&&(M+="."+this.classList.join(".")),this.attributes)for(_=0;O=this.attributes[_++];)M+="["+O.name+(O.operator?O.operator+'"'+O.value+'"':"")+"]";if(this.pseudos)for(_=0;O=this.pseudos[_++];)M+=":"+O.name,O.value&&(M+="("+O.value+")");this.raw=M}return this.raw};var p=function(){this.length=0};p.prototype.toString=function(){if(!this.raw){for(var _,O="",M=0;_=this[M++];)M!==1&&(O+=" "),_.combinator!==" "&&(O+=_.combinator+" "),O+=_;this.raw=O}return this.raw};var g=function(_,O,M,w,T,b,k,E,N,F,V,R,H,L,W,q){var J,D;if((O||!this.length)&&(J=this[this.length++]=new p,O))return"";if(J||(J=this[this.length-1]),(M||w||!J.length)&&(D=J[J.length++]=new u(M)),D||(D=J[J.length-1]),T)D.tag=l(T);else if(b)D.id=l(b);else if(k){var Z=l(k),nt=D.classes||(D.classes={});if(!nt[Z]){nt[Z]=s(k);var pt=D.classList||(D.classList=[]);pt.push(Z),pt.sort()}}else H?(q=q||W,(D.pseudos||(D.pseudos=[])).push({type:R.length==1?"class":"element",name:l(H),escapedName:s(H),value:q?l(q):null,escapedValue:q?s(q):null})):E&&(V=V?s(V):null,(D.attributes||(D.attributes=[])).push({operator:N,name:l(E),escapedName:s(E),value:V?l(V):null,escapedValue:V?s(V):null}));return""},h=function(_){this.length=0;for(var O,M=this,w=_;_;){if(O=_.replace(c,function(){return g.apply(M,arguments)}),O===_)throw new Error(w+" is an invalid expression");_=O}};h.prototype.toString=function(){if(!this.raw){for(var _,O=[],M=0;_=this[M++];)O.push(_);this.raw=O.join(", ")}return this.raw};var y={};i.exports=function(_){return _==null?null:(_=(""+_).replace(/^\s+|\s+$/g,""),y[_]||(y[_]=new h(_)))}},655:(i,r,a)=>{"use strict";a.r(r),a.d(r,{__assign:()=>c,__asyncDelegator:()=>W,__asyncGenerator:()=>L,__asyncValues:()=>q,__await:()=>H,__awaiter:()=>w,__classPrivateFieldGet:()=>pt,__classPrivateFieldIn:()=>qt,__classPrivateFieldSet:()=>Vt,__createBinding:()=>b,__decorate:()=>p,__esDecorate:()=>h,__exportStar:()=>k,__extends:()=>l,__generator:()=>T,__importDefault:()=>nt,__importStar:()=>Z,__makeTemplateObject:()=>J,__metadata:()=>M,__param:()=>g,__propKey:()=>_,__read:()=>N,__rest:()=>u,__runInitializers:()=>y,__setFunctionName:()=>O,__spread:()=>F,__spreadArray:()=>R,__spreadArrays:()=>V,__values:()=>E});var s=function(Pt,yt){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,ft){rt.__proto__=ft}||function(rt,ft){for(var wt in ft)Object.prototype.hasOwnProperty.call(ft,wt)&&(rt[wt]=ft[wt])},s(Pt,yt)};function l(Pt,yt){if(typeof yt!="function"&&yt!==null)throw new TypeError("Class extends value "+String(yt)+" is not a constructor or null");function rt(){this.constructor=Pt}s(Pt,yt),Pt.prototype=yt===null?Object.create(yt):(rt.prototype=yt.prototype,new rt)}var c=function(){return c=Object.assign||function(Pt){for(var yt,rt=1,ft=arguments.length;rt<ft;rt++)for(var wt in yt=arguments[rt])Object.prototype.hasOwnProperty.call(yt,wt)&&(Pt[wt]=yt[wt]);return Pt},c.apply(this,arguments)};function u(Pt,yt){var rt={};for(var ft in Pt)Object.prototype.hasOwnProperty.call(Pt,ft)&&yt.indexOf(ft)<0&&(rt[ft]=Pt[ft]);if(Pt!=null&&typeof Object.getOwnPropertySymbols=="function"){var wt=0;for(ft=Object.getOwnPropertySymbols(Pt);wt<ft.length;wt++)yt.indexOf(ft[wt])<0&&Object.prototype.propertyIsEnumerable.call(Pt,ft[wt])&&(rt[ft[wt]]=Pt[ft[wt]])}return rt}function p(Pt,yt,rt,ft){var wt,Et=arguments.length,zt=Et<3?yt:ft===null?ft=Object.getOwnPropertyDescriptor(yt,rt):ft;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")zt=Reflect.decorate(Pt,yt,rt,ft);else for(var Wt=Pt.length-1;Wt>=0;Wt--)(wt=Pt[Wt])&&(zt=(Et<3?wt(zt):Et>3?wt(yt,rt,zt):wt(yt,rt))||zt);return Et>3&&zt&&Object.defineProperty(yt,rt,zt),zt}function g(Pt,yt){return function(rt,ft){yt(rt,ft,Pt)}}function h(Pt,yt,rt,ft,wt,Et){function zt(at){if(at!==void 0&&typeof at!="function")throw new TypeError("Function expected");return at}for(var Wt,Nt=ft.kind,st=Nt==="getter"?"get":Nt==="setter"?"set":"value",$t=!yt&&Pt?ft.static?Pt:Pt.prototype:null,le=yt||($t?Object.getOwnPropertyDescriptor($t,ft.name):{}),Ct=!1,ae=rt.length-1;ae>=0;ae--){var he={};for(var ce in ft)he[ce]=ce==="access"?{}:ft[ce];for(var ce in ft.access)he.access[ce]=ft.access[ce];he.addInitializer=function(at){if(Ct)throw new TypeError("Cannot add initializers after decoration has completed");Et.push(zt(at||null))};var K=(0,rt[ae])(Nt==="accessor"?{get:le.get,set:le.set}:le[st],he);if(Nt==="accessor"){if(K===void 0)continue;if(K===null||typeof K!="object")throw new TypeError("Object expected");(Wt=zt(K.get))&&(le.get=Wt),(Wt=zt(K.set))&&(le.set=Wt),(Wt=zt(K.init))&&wt.push(Wt)}else(Wt=zt(K))&&(Nt==="field"?wt.push(Wt):le[st]=Wt)}$t&&Object.defineProperty($t,ft.name,le),Ct=!0}function y(Pt,yt,rt){for(var ft=arguments.length>2,wt=0;wt<yt.length;wt++)rt=ft?yt[wt].call(Pt,rt):yt[wt].call(Pt);return ft?rt:void 0}function _(Pt){return typeof Pt=="symbol"?Pt:"".concat(Pt)}function O(Pt,yt,rt){return typeof yt=="symbol"&&(yt=yt.description?"[".concat(yt.description,"]"):""),Object.defineProperty(Pt,"name",{configurable:!0,value:rt?"".concat(rt," ",yt):yt})}function M(Pt,yt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Pt,yt)}function w(Pt,yt,rt,ft){return new(rt||(rt=Promise))(function(wt,Et){function zt(st){try{Nt(ft.next(st))}catch($t){Et($t)}}function Wt(st){try{Nt(ft.throw(st))}catch($t){Et($t)}}function Nt(st){var $t;st.done?wt(st.value):($t=st.value,$t instanceof rt?$t:new rt(function(le){le($t)})).then(zt,Wt)}Nt((ft=ft.apply(Pt,yt||[])).next())})}function T(Pt,yt){var rt,ft,wt,Et,zt={label:0,sent:function(){if(1&wt[0])throw wt[1];return wt[1]},trys:[],ops:[]};return Et={next:Wt(0),throw:Wt(1),return:Wt(2)},typeof Symbol=="function"&&(Et[Symbol.iterator]=function(){return this}),Et;function Wt(Nt){return function(st){return function($t){if(rt)throw new TypeError("Generator is already executing.");for(;Et&&(Et=0,$t[0]&&(zt=0)),zt;)try{if(rt=1,ft&&(wt=2&$t[0]?ft.return:$t[0]?ft.throw||((wt=ft.return)&&wt.call(ft),0):ft.next)&&!(wt=wt.call(ft,$t[1])).done)return wt;switch(ft=0,wt&&($t=[2&$t[0],wt.value]),$t[0]){case 0:case 1:wt=$t;break;case 4:return zt.label++,{value:$t[1],done:!1};case 5:zt.label++,ft=$t[1],$t=[0];continue;case 7:$t=zt.ops.pop(),zt.trys.pop();continue;default:if(wt=zt.trys,!((wt=wt.length>0&&wt[wt.length-1])||$t[0]!==6&&$t[0]!==2)){zt=0;continue}if($t[0]===3&&(!wt||$t[1]>wt[0]&&$t[1]<wt[3])){zt.label=$t[1];break}if($t[0]===6&&zt.label<wt[1]){zt.label=wt[1],wt=$t;break}if(wt&&zt.label<wt[2]){zt.label=wt[2],zt.ops.push($t);break}wt[2]&&zt.ops.pop(),zt.trys.pop();continue}$t=yt.call(Pt,zt)}catch(le){$t=[6,le],ft=0}finally{rt=wt=0}if(5&$t[0])throw $t[1];return{value:$t[0]?$t[1]:void 0,done:!0}}([Nt,st])}}}var b=Object.create?function(Pt,yt,rt,ft){ft===void 0&&(ft=rt);var wt=Object.getOwnPropertyDescriptor(yt,rt);wt&&!("get"in wt?!yt.__esModule:wt.writable||wt.configurable)||(wt={enumerable:!0,get:function(){return yt[rt]}}),Object.defineProperty(Pt,ft,wt)}:function(Pt,yt,rt,ft){ft===void 0&&(ft=rt),Pt[ft]=yt[rt]};function k(Pt,yt){for(var rt in Pt)rt==="default"||Object.prototype.hasOwnProperty.call(yt,rt)||b(yt,Pt,rt)}function E(Pt){var yt=typeof Symbol=="function"&&Symbol.iterator,rt=yt&&Pt[yt],ft=0;if(rt)return rt.call(Pt);if(Pt&&typeof Pt.length=="number")return{next:function(){return Pt&&ft>=Pt.length&&(Pt=void 0),{value:Pt&&Pt[ft++],done:!Pt}}};throw new TypeError(yt?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(Pt,yt){var rt=typeof Symbol=="function"&&Pt[Symbol.iterator];if(!rt)return Pt;var ft,wt,Et=rt.call(Pt),zt=[];try{for(;(yt===void 0||yt-- >0)&&!(ft=Et.next()).done;)zt.push(ft.value)}catch(Wt){wt={error:Wt}}finally{try{ft&&!ft.done&&(rt=Et.return)&&rt.call(Et)}finally{if(wt)throw wt.error}}return zt}function F(){for(var Pt=[],yt=0;yt<arguments.length;yt++)Pt=Pt.concat(N(arguments[yt]));return Pt}function V(){for(var Pt=0,yt=0,rt=arguments.length;yt<rt;yt++)Pt+=arguments[yt].length;var ft=Array(Pt),wt=0;for(yt=0;yt<rt;yt++)for(var Et=arguments[yt],zt=0,Wt=Et.length;zt<Wt;zt++,wt++)ft[wt]=Et[zt];return ft}function R(Pt,yt,rt){if(rt||arguments.length===2)for(var ft,wt=0,Et=yt.length;wt<Et;wt++)!ft&&wt in yt||(ft||(ft=Array.prototype.slice.call(yt,0,wt)),ft[wt]=yt[wt]);return Pt.concat(ft||Array.prototype.slice.call(yt))}function H(Pt){return this instanceof H?(this.v=Pt,this):new H(Pt)}function L(Pt,yt,rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,wt=rt.apply(Pt,yt||[]),Et=[];return ft={},zt("next"),zt("throw"),zt("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function zt(le){wt[le]&&(ft[le]=function(Ct){return new Promise(function(ae,he){Et.push([le,Ct,ae,he])>1||Wt(le,Ct)})})}function Wt(le,Ct){try{(ae=wt[le](Ct)).value instanceof H?Promise.resolve(ae.value.v).then(Nt,st):$t(Et[0][2],ae)}catch(he){$t(Et[0][3],he)}var ae}function Nt(le){Wt("next",le)}function st(le){Wt("throw",le)}function $t(le,Ct){le(Ct),Et.shift(),Et.length&&Wt(Et[0][0],Et[0][1])}}function W(Pt){var yt,rt;return yt={},ft("next"),ft("throw",function(wt){throw wt}),ft("return"),yt[Symbol.iterator]=function(){return this},yt;function ft(wt,Et){yt[wt]=Pt[wt]?function(zt){return(rt=!rt)?{value:H(Pt[wt](zt)),done:!1}:Et?Et(zt):zt}:Et}}function q(Pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt,rt=Pt[Symbol.asyncIterator];return rt?rt.call(Pt):(Pt=typeof E=="function"?E(Pt):Pt[Symbol.iterator](),yt={},ft("next"),ft("throw"),ft("return"),yt[Symbol.asyncIterator]=function(){return this},yt);function ft(wt){yt[wt]=Pt[wt]&&function(Et){return new Promise(function(zt,Wt){(function(Nt,st,$t,le){Promise.resolve(le).then(function(Ct){Nt({value:Ct,done:$t})},st)})(zt,Wt,(Et=Pt[wt](Et)).done,Et.value)})}}}function J(Pt,yt){return Object.defineProperty?Object.defineProperty(Pt,"raw",{value:yt}):Pt.raw=yt,Pt}var D=Object.create?function(Pt,yt){Object.defineProperty(Pt,"default",{enumerable:!0,value:yt})}:function(Pt,yt){Pt.default=yt};function Z(Pt){if(Pt&&Pt.__esModule)return Pt;var yt={};if(Pt!=null)for(var rt in Pt)rt!=="default"&&Object.prototype.hasOwnProperty.call(Pt,rt)&&b(yt,Pt,rt);return D(yt,Pt),yt}function nt(Pt){return Pt&&Pt.__esModule?Pt:{default:Pt}}function pt(Pt,yt,rt,ft){if(rt==="a"&&!ft)throw new TypeError("Private accessor was defined without a getter");if(typeof yt=="function"?Pt!==yt||!ft:!yt.has(Pt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return rt==="m"?ft:rt==="a"?ft.call(Pt):ft?ft.value:yt.get(Pt)}function Vt(Pt,yt,rt,ft,wt){if(ft==="m")throw new TypeError("Private method is not writable");if(ft==="a"&&!wt)throw new TypeError("Private accessor was defined without a setter");if(typeof yt=="function"?Pt!==yt||!wt:!yt.has(Pt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ft==="a"?wt.call(Pt,rt):wt?wt.value=rt:yt.set(Pt,rt),rt}function qt(Pt,yt){if(yt===null||typeof yt!="object"&&typeof yt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof Pt=="function"?yt===Pt:Pt.has(yt)}},3600:i=>{"use strict";i.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},9323:i=>{"use strict";i.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},9591:i=>{"use strict";i.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":"\xA0","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}')},2586:i=>{"use strict";i.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},n={};function t(i){var r=n[i];if(r!==void 0)return r.exports;var a=n[i]={exports:{}};return o[i].call(a.exports,a,a.exports,t),a.exports}t.n=i=>{var r=i&&i.__esModule?()=>i.default:()=>i;return t.d(r,{a:r}),r},t.d=(i,r)=>{for(var a in r)t.o(r,a)&&!t.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:r[a]})},t.o=(i,r)=>Object.prototype.hasOwnProperty.call(i,r),t.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var e={};return(()=>{"use strict";t.r(e),t.d(e,{default:()=>y});var i=function(){return i=Object.assign||function(_){for(var O,M=1,w=arguments.length;M<w;M++)for(var T in O=arguments[M])Object.prototype.hasOwnProperty.call(O,T)&&(_[T]=O[T]);return _},i.apply(this,arguments)},r="set-device-desktop",a="set-device-tablet",s="set-device-mobile",l="canvas-clear",c=t(6094),u=t.n(c),p=function(){return p=Object.assign||function(_){for(var O,M=1,w=arguments.length;M<w;M++)for(var T in O=arguments[M])Object.prototype.hasOwnProperty.call(O,T)&&(_[T]=O[T]);return _},p.apply(this,arguments)};let g=function(_,O){var M=_.Commands,w=O.textCleanCanvas;(function(T,b){var k=T.Commands,E=T.getConfig().stylePrefix;k.add(b.cmdOpenImport,{containerEl:null,codeEditorHtml:null,createCodeViewer:function(){return T.CodeManager.createViewer({codeName:"htmlmixed",theme:b.codeViewerTheme,readOnly:!1})},createCodeEditor:function(){var N=document.createElement("div"),F=this.createCodeViewer();return N.style.flex="1 0 auto",N.style.boxSizing="border-box",N.className="".concat(E,"import-code"),N.appendChild(F.getElement()),{codeEditor:F,el:N}},getCodeContainer:function(){var N=this.containerEl;return N||((N=document.createElement("div")).className="".concat(E,"import-container"),N.style.display="flex",N.style.gap="5px",N.style.flexDirection="column",N.style.justifyContent="space-between",this.containerEl=N),N},run:function(N){var F=this.getCodeContainer(),V=this.codeEditorHtml;if(!V){var R=this.createCodeEditor(),H=document.createElement("button");if(V=R.codeEditor,this.codeEditorHtml=V,b.modalLabelImport){var L=document.createElement("div");L.className="".concat(E,"import-label"),L.innerHTML=b.modalLabelImport,F.appendChild(L)}H.innerHTML=b.modalBtnImport,H.type="button",H.className="".concat(E,"btn-prim ").concat(E,"btn-import"),H.style.alignSelf="flex-start",H.onclick=function(){var W=R.codeEditor.editor.getValue();N.Components.clear(),N.Css.clear(),N.setComponents(W),N.Modal.close()},F.appendChild(R.el),F.appendChild(H)}N.Modal.open({title:b.modalTitleImport,content:F}),V&&(V.setContent(b.importPlaceholder||""),V.editor.refresh())}})})(_,O),function(T,b){var k=T.Commands,E=T.getConfig().stylePrefix;k.add(b.cmdInlineHtml,{run:function(N,F,V){V===void 0&&(V={});var R=N.getHtml()+"<style>".concat(N.getCss(),"</style>");return u()(R,p(p({},V.juiceOpts),V))}}),k.add("export-template",{containerEl:null,codeEditorHtml:null,createCodeViewer:function(){return T.CodeManager.createViewer({codeName:"htmlmixed",theme:b.codeViewerTheme})},createCodeEditor:function(){var N=document.createElement("div"),F=this.createCodeViewer();return N.style.flex="1 0 auto",N.style.boxSizing="border-box",N.className="".concat(E,"export-code"),N.appendChild(F.getElement()),{codeEditor:F,el:N}},getCodeContainer:function(){var N=this.containerEl;return N||((N=document.createElement("div")).className="".concat(E,"export-container"),N.style.display="flex",N.style.gap="5px",N.style.flexDirection="column",N.style.justifyContent="space-between",this.containerEl=N),N},run:function(N){var F=this.codeEditorHtml,V=this.getCodeContainer();if(!F){var R=this.createCodeEditor();if(F=R.codeEditor,this.codeEditorHtml=F,b.modalLabelExport){var H=document.createElement("div");H.className="".concat(E,"export-label"),H.innerHTML=b.modalLabelExport,V.appendChild(H)}V.appendChild(R.el)}if(N.Modal.open({title:b.modalTitleExport,content:V}),F){var L="".concat(N.getHtml(),"<style>").concat(N.getCss(),"</style>");F.setContent(b.inlineCss?u()(L,b.juiceOpts):L),F.editor.refresh()}}})}(_,O),function(T,b){T.Commands.add(b.cmdTglImages,{run:function(k){var E=k.getComponents();this.toggleImages(E)},stop:function(k){var E=k.getComponents();this.toggleImages(E,!0)},toggleImages:function(k,E){var N=this;E===void 0&&(E=!1);var F="##";k.forEach(function(V){if(V.get("type")==="image"){var R=V.get("src");E?R===F&&V.set("src",V.get("src_bkp")):R!==F&&(V.set("src_bkp",V.get("src")),V.set("src",F))}N.toggleImages(V.components(),E)})}})}(_,O),M.add(r,{run:function(T){return T.setDevice("Desktop")},stop:function(){}}),M.add(a,{run:function(T){return T.setDevice("Tablet")},stop:function(){}}),M.add(s,{run:function(T){return T.setDevice("Mobile portrait")},stop:function(){}}),M.add(l,{run:function(T){var b="core:canvas-clear";w?confirm(w)&&T.runCommand(b):T.runCommand(b)}})};var h=function(){return h=Object.assign||function(_){for(var O,M=1,w=arguments.length;M<w;M++)for(var T in O=arguments[M])Object.prototype.hasOwnProperty.call(O,T)&&(_[T]=O[T]);return _},h.apply(this,arguments)};let y=function(_,O){O===void 0&&(O={});var M=_.getConfig(),w=h({blocks:["sect100","sect50","sect30","sect37","button","divider","text","text-sect","image","quote","link","link-block","grid-items","list-items"],block:function(){return{}},juiceOpts:{},cmdOpenImport:"gjs-open-import-template",cmdTglImages:"gjs-toggle-images",cmdInlineHtml:"gjs-get-inlined-html",modalTitleImport:"Import template",modalTitleExport:"Export template",modalLabelImport:"",modalLabelExport:"",modalBtnImport:"Import",codeViewerTheme:"hopscotch",importPlaceholder:"",inlineCss:!0,cellStyle:{padding:"0",margin:"0","vertical-align":"top"},tableStyle:{height:"150px",margin:"0 auto 10px auto",padding:"5px 5px 5px 5px",width:"100%"},updateStyleManager:!0,showStylesOnChange:!0,showBlocksOnLoad:!0,useCustomTheme:!0,textCleanCanvas:"Are you sure you want to clear the canvas?"},O);if(M.devicePreviewMode=!0,w.useCustomTheme&&typeof window<"u"){var T="gjs-",b="";[["one","#373d49"],["two","#dae5e6"],["three","#4c9790"],["four","#35d7bb"]].forEach(function(E){var N=E[0],F=E[1];b+=`
        .`.concat(T).concat(N,`-bg {
          background-color: `).concat(F,`;
        }
        .`).concat(T).concat(N,`-color {
          color: `).concat(F,`;
        }
        .`).concat(T).concat(N,`-color-h:hover {
          color: `).concat(F,`;
        }
      `)});var k=document.createElement("style");k.innerText=b,document.head.appendChild(k)}g(_,w),function(E,N){E.Blocks;var F="",V="",R=N.tableStyle||{},H=N.cellStyle||{},L=function(D,Z){N.blocks.indexOf(D)>=0&&E.Blocks.add(D,i(i({select:!0},Z),N.block(D)))};for(var W in R)F+="".concat(W,": ").concat(R[W],"; ");for(var W in H)V+="".concat(W,": ").concat(H[W],"; ");L("sect100",{label:"1 Section",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(F,`">
        <tr>
          <td style="`).concat(V,`"></td>
        </tr>
      </table>
    `)}),L("sect50",{label:"1/2 Section",media:`<svg viewBox="0 0 23 24">
      <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(F,`">
        <tr>
          <td style="`).concat(V,` width: 50%"></td>
          <td style="`).concat(V,` width: 50%"></td>
        </tr>
      </table>
    `)}),L("sect30",{label:"1/3 Section",media:`<svg viewBox="0 0 23 24">
      <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(F,`">
        <tr>
          <td style="`).concat(V,` width: 33.3333%"></td>
          <td style="`).concat(V,` width: 33.3333%"></td>
          <td style="`).concat(V,` width: 33.3333%"></td>
        </tr>
      </table>
    `)}),L("sect37",{label:"3/7 Section",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"></path>
    </svg>`,content:`
      <table style="`.concat(F,`">
        <tr>
          <td style="`).concat(V,` width:30%"></td>
          <td style="`).concat(V,` width:70%"></td>
        </tr>
      </table>
    `)}),L("button",{label:"Button",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />
    </svg>`,content:'<a class="button">Button</a>'}),L("divider",{label:"Divider",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
    </svg>`,content:`
      <table style="width: 100%; margin-top: 10px; margin-bottom: 10px;">
        <tr>
          <td class="divider"></td>
        </tr>
      </table>
      <style>
        .divider {
          background-color: rgba(0, 0, 0, 0.1);
          height: 1px;
        }
      </style>
    `}),L("text",{label:"Text",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
    </svg>`,activate:!0,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}}),L("text-sect",{label:"Text Section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />
    </svg>`,content:`
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua
      </p>
    `}),L("image",{label:"Image",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
    </svg>`,activate:!0,content:{type:"image",style:{color:"black"}}}),L("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:'<blockquote class="quote">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit</blockquote>'}),L("link",{label:"Link",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",content:"Link",style:{color:"#3b97e3"}}}),L("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}});var q=`<table class="grid-item-card">
      <tr>
        <td class="grid-item-card-cell">
          <img class="grid-item-image" src="https://via.placeholder.com/250x150/78c5d6/fff/" alt="Image"/>
          <table class="grid-item-card-body">
            <tr>
              <td class="grid-item-card-content">
                <h1 class="card-title">Title here</h1>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>`;L("grid-items",{label:"Grid Items",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3"/>
    </svg>`,content:`
      <table class="grid-item-row">
        <tr>
          <td class="grid-item-cell2-l">`.concat(q,`</td>
          <td class="grid-item-cell2-r">`).concat(q,`</td>
        </tr>
      </table>
    `)});var J=`<table class="list-item">
      <tr>
        <td class="list-item-cell">
          <table class="list-item-content">
            <tr class="list-item-row">
              <td class="list-cell-left">
                <img class="list-item-image" src="https://via.placeholder.com/150/78c5d6/fff" alt="Image"/>
              </td>
              <td class="list-cell-right">
                <h1 class="card-title">Title here</h1>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>`;L("list-items",{label:"List Items",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 14H8V20H2M16 8H10V10H16M2 10H8V4H2M10 4V6H22V4M10 20H16V18H10M10 16H22V14H10"/>
    </svg>`,content:J+J})}(_,w),function(E,N){var F=E.Panels,V=N.cmdOpenImport,R=N.cmdTglImages,H="export-template",L="open-sm",W="open-tm",q="open-layers",J="open-blocks",D="sw-visibility",Z="fullscreen",nt="preview",pt='style="display: block; max-width: 22px"';E.getConfig().showDevices=!1,F.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:r,command:r,active:!0,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:a,command:a,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:s,command:s,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:D,command:D,context:D,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:nt,context:nt,command:nt,label:"<svg ".concat(pt,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:Z,command:Z,context:Z,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:H,command:H,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:V,command:V,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:R,command:R,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M5 3C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H14.09C14.03 20.67 14 20.34 14 20C14 19.32 14.12 18.64 14.35 18H5L8.5 13.5L11 16.5L14.5 12L16.73 14.97C17.7 14.34 18.84 14 20 14C20.34 14 20.67 14.03 21 14.09V5C21 3.89 20.1 3 19 3H5M16.47 17.88L18.59 20L16.47 22.12L17.88 23.54L20 21.41L22.12 23.54L23.54 22.12L21.41 20L23.54 17.88L22.12 16.46L20 18.59L17.88 16.47L16.46 17.88Z"/>
        </svg>`)},{id:"undo",command:"core:undo",label:"<svg ".concat(pt,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:"core:redo",label:"<svg ".concat(pt,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:l,command:l,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:L,command:L,active:!0,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:W,command:W,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:q,command:q,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:J,command:J,label:"<svg ".concat(pt,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]),N.showStylesOnChange&&E.on("component:selected",function(){var Vt=F.getButton("views",q);if((!Vt||!Vt.get("active"))&&E.getSelected()){var qt=F.getButton("views",L);qt?.set("active",!0)}}),E.onReady(function(){if(N.showBlocksOnLoad){var Vt=F.getButton("views",J);Vt?.set("active",!0)}})}(_,w),function(E,N){var F=E.StyleManager.getSectors();if(N.updateStyleManager){var V=[{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Left",property:"margin-left"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-decoration","font-style","vertical-align","text-shadow"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",type:"radio",defaults:"left",list:[{value:"left",name:"Left",className:"fa fa-align-left"},{value:"center",name:"Center",className:"fa fa-align-center"},{value:"right",name:"Right",className:"fa fa-align-right"},{value:"justify",name:"Justify",className:"fa fa-align-justify"}]},{property:"text-decoration",type:"radio",defaults:"none",list:[{value:"none",name:"None",className:"fa fa-times"},{value:"underline",name:"underline",className:"fa fa-underline"},{value:"line-through",name:"Line-through",className:"fa fa-strikethrough"}]},{property:"font-style",type:"radio",defaults:"normal",list:[{value:"normal",name:"Normal",className:"fa fa-font"},{value:"italic",name:"Italic",className:"fa fa-italic"}]},{property:"vertical-align",type:"select",defaults:"baseline",list:[{value:"baseline"},{value:"top"},{value:"middle"},{value:"bottom"}]},{property:"text-shadow",properties:[{name:"X position",property:"text-shadow-h"},{name:"Y position",property:"text-shadow-v"},{name:"Blur",property:"text-shadow-blur"},{name:"Color",property:"text-shadow-color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","border-collapse","border-radius","border","background"],properties:[{property:"background-color",name:"Background"},{property:"border-radius",properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border-collapse",type:"radio",defaults:"separate",list:[{value:"separate",name:"No"},{value:"collapse",name:"Yes"}]},{property:"border",properties:[{name:"Width",property:"border-width",defaults:"0"},{name:"Style",property:"border-style"},{name:"Color",property:"border-color"}]},{property:"background",properties:[{name:"Image",property:"background-image"},{name:"Repeat",property:"background-repeat"},{name:"Position",property:"background-position"},{name:"Attachment",property:"background-attachment"},{name:"Size",property:"background-size"}]}]}];E.onReady(function(){F.reset(),F.add(V)})}}(_,w)}})(),e})())});function dC(o){return new Sn(3e3,!1)}function U9(){return new Sn(3100,!1)}function G9(){return new Sn(3101,!1)}function W9(o){return new Sn(3001,!1)}function K9(o){return new Sn(3003,!1)}function q9(o){return new Sn(3004,!1)}function $9(o,n){return new Sn(3005,!1)}function Y9(){return new Sn(3006,!1)}function X9(){return new Sn(3007,!1)}function Q9(o,n){return new Sn(3008,!1)}function J9(o){return new Sn(3002,!1)}function Z9(o,n,t,e,i){return new Sn(3010,!1)}function tS(){return new Sn(3011,!1)}function eS(){return new Sn(3012,!1)}function nS(){return new Sn(3200,!1)}function iS(){return new Sn(3202,!1)}function rS(){return new Sn(3013,!1)}function oS(o){return new Sn(3014,!1)}function aS(o){return new Sn(3015,!1)}function sS(o){return new Sn(3016,!1)}function lS(o,n){return new Sn(3404,!1)}function cS(o){return new Sn(3502,!1)}function dS(o){return new Sn(3503,!1)}function uS(){return new Sn(3300,!1)}function pS(o){return new Sn(3504,!1)}function fS(o){return new Sn(3301,!1)}function gS(o,n){return new Sn(3302,!1)}function hS(o){return new Sn(3303,!1)}function mS(o,n){return new Sn(3400,!1)}function vS(o){return new Sn(3401,!1)}function _S(o){return new Sn(3402,!1)}function yS(o,n){return new Sn(3505,!1)}function Ts(o){switch(o.length){case 0:return new yc;case 1:return o[0];default:return new Um(o)}}function PC(o,n,t=new Map,e=new Map){let i=[],r=[],a=-1,s=null;if(n.forEach(l=>{let c=l.get("offset"),u=c==a,p=u&&s||new Map;l.forEach((g,h)=>{let y=h,_=g;if(h!=="offset")switch(y=o.normalizePropertyName(y,i),_){case gf:_=t.get(h);break;case ia:_=e.get(h);break;default:_=o.normalizeStyleValue(h,y,_,i);break}p.set(y,_)}),u||r.push(p),s=p,a=c}),i.length)throw cS(i);return r}function _1(o,n,t,e){switch(n){case"start":o.onStart(()=>e(t&&Xm(t,"start",o)));break;case"done":o.onDone(()=>e(t&&Xm(t,"done",o)));break;case"destroy":o.onDestroy(()=>e(t&&Xm(t,"destroy",o)));break}}function Xm(o,n,t){let e=t.totalTime,i=!!t.disabled,r=y1(o.element,o.triggerName,o.fromState,o.toState,n||o.phaseName,e??o.totalTime,i),a=o._data;return a!=null&&(r._data=a),r}function y1(o,n,t,e,i="",r=0,a){return{element:o,triggerName:n,fromState:t,toState:e,phaseName:i,totalTime:r,disabled:!!a}}function ao(o,n,t){let e=o.get(n);return e||o.set(n,e=t),e}function uC(o){let n=o.indexOf(":"),t=o.substring(1,n),e=o.slice(n+1);return[t,e]}var bS=typeof document>"u"?null:document.documentElement;function b1(o){let n=o.parentNode||o.host||null;return n===bS?null:n}function CS(o){return o.substring(1,6)=="ebkit"}var vl=null,pC=!1;function xS(o){vl||(vl=OS()||{},pC=vl.style?"WebkitAppearance"in vl.style:!1);let n=!0;return vl.style&&!CS(o)&&(n=o in vl.style,!n&&pC&&(n="Webkit"+o.charAt(0).toUpperCase()+o.slice(1)in vl.style)),n}function OS(){return typeof document<"u"?document.body:null}function MC(o,n){for(;n;){if(n===o)return!0;n=b1(n)}return!1}function wC(o,n,t){if(t)return Array.from(o.querySelectorAll(n));let e=o.querySelector(n);return e?[e]:[]}var C1=(()=>{class o{validateStyleProperty(t){return xS(t)}matchesElement(t,e){return!1}containsElement(t,e){return MC(t,e)}getParentElement(t){return b1(t)}query(t,e,i){return wC(t,e,i)}computeStyle(t,e,i){return i||""}animate(t,e,i,r,a,s=[],l){return new yc(i,r)}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275prov=yo({token:o,factory:o.\u0275fac})}}return o})(),bl=class{static{this.NOOP=new C1}},Cl=class{};var PS=1e3,SC="{{",MS="}}",TC="ng-enter",n1="ng-leave",bf="ng-trigger",Mf=".ng-trigger",fC="ng-animating",i1=".ng-animating";function Ia(o){if(typeof o=="number")return o;let n=o.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:r1(parseFloat(n[1]),n[2])}function r1(o,n){switch(n){case"s":return o*PS;default:return o}}function wf(o,n,t){return o.hasOwnProperty("duration")?o:wS(o,n,t)}function wS(o,n,t){let e=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,r=0,a="";if(typeof o=="string"){let s=o.match(e);if(s===null)return n.push(dC(o)),{duration:0,delay:0,easing:""};i=r1(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(r=r1(parseFloat(l),s[4]));let c=s[5];c&&(a=c)}else i=o;if(!t){let s=!1,l=n.length;i<0&&(n.push(U9()),s=!0),r<0&&(n.push(G9()),s=!0),s&&n.splice(l,0,dC(o))}return{duration:i,delay:r,easing:a}}function SS(o){return o.length?o[0]instanceof Map?o:o.map(n=>new Map(Object.entries(n))):[]}function ca(o,n,t){n.forEach((e,i)=>{let r=x1(i);t&&!t.has(i)&&t.set(i,o.style[r]),o.style[r]=e})}function yl(o,n){n.forEach((t,e)=>{let i=x1(e);o.style[i]=""})}function cu(o){return Array.isArray(o)?o.length==1?o[0]:pb(o):o}function TS(o,n,t){let e=n.params||{},i=EC(o);i.length&&i.forEach(r=>{e.hasOwnProperty(r)||t.push(W9(r))})}var o1=new RegExp(`${SC}\\s*(.+?)\\s*${MS}`,"g");function EC(o){let n=[];if(typeof o=="string"){let t;for(;t=o1.exec(o);)n.push(t[1]);o1.lastIndex=0}return n}function uu(o,n,t){let e=`${o}`,i=e.replace(o1,(r,a)=>{let s=n[a];return s==null&&(t.push(K9(a)),s=""),s.toString()});return i==e?o:i}var ES=/-+([a-z0-9])/g;function x1(o){return o.replace(ES,(...n)=>n[1].toUpperCase())}function kS(o,n){return o===0||n===0}function AS(o,n,t){if(t.size&&n.length){let e=n[0],i=[];if(t.forEach((r,a)=>{e.has(a)||i.push(a),e.set(a,r)}),i.length)for(let r=1;r<n.length;r++){let a=n[r];i.forEach(s=>a.set(s,O1(o,s)))}}return n}function oo(o,n,t){switch(n.type){case bn.Trigger:return o.visitTrigger(n,t);case bn.State:return o.visitState(n,t);case bn.Transition:return o.visitTransition(n,t);case bn.Sequence:return o.visitSequence(n,t);case bn.Group:return o.visitGroup(n,t);case bn.Animate:return o.visitAnimate(n,t);case bn.Keyframes:return o.visitKeyframes(n,t);case bn.Style:return o.visitStyle(n,t);case bn.Reference:return o.visitReference(n,t);case bn.AnimateChild:return o.visitAnimateChild(n,t);case bn.AnimateRef:return o.visitAnimateRef(n,t);case bn.Query:return o.visitQuery(n,t);case bn.Stagger:return o.visitStagger(n,t);default:throw q9(n.type)}}function O1(o,n){return window.getComputedStyle(o)[n]}var IS=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Sf=class extends Cl{normalizePropertyName(n,t){return x1(n)}normalizeStyleValue(n,t,e,i){let r="",a=e.toString().trim();if(IS.has(t)&&e!==0&&e!=="0")if(typeof e=="number")r="px";else{let s=e.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&i.push($9(n,e))}return a+r}};var Tf="*";function DS(o,n){let t=[];return typeof o=="string"?o.split(/\s*,\s*/).forEach(e=>LS(e,t,n)):t.push(o),t}function LS(o,n,t){if(o[0]==":"){let l=NS(o,t);if(typeof l=="function"){n.push(l);return}o=l}let e=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(e==null||e.length<4)return t.push(aS(o)),n;let i=e[1],r=e[2],a=e[3];n.push(gC(i,a));let s=i==Tf&&a==Tf;r[0]=="<"&&!s&&n.push(gC(a,i))}function NS(o,n){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return n.push(sS(o)),"* => *"}}var Cf=new Set(["true","1"]),xf=new Set(["false","0"]);function gC(o,n){let t=Cf.has(o)||xf.has(o),e=Cf.has(n)||xf.has(n);return(i,r)=>{let a=o==Tf||o==i,s=n==Tf||n==r;return!a&&t&&typeof i=="boolean"&&(a=i?Cf.has(o):xf.has(o)),!s&&e&&typeof r=="boolean"&&(s=r?Cf.has(n):xf.has(n)),a&&s}}var kC=":self",RS=new RegExp(`s*${kC}s*,?`,"g");function AC(o,n,t,e){return new a1(o).build(n,t,e)}var hC="",a1=class{constructor(n){this._driver=n}build(n,t,e){let i=new s1(t);return this._resetContextStyleTimingState(i),oo(this,cu(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector=hC,n.collectedStyles=new Map,n.collectedStyles.set(hC,new Map),n.currentTime=0}visitTrigger(n,t){let e=t.queryCount=0,i=t.depCount=0,r=[],a=[];return n.name.charAt(0)=="@"&&t.errors.push(Y9()),n.definitions.forEach(s=>{if(this._resetContextStyleTimingState(t),s.type==bn.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,r.push(this.visitState(l,t))}),l.name=c}else if(s.type==bn.Transition){let l=this.visitTransition(s,t);e+=l.queryCount,i+=l.depCount,a.push(l)}else t.errors.push(X9())}),{type:bn.Trigger,name:n.name,states:r,transitions:a,queryCount:e,depCount:i,options:null}}visitState(n,t){let e=this.visitStyle(n.styles,t),i=n.options&&n.options.params||null;if(e.containsDynamicStyles){let r=new Set,a=i||{};e.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{EC(l).forEach(c=>{a.hasOwnProperty(c)||r.add(c)})})}),r.size&&t.errors.push(Q9(n.name,[...r.values()]))}return{type:bn.State,name:n.name,style:e,options:i?{params:i}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;let e=oo(this,cu(n.animation),t),i=DS(n.expr,t.errors);return{type:bn.Transition,matchers:i,animation:e,queryCount:t.queryCount,depCount:t.depCount,options:_l(n.options)}}visitSequence(n,t){return{type:bn.Sequence,steps:n.steps.map(e=>oo(this,e,t)),options:_l(n.options)}}visitGroup(n,t){let e=t.currentTime,i=0,r=n.steps.map(a=>{t.currentTime=e;let s=oo(this,a,t);return i=Math.max(i,t.currentTime),s});return t.currentTime=i,{type:bn.Group,steps:r,options:_l(n.options)}}visitAnimate(n,t){let e=jS(n.timings,t.errors);t.currentAnimateTimings=e;let i,r=n.styles?n.styles:$e({});if(r.type==bn.Keyframes)i=this.visitKeyframes(r,t);else{let a=n.styles,s=!1;if(!a){s=!0;let c={};e.easing&&(c.easing=e.easing),a=$e(c)}t.currentTime+=e.duration+e.delay;let l=this.visitStyle(a,t);l.isEmptyStep=s,i=l}return t.currentAnimateTimings=null,{type:bn.Animate,timings:e,style:i,options:null}}visitStyle(n,t){let e=this._makeStyleAst(n,t);return this._validateStyleAst(e,t),e}_makeStyleAst(n,t){let e=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let s of i)typeof s=="string"?s===ia?e.push(s):t.errors.push(J9(s)):e.push(new Map(Object.entries(s)));let r=!1,a=null;return e.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!r)){for(let l of s.values())if(l.toString().indexOf(SC)>=0){r=!0;break}}}),{type:bn.Style,styles:e,easing:a,offset:n.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(n,t){let e=t.currentAnimateTimings,i=t.currentTime,r=t.currentTime;e&&r>0&&(r-=e.duration+e.delay),n.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),p=!0;u&&(r!=i&&r>=u.startTime&&i<=u.endTime&&(t.errors.push(Z9(l,u.startTime,u.endTime,r,i)),p=!1),r=u.startTime),p&&c.set(l,{startTime:r,endTime:i}),t.options&&TS(s,t.options,t.errors)})})}visitKeyframes(n,t){let e={type:bn.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(tS()),e;let i=1,r=0,a=[],s=!1,l=!1,c=0,u=n.steps.map(M=>{let w=this._makeStyleAst(M,t),T=w.offset!=null?w.offset:VS(w.styles),b=0;return T!=null&&(r++,b=w.offset=T),l=l||b<0||b>1,s=s||b<c,c=b,a.push(b),w});l&&t.errors.push(eS()),s&&t.errors.push(nS());let p=n.steps.length,g=0;r>0&&r<p?t.errors.push(iS()):r==0&&(g=i/(p-1));let h=p-1,y=t.currentTime,_=t.currentAnimateTimings,O=_.duration;return u.forEach((M,w)=>{let T=g>0?w==h?1:g*w:a[w],b=T*O;t.currentTime=y+_.delay+b,_.duration=b,this._validateStyleAst(M,t),M.offset=T,e.styles.push(M)}),e}visitReference(n,t){return{type:bn.Reference,animation:oo(this,cu(n.animation),t),options:_l(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:bn.AnimateChild,options:_l(n.options)}}visitAnimateRef(n,t){return{type:bn.AnimateRef,animation:this.visitReference(n.animation,t),options:_l(n.options)}}visitQuery(n,t){let e=t.currentQuerySelector,i=n.options||{};t.queryCount++,t.currentQuery=n;let[r,a]=FS(n.selector);t.currentQuerySelector=e.length?e+" "+r:r,ao(t.collectedStyles,t.currentQuerySelector,new Map);let s=oo(this,cu(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=e,{type:bn.Query,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:s,originalSelector:n.selector,options:_l(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(rS());let e=n.timings==="full"?{duration:0,delay:0,easing:"full"}:wf(n.timings,t.errors,!0);return{type:bn.Stagger,animation:oo(this,cu(n.animation),t),timings:e,options:null}}};function FS(o){let n=!!o.split(/\s*,\s*/).find(t=>t==kC);return n&&(o=o.replace(RS,"")),o=o.replace(/@\*/g,Mf).replace(/@\w+/g,t=>Mf+"-"+t.slice(1)).replace(/:animating/g,i1),[o,n]}function zS(o){return o?pi({},o):null}var s1=class{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function VS(o){if(typeof o=="string")return null;let n=null;if(Array.isArray(o))o.forEach(t=>{if(t instanceof Map&&t.has("offset")){let e=t;n=parseFloat(e.get("offset")),e.delete("offset")}});else if(o instanceof Map&&o.has("offset")){let t=o;n=parseFloat(t.get("offset")),t.delete("offset")}return n}function jS(o,n){if(o.hasOwnProperty("duration"))return o;if(typeof o=="number"){let r=wf(o,n).duration;return Qm(r,0,"")}let t=o;if(t.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=Qm(0,0,"");return r.dynamic=!0,r.strValue=t,r}let i=wf(t,n);return Qm(i.duration,i.delay,i.easing)}function _l(o){return o?(o=pi({},o),o.params&&(o.params=zS(o.params))):o={},o}function Qm(o,n,t){return{duration:o,delay:n,easing:t}}function P1(o,n,t,e,i,r,a=null,s=!1){return{type:1,element:o,keyframes:n,preStyleProps:t,postStyleProps:e,duration:i,delay:r,totalTime:i+r,easing:a,subTimeline:s}}var pu=class{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let e=this._map.get(n);e||this._map.set(n,e=[]),e.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}},HS=1,BS=":enter",US=new RegExp(BS,"g"),GS=":leave",WS=new RegExp(GS,"g");function IC(o,n,t,e,i,r=new Map,a=new Map,s,l,c=[]){return new l1().buildKeyframes(o,n,t,e,i,r,a,s,l,c)}var l1=class{buildKeyframes(n,t,e,i,r,a,s,l,c,u=[]){c=c||new pu;let p=new c1(n,t,c,i,r,u,[]);p.options=l;let g=l.delay?Ia(l.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([a],null,p.errors,l),oo(this,e,p);let h=p.timelines.filter(y=>y.containsAnimation());if(h.length&&s.size){let y;for(let _=h.length-1;_>=0;_--){let O=h[_];if(O.element===t){y=O;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([s],null,p.errors,l)}return h.length?h.map(y=>y.buildKeyframes()):[P1(t,[],[],[],0,g,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){let e=t.subInstructions.get(t.element);if(e){let i=t.createSubContext(n.options),r=t.currentTimeline.currentTime,a=this._visitSubInstructions(e,i,i.options);r!=a&&t.transformIntoNewTimeline(a)}t.previousNode=n}visitAnimateRef(n,t){let e=t.createSubContext(n.options);e.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,e),this.visitReference(n.animation,e),t.transformIntoNewTimeline(e.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,e){for(let i of n){let r=i?.delay;if(r){let a=typeof r=="number"?r:Ia(uu(r,i?.params??{},t.errors));e.delayNextStep(a)}}}_visitSubInstructions(n,t,e){let r=t.currentTimeline.currentTime,a=e.duration!=null?Ia(e.duration):null,s=e.delay!=null?Ia(e.delay):null;return a!==0&&n.forEach(l=>{let c=t.appendInstructionToTimeline(l,a,s);r=Math.max(r,c.duration+c.delay)}),r}visitReference(n,t){t.updateOptions(n.options,!0),oo(this,n.animation,t),t.previousNode=n}visitSequence(n,t){let e=t.subContextCount,i=t,r=n.options;if(r&&(r.params||r.delay)&&(i=t.createSubContext(r),i.transformIntoNewTimeline(),r.delay!=null)){i.previousNode.type==bn.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ef);let a=Ia(r.delay);i.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>oo(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>e&&i.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){let e=[],i=t.currentTimeline.currentTime,r=n.options&&n.options.delay?Ia(n.options.delay):0;n.steps.forEach(a=>{let s=t.createSubContext(n.options);r&&s.delayNextStep(r),oo(this,a,s),i=Math.max(i,s.currentTimeline.currentTime),e.push(s.currentTimeline)}),e.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){let e=n.strValue,i=t.params?uu(e,t.params,t.errors):e;return wf(i,t.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){let e=t.currentAnimateTimings=this._visitTiming(n.timings,t),i=t.currentTimeline;e.delay&&(t.incrementTime(e.delay),i.snapshotCurrentStyles());let r=n.style;r.type==bn.Keyframes?this.visitKeyframes(r,t):(t.incrementTime(e.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){let e=t.currentTimeline,i=t.currentAnimateTimings;!i&&e.hasCurrentStyleProperties()&&e.forwardFrame();let r=i&&i.easing||n.easing;n.isEmptyStep?e.applyEmptyStep(r):e.setStyles(n.styles,r,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){let e=t.currentAnimateTimings,i=t.currentTimeline.duration,r=e.duration,s=t.createSubContext().currentTimeline;s.easing=e.easing,n.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*r),s.setStyles(l.styles,l.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(i+r),t.previousNode=n}visitQuery(n,t){let e=t.currentTimeline.currentTime,i=n.options||{},r=i.delay?Ia(i.delay):0;r&&(t.previousNode.type===bn.Style||e==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ef);let a=e,s=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{t.currentQueryIndex=u;let p=t.createSubContext(n.options,c);r&&p.delayNextStep(r),c===t.element&&(l=p.currentTimeline),oo(this,n.animation,p),p.currentTimeline.applyStylesToKeyframe();let g=p.currentTimeline.currentTime;a=Math.max(a,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){let e=t.parentContext,i=t.currentTimeline,r=n.timings,a=Math.abs(r.duration),s=a*(t.currentQueryTotal-1),l=a*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=s-l;break;case"full":l=e.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let p=u.currentTime;oo(this,n.animation,t),t.previousNode=n,e.currentStaggerTime=i.currentTime-p+(i.startTime-e.currentTimeline.startTime)}},Ef={},c1=class o{constructor(n,t,e,i,r,a,s,l){this._driver=n,this.element=t,this.subInstructions=e,this._enterClassName=i,this._leaveClassName=r,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ef,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new kf(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;let e=n,i=this.options;e.duration!=null&&(i.duration=Ia(e.duration)),e.delay!=null&&(i.delay=Ia(e.delay));let r=e.params;if(r){let a=i.params;a||(a=this.options.params={}),Object.keys(r).forEach(s=>{(!t||!a.hasOwnProperty(s))&&(a[s]=uu(r[s],a,this.errors))})}}_copyOptions(){let n={};if(this.options){let t=this.options.params;if(t){let e=n.params={};Object.keys(t).forEach(i=>{e[i]=t[i]})}}return n}createSubContext(n=null,t,e){let i=t||this.element,r=new o(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,e||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(n),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(n){return this.previousNode=Ef,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,e){let i={duration:t??n.duration,delay:this.currentTimeline.currentTime+(e??0)+n.delay,easing:""},r=new d1(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,e,i,r,a){let s=[];if(i&&s.push(this.element),n.length>0){n=n.replace(US,"."+this._enterClassName),n=n.replace(WS,"."+this._leaveClassName);let l=e!=1,c=this._driver.query(this.element,n,l);e!==0&&(c=e<0?c.slice(c.length+e,c.length):c.slice(0,e)),s.push(...c)}return!r&&s.length==0&&a.push(oS(t)),s}},kf=class o{constructor(n,t,e,i){this._driver=n,this.element=t,this.startTime=e,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new o(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=HS,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,e]of this._globalTimelineStyles)this._backFill.set(t,e||ia),this._currentKeyframe.set(t,ia);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,e,i){t&&this._previousKeyframe.set("easing",t);let r=i&&i.params||{},a=KS(n,this._globalTimelineStyles);for(let[s,l]of a){let c=uu(l,r,e);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??ia),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,e)=>{let i=this._styleSummary.get(e);(!i||t.time>i.time)&&this._updateStyle(e,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,t=new Set,e=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((u,p)=>{u===gf?n.add(p):u===ia&&t.add(p)}),e||c.set("offset",l/this.duration),i.push(c)});let r=[...n.values()],a=[...t.values()];if(e){let s=i[0],l=new Map(s);s.set("offset",0),l.set("offset",1),i=[s,l]}return P1(this.element,i,r,a,this.duration,this.startTime,this.easing,!1)}},d1=class extends kf{constructor(n,t,e,i,r,a,s=!1){super(n,t,a.delay),this.keyframes=e,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:e,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let r=[],a=e+t,s=t/a,l=new Map(n[0]);l.set("offset",0),r.push(l);let c=new Map(n[0]);c.set("offset",mC(s)),r.push(c);let u=n.length-1;for(let p=1;p<=u;p++){let g=new Map(n[p]),h=g.get("offset"),y=t+h*e;g.set("offset",mC(y/a)),r.push(g)}e=a,t=0,i="",n=r}return P1(this.element,n,this.preStyleProps,this.postStyleProps,e,t,i,!0)}};function mC(o,n=3){let t=Math.pow(10,n-1);return Math.round(o*t)/t}function KS(o,n){let t=new Map,e;return o.forEach(i=>{if(i==="*"){e??=n.keys();for(let r of e)t.set(r,ia)}else for(let[r,a]of i)t.set(r,a)}),t}function vC(o,n,t,e,i,r,a,s,l,c,u,p,g){return{type:0,element:o,triggerName:n,isRemovalTransition:i,fromState:t,fromStyles:r,toState:e,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:p,errors:g}}var Jm={},Af=class{constructor(n,t,e){this._triggerName=n,this.ast=t,this._stateStyles=e}match(n,t,e,i){return qS(this.ast.matchers,n,t,e,i)}buildStyles(n,t,e){let i=this._stateStyles.get("*");return n!==void 0&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(t,e):new Map}build(n,t,e,i,r,a,s,l,c,u){let p=[],g=this.ast.options&&this.ast.options.params||Jm,h=s&&s.params||Jm,y=this.buildStyles(e,h,p),_=l&&l.params||Jm,O=this.buildStyles(i,_,p),M=new Set,w=new Map,T=new Map,b=i==="void",k={params:DC(_,g),delay:this.ast.options?.delay},E=u?[]:IC(n,t,this.ast.animation,r,a,y,O,k,c,p),N=0;return E.forEach(F=>{N=Math.max(F.duration+F.delay,N)}),p.length?vC(t,this._triggerName,e,i,b,y,O,[],[],w,T,N,p):(E.forEach(F=>{let V=F.element,R=ao(w,V,new Set);F.preStyleProps.forEach(L=>R.add(L));let H=ao(T,V,new Set);F.postStyleProps.forEach(L=>H.add(L)),V!==t&&M.add(V)}),vC(t,this._triggerName,e,i,b,y,O,E,[...M.values()],w,T,N))}};function qS(o,n,t,e,i){return o.some(r=>r(n,t,e,i))}function DC(o,n){let t=pi({},n);return Object.entries(o).forEach(([e,i])=>{i!=null&&(t[e]=i)}),t}var u1=class{constructor(n,t,e){this.styles=n,this.defaultParams=t,this.normalizer=e}buildStyles(n,t){let e=new Map,i=DC(n,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((a,s)=>{a&&(a=uu(a,i,t));let l=this.normalizer.normalizePropertyName(s,t);a=this.normalizer.normalizeStyleValue(s,l,a,t),e.set(s,a)})}),e}};function $S(o,n,t){return new p1(o,n,t)}var p1=class{constructor(n,t,e){this.name=n,this.ast=t,this._normalizer=e,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let r=i.options&&i.options.params||{};this.states.set(i.name,new u1(i.style,r,e))}),_C(this.states,"true","1"),_C(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Af(n,i,this.states))}),this.fallbackTransition=YS(n,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,e,i){return this.transitionFactories.find(a=>a.match(n,t,e,i))||null}matchStyles(n,t,e){return this.fallbackTransition.buildStyles(n,t,e)}};function YS(o,n,t){let e=[(a,s)=>!0],i={type:bn.Sequence,steps:[],options:null},r={type:bn.Transition,animation:i,matchers:e,options:null,queryCount:0,depCount:0};return new Af(o,r,n)}function _C(o,n,t){o.has(n)?o.has(t)||o.set(t,o.get(n)):o.has(t)&&o.set(n,o.get(t))}var XS=new pu,f1=class{constructor(n,t,e){this.bodyNode=n,this._driver=t,this._normalizer=e,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){let e=[],i=[],r=AC(this._driver,t,e,i);if(e.length)throw dS(e);i.length&&void 0,this._animations.set(n,r)}_buildPlayer(n,t,e){let i=n.element,r=PC(this._normalizer,n.keyframes,t,e);return this._driver.animate(i,r,n.duration,n.delay,n.easing,[],!0)}create(n,t,e={}){let i=[],r=this._animations.get(n),a,s=new Map;if(r?(a=IC(this._driver,t,r,TC,n1,new Map,new Map,e,XS,i),a.forEach(u=>{let p=ao(s,u.element,new Map);u.postStyleProps.forEach(g=>p.set(g,null))})):(i.push(uS()),a=[]),i.length)throw pS(i);s.forEach((u,p)=>{u.forEach((g,h)=>{u.set(h,this._driver.computeStyle(p,h,ia))})});let l=a.map(u=>{let p=s.get(u.element);return this._buildPlayer(u,new Map,p)}),c=Ts(l);return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){let t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);let e=this.players.indexOf(t);e>=0&&this.players.splice(e,1)}_getPlayer(n){let t=this._playersById.get(n);if(!t)throw fS(n);return t}listen(n,t,e,i){let r=y1(t,"","","");return _1(this._getPlayer(n),e,r,i),()=>{}}command(n,t,e,i){if(e=="register"){this.register(n,i[0]);return}if(e=="create"){let a=i[0]||{};this.create(n,t,a);return}let r=this._getPlayer(n);switch(e){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n);break}}},yC="ng-animate-queued",QS=".ng-animate-queued",Zm="ng-animate-disabled",JS=".ng-animate-disabled",ZS="ng-star-inserted",tT=".ng-star-inserted",eT=[],LC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nT={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ko="__ng_removed",fu=class{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;let e=n&&n.hasOwnProperty("value"),i=e?n.value:n;if(this.value=rT(i),e){let r=n,{value:a}=r,s=zy(r,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let t=n.params;if(t){let e=this.options.params;Object.keys(t).forEach(i=>{e[i]==null&&(e[i]=t[i])})}}},du="void",t1=new fu(du),g1=class{constructor(n,t,e){this.id=n,this.hostElement=t,this._engine=e,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Mo(t,this._hostClassName)}listen(n,t,e,i){if(!this._triggers.has(t))throw gS(e,t);if(e==null||e.length==0)throw hS(t);if(!oT(e))throw mS(e,t);let r=ao(this._elementListeners,n,[]),a={name:t,phase:e,callback:i};r.push(a);let s=ao(this._engine.statesByElement,n,new Map);return s.has(t)||(Mo(n,bf),Mo(n,bf+"-"+t),s.set(t,t1)),()=>{this._engine.afterFlush(()=>{let l=r.indexOf(a);l>=0&&r.splice(l,1),this._triggers.has(t)||s.delete(t)})}}register(n,t){return this._triggers.has(n)?!1:(this._triggers.set(n,t),!0)}_getTrigger(n){let t=this._triggers.get(n);if(!t)throw vS(n);return t}trigger(n,t,e,i=!0){let r=this._getTrigger(t),a=new gu(this.id,t,n),s=this._engine.statesByElement.get(n);s||(Mo(n,bf),Mo(n,bf+"-"+t),this._engine.statesByElement.set(n,s=new Map));let l=s.get(t),c=new fu(e,this.id);if(!(e&&e.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(t,c),l||(l=t1),!(c.value===du)&&l.value===c.value){if(!lT(l.params,c.params)){let _=[],O=r.matchStyles(l.value,l.params,_),M=r.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{yl(n,O),ca(n,M)})}return}let g=ao(this._engine.playersByElement,n,[]);g.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let h=r.matchTransition(l.value,c.value,n,c.params),y=!1;if(!h){if(!i)return;h=r.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:h,fromState:l,toState:c,player:a,isFallbackTransition:y}),y||(Mo(n,yC),a.onStart(()=>{wc(n,yC)})),a.onDone(()=>{let _=this.players.indexOf(a);_>=0&&this.players.splice(_,1);let O=this._engine.playersByElement.get(n);if(O){let M=O.indexOf(a);M>=0&&O.splice(M,1)}}),this.players.push(a),g.push(a),a}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,e)=>{this._elementListeners.set(e,t.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let t=this._engine.playersByElement.get(n);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){let e=this._engine.driver.query(n,Mf,!0);e.forEach(i=>{if(i[Ko])return;let r=this._engine.fetchNamespacesByElement(i);r.size?r.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>e.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,t,e,i){let r=this._engine.statesByElement.get(n),a=new Map;if(r){let s=[];if(r.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){let u=this.trigger(n,c,du,i);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,a),e&&Ts(s).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let t=this._elementListeners.get(n),e=this._engine.statesByElement.get(n);if(t&&e){let i=new Set;t.forEach(r=>{let a=r.name;if(i.has(a))return;i.add(a);let l=this._triggers.get(a).fallbackTransition,c=e.get(a)||t1,u=new fu(du),p=new gu(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:l,fromState:c,toState:u,player:p,isFallbackTransition:!0})})}}removeNode(n,t){let e=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let i=!1;if(e.totalAnimations){let r=e.players.length?e.playersByQueriedElement.get(n):[];if(r&&r.length)i=!0;else{let a=n;for(;a=a.parentNode;)if(e.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)e.markElementAsRemoved(this.id,n,!1,t);else{let r=n[Ko];(!r||r===LC)&&(e.afterFlush(()=>this.clearElementCache(n)),e.destroyInnerAnimations(n),e._onRemovalComplete(n,t))}}insertNode(n,t){Mo(n,this._hostClassName)}drainQueuedTransitions(n){let t=[];return this._queue.forEach(e=>{let i=e.player;if(i.destroyed)return;let r=e.element,a=this._elementListeners.get(r);a&&a.forEach(s=>{if(s.name==e.triggerName){let l=y1(r,e.triggerName,e.fromState.value,e.toState.value);l._data=n,_1(e.player,s.phase,l,s.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(e)}),this._queue=[],t.sort((e,i)=>{let r=e.transition.ast.depCount,a=i.transition.ast.depCount;return r==0||a==0?r-a:this._engine.driver.containsElement(e.element,i.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},h1=class{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,e,i){this.bodyNode=n,this.driver=t,this._normalizer=e,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){let n=[];return this._namespaceList.forEach(t=>{t.players.forEach(e=>{e.queued&&n.push(e)})}),n}createNamespace(n,t){let e=new g1(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(e,t):(this.newHostElements.set(t,e),this.collectEnterElement(t)),this._namespaceLookup[n]=e}_balanceNamespaceList(n,t){let e=this._namespaceList,i=this.namespacesByHostElement;if(e.length-1>=0){let a=!1,s=this.driver.getParentElement(t);for(;s;){let l=i.get(s);if(l){let c=e.indexOf(l);e.splice(c+1,0,n),a=!0;break}s=this.driver.getParentElement(s)}a||e.unshift(n)}else e.push(n);return i.set(t,n),n}register(n,t){let e=this._namespaceLookup[n];return e||(e=this.createNamespace(n,t)),e}registerTrigger(n,t,e){let i=this._namespaceLookup[n];i&&i.register(t,e)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let e=this._fetchNamespace(n);this.namespacesByHostElement.delete(e.hostElement);let i=this._namespaceList.indexOf(e);i>=0&&this._namespaceList.splice(i,1),e.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let t=new Set,e=this.statesByElement.get(n);if(e){for(let i of e.values())if(i.namespaceId){let r=this._fetchNamespace(i.namespaceId);r&&t.add(r)}}return t}trigger(n,t,e,i){if(Of(t)){let r=this._fetchNamespace(n);if(r)return r.trigger(t,e,i),!0}return!1}insertNode(n,t,e,i){if(!Of(t))return;let r=t[Ko];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){let a=this._fetchNamespace(n);a&&a.insertNode(t,e)}i&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Mo(n,Zm)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),wc(n,Zm))}removeNode(n,t,e){if(Of(t)){this.scheduler?.notify();let i=n?this._fetchNamespace(n):null;i?i.removeNode(t,e):this.markElementAsRemoved(n,t,!1,e);let r=this.namespacesByHostElement.get(t);r&&r.id!==n&&r.removeNode(t,e)}else this._onRemovalComplete(t,e)}markElementAsRemoved(n,t,e,i,r){this.collectedLeaveElements.push(t),t[Ko]={namespaceId:n,setForRemoval:i,hasAnimation:e,removedBeforeQueried:!1,previousTriggersValues:r}}listen(n,t,e,i,r){return Of(t)?this._fetchNamespace(n).listen(t,e,i,r):()=>{}}_buildInstruction(n,t,e,i,r){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,e,i,n.fromState.options,n.toState.options,t,r)}destroyInnerAnimations(n){let t=this.driver.query(n,Mf,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(n,i1,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(n){let t=this.playersByElement.get(n);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(n){let t=this.playersByQueriedElement.get(n);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Ts(this.players).onDone(()=>n());n()})}processLeaveNode(n){let t=n[Ko];if(t&&t.setForRemoval){if(n[Ko]=LC,t.namespaceId){this.destroyInnerAnimations(n);let e=this._fetchNamespace(t.namespaceId);e&&e.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(Zm)&&this.markElementAsDisabled(n,!1),this.driver.query(n,JS,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,i)=>this._balanceNamespaceList(e,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let e=0;e<this.collectedEnterElements.length;e++){let i=this.collectedEnterElements[e];Mo(i,ZS)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let e=[];try{t=this._flushAnimations(e,n)}finally{for(let i=0;i<e.length;i++)e[i]()}}else for(let e=0;e<this.collectedLeaveElements.length;e++){let i=this.collectedLeaveElements[e];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){let e=this._whenQuietFns;this._whenQuietFns=[],t.length?Ts(t).onDone(()=>{e.forEach(i=>i())}):e.forEach(i=>i())}}reportError(n){throw _S(n)}_flushAnimations(n,t){let e=new pu,i=[],r=new Map,a=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(D=>{u.add(D);let Z=this.driver.query(D,QS,!0);for(let nt=0;nt<Z.length;nt++)u.add(Z[nt])});let p=this.bodyNode,g=Array.from(this.statesByElement.keys()),h=xC(g,this.collectedEnterElements),y=new Map,_=0;h.forEach((D,Z)=>{let nt=TC+_++;y.set(Z,nt),D.forEach(pt=>Mo(pt,nt))});let O=[],M=new Set,w=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){let Z=this.collectedLeaveElements[D],nt=Z[Ko];nt&&nt.setForRemoval&&(O.push(Z),M.add(Z),nt.hasAnimation?this.driver.query(Z,tT,!0).forEach(pt=>M.add(pt)):w.add(Z))}let T=new Map,b=xC(g,Array.from(M));b.forEach((D,Z)=>{let nt=n1+_++;T.set(Z,nt),D.forEach(pt=>Mo(pt,nt))}),n.push(()=>{h.forEach((D,Z)=>{let nt=y.get(Z);D.forEach(pt=>wc(pt,nt))}),b.forEach((D,Z)=>{let nt=T.get(Z);D.forEach(pt=>wc(pt,nt))}),O.forEach(D=>{this.processLeaveNode(D)})});let k=[],E=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(t).forEach(nt=>{let pt=nt.player,Vt=nt.element;if(k.push(pt),this.collectedEnterElements.length){let Et=Vt[Ko];if(Et&&Et.setForMove){if(Et.previousTriggersValues&&Et.previousTriggersValues.has(nt.triggerName)){let zt=Et.previousTriggersValues.get(nt.triggerName),Wt=this.statesByElement.get(nt.element);if(Wt&&Wt.has(nt.triggerName)){let Nt=Wt.get(nt.triggerName);Nt.value=zt,Wt.set(nt.triggerName,Nt)}}pt.destroy();return}}let qt=!p||!this.driver.containsElement(p,Vt),Pt=T.get(Vt),yt=y.get(Vt),rt=this._buildInstruction(nt,e,yt,Pt,qt);if(rt.errors&&rt.errors.length){E.push(rt);return}if(qt){pt.onStart(()=>yl(Vt,rt.fromStyles)),pt.onDestroy(()=>ca(Vt,rt.toStyles)),i.push(pt);return}if(nt.isFallbackTransition){pt.onStart(()=>yl(Vt,rt.fromStyles)),pt.onDestroy(()=>ca(Vt,rt.toStyles)),i.push(pt);return}let ft=[];rt.timelines.forEach(Et=>{Et.stretchStartingKeyframe=!0,this.disabledNodes.has(Et.element)||ft.push(Et)}),rt.timelines=ft,e.append(Vt,rt.timelines);let wt={instruction:rt,player:pt,element:Vt};a.push(wt),rt.queriedElements.forEach(Et=>ao(s,Et,[]).push(pt)),rt.preStyleProps.forEach((Et,zt)=>{if(Et.size){let Wt=l.get(zt);Wt||l.set(zt,Wt=new Set),Et.forEach((Nt,st)=>Wt.add(st))}}),rt.postStyleProps.forEach((Et,zt)=>{let Wt=c.get(zt);Wt||c.set(zt,Wt=new Set),Et.forEach((Nt,st)=>Wt.add(st))})});if(E.length){let D=[];E.forEach(Z=>{D.push(yS(Z.triggerName,Z.errors))}),k.forEach(Z=>Z.destroy()),this.reportError(D)}let N=new Map,F=new Map;a.forEach(D=>{let Z=D.element;e.has(Z)&&(F.set(Z,Z),this._beforeAnimationBuild(D.player.namespaceId,D.instruction,N))}),i.forEach(D=>{let Z=D.element;this._getPreviousPlayers(Z,!1,D.namespaceId,D.triggerName,null).forEach(pt=>{ao(N,Z,[]).push(pt),pt.destroy()})});let V=O.filter(D=>OC(D,l,c)),R=new Map;CC(R,this.driver,w,c,ia).forEach(D=>{OC(D,l,c)&&V.push(D)});let L=new Map;h.forEach((D,Z)=>{CC(L,this.driver,new Set(D),l,gf)}),V.forEach(D=>{let Z=R.get(D),nt=L.get(D);R.set(D,new Map([...Z?.entries()??[],...nt?.entries()??[]]))});let W=[],q=[],J={};a.forEach(D=>{let{element:Z,player:nt,instruction:pt}=D;if(e.has(Z)){if(u.has(Z)){nt.onDestroy(()=>ca(Z,pt.toStyles)),nt.disabled=!0,nt.overrideTotalTime(pt.totalTime),i.push(nt);return}let Vt=J;if(F.size>1){let Pt=Z,yt=[];for(;Pt=Pt.parentNode;){let rt=F.get(Pt);if(rt){Vt=rt;break}yt.push(Pt)}yt.forEach(rt=>F.set(rt,Vt))}let qt=this._buildAnimation(nt.namespaceId,pt,N,r,L,R);if(nt.setRealPlayer(qt),Vt===J)W.push(nt);else{let Pt=this.playersByElement.get(Vt);Pt&&Pt.length&&(nt.parentPlayer=Ts(Pt)),i.push(nt)}}else yl(Z,pt.fromStyles),nt.onDestroy(()=>ca(Z,pt.toStyles)),q.push(nt),u.has(Z)&&i.push(nt)}),q.forEach(D=>{let Z=r.get(D.element);if(Z&&Z.length){let nt=Ts(Z);D.setRealPlayer(nt)}}),i.forEach(D=>{D.parentPlayer?D.syncPlayerEvents(D.parentPlayer):D.destroy()});for(let D=0;D<O.length;D++){let Z=O[D],nt=Z[Ko];if(wc(Z,n1),nt&&nt.hasAnimation)continue;let pt=[];if(s.size){let qt=s.get(Z);qt&&qt.length&&pt.push(...qt);let Pt=this.driver.query(Z,i1,!0);for(let yt=0;yt<Pt.length;yt++){let rt=s.get(Pt[yt]);rt&&rt.length&&pt.push(...rt)}}let Vt=pt.filter(qt=>!qt.destroyed);Vt.length?aT(this,Z,Vt):this.processLeaveNode(Z)}return O.length=0,W.forEach(D=>{this.players.push(D),D.onDone(()=>{D.destroy();let Z=this.players.indexOf(D);this.players.splice(Z,1)}),D.play()}),W}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,e,i,r){let a=[];if(t){let s=this.playersByQueriedElement.get(n);s&&(a=s)}else{let s=this.playersByElement.get(n);if(s){let l=!r||r==du;s.forEach(c=>{c.queued||!l&&c.triggerName!=i||a.push(c)})}}return(e||i)&&(a=a.filter(s=>!(e&&e!=s.namespaceId||i&&i!=s.triggerName))),a}_beforeAnimationBuild(n,t,e){let i=t.triggerName,r=t.element,a=t.isRemovalTransition?void 0:n,s=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let c=l.element,u=c!==r,p=ao(e,c,[]);this._getPreviousPlayers(c,u,a,s,t.toState).forEach(h=>{let y=h.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),h.destroy(),p.push(h)})}yl(r,t.fromStyles)}_buildAnimation(n,t,e,i,r,a){let s=t.triggerName,l=t.element,c=[],u=new Set,p=new Set,g=t.timelines.map(y=>{let _=y.element;u.add(_);let O=_[Ko];if(O&&O.removedBeforeQueried)return new yc(y.duration,y.delay);let M=_!==l,w=sT((e.get(_)||eT).map(N=>N.getRealPlayer())).filter(N=>{let F=N;return F.element?F.element===_:!1}),T=r.get(_),b=a.get(_),k=PC(this._normalizer,y.keyframes,T,b),E=this._buildPlayer(y,k,w);if(y.subTimeline&&i&&p.add(_),M){let N=new gu(n,s,_);N.setRealPlayer(E),c.push(N)}return E});c.forEach(y=>{ao(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>iT(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Mo(y,fC));let h=Ts(g);return h.onDestroy(()=>{u.forEach(y=>wc(y,fC)),ca(l,t.toStyles)}),p.forEach(y=>{ao(i,y,[]).push(h)}),h}_buildPlayer(n,t,e){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,e):new yc(n.duration,n.delay)}},gu=class{constructor(n,t,e){this.namespaceId=n,this.triggerName=t,this.element=e,this._player=new yc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,e)=>{t.forEach(i=>_1(n,e,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){ao(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let t=this._player;t.triggerCallback&&t.triggerCallback(n)}};function iT(o,n,t){let e=o.get(n);if(e){if(e.length){let i=e.indexOf(t);e.splice(i,1)}e.length==0&&o.delete(n)}return e}function rT(o){return o??null}function Of(o){return o&&o.nodeType===1}function oT(o){return o=="start"||o=="done"}function bC(o,n){let t=o.style.display;return o.style.display=n??"none",t}function CC(o,n,t,e,i){let r=[];t.forEach(l=>r.push(bC(l)));let a=[];e.forEach((l,c)=>{let u=new Map;l.forEach(p=>{let g=n.computeStyle(c,p,i);u.set(p,g),(!g||g.length==0)&&(c[Ko]=nT,a.push(c))}),o.set(c,u)});let s=0;return t.forEach(l=>bC(l,r[s++])),a}function xC(o,n){let t=new Map;if(o.forEach(s=>t.set(s,[])),n.length==0)return t;let e=1,i=new Set(n),r=new Map;function a(s){if(!s)return e;let l=r.get(s);if(l)return l;let c=s.parentNode;return t.has(c)?l=c:i.has(c)?l=e:l=a(c),r.set(s,l),l}return n.forEach(s=>{let l=a(s);l!==e&&t.get(l).push(s)}),t}function Mo(o,n){o.classList?.add(n)}function wc(o,n){o.classList?.remove(n)}function aT(o,n,t){Ts(t).onDone(()=>o.processLeaveNode(n))}function sT(o){let n=[];return NC(o,n),n}function NC(o,n){for(let t=0;t<o.length;t++){let e=o[t];e instanceof Um?NC(e.players,n):n.push(e)}}function lT(o,n){let t=Object.keys(o),e=Object.keys(n);if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i];if(!n.hasOwnProperty(r)||o[r]!==n[r])return!1}return!0}function OC(o,n,t){let e=t.get(o);if(!e)return!1;let i=n.get(o);return i?e.forEach(r=>i.add(r)):n.set(o,e),t.delete(o),!0}var Sc=class{constructor(n,t,e,i){this._driver=t,this._normalizer=e,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new h1(n.body,t,e,i),this._timelineEngine=new f1(n.body,t,e),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(n,t,e,i,r){let a=n+"-"+i,s=this._triggerCache[a];if(!s){let l=[],c=[],u=AC(this._driver,r,l,c);if(l.length)throw lS(i,l);c.length&&void 0,s=$S(i,u,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(t,i,s)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,e,i){this._transitionEngine.insertNode(n,t,e,i)}onRemove(n,t,e){this._transitionEngine.removeNode(n,t,e)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,e,i){if(e.charAt(0)=="@"){let[r,a]=uC(e),s=i;this._timelineEngine.command(r,t,a,s)}else this._transitionEngine.trigger(n,t,e,i)}listen(n,t,e,i,r){if(e.charAt(0)=="@"){let[a,s]=uC(e);return this._timelineEngine.listen(a,t,s,r)}return this._transitionEngine.listen(n,t,e,i,r)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function cT(o,n){let t=null,e=null;return Array.isArray(n)&&n.length?(t=e1(n[0]),n.length>1&&(e=e1(n[n.length-1]))):n instanceof Map&&(t=e1(n)),t||e?new m1(o,t,e):null}var m1=class o{static{this.initialStylesByElement=new WeakMap}constructor(n,t,e){this._element=n,this._startStyles=t,this._endStyles=e,this._state=0;let i=o.initialStylesByElement.get(n);i||o.initialStylesByElement.set(n,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ca(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ca(this._element,this._initialStyles),this._endStyles&&(ca(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(o.initialStylesByElement.delete(this._element),this._startStyles&&(yl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yl(this._element,this._endStyles),this._endStyles=null),ca(this._element,this._initialStyles),this._state=3)}};function e1(o){let n=null;return o.forEach((t,e)=>{dT(e)&&(n=n||new Map,n.set(e,t))}),n}function dT(o){return o==="display"||o==="position"}var If=class{constructor(n,t,e,i){this.element=n,this.keyframes=t,this.options=e,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=e.duration,this._delay=e.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){let t=[];return n.forEach(e=>{t.push(Object.fromEntries(e))}),t}_triggerWebAnimation(n,t,e){return n.animate(this._convertKeyframesToObject(t),e)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((e,i)=>{i!=="offset"&&n.set(i,this._finished?e:O1(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){let t=n==="start"?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}},Df=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return MC(n,t)}getParentElement(n){return b1(n)}query(n,t,e){return wC(n,t,e)}computeStyle(n,t,e){return O1(n,t)}animate(n,t,e,i,r,a=[]){let s=i==0?"both":"forwards",l={duration:e,delay:i,fill:s};r&&(l.easing=r);let c=new Map,u=a.filter(h=>h instanceof If);kS(e,i)&&u.forEach(h=>{h.currentSnapshot.forEach((y,_)=>c.set(_,y))});let p=SS(t).map(h=>new Map(h));p=AS(n,p,c);let g=cT(n,p);return new If(n,p,l,g)}};var Pf="@",RC="@.disabled",Lf=class{constructor(n,t,e,i){this.namespaceId=n,this.delegate=t,this.engine=e,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,e,i=!0){this.delegate.insertBefore(n,t,e),this.engine.onInsert(this.namespaceId,t,n,i)}removeChild(n,t,e){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,e,i){this.delegate.setAttribute(n,t,e,i)}removeAttribute(n,t,e){this.delegate.removeAttribute(n,t,e)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,e,i){this.delegate.setStyle(n,t,e,i)}removeStyle(n,t,e){this.delegate.removeStyle(n,t,e)}setProperty(n,t,e){t.charAt(0)==Pf&&t==RC?this.disableAnimations(n,!!e):this.delegate.setProperty(n,t,e)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,e){return this.delegate.listen(n,t,e)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}},v1=class extends Lf{constructor(n,t,e,i,r){super(t,e,i,r),this.factory=n,this.namespaceId=t}setProperty(n,t,e){t.charAt(0)==Pf?t.charAt(1)=="."&&t==RC?(e=e===void 0?!0:!!e,this.disableAnimations(n,e)):this.engine.process(this.namespaceId,n,t.slice(1),e):this.delegate.setProperty(n,t,e)}listen(n,t,e){if(t.charAt(0)==Pf){let i=uT(n),r=t.slice(1),a="";return r.charAt(0)!=Pf&&([r,a]=pT(r)),this.engine.listen(this.namespaceId,i,r,a,s=>{let l=s._data||-1;this.factory.scheduleListenerCallback(l,e,s)})}return this.delegate.listen(n,t,e)}};function uT(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o}}function pT(o){let n=o.indexOf("."),t=o.substring(0,n),e=o.slice(n+1);return[t,e]}var Nf=class{constructor(n,t,e){this.delegate=n,this.engine=t,this._zone=e,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,r)=>{let a=r?.parentNode(i);a&&r.removeChild(a,i)}}createRenderer(n,t){let e="",i=this.delegate.createRenderer(n,t);if(!n||!t?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let p=()=>c.delete(i);u=new Lf(e,i,this.engine,p),c.set(i,u)}return u}let r=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(r,a,n,c.name,c)};return t.data.animation.forEach(s),new v1(this,a,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,t,e){if(n>=0&&n<this._microtaskId){this._zone.run(()=>t(e));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(r=>{let[a,s]=r;a(s)}),this._animationCallbacksBuffer=[]})}),i.push([t,e])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var gT=(()=>{class o extends Sc{constructor(t,e,i){super(t,e,i,be(Wy,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(e){return new(e||o)(mc(cf),mc(bl),mc(Cl))}}static{this.\u0275prov=yo({token:o,factory:o.\u0275fac})}}return o})();function hT(){return new Sf}function mT(o,n,t){return new Nf(o,n,t)}var FC=[{provide:Cl,useFactory:hT},{provide:Sc,useClass:gT},{provide:Ky,useFactory:mT,deps:[ob,Sc,ka]}],vT=[{provide:bl,useFactory:()=>new Df},{provide:iu,useValue:"BrowserAnimations"},...FC],aQ=[{provide:bl,useClass:C1},{provide:iu,useValue:"NoopAnimations"},...FC];function zC(){return qy("NgEagerAnimations"),[...vT]}var _T=["scrollContainer"],yT=()=>[],bT=(o,n,t,e,i)=>({status:o,items:n,selectedId:t,selectedName:e,error:i}),CT=(o,n,t)=>({"desktop-mode":o,"tablet-mode":n,"mobile-mode":t});function xT(o,n){if(o&1){let t=fe();x(0,"button",23),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.onSearch(i.searchQuery))}),Xt(),x(1,"svg",10),vt(2,"circle",11)(3,"path",12),P()()}}function OT(o,n){if(o&1){let t=fe();x(0,"button",24),Bt("click",function(){Dt(t);let i=ct(2);return i.searchQuery="",Lt(i.onSearch(""))}),Xt(),x(1,"svg",10),vt(2,"line",25)(3,"line",26),P()()}}function PT(o,n){o&1&&(Rn(0),x(1,"div",27),vt(2,"mat-spinner",28),P(),Fn())}function MT(o,n){o&1&&(Xt(),vt(0,"circle",53))}function wT(o,n){o&1&&(Xt(),vt(0,"path",54))}function ST(o,n){o&1&&(Xt(),vt(0,"path",55))}function TT(o,n){o&1&&(Xt(),vt(0,"path",56))}function ET(o,n){o&1&&(Xt(),vt(0,"path",57))}function kT(o,n){o&1&&(Xt(),vt(0,"rect",58))}function AT(o,n){o&1&&(Xt(),vt(0,"polyline",59))}function IT(o,n){o&1&&(x(0,"div",63),I(1,"\u2713"),P())}function DT(o,n){o&1&&(x(0,"div",63),I(1,"\u2713"),P())}function LT(o,n){o&1&&(x(0,"div",63),I(1,"\u2713"),P())}function NT(o,n){o&1&&(x(0,"div",63),I(1,"\u2713"),P())}function RT(o,n){if(o&1){let t=fe();x(0,"div",60)(1,"button",61),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.selectCategory("all"))}),Xt(),x(2,"svg",10),vt(3,"circle",53)(4,"path",54),P(),ie(),x(5,"span"),I(6,"All"),P(),It(7,IT,2,0,"div",62),P(),x(8,"button",61),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.selectCategory("ai-generated"))}),Xt(),x(9,"svg",10),vt(10,"path",55),P(),ie(),x(11,"span"),I(12,"AI Generated"),P(),It(13,DT,2,0,"div",62),P(),x(14,"button",61),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.selectCategory("visual-editor"))}),Xt(),x(15,"svg",10),vt(16,"path",56)(17,"path",57),P(),ie(),x(18,"span"),I(19,"Visual Editor"),P(),It(20,LT,2,0,"div",62),P(),x(21,"button",61),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.selectCategory("esp"))}),Xt(),x(22,"svg",10),vt(23,"rect",58)(24,"polyline",59),P(),ie(),x(25,"span"),I(26,"ESP"),P(),It(27,NT,2,0,"div",62),P()()}if(o&2){let t=ct(3);j(),De("active",t.selectedCategory==="all"),j(6),tt("ngIf",t.selectedCategory==="all"),j(),De("active",t.selectedCategory==="ai-generated"),j(5),tt("ngIf",t.selectedCategory==="ai-generated"),j(),De("active",t.selectedCategory==="visual-editor"),j(6),tt("ngIf",t.selectedCategory==="visual-editor"),j(),De("active",t.selectedCategory==="esp"),j(6),tt("ngIf",t.selectedCategory==="esp")}}function FT(o,n){if(o&1){let t=fe();x(0,"button",74),Bt("click",function(i){Dt(t);let r=ct().$implicit,a=ct(3);return Lt(a.onAction(r,i))}),x(1,"mat-icon"),I(2,"visibility"),P(),x(3,"span"),I(4,"QA Check"),P()()}}function zT(o,n){o&1&&vt(0,"div",75)}function VT(o,n){if(o&1){let t=fe();x(0,"mat-list-item",64),Bt("click",function(){let i=Dt(t).$implicit,r=ct(3);return Lt(r.onClick(i))}),x(1,"div",65)(2,"div",66),Xt(),x(3,"svg",10),vt(4,"rect",67)(5,"circle",68)(6,"path",69),P()(),ie(),x(7,"div",70)(8,"span",71),I(9),P(),It(10,FT,5,0,"button",72),P(),It(11,zT,1,0,"div",73),P()()}if(o&2){let t=n.$implicit,e=ct(2).ngIf,i=ct();De("selected",t.id===e.selectedId),fi("data-item-id",t.id),j(9),Jt(t.name||"Untitled template"),j(),tt("ngIf",t.id===i.runButtonItemId),j(),tt("ngIf",t.id===e.selectedId)}}function jT(o,n){if(o&1&&(x(0,"div",76),I(1),P()),o&2){let t=ct(2).ngIf;j(),Fe(" ",t.error," ")}}function HT(o,n){if(o&1){let t=fe();x(0,"div",29)(1,"div",30)(2,"div",31),Xt(),x(3,"svg",10),vt(4,"path",32),P(),ie(),x(5,"span",33),I(6),P(),x(7,"span",34),I(8,"templates"),P()(),x(9,"div",35)(10,"button",36),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.toggleCategoryDropdown())}),Xt(),x(11,"svg",37),It(12,MT,1,0,"circle",38)(13,wT,1,0,"path",39)(14,ST,1,0,"path",40)(15,TT,1,0,"path",41)(16,ET,1,0,"path",42)(17,kT,1,0,"rect",43)(18,AT,1,0,"polyline",44),P(),ie(),x(19,"span",45),I(20),P(),Xt(),x(21,"svg",46),vt(22,"polyline",47),P()(),It(23,RT,28,12,"div",48),P()(),ie(),x(24,"div",49,1)(26,"mat-nav-list",50),It(27,VT,12,6,"mat-list-item",51),P()()(),It(28,jT,2,1,"div",52)}if(o&2){let t=ct().ngIf,e=ct();j(6),Jt(t.items.length),j(4),De("open",e.categoryDropdownOpen),j(2),tt("ngIf",e.selectedCategory==="all"),j(),tt("ngIf",e.selectedCategory==="all"),j(),tt("ngIf",e.selectedCategory==="ai-generated"),j(),tt("ngIf",e.selectedCategory==="visual-editor"),j(),tt("ngIf",e.selectedCategory==="visual-editor"),j(),tt("ngIf",e.selectedCategory==="esp"),j(),tt("ngIf",e.selectedCategory==="esp"),j(2),Jt(e.getCategoryLabel()),j(3),tt("ngIf",e.categoryDropdownOpen),j(4),tt("ngForOf",t.items)("ngForTrackBy",e.trackById),j(),tt("ngIf",t.status==="error")}}function BT(o,n){o&1&&(Xt(),x(0,"svg",90),vt(1,"path",112)(2,"path",113)(3,"path",114)(4,"path",115),P())}function UT(o,n){o&1&&(Xt(),x(0,"svg",90),vt(1,"path",116)(2,"path",117)(3,"path",118)(4,"path",119),P())}function GT(o,n){if(o&1){let t=fe();x(0,"div",77)(1,"div",78)(2,"div",79)(3,"h3",80),I(4),P(),x(5,"div",81)(6,"span",82),I(7),P()()(),x(8,"div",83)(9,"div",84)(10,"button",85),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.toggleInfoBanner())}),Xt(),x(11,"svg",10),vt(12,"circle",86)(13,"line",87)(14,"circle",88),P(),ie(),x(15,"span"),I(16,"Info"),P()(),x(17,"button",89),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.deleteTemplate())}),Xt(),x(18,"svg",90),vt(19,"polyline",91)(20,"path",92)(21,"line",93)(22,"line",94),P(),ie(),x(23,"span"),I(24,"Delete"),P()(),x(25,"button",95),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.refresh())}),Xt(),x(26,"svg",90),vt(27,"path",96)(28,"path",97)(29,"path",98)(30,"path",99),P(),ie(),x(31,"span"),I(32,"Refresh"),P()(),x(33,"button",100),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.toggleFullscreen())}),It(34,BT,5,0,"svg",101)(35,UT,5,0,"svg",101),x(36,"span"),I(37),P()()(),x(38,"div",102)(39,"button",103),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.changeViewMode("desktop"))}),Xt(),x(40,"svg",10),vt(41,"rect",104)(42,"line",105)(43,"line",106),P(),ie(),x(44,"span"),I(45,"Desktop"),P()(),x(46,"button",107),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.changeViewMode("tablet"))}),Xt(),x(47,"svg",10),vt(48,"rect",108)(49,"line",109),P(),ie(),x(50,"span"),I(51,"Tablet"),P()(),x(52,"button",110),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.changeViewMode("mobile"))}),Xt(),x(53,"svg",10),vt(54,"rect",111)(55,"line",109),P(),ie(),x(56,"span"),I(57,"Mobile"),P()()()()()()}if(o&2){let t=ct().ngIf,e=ct();j(4),Jt(t.selectedName),j(3),Fe("ID: ",t.selectedId,""),j(3),De("active",e.showInfoBanner),j(7),tt("disabled",e.isDeleting),j(17),tt("ngIf",!e.isFullscreen),j(),tt("ngIf",e.isFullscreen),j(2),Jt(e.isFullscreen?"Exit":"Fullscreen"),j(2),De("active",e.viewMode==="desktop"),j(7),De("active",e.viewMode==="tablet"),j(6),De("active",e.viewMode==="mobile")}}function WT(o,n){o&1&&(x(0,"div",120)(1,"div",121)(2,"div",122),vt(3,"div",123)(4,"div",124)(5,"div",125)(6,"div",126),P(),vt(7,"div",127),P(),x(8,"div",128)(9,"div",129),vt(10,"div",130)(11,"div",131),Xt(),x(12,"svg",132),vt(13,"path",133)(14,"rect",134),P()(),ie(),x(15,"div",135)(16,"h2"),I(17,"Ready for Preview"),P()(),x(18,"div",136)(19,"div",137),Xt(),x(20,"svg",90),vt(21,"path",138),P(),I(22," Real-time Updates "),P(),ie(),x(23,"div",137),Xt(),x(24,"svg",90),vt(25,"rect",104)(26,"line",105)(27,"line",106),P(),I(28," Multi-Device "),P(),ie(),x(29,"div",137),Xt(),x(30,"svg",90),vt(31,"path",139),P(),I(32," Lightning Fast "),P()()()())}function KT(o,n){if(o&1&&(x(0,"div",146)(1,"div",147)(2,"div",148),vt(3,"div",149)(4,"div",150)(5,"div",151)(6,"div",152)(7,"div",153)(8,"div",154)(9,"div",155),P()(),x(10,"div",156)(11,"div",157),vt(12,"div",158)(13,"div",159)(14,"div",160),P(),x(15,"div",161)(16,"h4"),I(17,"Rendering Preview"),P(),x(18,"p"),I(19,"Optimizing your template for the best experience"),P(),x(20,"div",162)(21,"div",163),vt(22,"div",164),P()()()()()),o&2){let t=ct(3);tt("@fadeInOut",t.loading?"in":"out")}}function qT(o,n){if(o&1){let t=fe();x(0,"iframe",165),Bt("load",function(){Dt(t);let i=ct(3);return Lt(i.onIframeLoad())}),P()}if(o&2){let t=ct(3);fi("srcdoc",t.safeSrcdoc,pl)}}function $T(o,n){if(o&1){let t=fe();x(0,"iframe",167),Bt("load",function(){Dt(t);let i=ct(4);return Lt(i.onIframeLoad())}),P()}if(o&2){let t=ct(4);fi("srcdoc",t.safeSrcdoc,pl)}}function YT(o,n){if(o&1&&It(0,$T,1,1,"iframe",166),o&2){let t=ct(3);tt("ngIf",t.safeSrcdoc)}}function XT(o,n){if(o&1){let t=fe();x(0,"div",168)(1,"div",169),vt(2,"div",170),P(),x(3,"div",171)(4,"div",172),vt(5,"div",173),Xt(),x(6,"svg",174),vt(7,"path",175)(8,"line",176)(9,"line",177),P()(),ie(),x(10,"div",178)(11,"h3"),I(12,"Preview Unavailable"),P(),x(13,"p"),I(14),P(),x(15,"div",179)(16,"span"),I(17,"This usually resolves quickly. Try refreshing the preview."),P()()(),x(18,"div",180)(19,"button",181),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.refresh())}),Xt(),x(20,"svg",90),vt(21,"path",96)(22,"path",97)(23,"path",98)(24,"path",99),P(),I(25," Try Again "),P(),ie(),x(26,"button",182),Xt(),x(27,"svg",90),vt(28,"path",183),P(),I(29," Get Support "),P()()()()}if(o&2){let t=ct(3);tt("@bounceIn",void 0),j(14),Jt(t.previewError)}}function QT(o,n){if(o&1&&(x(0,"div",140),It(1,KT,23,1,"div",141),x(2,"div",142)(3,"div",143),It(4,qT,1,1,"iframe",144)(5,YT,1,1,"ng-template",null,2,lu),P()(),It(7,XT,30,2,"div",145),P()),o&2){let t=gi(6),e=ct(2);j(),tt("ngIf",e.loading),j(),De("loading",e.loading),tt("ngClass",lf(7,CT,e.viewMode==="desktop",e.viewMode==="tablet",e.viewMode==="mobile")),j(2),tt("ngIf",e.allowScripts&&e.safeSrcdoc)("ngIfElse",t),j(3),tt("ngIf",e.previewError)}}function JT(o,n){if(o&1){let t=fe();x(0,"div",5)(1,"section",6)(2,"div",7)(3,"div",8)(4,"div",9),Xt(),x(5,"svg",10),vt(6,"circle",11)(7,"path",12),P()(),ie(),x(8,"input",13),xi("ngModelChange",function(i){Dt(t);let r=ct();return Ci(r.searchQuery,i)||(r.searchQuery=i),Lt(i)}),Bt("input",function(){Dt(t);let i=ct();return Lt(i.onSearch(i.searchQuery))})("keyup.enter",function(){Dt(t);let i=ct();return Lt(i.onSearch(i.searchQuery))}),P(),x(9,"div",14),It(10,xT,4,0,"button",15)(11,OT,4,0,"button",16),P()()(),It(12,PT,3,0,"ng-container",17)(13,HT,29,15,"ng-template",null,0,lu),P(),x(15,"aside",18)(16,"div",19),It(17,GT,58,14,"div",20)(18,WT,33,0,"div",21)(19,QT,8,11,"div",22),P()()()}if(o&2){let t=n.ngIf,e=gi(14),i=ct();j(8),bi("ngModel",i.searchQuery),j(2),tt("ngIf",i.searchQuery),j(),tt("ngIf",i.searchQuery),j(),tt("ngIf",t.status==="loading")("ngIfElse",e),j(4),De("fullscreen",i.isFullscreen),j(),tt("ngIf",t.selectedName&&!i.hideHeader),j(),tt("ngIf",!t.selectedId),j(),tt("ngIf",t.selectedId)}}function ZT(o,n){if(o&1&&(x(0,"div",195)(1,"span",191),I(2,"Thumbnail"),P(),x(3,"a",196),I(4," View Thumbnail \u2192 "),P()()),o&2){let t=ct(3);j(3),tt("href",t.templateMetadata.thumbnail,no)}}function t3(o,n){if(o&1&&(x(0,"div",195)(1,"span",191),I(2,"Screenshot"),P(),x(3,"a",196),I(4," View Screenshot \u2192 "),P()()),o&2){let t=ct(3);j(3),tt("href",t.templateMetadata.screenshotUrl,no)}}function e3(o,n){if(o&1&&(x(0,"div",189)(1,"div",190)(2,"span",191),I(3,"Type"),P(),x(4,"span",192),I(5),P()(),x(6,"div",190)(7,"span",191),I(8,"Category"),P(),x(9,"span",192),I(10),P()(),x(11,"div",190)(12,"span",191),I(13,"Created By"),P(),x(14,"span",192),I(15),P()(),x(16,"div",190)(17,"span",191),I(18,"Created Date"),P(),x(19,"span",192),I(20),on(21,"date"),P()(),x(22,"div",190)(23,"span",191),I(24,"Last Edited"),P(),x(25,"span",192),I(26),on(27,"date"),P()(),x(28,"div",190)(29,"span",191),I(30,"Active"),P(),x(31,"span",192)(32,"span",193),I(33),P()()(),x(34,"div",190)(35,"span",191),I(36,"Drag & Drop"),P(),x(37,"span",192),I(38),P()(),x(39,"div",190)(40,"span",191),I(41,"Responsive"),P(),x(42,"span",192),I(43),P()(),x(44,"div",190)(45,"span",191),I(46,"Folder ID"),P(),x(47,"span",192),I(48),P()(),x(49,"div",190)(50,"span",191),I(51,"Source"),P(),x(52,"span",192),I(53),P()(),It(54,ZT,5,1,"div",194)(55,t3,5,1,"div",194),P()),o&2){let t=ct(2);j(5),Jt(t.templateMetadata.type||"N/A"),j(5),Jt(t.templateMetadata.category),j(5),Jt(t.templateMetadata.createdBy||"N/A"),j(5),Jt(su(21,14,t.templateMetadata.dateCreated,"short")),j(6),Jt(su(27,17,t.templateMetadata.dateEdited,"short")),j(6),De("active",t.templateMetadata.active),j(),Fe(" ",t.templateMetadata.active?"Yes":"No"," "),j(5),Jt(t.templateMetadata.dragAndDrop?"Yes":"No"),j(5),Jt(t.templateMetadata.responsive?"Yes":"No"),j(5),Jt(t.templateMetadata.folderId),j(5),Jt(t.templateMetadata.source),j(),tt("ngIf",t.templateMetadata.thumbnail),j(),tt("ngIf",t.templateMetadata.screenshotUrl)}}function n3(o,n){if(o&1){let t=fe();x(0,"div",184),Bt("click",function(){Dt(t);let i=ct();return Lt(i.toggleInfoBanner())}),x(1,"div",185),Bt("click",function(i){return Dt(t),Lt(i.stopPropagation())}),x(2,"div",186)(3,"h3"),I(4,"Template Information"),P(),x(5,"button",187),Bt("click",function(){Dt(t);let i=ct();return Lt(i.toggleInfoBanner())}),Xt(),x(6,"svg",10),vt(7,"line",25)(8,"line",26),P()()(),It(9,e3,56,20,"div",188),P()()}if(o&2){let t=ct();j(9),tt("ngIf",t.templateMetadata)}}var VC=(()=>{class o{constructor(){this.svc=be(Ps),this.router=be(jn),this.sanitizer=be(pf),this.http=be(xs),this.cache=be(Cc),this.cdr=be($i),this.snackBar=be(Os),this.templateState=be(Ms),this.categorySubject=new Wi("all"),this.state$=this.svc.state$,this.items$=Vy([this.state$,this.categorySubject]).pipe(eo(([t,e])=>{let i=t.items;return e!=="all"&&(i=t.items.filter(r=>{let s=(r.source||"").toLowerCase().trim();switch(e){case"ai-generated":return s==="ai generated"||s==="ai-generated";case"visual-editor":return s==="visual editor"||s==="visual-editor";case"esp":return s==="mailchimp";default:return!0}})),i})),this.status$=this.state$.pipe(eo(t=>t.status)),this.error$=this.state$.pipe(eo(t=>t.error)),this.selectedId$=this.state$.pipe(eo(t=>t.selectedId)),this.selectedName$=this.state$.pipe(eo(t=>t.selectedName)),this.searchQuery="",this.selectedCategory="all",this.categoryDropdownOpen=!1,this.lastClickTime=0,this.lastClickedId="",this.userInitiatedSelection=!1,this.isInitialLoad=!0,this.isFullscreen=!1,this.hideHeader=!1,this.viewMode="desktop",this.loading=!1,this.allowScripts=!1,this.safeSrcdoc=null,this.showInfoBanner=!1,this.templateMetadata=null,this.destroy$=new Gi,this.isDeleting=!1,this.inflightRequests=new Map}ngOnInit(){this.selectedId$.pipe(hn(this.destroy$),_s()).subscribe(e=>{e?this.loadTemplateContent(e):(this.safeSrcdoc=null,this.runButtonItemId=void 0,this.cdr.markForCheck())});let t=this.svc.snapshot;t.searchQuery&&(this.searchQuery=t.searchQuery),this.svc.search(this.searchQuery),setTimeout(()=>{this.scrollToTop(),this.isInitialLoad=!1},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.fetchSub?.unsubscribe(),this.loadingTimer&&clearTimeout(this.loadingTimer),this.inflightRequests.forEach(t=>t.unsubscribe()),this.inflightRequests.clear()}toggleCategoryDropdown(){this.categoryDropdownOpen=!this.categoryDropdownOpen}selectCategory(t){this.selectedCategory=t,this.categorySubject.next(t),this.categoryDropdownOpen=!1,this.cdr.markForCheck()}getCategoryLabel(){switch(this.selectedCategory){case"all":return"All";case"ai-generated":return"AI Generated";case"visual-editor":return"Visual Editor";case"esp":return"ESP";default:return"All"}}getCategoryIcon(){switch(this.selectedCategory){case"all":return"apps";case"ai-generated":return"auto_awesome";case"visual-editor":return"design_services";case"esp":return"email";default:return"apps"}}onDocumentClick(t){!t.target.closest(".category-filter-wrapper")&&this.categoryDropdownOpen&&(this.categoryDropdownOpen=!1,this.cdr.markForCheck())}onSearch(t){this.searchQuery=t,this.svc.search(t),setTimeout(()=>this.scrollToTop(),100)}onSelect(t){let e=this.svc.snapshot.selectedId;e&&e!==t.id&&(this.runButtonItemId=void 0),this.svc.select(t.id,t.name),this.userInitiatedSelection=!0;try{localStorage.setItem("lastTemplateId",t.id),localStorage.setItem("lastTemplateName",t.name||"")}catch{}this.cdr.markForCheck()}onRunTests(t){let e=this.svc.snapshot.items.find(i=>i.id===t);if(e)if(this.svc.select(t,e.name),e.content)this.templateState.initializeOriginalTemplate(t,e.content),this.router.navigate(["/qa",t]);else{let i=this.cache.get(t)||this.cache.getPersisted(t);i?(this.templateState.initializeOriginalTemplate(t,i),this.router.navigate(["/qa",t])):this.http.get(`/api/templates/${t}/raw`,{responseType:"text",withCredentials:!0}).subscribe({next:r=>{this.templateState.initializeOriginalTemplate(t,r),this.router.navigate(["/qa",t])},error:r=>{this.snackBar.open("Failed to load template","Close",{duration:3e3,panelClass:["error-snackbar"]})}})}else this.router.navigate(["/qa",t])}onClick(t){let e=Date.now();this.lastClickedId===t.id&&e-this.lastClickTime<500||e-this.lastClickTime<200||(this.lastClickTime=e,this.lastClickedId=t.id,this.onSelect(t))}onAction(t,e){e.stopPropagation(),e.preventDefault(),this.onRunTests(t.id)}trackById(t,e){return e.id}showRunButton(t){let e=this.svc.snapshot.selectedId;t===e&&(this.runButtonItemId=t,this.cdr.markForCheck())}refresh(){let t=this.svc.snapshot.selectedId;t&&(this.cache.clear(t),sessionStorage.removeItem(`metadata-${t}`),this.loadTemplateContent(t))}toggleFullscreen(){let t=document.querySelector(".preview-root");t&&(this.isFullscreen?document.exitFullscreen&&document.exitFullscreen():t.requestFullscreen&&t.requestFullscreen(),this.isFullscreen=!this.isFullscreen,this.cdr.markForCheck())}changeViewMode(t){this.viewMode=t,this.cdr.markForCheck()}toggleInfoBanner(){this.showInfoBanner=!this.showInfoBanner,this.cdr.markForCheck()}deleteTemplate(){if(this.isDeleting)return;let t=this.svc.snapshot.selectedId,e=this.svc.snapshot.selectedName;!t||!confirm(`Are you sure you want to delete "${e}"?

This action cannot be undone and will permanently remove the template from Mailchimp.`)||(this.isDeleting=!0,this.safeSrcdoc=null,this.templateMetadata=null,this.runButtonItemId=void 0,this.loading=!1,this.cdr.markForCheck(),this.cache.clearTemplate(t),this.svc.deleteTemplate(t).subscribe({next:r=>{this.isDeleting=!1,this.snackBar.open(`"${e}" deleted successfully`,"Close",{duration:4e3,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"})},error:r=>{this.isDeleting=!1,this.snackBar.open(`Failed to delete template: ${r?.error?.message||r?.message||"Unknown error"}`,"Close",{duration:6e3,panelClass:["error-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"}),this.svc.search(this.searchQuery)}}))}scrollToItem(t){if(!this.scrollContainer)return;let i=this.scrollContainer.nativeElement.querySelector(`[data-item-id="${t}"]`);i&&i.scrollIntoView({behavior:"smooth",block:"nearest"})}scrollToTop(){this.scrollContainer&&this.scrollContainer.nativeElement.scrollTo({top:0,behavior:"instant"})}scrollToBottom(){if(this.scrollContainer){let t=this.scrollContainer.nativeElement;t.scrollTo({top:t.scrollHeight,behavior:"smooth"})}}loadTemplateContent(t){if(this.previewError=void 0,this.runButtonItemId=void 0,this.templateMetadata=null,this.safeSrcdoc=null,this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=void 0),!t){this.loading=!1,this.cdr.markForCheck();return}this.loading=!0,this.cdr.markForCheck();let e=this.cache.get(t)||this.cache.getPersisted(t);if(e){let r=sessionStorage.getItem(`metadata-${t}`);r?(this.templateMetadata=JSON.parse(r),this.cdr.markForCheck()):this.http.get(`/api/templates/${t}`,{responseType:"json",withCredentials:!0}).subscribe({next:l=>{this.templateMetadata={type:l.type,templateType:l.templateType,category:l.category||"N/A",thumbnail:l.thumbnail,dateCreated:l.dateCreated,dateEdited:l.dateEdited,createdBy:l.createdBy,active:l.active,dragAndDrop:l.dragAndDrop,responsive:l.responsive,folderId:l.folderId||"N/A",screenshotUrl:l.screenshotUrl,source:l.source},sessionStorage.setItem(`metadata-${t}`,JSON.stringify(this.templateMetadata)),this.cdr.markForCheck()},error:l=>{}});let a=this.ensureDoc(e),s=this.stripDangerousBits(a);this.safeSrcdoc=this.sanitizer.bypassSecurityTrustHtml(s),this.cdr.markForCheck(),this.loadingTimer=setTimeout(()=>{this.svc.snapshot.selectedId===t&&(this.loading=!1,this.showRunButton(t),this.cdr.markForCheck())},100);return}if(this.inflightRequests.has(t)){this.loading=!0,this.cdr.markForCheck();return}this.loading=!0,this.safeSrcdoc=null,this.cdr.markForCheck();let i=this.http.get(`/api/templates/${t}`,{responseType:"json",withCredentials:!0}).subscribe({next:r=>{if(this.templateMetadata={type:r.type,templateType:r.templateType,category:r.category||"N/A",thumbnail:r.thumbnail,dateCreated:r.dateCreated,dateEdited:r.dateEdited,createdBy:r.createdBy,active:r.active,dragAndDrop:r.dragAndDrop,responsive:r.responsive,folderId:r.folderId||"N/A",screenshotUrl:r.screenshotUrl,source:r.source},sessionStorage.setItem(`metadata-${t}`,JSON.stringify(this.templateMetadata)),this.inflightRequests.delete(t),this.svc.snapshot.selectedId!==t){this.loading=!1,this.cdr.markForCheck();return}let s=r.html||"";this.cache.set(t,s);let l=this.ensureDoc(s),c=this.stripDangerousBits(l);this.safeSrcdoc=this.sanitizer.bypassSecurityTrustHtml(c),this.loadingTimer=setTimeout(()=>{this.svc.snapshot.selectedId===t&&(this.loading=!1,this.showRunButton(t),this.cdr.markForCheck())},100),this.cdr.markForCheck()},error:r=>{this.inflightRequests.delete(t),this.loading=!1,this.previewError=r?.message||"Failed to load preview.",this.cdr.markForCheck()},complete:()=>{this.inflightRequests.delete(t)}});this.inflightRequests.set(t,i)}onIframeLoad(){this.loading=!1,this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=void 0);let t=this.svc.snapshot.selectedId;t&&this.safeSrcdoc&&this.showRunButton(t),this.cdr.markForCheck()}ensureDoc(t){let e=String(t||"");return/<body[\s>]/i.test(e)||/<\/html>/i.test(e)?e:["<!doctype html><html><head>",'<meta charset="utf-8">','<meta name="viewport" content="width=device-width,initial-scale=1">',"<style>html,body{margin:0;padding:0}</style>","</head><body>",e,"</body></html>"].join("")}stripDangerousBits(t){try{let e=new DOMParser().parseFromString(t,"text/html");return e.querySelectorAll("script, iframe, base").forEach(i=>i.remove()),e.querySelectorAll("*").forEach(i=>{for(let r=i.attributes.length-1;r>=0;r--){let a=i.attributes.item(r);a&&/^on/i.test(a.name)&&i.removeAttribute(a.name)}}),`<!doctype html>
`+e.documentElement.outerHTML}catch{return t.replace(/<script[\s\S]*?<\/script>/gi,"").replace(/<base[\s\S]*?>/gi,"").replace(/<iframe[\s\S]*?<\/iframe>/gi,"")}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-templates-page"]],viewQuery:function(e,i){if(e&1&&Wo(_T,5),e&2){let r;Ki(r=qi())&&(i.scrollContainer=r.first)}},hostBindings:function(e,i){e&1&&Bt("click",function(a){return i.onDocumentClick(a)},!1,ru)},standalone:!0,features:[cn],decls:7,vars:19,consts:[["listTpl",""],["scrollContainer",""],["safeIframe",""],["class","layout",4,"ngIf"],["class","info-modal-backdrop",3,"click",4,"ngIf"],[1,"layout"],[1,"left"],[1,"search-bar-container"],[1,"search-wrapper"],[1,"search-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search templates...",1,"search-input",3,"ngModelChange","input","keyup.enter","ngModel"],[1,"search-actions"],["class","search-btn",3,"click",4,"ngIf"],["class","clear-btn",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"right"],[1,"preview-root"],["class","preview-header",4,"ngIf"],["class","modern-placeholder",4,"ngIf"],["class","preview-container",4,"ngIf"],[1,"search-btn",3,"click"],[1,"clear-btn",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"loading"],["diameter","40"],[1,"modern-list-wrapper"],[1,"list-header"],[1,"count-badge"],["d","M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"],[1,"count-number"],[1,"count-label"],[1,"category-filter-wrapper"],[1,"category-filter-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"category-icon"],["cx","12","cy","12","r","3",4,"ngIf"],["d","M12 2v20M2 12h20",4,"ngIf"],["d","m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",4,"ngIf"],["d","M12 3c7.2 0 9 1.8 9 9s-1.8 9-9 9-9-1.8-9-9 1.8-9 9-9Z",4,"ngIf"],["d","M12 15V9M15 12H9",4,"ngIf"],["x","3","y","4","width","18","height","18","rx","2",4,"ngIf"],["points","22,6 12,13 2,6",4,"ngIf"],[1,"category-label"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"dropdown-arrow"],["points","6 9 12 15 18 9"],["class","category-dropdown",4,"ngIf"],[1,"scroll-container"],[1,"tpl-list"],["class","template-item",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","error",4,"ngIf"],["cx","12","cy","12","r","3"],["d","M12 2v20M2 12h20"],["d","m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"],["d","M12 3c7.2 0 9 1.8 9 9s-1.8 9-9 9-9-1.8-9-9 1.8-9 9-9Z"],["d","M12 15V9M15 12H9"],["x","3","y","4","width","18","height","18","rx","2"],["points","22,6 12,13 2,6"],[1,"category-dropdown"],[1,"category-option",3,"click"],["class","check-mark",4,"ngIf"],[1,"check-mark"],[1,"template-item",3,"click"],[1,"item-wrapper"],[1,"item-icon"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["cx","9","cy","9","r","2"],["d","m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"],[1,"item-content"],[1,"name"],["mat-raised-button","","color","primary","class","run-btn","aria-label","QA Check",3,"click",4,"ngIf"],["class","selection-indicator",4,"ngIf"],["mat-raised-button","","color","primary","aria-label","QA Check",1,"run-btn",3,"click"],[1,"selection-indicator"],[1,"error"],[1,"preview-header"],[1,"header-content"],[1,"header-left"],[1,"template-title"],[1,"template-meta"],[1,"template-id"],[1,"header-actions"],[1,"action-buttons"],["title","Template Info",1,"action-btn","info-btn",3,"click"],["cx","12","cy","12","r","10"],["x1","12","y1","16","x2","12","y2","12"],["cx","12","cy","8","r","0.7","fill","currentColor"],["title","Delete Template",1,"action-btn","delete-btn",3,"click","disabled"],["viewBox","0 0 24 24","fill","none","stroke","currentColor"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["title","Refresh Preview",1,"action-btn","refresh-btn",3,"click"],["d","M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"],["d","M21 3v5h-5"],["d","M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"],["d","M3 21v-5h5"],["title","Toggle Fullscreen",1,"action-btn","fullscreen-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",4,"ngIf"],[1,"view-mode-toggle"],["title","Desktop View",1,"mode-btn",3,"click"],["x","2","y","3","width","20","height","14","rx","2","ry","2"],["x1","8","y1","21","x2","16","y2","21"],["x1","12","y1","17","x2","12","y2","21"],["title","Tablet View",1,"mode-btn",3,"click"],["x","4","y","2","width","16","height","20","rx","2","ry","2"],["x1","12","y1","18","x2","12.01","y2","18"],["title","Mobile View",1,"mode-btn",3,"click"],["x","5","y","2","width","14","height","20","rx","2","ry","2"],["d","M8 3H5a2 2 0 0 0-2 2v3"],["d","M21 8V5a2 2 0 0 0-2-2h-3"],["d","M3 16v3a2 2 0 0 0 2 2h3"],["d","M16 21h3a2 2 0 0 0 2-2v-3"],["d","M8 3v3a2 2 0 0 1-2 2H3"],["d","M21 8h-3a2 2 0 0 1-2-2V3"],["d","M3 16h3a2 2 0 0 1 2 2v3"],["d","M16 21v-3a2 2 0 0 1 2-2h3"],[1,"modern-placeholder"],[1,"placeholder-background"],[1,"floating-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"grid-pattern"],[1,"placeholder-content"],[1,"placeholder-icon-container"],[1,"icon-backdrop"],[1,"icon-ring"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"placeholder-icon"],["d","m15 10 4.553-2.276A1 1 0 0 1 21 8.618v6.764a1 1 0 0 1-1.447.894L15 14"],["x","3","y","6","width","12","height","12","rx","2"],[1,"placeholder-text"],[1,"feature-pills"],[1,"pill"],["d","M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"],["d","M13 2L3 14h9l-1 8 10-12h-9l1-8z"],[1,"preview-container"],["class","advanced-loader",4,"ngIf"],[1,"iframe-wrapper",3,"ngClass"],[1,"iframe-container"],["class","preview-frame","sandbox","allow-same-origin allow-forms allow-scripts","referrerpolicy","no-referrer",3,"load",4,"ngIf","ngIfElse"],["class","premium-error",4,"ngIf"],[1,"advanced-loader"],[1,"loader-background"],[1,"neural-network"],[1,"node","node-1"],[1,"node","node-2"],[1,"node","node-3"],[1,"node","node-4"],[1,"connection","connection-1"],[1,"connection","connection-2"],[1,"connection","connection-3"],[1,"loader-content"],[1,"loader-spinner"],[1,"spinner-outer"],[1,"spinner-inner"],[1,"spinner-core"],[1,"loader-text"],[1,"progress-indicator"],[1,"progress-bar"],[1,"progress-fill"],["sandbox","allow-same-origin allow-forms allow-scripts","referrerpolicy","no-referrer",1,"preview-frame",3,"load"],["class","preview-frame","sandbox","allow-same-origin allow-forms","referrerpolicy","no-referrer",3,"load",4,"ngIf"],["sandbox","allow-same-origin allow-forms","referrerpolicy","no-referrer",1,"preview-frame",3,"load"],[1,"premium-error"],[1,"error-background"],[1,"error-pattern"],[1,"error-content"],[1,"error-icon-container"],[1,"error-icon-backdrop"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"error-icon"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"error-text"],[1,"error-details"],[1,"error-actions"],[1,"retry-btn",3,"click"],[1,"support-btn"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],[1,"info-modal-backdrop",3,"click"],[1,"info-modal-content",3,"click"],[1,"info-modal-header"],[1,"close-btn",3,"click"],["class","info-grid",4,"ngIf"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"status-badge"],["class","info-item full-width",4,"ngIf"],[1,"info-item","full-width"],["target","_blank",1,"info-link",3,"href"]],template:function(e,i){if(e&1&&(It(0,JT,20,10,"div",3),on(1,"async"),on(2,"async"),on(3,"async"),on(4,"async"),on(5,"async"),It(6,n3,10,1,"div",4)),e&2){let r;tt("ngIf",Qy(13,bT,un(1,2,i.status$),(r=un(2,4,i.items$))!==null&&r!==void 0?r:af(12,yT),un(3,6,i.selectedId$),un(4,8,i.selectedName$),un(5,10,i.error$))),j(6),tt("ngIf",i.showInfoBanner)}},dependencies:[Tn,na,kr,qn,Cs,uf,Ir,bo,Co,xo,Nb,Lb,Db,Oi,ro,Mi,Pi,cr,Oo,rb],styles:['[_ngcontent-%COMP%]:root{--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--accent-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--glass-bg: rgba(255, 255, 255, .15);--glass-border: rgba(255, 255, 255, .3);--dark-glass: rgba(0, 0, 0, .05);--shadow-soft: 0 8px 32px rgba(0, 0, 0, .1);--shadow-medium: 0 16px 64px rgba(0, 0, 0, .15);--shadow-strong: 0 24px 80px rgba(0, 0, 0, .25);--border-radius: 16px;--border-radius-lg: 24px;--animation-fast: .2s cubic-bezier(.4, 0, .2, 1);--animation-smooth: .4s cubic-bezier(.4, 0, .2, 1);--animation-bounce: .6s cubic-bezier(.68, -.55, .265, 1.55)}[_nghost-%COMP%]{display:block;position:relative}.layout[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 74px);gap:0;overflow:hidden;padding:0;position:relative}.left[_ngcontent-%COMP%]{width:450px;min-width:450px;flex-shrink:0;height:100%;display:flex;flex-direction:column;overflow:hidden;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-right:2px solid #e2e8f0}.right[_ngcontent-%COMP%]{flex:1;height:100%;overflow:hidden;background:linear-gradient(135deg,#f8fafc,#e2e8f0)}.loading[_ngcontent-%COMP%]{padding:24px;display:flex;justify-content:center;align-items:center;flex:1}.error[_ngcontent-%COMP%]{margin:.75rem 1.5rem;padding:1rem 1.25rem;color:#dc2626;background:#dc262614;border:2px solid rgba(220,38,38,.2);border-radius:12px;font-weight:600;font-size:.9375rem;box-shadow:0 2px 8px #dc26261a}.search-bar-container[_ngcontent-%COMP%]{flex-shrink:0;padding:.75rem 1rem .1rem}.search-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#fff;border:2px solid #e2e8f0;border-radius:12px;box-shadow:0 4px 12px #00000014;transition:all var(--animation-fast)}.search-wrapper[_ngcontent-%COMP%]:hover{border-color:#c7d2fe;box-shadow:0 6px 20px #6366f126}.search-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#6366f1;box-shadow:0 0 0 3px #6366f11a}.search-icon[_ngcontent-%COMP%]{padding:.875rem 1rem;color:#64748b;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;padding:.875rem .5rem;font-size:.9375rem;font-weight:500;color:#1e293b;background:transparent}.search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.search-actions[_ngcontent-%COMP%]{padding:.5rem}.search-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{background:#6366f1;border:none;cursor:pointer;padding:.375rem;border-radius:6px;color:#fff;transition:all var(--animation-fast);margin-right:.25rem}.search-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background:#4f46e5}.search-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.375rem;border-radius:6px;color:#64748b;transition:all var(--animation-fast)}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#ef4444}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.modern-list-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0;flex:1;padding:.5rem .75rem 0rem;overflow:hidden}.list-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-shrink:0;margin-top:2px;margin-bottom:.2rem;animation:_ngcontent-%COMP%_slideInDown .4s ease}.count-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.875rem 1.25rem;background:linear-gradient(135deg,#fff,#f8f9ff);border:2px solid #e2e8f0;border-radius:12px;box-shadow:0 4px 12px #00000014;flex-shrink:0;flex:1}.count-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#6366f1;flex-shrink:0}.count-badge[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;color:#1e293b}.count-badge[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b}.category-filter-wrapper[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.category-filter-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.125rem;background:linear-gradient(135deg,#6d28d9,#8b5cf6);color:#fff;border:none;border-radius:12px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #6d28d940;white-space:nowrap}.category-filter-btn[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5;flex-shrink:0}.category-filter-btn[_ngcontent-%COMP%]   .category-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}.category-filter-btn[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{width:14px;height:14px;stroke-width:3;transition:transform .3s ease;margin-left:.125rem}.category-filter-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5b21b6,#7c3aed);box-shadow:0 6px 20px #6d28d959;transform:translateY(-2px)}.category-filter-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.category-filter-btn.open[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}.category-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;min-width:200px;background:#fff;border-radius:12px;box-shadow:0 12px 36px #00000026,0 0 0 1px #0000000d;z-index:1000;overflow:hidden;animation:_ngcontent-%COMP%_dropdownFadeIn .2s ease}@keyframes _ngcontent-%COMP%_dropdownFadeIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.category-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%;padding:.875rem 1rem;background:#fff;border:none;border-bottom:1px solid #f1f5f9;font-size:.875rem;font-weight:500;color:#475569;cursor:pointer;transition:all .2s ease;position:relative}.category-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#94a3b8;transition:color .2s ease}.category-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:left}.category-option[_ngcontent-%COMP%]   .check-mark[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#6d28d9}.category-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-option[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#faf5ff,#f3e8ff);color:#6d28d9}.category-option[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{color:#6d28d9}.category-option.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#faf5ff,#f3e8ff);color:#6d28d9;font-weight:600}.category-option.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6d28d9}.scroll-container[_ngcontent-%COMP%]{flex:1;max-height:100%;min-height:0;border:2px solid #e2e8f0;border-radius:12px;background:#f8fafc;box-shadow:0 4px 12px #00000014;overflow-y:scroll!important;overflow-x:hidden!important;scrollbar-width:auto;scrollbar-color:#6366f1 #e2e8f0}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:14px;background:transparent}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e2e8f0;border-radius:7px;margin:4px 0}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6366f1;border-radius:7px;border:3px solid #f8fafc;min-height:50px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#4f46e5;border-color:#e2e8f0}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background:#4338ca}.tpl-list[_ngcontent-%COMP%]{height:100%!important;overflow:visible!important;padding:.75rem!important}.template-item[_ngcontent-%COMP%]{border-radius:12px!important;margin:0 0 .75rem!important;padding:0!important;cursor:pointer;transition:all .3s ease;background:#fff;border:2px solid #e2e8f0!important;box-shadow:0 2px 8px #0000000f;min-height:72px}.template-item[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.template-item[_ngcontent-%COMP%]:hover{border-color:#c7d2fe!important;transform:translate(4px);box-shadow:0 6px 20px #6366f126}.template-item.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9ff,#f0f2ff);border-color:#6366f1!important;box-shadow:0 6px 20px #6366f133}.template-item[_ngcontent-%COMP%]:focus-visible{outline:3px solid #6366f1!important;outline-offset:2px}.template-item.mat-list-item[_ngcontent-%COMP%]{height:auto!important}.template-item.mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%], .template-item.mat-list-item[_ngcontent-%COMP%]   .mdc-list-item__content[_ngcontent-%COMP%]{padding:0!important;height:100%!important}.item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem;position:relative}.item-icon[_ngcontent-%COMP%]{width:44px;height:44px;min-width:44px;background:linear-gradient(135deg,#f0f0ff,#e8e8ff);border:2px solid #e0e7ff;border-radius:12px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.item-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px;color:#6366f1}.item-content[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.75rem;min-width:0}.name[_ngcontent-%COMP%]{flex:1;font-size:.9375rem;font-weight:700;color:#1e293b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.run-btn[_ngcontent-%COMP%]{flex-shrink:0;border-radius:10px!important;padding:.625rem 1.125rem!important;font-size:.8125rem!important;font-weight:700!important;background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;box-shadow:0 4px 12px #10b9814d!important}.run-btn[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #10b98166!important}.run-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px!important;width:18px!important;height:18px!important}.selection-indicator[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:60%;background:linear-gradient(180deg,#6366f1,#8b5cf6);border-radius:0 4px 4px 0;animation:_ngcontent-%COMP%_slideInLeft .3s ease}.template-item[_ngcontent-%COMP%]:hover   .item-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e0e7ff,#c7d2fe);transform:scale(1.05) rotate(3deg)}.template-item[_ngcontent-%COMP%]:hover   .name[_ngcontent-%COMP%]{color:#6366f1}.template-item.selected[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6)}.template-item.selected[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff}.template-item.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#6366f1}.preview-root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:linear-gradient(135deg,#f8fafc,#e2e8f0);overflow:hidden;position:relative;z-index:1;transition:all var(--animation-smooth)}.preview-root[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(120,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgba(120,219,255,.2) 0%,transparent 50%);pointer-events:none;animation:_ngcontent-%COMP%_gradient-shift 15s ease infinite}.preview-root.fullscreen[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999}.preview-header[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#6d28d9,#5b21b6);padding:clamp(.75rem,2vw,1rem) clamp(1rem,3vw,1.5rem);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.2);overflow:hidden;box-shadow:0 4px 24px #0000001a;min-height:auto;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;gap:clamp(.5rem,2vw,.75rem);max-width:1400px;margin:0 auto}.preview-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;flex:1;width:100%;flex-wrap:wrap}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{margin:0;font-size:clamp(1.25rem,4vw,1.5rem);font-weight:800;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.3);letter-spacing:-.02em;text-align:center;word-break:break-word;padding-bottom:.2rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap;justify-content:center}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#ffffff40;border:1px solid rgba(255,255,255,.4);border-radius:24px;font-size:clamp(.75rem,2.5vw,.875rem);font-weight:700;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #00000026;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background:#10b981;border-radius:50%;box-shadow:0 0 0 2px #10b98166;animation:_ngcontent-%COMP%_pulse-status 2s infinite;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%]{font-size:clamp(.75rem,2vw,.8125rem);color:#fff;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,.3);opacity:.95;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:linear-gradient(135deg,#fbbf24,#f59e0b);border:1px solid #d97706;border-radius:24px;font-size:clamp(.75rem,2.5vw,.875rem);font-weight:700;color:#78350f;box-shadow:0 2px 8px #f59e0b4d;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;stroke-width:2.5;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;flex-shrink:0;width:100%;flex-wrap:wrap}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1rem;border:1px solid rgba(255,255,255,.35);background:#fff3;color:#fff;border-radius:10px;font-size:clamp(.75rem,2.5vw,.875rem);font-weight:700;cursor:pointer;transition:all var(--animation-fast);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #0000001a;white-space:nowrap;min-width:auto}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;box-shadow:0 6px 16px #0003}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.refresh-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin-refresh .6s ease}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]{display:flex;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:12px;padding:4px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);flex-wrap:nowrap;overflow:hidden}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .75rem;border:none;background:transparent;color:#ffffffd9;border-radius:8px;font-size:clamp(.7rem,2vw,.8125rem);font-weight:600;cursor:pointer;transition:all var(--animation-fast);white-space:nowrap;min-width:auto}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#fff3}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn.active[_ngcontent-%COMP%]{color:#fff;background:#ffffff59;box-shadow:0 2px 8px #00000026}.modern-placeholder[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;padding:1rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]{position:absolute;inset:0}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;background:var(--accent-gradient);border-radius:50%;opacity:.12;filter:blur(40px);animation:_ngcontent-%COMP%_float-shapes 12s ease-in-out infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:clamp(100px,20vw,200px);height:clamp(100px,20vw,200px);top:15%;left:8%;animation-delay:0s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:clamp(75px,15vw,150px);height:clamp(75px,15vw,150px);top:55%;right:12%;animation-delay:-3s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:clamp(125px,25vw,250px);height:clamp(125px,25vw,250px);bottom:18%;left:18%;animation-delay:-6s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-4[_ngcontent-%COMP%]{width:clamp(90px,18vw,180px);height:clamp(90px,18vw,180px);top:8%;right:25%;animation-delay:-9s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .grid-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(99,102,241,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(99,102,241,.03) 1px,transparent 1px);background-size:clamp(25px,5vw,50px) clamp(25px,5vw,50px);animation:_ngcontent-%COMP%_grid-move 20s linear infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:min(90vw,560px);padding:clamp(1rem,4vw,2rem);animation:_ngcontent-%COMP%_fadeInUp var(--animation-bounce)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]{position:relative;margin:0 auto clamp(1.5rem,4vw,2.5rem);width:clamp(80px,20vw,140px);height:clamp(80px,20vw,140px)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--success-gradient);border-radius:50%;opacity:.12;animation:_ngcontent-%COMP%_pulse-backdrop 3s ease-in-out infinite;filter:blur(20px)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-ring[_ngcontent-%COMP%]{position:absolute;inset:-10px;border:2px solid rgba(99,102,241,.2);border-radius:50%;animation:_ngcontent-%COMP%_rotate-ring 8s linear infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-ring[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;width:clamp(6px,2vw,8px);height:clamp(6px,2vw,8px);background:#6366f1;border-radius:50%;transform:translate(-50%,-50%);box-shadow:0 0 12px #6366f199}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#6366f1;stroke-width:1.5;animation:_ngcontent-%COMP%_float-icon 4s ease-in-out infinite;filter:drop-shadow(0 4px 12px rgba(99,102,241,.2))}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{margin-bottom:clamp(1.5rem,4vw,2.5rem)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1.75rem,5vw,2.5rem);font-weight:900;background:linear-gradient(135deg,#1f2937,#6366f1);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0 0 clamp(.75rem,3vw,1.25rem) 0;letter-spacing:-.03em;line-height:1.2}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(1rem,3vw,1.25rem);color:#64748b;line-height:1.7;margin:0;font-weight:500}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:clamp(.75rem,3vw,1.25rem);flex-wrap:wrap}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:clamp(.75rem,2vw,.875rem) clamp(1rem,3vw,1.5rem);background:#fff;border:2px solid #e2e8f0;border-radius:50px;font-size:clamp(.875rem,2.5vw,.9375rem);font-weight:700;color:#475569;box-shadow:var(--shadow-soft);transition:all var(--animation-smooth);animation:_ngcontent-%COMP%_slideInUp var(--animation-smooth);animation-fill-mode:both;cursor:default;white-space:nowrap}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(1){animation-delay:.15s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(2){animation-delay:.25s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(3){animation-delay:.35s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(14px,4vw,18px);height:clamp(14px,4vw,18px);stroke-width:2.5;transition:all var(--animation-fast);flex-shrink:0}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-medium);color:#6366f1;background:linear-gradient(135deg,#fff,#f8f9ff)}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg)}.preview-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative;z-index:1;margin:0;background:#fff;border-radius:0;box-shadow:none;overflow:hidden;animation:_ngcontent-%COMP%_scaleIn var(--animation-smooth)}.advanced-loader[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffffffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:.08}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{position:absolute;width:clamp(6px,2vw,10px);height:clamp(6px,2vw,10px);background:#6366f1;border-radius:50%;box-shadow:0 0 20px #6366f180;animation:_ngcontent-%COMP%_node-pulse 2s ease-in-out infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-1[_ngcontent-%COMP%]{top:25%;left:25%;animation-delay:0s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-2[_ngcontent-%COMP%]{top:25%;right:25%;animation-delay:.5s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-3[_ngcontent-%COMP%]{bottom:25%;left:25%;animation-delay:1s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-4[_ngcontent-%COMP%]{bottom:25%;right:25%;animation-delay:1.5s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection[_ngcontent-%COMP%]{position:absolute;height:clamp(2px,.5vw,3px);background:linear-gradient(90deg,transparent,#6366f1,transparent);animation:_ngcontent-%COMP%_connection-flow 3s ease-in-out infinite;box-shadow:0 0 10px #6366f14d}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-1[_ngcontent-%COMP%]{top:25%;left:25%;right:25%;animation-delay:0s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-2[_ngcontent-%COMP%]{bottom:25%;left:25%;right:25%;animation-delay:1s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-3[_ngcontent-%COMP%]{top:25%;bottom:25%;left:25%;width:clamp(2px,.5vw,3px);height:auto;background:linear-gradient(180deg,transparent,#6366f1,transparent);animation-delay:2s}.advanced-loader[_ngcontent-%COMP%]   .loader-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:90vw;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{position:relative;width:clamp(50px,12vw,80px);height:clamp(50px,12vw,80px);margin:clamp(1rem,2vw,1rem) auto clamp(1.5rem,4vw,2.5rem)}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{position:absolute;border:clamp(2px,.5vw,3px) solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin-loader 1.2s linear infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%]{width:100%;height:100%;border-top-color:#6366f1;border-right-color:#6366f1;box-shadow:0 0 20px #6366f14d}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%]{width:70%;height:70%;top:15%;left:15%;border-top-color:#8b5cf6;border-left-color:#8b5cf6;animation:_ngcontent-%COMP%_spin-loader 1.2s linear infinite reverse;animation-delay:-.4s;box-shadow:0 0 15px #8b5cf64d}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{width:40%;height:40%;top:30%;left:30%;border-top-color:#06b6d4;border-bottom-color:#06b6d4;animation:_ngcontent-%COMP%_spin-loader 1.2s linear infinite;animation-delay:-.8s;box-shadow:0 0 10px #06b6d44d}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:clamp(1.25rem,4vw,1.5rem);font-weight:800;color:#1f2937;margin:0 0 clamp(.5rem,2vw,.75rem) 0;letter-spacing:-.02em}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(.875rem,3vw,1rem);color:#6b7280;margin:0 0 clamp(1.5rem,4vw,2rem) 0;font-weight:500}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:min(90vw,350px);margin:0 auto}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:clamp(6px,1.5vw,8px);background:#e5e7eb;border-radius:4px;overflow:hidden;box-shadow:inset 0 2px 4px #0000000f}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(135deg,#4facfe,#00f2fe);border-radius:4px;width:0%;animation:_ngcontent-%COMP%_progress-flow 2.5s ease-in-out infinite;box-shadow:0 0 10px #4facfe80}.iframe-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;background:#fff;display:flex;align-items:center;justify-content:center;padding:0}.iframe-wrapper[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:opacity .3s cubic-bezier(.4,0,.2,1);box-shadow:none;border-radius:0;overflow:hidden;background:#fff;opacity:1}.iframe-wrapper.loading[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{opacity:0}.iframe-wrapper[_ngcontent-%COMP%]   .preview-frame[_ngcontent-%COMP%]{width:100%;height:100%;border:none;border-radius:0!important;background:#fff;transition:all var(--animation-smooth)}.iframe-wrapper.desktop-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100%;height:100%}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(768px,85vw);height:100%;box-shadow:0 8px 32px #0000001f;border-radius:12px}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(375px,50vw);height:100%;box-shadow:0 8px 32px #0000001f;border-radius:12px}.premium-error[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:50;padding:1rem}.premium-error[_ngcontent-%COMP%]   .error-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#fef2f2,#fff7f7)}.premium-error[_ngcontent-%COMP%]   .error-background[_ngcontent-%COMP%]   .error-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:radial-gradient(circle at 2px 2px,rgba(239,68,68,.08) 2px,transparent 0);background-size:clamp(12px,3vw,24px) clamp(12px,3vw,24px);animation:_ngcontent-%COMP%_pattern-shift 20s linear infinite}.premium-error[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:min(90vw,480px);padding:clamp(1.5rem,4vw,2.5rem);animation:_ngcontent-%COMP%_bounceIn var(--animation-bounce)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]{position:relative;margin:0 auto clamp(1.5rem,4vw,2rem);width:clamp(60px,15vw,100px);height:clamp(60px,15vw,100px)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]   .error-icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--accent-gradient);border-radius:50%;opacity:.15;animation:_ngcontent-%COMP%_error-pulse 2s ease-in-out infinite;filter:blur(20px)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#ef4444;stroke-width:2;animation:_ngcontent-%COMP%_shake-error .5s ease-in-out;filter:drop-shadow(0 4px 12px rgba(239,68,68,.3))}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{margin-bottom:clamp(1.5rem,4vw,2.5rem)}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:clamp(1.25rem,4vw,1.75rem);font-weight:800;color:#dc2626;margin:0 0 clamp(.75rem,2vw,1rem) 0;letter-spacing:-.02em}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(1rem,3vw,1.125rem);color:#7f1d1d;margin:0 0 clamp(.5rem,2vw,.75rem) 0;font-weight:600}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{font-size:clamp(.875rem,2.5vw,1rem);color:#991b1b;opacity:.9;font-weight:500}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:clamp(.75rem,3vw,1.25rem);flex-wrap:wrap}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:clamp(.75rem,2vw,.875rem) clamp(1.25rem,3vw,1.75rem);border:none;border-radius:10px;font-size:clamp(.875rem,2.5vw,.9375rem);font-weight:700;cursor:pointer;transition:all var(--animation-fast);position:relative;overflow:hidden;white-space:nowrap}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:before, .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#fff3;transform:translate(-100%);transition:transform var(--animation-smooth)}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(14px,4vw,18px);height:clamp(14px,4vw,18px);position:relative;z-index:1;flex-shrink:0}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover:before, .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:hover:before{transform:translate(0)}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 16px #ef44444d}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 32px #ef444466}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]{background:#fff;color:#ef4444;border:2px solid #ef4444;box-shadow:0 2px 8px #ef44441a}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff;transform:translateY(-3px);box-shadow:0 12px 32px #ef44444d}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.4)}50%{opacity:1;transform:scale(1.08)}70%{transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translateY(-50%) translate(-10px)}to{opacity:1;transform:translateY(-50%) translate(0)}}@keyframes _ngcontent-%COMP%_spin-loader{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_spin-refresh{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_progress-flow{0%{width:0%;opacity:.5}50%{width:75%;opacity:1}to{width:100%;opacity:.8}}@keyframes _ngcontent-%COMP%_node-pulse{0%,to{opacity:.3;transform:scale(1);box-shadow:0 0 20px #6366f14d}50%{opacity:1;transform:scale(1.8);box-shadow:0 0 30px #6366f199}}@keyframes _ngcontent-%COMP%_connection-flow{0%,to{opacity:.3}50%{opacity:1}}@keyframes _ngcontent-%COMP%_gradient-shift{0%,to{opacity:1}50%{opacity:.8}}@keyframes _ngcontent-%COMP%_grid-move{0%{transform:translate(0)}to{transform:translate(50px,50px)}}@keyframes _ngcontent-%COMP%_float-shapes{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-40px,-40px) rotate(120deg)}66%{transform:translate(40px,40px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_float-icon{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(5deg)}}@keyframes _ngcontent-%COMP%_rotate-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-backdrop{0%,to{transform:scale(1);opacity:.12}50%{transform:scale(1.15);opacity:.25}}@keyframes _ngcontent-%COMP%_pulse-status{0%,to{opacity:1;transform:scale(1);box-shadow:0 0 0 3px #10b98166}50%{opacity:.6;transform:scale(1.3);box-shadow:0 0 0 6px #10b9811a}}@keyframes _ngcontent-%COMP%_error-pulse{0%,to{transform:scale(1);opacity:.15}50%{transform:scale(1.25);opacity:.35}}@keyframes _ngcontent-%COMP%_shake-error{0%,to{transform:translate(0) rotate(0)}10%,30%,50%,70%,90%{transform:translate(-6px) rotate(-2deg)}20%,40%,60%,80%{transform:translate(6px) rotate(2deg)}}@keyframes _ngcontent-%COMP%_pattern-shift{0%{transform:translate(0) translateY(0)}to{transform:translate(24px) translateY(24px)}}@media (max-width: 1200px){.layout[_ngcontent-%COMP%]{height:calc(100vh - 10px)}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:.875rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(768px,90vw)}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(375px,60vw)}}@media (max-width: 1024px){.left[_ngcontent-%COMP%]{width:380px;min-width:380px}.layout[_ngcontent-%COMP%]{height:calc(100vh - 10px)}.preview-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.875rem}.preview-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.75rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{order:2;width:100%;justify-content:center}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{order:3;width:100%;justify-content:center;flex-wrap:wrap;gap:.75rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:.875rem}}@media (max-width: 1021px){.run-btn[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important}.run-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.run-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0!important}}@media (max-width: 768px){.layout[_ngcontent-%COMP%]{flex-direction:row;height:100vh}.left[_ngcontent-%COMP%]{width:45%;min-width:300px;height:100%;max-height:none;border-right:none;border-bottom:2px solid #e2e8f0;overflow:hidden}.right[_ngcontent-%COMP%]{width:55%;flex:none;height:100%}.list-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}.count-badge[_ngcontent-%COMP%], .category-filter-wrapper[_ngcontent-%COMP%]{width:100%}.category-filter-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.category-dropdown[_ngcontent-%COMP%]{left:0;right:0;min-width:unset}.scroll-container[_ngcontent-%COMP%]{min-height:750px}.modern-list-wrapper[_ngcontent-%COMP%]{padding:.625rem}.count-badge[_ngcontent-%COMP%]{padding:.75rem 1rem;margin-bottom:.875rem}.count-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.count-badge[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{font-size:1.125rem}.count-badge[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{font-size:.8125rem}.tpl-list[_ngcontent-%COMP%]{padding:.625rem!important}.template-item[_ngcontent-%COMP%]{margin-bottom:.625rem!important;min-height:64px}.item-wrapper[_ngcontent-%COMP%]{padding:.875rem 1rem;gap:.875rem}.item-icon[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px}.item-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.name[_ngcontent-%COMP%]{font-size:.875rem}.run-btn[_ngcontent-%COMP%]{padding:.5rem .875rem!important;font-size:.75rem!important}.run-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.run-btn[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important;width:100%!important;height:100%!important}.run-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0!important;font-size:18px!important;width:18px!important;height:18px!important}.preview-root[_ngcontent-%COMP%]{height:100%}.preview-header[_ngcontent-%COMP%]{padding:clamp(.5rem,1.5vw,.75rem) clamp(.75rem,2vw,1rem);min-height:auto}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:clamp(1rem,3.5vw,1.25rem);text-align:center;line-height:1.2;margin:0}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:clamp(.25rem,1vw,.375rem);flex-wrap:wrap;justify-content:center}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:clamp(.625rem,2vw,.75rem);padding:clamp(.25rem,1vw,.375rem) clamp(.5rem,2vw,.75rem);border-radius:clamp(12px,3vw,16px)}.preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:clamp(.375rem,1.5vw,.5rem) clamp(.5rem,2vw,.75rem);font-size:clamp(.625rem,2vw,.75rem)}.preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{padding:clamp(.25rem,1vw,.375rem) clamp(.375rem,1.5vw,.5rem);font-size:clamp(.6rem,1.8vw,.7rem)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%], .iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:95vw;box-shadow:0 4px 16px #0000001a;border-radius:8px}}@media (max-width: 635px){.layout[_ngcontent-%COMP%]{flex-direction:column;height:auto;min-height:100vh;overflow-y:auto;overflow-x:hidden;position:relative}.left[_ngcontent-%COMP%]{width:100%;min-width:auto;height:100vh;max-height:100vh;border-right:none;border-bottom:2px solid #e2e8f0;overflow:hidden;flex-shrink:0;position:relative;z-index:1}.right[_ngcontent-%COMP%]{width:100%;height:100vh;min-height:100vh;overflow:hidden;flex-shrink:0;position:relative;z-index:0}.scroll-container[_ngcontent-%COMP%]{min-height:0;max-height:100%;overflow-y:auto!important;overflow-x:hidden!important}}@media (max-width: 480px){.layout[_ngcontent-%COMP%]{flex-direction:column;height:auto;min-height:100vh;overflow-y:auto;overflow-x:hidden;position:relative}.left[_ngcontent-%COMP%]{width:100%;min-width:auto;height:100vh;max-height:100vh;border-right:none;border-bottom:2px solid #e2e8f0;overflow:hidden;flex-shrink:0;position:relative;z-index:1}.right[_ngcontent-%COMP%]{width:100%;height:100vh;min-height:100vh;overflow:hidden;flex-shrink:0;position:relative;z-index:0}.scroll-container[_ngcontent-%COMP%]{min-height:0;max-height:100%;overflow-y:auto!important;overflow-x:hidden!important;scrollbar-width:auto;scrollbar-color:#6366f1 #e2e8f0}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e2e8f0;border-radius:6px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6366f1;border-radius:6px;border:2px solid #f8fafc}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#4f46e5}.count-badge[_ngcontent-%COMP%]{padding:.625rem .875rem;gap:.625rem}.count-badge[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{font-size:1rem}.count-badge[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{font-size:.75rem}.category-filter-btn[_ngcontent-%COMP%]{padding:.625rem .875rem;font-size:.8125rem}.category-filter-btn[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:16px;height:16px}.category-filter-btn[_ngcontent-%COMP%]   .category-label[_ngcontent-%COMP%]{font-size:.8125rem}.category-filter-btn[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{width:12px;height:12px}.category-option[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.8125rem}.category-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.item-wrapper[_ngcontent-%COMP%]{gap:.75rem;padding:.75rem .875rem}.item-icon[_ngcontent-%COMP%]{width:36px;height:36px;min-width:36px}.item-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.template-item[_ngcontent-%COMP%]{margin-bottom:.5rem!important;min-height:60px}.preview-header[_ngcontent-%COMP%]{padding:clamp(.375rem,1vw,.5rem) clamp(.75rem,2vw,.875rem)}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:clamp(.875rem,3vw,1.125rem);line-height:1.1}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:clamp(.1875rem,.75vw,.25rem)}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:clamp(.5625rem,1.8vw,.6875rem);padding:clamp(.1875rem,.75vw,.25rem) clamp(.375rem,1.5vw,.625rem);border-radius:clamp(8px,2vw,12px)}.preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:clamp(.25rem,1vw,.375rem) clamp(.375rem,1.5vw,.625rem);border-radius:clamp(4px,1.5vw,6px)}.preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(10px,2.5vw,12px);height:clamp(10px,2.5vw,12px)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]{padding:clamp(1px,.3vw,2px);border-radius:clamp(4px,1.5vw,6px)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{padding:clamp(.1875rem,.75vw,.25rem) clamp(.25rem,1vw,.375rem);border-radius:clamp(3px,1vw,4px)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(6px,2vw,8px);height:clamp(6px,2vw,8px)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.5rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.75rem;width:auto;max-width:200px}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100vw;border-radius:0;box-shadow:none}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100vw;border-radius:4px}}@media (max-width: 768px) and (min-width: 636px){.left[_ngcontent-%COMP%]{width:45%;min-width:300px}.right[_ngcontent-%COMP%]{width:55%}}@media (max-height: 500px) and (orientation: landscape) and (min-width: 900px){.layout[_ngcontent-%COMP%]{flex-direction:row!important;height:100vh!important;overflow:hidden!important}.left[_ngcontent-%COMP%]{width:35%!important;min-width:280px!important;height:100vh!important;max-height:100vh!important;border-right:2px solid #e2e8f0!important;border-bottom:none!important}.list-header[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important;gap:.5rem!important}.category-filter-wrapper[_ngcontent-%COMP%]{width:100%!important}.category-filter-btn[_ngcontent-%COMP%]{width:100%!important;justify-content:center!important}.right[_ngcontent-%COMP%]{width:65%!important;height:100vh!important;max-height:100vh!important;overflow-y:auto!important;overflow-x:hidden!important}.preview-header[_ngcontent-%COMP%]{position:sticky!important;top:0!important;z-index:100!important;padding:.5rem .75rem}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column!important;justify-content:center!important;align-items:center!important;gap:.5rem!important}.preview-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex-direction:row!important;align-items:center!important;justify-content:center!important;gap:.75rem!important;width:100%!important}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{order:initial;width:auto!important;flex-wrap:nowrap!important;gap:.5rem}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{order:initial;width:100%!important;flex-wrap:wrap!important;gap:.5rem;justify-content:center!important}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:left;gap:2rem;max-width:90vw}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]{margin:0;flex-shrink:0}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{margin-bottom:1rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:left}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;text-align:left}}@media (max-height: 500px) and (orientation: landscape) and (max-width: 899px){.layout[_ngcontent-%COMP%]{flex-direction:column!important;height:auto!important;min-height:100vh!important;overflow-y:auto!important;overflow-x:hidden!important}.left[_ngcontent-%COMP%]{width:100%!important;min-width:auto!important;height:100vh!important;max-height:100vh!important;border-right:none!important;border-bottom:2px solid #e2e8f0!important}.list-header[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important;gap:.5rem!important}.category-filter-wrapper[_ngcontent-%COMP%]{width:100%!important}.category-filter-btn[_ngcontent-%COMP%]{width:100%!important;justify-content:center!important}.right[_ngcontent-%COMP%]{width:100%!important;height:100vh!important;min-height:100vh!important;overflow:hidden!important}.preview-header[_ngcontent-%COMP%]{padding:.5rem .75rem}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column!important;justify-content:center!important;align-items:center!important;gap:.5rem!important}.preview-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex-direction:row!important;align-items:center!important;justify-content:center!important;gap:.75rem!important;width:100%!important}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{order:initial;width:auto!important;flex-wrap:nowrap!important;gap:.5rem}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{order:initial;width:100%!important;flex-wrap:wrap!important;gap:.5rem;justify-content:center!important}.preview-header[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{justify-content:flex-start;gap:.5rem}.preview-header[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.75rem}}@media (prefers-color-scheme: dark){.layout[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b);border-color:#475569}.layout[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#334155)}.error[_ngcontent-%COMP%]{background:#dc262626;border-color:#dc262666;color:#fca5a5}.search-wrapper[_ngcontent-%COMP%]{background:#334155;border-color:#475569}.search-wrapper[_ngcontent-%COMP%]:hover{border-color:#8b5cf6}.search-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#a78bfa}.search-icon[_ngcontent-%COMP%]{color:#94a3b8}.search-input[_ngcontent-%COMP%]{color:#f1f5f9}.search-input[_ngcontent-%COMP%]::placeholder{color:#64748b}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{color:#94a3b8}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background:#1e293b;color:#f87171}.scroll-container[_ngcontent-%COMP%]{background:#334155;border-color:#475569;scrollbar-color:#8b5cf6 #1e293b}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e293b}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#8b5cf6,#a78bfa)}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#7c3aed,#9333ea)}.count-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#334155,#3d4a5c);border-color:#475569}.count-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#a78bfa}.count-badge[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{color:#f1f5f9}.count-badge[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{color:#94a3b8}.template-item[_ngcontent-%COMP%]{background:#334155;border-color:#475569!important}.template-item[_ngcontent-%COMP%]:hover{border-color:#8b5cf6!important;background:#3d4a5c}.template-item.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d4a5c,#4c5a6c);border-color:#8b5cf6!important}.name[_ngcontent-%COMP%]{color:#cbd5e1}.preview-root[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b)}.preview-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4c1d95,#3730a3)}.preview-container[_ngcontent-%COMP%]{background:#1e293b}.iframe-wrapper[_ngcontent-%COMP%]{background:#0f172a}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{background:#1e293bcc;border-color:#475569;color:#cbd5e1}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover{background:#6366f11a;border-color:#6366f1;color:#a5b4fc}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]{background:#0f172afa}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f1f5f9}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}.floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%], .neural-network[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .neural-network[_ngcontent-%COMP%]   .connection[_ngcontent-%COMP%], .grid-pattern[_ngcontent-%COMP%]{animation:none!important}}@media (prefers-contrast: high){.preview-header[_ngcontent-%COMP%]{background:#000;border-bottom:2px solid #fff}.template-title[_ngcontent-%COMP%], .template-meta[_ngcontent-%COMP%], .action-btn[_ngcontent-%COMP%], .mode-btn[_ngcontent-%COMP%]{color:#fff!important;border-color:#fff!important}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:#000;-webkit-background-clip:initial;-webkit-text-fill-color:initial;background-clip:initial;color:#000}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{background:#fff;border:2px solid #000;color:#000}.template-item[_ngcontent-%COMP%]{border:2px solid #000!important}.template-item.selected[_ngcontent-%COMP%]{background:#000!important;color:#fff!important}}.action-btn[_ngcontent-%COMP%], .mode-btn[_ngcontent-%COMP%], .loader-spinner[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%], .placeholder-icon[_ngcontent-%COMP%], .error-icon[_ngcontent-%COMP%], .template-item[_ngcontent-%COMP%]{will-change:transform;transform:translateZ(0);backface-visibility:hidden}@media print{.preview-root[_ngcontent-%COMP%]{height:auto;background:#fff}.preview-header[_ngcontent-%COMP%]{background:#6d28d9;color:#fff;-webkit-print-color-adjust:exact;print-color-adjust:exact}.modern-placeholder[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]{page-break-inside:avoid}.left[_ngcontent-%COMP%]{display:none}.right[_ngcontent-%COMP%]{width:100%}}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{padding:clamp(.5rem,1.5vw,.75rem) clamp(.75rem,2vw,1rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:clamp(.375rem,1vw,.5rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:clamp(1rem,3vw,1.25rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:clamp(.25rem,1vw,.375rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%], .preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:clamp(.625rem,2vw,.75rem);padding:clamp(.25rem,1vw,.375rem) clamp(.5rem,1.5vw,.75rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:clamp(.375rem,1vw,.5rem) clamp(.5rem,1.5vw,.75rem);font-size:clamp(.625rem,2vw,.75rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{padding:clamp(.25rem,1vw,.375rem) clamp(.375rem,1.5vw,.5rem);font-size:clamp(.6rem,1.8vw,.7rem)}@media (max-width: 768px){.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{padding:clamp(.375rem,1vw,.5rem) clamp(.5rem,1.5vw,.75rem)}}.info-btn.active[_ngcontent-%COMP%]{background:#fff6!important;border-color:#fff9!important;box-shadow:0 4px 16px #ffffff4d!important}.delete-btn[_ngcontent-%COMP%]:hover{background:#ef44444d!important;border-color:#ef444499!important;color:#fee2e2!important}.delete-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-delete .3s ease}@keyframes _ngcontent-%COMP%_shake-delete{0%,to{transform:translate(0)}25%{transform:translate(-3px)}75%{transform:translate(3px)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.info-item[_ngcontent-%COMP%]:hover{background:#fff3;border-color:#ffffff59;transform:translateY(-2px)}.info-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#ffffffb3}.info-value[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#fff;word-break:break-word}.info-value[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;background:#ef444433;border:1px solid rgba(239,68,68,.4);border-radius:12px;font-size:.8125rem;font-weight:700;color:#fecaca}.info-value[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:#10b98133;border-color:#10b98166;color:#6ee7b7}.info-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#fff;text-decoration:none;font-weight:600;transition:all .2s ease;padding:.5rem 0}.info-link[_ngcontent-%COMP%]:hover{color:#93c5fd;transform:translate(4px)}@media (max-width: 1024px){.info-banner[_ngcontent-%COMP%]{padding:1.25rem}.info-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:.75rem}.info-item[_ngcontent-%COMP%]{padding:.875rem}}@media (max-width: 768px){.info-banner[_ngcontent-%COMP%]{padding:1rem}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:.625rem}.info-item[_ngcontent-%COMP%]{padding:.75rem}.info-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.info-label[_ngcontent-%COMP%]{font-size:.6875rem}.info-value[_ngcontent-%COMP%]{font-size:.875rem}}@media (max-width: 480px){.info-banner[_ngcontent-%COMP%]{padding:.875rem;margin-top:.75rem}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem}.info-item[_ngcontent-%COMP%]{padding:.625rem}.action-buttons[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .info-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media (prefers-color-scheme: dark){.info-banner[_ngcontent-%COMP%]{background:#1e293b99;border-color:#47556966}.info-item[_ngcontent-%COMP%]{background:#1e293b66;border-color:#4755694d}.info-item[_ngcontent-%COMP%]:hover{background:#33415580;border-color:#64748b66}.info-label[_ngcontent-%COMP%]{color:#e2e8f0b3}.info-value[_ngcontent-%COMP%]{color:#e2e8f0}.info-link[_ngcontent-%COMP%]{color:#93c5fd}.info-link[_ngcontent-%COMP%]:hover{color:#60a5fa}}.info-modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;background:#0009;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;padding:1.5rem;animation:_ngcontent-%COMP%_fadeIn .2s ease;overflow-y:auto}.info-modal-content[_ngcontent-%COMP%]{position:relative;z-index:10000;width:90%;max-width:900px;max-height:90vh;background:linear-gradient(135deg,#6d28d9,#5b21b6);border-radius:24px;box-shadow:0 24px 80px #00000080;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.34,1.56,.64,1);overflow:hidden;display:flex;flex-direction:column;margin:auto}.info-modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;border-bottom:1px solid rgba(255,255,255,.2);flex-shrink:0}.info-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:800;color:#fff;letter-spacing:-.02em}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.25);border-radius:10px;padding:.625rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#fff}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:rotate(90deg) scale(1.1);border-color:#fff6}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:active{transform:rotate(90deg) scale(.95)}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{padding:2rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;overflow-y:auto;overflow-x:hidden;flex:1;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.3) rgba(255,255,255,.1)}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:5px;margin:8px}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:5px}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:1rem;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .2s ease}.info-item[_ngcontent-%COMP%]:hover{background:#ffffff26;border-color:#ffffff59;transform:translateY(-2px)}.info-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(50px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.info-modal-content[_ngcontent-%COMP%]{max-width:95vw;max-height:90vh}.info-modal-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.info-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{padding:1.5rem;grid-template-columns:1fr 1fr;gap:.75rem}}@media (max-width: 480px){.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-height: 600px) and (orientation: landscape){.info-modal-backdrop[_ngcontent-%COMP%]{padding:1rem;align-items:center;overflow-y:auto}.info-modal-content[_ngcontent-%COMP%]{max-width:90vw;max-height:95vh;margin:auto}.info-modal-header[_ngcontent-%COMP%]{padding:.75rem 1.25rem}.info-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{padding:.5rem}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{padding:1rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.75rem}.info-item[_ngcontent-%COMP%]{padding:.75rem}}@media (max-height: 400px) and (orientation: landscape){.info-modal-content[_ngcontent-%COMP%]{max-height:98vh}.info-modal-header[_ngcontent-%COMP%]{padding:.5rem 1rem}.info-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}.info-item[_ngcontent-%COMP%]{padding:.5rem .75rem}}'],data:{animation:[Jn("fadeInOut",[hl("in",$e({opacity:1})),hl("out",$e({opacity:0})),In("* => in",[$e({opacity:0}),En("300ms ease-in",$e({opacity:1}))]),In("in => out",[En("300ms ease-out",$e({opacity:0}))])]),Jn("bounceIn",[In(":enter",[$e({opacity:0,transform:"scale(0.3)"}),En("300ms ease-in",$e({opacity:1,transform:"scale(1.05)"})),En("100ms ease-out",$e({transform:"scale(1)"}))])])]},changeDetection:0})}}return o})();function i3(o,n){if(o&1){let t=fe();x(0,"button",53),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.onEditOriginalTemplate())}),Xt(),x(1,"svg",22),vt(2,"path",37),P()()}}function r3(o,n){o&1&&(x(0,"div",21),Xt(),x(1,"svg",22),vt(2,"path",54),P()())}function o3(o,n){if(o&1){let t=fe();x(0,"button",55),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.onSkipToChat())}),Xt(),x(1,"svg",22),vt(2,"path",56),P()()}}function a3(o,n){o&1&&(x(0,"span",35)(1,"span",36),Xt(),x(2,"svg",22),vt(3,"path",57),P()(),ie(),x(4,"span",38),I(5,"Run Test"),P(),vt(6,"span",39),P())}function s3(o,n){o&1&&(x(0,"span",58),vt(1,"span",59),x(2,"span",60),I(3,"Cancel"),P()())}function l3(o,n){if(o&1&&(x(0,"span",61),I(1),on(2,"async"),P()),o&2){let t,e=ct(2);j(),Fe(" ",(t=un(2,1,e.golden$))==null||t.failedEdits==null?null:t.failedEdits.length," ")}}function c3(o,n){o&1&&(x(0,"span",35)(1,"span",36),Xt(),x(2,"svg",22),vt(3,"path",62),P()(),ie(),x(4,"span",38),I(5,"Generate Variants"),P(),vt(6,"span",63),P())}function d3(o,n){o&1&&(x(0,"span",58),vt(1,"span",59),x(2,"span",60),I(3,"Cancel"),P()())}function u3(o,n){if(o&1&&(x(0,"div",83)(1,"div",72),Xt(),x(2,"svg",22),vt(3,"path",84),P()(),ie(),x(4,"div",74)(5,"span",75),I(6),P(),x(7,"span",76),I(8,"Failed"),P()()()),o&2){let t=ct(2).ngIf;j(6),Jt((t.stats==null?null:t.stats.failed)||0)}}function p3(o,n){if(o&1&&(x(0,"div",85)(1,"div",72),Xt(),x(2,"svg",22),vt(3,"path",86),P()(),ie(),x(4,"div",74)(5,"span",75),I(6),P(),x(7,"span",76),I(8,"Blocked"),P()()()),o&2){let t=ct(2).ngIf;j(6),Jt((t.stats==null?null:t.stats.blocked)||0)}}function f3(o,n){o&1&&(x(0,"div",87)(1,"div",88),Xt(),x(2,"svg",22),vt(3,"path",78),P()(),ie(),x(4,"h4"),I(5,"\u{1F389} Perfect Template!"),P(),x(6,"p"),I(7,"Your template is already optimized. No edits needed!"),P()()),o&2&&tt("@fadeIn",void 0)}function g3(o,n){if(o&1&&(x(0,"div",89)(1,"div",90)(2,"mat-icon"),I(3,"schedule"),P(),x(4,"span"),I(5,"Performance Metrics"),P()(),x(6,"div",91)(7,"div",92)(8,"span",93),I(9,"Total:"),P(),x(10,"span",94),I(11),P()(),x(12,"div",92)(13,"span",93),I(14,"Parsing:"),P(),x(15,"span",94),I(16),P()(),x(17,"div",92)(18,"span",93),I(19,"Processing:"),P(),x(20,"span",94),I(21),P()(),x(22,"div",92)(23,"span",93),I(24,"Verification:"),P(),x(25,"span",94),I(26),P()()()()),o&2){let t=ct(2).ngIf,e=ct(2);tt("@expandIn",void 0),j(11),Jt(e.formatTime((t.timings==null?null:t.timings.total)||0)),j(5),Jt(e.formatTime((t.timings==null?null:t.timings.parsing)||0)),j(5),Jt(e.formatTime((t.timings==null?null:t.timings.processing)||0)),j(5),Jt(e.formatTime((t.timings==null?null:t.timings.verification)||0))}}function h3(o,n){if(o&1){let t=fe();x(0,"div",65)(1,"div",66)(2,"div",67),Xt(),x(3,"svg",22),vt(4,"path",68),P()(),ie(),x(5,"h4"),I(6,"QA Statistics"),P(),x(7,"button",69),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.toggleDebugInfo())}),x(8,"mat-icon"),I(9,"info"),P()()(),x(10,"div",70)(11,"div",71)(12,"div",72),Xt(),x(13,"svg",22),vt(14,"path",73),P()(),ie(),x(15,"div",74)(16,"span",75),I(17),P(),x(18,"span",76),I(19,"Total"),P()()(),x(20,"div",77)(21,"div",72),Xt(),x(22,"svg",22),vt(23,"path",78),P()(),ie(),x(24,"div",74)(25,"span",75),I(26),P(),x(27,"span",76),I(28,"Applied"),P()()(),It(29,u3,9,1,"div",79)(30,p3,9,1,"div",80),P(),It(31,f3,8,1,"div",81)(32,g3,27,5,"div",82),P()}if(o&2){let t=ct().ngIf,e=ct(2);tt("@slideIn",void 0),j(7),De("active",e.showDebugInfo),j(10),Jt((t.stats==null?null:t.stats.total)||0),j(9),Jt((t.stats==null?null:t.stats.applied)||0),j(3),tt("ngIf",((t.stats==null?null:t.stats.failed)||0)>0),j(),tt("ngIf",((t.stats==null?null:t.stats.blocked)||0)>0),j(),tt("ngIf",((t.stats==null?null:t.stats.total)||0)===0),j(),tt("ngIf",e.showDebugInfo&&(t==null?null:t.timings))}}function m3(o,n){if(o&1&&(Rn(0),It(1,h3,33,9,"div",64),Fn()),o&2){let t=n.ngIf;j(),tt("ngIf",t==null?null:t.stats)}}function v3(o,n){if(o&1&&(x(0,"span",109),I(1),P()),o&2){let t=ct().$implicit;j(),Jt(t.reason)}}function _3(o,n){if(o&1&&vt(0,"span",110),o&2){let t=ct().$implicit,e=ct(4);tt("innerHTML",e.getHighlightedSentence(t),pl)}}function y3(o,n){if(o&1&&(x(0,"li",100)(1,"div",101)(2,"code",102),I(3),P(),Xt(),x(4,"svg",103),vt(5,"path",104),P(),ie(),x(6,"code",105),I(7),P()(),x(8,"div",106),It(9,v3,2,1,"span",107)(10,_3,1,1,"span",108),P()()),o&2){let t=n.$implicit;tt("@listAnimation",void 0),j(3),Jt(t.before),j(4),Jt(t.after),j(2),tt("ngIf",t.reason),j(),tt("ngIf",t.fullSentence)}}function b3(o,n){if(o&1&&(x(0,"div",96)(1,"div",66)(2,"div",67),Xt(),x(3,"svg",22),vt(4,"path",37),P()(),ie(),x(5,"h4"),I(6,"Applied Edits"),P(),x(7,"span",97),I(8),P()(),x(9,"ul",98),It(10,y3,11,5,"li",99),P()()),o&2){let t=ct().ngIf,e=ct(2);tt("@slideIn",void 0),j(8),Jt((t.changes==null?null:t.changes.length)||0),j(2),tt("ngForOf",t.changes)("ngForTrackBy",e.trackByEdit)}}function C3(o,n){if(o&1&&(Rn(0),It(1,b3,11,4,"div",95),Fn()),o&2){let t=n.ngIf;j(),tt("ngIf",t==null||t.changes==null?null:t.changes.length)}}function x3(o,n){if(o&1&&(x(0,"span",125),I(1),P()),o&2){let t=ct().$implicit;j(),Jt(t.reason)}}function O3(o,n){if(o&1&&(x(0,"li",120)(1,"span",121),I(2,"\u26A0"),P(),x(3,"div",122)(4,"code",123),I(5),P(),It(6,x3,2,1,"span",124),P()()),o&2){let t=n.$implicit;tt("@listAnimation",void 0),j(5),Jt(t.text),j(),tt("ngIf",t.reason)}}function P3(o,n){if(o&1&&(x(0,"div",115)(1,"h5",116),Xt(),x(2,"svg",22),vt(3,"path",117),P(),I(4," Possible Issues "),P(),ie(),x(5,"ul",118),It(6,O3,7,3,"li",119),P()()),o&2){let t=ct(2).ngIf;j(6),tt("ngForOf",t.gibberish)}}function M3(o,n){if(o&1&&(x(0,"li",128)(1,"span",129),I(2,"\u2713"),P(),x(3,"span",130),I(4),P()()),o&2){let t=n.$implicit;tt("@listAnimation",void 0),j(4),Jt(t)}}function w3(o,n){if(o&1&&(x(0,"div",115)(1,"h5",116),Xt(),x(2,"svg",22),vt(3,"path",126),P(),I(4," Improvements "),P(),ie(),x(5,"ul",118),It(6,M3,5,2,"li",127),P()()),o&2){let t=ct(2).ngIf;j(6),tt("ngForOf",t.suggestions)}}function S3(o,n){if(o&1&&(x(0,"div",113)(1,"div",66)(2,"div",67),Xt(),x(3,"svg",22),vt(4,"path",78),P()(),ie(),x(5,"h4"),I(6,"AI Suggestions"),P()(),It(7,P3,7,1,"div",114)(8,w3,7,1,"div",114),P()),o&2){let t=ct().ngIf;tt("@slideIn",void 0),j(7),tt("ngIf",t.gibberish==null?null:t.gibberish.length),j(),tt("ngIf",t.suggestions==null?null:t.suggestions.length)}}function T3(o,n){o&1&&(x(0,"div",131),vt(1,"div",132),x(2,"span"),I(3,"Analyzing suggestions..."),P()()),o&2&&tt("@pulse",void 0)}function E3(o,n){if(o&1&&(Rn(0),It(1,S3,9,3,"div",111)(2,T3,4,1,"div",112),Fn()),o&2){let t=n.ngIf,e=ct(2);j(),tt("ngIf",(t==null||t.gibberish==null?null:t.gibberish.length)||(t==null||t.suggestions==null?null:t.suggestions.length)),j(),tt("ngIf",e.suggestionsLoading)}}function k3(o,n){if(o&1){let t=fe();x(0,"button",133),Bt("click",function(i){return Dt(t),ct(2).onBypassVariants(),Lt(i.stopPropagation())}),Xt(),x(1,"svg",22),vt(2,"path",56),P()()}}function A3(o,n){o&1&&(x(0,"div",134)(1,"div",135)(2,"div",136),vt(3,"div",137)(4,"div",137)(5,"div",137),P(),x(6,"div",138),Xt(),x(7,"svg",22),vt(8,"path",46),P()()(),ie(),x(9,"div",139)(10,"h4"),I(11,"Generating Golden Template"),P(),x(12,"p"),I(13,"AI is optimizing your template for the best user experience"),P()()()),o&2&&tt("@fadeIn",void 0)}function I3(o,n){if(o&1&&vt(0,"app-html-preview",142),o&2){let t=ct().ngIf;tt("html",t.html)("loading",!1)("allowScripts",!0)}}function D3(o,n){if(o&1&&(Rn(0),It(1,I3,1,3,"app-html-preview",141),Fn()),o&2){let t=n.ngIf;ct();let e=gi(4);j(),tt("ngIf",t==null?null:t.html)("ngIfElse",e)}}function L3(o,n){o&1&&(x(0,"div",143)(1,"div",144),Xt(),x(2,"svg",22),vt(3,"path",46),P()(),ie(),x(4,"h4"),I(5,"No Golden Template Yet"),P(),x(6,"p"),I(7,'Click "Run Test" to generate the optimized Golden Template with AI improvements'),P(),x(8,"div",145),Xt(),x(9,"svg",22),vt(10,"path",146),P(),ie(),x(11,"span"),I(12,"The Golden Template shows your template after AI optimization"),P()()()),o&2&&tt("@fadeIn",void 0)}function N3(o,n){if(o&1&&(Rn(0),It(1,D3,2,2,"ng-container",140),on(2,"async"),It(3,L3,13,1,"ng-template",null,1,lu),Fn()),o&2){let t=gi(4),e=ct(2);j(),tt("ngIf",un(2,2,e.golden$))("ngIfElse",t)}}function R3(o,n){o&1&&vt(0,"div",162)}function F3(o,n){if(o&1&&(x(0,"div",157)(1,"span",158),I(2),P(),x(3,"div",159),vt(4,"div",160),P(),It(5,R3,1,0,"div",161),P()),o&2){let t=ct().ngIf,e=ct(2);j(2),io("",t.items.length," / ",t.target||5,""),j(2),Vi("width",t.items.length/(t.target||5)*100,"%"),j(),tt("ngIf",e.variantsGenerating)}}function z3(o,n){if(o&1&&(x(0,"span",182),I(1),P()),o&2){let t=ct().$implicit,e=ct(3);j(),Jt(e.getFailedEditsCount(t))}}function V3(o,n){if(o&1&&(x(0,"div",189),I(1),P()),o&2){let t=ct().$implicit;j(),Jt(t.reason)}}function j3(o,n){if(o&1&&(x(0,"li",183)(1,"div",184)(2,"code",185),I(3),P(),Xt(),x(4,"svg",186),vt(5,"path",104),P(),ie(),x(6,"code",187),I(7),P()(),It(8,V3,2,1,"div",188),P()),o&2){let t=n.$implicit;j(3),Jt(t.before),j(4),Jt(t.after),j(),tt("ngIf",t.reason)}}function H3(o,n){if(o&1&&(x(0,"li",193)(1,"span",194),I(2,"\u2713"),P(),x(3,"span"),I(4),P()()),o&2){let t=n.$implicit;j(4),Jt(t)}}function B3(o,n){if(o&1&&(x(0,"div",190)(1,"div",66)(2,"div",67),Xt(),x(3,"svg",22),vt(4,"path",126),P()(),ie(),x(5,"h4"),I(6,"Why This Helps"),P()(),x(7,"ul",191),It(8,H3,5,1,"li",192),P()()),o&2){let t=ct().$implicit,e=ct(3);j(8),tt("ngForOf",t.why)("ngForTrackBy",e.trackByIndex)}}function U3(o,n){if(o&1){let t=fe();x(0,"div",163)(1,"div",164)(2,"div",165)(3,"span",166),I(4),P(),x(5,"div",167),Xt(),x(6,"svg",22),vt(7,"path",168),P(),I(8," Ready "),P()(),ie(),x(9,"div",169),vt(10,"app-html-preview",170),P(),x(11,"div",171)(12,"button",172),Bt("click",function(){let i=Dt(t).$implicit,r=ct().ngIf,a=ct().ngIf,s=ct();return Lt(s.onUseVariant(a,r.runId,i.no))}),x(13,"span",173),Xt(),x(14,"svg",22),vt(15,"path",168),P(),ie(),x(16,"span"),I(17,"Use This Template"),P()()()()(),x(18,"div",174)(19,"div",175)(20,"div",66)(21,"div",67),Xt(),x(22,"svg",22),vt(23,"path",176),P()(),ie(),x(24,"h4"),I(25,"What Changed"),P(),x(26,"button",177),Bt("click",function(){let i=Dt(t).$implicit,r=ct().ngIf,a=ct(2);return Lt(a.onEditVariant(r.runId,i.no,i))}),x(27,"mat-icon"),I(28,"edit"),P(),It(29,z3,2,1,"span",178),P()(),x(30,"ul",179),It(31,j3,9,3,"li",180),P()(),It(32,B3,9,2,"div",181),P()()}if(o&2){let t=n.$implicit,e=ct(3);tt("@variantAnimation",void 0),j(4),Fe("Variant ",t.no,""),j(6),tt("html",t.html)("loading",!1)("allowScripts",!0),j(16),De("has-failed-edits",e.hasFailedEdits(t)),tt("matTooltip",e.getEditTooltip(t)),j(3),tt("ngIf",e.hasFailedEdits(t)),j(2),tt("ngForOf",t.changes)("ngForTrackBy",e.trackByEdit),j(),tt("ngIf",t.why==null?null:t.why.length)}}function G3(o,n){o&1&&(x(0,"div",195)(1,"div",196)(2,"div",197),vt(3,"div",198)(4,"div",199),P(),x(5,"div",200)(6,"div",201),vt(7,"div",202)(8,"div",202)(9,"div",203),P()(),vt(10,"div",204),P()()),o&2&&tt("@variantAnimation",void 0)}function W3(o,n){if(o&1&&(x(0,"section",147)(1,"div",148)(2,"div",149)(3,"div",150),Xt(),x(4,"svg",22),vt(5,"path",151),P()(),ie(),x(6,"h3",13),I(7,"Generated Variants"),P(),vt(8,"div",152),P(),It(9,F3,6,5,"div",153),P(),x(10,"div",154),It(11,U3,33,12,"div",155)(12,G3,11,1,"div",156),P()()),o&2){let t=n.ngIf,e=ct(2);tt("@expandIn",void 0),j(9),tt("ngIf",e.variantsGenerating||(t==null||t.items==null?null:t.items.length)),j(2),tt("ngForOf",t.items)("ngForTrackBy",e.trackByIndex),j(),tt("ngForOf",e.getSkeletonArray(e.variantsGenerating?(t==null?null:t.target)||5:0,(t==null||t.items==null?null:t.items.length)||0))("ngForTrackBy",e.trackByIndex)}}function K3(o,n){if(o&1){let t=fe();x(0,"div",213)(1,"div",214)(2,"mat-icon"),I(3,"pending"),P(),x(4,"h3"),I(5,"No Tests Run Yet"),P()(),x(6,"button",215),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.closeVisualEditorModal())}),x(7,"mat-icon"),I(8,"close"),P()()()}}function q3(o,n){if(o&1&&(x(0,"span",217),I(1),on(2,"async"),P()),o&2){let t,e=ct(4);j(),Fe(" ",(t=un(2,1,e.golden$))==null||t.failedEdits==null?null:t.failedEdits.length," ")}}function $3(o,n){if(o&1){let t=fe();x(0,"div",213)(1,"div",214)(2,"mat-icon"),I(3,"warning"),P(),x(4,"h3"),I(5,"Failed Edits Detected"),P()(),It(6,q3,3,3,"span",216),on(7,"async"),x(8,"button",215),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.closeVisualEditorModal())}),x(9,"mat-icon"),I(10,"close"),P()()()}if(o&2){let t,e=ct(3);j(6),tt("ngIf",(t=un(7,1,e.golden$))==null||t.failedEdits==null?null:t.failedEdits.length)}}function Y3(o,n){if(o&1){let t=fe();x(0,"div",213)(1,"div",214)(2,"mat-icon"),I(3,"check_circle"),P(),x(4,"h3"),I(5),on(6,"async"),P()(),x(7,"button",215),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.closeVisualEditorModal())}),x(8,"mat-icon"),I(9,"close"),P()()()}if(o&2){let t,e=ct(3);j(5),Jt(((t=un(6,1,e.golden$))==null||t.stats==null?null:t.stats.total)===0?"Perfect Template":"All Edits Applied")}}function X3(o,n){o&1&&(Rn(0),x(1,"div",218)(2,"mat-icon"),I(3,"info"),P(),x(4,"h4"),I(5,"Template Not Tested"),P(),x(6,"p"),I(7,`This template hasn't been tested yet. Click "Run Test" to check for issues and validate all edits.`),P(),x(8,"div",219)(9,"span"),I(10,'Click the "Run Test" button below to begin'),P(),x(11,"mat-icon"),I(12,"arrow_downward"),P()()(),Fn())}function Q3(o,n){if(o&1&&(x(0,"li")(1,"code"),I(2),P()()),o&2){let t=n.$implicit;j(2),Jt(t)}}function J3(o,n){if(o&1&&(x(0,"div",237)(1,"strong"),I(2,"Try searching for:"),P(),x(3,"ul"),It(4,Q3,3,1,"li",238),P()()),o&2){let t=ct(2).$implicit;j(4),tt("ngForOf",t.diagnostics==null||t.diagnostics.manualFixGuidance==null||t.diagnostics.manualFixGuidance.searchHints==null?null:t.diagnostics.manualFixGuidance.searchHints.slice(0,3))}}function Z3(o,n){o&1&&(x(0,"mat-icon",242),I(1,"arrow_forward"),P())}function t8(o,n){if(o&1&&(x(0,"span")(1,"code"),I(2),P(),I(3),It(4,Z3,2,0,"mat-icon",241),P()),o&2){let t=n.$implicit,e=n.last;j(2),Fe("<",t.tag,">"),j(),Fe(' "',t.textContent,'" '),j(),tt("ngIf",!e)}}function e8(o,n){if(o&1&&(x(0,"div",239)(1,"strong"),I(2,"Split across these elements:"),P(),x(3,"div",240),It(4,t8,5,3,"span",238),P()()),o&2){let t=ct(2).$implicit;j(4),tt("ngForOf",t.diagnostics==null||t.diagnostics.manualFixGuidance==null?null:t.diagnostics.manualFixGuidance.affectedElements)}}function n8(o,n){if(o&1&&(x(0,"div",232)(1,"div",233)(2,"mat-icon"),I(3,"lightbulb"),P()(),x(4,"div",234)(5,"strong"),I(6,"How to Fix:"),P(),x(7,"p"),I(8),P(),It(9,J3,5,1,"div",235)(10,e8,5,1,"div",236),P()()),o&2){let t=ct().$implicit;j(8),Jt(t.diagnostics==null||t.diagnostics.manualFixGuidance==null?null:t.diagnostics.manualFixGuidance.recommendation),j(),tt("ngIf",t.diagnostics==null||t.diagnostics.manualFixGuidance==null||t.diagnostics.manualFixGuidance.searchHints==null?null:t.diagnostics.manualFixGuidance.searchHints.length),j(),tt("ngIf",t.diagnostics==null||t.diagnostics.manualFixGuidance==null||t.diagnostics.manualFixGuidance.affectedElements==null?null:t.diagnostics.manualFixGuidance.affectedElements.length)}}function i8(o,n){if(o&1){let t=fe();x(0,"div",243)(1,"button",244),Bt("click",function(i){return Dt(t),Lt(i.stopPropagation())}),x(2,"mat-icon"),I(3,"bug_report"),P(),x(4,"span"),I(5,"Show Diagnostics"),P()(),x(6,"div",245)(7,"div",246)(8,"span"),I(9,"Raw Occurrences:"),P(),x(10,"strong"),I(11),P()(),x(12,"div",246)(13,"span"),I(14,"Normalized:"),P(),x(15,"strong"),I(16),P()(),x(17,"div",246)(18,"span"),I(19,"Context Match:"),P(),x(20,"strong"),I(21),P()(),x(22,"div",246)(23,"span"),I(24,"Crosses Boundary:"),P(),x(25,"strong"),I(26),P()()()()}if(o&2){let t=ct().$implicit;j(11),Jt(t.diagnostics.rawOccurrences||0),j(5),Jt(t.diagnostics.normalizedOccurrences||0),j(5),Jt(t.diagnostics.contextMatched?"\u2713 Yes":"\u2717 No"),j(5),Jt(t.diagnostics.crossesBoundary?"\u2713 Yes":"\u2717 No")}}function r8(o,n){if(o&1&&(x(0,"li",224)(1,"div",225)(2,"mat-icon"),I(3),P(),x(4,"span"),I(5),P()(),x(6,"div",226)(7,"code",227),I(8),P(),x(9,"mat-icon",228),I(10,"arrow_forward"),P(),x(11,"code",229),I(12),P()(),It(13,n8,11,3,"div",230)(14,i8,27,4,"div",231),P()),o&2){let t=n.$implicit,e=ct(4);j(),vc(e.getStatusColor(t.status||"not_found")),j(2),Jt(e.getStatusIcon(t.status||"not_found")),j(2),Jt(e.getStatusLabel(t.status||"not_found")),j(3),Fe('"',t.find,'"'),j(4),Fe('"',t.replace,'"'),j(),tt("ngIf",t.diagnostics==null?null:t.diagnostics.manualFixGuidance),j(),tt("ngIf",e.showDebugInfo&&t.diagnostics)}}function o8(o,n){if(o&1&&(Rn(0),x(1,"div",220)(2,"mat-icon"),I(3,"info"),P(),x(4,"p"),I(5,"The following edits could not be applied automatically. Please use the Visual Editor to fix them manually."),P()(),x(6,"div",221)(7,"ul",222),It(8,r8,15,8,"li",223),on(9,"async"),P()(),Fn()),o&2){let t,e=ct(3);j(8),tt("ngForOf",(t=un(9,1,e.golden$))==null?null:t.failedEdits)}}function a8(o,n){o&1&&(Rn(0),x(1,"h4"),I(2,"Perfect Template!"),P(),x(3,"p"),I(4,"Your template is already optimized and doesn't need any edits. You can still use the Visual Editor for additional customizations if needed."),P(),Fn())}function s8(o,n){o&1&&(Rn(0),x(1,"h4"),I(2,"All Edits Applied Successfully"),P(),x(3,"p"),I(4,"All automated edits have been applied successfully. You can use the Visual Editor for additional customizations if needed."),P(),Fn())}function l8(o,n){if(o&1&&(Rn(0),x(1,"div",247)(2,"mat-icon"),I(3,"check_circle"),P(),It(4,a8,5,0,"ng-container",43),on(5,"async"),It(6,s8,5,0,"ng-container",43),on(7,"async"),P(),Fn()),o&2){let t,e,i=ct(3);j(4),tt("ngIf",(((t=un(5,2,i.golden$))==null||t.stats==null?null:t.stats.total)||0)===0),j(2),tt("ngIf",(((e=un(7,4,i.golden$))==null||e.stats==null?null:e.stats.total)||0)>0)}}function c8(o,n){if(o&1){let t=fe();x(0,"button",248),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.navigateToVisualEditor())}),x(1,"mat-icon"),I(2,"edit"),P(),I(3," Open Visual Editor "),P()}}function d8(o,n){if(o&1){let t=fe();x(0,"button",248),Bt("click",function(){Dt(t);let i=ct(3);return i.closeVisualEditorModal(),Lt(i.onGenerateGolden(i.templateId))}),x(1,"mat-icon"),I(2,"play_arrow"),P(),I(3," Run Test Now "),P()}}function u8(o,n){if(o&1){let t=fe();x(0,"div",205)(1,"div",206),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.closeVisualEditorModal())}),P(),x(2,"div",207),It(3,K3,9,0,"div",208)(4,$3,11,3,"div",208)(5,Y3,10,3,"div",208),x(6,"div",209),It(7,X3,13,0,"ng-container",43)(8,o8,10,3,"ng-container",43),on(9,"async"),It(10,l8,8,6,"ng-container",43),P(),x(11,"div",210)(12,"button",211),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.closeVisualEditorModal())}),I(13,"Cancel"),P(),It(14,c8,4,0,"button",212)(15,d8,4,0,"button",212),P()()()}if(o&2){let t,e=ct(2);j(2),tt("@modalContentAnimation",void 0),j(),tt("ngIf",e.visualEditorButtonColor==="orange"),j(),tt("ngIf",e.visualEditorButtonColor==="red"),j(),tt("ngIf",e.visualEditorButtonColor==="green"),j(2),tt("ngIf",e.visualEditorButtonColor==="orange"),j(),tt("ngIf",e.visualEditorButtonColor==="red"&&((t=un(9,9,e.golden$))==null||t.failedEdits==null?null:t.failedEdits.length)),j(2),tt("ngIf",e.visualEditorButtonColor==="green"),j(4),tt("ngIf",e.visualEditorButtonColor!=="orange"),j(),tt("ngIf",e.visualEditorButtonColor==="orange")}}function p8(o,n){if(o&1){let t=fe();x(0,"div",3)(1,"div",4),vt(2,"div",5)(3,"div",6)(4,"div",7),P(),x(5,"div",8)(6,"section",9)(7,"div",10),It(8,i3,3,0,"button",11)(9,r3,3,0,"div",12),x(10,"h3",13),I(11,"Original Template"),P(),vt(12,"div",14),It(13,o3,3,0,"button",15),P(),x(14,"div",16)(15,"div",17)(16,"app-html-preview",18),Bt("iframeLoaded",function(){Dt(t);let i=ct();return Lt(i.onTemplatePreviewLoaded())}),P()()()(),x(17,"section",19)(18,"div",20)(19,"div",21),Xt(),x(20,"svg",22),vt(21,"path",23),P()(),ie(),x(22,"h3",13),I(23,"AI Tools & Analysis"),P(),vt(24,"div",14),x(25,"button",24)(26,"mat-icon"),I(27,"info_outline"),P()(),x(28,"mat-menu",25,0)(30,"div",26),Bt("click",function(i){return Dt(t),Lt(i.stopPropagation())}),x(31,"h4"),I(32,"\u26A0\uFE0F Important Notice"),P(),x(33,"div",27)(34,"p"),I(35,"AI will make mistakes due to its unpredictable nature and text replacement using AI will only happen under manual supervision."),P()(),x(36,"div",27)(37,"p"),I(38,"Editing HTML using AI is astonishingly difficult due to the HTML complexity, poorly written HTML, and not following best practices."),P()(),x(39,"div",28),I(40," Always review AI changes before applying! and use editor if required. "),P()()()(),x(41,"div",29)(42,"div",30)(43,"button",31),Bt("click",function(){let i=Dt(t).ngIf,r=ct();return Lt(r.goldenLoading?r.cancelGolden():r.onGenerateGolden(i))}),It(44,a3,7,0,"span",32)(45,s3,4,0,"span",33),P(),x(46,"button",34),Bt("click",function(i){return Dt(t),ct().openVisualEditorModal(),Lt(i.stopPropagation())}),x(47,"span",35)(48,"span",36),Xt(),x(49,"svg",22),vt(50,"path",37),P()(),ie(),x(51,"span",38),I(52,"Failed Edits"),P(),vt(53,"span",39),P(),It(54,l3,3,3,"span",40),on(55,"async"),P()(),x(56,"div",41)(57,"button",42),on(58,"async"),Bt("click",function(){let i=Dt(t).ngIf,r=ct();return Lt(r.variantsGenerating?r.cancelVariants():r.onGenerateVariants(i))}),It(59,c3,7,0,"span",32)(60,d3,4,0,"span",33),P()(),It(61,m3,2,1,"ng-container",43),on(62,"async"),It(63,C3,2,1,"ng-container",43),on(64,"async"),It(65,E3,3,2,"ng-container",43),on(66,"async"),P()(),x(67,"section",44),Bt("click",function(){Dt(t);let i=ct();return Lt(i.onGoldenTemplateClick())}),x(68,"div",10)(69,"div",45),Xt(),x(70,"svg",22),vt(71,"path",46),P()(),ie(),x(72,"h3",13),I(73,"Golden Preview"),P(),vt(74,"div",47),It(75,k3,3,0,"button",48),on(76,"async"),P(),x(77,"div",49),It(78,A3,14,1,"div",50)(79,N3,5,4,"ng-container",43),P()()(),It(80,W3,13,6,"section",51),on(81,"async"),It(82,u8,16,11,"div",52),P()}if(o&2){let t,e,i,r=gi(29),a=ct();j(6),tt("@fadeInUp",void 0),j(2),tt("ngIf",!a.templateLoading),j(),tt("ngIf",a.templateLoading),j(4),tt("ngIf",a.templateId),j(3),tt("html",a.templateHtml)("loading",a.templateLoading)("allowScripts",!0),j(),tt("@fadeInUp",void 0),j(8),tt("matMenuTriggerFor",r),j(18),De("loading",a.goldenLoading),j(),tt("ngIf",!a.goldenLoading),j(),tt("ngIf",a.goldenLoading),j(),De("orange",a.visualEditorButtonColor==="orange")("red",a.visualEditorButtonColor==="red")("green",a.visualEditorButtonColor==="green"),j(8),tt("ngIf",(t=un(55,36,a.golden$))==null||t.failedEdits==null?null:t.failedEdits.length),j(3),De("loading",a.variantsGenerating),tt("disabled",!a.variantsGenerating&&(a.goldenLoading||!((e=un(58,38,a.golden$))!=null&&e.html))),j(2),tt("ngIf",!a.variantsGenerating),j(),tt("ngIf",a.variantsGenerating),j(),tt("ngIf",un(62,40,a.golden$)),j(2),tt("ngIf",un(64,42,a.golden$)),j(2),tt("ngIf",un(66,44,a.suggestions$)),j(2),De("shake-animation",a.shouldShake),tt("@fadeInUp",void 0),j(8),tt("ngIf",(i=un(76,46,a.golden$))==null?null:i.html),j(3),tt("ngIf",a.goldenLoading),j(),tt("ngIf",!a.goldenLoading),j(),tt("ngIf",un(81,48,a.variants$)),j(2),tt("ngIf",a.showVisualEditorModal)}}var jC=(()=>{class o{constructor(){this.ar=be(Ar),this.qa=be(Hb),this.router=be(jn),this.http=be(xs),this.templatesService=be(Ps),this.previewCache=be(Cc),this.cdr=be($i),this.snackBar=be(Os),this.templateState=be(Ms),this.GOLDEN_TIMEOUT=18e4,this.SUBJECTS_TIMEOUT=6e4,this.SUGGESTIONS_TIMEOUT=9e4,this.VARIANTS_START_TIMEOUT=6e4,this.VARIANTS_NEXT_TIMEOUT=12e4,this.VARIANTS_TOTAL_TIMEOUT=6e5,this.templateId=null,this.goldenAborted=!1,this.suggestionsAborted=!1,this.variantsAborted=!1,this.subscriptions=[],this.templateHtml="",this.templateLoading=!0,this.id$=this.ar.paramMap.pipe(eo(e=>e.get("id")),Uy(1)),this.goldenSubject=new Wi(null),this.golden$=this.goldenSubject.asObservable(),this.goldenLoading=!1,this.showVisualEditorModal=!1,this.visualEditorButtonColor="orange",this.shouldShake=!1,this.SHAKE_FLAG_KEY="qa_shake_animation",this.suggestionsSubject=new Wi(null),this.suggestions$=this.suggestionsSubject.asObservable(),this.suggestionsLoading=!1,this.variantsRunId=null,this.variantsSubject=new Wi(null),this.variants$=this.variantsSubject.asObservable(),this.variantsGenerating=!1,this.showDebugInfo=!1,this.trackByIndex=e=>e,this.trackByEdit=(e,i)=>i.before+"|"+i.after+"|"+(i.parent||""),this.trackByFailedEdit=(e,i)=>`${i.find}_${i.replace}_${e}`;let t=this.id$.subscribe(e=>gn(this,null,function*(){this.templateId=e;let i=yield this.qa.getGoldenCached(e),r=yield this.qa.getSuggestionsCached(e),a=yield this.qa.getVariantsRunCached(e);this.goldenSubject.next(i),this.suggestionsSubject.next(r);let s=a;if(a){a.items?.forEach((p,g)=>{});let u=a.items?.length||0;u>0&&u<a.target&&(s=Zo(pi({},a),{target:u})),this.variantsSubject.next(s),this.variantsGenerating=!1}this.variantsRunId=s?.runId||null,i?.html&&(this.goldenLoading=!1,this.updateVisualEditorButtonColor(i.failedEdits)),r&&(this.suggestionsLoading=!1),this.variantsGenerating&&(this.variantsGenerating=!1),this.templateState.debugState(e);let l=`visual_editor_${e}_return_flag`;if(localStorage.getItem(l)==="true"&&this.templateState.hasEdits(e)){let u=this.templateState.getEditingContext(e),p=this.templateState.getCurrentTemplate(e);if(u?.type==="variant"&&p){let g=this.templateState.getTrueOriginalTemplate(e);g?(this.templateHtml=g,this.templateLoading=!1,localStorage.setItem(`template_state_${e}_original`,g)):yield this.loadOriginalTemplate(e),this.updateVariantInUI(u.runId,u.variantNo,p),localStorage.removeItem(l),this.cdr.markForCheck()}else if(u?.type==="original"&&p)this.templateHtml=p,this.templateLoading=!1,this.previewCache.set(e,p),yield this.handleVisualEditorReturn(e,p),localStorage.removeItem(l),this.cdr.markForCheck();else if(u?.type==="golden"&&p){yield this.handleVisualEditorReturn(e,p);let g=this.templateState.getTrueOriginalTemplate(e);g?(this.templateHtml=g,this.templateLoading=!1,localStorage.setItem(`template_state_${e}_original`,g)):yield this.loadOriginalTemplate(e),localStorage.removeItem(l),this.cdr.markForCheck()}else this.loadOriginalTemplate(e)}else{let u=this.templateState.getEditingContext(e),p=this.templateState.getOriginalTemplate(e);p?(this.templateHtml=p,this.templateLoading=!1,this.cdr.markForCheck()):this.loadOriginalTemplate(e)}this.cdr.markForCheck()}));this.subscriptions.push(t)}handleBeforeUnload(t){if(this.isGenerating()){let e=this.getLoadingStateMessage();t.preventDefault(),t.returnValue=e;return}}canDeactivate(){if(!this.isGenerating())return!0;let t=this.getLoadingStateMessage(),e=confirm(`${t}

Are you sure you want to leave? All progress will be lost.`);return e&&this.cleanupOnExit(),e}isGenerating(){return this.goldenLoading||this.variantsGenerating}getLoadingStateMessage(){return this.isGenerating()?"\u26A0\uFE0F Generation is in progress and will be lost if you leave.":""}cleanupOnExit(){this.goldenLoading&&(this.goldenAborted=!0,this.goldenLoading=!1,this.goldenSub&&(this.goldenSub.unsubscribe(),this.goldenSub=void 0)),this.variantsGenerating&&(this.variantsAborted=!0,this.variantsGenerating=!1),this.clearAllTimeouts(),this.templateId&&this.cleanupVisualEditorFlags(this.templateId)}cleanupVisualEditorFlags(t){let e=`visual_editor_${t}_snapshot_html`,i=`visual_editor_${t}_editing_mode`,r=`visual_editor_${t}_variant_meta`,a=`visual_editor_${t}_edited_html`,s=`visual_editor_${t}_return_flag`;localStorage.removeItem(e),localStorage.removeItem(i),localStorage.removeItem(r),localStorage.removeItem(s),sessionStorage.removeItem(e),sessionStorage.removeItem(i),sessionStorage.removeItem(r)}ngOnDestroy(){this.cleanupOnExit(),this.goldenSub&&this.goldenSub.unsubscribe(),this.suggestionsSub&&this.suggestionsSub.unsubscribe(),this.subscriptions.forEach(t=>t.unsubscribe())}clearAllTimeouts(){this.goldenTimeoutId&&clearTimeout(this.goldenTimeoutId),this.suggestionsTimeoutId&&clearTimeout(this.suggestionsTimeoutId),this.variantsTimeoutId&&clearTimeout(this.variantsTimeoutId),this.variantsTotalTimeoutId&&clearTimeout(this.variantsTotalTimeoutId)}getSkeletonArray(t,e){let i=t-e;return Array(Math.max(0,i)).fill(0)}onBypassVariants(){if(!this.templateId){this.showWarning("Template ID not found");return}let t=this.goldenSubject.value;if(!t?.html){this.showWarning("No golden template available to bypass with");return}let e={runId:`bypass-${this.templateId}`,target:1,items:[{no:1,html:t.html,changes:[],why:["Using Golden Template directly - variants generation bypassed"],artifacts:{usedIdeas:[]}}]};this.qa.clearChatForRun(e.runId,1),this.qa.clearSnapsForRun(e.runId),this.qa.clearValidLinks(e.runId),this.qa.clearGrammarCheck(e.runId,1),sessionStorage.removeItem(`template_modal_${e.runId}_1`);try{sessionStorage.setItem(`synthetic_run_${e.runId}`,JSON.stringify(e));let i={role:"assistant",text:`Hi! I'm here to help refine your email template. Here's what I can do:

\u2022 Design Ideas \u2013 Ask for layout, color, or content suggestions

\u2022 SEO Tips \u2013 Get recommendations for better deliverability and engagement

\u2022 QA Review \u2013 Get feedback on tone, clarity, and professional quality

\u2022 Content Strategy \u2013 Discuss improvements to structure and messaging

What would you like to improve?`,json:null,ts:Date.now()},r={html:t.html,messages:[i]};this.qa.saveChat(e.runId,1,r)}catch{}this.router.navigate(["/qa",this.templateId,"use",e.runId,1])}onSkipToChat(){if(!this.templateId){this.showWarning("Template ID not found");return}if(!this.templateHtml||this.templateLoading){this.showWarning("Template is still loading. Please wait...");return}let t={runId:`skip-${this.templateId}`,target:1,items:[{no:1,html:this.templateHtml,changes:[],why:["Original template - skipped generation"],artifacts:{usedIdeas:[]}}]};this.qa.clearChatForRun(t.runId,1),this.qa.clearSnapsForRun(t.runId),this.qa.clearValidLinks(t.runId),this.qa.clearGrammarCheck(t.runId,1),sessionStorage.removeItem(`template_modal_${t.runId}_1`);try{sessionStorage.setItem(`synthetic_run_${t.runId}`,JSON.stringify(t));let e={role:"assistant",text:`Hi! I'm here to help refine your email template. Here's what I can do:

\u2022 Design Ideas \u2013 Ask for layout, color, or content suggestions

\u2022 SEO Tips \u2013 Get recommendations for better deliverability and engagement

\u2022 QA Review \u2013 Get feedback on tone, clarity, and professional quality

\u2022 Content Strategy \u2013 Discuss improvements to structure and messaging

What would you like to improve?`,json:null,ts:Date.now()},i={html:this.templateHtml,messages:[e]};this.qa.saveChat(t.runId,1,i)}catch{}this.router.navigate(["/qa",this.templateId,"use",t.runId,1])}onGenerateGolden(t){if(this.goldenLoading)return;localStorage.removeItem(`visual_editor_${t}_golden_html`),localStorage.removeItem(`visual_editor_${t}_snapshot_html`),localStorage.removeItem(`visual_editor_${t}_editing_mode`),localStorage.removeItem(`visual_editor_${t}_failed_edits`),localStorage.removeItem(`visual_editor_${t}_original_stats`),this.goldenLoading=!0,this.goldenAborted=!1,this.cdr.markForCheck();let e=`${this.SHAKE_FLAG_KEY}_${t}`;sessionStorage.removeItem(e),this.goldenTimeoutId=window.setTimeout(()=>{this.handleGoldenTimeout()},this.GOLDEN_TIMEOUT),this.goldenSub=this.qa.generateGolden(t,!0).pipe(tu(this.GOLDEN_TIMEOUT),rf({count:2,delay:3e3,resetOnSuccess:!0}),vs(i=>{throw i.name==="TimeoutError"?new Error("Golden template generation timed out. Please try again."):i})).subscribe({next:i=>{this.goldenAborted||(this.goldenTimeoutId&&(clearTimeout(this.goldenTimeoutId),this.goldenTimeoutId=void 0),this.goldenSubject.next(i),this.updateVisualEditorButtonColor(i.failedEdits),i.failedEdits&&i.failedEdits.length>0&&this.triggerShakeAnimationOnce(t),this.cdr.markForCheck())},error:i=>{if(this.goldenAborted)return;this.goldenTimeoutId&&(clearTimeout(this.goldenTimeoutId),this.goldenTimeoutId=void 0),this.goldenLoading=!1,this.goldenAborted=!0;let r=this.getErrorMessage(i,"golden template generation");this.showError(r),this.cdr.markForCheck()},complete:()=>{this.goldenAborted||(this.goldenLoading=!1,this.cdr.markForCheck())}})}handleGoldenTimeout(){this.goldenLoading=!1,this.goldenAborted=!0,this.showError("Golden template generation is taking longer than expected. The server might be busy. Please try again."),this.cdr.markForCheck()}cancelGolden(){this.goldenLoading&&(this.goldenAborted=!0,this.goldenLoading=!1,this.goldenSub&&(this.goldenSub.unsubscribe(),this.goldenSub=void 0),this.goldenTimeoutId&&(clearTimeout(this.goldenTimeoutId),this.goldenTimeoutId=void 0),this.cdr.markForCheck())}onAnalyzeSuggestions(t){this.suggestionsLoading||(this.suggestionsLoading=!0,this.suggestionsAborted=!1,this.cdr.markForCheck(),this.suggestionsTimeoutId=window.setTimeout(()=>{this.handleSuggestionsTimeout()},this.SUGGESTIONS_TIMEOUT),this.suggestionsSub=this.qa.generateSuggestions(t,!0).pipe(tu(this.SUGGESTIONS_TIMEOUT),rf({count:2,delay:3e3,resetOnSuccess:!0}),vs(e=>{throw e.name==="TimeoutError"?new Error("Suggestions analysis timed out. Please try again."):e})).subscribe({next:e=>{this.suggestionsAborted||(this.suggestionsTimeoutId&&(clearTimeout(this.suggestionsTimeoutId),this.suggestionsTimeoutId=void 0),this.suggestionsSubject.next(e),this.showSuccess("Suggestions analysis complete!"),setTimeout(()=>{let i=document.querySelector(".col-2 .scrollable-content"),r=document.querySelector(".suggestions-panel");if(i&&r){let a=i.getBoundingClientRect(),l=r.getBoundingClientRect().top-a.top+i.scrollTop;i.scrollTo({top:l-20,behavior:"smooth"})}},300))},error:e=>{if(this.suggestionsAborted)return;this.suggestionsTimeoutId&&(clearTimeout(this.suggestionsTimeoutId),this.suggestionsTimeoutId=void 0),this.suggestionsLoading=!1,this.suggestionsAborted=!0;let i=this.getErrorMessage(e,"suggestions analysis");this.showError(i),this.cdr.markForCheck()},complete:()=>{this.suggestionsAborted||(this.suggestionsLoading=!1,this.cdr.markForCheck())}}))}handleSuggestionsTimeout(){this.suggestionsLoading=!1,this.suggestionsAborted=!0,this.showError("Suggestions analysis is taking longer than expected. Please try again."),this.cdr.markForCheck()}cancelSuggestions(){this.suggestionsLoading&&(this.suggestionsAborted=!0,this.suggestionsLoading=!1,this.suggestionsSub&&(this.suggestionsSub.unsubscribe(),this.suggestionsSub=void 0),this.suggestionsTimeoutId&&(clearTimeout(this.suggestionsTimeoutId),this.suggestionsTimeoutId=void 0),this.showWarning("Suggestions analysis cancelled."),this.cdr.markForCheck())}onGenerateVariants(t){return gn(this,null,function*(){if(this.variantsGenerating)return;let i=this.goldenSubject.value?.html||"";if(!i){this.showWarning("Please generate a golden template first.");return}this.variantsGenerating=!0,this.variantsAborted=!1,this.variantsSubject.next({runId:"initializing",target:5,items:[]}),this.cdr.markForCheck(),this.variantsTotalTimeoutId=window.setTimeout(()=>{this.handleVariantsTotalTimeout()},this.VARIANTS_TOTAL_TIMEOUT);let r=0,a=!1;try{let s=yield hc(this.qa.startVariants(t,i,5).pipe(tu(this.VARIANTS_START_TIMEOUT),vs(u=>{throw u.name==="TimeoutError"?new Error("Failed to start variant generation. Please try again."):u})));if(this.variantsAborted){this.cleanupVariants();return}this.variantsRunId=s.runId;let l={runId:s.runId,target:s.target,items:[]};this.variantsSubject.next(l),this.qa.saveVariantsRun(t,l),this.showSuccess("Variant generation started!"),setTimeout(()=>{let u=document.querySelector(".variants-section");u&&u.scrollIntoView({behavior:"smooth",block:"start"})},300);for(let u=0;u<s.target;u++){if(this.variantsAborted){let p=this.variantsSubject.value;p&&(p.target=p.items.length,this.qa.saveVariantsRun(t,p)),this.cleanupVariants();return}r++;try{let p=yield hc(this.qa.nextVariant(s.runId).pipe(tu(this.VARIANTS_NEXT_TIMEOUT),rf({count:1,delay:2e3}),vs(g=>{throw a||(a=!0,this.showWarning("Connection issue detected. Retrying... This is taking longer than usual.")),g.name==="TimeoutError"?new Error(`Variant ${u+1} generation timed out.`):g})));if(p?.done)break;l=Zo(pi({},l),{items:[...l.items,p]}),this.variantsSubject.next(l),this.qa.saveVariantsRun(t,l)}catch{this.showWarning(`Variant ${u+1} failed, continuing with others...`);continue}}this.variantsTotalTimeoutId&&(clearTimeout(this.variantsTotalTimeoutId),this.variantsTotalTimeoutId=void 0),this.cdr.markForCheck();let c=l.items.length;this.showSuccess(`Successfully generated ${c} variant(s)!`)}catch(s){this.variantsAborted=!0;let l=this.getErrorMessage(s,"variant generation");this.showError(l)}finally{this.variantsGenerating=!1,this.cleanupVariants(),this.cdr.markForCheck()}})}handleVariantsTotalTimeout(){let t=this.variantsSubject.value;t&&this.templateId&&(t.target=t.items.length,this.variantsSubject.next(t),this.qa.saveVariantsRun(this.templateId,t)),this.variantsGenerating=!1,this.variantsAborted=!0,this.showError("Variant generation timed out. Partial results have been saved and are available to use."),this.cleanupVariants(),this.cdr.markForCheck()}cleanupVariants(){this.variantsTimeoutId&&(clearTimeout(this.variantsTimeoutId),this.variantsTimeoutId=void 0),this.variantsTotalTimeoutId&&(clearTimeout(this.variantsTotalTimeoutId),this.variantsTotalTimeoutId=void 0)}cancelVariants(){if(!this.variantsGenerating)return;this.variantsAborted=!0,this.variantsGenerating=!1;let t=this.variantsSubject.value;t&&this.templateId&&(t.target=t.items.length,this.variantsSubject.next(t),this.qa.saveVariantsRun(this.templateId,t)),this.cleanupVariants();let e=t?.items?.length||0;e>0?this.showWarning(`Variant generation cancelled. ${e} variant(s) generated and available to use.`):this.showWarning("Variant generation cancelled."),this.cdr.markForCheck()}getErrorMessage(t,e){return t?.message?.includes("timeout")||t?.name==="TimeoutError"?`${e} timed out. The server might be busy. Please try again.`:t?.status===0||t?.message?.includes("Http failure")?"Cannot connect to server. Please check if the backend is running.":t?.status===500?`Server error during ${e}. Please try again.`:t?.status===404?"Resource not found. Please refresh the page.":t?.message||`An error occurred during ${e}. Please try again.`}showError(t){this.snackBar.open(t,"Close",{duration:8e3,panelClass:["error-snackbar"],horizontalPosition:"center",verticalPosition:"top"})}showSuccess(t){this.snackBar.open(t,"Close",{duration:3e3,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"})}showWarning(t){this.snackBar.open(t,"Close",{duration:5e3,panelClass:["warning-snackbar"],horizontalPosition:"center",verticalPosition:"top"})}showInfo(t){this.snackBar.open(t,"Dismiss",{duration:6e3,panelClass:["info-snackbar"],horizontalPosition:"center",verticalPosition:"top"})}onTemplatePreviewLoaded(){this.templateLoading&&(this.templateLoading=!1,this.cdr.markForCheck())}loadOriginalTemplate(t){this.templateLoading=!0,this.templateHtml="";let e=setTimeout(()=>{this.templateLoading&&(console.warn("\u26A0\uFE0F Template loading timeout - forcing completion"),this.templateLoading=!1,this.cdr.markForCheck())},3e3),i=this.previewCache.get(t)||this.previewCache.getPersisted(t);if(i){clearTimeout(e),this.templateHtml=i,this.templateLoading=!1,this.templateState.initializeOriginalTemplate(t,i),this.cdr.markForCheck();return}let a=this.templatesService.snapshot.items.find(s=>s.id===t);if(a?.content){clearTimeout(e),this.templateHtml=a.content,this.templateLoading=!1,this.templateState.initializeOriginalTemplate(t,a.content),this.cdr.markForCheck();return}this.http.get(`/api/templates/${t}/raw`,{responseType:"text",withCredentials:!0}).subscribe({next:s=>{clearTimeout(e),this.templateHtml=s,this.templateLoading=!1,this.templateState.initializeOriginalTemplate(t,s),this.cdr.markForCheck()},error:s=>{clearTimeout(e),this.templateHtml="Failed to load template",this.templateLoading=!1,this.cdr.markForCheck()}})}onUseVariant(t,e,i){return gn(this,null,function*(){this.qa.clearChatForRun(e,i),this.qa.clearSnapsForRun(e),this.qa.clearValidLinks(e),this.qa.clearGrammarCheck(e,i),sessionStorage.removeItem(`template_modal_${e}_${i}`);try{let a=(yield this.qa.getVariantsRunById(e))?.items?.find(s=>s.no===i);if(a?.html){let s={role:"assistant",text:`Hi! I'm here to help refine your email template. Here's what I can do:

\u2022 Design Ideas \u2013 Ask for layout, color, or content suggestions

\u2022 SEO Tips \u2013 Get recommendations for better deliverability and engagement

\u2022 QA Review \u2013 Get feedback on tone, clarity, and professional quality

\u2022 Content Strategy \u2013 Discuss improvements to structure and messaging

What would you like to improve?`,json:null,ts:Date.now()},l={html:a.html,messages:[s]};this.qa.saveChat(e,i,l)}}catch{}this.router.navigate(["/qa",t,"use",e,i])})}toggleDebugInfo(){this.showDebugInfo=!this.showDebugInfo}getStatusIcon(t){return{applied:"check_circle",not_found:"search_off",blocked:"block",context_mismatch:"find_in_page",boundary_issue:"link_off",already_correct:"done_all"}[t]||"error"}getStatusColor(t){return{applied:"success",not_found:"error",blocked:"warn",context_mismatch:"warn",boundary_issue:"warn",already_correct:"info"}[t]||"error"}getStatusLabel(t){return{applied:"Applied",not_found:"Not Found",blocked:"Blocked",context_mismatch:"Context Mismatch",boundary_issue:"Boundary Issue",already_correct:"Already Correct"}[t]||"Unknown"}getFailureRecommendation(t){if(!t?.status)return"No diagnostic information available.";switch(t.status){case"not_found":return"The text may have been already corrected, or GPT hallucinated this error.";case"context_mismatch":return"The text exists but the surrounding context doesn't match. Manual review recommended.";case"boundary_issue":return"The text spans across interactive elements (links/buttons). Cannot be edited safely.";case"blocked":return"Blocked for safety reasons (contains URLs or merge tags).";default:return"Unknown issue. Please report this to developers."}}extractVisibleText(t){try{let e=document.createElement("div");return e.innerHTML=t,e.querySelectorAll("script, style").forEach(a=>a.remove()),e.textContent||e.innerText||""}catch{return t}}updateVisualEditorButtonColor(t){!t||t.length===0?this.visualEditorButtonColor="green":this.visualEditorButtonColor="red",this.cdr.markForCheck()}triggerShakeAnimationOnce(t){let e=`${this.SHAKE_FLAG_KEY}_${t}`;sessionStorage.getItem(e)!=="true"&&(sessionStorage.setItem(e,"true"),this.triggerShakeAnimation())}triggerShakeAnimation(){this.shouldShake=!0,this.cdr.markForCheck(),setTimeout(()=>{this.shouldShake=!1,this.cdr.markForCheck()},1e3)}onGoldenTemplateClick(){}openVisualEditorModal(){this.showVisualEditorModal=!0,this.cdr.markForCheck()}closeVisualEditorModal(){this.showVisualEditorModal=!1,this.cdr.markForCheck()}navigateToVisualEditor(){if(!this.templateId){this.showError("Template ID not found");return}let t=this.goldenSubject.value;if(!t?.html){this.showError("Golden template not found. Please generate golden template first.");return}let e=`visual_editor_${this.templateId}_golden_html`;localStorage.setItem(e,t.html);let i=`visual_editor_${this.templateId}_snapshot_html`;localStorage.setItem(i,t.html),localStorage.removeItem(`visual_editor_${this.templateId}_return_flag`),localStorage.removeItem(`visual_editor_${this.templateId}_edited_html`),localStorage.removeItem(`visual_editor_${this.templateId}_progress`),localStorage.removeItem(`template_state_${this.templateId}_editor_progress`);let r=`visual_editor_${this.templateId}_editing_mode`;localStorage.setItem(r,"golden");let a=localStorage.getItem(r);if(this.templateState.initializeGoldenForEditing(this.templateId,t.html),t.failedEdits&&t.failedEdits.length>0){let l=`visual_editor_${this.templateId}_failed_edits`;localStorage.setItem(l,JSON.stringify(t.failedEdits))}if(t.stats){let l=`visual_editor_${this.templateId}_original_stats`;localStorage.setItem(l,JSON.stringify(t.stats))}let s=`visual_editor_${this.templateId}_use_variant_meta`;sessionStorage.removeItem(s),this.closeVisualEditorModal(),this.router.navigate(["/visual-editor",this.templateId])}handleVisualEditorReturn(t,e){return gn(this,null,function*(){let i=this.templateState.getEditingContext(t),r=`visual_editor_${t}_editing_mode`,a=localStorage.getItem(r)||sessionStorage.getItem(r),s=`visual_editor_${t}_golden_html`,l=localStorage.getItem(s)||"",c=`visual_editor_${t}_snapshot_html`,u=localStorage.getItem(c)||"",p=`visual_editor_${t}_failed_edits`,g=localStorage.getItem(p),h=[];if(g)try{h=JSON.parse(g)}catch{}let y=`visual_editor_${t}_original_stats`,_=localStorage.getItem(y),O=null;if(_)try{O=JSON.parse(_)}catch{}if(a==="golden"||i?.type==="golden"){let w=this.goldenSubject.value,T=this.extractVisibleText(l),b=this.extractVisibleText(e),k=h.filter(R=>{let{find:H,replace:L}=R,W=H.toLowerCase(),q=T.toLowerCase(),J=b.toLowerCase(),D=q.includes(W);return!J.includes(W)&&D}),E=h.filter(R=>!k.includes(R)),N=k.length,F;O&&O.total?F={total:O.total,applied:O.total-E.length,failed:E.length,blocked:O.blocked||0}:F={total:h.length,applied:N,failed:E.length,blocked:0},localStorage.setItem(y,JSON.stringify(F));let V=Zo(pi({},w),{html:e,failedEdits:E,stats:F});this.goldenSubject.next(V),this.qa.saveGoldenToCache(t,V),this.updateVisualEditorButtonColor(V.failedEdits)}this.cdr.markForCheck()})}updateVariantInUI(t,e,i){let r=this.variantsSubject.value;if(r&&r.runId===t){let a=r.items.findIndex(s=>s.no===e);if(a!==-1){let s=[...r.items];s[a]=Zo(pi({},s[a]),{html:i});let l=Zo(pi({},r),{items:s});this.variantsSubject.next(l),this.qa.saveVariantsRun(this.templateId,l),this.cdr.markForCheck()}}}onEditOriginalTemplate(){if(!this.templateId||!this.templateHtml||this.templateLoading)return;let t=`visual_editor_${this.templateId}_return_flag`,e=`visual_editor_${this.templateId}_edited_html`,i=`visual_editor_${this.templateId}_progress`,r=`visual_editor_${this.templateId}_failed_edits`;localStorage.removeItem(t),localStorage.removeItem(e),localStorage.removeItem(i),localStorage.removeItem(r),sessionStorage.removeItem(r);let a=`visual_editor_${this.templateId}_editing_mode`;localStorage.setItem(a,"original"),this.templateState.initializeOriginalTemplate(this.templateId,this.templateHtml);let s=`visual_editor_${this.templateId}_use_variant_meta`;sessionStorage.removeItem(s),this.router.navigate(["/visual-editor",this.templateId])}onEditVariant(t,e,i){if(!this.templateId||!i?.html)return;let r=`visual_editor_${this.templateId}_return_flag`,a=`visual_editor_${this.templateId}_edited_html`,s=`visual_editor_${this.templateId}_progress`,l=`visual_editor_${this.templateId}_failed_edits`;localStorage.removeItem(r),localStorage.removeItem(a),localStorage.removeItem(s),localStorage.removeItem(l),sessionStorage.removeItem(l);let c=`visual_editor_${this.templateId}_editing_mode`;if(localStorage.setItem(c,"variant"),this.templateState.initializeVariantForEditing(this.templateId,t,e,i.html),i.failedEdits&&i.failedEdits.length>0){localStorage.setItem(l,JSON.stringify(i.failedEdits));let g=localStorage.getItem(l)}let u=localStorage.getItem(l),p=`visual_editor_${this.templateId}_use_variant_meta`;sessionStorage.removeItem(p),this.router.navigate(["/visual-editor",this.templateId])}onEditGoldenTemplate(){let t=this.goldenSubject.value?.html;if(!this.templateId||!t)return;let e=`visual_editor_${this.templateId}_return_flag`,i=`visual_editor_${this.templateId}_edited_html`,r=`visual_editor_${this.templateId}_progress`;localStorage.removeItem(e),localStorage.removeItem(i),localStorage.removeItem(r),this.templateState.initializeGoldenForEditing(this.templateId,t);let a=`visual_editor_${this.templateId}_use_variant_meta`;sessionStorage.removeItem(a),this.router.navigate(["/visual-editor",this.templateId])}hasFailedEdits(t){return t?.failedEdits&&t.failedEdits.length>0}getFailedEditsCount(t){return t?.failedEdits?.length||0}getEditTooltip(t){let e=this.getFailedEditsCount(t);return e>0?`${e} failed edit${e>1?"s":""} detected - open editor`:"Edit in Visual Editor"}formatTime(t){return t<1e3?`${t}ms`:`${(t/1e3).toFixed(1)}s`}getHighlightedSentence(t){if(!t.fullSentence||t.highlightStart===void 0||t.highlightEnd===void 0)return t.find||"";if(t.highlightStart===-1||t.highlightEnd===-1)return t.fullSentence;let e=t.fullSentence.substring(0,t.highlightStart),i=t.fullSentence.substring(t.highlightStart,t.highlightEnd),r=t.fullSentence.substring(t.highlightEnd);return`${e}<span class="highlight-error">${i}</span>${r}`}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-qa-page"]],hostBindings:function(e,i){e&1&&Bt("beforeunload",function(a){return i.handleBeforeUnload(a)},!1,of)},standalone:!0,features:[cn],decls:2,vars:3,consts:[["qaInfoMenu","matMenu"],["noGoldenYet",""],["class","qa-page-wrapper",4,"ngIf"],[1,"qa-page-wrapper"],[1,"page-background"],[1,"gradient-orb","orb-1"],[1,"gradient-orb","orb-2"],[1,"gradient-orb","orb-3"],[1,"qa-grid",2,"margin-top","2rem"],[1,"col","col-1","glass-card",2,"height","800px !important","min-height","800px !important","display","flex","flex-direction","column"],[1,"card-header"],["class","header-icon clickable-icon","matTooltip","Edit in Visual Editor","mat-icon-button","",3,"click",4,"ngIf"],["class","header-icon",4,"ngIf"],[1,"section-title"],[1,"title-underline"],["mat-icon-button","","class","skip-btn","matTooltip","Skip Golden & Variants Generation",3,"click",4,"ngIf"],[1,"card-content",2,"flex","1","overflow","hidden","min-height","0","display","flex","flex-direction","column"],[1,"template-preview-container",2,"flex","1","height","100%","min-height","500px","background","white","border-radius","8px","overflow","hidden"],[2,"flex","1","height","100%","min-height","500px",3,"iframeLoaded","html","loading","allowScripts"],[1,"col","col-2","glass-card",2,"height","800px !important","min-height","800px !important","display","flex","flex-direction","column"],[1,"card-header","sticky-header"],[1,"header-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"],["mat-icon-button","","matTooltip","Important Information",1,"qa-info-btn",3,"matMenuTriggerFor"],[1,"qa-info-menu"],[1,"qa-info-content",3,"click"],[1,"info-section"],[1,"info-note"],[1,"scrollable-content",2,"flex","1","overflow-y","auto","min-height","0"],[1,"actions-group"],["mat-raised-button","",1,"modern-btn","primary-btn",3,"click"],["class","btn-content",4,"ngIf"],["class","spinner-container",4,"ngIf"],["mat-raised-button","",1,"modern-btn","visual-editor-btn",3,"click"],[1,"btn-content"],[1,"btn-icon"],["d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"btn-text"],[1,"btn-shimmer"],["class","failed-edits-badge",4,"ngIf"],[1,"variants-action"],["mat-raised-button","",1,"modern-btn","accent-btn",3,"click","disabled"],[4,"ngIf"],[1,"col","col-3","glass-card",2,"height","800px !important","min-height","800px !important","display","flex","flex-direction","column","cursor","pointer",3,"click"],[1,"header-icon","golden-icon"],["d","M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"],[1,"title-underline","golden"],["mat-icon-button","","class","skip-btn","matTooltip","Bypass Variants - Use Golden Template",3,"click",4,"ngIf"],[1,"card-content","preview-content",2,"flex","1","overflow-y","auto","min-height","0","display","flex","flex-direction","column"],["class","golden-loading-state","style","flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2rem;",4,"ngIf"],["class","variants-section",4,"ngIf"],["class","visual-editor-modal",4,"ngIf"],["matTooltip","Edit in Visual Editor","mat-icon-button","",1,"header-icon","clickable-icon",3,"click"],["d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["mat-icon-button","","matTooltip","Skip Golden & Variants Generation",1,"skip-btn",3,"click"],["d","M13 17l5-5m0 0l-5-5m5 5H6"],["d","M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"],[1,"spinner-container"],[1,"modern-spinner"],[1,"btn-text-loading","cancel-text"],[1,"failed-edits-badge"],["d","M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"],[1,"btn-glow"],["class","info-panel stats-panel",4,"ngIf"],[1,"info-panel","stats-panel"],[1,"panel-header"],[1,"panel-icon"],["d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],["matTooltip","Toggle Performance Info",1,"debug-toggle-btn",3,"click"],[1,"stats-grid"],[1,"stat-card","total"],[1,"stat-icon"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","success"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["class","stat-card error",4,"ngIf"],["class","stat-card blocked",4,"ngIf"],["class","perfect-template-message",4,"ngIf"],["class","debug-section",4,"ngIf"],[1,"stat-card","error"],["d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-card","blocked"],["d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"],[1,"perfect-template-message"],[1,"perfect-icon"],[1,"debug-section"],[1,"debug-header"],[1,"timings-grid"],[1,"timing-item"],[1,"timing-label"],[1,"timing-value"],["class","info-panel edits-panel",4,"ngIf"],[1,"info-panel","edits-panel"],[1,"count-badge"],[1,"edits-list"],["class","edit-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"edit-item"],[1,"edit-change-row"],[1,"error-word"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"arrow-icon"],["d","M13 7l5 5m0 0l-5 5m5-5H6"],[1,"correction-word"],[1,"edit-info-row"],["class","reason-badge",4,"ngIf"],["class","context-text",3,"innerHTML",4,"ngIf"],[1,"reason-badge"],[1,"context-text",3,"innerHTML"],["class","info-panel suggestions-panel",4,"ngIf"],["class","loading-panel",4,"ngIf"],[1,"info-panel","suggestions-panel"],["class","suggestion-section",4,"ngIf"],[1,"suggestion-section"],[1,"section-subtitle"],["d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"suggestion-list"],["class","suggestion-item warning",4,"ngFor","ngForOf"],[1,"suggestion-item","warning"],[1,"warning-icon"],[1,"suggestion-content"],[1,"gibberish-text"],["class","suggestion-reason",4,"ngIf"],[1,"suggestion-reason"],["d","M13 10V3L4 14h7v7l9-11h-7z"],["class","suggestion-item success",4,"ngFor","ngForOf"],[1,"suggestion-item","success"],[1,"success-icon"],[1,"suggestion-text"],[1,"loading-panel"],[1,"loading-spinner"],["mat-icon-button","","matTooltip","Bypass Variants - Use Golden Template",1,"skip-btn",3,"click"],[1,"golden-loading-state",2,"flex","1","display","flex","flex-direction","column","justify-content","center","align-items","center","padding","2rem"],[1,"golden-loader"],[1,"golden-spinner"],[1,"spinner-ring"],[1,"golden-icon-container"],[1,"loading-text"],[4,"ngIf","ngIfElse"],["style","flex: 1; min-height: 0; height: 100%;",3,"html","loading","allowScripts",4,"ngIf","ngIfElse"],[2,"flex","1","min-height","0","height","100%",3,"html","loading","allowScripts"],[1,"empty-state","golden-empty",2,"flex","1","display","flex","flex-direction","column","justify-content","center","align-items","center","padding","2rem"],[1,"empty-icon-animated"],[1,"empty-hint"],["d","M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"],[1,"variants-section"],[1,"variants-header-main"],[1,"variants-title-group"],[1,"header-icon","variants-icon"],["d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"title-underline","variants"],["class","variants-progress",4,"ngIf"],[1,"variants-grid"],["class","variant-card glass-card",4,"ngFor","ngForOf","ngForTrackBy"],["class","variant-skeleton glass-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"variants-progress"],[1,"progress-text"],[1,"progress-bar-container"],[1,"progress-bar-fill"],["class","spinner-small",4,"ngIf"],[1,"spinner-small"],[1,"variant-card","glass-card"],[1,"variant-left"],[1,"variant-header"],[1,"variant-number"],[1,"variant-badge"],["d","M5 13l4 4L19 7"],[1,"variant-preview"],[3,"html","loading","allowScripts"],[1,"variant-actions"],["mat-raised-button","",1,"modern-btn","use-btn",3,"click"],[2,"display","flex","align-items","center","justify-content","center","gap","0.5rem"],[1,"variant-right"],[1,"info-panel","changes-panel"],["d","M8 7h12M8 12h12M8 17h12M3 7h.01M3 12h.01M3 17h.01"],[1,"variant-edit-btn",3,"click","matTooltip"],["class","edit-badge",4,"ngIf"],[1,"changes-list"],["class","change-item",4,"ngFor","ngForOf","ngForTrackBy"],["class","info-panel benefits-panel",4,"ngIf"],[1,"edit-badge"],[1,"change-item"],[1,"change-content"],[1,"change-before"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"change-arrow"],[1,"change-after"],["class","change-reason",4,"ngIf"],[1,"change-reason"],[1,"info-panel","benefits-panel"],[1,"benefits-list"],["class","benefit-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"benefit-item"],[1,"benefit-icon"],[1,"variant-skeleton","glass-card"],[1,"skeleton-content"],[1,"skeleton-header"],[1,"skeleton-title"],[1,"skeleton-badge"],[1,"skeleton-preview"],[1,"skeleton-lines"],[1,"skeleton-line"],[1,"skeleton-line","short"],[1,"skeleton-button"],[1,"visual-editor-modal"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],["class","modal-header",4,"ngIf"],[1,"modal-body"],[1,"modal-footer"],["mat-button","",3,"click"],["mat-raised-button","","class","primary",3,"click",4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["mat-icon-button","",1,"modal-close-btn",3,"click"],["class","failed-count-badge",4,"ngIf"],[1,"failed-count-badge"],[1,"info-state"],[1,"action-hint"],[1,"modal-message"],[1,"failed-edits-preview"],[1,"failed-edits-list"],["class","failed-edit-item",4,"ngFor","ngForOf"],[1,"failed-edit-item"],[1,"status-badge"],[1,"edit-preview"],[1,"preview-find"],[1,"arrow-icon"],[1,"preview-replace"],["class","manual-fix-guidance",4,"ngIf"],["class","debug-info",4,"ngIf"],[1,"manual-fix-guidance"],[1,"guidance-icon"],[1,"guidance-content"],["class","search-hints",4,"ngIf"],["class","affected-elements",4,"ngIf"],[1,"search-hints"],[4,"ngFor","ngForOf"],[1,"affected-elements"],[1,"element-chain"],["class","chain-arrow",4,"ngIf"],[1,"chain-arrow"],[1,"debug-info"],["mat-button","",1,"debug-toggle",3,"click"],[1,"debug-details"],[1,"debug-row"],[1,"success-state"],["mat-raised-button","",1,"primary",3,"click"]],template:function(e,i){e&1&&(It(0,p8,83,50,"div",2),on(1,"async")),e&2&&tt("ngIf",un(1,1,i.id$))},dependencies:[Tn,kr,qn,Cs,Bb,Oi,ro,lr,ws,Mi,Pi,cr,oa,ra,la,aa,sa],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-height:100vh}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]     .card-content, [_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem!important;margin:0!important}[_nghost-%COMP%]     .scrollable-content, [_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem!important;margin:0!important}[_nghost-%COMP%]{--primary-purple: #6d28d9;--primary-purple-dark: #5b21b6;--accent-pink: #ec4899;--accent-blue: #3b82f6;--success-green: #10b981;--warning-orange: #f59e0b;--error-red: #ef4444;--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--gradient-golden: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);--glass-white: rgba(255, 255, 255, .9);--glass-border: rgba(255, 255, 255, .3);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .08);--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px;--transition-fast: .2s cubic-bezier(.4, 0, .2, 1);--transition-normal: .3s cubic-bezier(.4, 0, .2, 1);--transition-smooth: .4s cubic-bezier(.4, 0, .2, 1);display:block;min-height:100vh}.qa-page-wrapper[_ngcontent-%COMP%]{position:relative;min-height:100vh;padding:0 .8rem .5rem;overflow:hidden}.page-background[_ngcontent-%COMP%]{position:fixed;inset:64px 0 0;z-index:0;background:linear-gradient(135deg,#f8fafc,#e2e8f0);pointer-events:none}.page-background[_ngcontent-%COMP%]   .gradient-orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.4;animation:_ngcontent-%COMP%_float-orb 20s ease-in-out infinite}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-1[_ngcontent-%COMP%]{width:400px;height:400px;background:radial-gradient(circle,rgba(139,92,246,.4) 0%,transparent 70%);top:-100px;left:-100px;animation-delay:0s}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-2[_ngcontent-%COMP%]{width:500px;height:500px;background:radial-gradient(circle,rgba(236,72,153,.3) 0%,transparent 70%);top:40%;right:-150px;animation-delay:-7s}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-3[_ngcontent-%COMP%]{width:450px;height:450px;background:radial-gradient(circle,rgba(59,130,246,.35) 0%,transparent 70%);bottom:-100px;left:30%;animation-delay:-14s}.qa-grid[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:1fr 400px 1fr;gap:1.5rem;margin-bottom:2rem;margin-top:.2rem!important;align-items:start}.glass-card[_ngcontent-%COMP%]{background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:var(--glass-shadow);overflow:hidden;transition:all var(--transition-smooth);display:flex;flex-direction:column;height:fit-content}.glass-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 48px #0000001f}.col[_ngcontent-%COMP%]{min-height:0;display:flex;flex-direction:column}.col.col-2[_ngcontent-%COMP%]{position:relative;max-height:calc(100vh - 4rem);display:flex;flex-direction:column}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1.5rem;background:linear-gradient(135deg,#6d28d90d,#ec48990d);border-bottom:1px solid rgba(0,0,0,.05);position:relative;overflow:hidden;min-height:88px;flex-shrink:0}.card-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 3s infinite;will-change:transform}.card-header.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--gradient-primary);border-radius:var(--radius-md);box-shadow:0 4px 12px #6d28d94d;flex-shrink:0}.card-header[_ngcontent-%COMP%]   .header-icon.golden-icon[_ngcontent-%COMP%]{background:var(--gradient-golden);box-shadow:0 4px 12px #f59e0b4d}.card-header[_ngcontent-%COMP%]   .header-icon.variants-icon[_ngcontent-%COMP%]{background:var(--gradient-accent);box-shadow:0 4px 12px #ec48994d}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#fff;stroke-width:2.5}.card-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1.25rem;font-weight:700;background:linear-gradient(135deg,#1f2937 0%,var(--primary-purple) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em}.card-header[_ngcontent-%COMP%]   .title-underline[_ngcontent-%COMP%]{position:absolute;bottom:0;left:1.5rem;right:1.5rem;height:3px;background:var(--gradient-primary);border-radius:3px;transform:scaleX(0);transform-origin:left;animation:_ngcontent-%COMP%_expand-line .6s ease forwards;animation-delay:.2s}.card-header[_ngcontent-%COMP%]   .title-underline.golden[_ngcontent-%COMP%]{background:var(--gradient-golden)}.card-header[_ngcontent-%COMP%]   .title-underline.variants[_ngcontent-%COMP%]{background:var(--gradient-accent)}.card-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem;flex:1;min-height:0}.scrollable-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:0 1.5rem 1.5rem;min-height:0}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000008;border-radius:4px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6d28d94d;border-radius:4px;transition:background var(--transition-fast)}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6d28d980}.modern-btn[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;padding:.875rem 1.5rem;transition:all var(--transition-normal);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.625rem;min-height:48px}.modern-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modern-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .modern-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;position:relative;z-index:2}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5;transition:transform var(--transition-normal)}.modern-btn[_ngcontent-%COMP%]   .btn-shimmer[_ngcontent-%COMP%], .modern-btn[_ngcontent-%COMP%]   .btn-glow[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;transition:opacity var(--transition-normal)}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-shimmer[_ngcontent-%COMP%]{opacity:1;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer-btn 1.5s infinite}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-glow[_ngcontent-%COMP%]{opacity:.5}.modern-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.modern-btn.loading[_ngcontent-%COMP%]{pointer-events:none}.modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 16px #6d28d94d}.modern-btn.primary-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #6d28d966}.modern-btn.secondary-btn[_ngcontent-%COMP%]{background:#fff;color:var(--primary-purple);border:2px solid var(--primary-purple);box-shadow:0 2px 8px #6d28d91a}.modern-btn.secondary-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#6d28d90d,#ec48990d);box-shadow:0 6px 20px #6d28d933}.modern-btn.accent-btn[_ngcontent-%COMP%]{background:var(--gradient-accent);color:#fff;box-shadow:0 4px 16px #ec48994d}.modern-btn.accent-btn[_ngcontent-%COMP%]   .btn-glow[_ngcontent-%COMP%]{background:radial-gradient(circle,rgba(255,255,255,.4) 0%,transparent 70%);filter:blur(10px)}.modern-btn.accent-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #ec489966}.modern-btn.use-btn[_ngcontent-%COMP%]{background:var(--gradient-success);color:#fff;box-shadow:0 4px 12px #10b9814d;width:100%}.modern-btn.use-btn[_ngcontent-%COMP%]     .mat-button-wrapper{display:flex!important;flex-direction:row!important;align-items:center!important;justify-content:center!important;gap:.5rem!important}.modern-btn.use-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5;flex-shrink:0;margin:0!important}.modern-btn.use-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #10b98166}.modern-btn.use-btn[_ngcontent-%COMP%]:hover:not(:disabled)   svg[_ngcontent-%COMP%]{transform:scale(1.15)}.modern-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.spinner-small[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(109,40,217,.3);border-top-color:var(--primary-purple);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.btn-text-loading[_ngcontent-%COMP%]{font-size:.875rem}.actions-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1rem}.variants-action[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:2px dashed rgba(0,0,0,.06)}.info-panel[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:var(--radius-lg);padding:1.25rem;margin-top:22px;box-shadow:0 2px 12px #0000000a;transition:all var(--transition-normal)}.info-panel[_ngcontent-%COMP%]:hover{box-shadow:0 4px 20px #00000014;transform:translateY(-2px)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:2px solid rgba(0,0,0,.05)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .panel-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#6d28d91a,#ec48991a);border-radius:var(--radius-sm)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .panel-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--primary-purple);stroke-width:2.5}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1rem;font-weight:700;color:#1f2937}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;font-size:.75rem;font-weight:700;padding:.25rem .625rem;border-radius:12px;box-shadow:0 2px 8px #6d28d933}.subjects-panel[_ngcontent-%COMP%]   .chip-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.625rem}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:linear-gradient(135deg,#6d28d914,#ec489914);border:1px solid rgba(109,40,217,.2);padding:.5rem 1rem;border-radius:20px;font-size:.875rem;font-weight:600;color:#4c1d95;transition:all var(--transition-normal);cursor:default}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]   .chip-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:var(--gradient-primary);border-radius:50%;box-shadow:0 0 8px #6d28d980;animation:_ngcontent-%COMP%_pulse-dot 2s infinite}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6d28d926,#ec489926);transform:translateY(-2px);box-shadow:0 4px 12px #6d28d933}.edits-panel[_ngcontent-%COMP%]   .edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]{padding:.875rem;margin-bottom:.75rem;border-radius:8px;background:#f9fafb80;border:1px solid rgba(229,231,235,.6);transition:all .2s ease}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]:hover{background:#f9fafbe6;border-color:#d1d5dbcc;box-shadow:0 1px 3px #0000000d}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px dashed rgba(229,231,235,.8)}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]   .error-word[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.25rem .5rem;background:linear-gradient(135deg,#ef44441f,#dc26261f);border-radius:5px;color:#dc2626;font-weight:600;border:1px solid rgba(239,68,68,.25)}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{width:14px;height:14px;color:#9ca3af;stroke-width:2.5;flex-shrink:0}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]   .correction-word[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.25rem .5rem;background:linear-gradient(135deg,#10b9811f,#0596691f);border-radius:5px;color:#059669;font-weight:600;border:1px solid rgba(16,185,129,.25)}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.375rem;font-size:.8125rem;line-height:1.5}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]   .reason-badge[_ngcontent-%COMP%]{display:inline-block;padding:.125rem .5rem;background:#6b728014;border-radius:4px;color:#6b7280;font-style:italic;font-size:.75rem;align-self:flex-start}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]{color:#4b5563;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;word-wrap:break-word}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]     .highlight-error{background:linear-gradient(135deg,#ef444433,#dc262633);color:#dc2626;padding:.125rem .375rem;border-radius:3px;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;line-height:1.6;margin-bottom:.5rem;padding:.625rem .875rem;background:linear-gradient(135deg,#ef44440d,#dc26260d);border-radius:var(--radius-sm);overflow-x:auto;border-left:3px solid rgba(239,68,68,.4)}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;padding:0}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-before[_ngcontent-%COMP%]{color:#dc2626;font-weight:600;opacity:1}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-after[_ngcontent-%COMP%]{opacity:.5}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-find[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);padding:.125rem .375rem;border-radius:4px;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-sentence[_ngcontent-%COMP%]{color:#4b5563;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;font-size:.875rem;line-height:1.7;word-wrap:break-word;white-space:normal}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-sentence[_ngcontent-%COMP%]     .highlight-error{background:linear-gradient(135deg,#ef444440,#dc262640);color:#dc2626;padding:.125rem .375rem;border-radius:4px;font-weight:700;border-bottom:2px solid rgba(239,68,68,.6)}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:.625rem 0;padding:.625rem .875rem;background:linear-gradient(135deg,#10b98114,#05966914);border-radius:var(--radius-sm);font-weight:600;color:#065f46;border-left:3px solid rgba(16,185,129,.5)}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--success-green);stroke-width:2.5;flex-shrink:0}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#059669;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   .correction-text[_ngcontent-%COMP%]{color:#059669;font-weight:600;word-wrap:break-word;flex:1}.edits-panel[_ngcontent-%COMP%]   .edit-reason[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;font-style:italic}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-section[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px dashed rgba(0,0,0,.06)}.suggestions-panel[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 .875rem;font-size:.9375rem;font-weight:700;color:#374151}.suggestions-panel[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2.5}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.875rem;margin-bottom:.5rem;border-radius:var(--radius-md);transition:all var(--transition-normal)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b14,#fbbf2414);border:1px solid rgba(245,158,11,.2)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--gradient-golden);color:#fff;border-radius:50%;font-size:.875rem;font-weight:700;flex-shrink:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f59e0b1f,#fbbf241f);transform:translate(4px)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98114,#05966914);border:1px solid rgba(16,185,129,.2)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--gradient-success);color:#fff;border-radius:50%;font-size:.875rem;font-weight:700;flex-shrink:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#10b9811f,#0596691f);transform:translate(4px)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-content[_ngcontent-%COMP%]{flex:1}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .gibberish-text[_ngcontent-%COMP%]{display:block;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;background:#0000000d;padding:.375rem .625rem;border-radius:var(--radius-sm);margin-bottom:.375rem}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-reason[_ngcontent-%COMP%], .suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-text[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.6;color:#374151}.loading-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:2rem;background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px dashed rgba(109,40,217,.2);border-radius:var(--radius-lg);font-size:.9375rem;font-weight:600;color:#6b7280}.loading-panel[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid rgba(109,40,217,.2);border-top-color:var(--primary-purple);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;display:flex;align-items:center;justify-content:center;background:var(--gradient-golden);border-radius:50%;margin-bottom:1.5rem;box-shadow:0 8px 24px #f59e0b4d;animation:_ngcontent-%COMP%_float-icon 3s ease-in-out infinite}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:#fff;stroke-width:2}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;color:#1f2937}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#6b7280;line-height:1.6}.empty-state.golden-empty[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b08,#fbbf240d);border-radius:12px}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;align-items:center;justify-content:center;background:var(--gradient-golden);border-radius:50%;margin-bottom:2rem;box-shadow:0 12px 32px #f59e0b4d;animation:_ngcontent-%COMP%_pulse-glow 2s ease-in-out infinite;position:relative}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-4px;border-radius:50%;background:var(--gradient-golden);opacity:.3;filter:blur(8px);animation:_ngcontent-%COMP%_pulse-ring 2s ease-in-out infinite}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px;color:#fff;stroke-width:2;position:relative;z-index:1;animation:_ngcontent-%COMP%_sparkle-rotate 4s linear infinite}.empty-state.golden-empty[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.375rem;margin-bottom:.75rem}.empty-state.golden-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:380px;font-size:1rem;margin-bottom:2rem}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;background:#f59e0b1a;border:1px solid rgba(245,158,11,.2);border-radius:10px;max-width:420px}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#f59e0b;flex-shrink:0}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#92400e;text-align:left;line-height:1.5}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{transform:scale(1);box-shadow:0 12px 32px #f59e0b4d}50%{transform:scale(1.05);box-shadow:0 16px 40px #f59e0b66}}@keyframes _ngcontent-%COMP%_pulse-ring{0%,to{transform:scale(1);opacity:.3}50%{transform:scale(1.1);opacity:.1}}@keyframes _ngcontent-%COMP%_sparkle-rotate{0%,to{transform:rotate(0)}25%{transform:rotate(-10deg)}75%{transform:rotate(10deg)}}.variants-section[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:2rem}.variants-header-main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:var(--glass-shadow);margin-bottom:1.5rem}.variants-header-main[_ngcontent-%COMP%]   .variants-title-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1;position:relative}.variants-header-main[_ngcontent-%COMP%]   .variants-title-group[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:700;color:var(--primary-purple)}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:120px;height:8px;background:#6d28d91a;border-radius:4px;overflow:hidden}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar-fill[_ngcontent-%COMP%]{height:100%;background:var(--gradient-accent);border-radius:4px;transition:width var(--transition-smooth);box-shadow:0 0 10px #ec489980}.variants-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;grid-template-columns:1fr;align-items:stretch}.variant-card[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:1fr 420px!important;gap:1.5rem!important;padding:1.5rem!important;min-height:600px!important;align-items:start!important}.variant-left[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:100%!important;gap:1rem!important;justify-content:space-between!important}.variant-right[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:100%!important;gap:1rem!important}.variant-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-bottom:1rem;border-bottom:2px solid rgba(0,0,0,.05);flex-shrink:0!important;flex-wrap:nowrap!important}.variant-header[_ngcontent-%COMP%]   .variant-number[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;background:var(--gradient-accent);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;white-space:nowrap;flex-shrink:0}.variant-header[_ngcontent-%COMP%]   .variant-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .875rem;background:linear-gradient(135deg,#10b9811a,#0596691a);border:1px solid rgba(16,185,129,.3);border-radius:20px;font-size:.8125rem;font-weight:700;color:#065f46;white-space:nowrap;flex-shrink:0}.variant-header[_ngcontent-%COMP%]   .variant-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;stroke-width:3}.variant-preview[_ngcontent-%COMP%]{flex:1!important;min-height:350px!important;max-height:450px!important;background:#fff;border:2px solid rgba(0,0,0,.06);border-radius:var(--radius-lg);overflow:hidden}.variant-actions[_ngcontent-%COMP%]{flex-shrink:0!important;display:flex;justify-content:flex-end;gap:.75rem;margin-top:auto!important}.variant-actions[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5}.variant-right[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]{flex:1!important;min-height:200px!important;max-height:250px!important;overflow-y:auto!important;margin-top:0}.variant-right[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.changes-panel[_ngcontent-%COMP%]   .changes-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.changes-panel[_ngcontent-%COMP%]   .change-item[_ngcontent-%COMP%]{padding:.875rem 0;border-top:1px dashed rgba(0,0,0,.08)}.changes-panel[_ngcontent-%COMP%]   .change-item[_ngcontent-%COMP%]:first-child{border-top:none;padding-top:0}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;margin-bottom:.5rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.625rem;background:#00000005;border-radius:var(--radius-sm);flex-wrap:wrap}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;padding:0}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-before[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a);padding:.25rem .5rem;border-radius:4px;color:#991b1b;font-weight:600}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-after[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#0596691a);padding:.25rem .5rem;border-radius:4px;color:#065f46;font-weight:600}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-arrow[_ngcontent-%COMP%]{width:16px;height:16px;color:#9ca3af;flex-shrink:0}.changes-panel[_ngcontent-%COMP%]   .change-reason[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;font-style:italic}.benefits-panel[_ngcontent-%COMP%]{flex:1!important;display:flex!important;flex-direction:column!important}.benefits-panel[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;flex:1;display:flex!important;flex-direction:column!important;justify-content:flex-start!important}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.75rem;margin-bottom:.5rem;background:linear-gradient(135deg,#10b9810d,#0596690d);border-radius:var(--radius-md);font-size:.875rem;line-height:1.6;color:#374151;transition:all var(--transition-normal)}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:var(--gradient-success);color:#fff;border-radius:50%;font-size:.75rem;font-weight:700;flex-shrink:0}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#10b9811a,#0596691a)}.benefits-panel[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]{height:100%!important;display:flex!important;flex-direction:column!important;justify-content:flex-start!important}.variants-grid[_ngcontent-%COMP%] > .variant-card[_ngcontent-%COMP%]{height:auto!important;min-height:600px!important}.variant-skeleton[_ngcontent-%COMP%]{padding:1.5rem;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite;min-height:300px;contain:layout style paint;will-change:opacity,transform}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%], .variant-skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%], .variant-skeleton[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-shimmer 1.5s infinite;border-radius:6px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{height:20px;width:120px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:24px;width:60px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-preview[_ngcontent-%COMP%]{height:200px;background:#f8f8f8;border-radius:8px;display:flex;align-items:center;justify-content:center}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-lines[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:80%}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{height:12px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-shimmer 1.5s infinite;border-radius:6px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-line.short[_ngcontent-%COMP%]{width:60%}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{height:40px;width:100%;margin-top:1rem}@keyframes _ngcontent-%COMP%_float-orb{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-30px,-30px) rotate(120deg)}66%{transform:translate(30px,30px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(200%)}}@keyframes _ngcontent-%COMP%_shimmer-btn{0%{transform:translate(-100%)}to{transform:translate(200%)}}@keyframes _ngcontent-%COMP%_expand-line{0%{transform:scaleX(0)}to{transform:scaleX(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-dot{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}}@keyframes _ngcontent-%COMP%_float-icon{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_skeleton-shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.col-1[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%]{height:800px!important;min-height:800px!important;display:flex!important;flex-direction:column!important;overflow:hidden!important}.col-1[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-shrink:0!important;min-height:88px!important}.col-1[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1!important;overflow-y:auto!important;min-height:0!important;scrollbar-gutter:stable}[_nghost-%COMP%]     app-template-preview iframe, [_nghost-%COMP%]     app-html-preview iframe{height:700px!important;min-height:600px!important;width:100%!important}[_nghost-%COMP%]     app-template-preview .preview-container, [_nghost-%COMP%]     app-html-preview .preview-container, [_nghost-%COMP%]     app-template-preview .iframe-wrapper, [_nghost-%COMP%]     app-html-preview .iframe-wrapper{height:700px!important;min-height:600px!important;flex:1!important;display:flex!important;flex-direction:column!important}[_nghost-%COMP%]     .preview-root{height:700px!important;min-height:600px!important}[_nghost-%COMP%]     app-template-preview, [_nghost-%COMP%]     app-html-preview{margin-top:5px!important}[_nghost-%COMP%]     app-template-preview>*, [_nghost-%COMP%]     app-html-preview>*{margin-top:5px!important}[_nghost-%COMP%]     .preview-container, [_nghost-%COMP%]     .preview-root{margin-top:5px!important}[_nghost-%COMP%]   .col-2[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{margin-top:5px!important}[_nghost-%COMP%]   .col-2[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]{margin-top:5px!important}.col-2[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%], .variants-action[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{width:100%!important}.modern-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{justify-content:center!important;align-items:center!important;text-align:center!important;width:100%!important}.btn-text-loading[_ngcontent-%COMP%]{text-align:center!important;margin:0 auto!important}.modern-btn.loading[_ngcontent-%COMP%]{pointer-events:auto!important;cursor:pointer!important;opacity:1!important}.modern-btn[_ngcontent-%COMP%]:not(.loading)[disabled]{opacity:.6;cursor:not-allowed;pointer-events:none}@media (max-width: 1400px){.qa-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 360px 1fr}.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 380px}}@media (max-width: 1200px){.qa-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.25rem}.col.col-2[_ngcontent-%COMP%]{max-height:none}.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr}.variants-header-main[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.qa-grid[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%] > .glass-card[_ngcontent-%COMP%]{height:auto!important}}@media (max-width: 768px){.qa-page-wrapper[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{padding:1rem}.card-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:36px;height:36px}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.modern-btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem 1.25rem}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.variants-header-main[_ngcontent-%COMP%]{padding:1rem}.variants-header-main[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem!important}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media print{.page-background[_ngcontent-%COMP%], .btn-shimmer[_ngcontent-%COMP%], .btn-glow[_ngcontent-%COMP%], .title-underline[_ngcontent-%COMP%]{display:none!important}.glass-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #ddd}}@media (max-width: 1400px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 380px!important}}@media (max-width: 1199px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 340px!important}}@media (max-width: 991px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 280px!important}}@media (max-width: 768px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:1rem!important;min-height:auto!important}.variant-left[_ngcontent-%COMP%]{justify-content:flex-start!important}.variants-header-main[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:1rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]{width:33%;justify-content:space-between}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{flex:1;max-width:200px;margin:0 1rem}}@media (max-width: 480px){.variant-card[_ngcontent-%COMP%]{padding:1rem!important}.variant-header[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:.5rem}.variant-actions[_ngcontent-%COMP%]{justify-content:stretch}.variant-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{flex:1}.variants-progress[_ngcontent-%COMP%]{flex-direction:column!important;gap:.75rem!important}.variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:100%!important;max-width:none!important;margin:0!important}}.golden-loading-state[_ngcontent-%COMP%]   .golden-loader[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{position:absolute;border:3px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_golden-spin 2s linear infinite}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(1){width:80px;height:80px;border-top-color:#fbbf24;border-right-color:#fbbf24;animation-delay:0s}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(2){width:60px;height:60px;top:10px;left:10px;border-top-color:#f59e0b;border-left-color:#f59e0b;animation-delay:-.4s;animation-direction:reverse}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(3){width:40px;height:40px;top:20px;left:20px;border-top-color:#d97706;border-bottom-color:#d97706;animation-delay:-.8s}.golden-loading-state[_ngcontent-%COMP%]   .golden-icon-container[_ngcontent-%COMP%]{position:absolute;top:24px;left:24px;width:32px;height:32px;background:var(--gradient-golden);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #f59e0b66;z-index:10}.golden-loading-state[_ngcontent-%COMP%]   .golden-icon-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#fff;animation:_ngcontent-%COMP%_float-icon 2s ease-in-out infinite}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{text-align:center}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;background:var(--gradient-golden);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#6b7280;line-height:1.6}@keyframes _ngcontent-%COMP%_golden-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;align-items:center!important;width:100%!important;padding:0!important;margin:0!important}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{margin-right:.5rem!important}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .btn-text-loading[_ngcontent-%COMP%]{text-align:center!important;padding:0!important;margin:0!important}.accent-btn[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]{color:#fff!important;font-weight:600!important;text-shadow:0 1px 2px rgba(0,0,0,.1)!important}.accent-btn[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]:hover{color:#fff!important;text-shadow:0 1px 3px rgba(0,0,0,.2)!important}.secondary-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{justify-content:center!important;text-align:center!important}.secondary-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .btn-text-loading[_ngcontent-%COMP%]{text-align:center!important}.spinner-container[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important;gap:.625rem!important}.spinner-container[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%], .spinner-container[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]{flex-shrink:0}.secondary-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{border-color:#6d28d933!important;border-top-color:var(--primary-purple)!important}.primary-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%], .accent-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{border-color:#ffffff4d!important;border-top-color:#fff!important}  .error-snackbar{background-color:#ef4444!important;color:#fff!important;font-weight:600!important}  .error-snackbar .mat-simple-snackbar-action{color:#fff!important}  .success-snackbar{background-color:#10b981!important;color:#fff!important;font-weight:600!important}  .success-snackbar .mat-simple-snackbar-action{color:#fff!important}  .warning-snackbar{background-color:#f59e0b!important;color:#fff!important;font-weight:600!important}  .warning-snackbar .mat-simple-snackbar-action{color:#fff!important}  .info-snackbar{background-color:#3b82f6!important;color:#fff!important;font-weight:600!important}  .info-snackbar .mat-simple-snackbar-action{color:#fff!important}.cancel-text[_ngcontent-%COMP%]{color:#fff!important;cursor:pointer!important;font-weight:600!important;text-decoration:none!important;transition:color .15s ease!important}.cancel-text[_ngcontent-%COMP%]:hover{color:#fffc!important}.cancel-text[_ngcontent-%COMP%]:active{transform:scale(.98)}.skip-btn[_ngcontent-%COMP%]{margin-left:auto;width:44px;height:44px;background:var(--gradient-accent);color:#fff;border-radius:var(--radius-md);box-shadow:0 4px 12px #ec48994d;transition:all var(--transition-normal)}.skip-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5}.skip-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #ec489966;transform:translateY(-2px)}.skip-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1) translate(2px)}.skip-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}  .editable-preview-container ::selection{background:#6d28d94d;color:inherit}  .editable-preview-container ::-moz-selection{background:#6d28d94d;color:inherit}.editor-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px dashed rgba(109,40,217,.2);border-radius:var(--radius-lg)}.editor-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:64px;height:64px;color:var(--primary-purple);opacity:.5;margin-bottom:1rem;stroke-width:1.5}.editor-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:#6b7280}.edit-modal-footer[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]:active{animation:save-success .3s ease}.qa-info-btn[_ngcontent-%COMP%]{margin-left:auto;color:#6d28d9}.qa-info-btn[_ngcontent-%COMP%]:hover{background-color:#6d28d91a}  .qa-info-menu .mat-mdc-menu-panel{max-width:450px!important;border-radius:12px}.qa-info-content[_ngcontent-%COMP%]{padding:20px;max-width:430px}.qa-info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:600;color:#f59e0b}.qa-info-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{margin-bottom:14px}.qa-info-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:#475569}.qa-info-content[_ngcontent-%COMP%]   .info-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:16px;padding:12px;background:#fef3c7;border-radius:6px;font-size:13px;font-weight:500;color:#78350f}.qa-info-content[_ngcontent-%COMP%]   .info-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#f59e0b}@media (max-width: 768px){  .qa-info-menu .mat-mdc-menu-panel{max-width:calc(100vw - 32px)!important}.qa-info-content[_ngcontent-%COMP%]{max-width:100%;padding:16px}}.stats-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px solid rgba(109,40,217,.15)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto;width:36px;height:36px;min-width:36px;padding:0!important;border:2px solid rgba(109,40,217,.2);outline:none;cursor:pointer;color:#6b7280;background:transparent;border-radius:8px;transition:all var(--transition-normal);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;position:relative;z-index:1;transition:color .2s ease}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:6px;background:var(--gradient-primary);transform:scale(0);transition:transform .2s ease}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active:before{transform:scale(1)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active   mat-icon[_ngcontent-%COMP%]{color:#fff}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn.active[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;border-color:transparent}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:focus{outline:none;border-color:#6d28d966}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;margin-top:1rem}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:1rem;background:#fff;border:2px solid rgba(0,0,0,.06);border-radius:var(--radius-md);transition:all var(--transition-normal)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000014}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;line-height:1;letter-spacing:-.02em}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;opacity:.7}.stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d91a,#ec48991a)}.stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--primary-purple)}.stat-card.total[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--primary-purple)}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#0596691a)}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--success-green)}.stat-card.success[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--success-green)}.stat-card.error[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a)}.stat-card.error[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-red)}.stat-card.error[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--error-red)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#fbbf241a)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--warning-orange)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--warning-orange)}.perfect-template-message[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#10b98114,#05966914);border:2px solid rgba(16,185,129,.3);border-radius:12px;text-align:center}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#10b981,#059669);border-radius:50%;box-shadow:0 8px 24px #10b9814d;animation:_ngcontent-%COMP%_perfect-pulse 2s ease-in-out infinite}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;color:#fff;stroke-width:3}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;color:#065f46}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#047857;font-weight:500}@keyframes _ngcontent-%COMP%_perfect-pulse{0%,to{transform:scale(1);box-shadow:0 8px 24px #10b9814d}50%{transform:scale(1.05);box-shadow:0 12px 32px #10b98166}}.debug-section[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#00000005;border:1px dashed rgba(0,0,0,.1);border-radius:var(--radius-sm)}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-size:.875rem;font-weight:700;color:#374151}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--primary-purple)}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem .75rem;background:#fff;border-radius:6px;font-size:.8125rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%]{font-weight:600;color:#6b7280}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-purple);font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace}.failed-edits-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444408,#dc262608);border:2px solid rgba(239,68,68,.2)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-red)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .count-badge.error[_ngcontent-%COMP%]{background:var(--gradient-accent)}.failed-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1rem}.failed-edit-item[_ngcontent-%COMP%]{padding:1.25rem;background:#fff;border:2px solid rgba(239,68,68,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.failed-edit-item[_ngcontent-%COMP%]:hover{border-color:#ef44444d;box-shadow:0 4px 16px #ef44441a;transform:translate(4px)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.8125rem;font-weight:700;margin-bottom:1rem}.status-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.status-badge.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98126,#05966926);border:1px solid rgba(16,185,129,.3);color:#065f46}.status-badge.error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444426,#dc262626);border:1px solid rgba(239,68,68,.3);color:#991b1b}.status-badge.warn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b26,#fbbf2426);border:1px solid rgba(245,158,11,.3);color:#78350f}.status-badge.disabled[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9ca3af26,#6b728026);border:1px solid rgba(156,163,175,.3);color:#4b5563}.status-badge.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f626,#2563eb26);border:1px solid rgba(59,130,246,.3);color:#1e40af}.failed-edit-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.875rem}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;flex-wrap:wrap;padding:.875rem;background:#00000005;border-radius:var(--radius-sm)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#6b7280;flex-shrink:0}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;padding:.375rem .625rem;border-radius:6px;font-weight:600}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .text-find[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444426,#dc262626);color:#991b1b;border:1px solid rgba(239,68,68,.2)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .text-replace[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98126,#05966926);color:#065f46;border:1px solid rgba(16,185,129,.2)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .arrow-mini[_ngcontent-%COMP%]{width:16px;height:16px;color:#9ca3af;flex-shrink:0}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%], .failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.625rem;padding:.875rem;border-radius:var(--radius-sm);font-size:.875rem;line-height:1.6}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;flex-shrink:0;margin-top:2px}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444414,#dc262614);border:1px solid rgba(239,68,68,.2);color:#991b1b}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:var(--error-red)}.failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b14,#fbbf2414);border:1px solid rgba(245,158,11,.2);color:#78350f}.failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   .bulb-icon[_ngcontent-%COMP%]{color:var(--warning-orange)}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]{padding:.875rem;background:#00000005;border:1px dashed rgba(0,0,0,.1);border-radius:var(--radius-sm);font-size:.8125rem}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#6b7280;margin-bottom:.5rem}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;display:block;background:#fff;padding:.625rem;border-radius:6px;line-height:1.6;word-break:break-word}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]   .dim[_ngcontent-%COMP%]{opacity:.5}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);padding:.125rem .375rem;border-radius:4px;font-weight:600}.diagnostics-section[_ngcontent-%COMP%]{margin-top:.875rem;padding:1rem;background:linear-gradient(135deg,#6d28d908,#ec489908);border:1px dashed rgba(109,40,217,.2);border-radius:var(--radius-sm)}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-size:.875rem;font-weight:700;color:#374151}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--primary-purple)}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.625rem;background:#fff;border-radius:6px}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]   .diag-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.03em}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]   .diag-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:var(--primary-purple);font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.timings-grid[_ngcontent-%COMP%], .diagnostics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.edit-text[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important}.perfect-template-message[_ngcontent-%COMP%]{padding:1.25rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:50px;height:50px}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stat-card[_ngcontent-%COMP%]{padding:.875rem}.perfect-template-message[_ngcontent-%COMP%]{padding:1rem;margin-top:1rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-bottom:.75rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.375rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.debug-section[_ngcontent-%COMP%]{padding:.875rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.625rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{gap:.375rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{padding:.5rem .625rem;font-size:.75rem;min-width:0}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%], .debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-size:.75rem;white-space:nowrap}}@media (max-height: 600px) and (orientation: landscape){.perfect-template-message[_ngcontent-%COMP%]{padding:.875rem;margin-top:1rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-bottom:.5rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9375rem;margin-bottom:.25rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.debug-section[_ngcontent-%COMP%]{padding:.75rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.5rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{gap:.375rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{padding:.375rem .5rem;font-size:.75rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%], .debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-size:.6875rem}}.visual-editor-btn[_ngcontent-%COMP%]{position:relative;transition:all var(--transition-normal);width:100%!important}.visual-editor-btn.orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)!important;color:#fff!important;box-shadow:0 4px 16px #f59e0b4d}.visual-editor-btn.orange[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #f59e0b66;transform:translateY(-2px)}.visual-editor-btn.red[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)!important;color:#fff!important;box-shadow:0 4px 16px #ef44444d}.visual-editor-btn.red[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #ef444466;transform:translateY(-2px)}.visual-editor-btn.green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;box-shadow:0 4px 16px #10b9814d}.visual-editor-btn.green[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #10b98166;transform:translateY(-2px)}.visual-editor-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{position:absolute!important;inset:50% -100px auto auto!important;transform:translateY(-50%)!important;min-width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:#ffffff40;color:#fff;font-size:.75rem;font-weight:700;border-radius:12px;padding:0 8px;box-shadow:none;border:none;z-index:10;flex-shrink:0}@media (max-width: 1024px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-80px!important}}@media (max-width: 768px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-60px!important}}@media (max-width: 480px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-40px!important}}@keyframes _ngcontent-%COMP%_pulse-red{0%,to{box-shadow:0 4px 16px #ef44444d}50%{box-shadow:0 8px 32px #ef444499}}.shake-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_violent-shake 1s cubic-bezier(.36,.07,.19,.97)!important;animation-iteration-count:1!important}@keyframes _ngcontent-%COMP%_violent-shake{0%,to{transform:translate(0) rotate(0)}10%,30%,50%,70%,90%{transform:translate(-10px) rotate(-1deg)}20%,40%,60%,80%{transform:translate(10px) rotate(1deg)}}.visual-editor-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;padding:2rem;animation:none!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);cursor:pointer;animation:none!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{position:relative;z-index:10000;width:100%;max-width:800px;max-height:80vh;background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:0 20px 60px #0000004d;display:flex;flex-direction:column;overflow:hidden}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1.5rem 2rem;border-bottom:1px solid rgba(0,0,0,.08);flex-shrink:0;position:relative}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1f2937;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .failed-count-badge[_ngcontent-%COMP%]{position:static;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;font-size:.875rem;font-weight:700;padding:.25rem .75rem;border-radius:12px;box-shadow:0 2px 8px #ef44444d;margin-left:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]{color:#6b7280;flex-shrink:0;order:3!important;margin-left:auto}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#0000000d;color:#1f2937}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.info-state)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b0d,#fbbf240d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.info-state)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44440d,#dc26260d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--error-red)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#ef44441a;color:var(--error-red)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9810d,#0596690d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--success-green)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#10b9811a;color:var(--success-green)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0;max-height:60vh;min-height:0;display:flex;flex-direction:column}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]:has(.info-state), .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]:has(.success-state){overflow-y:hidden}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000008;border-radius:4px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6d28d94d;border-radius:4px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6d28d980}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1.25rem;background:linear-gradient(135deg,#3b82f614,#6d28d914);border:1px solid rgba(59,130,246,.2);border-radius:var(--radius-md);margin:1.5rem 1.5rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--accent-blue);font-size:24px;width:24px;height:24px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;line-height:1.6;color:#374151}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;border:2px solid rgba(239,68,68,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]:hover{border-color:#ef44444d;box-shadow:0 4px 16px #ef44441a;transform:translate(4px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:.75rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;flex-wrap:wrap}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000d;padding:.375rem .625rem;border-radius:6px;word-break:break-word}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .preview-find[_ngcontent-%COMP%]{color:#991b1b}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .preview-replace[_ngcontent-%COMP%]{color:#065f46}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:18px;width:18px;height:18px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .more-edits[_ngcontent-%COMP%]{margin-top:1rem;text-align:center;font-size:.875rem;font-weight:600;color:#6b7280;font-style:italic}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:2rem;border-top:2px dashed rgba(99,102,241,.2)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#6366f1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:700;color:#1f2937;flex:1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .count-badge.skipped-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;padding:.25rem .75rem;border-radius:12px;font-size:.8125rem;font-weight:700}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{margin:0 0 1.5rem;padding:.875rem 1rem;background:#6366f10d;border-left:3px solid #6366f1;border-radius:6px;font-size:.875rem;color:#4b5563;line-height:1.6}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;border:2px solid rgba(99,102,241,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]:hover{border-color:#6366f14d;box-shadow:0 4px 16px #6366f11a;transform:translate(4px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .status-badge.disabled[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .75rem;background:#6366f11a;border-radius:6px;font-size:.75rem;font-weight:600;color:#6366f1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .status-badge.disabled[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:.75rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;flex-wrap:wrap}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000d;padding:.375rem .625rem;border-radius:6px;word-break:break-word;color:#6b7280;font-style:italic}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:18px;width:18px;height:18px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.75rem;padding:.625rem .875rem;background:#6366f10d;border-radius:6px;font-size:.8125rem;color:#4b5563}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6366f1;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;text-align:center;min-height:300px;width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:72px;width:72px;height:72px;color:var(--success-green);margin-bottom:1.5rem;animation:_ngcontent-%COMP%_scaleIn .5s ease-out}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:#1f2937;letter-spacing:-.02em}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#6b7280;line-height:1.7;max-width:400px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center;width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:72px;width:72px;height:72px;color:#f59e0b;margin-bottom:1.5rem;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:#1f2937;letter-spacing:-.02em}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1rem;color:#6b7280;line-height:1.7;max-width:420px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.875rem 1.25rem;background:linear-gradient(135deg,#f59e0b1a,#fbbf241a);border:2px dashed rgba(245,158,11,.3);border-radius:12px;font-size:.9375rem;font-weight:600;color:#92400e}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#f59e0b;animation:_ngcontent-%COMP%_bounce 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.6}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem;padding:1.5rem 2rem;background:#f9fafbcc;border-top:1px solid rgba(0,0,0,.08);flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #6d28d966}@media (max-width: 768px){.visual-editor-modal[_ngcontent-%COMP%]{padding:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-height:95vh;max-width:100%;border-radius:var(--radius-lg)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{font-size:.8125rem;padding:.25rem .625rem;margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:70vh}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{padding:1.5rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:60px;width:60px;height:60px;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{padding:2rem 1rem;min-height:250px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:60px;width:60px;height:60px;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important;gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .5rem;max-width:100%;overflow-wrap:break-word;word-break:break-all}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.6875rem!important;padding:.3rem .6rem!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:1rem;font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem;gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem 1rem}}@media (max-height: 600px) and (orientation: landscape){.visual-editor-modal[_ngcontent-%COMP%]{padding:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-height:95vh;max-width:90%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .5rem;margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:calc(95vh - 120px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{padding:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:48px;width:48px;height:48px;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{font-size:.8125rem;padding:.625rem .875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{padding:1.5rem 1rem;min-height:200px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.75rem;padding:.3rem .5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]{font-size:.75rem;padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:.75rem;font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8125rem;padding:.5rem .875rem}}@media (max-width: 480px){.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-width:calc(100vw - 1rem)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.625rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.6875rem;gap:.375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.6875rem;padding:.3rem .4rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.625rem!important;padding:.25rem .5rem!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]{font-size:.75rem;padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:.875rem;font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{flex-direction:column-reverse}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.manual-fix-guidance[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:linear-gradient(135deg,#fef3c7,#fde68a);border-left:4px solid #f59e0b;border-radius:8px;display:flex;gap:.75rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-icon[_ngcontent-%COMP%]{flex-shrink:0}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b;font-size:24px;width:24px;height:24px}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]{flex:1}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#92400e;font-size:.875rem;margin-bottom:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#78350f;font-size:.875rem;line-height:1.6}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]{margin-top:.75rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.375rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;list-style:none}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.375rem 0;display:flex;align-items:center;gap:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2192";color:#f59e0b;font-weight:700}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000001a;padding:2px 6px;border-radius:4px;font-size:.75rem;color:#78350f}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid rgba(0,0,0,.1)}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-bottom:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#ffffff80;border-radius:6px;font-size:.8125rem;color:#78350f}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-weight:700;color:#92400e;background:none;padding:0}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   .chain-arrow[_ngcontent-%COMP%]{color:#f59e0b;font-size:16px;width:16px;height:16px}.debug-info[_ngcontent-%COMP%]{margin-top:1rem;padding:.75rem;background:#6d28d90d;border:1px dashed rgba(109,40,217,.2);border-radius:6px}.debug-info[_ngcontent-%COMP%]   .debug-toggle[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--primary-purple);padding:.375rem .75rem;min-height:auto}.debug-info[_ngcontent-%COMP%]   .debug-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:.375rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]{margin-top:.5rem;display:none;flex-direction:column;gap:.375rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.375rem .5rem;background:#fff;border-radius:4px;font-size:.75rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6b7280}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--primary-purple);font-family:SF Mono,Monaco,monospace}.debug-info.expanded[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]{display:flex}@media (max-width: 768px){.manual-fix-guidance[_ngcontent-%COMP%]{flex-direction:column}.manual-fix-guidance[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.manual-fix-guidance[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   .chain-arrow[_ngcontent-%COMP%]{transform:rotate(90deg)}.skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem}.skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]{padding:.875rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.75rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{padding:.25rem .5rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem .75rem}}@media (max-width: 480px){.skipped-edits-section[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch!important;gap:.5rem}.skipped-edits-section[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{display:none}}.header-icon.clickable-icon[_ngcontent-%COMP%]{cursor:pointer;background:linear-gradient(135deg,#8b5cf6,#6d28d9);border-radius:12px;padding:8px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;box-shadow:0 2px 8px #6d28d933}.header-icon.clickable-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff;transition:transform .3s ease}.header-icon.clickable-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 4px 16px #6d28d966}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover:before{left:100%}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:rotate(-5deg) scale(1.1)}.header-icon.clickable-icon[_ngcontent-%COMP%]:active{transform:translateY(0) scale(1)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;position:relative}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;min-width:0}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto;width:36px;height:36px;min-width:36px;padding:0!important;border:none;outline:none;cursor:pointer;background:linear-gradient(135deg,#8b5cf6,#6d28d9);color:#fff!important;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;justify-content:center;position:relative;overflow:visible}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;color:#fff!important;position:relative;z-index:1}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;min-width:18px;height:18px;padding:0 4px;background:#dc2626;color:#fff;font-size:11px;font-weight:700;border-radius:9px;display:flex;align-items:center;justify-content:center;z-index:2;border:2px solid white;box-shadow:0 2px 8px #00000040;line-height:1;animation:_ngcontent-%COMP%_badge-pulse 2s ease-in-out infinite}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]:before{content:"";display:inline-block}@keyframes _ngcontent-%COMP%_badge-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:8px;background:#ffffff4d;transform:scale(0);transition:transform .3s ease;z-index:0}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active:before{transform:scale(1)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 16px #6d28d980;background:linear-gradient(135deg,#9333ea,#7c3aed)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:hover   .edit-badge[_ngcontent-%COMP%]{animation:none;transform:scale(1.05)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active, .changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active   .edit-badge[_ngcontent-%COMP%]{transform:scale(.98)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #6d28d94d}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:before{background:#ffffff4d}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #ef444480;background:linear-gradient(135deg,#f87171,#ef4444)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44444d}@media (max-width: 768px){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:32px;height:32px;min-width:32px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-5px;right:-5px;min-width:16px;height:16px;padding:0 3px;font-size:10px;border-radius:8px}}@media (max-width: 480px){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:30px;height:30px;min-width:30px;border-radius:6px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-4px;right:-4px;min-width:14px;height:14px;padding:0 2px;font-size:9px;border-radius:7px;border-width:1.5px}}@media (max-height: 600px) and (orientation: landscape){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:28px;height:28px;min-width:28px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:15px;width:15px;height:15px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-4px;right:-4px;min-width:14px;height:14px;font-size:9px}}'],data:{animation:[Jn("fadeInUp",[In(":enter",[$e({opacity:0,transform:"translateY(30px)"}),En("0.5s cubic-bezier(0.4, 0, 0.2, 1)",$e({opacity:1,transform:"translateY(0)"}))])]),Jn("fadeInOut",[In(":enter",[$e({opacity:0}),En("0.3s ease-out",$e({opacity:1}))]),In(":leave",[En("0.3s ease-in",$e({opacity:0}))])]),Jn("fadeIn",[In(":enter",[$e({opacity:0}),En("0.4s ease-out",$e({opacity:1}))])]),Jn("slideIn",[In(":enter",[$e({opacity:0,transform:"translateX(-20px)"}),En("0.4s cubic-bezier(0.4, 0, 0.2, 1)",$e({opacity:1,transform:"translateX(0)"}))])]),Jn("expandIn",[In(":enter",[$e({opacity:0}),En("0.3s ease-out",$e({opacity:1}))])]),Jn("pulse",[In(":enter",[$e({opacity:0,transform:"scale(0.95)"}),En("0.3s ease-out",$e({opacity:1,transform:"scale(1)"}))])]),Jn("chipAnimation",[In(":enter",[$e({opacity:0,transform:"scale(0.8) translateY(10px)"}),En("0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",$e({opacity:1,transform:"scale(1) translateY(0)"}))])]),Jn("listAnimation",[In(":enter",[$e({opacity:0,transform:"translateX(-10px)"}),En("0.3s ease-out",$e({opacity:1,transform:"translateX(0)"}))])]),Jn("variantAnimation",[In(":enter",[$e({opacity:0}),En("0.3s ease-out",$e({opacity:1}))]),In(":leave",[En("0.15s ease-in",$e({opacity:0}))])]),Jn("modalContentAnimation",[In(":enter",[$e({opacity:0,transform:"scale(0.95)"}),En("200ms ease-out",$e({opacity:1,transform:"scale(1)"}))]),In(":leave",[En("150ms ease-in",$e({opacity:0,transform:"scale(0.95)"}))])])]},changeDetection:0})}}return o})();function f8(o,n){if(o&1&&(x(0,"div",45),Xt(),x(1,"svg",46),vt(2,"path",47),P(),ie(),x(3,"span"),I(4),P()()),o&2){let t=ct(2);j(4),Jt(t.errorMessage)}}function g8(o,n){o&1&&(x(0,"div",48),Xt(),x(1,"svg",49),vt(2,"path",50)(3,"path",51)(4,"path",52)(5,"path",53),P(),ie(),x(6,"span"),I(7,"Sign in with Google"),P()())}function h8(o,n){o&1&&(x(0,"div",54),vt(1,"div",55),P())}function m8(o,n){if(o&1){let t=fe();x(0,"div",12)(1,"div",13)(2,"div",14),Xt(),x(3,"svg",15)(4,"defs")(5,"clipPath",16),vt(6,"rect",17),P(),x(7,"clipPath",18),vt(8,"rect",19),P()(),x(9,"g",20),vt(10,"path",21)(11,"circle",22)(12,"circle",23)(13,"circle",24)(14,"circle",25)(15,"circle",26)(16,"line",27)(17,"line",28)(18,"line",29)(19,"line",30),P(),x(20,"g",31),vt(21,"path",32)(22,"path",33),P(),vt(23,"circle",34)(24,"circle",35),P(),ie(),x(25,"h1"),I(26,"Camply"),P()(),x(27,"div",36)(28,"h2"),I(29,"Glad You're Back"),P(),x(30,"p"),I(31,"Sign in to access your email campaigns"),P()(),It(32,f8,5,1,"div",37),x(33,"div",38)(34,"label",39),I(35,"Organization Name"),P(),x(36,"input",40),xi("ngModelChange",function(i){Dt(t);let r=ct();return Ci(r.organizationSlug,i)||(r.organizationSlug=i),Lt(i)}),Bt("keyup.enter",function(){Dt(t);let i=ct();return Lt(i.onGoogleLogin())}),P(),x(37,"small",41),I(38,"Use lowercase letters, numbers, and hyphens only"),P()(),x(39,"button",42),Bt("click",function(){Dt(t);let i=ct();return Lt(i.onGoogleLogin())}),It(40,g8,8,0,"div",43)(41,h8,2,0,"div",44),P()()()}if(o&2){let t=ct();j(32),tt("ngIf",t.errorMessage),j(4),bi("ngModel",t.organizationSlug),tt("disabled",t.isLoading),j(3),De("loading",t.isLoading),tt("disabled",t.isLoading),j(),tt("ngIf",!t.isLoading),j(),tt("ngIf",t.isLoading)}}function v8(o,n){o&1&&(x(0,"div",56)(1,"div",57)(2,"div",58),Xt(),x(3,"svg",15)(4,"defs")(5,"clipPath",59),vt(6,"rect",17),P(),x(7,"clipPath",60),vt(8,"rect",19),P()(),x(9,"g",61),vt(10,"path",21)(11,"circle",22)(12,"circle",23)(13,"circle",24)(14,"circle",25)(15,"circle",26)(16,"line",27)(17,"line",28)(18,"line",29)(19,"line",30),P(),x(20,"g",62),vt(21,"path",32)(22,"path",33),P(),vt(23,"circle",34)(24,"circle",35),P(),ie(),x(25,"h1",63),I(26,"Camply"),P()(),x(27,"div",64)(28,"h2"),I(29,"Transform Your Email Campaigns"),P(),x(30,"p"),I(31,"Professional email template testing and quality assurance powered by AI"),P()(),x(32,"div",65)(33,"div",66),Xt(),x(34,"svg",46),vt(35,"path",67),P(),ie(),x(36,"span"),I(37,"AI-Powered Template Analysis"),P()(),x(38,"div",66),Xt(),x(39,"svg",46),vt(40,"path",68),P(),ie(),x(41,"span"),I(42,"Instant Quality Checks"),P()(),x(43,"div",66),Xt(),x(44,"svg",46),vt(45,"path",69),P(),ie(),x(46,"span"),I(47,"Variant Testing & Comparison"),P()()()()())}function _8(o,n){if(o&1&&(x(0,"div",45),Xt(),x(1,"svg",46),vt(2,"path",47),P(),ie(),x(3,"span"),I(4),P()()),o&2){let t=ct(2);j(4),Jt(t.errorMessage)}}function y8(o,n){o&1&&(x(0,"div",48),Xt(),x(1,"svg",49),vt(2,"path",50)(3,"path",51)(4,"path",52)(5,"path",53),P(),ie(),x(6,"span"),I(7,"Sign in with Google"),P()())}function b8(o,n){o&1&&(x(0,"div",54),vt(1,"div",55),P())}function C8(o,n){if(o&1){let t=fe();x(0,"div",70)(1,"div",71)(2,"div",72)(3,"h2"),I(4,"Glad You're Back"),P(),x(5,"p"),I(6,"Sign in to access your email campaigns"),P()(),It(7,_8,5,1,"div",37),x(8,"div",38)(9,"label",73),I(10,"Organization Name"),P(),x(11,"input",74),xi("ngModelChange",function(i){Dt(t);let r=ct();return Ci(r.organizationSlug,i)||(r.organizationSlug=i),Lt(i)}),Bt("keyup.enter",function(){Dt(t);let i=ct();return Lt(i.onGoogleLogin())}),P(),x(12,"small",41),I(13,"Use lowercase letters, numbers, and hyphens only"),P()(),x(14,"button",42),Bt("click",function(){Dt(t);let i=ct();return Lt(i.onGoogleLogin())}),It(15,y8,8,0,"div",43)(16,b8,2,0,"div",44),P(),x(17,"div",75)(18,"span"),I(19,"Secured by Google"),P()(),x(20,"div",76)(21,"div",77),Xt(),x(22,"svg",46),vt(23,"path",78),P(),ie(),x(24,"span"),I(25,"256-bit SSL Encryption"),P()(),x(26,"div",77),Xt(),x(27,"svg",46),vt(28,"path",79),P(),ie(),x(29,"span"),I(30,"GDPR Compliant"),P()(),x(31,"div",77),Xt(),x(32,"svg",46),vt(33,"path",80),P(),ie(),x(34,"span"),I(35,"Privacy Protected"),P()()()()()}if(o&2){let t=ct();j(7),tt("ngIf",t.errorMessage),j(4),bi("ngModel",t.organizationSlug),tt("disabled",t.isLoading),j(3),De("loading",t.isLoading),tt("disabled",t.isLoading),j(),tt("ngIf",!t.isLoading),j(),tt("ngIf",t.isLoading)}}var HC=(()=>{class o{constructor(){this.authService=be(hi),this.router=be(jn),this.route=be(Ar),this.isLoading=!1,this.errorMessage="",this.isLandscape=!1,this.organizationSlug=""}ngOnInit(){this.checkLandscape(),window.addEventListener("resize",this.checkLandscape.bind(this)),window.addEventListener("message",this.handleAuthMessage.bind(this)),this.authService.isAuthenticated$.subscribe(e=>{if(e){let i=this.route.snapshot.queryParams.returnUrl||"/";this.router.navigate([i],{replaceUrl:!0})}});let t=this.route.snapshot.queryParams.error;t&&(t==="pending_approval"?this.router.navigate(["/auth/pending"]):this.errorMessage=this.getErrorMessage(t))}ngOnDestroy(){window.removeEventListener("message",this.handleAuthMessage.bind(this)),window.removeEventListener("resize",this.checkLandscape.bind(this))}checkLandscape(){this.isLandscape=window.innerHeight<=600&&window.innerWidth<1024&&window.matchMedia("(orientation: landscape)").matches}handleAuthMessage(t){if(![window.location.origin,"http://localhost:3000"].includes(t.origin))return;let{type:i,user:r}=t.data;i==="AUTH_SUCCESS"?(this.authService.handleAuthSuccess(r),this.router.navigate(["/"],{replaceUrl:!0})):i==="AUTH_PENDING"?this.router.navigate(["/auth/pending"]):i==="AUTH_DEACTIVATED"&&(this.errorMessage="Your account has been deactivated. Please contact your administrator.")}onGoogleLogin(){let t=this.organizationSlug.trim().toLowerCase();if(!t||t===""){this.errorMessage="Please enter an organization name";return}if(t.length<2){this.errorMessage="Organization name must be at least 2 characters";return}if(!/^[a-z0-9-]+$/.test(t)){this.errorMessage="Organization name can only contain lowercase letters, numbers, and hyphens";return}this.isLoading=!0,this.errorMessage="",this.authService.loginWithGoogle(t),setTimeout(()=>{this.isLoading=!1},1e3)}getErrorMessage(t){return{google_auth_failed:"Google authentication failed. Please try again.",no_user:"Unable to create user account. Please try again.",callback_failed:"Authentication callback failed. Please try again.",pending_approval:"Your account is pending admin approval.",account_deactivated:"Your account has been deactivated. Contact your administrator.",authentication_failed:"Authentication failed. Please try again.",session_expired:"Your session has expired. Please sign in again.",access_denied:"Access denied. Contact your administrator.",org_required:"Organization name is required. Please enter your organization name.",invalid_org:"Invalid organization name format. Use only lowercase letters, numbers, and hyphens."}[t]||"An error occurred during authentication. Please try again."}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-auth-page"]],standalone:!0,features:[cn],decls:12,vars:3,consts:[[1,"auth-container"],[1,"background-effects"],[1,"floating-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"grid-pattern"],[1,"auth-content"],["class","auth-landscape-section",4,"ngIf"],["class","auth-branding",4,"ngIf"],["class","auth-form-section",4,"ngIf"],[1,"auth-landscape-section"],[1,"landscape-card"],[1,"landscape-header"],["viewBox","0 0 48 48","fill","none","xmlns","http://www.w3.org/2000/svg",1,"logo-icon"],["id","left-half-mobile"],["x","0","y","0","width","24","height","48"],["id","right-half-mobile"],["x","24","y","0","width","24","height","48"],["clip-path","url(#left-half-mobile)"],["d","M12 16 Q8 18 8 24 Q8 30 12 32","stroke","white","stroke-width","2","fill","none"],["cx","14","cy","20","r","1.2","fill","white"],["cx","12","cy","24","r","1.5","fill","white"],["cx","14","cy","28","r","1.2","fill","white"],["cx","18","cy","22","r","1","fill","white","opacity","0.7"],["cx","18","cy","26","r","1","fill","white","opacity","0.7"],["x1","14","y1","20","x2","18","y2","22","stroke","white","stroke-width","0.8","opacity","0.5"],["x1","12","y1","24","x2","18","y2","22","stroke","white","stroke-width","0.8","opacity","0.5"],["x1","12","y1","24","x2","18","y2","26","stroke","white","stroke-width","0.8","opacity","0.5"],["x1","14","y1","28","x2","18","y2","26","stroke","white","stroke-width","0.8","opacity","0.5"],["clip-path","url(#right-half-mobile)"],["d","M24 16 L40 16 L40 32 L24 32","stroke","white","stroke-width","2","fill","none"],["d","M24 16 L32 23 L40 16","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","24","cy","24","r","2","fill","white","opacity","0.3"],["cx","24","cy","24","r","1.2","fill","white"],[1,"landscape-welcome"],["class","error-alert",4,"ngIf"],[1,"form-group"],["for","org-slug-landscape"],["id","org-slug-landscape","type","text","placeholder","Enter your organization name",1,"org-input",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"input-hint"],[1,"google-btn",3,"click","disabled"],["class","google-btn-content",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"error-alert"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"google-btn-content"],["viewBox","0 0 24 24",1,"google-icon"],["fill","#4285F4","d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"],["fill","#34A853","d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"],["fill","#FBBC05","d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"],["fill","#EA4335","d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"],[1,"loading-spinner"],[1,"spinner"],[1,"auth-branding"],[1,"branding-content"],[1,"logo-container"],["id","left-half-desktop"],["id","right-half-desktop"],["clip-path","url(#left-half-desktop)"],["clip-path","url(#right-half-desktop)"],[1,"logo-text"],[1,"branding-text"],[1,"feature-list"],[1,"feature-item"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["d","M13 10V3L4 14h7v7l9-11h-7z"],["d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"auth-form-section"],[1,"auth-card"],[1,"auth-header"],["for","org-slug-desktop"],["id","org-slug-desktop","type","text","placeholder","Enter your organization name",1,"org-input",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"divider"],[1,"trust-indicators"],[1,"trust-item"],["d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],["d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],["d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1)(2,"div",2),vt(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),P(),vt(7,"div",7),P(),x(8,"div",8),It(9,m8,42,8,"div",9)(10,v8,48,0,"div",10)(11,C8,36,8,"div",11),P()()),e&2&&(j(9),tt("ngIf",i.isLandscape),j(),tt("ngIf",!i.isLandscape),j(),tt("ngIf",!i.isLandscape))},dependencies:[Tn,qn,Ir,bo,Co,xo],styles:['[_ngcontent-%COMP%]:root{--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--accent-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--glass-bg: rgba(255, 255, 255, .15);--glass-border: rgba(255, 255, 255, .3);--shadow-soft: 0 8px 32px rgba(0, 0, 0, .1);--shadow-medium: 0 16px 64px rgba(0, 0, 0, .15);--animation-fast: .2s cubic-bezier(.4, 0, .2, 1);--animation-smooth: .4s cubic-bezier(.4, 0, .2, 1)}.auth-container[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:var(--primary-gradient);overflow:hidden;padding:1vh 0}.background-effects[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:0}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;background:var(--accent-gradient);border-radius:50%;opacity:.1;filter:blur(60px);animation:_ngcontent-%COMP%_float-shapes 15s ease-in-out infinite}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:10%;left:5%;animation-delay:0s}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;top:60%;right:10%;animation-delay:-5s}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:400px;height:400px;bottom:10%;left:15%;animation-delay:-10s}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-4[_ngcontent-%COMP%]{width:250px;height:250px;top:5%;right:20%;animation-delay:-7.5s}.background-effects[_ngcontent-%COMP%]   .grid-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(255,255,255,.05) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.05) 1px,transparent 1px);background-size:50px 50px;animation:_ngcontent-%COMP%_grid-move 30s linear infinite}.auth-content[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;width:100%;max-width:95vw;height:96vh;max-height:none;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px;box-shadow:var(--shadow-medium);overflow:hidden;animation:_ngcontent-%COMP%_slideInUp .6s cubic-bezier(.34,1.56,.64,1)}.auth-branding[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:4rem;position:relative;overflow:hidden}.auth-branding[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(255,255,255,.1) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none}.auth-branding[_ngcontent-%COMP%]   .branding-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:500px}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:2rem}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:72px;height:72px;color:#fff;filter:drop-shadow(0 4px 12px rgba(0,0,0,.2))}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:900;color:#fff;margin:0;letter-spacing:-.02em}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]{margin-bottom:2rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:900;color:#fff;margin:0 0 .75rem;line-height:1.2;letter-spacing:-.03em}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem;color:#ffffffe6;line-height:1.5;margin:0;font-weight:500}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:.875rem 1rem;background:#ffffff26;border:1px solid rgba(255,255,255,.25);border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_slideInLeft .6s ease;animation-fill-mode:both}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.2s}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#fff;flex-shrink:0}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#fff}.auth-form-section[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:4rem;background:linear-gradient(135deg,#667eea,#764ba2);position:relative;overflow:hidden}.auth-form-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:linear-gradient(30deg,transparent 40%,rgba(255,255,255,.08) 40%,rgba(255,255,255,.08) 60%,transparent 60%),linear-gradient(150deg,transparent 40%,rgba(255,255,255,.08) 40%,rgba(255,255,255,.08) 60%,transparent 60%);background-size:100px 100px,70px 70px;background-position:0 0,35px 35px;animation:_ngcontent-%COMP%_triangleMove 20s linear infinite;pointer-events:none;opacity:.5;z-index:0}.auth-card[_ngcontent-%COMP%]{position:relative;z-index:1;width:100%;max-width:480px;padding:1.5rem 2.5rem;background:#fff;border-radius:16px;border:1px solid #e2e8f0;box-shadow:0 8px 32px #0003;animation:_ngcontent-%COMP%_fadeIn .8s ease;animation-delay:.3s;animation-fill-mode:both}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.75rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#1e293b;margin:0 0 .5rem;letter-spacing:-.02em}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;margin:0;font-weight:500}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.25rem;background:#ef44441a;border:2px solid rgba(239,68,68,.3);border-radius:12px;margin-bottom:1.5rem;animation:_ngcontent-%COMP%_shake .4s ease}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#ef4444;flex-shrink:0}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#dc2626}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem;width:100%}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:none}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1.25rem;background:#fff;border:2px solid #e2e8f0;border-radius:12px;font-size:.9375rem;color:#1e293b;transition:all var(--animation-smooth);box-sizing:border-box;font-weight:500;box-shadow:0 2px 8px #00000014}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;box-shadow:0 4px 12px #0000001a}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#fff;box-shadow:0 0 0 4px #667eea1a,0 4px 12px #0000001a}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;background:#f8fafc}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#64748b;margin-top:.5rem;text-align:left;padding-left:.25rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{width:100%;padding:.875rem 1.5rem;margin-bottom:4px;background:#fff;border:2px solid #e2e8f0;border-radius:12px;cursor:pointer;transition:all var(--animation-smooth);position:relative;overflow:visible;box-shadow:0 2px 8px #00000014}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-8px;z-index:-1;pointer-events:auto}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#667eea,#764ba2);opacity:0;transition:opacity var(--animation-smooth);border-radius:12px}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 8px 24px #667eea40}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover:not(:disabled):before{opacity:.05}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:center;gap:1rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:22px;height:22px;flex-shrink:0}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;color:#1e293b}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid #e2e8f0;border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin:2rem 0;position:relative}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#e2e8f0}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8125rem;color:#94a3b8;font-weight:600;white-space:nowrap}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background:#f8fafc;border-radius:8px}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;color:#10b981;flex-shrink:0}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8125rem;color:#475569;font-weight:600}@keyframes _ngcontent-%COMP%_float-shapes{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-30px,-30px) rotate(120deg)}66%{transform:translate(30px,30px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_grid-move{0%{transform:translate(0)}to{transform:translate(50px,50px)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(60px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-4px)}20%,40%,60%,80%{transform:translate(4px)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-height: 600px) and (orientation: landscape) and (min-width: 1024px){.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]:nth-child(1), .auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]:nth-child(2){display:none}}@media (max-width: 1200px){.auth-content[_ngcontent-%COMP%]{max-width:1200px}.auth-branding[_ngcontent-%COMP%]{padding:3rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.25rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding:.875rem}.auth-form-section[_ngcontent-%COMP%]{padding:3rem}}@media (max-width: 1024px){.auth-content[_ngcontent-%COMP%]{flex-direction:column;height:auto;max-height:none;margin:1rem}.auth-branding[_ngcontent-%COMP%]{padding:2.5rem 2rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.auth-form-section[_ngcontent-%COMP%]{padding:2.5rem 2rem}.auth-card[_ngcontent-%COMP%]{max-width:500px}}@media (max-width: 1024px) and (min-width: 769px){.auth-content[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow-y:auto}.auth-branding[_ngcontent-%COMP%]{padding:2rem;min-height:auto}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:48px;height:48px}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.5rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]{margin-bottom:1.5rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]{gap:.875rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding:.75rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.auth-form-section[_ngcontent-%COMP%]{padding:2rem}.auth-card[_ngcontent-%COMP%]{padding:1.75rem 1.5rem;max-width:500px}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:.875rem 1.125rem}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{display:none}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:1.25rem 0 0}}@media (max-width: 768px){.auth-content[_ngcontent-%COMP%]{border-radius:16px;flex-direction:column;height:auto;max-height:96vh;overflow-y:auto;overflow-x:hidden}.auth-branding[_ngcontent-%COMP%]{padding:1.5rem 1.25rem;min-height:auto}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{margin-bottom:1rem}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:36px;height:36px}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.15rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]{margin-bottom:1.25rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem;margin-bottom:.5rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem;line-height:1.4}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]{gap:.625rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding:.625rem .875rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.auth-form-section[_ngcontent-%COMP%]{padding:1.5rem 1.25rem}.auth-card[_ngcontent-%COMP%]{max-width:100%;width:100%;padding:1.5rem 1.25rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{margin-bottom:1.25rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem;margin-bottom:.4rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:.8rem 1rem;margin-bottom:.75rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]{gap:.75rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:20px;height:20px}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9375rem}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%], .auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 480px){.auth-container[_ngcontent-%COMP%]{padding:0;overflow:hidden}.auth-content[_ngcontent-%COMP%]{margin:0;border-radius:0;height:100vh;max-height:100vh;overflow:hidden}.auth-form-section[_ngcontent-%COMP%]{padding:1rem;overflow:hidden}.auth-card[_ngcontent-%COMP%]{padding:1.25rem 1rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{margin-bottom:1.25rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]:before{font-size:1.125rem;margin-bottom:1.25rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.375rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{padding:.75rem .875rem;margin-bottom:1rem}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:.75rem 1rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]{gap:.625rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:18px;height:18px}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:1rem 0}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{display:none}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.625rem;color:#94a3b8;text-align:center;width:100%}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{gap:.4375rem}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]{padding:.4375rem .625rem}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.6875rem}}@media (max-height: 600px) and (orientation: landscape) and (max-width: 1024px){.auth-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)!important}.auth-content[_ngcontent-%COMP%]{height:98vh;max-height:98vh;justify-content:center;align-items:center;background:transparent!important;-webkit-backdrop-filter:none!important;backdrop-filter:none!important;box-shadow:none!important;border-radius:0!important}.background-effects[_ngcontent-%COMP%]{display:block!important;opacity:1!important}.auth-landscape-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.landscape-card[_ngcontent-%COMP%]{background:#fffffffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:20px;padding:1rem 1.5rem;max-width:450px;width:85%;box-shadow:0 20px 60px #667eea4d,0 8px 24px #764ba233;border:1px solid rgba(255,255,255,.5);display:flex;flex-direction:column;align-items:center;text-align:center}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:64px;height:64px;color:#667eea;stroke-width:2.5}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]{margin-bottom:.875rem}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin:0 0 .25rem;letter-spacing:-.02em}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;margin:0;font-weight:400}.landscape-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:.875rem}.landscape-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:.9375rem}.landscape-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-hint[_ngcontent-%COMP%]{margin-top:.375rem;font-size:.6875rem}.landscape-card[_ngcontent-%COMP%]   .security-text[_ngcontent-%COMP%]{margin:.875rem 0 .625rem}.landscape-card[_ngcontent-%COMP%]   .security-features[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:0}.landscape-card[_ngcontent-%COMP%]   .security-features[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.8125rem}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.75rem 1rem;background:linear-gradient(135deg,#fee2e2,#fecaca);border:1px solid #fca5a5;border-radius:12px;margin-bottom:1rem;width:100%;box-shadow:0 4px 12px #ef44441a}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#dc2626;flex-shrink:0}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#991b1b;font-weight:500}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem 1.5rem;border:2px solid #e2e8f0;border-radius:12px;background:#fff;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);font-size:1rem;font-weight:600;box-shadow:0 4px 16px #0000000f}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#667eea;background:linear-gradient(135deg,#f8faff,#f0f4ff);transform:translateY(-2px);box-shadow:0 8px 24px #667eea33}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.875rem}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:22px;height:22px;flex-shrink:0}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1e293b;font-weight:600}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:22px;height:22px;border:2.5px solid #e2e8f0;border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin .6s linear infinite}}@media (max-height: 400px) and (orientation: landscape){.landscape-card[_ngcontent-%COMP%]{padding:1.25rem 1.75rem!important;max-width:420px!important}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]{margin-bottom:1rem!important}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:42px!important;height:42px!important}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem!important}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]{margin-bottom:1.25rem!important}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem!important;margin-bottom:.4rem!important}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem!important}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{padding:.75rem 1rem!important;margin-bottom:1rem!important}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px!important;height:18px!important}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8125rem!important}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem!important;font-size:.9375rem!important}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%], .landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px!important;height:20px!important}}@media (prefers-color-scheme: dark){.auth-form-section[_ngcontent-%COMP%]{background:#0f172a}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f1f5f9}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f1f5f9}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#667eea;background:#1e293b}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{background:#334155}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#64748b}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]{background:#1e293b}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#cbd5e1}}@keyframes _ngcontent-%COMP%_triangleMove{0%{background-position:0 0,35px 35px}to{background-position:100px 100px,135px 135px}}']})}}return o})();var BC=(()=>{class o{constructor(){this.authService=be(hi),this.router=be(jn),this.route=be(Ar)}ngOnInit(){if(this.route.snapshot.queryParams.success==="true")if(this.authService.handleAuthCallback(),window.opener)window.close();else{let e=sessionStorage.getItem("auth_return_url")||"/";sessionStorage.removeItem("auth_return_url"),this.router.navigate([e],{replaceUrl:!0})}else this.router.navigate(["/auth"],{queryParams:{error:"callback_failed"}})}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-auth-callback"]],standalone:!0,features:[cn],decls:5,vars:0,consts:[[2,"display","flex","align-items","center","justify-content","center","height","100vh","background","linear-gradient(135deg, #667eea 0%, #764ba2 100%)"],[2,"text-align","center","color","white"],[2,"width","48px","height","48px","border","4px solid rgba(255,255,255,0.3)","border-top-color","white","border-radius","50%","animation","spin 0.8s linear infinite","margin","0 auto 1rem"],[2,"font-size","1.125rem","font-weight","600"]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1),vt(2,"div",2),x(3,"p",3),I(4,"Completing sign in..."),P()()())},styles:["@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return o})();var UC=(()=>{class o{constructor(t){this.router=t}closeWindow(){window.close()}static{this.\u0275fac=function(e){return new(e||o)(pn(jn))}}static{this.\u0275cmp=ln({type:o,selectors:[["app-pending-approval"]],standalone:!0,features:[cn],decls:20,vars:0,consts:[[1,"pending-container"],[1,"pending-card"],[1,"icon-container"],[1,"icon-backdrop"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"pending-icon"],["d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"message"],[1,"info-box"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"back-btn",3,"click"],["d","M10 19l-7-7m0 0l7-7m-7 7h18"]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1)(2,"div",2),vt(3,"div",3),Xt(),x(4,"svg",4),vt(5,"path",5),P()(),ie(),x(6,"h1"),I(7,"Pending Approval"),P(),x(8,"p",6),I(9,"Your account has been created and is awaiting administrator approval."),P(),x(10,"div",7),Xt(),x(11,"svg",8),vt(12,"path",9),P(),ie(),x(13,"p"),I(14,"You'll receive access once an administrator reviews your request. This typically takes 1-2 business days."),P()(),x(15,"button",10),Bt("click",function(){return i.closeWindow()}),Xt(),x(16,"svg",8),vt(17,"path",11),P(),ie(),x(18,"span"),I(19,"Back to Sign In"),P()()()())},dependencies:[Tn],styles:[".pending-container[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:2rem}.pending-card[_ngcontent-%COMP%]{max-width:500px;width:100%;background:#fff;border-radius:24px;padding:3rem 2rem;text-align:center;box-shadow:0 24px 80px #00000040;animation:_ngcontent-%COMP%_slideInScale .6s cubic-bezier(.34,1.56,.64,1)}.icon-container[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;margin:0 auto 2rem}.icon-container[_ngcontent-%COMP%]   .icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#fbbf24,#f59e0b);border-radius:50%;opacity:.15;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.icon-container[_ngcontent-%COMP%]   .pending-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#f59e0b;filter:drop-shadow(0 4px 12px rgba(245,158,11,.3));animation:_ngcontent-%COMP%_rotate 3s linear infinite}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#1e293b;margin:0 0 1rem;letter-spacing:-.02em}.message[_ngcontent-%COMP%]{font-size:1.125rem;color:#64748b;margin:0 0 2rem;line-height:1.6}.info-box[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;background:#f8fafc;border:2px solid #e2e8f0;border-radius:12px;margin-bottom:2rem;text-align:left}.info-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;color:#3b82f6;flex-shrink:0;margin-top:2px}.info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem;color:#475569;margin:0;line-height:1.6}.back-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.625rem;padding:.875rem 1.75rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #667eea4d}.back-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.back-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #667eea66}.back-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@keyframes _ngcontent-%COMP%_slideInScale{0%{opacity:0;transform:translateY(30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:.15}50%{transform:scale(1.1);opacity:.25}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 640px){.pending-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}h1[_ngcontent-%COMP%]{font-size:1.75rem}.message[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return o})();var O8=["customHeader"],P8=(o,n,t)=>({"desktop-mode":o,"tablet-mode":n,"mobile-mode":t});function M8(o,n){o&1&&Yy(0)}function w8(o,n){if(o&1&&(Rn(0),It(1,M8,1,0,"ng-container",6),Fn()),o&2){let t=ct();j(),tt("ngTemplateOutlet",t.customHeaderTemplate)}}function S8(o,n){if(o&1){let t=fe();x(0,"div",17)(1,"h3",18),I(2,"Generated Template"),P(),x(3,"input",19),xi("ngModelChange",function(i){Dt(t);let r=ct(2);return Ci(r.templateName,i)||(r.templateName=i),Lt(i)}),Bt("ngModelChange",function(i){Dt(t);let r=ct(2);return Lt(r.onTemplateNameChange(i))}),P()()}if(o&2){let t=ct(2);j(3),bi("ngModel",t.templateName)}}function T8(o,n){if(o&1&&(x(0,"h3",18),I(1),P()),o&2){let t=ct(2);j(),Jt(t.templateName||"Live Preview")}}function E8(o,n){if(o&1&&(x(0,"button",20)(1,"mat-icon"),I(2,"more_vert"),P()()),o&2){ct();let t=gi(7);tt("matMenuTriggerFor",t)}}function k8(o,n){if(o&1){let t=fe();x(0,"button",14),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.toggleFullscreen())}),x(1,"mat-icon"),I(2),P(),x(3,"span"),I(4),P()()}if(o&2){let t=ct(2);j(2),Jt(t.isFullscreen?"fullscreen_exit":"fullscreen"),j(2),Jt(t.isFullscreen?"Exit Fullscreen":"Fullscreen")}}function A8(o,n){o&1&&vt(0,"mat-divider")}function I8(o,n){o&1&&(x(0,"div",21),I(1,"View Mode"),P())}function D8(o,n){o&1&&(x(0,"mat-icon",23),I(1,"check"),P())}function L8(o,n){if(o&1){let t=fe();x(0,"button",14),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.changeViewMode("desktop"))}),x(1,"mat-icon"),I(2,"computer"),P(),x(3,"span"),I(4,"Desktop"),P(),It(5,D8,2,0,"mat-icon",22),P()}if(o&2){let t=ct(2);j(),De("active-mode",t.viewMode==="desktop"),j(4),tt("ngIf",t.viewMode==="desktop")}}function N8(o,n){o&1&&(x(0,"mat-icon",23),I(1,"check"),P())}function R8(o,n){if(o&1){let t=fe();x(0,"button",14),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.changeViewMode("tablet"))}),x(1,"mat-icon"),I(2,"tablet_mac"),P(),x(3,"span"),I(4,"Tablet"),P(),It(5,N8,2,0,"mat-icon",22),P()}if(o&2){let t=ct(2);j(),De("active-mode",t.viewMode==="tablet"),j(4),tt("ngIf",t.viewMode==="tablet")}}function F8(o,n){o&1&&(x(0,"mat-icon",23),I(1,"check"),P())}function z8(o,n){if(o&1){let t=fe();x(0,"button",14),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.changeViewMode("mobile"))}),x(1,"mat-icon"),I(2,"phone_iphone"),P(),x(3,"span"),I(4,"Mobile"),P(),It(5,F8,2,0,"mat-icon",22),P()}if(o&2){let t=ct(2);j(),De("active-mode",t.viewMode==="mobile"),j(4),tt("ngIf",t.viewMode==="mobile")}}function V8(o,n){if(o&1&&(x(0,"span",35),I(1),P()),o&2){let t=ct(3);j(),Fe("ID: ",t.templateId,"")}}function j8(o,n){o&1&&(Xt(),x(0,"svg",29),vt(1,"path",38)(2,"path",39)(3,"path",40)(4,"path",41),P())}function H8(o,n){o&1&&(Xt(),x(0,"svg",29),vt(1,"path",42)(2,"path",43)(3,"path",44)(4,"path",45),P())}function B8(o,n){if(o&1){let t=fe();x(0,"button",36),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.toggleFullscreen())}),It(1,j8,5,0,"svg",37)(2,H8,5,0,"svg",37),x(3,"span"),I(4,"Fullscreen"),P()()}if(o&2){let t=ct(3);j(),tt("ngIf",!t.isFullscreen),j(),tt("ngIf",t.isFullscreen)}}function U8(o,n){if(o&1){let t=fe();x(0,"div",46)(1,"button",47),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.changeViewMode("desktop"))}),Xt(),x(2,"svg",48),vt(3,"rect",49)(4,"line",50)(5,"line",51),P(),ie(),x(6,"span"),I(7,"Desktop"),P()(),x(8,"button",47),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.changeViewMode("tablet"))}),Xt(),x(9,"svg",48),vt(10,"rect",52)(11,"line",53),P(),ie(),x(12,"span"),I(13,"Tablet"),P()(),x(14,"button",47),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.changeViewMode("mobile"))}),Xt(),x(15,"svg",48),vt(16,"rect",54)(17,"line",53),P(),ie(),x(18,"span"),I(19,"Mobile"),P()()()}if(o&2){let t=ct(3);j(),De("active",t.viewMode==="desktop"),j(7),De("active",t.viewMode==="tablet"),j(6),De("active",t.viewMode==="mobile")}}function G8(o,n){if(o&1){let t=fe();x(0,"button",55),Bt("click",function(){Dt(t);let i=ct(3);return Lt(i.onRefresh())}),Xt(),x(1,"svg",29),vt(2,"path",56)(3,"path",57)(4,"path",58)(5,"path",59),P(),ie(),x(6,"span"),I(7,"Refresh"),P()()}}function W8(o,n){if(o&1&&(Rn(0),x(1,"div",24)(2,"span",25),vt(3,"span",26),I(4," Live Preview "),P(),It(5,V8,2,1,"span",27),x(6,"div",28),Xt(),x(7,"svg",29),vt(8,"path",30),P(),ie(),x(9,"span"),I(10,"Optimized"),P()()(),x(11,"div",31),It(12,B8,5,2,"button",32)(13,U8,20,6,"div",33)(14,G8,8,0,"button",34),P(),Fn()),o&2){let t=ct(2);j(5),tt("ngIf",t.templateId),j(7),tt("ngIf",t.allowFullscreen),j(),tt("ngIf",t.allowViewModes),j(),tt("ngIf",t.allowRefresh&&!t.isGeneratePage)}}function K8(o,n){if(o&1){let t=fe();x(0,"div",7)(1,"div",8)(2,"div",9),It(3,S8,4,1,"div",10)(4,T8,2,1,"h3",11)(5,E8,3,1,"button",12),x(6,"mat-menu",13,0)(8,"button",14),Bt("click",function(){Dt(t);let i=ct();return Lt(i.onSaveTemplate())}),x(9,"mat-icon"),I(10,"save"),P(),x(11,"span"),I(12,"Save Template"),P()(),x(13,"button",14),Bt("click",function(){Dt(t);let i=ct();return Lt(i.onRunTests())}),x(14,"mat-icon"),I(15,"visibility"),P(),x(16,"span"),I(17,"QA Check"),P()(),vt(18,"mat-divider"),It(19,k8,5,2,"button",15)(20,A8,1,0,"mat-divider",2)(21,I8,2,0,"div",16)(22,L8,6,3,"button",15)(23,R8,6,3,"button",15)(24,z8,6,3,"button",15),P(),It(25,W8,15,4,"ng-container",2),P()()()}if(o&2){let t=ct();j(2),De("generate-page-header",t.isGeneratePage),j(),tt("ngIf",t.isGeneratePage),j(),tt("ngIf",!t.isGeneratePage),j(),tt("ngIf",t.showGenerateActions&&t.isGeneratePage),j(14),tt("ngIf",t.allowFullscreen),j(),tt("ngIf",t.allowViewModes),j(),tt("ngIf",t.allowViewModes),j(),tt("ngIf",t.allowViewModes),j(),tt("ngIf",t.allowViewModes),j(),tt("ngIf",t.allowViewModes),j(),tt("ngIf",!t.isGeneratePage)}}function q8(o,n){o&1&&(Rn(0),x(1,"div",69)(2,"div",70),Xt(),x(3,"svg",71),vt(4,"rect",72)(5,"line",73)(6,"circle",74)(7,"circle",75)(8,"circle",76)(9,"path",77)(10,"path",78)(11,"path",79)(12,"path",80),x(13,"defs")(14,"linearGradient",81),vt(15,"stop",82)(16,"stop",83),P()()(),ie(),vt(17,"div",84),P(),x(18,"h2"),I(19,"AI-Powered Generation"),P(),x(20,"p",85),I(21,"AI can make mistakes. Please review and verify all generated content carefully before use."),P(),x(22,"div",86)(23,"div",87),Xt(),x(24,"svg",48),vt(25,"path",88),P(),I(26," Always Verify "),P()()(),Fn())}function $8(o,n){o&1&&(Rn(0),x(1,"div",89),vt(2,"div",90)(3,"div",91),Xt(),x(4,"svg",92),vt(5,"path",93)(6,"rect",94),P()(),ie(),x(7,"div",95)(8,"h2"),I(9,"Ready for Preview"),P()(),x(10,"div",96)(11,"div",97),Xt(),x(12,"svg",29),vt(13,"path",88),P(),I(14," Real-time Updates "),P(),ie(),x(15,"div",97),Xt(),x(16,"svg",29),vt(17,"rect",49)(18,"line",50)(19,"line",51),P(),I(20," Multi-Device "),P(),ie(),x(21,"div",97),Xt(),x(22,"svg",29),vt(23,"path",30),P(),I(24," Lightning Fast "),P()(),Fn())}function Y8(o,n){if(o&1&&(x(0,"div",60)(1,"div",61)(2,"div",62),vt(3,"div",63)(4,"div",64)(5,"div",65)(6,"div",66),P(),vt(7,"div",67),P(),x(8,"div",68),It(9,q8,27,0,"ng-container",2)(10,$8,25,0,"ng-container",2),P()()),o&2){let t=ct();j(9),tt("ngIf",t.isGeneratePage),j(),tt("ngIf",!t.isGeneratePage)}}function X8(o,n){o&1&&(x(0,"div",104)(1,"div",105)(2,"div",106),vt(3,"div",107)(4,"div",108)(5,"div",109)(6,"div",110)(7,"div",111)(8,"div",112)(9,"div",113),P()(),x(10,"div",114)(11,"div",115),vt(12,"div",116)(13,"div",117)(14,"div",118),P(),x(15,"div",119)(16,"h4"),I(17,"Rendering Preview"),P(),x(18,"p"),I(19,"Optimizing your template for the best experience"),P(),x(20,"div",120)(21,"div",121),vt(22,"div",122),P()()()()()),o&2&&tt("@fadeInOut",void 0)}function Q8(o,n){if(o&1){let t=fe();x(0,"div",123)(1,"div",124),vt(2,"div",125),P(),x(3,"div",126)(4,"div",127),vt(5,"div",128),Xt(),x(6,"svg",129),vt(7,"path",130)(8,"line",131)(9,"line",132),P()(),ie(),x(10,"div",133)(11,"h3"),I(12,"Preview Unavailable"),P(),x(13,"p"),I(14),P(),x(15,"div",134)(16,"span"),I(17,"This usually resolves quickly. Try refreshing the preview."),P()()(),x(18,"div",135)(19,"button",136),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.onRefresh())}),Xt(),x(20,"svg",29),vt(21,"path",56)(22,"path",57)(23,"path",58)(24,"path",59),P(),I(25," Try Again "),P(),ie(),x(26,"button",137),Xt(),x(27,"svg",29),vt(28,"path",138),P(),I(29," Get Support "),P()()()()}if(o&2){let t=ct(2);tt("@bounceIn",void 0),j(14),Jt(t.previewError)}}function J8(o,n){if(o&1){let t=fe();x(0,"div",98),It(1,X8,23,1,"div",99),x(2,"div",100)(3,"div",101)(4,"iframe",102),Bt("load",function(){Dt(t);let i=ct();return Lt(i.onIframeLoad())}),P()()(),It(5,Q8,30,2,"div",103),P()}if(o&2){let t=ct();j(),tt("ngIf",t.loading),j(),tt("ngClass",lf(4,P8,t.viewMode==="desktop",t.viewMode==="tablet",t.viewMode==="mobile")),j(2),fi("srcdoc",t.safeSrcdoc,pl),j(),tt("ngIf",t.previewError)}}var GC=(()=>{class o{constructor(){this.sanitizer=be(pf),this.cdr=be($i),this.html="",this.showHeader=!0,this.loading=!1,this.hideHeader=!1,this.allowRefresh=!0,this.allowFullscreen=!0,this.allowViewModes=!0,this.showGenerateActions=!1,this.isGeneratePage=!1,this.internalLoading=!1,this.saveTemplate=new nr,this.runTests=new nr,this.templateNameChange=new nr,this.refresh=new nr,this.viewMode="desktop",this.isFullscreen=!1,this.safeSrcdoc=null}ngOnChanges(t){t.html&&this.html&&this.setFromHtml(this.html)}changeViewMode(t){this.viewMode=t,this.cdr.markForCheck()}onSaveTemplate(){this.saveTemplate.emit()}onTemplateNameChange(t){this.templateNameChange.emit(t)}onRunTests(){this.runTests.emit()}toggleFullscreen(){let t=document.querySelector(".preview-root");if(t)if(!this.isFullscreen)t.requestFullscreen&&t.requestFullscreen().then(()=>{this.isFullscreen=!0,this.cdr.markForCheck(),setTimeout(()=>{let e=document.querySelector(".cdk-overlay-container");e&&document.fullscreenElement&&document.fullscreenElement.appendChild(e)},100)});else{let e=document.querySelector(".cdk-overlay-container");e&&e.parentElement!==document.body&&document.body.appendChild(e),document.exitFullscreen&&document.exitFullscreen().then(()=>{this.isFullscreen=!1,this.cdr.markForCheck()})}}onRefresh(){this.html&&this.setFromHtml(this.html),this.refresh.emit(),this.cdr.markForCheck()}onIframeLoad(){this.internalLoading=!1,this.cdr.markForCheck()}setFromHtml(t){let e=this.ensureDoc(t),i=this.stripDangerousBits(e);this.safeSrcdoc=this.sanitizer.bypassSecurityTrustHtml(i),this.internalLoading=!0,setTimeout(()=>{this.internalLoading&&(this.internalLoading=!1,this.cdr.markForCheck())},3e3)}ensureDoc(t){let e=String(t||"");return/<body[\s>]/i.test(e)||/<\/html>/i.test(e)?e:["<!doctype html><html><head>",'<meta charset="utf-8">','<meta name="viewport" content="width=device-width,initial-scale=1">',"<style>html,body{margin:0;padding:0}</style>","</head><body>",e,"</body></html>"].join("")}stripDangerousBits(t){try{let e=new DOMParser().parseFromString(t,"text/html");return e.querySelectorAll("script, iframe, base").forEach(i=>i.remove()),e.querySelectorAll("*").forEach(i=>{for(let r=i.attributes.length-1;r>=0;r--){let a=i.attributes.item(r);a&&/^on/i.test(a.name)&&i.removeAttribute(a.name)}}),`<!doctype html>
`+e.documentElement.outerHTML}catch{return t.replace(/<script[\s\S]*?<\/script>/gi,"").replace(/<base[\s\S]*?>/gi,"").replace(/<iframe[\s\S]*?<\/iframe>/gi,"")}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-template-preview-panel"]],contentQueries:function(e,i,r){if(e&1&&bs(r,O8,5),e&2){let a;Ki(a=qi())&&(i.customHeaderTemplate=a.first)}},inputs:{html:"html",templateName:"templateName",templateId:"templateId",showHeader:"showHeader",loading:"loading",hideHeader:"hideHeader",allowRefresh:"allowRefresh",allowFullscreen:"allowFullscreen",allowViewModes:"allowViewModes",showGenerateActions:"showGenerateActions",isGeneratePage:"isGeneratePage"},outputs:{saveTemplate:"saveTemplate",runTests:"runTests",templateNameChange:"templateNameChange",refresh:"refresh"},standalone:!0,features:[ys,cn],decls:5,vars:6,consts:[["actionsMenu","matMenu"],[1,"preview-root"],[4,"ngIf"],["class","preview-header",4,"ngIf"],["class","modern-placeholder",4,"ngIf"],["class","preview-container",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"preview-header"],[1,"header-content"],[1,"header-row-unified"],["class","header-left-group",4,"ngIf"],["class","template-title",4,"ngIf"],["class","actions-menu-btn","mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],[1,"actions-dropdown-menu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["class","menu-section-label",4,"ngIf"],[1,"header-left-group"],[1,"template-title"],["type","text","placeholder","Template Name","maxlength","100",1,"template-name-input-compact",3,"ngModelChange","ngModel"],["mat-icon-button","",1,"actions-menu-btn",3,"matMenuTriggerFor"],[1,"menu-section-label"],["class","check-icon",4,"ngIf"],[1,"check-icon"],[1,"template-meta"],[1,"status-badge"],[1,"status-indicator"],["class","template-id",4,"ngIf"],[1,"performance-badge-inline"],["viewBox","0 0 24 24","fill","none","stroke","currentColor"],["d","M13 2L3 14h9l-1 8 10-12h-9l1-8z"],[1,"header-controls-regular"],["class","action-btn fullscreen-btn",3,"click",4,"ngIf"],["class","view-mode-toggle",4,"ngIf"],["class","action-btn refresh-btn",3,"click",4,"ngIf"],[1,"template-id"],[1,"action-btn","fullscreen-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",4,"ngIf"],["d","M8 3H5a2 2 0 0 0-2 2v3"],["d","M21 8V5a2 2 0 0 0-2-2h-3"],["d","M3 16v3a2 2 0 0 0 2 2h3"],["d","M16 21h3a2 2 0 0 0 2-2v-3"],["d","M8 3v3a2 2 0 0 1-2 2H3"],["d","M21 8h-3a2 2 0 0 1-2-2V3"],["d","M3 16h3a2 2 0 0 1 2 2v3"],["d","M16 21v-3a2 2 0 0 1 2-2h3"],[1,"view-mode-toggle"],[1,"mode-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x","2","y","3","width","20","height","14","rx","2","ry","2"],["x1","8","y1","21","x2","16","y2","21"],["x1","12","y1","17","x2","12","y2","21"],["x","4","y","2","width","16","height","20","rx","2","ry","2"],["x1","12","y1","18","x2","12.01","y2","18"],["x","5","y","2","width","14","height","20","rx","2","ry","2"],[1,"action-btn","refresh-btn",3,"click"],["d","M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"],["d","M21 3v5h-5"],["d","M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"],["d","M3 21v-5h5"],[1,"modern-placeholder"],[1,"placeholder-background"],[1,"floating-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"grid-pattern"],[1,"placeholder-content"],[1,"ai-warning-container"],[1,"ai-robot-icon"],["viewBox","0 0 200 200","fill","none","xmlns","http://www.w3.org/2000/svg"],["x","60","y","70","width","80","height","70","rx","10","fill","url(#robotGradient)","stroke","currentColor","stroke-width","3"],["x1","100","y1","70","x2","100","y2","50","stroke","currentColor","stroke-width","3","stroke-linecap","round"],["cx","100","cy","45","r","5","fill","currentColor"],["cx","80","cy","95","r","8","fill","currentColor",1,"eye-left"],["cx","120","cy","95","r","8","fill","currentColor",1,"eye-right"],["d","M 75 115 Q 100 125 125 115","stroke","currentColor","stroke-width","3","stroke-linecap","round","fill","none"],["d","M 145 75 L 147 80 L 152 82 L 147 84 L 145 89 L 143 84 L 138 82 L 143 80 Z","fill","currentColor",1,"sparkle","sparkle-1"],["d","M 48 85 L 50 90 L 55 92 L 50 94 L 48 99 L 46 94 L 41 92 L 46 90 Z","fill","currentColor",1,"sparkle","sparkle-2"],["d","M 155 105 L 157 110 L 162 112 L 157 114 L 155 119 L 153 114 L 148 112 L 153 110 Z","fill","currentColor",1,"sparkle","sparkle-3"],["id","robotGradient","x1","0%","y1","0%","x2","100%","y2","100%"],["offset","0%",2,"stop-color","#667eea","stop-opacity","0.3"],["offset","100%",2,"stop-color","#764ba2","stop-opacity","0.3"],[1,"glow-ring"],[1,"warning-text"],[1,"info-badges"],[1,"badge","warning"],["d","M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"],[1,"placeholder-icon-container"],[1,"icon-backdrop"],[1,"icon-ring"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"placeholder-icon"],["d","m15 10 4.553-2.276A1 1 0 0 1 21 8.618v6.764a1 1 0 0 1-1.447.894L15 14"],["x","3","y","6","width","12","height","12","rx","2"],[1,"placeholder-text"],[1,"feature-pills"],[1,"pill"],[1,"preview-container"],["class","advanced-loader",4,"ngIf"],[1,"iframe-wrapper",3,"ngClass"],[1,"iframe-container"],["sandbox","allow-same-origin allow-forms","referrerpolicy","no-referrer",1,"preview-frame",3,"load"],["class","premium-error",4,"ngIf"],[1,"advanced-loader"],[1,"loader-background"],[1,"neural-network"],[1,"node","node-1"],[1,"node","node-2"],[1,"node","node-3"],[1,"node","node-4"],[1,"connection","connection-1"],[1,"connection","connection-2"],[1,"connection","connection-3"],[1,"loader-content"],[1,"loader-spinner"],[1,"spinner-outer"],[1,"spinner-inner"],[1,"spinner-core"],[1,"loader-text"],[1,"progress-indicator"],[1,"progress-bar"],[1,"progress-fill"],[1,"premium-error"],[1,"error-background"],[1,"error-pattern"],[1,"error-content"],[1,"error-icon-container"],[1,"error-icon-backdrop"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"error-icon"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"error-text"],[1,"error-details"],[1,"error-actions"],[1,"retry-btn",3,"click"],[1,"support-btn"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"]],template:function(e,i){e&1&&(x(0,"div",1),It(1,w8,2,1,"ng-container",2)(2,K8,26,12,"div",3)(3,Y8,11,2,"div",4)(4,J8,6,8,"div",5),P()),e&2&&(De("fullscreen",i.isFullscreen),j(),tt("ngIf",i.customHeaderTemplate),j(),tt("ngIf",!i.customHeaderTemplate&&i.showHeader&&!i.hideHeader),j(),tt("ngIf",!i.html&&!i.loading),j(),tt("ngIf",i.html||i.loading))},dependencies:[Tn,na,qn,tb,Oi,lr,Mi,Pi,cr,Ir,bo,Co,hf,xo,Po,Ss,la,aa,Oc,sa,vf,mf],styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%;position:relative}.preview-root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:linear-gradient(135deg,#f8fafc,#e2e8f0);overflow:hidden;position:relative;transition:all .4s cubic-bezier(.4,0,.2,1)}.preview-root[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(120,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgba(120,219,255,.2) 0%,transparent 50%);pointer-events:none;animation:_ngcontent-%COMP%_gradient-shift 15s ease infinite}.preview-root.fullscreen[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999}.preview-header[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#6d28d9,#5b21b6);padding:1.5rem 2rem;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.2);overflow:hidden;box-shadow:0 4px 24px #0000001a;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;flex-direction:column;gap:1rem;max-width:1400px;margin:0 auto}.preview-header[_ngcontent-%COMP%]   .header-row-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:nowrap}@media (max-width: 1200px){.preview-header[_ngcontent-%COMP%]   .header-row-main[_ngcontent-%COMP%]{flex-wrap:wrap}}.preview-header[_ngcontent-%COMP%]   .header-row-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;flex-wrap:wrap}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:800;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.3);letter-spacing:-.02em;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#ffffff40;border:1px solid rgba(255,255,255,.4);border-radius:24px;font-size:.875rem;font-weight:700;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #00000026;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background:#10b981;border-radius:50%;box-shadow:0 0 0 2px #10b98166;animation:_ngcontent-%COMP%_pulse-status 2s infinite;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%]{font-size:.8125rem;color:#fff;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,.3);opacity:.95;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:linear-gradient(135deg,#fbbf24,#f59e0b);border:1px solid #d97706;border-radius:24px;font-size:.875rem;font-weight:700;color:#78350f;box-shadow:0 2px 8px #f59e0b4d;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;stroke-width:2.5;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1rem;border:1px solid rgba(255,255,255,.35);background:#fff3;color:#fff;border-radius:10px;font-size:.875rem;font-weight:700;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #0000001a;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-2px);box-shadow:0 6px 16px #0003}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.preview-header[_ngcontent-%COMP%]   .action-btn.refresh-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin-refresh .6s ease}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]{display:flex;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:12px;padding:4px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .75rem;border:none;background:transparent;color:#ffffffd9;border-radius:8px;font-size:.8125rem;font-weight:600;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#fff3}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn.active[_ngcontent-%COMP%]{color:#fff;background:#ffffff59;box-shadow:0 2px 8px #00000026}.template-name-input-simple[_ngcontent-%COMP%]{width:200px;padding:.75rem 1.25rem;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:12px;color:#fff;font-size:.9375rem;font-weight:600;font-family:inherit;transition:all .2s}.template-name-input-simple[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.template-name-input-simple[_ngcontent-%COMP%]:focus{outline:none;background:#ffffff40;border-color:#ffffff80;box-shadow:0 0 0 3px #ffffff1a}.save-btn[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:.5rem!important;padding:.75rem 1.5rem!important;background:linear-gradient(135deg,#667eea,#764ba2)!important;color:#fff!important;border:none!important;border-radius:12px!important;font-weight:700!important;font-size:.9375rem!important;box-shadow:0 4px 16px #667eea4d!important;transition:all .3s!important;white-space:nowrap!important;cursor:pointer}.save-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;display:none}.save-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #667eea66!important}.save-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.run-tests-btn[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:.5rem!important;padding:.75rem 1.5rem!important;background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;border:none!important;border-radius:12px!important;font-weight:700!important;font-size:.9375rem!important;box-shadow:0 4px 16px #10b9814d!important;transition:all .3s!important;white-space:nowrap!important;cursor:pointer}.run-tests-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.run-tests-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #10b98166!important}.run-tests-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.modern-placeholder[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;padding:2rem 1rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]{display:none}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:400px}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]{display:none}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;background:linear-gradient(135deg,#6d28d9,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0 0 1rem;letter-spacing:-.02em;line-height:1.2}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#64748b;line-height:1.6;margin:0;font-weight:500}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%], .modern-placeholder[_ngcontent-%COMP%]   .ai-warning-container[_ngcontent-%COMP%]   .ai-robot-icon[_ngcontent-%COMP%], .modern-placeholder[_ngcontent-%COMP%]   .ai-warning-container[_ngcontent-%COMP%]   .info-badges[_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative;margin:0;background:#fff;border-radius:0;box-shadow:none;overflow:hidden;animation:_ngcontent-%COMP%_scaleIn .4s cubic-bezier(.4,0,.2,1)}.advanced-loader[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;padding:1rem}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffffffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:.08}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;background:#6366f1;border-radius:50%;box-shadow:0 0 20px #6366f180;animation:_ngcontent-%COMP%_node-pulse 2s ease-in-out infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-1[_ngcontent-%COMP%]{top:25%;left:25%}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-2[_ngcontent-%COMP%]{top:25%;right:25%;animation-delay:.5s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-3[_ngcontent-%COMP%]{bottom:25%;left:25%;animation-delay:1s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-4[_ngcontent-%COMP%]{bottom:25%;right:25%;animation-delay:1.5s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection[_ngcontent-%COMP%]{position:absolute;height:3px;background:linear-gradient(90deg,transparent,#6366f1,transparent);animation:_ngcontent-%COMP%_connection-flow 3s ease-in-out infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-1[_ngcontent-%COMP%]{top:25%;left:25%;right:25%}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-2[_ngcontent-%COMP%]{bottom:25%;left:25%;right:25%;animation-delay:1s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-3[_ngcontent-%COMP%]{top:25%;bottom:25%;left:25%;width:3px;height:auto;background:linear-gradient(180deg,transparent,#6366f1,transparent);animation-delay:2s}.advanced-loader[_ngcontent-%COMP%]   .loader-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;animation:_ngcontent-%COMP%_fadeIn .4s}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{position:relative;width:70px;height:70px;margin:0 auto 2rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{position:absolute;border:4px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin-loader 1.2s linear infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%]{width:100%;height:100%;border-top-color:#6366f1;border-right-color:#6366f1;box-shadow:0 0 20px #6366f14d}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%]{width:70%;height:70%;top:15%;left:15%;border-top-color:#8b5cf6;border-left-color:#8b5cf6;animation-delay:-.4s;animation-direction:reverse;box-shadow:0 0 15px #8b5cf64d}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{width:40%;height:40%;top:30%;left:30%;border-top-color:#06b6d4;border-bottom-color:#06b6d4;animation-delay:-.8s;box-shadow:0 0 10px #06b6d44d}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#1f2937;margin:0 0 .75rem;letter-spacing:-.02em}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0 0 2rem;font-weight:500}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:350px;margin:0 auto}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden;box-shadow:inset 0 2px 4px #0000000f}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(135deg,#4facfe,#00f2fe);border-radius:4px;width:0%;animation:_ngcontent-%COMP%_progress-flow 2.5s ease-in-out infinite;box-shadow:0 0 10px #4facfe80}.iframe-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;background:#fff;display:flex;align-items:center;justify-content:center;padding:0}.iframe-wrapper[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:all .4s cubic-bezier(.4,0,.2,1);box-shadow:none;border-radius:0;overflow:hidden;background:#fff}.iframe-wrapper[_ngcontent-%COMP%]   .preview-frame[_ngcontent-%COMP%]{width:100%;height:100%;border:none;border-radius:0;background:#fff;transition:all .4s cubic-bezier(.4,0,.2,1)}.iframe-wrapper.desktop-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100%;height:100%}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(768px,85vw);height:100%;box-shadow:0 8px 32px #0000001f;border-radius:12px}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(375px,50vw);height:100%;box-shadow:0 8px 32px #0000001f;border-radius:12px}.premium-error[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:50;padding:1rem}.premium-error[_ngcontent-%COMP%]   .error-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#fef2f2,#fff7f7)}.premium-error[_ngcontent-%COMP%]   .error-background[_ngcontent-%COMP%]   .error-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:radial-gradient(circle at 2px 2px,rgba(239,68,68,.08) 2px,transparent 0);background-size:24px 24px;animation:_ngcontent-%COMP%_pattern-shift 20s linear infinite}.premium-error[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:480px;padding:2.5rem;animation:_ngcontent-%COMP%_bounceIn .6s cubic-bezier(.68,-.55,.265,1.55)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]{position:relative;margin:0 auto 2rem;width:100px;height:100px}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]   .error-icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#f093fb,#f5576c);border-radius:50%;opacity:.15;animation:_ngcontent-%COMP%_error-pulse 2s ease-in-out infinite;filter:blur(20px)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#ef4444;stroke-width:2;animation:_ngcontent-%COMP%_shake-error .5s ease-in-out;filter:drop-shadow(0 4px 12px rgba(239,68,68,.3))}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{margin-bottom:2.5rem}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;color:#dc2626;margin:0 0 1rem;letter-spacing:-.02em}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#7f1d1d;margin:0 0 .75rem;font-weight:600}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{font-size:1rem;color:#991b1b;opacity:.9;font-weight:500}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.25rem;flex-wrap:wrap}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.75rem;border:none;border-radius:10px;font-size:.9375rem;font-weight:700;cursor:pointer;transition:all .3s;white-space:nowrap}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 16px #ef44444d}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 32px #ef444466}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]{background:#fff;color:#ef4444;border:2px solid #ef4444;box-shadow:0 2px 8px #ef44441a}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff;transform:translateY(-3px)}@keyframes _ngcontent-%COMP%_gradient-shift{0%,to{opacity:1}50%{opacity:.8}}@keyframes _ngcontent-%COMP%_grid-move{0%{transform:translate(0)}to{transform:translate(50px,50px)}}@keyframes _ngcontent-%COMP%_float-shapes{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-40px,-40px) rotate(120deg)}66%{transform:translate(40px,40px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_float-icon{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(5deg)}}@keyframes _ngcontent-%COMP%_rotate-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-backdrop{0%,to{transform:scale(1);opacity:.12}50%{transform:scale(1.15);opacity:.25}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse-status{0%,to{opacity:1;transform:scale(1);box-shadow:0 0 0 3px #10b98166}50%{opacity:.6;transform:scale(1.3);box-shadow:0 0 0 6px #10b9811a}}@keyframes _ngcontent-%COMP%_spin-refresh{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_node-pulse{0%,to{opacity:.3;transform:scale(1);box-shadow:0 0 20px #6366f14d}50%{opacity:1;transform:scale(1.8);box-shadow:0 0 30px #6366f199}}@keyframes _ngcontent-%COMP%_connection-flow{0%,to{opacity:.3}50%{opacity:1}}@keyframes _ngcontent-%COMP%_spin-loader{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_progress-flow{0%{width:0%}50%{width:75%}to{width:100%}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.4)}50%{opacity:1;transform:scale(1.08)}70%{transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_error-pulse{0%,to{transform:scale(1);opacity:.15}50%{transform:scale(1.25);opacity:.35}}@keyframes _ngcontent-%COMP%_shake-error{0%,to{transform:translate(0) rotate(0)}10%,30%,50%,70%,90%{transform:translate(-6px) rotate(-2deg)}20%,40%,60%,80%{transform:translate(6px) rotate(2deg)}}@keyframes _ngcontent-%COMP%_pattern-shift{0%{transform:translate(0) translateY(0)}to{transform:translate(24px) translateY(24px)}}@media (max-width: 1200px){.header-row-main[_ngcontent-%COMP%]{flex-wrap:wrap}.header-row-main[_ngcontent-%COMP%]   .template-name-input-simple[_ngcontent-%COMP%]{width:100%;max-width:300px}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(768px,90vw)}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(375px,60vw)}}@media (max-width: 1024px){.preview-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:.875rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:.875rem}}@media (max-width: 768px){.preview-header[_ngcontent-%COMP%]{padding:1rem}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:1.25rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:.5rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem}.header-row-main[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;width:100%}.header-row-main[_ngcontent-%COMP%]   .template-name-input-simple[_ngcontent-%COMP%], .header-row-main[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%], .header-row-main[_ngcontent-%COMP%]   .run-tests-btn[_ngcontent-%COMP%], .header-row-main[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]   .template-name-input-simple[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]   .run-tests-btn[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%], .view-mode-toggle[_ngcontent-%COMP%]{width:100%;justify-content:center}.view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.5rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.75rem;max-width:200px}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100vw;border-radius:0;box-shadow:none}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100vw;border-radius:4px}}@media (max-width: 480px){.preview-header[_ngcontent-%COMP%]{padding:.75rem}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:1rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:.375rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:.6875rem;padding:.25rem .5rem}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.8125rem}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]{padding:2px}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{padding:.25rem .375rem}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:10px;height:10px}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:60px;height:60px;margin:0 auto 1.5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin:0 0 1rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:250px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:6px}}@media (max-width: 1024px){.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 2rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:300px}}@media (max-width: 768px){.advanced-loader[_ngcontent-%COMP%]{padding:.5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:65px;height:65px;margin:0 auto 1.25rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{border-width:3px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin:0 0 .5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin:0 0 1.25rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:280px}}@media (max-width: 480px),(max-height: 600px){.advanced-loader[_ngcontent-%COMP%]{padding:.5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:55px;height:55px;margin:0 auto 1rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{border-width:2px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin:0 0 .375rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem;margin:0 0 1rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:220px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:5px}}@media (max-height: 500px) and (orientation: landscape){.advanced-loader[_ngcontent-%COMP%]{padding:.5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin:0 auto .75rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{border-width:2px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9375rem;margin:0 0 .25rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;margin:0 0 .75rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:200px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:4px}}@media (max-width: 360px){.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin:0 auto .875rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9375rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:180px}}@media (prefers-color-scheme: dark){.preview-root[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b)}.preview-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4c1d95,#3730a3)}.preview-container[_ngcontent-%COMP%]{background:#1e293b}.iframe-wrapper[_ngcontent-%COMP%]{background:#0f172a}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{background:#1e293bcc;border-color:#475569;color:#cbd5e1}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover{background:#6366f11a;border-color:#6366f1;color:#a5b4fc}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]{background:#0f172afa}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f1f5f9}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}.floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%], .neural-network[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .neural-network[_ngcontent-%COMP%]   .connection[_ngcontent-%COMP%], .grid-pattern[_ngcontent-%COMP%]{animation:none!important}}@media (prefers-contrast: high){.preview-header[_ngcontent-%COMP%]{background:#000;border-bottom:2px solid #fff}.template-title[_ngcontent-%COMP%], .template-meta[_ngcontent-%COMP%], .action-btn[_ngcontent-%COMP%], .mode-btn[_ngcontent-%COMP%]{color:#fff!important;border-color:#fff!important}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:#000;-webkit-background-clip:initial;-webkit-text-fill-color:initial;background-clip:initial;color:#000}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{background:#fff;border:2px solid #000;color:#000}}@media print{.preview-root[_ngcontent-%COMP%]{height:auto;background:#fff}.preview-header[_ngcontent-%COMP%]{background:#6d28d9;color:#fff;-webkit-print-color-adjust:exact;print-color-adjust:exact}.modern-placeholder[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]{page-break-inside:avoid}}.ai-warning-container[_ngcontent-%COMP%]{text-align:center;max-width:600px;margin:0 auto;padding:2rem;animation:_ngcontent-%COMP%_fadeInScale .6s ease forwards;background:transparent!important}.ai-robot-icon[_ngcontent-%COMP%]{position:relative;width:180px;height:180px;margin:0 auto 2.5rem;animation:_ngcontent-%COMP%_floatUpDown 3s ease-in-out infinite}.ai-robot-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;color:#6d28d9;filter:drop-shadow(0 10px 30px rgba(109,40,217,.3));position:relative;z-index:2}.ai-robot-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .eye-left[_ngcontent-%COMP%], .ai-robot-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .eye-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 3s ease-in-out infinite}.ai-robot-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .eye-right[_ngcontent-%COMP%]{animation-delay:.1s}.ai-robot-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .sparkle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_sparkleRotate 2s ease-in-out infinite;transform-origin:center;opacity:.7}.ai-robot-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .sparkle.sparkle-1[_ngcontent-%COMP%]{animation-delay:0s}.ai-robot-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .sparkle.sparkle-2[_ngcontent-%COMP%]{animation-delay:.6s}.ai-robot-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .sparkle.sparkle-3[_ngcontent-%COMP%]{animation-delay:1.2s}.ai-robot-icon[_ngcontent-%COMP%]   .glow-ring[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:120%;height:120%;transform:translate(-50%,-50%);border-radius:50%;background:radial-gradient(circle,rgba(109,40,217,.15) 0%,transparent 70%);animation:_ngcontent-%COMP%_glowPulse 2s ease-in-out infinite}.ai-warning-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1.5rem,3.5vw,2rem);font-weight:800;background:linear-gradient(135deg,#6d28d9,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0 0 1rem;letter-spacing:-.02em;line-height:1.2}.warning-text[_ngcontent-%COMP%]{font-size:clamp(.9375rem,2vw,1.0625rem);line-height:1.6;color:#64748b;margin:0 0 2rem;font-weight:500;max-width:480px;margin-left:auto;margin-right:auto}.info-badges[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.6875rem 1.375rem;border-radius:50px;font-size:.875rem;font-weight:800;border:2.5px solid;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:default;letter-spacing:.01em}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0;stroke-width:2.5}.info-badges[_ngcontent-%COMP%]   .badge.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#fbbf241a);border-color:#f59e0b59;color:#d97706}.info-badges[_ngcontent-%COMP%]   .badge.warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);border-color:#f59e0b80;transform:translateY(-2px);box-shadow:0 8px 20px #f59e0b33}.info-badges[_ngcontent-%COMP%]   .badge.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#93c5fd1a);border-color:#3b82f659;color:#2563eb}.info-badges[_ngcontent-%COMP%]   .badge.info[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f633,#93c5fd33);border-color:#3b82f680;transform:translateY(-2px);box-shadow:0 8px 20px #3b82f633}@keyframes _ngcontent-%COMP%_floatUpDown{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_pulseRing{0%{opacity:1;transform:translate(-50%,-50%) scale(.8)}to{opacity:0;transform:translate(-50%,-50%) scale(1.4)}}@keyframes _ngcontent-%COMP%_blink{0%,45%,55%,to{opacity:1;transform:scaleY(1)}50%{opacity:.3;transform:scaleY(.1)}}@keyframes _ngcontent-%COMP%_sparkleRotate{0%,to{opacity:.4;transform:scale(1) rotate(0)}50%{opacity:1;transform:scale(1.2) rotate(180deg)}}@keyframes _ngcontent-%COMP%_glowPulse{0%,to{opacity:.5;transform:translate(-50%,-50%) scale(1)}50%{opacity:.8;transform:translate(-50%,-50%) scale(1.1)}}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.ai-warning-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.ai-robot-icon[_ngcontent-%COMP%]{width:120px;height:120px;margin-bottom:2rem}.info-badges[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{justify-content:center;width:100%}}@media (max-width: 480px){.ai-robot-icon[_ngcontent-%COMP%]{width:90px;height:90px;margin-bottom:1.5rem}.warning-text[_ngcontent-%COMP%]{font-size:.9375rem;margin-bottom:2rem}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.625rem 1.25rem;font-size:.875rem}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}}@media (prefers-reduced-motion: reduce){.ai-robot-icon[_ngcontent-%COMP%], .pulse-ring[_ngcontent-%COMP%], .pulse-ring[_ngcontent-%COMP%]:before, .pulse-ring[_ngcontent-%COMP%]:after{animation:none!important}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]:hover{transform:none!important}.ai-warning-container[_ngcontent-%COMP%]{animation:none!important}}.header-row-unified[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;width:100%}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .header-left-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1;min-width:0}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .header-left-group[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{margin:0;flex-shrink:0;display:none}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .template-name-input-compact[_ngcontent-%COMP%]{flex:1;min-width:150px;max-width:400px;padding:.75rem 1.25rem;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:12px;color:#fff;font-size:.9375rem;font-weight:600;font-family:inherit;transition:all .2s}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .template-name-input-compact[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .template-name-input-compact[_ngcontent-%COMP%]:focus{outline:none;background:#ffffff40;border-color:#ffffff80;box-shadow:0 0 0 3px #ffffff1a}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .actions-menu-btn[_ngcontent-%COMP%]{width:48px!important;height:48px!important;background:#fff3!important;border:1px solid rgba(255,255,255,.3)!important;border-radius:12px!important;color:#fff!important;transition:all .2s!important;flex-shrink:0;margin-left:auto}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .actions-menu-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .actions-menu-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d!important;transform:scale(1.05)}  .actions-dropdown-menu .mat-mdc-menu-panel{background:#fff;border-radius:12px;box-shadow:0 12px 48px #0003;min-width:240px!important}  .actions-dropdown-menu .mat-mdc-menu-item{height:48px;font-size:.9375rem;font-weight:600;transition:all .2s;display:flex!important;align-items:center!important;padding:0 16px!important}  .actions-dropdown-menu .mat-mdc-menu-item mat-icon{margin-right:1rem;color:#6d28d9;flex-shrink:0}  .actions-dropdown-menu .mat-mdc-menu-item mat-icon.active-mode{color:#10b981}  .actions-dropdown-menu .mat-mdc-menu-item mat-icon.check-icon{position:absolute!important;right:16px!important;margin:0!important;color:#10b981;font-size:20px;width:20px;height:20px}  .actions-dropdown-menu .mat-mdc-menu-item span{flex:1;padding-right:32px}  .actions-dropdown-menu .mat-mdc-menu-item:hover{background:linear-gradient(135deg,#6d28d914,#ec489914)}  .actions-dropdown-menu .menu-section-label{padding:.5rem 1rem;font-size:.75rem;font-weight:800;text-transform:uppercase;letter-spacing:.05em;color:#94a3b8}  .actions-dropdown-menu .mat-divider{margin:.5rem 0;border-top-color:#e2e8f0}.header-controls-regular[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-left:auto}@media (min-width: 768px){.modern-placeholder[_ngcontent-%COMP%]{padding:1rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]{display:block;position:absolute;inset:0}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;background:linear-gradient(135deg,#f093fb,#f5576c);border-radius:50%;opacity:.12;filter:blur(40px);animation:_ngcontent-%COMP%_float-shapes 12s ease-in-out infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:200px;height:200px;top:15%;left:8%}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:150px;height:150px;top:55%;right:12%;animation-delay:-3s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:250px;height:250px;bottom:18%;left:18%;animation-delay:-6s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-4[_ngcontent-%COMP%]{width:180px;height:180px;top:8%;right:25%;animation-delay:-9s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .grid-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(99,102,241,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(99,102,241,.03) 1px,transparent 1px);background-size:50px 50px;animation:_ngcontent-%COMP%_grid-move 20s linear infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{max-width:560px;padding:2rem;animation:_ngcontent-%COMP%_fadeInUp .6s cubic-bezier(.68,-.55,.265,1.55)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]{display:block;position:relative;margin:0 auto 2.5rem;width:140px;height:140px}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#4facfe,#00f2fe);border-radius:50%;opacity:.12;animation:_ngcontent-%COMP%_pulse-backdrop 3s ease-in-out infinite;filter:blur(20px)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-ring[_ngcontent-%COMP%]{position:absolute;inset:-10px;border:2px solid rgba(99,102,241,.2);border-radius:50%;animation:_ngcontent-%COMP%_rotate-ring 8s linear infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-ring[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;width:8px;height:8px;background:#6366f1;border-radius:50%;transform:translate(-50%,-50%);box-shadow:0 0 12px #6366f199}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#6366f1;stroke-width:1.5;animation:_ngcontent-%COMP%_float-icon 4s ease-in-out infinite;filter:drop-shadow(0 4px 12px rgba(99,102,241,.2))}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{margin-bottom:2.5rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1.25rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.25rem;flex-wrap:wrap}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;background:#fff;border:2px solid #e2e8f0;border-radius:50px;font-size:.9375rem;font-weight:700;color:#475569;box-shadow:0 8px 32px #00000014;transition:all .4s cubic-bezier(.4,0,.2,1);animation:_ngcontent-%COMP%_slideInUp .4s cubic-bezier(.4,0,.2,1);animation-fill-mode:both;cursor:default;white-space:nowrap}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(1){animation-delay:.15s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(2){animation-delay:.25s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(3){animation-delay:.35s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5;transition:all .2s;flex-shrink:0}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 16px 64px #00000026;border-color:#6366f1;color:#6366f1;background:linear-gradient(135deg,#fff,#f8f9ff)}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg)}.modern-placeholder[_ngcontent-%COMP%]   .ai-warning-container[_ngcontent-%COMP%]   .ai-robot-icon[_ngcontent-%COMP%]{display:block}.modern-placeholder[_ngcontent-%COMP%]   .ai-warning-container[_ngcontent-%COMP%]   .info-badges[_ngcontent-%COMP%]{display:flex}}'],data:{animation:[Jn("fadeInOut",[hl("in",$e({opacity:1})),In(":enter",[$e({opacity:0}),En(300,$e({opacity:1}))]),In(":leave",[En(300,$e({opacity:0}))])]),Jn("bounceIn",[In(":enter",[$e({opacity:0,transform:"scale(0.3)"}),En("300ms ease-in",$e({opacity:1,transform:"scale(1.05)"})),En("100ms ease-out",$e({transform:"scale(1)"}))])])]},changeDetection:0})}}return o})();var zf=(()=>{class o{constructor(){this.http=be(xs),this.db=be(Aa)}kConversation(t){return`generate:conversation:${t}`}kCurrentConversationId(){return"generate:currentConversationId"}kConversationSession(t){return`generate_session:${t}`}startGeneration(t,e,i){console.log("\u{1F535} [SERVICE] startGeneration called:",{promptLength:t.length,imageCount:e?.length||0,conversationId:i});let r={prompt:t,images:e,conversationId:i};return this.http.post("/api/generate/start",r,{withCredentials:!0}).pipe(nu(a=>{console.log("\u{1F535} [SERVICE] startGeneration response:",{conversationId:a.conversationId,hasHtml:!!a.html,hasMjml:!!a.mjml}),this.setCurrentConversationId(a.conversationId)}))}continueConversation(t,e,i){console.log("\u{1F535} [SERVICE] continueConversation called:",{conversationId:t,messageLength:e.length,imageCount:i?.length||0});let r={message:e,images:i};return this.http.post(`/api/generate/continue/${t}`,r,{withCredentials:!0}).pipe(nu(a=>{console.log("\u{1F535} [SERVICE] continueConversation response:",{conversationId:a.conversationId,hasHtml:!!a.html,hasMjml:!!a.mjml})}))}chat(t,e,i,r,a){console.log("\u{1F535} [SERVICE] chat called:",{messageLength:t.length,historyLength:e.length,hasCurrentMjml:!!i,imageCount:r?.length||0,hasExtractedFileData:!!a,extractedFileDataLength:a?.length||0});let s={message:t,conversationHistory:e,currentMjml:i,images:r,extractedFileData:a};return this.http.post("/api/generate/chat",s,{withCredentials:!0}).pipe(nu(l=>{console.log("\u{1F535} [SERVICE] chat response:",{hasHtml:!!l.html,hasMjml:!!l.mjml,message:l.message})}))}getConversation(t){let e=this.getConversationCached(t);return console.log("\u{1F535} [SERVICE] getConversation called:",{conversationId:t,hasCachedData:!!e,cachedMessagesCount:e?.messages?.length||0}),e&&e.messages&&e.messages.length>0?(console.log("\u{1F535} [SERVICE] Returning cached conversation"),jm(e)):(console.log("\u{1F535} [SERVICE] No cache found, returning empty conversation"),jm({conversationId:t,messages:[],currentHtml:"",currentMjml:"",templateName:"Generated Template",status:"active",createdAt:new Date,updatedAt:new Date}))}getHistory(t=10,e=0){return this.http.get(`/api/generate/history?limit=${t}&offset=${e}`,{withCredentials:!0})}saveTemplate(t,e){let i=this.getConversationCached(t);if(!i||!i.currentHtml)throw new Error("No template to save");return console.log("\u{1F4BE} [SERVICE] Saving template:",{conversationId:t,templateName:e,hasHtml:!!i.currentHtml,hasMjml:!!i.currentMjml}),this.http.post(`/api/generate/save/${t}`,{templateName:e,html:i.currentHtml,mjml:i.currentMjml},{withCredentials:!0}).pipe(nu(r=>{i&&(i.templateName=e,i.status="saved",this.cacheConversation(t,i))}))}previewMjml(t){return this.http.post("/api/generate/preview",{mjml:t},{withCredentials:!0})}getStarter(){return this.http.get("/api/generate/starter",{withCredentials:!0})}getConversationCached(t){try{let e=this.kConversationSession(t),i=sessionStorage.getItem(e),r="sessionStorage";if(!i){let s=this.kConversation(t);i=localStorage.getItem(s),r="localStorage"}if(!i)return null;let a=JSON.parse(i);return!a.conversationId||!Array.isArray(a.messages)?(this.clearConversationCache(t),null):(a.createdAt=new Date(a.createdAt),a.updatedAt=new Date(a.updatedAt),a.messages=a.messages.map(s=>Zo(pi({},s),{timestamp:new Date(s.timestamp),images:s.images||void 0})),a)}catch{try{this.clearConversationCache(t)}catch{}return null}}cacheConversation(t,e){try{let i=JSON.stringify(e);try{let r=this.kConversationSession(t);sessionStorage.setItem(r,i)}catch{this.clearOldConversations("session");try{sessionStorage.setItem(this.kConversationSession(t),i)}catch{}}try{let r=this.kConversation(t);localStorage.setItem(r,i)}catch{}}catch{}}updateConversationCache(t,e,i,r,a){console.log("\u{1F535} [SERVICE] updateConversationCache called:",{conversationId:t,messagesCount:e.length,hasHtml:!!i,hasMjml:!!r,templateName:a});try{let s=this.getConversationCached(t);if(s)console.log("\u{1F535} [SERVICE] Updating existing cache entry"),s.messages=e,s.currentHtml=i,s.currentMjml=r,a!==void 0&&(s.templateName=a),s.updatedAt=new Date,this.cacheConversation(t,s);else{console.log("\u{1F535} [SERVICE] Creating new cache entry");let l={conversationId:t,messages:e,currentHtml:i,currentMjml:r,templateName:a,status:"active",createdAt:new Date,updatedAt:new Date};this.cacheConversation(t,l)}}catch(s){console.error("\u{1F534} [SERVICE] updateConversationCache error:",s)}}getCurrentConversationId(){try{return sessionStorage.getItem(this.kCurrentConversationId())||localStorage.getItem(this.kCurrentConversationId())}catch{return null}}setCurrentConversationId(t){try{sessionStorage.setItem(this.kCurrentConversationId(),t),localStorage.setItem(this.kCurrentConversationId(),t)}catch{}}clearCurrentConversationId(){try{sessionStorage.removeItem(this.kCurrentConversationId()),localStorage.removeItem(this.kCurrentConversationId())}catch{}}clearConversationCache(t){try{sessionStorage.removeItem(this.kConversationSession(t)),localStorage.removeItem(this.kConversation(t))}catch{}}clearOldConversations(t="session"){try{let e=t==="session"?sessionStorage:localStorage,i=t==="session"?"generate_session:":"generate:conversation:",r=[];for(let a=0;a<e.length;a++){let s=e.key(a);s&&s.startsWith(i)&&r.push(s)}r.length>5&&r.slice(0,r.length-5).forEach(a=>{e.removeItem(a)})}catch{}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275prov=yo({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Z8=["messagesContainer"],tE=["messageInput"];function eE(o,n){if(o&1&&vt(0,"img",46),o&2){let t=n.$implicit;tt("src","data:"+t.mediaType+";base64,"+t.data,no)("alt",t.fileName)}}function nE(o,n){if(o&1&&(x(0,"div",44),It(1,eE,1,2,"img",45),P()),o&2){let t=ct().$implicit;j(),tt("ngForOf",t.images)}}function iE(o,n){if(o&1&&(x(0,"div",47)(1,"div",48)(2,"div",49)(3,"mat-icon"),I(4),P()(),x(5,"div",50)(6,"span",51),I(7),P(),x(8,"span",52),I(9),P()()()()),o&2){let t=ct().$implicit,e=ct();j(4),Jt(e.getFileIcon(t.attachment.fileName)),j(3),Jt(t.attachment.fileName),j(2),Jt(e.formatFileSize(t.attachment.fileSize))}}function rE(o,n){if(o&1&&(x(0,"div",36)(1,"div",37)(2,"div",38)(3,"span",39),I(4),P(),x(5,"span",40),I(6),on(7,"date"),P()(),It(8,nE,2,1,"div",41)(9,iE,10,3,"div",42),x(10,"div",43),I(11),P()()()),o&2){let t=n.$implicit;De("user-msg",t.role==="user")("assistant-msg",t.role==="assistant"),j(),De("user-bubble",t.role==="user"),j(3),Jt(t.role==="user"?"You":"AI Assistant"),j(2),Jt(su(7,11,t.timestamp,"short")),j(2),tt("ngIf",t.images&&t.images.length>0),j(),tt("ngIf",t.attachment),j(2),Fe(" ",t.content," ")}}function oE(o,n){if(o&1){let t=fe();x(0,"div",57),vt(1,"img",46),x(2,"button",58),Bt("click",function(){let i=Dt(t).index,r=ct(2);return Lt(r.removeImage(i))}),x(3,"mat-icon"),I(4,"close"),P()()()}if(o&2){let t=n.$implicit,e=n.index;j(),tt("src",t,no)("alt","Preview "+(e+1))}}function aE(o,n){if(o&1&&(x(0,"div",53)(1,"div",54)(2,"div",38)(3,"span",39),I(4,"Image Preview"),P()(),x(5,"div",55),It(6,oE,5,2,"div",56),P()()()),o&2){let t=ct();j(6),tt("ngForOf",t.imagePreviewUrls)}}function sE(o,n){if(o&1){let t=fe();x(0,"div",53)(1,"div",59)(2,"div",38)(3,"span",39),I(4,"\u{1F4CE} Attached File"),P(),x(5,"button",60),Bt("click",function(){Dt(t);let i=ct();return Lt(i.removeAttachedFile())}),x(6,"mat-icon"),I(7,"close"),P()()(),x(8,"div",61)(9,"div",62)(10,"mat-icon",63),I(11),P()(),x(12,"div",64)(13,"span",65),I(14),P(),x(15,"span",66),I(16),P()()()()()}if(o&2){let t=ct();j(11),Jt(t.getFileIcon(t.attachedFile.name)),j(3),Jt(t.attachedFile.name),j(2),Jt(t.formatFileSize(t.attachedFile.size))}}function lE(o,n){if(o&1&&(x(0,"div",67)(1,"div",68)(2,"div",38)(3,"span",39),I(4,"AI Assistant"),P()(),x(5,"div",43)(6,"div",69),vt(7,"span")(8,"span")(9,"span"),P(),x(10,"span",70),I(11),P()()()()),o&2){let t=ct();j(11),Jt(t.isRegenerating?"Regenerating template...":"Generating template...")}}function cE(o,n){if(o&1){let t=fe();x(0,"div",71),Bt("click",function(){Dt(t);let i=ct();return Lt(i.closeAttachChoiceBanner())}),x(1,"div",72),Bt("click",function(i){return Dt(t),Lt(i.stopPropagation())}),x(2,"button",73),Bt("click",function(){Dt(t);let i=ct();return Lt(i.closeAttachChoiceBanner())}),x(3,"mat-icon"),I(4,"close"),P()(),x(5,"div",74)(6,"h2",75),I(7,"\u{1F4CE} Attach File"),P(),x(8,"p",76),I(9,"Choose what you want to attach"),P(),x(10,"div",77)(11,"button",78),Bt("click",function(){Dt(t);let i=ct();return Lt(i.selectImageAttachment())}),x(12,"mat-icon"),I(13,"image"),P(),x(14,"span"),I(15,"Image"),P()(),x(16,"button",79),Bt("click",function(){Dt(t);let i=ct();return Lt(i.selectDocumentAttachment())}),x(17,"mat-icon"),I(18,"description"),P(),x(19,"span"),I(20,"Document"),P()(),x(21,"button",80),Bt("click",function(){Dt(t);let i=ct();return Lt(i.selectUrlAttachment())}),x(22,"mat-icon"),I(23,"link"),P(),x(24,"span"),I(25,"Website URL"),P()()()()()()}}function dE(o,n){if(o&1){let t=fe();x(0,"div",89)(1,"mat-form-field",90)(2,"mat-label"),I(3,"Website URL"),P(),x(4,"input",91),xi("ngModelChange",function(i){Dt(t);let r=ct(2);return Ci(r.websiteUrl,i)||(r.websiteUrl=i),Lt(i)}),Bt("keydown.enter",function(){Dt(t);let i=ct(2);return Lt(i.analyzeWebsite())}),P(),x(5,"mat-icon",92),I(6,"link"),P()(),x(7,"button",93),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.analyzeWebsite())}),x(8,"mat-icon"),I(9,"search"),P(),x(10,"span"),I(11,"Analyze Website"),P()()()}if(o&2){let t=ct(2);j(4),bi("ngModel",t.websiteUrl),tt("disabled",t.isAnalyzingWebsite),j(3),tt("disabled",!t.websiteUrl||t.isAnalyzingWebsite)}}function uE(o,n){o&1&&(x(0,"div",94)(1,"div",95)(2,"div",96),vt(3,"div",97)(4,"div",98)(5,"div",99),P(),x(6,"div",100),Xt(),x(7,"svg",101),vt(8,"path",102),P()()(),ie(),x(9,"p",103),I(10,"Analyzing website..."),P(),x(11,"p",104),I(12,"Extracting colors, fonts, images, and content"),P()())}function pE(o,n){if(o&1){let t=fe();x(0,"div",109)(1,"h4"),I(2,"\u{1F3A8} Brand Logo"),P(),x(3,"div",120)(4,"img",121),Bt("error",function(i){Dt(t);let r=ct(3);return Lt(r.onImageError(i))}),P(),x(5,"div",122)(6,"mat-icon",123),I(7,"link"),P(),x(8,"span",124),I(9),P()()()()}if(o&2){let t=ct(3);j(4),tt("src",t.analyzedBrandDNA.logo,no),j(4),tt("title",t.analyzedBrandDNA.logo),j(),Jt(t.getTruncatedUrl(t.analyzedBrandDNA.logo))}}function fE(o,n){o&1&&(x(0,"mat-icon",131),I(1,"check_circle"),P())}function gE(o,n){if(o&1){let t=fe();x(0,"div",127),Bt("click",function(){let i=Dt(t).$implicit,r=ct(4);return Lt(r.toggleColorSelection(i))}),vt(1,"div",128),x(2,"span",129),I(3),P(),It(4,fE,2,0,"mat-icon",130),P()}if(o&2){let t=n.$implicit,e=ct(4);De("selected",e.selectedColors.includes(t)),j(),Vi("background-color",t),j(2),Jt(t),j(),tt("ngIf",e.selectedColors.includes(t))}}function hE(o,n){if(o&1&&(x(0,"div",109)(1,"h4"),I(2,"\u{1F3A8} Color Palette"),P(),x(3,"div",125),It(4,gE,5,6,"div",126),P()()),o&2){let t=ct(3);j(4),tt("ngForOf",t.analyzedBrandDNA.colors)}}function mE(o,n){if(o&1&&(x(0,"h4"),I(1),P()),o&2){let t=ct(3);j(),Fe(" \u{1F5BC}\uFE0F Images Found: ",t.analyzedBrandDNA.images.length," (Click to select, max 3) ")}}function vE(o,n){o&1&&(x(0,"h4"),I(1," \u{1F5BC}\uFE0F Images "),P())}function _E(o,n){o&1&&(x(0,"mat-icon",131),I(1,"check_circle"),P())}function yE(o,n){if(o&1){let t=fe();x(0,"div",134),Bt("click",function(){let i=Dt(t).$implicit,r=ct(4);return Lt(r.toggleImageSelection(i))}),x(1,"div",135)(2,"img",136),Bt("error",function(i){Dt(t);let r=ct(4);return Lt(r.onImageError(i))}),P(),It(3,_E,2,0,"mat-icon",130),P(),x(4,"div",137)(5,"mat-icon",123),I(6,"link"),P(),x(7,"span",124),I(8),P()()()}if(o&2){let t=n.$implicit,e=n.index,i=ct(4);De("selected",i.selectedBrandImages.includes(t)),j(2),tt("src",t,no)("alt","Image "+(e+1)),j(),tt("ngIf",i.selectedBrandImages.includes(t)),j(4),tt("title",t),j(),Jt(i.getTruncatedUrl(t))}}function bE(o,n){if(o&1&&(x(0,"div",132),It(1,yE,9,7,"div",133),P()),o&2){let t=ct(3);j(),tt("ngForOf",t.analyzedBrandDNA.images)}}function CE(o,n){o&1&&(x(0,"div",138)(1,"mat-icon"),I(2,"image_not_supported"),P(),x(3,"p"),I(4,"No suitable images found on this page (min 100x100px)"),P()())}function xE(o,n){if(o&1&&(x(0,"h5"),I(1),P()),o&2){let t=ct().$implicit;j(),Jt(t.heading)}}function OE(o,n){if(o&1&&(x(0,"p",147),I(1),P()),o&2){let t=n.$implicit;j(),Jt(t)}}function PE(o,n){if(o&1&&(x(0,"li",150),I(1),P()),o&2){let t=n.$implicit;j(),Jt(t)}}function ME(o,n){if(o&1&&(x(0,"ul",148),It(1,PE,2,1,"li",149),P()),o&2){let t=ct().$implicit;j(),tt("ngForOf",t.listItems)}}function wE(o,n){if(o&1&&(x(0,"div",141)(1,"div",142),It(2,xE,2,1,"h5",110),x(3,"span",143),I(4),P()(),x(5,"div",144),It(6,OE,2,1,"p",145),P(),It(7,ME,2,1,"ul",146),P()),o&2){let t=n.$implicit;j(2),tt("ngIf",t.heading),j(2),Jt(t.context),j(2),tt("ngForOf",t.paragraphs),j(),tt("ngIf",t.listItems&&t.listItems.length>0)}}function SE(o,n){if(o&1&&(x(0,"div",109)(1,"h4"),I(2),P(),x(3,"div",139),It(4,wE,8,4,"div",140),P()()),o&2){let t=ct(3);j(2),Fe("\u{1F4C4} Website Content Sections (",t.analyzedBrandDNA.contentSections.length," sections found)"),j(2),tt("ngForOf",t.analyzedBrandDNA.contentSections)}}function TE(o,n){o&1&&(x(0,"mat-icon",131),I(1,"check_circle"),P())}function EE(o,n){if(o&1){let t=fe();x(0,"div",153),Bt("click",function(){let i=Dt(t).$implicit,r=ct(4);return Lt(r.toggleContentSelection(i))}),x(1,"p"),I(2),P(),It(3,TE,2,0,"mat-icon",130),P()}if(o&2){let t=n.$implicit,e=ct(4);De("selected",e.selectedContent.includes(t)),j(2),Jt(t),j(),tt("ngIf",e.selectedContent.includes(t))}}function kE(o,n){if(o&1&&(x(0,"div",109)(1,"h4"),I(2,"\u270D\uFE0F Brand Voice & Content Snippets"),P(),x(3,"div",151),It(4,EE,4,4,"div",152),P()()),o&2){let t=ct(3);j(4),tt("ngForOf",t.analyzedBrandDNA.content)}}function AE(o,n){if(o&1&&(x(0,"div",156)(1,"strong"),I(2,"Heading:"),P(),I(3),P()),o&2){let t=ct(4);j(3),Fe(" ",t.analyzedBrandDNA.fonts.heading," ")}}function IE(o,n){if(o&1&&(x(0,"div",156)(1,"strong"),I(2,"Body:"),P(),I(3),P()),o&2){let t=ct(4);j(3),Fe(" ",t.analyzedBrandDNA.fonts.body," ")}}function DE(o,n){if(o&1&&(x(0,"div",109)(1,"h4"),I(2,"\u{1F524} Typography"),P(),x(3,"div",154),It(4,AE,4,1,"div",155)(5,IE,4,1,"div",155),P()()),o&2){let t=ct(3);j(4),tt("ngIf",t.analyzedBrandDNA.fonts.heading),j(),tt("ngIf",t.analyzedBrandDNA.fonts.body)}}function LE(o,n){if(o&1&&(x(0,"div",159)(1,"strong"),I(2,"Tagline:"),P(),x(3,"p"),I(4),P()()),o&2){let t=ct(4);j(4),Jt(t.analyzedBrandDNA.brandInfo.tagline)}}function NE(o,n){if(o&1&&(x(0,"div",159)(1,"strong"),I(2,"Mission:"),P(),x(3,"p"),I(4),P()()),o&2){let t=ct(4);j(4),Jt(t.analyzedBrandDNA.brandInfo.mission)}}function RE(o,n){if(o&1&&(x(0,"span",162),I(1),P()),o&2){let t=n.$implicit;j(),Jt(t)}}function FE(o,n){if(o&1&&(x(0,"div",159)(1,"strong"),I(2,"Values:"),P(),x(3,"div",160),It(4,RE,2,1,"span",161),P()()),o&2){let t=ct(4);j(4),tt("ngForOf",t.analyzedBrandDNA.brandInfo.values)}}function zE(o,n){if(o&1&&(x(0,"div",109)(1,"h4"),I(2,"\u{1F4A1} Brand Identity"),P(),x(3,"div",157),It(4,LE,5,1,"div",158)(5,NE,5,1,"div",158)(6,FE,5,1,"div",158),P()()),o&2){let t=ct(3);j(4),tt("ngIf",t.analyzedBrandDNA.brandInfo.tagline),j(),tt("ngIf",t.analyzedBrandDNA.brandInfo.mission),j(),tt("ngIf",t.analyzedBrandDNA.brandInfo.values&&t.analyzedBrandDNA.brandInfo.values.length>0)}}function VE(o,n){if(o&1){let t=fe();x(0,"div",171)(1,"img",136),Bt("error",function(i){Dt(t);let r=ct(5);return Lt(r.onImageError(i))}),P()()}if(o&2){let t=ct().$implicit;j(),tt("src",t.image,no)("alt",t.name)}}function jE(o,n){if(o&1&&(x(0,"p",172),I(1),P()),o&2){let t=ct().$implicit;j(),Jt(t.price)}}function HE(o,n){if(o&1&&(x(0,"p",173),I(1),P()),o&2){let t=ct().$implicit;j(),Jt(t.description)}}function BE(o,n){if(o&1&&(x(0,"div",165),It(1,VE,2,2,"div",166),x(2,"div",167)(3,"h5",168),I(4),P(),It(5,jE,2,1,"p",169)(6,HE,2,1,"p",170),P()()),o&2){let t=n.$implicit;j(),tt("ngIf",t.image),j(3),Jt(t.name),j(),tt("ngIf",t.price),j(),tt("ngIf",t.description)}}function UE(o,n){if(o&1&&(x(0,"div",109)(1,"h4"),I(2),P(),x(3,"div",163),It(4,BE,7,4,"div",164),P()()),o&2){let t=ct(3);j(2),Fe("\u{1F6CD}\uFE0F Products (",t.analyzedBrandDNA.products.length," found)"),j(2),tt("ngForOf",t.analyzedBrandDNA.products)}}function GE(o,n){if(o&1&&(x(0,"span",182),I(1),P()),o&2){let t=ct(2).$implicit;j(),Fe("\u2014 ",t.author,"")}}function WE(o,n){if(o&1&&(x(0,"span",183),I(1),P()),o&2){let t=ct(2).$implicit;j(),Jt(t.company)}}function KE(o,n){if(o&1&&(x(0,"div",179),It(1,GE,2,1,"span",180)(2,WE,2,1,"span",181),P()),o&2){let t=ct().$implicit;j(),tt("ngIf",t.author),j(),tt("ngIf",t.company)}}function qE(o,n){if(o&1&&(x(0,"div",176)(1,"p",177),I(2),P(),It(3,KE,3,2,"div",178),P()),o&2){let t=n.$implicit;j(2),Fe('"',t.text,'"'),j(),tt("ngIf",t.author||t.company)}}function $E(o,n){if(o&1&&(x(0,"div",109)(1,"h4"),I(2),P(),x(3,"div",174),It(4,qE,4,2,"div",175),P()()),o&2){let t=ct(3);j(2),Fe("\u{1F4AC} Testimonials (",t.analyzedBrandDNA.testimonials.length," found)"),j(2),tt("ngForOf",t.analyzedBrandDNA.testimonials)}}function YE(o,n){if(o&1&&(x(0,"div",186)(1,"mat-icon"),I(2,"email"),P(),x(3,"span"),I(4),P()()),o&2){let t=ct(4);j(4),Jt(t.analyzedBrandDNA.contact.email)}}function XE(o,n){if(o&1&&(x(0,"div",186)(1,"mat-icon"),I(2,"phone"),P(),x(3,"span"),I(4),P()()),o&2){let t=ct(4);j(4),Jt(t.analyzedBrandDNA.contact.phone)}}function QE(o,n){if(o&1&&(x(0,"div",186)(1,"mat-icon"),I(2,"location_on"),P(),x(3,"span"),I(4),P()()),o&2){let t=ct(4);j(4),Jt(t.analyzedBrandDNA.contact.address)}}function JE(o,n){if(o&1&&(x(0,"div",109)(1,"h4"),I(2,"\u{1F4DE} Contact Information"),P(),x(3,"div",184),It(4,YE,5,1,"div",185)(5,XE,5,1,"div",185)(6,QE,5,1,"div",185),P()()),o&2){let t=ct(3);j(4),tt("ngIf",t.analyzedBrandDNA.contact.email),j(),tt("ngIf",t.analyzedBrandDNA.contact.phone),j(),tt("ngIf",t.analyzedBrandDNA.contact.address)}}function ZE(o,n){o&1&&(x(0,"mat-icon",131),I(1,"check_circle"),P())}function t6(o,n){if(o&1){let t=fe();x(0,"div",189),Bt("click",function(){let i=Dt(t).$implicit,r=ct(4);return Lt(r.toggleCTASelection(i))}),x(1,"div",190)(2,"mat-icon",191),I(3),P(),x(4,"span",192),I(5),P()(),x(6,"div",193)(7,"mat-icon",123),I(8,"link"),P(),x(9,"span",194),I(10),P()(),It(11,ZE,2,0,"mat-icon",130),P()}if(o&2){let t=n.$implicit,e=ct(4);De("selected",e.selectedCTAs.includes(t)),j(3),Jt(t.type==="button"?"smart_button":"link"),j(2),Jt(t.text),j(4),tt("title",t.url),j(),Jt(e.getTruncatedUrl(t.url)),j(),tt("ngIf",e.selectedCTAs.includes(t))}}function e6(o,n){if(o&1&&(x(0,"div",109)(1,"h4"),I(2),P(),x(3,"div",187),It(4,t6,12,7,"div",188),P()()),o&2){let t=ct(3);j(2),Fe("\u{1F3AF} Call-to-Actions (",t.analyzedBrandDNA.ctas.length," found - Click to select)"),j(2),tt("ngForOf",t.analyzedBrandDNA.ctas)}}function n6(o,n){o&1&&(x(0,"mat-icon",204),I(1,"check_circle"),P())}function i6(o,n){if(o&1){let t=fe();x(0,"div",202),Bt("click",function(){Dt(t);let i=ct(4);return Lt(i.toggleSocialLink("facebook",i.analyzedBrandDNA.social.facebook))}),x(1,"mat-icon"),I(2,"facebook"),P(),x(3,"span"),I(4,"Facebook"),P(),It(5,n6,2,0,"mat-icon",203),P()}if(o&2){let t=ct(4);De("selected",t.isSocialLinkSelected("facebook")),j(5),tt("ngIf",t.isSocialLinkSelected("facebook"))}}function r6(o,n){o&1&&(x(0,"mat-icon",204),I(1,"check_circle"),P())}function o6(o,n){if(o&1){let t=fe();x(0,"div",205),Bt("click",function(){Dt(t);let i=ct(4);return Lt(i.toggleSocialLink("twitter",i.analyzedBrandDNA.social.twitter))}),x(1,"mat-icon"),I(2,"close"),P(),x(3,"span"),I(4,"Twitter"),P(),It(5,r6,2,0,"mat-icon",203),P()}if(o&2){let t=ct(4);De("selected",t.isSocialLinkSelected("twitter")),j(5),tt("ngIf",t.isSocialLinkSelected("twitter"))}}function a6(o,n){o&1&&(x(0,"mat-icon",204),I(1,"check_circle"),P())}function s6(o,n){if(o&1){let t=fe();x(0,"div",206),Bt("click",function(){Dt(t);let i=ct(4);return Lt(i.toggleSocialLink("instagram",i.analyzedBrandDNA.social.instagram))}),x(1,"mat-icon"),I(2,"camera_alt"),P(),x(3,"span"),I(4,"Instagram"),P(),It(5,a6,2,0,"mat-icon",203),P()}if(o&2){let t=ct(4);De("selected",t.isSocialLinkSelected("instagram")),j(5),tt("ngIf",t.isSocialLinkSelected("instagram"))}}function l6(o,n){o&1&&(x(0,"mat-icon",204),I(1,"check_circle"),P())}function c6(o,n){if(o&1){let t=fe();x(0,"div",207),Bt("click",function(){Dt(t);let i=ct(4);return Lt(i.toggleSocialLink("linkedin",i.analyzedBrandDNA.social.linkedin))}),x(1,"mat-icon"),I(2,"business"),P(),x(3,"span"),I(4,"LinkedIn"),P(),It(5,l6,2,0,"mat-icon",203),P()}if(o&2){let t=ct(4);De("selected",t.isSocialLinkSelected("linkedin")),j(5),tt("ngIf",t.isSocialLinkSelected("linkedin"))}}function d6(o,n){o&1&&(x(0,"mat-icon",204),I(1,"check_circle"),P())}function u6(o,n){if(o&1){let t=fe();x(0,"div",208),Bt("click",function(){Dt(t);let i=ct(4);return Lt(i.toggleSocialLink("youtube",i.analyzedBrandDNA.social.youtube))}),x(1,"mat-icon"),I(2,"play_circle"),P(),x(3,"span"),I(4,"YouTube"),P(),It(5,d6,2,0,"mat-icon",203),P()}if(o&2){let t=ct(4);De("selected",t.isSocialLinkSelected("youtube")),j(5),tt("ngIf",t.isSocialLinkSelected("youtube"))}}function p6(o,n){o&1&&(x(0,"mat-icon",204),I(1,"check_circle"),P())}function f6(o,n){if(o&1){let t=fe();x(0,"div",209),Bt("click",function(){Dt(t);let i=ct(4);return Lt(i.toggleSocialLink("tiktok",i.analyzedBrandDNA.social.tiktok))}),x(1,"mat-icon"),I(2,"music_note"),P(),x(3,"span"),I(4,"TikTok"),P(),It(5,p6,2,0,"mat-icon",203),P()}if(o&2){let t=ct(4);De("selected",t.isSocialLinkSelected("tiktok")),j(5),tt("ngIf",t.isSocialLinkSelected("tiktok"))}}function g6(o,n){if(o&1&&(x(0,"div",109)(1,"h4"),I(2),P(),x(3,"div",195),It(4,i6,6,3,"div",196)(5,o6,6,3,"div",197)(6,s6,6,3,"div",198)(7,c6,6,3,"div",199)(8,u6,6,3,"div",200)(9,f6,6,3,"div",201),P()()),o&2){let t=ct(3);j(2),Fe("\u{1F517} Social Media (",t.getSocialLinksCount(t.analyzedBrandDNA.social)," found - Click to select)"),j(2),tt("ngIf",t.analyzedBrandDNA.social.facebook),j(),tt("ngIf",t.analyzedBrandDNA.social.twitter),j(),tt("ngIf",t.analyzedBrandDNA.social.instagram),j(),tt("ngIf",t.analyzedBrandDNA.social.linkedin),j(),tt("ngIf",t.analyzedBrandDNA.social.youtube),j(),tt("ngIf",t.analyzedBrandDNA.social.tiktok)}}function h6(o,n){if(o&1){let t=fe();x(0,"button",210),Bt("click",function(){let i=Dt(t).$implicit,r=ct(3);return Lt(r.selectTemplateStyle(i.value))}),x(1,"mat-icon"),I(2),P(),x(3,"span"),I(4),P()()}if(o&2){let t=n.$implicit,e=ct(3);De("selected",e.selectedTemplateStyle===t.value),j(2),Jt(t.icon),j(2),Jt(t.label)}}function m6(o,n){o&1&&(x(0,"div",211),vt(1,"div",212)(2,"div",213),P())}function v6(o,n){o&1&&(x(0,"mat-icon"),I(1,"auto_awesome"),P())}function _6(o,n){if(o&1){let t=fe();x(0,"div",105)(1,"div",106)(2,"h3"),I(3,"\u2728 Brand DNA Extracted"),P(),x(4,"button",107),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.resetAnalyzer())}),x(5,"mat-icon"),I(6,"refresh"),P()()(),It(7,pE,10,3,"div",108)(8,hE,5,1,"div",108),x(9,"div",109),It(10,mE,2,1,"h4",110)(11,vE,2,0,"h4",110)(12,bE,2,1,"div",111)(13,CE,5,0,"div",112),P(),It(14,SE,5,2,"div",108)(15,kE,5,1,"div",108)(16,DE,6,2,"div",108)(17,zE,7,3,"div",108)(18,UE,5,2,"div",108)(19,$E,5,2,"div",108)(20,JE,7,3,"div",108)(21,e6,5,2,"div",108)(22,g6,10,7,"div",108),x(23,"div",113)(24,"h4"),I(25,"\u{1F3AF} Select Template Style"),P(),x(26,"div",114),It(27,h6,5,4,"button",115),P()(),x(28,"div",116)(29,"button",117),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.resetAnalyzer())}),x(30,"mat-icon"),I(31,"close"),P(),I(32," Cancel "),P(),x(33,"button",118),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.generatePromptFromBrandDNA())}),It(34,m6,3,0,"div",119)(35,v6,2,0,"mat-icon",110),x(36,"span"),I(37),P()()()()}if(o&2){let t=ct(2);j(7),tt("ngIf",t.analyzedBrandDNA.logo),j(),tt("ngIf",t.analyzedBrandDNA.colors&&t.analyzedBrandDNA.colors.length>0),j(2),tt("ngIf",t.analyzedBrandDNA.images&&t.analyzedBrandDNA.images.length>0),j(),tt("ngIf",!t.analyzedBrandDNA.images||t.analyzedBrandDNA.images.length===0),j(),tt("ngIf",t.analyzedBrandDNA.images&&t.analyzedBrandDNA.images.length>0),j(),tt("ngIf",!t.analyzedBrandDNA.images||t.analyzedBrandDNA.images.length===0),j(),tt("ngIf",t.analyzedBrandDNA.contentSections&&t.analyzedBrandDNA.contentSections.length>0),j(),tt("ngIf",t.analyzedBrandDNA.content&&t.analyzedBrandDNA.content.length>0),j(),tt("ngIf",t.analyzedBrandDNA.fonts),j(),tt("ngIf",t.analyzedBrandDNA.brandInfo&&(t.analyzedBrandDNA.brandInfo.tagline||t.analyzedBrandDNA.brandInfo.mission||(t.analyzedBrandDNA.brandInfo.values==null?null:t.analyzedBrandDNA.brandInfo.values.length)>0)),j(),tt("ngIf",t.analyzedBrandDNA.products&&t.analyzedBrandDNA.products.length>0),j(),tt("ngIf",t.analyzedBrandDNA.testimonials&&t.analyzedBrandDNA.testimonials.length>0),j(),tt("ngIf",t.analyzedBrandDNA.contact&&(t.analyzedBrandDNA.contact.email||t.analyzedBrandDNA.contact.phone||t.analyzedBrandDNA.contact.address)),j(),tt("ngIf",t.analyzedBrandDNA.ctas&&t.analyzedBrandDNA.ctas.length>0),j(),tt("ngIf",t.analyzedBrandDNA.social&&t.getSocialLinksCount(t.analyzedBrandDNA.social)>0),j(5),tt("ngForOf",t.templateStyles),j(6),tt("disabled",!t.selectedTemplateStyle||t.isGeneratingPrompt),j(),tt("ngIf",t.isGeneratingPrompt),j(),tt("ngIf",!t.isGeneratingPrompt),j(2),Jt(t.isGeneratingPrompt?"Generating...":"Generate Prompt")}}function y6(o,n){if(o&1){let t=fe();x(0,"div",81),Bt("click",function(){Dt(t);let i=ct();return Lt(i.closeUrlAnalyzer())}),x(1,"div",82),Bt("click",function(i){return Dt(t),Lt(i.stopPropagation())}),x(2,"button",73),Bt("click",function(){Dt(t);let i=ct();return Lt(i.closeUrlAnalyzer())}),x(3,"mat-icon"),I(4,"close"),P()(),x(5,"div",83)(6,"h2",84),I(7,"\u{1F310} Analyze Website"),P(),x(8,"p",85),I(9,"Enter a website URL to extract brand colors, fonts, images, and content"),P(),It(10,dE,12,3,"div",86)(11,uE,13,0,"div",87)(12,_6,38,20,"div",88),P()()()}if(o&2){let t=ct();j(10),tt("ngIf",!t.analyzedBrandDNA&&!t.isAnalyzingWebsite),j(),tt("ngIf",t.isAnalyzingWebsite),j(),tt("ngIf",t.analyzedBrandDNA&&!t.isAnalyzingWebsite)}}function b6(o,n){if(o&1){let t=fe();x(0,"div",222)(1,"input",223,3),Bt("change",function(i){Dt(t);let r=ct(2);return Lt(r.onFileSelected(i))}),P(),x(3,"div",224),Bt("click",function(){Dt(t);let i=gi(2);return Lt(i.click())})("dragover",function(i){Dt(t);let r=ct(2);return Lt(r.onDragOver(i))})("dragleave",function(i){Dt(t);let r=ct(2);return Lt(r.onDragLeave(i))})("drop",function(i){Dt(t);let r=ct(2);return Lt(r.onFileDrop(i))}),x(4,"mat-icon",225),I(5,"cloud_upload"),P(),x(6,"p",226),I(7,"Drag & drop your file here"),P(),x(8,"p",227),I(9,"or click to browse"),P(),x(10,"p",228),I(11,"Maximum size: 1MB"),P(),x(12,"div",229)(13,"span",230),I(14,"Excel"),P(),x(15,"span",230),I(16,"CSV"),P(),x(17,"span",230),I(18,"Word"),P(),x(19,"span",230),I(20,"PDF"),P()()()()}if(o&2){let t=ct(2);j(3),De("drag-over",t.isDragOver)}}function C6(o,n){o&1&&vt(0,"mat-spinner",239)}function x6(o,n){o&1&&(x(0,"mat-icon"),I(1,"auto_awesome"),P())}function O6(o,n){o&1&&vt(0,"mat-spinner",239)}function P6(o,n){o&1&&(x(0,"mat-icon"),I(1,"attach_file"),P())}function M6(o,n){if(o&1){let t=fe();x(0,"div",231)(1,"div",232)(2,"div",63)(3,"mat-icon"),I(4),P()(),x(5,"div",233)(6,"p",65),I(7),P(),x(8,"p",66),I(9),P()(),x(10,"button",234),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.removeUploadedFile())}),x(11,"mat-icon"),I(12,"delete"),P()()(),x(13,"div",235),Bt("click",function(i){return Dt(t),Lt(i.stopPropagation())}),x(14,"button",236),Bt("click",function(i){return Dt(t),ct(2).generatePromptFromFile(),Lt(i.stopPropagation())}),It(15,C6,1,0,"mat-spinner",237)(16,x6,2,0,"mat-icon",110),x(17,"span"),I(18),P()(),x(19,"button",238),Bt("click",function(i){return Dt(t),ct(2).useFileInChat(),Lt(i.stopPropagation())}),It(20,O6,1,0,"mat-spinner",237)(21,P6,2,0,"mat-icon",110),x(22,"span"),I(23),P()()()()}if(o&2){let t=ct(2);j(4),Jt(t.getFileIcon(t.uploadedFile.name)),j(3),Jt(t.uploadedFile.name),j(2),Jt(t.formatFileSize(t.uploadedFile.size)),j(5),tt("disabled",t.isGeneratingPrompt||t.isAttachingFile),j(),tt("ngIf",t.isGeneratingPrompt),j(),tt("ngIf",!t.isGeneratingPrompt),j(2),Jt(t.isGeneratingPrompt?"Generating...":"Generate Prompt (Recommended)"),j(),tt("disabled",t.isGeneratingPrompt||t.isAttachingFile),j(),tt("ngIf",t.isAttachingFile),j(),tt("ngIf",!t.isAttachingFile),j(2),Jt(t.isAttachingFile?"Attaching...":"Attach Only")}}function w6(o,n){if(o&1){let t=fe();x(0,"div",240)(1,"div",241)(2,"h3"),I(3,"\u2728 Generated Prompt"),P(),x(4,"button",242),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.resetUpload())}),x(5,"mat-icon"),I(6,"refresh"),P()()(),x(7,"textarea",243),xi("ngModelChange",function(i){Dt(t);let r=ct(2);return Ci(r.generatedPrompt,i)||(r.generatedPrompt=i),Lt(i)}),I(8,"        "),P(),x(9,"div",244)(10,"button",117),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.resetUpload())}),x(11,"mat-icon"),I(12,"close"),P(),I(13," Cancel "),P(),x(14,"button",245),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.useGeneratedPrompt())}),x(15,"mat-icon"),I(16,"check"),P(),I(17," Use This Prompt "),P()()()}if(o&2){let t=ct(2);j(7),bi("ngModel",t.generatedPrompt)}}function S6(o,n){if(o&1){let t=fe();x(0,"div",214),Bt("click",function(){Dt(t);let i=ct();return Lt(i.closeCsvBanner())}),x(1,"div",215),Bt("click",function(i){return Dt(t),Lt(i.stopPropagation())}),x(2,"button",73),Bt("click",function(){Dt(t);let i=ct();return Lt(i.closeCsvBanner())}),x(3,"mat-icon"),I(4,"close"),P()(),x(5,"div",216)(6,"h2",217),I(7,"\u{1F4C4} Upload Document"),P(),x(8,"p",218),I(9,"Upload Excel, CSV, Word, or PDF to generate a smart email template prompt"),P(),It(10,b6,21,2,"div",219)(11,M6,24,11,"div",220)(12,w6,18,1,"div",221),P()()()}if(o&2){let t=ct();j(10),tt("ngIf",!t.uploadedFile&&!t.generatedPrompt),j(),tt("ngIf",t.uploadedFile&&!t.generatedPrompt),j(),tt("ngIf",t.generatedPrompt)}}var KC=(()=>{class o{constructor(){this.generationService=be(zf),this.templatesService=be(Ps),this.router=be(jn),this.route=be(Ar),this.location=be(df),this.snackBar=be(Os),this.dialog=be(Pc),this.destroy$=new Gi,this.previewCache=be(Cc),this.scrollAnimation=null,this.templateState=be(Ms),this.sentImages=[],this.cdr=be($i),this.viewMode="desktop",this.conversationId=null,this.messages$=new Wi([]),this.currentHtml$=new Wi(""),this.currentMjml$=new Wi(""),this.isGenerating$=new Wi(!1),this.isRegenerating=!1,this.justCreatedConversationId=null,this.userInput="",this.templateName="Generated Template",this.selectedImages=[],this.imagePreviewUrls=[],this.maxImages=2,this.maxSizeBytes=5*1024*1024,this.shouldAutoScroll=!0,this.isProgrammaticScroll=!1,this.showAttachChoiceBanner=!1,this.showUrlAnalyzer=!1,this.websiteUrl="",this.isAnalyzingWebsite=!1,this.analyzedBrandDNA=null,this.selectedColors=[],this.selectedBrandImages=[],this.selectedContent=[],this.selectedCTAs=[],this.selectedSocialLinks={},this.selectedTemplateStyle="",this.templateStyles=[{value:"modern",label:"Modern & Minimal",icon:"layers"},{value:"bold",label:"Bold & Vibrant",icon:"flash_on"},{value:"professional",label:"Professional",icon:"business_center"},{value:"creative",label:"Creative",icon:"palette"},{value:"mobile-first",label:"Mobile-First",icon:"smartphone"},{value:"ecommerce",label:"E-commerce",icon:"shopping_cart"}],this.showCsvBanner=!1,this.uploadedFile=null,this.generatedPrompt="",this.isGeneratingPrompt=!1,this.isAttachingFile=!1,this.isDragOver=!1,this.attachedFile=null,this.fileDataAlreadySent=!1}ngOnInit(){this.templateName="Generated Template",this.route.paramMap.pipe(hn(this.destroy$)).subscribe(t=>{let e=t.get("conversationId");if(e&&e!=="new")e!==this.justCreatedConversationId&&this.loadConversation(e);else if(e==="new"){let i=this.generateUUID();this.conversationId=i,this.justCreatedConversationId=i,this.isRegenerating=!1,this.initializeWelcome(),this.router.navigate(["/generate",i],{replaceUrl:!0})}})}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}changeViewMode(t){this.viewMode=t}openAttachChoiceBanner(){this.showAttachChoiceBanner=!0}closeAttachChoiceBanner(){this.showAttachChoiceBanner=!1}selectImageAttachment(){this.closeAttachChoiceBanner(),this.triggerFileInput()}selectDocumentAttachment(){this.closeAttachChoiceBanner(),this.openCsvBanner()}selectUrlAttachment(){this.closeAttachChoiceBanner(),this.openUrlAnalyzer()}openUrlAnalyzer(){this.showUrlAnalyzer=!0}closeUrlAnalyzer(){this.showUrlAnalyzer=!1,this.resetAnalyzer()}resetAnalyzer(){this.websiteUrl="",this.analyzedBrandDNA=null,this.selectedColors=[],this.selectedBrandImages=[],this.selectedContent=[],this.selectedCTAs=[],this.selectedSocialLinks={},this.selectedTemplateStyle="",this.isAnalyzingWebsite=!1}analyzeWebsite(){return gn(this,null,function*(){if(!this.websiteUrl||this.isAnalyzingWebsite)return;let t=this.validateUrl(this.websiteUrl);if(!t.valid){this.snackBar.open(t.error||"Invalid URL","Close",{duration:4e3,panelClass:["error-snackbar"]});return}this.isAnalyzingWebsite=!0;try{let e=yield fetch("/api/analyze-website",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t.normalizedUrl})});if(!e.ok){let r="Failed to analyze website";try{r=(yield e.json()).error||r}catch{}throw new Error(r)}let i=yield e.json();this.analyzedBrandDNA=i,i.colors&&i.colors.length>0&&(this.selectedColors=i.colors.slice(0,3)),i.images&&i.images.length>0&&(this.selectedBrandImages=i.images.slice(0,2)),i.content&&i.content.length>0&&(this.selectedContent=i.content.slice(0,2)),i.ctas&&i.ctas.length>0&&(this.selectedCTAs=i.ctas.slice(0,3)),i.social&&(this.selectedSocialLinks=pi({},i.social)),this.snackBar.open("\u2728 Website analyzed successfully!","Close",{duration:3e3})}catch(e){console.error("Error analyzing website:",e),this.snackBar.open(e.message||"Failed to analyze website. Please try again.","Close",{duration:5e3,panelClass:["error-snackbar"]})}finally{this.isAnalyzingWebsite=!1}})}validateUrl(t){try{!t.startsWith("http://")&&!t.startsWith("https://")&&(t="https://"+t);let e=new URL(t);if(!["http:","https:"].includes(e.protocol))return{valid:!1,error:"Only HTTP/HTTPS protocols supported"};let i=e.hostname;return i==="localhost"||i==="127.0.0.1"||i.startsWith("192.168.")||i.startsWith("10.")||i.startsWith("172.")?{valid:!1,error:"Cannot analyze local or internal network URLs"}:{valid:!0,normalizedUrl:e.toString()}}catch{return{valid:!1,error:"Invalid URL format. Example: https://example.com"}}}toggleColorSelection(t){let e=this.selectedColors.indexOf(t);e>-1?this.selectedColors.splice(e,1):this.selectedColors.length<5?this.selectedColors.push(t):this.snackBar.open("Maximum 5 colors allowed","Close",{duration:3e3})}toggleImageSelection(t){let e=this.selectedBrandImages.indexOf(t);e>-1?this.selectedBrandImages.splice(e,1):this.selectedBrandImages.length<3?this.selectedBrandImages.push(t):this.snackBar.open("Maximum 3 images allowed","Close",{duration:3e3})}toggleContentSelection(t){let e=this.selectedContent.indexOf(t);e>-1?this.selectedContent.splice(e,1):this.selectedContent.push(t)}selectTemplateStyle(t){this.selectedTemplateStyle=t}getTruncatedUrl(t){return t.length<=50?t:`.../${new URL(t).pathname.split("/").pop()||"image"}`}onImageError(t){let e=t.target;e.style.display="none"}getSocialLinksCount(t){return t?Object.keys(t).filter(e=>t[e]).length:0}toggleCTASelection(t){let e=this.selectedCTAs.findIndex(i=>i.url===t.url);e>-1?this.selectedCTAs.splice(e,1):this.selectedCTAs.length<5?this.selectedCTAs.push(t):this.snackBar.open("Maximum 5 CTAs allowed","Close",{duration:3e3})}toggleSocialLink(t,e){this.selectedSocialLinks[t]?delete this.selectedSocialLinks[t]:this.selectedSocialLinks[t]=e}isSocialLinkSelected(t){return!!this.selectedSocialLinks[t]}generatePromptFromBrandDNA(){return gn(this,null,function*(){if(!(!this.analyzedBrandDNA||!this.selectedTemplateStyle)){this.isGeneratingPrompt=!0;try{let t={colors:this.selectedColors,images:this.selectedBrandImages,content:this.selectedContent,contentSections:this.analyzedBrandDNA.contentSections,ctas:this.selectedCTAs,fonts:this.analyzedBrandDNA.fonts,templateStyle:this.selectedTemplateStyle,url:this.websiteUrl,logo:this.analyzedBrandDNA.logo,products:this.analyzedBrandDNA.products,brandInfo:this.analyzedBrandDNA.brandInfo,testimonials:this.analyzedBrandDNA.testimonials,contact:this.analyzedBrandDNA.contact,social:this.selectedSocialLinks},e=yield fetch("/api/brand-dna-to-prompt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){let a="Failed to generate prompt";try{a=(yield e.json()).error||a}catch{}throw new Error(a)}let r=(yield e.json()).prompt||"";this.userInput=r,this.closeUrlAnalyzer(),setTimeout(()=>{this.messageInput?.nativeElement.focus()},100),this.snackBar.open("\u2728 Prompt generated from brand DNA!","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch(t){console.error("Error generating prompt:",t),this.snackBar.open("Failed to generate prompt. Please try again.","Close",{duration:5e3,panelClass:["error-snackbar"]})}finally{this.isGeneratingPrompt=!1}}})}openCsvBanner(){this.showCsvBanner=!0}closeCsvBanner(){this.showCsvBanner=!1,this.resetUpload()}onFileSelected(t){let e=t.target;if(e.files&&e.files.length>0){let i=e.files[0],r=1*1024*1024;if(i.size>r){this.snackBar.open(`File too large (${this.formatFileSize(i.size)}). Maximum size is 1MB.`,"Close",{duration:5e3,panelClass:["error-snackbar"]}),e.value="";return}this.uploadedFile=i,this.generatedPrompt=""}}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!1}onFileDrop(t){if(t.preventDefault(),t.stopPropagation(),this.isDragOver=!1,t.dataTransfer?.files&&t.dataTransfer.files.length>0){let e=t.dataTransfer.files[0],i=1*1024*1024;if(e.size>i){this.snackBar.open(`File too large (${this.formatFileSize(e.size)}). Maximum size is 1MB.`,"Close",{duration:5e3,panelClass:["error-snackbar"]});return}let r=[".xlsx",".xls",".csv",".txt",".doc",".docx",".pdf"],a="."+e.name.split(".").pop()?.toLowerCase();r.includes(a)?(this.uploadedFile=e,this.generatedPrompt=""):this.snackBar.open("Please upload a valid file (Excel, CSV, TXT, Word, or PDF)","Close",{duration:4e3,panelClass:["error-snackbar"]})}}removeUploadedFile(){this.uploadedFile=null,this.generatedPrompt=""}resetUpload(){this.uploadedFile=null,this.generatedPrompt="",this.isGeneratingPrompt=!1}getFileIcon(t){switch(t.split(".").pop()?.toLowerCase()){case"xlsx":case"xls":return"table_chart";case"csv":return"grid_on";case"doc":case"docx":return"description";case"pdf":return"picture_as_pdf";default:return"insert_drive_file"}}formatFileSize(t){if(t===0)return"0 Bytes";let e=1024,i=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,r)*100)/100+" "+i[r]}generatePromptFromFile(){return gn(this,null,function*(){if(console.log("\u{1F534} generatePromptFromFile called",{hasFile:!!this.uploadedFile,isGenerating:this.isGeneratingPrompt}),!this.uploadedFile||this.isGeneratingPrompt){console.log("\u{1F534} generatePromptFromFile blocked");return}console.log("\u{1F534} generatePromptFromFile executing..."),this.isGeneratingPrompt=!0;try{let t=new FormData;t.append("file",this.uploadedFile);let e=yield fetch("/api/csv-to-prompt",{method:"POST",body:t,credentials:"include"});if(!e.ok){let r=yield e.json().catch(()=>({}));throw new Error(r.message||r.error||"Failed to generate prompt")}let i=yield e.json();if(this.generatedPrompt=i.prompt||i.message||"",!this.generatedPrompt)throw new Error("No prompt received from server");this.snackBar.open("\u2728 Prompt generated successfully!","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch(t){console.error("Error generating prompt:",t);let e=t instanceof Error?t.message:"Failed to generate prompt. Please try again.";this.snackBar.open(e,"Close",{duration:5e3,panelClass:["error-snackbar"]})}finally{this.isGeneratingPrompt=!1,console.log("\u{1F534} generatePromptFromFile finished")}})}useGeneratedPrompt(){this.generatedPrompt&&(this.userInput=this.generatedPrompt,this.closeCsvBanner(),setTimeout(()=>{this.messageInput?.nativeElement.focus()},100),this.snackBar.open("Prompt added! Click Send to generate your template.","Close",{duration:4e3,panelClass:["success-snackbar"]}))}useFileInChat(){return gn(this,null,function*(){if(console.log("\u{1F7E2} useFileInChat called",{hasFile:!!this.uploadedFile,isGenerating:this.isGeneratingPrompt,isAttaching:this.isAttachingFile}),!this.uploadedFile||this.isGeneratingPrompt||this.isAttachingFile){console.log("\u{1F7E2} useFileInChat blocked");return}console.log("\u{1F7E2} useFileInChat executing..."),this.isAttachingFile=!0,this.attachedFile=this.uploadedFile,this.closeCsvBanner(),this.shouldAutoScroll=!0,this.cdr.detectChanges(),setTimeout(()=>{this.scrollToBottom()},150),setTimeout(()=>{this.messageInput?.nativeElement.focus(),this.isAttachingFile=!1},600),console.log("\u{1F7E2} useFileInChat finished")})}removeAttachedFile(){this.attachedFile=null}ngAfterViewInit(){setTimeout(()=>{try{let t=this.messagesContainer?.nativeElement;t&&(t.addEventListener("wheel",()=>{this.scrollAnimation&&(cancelAnimationFrame(this.scrollAnimation),this.scrollAnimation=null)}),t.addEventListener("touchmove",()=>{this.scrollAnimation&&(cancelAnimationFrame(this.scrollAnimation),this.scrollAnimation=null)})),window.scrollTo(0,0),this.positionChatAtBottom()}catch{}},0)}positionChatAtBottom(){setTimeout(()=>{let t=this.messagesContainer?.nativeElement;t&&t.scrollHeight>0&&(t.style.scrollBehavior="auto",t.scrollTop=t.scrollHeight,this.shouldAutoScroll=!0,setTimeout(()=>{t.style.scrollBehavior="smooth"},50))},50)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.messages$.complete(),this.currentHtml$.complete(),this.currentMjml$.complete(),this.isGenerating$.complete()}handleBeforeUnload(t){if(this.isGenerating$.value){let e="\u26A0\uFE0F Your template is still being generated and will be lost if you leave.";t.preventDefault(),t.returnValue=e;return}}canDeactivate(){if(!this.isGenerating$.value)return!0;let t=confirm(`\u26A0\uFE0F Your template is still being generated and will be lost if you leave.

Are you sure you want to leave? All progress will be lost.`);return t&&this.isGenerating$.next(!1),t}initializeWelcome(){let t={role:"assistant",content:`\u{1F44B} Hi! I'm your email template generator. Describe the email template you'd like to create, and I'll generate it for you.

For example:
\u2022 "Create a welcome email for new subscribers"
\u2022 "Design a product launch announcement"
\u2022 "Make a monthly newsletter template"`,timestamp:new Date};this.messages$.next([t]),this.conversationId&&this.generationService.updateConversationCache(this.conversationId,[t],"","",this.templateName)}loadConversation(t){console.log("\u{1F535} [GENERATE PAGE] Loading conversation:",t),this.conversationId=t,this.isGenerating$.next(!0),this.fileDataAlreadySent=!1,this.generationService.getConversation(t).pipe(hn(this.destroy$)).subscribe({next:e=>{console.log("\u{1F535} [GENERATE PAGE] Conversation loaded:",{conversationId:e.conversationId,messagesCount:e.messages.length,hasHtml:!!e.currentHtml,templateName:e.templateName,status:e.status}),console.log("\u{1F535} [GENERATE PAGE] Messages history:",e.messages),this.messages$.next(e.messages),this.currentHtml$.next(e.currentHtml),this.templateName=e.templateName||"Generated Template",this.isRegenerating=!!e.currentHtml,this.isGenerating$.next(!1),this.shouldAutoScroll=!0,this.scrollToBottom()},error:e=>{e.status!==404&&this.snackBar.open("Failed to load conversation","Close",{duration:5e3,panelClass:["error-snackbar"]}),this.isGenerating$.next(!1),e.status!==404&&this.router.navigate(["/generate/new"],{replaceUrl:!0})}})}onEnterKey(t){t instanceof KeyboardEvent&&(t.shiftKey||(t.preventDefault(),this.onSend()))}onPaste(t){return gn(this,null,function*(){let e=t.clipboardData;if(!e)return;let r=Array.from(e.items).filter(l=>l.type.startsWith("image/"));if(r.length===0)return;if(t.preventDefault(),this.selectedImages.length>=this.maxImages){this.snackBar.open(`Maximum ${this.maxImages} images allowed. Remove existing images first.`,"Close",{duration:4e3,panelClass:["error-snackbar"]});return}let a=this.maxImages-this.selectedImages.length,s=r.slice(0,a);r.length>a&&this.snackBar.open(`Only ${a} image${a===1?"":"s"} added. Maximum ${this.maxImages} images allowed.`,"Close",{duration:4e3,panelClass:["info-snackbar"]});for(let l of s){let c=l.getAsFile();c&&(yield this.processImage(c))}s.length>0&&this.snackBar.open(`${s.length} image${s.length===1?"":"s"} pasted successfully`,"Close",{duration:2e3,panelClass:["success-snackbar"]})})}hasTemplate(){return!!this.currentHtml$.value}onSend(){return gn(this,null,function*(){let t=this.userInput.trim();if(console.log("\u{1F535} [GENERATE PAGE] onSend called:",{message:t.substring(0,50)+"...",conversationId:this.conversationId,currentMessagesCount:this.messages$.value.length,hasTemplate:!!this.currentHtml$.value,isGenerating:this.isGenerating$.value,hasAttachedFile:!!this.attachedFile}),!t&&!this.attachedFile||this.isGenerating$.value){console.log("\u{1F535} [GENERATE PAGE] onSend blocked - empty message/no file or already generating");return}let e=t||"Generate an email template based on the attached document data",i=yield Promise.all(this.selectedImages.map(l=>gn(this,null,function*(){return{data:yield this.fileToBase64(l),mediaType:l.type,fileName:l.name}}))),r=this.attachedFile,a=this.messages$.value,s={role:"user",content:e,timestamp:new Date,images:i.length>0?i:void 0,attachment:r?{fileName:r.name,fileSize:r.size,fileType:r.type}:void 0};if(this.messages$.next([...a,s]),this.selectedImages.forEach(l=>{let c=l.originalSize||l.size,u=l.originalName||l.name;this.sentImages.push({name:u,size:c})}),this.isGenerating$.next(!0),this.shouldAutoScroll=!0,setTimeout(()=>this.scrollToBottom(),50),this.userInput="",this.selectedImages=[],this.imagePreviewUrls=[],this.attachedFile=null,r&&!this.fileDataAlreadySent){console.log("\u{1F4CE} [GENERATE PAGE] Processing attached file before sending to chat:",r.name);try{let l=new FormData;l.append("file",r);let c=yield fetch("/api/csv-to-prompt/extract",{method:"POST",body:l,credentials:"include"});if(!c.ok)throw new Error("Failed to extract file data");let{extractedData:u}=yield c.json();console.log("\u{1F4CE} [GENERATE PAGE] File data extracted successfully, length:",u.length),this.fileDataAlreadySent=!0,this.sendChatMessage(e,i,u)}catch(l){console.error("\u{1F4CE} [GENERATE PAGE] Error extracting file data:",l),this.snackBar.open("Failed to process attached file","Close",{duration:4e3,panelClass:["error-snackbar"]}),this.isGenerating$.next(!1)}}else r&&this.fileDataAlreadySent?(console.log("\u{1F4CE} [GENERATE PAGE] File data already sent in conversation - skipping extraction to save tokens"),this.sendChatMessage(e,i)):this.sendChatMessage(e,i)})}sendChatMessage(t,e,i){return gn(this,null,function*(){console.log("\u{1F535} [GENERATE PAGE] sendChatMessage called:",{messageLength:t.length,imageCount:e.length,conversationId:this.conversationId,currentMessagesCount:this.messages$.value.length,hasCurrentMjml:!!this.currentHtml$.value,hasExtractedFileData:!!i,extractedFileDataLength:i?.length||0});let r=this.messages$.value.slice(0,-1);this.generationService.chat(t,r,this.currentMjml$.value||void 0,e,i).pipe(hn(this.destroy$)).subscribe({next:a=>{console.log("\u{1F535} [GENERATE PAGE] chat response received:",{hasHtml:!!a.html,hasMjml:!!a.mjml,message:a.message,hasErrors:a.hasErrors}),this.currentHtml$.next(a.html),this.currentMjml$.next(a.mjml);let s={role:"assistant",content:a.message||"\u2705 Template updated successfully!",timestamp:new Date},l=[...this.messages$.value,s];this.messages$.next(l),console.log("\u{1F535} [GENERATE PAGE] Saving conversation to cache:",{conversationId:this.conversationId,messagesCount:l.length,templateName:this.templateName}),this.conversationId&&this.generationService.updateConversationCache(this.conversationId,l,a.html,a.mjml||"",this.templateName),this.isRegenerating||(this.isRegenerating=!0),this.isGenerating$.next(!1),this.shouldAutoScroll=!0,setTimeout(()=>{this.scrollToBottom()},100),a.hasErrors&&this.snackBar.open("Template generated with warnings. Check console for details.","Close",{duration:5e3,panelClass:["info-snackbar"]})},error:a=>{this.isGenerating$.next(!1),this.snackBar.open(a.error?.message||"Failed to generate template","Close",{duration:5e3,panelClass:["error-snackbar"]})}})})}startNewConversation(t,e){return gn(this,null,function*(){console.log("\u{1F535} [GENERATE PAGE] startNewConversation called:",{messageLength:t.length,imageCount:e.length,conversationId:this.conversationId,isRegenerating:this.isRegenerating}),this.generationService.startGeneration(t,e,this.conversationId||void 0).pipe(hn(this.destroy$)).subscribe({next:i=>{console.log("\u{1F535} [GENERATE PAGE] startGeneration response received:",{conversationId:i.conversationId,hasHtml:!!i.html,hasMjml:!!i.mjml,message:i.message,hasErrors:i.hasErrors}),this.conversationId=i.conversationId,this.generationService.setCurrentConversationId(i.conversationId),this.currentHtml$.next(i.html);let r=this.isRegenerating?"\u2705 Template regenerated successfully!":"\u2705 Template generated successfully!",a={role:"assistant",content:i.message||r,timestamp:new Date},s=[...this.messages$.value,a];this.messages$.next(s),console.log("\u{1F535} [GENERATE PAGE] Saving conversation to cache:",{conversationId:i.conversationId,messagesCount:s.length,templateName:this.templateName}),this.generationService.updateConversationCache(i.conversationId,s,i.html,i.mjml||"",this.templateName),this.isGenerating$.next(!1),this.isRegenerating||(this.isRegenerating=!0),this.shouldAutoScroll=!0,setTimeout(()=>{this.scrollToBottom()},100),i.hasErrors&&this.snackBar.open("Template generated with warnings. Check console for details.","Close",{duration:5e3,panelClass:["info-snackbar"]})},error:i=>{this.isGenerating$.next(!1),this.snackBar.open(i.error?.message||"Failed to generate template","Close",{duration:5e3,panelClass:["error-snackbar"]}),this.isGenerating$.next(!1)}})})}continueConversation(t,e){return gn(this,null,function*(){this.conversationId&&this.generationService.continueConversation(this.conversationId,t,e).pipe(hn(this.destroy$)).subscribe({next:i=>{this.currentHtml$.next(i.html);let r=this.messages$.value;r.push({role:"assistant",content:"\u2705 Template updated successfully",timestamp:new Date}),this.messages$.next([...r]),this.generationService.updateConversationCache(this.conversationId,r,i.html,i.mjml||"",this.templateName),this.isGenerating$.next(!1),this.scrollToBottom(),i.hasErrors?this.snackBar.open("Template updated with warnings. Check console for details.","Close",{duration:5e3,panelClass:["info-snackbar"]}):this.snackBar.open("Template updated!","Close",{duration:3e3,panelClass:["success-snackbar"]})},error:i=>{this.snackBar.open(i.error?.message||"Failed to update template","Close",{duration:5e3,panelClass:["error-snackbar"]}),this.isGenerating$.next(!1)}})})}onRunTests(){if(!this.conversationId){this.snackBar.open("No template to test","Close",{duration:3e3,panelClass:["error-snackbar"]});return}if(!this.currentHtml$.value){this.snackBar.open("No template to save","Close",{duration:3e3,panelClass:["error-snackbar"]});return}let t=this.templateName?.trim();if(!t){this.snackBar.open("Please enter a template name before running tests","Close",{duration:4e3,horizontalPosition:"center",verticalPosition:"top"});return}this.generationService.saveTemplate(this.conversationId,t).pipe(hn(this.destroy$)).subscribe({next:e=>{this.snackBar.open("Template saved! Redirecting to QA...","Close",{duration:2e3,panelClass:["success-snackbar"]});let i=this.currentHtml$.value;i&&e.templateId&&this.templateState.initializeOriginalTemplate(e.templateId,i),this.router.navigate(["/qa",e.templateId])},error:e=>{this.snackBar.open("Failed to save template","Close",{duration:5e3,panelClass:["error-snackbar"]})}})}onTemplateNameChange(t){this.templateName=t,this.conversationId&&this.generationService.updateConversationCache(this.conversationId,this.messages$.value,this.currentHtml$.value,"",t)}onSaveTemplate(){if(!this.conversationId){this.snackBar.open("No template to save","Close",{duration:3e3,panelClass:["error-snackbar"]});return}let t=this.templateName?.trim();if(!t){this.snackBar.open("Please enter a template name","Close",{duration:4e3,horizontalPosition:"center",verticalPosition:"top"});return}this.generationService.saveTemplate(this.conversationId,t).pipe(hn(this.destroy$)).subscribe({next:e=>{this.templatesService.addTemplateToCache({id:e.templateId,name:e.templateName||t,content:this.currentHtml$.value,source:"ai-generated",templateType:"AI Generated"}),this.templatesService.select(e.templateId,e.templateName||t),this.router.navigate(["/"])},error:e=>{this.snackBar.open(e.error?.message||"Failed to save template","Close",{duration:5e3,panelClass:["error-snackbar"]})}})}onNewConversation(){let t=this.conversationId&&this.currentHtml$.value;console.log("\u{1F535} [GENERATE PAGE] onNewConversation called:",{conversationId:this.conversationId,hasTemplate:!!this.currentHtml$.value,hasActiveConversation:t,messagesCount:this.messages$.value.length}),t?(console.log("\u{1F535} [GENERATE PAGE] Opening confirmation dialog"),this.dialog.open(T6,{width:"500px",disableClose:!1,data:{hasTemplate:!0}}).afterClosed().subscribe(i=>{console.log("\u{1F535} [GENERATE PAGE] Dialog closed with result:",i),i==="save"?(console.log("\u{1F535} [GENERATE PAGE] User chose to save template"),this.onSaveTemplate()):i==="discard"?(console.log("\u{1F535} [GENERATE PAGE] User chose to discard and start new"),this.clearAndStartNew()):console.log("\u{1F535} [GENERATE PAGE] User cancelled - staying on current conversation")})):this.clearAndStartNew()}clearAndStartNew(){this.conversationId=null,this.generationService.clearCurrentConversationId(),this.messages$.next([]),this.currentHtml$.next(""),this.templateName="",this.userInput="",this.sentImages=[],this.router.navigate(["/generate/new"],{replaceUrl:!0}),this.initializeWelcome()}onRefreshPreview(){}scrollToBottom(){this.shouldAutoScroll&&(this.isProgrammaticScroll=!0,setTimeout(()=>{let t=this.messagesContainer?.nativeElement;t&&(this.smoothScrollTo(t.scrollHeight),setTimeout(()=>{t&&this.smoothScrollTo(t.scrollHeight),setTimeout(()=>{this.isProgrammaticScroll=!1},100)},50))},100))}smoothScrollTo(t){let e=this.messagesContainer?.nativeElement;if(!e)return;this.scrollAnimation&&cancelAnimationFrame(this.scrollAnimation);let i=e.scrollTop,r=t-i,a=400,s=null,l=c=>{s===null&&(s=c);let u=c-s,p=Math.min(u/a,1),g=1-Math.pow(1-p,3);e.scrollTop=i+r*g,p<1?this.scrollAnimation=requestAnimationFrame(l):this.scrollAnimation=null};this.scrollAnimation=requestAnimationFrame(l)}onScroll(t){if(this.isProgrammaticScroll)return;let e=t.target,i=e.scrollHeight-e.scrollTop<=e.clientHeight+50;this.shouldAutoScroll=i}onImageSelect(t){return gn(this,null,function*(){let e=t.target;if(!e.files||e.files.length===0)return;let i=Array.from(e.files);if(this.selectedImages.length+i.length>this.maxImages){this.snackBar.open(`Maximum ${this.maxImages} images allowed at a time`,"Close",{duration:4e3,panelClass:["error-snackbar"]}),e.value="";return}let{duplicates:r,newFiles:a}=this.checkDuplicateImages(i);if(r.length>0){let s=r.map(u=>`\u2022 ${u.name} (${(u.size/1024).toFixed(2)}KB)`).join(`
`),l=r.length===1?`\u26A0\uFE0F This image is already uploaded:

${s}

Would you like to upload it again?`:`\u26A0\uFE0F These images are already uploaded:

${s}

Would you like to upload them again?`;if(!confirm(l)){if(a.length>0)for(let u of a)yield this.processImage(u);e.value="";return}}for(let s of i)yield this.processImage(s);e.value=""})}checkDuplicateImages(t){let e=[],i=[];return t.forEach(r=>{this.sentImages.some(s=>{let l=s.name===r.name,c=s.size===r.size;return l&&c})?e.push(r):i.push(r)}),{duplicates:e,newFiles:i}}toggleFullscreen(){let t=document.querySelector(".preview-wrapper");t&&(document.fullscreenElement?document.exitFullscreen():t.requestFullscreen().then(()=>{setTimeout(()=>{let e=document.querySelector(".cdk-overlay-container")},100)}))}processImage(t){return gn(this,null,function*(){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type)){this.snackBar.open(`Invalid file type: ${t.name}. Please upload images only.`,"Close",{duration:4e3,panelClass:["error-snackbar"]});return}let i=t.name,r=t.size;try{let a=yield this.compressImage(t);if(a.size>this.maxSizeBytes){this.snackBar.open(`Image ${t.name} is too large even after compression. Please use a smaller image.`,"Close",{duration:4e3,panelClass:["error-snackbar"]});return}a.originalName=i,a.originalSize=r;let s=new FileReader;s.onload=l=>{let c=l.target?.result;this.selectedImages.push(a),this.imagePreviewUrls.push(c),setTimeout(()=>this.scrollToBottom(),100)},s.onerror=l=>{},s.readAsDataURL(a)}catch{this.snackBar.open(`Failed to process ${t.name}. Please try another image.`,"Close",{duration:4e3,panelClass:["error-snackbar"]})}})}compressImage(t){return gn(this,null,function*(){return new Promise((e,i)=>{let r=new FileReader;r.onload=a=>{let s=new Image;s.onload=()=>{let l=document.createElement("canvas"),c=s.width,u=s.height,p=2e3;(c>p||u>p)&&(c>u?(u=u/c*p,c=p):(c=c/u*p,u=p)),l.width=c,l.height=u,l.getContext("2d")?.drawImage(s,0,0,c,u),l.toBlob(h=>{if(h&&h.size<=this.maxSizeBytes){let y=new File([h],t.name,{type:"image/jpeg",lastModified:Date.now()});e(y)}else i(new Error("Compression failed - file still too large"))},"image/jpeg",.8)},s.onerror=()=>{i(new Error("Failed to load image"))},s.src=a.target?.result},r.onerror=()=>{i(new Error("Failed to read file"))},r.readAsDataURL(t)})})}removeImage(t){this.selectedImages.splice(t,1),this.imagePreviewUrls.splice(t,1)}triggerFileInput(){let t=document.getElementById("imageUploadInput");t&&t?.click()}fileToBase64(t){return new Promise((e,i)=>{let r=new FileReader;r.onload=()=>{let s=r.result.split(",")[1];e(s)},r.onerror=a=>{i(a)},r.readAsDataURL(t)})}trackByIndex(t){return t}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-generate-page"]],viewQuery:function(e,i){if(e&1&&(Wo(Z8,5),Wo(tE,5)),e&2){let r;Ki(r=qi())&&(i.messagesContainer=r.first),Ki(r=qi())&&(i.messageInput=r.first)}},hostBindings:function(e,i){e&1&&Bt("beforeunload",function(a){return i.handleBeforeUnload(a)},!1,of)},standalone:!0,features:[cn],decls:87,vars:39,consts:[["usageMenu","matMenu"],["messagesContainer",""],["messageInput",""],["fileInput",""],[1,"generate-layout"],[1,"preview-section"],[1,"preview-wrapper"],[3,"templateNameChange","saveTemplate","runTests","html","templateName","loading","showHeader","allowRefresh","allowFullscreen","allowViewModes","showGenerateActions","isGeneratePage"],[1,"chat-section"],[1,"chat-header"],[1,"header-content"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"header-icon","template-icon"],["fill","white","d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M12.9,14.5L15.8,19H14L12,15.6L10,19H8.2L11.1,14.5L8.2,10H10L12,13.4L14,10H15.8L12.9,14.5Z"],[1,"header-text"],["mat-icon-button","","matTooltip","Start New Conversation",1,"new-chat-btn",3,"click","disabled"],["mat-icon-button","","matTooltip","How to use",1,"usage-tips-btn",3,"matMenuTriggerFor"],[1,"usage-tips-menu"],[1,"usage-tips-content",3,"click"],[1,"tip-section"],[1,"example"],[1,"tip-note"],[1,"chat-messages",3,"scroll"],["class","chat-msg",3,"user-msg","assistant-msg",4,"ngFor","ngForOf","ngForTrackBy"],["class","chat-msg user-msg",4,"ngIf"],["class","chat-msg assistant-msg",4,"ngIf"],[1,"composer"],["type","file","id","imageUploadInput","accept","image/jpeg,image/jpg,image/png,image/gif,image/webp,image/svg+xml","multiple","",2,"display","none",3,"change"],[1,"composer-input-row"],["mat-icon-button","","matTooltip","Attach file","matTooltipPosition","above","type","button",1,"attach-btn",3,"click","disabled"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"attach-icon"],["d","M16.5 6V17.5C16.5 19.4891 14.9891 21 13 21C11.0109 21 9.5 19.4891 9.5 17.5V5C9.5 3.61929 10.6193 2.5 12 2.5C13.3807 2.5 14.5 3.61929 14.5 5V15.5C14.5 16.0523 14.0523 16.5 13.5 16.5C12.9477 16.5 12.5 16.0523 12.5 15.5V6H11V15.5C11 17.4891 12.5109 19 14.5 19C16.4891 19 18 17.4891 18 15.5V5C18 2.51472 15.9853 0.5 13.5 0.5C11.0147 0.5 9 2.51472 9 5V17.5C9 20.5376 11.4624 23 14.5 23C17.5376 23 20 20.5376 20 17.5V6H18.5Z","fill","currentColor"],["rows","3",1,"message-input",3,"ngModelChange","keydown.enter","paste","ngModel"],["mat-raised-button","",1,"send-btn",3,"click","disabled"],["class","attach-choice-overlay",3,"click",4,"ngIf"],["class","url-analyzer-overlay",3,"click",4,"ngIf"],["class","csv-banner-overlay",3,"click",4,"ngIf"],[1,"chat-msg"],[1,"bubble"],[1,"bubble-header"],[1,"role"],[1,"timestamp"],["class","message-images",4,"ngIf"],["class","message-attachment",4,"ngIf"],[1,"bubble-content"],[1,"message-images"],["class","message-image",3,"src","alt",4,"ngFor","ngForOf"],[1,"message-image",3,"src","alt"],[1,"message-attachment"],[1,"attachment-card"],[1,"attachment-icon"],[1,"attachment-info"],[1,"attachment-name"],[1,"attachment-size"],[1,"chat-msg","user-msg"],[1,"bubble","user-bubble"],[1,"message-images","preview-mode"],["class","image-wrapper",4,"ngFor","ngForOf"],[1,"image-wrapper"],["type","button",1,"remove-preview-btn",3,"click"],[1,"bubble","user-bubble","file-attachment-bubble"],["mat-icon-button","","matTooltip","Remove attachment",1,"remove-attachment-btn-inline",3,"click"],[1,"file-attachment-content"],[1,"file-icon-wrapper"],[1,"file-icon"],[1,"file-info"],[1,"file-name"],[1,"file-size"],[1,"chat-msg","assistant-msg"],[1,"bubble","generating-bubble"],[1,"typing-indicator"],[1,"generating-text"],[1,"attach-choice-overlay",3,"click"],[1,"attach-choice-content",3,"click"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"attach-choice-body"],[1,"attach-choice-title"],[1,"attach-choice-subtitle"],[1,"attach-options"],["mat-raised-button","",1,"attach-option-btn","image-option",3,"click"],["mat-raised-button","",1,"attach-option-btn","document-option",3,"click"],["mat-raised-button","",1,"attach-option-btn","url-option",3,"click"],[1,"url-analyzer-overlay",3,"click"],[1,"url-analyzer-content",3,"click"],[1,"analyzer-body"],[1,"analyzer-title"],[1,"analyzer-subtitle"],["class","url-input-section",4,"ngIf"],["class","analyzing-section",4,"ngIf"],["class","brand-dna-section",4,"ngIf"],[1,"url-input-section"],["appearance","outline",1,"url-input-field"],["matInput","","placeholder","https://example.com",3,"ngModelChange","keydown.enter","ngModel","disabled"],["matPrefix",""],["mat-raised-button","",1,"analyze-btn",3,"click","disabled"],[1,"analyzing-section"],[1,"modern-loader"],[1,"loader-rings"],[1,"ring","ring-1"],[1,"ring","ring-2"],[1,"ring","ring-3"],[1,"loader-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"],[1,"analyzing-text"],[1,"analyzing-subtext"],[1,"brand-dna-section"],[1,"brand-dna-header"],["mat-icon-button","","matTooltip","Analyze another website",3,"click"],["class","dna-group",4,"ngIf"],[1,"dna-group"],[4,"ngIf"],["class","image-gallery",4,"ngIf"],["class","no-images-message",4,"ngIf"],[1,"template-style-group"],[1,"style-options"],["mat-stroked-button","","class","style-btn",3,"selected","click",4,"ngFor","ngForOf"],[1,"analyzer-actions"],["mat-stroked-button","",1,"cancel-btn",3,"click"],["mat-raised-button","",1,"generate-prompt-btn",3,"click","disabled"],["class","btn-loader",4,"ngIf"],[1,"logo-display"],["alt","Brand Logo",1,"brand-logo-img",3,"error","src"],[1,"logo-url"],[1,"url-icon"],[1,"image-url",3,"title"],[1,"color-palette"],["class","color-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"color-item",3,"click"],[1,"color-swatch"],[1,"color-code"],["class","check-icon",4,"ngIf"],[1,"check-icon"],[1,"image-gallery"],["class","image-item-wrapper",3,"selected","click",4,"ngFor","ngForOf"],[1,"image-item-wrapper",3,"click"],[1,"image-item"],[3,"error","src","alt"],[1,"image-url-display"],[1,"no-images-message"],[1,"content-sections-list"],["class","content-section-item",4,"ngFor","ngForOf"],[1,"content-section-item"],[1,"section-header"],[1,"section-context"],[1,"section-paragraphs"],["class","section-paragraph",4,"ngFor","ngForOf"],["class","section-list",4,"ngIf"],[1,"section-paragraph"],[1,"section-list"],["class","section-list-item",4,"ngFor","ngForOf"],[1,"section-list-item"],[1,"content-snippets"],["class","snippet-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"snippet-item",3,"click"],[1,"fonts-display"],["class","font-item",4,"ngIf"],[1,"font-item"],[1,"brand-info-display"],["class","brand-info-item",4,"ngIf"],[1,"brand-info-item"],[1,"values-list"],["class","value-badge",4,"ngFor","ngForOf"],[1,"value-badge"],[1,"products-list"],["class","product-item",4,"ngFor","ngForOf"],[1,"product-item"],["class","product-image",4,"ngIf"],[1,"product-details"],[1,"product-name"],["class","product-price",4,"ngIf"],["class","product-desc",4,"ngIf"],[1,"product-image"],[1,"product-price"],[1,"product-desc"],[1,"testimonials-list"],["class","testimonial-item",4,"ngFor","ngForOf"],[1,"testimonial-item"],[1,"testimonial-text"],["class","testimonial-meta",4,"ngIf"],[1,"testimonial-meta"],["class","author",4,"ngIf"],["class","company",4,"ngIf"],[1,"author"],[1,"company"],[1,"contact-display"],["class","contact-item",4,"ngIf"],[1,"contact-item"],[1,"ctas-list"],["class","cta-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"cta-item",3,"click"],[1,"cta-text-wrapper"],[1,"cta-icon"],[1,"cta-text"],[1,"cta-url"],[3,"title"],[1,"social-links-display"],["class","social-link facebook",3,"selected","click",4,"ngIf"],["class","social-link twitter",3,"selected","click",4,"ngIf"],["class","social-link instagram",3,"selected","click",4,"ngIf"],["class","social-link linkedin",3,"selected","click",4,"ngIf"],["class","social-link youtube",3,"selected","click",4,"ngIf"],["class","social-link tiktok",3,"selected","click",4,"ngIf"],[1,"social-link","facebook",3,"click"],["class","check-icon-small",4,"ngIf"],[1,"check-icon-small"],[1,"social-link","twitter",3,"click"],[1,"social-link","instagram",3,"click"],[1,"social-link","linkedin",3,"click"],[1,"social-link","youtube",3,"click"],[1,"social-link","tiktok",3,"click"],["mat-stroked-button","",1,"style-btn",3,"click"],[1,"btn-loader"],[1,"spinner-ring"],[1,"spinner-ring","ring-2"],[1,"csv-banner-overlay",3,"click"],[1,"csv-banner-content",3,"click"],[1,"banner-body"],[1,"banner-title"],[1,"banner-subtitle"],["class","upload-section",4,"ngIf"],["class","file-preview-section",4,"ngIf"],["class","prompt-section",4,"ngIf"],[1,"upload-section"],["type","file","accept",".xlsx,.xls,.csv,.doc,.docx,.pdf",2,"display","none",3,"change"],[1,"drop-zone",3,"click","dragover","dragleave","drop"],[1,"upload-icon"],[1,"drop-text"],[1,"drop-subtext"],[1,"file-size-limit"],[1,"supported-formats"],[1,"format-badge"],[1,"file-preview-section"],[1,"file-preview-card"],[1,"file-details"],["mat-icon-button","",1,"remove-file-btn",3,"click"],[1,"action-buttons",3,"click"],["mat-raised-button","","type","button",1,"generate-prompt-btn",3,"click","disabled"],["diameter","20",4,"ngIf"],["mat-raised-button","","type","button",1,"use-in-chat-btn",3,"click","disabled"],["diameter","20"],[1,"prompt-section"],[1,"prompt-header"],["mat-icon-button","","matTooltip","Upload new file",3,"click"],["rows","10","placeholder","Edit your prompt here...",1,"prompt-textarea",3,"ngModelChange","ngModel"],[1,"prompt-actions"],["mat-raised-button","",1,"use-prompt-btn",3,"click"]],template:function(e,i){if(e&1){let r=fe();x(0,"div",4)(1,"section",5)(2,"div",6)(3,"app-template-preview-panel",7),on(4,"async"),on(5,"async"),xi("templateNameChange",function(s){return Dt(r),Ci(i.templateName,s)||(i.templateName=s),Lt(s)}),Bt("saveTemplate",function(){return Dt(r),Lt(i.onSaveTemplate())})("runTests",function(){return Dt(r),Lt(i.onRunTests())}),P()()(),x(6,"section",8)(7,"div",9)(8,"div",10),Xt(),x(9,"svg",11),vt(10,"path",12),P(),ie(),x(11,"div",13)(12,"h3"),I(13,"Template Generator"),P(),x(14,"p"),I(15,"Powered by AI"),P()()(),x(16,"button",14),on(17,"async"),Bt("click",function(){return Dt(r),Lt(i.onNewConversation())}),x(18,"mat-icon"),I(19,"add_circle"),P()(),x(20,"button",15)(21,"mat-icon"),I(22,"auto_awesome"),P()(),x(23,"mat-menu",16,0)(25,"div",17),Bt("click",function(s){return Dt(r),Lt(s.stopPropagation())}),x(26,"h4"),I(27,"\u{1F4A1} How to Use This Generator"),P(),x(28,"div",18)(29,"strong"),I(30,"Be Specific & Detailed"),P(),x(31,"p"),I(32,"Describe what you want clearly - layout, colors, content sections, and purpose. The more details, the better the result."),P()(),x(33,"div",18)(34,"strong"),I(35,"\u{1F4F8} Add Design References"),P(),x(36,"p"),I(37,"Upload images (max 2) for visual inspiration - colors, layout, style. We'll match the aesthetic while following your text instructions."),P()(),x(38,"div",18)(39,"strong"),I(40,"\u{1F516} Request Placeholders"),P(),x(41,"p"),I(42,"Ask for Mailchimp or other placeholders like "),x(43,"code"),I(44,"|*EMAIL*|"),P(),I(45,", "),x(46,"code"),I(47,"|*FNAME*|"),P(),I(48,", "),x(49,"code"),I(50,"|*COMPANY*|"),P(),I(51," - we'll add them where needed."),P()(),x(52,"div",18)(53,"strong"),I(54,"\u2728 Example Prompt:"),P(),x(55,"p",19),I(56,'"Create a product launch email with a hero image, bold headline, 3-column feature grid, and a centered CTA button. Use purple (#6d28d9) and white colors. Add |*FNAME*| placeholder in greeting."'),P()(),x(57,"div",20),I(58," All templates are mobile-first & responsive! "),P()()()(),x(59,"div",21,1),Bt("scroll",function(s){return Dt(r),Lt(i.onScroll(s))}),It(61,rE,12,14,"div",22),on(62,"async"),It(63,aE,7,1,"div",23),on(64,"async"),It(65,sE,17,3,"div",23)(66,lE,12,1,"div",24),on(67,"async"),P(),x(68,"div",25)(69,"input",26),Bt("change",function(s){return Dt(r),Lt(i.onImageSelect(s))}),P(),x(70,"div",27)(71,"button",28),on(72,"async"),Bt("click",function(){return Dt(r),Lt(i.openAttachChoiceBanner())}),Xt(),x(73,"svg",29),vt(74,"path",30),P()(),ie(),x(75,"textarea",31,2),xi("ngModelChange",function(s){return Dt(r),Ci(i.userInput,s)||(i.userInput=s),Lt(s)}),Bt("keydown.enter",function(s){return Dt(r),Lt(i.onEnterKey(s))})("paste",function(s){return Dt(r),Lt(i.onPaste(s))}),I(77,"    "),P(),x(78,"button",32),on(79,"async"),Bt("click",function(){return Dt(r),Lt(i.onSend())}),x(80,"mat-icon"),I(81,"send"),P(),x(82,"span"),I(83,"Send"),P()()()()()(),It(84,cE,26,0,"div",33)(85,y6,13,3,"div",34)(86,S6,13,3,"div",35)}if(e&2){let r,a,s,l,c=gi(24);j(3),tt("html",un(4,23,i.currentHtml$)||""),bi("templateName",i.templateName),tt("loading",(r=un(5,25,i.isGenerating$))!==null&&r!==void 0?r:!1)("showHeader",!0)("allowRefresh",!1)("allowFullscreen",!0)("allowViewModes",!0)("showGenerateActions",!0)("isGeneratePage",!0),j(13),tt("disabled",(a=un(17,27,i.isGenerating$))!==null&&a!==void 0?a:!1),j(4),tt("matMenuTriggerFor",c),j(41),tt("ngForOf",un(62,29,i.messages$))("ngForTrackBy",i.trackByIndex),j(2),tt("ngIf",i.imagePreviewUrls.length>0&&!un(64,31,i.isGenerating$)),j(2),tt("ngIf",i.attachedFile),j(),tt("ngIf",un(67,33,i.isGenerating$)),j(3),fi("max",i.maxImages),j(2),tt("disabled",(s=un(72,35,i.isGenerating$))!==null&&s!==void 0?s:!1),j(4),bi("ngModel",i.userInput),j(3),tt("disabled",!i.userInput.trim()&&!i.attachedFile||((l=un(79,37,i.isGenerating$))!==null&&l!==void 0?l:!1)),j(6),tt("ngIf",i.showAttachChoiceBanner),j(),tt("ngIf",i.showUrlAnalyzer),j(),tt("ngIf",i.showCsvBanner)}},dependencies:[Tn,kr,qn,Cs,uf,Ir,bo,Co,xo,cr,Oo,Oi,ro,lr,Mi,Pi,Vb,Ss,$b,xc,Ub,Gb,Po,oa,ra,la,aa,sa,ml,GC],styles:['@charset "UTF-8";[_nghost-%COMP%]{--primary-purple: #6d28d9;--primary-purple-dark: #5b21b6;--accent-pink: #ec4899;--accent-blue: #3b82f6;--success-green: #10b981;--warning-orange: #f59e0b;--error-red: #ef4444;--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--gradient-golden: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);--glass-white: rgba(255, 255, 255, .9);--glass-border: rgba(255, 255, 255, .3);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .08);--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px;--transition-fast: .2s cubic-bezier(.4, 0, .2, 1);--transition-normal: .3s cubic-bezier(.4, 0, .2, 1);--transition-smooth: .4s cubic-bezier(.4, 0, .2, 1);display:block;height:89vh;overflow:hidden}.attach-btn.mat-mdc-icon-button[_ngcontent-%COMP%], .add-image-btn.mat-mdc-icon-button[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: transparent !important;--mat-mdc-button-ripple-color: transparent !important}.attach-btn[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%], .add-image-btn[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]{display:none!important}.generate-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;width:100%;position:relative;overflow-y:auto;overflow-x:hidden;background:linear-gradient(135deg,#f8fafc,#e2e8f0)}.preview-section[_ngcontent-%COMP%]{flex:0 0 auto;height:auto;min-height:100vh;max-height:45vh;display:flex;flex-direction:column;overflow:auto;padding:.5rem;position:relative}.preview-section[_ngcontent-%COMP%]   app-template-preview-panel[_ngcontent-%COMP%]{flex:1;display:block;width:100%;height:100%;overflow:auto}.preview-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;overflow:auto;margin:0;border-radius:var(--radius-lg);background:#fff;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f,0 0 0 1px #0000000d}.preview-wrapper[_ngcontent-%COMP%]   app-template-preview-panel[_ngcontent-%COMP%]{flex:1;width:100%;height:100%;border-radius:var(--radius-lg);overflow:auto}.chat-section[_ngcontent-%COMP%]{flex:1 1 auto;min-height:400px;max-height:none;display:flex;flex-direction:column;background:#fff;overflow:hidden;margin:.5rem;margin-top:0;border-radius:var(--radius-lg);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f,0 0 0 1px #0000000d}.chat-header[_ngcontent-%COMP%]{flex:0 0 auto;min-height:60px;padding:.75rem 1rem;background:linear-gradient(135deg,#f8f9ff,#f0f2ff);border-bottom:2px solid #e2e8f0;border-radius:var(--radius-lg) var(--radius-lg) 0 0;display:flex;align-items:center;justify-content:space-between;gap:.5rem}.chat-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1;min-width:0}.chat-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:32px;height:32px;font-size:18px;display:flex;align-items:center;justify-content:center;background:var(--gradient-primary);color:#fff;border-radius:var(--radius-md);box-shadow:0 4px 12px #6d28d94d;flex-shrink:0}.chat-header[_ngcontent-%COMP%]   .header-icon.template-icon[_ngcontent-%COMP%]{background:var(--gradient-primary);box-shadow:0 4px 12px #6d28d94d;cursor:default;padding:6px}.chat-header[_ngcontent-%COMP%]   .header-icon.template-icon[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{min-width:0;flex:1}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.875rem;font-weight:800;color:#1e293b;letter-spacing:-.02em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.6875rem;color:#64748b;font-weight:600}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]{color:var(--primary-purple);transition:all var(--transition-fast);flex-shrink:0;width:32px!important;height:32px!important;min-width:32px!important;min-height:32px!important;padding:0!important;margin:0!important;display:flex!important;align-items:center!important;justify-content:center!important;border-radius:50%!important}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]     .mat-mdc-button-touch-target, .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]     .mat-mdc-button-touch-target{width:32px!important;height:32px!important}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;display:flex;align-items:center;justify-content:center;margin:0}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]:hover:not(:disabled), .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#6d28d91a;transform:scale(1.05)}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]:disabled, .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]:disabled{opacity:.4}.chat-messages[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;max-height:calc(100% - 220px);overflow-y:auto;overflow-x:hidden;padding:.75rem;display:flex;flex-direction:column;gap:.75rem;scroll-behavior:smooth;background:linear-gradient(135deg,#f8fafc80,#f1f5f980)}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000005;border-radius:3px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#6d28d94d,#ec48994d);border-radius:3px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#6d28d980,#ec489980)}.chat-msg[_ngcontent-%COMP%]{display:flex;animation:_ngcontent-%COMP%_messageSlideIn .3s ease forwards}.chat-msg.user-msg[_ngcontent-%COMP%]{justify-content:flex-end}.chat-msg.assistant-msg[_ngcontent-%COMP%]{justify-content:flex-start}.bubble[_ngcontent-%COMP%]{max-width:92%;padding:.75rem .875rem;border-radius:var(--radius-md);background:#fff;border:2px solid #e2e8f0;box-shadow:0 2px 8px #0000000f;transition:all var(--transition-normal)}.bubble[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.bubble.user-bubble[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d90d,#ec48990d);border-color:#6d28d933}.bubble.generating-bubble[_ngcontent-%COMP%]{border-color:#3b82f633;background:linear-gradient(135deg,#3b82f60d,#0ea5e90d)}.bubble-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.375rem}.bubble-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.625rem;font-weight:800;text-transform:uppercase;letter-spacing:.06em;color:var(--primary-purple)}.bubble-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:.5625rem;color:#94a3b8;font-weight:600}.bubble-content[_ngcontent-%COMP%]{font-size:.8125rem;line-height:1.5;color:#374151;white-space:pre-wrap;word-break:break-word}.typing-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;margin-right:.5rem}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:5px;height:5px;background:var(--accent-blue);border-radius:50%;animation:_ngcontent-%COMP%_typingBounce 1.4s infinite}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.generating-text[_ngcontent-%COMP%]{font-style:italic;color:#64748b;font-size:.75rem}.message-images[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.625rem;flex-wrap:wrap}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:var(--radius-md);border:2px solid rgba(0,0,0,.1);object-fit:cover;cursor:pointer;transition:all .2s}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #00000026}.message-images.preview-mode[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative;width:100px;height:100px}.message-images.preview-mode[_ngcontent-%COMP%]   .remove-preview-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;width:24px;height:24px;min-width:24px;padding:0;border:none;border-radius:50%;background:#ef4444;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;box-shadow:0 2px 6px #0000004d;z-index:10}.message-images.preview-mode[_ngcontent-%COMP%]   .remove-preview-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.message-images.preview-mode[_ngcontent-%COMP%]   .remove-preview-btn[_ngcontent-%COMP%]:hover{background:#dc2626;transform:scale(1.15)}.message-attachment[_ngcontent-%COMP%]{margin-bottom:.75rem}.message-attachment[_ngcontent-%COMP%]   .attachment-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:#0000000d;border-radius:12px;border:1px solid rgba(0,0,0,.1);max-width:300px}.message-attachment[_ngcontent-%COMP%]   .attachment-card[_ngcontent-%COMP%]   .attachment-icon[_ngcontent-%COMP%]{flex-shrink:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#6d28d91a;border-radius:8px}.message-attachment[_ngcontent-%COMP%]   .attachment-card[_ngcontent-%COMP%]   .attachment-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6d28d9;font-size:24px;width:24px;height:24px}.message-attachment[_ngcontent-%COMP%]   .attachment-card[_ngcontent-%COMP%]   .attachment-info[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:.25rem}.message-attachment[_ngcontent-%COMP%]   .attachment-card[_ngcontent-%COMP%]   .attachment-info[_ngcontent-%COMP%]   .attachment-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.message-attachment[_ngcontent-%COMP%]   .attachment-card[_ngcontent-%COMP%]   .attachment-info[_ngcontent-%COMP%]   .attachment-size[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.composer[_ngcontent-%COMP%]{flex:0 0 auto;padding:.625rem;background:linear-gradient(135deg,#ffffffe6,#6d28d905);border-top:2px solid #e2e8f0;min-height:100px;border-radius:0 0 var(--radius-lg) var(--radius-lg);display:flex;flex-direction:column;gap:0;position:relative}.composer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10;left:.625rem;right:.625rem;height:2px;background:var(--gradient-primary);border-radius:2px}.file-attachment-bubble[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf614,#a855f70d)!important;border:1px solid rgba(139,92,246,.3)!important}.file-attachment-bubble[_ngcontent-%COMP%]   .bubble-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.file-attachment-bubble[_ngcontent-%COMP%]   .bubble-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-weight:600;color:var(--primary-purple)}.remove-attachment-btn-inline[_ngcontent-%COMP%]{width:24px!important;height:24px!important;min-width:24px!important;padding:0!important;color:var(--text-secondary);transition:all .2s ease;background:transparent!important}.remove-attachment-btn-inline[_ngcontent-%COMP%]:hover{color:var(--text-primary);transform:scale(1.1);background:transparent!important}.remove-attachment-btn-inline[_ngcontent-%COMP%]     .mat-mdc-button-persistent-ripple{display:none!important}.remove-attachment-btn-inline[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.file-attachment-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem;background:#ffffff80;border-radius:8px}.file-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:linear-gradient(135deg,#8b5cf6,#a855f7);border-radius:8px;flex-shrink:0}.file-icon-wrapper[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{color:#fff;font-size:24px;width:24px;height:24px}.file-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem;min-width:0}.file-info[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.file-info[_ngcontent-%COMP%]   .file-size[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.composer-input-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;width:100%;padding-top:.5rem}.attach-btn[_ngcontent-%COMP%], .add-image-btn[_ngcontent-%COMP%]{flex-shrink:0;color:var(--primary-purple);transition:all var(--transition-fast);display:flex!important;align-items:center!important;justify-content:center!important;padding:0!important}.attach-btn[_ngcontent-%COMP%]   .attach-icon[_ngcontent-%COMP%], .add-image-btn[_ngcontent-%COMP%]   .attach-icon[_ngcontent-%COMP%]{width:24px;height:24px;transition:all var(--transition-fast)}.attach-btn[_ngcontent-%COMP%]     .mat-mdc-button-persistent-ripple, .add-image-btn[_ngcontent-%COMP%]     .mat-mdc-button-persistent-ripple{background-color:transparent!important;opacity:0!important}.attach-btn[_ngcontent-%COMP%]:hover:not(:disabled), .add-image-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05);color:var(--primary-purple-dark)}.attach-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .attach-icon[_ngcontent-%COMP%], .add-image-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .attach-icon[_ngcontent-%COMP%]{transform:rotate(-15deg)}.attach-btn[_ngcontent-%COMP%]:hover:not(:disabled)     .mat-mdc-button-persistent-ripple, .add-image-btn[_ngcontent-%COMP%]:hover:not(:disabled)     .mat-mdc-button-persistent-ripple{background-color:transparent!important}.attach-btn[_ngcontent-%COMP%]:disabled, .add-image-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.message-input[_ngcontent-%COMP%]{flex:1;border:2px solid rgba(0,0,0,.08);border-radius:var(--radius-md);padding:.625rem .75rem;font-family:inherit;font-size:.8125rem;line-height:1.4;resize:none;min-height:38px;max-height:45px;transition:all var(--transition-normal);background:#fff;box-shadow:0 2px 8px #0000000a}.message-input[_ngcontent-%COMP%]::-webkit-resizer{display:none}.message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-purple);box-shadow:0 0 0 2px #6d28d91a}.message-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-size:.8125rem}.message-input[_ngcontent-%COMP%]:disabled{background:#f9fafb;cursor:not-allowed;opacity:.6}.send-btn[_ngcontent-%COMP%]{background:var(--gradient-primary)!important;color:#fff!important;border:none!important;border-radius:var(--radius-md)!important;font-weight:700!important;padding:.625rem .875rem!important;min-height:38px!important;min-width:38px!important;box-shadow:0 4px 12px #6d28d94d!important;display:flex!important;align-items:center!important;justify-content:center!important;gap:.375rem!important;transition:all var(--transition-normal)!important;position:relative!important;overflow:hidden!important;flex-shrink:0!important}.send-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left var(--transition-normal)}.send-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;transition:transform var(--transition-normal)}.send-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;font-size:.8125rem}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05);box-shadow:0 6px 20px #6d28d966!important}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{transform:translate(1px)}.send-btn[_ngcontent-%COMP%]:disabled{opacity:.6;transform:none!important;cursor:not-allowed}@keyframes _ngcontent-%COMP%_messageSlideIn{0%{opacity:0;transform:translateY(8px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_typingBounce{0%,60%,to{transform:translateY(0)}30%{transform:translateY(-5px)}}@media (min-width: 768px){.generate-layout[_ngcontent-%COMP%]{overflow-y:auto}.preview-section[_ngcontent-%COMP%]{flex:1 1 auto;min-height:100vh;max-height:none;padding:.75rem}.chat-section[_ngcontent-%COMP%]{flex:1 1 auto;min-height:400px;max-height:none;margin:.75rem;margin-top:0;display:flex;flex-direction:column}.chat-header[_ngcontent-%COMP%]{padding:1rem 1.25rem}.chat-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:36px;height:36px;font-size:20px}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]{width:36px!important;height:36px!important;min-width:36px!important}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.chat-messages[_ngcontent-%COMP%]{padding:1rem 1.25rem;gap:1rem}.bubble[_ngcontent-%COMP%]{max-width:88%;padding:.875rem 1rem}.bubble-header[_ngcontent-%COMP%]{margin-bottom:.5rem}.bubble-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.6875rem}.bubble-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:.625rem}.bubble-content[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.6}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.image-preview-item[_ngcontent-%COMP%]{width:50px;height:50px}.attach-btn[_ngcontent-%COMP%], .add-image-btn[_ngcontent-%COMP%]{width:36px!important;height:36px!important;min-width:36px!important}.attach-btn[_ngcontent-%COMP%]   .attach-icon[_ngcontent-%COMP%], .add-image-btn[_ngcontent-%COMP%]   .attach-icon[_ngcontent-%COMP%]{width:20px;height:20px}.attach-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .add-image-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.file-attachment-container[_ngcontent-%COMP%]{padding:.5rem}.file-attachment-card[_ngcontent-%COMP%]{padding:.5rem .75rem}.file-attachment-card[_ngcontent-%COMP%]   .file-icon-wrapper[_ngcontent-%COMP%]{width:36px;height:36px}.file-attachment-card[_ngcontent-%COMP%]   .file-icon-wrapper[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.file-attachment-card[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:.8125rem}.file-attachment-card[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-size[_ngcontent-%COMP%]{font-size:.6875rem}.composer[_ngcontent-%COMP%]{padding:.875rem 1rem;gap:.75rem}.composer[_ngcontent-%COMP%]:before{left:1rem;right:1rem}.message-input[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.875rem;min-height:44px;max-height:48px}.message-input[_ngcontent-%COMP%]::placeholder{font-size:.875rem}.send-btn[_ngcontent-%COMP%]{padding:.75rem 1rem!important;min-height:44px!important;gap:.5rem!important}.send-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.send-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline}}@media (min-width: 1024px){.generate-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;gap:0;height:100vh;overflow:hidden}.preview-section[_ngcontent-%COMP%]{flex:1;min-height:unset;height:89vh;padding:.75rem;overflow:auto}.chat-section[_ngcontent-%COMP%]{flex:1;min-height:unset;height:86vh;margin:.75rem;margin-left:0;overflow:hidden}.chat-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.chat-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:24px}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]{width:40px!important;height:40px!important;min-width:40px!important}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.chat-messages[_ngcontent-%COMP%]{padding:1.5rem;gap:1.25rem}.bubble[_ngcontent-%COMP%]{max-width:85%;padding:1rem 1.25rem}.bubble-header[_ngcontent-%COMP%]{margin-bottom:.625rem}.bubble-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.75rem}.bubble-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:.6875rem}.bubble-content[_ngcontent-%COMP%]{font-size:.9375rem;line-height:1.7}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]{max-width:120px;max-height:120px}.image-preview-item[_ngcontent-%COMP%]{width:70px;height:70px}.attach-btn[_ngcontent-%COMP%], .add-image-btn[_ngcontent-%COMP%]{width:40px!important;height:40px!important;min-width:40px!important}.attach-btn[_ngcontent-%COMP%]   .attach-icon[_ngcontent-%COMP%], .add-image-btn[_ngcontent-%COMP%]   .attach-icon[_ngcontent-%COMP%]{width:22px;height:22px}.attach-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .add-image-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.composer[_ngcontent-%COMP%]{padding:1rem 1.5rem;gap:1rem;max-height:180px}.composer[_ngcontent-%COMP%]:before{left:1.5rem;right:1.5rem}.message-input[_ngcontent-%COMP%]{padding:.875rem 1rem;font-size:.9375rem;min-height:48px;max-height:100px}.message-input[_ngcontent-%COMP%]::placeholder{font-size:.9375rem}.send-btn[_ngcontent-%COMP%]{padding:.875rem 1.5rem!important;min-height:48px!important;gap:.625rem!important}}@media (min-width: 1200px){.generate-layout[_ngcontent-%COMP%]{grid-template-columns:1fr 480px;height:100vh;overflow:hidden}.preview-section[_ngcontent-%COMP%]{height:89%;overflow:auto}.chat-section[_ngcontent-%COMP%]{height:85.5%;overflow:hidden}.chat-header[_ngcontent-%COMP%]{padding:1.5rem 2rem}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.chat-messages[_ngcontent-%COMP%]{padding:2rem 1.5rem;gap:1.5rem}.bubble[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.image-preview-item[_ngcontent-%COMP%]{width:80px;height:80px}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.usage-tips-btn[_ngcontent-%COMP%]{color:#6d28d9}.usage-tips-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}  .usage-tips-menu .mat-mdc-menu-panel{max-width:400px!important;border-radius:12px}.usage-tips-content[_ngcontent-%COMP%]{padding:20px;max-width:380px}.usage-tips-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:600;color:#1a1a1a}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]{margin-bottom:14px}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#6d28d9;margin-bottom:4px}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;line-height:1.5;color:#666}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f1f5f9;padding:2px 6px;border-radius:3px;font-family:Courier New,monospace;font-size:12px;color:#6d28d9;font-weight:500}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]{background:#f8fafc;padding:10px;border-radius:6px;border-left:3px solid #6d28d9;font-style:italic;color:#475569}.usage-tips-content[_ngcontent-%COMP%]   .tip-section.warning[_ngcontent-%COMP%]{background:#fef3c7;padding:10px;border-radius:6px;border-left:3px solid #f59e0b}.usage-tips-content[_ngcontent-%COMP%]   .tip-section.warning[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f59e0b}.usage-tips-content[_ngcontent-%COMP%]   .tip-section.warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#78350f}.usage-tips-content[_ngcontent-%COMP%]   .tip-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:16px;padding:10px;background:#f3e8ff;border-radius:6px;font-size:13px;font-weight:500;color:#6d28d9}.usage-tips-content[_ngcontent-%COMP%]   .tip-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}@media (max-width: 768px){  .usage-tips-menu .mat-mdc-menu-panel{max-width:calc(100vw - 32px)!important}.usage-tips-content[_ngcontent-%COMP%]{max-width:100%;padding:16px}}@media (max-width: 1023px){.ai-warning-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.ai-warning-container[_ngcontent-%COMP%]   .floating-ai-icon[_ngcontent-%COMP%], .ai-warning-container[_ngcontent-%COMP%]   .info-badges[_ngcontent-%COMP%]{display:none!important}.ai-warning-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.75rem}.ai-warning-container[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{font-size:.9375rem;margin-bottom:0}}@media (min-width: 1024px){.ai-warning-container[_ngcontent-%COMP%]   .floating-ai-icon[_ngcontent-%COMP%]{display:block!important}.ai-warning-container[_ngcontent-%COMP%]   .info-badges[_ngcontent-%COMP%]{display:flex!important}}@media (max-width: 1023px){.chat-section[_ngcontent-%COMP%]{min-height:50rem}}.attach-choice-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:50;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .3s ease}.attach-choice-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px;background:linear-gradient(135deg,#6d28d9f2,#8b5cf6f2);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.3);border-radius:24px;box-shadow:0 25px 50px -12px #00000040,0 0 0 1px #ffffff1a inset;overflow:visible;animation:_ngcontent-%COMP%_slideUp .4s cubic-bezier(.34,1.56,.64,1);display:flex;flex-direction:column}.attach-choice-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute!important;top:1.25rem!important;right:1.25rem!important;z-index:100!important;width:40px!important;height:40px!important;min-width:40px!important;min-height:40px!important;background:#fff3!important;color:#fff!important;transition:all .2s ease!important;border-radius:50%!important;padding:0!important;display:flex!important;align-items:center!important;justify-content:center!important;border:none!important}.attach-choice-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem!important;width:1.5rem!important;height:1.5rem!important;line-height:1!important}.attach-choice-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d!important;transform:rotate(90deg)}.attach-choice-body[_ngcontent-%COMP%]{padding:3.5rem 2.5rem 2.5rem;color:#fff;display:flex;flex-direction:column;align-items:center;gap:2rem;border-radius:24px;overflow:hidden}.attach-choice-title[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:700;text-align:center;letter-spacing:-.02em;line-height:1.2}.attach-choice-subtitle[_ngcontent-%COMP%]{margin:-.5rem 0 0;font-size:1rem;opacity:.95;text-align:center;font-weight:400;line-height:1.5}.attach-options[_ngcontent-%COMP%]{display:flex;gap:1rem;width:100%;max-width:480px;justify-content:center;flex-wrap:wrap}.attach-option-btn[_ngcontent-%COMP%]{flex:1;min-width:140px;max-width:160px;height:auto;padding:1.5rem 1rem!important;display:flex!important;flex-direction:column;align-items:center;justify-content:center;gap:.875rem;border-radius:16px!important;font-size:1rem!important;font-weight:600!important;transition:all .2s ease!important;border:none!important;box-shadow:0 4px 12px #00000026!important;line-height:1.4!important}.attach-option-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem!important;width:2rem!important;height:2rem!important;display:flex;align-items:center;justify-content:center;margin:0!important}.attach-option-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center;white-space:nowrap;overflow:visible;text-overflow:clip}.attach-option-btn.image-option[_ngcontent-%COMP%]{background:#fff3!important;color:#fff!important}.attach-option-btn.image-option[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff4d!important;transform:translateY(-4px);box-shadow:0 8px 20px #00000040!important}.attach-option-btn.document-option[_ngcontent-%COMP%]{background:#fff3!important;color:#fff!important}.attach-option-btn.document-option[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff4d!important;transform:translateY(-4px);box-shadow:0 8px 20px #00000040!important}.attach-option-btn.url-option[_ngcontent-%COMP%]{background:#fff3!important;color:#fff!important}.attach-option-btn.url-option[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff4d!important;transform:translateY(-4px);box-shadow:0 8px 20px #00000040!important}@media (max-width: 768px){.attach-choice-content[_ngcontent-%COMP%]{max-width:90%}.attach-choice-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{top:.75rem;right:.75rem;width:36px;height:36px}.attach-choice-body[_ngcontent-%COMP%]{padding:2.5rem 1.5rem 2rem;gap:1.5rem}.attach-choice-title[_ngcontent-%COMP%]{font-size:1.75rem}.attach-choice-subtitle[_ngcontent-%COMP%]{font-size:.9375rem}.attach-options[_ngcontent-%COMP%]{flex-direction:column;gap:.875rem}.attach-options[_ngcontent-%COMP%]   .attach-option-btn[_ngcontent-%COMP%]{width:100%;min-width:unset;max-width:unset;flex:unset}}.url-analyzer-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:49;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .3s ease;overflow-y:auto}.url-analyzer-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:900px;max-height:90vh;background:linear-gradient(135deg,#6d28d9f2,#8b5cf6f2);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.3);border-radius:24px;box-shadow:0 25px 50px -12px #00000040,0 0 0 1px #ffffff1a inset;overflow-y:auto;animation:_ngcontent-%COMP%_slideUp .4s cubic-bezier(.34,1.56,.64,1)}.url-analyzer-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute!important;top:1.25rem!important;right:1.25rem!important;z-index:100!important;width:40px!important;height:40px!important;min-width:40px!important;min-height:40px!important;background:#fff3!important;color:#fff!important;transition:all .2s ease!important;border-radius:50%!important;padding:0!important;display:flex!important;align-items:center!important;justify-content:center!important;border:none!important}.url-analyzer-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem!important;width:1.5rem!important;height:1.5rem!important;line-height:1!important}.url-analyzer-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d!important;transform:rotate(90deg)}.analyzer-body[_ngcontent-%COMP%]{padding:3rem 2.5rem 2.5rem;color:#fff}.analyzer-title[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:700;text-align:center;letter-spacing:-.02em;line-height:1.2}.analyzer-subtitle[_ngcontent-%COMP%]{margin:1rem 0 0;font-size:1rem;opacity:.95;text-align:center;font-weight:400;line-height:1.5}.url-input-section[_ngcontent-%COMP%]{margin-top:2.5rem;display:flex;flex-direction:column;gap:1.5rem;align-items:center;width:100%}.url-input-field[_ngcontent-%COMP%]{width:100%;max-width:600px}.url-input-field[_ngcontent-%COMP%]     .mat-mdc-form-field{width:100%}.url-input-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background:#fffffff2;border-radius:12px;padding:0!important;height:56px}.url-input-field[_ngcontent-%COMP%]     .mat-mdc-form-field-flex{background:transparent;padding:0 1rem!important;height:56px;align-items:center}.url-input-field[_ngcontent-%COMP%]     .mdc-notched-outline__leading, .url-input-field[_ngcontent-%COMP%]     .mdc-notched-outline__notch, .url-input-field[_ngcontent-%COMP%]     .mdc-notched-outline__trailing{border:none!important}.url-input-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper, .url-input-field[_ngcontent-%COMP%]     .mat-mdc-form-field-hint-wrapper, .url-input-field[_ngcontent-%COMP%]     .mat-mdc-form-field-error-wrapper{display:none!important}.url-input-field[_ngcontent-%COMP%]     textarea{resize:none!important}.url-input-field[_ngcontent-%COMP%]     input{color:#1e293b;font-size:1rem;padding:0 .5rem!important;height:56px;line-height:56px}.url-input-field[_ngcontent-%COMP%]     .mat-mdc-form-field-label{color:#64748b;top:50%!important;transform:translateY(-50%)!important;left:3rem!important}.url-input-field[_ngcontent-%COMP%]     .mat-icon{color:#64748b;margin-right:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.url-input-field[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{border:none!important;padding:0 0 0 2.5rem!important;min-height:56px;display:flex;align-items:center}.url-input-field[_ngcontent-%COMP%]     .mat-mdc-form-field-focus-overlay{display:none!important}.url-input-field[_ngcontent-%COMP%]     .mdc-floating-label{top:50%!important;transform:translateY(-50%)!important;left:3rem!important;transition:all .2s ease!important}.url-input-field[_ngcontent-%COMP%]     .mdc-floating-label--float-above{opacity:0!important;transform:translateY(-50%) scale(.75)!important;left:3rem!important}.url-input-field[_ngcontent-%COMP%]     .mat-mdc-form-field-icon-prefix{padding-right:.5rem;display:flex;align-items:center}.url-input-field[_ngcontent-%COMP%]     .mat-focused .mat-mdc-form-field-label, .url-input-field[_ngcontent-%COMP%]     .mat-focused .mdc-floating-label{opacity:0!important}.url-input-field[_ngcontent-%COMP%]     .mat-form-field-should-float .mat-mdc-form-field-label, .url-input-field[_ngcontent-%COMP%]     .mat-form-field-should-float .mdc-floating-label{opacity:0!important}.analyze-btn[_ngcontent-%COMP%]{background:#fff3!important;color:#fff!important;padding:1rem 2.5rem!important;border-radius:12px!important;font-weight:600!important;font-size:1rem!important;transition:all .2s ease!important;box-shadow:0 4px 12px #00000026!important;display:flex!important;align-items:center!important;gap:.5rem;min-width:200px;justify-content:center}.analyze-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff4d!important;transform:translateY(-2px);box-shadow:0 8px 20px #00000040!important}.analyze-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.analyze-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;width:1.25rem;height:1.25rem}.analyzing-section[_ngcontent-%COMP%]{margin-top:2rem;display:flex;flex-direction:column;align-items:center;gap:1.5rem;padding:3rem 2rem}.modern-loader[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;display:flex;align-items:center;justify-content:center}.loader-rings[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.loader-rings[_ngcontent-%COMP%]   .ring[_ngcontent-%COMP%]{position:absolute;border:3px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_rotateRing 2s cubic-bezier(.4,0,.2,1) infinite}.loader-rings[_ngcontent-%COMP%]   .ring.ring-1[_ngcontent-%COMP%]{width:100%;height:100%;border-top-color:#fffc;border-right-color:#fff6;animation-duration:1.5s}.loader-rings[_ngcontent-%COMP%]   .ring.ring-2[_ngcontent-%COMP%]{width:75%;height:75%;top:12.5%;left:12.5%;border-top-color:#fff9;border-left-color:#ffffff4d;animation-duration:2s;animation-direction:reverse}.loader-rings[_ngcontent-%COMP%]   .ring.ring-3[_ngcontent-%COMP%]{width:50%;height:50%;top:25%;left:25%;border-top-color:#fff6;border-bottom-color:#fff3;animation-duration:2.5s}.loader-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:40px;height:40px;color:#fff;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.loader-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;filter:drop-shadow(0 0 10px rgba(255,255,255,.5))}@keyframes _ngcontent-%COMP%_rotateRing{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}.analyzing-text[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:0;text-align:center;animation:_ngcontent-%COMP%_fadeInOut 2s ease-in-out infinite}.analyzing-subtext[_ngcontent-%COMP%]{font-size:.9375rem;opacity:.9;margin:0;text-align:center}@keyframes _ngcontent-%COMP%_fadeInOut{0%,to{opacity:1}50%{opacity:.7}}.brand-dna-section[_ngcontent-%COMP%]{margin-top:2rem;display:flex;flex-direction:column;gap:1.5rem}.brand-dna-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.brand-dna-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.brand-dna-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fff3;color:#fff}.brand-dna-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff4d}.dna-group[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:var(--radius-lg);padding:1.5rem}.dna-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.125rem;font-weight:600}.color-palette[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:1rem}.color-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:.75rem;background:#ffffff1a;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);position:relative}.color-item[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px)}.color-item.selected[_ngcontent-%COMP%]{background:#ffffff4d;box-shadow:0 0 0 2px #fff}.color-swatch[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:var(--radius-md);box-shadow:0 2px 8px #0003}.color-code[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;text-transform:uppercase}.image-gallery[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1rem}.image-item-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;cursor:pointer;transition:all var(--transition-fast);background:#ffffff1a;padding:.75rem;border-radius:var(--radius-md);border:2px solid transparent}.image-item-wrapper[_ngcontent-%COMP%]:hover{background:#ffffff26;transform:translateY(-2px)}.image-item-wrapper.selected[_ngcontent-%COMP%]{background:#ffffff40;border-color:#fff;box-shadow:0 4px 12px #0003}.image-item[_ngcontent-%COMP%]{position:relative;aspect-ratio:16/9;border-radius:var(--radius-md);overflow:hidden;background:#0000001a}.image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-url-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#0003;border-radius:var(--radius-sm)}.image-url-display[_ngcontent-%COMP%]   .url-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;flex-shrink:0;opacity:.8}.image-url-display[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]{font-size:.75rem;font-family:monospace;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;opacity:.9}.no-images-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:2rem;background:#0000001a;border-radius:var(--radius-md);opacity:.7}.no-images-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;opacity:.5}.no-images-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;text-align:center}.logo-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:1rem;background:#ffffff26;border-radius:var(--radius-md)}.brand-logo-img[_ngcontent-%COMP%]{max-width:200px;max-height:100px;object-fit:contain;background:#fff;padding:.5rem;border-radius:var(--radius-sm)}.logo-url[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#0003;border-radius:var(--radius-sm);width:100%;justify-content:center}.brand-info-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.brand-info-item[_ngcontent-%COMP%]{background:#ffffff1a;padding:1rem;border-radius:var(--radius-md)}.brand-info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;margin-bottom:.5rem;opacity:.9}.brand-info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;line-height:1.6;opacity:.95}.values-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.value-badge[_ngcontent-%COMP%]{background:#fff3;padding:.375rem .75rem;border-radius:var(--radius-sm);font-size:.75rem;font-weight:500}.products-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.product-item[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:var(--radius-md);overflow:hidden;transition:all var(--transition-fast)}.product-item[_ngcontent-%COMP%]:hover{background:#ffffff26;transform:translateY(-2px)}.product-image[_ngcontent-%COMP%]{width:100%;aspect-ratio:16/9;background:#0000001a}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.product-details[_ngcontent-%COMP%]{padding:1rem}.product-name[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1rem;font-weight:600}.product-price[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;font-weight:700;color:#fbbf24}.product-desc[_ngcontent-%COMP%]{margin:0;font-size:.75rem;opacity:.9;line-height:1.5;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.testimonials-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.testimonial-item[_ngcontent-%COMP%]{background:#ffffff1a;padding:1.25rem;border-radius:var(--radius-md);border-left:3px solid rgba(255,255,255,.5)}.testimonial-text[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:.875rem;line-height:1.6;font-style:italic}.testimonial-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;font-size:.75rem;opacity:.8}.testimonial-meta[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{font-weight:600}.testimonial-meta[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%]{opacity:.9}.contact-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:#ffffff1a;border-radius:var(--radius-md)}.contact-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;flex-shrink:0}.contact-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.ctas-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.cta-item[_ngcontent-%COMP%]{background:#ffffff1a;padding:1rem;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);position:relative;border:2px solid transparent}.cta-item[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px)}.cta-item.selected[_ngcontent-%COMP%]{background:#ffffff40;border-color:#fff;box-shadow:0 4px 12px #0003}.cta-text-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.5rem}.cta-text-wrapper[_ngcontent-%COMP%]   .cta-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;opacity:.8}.cta-text-wrapper[_ngcontent-%COMP%]   .cta-text[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600}.cta-url[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#0003;border-radius:var(--radius-sm);margin-left:2rem}.cta-url[_ngcontent-%COMP%]   .url-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;opacity:.7}.cta-url[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem;font-family:monospace;opacity:.9}.social-links-display[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:.75rem}.social-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background:#ffffff26;border-radius:var(--radius-md);color:#fff;text-decoration:none;transition:all var(--transition-fast);cursor:pointer;border:2px solid transparent;position:relative}.social-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.social-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:500}.social-link[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px)}.social-link.selected[_ngcontent-%COMP%]{background:#ffffff4d;border-color:#fff;box-shadow:0 4px 12px #0003}.social-link.facebook[_ngcontent-%COMP%]:hover{background:#3b59984d}.social-link.twitter[_ngcontent-%COMP%]:hover{background:#1da1f24d}.social-link.instagram[_ngcontent-%COMP%]:hover{background:#e1306c4d}.social-link.linkedin[_ngcontent-%COMP%]:hover{background:#0077b54d}.social-link.youtube[_ngcontent-%COMP%]:hover{background:#ff00004d}.social-link.tiktok[_ngcontent-%COMP%]:hover{background:#0000004d}.check-icon-small[_ngcontent-%COMP%]{position:absolute;top:.25rem;right:.25rem;color:#10b981;background:#fff;border-radius:50%;font-size:16px;width:16px;height:16px}.content-sections-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-height:400px;overflow-y:auto;padding-right:.5rem}.content-sections-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.content-sections-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000001a;border-radius:3px}.content-sections-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:3px}.content-sections-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.content-section-item[_ngcontent-%COMP%]{background:#ffffff1a;padding:1.25rem;border-radius:var(--radius-md);border-left:3px solid rgba(255,255,255,.4)}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.section-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600}.section-header[_ngcontent-%COMP%]   .section-context[_ngcontent-%COMP%]{font-size:.7rem;text-transform:uppercase;background:#fff3;padding:.25rem .5rem;border-radius:var(--radius-sm);font-weight:600}.section-paragraphs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.section-paragraph[_ngcontent-%COMP%]{margin:0;font-size:.875rem;line-height:1.7;opacity:.95;padding-left:.75rem;border-left:2px solid rgba(255,255,255,.2)}.section-list[_ngcontent-%COMP%]{margin:.75rem 0 0;padding-left:1.5rem;list-style:none}.section-list-item[_ngcontent-%COMP%]{font-size:.8125rem;line-height:1.6;opacity:.95;margin-bottom:.5rem;padding-left:.5rem;position:relative}.section-list-item[_ngcontent-%COMP%]:before{content:"\\25b8";position:absolute;left:-.75rem;opacity:.7}.section-list-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.content-snippets[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.snippet-item[_ngcontent-%COMP%]{background:#ffffff1a;padding:1rem;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);position:relative}.snippet-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;line-height:1.5}.snippet-item[_ngcontent-%COMP%]:hover{background:#fff3}.snippet-item.selected[_ngcontent-%COMP%]{background:#ffffff4d;box-shadow:0 0 0 2px #fff}.check-icon[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;color:#10b981;background:#fff;border-radius:50%;font-size:20px;width:20px;height:20px}.fonts-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.font-item[_ngcontent-%COMP%]{background:#ffffff1a;padding:1rem;border-radius:var(--radius-md);font-size:.875rem}.font-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;margin-right:.5rem}.template-style-group[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:var(--radius-lg);padding:1.5rem}.template-style-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.125rem;font-weight:600;color:#fff!important}.style-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:.75rem}.style-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem;background:#ffffff1a;color:#fff!important;border:2px solid transparent;border-radius:var(--radius-md);transition:all var(--transition-fast)}.style-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;color:#fff!important}.style-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;text-align:center;color:#fff!important}.style-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%]{color:#fff!important}.style-btn[_ngcontent-%COMP%]:hover{background:#fff3}.style-btn.selected[_ngcontent-%COMP%]{background:#ffffff4d;border-color:#fff;box-shadow:0 0 0 2px #fff}.analyzer-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:1.5rem}.generate-prompt-btn[_ngcontent-%COMP%]{background:#fff;color:var(--primary-purple);padding:.75rem 2rem;border-radius:var(--radius-lg);font-weight:600;position:relative;display:flex;align-items:center;justify-content:center;gap:.5rem}.generate-prompt-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;transform:translateY(-2px);box-shadow:0 8px 16px #0003}.generate-prompt-btn[_ngcontent-%COMP%]:disabled{opacity:.7!important;cursor:not-allowed;background:#ffffffe6!important}.generate-prompt-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.generate-prompt-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--primary-purple)}.generate-prompt-btn[_ngcontent-%COMP%]   .btn-loader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;position:relative}.generate-prompt-btn[_ngcontent-%COMP%]   .btn-loader[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;border:2px solid transparent;border-top-color:var(--primary-purple);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.generate-prompt-btn[_ngcontent-%COMP%]   .btn-loader[_ngcontent-%COMP%]   .spinner-ring.ring-2[_ngcontent-%COMP%]{width:14px;height:14px;border-top-color:#6d28d980;animation-duration:1.2s;animation-direction:reverse}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.url-analyzer-content[_ngcontent-%COMP%]{max-width:95%}.url-analyzer-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{top:.75rem;right:.75rem;width:36px;height:36px}.analyzer-body[_ngcontent-%COMP%]{padding:2.5rem 1.5rem 2rem}.analyzer-title[_ngcontent-%COMP%]{font-size:1.75rem}.analyzer-subtitle[_ngcontent-%COMP%]{font-size:.9375rem}.url-input-section[_ngcontent-%COMP%]{margin-top:2rem}.analyze-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}.color-palette[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.image-gallery[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}.image-url-display[_ngcontent-%COMP%]{padding:.375rem}.image-url-display[_ngcontent-%COMP%]   .image-url[_ngcontent-%COMP%]{font-size:.625rem}.style-options[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}.analyzer-actions[_ngcontent-%COMP%]{flex-direction:column}.analyzer-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.products-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.social-links-display[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 480px){.attach-choice-content[_ngcontent-%COMP%]{max-width:95%}.attach-choice-body[_ngcontent-%COMP%]{padding:1.5rem}.attach-choice-title[_ngcontent-%COMP%]{font-size:1.25rem}}.csv-banner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:48;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .3s ease}.csv-banner-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:800px;height:600px;max-height:90vh;background:linear-gradient(135deg,#60a5faf2,#3b82f6f2);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.3);border-radius:24px;box-shadow:0 25px 50px -12px #00000040,0 0 0 1px #ffffff1a inset;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .4s cubic-bezier(.34,1.56,.64,1);display:flex;flex-direction:column}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;z-index:10;background:#fff3;color:#fff;transition:all .3s ease}.close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:rotate(90deg)}.close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.banner-body[_ngcontent-%COMP%]{padding:1.5rem 2rem;color:#fff;flex:1;overflow-y:auto;display:flex;flex-direction:column}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(50px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.csv-banner-content[_ngcontent-%COMP%]{max-width:95%;height:500px;border-radius:16px}.banner-body[_ngcontent-%COMP%]{padding:2.5rem 1.5rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   .generate-prompt-btn[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .use-in-chat-btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.csv-banner-content[_ngcontent-%COMP%]{max-width:100%;height:90vh;max-height:95vh;border-radius:12px;margin:.5rem}.banner-body[_ngcontent-%COMP%]{padding:2rem 1rem;min-height:250px}.close-btn[_ngcontent-%COMP%]{top:.5rem;right:.5rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   .generate-prompt-btn[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .use-in-chat-btn[_ngcontent-%COMP%]{width:100%}}@media (max-height: 600px) and (orientation: landscape){.csv-banner-content[_ngcontent-%COMP%]{max-height:85vh}.banner-body[_ngcontent-%COMP%]{padding:1.5rem 2rem;min-height:200px}}.banner-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:0 0 .25rem;text-align:center}.banner-subtitle[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9;margin:0 0 1.5rem;text-align:center}.upload-section[_ngcontent-%COMP%]{margin:1rem 0}.drop-zone[_ngcontent-%COMP%]{border:2px dashed rgba(255,255,255,.5);border-radius:16px;padding:2rem 1.5rem;text-align:center;cursor:pointer;transition:all .3s ease;background:#ffffff1a}.drop-zone[_ngcontent-%COMP%]:hover{border-color:#fffc;background:#ffffff26;transform:translateY(-2px)}.drop-zone.drag-over[_ngcontent-%COMP%]{border-color:#fff;background:#fff3;transform:scale(1.02)}.upload-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;margin:0 auto 1rem;opacity:.9}.drop-text[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin:0 0 .5rem}.drop-subtext[_ngcontent-%COMP%]{font-size:.875rem;opacity:.8;margin:0 0 .5rem}.file-size-limit[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7;margin:0 0 1.5rem;color:#ffffffe6;font-weight:500}.supported-formats[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap}.format-badge[_ngcontent-%COMP%]{background:#fff3;padding:.375rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600}.file-preview-section[_ngcontent-%COMP%]{margin:2rem 0}.file-preview-card[_ngcontent-%COMP%]{background:#ffffff26;border-radius:12px;padding:1.5rem;display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.file-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:12px;padding:1rem;display:flex;align-items:center;justify-content:center}.file-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem}.file-details[_ngcontent-%COMP%]{flex:1;min-width:0}.file-name[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;margin:0 0 .25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-size[_ngcontent-%COMP%]{font-size:.875rem;opacity:.8;margin:0}.remove-file-btn[_ngcontent-%COMP%]{color:#fff}.remove-file-btn[_ngcontent-%COMP%]:hover{background:#fff3}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1.5rem}.generate-prompt-btn[_ngcontent-%COMP%], .use-in-chat-btn[_ngcontent-%COMP%]{flex:1;padding:.875rem 1.5rem;font-size:.95rem;font-weight:600;border-radius:12px;border:1px solid rgba(255,255,255,.3);background:#ffffff26;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);color:#fff;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;position:relative;overflow:hidden}.generate-prompt-btn[_ngcontent-%COMP%]     .mdc-button__label, .use-in-chat-btn[_ngcontent-%COMP%]     .mdc-button__label{display:flex!important;align-items:center!important;justify-content:center!important;gap:.5rem!important;flex-direction:row!important}.generate-prompt-btn[_ngcontent-%COMP%]:before, .use-in-chat-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#fff3,#ffffff0d);opacity:0;transition:opacity .3s ease;pointer-events:none;z-index:0}.generate-prompt-btn[_ngcontent-%COMP%]:hover:not([disabled]), .use-in-chat-btn[_ngcontent-%COMP%]:hover:not([disabled]){background:#ffffff40;border-color:#fff6;transform:translateY(-2px);box-shadow:0 8px 24px #00000026}.generate-prompt-btn[_ngcontent-%COMP%]:hover:not([disabled]):before, .use-in-chat-btn[_ngcontent-%COMP%]:hover:not([disabled]):before{opacity:1}.generate-prompt-btn[_ngcontent-%COMP%]:active:not([disabled]), .use-in-chat-btn[_ngcontent-%COMP%]:active:not([disabled]){transform:translateY(0)}.generate-prompt-btn[disabled][_ngcontent-%COMP%], .use-in-chat-btn[disabled][_ngcontent-%COMP%]{background:#ffffff14;border-color:#ffffff26;color:#fff6;cursor:not-allowed}.generate-prompt-btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%], .use-in-chat-btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.generate-prompt-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .use-in-chat-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem;display:inline-block;vertical-align:middle}.generate-prompt-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .use-in-chat-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap;vertical-align:middle}.prompt-section[_ngcontent-%COMP%]{margin:1rem 0 0}.prompt-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.prompt-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.15rem;font-weight:700}.prompt-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}.prompt-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff3}.prompt-textarea[_ngcontent-%COMP%]{width:100%;min-height:150px;max-height:250px;padding:.875rem;border:2px solid rgba(255,255,255,.3);border-radius:12px;background:#ffffff26;color:#fff;font-size:.9rem;line-height:1.5;resize:none;font-family:inherit;overflow-y:auto}.prompt-textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.prompt-textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:10px}.prompt-textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:10px}.prompt-textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#fff6}.prompt-textarea[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent}.prompt-textarea[_ngcontent-%COMP%]::-webkit-resizer{display:none}.prompt-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff;background:#fff3}.prompt-textarea[_ngcontent-%COMP%]::placeholder{color:#fff9}.prompt-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem;justify-content:flex-end}.cancel-btn[_ngcontent-%COMP%]{padding:.875rem 1.5rem;font-size:.95rem;font-weight:600;border-radius:12px;border:1px solid rgba(255,255,255,.3);background:#ffffff1a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);color:#fff!important;transition:all .3s cubic-bezier(.4,0,.2,1)}.cancel-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff!important}.cancel-btn[_ngcontent-%COMP%]:hover{background:#ffffff26;border-color:#fff6;transform:translateY(-2px)}.use-prompt-btn[_ngcontent-%COMP%]{padding:.875rem 1.5rem;font-size:.95rem;font-weight:600;border-radius:12px;border:1px solid rgba(255,255,255,.4);background:#fff3;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);color:#fff;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.use-prompt-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#fff3,#ffffff0d);opacity:0;transition:opacity .3s ease;pointer-events:none}.use-prompt-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px);box-shadow:0 8px 24px #00000026}.use-prompt-btn[_ngcontent-%COMP%]:hover:before{opacity:1}.use-prompt-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.25rem}@media (max-width: 768px){.banner-title[_ngcontent-%COMP%]{font-size:1.5rem}.drop-zone[_ngcontent-%COMP%]{padding:2rem 1rem}.upload-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem}}@media (max-width: 480px){.banner-title[_ngcontent-%COMP%]{font-size:1.25rem}.banner-subtitle[_ngcontent-%COMP%]{font-size:.875rem}.prompt-actions[_ngcontent-%COMP%]{flex-direction:column}.prompt-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})}}return o})(),T6=(()=>{class o{constructor(){this.dialogRef=be(_f)}onSave(){this.dialogRef.close("save")}onDiscard(){this.dialogRef.close("discard")}onCancel(){this.dialogRef.close("cancel")}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["confirm-new-conversation-dialog"]],standalone:!0,features:[cn],decls:19,vars:0,consts:[[1,"confirm-dialog"],[1,"dialog-header"],[1,"warning-icon"],[1,"dialog-content"],[1,"dialog-actions"],["mat-button","",1,"cancel-btn",3,"click"],["mat-stroked-button","",1,"discard-btn",3,"click"],["mat-raised-button","",1,"save-btn",3,"click"]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1)(2,"mat-icon",2),I(3,"warning"),P(),x(4,"h2"),I(5,"Start New Conversation?"),P()(),x(6,"div",3)(7,"p"),I(8,"You have an unsaved template in the current conversation."),P(),x(9,"p")(10,"strong"),I(11,"Would you like to save it before starting a new conversation?"),P()()(),x(12,"div",4)(13,"button",5),Bt("click",function(){return i.onCancel()}),I(14," Cancel "),P(),x(15,"button",6),Bt("click",function(){return i.onDiscard()}),I(16," Discard "),P(),x(17,"button",7),Bt("click",function(){return i.onSave()}),I(18," Save Template "),P()()())},dependencies:[Tn,ml,Oi,ro,Mi,Pi],styles:[".confirm-dialog[_ngcontent-%COMP%]{padding:1.5rem}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.warning-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#f59e0b}h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#1e293b}.dialog-content[_ngcontent-%COMP%]{margin-bottom:2rem;line-height:1.6;color:#475569}.dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem}.cancel-btn[_ngcontent-%COMP%]{color:#64748b}.discard-btn[_ngcontent-%COMP%]{color:#ef4444;border-color:#ef4444}.discard-btn[_ngcontent-%COMP%]:hover{background-color:#fef2f2}.save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d9,#8b5cf6);color:#fff}.save-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5b21b6,#7c3aed)}"]})}}return o})();var So=(o,n)=>gn(void 0,null,function*(){let t=be(hi),e=be(jn);try{if(yield t.checkAuthStatus())return!0;let r=n.url;return e.navigate(["/auth"],{queryParams:{returnUrl:r},replaceUrl:!0}),!1}catch{let r=n.url;return e.navigate(["/auth"],{queryParams:{returnUrl:r},replaceUrl:!0}),!1}});var qC=(o,n)=>{let t=be(hi),e=be(jn);return t.currentUser$.pipe(ta(i=>i!==null),_o(1),eo(i=>i.orgRole==="admin"||i.orgRole==="super_admin"?!0:(e.navigate(["/"]),!1)))};var M1=o=>o.canDeactivate?o.canDeactivate():!0;var E6={4729:(o,n,t)=>{var e,i,r;(function(a){i=[t(5706),t(4193)],e=a,r=typeof e=="function"?e.apply(n,i):e,r!==void 0&&(o.exports=r)})(function(a,s){var l=Array.prototype.slice;function c(V,R,H){return H.length<=4?V.call(R,H[0],H[1],H[2],H[3]):V.apply(R,H)}function u(V,R){return l.call(V,R)}function p(V,R){return V==null?!1:(a.isArray(R)||(R=u(arguments,1)),a.all(R,function(H){return H in V}))}var g=function(){var V=!1,R=-1;function H(){R++,V=!0,a.defer(function(){V=!1})}return function(){return V||H(),R}}();function h(){this.registeredObjects=[],this.cidIndexes=[]}h.prototype={isRegistered:function(V){return V&&V.cid?this.registeredObjects[V.cid]:a.contains(this.registeredObjects,V)},register:function(V){return this.isRegistered(V)?!1:(V&&V.cid?(this.registeredObjects[V.cid]=V,this.cidIndexes.push(V.cid)):this.registeredObjects.push(V),!0)},unregister:function(V){if(this.isRegistered(V)){if(V&&V.cid)delete this.registeredObjects[V.cid],this.cidIndexes.splice(a.indexOf(this.cidIndexes,V.cid),1);else{var R=a.indexOf(this.registeredObjects,V);this.registeredObjects.splice(R,1)}return!0}return!1},get:function(){return a.map(this.cidIndexes,function(V){return this.registeredObjects[V]},this).concat(this.registeredObjects)}};function y(V,R,H,L){for(var W=0,q=R.length,J;W<q;W++)if(J=R[W],!!J){if(V==="on"){if(!L.objectRegistry.register(J))continue}else if(!L.objectRegistry.unregister(J))continue;a.isFunction(J[V])&&J[V]("all",H,L)}}function _(V,R){var H=R.type,L=R.undoTypes,W=!L[H]||L[H][V];a.isFunction(W)&&W(R.object,R.before,R.after,R.options)}function O(V,R,H,L,W){if(!(H.isCurrentlyUndoRedoing||V==="undo"&&H.pointer===-1||V==="redo"&&H.pointer===H.length-1)){H.isCurrentlyUndoRedoing=!0;var q,J,D=V==="undo";for(W?J=D&&H.pointer===H.length-1||!D&&H.pointer===-1?a.clone(H.models):l.apply(H.models,D?[0,H.pointer]:[H.pointer,H.length-1]):(q=H.at(D?H.pointer:H.pointer+1),J=L?H.where({magicFusionIndex:q.get("magicFusionIndex")}):[q]),H.pointer+=(D?-1:1)*J.length;q=D?J.pop():J.shift();)q[V]();H.isCurrentlyUndoRedoing=!1,R.trigger(V,R)}}function M(V,R){var H=V.condition,L=typeof H;return L==="function"?!!c(H,V,R):L==="boolean"?H:!0}function w(V,R,H,L){if(V.track&&!V.isCurrentlyUndoRedoing&&R in L&&M(L[R],H)){var W=c(L[R].on,L[R],H),q;if(p(W,"object","before","after")){if(W.type=R,W.magicFusionIndex=g(),W.undoTypes=L,V.pointer<V.length-1)for(var q=V.length-V.pointer-1;q--;)V.pop();V.pointer=V.length,V.add(W),V.length>V.maximumStackLength&&(V.shift(),V.pointer--)}}}var T={add:{undo:function(V,R,H,L){V.remove(H,L)},redo:function(V,R,H,L){L.index&&(L.at=L.index),V.add(H,L)},on:function(V,R,H){return{object:R,before:void 0,after:V,options:a.clone(H)}}},remove:{undo:function(V,R,H,L){"index"in L&&(L.at=L.index),V.add(R,L)},redo:function(V,R,H,L){V.remove(R,L)},on:function(V,R,H){return{object:R,before:V,after:void 0,options:a.clone(H)}}},change:{undo:function(V,R,H,L){a.isEmpty(R)?a.each(a.keys(H),V.unset,V):(V.set(R),L&&L.unsetData&&L.unsetData.before&&L.unsetData.before.length&&a.each(L.unsetData.before,V.unset,V))},redo:function(V,R,H,L){a.isEmpty(H)?a.each(a.keys(R),V.unset,V):(V.set(H),L&&L.unsetData&&L.unsetData.after&&L.unsetData.after.length&&a.each(L.unsetData.after,V.unset,V))},on:function(V,R){var H=V.changedAttributes(),L=a.keys(H),W=a.pick(V.previousAttributes(),L),q=a.keys(W),J=(R||(R={})).unsetData={after:[],before:[]};return L.length!=q.length&&(L.length>q.length?a.each(L,function(D){D in W||J.before.push(D)},this):a.each(q,function(D){D in H||J.after.push(D)})),{object:V,before:W,after:H,options:a.clone(R)}}},reset:{undo:function(V,R,H){V.reset(R)},redo:function(V,R,H){V.reset(H)},on:function(V,R){return{object:V,before:R.previousModels,after:a.clone(V.models)}}}};function b(){}b.prototype=T;function k(V,R,H,L){if(typeof R=="object")return a.each(R,function(W,q){V===2?k(V,W,H,L):k(V,q,W,H)});switch(V){case 0:p(H,"undo","redo","on")&&a.all(a.pick(H,"undo","redo","on"),a.isFunction)&&(L[R]=H);break;case 1:L[R]&&a.isObject(H)&&(L[R]=a.extend({},L[R],H));break;case 2:delete L[R];break}return this}var E=s.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(V){_("undo",this.attributes)},redo:function(V){_("redo",this.attributes)}}),N=s.Collection.extend({model:E,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(V){this.maximumStackLength=V}}),F=s.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(V){this.stack=new N,this.objectRegistry=new h,this.undoTypes=new b,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(R,H){this.stack.setMaxLength(H)},this),V&&V.track&&this.startTracking(),V&&V.register&&(a.isArray(V.register)||a.isArguments(V.register)?c(this.register,this,V.register):this.register(V.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(V){w(this.stack,V,u(arguments,1),this.undoTypes)},register:function(){y("on",arguments,this._addToStack,this)},unregister:function(){y("off",arguments,this._addToStack,this)},unregisterAll:function(){c(this.unregister,this,this.objectRegistry.get())},undo:function(V){O("undo",this,this.stack,V)},undoAll:function(){O("undo",this,this.stack,!1,!0)},redo:function(V){O("redo",this,this.stack,V)},redoAll:function(){O("redo",this,this.stack,!1,!0)},isAvailable:function(V){var R=this.stack,H=R.length;switch(V){case"undo":return H>0&&R.pointer>-1;case"redo":return H>0&&R.pointer<H-1;default:return!1}},merge:function(V){for(var R=a.isArray(V)?V:u(arguments),H;H=R.pop();)H instanceof F&&H.stack instanceof N&&(H.stack=this.stack)},addUndoType:function(V,R){k(0,V,R,this.undoTypes)},changeUndoType:function(V,R){k(1,V,R,this.undoTypes)},removeUndoType:function(V){k(2,V,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return a.extend(F,{defaults:function(V){a.extend(F.prototype.defaults,V)},addUndoType:function(V,R){k(0,V,R,T)},changeUndoType:function(V,R){k(1,V,R,T)},removeUndoType:function(V){k(2,V,void 0,T)}}),s.UndoManager=F})},4193:(o,n,t)=>{var e,i;(function(r){var a=typeof self=="object"&&self.self===self&&self||typeof t.g=="object"&&t.g.global===t.g&&t.g;if(1)e=[t(5706),t(7774),n],i=function(c,u,p){a.Backbone=r(a,p,c,u)}.apply(n,e),i!==void 0&&(o.exports=i);else var s,l})(function(r,a,s,l){var c=r.Backbone,u=Array.prototype.slice;a.VERSION="1.4.1",a.$=l,a.noConflict=function(){return r.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var p=a.Events={},g=/\s+/,h,y=function(K,at,mt,At,Qt){var ht=0,kt;if(mt&&typeof mt=="object")for(At!==void 0&&("context"in Qt)&&Qt.context===void 0&&(Qt.context=At),kt=s.keys(mt);ht<kt.length;ht++)at=y(K,at,kt[ht],mt[kt[ht]],Qt);else if(mt&&g.test(mt))for(kt=mt.split(g);ht<kt.length;ht++)at=K(at,kt[ht],At,Qt);else at=K(at,mt,At,Qt);return at};p.on=function(K,at,mt){if(this._events=y(_,this._events||{},K,at,{context:mt,ctx:this,listening:h}),h){var At=this._listeners||(this._listeners={});At[h.id]=h,h.interop=!1}return this},p.listenTo=function(K,at,mt){if(!K)return this;var At=K._listenId||(K._listenId=s.uniqueId("l")),Qt=this._listeningTo||(this._listeningTo={}),ht=h=Qt[At];ht||(this._listenId||(this._listenId=s.uniqueId("l")),ht=h=Qt[At]=new k(this,K));var kt=O(K,at,mt,this);if(h=void 0,kt)throw kt;return ht.interop&&ht.on(at,mt),this};var _=function(K,at,mt,At){if(mt){var Qt=K[at]||(K[at]=[]),ht=At.context,kt=At.ctx,Ft=At.listening;Ft&&Ft.count++,Qt.push({callback:mt,context:ht,ctx:ht||kt,listening:Ft})}return K},O=function(K,at,mt,At){try{K.on(at,mt,At)}catch(Qt){return Qt}};p.off=function(K,at,mt){return this._events?(this._events=y(M,this._events,K,at,{context:mt,listeners:this._listeners}),this):this},p.stopListening=function(K,at,mt){var At=this._listeningTo;if(!At)return this;for(var Qt=K?[K._listenId]:s.keys(At),ht=0;ht<Qt.length;ht++){var kt=At[Qt[ht]];if(!kt)break;kt.obj.off(at,mt,this),kt.interop&&kt.off(at,mt)}return s.isEmpty(At)&&(this._listeningTo=void 0),this};var M=function(K,at,mt,At){if(K){var Qt=At.context,ht=At.listeners,kt=0,Ft;if(!at&&!Qt&&!mt){for(Ft=s.keys(ht);kt<Ft.length;kt++)ht[Ft[kt]].cleanup();return}for(Ft=at?[at]:s.keys(K);kt<Ft.length;kt++){at=Ft[kt];var me=K[at];if(!me)break;for(var Ye=[],Le=0;Le<me.length;Le++){var ut=me[Le];if(mt&&mt!==ut.callback&&mt!==ut.callback._callback||Qt&&Qt!==ut.context)Ye.push(ut);else{var Tt=ut.listening;Tt&&Tt.off(at,mt)}}Ye.length?K[at]=Ye:delete K[at]}return K}};p.once=function(K,at,mt){var At=y(w,{},K,at,this.off.bind(this));return typeof K=="string"&&mt==null&&(at=void 0),this.on(At,at,mt)},p.listenToOnce=function(K,at,mt){var At=y(w,{},at,mt,this.stopListening.bind(this,K));return this.listenTo(K,At)};var w=function(K,at,mt,At){if(mt){var Qt=K[at]=s.once(function(){At(at,Qt),mt.apply(this,arguments)});Qt._callback=mt}return K};p.trigger=function(K){if(!this._events)return this;for(var at=Math.max(0,arguments.length-1),mt=Array(at),At=0;At<at;At++)mt[At]=arguments[At+1];return y(T,this._events,K,void 0,mt),this};var T=function(K,at,mt,At){if(K){var Qt=K[at],ht=K.all;Qt&&ht&&(ht=ht.slice()),Qt&&b(Qt,At),ht&&b(ht,[at].concat(At))}return K},b=function(K,at){var mt,At=-1,Qt=K.length,ht=at[0],kt=at[1],Ft=at[2];switch(at.length){case 0:for(;++At<Qt;)(mt=K[At]).callback.call(mt.ctx);return;case 1:for(;++At<Qt;)(mt=K[At]).callback.call(mt.ctx,ht);return;case 2:for(;++At<Qt;)(mt=K[At]).callback.call(mt.ctx,ht,kt);return;case 3:for(;++At<Qt;)(mt=K[At]).callback.call(mt.ctx,ht,kt,Ft);return;default:for(;++At<Qt;)(mt=K[At]).callback.apply(mt.ctx,at);return}},k=function(K,at){this.id=K._listenId,this.listener=K,this.obj=at,this.interop=!0,this.count=0,this._events=void 0};k.prototype.on=p.on,k.prototype.off=function(K,at){var mt;this.interop?(this._events=y(M,this._events,K,at,{context:void 0,listeners:void 0}),mt=!this._events):(this.count--,mt=this.count===0),mt&&this.cleanup()},k.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},p.bind=p.on,p.unbind=p.off,s.extend(a,p);var E=a.Model=function(K,at){var mt=K||{};at||(at={}),this.preinitialize.apply(this,arguments),this.cid=s.uniqueId(this.cidPrefix),this.attributes={},at.collection&&(this.collection=at.collection),at.parse&&(mt=this.parse(mt,at)||{});var At=s.result(this,"defaults");mt=s.defaults(s.extend({},At,mt),At),this.set(mt,at),this.changed={},this.initialize.apply(this,arguments)};s.extend(E.prototype,p,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(K){return s.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(K){return this.attributes[K]},escape:function(K){return s.escape(this.get(K))},has:function(K){return this.get(K)!=null},matches:function(K){return!!s.iteratee(K,this)(this.attributes)},set:function(K,at,mt){if(K==null)return this;var At;if(typeof K=="object"?(At=K,mt=at):(At={})[K]=at,mt||(mt={}),!this._validate(At,mt))return!1;var Qt=mt.unset,ht=mt.silent,kt=[],Ft=this._changing;this._changing=!0,Ft||(this._previousAttributes=s.clone(this.attributes),this.changed={});var me=this.attributes,Ye=this.changed,Le=this._previousAttributes;for(var ut in At)at=At[ut],s.isEqual(me[ut],at)||kt.push(ut),s.isEqual(Le[ut],at)?delete Ye[ut]:Ye[ut]=at,Qt?delete me[ut]:me[ut]=at;if(this.idAttribute in At){var Tt=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Tt,mt)}if(!ht){kt.length&&(this._pending=mt);for(var ot=0;ot<kt.length;ot++)this.trigger("change:"+kt[ot],this,me[kt[ot]],mt)}if(Ft)return this;if(!ht)for(;this._pending;)mt=this._pending,this._pending=!1,this.trigger("change",this,mt);return this._pending=!1,this._changing=!1,this},unset:function(K,at){return this.set(K,void 0,s.extend({},at,{unset:!0}))},clear:function(K){var at={};for(var mt in this.attributes)at[mt]=void 0;return this.set(at,s.extend({},K,{unset:!0}))},hasChanged:function(K){return K==null?!s.isEmpty(this.changed):s.has(this.changed,K)},changedAttributes:function(K){if(!K)return this.hasChanged()?s.clone(this.changed):!1;var at=this._changing?this._previousAttributes:this.attributes,mt={},At;for(var Qt in K){var ht=K[Qt];s.isEqual(at[Qt],ht)||(mt[Qt]=ht,At=!0)}return At?mt:!1},previous:function(K){return K==null||!this._previousAttributes?null:this._previousAttributes[K]},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(K){K=s.extend({parse:!0},K);var at=this,mt=K.success;return K.success=function(At){var Qt=K.parse?at.parse(At,K):At;if(!at.set(Qt,K))return!1;mt&&mt.call(K.context,at,At,K),at.trigger("sync",at,At,K)},ce(this,K),this.sync("read",this,K)},save:function(K,at,mt){var At;K==null||typeof K=="object"?(At=K,mt=at):(At={})[K]=at,mt=s.extend({validate:!0,parse:!0},mt);var Qt=mt.wait;if(At&&!Qt){if(!this.set(At,mt))return!1}else if(!this._validate(At,mt))return!1;var ht=this,kt=mt.success,Ft=this.attributes;mt.success=function(Le){ht.attributes=Ft;var ut=mt.parse?ht.parse(Le,mt):Le;if(Qt&&(ut=s.extend({},At,ut)),ut&&!ht.set(ut,mt))return!1;kt&&kt.call(mt.context,ht,Le,mt),ht.trigger("sync",ht,Le,mt)},ce(this,mt),At&&Qt&&(this.attributes=s.extend({},Ft,At));var me=this.isNew()?"create":mt.patch?"patch":"update";me==="patch"&&!mt.attrs&&(mt.attrs=At);var Ye=this.sync(me,this,mt);return this.attributes=Ft,Ye},destroy:function(K){K=K?s.clone(K):{};var at=this,mt=K.success,At=K.wait,Qt=function(){at.stopListening(),at.trigger("destroy",at,at.collection,K)};K.success=function(kt){At&&Qt(),mt&&mt.call(K.context,at,kt,K),at.isNew()||at.trigger("sync",at,kt,K)};var ht=!1;return this.isNew()?s.defer(K.success):(ce(this,K),ht=this.sync("delete",this,K)),At||Qt(),ht},url:function(){var K=s.result(this,"urlRoot")||s.result(this.collection,"url")||he();if(this.isNew())return K;var at=this.get(this.idAttribute);return K.replace(/[^\/]$/,"$&/")+encodeURIComponent(at)},parse:function(K,at){return K},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(K){return this._validate({},s.extend({},K,{validate:!0}))},_validate:function(K,at){if(!at.validate||!this.validate)return!0;K=s.extend({},this.attributes,K);var mt=this.validationError=this.validate(K,at)||null;return mt?(this.trigger("invalid",this,mt,s.extend(at,{validationError:mt})),!1):!0}});var N=a.Collection=function(K,at){at||(at={}),this.preinitialize.apply(this,arguments),at.model&&(this.model=at.model),at.comparator!==void 0&&(this.comparator=at.comparator),this._reset(),this.initialize.apply(this,arguments),K&&this.reset(K,s.extend({silent:!0},at))},F={add:!0,remove:!0,merge:!0},V={add:!0,remove:!1},R=function(K,at,mt){mt=Math.min(Math.max(mt,0),K.length);var At=Array(K.length-mt),Qt=at.length,ht;for(ht=0;ht<At.length;ht++)At[ht]=K[ht+mt];for(ht=0;ht<Qt;ht++)K[ht+mt]=at[ht];for(ht=0;ht<At.length;ht++)K[ht+Qt+mt]=At[ht]};s.extend(N.prototype,p,{model:E,preinitialize:function(){},initialize:function(){},toJSON:function(K){return this.map(function(at){return at.toJSON(K)})},sync:function(){return a.sync.apply(this,arguments)},add:function(K,at){return this.set(K,s.extend({merge:!1},at,V))},remove:function(K,at){at=s.extend({},at);var mt=!s.isArray(K);K=mt?[K]:K.slice();var At=this._removeModels(K,at);return!at.silent&&At.length&&(at.changes={added:[],merged:[],removed:At},this.trigger("update",this,at)),mt?At[0]:At},set:function(K,at){if(K!=null){at=s.extend({},F,at),at.parse&&!this._isModel(K)&&(K=this.parse(K,at)||[]);var mt=!s.isArray(K);K=mt?[K]:K.slice();var At=at.at;At!=null&&(At=+At),At>this.length&&(At=this.length),At<0&&(At+=this.length+1);var Qt=[],ht=[],kt=[],Ft=[],me={},Ye=at.add,Le=at.merge,ut=at.remove,Tt=!1,ot=this.comparator&&At==null&&at.sort!==!1,re=s.isString(this.comparator)?this.comparator:null,Ht,de;for(de=0;de<K.length;de++){Ht=K[de];var Oe=this.get(Ht);if(Oe){if(Le&&Ht!==Oe){var Pe=this._isModel(Ht)?Ht.attributes:Ht;at.parse&&(Pe=Oe.parse(Pe,at)),Oe.set(Pe,at),kt.push(Oe),ot&&!Tt&&(Tt=Oe.hasChanged(re))}me[Oe.cid]||(me[Oe.cid]=!0,Qt.push(Oe)),K[de]=Oe}else Ye&&(Ht=K[de]=this._prepareModel(Ht,at),Ht&&(ht.push(Ht),this._addReference(Ht,at),me[Ht.cid]=!0,Qt.push(Ht)))}if(ut){for(de=0;de<this.length;de++)Ht=this.models[de],me[Ht.cid]||Ft.push(Ht);Ft.length&&this._removeModels(Ft,at)}var _e=!1,Ae=!ot&&Ye&&ut;if(Qt.length&&Ae?(_e=this.length!==Qt.length||s.some(this.models,function(Qe,Xe){return Qe!==Qt[Xe]}),this.models.length=0,R(this.models,Qt,0),this.length=this.models.length):ht.length&&(ot&&(Tt=!0),R(this.models,ht,At??this.length),this.length=this.models.length),Tt&&this.sort({silent:!0}),!at.silent){for(de=0;de<ht.length;de++)At!=null&&(at.index=At+de),Ht=ht[de],Ht.trigger("add",Ht,this,at);(Tt||_e)&&this.trigger("sort",this,at),(ht.length||Ft.length||kt.length)&&(at.changes={added:ht,removed:Ft,merged:kt},this.trigger("update",this,at))}return mt?K[0]:K}},reset:function(K,at){at=at?s.clone(at):{};for(var mt=0;mt<this.models.length;mt++)this._removeReference(this.models[mt],at);return at.previousModels=this.models,this._reset(),K=this.add(K,s.extend({silent:!0},at)),at.silent||this.trigger("reset",this,at),K},push:function(K,at){return this.add(K,s.extend({at:this.length},at))},pop:function(K){var at=this.at(this.length-1);return this.remove(at,K)},unshift:function(K,at){return this.add(K,s.extend({at:0},at))},shift:function(K){var at=this.at(0);return this.remove(at,K)},slice:function(){return u.apply(this.models,arguments)},get:function(K){if(K!=null)return this._byId[K]||this._byId[this.modelId(this._isModel(K)?K.attributes:K,K.idAttribute)]||K.cid&&this._byId[K.cid]},has:function(K){return this.get(K)!=null},at:function(K){return K<0&&(K+=this.length),this.models[K]},where:function(K,at){return this[at?"find":"filter"](K)},findWhere:function(K){return this.where(K,!0)},sort:function(K){var at=this.comparator;if(!at)throw new Error("Cannot sort a set without a comparator");K||(K={});var mt=at.length;return s.isFunction(at)&&(at=at.bind(this)),mt===1||s.isString(at)?this.models=this.sortBy(at):this.models.sort(at),K.silent||this.trigger("sort",this,K),this},pluck:function(K){return this.map(K+"")},fetch:function(K){K=s.extend({parse:!0},K);var at=K.success,mt=this;return K.success=function(At){var Qt=K.reset?"reset":"set";mt[Qt](At,K),at&&at.call(K.context,mt,At,K),mt.trigger("sync",mt,At,K)},ce(this,K),this.sync("read",this,K)},create:function(K,at){at=at?s.clone(at):{};var mt=at.wait;if(K=this._prepareModel(K,at),!K)return!1;mt||this.add(K,at);var At=this,Qt=at.success;return at.success=function(ht,kt,Ft){mt&&At.add(ht,Ft),Qt&&Qt.call(Ft.context,ht,kt,Ft)},K.save(null,at),K},parse:function(K,at){return K},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(K,at){return K[at||this.model.prototype.idAttribute||"id"]},values:function(){return new L(this,W)},keys:function(){return new L(this,q)},entries:function(){return new L(this,J)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(K,at){if(this._isModel(K))return K.collection||(K.collection=this),K;at=at?s.clone(at):{},at.collection=this;var mt;return this.model.prototype?mt=new this.model(K,at):mt=this.model(K,at),mt.validationError?(this.trigger("invalid",this,mt.validationError,at),!1):mt},_removeModels:function(K,at){for(var mt=[],At=0;At<K.length;At++){var Qt=this.get(K[At]);if(Qt){var ht=this.indexOf(Qt);this.models.splice(ht,1),this.length--,delete this._byId[Qt.cid];var kt=this.modelId(Qt.attributes,Qt.idAttribute);kt!=null&&delete this._byId[kt],at.silent||(at.index=ht,Qt.trigger("remove",Qt,this,at)),mt.push(Qt),this._removeReference(Qt,at)}}return mt},_isModel:function(K){return K instanceof E},_addReference:function(K,at){this._byId[K.cid]=K;var mt=this.modelId(K.attributes,K.idAttribute);mt!=null&&(this._byId[mt]=K),K.on("all",this._onModelEvent,this)},_removeReference:function(K,at){delete this._byId[K.cid];var mt=this.modelId(K.attributes,K.idAttribute);mt!=null&&delete this._byId[mt],this===K.collection&&delete K.collection,K.off("all",this._onModelEvent,this)},_onModelEvent:function(K,at,mt,At){if(at){if((K==="add"||K==="remove")&&mt!==this)return;if(K==="destroy"&&this.remove(at,At),K==="changeId"){var Qt=this.modelId(at.previousAttributes(),at.idAttribute),ht=this.modelId(at.attributes,at.idAttribute);Qt!=null&&delete this._byId[Qt],ht!=null&&(this._byId[ht]=at)}}this.trigger.apply(this,arguments)}});var H=typeof Symbol=="function"&&Symbol.iterator;H&&(N.prototype[H]=N.prototype.values);var L=function(K,at){this._collection=K,this._kind=at,this._index=0},W=1,q=2,J=3;H&&(L.prototype[H]=function(){return this}),L.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var K=this._collection.at(this._index);this._index++;var at;if(this._kind===W)at=K;else{var mt=this._collection.modelId(K.attributes,K.idAttribute);this._kind===q?at=mt:at=[mt,K]}return{value:at,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var D=a.View=function(K){this.cid=s.uniqueId("view"),this.preinitialize.apply(this,arguments),s.extend(this,s.pick(K,nt)),this._ensureElement(),this.initialize.apply(this,arguments)},Z=/^(\S+)\s*(.*)$/,nt=["model","collection","el","id","attributes","className","tagName","events"];s.extend(D.prototype,p,{tagName:"div",$:function(K){return this.$el.find(K)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(K){return this.undelegateEvents(),this._setElement(K),this.delegateEvents(),this},_setElement:function(K){this.$el=K instanceof a.$?K:a.$(K),this.el=this.$el[0]},delegateEvents:function(K){if(K||(K=s.result(this,"events")),!K)return this;this.undelegateEvents();for(var at in K){var mt=K[at];if(s.isFunction(mt)||(mt=this[mt]),!!mt){var At=at.match(Z);this.delegate(At[1],At[2],mt.bind(this))}}return this},delegate:function(K,at,mt){return this.$el.on(K+".delegateEvents"+this.cid,at,mt),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(K,at,mt){return this.$el.off(K+".delegateEvents"+this.cid,at,mt),this},_createElement:function(K){return document.createElement(K)},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"));else{var K=s.extend({},s.result(this,"attributes"));this.id&&(K.id=s.result(this,"id")),this.className&&(K.class=s.result(this,"className")),this.setElement(this._createElement(s.result(this,"tagName"))),this._setAttributes(K)}},_setAttributes:function(K){this.$el.attr(K)}});var pt=function(K,at,mt,At){switch(at){case 1:return function(){return K[mt](this[At])};case 2:return function(Qt){return K[mt](this[At],Qt)};case 3:return function(Qt,ht){return K[mt](this[At],qt(Qt,this),ht)};case 4:return function(Qt,ht,kt){return K[mt](this[At],qt(Qt,this),ht,kt)};default:return function(){var Qt=u.call(arguments);return Qt.unshift(this[At]),K[mt].apply(K,Qt)}}},Vt=function(K,at,mt,At){s.each(mt,function(Qt,ht){at[ht]&&(K.prototype[ht]=pt(at,Qt,ht,At))})},qt=function(K,at){return s.isFunction(K)?K:s.isObject(K)&&!at._isModel(K)?Pt(K):s.isString(K)?function(mt){return mt.get(K)}:K},Pt=function(K){var at=s.matches(K);return function(mt){return at(mt.attributes)}},yt={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},rt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s.each([[N,yt,"models"],[E,rt,"attributes"]],function(K){var at=K[0],mt=K[1],At=K[2];at.mixin=function(Qt){var ht=s.reduce(s.functions(Qt),function(kt,Ft){return kt[Ft]=0,kt},{});Vt(at,Qt,ht,At)},Vt(at,s,mt,At)}),a.sync=function(K,at,mt){var At=ft[K];s.defaults(mt||(mt={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var Qt={type:At,dataType:"json"};if(mt.url||(Qt.url=s.result(at,"url")||he()),mt.data==null&&at&&(K==="create"||K==="update"||K==="patch")&&(Qt.contentType="application/json",Qt.data=JSON.stringify(mt.attrs||at.toJSON(mt))),mt.emulateJSON&&(Qt.contentType="application/x-www-form-urlencoded",Qt.data=Qt.data?{model:Qt.data}:{}),mt.emulateHTTP&&(At==="PUT"||At==="DELETE"||At==="PATCH")){Qt.type="POST",mt.emulateJSON&&(Qt.data._method=At);var ht=mt.beforeSend;mt.beforeSend=function(me){if(me.setRequestHeader("X-HTTP-Method-Override",At),ht)return ht.apply(this,arguments)}}Qt.type!=="GET"&&!mt.emulateJSON&&(Qt.processData=!1);var kt=mt.error;mt.error=function(me,Ye,Le){mt.textStatus=Ye,mt.errorThrown=Le,kt&&kt.call(mt.context,me,Ye,Le)};var Ft=mt.xhr=a.ajax(s.extend(Qt,mt));return at.trigger("request",at,Ft,mt),Ft};var ft={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var wt=a.Router=function(K){K||(K={}),this.preinitialize.apply(this,arguments),K.routes&&(this.routes=K.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Et=/\((.*?)\)/g,zt=/(\(\?)?:\w+/g,Wt=/\*\w+/g,Nt=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(wt.prototype,p,{preinitialize:function(){},initialize:function(){},route:function(K,at,mt){s.isRegExp(K)||(K=this._routeToRegExp(K)),s.isFunction(at)&&(mt=at,at=""),mt||(mt=this[at]);var At=this;return a.history.route(K,function(Qt){var ht=At._extractParameters(K,Qt);At.execute(mt,ht,at)!==!1&&(At.trigger.apply(At,["route:"+at].concat(ht)),At.trigger("route",at,ht),a.history.trigger("route",At,at,ht))}),this},execute:function(K,at,mt){K&&K.apply(this,at)},navigate:function(K,at){return a.history.navigate(K,at),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var K,at=s.keys(this.routes);(K=at.pop())!=null;)this.route(K,this.routes[K])}},_routeToRegExp:function(K){return K=K.replace(Nt,"\\$&").replace(Et,"(?:$1)?").replace(zt,function(at,mt){return mt?at:"([^/?]+)"}).replace(Wt,"([^?]*?)"),new RegExp("^"+K+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(K,at){var mt=K.exec(at).slice(1);return s.map(mt,function(At,Qt){return Qt===mt.length-1?At||null:At?decodeURIComponent(At):null})}});var st=a.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},$t=/^[#\/]|\s+$/g,le=/^\/+|\/+$/g,Ct=/#.*$/;st.started=!1,s.extend(st.prototype,p,{interval:50,atRoot:function(){var K=this.location.pathname.replace(/[^\/]$/,"$&/");return K===this.root&&!this.getSearch()},matchRoot:function(){var K=this.decodeFragment(this.location.pathname),at=K.slice(0,this.root.length-1)+"/";return at===this.root},decodeFragment:function(K){return decodeURI(K.replace(/%25/g,"%2525"))},getSearch:function(){var K=this.location.href.replace(/#.*/,"").match(/\?.+/);return K?K[0]:""},getHash:function(K){var at=(K||this).location.href.match(/#(.*)$/);return at?at[1]:""},getPath:function(){var K=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return K.charAt(0)==="/"?K.slice(1):K},getFragment:function(K){return K==null&&(this._usePushState||!this._wantsHashChange?K=this.getPath():K=this.getHash()),K.replace($t,"")},start:function(K){if(st.started)throw new Error("Backbone.history has already been started");if(st.started=!0,this.options=s.extend({root:"/"},this.options,K),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(le,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var at=this.root.slice(0,-1)||"/";return this.location.replace(at+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var mt=document.body,At=mt.insertBefore(this.iframe,mt.firstChild).contentWindow;At.document.open(),At.document.close(),At.location.hash="#"+this.fragment}var Qt=window.addEventListener||function(ht,kt){return attachEvent("on"+ht,kt)};if(this._usePushState?Qt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Qt("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var K=window.removeEventListener||function(at,mt){return detachEvent("on"+at,mt)};this._usePushState?K("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&K("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),st.started=!1},route:function(K,at){this.handlers.unshift({route:K,callback:at})},checkUrl:function(K){var at=this.getFragment();if(at===this.fragment&&this.iframe&&(at=this.getHash(this.iframe.contentWindow)),at===this.fragment)return!1;this.iframe&&this.navigate(at),this.loadUrl()},loadUrl:function(K){return this.matchRoot()?(K=this.fragment=this.getFragment(K),s.some(this.handlers,function(at){if(at.route.test(K))return at.callback(K),!0})):!1},navigate:function(K,at){if(!st.started)return!1;(!at||at===!0)&&(at={trigger:!!at}),K=this.getFragment(K||"");var mt=this.root;(K===""||K.charAt(0)==="?")&&(mt=mt.slice(0,-1)||"/");var At=mt+K;K=K.replace(Ct,"");var Qt=this.decodeFragment(K);if(this.fragment!==Qt){if(this.fragment=Qt,this._usePushState)this.history[at.replace?"replaceState":"pushState"]({},document.title,At);else if(this._wantsHashChange){if(this._updateHash(this.location,K,at.replace),this.iframe&&K!==this.getHash(this.iframe.contentWindow)){var ht=this.iframe.contentWindow;at.replace||(ht.document.open(),ht.document.close()),this._updateHash(ht.location,K,at.replace)}}else return this.location.assign(At);if(at.trigger)return this.loadUrl(K)}},_updateHash:function(K,at,mt){if(mt){var At=K.href.replace(/(javascript:|#).*$/,"");K.replace(At+"#"+at)}else K.hash="#"+at}}),a.history=new st;var ae=function(K,at){var mt=this,At;return K&&s.has(K,"constructor")?At=K.constructor:At=function(){return mt.apply(this,arguments)},s.extend(At,mt,at),At.prototype=s.create(mt.prototype,K),At.prototype.constructor=At,At.__super__=mt.prototype,At};E.extend=N.extend=wt.extend=D.extend=st.extend=ae;var he=function(){throw new Error('A "url" property or function must be specified')},ce=function(K,at){var mt=at.error;at.error=function(At){mt&&mt.call(at.context,K,At,at),K.trigger("error",K,At,at)}};return a})},3640:(o,n,t)=>{(function(e){e(t(4408))})(function(e){e.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(r,a){return/^[;{}]$/.test(a)}}),e.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(r,a,s,l){return this.jsonMode?/^[\[,{]$/.test(a)||/^}/.test(s):a==";"&&l.lexical&&l.lexical.type==")"?!1:/^[;{}]$/.test(a)&&!/^;/.test(s)}});var i=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;e.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(r,a,s,l){var c=!1;return this.configuration=="html"&&(c=l.context?i.test(l.context.tagName):!1),!c&&(r=="tag"&&/>$/.test(a)&&l.context||/^</.test(s))}}),e.defineExtension("commentRange",function(r,a,s){var l=this,c=e.innerMode(l.getMode(),l.getTokenAt(a).state).mode;l.operation(function(){if(r)l.replaceRange(c.commentEnd,s),l.replaceRange(c.commentStart,a),a.line==s.line&&a.ch==s.ch&&l.setCursor(a.line,a.ch+c.commentStart.length);else{var u=l.getRange(a,s),p=u.indexOf(c.commentStart),g=u.lastIndexOf(c.commentEnd);p>-1&&g>-1&&g>p&&(u=u.substr(0,p)+u.substring(p+c.commentStart.length,g)+u.substr(g+c.commentEnd.length)),l.replaceRange(u,a,s)}})}),e.defineExtension("autoIndentRange",function(r,a){var s=this;this.operation(function(){for(var l=r.line;l<=a.line;l++)s.indentLine(l,"smart")})}),e.defineExtension("autoFormatRange",function(r,a){var s=this,l=s.getMode(),c=s.getRange(r,a).split(`
`),u=e.copyState(l,s.getTokenAt(r).state),p=s.getOption("tabSize"),g="",h=0,y=r.ch===0;function _(){g+=`
`,y=!0,++h}for(var O=0;O<c.length;++O){for(var M=new e.StringStream(c[O],p);!M.eol();){var w=e.innerMode(l,u),T=l.token(M,u),b=M.current();M.start=M.pos,(!y||/\S/.test(b))&&(g+=b,y=!1),!y&&w.mode.newlineAfterToken&&w.mode.newlineAfterToken(T,b,M.string.slice(M.pos)||c[O+1]||"",w.state)&&_()}!M.pos&&l.blankLine&&l.blankLine(u),!y&&O<c.length-1&&_()}s.operation(function(){s.replaceRange(g,r,a);for(var k=r.line+1,E=r.line+h;k<=E;++k)s.indentLine(k,"smart");s.setSelection(r,s.getCursor(!1))})})})},4408:function(o){(function(n,t){o.exports=t()})(this,function(){"use strict";var n=navigator.userAgent,t=navigator.platform,e=/gecko\/\d/i.test(n),i=/MSIE \d/.test(n),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),a=/Edge\/(\d+)/.exec(n),s=i||r||a,l=s&&(i?document.documentMode||6:+(a||r)[1]),c=!a&&/WebKit\//.test(n),u=c&&/Qt\/\d+\.\d+/.test(n),p=!a&&/Chrome\//.test(n),g=/Opera\//.test(n),h=/Apple Computer/.test(navigator.vendor),y=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),_=/PhantomJS/.test(n),O=h&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),M=/Android/.test(n),w=O||M||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),T=O||/Mac/.test(t),b=/\bCrOS\b/.test(n),k=/win/i.test(t),E=g&&n.match(/Version\/(\d*\.\d*)/);E&&(E=Number(E[1])),E&&E>=15&&(g=!1,c=!0);var N=T&&(u||g&&(E==null||E<12.11)),F=e||s&&l>=9;function V(d){return new RegExp("(^|\\s)"+d+"(?:$|\\s)\\s*")}var R=function(d,f){var v=d.className,m=V(f).exec(v);if(m){var C=v.slice(m.index+m[0].length);d.className=v.slice(0,m.index)+(C?m[1]+C:"")}};function H(d){for(var f=d.childNodes.length;f>0;--f)d.removeChild(d.firstChild);return d}function L(d,f){return H(d).appendChild(f)}function W(d,f,v,m){var C=document.createElement(d);if(v&&(C.className=v),m&&(C.style.cssText=m),typeof f=="string")C.appendChild(document.createTextNode(f));else if(f)for(var S=0;S<f.length;++S)C.appendChild(f[S]);return C}function q(d,f,v,m){var C=W(d,f,v,m);return C.setAttribute("role","presentation"),C}var J;document.createRange?J=function(d,f,v,m){var C=document.createRange();return C.setEnd(m||d,v),C.setStart(d,f),C}:J=function(d,f,v){var m=document.body.createTextRange();try{m.moveToElementText(d.parentNode)}catch{return m}return m.collapse(!0),m.moveEnd("character",v),m.moveStart("character",f),m};function D(d,f){if(f.nodeType==3&&(f=f.parentNode),d.contains)return d.contains(f);do if(f.nodeType==11&&(f=f.host),f==d)return!0;while(f=f.parentNode)}function Z(){var d;try{d=document.activeElement}catch{d=document.body||null}for(;d&&d.shadowRoot&&d.shadowRoot.activeElement;)d=d.shadowRoot.activeElement;return d}function nt(d,f){var v=d.className;V(f).test(v)||(d.className+=(v?" ":"")+f)}function pt(d,f){for(var v=d.split(" "),m=0;m<v.length;m++)v[m]&&!V(v[m]).test(f)&&(f+=" "+v[m]);return f}var Vt=function(d){d.select()};O?Vt=function(d){d.selectionStart=0,d.selectionEnd=d.value.length}:s&&(Vt=function(d){try{d.select()}catch{}});function qt(d){var f=Array.prototype.slice.call(arguments,1);return function(){return d.apply(null,f)}}function Pt(d,f,v){f||(f={});for(var m in d)d.hasOwnProperty(m)&&(v!==!1||!f.hasOwnProperty(m))&&(f[m]=d[m]);return f}function yt(d,f,v,m,C){f==null&&(f=d.search(/[^\s\u00a0]/),f==-1&&(f=d.length));for(var S=m||0,z=C||0;;){var U=d.indexOf("	",S);if(U<0||U>=f)return z+(f-S);z+=U-S,z+=v-z%v,S=U+1}}var rt=function(){this.id=null,this.f=null,this.time=0,this.handler=qt(this.onTimeout,this)};rt.prototype.onTimeout=function(d){d.id=0,d.time<=+new Date?d.f():setTimeout(d.handler,d.time-+new Date)},rt.prototype.set=function(d,f){this.f=f;var v=+new Date+d;(!this.id||v<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,d),this.time=v)};function ft(d,f){for(var v=0;v<d.length;++v)if(d[v]==f)return v;return-1}var wt=50,Et={toString:function(){return"CodeMirror.Pass"}},zt={scroll:!1},Wt={origin:"*mouse"},Nt={origin:"+move"};function st(d,f,v){for(var m=0,C=0;;){var S=d.indexOf("	",m);S==-1&&(S=d.length);var z=S-m;if(S==d.length||C+z>=f)return m+Math.min(z,f-C);if(C+=S-m,C+=v-C%v,m=S+1,C>=f)return m}}var $t=[""];function le(d){for(;$t.length<=d;)$t.push(Ct($t)+" ");return $t[d]}function Ct(d){return d[d.length-1]}function ae(d,f){for(var v=[],m=0;m<d.length;m++)v[m]=f(d[m],m);return v}function he(d,f,v){for(var m=0,C=v(f);m<d.length&&v(d[m])<=C;)m++;d.splice(m,0,f)}function ce(){}function K(d,f){var v;return Object.create?v=Object.create(d):(ce.prototype=d,v=new ce),f&&Pt(f,v),v}var at=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function mt(d){return/\w/.test(d)||d>"\x80"&&(d.toUpperCase()!=d.toLowerCase()||at.test(d))}function At(d,f){return f?f.source.indexOf("\\w")>-1&&mt(d)?!0:f.test(d):mt(d)}function Qt(d){for(var f in d)if(d.hasOwnProperty(f)&&d[f])return!1;return!0}var ht=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function kt(d){return d.charCodeAt(0)>=768&&ht.test(d)}function Ft(d,f,v){for(;(v<0?f>0:f<d.length)&&kt(d.charAt(f));)f+=v;return f}function me(d,f,v){for(var m=f>v?-1:1;;){if(f==v)return f;var C=(f+v)/2,S=m<0?Math.ceil(C):Math.floor(C);if(S==f)return d(S)?f:v;d(S)?v=S:f=S+m}}function Ye(d,f,v,m){if(!d)return m(f,v,"ltr",0);for(var C=!1,S=0;S<d.length;++S){var z=d[S];(z.from<v&&z.to>f||f==v&&z.to==f)&&(m(Math.max(z.from,f),Math.min(z.to,v),z.level==1?"rtl":"ltr",S),C=!0)}C||m(f,v,"ltr")}var Le=null;function ut(d,f,v){var m;Le=null;for(var C=0;C<d.length;++C){var S=d[C];if(S.from<f&&S.to>f)return C;S.to==f&&(S.from!=S.to&&v=="before"?m=C:Le=C),S.from==f&&(S.from!=S.to&&v!="before"?m=C:Le=C)}return m??Le}var Tt=function(){var d="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",f="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function v(Q){return Q<=247?d.charAt(Q):1424<=Q&&Q<=1524?"R":1536<=Q&&Q<=1785?f.charAt(Q-1536):1774<=Q&&Q<=2220?"r":8192<=Q&&Q<=8203?"w":Q==8204?"b":"L"}var m=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,C=/[stwN]/,S=/[LRr]/,z=/[Lb1n]/,U=/[1n]/;function $(Q,_t,Ot){this.level=Q,this.from=_t,this.to=Ot}return function(Q,_t){var Ot=_t=="ltr"?"L":"R";if(Q.length==0||_t=="ltr"&&!m.test(Q))return!1;for(var Gt=Q.length,jt=[],ee=0;ee<Gt;++ee)jt.push(v(Q.charCodeAt(ee)));for(var ue=0,ve=Ot;ue<Gt;++ue){var we=jt[ue];we=="m"?jt[ue]=ve:ve=we}for(var ke=0,Se=Ot;ke<Gt;++ke){var Ie=jt[ke];Ie=="1"&&Se=="r"?jt[ke]="n":S.test(Ie)&&(Se=Ie,Ie=="r"&&(jt[ke]="R"))}for(var qe=1,We=jt[0];qe<Gt-1;++qe){var an=jt[qe];an=="+"&&We=="1"&&jt[qe+1]=="1"?jt[qe]="1":an==","&&We==jt[qe+1]&&(We=="1"||We=="n")&&(jt[qe]=We),We=an}for(var Un=0;Un<Gt;++Un){var Fi=jt[Un];if(Fi==",")jt[Un]="N";else if(Fi=="%"){var ri=void 0;for(ri=Un+1;ri<Gt&&jt[ri]=="%";++ri);for(var Er=Un&&jt[Un-1]=="!"||ri<Gt&&jt[ri]=="1"?"1":"N",fr=Un;fr<ri;++fr)jt[fr]=Er;Un=ri-1}}for(var _i=0,gr=Ot;_i<Gt;++_i){var Ui=jt[_i];gr=="L"&&Ui=="1"?jt[_i]="L":S.test(Ui)&&(gr=Ui)}for(var Ai=0;Ai<Gt;++Ai)if(C.test(jt[Ai])){var yi=void 0;for(yi=Ai+1;yi<Gt&&C.test(jt[yi]);++yi);for(var si=(Ai?jt[Ai-1]:Ot)=="L",hr=(yi<Gt?jt[yi]:Ot)=="L",fc=si==hr?si?"L":"R":Ot,ms=Ai;ms<yi;++ms)jt[ms]=fc;Ai=yi-1}for(var er=[],Jo,zi=0;zi<Gt;)if(z.test(jt[zi])){var zm=zi;for(++zi;zi<Gt&&z.test(jt[zi]);++zi);er.push(new $(0,zm,zi))}else{var Sa=zi,dl=er.length,ul=_t=="rtl"?1:0;for(++zi;zi<Gt&&jt[zi]!="L";++zi);for(var ar=Sa;ar<zi;)if(U.test(jt[ar])){Sa<ar&&(er.splice(dl,0,new $(1,Sa,ar)),dl+=ul);var gc=ar;for(++ar;ar<zi&&U.test(jt[ar]);++ar);er.splice(dl,0,new $(2,gc,ar)),dl+=ul,Sa=ar}else++ar;Sa<zi&&er.splice(dl,0,new $(1,Sa,zi))}return _t=="ltr"&&(er[0].level==1&&(Jo=Q.match(/^\s+/))&&(er[0].from=Jo[0].length,er.unshift(new $(0,0,Jo[0].length))),Ct(er).level==1&&(Jo=Q.match(/\s+$/))&&(Ct(er).to-=Jo[0].length,er.push(new $(0,Gt-Jo[0].length,Gt)))),_t=="rtl"?er.reverse():er}}();function ot(d,f){var v=d.order;return v==null&&(v=d.order=Tt(d.text,f)),v}var re=[],Ht=function(d,f,v){if(d.addEventListener)d.addEventListener(f,v,!1);else if(d.attachEvent)d.attachEvent("on"+f,v);else{var m=d._handlers||(d._handlers={});m[f]=(m[f]||re).concat(v)}};function de(d,f){return d._handlers&&d._handlers[f]||re}function Oe(d,f,v){if(d.removeEventListener)d.removeEventListener(f,v,!1);else if(d.detachEvent)d.detachEvent("on"+f,v);else{var m=d._handlers,C=m&&m[f];if(C){var S=ft(C,v);S>-1&&(m[f]=C.slice(0,S).concat(C.slice(S+1)))}}}function Pe(d,f){var v=de(d,f);if(v.length)for(var m=Array.prototype.slice.call(arguments,2),C=0;C<v.length;++C)v[C].apply(null,m)}function _e(d,f,v){return typeof f=="string"&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}}),Pe(d,v||f.type,d,f),Kn(f)||f.codemirrorIgnore}function Ae(d){var f=d._handlers&&d._handlers.cursorActivity;if(f)for(var v=d.curOp.cursorActivityHandlers||(d.curOp.cursorActivityHandlers=[]),m=0;m<f.length;++m)ft(v,f[m])==-1&&v.push(f[m])}function Qe(d,f){return de(d,f).length>0}function Xe(d){d.prototype.on=function(f,v){Ht(this,f,v)},d.prototype.off=function(f,v){Oe(this,f,v)}}function Ze(d){d.preventDefault?d.preventDefault():d.returnValue=!1}function _n(d){d.stopPropagation?d.stopPropagation():d.cancelBubble=!0}function Kn(d){return d.defaultPrevented!=null?d.defaultPrevented:d.returnValue==!1}function dt(d){Ze(d),_n(d)}function Mt(d){return d.target||d.srcElement}function Rt(d){var f=d.which;return f==null&&(d.button&1?f=1:d.button&2?f=3:d.button&4&&(f=2)),T&&d.ctrlKey&&f==1&&(f=3),f}var ne=function(){if(s&&l<9)return!1;var d=W("div");return"draggable"in d||"dragDrop"in d}(),Ce;function Te(d){if(Ce==null){var f=W("span","\u200B");L(d,W("span",[f,document.createTextNode("x")])),d.firstChild.offsetHeight!=0&&(Ce=f.offsetWidth<=1&&f.offsetHeight>2&&!(s&&l<8))}var v=Ce?W("span","\u200B"):W("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return v.setAttribute("cm-text",""),v}var Ne;function Pn(d){if(Ne!=null)return Ne;var f=L(d,document.createTextNode("A\u062EA")),v=J(f,0,1).getBoundingClientRect(),m=J(f,1,2).getBoundingClientRect();return H(d),!v||v.left==v.right?!1:Ne=m.right-v.right<3}var On=`

b`.split(/\n/).length!=3?function(d){for(var f=0,v=[],m=d.length;f<=m;){var C=d.indexOf(`
`,f);C==-1&&(C=d.length);var S=d.slice(f,d.charAt(C-1)=="\r"?C-1:C),z=S.indexOf("\r");z!=-1?(v.push(S.slice(0,z)),f+=z+1):(v.push(S),f=C+1)}return v}:function(d){return d.split(/\r\n?|\n/)},rn=window.getSelection?function(d){try{return d.selectionStart!=d.selectionEnd}catch{return!1}}:function(d){var f;try{f=d.ownerDocument.selection.createRange()}catch{}return!f||f.parentElement()!=d?!1:f.compareEndPoints("StartToEnd",f)!=0},mi=function(){var d=W("div");return"oncopy"in d?!0:(d.setAttribute("oncopy","return;"),typeof d.oncopy=="function")}(),Mn=null;function fn(d){if(Mn!=null)return Mn;var f=L(d,W("span","x")),v=f.getBoundingClientRect(),m=J(f,0,1).getBoundingClientRect();return Mn=Math.abs(v.left-m.left)>1}var Si={},yn={};function sn(d,f){arguments.length>2&&(f.dependencies=Array.prototype.slice.call(arguments,2)),Si[d]=f}function wn(d,f){yn[d]=f}function Yn(d){if(typeof d=="string"&&yn.hasOwnProperty(d))d=yn[d];else if(d&&typeof d.name=="string"&&yn.hasOwnProperty(d.name)){var f=yn[d.name];typeof f=="string"&&(f={name:f}),d=K(f,d),d.name=f.name}else{if(typeof d=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(d))return Yn("application/xml");if(typeof d=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(d))return Yn("application/json")}return typeof d=="string"?{name:d}:d||{name:"null"}}function Be(d,f){f=Yn(f);var v=Si[f.name];if(!v)return Be(d,"text/plain");var m=v(d,f);if(Xn.hasOwnProperty(f.name)){var C=Xn[f.name];for(var S in C)C.hasOwnProperty(S)&&(m.hasOwnProperty(S)&&(m["_"+S]=m[S]),m[S]=C[S])}if(m.name=f.name,f.helperType&&(m.helperType=f.helperType),f.modeProps)for(var z in f.modeProps)m[z]=f.modeProps[z];return m}var Xn={};function Ve(d,f){var v=Xn.hasOwnProperty(d)?Xn[d]:Xn[d]={};Pt(f,v)}function Dn(d,f){if(f===!0)return f;if(d.copyState)return d.copyState(f);var v={};for(var m in f){var C=f[m];C instanceof Array&&(C=C.concat([])),v[m]=C}return v}function vn(d,f){for(var v;d.innerMode&&(v=d.innerMode(f),!(!v||v.mode==d));)f=v.state,d=v.mode;return v||{mode:d,state:f}}function A(d,f,v){return d.startState?d.startState(f,v):!0}var G=function(d,f,v){this.pos=this.start=0,this.string=d,this.tabSize=f||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=v};G.prototype.eol=function(){return this.pos>=this.string.length},G.prototype.sol=function(){return this.pos==this.lineStart},G.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},G.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},G.prototype.eat=function(d){var f=this.string.charAt(this.pos),v;if(typeof d=="string"?v=f==d:v=f&&(d.test?d.test(f):d(f)),v)return++this.pos,f},G.prototype.eatWhile=function(d){for(var f=this.pos;this.eat(d););return this.pos>f},G.prototype.eatSpace=function(){for(var d=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>d},G.prototype.skipToEnd=function(){this.pos=this.string.length},G.prototype.skipTo=function(d){var f=this.string.indexOf(d,this.pos);if(f>-1)return this.pos=f,!0},G.prototype.backUp=function(d){this.pos-=d},G.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=yt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?yt(this.string,this.lineStart,this.tabSize):0)},G.prototype.indentation=function(){return yt(this.string,null,this.tabSize)-(this.lineStart?yt(this.string,this.lineStart,this.tabSize):0)},G.prototype.match=function(d,f,v){if(typeof d=="string"){var m=function(z){return v?z.toLowerCase():z},C=this.string.substr(this.pos,d.length);if(m(C)==m(d))return f!==!1&&(this.pos+=d.length),!0}else{var S=this.string.slice(this.pos).match(d);return S&&S.index>0?null:(S&&f!==!1&&(this.pos+=S[0].length),S)}},G.prototype.current=function(){return this.string.slice(this.start,this.pos)},G.prototype.hideFirstChars=function(d,f){this.lineStart+=d;try{return f()}finally{this.lineStart-=d}},G.prototype.lookAhead=function(d){var f=this.lineOracle;return f&&f.lookAhead(d)},G.prototype.baseToken=function(){var d=this.lineOracle;return d&&d.baseToken(this.pos)};function B(d,f){if(f-=d.first,f<0||f>=d.size)throw new Error("There is no line "+(f+d.first)+" in the document.");for(var v=d;!v.lines;)for(var m=0;;++m){var C=v.children[m],S=C.chunkSize();if(f<S){v=C;break}f-=S}return v.lines[f]}function gt(d,f,v){var m=[],C=f.line;return d.iter(f.line,v.line+1,function(S){var z=S.text;C==v.line&&(z=z.slice(0,v.ch)),C==f.line&&(z=z.slice(f.ch)),m.push(z),++C}),m}function Yt(d,f,v){var m=[];return d.iter(f,v,function(C){m.push(C.text)}),m}function Ee(d,f){var v=f-d.height;if(v)for(var m=d;m;m=m.parent)m.height+=v}function je(d){if(d.parent==null)return null;for(var f=d.parent,v=ft(f.lines,d),m=f.parent;m;f=m,m=m.parent)for(var C=0;m.children[C]!=f;++C)v+=m.children[C].chunkSize();return v+f.first}function He(d,f){var v=d.first;t:do{for(var m=0;m<d.children.length;++m){var C=d.children[m],S=C.height;if(f<S){d=C;continue t}f-=S,v+=C.chunkSize()}return v}while(!d.lines);for(var z=0;z<d.lines.length;++z){var U=d.lines[z],$=U.height;if(f<$)break;f-=$}return v+z}function ze(d,f){return f>=d.first&&f<d.first+d.size}function Y(d,f){return String(d.lineNumberFormatter(f+d.firstLineNumber))}function Zt(d,f,v){if(v===void 0&&(v=null),!(this instanceof Zt))return new Zt(d,f,v);this.line=d,this.ch=f,this.sticky=v}function Re(d,f){return d.line-f.line||d.ch-f.ch}function Ln(d,f){return d.sticky==f.sticky&&Re(d,f)==0}function it(d){return Zt(d.line,d.ch)}function bt(d,f){return Re(d,f)<0?f:d}function te(d,f){return Re(d,f)<0?d:f}function pe(d,f){return Math.max(d.first,Math.min(f,d.first+d.size-1))}function ge(d,f){if(f.line<d.first)return Zt(d.first,0);var v=d.first+d.size-1;return f.line>v?Zt(v,B(d,v).text.length):nn(f,B(d,f.line).text.length)}function nn(d,f){var v=d.ch;return v==null||v>f?Zt(d.line,f):v<0?Zt(d.line,0):d}function dn(d,f){for(var v=[],m=0;m<f.length;m++)v[m]=ge(d,f[m]);return v}var Nn=function(d,f){this.state=d,this.lookAhead=f},zn=function(d,f,v,m){this.state=f,this.doc=d,this.line=v,this.maxLookAhead=m||0,this.baseTokens=null,this.baseTokenPos=1};zn.prototype.lookAhead=function(d){var f=this.doc.getLine(this.line+d);return f!=null&&d>this.maxLookAhead&&(this.maxLookAhead=d),f},zn.prototype.baseToken=function(d){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=d;)this.baseTokenPos+=2;var f=this.baseTokens[this.baseTokenPos+1];return{type:f&&f.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-d}},zn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},zn.fromSaved=function(d,f,v){return f instanceof Nn?new zn(d,Dn(d.mode,f.state),v,f.lookAhead):new zn(d,Dn(d.mode,f),v)},zn.prototype.save=function(d){var f=d!==!1?Dn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Nn(f,this.maxLookAhead):f};function Ya(d,f,v,m){var C=[d.state.modeGen],S={};ya(d,f.text,d.doc.mode,v,function(Q,_t){return C.push(Q,_t)},S,m);for(var z=v.state,U=function(Q){v.baseTokens=C;var _t=d.state.overlays[Q],Ot=1,Gt=0;v.state=!0,ya(d,f.text,_t.mode,v,function(jt,ee){for(var ue=Ot;Gt<jt;){var ve=C[Ot];ve>jt&&C.splice(Ot,1,jt,C[Ot+1],ve),Ot+=2,Gt=Math.min(jt,ve)}if(ee)if(_t.opaque)C.splice(ue,Ot-ue,jt,"overlay "+ee),Ot=ue+2;else for(;ue<Ot;ue+=2){var we=C[ue+1];C[ue+1]=(we?we+" ":"")+"overlay "+ee}},S),v.state=z,v.baseTokens=null,v.baseTokenPos=1},$=0;$<d.state.overlays.length;++$)U($);return{styles:C,classes:S.bgClass||S.textClass?S:null}}function Yr(d,f,v){if(!f.styles||f.styles[0]!=d.state.modeGen){var m=dr(d,je(f)),C=f.text.length>d.options.maxHighlightLength&&Dn(d.doc.mode,m.state),S=Ya(d,f,m);C&&(m.state=C),f.stateAfter=m.save(!C),f.styles=S.styles,S.classes?f.styleClasses=S.classes:f.styleClasses&&(f.styleClasses=null),v===d.doc.highlightFrontier&&(d.doc.modeFrontier=Math.max(d.doc.modeFrontier,++d.doc.highlightFrontier))}return f.styles}function dr(d,f,v){var m=d.doc,C=d.display;if(!m.mode.startState)return new zn(m,!0,f);var S=No(d,f,v),z=S>m.first&&B(m,S-1).stateAfter,U=z?zn.fromSaved(m,z,S):new zn(m,A(m.mode),S);return m.iter(S,f,function($){Xo(d,$.text,U);var Q=U.line;$.stateAfter=Q==f-1||Q%5==0||Q>=C.viewFrom&&Q<C.viewTo?U.save():null,U.nextLine()}),v&&(m.modeFrontier=U.line),U}function Xo(d,f,v,m){var C=d.doc.mode,S=new G(f,d.options.tabSize,v);for(S.start=S.pos=m||0,f==""&&Qs(C,v.state);!S.eol();)Xa(C,S,v.state),S.start=S.pos}function Qs(d,f){if(d.blankLine)return d.blankLine(f);if(d.innerMode){var v=vn(d,f);if(v.mode.blankLine)return v.mode.blankLine(v.state)}}function Xa(d,f,v,m){for(var C=0;C<10;C++){m&&(m[0]=vn(d,v).mode);var S=d.token(f,v);if(f.pos>f.start)return S}throw new Error("Mode "+d.name+" failed to advance stream.")}var _a=function(d,f,v){this.start=d.start,this.end=d.pos,this.string=d.current(),this.type=f||null,this.state=v};function Js(d,f,v,m){var C=d.doc,S=C.mode,z;f=ge(C,f);var U=B(C,f.line),$=dr(d,f.line,v),Q=new G(U.text,d.options.tabSize,$),_t;for(m&&(_t=[]);(m||Q.pos<f.ch)&&!Q.eol();)Q.start=Q.pos,z=Xa(S,Q,$.state),m&&_t.push(new _a(Q,z,Dn(C.mode,$.state)));return m?_t:new _a(Q,z,$.state)}function Qa(d,f){if(d)for(;;){var v=d.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!v)break;d=d.slice(0,v.index)+d.slice(v.index+v[0].length);var m=v[1]?"bgClass":"textClass";f[m]==null?f[m]=v[2]:new RegExp("(?:^|\\s)"+v[2]+"(?:$|\\s)").test(f[m])||(f[m]+=" "+v[2])}return d}function ya(d,f,v,m,C,S,z){var U=v.flattenSpans;U==null&&(U=d.options.flattenSpans);var $=0,Q=null,_t=new G(f,d.options.tabSize,m),Ot,Gt=d.options.addModeClass&&[null];for(f==""&&Qa(Qs(v,m.state),S);!_t.eol();){if(_t.pos>d.options.maxHighlightLength?(U=!1,z&&Xo(d,f,m,_t.pos),_t.pos=f.length,Ot=null):Ot=Qa(Xa(v,_t,m.state,Gt),S),Gt){var jt=Gt[0].name;jt&&(Ot="m-"+(Ot?jt+" "+Ot:jt))}if(!U||Q!=Ot){for(;$<_t.start;)$=Math.min(_t.start,$+5e3),C($,Q);Q=Ot}_t.start=_t.pos}for(;$<_t.pos;){var ee=Math.min(_t.pos,$+5e3);C(ee,Q),$=ee}}function No(d,f,v){for(var m,C,S=d.doc,z=v?-1:f-(d.doc.mode.innerMode?1e3:100),U=f;U>z;--U){if(U<=S.first)return S.first;var $=B(S,U-1),Q=$.stateAfter;if(Q&&(!v||U+(Q instanceof Nn?Q.lookAhead:0)<=S.modeFrontier))return U;var _t=yt($.text,null,d.options.tabSize);(C==null||m>_t)&&(C=U-1,m=_t)}return C}function ba(d,f){if(d.modeFrontier=Math.min(d.modeFrontier,f),!(d.highlightFrontier<f-10)){for(var v=d.first,m=f-1;m>v;m--){var C=B(d,m).stateAfter;if(C&&(!(C instanceof Nn)||m+C.lookAhead<f)){v=m+1;break}}d.highlightFrontier=Math.min(d.highlightFrontier,v)}}var vi=!1,Ti=!1;function Ja(){vi=!0}function Zs(){Ti=!0}function Ro(d,f,v){this.marker=d,this.from=f,this.to=v}function Ji(d,f){if(d)for(var v=0;v<d.length;++v){var m=d[v];if(m.marker==f)return m}}function tl(d,f){for(var v,m=0;m<d.length;++m)d[m]!=f&&(v||(v=[])).push(d[m]);return v}function ho(d,f,v){var m=v&&window.WeakSet&&(v.markedSpans||(v.markedSpans=new WeakSet));m&&m.has(d.markedSpans)?d.markedSpans.push(f):(d.markedSpans=d.markedSpans?d.markedSpans.concat([f]):[f],m&&m.add(d.markedSpans)),f.marker.attachLine(d)}function Ei(d,f,v){var m;if(d)for(var C=0;C<d.length;++C){var S=d[C],z=S.marker,U=S.from==null||(z.inclusiveLeft?S.from<=f:S.from<f);if(U||S.from==f&&z.type=="bookmark"&&(!v||!S.marker.insertLeft)){var $=S.to==null||(z.inclusiveRight?S.to>=f:S.to>f);(m||(m=[])).push(new Ro(z,S.from,$?null:S.to))}}return m}function Za(d,f,v){var m;if(d)for(var C=0;C<d.length;++C){var S=d[C],z=S.marker,U=S.to==null||(z.inclusiveRight?S.to>=f:S.to>f);if(U||S.from==f&&z.type=="bookmark"&&(!v||S.marker.insertLeft)){var $=S.from==null||(z.inclusiveLeft?S.from<=f:S.from<f);(m||(m=[])).push(new Ro(z,$?null:S.from-f,S.to==null?null:S.to-f))}}return m}function Xr(d,f){if(f.full)return null;var v=ze(d,f.from.line)&&B(d,f.from.line).markedSpans,m=ze(d,f.to.line)&&B(d,f.to.line).markedSpans;if(!v&&!m)return null;var C=f.from.ch,S=f.to.ch,z=Re(f.from,f.to)==0,U=Ei(v,C,z),$=Za(m,S,z),Q=f.text.length==1,_t=Ct(f.text).length+(Q?C:0);if(U)for(var Ot=0;Ot<U.length;++Ot){var Gt=U[Ot];if(Gt.to==null){var jt=Ji($,Gt.marker);jt?Q&&(Gt.to=jt.to==null?null:jt.to+_t):Gt.to=C}}if($)for(var ee=0;ee<$.length;++ee){var ue=$[ee];if(ue.to!=null&&(ue.to+=_t),ue.from==null){var ve=Ji(U,ue.marker);ve||(ue.from=_t,Q&&(U||(U=[])).push(ue))}else ue.from+=_t,Q&&(U||(U=[])).push(ue)}U&&(U=mo(U)),$&&$!=U&&($=mo($));var we=[U];if(!Q){var ke=f.text.length-2,Se;if(ke>0&&U)for(var Ie=0;Ie<U.length;++Ie)U[Ie].to==null&&(Se||(Se=[])).push(new Ro(U[Ie].marker,null,null));for(var qe=0;qe<ke;++qe)we.push(Se);we.push($)}return we}function mo(d){for(var f=0;f<d.length;++f){var v=d[f];v.from!=null&&v.from==v.to&&v.marker.clearWhenEmpty!==!1&&d.splice(f--,1)}return d.length?d:null}function ts(d,f,v){var m=null;if(d.iter(f.line,v.line+1,function(jt){if(jt.markedSpans)for(var ee=0;ee<jt.markedSpans.length;++ee){var ue=jt.markedSpans[ee].marker;ue.readOnly&&(!m||ft(m,ue)==-1)&&(m||(m=[])).push(ue)}}),!m)return null;for(var C=[{from:f,to:v}],S=0;S<m.length;++S)for(var z=m[S],U=z.find(0),$=0;$<C.length;++$){var Q=C[$];if(!(Re(Q.to,U.from)<0||Re(Q.from,U.to)>0)){var _t=[$,1],Ot=Re(Q.from,U.from),Gt=Re(Q.to,U.to);(Ot<0||!z.inclusiveLeft&&!Ot)&&_t.push({from:Q.from,to:U.from}),(Gt>0||!z.inclusiveRight&&!Gt)&&_t.push({from:U.to,to:Q.to}),C.splice.apply(C,_t),$+=_t.length-3}}return C}function Qr(d){var f=d.markedSpans;if(f){for(var v=0;v<f.length;++v)f[v].marker.detachLine(d);d.markedSpans=null}}function Or(d,f){if(f){for(var v=0;v<f.length;++v)f[v].marker.attachLine(d);d.markedSpans=f}}function Ca(d){return d.inclusiveLeft?-1:0}function Fo(d){return d.inclusiveRight?1:0}function xa(d,f){var v=d.lines.length-f.lines.length;if(v!=0)return v;var m=d.find(),C=f.find(),S=Re(m.from,C.from)||Ca(d)-Ca(f);if(S)return-S;var z=Re(m.to,C.to)||Fo(d)-Fo(f);return z||f.id-d.id}function Oa(d,f){var v=Ti&&d.markedSpans,m;if(v)for(var C=void 0,S=0;S<v.length;++S)C=v[S],C.marker.collapsed&&(f?C.from:C.to)==null&&(!m||xa(m,C.marker)<0)&&(m=C.marker);return m}function el(d){return Oa(d,!0)}function Jr(d){return Oa(d,!1)}function Ge(d,f){var v=Ti&&d.markedSpans,m;if(v)for(var C=0;C<v.length;++C){var S=v[C];S.marker.collapsed&&(S.from==null||S.from<f)&&(S.to==null||S.to>f)&&(!m||xa(m,S.marker)<0)&&(m=S.marker)}return m}function Ue(d,f,v,m,C){var S=B(d,f),z=Ti&&S.markedSpans;if(z)for(var U=0;U<z.length;++U){var $=z[U];if($.marker.collapsed){var Q=$.marker.find(0),_t=Re(Q.from,v)||Ca($.marker)-Ca(C),Ot=Re(Q.to,m)||Fo($.marker)-Fo(C);if(!(_t>=0&&Ot<=0||_t<=0&&Ot>=0)&&(_t<=0&&($.marker.inclusiveRight&&C.inclusiveLeft?Re(Q.to,v)>=0:Re(Q.to,v)>0)||_t>=0&&($.marker.inclusiveRight&&C.inclusiveLeft?Re(Q.from,m)<=0:Re(Q.from,m)<0)))return!0}}}function tn(d){for(var f;f=el(d);)d=f.find(-1,!0).line;return d}function Ke(d){for(var f;f=Jr(d);)d=f.find(1,!0).line;return d}function oi(d){for(var f,v;f=Jr(d);)d=f.find(1,!0).line,(v||(v=[])).push(d);return v}function Pr(d,f){var v=B(d,f),m=tn(v);return v==m?f:je(m)}function Mr(d,f){if(f>d.lastLine())return f;var v=B(d,f),m;if(!Di(d,v))return f;for(;m=Jr(v);)v=m.find(1,!0).line;return je(v)+1}function Di(d,f){var v=Ti&&f.markedSpans;if(v){for(var m=void 0,C=0;C<v.length;++C)if(m=v[C],!!m.marker.collapsed){if(m.from==null)return!0;if(!m.marker.widgetNode&&m.from==0&&m.marker.inclusiveLeft&&Bi(d,f,m))return!0}}}function Bi(d,f,v){if(v.to==null){var m=v.marker.find(1,!0);return Bi(d,m.line,Ji(m.line.markedSpans,v.marker))}if(v.marker.inclusiveRight&&v.to==f.text.length)return!0;for(var C=void 0,S=0;S<f.markedSpans.length;++S)if(C=f.markedSpans[S],C.marker.collapsed&&!C.marker.widgetNode&&C.from==v.to&&(C.to==null||C.to!=v.from)&&(C.marker.inclusiveLeft||v.marker.inclusiveRight)&&Bi(d,f,C))return!0}function wr(d){d=tn(d);for(var f=0,v=d.parent,m=0;m<v.lines.length;++m){var C=v.lines[m];if(C==d)break;f+=C.height}for(var S=v.parent;S;v=S,S=v.parent)for(var z=0;z<S.children.length;++z){var U=S.children[z];if(U==v)break;f+=U.height}return f}function zo(d){if(d.height==0)return 0;for(var f=d.text.length,v,m=d;v=el(m);){var C=v.find(0,!0);m=C.from.line,f+=C.from.ch-C.to.ch}for(m=d;v=Jr(m);){var S=v.find(0,!0);f-=m.text.length-S.from.ch,m=S.to.line,f+=m.text.length-S.to.ch}return f}function es(d){var f=d.display,v=d.doc;f.maxLine=B(v,v.first),f.maxLineLength=zo(f.maxLine),f.maxLineChanged=!0,v.iter(function(m){var C=zo(m);C>f.maxLineLength&&(f.maxLineLength=C,f.maxLine=m)})}var Li=function(d,f,v){this.text=d,Or(this,f),this.height=v?v(this):1};Li.prototype.lineNo=function(){return je(this)},Xe(Li);function Cp(d,f,v,m){d.text=f,d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null),d.order!=null&&(d.order=null),Qr(d),Or(d,v);var C=m?m(d):1;C!=d.height&&Ee(d,C)}function $l(d){d.parent=null,Qr(d)}var xp={},xd={};function Od(d,f){if(!d||/^\s*$/.test(d))return null;var v=f.addModeClass?xd:xp;return v[d]||(v[d]=d.replace(/\S+/g,"cm-$&"))}function Yl(d,f){var v=q("span",null,null,c?"padding-right: .1px":null),m={pre:q("pre",[v],"CodeMirror-line"),content:v,col:0,pos:0,cm:d,trailingSpace:!1,splitSpaces:d.getOption("lineWrapping")};f.measure={};for(var C=0;C<=(f.rest?f.rest.length:0);C++){var S=C?f.rest[C-1]:f.line,z=void 0;m.pos=0,m.addToken=Pp,Pn(d.display.measure)&&(z=ot(S,d.doc.direction))&&(m.addToken=Mp(m.addToken,z)),m.map=[];var U=f!=d.display.externalMeasured&&je(S);wp(S,m,Yr(d,S,U)),S.styleClasses&&(S.styleClasses.bgClass&&(m.bgClass=pt(S.styleClasses.bgClass,m.bgClass||"")),S.styleClasses.textClass&&(m.textClass=pt(S.styleClasses.textClass,m.textClass||""))),m.map.length==0&&m.map.push(0,0,m.content.appendChild(Te(d.display.measure))),C==0?(f.measure.map=m.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(m.map),(f.measure.caches||(f.measure.caches=[])).push({}))}if(c){var $=m.content.lastChild;(/\bcm-tab\b/.test($.className)||$.querySelector&&$.querySelector(".cm-tab"))&&(m.content.className="cm-tab-wrap-hack")}return Pe(d,"renderLine",d,f.line,m.pre),m.pre.className&&(m.textClass=pt(m.pre.className,m.textClass||"")),m}function Op(d){var f=W("span","\u2022","cm-invalidchar");return f.title="\\u"+d.charCodeAt(0).toString(16),f.setAttribute("aria-label",f.title),f}function Pp(d,f,v,m,C,S,z){if(f){var U=d.splitSpaces?Xl(f,d.trailingSpace):f,$=d.cm.state.specialChars,Q=!1,_t;if(!$.test(f))d.col+=f.length,_t=document.createTextNode(U),d.map.push(d.pos,d.pos+f.length,_t),s&&l<9&&(Q=!0),d.pos+=f.length;else{_t=document.createDocumentFragment();for(var Ot=0;;){$.lastIndex=Ot;var Gt=$.exec(f),jt=Gt?Gt.index-Ot:f.length-Ot;if(jt){var ee=document.createTextNode(U.slice(Ot,Ot+jt));s&&l<9?_t.appendChild(W("span",[ee])):_t.appendChild(ee),d.map.push(d.pos,d.pos+jt,ee),d.col+=jt,d.pos+=jt}if(!Gt)break;Ot+=jt+1;var ue=void 0;if(Gt[0]=="	"){var ve=d.cm.options.tabSize,we=ve-d.col%ve;ue=_t.appendChild(W("span",le(we),"cm-tab")),ue.setAttribute("role","presentation"),ue.setAttribute("cm-text","	"),d.col+=we}else Gt[0]=="\r"||Gt[0]==`
`?(ue=_t.appendChild(W("span",Gt[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),ue.setAttribute("cm-text",Gt[0]),d.col+=1):(ue=d.cm.options.specialCharPlaceholder(Gt[0]),ue.setAttribute("cm-text",Gt[0]),s&&l<9?_t.appendChild(W("span",[ue])):_t.appendChild(ue),d.col+=1);d.map.push(d.pos,d.pos+1,ue),d.pos++}}if(d.trailingSpace=U.charCodeAt(f.length-1)==32,v||m||C||Q||S||z){var ke=v||"";m&&(ke+=m),C&&(ke+=C);var Se=W("span",[_t],ke,S);if(z)for(var Ie in z)z.hasOwnProperty(Ie)&&Ie!="style"&&Ie!="class"&&Se.setAttribute(Ie,z[Ie]);return d.content.appendChild(Se)}d.content.appendChild(_t)}}function Xl(d,f){if(d.length>1&&!/  /.test(d))return d;for(var v=f,m="",C=0;C<d.length;C++){var S=d.charAt(C);S==" "&&v&&(C==d.length-1||d.charCodeAt(C+1)==32)&&(S="\xA0"),m+=S,v=S==" "}return m}function Mp(d,f){return function(v,m,C,S,z,U,$){C=C?C+" cm-force-border":"cm-force-border";for(var Q=v.pos,_t=Q+m.length;;){for(var Ot=void 0,Gt=0;Gt<f.length&&(Ot=f[Gt],!(Ot.to>Q&&Ot.from<=Q));Gt++);if(Ot.to>=_t)return d(v,m,C,S,z,U,$);d(v,m.slice(0,Ot.to-Q),C,S,null,U,$),S=null,m=m.slice(Ot.to-Q),Q=Ot.to}}}function Pd(d,f,v,m){var C=!m&&v.widgetNode;C&&d.map.push(d.pos,d.pos+f,C),!m&&d.cm.display.input.needsContentAttribute&&(C||(C=d.content.appendChild(document.createElement("span"))),C.setAttribute("cm-marker",v.id)),C&&(d.cm.display.input.setUneditable(C),d.content.appendChild(C)),d.pos+=f,d.trailingSpace=!1}function wp(d,f,v){var m=d.markedSpans,C=d.text,S=0;if(!m){for(var z=1;z<v.length;z+=2)f.addToken(f,C.slice(S,S=v[z]),Od(v[z+1],f.cm.options));return}for(var U=C.length,$=0,Q=1,_t="",Ot,Gt,jt=0,ee,ue,ve,we,ke;;){if(jt==$){ee=ue=ve=Gt="",ke=null,we=null,jt=1/0;for(var Se=[],Ie=void 0,qe=0;qe<m.length;++qe){var We=m[qe],an=We.marker;if(an.type=="bookmark"&&We.from==$&&an.widgetNode)Se.push(an);else if(We.from<=$&&(We.to==null||We.to>$||an.collapsed&&We.to==$&&We.from==$)){if(We.to!=null&&We.to!=$&&jt>We.to&&(jt=We.to,ue=""),an.className&&(ee+=" "+an.className),an.css&&(Gt=(Gt?Gt+";":"")+an.css),an.startStyle&&We.from==$&&(ve+=" "+an.startStyle),an.endStyle&&We.to==jt&&(Ie||(Ie=[])).push(an.endStyle,We.to),an.title&&((ke||(ke={})).title=an.title),an.attributes)for(var Un in an.attributes)(ke||(ke={}))[Un]=an.attributes[Un];an.collapsed&&(!we||xa(we.marker,an)<0)&&(we=We)}else We.from>$&&jt>We.from&&(jt=We.from)}if(Ie)for(var Fi=0;Fi<Ie.length;Fi+=2)Ie[Fi+1]==jt&&(ue+=" "+Ie[Fi]);if(!we||we.from==$)for(var ri=0;ri<Se.length;++ri)Pd(f,0,Se[ri]);if(we&&(we.from||0)==$){if(Pd(f,(we.to==null?U+1:we.to)-$,we.marker,we.from==null),we.to==null)return;we.to==$&&(we=!1)}}if($>=U)break;for(var Er=Math.min(U,jt);;){if(_t){var fr=$+_t.length;if(!we){var _i=fr>Er?_t.slice(0,Er-$):_t;f.addToken(f,_i,Ot?Ot+ee:ee,ve,$+_i.length==jt?ue:"",Gt,ke)}if(fr>=Er){_t=_t.slice(Er-$),$=Er;break}$=fr,ve=""}_t=C.slice(S,S=v[Q++]),Ot=Od(v[Q++],f.cm.options)}}}function Md(d,f,v){this.line=f,this.rest=oi(f),this.size=this.rest?je(Ct(this.rest))-v+1:1,this.node=this.text=null,this.hidden=Di(d,f)}function Ql(d,f,v){for(var m=[],C,S=f;S<v;S=C){var z=new Md(d.doc,B(d.doc,S),S);C=S+z.size,m.push(z)}return m}var Pa=null;function Sp(d){Pa?Pa.ops.push(d):d.ownsGroup=Pa={ops:[d],delayedCallbacks:[]}}function om(d){var f=d.delayedCallbacks,v=0;do{for(;v<f.length;v++)f[v].call(null);for(var m=0;m<d.ops.length;m++){var C=d.ops[m];if(C.cursorActivityHandlers)for(;C.cursorActivityCalled<C.cursorActivityHandlers.length;)C.cursorActivityHandlers[C.cursorActivityCalled++].call(null,C.cm)}}while(v<f.length)}function wd(d,f){var v=d.ownsGroup;if(v)try{om(v)}finally{Pa=null,f(v)}}var ns=null;function ai(d,f){var v=de(d,f);if(v.length){var m=Array.prototype.slice.call(arguments,2),C;Pa?C=Pa.delayedCallbacks:ns?C=ns:(C=ns=[],setTimeout(is,0));for(var S=function(U){C.push(function(){return v[U].apply(null,m)})},z=0;z<v.length;++z)S(z)}}function is(){var d=ns;ns=null;for(var f=0;f<d.length;++f)d[f]()}function Qo(d,f,v,m){for(var C=0;C<f.changes.length;C++){var S=f.changes[C];S=="text"?Td(d,f):S=="gutter"?os(d,f,v,m):S=="class"?Jl(d,f):S=="widget"&&Ep(d,f,m)}f.changes=null}function rs(d){return d.node==d.text&&(d.node=W("div",null,null,"position: relative"),d.text.parentNode&&d.text.parentNode.replaceChild(d.node,d.text),d.node.appendChild(d.text),s&&l<8&&(d.node.style.zIndex=2)),d.node}function Tp(d,f){var v=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;if(v&&(v+=" CodeMirror-linebackground"),f.background)v?f.background.className=v:(f.background.parentNode.removeChild(f.background),f.background=null);else if(v){var m=rs(f);f.background=m.insertBefore(W("div",null,v),m.firstChild),d.display.input.setUneditable(f.background)}}function Sd(d,f){var v=d.display.externalMeasured;return v&&v.line==f.line?(d.display.externalMeasured=null,f.measure=v.measure,v.built):Yl(d,f)}function Td(d,f){var v=f.text.className,m=Sd(d,f);f.text==f.node&&(f.node=m.pre),f.text.parentNode.replaceChild(m.pre,f.text),f.text=m.pre,m.bgClass!=f.bgClass||m.textClass!=f.textClass?(f.bgClass=m.bgClass,f.textClass=m.textClass,Jl(d,f)):v&&(f.text.className=v)}function Jl(d,f){Tp(d,f),f.line.wrapClass?rs(f).className=f.line.wrapClass:f.node!=f.text&&(f.node.className="");var v=f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass;f.text.className=v||""}function os(d,f,v,m){if(f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null),f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null),f.line.gutterClass){var C=rs(f);f.gutterBackground=W("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(d.options.fixedGutter?m.fixedPos:-m.gutterTotalWidth)+"px; width: "+m.gutterTotalWidth+"px"),d.display.input.setUneditable(f.gutterBackground),C.insertBefore(f.gutterBackground,f.text)}var S=f.line.gutterMarkers;if(d.options.lineNumbers||S){var z=rs(f),U=f.gutter=W("div",null,"CodeMirror-gutter-wrapper","left: "+(d.options.fixedGutter?m.fixedPos:-m.gutterTotalWidth)+"px");if(U.setAttribute("aria-hidden","true"),d.display.input.setUneditable(U),z.insertBefore(U,f.text),f.line.gutterClass&&(U.className+=" "+f.line.gutterClass),d.options.lineNumbers&&(!S||!S["CodeMirror-linenumbers"])&&(f.lineNumber=U.appendChild(W("div",Y(d.options,v),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+m.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+d.display.lineNumInnerWidth+"px"))),S)for(var $=0;$<d.display.gutterSpecs.length;++$){var Q=d.display.gutterSpecs[$].className,_t=S.hasOwnProperty(Q)&&S[Q];_t&&U.appendChild(W("div",[_t],"CodeMirror-gutter-elt","left: "+m.gutterLeft[Q]+"px; width: "+m.gutterWidth[Q]+"px"))}}}function Ep(d,f,v){f.alignable&&(f.alignable=null);for(var m=V("CodeMirror-linewidget"),C=f.node.firstChild,S=void 0;C;C=S)S=C.nextSibling,m.test(C.className)&&f.node.removeChild(C);as(d,f,v)}function kp(d,f,v,m){var C=Sd(d,f);return f.text=f.node=C.pre,C.bgClass&&(f.bgClass=C.bgClass),C.textClass&&(f.textClass=C.textClass),Jl(d,f),os(d,f,v,m),as(d,f,m),f.node}function as(d,f,v){if(Ed(d,f.line,f,v,!0),f.rest)for(var m=0;m<f.rest.length;m++)Ed(d,f.rest[m],f,v,!1)}function Ed(d,f,v,m,C){if(f.widgets)for(var S=rs(v),z=0,U=f.widgets;z<U.length;++z){var $=U[z],Q=W("div",[$.node],"CodeMirror-linewidget"+($.className?" "+$.className:""));$.handleMouseEvents||Q.setAttribute("cm-ignore-events","true"),Ap($,Q,v,m),d.display.input.setUneditable(Q),C&&$.above?S.insertBefore(Q,v.gutter||v.text):S.appendChild(Q),ai($,"redraw")}}function Ap(d,f,v,m){if(d.noHScroll){(v.alignable||(v.alignable=[])).push(f);var C=m.wrapperWidth;f.style.left=m.fixedPos+"px",d.coverGutter||(C-=m.gutterTotalWidth,f.style.paddingLeft=m.gutterTotalWidth+"px"),f.style.width=C+"px"}d.coverGutter&&(f.style.zIndex=5,f.style.position="relative",d.noHScroll||(f.style.marginLeft=-m.gutterTotalWidth+"px"))}function ss(d){if(d.height!=null)return d.height;var f=d.doc.cm;if(!f)return 0;if(!D(document.body,d.node)){var v="position: relative;";d.coverGutter&&(v+="margin-left: -"+f.display.gutters.offsetWidth+"px;"),d.noHScroll&&(v+="width: "+f.display.wrapper.clientWidth+"px;"),L(f.display.measure,W("div",[d.node],null,v))}return d.height=d.node.parentNode.offsetHeight}function vo(d,f){for(var v=Mt(f);v!=d.wrapper;v=v.parentNode)if(!v||v.nodeType==1&&v.getAttribute("cm-ignore-events")=="true"||v.parentNode==d.sizer&&v!=d.mover)return!0}function ls(d){return d.lineSpace.offsetTop}function nl(d){return d.mover.offsetHeight-d.lineSpace.offsetHeight}function Ip(d){if(d.cachedPaddingH)return d.cachedPaddingH;var f=L(d.measure,W("pre","x","CodeMirror-line-like")),v=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,m={left:parseInt(v.paddingLeft),right:parseInt(v.paddingRight)};return!isNaN(m.left)&&!isNaN(m.right)&&(d.cachedPaddingH=m),m}function Sr(d){return wt-d.display.nativeBarWidth}function Ma(d){return d.display.scroller.clientWidth-Sr(d)-d.display.barWidth}function X(d){return d.display.scroller.clientHeight-Sr(d)-d.display.barHeight}function lt(d,f,v){var m=d.options.lineWrapping,C=m&&Ma(d);if(!f.measure.heights||m&&f.measure.width!=C){var S=f.measure.heights=[];if(m){f.measure.width=C;for(var z=f.text.firstChild.getClientRects(),U=0;U<z.length-1;U++){var $=z[U],Q=z[U+1];Math.abs($.bottom-Q.bottom)>2&&S.push(($.bottom+Q.top)/2-v.top)}}S.push(v.bottom-v.top)}}function xt(d,f,v){if(d.line==f)return{map:d.measure.map,cache:d.measure.cache};for(var m=0;m<d.rest.length;m++)if(d.rest[m]==f)return{map:d.measure.maps[m],cache:d.measure.caches[m]};for(var C=0;C<d.rest.length;C++)if(je(d.rest[C])>v)return{map:d.measure.maps[C],cache:d.measure.caches[C],before:!0}}function St(d,f){f=tn(f);var v=je(f),m=d.display.externalMeasured=new Md(d.doc,f,v);m.lineN=v;var C=m.built=Yl(d,m);return m.text=C.pre,L(d.display.lineMeasure,C.pre),m}function Kt(d,f,v,m){return xe(d,se(d,f),v,m)}function Ut(d,f){if(f>=d.display.viewFrom&&f<d.display.viewTo)return d.display.view[ol(d,f)];var v=d.display.externalMeasured;if(v&&f>=v.lineN&&f<v.lineN+v.size)return v}function se(d,f){var v=je(f),m=Ut(d,v);m&&!m.text?m=null:m&&m.changes&&(Qo(d,m,v,dm(d)),d.curOp.forceUpdate=!0),m||(m=St(d,f));var C=xt(m,f,v);return{line:f,view:m,rect:null,map:C.map,cache:C.cache,before:C.before,hasHeights:!1}}function xe(d,f,v,m,C){f.before&&(v=-1);var S=v+(m||""),z;return f.cache.hasOwnProperty(S)?z=f.cache[S]:(f.rect||(f.rect=f.view.text.getBoundingClientRect()),f.hasHeights||(lt(d,f.view,f.rect),f.hasHeights=!0),z=Zi(d,f,v,m),z.bogus||(f.cache[S]=z)),{left:z.left,right:z.right,top:C?z.rtop:z.top,bottom:C?z.rbottom:z.bottom}}var en={left:0,right:0,top:0,bottom:0};function Je(d,f,v){for(var m,C,S,z,U,$,Q=0;Q<d.length;Q+=3)if(U=d[Q],$=d[Q+1],f<U?(C=0,S=1,z="left"):f<$?(C=f-U,S=C+1):(Q==d.length-3||f==$&&d[Q+3]>f)&&(S=$-U,C=S-1,f>=$&&(z="right")),C!=null){if(m=d[Q+2],U==$&&v==(m.insertLeft?"left":"right")&&(z=v),v=="left"&&C==0)for(;Q&&d[Q-2]==d[Q-3]&&d[Q-1].insertLeft;)m=d[(Q-=3)+2],z="left";if(v=="right"&&C==$-U)for(;Q<d.length-3&&d[Q+3]==d[Q+4]&&!d[Q+5].insertLeft;)m=d[(Q+=3)+2],z="right";break}return{node:m,start:C,end:S,collapse:z,coverStart:U,coverEnd:$}}function ki(d,f){var v=en;if(f=="left")for(var m=0;m<d.length&&(v=d[m]).left==v.right;m++);else for(var C=d.length-1;C>=0&&(v=d[C]).left==v.right;C--);return v}function Zi(d,f,v,m){var C=Je(f.map,v,m),S=C.node,z=C.start,U=C.end,$=C.collapse,Q;if(S.nodeType==3){for(var _t=0;_t<4;_t++){for(;z&&kt(f.line.text.charAt(C.coverStart+z));)--z;for(;C.coverStart+U<C.coverEnd&&kt(f.line.text.charAt(C.coverStart+U));)++U;if(s&&l<9&&z==0&&U==C.coverEnd-C.coverStart?Q=S.parentNode.getBoundingClientRect():Q=ki(J(S,z,U).getClientRects(),m),Q.left||Q.right||z==0)break;U=z,z=z-1,$="right"}s&&l<11&&(Q=Dp(d.display.measure,Q))}else{z>0&&($=m="right");var Ot;d.options.lineWrapping&&(Ot=S.getClientRects()).length>1?Q=Ot[m=="right"?Ot.length-1:0]:Q=S.getBoundingClientRect()}if(s&&l<9&&!z&&(!Q||!Q.left&&!Q.right)){var Gt=S.parentNode.getClientRects()[0];Gt?Q={left:Gt.left,right:Gt.left+tc(d.display),top:Gt.top,bottom:Gt.bottom}:Q=en}for(var jt=Q.top-f.rect.top,ee=Q.bottom-f.rect.top,ue=(jt+ee)/2,ve=f.view.measure.heights,we=0;we<ve.length-1&&!(ue<ve[we]);we++);var ke=we?ve[we-1]:0,Se=ve[we],Ie={left:($=="right"?Q.right:Q.left)-f.rect.left,right:($=="left"?Q.left:Q.right)-f.rect.left,top:ke,bottom:Se};return!Q.left&&!Q.right&&(Ie.bogus=!0),d.options.singleCursorHeightPerLine||(Ie.rtop=jt,Ie.rbottom=ee),Ie}function Dp(d,f){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!fn(d))return f;var v=screen.logicalXDPI/screen.deviceXDPI,m=screen.logicalYDPI/screen.deviceYDPI;return{left:f.left*v,right:f.right*v,top:f.top*m,bottom:f.bottom*m}}function kd(d){if(d.measure&&(d.measure.cache={},d.measure.heights=null,d.rest))for(var f=0;f<d.rest.length;f++)d.measure.caches[f]={}}function h_(d){d.display.externalMeasure=null,H(d.display.lineMeasure);for(var f=0;f<d.display.view.length;f++)kd(d.display.view[f])}function Ad(d){h_(d),d.display.cachedCharWidth=d.display.cachedTextHeight=d.display.cachedPaddingH=null,d.options.lineWrapping||(d.display.maxLineChanged=!0),d.display.lineNumChars=null}function m_(){return p&&M?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function v_(){return p&&M?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function am(d){var f=0;if(d.widgets)for(var v=0;v<d.widgets.length;++v)d.widgets[v].above&&(f+=ss(d.widgets[v]));return f}function Lp(d,f,v,m,C){if(!C){var S=am(f);v.top+=S,v.bottom+=S}if(m=="line")return v;m||(m="local");var z=wr(f);if(m=="local"?z+=ls(d.display):z-=d.display.viewOffset,m=="page"||m=="window"){var U=d.display.lineSpace.getBoundingClientRect();z+=U.top+(m=="window"?0:v_());var $=U.left+(m=="window"?0:m_());v.left+=$,v.right+=$}return v.top+=z,v.bottom+=z,v}function __(d,f,v){if(v=="div")return f;var m=f.left,C=f.top;if(v=="page")m-=m_(),C-=v_();else if(v=="local"||!v){var S=d.display.sizer.getBoundingClientRect();m+=S.left,C+=S.top}var z=d.display.lineSpace.getBoundingClientRect();return{left:m-z.left,top:C-z.top}}function Np(d,f,v,m,C){return m||(m=B(d.doc,f.line)),Lp(d,m,Kt(d,m,f.ch,C),v)}function Vo(d,f,v,m,C,S){m=m||B(d.doc,f.line),C||(C=se(d,m));function z(ee,ue){var ve=xe(d,C,ee,ue?"right":"left",S);return ue?ve.left=ve.right:ve.right=ve.left,Lp(d,m,ve,v)}var U=ot(m,d.doc.direction),$=f.ch,Q=f.sticky;if($>=m.text.length?($=m.text.length,Q="before"):$<=0&&($=0,Q="after"),!U)return z(Q=="before"?$-1:$,Q=="before");function _t(ee,ue,ve){var we=U[ue],ke=we.level==1;return z(ve?ee-1:ee,ke!=ve)}var Ot=ut(U,$,Q),Gt=Le,jt=_t($,Ot,Q=="before");return Gt!=null&&(jt.other=_t($,Gt,Q!="before")),jt}function y_(d,f){var v=0;f=ge(d.doc,f),d.options.lineWrapping||(v=tc(d.display)*f.ch);var m=B(d.doc,f.line),C=wr(m)+ls(d.display);return{left:v,right:v,top:C,bottom:C+m.height}}function sm(d,f,v,m,C){var S=Zt(d,f,v);return S.xRel=C,m&&(S.outside=m),S}function lm(d,f,v){var m=d.doc;if(v+=d.display.viewOffset,v<0)return sm(m.first,0,null,-1,-1);var C=He(m,v),S=m.first+m.size-1;if(C>S)return sm(m.first+m.size-1,B(m,S).text.length,null,1,1);f<0&&(f=0);for(var z=B(m,C);;){var U=P4(d,z,C,f,v),$=Ge(z,U.ch+(U.xRel>0||U.outside>0?1:0));if(!$)return U;var Q=$.find(1);if(Q.line==C)return Q;z=B(m,C=Q.line)}}function b_(d,f,v,m){m-=am(f);var C=f.text.length,S=me(function(z){return xe(d,v,z-1).bottom<=m},C,0);return C=me(function(z){return xe(d,v,z).top>m},S,C),{begin:S,end:C}}function C_(d,f,v,m){v||(v=se(d,f));var C=Lp(d,f,xe(d,v,m),"line").top;return b_(d,f,v,C)}function cm(d,f,v,m){return d.bottom<=v?!1:d.top>v?!0:(m?d.left:d.right)>f}function P4(d,f,v,m,C){C-=wr(f);var S=se(d,f),z=am(f),U=0,$=f.text.length,Q=!0,_t=ot(f,d.doc.direction);if(_t){var Ot=(d.options.lineWrapping?w4:M4)(d,f,v,S,_t,m,C);Q=Ot.level!=1,U=Q?Ot.from:Ot.to-1,$=Q?Ot.to:Ot.from-1}var Gt=null,jt=null,ee=me(function(qe){var We=xe(d,S,qe);return We.top+=z,We.bottom+=z,cm(We,m,C,!1)?(We.top<=C&&We.left<=m&&(Gt=qe,jt=We),!0):!1},U,$),ue,ve,we=!1;if(jt){var ke=m-jt.left<jt.right-m,Se=ke==Q;ee=Gt+(Se?0:1),ve=Se?"after":"before",ue=ke?jt.left:jt.right}else{!Q&&(ee==$||ee==U)&&ee++,ve=ee==0?"after":ee==f.text.length?"before":xe(d,S,ee-(Q?1:0)).bottom+z<=C==Q?"after":"before";var Ie=Vo(d,Zt(v,ee,ve),"line",f,S);ue=Ie.left,we=C<Ie.top?-1:C>=Ie.bottom?1:0}return ee=Ft(f.text,ee,1),sm(v,ee,ve,we,m-ue)}function M4(d,f,v,m,C,S,z){var U=me(function(Ot){var Gt=C[Ot],jt=Gt.level!=1;return cm(Vo(d,Zt(v,jt?Gt.to:Gt.from,jt?"before":"after"),"line",f,m),S,z,!0)},0,C.length-1),$=C[U];if(U>0){var Q=$.level!=1,_t=Vo(d,Zt(v,Q?$.from:$.to,Q?"after":"before"),"line",f,m);cm(_t,S,z,!0)&&_t.top>z&&($=C[U-1])}return $}function w4(d,f,v,m,C,S,z){var U=b_(d,f,m,z),$=U.begin,Q=U.end;/\s/.test(f.text.charAt(Q-1))&&Q--;for(var _t=null,Ot=null,Gt=0;Gt<C.length;Gt++){var jt=C[Gt];if(!(jt.from>=Q||jt.to<=$)){var ee=jt.level!=1,ue=xe(d,m,ee?Math.min(Q,jt.to)-1:Math.max($,jt.from)).right,ve=ue<S?S-ue+1e9:ue-S;(!_t||Ot>ve)&&(_t=jt,Ot=ve)}}return _t||(_t=C[C.length-1]),_t.from<$&&(_t={from:$,to:_t.to,level:_t.level}),_t.to>Q&&(_t={from:_t.from,to:Q,level:_t.level}),_t}var il;function Zl(d){if(d.cachedTextHeight!=null)return d.cachedTextHeight;if(il==null){il=W("pre",null,"CodeMirror-line-like");for(var f=0;f<49;++f)il.appendChild(document.createTextNode("x")),il.appendChild(W("br"));il.appendChild(document.createTextNode("x"))}L(d.measure,il);var v=il.offsetHeight/50;return v>3&&(d.cachedTextHeight=v),H(d.measure),v||1}function tc(d){if(d.cachedCharWidth!=null)return d.cachedCharWidth;var f=W("span","xxxxxxxxxx"),v=W("pre",[f],"CodeMirror-line-like");L(d.measure,v);var m=f.getBoundingClientRect(),C=(m.right-m.left)/10;return C>2&&(d.cachedCharWidth=C),C||10}function dm(d){for(var f=d.display,v={},m={},C=f.gutters.clientLeft,S=f.gutters.firstChild,z=0;S;S=S.nextSibling,++z){var U=d.display.gutterSpecs[z].className;v[U]=S.offsetLeft+S.clientLeft+C,m[U]=S.clientWidth}return{fixedPos:um(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:v,gutterWidth:m,wrapperWidth:f.wrapper.clientWidth}}function um(d){return d.scroller.getBoundingClientRect().left-d.sizer.getBoundingClientRect().left}function x_(d){var f=Zl(d.display),v=d.options.lineWrapping,m=v&&Math.max(5,d.display.scroller.clientWidth/tc(d.display)-3);return function(C){if(Di(d.doc,C))return 0;var S=0;if(C.widgets)for(var z=0;z<C.widgets.length;z++)C.widgets[z].height&&(S+=C.widgets[z].height);return v?S+(Math.ceil(C.text.length/m)||1)*f:S+f}}function pm(d){var f=d.doc,v=x_(d);f.iter(function(m){var C=v(m);C!=m.height&&Ee(m,C)})}function rl(d,f,v,m){var C=d.display;if(!v&&Mt(f).getAttribute("cm-not-content")=="true")return null;var S,z,U=C.lineSpace.getBoundingClientRect();try{S=f.clientX-U.left,z=f.clientY-U.top}catch{return null}var $=lm(d,S,z),Q;if(m&&$.xRel>0&&(Q=B(d.doc,$.line).text).length==$.ch){var _t=yt(Q,Q.length,d.options.tabSize)-Q.length;$=Zt($.line,Math.max(0,Math.round((S-Ip(d.display).left)/tc(d.display))-_t))}return $}function ol(d,f){if(f>=d.display.viewTo||(f-=d.display.viewFrom,f<0))return null;for(var v=d.display.view,m=0;m<v.length;m++)if(f-=v[m].size,f<0)return m}function ur(d,f,v,m){f==null&&(f=d.doc.first),v==null&&(v=d.doc.first+d.doc.size),m||(m=0);var C=d.display;if(m&&v<C.viewTo&&(C.updateLineNumbers==null||C.updateLineNumbers>f)&&(C.updateLineNumbers=f),d.curOp.viewChanged=!0,f>=C.viewTo)Ti&&Pr(d.doc,f)<C.viewTo&&ds(d);else if(v<=C.viewFrom)Ti&&Mr(d.doc,v+m)>C.viewFrom?ds(d):(C.viewFrom+=m,C.viewTo+=m);else if(f<=C.viewFrom&&v>=C.viewTo)ds(d);else if(f<=C.viewFrom){var S=Rp(d,v,v+m,1);S?(C.view=C.view.slice(S.index),C.viewFrom=S.lineN,C.viewTo+=m):ds(d)}else if(v>=C.viewTo){var z=Rp(d,f,f,-1);z?(C.view=C.view.slice(0,z.index),C.viewTo=z.lineN):ds(d)}else{var U=Rp(d,f,f,-1),$=Rp(d,v,v+m,1);U&&$?(C.view=C.view.slice(0,U.index).concat(Ql(d,U.lineN,$.lineN)).concat(C.view.slice($.index)),C.viewTo+=m):ds(d)}var Q=C.externalMeasured;Q&&(v<Q.lineN?Q.lineN+=m:f<Q.lineN+Q.size&&(C.externalMeasured=null))}function cs(d,f,v){d.curOp.viewChanged=!0;var m=d.display,C=d.display.externalMeasured;if(C&&f>=C.lineN&&f<C.lineN+C.size&&(m.externalMeasured=null),!(f<m.viewFrom||f>=m.viewTo)){var S=m.view[ol(d,f)];if(S.node!=null){var z=S.changes||(S.changes=[]);ft(z,v)==-1&&z.push(v)}}}function ds(d){d.display.viewFrom=d.display.viewTo=d.doc.first,d.display.view=[],d.display.viewOffset=0}function Rp(d,f,v,m){var C=ol(d,f),S,z=d.display.view;if(!Ti||v==d.doc.first+d.doc.size)return{index:C,lineN:v};for(var U=d.display.viewFrom,$=0;$<C;$++)U+=z[$].size;if(U!=f){if(m>0){if(C==z.length-1)return null;S=U+z[C].size-f,C++}else S=U-f;f+=S,v+=S}for(;Pr(d.doc,v)!=v;){if(C==(m<0?0:z.length-1))return null;v+=m*z[C-(m<0?1:0)].size,C+=m}return{index:C,lineN:v}}function S4(d,f,v){var m=d.display,C=m.view;C.length==0||f>=m.viewTo||v<=m.viewFrom?(m.view=Ql(d,f,v),m.viewFrom=f):(m.viewFrom>f?m.view=Ql(d,f,m.viewFrom).concat(m.view):m.viewFrom<f&&(m.view=m.view.slice(ol(d,f))),m.viewFrom=f,m.viewTo<v?m.view=m.view.concat(Ql(d,m.viewTo,v)):m.viewTo>v&&(m.view=m.view.slice(0,ol(d,v)))),m.viewTo=v}function O_(d){for(var f=d.display.view,v=0,m=0;m<f.length;m++){var C=f[m];!C.hidden&&(!C.node||C.changes)&&++v}return v}function Id(d){d.display.input.showSelection(d.display.input.prepareSelection())}function P_(d,f){f===void 0&&(f=!0);for(var v=d.doc,m={},C=m.cursors=document.createDocumentFragment(),S=m.selection=document.createDocumentFragment(),z=0;z<v.sel.ranges.length;z++)if(!(!f&&z==v.sel.primIndex)){var U=v.sel.ranges[z];if(!(U.from().line>=d.display.viewTo||U.to().line<d.display.viewFrom)){var $=U.empty();($||d.options.showCursorWhenSelecting)&&M_(d,U.head,C),$||T4(d,U,S)}}return m}function M_(d,f,v){var m=Vo(d,f,"div",null,null,!d.options.singleCursorHeightPerLine),C=v.appendChild(W("div","\xA0","CodeMirror-cursor"));if(C.style.left=m.left+"px",C.style.top=m.top+"px",C.style.height=Math.max(0,m.bottom-m.top)*d.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(d.getWrapperElement().className)){var S=Np(d,f,"div",null,null);S.right-S.left>0&&(C.style.width=S.right-S.left+"px")}if(m.other){var z=v.appendChild(W("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));z.style.display="",z.style.left=m.other.left+"px",z.style.top=m.other.top+"px",z.style.height=(m.other.bottom-m.other.top)*.85+"px"}}function Fp(d,f){return d.top-f.top||d.left-f.left}function T4(d,f,v){var m=d.display,C=d.doc,S=document.createDocumentFragment(),z=Ip(d.display),U=z.left,$=Math.max(m.sizerWidth,Ma(d)-m.sizer.offsetLeft)-z.right,Q=C.direction=="ltr";function _t(Se,Ie,qe,We){Ie<0&&(Ie=0),Ie=Math.round(Ie),We=Math.round(We),S.appendChild(W("div",null,"CodeMirror-selected","position: absolute; left: "+Se+`px;
                             top: `+Ie+"px; width: "+(qe??$-Se)+`px;
                             height: `+(We-Ie)+"px"))}function Ot(Se,Ie,qe){var We=B(C,Se),an=We.text.length,Un,Fi;function ri(_i,gr){return Np(d,Zt(Se,_i),"div",We,gr)}function Er(_i,gr,Ui){var Ai=C_(d,We,null,_i),yi=gr=="ltr"==(Ui=="after")?"left":"right",si=Ui=="after"?Ai.begin:Ai.end-(/\s/.test(We.text.charAt(Ai.end-1))?2:1);return ri(si,yi)[yi]}var fr=ot(We,C.direction);return Ye(fr,Ie||0,qe??an,function(_i,gr,Ui,Ai){var yi=Ui=="ltr",si=ri(_i,yi?"left":"right"),hr=ri(gr-1,yi?"right":"left"),fc=Ie==null&&_i==0,ms=qe==null&&gr==an,er=Ai==0,Jo=!fr||Ai==fr.length-1;if(hr.top-si.top<=3){var zi=(Q?fc:ms)&&er,zm=(Q?ms:fc)&&Jo,Sa=zi?U:(yi?si:hr).left,dl=zm?$:(yi?hr:si).right;_t(Sa,si.top,dl-Sa,si.bottom)}else{var ul,ar,gc,Vm;yi?(ul=Q&&fc&&er?U:si.left,ar=Q?$:Er(_i,Ui,"before"),gc=Q?U:Er(gr,Ui,"after"),Vm=Q&&ms&&Jo?$:hr.right):(ul=Q?Er(_i,Ui,"before"):U,ar=!Q&&fc&&er?$:si.right,gc=!Q&&ms&&Jo?U:hr.left,Vm=Q?Er(gr,Ui,"after"):$),_t(ul,si.top,ar-ul,si.bottom),si.bottom<hr.top&&_t(U,si.bottom,null,hr.top),_t(gc,hr.top,Vm-gc,hr.bottom)}(!Un||Fp(si,Un)<0)&&(Un=si),Fp(hr,Un)<0&&(Un=hr),(!Fi||Fp(si,Fi)<0)&&(Fi=si),Fp(hr,Fi)<0&&(Fi=hr)}),{start:Un,end:Fi}}var Gt=f.from(),jt=f.to();if(Gt.line==jt.line)Ot(Gt.line,Gt.ch,jt.ch);else{var ee=B(C,Gt.line),ue=B(C,jt.line),ve=tn(ee)==tn(ue),we=Ot(Gt.line,Gt.ch,ve?ee.text.length+1:null).end,ke=Ot(jt.line,ve?0:null,jt.ch).start;ve&&(we.top<ke.top-2?(_t(we.right,we.top,null,we.bottom),_t(U,ke.top,ke.left,ke.bottom)):_t(we.right,we.top,ke.left-we.right,we.bottom)),we.bottom<ke.top&&_t(U,we.bottom,null,ke.top)}v.appendChild(S)}function fm(d){if(d.state.focused){var f=d.display;clearInterval(f.blinker);var v=!0;f.cursorDiv.style.visibility="",d.options.cursorBlinkRate>0?f.blinker=setInterval(function(){d.hasFocus()||ec(d),f.cursorDiv.style.visibility=(v=!v)?"":"hidden"},d.options.cursorBlinkRate):d.options.cursorBlinkRate<0&&(f.cursorDiv.style.visibility="hidden")}}function w_(d){d.hasFocus()||(d.display.input.focus(),d.state.focused||hm(d))}function gm(d){d.state.delayingBlurEvent=!0,setTimeout(function(){d.state.delayingBlurEvent&&(d.state.delayingBlurEvent=!1,d.state.focused&&ec(d))},100)}function hm(d,f){d.state.delayingBlurEvent&&!d.state.draggingText&&(d.state.delayingBlurEvent=!1),d.options.readOnly!="nocursor"&&(d.state.focused||(Pe(d,"focus",d,f),d.state.focused=!0,nt(d.display.wrapper,"CodeMirror-focused"),!d.curOp&&d.display.selForContextMenu!=d.doc.sel&&(d.display.input.reset(),c&&setTimeout(function(){return d.display.input.reset(!0)},20)),d.display.input.receivedFocus()),fm(d))}function ec(d,f){d.state.delayingBlurEvent||(d.state.focused&&(Pe(d,"blur",d,f),d.state.focused=!1,R(d.display.wrapper,"CodeMirror-focused")),clearInterval(d.display.blinker),setTimeout(function(){d.state.focused||(d.display.shift=!1)},150))}function zp(d){for(var f=d.display,v=f.lineDiv.offsetTop,m=Math.max(0,f.scroller.getBoundingClientRect().top),C=f.lineDiv.getBoundingClientRect().top,S=0,z=0;z<f.view.length;z++){var U=f.view[z],$=d.options.lineWrapping,Q=void 0,_t=0;if(!U.hidden){if(C+=U.line.height,s&&l<8){var Ot=U.node.offsetTop+U.node.offsetHeight;Q=Ot-v,v=Ot}else{var Gt=U.node.getBoundingClientRect();Q=Gt.bottom-Gt.top,!$&&U.text.firstChild&&(_t=U.text.firstChild.getBoundingClientRect().right-Gt.left-1)}var jt=U.line.height-Q;if((jt>.005||jt<-.005)&&(C<m&&(S-=jt),Ee(U.line,Q),S_(U.line),U.rest))for(var ee=0;ee<U.rest.length;ee++)S_(U.rest[ee]);if(_t>d.display.sizerWidth){var ue=Math.ceil(_t/tc(d.display));ue>d.display.maxLineLength&&(d.display.maxLineLength=ue,d.display.maxLine=U.line,d.display.maxLineChanged=!0)}}}Math.abs(S)>2&&(f.scroller.scrollTop+=S)}function S_(d){if(d.widgets)for(var f=0;f<d.widgets.length;++f){var v=d.widgets[f],m=v.node.parentNode;m&&(v.height=m.offsetHeight)}}function Vp(d,f,v){var m=v&&v.top!=null?Math.max(0,v.top):d.scroller.scrollTop;m=Math.floor(m-ls(d));var C=v&&v.bottom!=null?v.bottom:m+d.wrapper.clientHeight,S=He(f,m),z=He(f,C);if(v&&v.ensure){var U=v.ensure.from.line,$=v.ensure.to.line;U<S?(S=U,z=He(f,wr(B(f,U))+d.wrapper.clientHeight)):Math.min($,f.lastLine())>=z&&(S=He(f,wr(B(f,$))-d.wrapper.clientHeight),z=$)}return{from:S,to:Math.max(z,S+1)}}function E4(d,f){if(!_e(d,"scrollCursorIntoView")){var v=d.display,m=v.sizer.getBoundingClientRect(),C=null;if(f.top+m.top<0?C=!0:f.bottom+m.top>(window.innerHeight||document.documentElement.clientHeight)&&(C=!1),C!=null&&!_){var S=W("div","\u200B",null,`position: absolute;
                         top: `+(f.top-v.viewOffset-ls(d.display))+`px;
                         height: `+(f.bottom-f.top+Sr(d)+v.barHeight)+`px;
                         left: `+f.left+"px; width: "+Math.max(2,f.right-f.left)+"px;");d.display.lineSpace.appendChild(S),S.scrollIntoView(C),d.display.lineSpace.removeChild(S)}}}function k4(d,f,v,m){m==null&&(m=0);var C;!d.options.lineWrapping&&f==v&&(v=f.sticky=="before"?Zt(f.line,f.ch+1,"before"):f,f=f.ch?Zt(f.line,f.sticky=="before"?f.ch-1:f.ch,"after"):f);for(var S=0;S<5;S++){var z=!1,U=Vo(d,f),$=!v||v==f?U:Vo(d,v);C={left:Math.min(U.left,$.left),top:Math.min(U.top,$.top)-m,right:Math.max(U.left,$.left),bottom:Math.max(U.bottom,$.bottom)+m};var Q=mm(d,C),_t=d.doc.scrollTop,Ot=d.doc.scrollLeft;if(Q.scrollTop!=null&&(Ld(d,Q.scrollTop),Math.abs(d.doc.scrollTop-_t)>1&&(z=!0)),Q.scrollLeft!=null&&(al(d,Q.scrollLeft),Math.abs(d.doc.scrollLeft-Ot)>1&&(z=!0)),!z)break}return C}function A4(d,f){var v=mm(d,f);v.scrollTop!=null&&Ld(d,v.scrollTop),v.scrollLeft!=null&&al(d,v.scrollLeft)}function mm(d,f){var v=d.display,m=Zl(d.display);f.top<0&&(f.top=0);var C=d.curOp&&d.curOp.scrollTop!=null?d.curOp.scrollTop:v.scroller.scrollTop,S=X(d),z={};f.bottom-f.top>S&&(f.bottom=f.top+S);var U=d.doc.height+nl(v),$=f.top<m,Q=f.bottom>U-m;if(f.top<C)z.scrollTop=$?0:f.top;else if(f.bottom>C+S){var _t=Math.min(f.top,(Q?U:f.bottom)-S);_t!=C&&(z.scrollTop=_t)}var Ot=d.options.fixedGutter?0:v.gutters.offsetWidth,Gt=d.curOp&&d.curOp.scrollLeft!=null?d.curOp.scrollLeft:v.scroller.scrollLeft-Ot,jt=Ma(d)-v.gutters.offsetWidth,ee=f.right-f.left>jt;return ee&&(f.right=f.left+jt),f.left<10?z.scrollLeft=0:f.left<Gt?z.scrollLeft=Math.max(0,f.left+Ot-(ee?0:10)):f.right>jt+Gt-3&&(z.scrollLeft=f.right+(ee?0:10)-jt),z}function vm(d,f){f!=null&&(jp(d),d.curOp.scrollTop=(d.curOp.scrollTop==null?d.doc.scrollTop:d.curOp.scrollTop)+f)}function nc(d){jp(d);var f=d.getCursor();d.curOp.scrollToPos={from:f,to:f,margin:d.options.cursorScrollMargin}}function Dd(d,f,v){(f!=null||v!=null)&&jp(d),f!=null&&(d.curOp.scrollLeft=f),v!=null&&(d.curOp.scrollTop=v)}function I4(d,f){jp(d),d.curOp.scrollToPos=f}function jp(d){var f=d.curOp.scrollToPos;if(f){d.curOp.scrollToPos=null;var v=y_(d,f.from),m=y_(d,f.to);T_(d,v,m,f.margin)}}function T_(d,f,v,m){var C=mm(d,{left:Math.min(f.left,v.left),top:Math.min(f.top,v.top)-m,right:Math.max(f.right,v.right),bottom:Math.max(f.bottom,v.bottom)+m});Dd(d,C.scrollLeft,C.scrollTop)}function Ld(d,f){Math.abs(d.doc.scrollTop-f)<2||(e||ym(d,{top:f}),E_(d,f,!0),e&&ym(d),Fd(d,100))}function E_(d,f,v){f=Math.max(0,Math.min(d.display.scroller.scrollHeight-d.display.scroller.clientHeight,f)),!(d.display.scroller.scrollTop==f&&!v)&&(d.doc.scrollTop=f,d.display.scrollbars.setScrollTop(f),d.display.scroller.scrollTop!=f&&(d.display.scroller.scrollTop=f))}function al(d,f,v,m){f=Math.max(0,Math.min(f,d.display.scroller.scrollWidth-d.display.scroller.clientWidth)),!((v?f==d.doc.scrollLeft:Math.abs(d.doc.scrollLeft-f)<2)&&!m)&&(d.doc.scrollLeft=f,L_(d),d.display.scroller.scrollLeft!=f&&(d.display.scroller.scrollLeft=f),d.display.scrollbars.setScrollLeft(f))}function Nd(d){var f=d.display,v=f.gutters.offsetWidth,m=Math.round(d.doc.height+nl(d.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:d.options.fixedGutter?v:0,docHeight:m,scrollHeight:m+Sr(d)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:v}}var sl=function(d,f,v){this.cm=v;var m=this.vert=W("div",[W("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),C=this.horiz=W("div",[W("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");m.tabIndex=C.tabIndex=-1,d(m),d(C),Ht(m,"scroll",function(){m.clientHeight&&f(m.scrollTop,"vertical")}),Ht(C,"scroll",function(){C.clientWidth&&f(C.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&l<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};sl.prototype.update=function(d){var f=d.scrollWidth>d.clientWidth+1,v=d.scrollHeight>d.clientHeight+1,m=d.nativeBarWidth;if(v){this.vert.style.display="block",this.vert.style.bottom=f?m+"px":"0";var C=d.viewHeight-(f?m:0);this.vert.firstChild.style.height=Math.max(0,d.scrollHeight-d.clientHeight+C)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(f){this.horiz.style.display="block",this.horiz.style.right=v?m+"px":"0",this.horiz.style.left=d.barLeft+"px";var S=d.viewWidth-d.barLeft-(v?m:0);this.horiz.firstChild.style.width=Math.max(0,d.scrollWidth-d.clientWidth+S)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&d.clientHeight>0&&(m==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:v?m:0,bottom:f?m:0}},sl.prototype.setScrollLeft=function(d){this.horiz.scrollLeft!=d&&(this.horiz.scrollLeft=d),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},sl.prototype.setScrollTop=function(d){this.vert.scrollTop!=d&&(this.vert.scrollTop=d),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},sl.prototype.zeroWidthHack=function(){var d=T&&!y?"12px":"18px";this.horiz.style.height=this.vert.style.width=d,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new rt,this.disableVert=new rt},sl.prototype.enableZeroWidthBar=function(d,f,v){d.style.pointerEvents="auto";function m(){var C=d.getBoundingClientRect(),S=v=="vert"?document.elementFromPoint(C.right-1,(C.top+C.bottom)/2):document.elementFromPoint((C.right+C.left)/2,C.bottom-1);S!=d?d.style.pointerEvents="none":f.set(1e3,m)}f.set(1e3,m)},sl.prototype.clear=function(){var d=this.horiz.parentNode;d.removeChild(this.horiz),d.removeChild(this.vert)};var Rd=function(){};Rd.prototype.update=function(){return{bottom:0,right:0}},Rd.prototype.setScrollLeft=function(){},Rd.prototype.setScrollTop=function(){},Rd.prototype.clear=function(){};function ic(d,f){f||(f=Nd(d));var v=d.display.barWidth,m=d.display.barHeight;k_(d,f);for(var C=0;C<4&&v!=d.display.barWidth||m!=d.display.barHeight;C++)v!=d.display.barWidth&&d.options.lineWrapping&&zp(d),k_(d,Nd(d)),v=d.display.barWidth,m=d.display.barHeight}function k_(d,f){var v=d.display,m=v.scrollbars.update(f);v.sizer.style.paddingRight=(v.barWidth=m.right)+"px",v.sizer.style.paddingBottom=(v.barHeight=m.bottom)+"px",v.heightForcer.style.borderBottom=m.bottom+"px solid transparent",m.right&&m.bottom?(v.scrollbarFiller.style.display="block",v.scrollbarFiller.style.height=m.bottom+"px",v.scrollbarFiller.style.width=m.right+"px"):v.scrollbarFiller.style.display="",m.bottom&&d.options.coverGutterNextToScrollbar&&d.options.fixedGutter?(v.gutterFiller.style.display="block",v.gutterFiller.style.height=m.bottom+"px",v.gutterFiller.style.width=f.gutterWidth+"px"):v.gutterFiller.style.display=""}var A_={native:sl,null:Rd};function I_(d){d.display.scrollbars&&(d.display.scrollbars.clear(),d.display.scrollbars.addClass&&R(d.display.wrapper,d.display.scrollbars.addClass)),d.display.scrollbars=new A_[d.options.scrollbarStyle](function(f){d.display.wrapper.insertBefore(f,d.display.scrollbarFiller),Ht(f,"mousedown",function(){d.state.focused&&setTimeout(function(){return d.display.input.focus()},0)}),f.setAttribute("cm-not-content","true")},function(f,v){v=="horizontal"?al(d,f):Ld(d,f)},d),d.display.scrollbars.addClass&&nt(d.display.wrapper,d.display.scrollbars.addClass)}var D4=0;function ll(d){d.curOp={cm:d,viewChanged:!1,startHeight:d.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++D4,markArrays:null},Sp(d.curOp)}function cl(d){var f=d.curOp;f&&wd(f,function(v){for(var m=0;m<v.ops.length;m++)v.ops[m].cm.curOp=null;L4(v)})}function L4(d){for(var f=d.ops,v=0;v<f.length;v++)N4(f[v]);for(var m=0;m<f.length;m++)R4(f[m]);for(var C=0;C<f.length;C++)F4(f[C]);for(var S=0;S<f.length;S++)z4(f[S]);for(var z=0;z<f.length;z++)V4(f[z])}function N4(d){var f=d.cm,v=f.display;H4(f),d.updateMaxLine&&es(f),d.mustUpdate=d.viewChanged||d.forceUpdate||d.scrollTop!=null||d.scrollToPos&&(d.scrollToPos.from.line<v.viewFrom||d.scrollToPos.to.line>=v.viewTo)||v.maxLineChanged&&f.options.lineWrapping,d.update=d.mustUpdate&&new Hp(f,d.mustUpdate&&{top:d.scrollTop,ensure:d.scrollToPos},d.forceUpdate)}function R4(d){d.updatedDisplay=d.mustUpdate&&_m(d.cm,d.update)}function F4(d){var f=d.cm,v=f.display;d.updatedDisplay&&zp(f),d.barMeasure=Nd(f),v.maxLineChanged&&!f.options.lineWrapping&&(d.adjustWidthTo=Kt(f,v.maxLine,v.maxLine.text.length).left+3,f.display.sizerWidth=d.adjustWidthTo,d.barMeasure.scrollWidth=Math.max(v.scroller.clientWidth,v.sizer.offsetLeft+d.adjustWidthTo+Sr(f)+f.display.barWidth),d.maxScrollLeft=Math.max(0,v.sizer.offsetLeft+d.adjustWidthTo-Ma(f))),(d.updatedDisplay||d.selectionChanged)&&(d.preparedSelection=v.input.prepareSelection())}function z4(d){var f=d.cm;d.adjustWidthTo!=null&&(f.display.sizer.style.minWidth=d.adjustWidthTo+"px",d.maxScrollLeft<f.doc.scrollLeft&&al(f,Math.min(f.display.scroller.scrollLeft,d.maxScrollLeft),!0),f.display.maxLineChanged=!1);var v=d.focus&&d.focus==Z();d.preparedSelection&&f.display.input.showSelection(d.preparedSelection,v),(d.updatedDisplay||d.startHeight!=f.doc.height)&&ic(f,d.barMeasure),d.updatedDisplay&&Cm(f,d.barMeasure),d.selectionChanged&&fm(f),f.state.focused&&d.updateInput&&f.display.input.reset(d.typing),v&&w_(d.cm)}function V4(d){var f=d.cm,v=f.display,m=f.doc;if(d.updatedDisplay&&D_(f,d.update),v.wheelStartX!=null&&(d.scrollTop!=null||d.scrollLeft!=null||d.scrollToPos)&&(v.wheelStartX=v.wheelStartY=null),d.scrollTop!=null&&E_(f,d.scrollTop,d.forceScroll),d.scrollLeft!=null&&al(f,d.scrollLeft,!0,!0),d.scrollToPos){var C=k4(f,ge(m,d.scrollToPos.from),ge(m,d.scrollToPos.to),d.scrollToPos.margin);E4(f,C)}var S=d.maybeHiddenMarkers,z=d.maybeUnhiddenMarkers;if(S)for(var U=0;U<S.length;++U)S[U].lines.length||Pe(S[U],"hide");if(z)for(var $=0;$<z.length;++$)z[$].lines.length&&Pe(z[$],"unhide");v.wrapper.offsetHeight&&(m.scrollTop=f.display.scroller.scrollTop),d.changeObjs&&Pe(f,"changes",f,d.changeObjs),d.update&&d.update.finish()}function Tr(d,f){if(d.curOp)return f();ll(d);try{return f()}finally{cl(d)}}function Ni(d,f){return function(){if(d.curOp)return f.apply(d,arguments);ll(d);try{return f.apply(d,arguments)}finally{cl(d)}}}function or(d){return function(){if(this.curOp)return d.apply(this,arguments);ll(this);try{return d.apply(this,arguments)}finally{cl(this)}}}function Ri(d){return function(){var f=this.cm;if(!f||f.curOp)return d.apply(this,arguments);ll(f);try{return d.apply(this,arguments)}finally{cl(f)}}}function Fd(d,f){d.doc.highlightFrontier<d.display.viewTo&&d.state.highlight.set(f,qt(j4,d))}function j4(d){var f=d.doc;if(!(f.highlightFrontier>=d.display.viewTo)){var v=+new Date+d.options.workTime,m=dr(d,f.highlightFrontier),C=[];f.iter(m.line,Math.min(f.first+f.size,d.display.viewTo+500),function(S){if(m.line>=d.display.viewFrom){var z=S.styles,U=S.text.length>d.options.maxHighlightLength?Dn(f.mode,m.state):null,$=Ya(d,S,m,!0);U&&(m.state=U),S.styles=$.styles;var Q=S.styleClasses,_t=$.classes;_t?S.styleClasses=_t:Q&&(S.styleClasses=null);for(var Ot=!z||z.length!=S.styles.length||Q!=_t&&(!Q||!_t||Q.bgClass!=_t.bgClass||Q.textClass!=_t.textClass),Gt=0;!Ot&&Gt<z.length;++Gt)Ot=z[Gt]!=S.styles[Gt];Ot&&C.push(m.line),S.stateAfter=m.save(),m.nextLine()}else S.text.length<=d.options.maxHighlightLength&&Xo(d,S.text,m),S.stateAfter=m.line%5==0?m.save():null,m.nextLine();if(+new Date>v)return Fd(d,d.options.workDelay),!0}),f.highlightFrontier=m.line,f.modeFrontier=Math.max(f.modeFrontier,m.line),C.length&&Tr(d,function(){for(var S=0;S<C.length;S++)cs(d,C[S],"text")})}}var Hp=function(d,f,v){var m=d.display;this.viewport=f,this.visible=Vp(m,d.doc,f),this.editorIsHidden=!m.wrapper.offsetWidth,this.wrapperHeight=m.wrapper.clientHeight,this.wrapperWidth=m.wrapper.clientWidth,this.oldDisplayWidth=Ma(d),this.force=v,this.dims=dm(d),this.events=[]};Hp.prototype.signal=function(d,f){Qe(d,f)&&this.events.push(arguments)},Hp.prototype.finish=function(){for(var d=0;d<this.events.length;d++)Pe.apply(null,this.events[d])};function H4(d){var f=d.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=Sr(d)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=Sr(d)+"px",f.scrollbarsClipped=!0)}function B4(d){if(d.hasFocus())return null;var f=Z();if(!f||!D(d.display.lineDiv,f))return null;var v={activeElt:f};if(window.getSelection){var m=window.getSelection();m.anchorNode&&m.extend&&D(d.display.lineDiv,m.anchorNode)&&(v.anchorNode=m.anchorNode,v.anchorOffset=m.anchorOffset,v.focusNode=m.focusNode,v.focusOffset=m.focusOffset)}return v}function U4(d){if(!(!d||!d.activeElt||d.activeElt==Z())&&(d.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(d.activeElt.nodeName)&&d.anchorNode&&D(document.body,d.anchorNode)&&D(document.body,d.focusNode))){var f=window.getSelection(),v=document.createRange();v.setEnd(d.anchorNode,d.anchorOffset),v.collapse(!1),f.removeAllRanges(),f.addRange(v),f.extend(d.focusNode,d.focusOffset)}}function _m(d,f){var v=d.display,m=d.doc;if(f.editorIsHidden)return ds(d),!1;if(!f.force&&f.visible.from>=v.viewFrom&&f.visible.to<=v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>=v.viewTo)&&v.renderedView==v.view&&O_(d)==0)return!1;N_(d)&&(ds(d),f.dims=dm(d));var C=m.first+m.size,S=Math.max(f.visible.from-d.options.viewportMargin,m.first),z=Math.min(C,f.visible.to+d.options.viewportMargin);v.viewFrom<S&&S-v.viewFrom<20&&(S=Math.max(m.first,v.viewFrom)),v.viewTo>z&&v.viewTo-z<20&&(z=Math.min(C,v.viewTo)),Ti&&(S=Pr(d.doc,S),z=Mr(d.doc,z));var U=S!=v.viewFrom||z!=v.viewTo||v.lastWrapHeight!=f.wrapperHeight||v.lastWrapWidth!=f.wrapperWidth;S4(d,S,z),v.viewOffset=wr(B(d.doc,v.viewFrom)),d.display.mover.style.top=v.viewOffset+"px";var $=O_(d);if(!U&&$==0&&!f.force&&v.renderedView==v.view&&(v.updateLineNumbers==null||v.updateLineNumbers>=v.viewTo))return!1;var Q=B4(d);return $>4&&(v.lineDiv.style.display="none"),G4(d,v.updateLineNumbers,f.dims),$>4&&(v.lineDiv.style.display=""),v.renderedView=v.view,U4(Q),H(v.cursorDiv),H(v.selectionDiv),v.gutters.style.height=v.sizer.style.minHeight=0,U&&(v.lastWrapHeight=f.wrapperHeight,v.lastWrapWidth=f.wrapperWidth,Fd(d,400)),v.updateLineNumbers=null,!0}function D_(d,f){for(var v=f.viewport,m=!0;;m=!1){if(!m||!d.options.lineWrapping||f.oldDisplayWidth==Ma(d)){if(v&&v.top!=null&&(v={top:Math.min(d.doc.height+nl(d.display)-X(d),v.top)}),f.visible=Vp(d.display,d.doc,v),f.visible.from>=d.display.viewFrom&&f.visible.to<=d.display.viewTo)break}else m&&(f.visible=Vp(d.display,d.doc,v));if(!_m(d,f))break;zp(d);var C=Nd(d);Id(d),ic(d,C),Cm(d,C),f.force=!1}f.signal(d,"update",d),(d.display.viewFrom!=d.display.reportedViewFrom||d.display.viewTo!=d.display.reportedViewTo)&&(f.signal(d,"viewportChange",d,d.display.viewFrom,d.display.viewTo),d.display.reportedViewFrom=d.display.viewFrom,d.display.reportedViewTo=d.display.viewTo)}function ym(d,f){var v=new Hp(d,f);if(_m(d,v)){zp(d),D_(d,v);var m=Nd(d);Id(d),ic(d,m),Cm(d,m),v.finish()}}function G4(d,f,v){var m=d.display,C=d.options.lineNumbers,S=m.lineDiv,z=S.firstChild;function U(ee){var ue=ee.nextSibling;return c&&T&&d.display.currentWheelTarget==ee?ee.style.display="none":ee.parentNode.removeChild(ee),ue}for(var $=m.view,Q=m.viewFrom,_t=0;_t<$.length;_t++){var Ot=$[_t];if(!Ot.hidden)if(!Ot.node||Ot.node.parentNode!=S){var Gt=kp(d,Ot,Q,v);S.insertBefore(Gt,z)}else{for(;z!=Ot.node;)z=U(z);var jt=C&&f!=null&&f<=Q&&Ot.lineNumber;Ot.changes&&(ft(Ot.changes,"gutter")>-1&&(jt=!1),Qo(d,Ot,Q,v)),jt&&(H(Ot.lineNumber),Ot.lineNumber.appendChild(document.createTextNode(Y(d.options,Q)))),z=Ot.node.nextSibling}Q+=Ot.size}for(;z;)z=U(z)}function bm(d){var f=d.gutters.offsetWidth;d.sizer.style.marginLeft=f+"px",ai(d,"gutterChanged",d)}function Cm(d,f){d.display.sizer.style.minHeight=f.docHeight+"px",d.display.heightForcer.style.top=f.docHeight+"px",d.display.gutters.style.height=f.docHeight+d.display.barHeight+Sr(d)+"px"}function L_(d){var f=d.display,v=f.view;if(!(!f.alignWidgets&&(!f.gutters.firstChild||!d.options.fixedGutter))){for(var m=um(f)-f.scroller.scrollLeft+d.doc.scrollLeft,C=f.gutters.offsetWidth,S=m+"px",z=0;z<v.length;z++)if(!v[z].hidden){d.options.fixedGutter&&(v[z].gutter&&(v[z].gutter.style.left=S),v[z].gutterBackground&&(v[z].gutterBackground.style.left=S));var U=v[z].alignable;if(U)for(var $=0;$<U.length;$++)U[$].style.left=S}d.options.fixedGutter&&(f.gutters.style.left=m+C+"px")}}function N_(d){if(!d.options.lineNumbers)return!1;var f=d.doc,v=Y(d.options,f.first+f.size-1),m=d.display;if(v.length!=m.lineNumChars){var C=m.measure.appendChild(W("div",[W("div",v)],"CodeMirror-linenumber CodeMirror-gutter-elt")),S=C.firstChild.offsetWidth,z=C.offsetWidth-S;return m.lineGutter.style.width="",m.lineNumInnerWidth=Math.max(S,m.lineGutter.offsetWidth-z)+1,m.lineNumWidth=m.lineNumInnerWidth+z,m.lineNumChars=m.lineNumInnerWidth?v.length:-1,m.lineGutter.style.width=m.lineNumWidth+"px",bm(d.display),!0}return!1}function xm(d,f){for(var v=[],m=!1,C=0;C<d.length;C++){var S=d[C],z=null;if(typeof S!="string"&&(z=S.style,S=S.className),S=="CodeMirror-linenumbers")if(f)m=!0;else continue;v.push({className:S,style:z})}return f&&!m&&v.push({className:"CodeMirror-linenumbers",style:null}),v}function R_(d){var f=d.gutters,v=d.gutterSpecs;H(f),d.lineGutter=null;for(var m=0;m<v.length;++m){var C=v[m],S=C.className,z=C.style,U=f.appendChild(W("div",null,"CodeMirror-gutter "+S));z&&(U.style.cssText=z),S=="CodeMirror-linenumbers"&&(d.lineGutter=U,U.style.width=(d.lineNumWidth||1)+"px")}f.style.display=v.length?"":"none",bm(d)}function zd(d){R_(d.display),ur(d),L_(d)}function W4(d,f,v,m){var C=this;this.input=v,C.scrollbarFiller=W("div",null,"CodeMirror-scrollbar-filler"),C.scrollbarFiller.setAttribute("cm-not-content","true"),C.gutterFiller=W("div",null,"CodeMirror-gutter-filler"),C.gutterFiller.setAttribute("cm-not-content","true"),C.lineDiv=q("div",null,"CodeMirror-code"),C.selectionDiv=W("div",null,null,"position: relative; z-index: 1"),C.cursorDiv=W("div",null,"CodeMirror-cursors"),C.measure=W("div",null,"CodeMirror-measure"),C.lineMeasure=W("div",null,"CodeMirror-measure"),C.lineSpace=q("div",[C.measure,C.lineMeasure,C.selectionDiv,C.cursorDiv,C.lineDiv],null,"position: relative; outline: none");var S=q("div",[C.lineSpace],"CodeMirror-lines");C.mover=W("div",[S],null,"position: relative"),C.sizer=W("div",[C.mover],"CodeMirror-sizer"),C.sizerWidth=null,C.heightForcer=W("div",null,null,"position: absolute; height: "+wt+"px; width: 1px;"),C.gutters=W("div",null,"CodeMirror-gutters"),C.lineGutter=null,C.scroller=W("div",[C.sizer,C.heightForcer,C.gutters],"CodeMirror-scroll"),C.scroller.setAttribute("tabIndex","-1"),C.wrapper=W("div",[C.scrollbarFiller,C.gutterFiller,C.scroller],"CodeMirror"),C.wrapper.setAttribute("translate","no"),s&&l<8&&(C.gutters.style.zIndex=-1,C.scroller.style.paddingRight=0),!c&&!(e&&w)&&(C.scroller.draggable=!0),d&&(d.appendChild?d.appendChild(C.wrapper):d(C.wrapper)),C.viewFrom=C.viewTo=f.first,C.reportedViewFrom=C.reportedViewTo=f.first,C.view=[],C.renderedView=null,C.externalMeasured=null,C.viewOffset=0,C.lastWrapHeight=C.lastWrapWidth=0,C.updateLineNumbers=null,C.nativeBarWidth=C.barHeight=C.barWidth=0,C.scrollbarsClipped=!1,C.lineNumWidth=C.lineNumInnerWidth=C.lineNumChars=null,C.alignWidgets=!1,C.cachedCharWidth=C.cachedTextHeight=C.cachedPaddingH=null,C.maxLine=null,C.maxLineLength=0,C.maxLineChanged=!1,C.wheelDX=C.wheelDY=C.wheelStartX=C.wheelStartY=null,C.shift=!1,C.selForContextMenu=null,C.activeTouch=null,C.gutterSpecs=xm(m.gutters,m.lineNumbers),R_(C),v.init(C)}var Bp=0,Zr=null;s?Zr=-.53:e?Zr=15:p?Zr=-.7:h&&(Zr=-.3333333333333333);function F_(d){var f=d.wheelDeltaX,v=d.wheelDeltaY;return f==null&&d.detail&&d.axis==d.HORIZONTAL_AXIS&&(f=d.detail),v==null&&d.detail&&d.axis==d.VERTICAL_AXIS?v=d.detail:v==null&&(v=d.wheelDelta),{x:f,y:v}}function K4(d){var f=F_(d);return f.x*=Zr,f.y*=Zr,f}function z_(d,f){var v=F_(f),m=v.x,C=v.y,S=d.display,z=S.scroller,U=z.scrollWidth>z.clientWidth,$=z.scrollHeight>z.clientHeight;if(m&&U||C&&$){if(C&&T&&c){t:for(var Q=f.target,_t=S.view;Q!=z;Q=Q.parentNode)for(var Ot=0;Ot<_t.length;Ot++)if(_t[Ot].node==Q){d.display.currentWheelTarget=Q;break t}}if(m&&!e&&!g&&Zr!=null){C&&$&&Ld(d,Math.max(0,z.scrollTop+C*Zr)),al(d,Math.max(0,z.scrollLeft+m*Zr)),(!C||C&&$)&&Ze(f),S.wheelStartX=null;return}if(C&&Zr!=null){var Gt=C*Zr,jt=d.doc.scrollTop,ee=jt+S.wrapper.clientHeight;Gt<0?jt=Math.max(0,jt+Gt-50):ee=Math.min(d.doc.height,ee+Gt+50),ym(d,{top:jt,bottom:ee})}Bp<20&&(S.wheelStartX==null?(S.wheelStartX=z.scrollLeft,S.wheelStartY=z.scrollTop,S.wheelDX=m,S.wheelDY=C,setTimeout(function(){if(S.wheelStartX!=null){var ue=z.scrollLeft-S.wheelStartX,ve=z.scrollTop-S.wheelStartY,we=ve&&S.wheelDY&&ve/S.wheelDY||ue&&S.wheelDX&&ue/S.wheelDX;S.wheelStartX=S.wheelStartY=null,we&&(Zr=(Zr*Bp+we)/(Bp+1),++Bp)}},200)):(S.wheelDX+=m,S.wheelDY+=C))}}var to=function(d,f){this.ranges=d,this.primIndex=f};to.prototype.primary=function(){return this.ranges[this.primIndex]},to.prototype.equals=function(d){if(d==this)return!0;if(d.primIndex!=this.primIndex||d.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var v=this.ranges[f],m=d.ranges[f];if(!Ln(v.anchor,m.anchor)||!Ln(v.head,m.head))return!1}return!0},to.prototype.deepCopy=function(){for(var d=[],f=0;f<this.ranges.length;f++)d[f]=new An(it(this.ranges[f].anchor),it(this.ranges[f].head));return new to(d,this.primIndex)},to.prototype.somethingSelected=function(){for(var d=0;d<this.ranges.length;d++)if(!this.ranges[d].empty())return!0;return!1},to.prototype.contains=function(d,f){f||(f=d);for(var v=0;v<this.ranges.length;v++){var m=this.ranges[v];if(Re(f,m.from())>=0&&Re(d,m.to())<=0)return v}return-1};var An=function(d,f){this.anchor=d,this.head=f};An.prototype.from=function(){return te(this.anchor,this.head)},An.prototype.to=function(){return bt(this.anchor,this.head)},An.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function jo(d,f,v){var m=d&&d.options.selectionsMayTouch,C=f[v];f.sort(function(Gt,jt){return Re(Gt.from(),jt.from())}),v=ft(f,C);for(var S=1;S<f.length;S++){var z=f[S],U=f[S-1],$=Re(U.to(),z.from());if(m&&!z.empty()?$>0:$>=0){var Q=te(U.from(),z.from()),_t=bt(U.to(),z.to()),Ot=U.empty()?z.from()==z.head:U.from()==U.head;S<=v&&--v,f.splice(--S,2,new An(Ot?_t:Q,Ot?Q:_t))}}return new to(f,v)}function us(d,f){return new to([new An(d,f||d)],0)}function ps(d){return d.text?Zt(d.from.line+d.text.length-1,Ct(d.text).length+(d.text.length==1?d.from.ch:0)):d.to}function V_(d,f){if(Re(d,f.from)<0)return d;if(Re(d,f.to)<=0)return ps(f);var v=d.line+f.text.length-(f.to.line-f.from.line)-1,m=d.ch;return d.line==f.to.line&&(m+=ps(f).ch-f.to.ch),Zt(v,m)}function Om(d,f){for(var v=[],m=0;m<d.sel.ranges.length;m++){var C=d.sel.ranges[m];v.push(new An(V_(C.anchor,f),V_(C.head,f)))}return jo(d.cm,v,d.sel.primIndex)}function j_(d,f,v){return d.line==f.line?Zt(v.line,d.ch-f.ch+v.ch):Zt(v.line+(d.line-f.line),d.ch)}function q4(d,f,v){for(var m=[],C=Zt(d.first,0),S=C,z=0;z<f.length;z++){var U=f[z],$=j_(U.from,C,S),Q=j_(ps(U),C,S);if(C=U.to,S=Q,v=="around"){var _t=d.sel.ranges[z],Ot=Re(_t.head,_t.anchor)<0;m[z]=new An(Ot?Q:$,Ot?$:Q)}else m[z]=new An($,$)}return new to(m,d.sel.primIndex)}function Pm(d){d.doc.mode=Be(d.options,d.doc.modeOption),Vd(d)}function Vd(d){d.doc.iter(function(f){f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null)}),d.doc.modeFrontier=d.doc.highlightFrontier=d.doc.first,Fd(d,100),d.state.modeGen++,d.curOp&&ur(d)}function H_(d,f){return f.from.ch==0&&f.to.ch==0&&Ct(f.text)==""&&(!d.cm||d.cm.options.wholeLineUpdateBefore)}function Mm(d,f,v,m){function C(ke){return v?v[ke]:null}function S(ke,Se,Ie){Cp(ke,Se,Ie,m),ai(ke,"change",ke,f)}function z(ke,Se){for(var Ie=[],qe=ke;qe<Se;++qe)Ie.push(new Li(Q[qe],C(qe),m));return Ie}var U=f.from,$=f.to,Q=f.text,_t=B(d,U.line),Ot=B(d,$.line),Gt=Ct(Q),jt=C(Q.length-1),ee=$.line-U.line;if(f.full)d.insert(0,z(0,Q.length)),d.remove(Q.length,d.size-Q.length);else if(H_(d,f)){var ue=z(0,Q.length-1);S(Ot,Ot.text,jt),ee&&d.remove(U.line,ee),ue.length&&d.insert(U.line,ue)}else if(_t==Ot)if(Q.length==1)S(_t,_t.text.slice(0,U.ch)+Gt+_t.text.slice($.ch),jt);else{var ve=z(1,Q.length-1);ve.push(new Li(Gt+_t.text.slice($.ch),jt,m)),S(_t,_t.text.slice(0,U.ch)+Q[0],C(0)),d.insert(U.line+1,ve)}else if(Q.length==1)S(_t,_t.text.slice(0,U.ch)+Q[0]+Ot.text.slice($.ch),C(0)),d.remove(U.line+1,ee);else{S(_t,_t.text.slice(0,U.ch)+Q[0],C(0)),S(Ot,Gt+Ot.text.slice($.ch),jt);var we=z(1,Q.length-1);ee>1&&d.remove(U.line+1,ee-1),d.insert(U.line+1,we)}ai(d,"change",d,f)}function fs(d,f,v){function m(C,S,z){if(C.linked)for(var U=0;U<C.linked.length;++U){var $=C.linked[U];if($.doc!=S){var Q=z&&$.sharedHist;v&&!Q||(f($.doc,Q),m($.doc,C,Q))}}}m(d,null,!0)}function B_(d,f){if(f.cm)throw new Error("This document is already in use.");d.doc=f,f.cm=d,pm(d),Pm(d),U_(d),d.options.direction=f.direction,d.options.lineWrapping||es(d),d.options.mode=f.modeOption,ur(d)}function U_(d){(d.doc.direction=="rtl"?nt:R)(d.display.lineDiv,"CodeMirror-rtl")}function $4(d){Tr(d,function(){U_(d),ur(d)})}function Up(d){this.done=[],this.undone=[],this.undoDepth=d?d.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=d?d.maxGeneration:1}function wm(d,f){var v={from:it(f.from),to:ps(f),text:gt(d,f.from,f.to)};return K_(d,v,f.from.line,f.to.line+1),fs(d,function(m){return K_(m,v,f.from.line,f.to.line+1)},!0),v}function G_(d){for(;d.length;){var f=Ct(d);if(f.ranges)d.pop();else break}}function Y4(d,f){if(f)return G_(d.done),Ct(d.done);if(d.done.length&&!Ct(d.done).ranges)return Ct(d.done);if(d.done.length>1&&!d.done[d.done.length-2].ranges)return d.done.pop(),Ct(d.done)}function W_(d,f,v,m){var C=d.history;C.undone.length=0;var S=+new Date,z,U;if((C.lastOp==m||C.lastOrigin==f.origin&&f.origin&&(f.origin.charAt(0)=="+"&&C.lastModTime>S-(d.cm?d.cm.options.historyEventDelay:500)||f.origin.charAt(0)=="*"))&&(z=Y4(C,C.lastOp==m)))U=Ct(z.changes),Re(f.from,f.to)==0&&Re(f.from,U.to)==0?U.to=ps(f):z.changes.push(wm(d,f));else{var $=Ct(C.done);for((!$||!$.ranges)&&Gp(d.sel,C.done),z={changes:[wm(d,f)],generation:C.generation},C.done.push(z);C.done.length>C.undoDepth;)C.done.shift(),C.done[0].ranges||C.done.shift()}C.done.push(v),C.generation=++C.maxGeneration,C.lastModTime=C.lastSelTime=S,C.lastOp=C.lastSelOp=m,C.lastOrigin=C.lastSelOrigin=f.origin,U||Pe(d,"historyAdded")}function X4(d,f,v,m){var C=f.charAt(0);return C=="*"||C=="+"&&v.ranges.length==m.ranges.length&&v.somethingSelected()==m.somethingSelected()&&new Date-d.history.lastSelTime<=(d.cm?d.cm.options.historyEventDelay:500)}function Q4(d,f,v,m){var C=d.history,S=m&&m.origin;v==C.lastSelOp||S&&C.lastSelOrigin==S&&(C.lastModTime==C.lastSelTime&&C.lastOrigin==S||X4(d,S,Ct(C.done),f))?C.done[C.done.length-1]=f:Gp(f,C.done),C.lastSelTime=+new Date,C.lastSelOrigin=S,C.lastSelOp=v,m&&m.clearRedo!==!1&&G_(C.undone)}function Gp(d,f){var v=Ct(f);v&&v.ranges&&v.equals(d)||f.push(d)}function K_(d,f,v,m){var C=f["spans_"+d.id],S=0;d.iter(Math.max(d.first,v),Math.min(d.first+d.size,m),function(z){z.markedSpans&&((C||(C=f["spans_"+d.id]={}))[S]=z.markedSpans),++S})}function J4(d){if(!d)return null;for(var f,v=0;v<d.length;++v)d[v].marker.explicitlyCleared?f||(f=d.slice(0,v)):f&&f.push(d[v]);return f?f.length?f:null:d}function Z4(d,f){var v=f["spans_"+d.id];if(!v)return null;for(var m=[],C=0;C<f.text.length;++C)m.push(J4(v[C]));return m}function q_(d,f){var v=Z4(d,f),m=Xr(d,f);if(!v)return m;if(!m)return v;for(var C=0;C<v.length;++C){var S=v[C],z=m[C];if(S&&z)t:for(var U=0;U<z.length;++U){for(var $=z[U],Q=0;Q<S.length;++Q)if(S[Q].marker==$.marker)continue t;S.push($)}else z&&(v[C]=z)}return v}function rc(d,f,v){for(var m=[],C=0;C<d.length;++C){var S=d[C];if(S.ranges){m.push(v?to.prototype.deepCopy.call(S):S);continue}var z=S.changes,U=[];m.push({changes:U});for(var $=0;$<z.length;++$){var Q=z[$],_t=void 0;if(U.push({from:Q.from,to:Q.to,text:Q.text}),f)for(var Ot in Q)(_t=Ot.match(/^spans_(\d+)$/))&&ft(f,Number(_t[1]))>-1&&(Ct(U)[Ot]=Q[Ot],delete Q[Ot])}}return m}function Sm(d,f,v,m){if(m){var C=d.anchor;if(v){var S=Re(f,C)<0;S!=Re(v,C)<0?(C=f,f=v):S!=Re(f,v)<0&&(f=v)}return new An(C,f)}else return new An(v||f,f)}function Wp(d,f,v,m,C){C==null&&(C=d.cm&&(d.cm.display.shift||d.extend)),tr(d,new to([Sm(d.sel.primary(),f,v,C)],0),m)}function $_(d,f,v){for(var m=[],C=d.cm&&(d.cm.display.shift||d.extend),S=0;S<d.sel.ranges.length;S++)m[S]=Sm(d.sel.ranges[S],f[S],null,C);var z=jo(d.cm,m,d.sel.primIndex);tr(d,z,v)}function Tm(d,f,v,m){var C=d.sel.ranges.slice(0);C[f]=v,tr(d,jo(d.cm,C,d.sel.primIndex),m)}function Y_(d,f,v,m){tr(d,us(f,v),m)}function t9(d,f,v){var m={ranges:f.ranges,update:function(C){this.ranges=[];for(var S=0;S<C.length;S++)this.ranges[S]=new An(ge(d,C[S].anchor),ge(d,C[S].head))},origin:v&&v.origin};return Pe(d,"beforeSelectionChange",d,m),d.cm&&Pe(d.cm,"beforeSelectionChange",d.cm,m),m.ranges!=f.ranges?jo(d.cm,m.ranges,m.ranges.length-1):f}function X_(d,f,v){var m=d.history.done,C=Ct(m);C&&C.ranges?(m[m.length-1]=f,Kp(d,f,v)):tr(d,f,v)}function tr(d,f,v){Kp(d,f,v),Q4(d,d.sel,d.cm?d.cm.curOp.id:NaN,v)}function Kp(d,f,v){(Qe(d,"beforeSelectionChange")||d.cm&&Qe(d.cm,"beforeSelectionChange"))&&(f=t9(d,f,v));var m=v&&v.bias||(Re(f.primary().head,d.sel.primary().head)<0?-1:1);Q_(d,Z_(d,f,m,!0)),!(v&&v.scroll===!1)&&d.cm&&d.cm.getOption("readOnly")!="nocursor"&&nc(d.cm)}function Q_(d,f){f.equals(d.sel)||(d.sel=f,d.cm&&(d.cm.curOp.updateInput=1,d.cm.curOp.selectionChanged=!0,Ae(d.cm)),ai(d,"cursorActivity",d))}function J_(d){Q_(d,Z_(d,d.sel,null,!1))}function Z_(d,f,v,m){for(var C,S=0;S<f.ranges.length;S++){var z=f.ranges[S],U=f.ranges.length==d.sel.ranges.length&&d.sel.ranges[S],$=qp(d,z.anchor,U&&U.anchor,v,m),Q=qp(d,z.head,U&&U.head,v,m);(C||$!=z.anchor||Q!=z.head)&&(C||(C=f.ranges.slice(0,S)),C[S]=new An($,Q))}return C?jo(d.cm,C,f.primIndex):f}function oc(d,f,v,m,C){var S=B(d,f.line);if(S.markedSpans)for(var z=0;z<S.markedSpans.length;++z){var U=S.markedSpans[z],$=U.marker,Q="selectLeft"in $?!$.selectLeft:$.inclusiveLeft,_t="selectRight"in $?!$.selectRight:$.inclusiveRight;if((U.from==null||(Q?U.from<=f.ch:U.from<f.ch))&&(U.to==null||(_t?U.to>=f.ch:U.to>f.ch))){if(C&&(Pe($,"beforeCursorEnter"),$.explicitlyCleared))if(S.markedSpans){--z;continue}else break;if(!$.atomic)continue;if(v){var Ot=$.find(m<0?1:-1),Gt=void 0;if((m<0?_t:Q)&&(Ot=ty(d,Ot,-m,Ot&&Ot.line==f.line?S:null)),Ot&&Ot.line==f.line&&(Gt=Re(Ot,v))&&(m<0?Gt<0:Gt>0))return oc(d,Ot,f,m,C)}var jt=$.find(m<0?-1:1);return(m<0?Q:_t)&&(jt=ty(d,jt,m,jt.line==f.line?S:null)),jt?oc(d,jt,f,m,C):null}}return f}function qp(d,f,v,m,C){var S=m||1,z=oc(d,f,v,S,C)||!C&&oc(d,f,v,S,!0)||oc(d,f,v,-S,C)||!C&&oc(d,f,v,-S,!0);return z||(d.cantEdit=!0,Zt(d.first,0))}function ty(d,f,v,m){return v<0&&f.ch==0?f.line>d.first?ge(d,Zt(f.line-1)):null:v>0&&f.ch==(m||B(d,f.line)).text.length?f.line<d.first+d.size-1?Zt(f.line+1,0):null:new Zt(f.line,f.ch+v)}function ey(d){d.setSelection(Zt(d.firstLine(),0),Zt(d.lastLine()),zt)}function ny(d,f,v){var m={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){return m.canceled=!0}};return v&&(m.update=function(C,S,z,U){C&&(m.from=ge(d,C)),S&&(m.to=ge(d,S)),z&&(m.text=z),U!==void 0&&(m.origin=U)}),Pe(d,"beforeChange",d,m),d.cm&&Pe(d.cm,"beforeChange",d.cm,m),m.canceled?(d.cm&&(d.cm.curOp.updateInput=2),null):{from:m.from,to:m.to,text:m.text,origin:m.origin}}function ac(d,f,v){if(d.cm){if(!d.cm.curOp)return Ni(d.cm,ac)(d,f,v);if(d.cm.state.suppressEdits)return}if(!((Qe(d,"beforeChange")||d.cm&&Qe(d.cm,"beforeChange"))&&(f=ny(d,f,!0),!f))){var m=vi&&!v&&ts(d,f.from,f.to);if(m)for(var C=m.length-1;C>=0;--C)iy(d,{from:m[C].from,to:m[C].to,text:C?[""]:f.text,origin:f.origin});else iy(d,f)}}function iy(d,f){if(!(f.text.length==1&&f.text[0]==""&&Re(f.from,f.to)==0)){var v=Om(d,f);W_(d,f,v,d.cm?d.cm.curOp.id:NaN),jd(d,f,v,Xr(d,f));var m=[];fs(d,function(C,S){!S&&ft(m,C.history)==-1&&(sy(C.history,f),m.push(C.history)),jd(C,f,null,Xr(C,f))})}}function $p(d,f,v){var m=d.cm&&d.cm.state.suppressEdits;if(!(m&&!v)){for(var C=d.history,S,z=d.sel,U=f=="undo"?C.done:C.undone,$=f=="undo"?C.undone:C.done,Q=0;Q<U.length&&(S=U[Q],!(v?S.ranges&&!S.equals(d.sel):!S.ranges));Q++);if(Q!=U.length){for(C.lastOrigin=C.lastSelOrigin=null;;)if(S=U.pop(),S.ranges){if(Gp(S,$),v&&!S.equals(d.sel)){tr(d,S,{clearRedo:!1});return}z=S}else if(m){U.push(S);return}else break;var _t=[];Gp(z,$),$.push({changes:_t,generation:C.generation}),C.generation=S.generation||++C.maxGeneration;for(var Ot=Qe(d,"beforeChange")||d.cm&&Qe(d.cm,"beforeChange"),Gt=function(ue){var ve=S.changes[ue];if(ve.origin=f,Ot&&!ny(d,ve,!1))return U.length=0,{};_t.push(wm(d,ve));var we=ue?Om(d,ve):Ct(U);jd(d,ve,we,q_(d,ve)),!ue&&d.cm&&d.cm.scrollIntoView({from:ve.from,to:ps(ve)});var ke=[];fs(d,function(Se,Ie){!Ie&&ft(ke,Se.history)==-1&&(sy(Se.history,ve),ke.push(Se.history)),jd(Se,ve,null,q_(Se,ve))})},jt=S.changes.length-1;jt>=0;--jt){var ee=Gt(jt);if(ee)return ee.v}}}}function ry(d,f){if(f!=0&&(d.first+=f,d.sel=new to(ae(d.sel.ranges,function(C){return new An(Zt(C.anchor.line+f,C.anchor.ch),Zt(C.head.line+f,C.head.ch))}),d.sel.primIndex),d.cm)){ur(d.cm,d.first,d.first-f,f);for(var v=d.cm.display,m=v.viewFrom;m<v.viewTo;m++)cs(d.cm,m,"gutter")}}function jd(d,f,v,m){if(d.cm&&!d.cm.curOp)return Ni(d.cm,jd)(d,f,v,m);if(f.to.line<d.first){ry(d,f.text.length-1-(f.to.line-f.from.line));return}if(!(f.from.line>d.lastLine())){if(f.from.line<d.first){var C=f.text.length-1-(d.first-f.from.line);ry(d,C),f={from:Zt(d.first,0),to:Zt(f.to.line+C,f.to.ch),text:[Ct(f.text)],origin:f.origin}}var S=d.lastLine();f.to.line>S&&(f={from:f.from,to:Zt(S,B(d,S).text.length),text:[f.text[0]],origin:f.origin}),f.removed=gt(d,f.from,f.to),v||(v=Om(d,f)),d.cm?e9(d.cm,f,m):Mm(d,f,m),Kp(d,v,zt),d.cantEdit&&qp(d,Zt(d.firstLine(),0))&&(d.cantEdit=!1)}}function e9(d,f,v){var m=d.doc,C=d.display,S=f.from,z=f.to,U=!1,$=S.line;d.options.lineWrapping||($=je(tn(B(m,S.line))),m.iter($,z.line+1,function(jt){if(jt==C.maxLine)return U=!0,!0})),m.sel.contains(f.from,f.to)>-1&&Ae(d),Mm(m,f,v,x_(d)),d.options.lineWrapping||(m.iter($,S.line+f.text.length,function(jt){var ee=zo(jt);ee>C.maxLineLength&&(C.maxLine=jt,C.maxLineLength=ee,C.maxLineChanged=!0,U=!1)}),U&&(d.curOp.updateMaxLine=!0)),ba(m,S.line),Fd(d,400);var Q=f.text.length-(z.line-S.line)-1;f.full?ur(d):S.line==z.line&&f.text.length==1&&!H_(d.doc,f)?cs(d,S.line,"text"):ur(d,S.line,z.line+1,Q);var _t=Qe(d,"changes"),Ot=Qe(d,"change");if(Ot||_t){var Gt={from:S,to:z,text:f.text,removed:f.removed,origin:f.origin};Ot&&ai(d,"change",d,Gt),_t&&(d.curOp.changeObjs||(d.curOp.changeObjs=[])).push(Gt)}d.display.selForContextMenu=null}function sc(d,f,v,m,C){var S;m||(m=v),Re(m,v)<0&&(S=[m,v],v=S[0],m=S[1]),typeof f=="string"&&(f=d.splitLines(f)),ac(d,{from:v,to:m,text:f,origin:C})}function oy(d,f,v,m){v<d.line?d.line+=m:f<d.line&&(d.line=f,d.ch=0)}function ay(d,f,v,m){for(var C=0;C<d.length;++C){var S=d[C],z=!0;if(S.ranges){S.copied||(S=d[C]=S.deepCopy(),S.copied=!0);for(var U=0;U<S.ranges.length;U++)oy(S.ranges[U].anchor,f,v,m),oy(S.ranges[U].head,f,v,m);continue}for(var $=0;$<S.changes.length;++$){var Q=S.changes[$];if(v<Q.from.line)Q.from=Zt(Q.from.line+m,Q.from.ch),Q.to=Zt(Q.to.line+m,Q.to.ch);else if(f<=Q.to.line){z=!1;break}}z||(d.splice(0,C+1),C=0)}}function sy(d,f){var v=f.from.line,m=f.to.line,C=f.text.length-(m-v)-1;ay(d.done,v,m,C),ay(d.undone,v,m,C)}function Hd(d,f,v,m){var C=f,S=f;return typeof f=="number"?S=B(d,pe(d,f)):C=je(f),C==null?null:(m(S,C)&&d.cm&&cs(d.cm,C,v),S)}function Bd(d){this.lines=d,this.parent=null;for(var f=0,v=0;v<d.length;++v)d[v].parent=this,f+=d[v].height;this.height=f}Bd.prototype={chunkSize:function(){return this.lines.length},removeInner:function(d,f){for(var v=d,m=d+f;v<m;++v){var C=this.lines[v];this.height-=C.height,$l(C),ai(C,"delete")}this.lines.splice(d,f)},collapse:function(d){d.push.apply(d,this.lines)},insertInner:function(d,f,v){this.height+=v,this.lines=this.lines.slice(0,d).concat(f).concat(this.lines.slice(d));for(var m=0;m<f.length;++m)f[m].parent=this},iterN:function(d,f,v){for(var m=d+f;d<m;++d)if(v(this.lines[d]))return!0}};function Ud(d){this.children=d;for(var f=0,v=0,m=0;m<d.length;++m){var C=d[m];f+=C.chunkSize(),v+=C.height,C.parent=this}this.size=f,this.height=v,this.parent=null}Ud.prototype={chunkSize:function(){return this.size},removeInner:function(d,f){this.size-=f;for(var v=0;v<this.children.length;++v){var m=this.children[v],C=m.chunkSize();if(d<C){var S=Math.min(f,C-d),z=m.height;if(m.removeInner(d,S),this.height-=z-m.height,C==S&&(this.children.splice(v--,1),m.parent=null),(f-=S)==0)break;d=0}else d-=C}if(this.size-f<25&&(this.children.length>1||!(this.children[0]instanceof Bd))){var U=[];this.collapse(U),this.children=[new Bd(U)],this.children[0].parent=this}},collapse:function(d){for(var f=0;f<this.children.length;++f)this.children[f].collapse(d)},insertInner:function(d,f,v){this.size+=f.length,this.height+=v;for(var m=0;m<this.children.length;++m){var C=this.children[m],S=C.chunkSize();if(d<=S){if(C.insertInner(d,f,v),C.lines&&C.lines.length>50){for(var z=C.lines.length%25+25,U=z;U<C.lines.length;){var $=new Bd(C.lines.slice(U,U+=25));C.height-=$.height,this.children.splice(++m,0,$),$.parent=this}C.lines=C.lines.slice(0,z),this.maybeSpill()}break}d-=S}},maybeSpill:function(){if(!(this.children.length<=10)){var d=this;do{var f=d.children.splice(d.children.length-5,5),v=new Ud(f);if(d.parent){d.size-=v.size,d.height-=v.height;var C=ft(d.parent.children,d);d.parent.children.splice(C+1,0,v)}else{var m=new Ud(d.children);m.parent=d,d.children=[m,v],d=m}v.parent=d.parent}while(d.children.length>10);d.parent.maybeSpill()}},iterN:function(d,f,v){for(var m=0;m<this.children.length;++m){var C=this.children[m],S=C.chunkSize();if(d<S){var z=Math.min(f,S-d);if(C.iterN(d,z,v))return!0;if((f-=z)==0)break;d=0}else d-=S}}};var Gd=function(d,f,v){if(v)for(var m in v)v.hasOwnProperty(m)&&(this[m]=v[m]);this.doc=d,this.node=f};Gd.prototype.clear=function(){var d=this.doc.cm,f=this.line.widgets,v=this.line,m=je(v);if(!(m==null||!f)){for(var C=0;C<f.length;++C)f[C]==this&&f.splice(C--,1);f.length||(v.widgets=null);var S=ss(this);Ee(v,Math.max(0,v.height-S)),d&&(Tr(d,function(){ly(d,v,-S),cs(d,m,"widget")}),ai(d,"lineWidgetCleared",d,this,m))}},Gd.prototype.changed=function(){var d=this,f=this.height,v=this.doc.cm,m=this.line;this.height=null;var C=ss(this)-f;C&&(Di(this.doc,m)||Ee(m,m.height+C),v&&Tr(v,function(){v.curOp.forceUpdate=!0,ly(v,m,C),ai(v,"lineWidgetChanged",v,d,je(m))}))},Xe(Gd);function ly(d,f,v){wr(f)<(d.curOp&&d.curOp.scrollTop||d.doc.scrollTop)&&vm(d,v)}function n9(d,f,v,m){var C=new Gd(d,v,m),S=d.cm;return S&&C.noHScroll&&(S.display.alignWidgets=!0),Hd(d,f,"widget",function(z){var U=z.widgets||(z.widgets=[]);if(C.insertAt==null?U.push(C):U.splice(Math.min(U.length,Math.max(0,C.insertAt)),0,C),C.line=z,S&&!Di(d,z)){var $=wr(z)<d.scrollTop;Ee(z,z.height+ss(C)),$&&vm(S,C.height),S.curOp.forceUpdate=!0}return!0}),S&&ai(S,"lineWidgetAdded",S,C,typeof f=="number"?f:je(f)),C}var cy=0,gs=function(d,f){this.lines=[],this.type=f,this.doc=d,this.id=++cy};gs.prototype.clear=function(){if(!this.explicitlyCleared){var d=this.doc.cm,f=d&&!d.curOp;if(f&&ll(d),Qe(this,"clear")){var v=this.find();v&&ai(this,"clear",v.from,v.to)}for(var m=null,C=null,S=0;S<this.lines.length;++S){var z=this.lines[S],U=Ji(z.markedSpans,this);d&&!this.collapsed?cs(d,je(z),"text"):d&&(U.to!=null&&(C=je(z)),U.from!=null&&(m=je(z))),z.markedSpans=tl(z.markedSpans,U),U.from==null&&this.collapsed&&!Di(this.doc,z)&&d&&Ee(z,Zl(d.display))}if(d&&this.collapsed&&!d.options.lineWrapping)for(var $=0;$<this.lines.length;++$){var Q=tn(this.lines[$]),_t=zo(Q);_t>d.display.maxLineLength&&(d.display.maxLine=Q,d.display.maxLineLength=_t,d.display.maxLineChanged=!0)}m!=null&&d&&this.collapsed&&ur(d,m,C+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,d&&J_(d.doc)),d&&ai(d,"markerCleared",d,this,m,C),f&&cl(d),this.parent&&this.parent.clear()}},gs.prototype.find=function(d,f){d==null&&this.type=="bookmark"&&(d=1);for(var v,m,C=0;C<this.lines.length;++C){var S=this.lines[C],z=Ji(S.markedSpans,this);if(z.from!=null&&(v=Zt(f?S:je(S),z.from),d==-1))return v;if(z.to!=null&&(m=Zt(f?S:je(S),z.to),d==1))return m}return v&&{from:v,to:m}},gs.prototype.changed=function(){var d=this,f=this.find(-1,!0),v=this,m=this.doc.cm;!f||!m||Tr(m,function(){var C=f.line,S=je(f.line),z=Ut(m,S);if(z&&(kd(z),m.curOp.selectionChanged=m.curOp.forceUpdate=!0),m.curOp.updateMaxLine=!0,!Di(v.doc,C)&&v.height!=null){var U=v.height;v.height=null;var $=ss(v)-U;$&&Ee(C,C.height+$)}ai(m,"markerChanged",m,d)})},gs.prototype.attachLine=function(d){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(!f.maybeHiddenMarkers||ft(f.maybeHiddenMarkers,this)==-1)&&(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(d)},gs.prototype.detachLine=function(d){if(this.lines.splice(ft(this.lines,d),1),!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(f.maybeHiddenMarkers||(f.maybeHiddenMarkers=[])).push(this)}},Xe(gs);function lc(d,f,v,m,C){if(m&&m.shared)return i9(d,f,v,m,C);if(d.cm&&!d.cm.curOp)return Ni(d.cm,lc)(d,f,v,m,C);var S=new gs(d,C),z=Re(f,v);if(m&&Pt(m,S,!1),z>0||z==0&&S.clearWhenEmpty!==!1)return S;if(S.replacedWith&&(S.collapsed=!0,S.widgetNode=q("span",[S.replacedWith],"CodeMirror-widget"),m.handleMouseEvents||S.widgetNode.setAttribute("cm-ignore-events","true"),m.insertLeft&&(S.widgetNode.insertLeft=!0)),S.collapsed){if(Ue(d,f.line,f,v,S)||f.line!=v.line&&Ue(d,v.line,f,v,S))throw new Error("Inserting collapsed marker partially overlapping an existing one");Zs()}S.addToHistory&&W_(d,{from:f,to:v,origin:"markText"},d.sel,NaN);var U=f.line,$=d.cm,Q;if(d.iter(U,v.line+1,function(Ot){$&&S.collapsed&&!$.options.lineWrapping&&tn(Ot)==$.display.maxLine&&(Q=!0),S.collapsed&&U!=f.line&&Ee(Ot,0),ho(Ot,new Ro(S,U==f.line?f.ch:null,U==v.line?v.ch:null),d.cm&&d.cm.curOp),++U}),S.collapsed&&d.iter(f.line,v.line+1,function(Ot){Di(d,Ot)&&Ee(Ot,0)}),S.clearOnEnter&&Ht(S,"beforeCursorEnter",function(){return S.clear()}),S.readOnly&&(Ja(),(d.history.done.length||d.history.undone.length)&&d.clearHistory()),S.collapsed&&(S.id=++cy,S.atomic=!0),$){if(Q&&($.curOp.updateMaxLine=!0),S.collapsed)ur($,f.line,v.line+1);else if(S.className||S.startStyle||S.endStyle||S.css||S.attributes||S.title)for(var _t=f.line;_t<=v.line;_t++)cs($,_t,"text");S.atomic&&J_($.doc),ai($,"markerAdded",$,S)}return S}var Wd=function(d,f){this.markers=d,this.primary=f;for(var v=0;v<d.length;++v)d[v].parent=this};Wd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var d=0;d<this.markers.length;++d)this.markers[d].clear();ai(this,"clear")}},Wd.prototype.find=function(d,f){return this.primary.find(d,f)},Xe(Wd);function i9(d,f,v,m,C){m=Pt(m),m.shared=!1;var S=[lc(d,f,v,m,C)],z=S[0],U=m.widgetNode;return fs(d,function($){U&&(m.widgetNode=U.cloneNode(!0)),S.push(lc($,ge($,f),ge($,v),m,C));for(var Q=0;Q<$.linked.length;++Q)if($.linked[Q].isParent)return;z=Ct(S)}),new Wd(S,z)}function dy(d){return d.findMarks(Zt(d.first,0),d.clipPos(Zt(d.lastLine())),function(f){return f.parent})}function r9(d,f){for(var v=0;v<f.length;v++){var m=f[v],C=m.find(),S=d.clipPos(C.from),z=d.clipPos(C.to);if(Re(S,z)){var U=lc(d,S,z,m.primary,m.primary.type);m.markers.push(U),U.parent=m}}}function o9(d){for(var f=function(m){var C=d[m],S=[C.primary.doc];fs(C.primary.doc,function($){return S.push($)});for(var z=0;z<C.markers.length;z++){var U=C.markers[z];ft(S,U.doc)==-1&&(U.parent=null,C.markers.splice(z--,1))}},v=0;v<d.length;v++)f(v)}var a9=0,pr=function(d,f,v,m,C){if(!(this instanceof pr))return new pr(d,f,v,m,C);v==null&&(v=0),Ud.call(this,[new Bd([new Li("",null)])]),this.first=v,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=v;var S=Zt(v,0);this.sel=us(S),this.history=new Up(null),this.id=++a9,this.modeOption=f,this.lineSep=m,this.direction=C=="rtl"?"rtl":"ltr",this.extend=!1,typeof d=="string"&&(d=this.splitLines(d)),Mm(this,{from:S,to:S,text:d}),tr(this,us(S),zt)};pr.prototype=K(Ud.prototype,{constructor:pr,iter:function(d,f,v){v?this.iterN(d-this.first,f-d,v):this.iterN(this.first,this.first+this.size,d)},insert:function(d,f){for(var v=0,m=0;m<f.length;++m)v+=f[m].height;this.insertInner(d-this.first,f,v)},remove:function(d,f){this.removeInner(d-this.first,f)},getValue:function(d){var f=Yt(this,this.first,this.first+this.size);return d===!1?f:f.join(d||this.lineSeparator())},setValue:Ri(function(d){var f=Zt(this.first,0),v=this.first+this.size-1;ac(this,{from:f,to:Zt(v,B(this,v).text.length),text:this.splitLines(d),origin:"setValue",full:!0},!0),this.cm&&Dd(this.cm,0,0),tr(this,us(f),zt)}),replaceRange:function(d,f,v,m){f=ge(this,f),v=v?ge(this,v):f,sc(this,d,f,v,m)},getRange:function(d,f,v){var m=gt(this,ge(this,d),ge(this,f));return v===!1?m:v===""?m.join(""):m.join(v||this.lineSeparator())},getLine:function(d){var f=this.getLineHandle(d);return f&&f.text},getLineHandle:function(d){if(ze(this,d))return B(this,d)},getLineNumber:function(d){return je(d)},getLineHandleVisualStart:function(d){return typeof d=="number"&&(d=B(this,d)),tn(d)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(d){return ge(this,d)},getCursor:function(d){var f=this.sel.primary(),v;return d==null||d=="head"?v=f.head:d=="anchor"?v=f.anchor:d=="end"||d=="to"||d===!1?v=f.to():v=f.from(),v},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ri(function(d,f,v){Y_(this,ge(this,typeof d=="number"?Zt(d,f||0):d),null,v)}),setSelection:Ri(function(d,f,v){Y_(this,ge(this,d),ge(this,f||d),v)}),extendSelection:Ri(function(d,f,v){Wp(this,ge(this,d),f&&ge(this,f),v)}),extendSelections:Ri(function(d,f){$_(this,dn(this,d),f)}),extendSelectionsBy:Ri(function(d,f){var v=ae(this.sel.ranges,d);$_(this,dn(this,v),f)}),setSelections:Ri(function(d,f,v){if(d.length){for(var m=[],C=0;C<d.length;C++)m[C]=new An(ge(this,d[C].anchor),ge(this,d[C].head||d[C].anchor));f==null&&(f=Math.min(d.length-1,this.sel.primIndex)),tr(this,jo(this.cm,m,f),v)}}),addSelection:Ri(function(d,f,v){var m=this.sel.ranges.slice(0);m.push(new An(ge(this,d),ge(this,f||d))),tr(this,jo(this.cm,m,m.length-1),v)}),getSelection:function(d){for(var f=this.sel.ranges,v,m=0;m<f.length;m++){var C=gt(this,f[m].from(),f[m].to());v=v?v.concat(C):C}return d===!1?v:v.join(d||this.lineSeparator())},getSelections:function(d){for(var f=[],v=this.sel.ranges,m=0;m<v.length;m++){var C=gt(this,v[m].from(),v[m].to());d!==!1&&(C=C.join(d||this.lineSeparator())),f[m]=C}return f},replaceSelection:function(d,f,v){for(var m=[],C=0;C<this.sel.ranges.length;C++)m[C]=d;this.replaceSelections(m,f,v||"+input")},replaceSelections:Ri(function(d,f,v){for(var m=[],C=this.sel,S=0;S<C.ranges.length;S++){var z=C.ranges[S];m[S]={from:z.from(),to:z.to(),text:this.splitLines(d[S]),origin:v}}for(var U=f&&f!="end"&&q4(this,m,f),$=m.length-1;$>=0;$--)ac(this,m[$]);U?X_(this,U):this.cm&&nc(this.cm)}),undo:Ri(function(){$p(this,"undo")}),redo:Ri(function(){$p(this,"redo")}),undoSelection:Ri(function(){$p(this,"undo",!0)}),redoSelection:Ri(function(){$p(this,"redo",!0)}),setExtending:function(d){this.extend=d},getExtending:function(){return this.extend},historySize:function(){for(var d=this.history,f=0,v=0,m=0;m<d.done.length;m++)d.done[m].ranges||++f;for(var C=0;C<d.undone.length;C++)d.undone[C].ranges||++v;return{undo:f,redo:v}},clearHistory:function(){var d=this;this.history=new Up(this.history),fs(this,function(f){return f.history=d.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(d){return d&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(d){return this.history.generation==(d||this.cleanGeneration)},getHistory:function(){return{done:rc(this.history.done),undone:rc(this.history.undone)}},setHistory:function(d){var f=this.history=new Up(this.history);f.done=rc(d.done.slice(0),null,!0),f.undone=rc(d.undone.slice(0),null,!0)},setGutterMarker:Ri(function(d,f,v){return Hd(this,d,"gutter",function(m){var C=m.gutterMarkers||(m.gutterMarkers={});return C[f]=v,!v&&Qt(C)&&(m.gutterMarkers=null),!0})}),clearGutter:Ri(function(d){var f=this;this.iter(function(v){v.gutterMarkers&&v.gutterMarkers[d]&&Hd(f,v,"gutter",function(){return v.gutterMarkers[d]=null,Qt(v.gutterMarkers)&&(v.gutterMarkers=null),!0})})}),lineInfo:function(d){var f;if(typeof d=="number"){if(!ze(this,d)||(f=d,d=B(this,d),!d))return null}else if(f=je(d),f==null)return null;return{line:f,handle:d,text:d.text,gutterMarkers:d.gutterMarkers,textClass:d.textClass,bgClass:d.bgClass,wrapClass:d.wrapClass,widgets:d.widgets}},addLineClass:Ri(function(d,f,v){return Hd(this,d,f=="gutter"?"gutter":"class",function(m){var C=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass";if(!m[C])m[C]=v;else{if(V(v).test(m[C]))return!1;m[C]+=" "+v}return!0})}),removeLineClass:Ri(function(d,f,v){return Hd(this,d,f=="gutter"?"gutter":"class",function(m){var C=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass",S=m[C];if(S)if(v==null)m[C]=null;else{var z=S.match(V(v));if(!z)return!1;var U=z.index+z[0].length;m[C]=S.slice(0,z.index)+(!z.index||U==S.length?"":" ")+S.slice(U)||null}else return!1;return!0})}),addLineWidget:Ri(function(d,f,v){return n9(this,d,f,v)}),removeLineWidget:function(d){d.clear()},markText:function(d,f,v){return lc(this,ge(this,d),ge(this,f),v,v&&v.type||"range")},setBookmark:function(d,f){var v={replacedWith:f&&(f.nodeType==null?f.widget:f),insertLeft:f&&f.insertLeft,clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};return d=ge(this,d),lc(this,d,d,v,"bookmark")},findMarksAt:function(d){d=ge(this,d);var f=[],v=B(this,d.line).markedSpans;if(v)for(var m=0;m<v.length;++m){var C=v[m];(C.from==null||C.from<=d.ch)&&(C.to==null||C.to>=d.ch)&&f.push(C.marker.parent||C.marker)}return f},findMarks:function(d,f,v){d=ge(this,d),f=ge(this,f);var m=[],C=d.line;return this.iter(d.line,f.line+1,function(S){var z=S.markedSpans;if(z)for(var U=0;U<z.length;U++){var $=z[U];!($.to!=null&&C==d.line&&d.ch>=$.to||$.from==null&&C!=d.line||$.from!=null&&C==f.line&&$.from>=f.ch)&&(!v||v($.marker))&&m.push($.marker.parent||$.marker)}++C}),m},getAllMarks:function(){var d=[];return this.iter(function(f){var v=f.markedSpans;if(v)for(var m=0;m<v.length;++m)v[m].from!=null&&d.push(v[m].marker)}),d},posFromIndex:function(d){var f,v=this.first,m=this.lineSeparator().length;return this.iter(function(C){var S=C.text.length+m;if(S>d)return f=d,!0;d-=S,++v}),ge(this,Zt(v,f))},indexFromPos:function(d){d=ge(this,d);var f=d.ch;if(d.line<this.first||d.ch<0)return 0;var v=this.lineSeparator().length;return this.iter(this.first,d.line,function(m){f+=m.text.length+v}),f},copy:function(d){var f=new pr(Yt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return f.scrollTop=this.scrollTop,f.scrollLeft=this.scrollLeft,f.sel=this.sel,f.extend=!1,d&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory())),f},linkedDoc:function(d){d||(d={});var f=this.first,v=this.first+this.size;d.from!=null&&d.from>f&&(f=d.from),d.to!=null&&d.to<v&&(v=d.to);var m=new pr(Yt(this,f,v),d.mode||this.modeOption,f,this.lineSep,this.direction);return d.sharedHist&&(m.history=this.history),(this.linked||(this.linked=[])).push({doc:m,sharedHist:d.sharedHist}),m.linked=[{doc:this,isParent:!0,sharedHist:d.sharedHist}],r9(m,dy(this)),m},unlinkDoc:function(d){if(d instanceof Qn&&(d=d.doc),this.linked)for(var f=0;f<this.linked.length;++f){var v=this.linked[f];if(v.doc==d){this.linked.splice(f,1),d.unlinkDoc(this),o9(dy(this));break}}if(d.history==this.history){var m=[d.id];fs(d,function(C){return m.push(C.id)},!0),d.history=new Up(null),d.history.done=rc(this.history.done,m),d.history.undone=rc(this.history.undone,m)}},iterLinkedDocs:function(d){fs(this,d)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(d){return this.lineSep?d.split(this.lineSep):On(d)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Ri(function(d){d!="rtl"&&(d="ltr"),d!=this.direction&&(this.direction=d,this.iter(function(f){return f.order=null}),this.cm&&$4(this.cm))})}),pr.prototype.eachLine=pr.prototype.iter;var uy=0;function s9(d){var f=this;if(py(f),!(_e(f,d)||vo(f.display,d))){Ze(d),s&&(uy=+new Date);var v=rl(f,d,!0),m=d.dataTransfer.files;if(!(!v||f.isReadOnly()))if(m&&m.length&&window.FileReader&&window.File)for(var C=m.length,S=Array(C),z=0,U=function(){++z==C&&Ni(f,function(){v=ge(f.doc,v);var jt={from:v,to:v,text:f.doc.splitLines(S.filter(function(ee){return ee!=null}).join(f.doc.lineSeparator())),origin:"paste"};ac(f.doc,jt),X_(f.doc,us(ge(f.doc,v),ge(f.doc,ps(jt))))})()},$=function(jt,ee){if(f.options.allowDropFileTypes&&ft(f.options.allowDropFileTypes,jt.type)==-1){U();return}var ue=new FileReader;ue.onerror=function(){return U()},ue.onload=function(){var ve=ue.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ve)){U();return}S[ee]=ve,U()},ue.readAsText(jt)},Q=0;Q<m.length;Q++)$(m[Q],Q);else{if(f.state.draggingText&&f.doc.sel.contains(v)>-1){f.state.draggingText(d),setTimeout(function(){return f.display.input.focus()},20);return}try{var _t=d.dataTransfer.getData("Text");if(_t){var Ot;if(f.state.draggingText&&!f.state.draggingText.copy&&(Ot=f.listSelections()),Kp(f.doc,us(v,v)),Ot)for(var Gt=0;Gt<Ot.length;++Gt)sc(f.doc,"",Ot[Gt].anchor,Ot[Gt].head,"drag");f.replaceSelection(_t,"around","paste"),f.display.input.focus()}}catch{}}}}function l9(d,f){if(s&&(!d.state.draggingText||+new Date-uy<100)){dt(f);return}if(!(_e(d,f)||vo(d.display,f))&&(f.dataTransfer.setData("Text",d.getSelection()),f.dataTransfer.effectAllowed="copyMove",f.dataTransfer.setDragImage&&!h)){var v=W("img",null,null,"position: fixed; left: 0; top: 0;");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",g&&(v.width=v.height=1,d.display.wrapper.appendChild(v),v._top=v.offsetTop),f.dataTransfer.setDragImage(v,0,0),g&&v.parentNode.removeChild(v)}}function c9(d,f){var v=rl(d,f);if(v){var m=document.createDocumentFragment();M_(d,v,m),d.display.dragCursor||(d.display.dragCursor=W("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),d.display.lineSpace.insertBefore(d.display.dragCursor,d.display.cursorDiv)),L(d.display.dragCursor,m)}}function py(d){d.display.dragCursor&&(d.display.lineSpace.removeChild(d.display.dragCursor),d.display.dragCursor=null)}function fy(d){if(document.getElementsByClassName){for(var f=document.getElementsByClassName("CodeMirror"),v=[],m=0;m<f.length;m++){var C=f[m].CodeMirror;C&&v.push(C)}v.length&&v[0].operation(function(){for(var S=0;S<v.length;S++)d(v[S])})}}var gy=!1;function d9(){gy||(u9(),gy=!0)}function u9(){var d;Ht(window,"resize",function(){d==null&&(d=setTimeout(function(){d=null,fy(p9)},100))}),Ht(window,"blur",function(){return fy(ec)})}function p9(d){var f=d.display;f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.scrollbarsClipped=!1,d.setSize()}for(var hs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Kd=0;Kd<10;Kd++)hs[Kd+48]=hs[Kd+96]=String(Kd);for(var Yp=65;Yp<=90;Yp++)hs[Yp]=String.fromCharCode(Yp);for(var qd=1;qd<=12;qd++)hs[qd+111]=hs[qd+63235]="F"+qd;var wa={};wa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},wa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},wa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},wa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},wa.default=T?wa.macDefault:wa.pcDefault;function f9(d){var f=d.split(/-(?!$)/);d=f[f.length-1];for(var v,m,C,S,z=0;z<f.length-1;z++){var U=f[z];if(/^(cmd|meta|m)$/i.test(U))S=!0;else if(/^a(lt)?$/i.test(U))v=!0;else if(/^(c|ctrl|control)$/i.test(U))m=!0;else if(/^s(hift)?$/i.test(U))C=!0;else throw new Error("Unrecognized modifier name: "+U)}return v&&(d="Alt-"+d),m&&(d="Ctrl-"+d),S&&(d="Cmd-"+d),C&&(d="Shift-"+d),d}function g9(d){var f={};for(var v in d)if(d.hasOwnProperty(v)){var m=d[v];if(/^(name|fallthrough|(de|at)tach)$/.test(v))continue;if(m=="..."){delete d[v];continue}for(var C=ae(v.split(" "),f9),S=0;S<C.length;S++){var z=void 0,U=void 0;S==C.length-1?(U=C.join(" "),z=m):(U=C.slice(0,S+1).join(" "),z="...");var $=f[U];if(!$)f[U]=z;else if($!=z)throw new Error("Inconsistent bindings for "+U)}delete d[v]}for(var Q in f)d[Q]=f[Q];return d}function cc(d,f,v,m){f=Xp(f);var C=f.call?f.call(d,m):f[d];if(C===!1)return"nothing";if(C==="...")return"multi";if(C!=null&&v(C))return"handled";if(f.fallthrough){if(Object.prototype.toString.call(f.fallthrough)!="[object Array]")return cc(d,f.fallthrough,v,m);for(var S=0;S<f.fallthrough.length;S++){var z=cc(d,f.fallthrough[S],v,m);if(z)return z}}}function hy(d){var f=typeof d=="string"?d:hs[d.keyCode];return f=="Ctrl"||f=="Alt"||f=="Shift"||f=="Mod"}function my(d,f,v){var m=d;return f.altKey&&m!="Alt"&&(d="Alt-"+d),(N?f.metaKey:f.ctrlKey)&&m!="Ctrl"&&(d="Ctrl-"+d),(N?f.ctrlKey:f.metaKey)&&m!="Mod"&&(d="Cmd-"+d),!v&&f.shiftKey&&m!="Shift"&&(d="Shift-"+d),d}function vy(d,f){if(g&&d.keyCode==34&&d.char)return!1;var v=hs[d.keyCode];return v==null||d.altGraphKey?!1:(d.keyCode==3&&d.code&&(v=d.code),my(v,d,f))}function Xp(d){return typeof d=="string"?wa[d]:d}function dc(d,f){for(var v=d.doc.sel.ranges,m=[],C=0;C<v.length;C++){for(var S=f(v[C]);m.length&&Re(S.from,Ct(m).to)<=0;){var z=m.pop();if(Re(z.from,S.from)<0){S.from=z.from;break}}m.push(S)}Tr(d,function(){for(var U=m.length-1;U>=0;U--)sc(d.doc,"",m[U].from,m[U].to,"+delete");nc(d)})}function Em(d,f,v){var m=Ft(d.text,f+v,v);return m<0||m>d.text.length?null:m}function km(d,f,v){var m=Em(d,f.ch,v);return m==null?null:new Zt(f.line,m,v<0?"after":"before")}function Am(d,f,v,m,C){if(d){f.doc.direction=="rtl"&&(C=-C);var S=ot(v,f.doc.direction);if(S){var z=C<0?Ct(S):S[0],U=C<0==(z.level==1),$=U?"after":"before",Q;if(z.level>0||f.doc.direction=="rtl"){var _t=se(f,v);Q=C<0?v.text.length-1:0;var Ot=xe(f,_t,Q).top;Q=me(function(Gt){return xe(f,_t,Gt).top==Ot},C<0==(z.level==1)?z.from:z.to-1,Q),$=="before"&&(Q=Em(v,Q,1))}else Q=C<0?z.to:z.from;return new Zt(m,Q,$)}}return new Zt(m,C<0?v.text.length:0,C<0?"before":"after")}function h9(d,f,v,m){var C=ot(f,d.doc.direction);if(!C)return km(f,v,m);v.ch>=f.text.length?(v.ch=f.text.length,v.sticky="before"):v.ch<=0&&(v.ch=0,v.sticky="after");var S=ut(C,v.ch,v.sticky),z=C[S];if(d.doc.direction=="ltr"&&z.level%2==0&&(m>0?z.to>v.ch:z.from<v.ch))return km(f,v,m);var U=function(we,ke){return Em(f,we instanceof Zt?we.ch:we,ke)},$,Q=function(we){return d.options.lineWrapping?($=$||se(d,f),C_(d,f,$,we)):{begin:0,end:f.text.length}},_t=Q(v.sticky=="before"?U(v,-1):v.ch);if(d.doc.direction=="rtl"||z.level==1){var Ot=z.level==1==m<0,Gt=U(v,Ot?1:-1);if(Gt!=null&&(Ot?Gt<=z.to&&Gt<=_t.end:Gt>=z.from&&Gt>=_t.begin)){var jt=Ot?"before":"after";return new Zt(v.line,Gt,jt)}}var ee=function(we,ke,Se){for(var Ie=function(Un,Fi){return Fi?new Zt(v.line,U(Un,1),"before"):new Zt(v.line,Un,"after")};we>=0&&we<C.length;we+=ke){var qe=C[we],We=ke>0==(qe.level!=1),an=We?Se.begin:U(Se.end,-1);if(qe.from<=an&&an<qe.to||(an=We?qe.from:U(qe.to,-1),Se.begin<=an&&an<Se.end))return Ie(an,We)}},ue=ee(S+m,m,_t);if(ue)return ue;var ve=m>0?_t.end:U(_t.begin,-1);return ve!=null&&!(m>0&&ve==f.text.length)&&(ue=ee(m>0?0:C.length-1,m,Q(ve)),ue)?ue:null}var $d={selectAll:ey,singleSelection:function(d){return d.setSelection(d.getCursor("anchor"),d.getCursor("head"),zt)},killLine:function(d){return dc(d,function(f){if(f.empty()){var v=B(d.doc,f.head.line).text.length;return f.head.ch==v&&f.head.line<d.lastLine()?{from:f.head,to:Zt(f.head.line+1,0)}:{from:f.head,to:Zt(f.head.line,v)}}else return{from:f.from(),to:f.to()}})},deleteLine:function(d){return dc(d,function(f){return{from:Zt(f.from().line,0),to:ge(d.doc,Zt(f.to().line+1,0))}})},delLineLeft:function(d){return dc(d,function(f){return{from:Zt(f.from().line,0),to:f.from()}})},delWrappedLineLeft:function(d){return dc(d,function(f){var v=d.charCoords(f.head,"div").top+5,m=d.coordsChar({left:0,top:v},"div");return{from:m,to:f.from()}})},delWrappedLineRight:function(d){return dc(d,function(f){var v=d.charCoords(f.head,"div").top+5,m=d.coordsChar({left:d.display.lineDiv.offsetWidth+100,top:v},"div");return{from:f.from(),to:m}})},undo:function(d){return d.undo()},redo:function(d){return d.redo()},undoSelection:function(d){return d.undoSelection()},redoSelection:function(d){return d.redoSelection()},goDocStart:function(d){return d.extendSelection(Zt(d.firstLine(),0))},goDocEnd:function(d){return d.extendSelection(Zt(d.lastLine()))},goLineStart:function(d){return d.extendSelectionsBy(function(f){return _y(d,f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(d){return d.extendSelectionsBy(function(f){return yy(d,f.head)},{origin:"+move",bias:1})},goLineEnd:function(d){return d.extendSelectionsBy(function(f){return m9(d,f.head.line)},{origin:"+move",bias:-1})},goLineRight:function(d){return d.extendSelectionsBy(function(f){var v=d.cursorCoords(f.head,"div").top+5;return d.coordsChar({left:d.display.lineDiv.offsetWidth+100,top:v},"div")},Nt)},goLineLeft:function(d){return d.extendSelectionsBy(function(f){var v=d.cursorCoords(f.head,"div").top+5;return d.coordsChar({left:0,top:v},"div")},Nt)},goLineLeftSmart:function(d){return d.extendSelectionsBy(function(f){var v=d.cursorCoords(f.head,"div").top+5,m=d.coordsChar({left:0,top:v},"div");return m.ch<d.getLine(m.line).search(/\S/)?yy(d,f.head):m},Nt)},goLineUp:function(d){return d.moveV(-1,"line")},goLineDown:function(d){return d.moveV(1,"line")},goPageUp:function(d){return d.moveV(-1,"page")},goPageDown:function(d){return d.moveV(1,"page")},goCharLeft:function(d){return d.moveH(-1,"char")},goCharRight:function(d){return d.moveH(1,"char")},goColumnLeft:function(d){return d.moveH(-1,"column")},goColumnRight:function(d){return d.moveH(1,"column")},goWordLeft:function(d){return d.moveH(-1,"word")},goGroupRight:function(d){return d.moveH(1,"group")},goGroupLeft:function(d){return d.moveH(-1,"group")},goWordRight:function(d){return d.moveH(1,"word")},delCharBefore:function(d){return d.deleteH(-1,"codepoint")},delCharAfter:function(d){return d.deleteH(1,"char")},delWordBefore:function(d){return d.deleteH(-1,"word")},delWordAfter:function(d){return d.deleteH(1,"word")},delGroupBefore:function(d){return d.deleteH(-1,"group")},delGroupAfter:function(d){return d.deleteH(1,"group")},indentAuto:function(d){return d.indentSelection("smart")},indentMore:function(d){return d.indentSelection("add")},indentLess:function(d){return d.indentSelection("subtract")},insertTab:function(d){return d.replaceSelection("	")},insertSoftTab:function(d){for(var f=[],v=d.listSelections(),m=d.options.tabSize,C=0;C<v.length;C++){var S=v[C].from(),z=yt(d.getLine(S.line),S.ch,m);f.push(le(m-z%m))}d.replaceSelections(f)},defaultTab:function(d){d.somethingSelected()?d.indentSelection("add"):d.execCommand("insertTab")},transposeChars:function(d){return Tr(d,function(){for(var f=d.listSelections(),v=[],m=0;m<f.length;m++)if(f[m].empty()){var C=f[m].head,S=B(d.doc,C.line).text;if(S){if(C.ch==S.length&&(C=new Zt(C.line,C.ch-1)),C.ch>0)C=new Zt(C.line,C.ch+1),d.replaceRange(S.charAt(C.ch-1)+S.charAt(C.ch-2),Zt(C.line,C.ch-2),C,"+transpose");else if(C.line>d.doc.first){var z=B(d.doc,C.line-1).text;z&&(C=new Zt(C.line,1),d.replaceRange(S.charAt(0)+d.doc.lineSeparator()+z.charAt(z.length-1),Zt(C.line-1,z.length-1),C,"+transpose"))}}v.push(new An(C,C))}d.setSelections(v)})},newlineAndIndent:function(d){return Tr(d,function(){for(var f=d.listSelections(),v=f.length-1;v>=0;v--)d.replaceRange(d.doc.lineSeparator(),f[v].anchor,f[v].head,"+input");f=d.listSelections();for(var m=0;m<f.length;m++)d.indentLine(f[m].from().line,null,!0);nc(d)})},openLine:function(d){return d.replaceSelection(`
`,"start")},toggleOverwrite:function(d){return d.toggleOverwrite()}};function _y(d,f){var v=B(d.doc,f),m=tn(v);return m!=v&&(f=je(m)),Am(!0,d,m,f,1)}function m9(d,f){var v=B(d.doc,f),m=Ke(v);return m!=v&&(f=je(m)),Am(!0,d,v,f,-1)}function yy(d,f){var v=_y(d,f.line),m=B(d.doc,v.line),C=ot(m,d.doc.direction);if(!C||C[0].level==0){var S=Math.max(v.ch,m.text.search(/\S/)),z=f.line==v.line&&f.ch<=S&&f.ch;return Zt(v.line,z?0:S,v.sticky)}return v}function Qp(d,f,v){if(typeof f=="string"&&(f=$d[f],!f))return!1;d.display.input.ensurePolled();var m=d.display.shift,C=!1;try{d.isReadOnly()&&(d.state.suppressEdits=!0),v&&(d.display.shift=!1),C=f(d)!=Et}finally{d.display.shift=m,d.state.suppressEdits=!1}return C}function v9(d,f,v){for(var m=0;m<d.state.keyMaps.length;m++){var C=cc(f,d.state.keyMaps[m],v,d);if(C)return C}return d.options.extraKeys&&cc(f,d.options.extraKeys,v,d)||cc(f,d.options.keyMap,v,d)}var _9=new rt;function Yd(d,f,v,m){var C=d.state.keySeq;if(C){if(hy(f))return"handled";if(/\'$/.test(f)?d.state.keySeq=null:_9.set(50,function(){d.state.keySeq==C&&(d.state.keySeq=null,d.display.input.reset())}),by(d,C+" "+f,v,m))return!0}return by(d,f,v,m)}function by(d,f,v,m){var C=v9(d,f,m);return C=="multi"&&(d.state.keySeq=f),C=="handled"&&ai(d,"keyHandled",d,f,v),(C=="handled"||C=="multi")&&(Ze(v),fm(d)),!!C}function Cy(d,f){var v=vy(f,!0);return v?f.shiftKey&&!d.state.keySeq?Yd(d,"Shift-"+v,f,function(m){return Qp(d,m,!0)})||Yd(d,v,f,function(m){if(typeof m=="string"?/^go[A-Z]/.test(m):m.motion)return Qp(d,m)}):Yd(d,v,f,function(m){return Qp(d,m)}):!1}function y9(d,f,v){return Yd(d,"'"+v+"'",f,function(m){return Qp(d,m,!0)})}var Im=null;function xy(d){var f=this;if(!(d.target&&d.target!=f.display.input.getField())&&(f.curOp.focus=Z(),!_e(f,d))){s&&l<11&&d.keyCode==27&&(d.returnValue=!1);var v=d.keyCode;f.display.shift=v==16||d.shiftKey;var m=Cy(f,d);g&&(Im=m?v:null,!m&&v==88&&!mi&&(T?d.metaKey:d.ctrlKey)&&f.replaceSelection("",null,"cut")),e&&!T&&!m&&v==46&&d.shiftKey&&!d.ctrlKey&&document.execCommand&&document.execCommand("cut"),v==18&&!/\bCodeMirror-crosshair\b/.test(f.display.lineDiv.className)&&b9(f)}}function b9(d){var f=d.display.lineDiv;nt(f,"CodeMirror-crosshair");function v(m){(m.keyCode==18||!m.altKey)&&(R(f,"CodeMirror-crosshair"),Oe(document,"keyup",v),Oe(document,"mouseover",v))}Ht(document,"keyup",v),Ht(document,"mouseover",v)}function Oy(d){d.keyCode==16&&(this.doc.sel.shift=!1),_e(this,d)}function Py(d){var f=this;if(!(d.target&&d.target!=f.display.input.getField())&&!(vo(f.display,d)||_e(f,d)||d.ctrlKey&&!d.altKey||T&&d.metaKey)){var v=d.keyCode,m=d.charCode;if(g&&v==Im){Im=null,Ze(d);return}if(!(g&&(!d.which||d.which<10)&&Cy(f,d))){var C=String.fromCharCode(m??v);C!="\b"&&(y9(f,d,C)||f.display.input.onKeyPress(d))}}}var C9=400,Dm=function(d,f,v){this.time=d,this.pos=f,this.button=v};Dm.prototype.compare=function(d,f,v){return this.time+C9>d&&Re(f,this.pos)==0&&v==this.button};var Xd,Qd;function x9(d,f){var v=+new Date;return Qd&&Qd.compare(v,d,f)?(Xd=Qd=null,"triple"):Xd&&Xd.compare(v,d,f)?(Qd=new Dm(v,d,f),Xd=null,"double"):(Xd=new Dm(v,d,f),Qd=null,"single")}function My(d){var f=this,v=f.display;if(!(_e(f,d)||v.activeTouch&&v.input.supportsTouch())){if(v.input.ensurePolled(),v.shift=d.shiftKey,vo(v,d)){c||(v.scroller.draggable=!1,setTimeout(function(){return v.scroller.draggable=!0},100));return}if(!Lm(f,d)){var m=rl(f,d),C=Rt(d),S=m?x9(m,C):"single";window.focus(),C==1&&f.state.selectingText&&f.state.selectingText(d),!(m&&O9(f,C,m,S,d))&&(C==1?m?M9(f,m,S,d):Mt(d)==v.scroller&&Ze(d):C==2?(m&&Wp(f.doc,m),setTimeout(function(){return v.input.focus()},20)):C==3&&(F?f.display.input.onContextMenu(d):gm(f)))}}}function O9(d,f,v,m,C){var S="Click";return m=="double"?S="Double"+S:m=="triple"&&(S="Triple"+S),S=(f==1?"Left":f==2?"Middle":"Right")+S,Yd(d,my(S,C),C,function(z){if(typeof z=="string"&&(z=$d[z]),!z)return!1;var U=!1;try{d.isReadOnly()&&(d.state.suppressEdits=!0),U=z(d,v)!=Et}finally{d.state.suppressEdits=!1}return U})}function P9(d,f,v){var m=d.getOption("configureMouse"),C=m?m(d,f,v):{};if(C.unit==null){var S=b?v.shiftKey&&v.metaKey:v.altKey;C.unit=S?"rectangle":f=="single"?"char":f=="double"?"word":"line"}return(C.extend==null||d.doc.extend)&&(C.extend=d.doc.extend||v.shiftKey),C.addNew==null&&(C.addNew=T?v.metaKey:v.ctrlKey),C.moveOnDrag==null&&(C.moveOnDrag=!(T?v.altKey:v.ctrlKey)),C}function M9(d,f,v,m){s?setTimeout(qt(w_,d),0):d.curOp.focus=Z();var C=P9(d,v,m),S=d.doc.sel,z;d.options.dragDrop&&ne&&!d.isReadOnly()&&v=="single"&&(z=S.contains(f))>-1&&(Re((z=S.ranges[z]).from(),f)<0||f.xRel>0)&&(Re(z.to(),f)>0||f.xRel<0)?w9(d,m,f,C):S9(d,m,f,C)}function w9(d,f,v,m){var C=d.display,S=!1,z=Ni(d,function(Q){c&&(C.scroller.draggable=!1),d.state.draggingText=!1,d.state.delayingBlurEvent&&(d.hasFocus()?d.state.delayingBlurEvent=!1:gm(d)),Oe(C.wrapper.ownerDocument,"mouseup",z),Oe(C.wrapper.ownerDocument,"mousemove",U),Oe(C.scroller,"dragstart",$),Oe(C.scroller,"drop",z),S||(Ze(Q),m.addNew||Wp(d.doc,v,null,null,m.extend),c&&!h||s&&l==9?setTimeout(function(){C.wrapper.ownerDocument.body.focus({preventScroll:!0}),C.input.focus()},20):C.input.focus())}),U=function(Q){S=S||Math.abs(f.clientX-Q.clientX)+Math.abs(f.clientY-Q.clientY)>=10},$=function(){return S=!0};c&&(C.scroller.draggable=!0),d.state.draggingText=z,z.copy=!m.moveOnDrag,Ht(C.wrapper.ownerDocument,"mouseup",z),Ht(C.wrapper.ownerDocument,"mousemove",U),Ht(C.scroller,"dragstart",$),Ht(C.scroller,"drop",z),d.state.delayingBlurEvent=!0,setTimeout(function(){return C.input.focus()},20),C.scroller.dragDrop&&C.scroller.dragDrop()}function wy(d,f,v){if(v=="char")return new An(f,f);if(v=="word")return d.findWordAt(f);if(v=="line")return new An(Zt(f.line,0),ge(d.doc,Zt(f.line+1,0)));var m=v(d,f);return new An(m.from,m.to)}function S9(d,f,v,m){s&&gm(d);var C=d.display,S=d.doc;Ze(f);var z,U,$=S.sel,Q=$.ranges;if(m.addNew&&!m.extend?(U=S.sel.contains(v),U>-1?z=Q[U]:z=new An(v,v)):(z=S.sel.primary(),U=S.sel.primIndex),m.unit=="rectangle")m.addNew||(z=new An(v,v)),v=rl(d,f,!0,!0),U=-1;else{var _t=wy(d,v,m.unit);m.extend?z=Sm(z,_t.anchor,_t.head,m.extend):z=_t}m.addNew?U==-1?(U=Q.length,tr(S,jo(d,Q.concat([z]),U),{scroll:!1,origin:"*mouse"})):Q.length>1&&Q[U].empty()&&m.unit=="char"&&!m.extend?(tr(S,jo(d,Q.slice(0,U).concat(Q.slice(U+1)),0),{scroll:!1,origin:"*mouse"}),$=S.sel):Tm(S,U,z,Wt):(U=0,tr(S,new to([z],0),Wt),$=S.sel);var Ot=v;function Gt(Se){if(Re(Ot,Se)!=0)if(Ot=Se,m.unit=="rectangle"){for(var Ie=[],qe=d.options.tabSize,We=yt(B(S,v.line).text,v.ch,qe),an=yt(B(S,Se.line).text,Se.ch,qe),Un=Math.min(We,an),Fi=Math.max(We,an),ri=Math.min(v.line,Se.line),Er=Math.min(d.lastLine(),Math.max(v.line,Se.line));ri<=Er;ri++){var fr=B(S,ri).text,_i=st(fr,Un,qe);Un==Fi?Ie.push(new An(Zt(ri,_i),Zt(ri,_i))):fr.length>_i&&Ie.push(new An(Zt(ri,_i),Zt(ri,st(fr,Fi,qe))))}Ie.length||Ie.push(new An(v,v)),tr(S,jo(d,$.ranges.slice(0,U).concat(Ie),U),{origin:"*mouse",scroll:!1}),d.scrollIntoView(Se)}else{var gr=z,Ui=wy(d,Se,m.unit),Ai=gr.anchor,yi;Re(Ui.anchor,Ai)>0?(yi=Ui.head,Ai=te(gr.from(),Ui.anchor)):(yi=Ui.anchor,Ai=bt(gr.to(),Ui.head));var si=$.ranges.slice(0);si[U]=T9(d,new An(ge(S,Ai),yi)),tr(S,jo(d,si,U),Wt)}}var jt=C.wrapper.getBoundingClientRect(),ee=0;function ue(Se){var Ie=++ee,qe=rl(d,Se,!0,m.unit=="rectangle");if(qe)if(Re(qe,Ot)!=0){d.curOp.focus=Z(),Gt(qe);var We=Vp(C,S);(qe.line>=We.to||qe.line<We.from)&&setTimeout(Ni(d,function(){ee==Ie&&ue(Se)}),150)}else{var an=Se.clientY<jt.top?-20:Se.clientY>jt.bottom?20:0;an&&setTimeout(Ni(d,function(){ee==Ie&&(C.scroller.scrollTop+=an,ue(Se))}),50)}}function ve(Se){d.state.selectingText=!1,ee=1/0,Se&&(Ze(Se),C.input.focus()),Oe(C.wrapper.ownerDocument,"mousemove",we),Oe(C.wrapper.ownerDocument,"mouseup",ke),S.history.lastSelOrigin=null}var we=Ni(d,function(Se){Se.buttons===0||!Rt(Se)?ve(Se):ue(Se)}),ke=Ni(d,ve);d.state.selectingText=ke,Ht(C.wrapper.ownerDocument,"mousemove",we),Ht(C.wrapper.ownerDocument,"mouseup",ke)}function T9(d,f){var v=f.anchor,m=f.head,C=B(d.doc,v.line);if(Re(v,m)==0&&v.sticky==m.sticky)return f;var S=ot(C);if(!S)return f;var z=ut(S,v.ch,v.sticky),U=S[z];if(U.from!=v.ch&&U.to!=v.ch)return f;var $=z+(U.from==v.ch==(U.level!=1)?0:1);if($==0||$==S.length)return f;var Q;if(m.line!=v.line)Q=(m.line-v.line)*(d.doc.direction=="ltr"?1:-1)>0;else{var _t=ut(S,m.ch,m.sticky),Ot=_t-z||(m.ch-v.ch)*(U.level==1?-1:1);_t==$-1||_t==$?Q=Ot<0:Q=Ot>0}var Gt=S[$+(Q?-1:0)],jt=Q==(Gt.level==1),ee=jt?Gt.from:Gt.to,ue=jt?"after":"before";return v.ch==ee&&v.sticky==ue?f:new An(new Zt(v.line,ee,ue),m)}function Sy(d,f,v,m){var C,S;if(f.touches)C=f.touches[0].clientX,S=f.touches[0].clientY;else try{C=f.clientX,S=f.clientY}catch{return!1}if(C>=Math.floor(d.display.gutters.getBoundingClientRect().right))return!1;m&&Ze(f);var z=d.display,U=z.lineDiv.getBoundingClientRect();if(S>U.bottom||!Qe(d,v))return Kn(f);S-=U.top-z.viewOffset;for(var $=0;$<d.display.gutterSpecs.length;++$){var Q=z.gutters.childNodes[$];if(Q&&Q.getBoundingClientRect().right>=C){var _t=He(d.doc,S),Ot=d.display.gutterSpecs[$];return Pe(d,v,d,_t,Ot.className,f),Kn(f)}}}function Lm(d,f){return Sy(d,f,"gutterClick",!0)}function Ty(d,f){vo(d.display,f)||E9(d,f)||_e(d,f,"contextmenu")||F||d.display.input.onContextMenu(f)}function E9(d,f){return Qe(d,"gutterContextMenu")?Sy(d,f,"gutterContextMenu",!1):!1}function Ey(d){d.display.wrapper.className=d.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+d.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ad(d)}var uc={toString:function(){return"CodeMirror.Init"}},ky={},Jp={};function k9(d){var f=d.optionHandlers;function v(m,C,S,z){d.defaults[m]=C,S&&(f[m]=z?function(U,$,Q){Q!=uc&&S(U,$,Q)}:S)}d.defineOption=v,d.Init=uc,v("value","",function(m,C){return m.setValue(C)},!0),v("mode",null,function(m,C){m.doc.modeOption=C,Pm(m)},!0),v("indentUnit",2,Pm,!0),v("indentWithTabs",!1),v("smartIndent",!0),v("tabSize",4,function(m){Vd(m),Ad(m),ur(m)},!0),v("lineSeparator",null,function(m,C){if(m.doc.lineSep=C,!!C){var S=[],z=m.doc.first;m.doc.iter(function($){for(var Q=0;;){var _t=$.text.indexOf(C,Q);if(_t==-1)break;Q=_t+C.length,S.push(Zt(z,_t))}z++});for(var U=S.length-1;U>=0;U--)sc(m.doc,C,S[U],Zt(S[U].line,S[U].ch+C.length))}}),v("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(m,C,S){m.state.specialChars=new RegExp(C.source+(C.test("	")?"":"|	"),"g"),S!=uc&&m.refresh()}),v("specialCharPlaceholder",Op,function(m){return m.refresh()},!0),v("electricChars",!0),v("inputStyle",w?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),v("spellcheck",!1,function(m,C){return m.getInputField().spellcheck=C},!0),v("autocorrect",!1,function(m,C){return m.getInputField().autocorrect=C},!0),v("autocapitalize",!1,function(m,C){return m.getInputField().autocapitalize=C},!0),v("rtlMoveVisually",!k),v("wholeLineUpdateBefore",!0),v("theme","default",function(m){Ey(m),zd(m)},!0),v("keyMap","default",function(m,C,S){var z=Xp(C),U=S!=uc&&Xp(S);U&&U.detach&&U.detach(m,z),z.attach&&z.attach(m,U||null)}),v("extraKeys",null),v("configureMouse",null),v("lineWrapping",!1,I9,!0),v("gutters",[],function(m,C){m.display.gutterSpecs=xm(C,m.options.lineNumbers),zd(m)},!0),v("fixedGutter",!0,function(m,C){m.display.gutters.style.left=C?um(m.display)+"px":"0",m.refresh()},!0),v("coverGutterNextToScrollbar",!1,function(m){return ic(m)},!0),v("scrollbarStyle","native",function(m){I_(m),ic(m),m.display.scrollbars.setScrollTop(m.doc.scrollTop),m.display.scrollbars.setScrollLeft(m.doc.scrollLeft)},!0),v("lineNumbers",!1,function(m,C){m.display.gutterSpecs=xm(m.options.gutters,C),zd(m)},!0),v("firstLineNumber",1,zd,!0),v("lineNumberFormatter",function(m){return m},zd,!0),v("showCursorWhenSelecting",!1,Id,!0),v("resetSelectionOnContextMenu",!0),v("lineWiseCopyCut",!0),v("pasteLinesPerSelection",!0),v("selectionsMayTouch",!1),v("readOnly",!1,function(m,C){C=="nocursor"&&(ec(m),m.display.input.blur()),m.display.input.readOnlyChanged(C)}),v("screenReaderLabel",null,function(m,C){C=C===""?null:C,m.display.input.screenReaderLabelChanged(C)}),v("disableInput",!1,function(m,C){C||m.display.input.reset()},!0),v("dragDrop",!0,A9),v("allowDropFileTypes",null),v("cursorBlinkRate",530),v("cursorScrollMargin",0),v("cursorHeight",1,Id,!0),v("singleCursorHeightPerLine",!0,Id,!0),v("workTime",100),v("workDelay",100),v("flattenSpans",!0,Vd,!0),v("addModeClass",!1,Vd,!0),v("pollInterval",100),v("undoDepth",200,function(m,C){return m.doc.history.undoDepth=C}),v("historyEventDelay",1250),v("viewportMargin",10,function(m){return m.refresh()},!0),v("maxHighlightLength",1e4,Vd,!0),v("moveInputWithCursor",!0,function(m,C){C||m.display.input.resetPosition()}),v("tabindex",null,function(m,C){return m.display.input.getField().tabIndex=C||""}),v("autofocus",null),v("direction","ltr",function(m,C){return m.doc.setDirection(C)},!0),v("phrases",null)}function A9(d,f,v){var m=v&&v!=uc;if(!f!=!m){var C=d.display.dragFunctions,S=f?Ht:Oe;S(d.display.scroller,"dragstart",C.start),S(d.display.scroller,"dragenter",C.enter),S(d.display.scroller,"dragover",C.over),S(d.display.scroller,"dragleave",C.leave),S(d.display.scroller,"drop",C.drop)}}function I9(d){d.options.lineWrapping?(nt(d.display.wrapper,"CodeMirror-wrap"),d.display.sizer.style.minWidth="",d.display.sizerWidth=null):(R(d.display.wrapper,"CodeMirror-wrap"),es(d)),pm(d),ur(d),Ad(d),setTimeout(function(){return ic(d)},100)}function Qn(d,f){var v=this;if(!(this instanceof Qn))return new Qn(d,f);this.options=f=f?Pt(f):{},Pt(ky,f,!1);var m=f.value;typeof m=="string"?m=new pr(m,f.mode,null,f.lineSeparator,f.direction):f.mode&&(m.modeOption=f.mode),this.doc=m;var C=new Qn.inputStyles[f.inputStyle](this),S=this.display=new W4(d,m,C,f);S.wrapper.CodeMirror=this,Ey(this),f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),I_(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new rt,keySeq:null,specialChars:null},f.autofocus&&!w&&S.input.focus(),s&&l<11&&setTimeout(function(){return v.display.input.reset(!0)},20),D9(this),d9(),ll(this),this.curOp.forceUpdate=!0,B_(this,m),f.autofocus&&!w||this.hasFocus()?setTimeout(function(){v.hasFocus()&&!v.state.focused&&hm(v)},20):ec(this);for(var z in Jp)Jp.hasOwnProperty(z)&&Jp[z](this,f[z],uc);N_(this),f.finishInit&&f.finishInit(this);for(var U=0;U<Nm.length;++U)Nm[U](this);cl(this),c&&f.lineWrapping&&getComputedStyle(S.lineDiv).textRendering=="optimizelegibility"&&(S.lineDiv.style.textRendering="auto")}Qn.defaults=ky,Qn.optionHandlers=Jp;function D9(d){var f=d.display;Ht(f.scroller,"mousedown",Ni(d,My)),s&&l<11?Ht(f.scroller,"dblclick",Ni(d,function($){if(!_e(d,$)){var Q=rl(d,$);if(!(!Q||Lm(d,$)||vo(d.display,$))){Ze($);var _t=d.findWordAt(Q);Wp(d.doc,_t.anchor,_t.head)}}})):Ht(f.scroller,"dblclick",function($){return _e(d,$)||Ze($)}),Ht(f.scroller,"contextmenu",function($){return Ty(d,$)}),Ht(f.input.getField(),"contextmenu",function($){f.scroller.contains($.target)||Ty(d,$)});var v,m={end:0};function C(){f.activeTouch&&(v=setTimeout(function(){return f.activeTouch=null},1e3),m=f.activeTouch,m.end=+new Date)}function S($){if($.touches.length!=1)return!1;var Q=$.touches[0];return Q.radiusX<=1&&Q.radiusY<=1}function z($,Q){if(Q.left==null)return!0;var _t=Q.left-$.left,Ot=Q.top-$.top;return _t*_t+Ot*Ot>400}Ht(f.scroller,"touchstart",function($){if(!_e(d,$)&&!S($)&&!Lm(d,$)){f.input.ensurePolled(),clearTimeout(v);var Q=+new Date;f.activeTouch={start:Q,moved:!1,prev:Q-m.end<=300?m:null},$.touches.length==1&&(f.activeTouch.left=$.touches[0].pageX,f.activeTouch.top=$.touches[0].pageY)}}),Ht(f.scroller,"touchmove",function(){f.activeTouch&&(f.activeTouch.moved=!0)}),Ht(f.scroller,"touchend",function($){var Q=f.activeTouch;if(Q&&!vo(f,$)&&Q.left!=null&&!Q.moved&&new Date-Q.start<300){var _t=d.coordsChar(f.activeTouch,"page"),Ot;!Q.prev||z(Q,Q.prev)?Ot=new An(_t,_t):!Q.prev.prev||z(Q,Q.prev.prev)?Ot=d.findWordAt(_t):Ot=new An(Zt(_t.line,0),ge(d.doc,Zt(_t.line+1,0))),d.setSelection(Ot.anchor,Ot.head),d.focus(),Ze($)}C()}),Ht(f.scroller,"touchcancel",C),Ht(f.scroller,"scroll",function(){f.scroller.clientHeight&&(Ld(d,f.scroller.scrollTop),al(d,f.scroller.scrollLeft,!0),Pe(d,"scroll",d))}),Ht(f.scroller,"mousewheel",function($){return z_(d,$)}),Ht(f.scroller,"DOMMouseScroll",function($){return z_(d,$)}),Ht(f.wrapper,"scroll",function(){return f.wrapper.scrollTop=f.wrapper.scrollLeft=0}),f.dragFunctions={enter:function($){_e(d,$)||dt($)},over:function($){_e(d,$)||(c9(d,$),dt($))},start:function($){return l9(d,$)},drop:Ni(d,s9),leave:function($){_e(d,$)||py(d)}};var U=f.input.getField();Ht(U,"keyup",function($){return Oy.call(d,$)}),Ht(U,"keydown",Ni(d,xy)),Ht(U,"keypress",Ni(d,Py)),Ht(U,"focus",function($){return hm(d,$)}),Ht(U,"blur",function($){return ec(d,$)})}var Nm=[];Qn.defineInitHook=function(d){return Nm.push(d)};function Jd(d,f,v,m){var C=d.doc,S;v==null&&(v="add"),v=="smart"&&(C.mode.indent?S=dr(d,f).state:v="prev");var z=d.options.tabSize,U=B(C,f),$=yt(U.text,null,z);U.stateAfter&&(U.stateAfter=null);var Q=U.text.match(/^\s*/)[0],_t;if(!m&&!/\S/.test(U.text))_t=0,v="not";else if(v=="smart"&&(_t=C.mode.indent(S,U.text.slice(Q.length),U.text),_t==Et||_t>150)){if(!m)return;v="prev"}v=="prev"?f>C.first?_t=yt(B(C,f-1).text,null,z):_t=0:v=="add"?_t=$+d.options.indentUnit:v=="subtract"?_t=$-d.options.indentUnit:typeof v=="number"&&(_t=$+v),_t=Math.max(0,_t);var Ot="",Gt=0;if(d.options.indentWithTabs)for(var jt=Math.floor(_t/z);jt;--jt)Gt+=z,Ot+="	";if(Gt<_t&&(Ot+=le(_t-Gt)),Ot!=Q)return sc(C,Ot,Zt(f,0),Zt(f,Q.length),"+input"),U.stateAfter=null,!0;for(var ee=0;ee<C.sel.ranges.length;ee++){var ue=C.sel.ranges[ee];if(ue.head.line==f&&ue.head.ch<Q.length){var ve=Zt(f,Q.length);Tm(C,ee,new An(ve,ve));break}}}var Ho=null;function Zp(d){Ho=d}function Rm(d,f,v,m,C){var S=d.doc;d.display.shift=!1,m||(m=S.sel);var z=+new Date-200,U=C=="paste"||d.state.pasteIncoming>z,$=On(f),Q=null;if(U&&m.ranges.length>1)if(Ho&&Ho.text.join(`
`)==f){if(m.ranges.length%Ho.text.length==0){Q=[];for(var _t=0;_t<Ho.text.length;_t++)Q.push(S.splitLines(Ho.text[_t]))}}else $.length==m.ranges.length&&d.options.pasteLinesPerSelection&&(Q=ae($,function(we){return[we]}));for(var Ot=d.curOp.updateInput,Gt=m.ranges.length-1;Gt>=0;Gt--){var jt=m.ranges[Gt],ee=jt.from(),ue=jt.to();jt.empty()&&(v&&v>0?ee=Zt(ee.line,ee.ch-v):d.state.overwrite&&!U?ue=Zt(ue.line,Math.min(B(S,ue.line).text.length,ue.ch+Ct($).length)):U&&Ho&&Ho.lineWise&&Ho.text.join(`
`)==$.join(`
`)&&(ee=ue=Zt(ee.line,0)));var ve={from:ee,to:ue,text:Q?Q[Gt%Q.length]:$,origin:C||(U?"paste":d.state.cutIncoming>z?"cut":"+input")};ac(d.doc,ve),ai(d,"inputRead",d,ve)}f&&!U&&Iy(d,f),nc(d),d.curOp.updateInput<2&&(d.curOp.updateInput=Ot),d.curOp.typing=!0,d.state.pasteIncoming=d.state.cutIncoming=-1}function Ay(d,f){var v=d.clipboardData&&d.clipboardData.getData("Text");if(v)return d.preventDefault(),!f.isReadOnly()&&!f.options.disableInput&&Tr(f,function(){return Rm(f,v,0,null,"paste")}),!0}function Iy(d,f){if(!(!d.options.electricChars||!d.options.smartIndent))for(var v=d.doc.sel,m=v.ranges.length-1;m>=0;m--){var C=v.ranges[m];if(!(C.head.ch>100||m&&v.ranges[m-1].head.line==C.head.line)){var S=d.getModeAt(C.head),z=!1;if(S.electricChars){for(var U=0;U<S.electricChars.length;U++)if(f.indexOf(S.electricChars.charAt(U))>-1){z=Jd(d,C.head.line,"smart");break}}else S.electricInput&&S.electricInput.test(B(d.doc,C.head.line).text.slice(0,C.head.ch))&&(z=Jd(d,C.head.line,"smart"));z&&ai(d,"electricInput",d,C.head.line)}}}function Dy(d){for(var f=[],v=[],m=0;m<d.doc.sel.ranges.length;m++){var C=d.doc.sel.ranges[m].head.line,S={anchor:Zt(C,0),head:Zt(C+1,0)};v.push(S),f.push(d.getRange(S.anchor,S.head))}return{text:f,ranges:v}}function Ly(d,f,v,m){d.setAttribute("autocorrect",v?"":"off"),d.setAttribute("autocapitalize",m?"":"off"),d.setAttribute("spellcheck",!!f)}function Ny(){var d=W("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),f=W("div",[d],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?d.style.width="1000px":d.setAttribute("wrap","off"),O&&(d.style.border="1px solid black"),Ly(d),f}function L9(d){var f=d.optionHandlers,v=d.helpers={};d.prototype={constructor:d,focus:function(){window.focus(),this.display.input.focus()},setOption:function(m,C){var S=this.options,z=S[m];S[m]==C&&m!="mode"||(S[m]=C,f.hasOwnProperty(m)&&Ni(this,f[m])(this,C,z),Pe(this,"optionChange",this,m))},getOption:function(m){return this.options[m]},getDoc:function(){return this.doc},addKeyMap:function(m,C){this.state.keyMaps[C?"push":"unshift"](Xp(m))},removeKeyMap:function(m){for(var C=this.state.keyMaps,S=0;S<C.length;++S)if(C[S]==m||C[S].name==m)return C.splice(S,1),!0},addOverlay:or(function(m,C){var S=m.token?m:d.getMode(this.options,m);if(S.startState)throw new Error("Overlays may not be stateful.");he(this.state.overlays,{mode:S,modeSpec:m,opaque:C&&C.opaque,priority:C&&C.priority||0},function(z){return z.priority}),this.state.modeGen++,ur(this)}),removeOverlay:or(function(m){for(var C=this.state.overlays,S=0;S<C.length;++S){var z=C[S].modeSpec;if(z==m||typeof m=="string"&&z.name==m){C.splice(S,1),this.state.modeGen++,ur(this);return}}}),indentLine:or(function(m,C,S){typeof C!="string"&&typeof C!="number"&&(C==null?C=this.options.smartIndent?"smart":"prev":C=C?"add":"subtract"),ze(this.doc,m)&&Jd(this,m,C,S)}),indentSelection:or(function(m){for(var C=this.doc.sel.ranges,S=-1,z=0;z<C.length;z++){var U=C[z];if(U.empty())U.head.line>S&&(Jd(this,U.head.line,m,!0),S=U.head.line,z==this.doc.sel.primIndex&&nc(this));else{var $=U.from(),Q=U.to(),_t=Math.max(S,$.line);S=Math.min(this.lastLine(),Q.line-(Q.ch?0:1))+1;for(var Ot=_t;Ot<S;++Ot)Jd(this,Ot,m);var Gt=this.doc.sel.ranges;$.ch==0&&C.length==Gt.length&&Gt[z].from().ch>0&&Tm(this.doc,z,new An($,Gt[z].to()),zt)}}}),getTokenAt:function(m,C){return Js(this,m,C)},getLineTokens:function(m,C){return Js(this,Zt(m),C,!0)},getTokenTypeAt:function(m){m=ge(this.doc,m);var C=Yr(this,B(this.doc,m.line)),S=0,z=(C.length-1)/2,U=m.ch,$;if(U==0)$=C[2];else for(;;){var Q=S+z>>1;if((Q?C[Q*2-1]:0)>=U)z=Q;else if(C[Q*2+1]<U)S=Q+1;else{$=C[Q*2+2];break}}var _t=$?$.indexOf("overlay "):-1;return _t<0?$:_t==0?null:$.slice(0,_t-1)},getModeAt:function(m){var C=this.doc.mode;return C.innerMode?d.innerMode(C,this.getTokenAt(m).state).mode:C},getHelper:function(m,C){return this.getHelpers(m,C)[0]},getHelpers:function(m,C){var S=[];if(!v.hasOwnProperty(C))return S;var z=v[C],U=this.getModeAt(m);if(typeof U[C]=="string")z[U[C]]&&S.push(z[U[C]]);else if(U[C])for(var $=0;$<U[C].length;$++){var Q=z[U[C][$]];Q&&S.push(Q)}else U.helperType&&z[U.helperType]?S.push(z[U.helperType]):z[U.name]&&S.push(z[U.name]);for(var _t=0;_t<z._global.length;_t++){var Ot=z._global[_t];Ot.pred(U,this)&&ft(S,Ot.val)==-1&&S.push(Ot.val)}return S},getStateAfter:function(m,C){var S=this.doc;return m=pe(S,m??S.first+S.size-1),dr(this,m+1,C).state},cursorCoords:function(m,C){var S,z=this.doc.sel.primary();return m==null?S=z.head:typeof m=="object"?S=ge(this.doc,m):S=m?z.from():z.to(),Vo(this,S,C||"page")},charCoords:function(m,C){return Np(this,ge(this.doc,m),C||"page")},coordsChar:function(m,C){return m=__(this,m,C||"page"),lm(this,m.left,m.top)},lineAtHeight:function(m,C){return m=__(this,{top:m,left:0},C||"page").top,He(this.doc,m+this.display.viewOffset)},heightAtLine:function(m,C,S){var z=!1,U;if(typeof m=="number"){var $=this.doc.first+this.doc.size-1;m<this.doc.first?m=this.doc.first:m>$&&(m=$,z=!0),U=B(this.doc,m)}else U=m;return Lp(this,U,{top:0,left:0},C||"page",S||z).top+(z?this.doc.height-wr(U):0)},defaultTextHeight:function(){return Zl(this.display)},defaultCharWidth:function(){return tc(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(m,C,S,z,U){var $=this.display;m=Vo(this,ge(this.doc,m));var Q=m.bottom,_t=m.left;if(C.style.position="absolute",C.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(C),$.sizer.appendChild(C),z=="over")Q=m.top;else if(z=="above"||z=="near"){var Ot=Math.max($.wrapper.clientHeight,this.doc.height),Gt=Math.max($.sizer.clientWidth,$.lineSpace.clientWidth);(z=="above"||m.bottom+C.offsetHeight>Ot)&&m.top>C.offsetHeight?Q=m.top-C.offsetHeight:m.bottom+C.offsetHeight<=Ot&&(Q=m.bottom),_t+C.offsetWidth>Gt&&(_t=Gt-C.offsetWidth)}C.style.top=Q+"px",C.style.left=C.style.right="",U=="right"?(_t=$.sizer.clientWidth-C.offsetWidth,C.style.right="0px"):(U=="left"?_t=0:U=="middle"&&(_t=($.sizer.clientWidth-C.offsetWidth)/2),C.style.left=_t+"px"),S&&A4(this,{left:_t,top:Q,right:_t+C.offsetWidth,bottom:Q+C.offsetHeight})},triggerOnKeyDown:or(xy),triggerOnKeyPress:or(Py),triggerOnKeyUp:Oy,triggerOnMouseDown:or(My),execCommand:function(m){if($d.hasOwnProperty(m))return $d[m].call(null,this)},triggerElectric:or(function(m){Iy(this,m)}),findPosH:function(m,C,S,z){var U=1;C<0&&(U=-1,C=-C);for(var $=ge(this.doc,m),Q=0;Q<C&&($=Fm(this.doc,$,U,S,z),!$.hitSide);++Q);return $},moveH:or(function(m,C){var S=this;this.extendSelectionsBy(function(z){return S.display.shift||S.doc.extend||z.empty()?Fm(S.doc,z.head,m,C,S.options.rtlMoveVisually):m<0?z.from():z.to()},Nt)}),deleteH:or(function(m,C){var S=this.doc.sel,z=this.doc;S.somethingSelected()?z.replaceSelection("",null,"+delete"):dc(this,function(U){var $=Fm(z,U.head,m,C,!1);return m<0?{from:$,to:U.head}:{from:U.head,to:$}})}),findPosV:function(m,C,S,z){var U=1,$=z;C<0&&(U=-1,C=-C);for(var Q=ge(this.doc,m),_t=0;_t<C;++_t){var Ot=Vo(this,Q,"div");if($==null?$=Ot.left:Ot.left=$,Q=Ry(this,Ot,U,S),Q.hitSide)break}return Q},moveV:or(function(m,C){var S=this,z=this.doc,U=[],$=!this.display.shift&&!z.extend&&z.sel.somethingSelected();if(z.extendSelectionsBy(function(_t){if($)return m<0?_t.from():_t.to();var Ot=Vo(S,_t.head,"div");_t.goalColumn!=null&&(Ot.left=_t.goalColumn),U.push(Ot.left);var Gt=Ry(S,Ot,m,C);return C=="page"&&_t==z.sel.primary()&&vm(S,Np(S,Gt,"div").top-Ot.top),Gt},Nt),U.length)for(var Q=0;Q<z.sel.ranges.length;Q++)z.sel.ranges[Q].goalColumn=U[Q]}),findWordAt:function(m){var C=this.doc,S=B(C,m.line).text,z=m.ch,U=m.ch;if(S){var $=this.getHelper(m,"wordChars");(m.sticky=="before"||U==S.length)&&z?--z:++U;for(var Q=S.charAt(z),_t=At(Q,$)?function(Ot){return At(Ot,$)}:/\s/.test(Q)?function(Ot){return/\s/.test(Ot)}:function(Ot){return!/\s/.test(Ot)&&!At(Ot)};z>0&&_t(S.charAt(z-1));)--z;for(;U<S.length&&_t(S.charAt(U));)++U}return new An(Zt(m.line,z),Zt(m.line,U))},toggleOverwrite:function(m){m!=null&&m==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?nt(this.display.cursorDiv,"CodeMirror-overwrite"):R(this.display.cursorDiv,"CodeMirror-overwrite"),Pe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Z()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:or(function(m,C){Dd(this,m,C)}),getScrollInfo:function(){var m=this.display.scroller;return{left:m.scrollLeft,top:m.scrollTop,height:m.scrollHeight-Sr(this)-this.display.barHeight,width:m.scrollWidth-Sr(this)-this.display.barWidth,clientHeight:X(this),clientWidth:Ma(this)}},scrollIntoView:or(function(m,C){m==null?(m={from:this.doc.sel.primary().head,to:null},C==null&&(C=this.options.cursorScrollMargin)):typeof m=="number"?m={from:Zt(m,0),to:null}:m.from==null&&(m={from:m,to:null}),m.to||(m.to=m.from),m.margin=C||0,m.from.line!=null?I4(this,m):T_(this,m.from,m.to,m.margin)}),setSize:or(function(m,C){var S=this,z=function($){return typeof $=="number"||/^\d+$/.test(String($))?$+"px":$};m!=null&&(this.display.wrapper.style.width=z(m)),C!=null&&(this.display.wrapper.style.height=z(C)),this.options.lineWrapping&&h_(this);var U=this.display.viewFrom;this.doc.iter(U,this.display.viewTo,function($){if($.widgets){for(var Q=0;Q<$.widgets.length;Q++)if($.widgets[Q].noHScroll){cs(S,U,"widget");break}}++U}),this.curOp.forceUpdate=!0,Pe(this,"refresh",this)}),operation:function(m){return Tr(this,m)},startOperation:function(){return ll(this)},endOperation:function(){return cl(this)},refresh:or(function(){var m=this.display.cachedTextHeight;ur(this),this.curOp.forceUpdate=!0,Ad(this),Dd(this,this.doc.scrollLeft,this.doc.scrollTop),bm(this.display),(m==null||Math.abs(m-Zl(this.display))>.5||this.options.lineWrapping)&&pm(this),Pe(this,"refresh",this)}),swapDoc:or(function(m){var C=this.doc;return C.cm=null,this.state.selectingText&&this.state.selectingText(),B_(this,m),Ad(this),this.display.input.reset(),Dd(this,m.scrollLeft,m.scrollTop),this.curOp.forceScroll=!0,ai(this,"swapDoc",this,C),C}),phrase:function(m){var C=this.options.phrases;return C&&Object.prototype.hasOwnProperty.call(C,m)?C[m]:m},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Xe(d),d.registerHelper=function(m,C,S){v.hasOwnProperty(m)||(v[m]=d[m]={_global:[]}),v[m][C]=S},d.registerGlobalHelper=function(m,C,S,z){d.registerHelper(m,C,z),v[m]._global.push({pred:S,val:z})}}function Fm(d,f,v,m,C){var S=f,z=v,U=B(d,f.line),$=C&&d.direction=="rtl"?-v:v;function Q(){var ke=f.line+$;return ke<d.first||ke>=d.first+d.size?!1:(f=new Zt(ke,f.ch,f.sticky),U=B(d,ke))}function _t(ke){var Se;if(m=="codepoint"){var Ie=U.text.charCodeAt(f.ch+(v>0?0:-1));if(isNaN(Ie))Se=null;else{var qe=v>0?Ie>=55296&&Ie<56320:Ie>=56320&&Ie<57343;Se=new Zt(f.line,Math.max(0,Math.min(U.text.length,f.ch+v*(qe?2:1))),-v)}}else C?Se=h9(d.cm,U,f,v):Se=km(U,f,v);if(Se==null)if(!ke&&Q())f=Am(C,d.cm,U,f.line,$);else return!1;else f=Se;return!0}if(m=="char"||m=="codepoint")_t();else if(m=="column")_t(!0);else if(m=="word"||m=="group")for(var Ot=null,Gt=m=="group",jt=d.cm&&d.cm.getHelper(f,"wordChars"),ee=!0;!(v<0&&!_t(!ee));ee=!1){var ue=U.text.charAt(f.ch)||`
`,ve=At(ue,jt)?"w":Gt&&ue==`
`?"n":!Gt||/\s/.test(ue)?null:"p";if(Gt&&!ee&&!ve&&(ve="s"),Ot&&Ot!=ve){v<0&&(v=1,_t(),f.sticky="after");break}if(ve&&(Ot=ve),v>0&&!_t(!ee))break}var we=qp(d,f,S,z,!0);return Ln(S,we)&&(we.hitSide=!0),we}function Ry(d,f,v,m){var C=d.doc,S=f.left,z;if(m=="page"){var U=Math.min(d.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),$=Math.max(U-.5*Zl(d.display),3);z=(v>0?f.bottom:f.top)+v*$}else m=="line"&&(z=v>0?f.bottom+3:f.top-3);for(var Q;Q=lm(d,S,z),!!Q.outside;){if(v<0?z<=0:z>=C.height){Q.hitSide=!0;break}z+=v*5}return Q}var Vn=function(d){this.cm=d,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new rt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Vn.prototype.init=function(d){var f=this,v=this,m=v.cm,C=v.div=d.lineDiv;C.contentEditable=!0,Ly(C,m.options.spellcheck,m.options.autocorrect,m.options.autocapitalize);function S(U){for(var $=U.target;$;$=$.parentNode){if($==C)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test($.className))break}return!1}Ht(C,"paste",function(U){!S(U)||_e(m,U)||Ay(U,m)||l<=11&&setTimeout(Ni(m,function(){return f.updateFromDOM()}),20)}),Ht(C,"compositionstart",function(U){f.composing={data:U.data,done:!1}}),Ht(C,"compositionupdate",function(U){f.composing||(f.composing={data:U.data,done:!1})}),Ht(C,"compositionend",function(U){f.composing&&(U.data!=f.composing.data&&f.readFromDOMSoon(),f.composing.done=!0)}),Ht(C,"touchstart",function(){return v.forceCompositionEnd()}),Ht(C,"input",function(){f.composing||f.readFromDOMSoon()});function z(U){if(!(!S(U)||_e(m,U))){if(m.somethingSelected())Zp({lineWise:!1,text:m.getSelections()}),U.type=="cut"&&m.replaceSelection("",null,"cut");else if(m.options.lineWiseCopyCut){var $=Dy(m);Zp({lineWise:!0,text:$.text}),U.type=="cut"&&m.operation(function(){m.setSelections($.ranges,0,zt),m.replaceSelection("",null,"cut")})}else return;if(U.clipboardData){U.clipboardData.clearData();var Q=Ho.text.join(`
`);if(U.clipboardData.setData("Text",Q),U.clipboardData.getData("Text")==Q){U.preventDefault();return}}var _t=Ny(),Ot=_t.firstChild;m.display.lineSpace.insertBefore(_t,m.display.lineSpace.firstChild),Ot.value=Ho.text.join(`
`);var Gt=Z();Vt(Ot),setTimeout(function(){m.display.lineSpace.removeChild(_t),Gt.focus(),Gt==C&&v.showPrimarySelection()},50)}}Ht(C,"copy",z),Ht(C,"cut",z)},Vn.prototype.screenReaderLabelChanged=function(d){d?this.div.setAttribute("aria-label",d):this.div.removeAttribute("aria-label")},Vn.prototype.prepareSelection=function(){var d=P_(this.cm,!1);return d.focus=Z()==this.div,d},Vn.prototype.showSelection=function(d,f){!d||!this.cm.display.view.length||((d.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(d))},Vn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Vn.prototype.showPrimarySelection=function(){var d=this.getSelection(),f=this.cm,v=f.doc.sel.primary(),m=v.from(),C=v.to();if(f.display.viewTo==f.display.viewFrom||m.line>=f.display.viewTo||C.line<f.display.viewFrom){d.removeAllRanges();return}var S=tf(f,d.anchorNode,d.anchorOffset),z=tf(f,d.focusNode,d.focusOffset);if(!(S&&!S.bad&&z&&!z.bad&&Re(te(S,z),m)==0&&Re(bt(S,z),C)==0)){var U=f.display.view,$=m.line>=f.display.viewFrom&&Fy(f,m)||{node:U[0].measure.map[2],offset:0},Q=C.line<f.display.viewTo&&Fy(f,C);if(!Q){var _t=U[U.length-1].measure,Ot=_t.maps?_t.maps[_t.maps.length-1]:_t.map;Q={node:Ot[Ot.length-1],offset:Ot[Ot.length-2]-Ot[Ot.length-3]}}if(!$||!Q){d.removeAllRanges();return}var Gt=d.rangeCount&&d.getRangeAt(0),jt;try{jt=J($.node,$.offset,Q.offset,Q.node)}catch{}jt&&(!e&&f.state.focused?(d.collapse($.node,$.offset),jt.collapsed||(d.removeAllRanges(),d.addRange(jt))):(d.removeAllRanges(),d.addRange(jt)),Gt&&d.anchorNode==null?d.addRange(Gt):e&&this.startGracePeriod()),this.rememberSelection()}},Vn.prototype.startGracePeriod=function(){var d=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){d.gracePeriod=!1,d.selectionChanged()&&d.cm.operation(function(){return d.cm.curOp.selectionChanged=!0})},20)},Vn.prototype.showMultipleSelections=function(d){L(this.cm.display.cursorDiv,d.cursors),L(this.cm.display.selectionDiv,d.selection)},Vn.prototype.rememberSelection=function(){var d=this.getSelection();this.lastAnchorNode=d.anchorNode,this.lastAnchorOffset=d.anchorOffset,this.lastFocusNode=d.focusNode,this.lastFocusOffset=d.focusOffset},Vn.prototype.selectionInEditor=function(){var d=this.getSelection();if(!d.rangeCount)return!1;var f=d.getRangeAt(0).commonAncestorContainer;return D(this.div,f)},Vn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Z()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Vn.prototype.blur=function(){this.div.blur()},Vn.prototype.getField=function(){return this.div},Vn.prototype.supportsTouch=function(){return!0},Vn.prototype.receivedFocus=function(){var d=this,f=this;this.selectionInEditor()?setTimeout(function(){return d.pollSelection()},20):Tr(this.cm,function(){return f.cm.curOp.selectionChanged=!0});function v(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,v))}this.polling.set(this.cm.options.pollInterval,v)},Vn.prototype.selectionChanged=function(){var d=this.getSelection();return d.anchorNode!=this.lastAnchorNode||d.anchorOffset!=this.lastAnchorOffset||d.focusNode!=this.lastFocusNode||d.focusOffset!=this.lastFocusOffset},Vn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var d=this.getSelection(),f=this.cm;if(M&&p&&this.cm.display.gutterSpecs.length&&N9(d.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var v=tf(f,d.anchorNode,d.anchorOffset),m=tf(f,d.focusNode,d.focusOffset);v&&m&&Tr(f,function(){tr(f.doc,us(v,m),zt),(v.bad||m.bad)&&(f.curOp.selectionChanged=!0)})}}},Vn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var d=this.cm,f=d.display,v=d.doc.sel.primary(),m=v.from(),C=v.to();if(m.ch==0&&m.line>d.firstLine()&&(m=Zt(m.line-1,B(d.doc,m.line-1).length)),C.ch==B(d.doc,C.line).text.length&&C.line<d.lastLine()&&(C=Zt(C.line+1,0)),m.line<f.viewFrom||C.line>f.viewTo-1)return!1;var S,z,U;m.line==f.viewFrom||(S=ol(d,m.line))==0?(z=je(f.view[0].line),U=f.view[0].node):(z=je(f.view[S].line),U=f.view[S-1].node.nextSibling);var $=ol(d,C.line),Q,_t;if($==f.view.length-1?(Q=f.viewTo-1,_t=f.lineDiv.lastChild):(Q=je(f.view[$+1].line)-1,_t=f.view[$+1].node.previousSibling),!U)return!1;for(var Ot=d.doc.splitLines(R9(d,U,_t,z,Q)),Gt=gt(d.doc,Zt(z,0),Zt(Q,B(d.doc,Q).text.length));Ot.length>1&&Gt.length>1;)if(Ct(Ot)==Ct(Gt))Ot.pop(),Gt.pop(),Q--;else if(Ot[0]==Gt[0])Ot.shift(),Gt.shift(),z++;else break;for(var jt=0,ee=0,ue=Ot[0],ve=Gt[0],we=Math.min(ue.length,ve.length);jt<we&&ue.charCodeAt(jt)==ve.charCodeAt(jt);)++jt;for(var ke=Ct(Ot),Se=Ct(Gt),Ie=Math.min(ke.length-(Ot.length==1?jt:0),Se.length-(Gt.length==1?jt:0));ee<Ie&&ke.charCodeAt(ke.length-ee-1)==Se.charCodeAt(Se.length-ee-1);)++ee;if(Ot.length==1&&Gt.length==1&&z==m.line)for(;jt&&jt>m.ch&&ke.charCodeAt(ke.length-ee-1)==Se.charCodeAt(Se.length-ee-1);)jt--,ee++;Ot[Ot.length-1]=ke.slice(0,ke.length-ee).replace(/^\u200b+/,""),Ot[0]=Ot[0].slice(jt).replace(/\u200b+$/,"");var qe=Zt(z,jt),We=Zt(Q,Gt.length?Ct(Gt).length-ee:0);if(Ot.length>1||Ot[0]||Re(qe,We))return sc(d.doc,Ot,qe,We,"+input"),!0},Vn.prototype.ensurePolled=function(){this.forceCompositionEnd()},Vn.prototype.reset=function(){this.forceCompositionEnd()},Vn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Vn.prototype.readFromDOMSoon=function(){var d=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(d.readDOMTimeout=null,d.composing)if(d.composing.done)d.composing=null;else return;d.updateFromDOM()},80))},Vn.prototype.updateFromDOM=function(){var d=this;(this.cm.isReadOnly()||!this.pollContent())&&Tr(this.cm,function(){return ur(d.cm)})},Vn.prototype.setUneditable=function(d){d.contentEditable="false"},Vn.prototype.onKeyPress=function(d){d.charCode==0||this.composing||(d.preventDefault(),this.cm.isReadOnly()||Ni(this.cm,Rm)(this.cm,String.fromCharCode(d.charCode==null?d.keyCode:d.charCode),0))},Vn.prototype.readOnlyChanged=function(d){this.div.contentEditable=String(d!="nocursor")},Vn.prototype.onContextMenu=function(){},Vn.prototype.resetPosition=function(){},Vn.prototype.needsContentAttribute=!0;function Fy(d,f){var v=Ut(d,f.line);if(!v||v.hidden)return null;var m=B(d.doc,f.line),C=xt(v,m,f.line),S=ot(m,d.doc.direction),z="left";if(S){var U=ut(S,f.ch);z=U%2?"right":"left"}var $=Je(C.map,f.ch,z);return $.offset=$.collapse=="right"?$.end:$.start,$}function N9(d){for(var f=d;f;f=f.parentNode)if(/CodeMirror-gutter-wrapper/.test(f.className))return!0;return!1}function pc(d,f){return f&&(d.bad=!0),d}function R9(d,f,v,m,C){var S="",z=!1,U=d.doc.lineSeparator(),$=!1;function Q(jt){return function(ee){return ee.id==jt}}function _t(){z&&(S+=U,$&&(S+=U),z=$=!1)}function Ot(jt){jt&&(_t(),S+=jt)}function Gt(jt){if(jt.nodeType==1){var ee=jt.getAttribute("cm-text");if(ee){Ot(ee);return}var ue=jt.getAttribute("cm-marker"),ve;if(ue){var we=d.findMarks(Zt(m,0),Zt(C+1,0),Q(+ue));we.length&&(ve=we[0].find(0))&&Ot(gt(d.doc,ve.from,ve.to).join(U));return}if(jt.getAttribute("contenteditable")=="false")return;var ke=/^(pre|div|p|li|table|br)$/i.test(jt.nodeName);if(!/^br$/i.test(jt.nodeName)&&jt.textContent.length==0)return;ke&&_t();for(var Se=0;Se<jt.childNodes.length;Se++)Gt(jt.childNodes[Se]);/^(pre|p)$/i.test(jt.nodeName)&&($=!0),ke&&(z=!0)}else jt.nodeType==3&&Ot(jt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Gt(f),f!=v;)f=f.nextSibling,$=!1;return S}function tf(d,f,v){var m;if(f==d.display.lineDiv){if(m=d.display.lineDiv.childNodes[v],!m)return pc(d.clipPos(Zt(d.display.viewTo-1)),!0);f=null,v=0}else for(m=f;;m=m.parentNode){if(!m||m==d.display.lineDiv)return null;if(m.parentNode&&m.parentNode==d.display.lineDiv)break}for(var C=0;C<d.display.view.length;C++){var S=d.display.view[C];if(S.node==m)return F9(S,f,v)}}function F9(d,f,v){var m=d.text.firstChild,C=!1;if(!f||!D(m,f))return pc(Zt(je(d.line),0),!0);if(f==m&&(C=!0,f=m.childNodes[v],v=0,!f)){var S=d.rest?Ct(d.rest):d.line;return pc(Zt(je(S),S.text.length),C)}var z=f.nodeType==3?f:null,U=f;for(!z&&f.childNodes.length==1&&f.firstChild.nodeType==3&&(z=f.firstChild,v&&(v=z.nodeValue.length));U.parentNode!=m;)U=U.parentNode;var $=d.measure,Q=$.maps;function _t(ve,we,ke){for(var Se=-1;Se<(Q?Q.length:0);Se++)for(var Ie=Se<0?$.map:Q[Se],qe=0;qe<Ie.length;qe+=3){var We=Ie[qe+2];if(We==ve||We==we){var an=je(Se<0?d.line:d.rest[Se]),Un=Ie[qe]+ke;return(ke<0||We!=ve)&&(Un=Ie[qe+(ke?1:0)]),Zt(an,Un)}}}var Ot=_t(z,U,v);if(Ot)return pc(Ot,C);for(var Gt=U.nextSibling,jt=z?z.nodeValue.length-v:0;Gt;Gt=Gt.nextSibling){if(Ot=_t(Gt,Gt.firstChild,0),Ot)return pc(Zt(Ot.line,Ot.ch-jt),C);jt+=Gt.textContent.length}for(var ee=U.previousSibling,ue=v;ee;ee=ee.previousSibling){if(Ot=_t(ee,ee.firstChild,-1),Ot)return pc(Zt(Ot.line,Ot.ch+ue),C);ue+=ee.textContent.length}}var ui=function(d){this.cm=d,this.prevInput="",this.pollingFast=!1,this.polling=new rt,this.hasSelection=!1,this.composing=null};ui.prototype.init=function(d){var f=this,v=this,m=this.cm;this.createField(d);var C=this.textarea;d.wrapper.insertBefore(this.wrapper,d.wrapper.firstChild),O&&(C.style.width="0px"),Ht(C,"input",function(){s&&l>=9&&f.hasSelection&&(f.hasSelection=null),v.poll()}),Ht(C,"paste",function(z){_e(m,z)||Ay(z,m)||(m.state.pasteIncoming=+new Date,v.fastPoll())});function S(z){if(!_e(m,z)){if(m.somethingSelected())Zp({lineWise:!1,text:m.getSelections()});else if(m.options.lineWiseCopyCut){var U=Dy(m);Zp({lineWise:!0,text:U.text}),z.type=="cut"?m.setSelections(U.ranges,null,zt):(v.prevInput="",C.value=U.text.join(`
`),Vt(C))}else return;z.type=="cut"&&(m.state.cutIncoming=+new Date)}}Ht(C,"cut",S),Ht(C,"copy",S),Ht(d.scroller,"paste",function(z){if(!(vo(d,z)||_e(m,z))){if(!C.dispatchEvent){m.state.pasteIncoming=+new Date,v.focus();return}var U=new Event("paste");U.clipboardData=z.clipboardData,C.dispatchEvent(U)}}),Ht(d.lineSpace,"selectstart",function(z){vo(d,z)||Ze(z)}),Ht(C,"compositionstart",function(){var z=m.getCursor("from");v.composing&&v.composing.range.clear(),v.composing={start:z,range:m.markText(z,m.getCursor("to"),{className:"CodeMirror-composing"})}}),Ht(C,"compositionend",function(){v.composing&&(v.poll(),v.composing.range.clear(),v.composing=null)})},ui.prototype.createField=function(d){this.wrapper=Ny(),this.textarea=this.wrapper.firstChild},ui.prototype.screenReaderLabelChanged=function(d){d?this.textarea.setAttribute("aria-label",d):this.textarea.removeAttribute("aria-label")},ui.prototype.prepareSelection=function(){var d=this.cm,f=d.display,v=d.doc,m=P_(d);if(d.options.moveInputWithCursor){var C=Vo(d,v.sel.primary().head,"div"),S=f.wrapper.getBoundingClientRect(),z=f.lineDiv.getBoundingClientRect();m.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,C.top+z.top-S.top)),m.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,C.left+z.left-S.left))}return m},ui.prototype.showSelection=function(d){var f=this.cm,v=f.display;L(v.cursorDiv,d.cursors),L(v.selectionDiv,d.selection),d.teTop!=null&&(this.wrapper.style.top=d.teTop+"px",this.wrapper.style.left=d.teLeft+"px")},ui.prototype.reset=function(d){if(!(this.contextMenuPending||this.composing)){var f=this.cm;if(f.somethingSelected()){this.prevInput="";var v=f.getSelection();this.textarea.value=v,f.state.focused&&Vt(this.textarea),s&&l>=9&&(this.hasSelection=v)}else d||(this.prevInput=this.textarea.value="",s&&l>=9&&(this.hasSelection=null))}},ui.prototype.getField=function(){return this.textarea},ui.prototype.supportsTouch=function(){return!1},ui.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!w||Z()!=this.textarea))try{this.textarea.focus()}catch{}},ui.prototype.blur=function(){this.textarea.blur()},ui.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ui.prototype.receivedFocus=function(){this.slowPoll()},ui.prototype.slowPoll=function(){var d=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){d.poll(),d.cm.state.focused&&d.slowPoll()})},ui.prototype.fastPoll=function(){var d=!1,f=this;f.pollingFast=!0;function v(){var m=f.poll();!m&&!d?(d=!0,f.polling.set(60,v)):(f.pollingFast=!1,f.slowPoll())}f.polling.set(20,v)},ui.prototype.poll=function(){var d=this,f=this.cm,v=this.textarea,m=this.prevInput;if(this.contextMenuPending||!f.state.focused||rn(v)&&!m&&!this.composing||f.isReadOnly()||f.options.disableInput||f.state.keySeq)return!1;var C=v.value;if(C==m&&!f.somethingSelected())return!1;if(s&&l>=9&&this.hasSelection===C||T&&/[\uf700-\uf7ff]/.test(C))return f.display.input.reset(),!1;if(f.doc.sel==f.display.selForContextMenu){var S=C.charCodeAt(0);if(S==8203&&!m&&(m="\u200B"),S==8666)return this.reset(),this.cm.execCommand("undo")}for(var z=0,U=Math.min(m.length,C.length);z<U&&m.charCodeAt(z)==C.charCodeAt(z);)++z;return Tr(f,function(){Rm(f,C.slice(z),m.length-z,null,d.composing?"*compose":null),C.length>1e3||C.indexOf(`
`)>-1?v.value=d.prevInput="":d.prevInput=C,d.composing&&(d.composing.range.clear(),d.composing.range=f.markText(d.composing.start,f.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ui.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ui.prototype.onKeyPress=function(){s&&l>=9&&(this.hasSelection=null),this.fastPoll()},ui.prototype.onContextMenu=function(d){var f=this,v=f.cm,m=v.display,C=f.textarea;f.contextMenuPending&&f.contextMenuPending();var S=rl(v,d),z=m.scroller.scrollTop;if(!S||g)return;var U=v.options.resetSelectionOnContextMenu;U&&v.doc.sel.contains(S)==-1&&Ni(v,tr)(v.doc,us(S),zt);var $=C.style.cssText,Q=f.wrapper.style.cssText,_t=f.wrapper.offsetParent.getBoundingClientRect();f.wrapper.style.cssText="position: static",C.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(d.clientY-_t.top-5)+"px; left: "+(d.clientX-_t.left-5)+`px;
      z-index: 1000; background: `+(s?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Ot;c&&(Ot=window.scrollY),m.input.focus(),c&&window.scrollTo(null,Ot),m.input.reset(),v.somethingSelected()||(C.value=f.prevInput=" "),f.contextMenuPending=jt,m.selForContextMenu=v.doc.sel,clearTimeout(m.detectingSelectAll);function Gt(){if(C.selectionStart!=null){var ue=v.somethingSelected(),ve="\u200B"+(ue?C.value:"");C.value="\u21DA",C.value=ve,f.prevInput=ue?"":"\u200B",C.selectionStart=1,C.selectionEnd=ve.length,m.selForContextMenu=v.doc.sel}}function jt(){if(f.contextMenuPending==jt&&(f.contextMenuPending=!1,f.wrapper.style.cssText=Q,C.style.cssText=$,s&&l<9&&m.scrollbars.setScrollTop(m.scroller.scrollTop=z),C.selectionStart!=null)){(!s||s&&l<9)&&Gt();var ue=0,ve=function(){m.selForContextMenu==v.doc.sel&&C.selectionStart==0&&C.selectionEnd>0&&f.prevInput=="\u200B"?Ni(v,ey)(v):ue++<10?m.detectingSelectAll=setTimeout(ve,500):(m.selForContextMenu=null,m.input.reset())};m.detectingSelectAll=setTimeout(ve,200)}}if(s&&l>=9&&Gt(),F){dt(d);var ee=function(){Oe(window,"mouseup",ee),setTimeout(jt,20)};Ht(window,"mouseup",ee)}else setTimeout(jt,50)},ui.prototype.readOnlyChanged=function(d){d||this.reset(),this.textarea.disabled=d=="nocursor",this.textarea.readOnly=!!d},ui.prototype.setUneditable=function(){},ui.prototype.needsContentAttribute=!1;function z9(d,f){if(f=f?Pt(f):{},f.value=d.value,!f.tabindex&&d.tabIndex&&(f.tabindex=d.tabIndex),!f.placeholder&&d.placeholder&&(f.placeholder=d.placeholder),f.autofocus==null){var v=Z();f.autofocus=v==d||d.getAttribute("autofocus")!=null&&v==document.body}function m(){d.value=U.getValue()}var C;if(d.form&&(Ht(d.form,"submit",m),!f.leaveSubmitMethodAlone)){var S=d.form;C=S.submit;try{var z=S.submit=function(){m(),S.submit=C,S.submit(),S.submit=z}}catch{}}f.finishInit=function($){$.save=m,$.getTextArea=function(){return d},$.toTextArea=function(){$.toTextArea=isNaN,m(),d.parentNode.removeChild($.getWrapperElement()),d.style.display="",d.form&&(Oe(d.form,"submit",m),!f.leaveSubmitMethodAlone&&typeof d.form.submit=="function"&&(d.form.submit=C))}},d.style.display="none";var U=Qn(function($){return d.parentNode.insertBefore($,d.nextSibling)},f);return U}function V9(d){d.off=Oe,d.on=Ht,d.wheelEventPixels=K4,d.Doc=pr,d.splitLines=On,d.countColumn=yt,d.findColumn=st,d.isWordChar=mt,d.Pass=Et,d.signal=Pe,d.Line=Li,d.changeEnd=ps,d.scrollbarModel=A_,d.Pos=Zt,d.cmpPos=Re,d.modes=Si,d.mimeModes=yn,d.resolveMode=Yn,d.getMode=Be,d.modeExtensions=Xn,d.extendMode=Ve,d.copyState=Dn,d.startState=A,d.innerMode=vn,d.commands=$d,d.keyMap=wa,d.keyName=vy,d.isModifierKey=hy,d.lookupKey=cc,d.normalizeKeyMap=g9,d.StringStream=G,d.SharedTextMarker=Wd,d.TextMarker=gs,d.LineWidget=Gd,d.e_preventDefault=Ze,d.e_stopPropagation=_n,d.e_stop=dt,d.addClass=nt,d.contains=D,d.rmClass=R,d.keyNames=hs}k9(Qn),L9(Qn);var j9="iter insert remove copy getEditor constructor".split(" ");for(var ef in pr.prototype)pr.prototype.hasOwnProperty(ef)&&ft(j9,ef)<0&&(Qn.prototype[ef]=function(d){return function(){return d.apply(this.doc,arguments)}}(pr.prototype[ef]));return Xe(pr),Qn.inputStyles={textarea:ui,contenteditable:Vn},Qn.defineMode=function(d){!Qn.defaults.mode&&d!="null"&&(Qn.defaults.mode=d),sn.apply(this,arguments)},Qn.defineMIME=wn,Qn.defineMode("null",function(){return{token:function(d){return d.skipToEnd()}}}),Qn.defineMIME("text/plain","null"),Qn.defineExtension=function(d,f){Qn.prototype[d]=f},Qn.defineDocExtension=function(d,f){pr.prototype[d]=f},Qn.fromTextArea=z9,V9(Qn),Qn.version="5.63.0",Qn})},7389:(o,n,t)=>{(function(e){e(t(4408))})(function(e){"use strict";e.defineMode("css",function(H,L){var W=L.inline;L.propertyKeywords||(L=e.resolveMode("text/css"));var q=H.indentUnit,J=L.tokenHooks,D=L.documentTypes||{},Z=L.mediaTypes||{},nt=L.mediaFeatures||{},pt=L.mediaValueKeywords||{},Vt=L.propertyKeywords||{},qt=L.nonStandardPropertyKeywords||{},Pt=L.fontProperties||{},yt=L.counterDescriptors||{},rt=L.colorKeywords||{},ft=L.valueKeywords||{},wt=L.allowNested,Et=L.lineComment,zt=L.supportsAtComponent===!0,Wt=H.highlightNonStandardPropertyKeywords!==!1,Nt,st;function $t(ht,kt){return Nt=kt,ht}function le(ht,kt){var Ft=ht.next();if(J[Ft]){var me=J[Ft](ht,kt);if(me!==!1)return me}if(Ft=="@")return ht.eatWhile(/[\w\\\-]/),$t("def",ht.current());if(Ft=="="||(Ft=="~"||Ft=="|")&&ht.eat("="))return $t(null,"compare");if(Ft=='"'||Ft=="'")return kt.tokenize=Ct(Ft),kt.tokenize(ht,kt);if(Ft=="#")return ht.eatWhile(/[\w\\\-]/),$t("atom","hash");if(Ft=="!")return ht.match(/^\s*\w*/),$t("keyword","important");if(/\d/.test(Ft)||Ft=="."&&ht.eat(/\d/))return ht.eatWhile(/[\w.%]/),$t("number","unit");if(Ft==="-"){if(/[\d.]/.test(ht.peek()))return ht.eatWhile(/[\w.%]/),$t("number","unit");if(ht.match(/^-[\w\\\-]*/))return ht.eatWhile(/[\w\\\-]/),ht.match(/^\s*:/,!1)?$t("variable-2","variable-definition"):$t("variable-2","variable");if(ht.match(/^\w+-/))return $t("meta","meta")}else return/[,+>*\/]/.test(Ft)?$t(null,"select-op"):Ft=="."&&ht.match(/^-?[_a-z][_a-z0-9-]*/i)?$t("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Ft)?$t(null,Ft):ht.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(ht.current())&&(kt.tokenize=ae),$t("variable callee","variable")):/[\w\\\-]/.test(Ft)?(ht.eatWhile(/[\w\\\-]/),$t("property","word")):$t(null,null)}function Ct(ht){return function(kt,Ft){for(var me=!1,Ye;(Ye=kt.next())!=null;){if(Ye==ht&&!me){ht==")"&&kt.backUp(1);break}me=!me&&Ye=="\\"}return(Ye==ht||!me&&ht!=")")&&(Ft.tokenize=null),$t("string","string")}}function ae(ht,kt){return ht.next(),ht.match(/^\s*[\"\')]/,!1)?kt.tokenize=null:kt.tokenize=Ct(")"),$t(null,"(")}function he(ht,kt,Ft){this.type=ht,this.indent=kt,this.prev=Ft}function ce(ht,kt,Ft,me){return ht.context=new he(Ft,kt.indentation()+(me===!1?0:q),ht.context),Ft}function K(ht){return ht.context.prev&&(ht.context=ht.context.prev),ht.context.type}function at(ht,kt,Ft){return Qt[Ft.context.type](ht,kt,Ft)}function mt(ht,kt,Ft,me){for(var Ye=me||1;Ye>0;Ye--)Ft.context=Ft.context.prev;return at(ht,kt,Ft)}function At(ht){var kt=ht.current().toLowerCase();ft.hasOwnProperty(kt)?st="atom":rt.hasOwnProperty(kt)?st="keyword":st="variable"}var Qt={};return Qt.top=function(ht,kt,Ft){if(ht=="{")return ce(Ft,kt,"block");if(ht=="}"&&Ft.context.prev)return K(Ft);if(zt&&/@component/i.test(ht))return ce(Ft,kt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(ht))return ce(Ft,kt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(ht))return ce(Ft,kt,"atBlock");if(/^@(font-face|counter-style)/i.test(ht))return Ft.stateArg=ht,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(ht))return"keyframes";if(ht&&ht.charAt(0)=="@")return ce(Ft,kt,"at");if(ht=="hash")st="builtin";else if(ht=="word")st="tag";else{if(ht=="variable-definition")return"maybeprop";if(ht=="interpolation")return ce(Ft,kt,"interpolation");if(ht==":")return"pseudo";if(wt&&ht=="(")return ce(Ft,kt,"parens")}return Ft.context.type},Qt.block=function(ht,kt,Ft){if(ht=="word"){var me=kt.current().toLowerCase();return Vt.hasOwnProperty(me)?(st="property","maybeprop"):qt.hasOwnProperty(me)?(st=Wt?"string-2":"property","maybeprop"):wt?(st=kt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(st+=" error","maybeprop")}else return ht=="meta"?"block":!wt&&(ht=="hash"||ht=="qualifier")?(st="error","block"):Qt.top(ht,kt,Ft)},Qt.maybeprop=function(ht,kt,Ft){return ht==":"?ce(Ft,kt,"prop"):at(ht,kt,Ft)},Qt.prop=function(ht,kt,Ft){if(ht==";")return K(Ft);if(ht=="{"&&wt)return ce(Ft,kt,"propBlock");if(ht=="}"||ht=="{")return mt(ht,kt,Ft);if(ht=="(")return ce(Ft,kt,"parens");if(ht=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(kt.current()))st+=" error";else if(ht=="word")At(kt);else if(ht=="interpolation")return ce(Ft,kt,"interpolation");return"prop"},Qt.propBlock=function(ht,kt,Ft){return ht=="}"?K(Ft):ht=="word"?(st="property","maybeprop"):Ft.context.type},Qt.parens=function(ht,kt,Ft){return ht=="{"||ht=="}"?mt(ht,kt,Ft):ht==")"?K(Ft):ht=="("?ce(Ft,kt,"parens"):ht=="interpolation"?ce(Ft,kt,"interpolation"):(ht=="word"&&At(kt),"parens")},Qt.pseudo=function(ht,kt,Ft){return ht=="meta"?"pseudo":ht=="word"?(st="variable-3",Ft.context.type):at(ht,kt,Ft)},Qt.documentTypes=function(ht,kt,Ft){return ht=="word"&&D.hasOwnProperty(kt.current())?(st="tag",Ft.context.type):Qt.atBlock(ht,kt,Ft)},Qt.atBlock=function(ht,kt,Ft){if(ht=="(")return ce(Ft,kt,"atBlock_parens");if(ht=="}"||ht==";")return mt(ht,kt,Ft);if(ht=="{")return K(Ft)&&ce(Ft,kt,wt?"block":"top");if(ht=="interpolation")return ce(Ft,kt,"interpolation");if(ht=="word"){var me=kt.current().toLowerCase();me=="only"||me=="not"||me=="and"||me=="or"?st="keyword":Z.hasOwnProperty(me)?st="attribute":nt.hasOwnProperty(me)?st="property":pt.hasOwnProperty(me)?st="keyword":Vt.hasOwnProperty(me)?st="property":qt.hasOwnProperty(me)?st=Wt?"string-2":"property":ft.hasOwnProperty(me)?st="atom":rt.hasOwnProperty(me)?st="keyword":st="error"}return Ft.context.type},Qt.atComponentBlock=function(ht,kt,Ft){return ht=="}"?mt(ht,kt,Ft):ht=="{"?K(Ft)&&ce(Ft,kt,wt?"block":"top",!1):(ht=="word"&&(st="error"),Ft.context.type)},Qt.atBlock_parens=function(ht,kt,Ft){return ht==")"?K(Ft):ht=="{"||ht=="}"?mt(ht,kt,Ft,2):Qt.atBlock(ht,kt,Ft)},Qt.restricted_atBlock_before=function(ht,kt,Ft){return ht=="{"?ce(Ft,kt,"restricted_atBlock"):ht=="word"&&Ft.stateArg=="@counter-style"?(st="variable","restricted_atBlock_before"):at(ht,kt,Ft)},Qt.restricted_atBlock=function(ht,kt,Ft){return ht=="}"?(Ft.stateArg=null,K(Ft)):ht=="word"?(Ft.stateArg=="@font-face"&&!Pt.hasOwnProperty(kt.current().toLowerCase())||Ft.stateArg=="@counter-style"&&!yt.hasOwnProperty(kt.current().toLowerCase())?st="error":st="property","maybeprop"):"restricted_atBlock"},Qt.keyframes=function(ht,kt,Ft){return ht=="word"?(st="variable","keyframes"):ht=="{"?ce(Ft,kt,"top"):at(ht,kt,Ft)},Qt.at=function(ht,kt,Ft){return ht==";"?K(Ft):ht=="{"||ht=="}"?mt(ht,kt,Ft):(ht=="word"?st="tag":ht=="hash"&&(st="builtin"),"at")},Qt.interpolation=function(ht,kt,Ft){return ht=="}"?K(Ft):ht=="{"||ht==";"?mt(ht,kt,Ft):(ht=="word"?st="variable":ht!="variable"&&ht!="("&&ht!=")"&&(st="error"),"interpolation")},{startState:function(ht){return{tokenize:null,state:W?"block":"top",stateArg:null,context:new he(W?"block":"top",ht||0,null)}},token:function(ht,kt){if(!kt.tokenize&&ht.eatSpace())return null;var Ft=(kt.tokenize||le)(ht,kt);return Ft&&typeof Ft=="object"&&(Nt=Ft[1],Ft=Ft[0]),st=Ft,Nt!="comment"&&(kt.state=Qt[kt.state](Nt,ht,kt)),st},indent:function(ht,kt){var Ft=ht.context,me=kt&&kt.charAt(0),Ye=Ft.indent;return Ft.type=="prop"&&(me=="}"||me==")")&&(Ft=Ft.prev),Ft.prev&&(me=="}"&&(Ft.type=="block"||Ft.type=="top"||Ft.type=="interpolation"||Ft.type=="restricted_atBlock")?(Ft=Ft.prev,Ye=Ft.indent):(me==")"&&(Ft.type=="parens"||Ft.type=="atBlock_parens")||me=="{"&&(Ft.type=="at"||Ft.type=="atBlock"))&&(Ye=Math.max(0,Ft.indent-q))),Ye},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Et,fold:"brace"}});function i(H){for(var L={},W=0;W<H.length;++W)L[H[W].toLowerCase()]=!0;return L}var r=["domain","regexp","url","url-prefix"],a=i(r),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],l=i(s),c=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],u=i(c),p=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],g=i(p),h=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],y=i(h),_=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],O=i(_),M=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],w=i(M),T=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],b=i(T),k=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],E=i(k),N=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],F=i(N),V=r.concat(s).concat(c).concat(p).concat(h).concat(_).concat(k).concat(N);e.registerHelper("hintWords","css",V);function R(H,L){for(var W=!1,q;(q=H.next())!=null;){if(W&&q=="/"){L.tokenize=null;break}W=q=="*"}return["comment","comment"]}e.defineMIME("text/css",{documentTypes:a,mediaTypes:l,mediaFeatures:u,mediaValueKeywords:g,propertyKeywords:y,nonStandardPropertyKeywords:O,fontProperties:w,counterDescriptors:b,colorKeywords:E,valueKeywords:F,tokenHooks:{"/":function(H,L){return H.eat("*")?(L.tokenize=R,R(H,L)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:l,mediaFeatures:u,mediaValueKeywords:g,propertyKeywords:y,nonStandardPropertyKeywords:O,colorKeywords:E,valueKeywords:F,fontProperties:w,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,L){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(L.tokenize=R,R(H,L)):["operator","operator"]},":":function(H){return H.match(/^\s*\{/,!1)?[null,null]:!1},$:function(H){return H.match(/^[\w-]+/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(H){return H.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:l,mediaFeatures:u,mediaValueKeywords:g,propertyKeywords:y,nonStandardPropertyKeywords:O,colorKeywords:E,valueKeywords:F,fontProperties:w,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,L){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(L.tokenize=R,R(H,L)):["operator","operator"]},"@":function(H){return H.eat("{")?[null,"interpolation"]:H.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(H.eatWhile(/[\w\\\-]/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:a,mediaTypes:l,mediaFeatures:u,propertyKeywords:y,nonStandardPropertyKeywords:O,fontProperties:w,counterDescriptors:b,colorKeywords:E,valueKeywords:F,supportsAtComponent:!0,tokenHooks:{"/":function(H,L){return H.eat("*")?(L.tokenize=R,R(H,L)):!1}},name:"css",helperType:"gss"})})},8253:(o,n,t)=>{(function(e){e(t(4408),t(9701),t(6061),t(7389))})(function(e){"use strict";var i={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function r(g,h,y){var _=g.current(),O=_.search(h);return O>-1?g.backUp(_.length-O):_.match(/<\/?$/)&&(g.backUp(_.length),g.match(h,!1)||g.match(_)),y}var a={};function s(g){var h=a[g];return h||(a[g]=new RegExp("\\s+"+g+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function l(g,h){var y=g.match(s(h));return y?/^\s*(.*?)\s*$/.exec(y[2])[1]:""}function c(g,h){return new RegExp((h?"^":"")+"</s*"+g+"s*>","i")}function u(g,h){for(var y in g)for(var _=h[y]||(h[y]=[]),O=g[y],M=O.length-1;M>=0;M--)_.unshift(O[M])}function p(g,h){for(var y=0;y<g.length;y++){var _=g[y];if(!_[0]||_[1].test(l(h,_[0])))return _[2]}}e.defineMode("htmlmixed",function(g,h){var y=e.getMode(g,{name:"xml",htmlMode:!0,multilineTagIndentFactor:h.multilineTagIndentFactor,multilineTagIndentPastTag:h.multilineTagIndentPastTag,allowMissingTagName:h.allowMissingTagName}),_={},O=h&&h.tags,M=h&&h.scriptTypes;if(u(i,_),O&&u(O,_),M)for(var w=M.length-1;w>=0;w--)_.script.unshift(["type",M[w].matches,M[w].mode]);function T(b,k){var E=y.token(b,k.htmlState),N=/\btag\b/.test(E),F;if(N&&!/[<>\s\/]/.test(b.current())&&(F=k.htmlState.tagName&&k.htmlState.tagName.toLowerCase())&&_.hasOwnProperty(F))k.inTag=F+" ";else if(k.inTag&&N&&/>$/.test(b.current())){var V=/^([\S]+) (.*)/.exec(k.inTag);k.inTag=null;var R=b.current()==">"&&p(_[V[1]],V[2]),H=e.getMode(g,R),L=c(V[1],!0),W=c(V[1],!1);k.token=function(q,J){return q.match(L,!1)?(J.token=T,J.localState=J.localMode=null,null):r(q,W,J.localMode.token(q,J.localState))},k.localMode=H,k.localState=e.startState(H,y.indent(k.htmlState,"",""))}else k.inTag&&(k.inTag+=b.current(),b.eol()&&(k.inTag+=" "));return E}return{startState:function(){var b=e.startState(y);return{token:T,inTag:null,localMode:null,localState:null,htmlState:b}},copyState:function(b){var k;return b.localState&&(k=e.copyState(b.localMode,b.localState)),{token:b.token,inTag:b.inTag,localMode:b.localMode,localState:k,htmlState:e.copyState(y,b.htmlState)}},token:function(b,k){return k.token(b,k)},indent:function(b,k,E){return!b.localMode||/^\s*<\//.test(k)?y.indent(b.htmlState,k,E):b.localMode.indent?b.localMode.indent(b.localState,k,E):e.Pass},innerMode:function(b){return{state:b.localState||b.htmlState,mode:b.localMode||y}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")})},6061:(o,n,t)=>{(function(e){e(t(4408))})(function(e){"use strict";e.defineMode("javascript",function(i,r){var a=i.indentUnit,s=r.statementIndent,l=r.jsonld,c=r.json||l,u=r.trackScope!==!1,p=r.typescript,g=r.wordCharacters||/[\w$\xa1-\uffff]/,h=function(){function it(Nn){return{type:Nn,style:"keyword"}}var bt=it("keyword a"),te=it("keyword b"),pe=it("keyword c"),ge=it("keyword d"),nn=it("operator"),dn={type:"atom",style:"atom"};return{if:it("if"),while:bt,with:bt,else:te,do:te,try:te,finally:te,return:ge,break:ge,continue:ge,new:it("new"),delete:pe,void:pe,throw:pe,debugger:it("debugger"),var:it("var"),const:it("var"),let:it("var"),function:it("function"),catch:it("catch"),for:it("for"),switch:it("switch"),case:it("case"),default:it("default"),in:nn,typeof:nn,instanceof:nn,true:dn,false:dn,null:dn,undefined:dn,NaN:dn,Infinity:dn,this:it("this"),class:it("class"),super:it("atom"),yield:pe,export:it("export"),import:it("import"),extends:pe,await:pe}}(),y=/[+\-*&%=<>!?|~^@]/,_=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function O(it){for(var bt=!1,te,pe=!1;(te=it.next())!=null;){if(!bt){if(te=="/"&&!pe)return;te=="["?pe=!0:pe&&te=="]"&&(pe=!1)}bt=!bt&&te=="\\"}}var M,w;function T(it,bt,te){return M=it,w=te,bt}function b(it,bt){var te=it.next();if(te=='"'||te=="'")return bt.tokenize=k(te),bt.tokenize(it,bt);if(te=="."&&it.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return T("number","number");if(te=="."&&it.match(".."))return T("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(te))return T(te);if(te=="="&&it.eat(">"))return T("=>","operator");if(te=="0"&&it.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return T("number","number");if(/\d/.test(te))return it.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),T("number","number");if(te=="/")return it.eat("*")?(bt.tokenize=E,E(it,bt)):it.eat("/")?(it.skipToEnd(),T("comment","comment")):Ln(it,bt,1)?(O(it),it.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),T("regexp","string-2")):(it.eat("="),T("operator","operator",it.current()));if(te=="`")return bt.tokenize=N,N(it,bt);if(te=="#"&&it.peek()=="!")return it.skipToEnd(),T("meta","meta");if(te=="#"&&it.eatWhile(g))return T("variable","property");if(te=="<"&&it.match("!--")||te=="-"&&it.match("->")&&!/\S/.test(it.string.slice(0,it.start)))return it.skipToEnd(),T("comment","comment");if(y.test(te))return(te!=">"||!bt.lexical||bt.lexical.type!=">")&&(it.eat("=")?(te=="!"||te=="=")&&it.eat("="):/[<>*+\-|&?]/.test(te)&&(it.eat(te),te==">"&&it.eat(te))),te=="?"&&it.eat(".")?T("."):T("operator","operator",it.current());if(g.test(te)){it.eatWhile(g);var pe=it.current();if(bt.lastType!="."){if(h.propertyIsEnumerable(pe)){var ge=h[pe];return T(ge.type,ge.style,pe)}if(pe=="async"&&it.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return T("async","keyword",pe)}return T("variable","variable",pe)}}function k(it){return function(bt,te){var pe=!1,ge;if(l&&bt.peek()=="@"&&bt.match(_))return te.tokenize=b,T("jsonld-keyword","meta");for(;(ge=bt.next())!=null&&!(ge==it&&!pe);)pe=!pe&&ge=="\\";return pe||(te.tokenize=b),T("string","string")}}function E(it,bt){for(var te=!1,pe;pe=it.next();){if(pe=="/"&&te){bt.tokenize=b;break}te=pe=="*"}return T("comment","comment")}function N(it,bt){for(var te=!1,pe;(pe=it.next())!=null;){if(!te&&(pe=="`"||pe=="$"&&it.eat("{"))){bt.tokenize=b;break}te=!te&&pe=="\\"}return T("quasi","string-2",it.current())}var F="([{}])";function V(it,bt){bt.fatArrowAt&&(bt.fatArrowAt=null);var te=it.string.indexOf("=>",it.start);if(!(te<0)){if(p){var pe=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(it.string.slice(it.start,te));pe&&(te=pe.index)}for(var ge=0,nn=!1,dn=te-1;dn>=0;--dn){var Nn=it.string.charAt(dn),zn=F.indexOf(Nn);if(zn>=0&&zn<3){if(!ge){++dn;break}if(--ge==0){Nn=="("&&(nn=!0);break}}else if(zn>=3&&zn<6)++ge;else if(g.test(Nn))nn=!0;else if(/["'\/`]/.test(Nn))for(;;--dn){if(dn==0)return;var Ya=it.string.charAt(dn-1);if(Ya==Nn&&it.string.charAt(dn-2)!="\\"){dn--;break}}else if(nn&&!ge){++dn;break}}nn&&!ge&&(bt.fatArrowAt=dn)}}var R={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function H(it,bt,te,pe,ge,nn){this.indented=it,this.column=bt,this.type=te,this.prev=ge,this.info=nn,pe!=null&&(this.align=pe)}function L(it,bt){if(!u)return!1;for(var te=it.localVars;te;te=te.next)if(te.name==bt)return!0;for(var pe=it.context;pe;pe=pe.prev)for(var te=pe.vars;te;te=te.next)if(te.name==bt)return!0}function W(it,bt,te,pe,ge){var nn=it.cc;for(q.state=it,q.stream=ge,q.marked=null,q.cc=nn,q.style=bt,it.lexical.hasOwnProperty("align")||(it.lexical.align=!0);;){var dn=nn.length?nn.pop():c?$t:Nt;if(dn(te,pe)){for(;nn.length&&nn[nn.length-1].lex;)nn.pop()();return q.marked?q.marked:te=="variable"&&L(it,pe)?"variable-2":bt}}}var q={state:null,column:null,marked:null,cc:null};function J(){for(var it=arguments.length-1;it>=0;it--)q.cc.push(arguments[it])}function D(){return J.apply(null,arguments),!0}function Z(it,bt){for(var te=bt;te;te=te.next)if(te.name==it)return!0;return!1}function nt(it){var bt=q.state;if(q.marked="def",!!u){if(bt.context){if(bt.lexical.info=="var"&&bt.context&&bt.context.block){var te=pt(it,bt.context);if(te!=null){bt.context=te;return}}else if(!Z(it,bt.localVars)){bt.localVars=new Pt(it,bt.localVars);return}}r.globalVars&&!Z(it,bt.globalVars)&&(bt.globalVars=new Pt(it,bt.globalVars))}}function pt(it,bt){if(bt)if(bt.block){var te=pt(it,bt.prev);return te?te==bt.prev?bt:new qt(te,bt.vars,!0):null}else return Z(it,bt.vars)?bt:new qt(bt.prev,new Pt(it,bt.vars),!1);else return null}function Vt(it){return it=="public"||it=="private"||it=="protected"||it=="abstract"||it=="readonly"}function qt(it,bt,te){this.prev=it,this.vars=bt,this.block=te}function Pt(it,bt){this.name=it,this.next=bt}var yt=new Pt("this",new Pt("arguments",null));function rt(){q.state.context=new qt(q.state.context,q.state.localVars,!1),q.state.localVars=yt}function ft(){q.state.context=new qt(q.state.context,q.state.localVars,!0),q.state.localVars=null}function wt(){q.state.localVars=q.state.context.vars,q.state.context=q.state.context.prev}wt.lex=!0;function Et(it,bt){var te=function(){var pe=q.state,ge=pe.indented;if(pe.lexical.type=="stat")ge=pe.lexical.indented;else for(var nn=pe.lexical;nn&&nn.type==")"&&nn.align;nn=nn.prev)ge=nn.indented;pe.lexical=new H(ge,q.stream.column(),it,null,pe.lexical,bt)};return te.lex=!0,te}function zt(){var it=q.state;it.lexical.prev&&(it.lexical.type==")"&&(it.indented=it.lexical.indented),it.lexical=it.lexical.prev)}zt.lex=!0;function Wt(it){function bt(te){return te==it?D():it==";"||te=="}"||te==")"||te=="]"?J():D(bt)}return bt}function Nt(it,bt){return it=="var"?D(Et("vardef",bt),Te,Wt(";"),zt):it=="keyword a"?D(Et("form"),Ct,Nt,zt):it=="keyword b"?D(Et("form"),Nt,zt):it=="keyword d"?q.stream.match(/^\s*$/,!1)?D():D(Et("stat"),he,Wt(";"),zt):it=="debugger"?D(Wt(";")):it=="{"?D(Et("}"),ft,Ht,zt,wt):it==";"?D():it=="if"?(q.state.lexical.info=="else"&&q.state.cc[q.state.cc.length-1]==zt&&q.state.cc.pop()(),D(Et("form"),Ct,Nt,zt,Mn)):it=="function"?D(sn):it=="for"?D(Et("form"),ft,fn,Nt,wt,zt):it=="class"||p&&bt=="interface"?(q.marked="keyword",D(Et("form",it=="class"?it:bt),Ve,zt)):it=="variable"?p&&bt=="declare"?(q.marked="keyword",D(Nt)):p&&(bt=="module"||bt=="enum"||bt=="type")&&q.stream.match(/^\s*\w/,!1)?(q.marked="keyword",bt=="enum"?D(Y):bt=="type"?D(Yn,Wt("operator"),Ae,Wt(";")):D(Et("form"),Ne,Wt("{"),Et("}"),Ht,zt,zt)):p&&bt=="namespace"?(q.marked="keyword",D(Et("form"),$t,Nt,zt)):p&&bt=="abstract"?(q.marked="keyword",D(Nt)):D(Et("stat"),me):it=="switch"?D(Et("form"),Ct,Wt("{"),Et("}","switch"),ft,Ht,zt,zt,wt):it=="case"?D($t,Wt(":")):it=="default"?D(Wt(":")):it=="catch"?D(Et("form"),rt,st,Nt,zt,wt):it=="export"?D(Et("stat"),G,zt):it=="import"?D(Et("stat"),gt,zt):it=="async"?D(Nt):bt=="@"?D($t,Nt):J(Et("stat"),$t,Wt(";"),zt)}function st(it){if(it=="(")return D(Be,Wt(")"))}function $t(it,bt){return ae(it,bt,!1)}function le(it,bt){return ae(it,bt,!0)}function Ct(it){return it!="("?J():D(Et(")"),he,Wt(")"),zt)}function ae(it,bt,te){if(q.state.fatArrowAt==q.stream.start){var pe=te?Qt:At;if(it=="(")return D(rt,Et(")"),ot(Be,")"),zt,Wt("=>"),pe,wt);if(it=="variable")return J(rt,Ne,Wt("=>"),pe,wt)}var ge=te?K:ce;return R.hasOwnProperty(it)?D(ge):it=="function"?D(sn,ge):it=="class"||p&&bt=="interface"?(q.marked="keyword",D(Et("form"),Xn,zt)):it=="keyword c"||it=="async"?D(te?le:$t):it=="("?D(Et(")"),he,Wt(")"),zt,ge):it=="operator"||it=="spread"?D(te?le:$t):it=="["?D(Et("]"),ze,zt,ge):it=="{"?re(Le,"}",null,ge):it=="quasi"?J(at,ge):it=="new"?D(ht(te)):D()}function he(it){return it.match(/[;\}\)\],]/)?J():J($t)}function ce(it,bt){return it==","?D(he):K(it,bt,!1)}function K(it,bt,te){var pe=te==!1?ce:K,ge=te==!1?$t:le;if(it=="=>")return D(rt,te?Qt:At,wt);if(it=="operator")return/\+\+|--/.test(bt)||p&&bt=="!"?D(pe):p&&bt=="<"&&q.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?D(Et(">"),ot(Ae,">"),zt,pe):bt=="?"?D($t,Wt(":"),ge):D(ge);if(it=="quasi")return J(at,pe);if(it!=";"){if(it=="(")return re(le,")","call",pe);if(it==".")return D(Ye,pe);if(it=="[")return D(Et("]"),he,Wt("]"),zt,pe);if(p&&bt=="as")return q.marked="keyword",D(Ae,pe);if(it=="regexp")return q.state.lastType=q.marked="operator",q.stream.backUp(q.stream.pos-q.stream.start-1),D(ge)}}function at(it,bt){return it!="quasi"?J():bt.slice(bt.length-2)!="${"?D(at):D(he,mt)}function mt(it){if(it=="}")return q.marked="string-2",q.state.tokenize=N,D(at)}function At(it){return V(q.stream,q.state),J(it=="{"?Nt:$t)}function Qt(it){return V(q.stream,q.state),J(it=="{"?Nt:le)}function ht(it){return function(bt){return bt=="."?D(it?Ft:kt):bt=="variable"&&p?D(Rt,it?K:ce):J(it?le:$t)}}function kt(it,bt){if(bt=="target")return q.marked="keyword",D(ce)}function Ft(it,bt){if(bt=="target")return q.marked="keyword",D(K)}function me(it){return it==":"?D(zt,Nt):J(ce,Wt(";"),zt)}function Ye(it){if(it=="variable")return q.marked="property",D()}function Le(it,bt){if(it=="async")return q.marked="property",D(Le);if(it=="variable"||q.style=="keyword"){if(q.marked="property",bt=="get"||bt=="set")return D(ut);var te;return p&&q.state.fatArrowAt==q.stream.start&&(te=q.stream.match(/^\s*:\s*/,!1))&&(q.state.fatArrowAt=q.stream.pos+te[0].length),D(Tt)}else{if(it=="number"||it=="string")return q.marked=l?"property":q.style+" property",D(Tt);if(it=="jsonld-keyword")return D(Tt);if(p&&Vt(bt))return q.marked="keyword",D(Le);if(it=="[")return D($t,de,Wt("]"),Tt);if(it=="spread")return D(le,Tt);if(bt=="*")return q.marked="keyword",D(Le);if(it==":")return J(Tt)}}function ut(it){return it!="variable"?J(Tt):(q.marked="property",D(sn))}function Tt(it){if(it==":")return D(le);if(it=="(")return J(sn)}function ot(it,bt,te){function pe(ge,nn){if(te?te.indexOf(ge)>-1:ge==","){var dn=q.state.lexical;return dn.info=="call"&&(dn.pos=(dn.pos||0)+1),D(function(Nn,zn){return Nn==bt||zn==bt?J():J(it)},pe)}return ge==bt||nn==bt?D():te&&te.indexOf(";")>-1?J(it):D(Wt(bt))}return function(ge,nn){return ge==bt||nn==bt?D():J(it,pe)}}function re(it,bt,te){for(var pe=3;pe<arguments.length;pe++)q.cc.push(arguments[pe]);return D(Et(bt,te),ot(it,bt),zt)}function Ht(it){return it=="}"?D():J(Nt,Ht)}function de(it,bt){if(p){if(it==":")return D(Ae);if(bt=="?")return D(de)}}function Oe(it,bt){if(p&&(it==":"||bt=="in"))return D(Ae)}function Pe(it){if(p&&it==":")return q.stream.match(/^\s*\w+\s+is\b/,!1)?D($t,_e,Ae):D(Ae)}function _e(it,bt){if(bt=="is")return q.marked="keyword",D()}function Ae(it,bt){if(bt=="keyof"||bt=="typeof"||bt=="infer"||bt=="readonly")return q.marked="keyword",D(bt=="typeof"?le:Ae);if(it=="variable"||bt=="void")return q.marked="type",D(Mt);if(bt=="|"||bt=="&")return D(Ae);if(it=="string"||it=="number"||it=="atom")return D(Mt);if(it=="[")return D(Et("]"),ot(Ae,"]",","),zt,Mt);if(it=="{")return D(Et("}"),Xe,zt,Mt);if(it=="(")return D(ot(dt,")"),Qe,Mt);if(it=="<")return D(ot(Ae,">"),Ae);if(it=="quasi")return J(_n,Mt)}function Qe(it){if(it=="=>")return D(Ae)}function Xe(it){return it.match(/[\}\)\]]/)?D():it==","||it==";"?D(Xe):J(Ze,Xe)}function Ze(it,bt){if(it=="variable"||q.style=="keyword")return q.marked="property",D(Ze);if(bt=="?"||it=="number"||it=="string")return D(Ze);if(it==":")return D(Ae);if(it=="[")return D(Wt("variable"),Oe,Wt("]"),Ze);if(it=="(")return J(wn,Ze);if(!it.match(/[;\}\)\],]/))return D()}function _n(it,bt){return it!="quasi"?J():bt.slice(bt.length-2)!="${"?D(_n):D(Ae,Kn)}function Kn(it){if(it=="}")return q.marked="string-2",q.state.tokenize=N,D(_n)}function dt(it,bt){return it=="variable"&&q.stream.match(/^\s*[?:]/,!1)||bt=="?"?D(dt):it==":"?D(Ae):it=="spread"?D(dt):J(Ae)}function Mt(it,bt){if(bt=="<")return D(Et(">"),ot(Ae,">"),zt,Mt);if(bt=="|"||it=="."||bt=="&")return D(Ae);if(it=="[")return D(Ae,Wt("]"),Mt);if(bt=="extends"||bt=="implements")return q.marked="keyword",D(Ae);if(bt=="?")return D(Ae,Wt(":"),Ae)}function Rt(it,bt){if(bt=="<")return D(Et(">"),ot(Ae,">"),zt,Mt)}function ne(){return J(Ae,Ce)}function Ce(it,bt){if(bt=="=")return D(Ae)}function Te(it,bt){return bt=="enum"?(q.marked="keyword",D(Y)):J(Ne,de,rn,mi)}function Ne(it,bt){if(p&&Vt(bt))return q.marked="keyword",D(Ne);if(it=="variable")return nt(bt),D();if(it=="spread")return D(Ne);if(it=="[")return re(On,"]");if(it=="{")return re(Pn,"}")}function Pn(it,bt){return it=="variable"&&!q.stream.match(/^\s*:/,!1)?(nt(bt),D(rn)):(it=="variable"&&(q.marked="property"),it=="spread"?D(Ne):it=="}"?J():it=="["?D($t,Wt("]"),Wt(":"),Pn):D(Wt(":"),Ne,rn))}function On(){return J(Ne,rn)}function rn(it,bt){if(bt=="=")return D(le)}function mi(it){if(it==",")return D(Te)}function Mn(it,bt){if(it=="keyword b"&&bt=="else")return D(Et("form","else"),Nt,zt)}function fn(it,bt){if(bt=="await")return D(fn);if(it=="(")return D(Et(")"),Si,zt)}function Si(it){return it=="var"?D(Te,yn):it=="variable"?D(yn):J(yn)}function yn(it,bt){return it==")"?D():it==";"?D(yn):bt=="in"||bt=="of"?(q.marked="keyword",D($t,yn)):J($t,yn)}function sn(it,bt){if(bt=="*")return q.marked="keyword",D(sn);if(it=="variable")return nt(bt),D(sn);if(it=="(")return D(rt,Et(")"),ot(Be,")"),zt,Pe,Nt,wt);if(p&&bt=="<")return D(Et(">"),ot(ne,">"),zt,sn)}function wn(it,bt){if(bt=="*")return q.marked="keyword",D(wn);if(it=="variable")return nt(bt),D(wn);if(it=="(")return D(rt,Et(")"),ot(Be,")"),zt,Pe,wt);if(p&&bt=="<")return D(Et(">"),ot(ne,">"),zt,wn)}function Yn(it,bt){if(it=="keyword"||it=="variable")return q.marked="type",D(Yn);if(bt=="<")return D(Et(">"),ot(ne,">"),zt)}function Be(it,bt){return bt=="@"&&D($t,Be),it=="spread"?D(Be):p&&Vt(bt)?(q.marked="keyword",D(Be)):p&&it=="this"?D(de,rn):J(Ne,de,rn)}function Xn(it,bt){return it=="variable"?Ve(it,bt):Dn(it,bt)}function Ve(it,bt){if(it=="variable")return nt(bt),D(Dn)}function Dn(it,bt){if(bt=="<")return D(Et(">"),ot(ne,">"),zt,Dn);if(bt=="extends"||bt=="implements"||p&&it==",")return bt=="implements"&&(q.marked="keyword"),D(p?Ae:$t,Dn);if(it=="{")return D(Et("}"),vn,zt)}function vn(it,bt){if(it=="async"||it=="variable"&&(bt=="static"||bt=="get"||bt=="set"||p&&Vt(bt))&&q.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return q.marked="keyword",D(vn);if(it=="variable"||q.style=="keyword")return q.marked="property",D(A,vn);if(it=="number"||it=="string")return D(A,vn);if(it=="[")return D($t,de,Wt("]"),A,vn);if(bt=="*")return q.marked="keyword",D(vn);if(p&&it=="(")return J(wn,vn);if(it==";"||it==",")return D(vn);if(it=="}")return D();if(bt=="@")return D($t,vn)}function A(it,bt){if(bt=="!"||bt=="?")return D(A);if(it==":")return D(Ae,rn);if(bt=="=")return D(le);var te=q.state.lexical.prev,pe=te&&te.info=="interface";return J(pe?wn:sn)}function G(it,bt){return bt=="*"?(q.marked="keyword",D(He,Wt(";"))):bt=="default"?(q.marked="keyword",D($t,Wt(";"))):it=="{"?D(ot(B,"}"),He,Wt(";")):J(Nt)}function B(it,bt){if(bt=="as")return q.marked="keyword",D(Wt("variable"));if(it=="variable")return J(le,B)}function gt(it){return it=="string"?D():it=="("?J($t):it=="."?J(ce):J(Yt,Ee,He)}function Yt(it,bt){return it=="{"?re(Yt,"}"):(it=="variable"&&nt(bt),bt=="*"&&(q.marked="keyword"),D(je))}function Ee(it){if(it==",")return D(Yt,Ee)}function je(it,bt){if(bt=="as")return q.marked="keyword",D(Yt)}function He(it,bt){if(bt=="from")return q.marked="keyword",D($t)}function ze(it){return it=="]"?D():J(ot(le,"]"))}function Y(){return J(Et("form"),Ne,Wt("{"),Et("}"),ot(Zt,"}"),zt,zt)}function Zt(){return J(Ne,rn)}function Re(it,bt){return it.lastType=="operator"||it.lastType==","||y.test(bt.charAt(0))||/[,.]/.test(bt.charAt(0))}function Ln(it,bt,te){return bt.tokenize==b&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(bt.lastType)||bt.lastType=="quasi"&&/\{\s*$/.test(it.string.slice(0,it.pos-(te||0)))}return{startState:function(it){var bt={tokenize:b,lastType:"sof",cc:[],lexical:new H((it||0)-a,0,"block",!1),localVars:r.localVars,context:r.localVars&&new qt(null,null,!1),indented:it||0};return r.globalVars&&typeof r.globalVars=="object"&&(bt.globalVars=r.globalVars),bt},token:function(it,bt){if(it.sol()&&(bt.lexical.hasOwnProperty("align")||(bt.lexical.align=!1),bt.indented=it.indentation(),V(it,bt)),bt.tokenize!=E&&it.eatSpace())return null;var te=bt.tokenize(it,bt);return M=="comment"?te:(bt.lastType=M=="operator"&&(w=="++"||w=="--")?"incdec":M,W(bt,te,M,w,it))},indent:function(it,bt){if(it.tokenize==E||it.tokenize==N)return e.Pass;if(it.tokenize!=b)return 0;var te=bt&&bt.charAt(0),pe=it.lexical,ge;if(!/^\s*else\b/.test(bt))for(var nn=it.cc.length-1;nn>=0;--nn){var dn=it.cc[nn];if(dn==zt)pe=pe.prev;else if(dn!=Mn&&dn!=wt)break}for(;(pe.type=="stat"||pe.type=="form")&&(te=="}"||(ge=it.cc[it.cc.length-1])&&(ge==ce||ge==K)&&!/^[,\.=+\-*:?[\(]/.test(bt));)pe=pe.prev;s&&pe.type==")"&&pe.prev.type=="stat"&&(pe=pe.prev);var Nn=pe.type,zn=te==Nn;return Nn=="vardef"?pe.indented+(it.lastType=="operator"||it.lastType==","?pe.info.length+1:0):Nn=="form"&&te=="{"?pe.indented:Nn=="form"?pe.indented+a:Nn=="stat"?pe.indented+(Re(it,bt)?s||a:0):pe.info=="switch"&&!zn&&r.doubleIndentSwitch!=!1?pe.indented+(/^(?:case|default)\b/.test(bt)?a:2*a):pe.align?pe.column+(zn?0:1):pe.indented+(zn?0:a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:c?null:"/*",blockCommentEnd:c?null:"*/",blockCommentContinue:c?null:" * ",lineComment:c?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:c?"json":"javascript",jsonldMode:l,jsonMode:c,expressionAllowed:Ln,skipExpression:function(it){W(it,"atom","atom","true",new e.StringStream("",2,null))}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},9701:(o,n,t)=>{(function(e){e(t(4408))})(function(e){"use strict";var i={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},r={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(a,s){var l=a.indentUnit,c={},u=s.htmlMode?i:r;for(var p in u)c[p]=u[p];for(var p in s)c[p]=s[p];var g,h;function y(D,Z){function nt(qt){return Z.tokenize=qt,qt(D,Z)}var pt=D.next();if(pt=="<")return D.eat("!")?D.eat("[")?D.match("CDATA[")?nt(M("atom","]]>")):null:D.match("--")?nt(M("comment","-->")):D.match("DOCTYPE",!0,!0)?(D.eatWhile(/[\w\._\-]/),nt(w(1))):null:D.eat("?")?(D.eatWhile(/[\w\._\-]/),Z.tokenize=M("meta","?>"),"meta"):(g=D.eat("/")?"closeTag":"openTag",Z.tokenize=_,"tag bracket");if(pt=="&"){var Vt;return D.eat("#")?D.eat("x")?Vt=D.eatWhile(/[a-fA-F\d]/)&&D.eat(";"):Vt=D.eatWhile(/[\d]/)&&D.eat(";"):Vt=D.eatWhile(/[\w\.\-:]/)&&D.eat(";"),Vt?"atom":"error"}else return D.eatWhile(/[^&<]/),null}y.isInText=!0;function _(D,Z){var nt=D.next();if(nt==">"||nt=="/"&&D.eat(">"))return Z.tokenize=y,g=nt==">"?"endTag":"selfcloseTag","tag bracket";if(nt=="=")return g="equals",null;if(nt=="<"){Z.tokenize=y,Z.state=N,Z.tagName=Z.tagStart=null;var pt=Z.tokenize(D,Z);return pt?pt+" tag error":"tag error"}else return/[\'\"]/.test(nt)?(Z.tokenize=O(nt),Z.stringStartCol=D.column(),Z.tokenize(D,Z)):(D.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function O(D){var Z=function(nt,pt){for(;!nt.eol();)if(nt.next()==D){pt.tokenize=_;break}return"string"};return Z.isInAttribute=!0,Z}function M(D,Z){return function(nt,pt){for(;!nt.eol();){if(nt.match(Z)){pt.tokenize=y;break}nt.next()}return D}}function w(D){return function(Z,nt){for(var pt;(pt=Z.next())!=null;){if(pt=="<")return nt.tokenize=w(D+1),nt.tokenize(Z,nt);if(pt==">")if(D==1){nt.tokenize=y;break}else return nt.tokenize=w(D-1),nt.tokenize(Z,nt)}return"meta"}}function T(D){return D&&D.toLowerCase()}function b(D,Z,nt){this.prev=D.context,this.tagName=Z||"",this.indent=D.indented,this.startOfLine=nt,(c.doNotIndent.hasOwnProperty(Z)||D.context&&D.context.noIndent)&&(this.noIndent=!0)}function k(D){D.context&&(D.context=D.context.prev)}function E(D,Z){for(var nt;;){if(!D.context||(nt=D.context.tagName,!c.contextGrabbers.hasOwnProperty(T(nt))||!c.contextGrabbers[T(nt)].hasOwnProperty(T(Z))))return;k(D)}}function N(D,Z,nt){return D=="openTag"?(nt.tagStart=Z.column(),F):D=="closeTag"?V:N}function F(D,Z,nt){return D=="word"?(nt.tagName=Z.current(),h="tag",L):c.allowMissingTagName&&D=="endTag"?(h="tag bracket",L(D,Z,nt)):(h="error",F)}function V(D,Z,nt){if(D=="word"){var pt=Z.current();return nt.context&&nt.context.tagName!=pt&&c.implicitlyClosed.hasOwnProperty(T(nt.context.tagName))&&k(nt),nt.context&&nt.context.tagName==pt||c.matchClosing===!1?(h="tag",R):(h="tag error",H)}else return c.allowMissingTagName&&D=="endTag"?(h="tag bracket",R(D,Z,nt)):(h="error",H)}function R(D,Z,nt){return D!="endTag"?(h="error",R):(k(nt),N)}function H(D,Z,nt){return h="error",R(D,Z,nt)}function L(D,Z,nt){if(D=="word")return h="attribute",W;if(D=="endTag"||D=="selfcloseTag"){var pt=nt.tagName,Vt=nt.tagStart;return nt.tagName=nt.tagStart=null,D=="selfcloseTag"||c.autoSelfClosers.hasOwnProperty(T(pt))?E(nt,pt):(E(nt,pt),nt.context=new b(nt,pt,Vt==nt.indented)),N}return h="error",L}function W(D,Z,nt){return D=="equals"?q:(c.allowMissing||(h="error"),L(D,Z,nt))}function q(D,Z,nt){return D=="string"?J:D=="word"&&c.allowUnquoted?(h="string",L):(h="error",L(D,Z,nt))}function J(D,Z,nt){return D=="string"?J:L(D,Z,nt)}return{startState:function(D){var Z={tokenize:y,state:N,indented:D||0,tagName:null,tagStart:null,context:null};return D!=null&&(Z.baseIndent=D),Z},token:function(D,Z){if(!Z.tagName&&D.sol()&&(Z.indented=D.indentation()),D.eatSpace())return null;g=null;var nt=Z.tokenize(D,Z);return(nt||g)&&nt!="comment"&&(h=null,Z.state=Z.state(g||nt,D,Z),h&&(nt=h=="error"?nt+" error":h)),nt},indent:function(D,Z,nt){var pt=D.context;if(D.tokenize.isInAttribute)return D.tagStart==D.indented?D.stringStartCol+1:D.indented+l;if(pt&&pt.noIndent)return e.Pass;if(D.tokenize!=_&&D.tokenize!=y)return nt?nt.match(/^(\s*)/)[0].length:0;if(D.tagName)return c.multilineTagIndentPastTag!==!1?D.tagStart+D.tagName.length+2:D.tagStart+l*(c.multilineTagIndentFactor||1);if(c.alignCDATA&&/<!\[CDATA\[/.test(Z))return 0;var Vt=Z&&/^<(\/)?([\w_:\.-]*)/.exec(Z);if(Vt&&Vt[1])for(;pt;)if(pt.tagName==Vt[2]){pt=pt.prev;break}else if(c.implicitlyClosed.hasOwnProperty(T(pt.tagName)))pt=pt.prev;else break;else if(Vt)for(;pt;){var qt=c.contextGrabbers[T(pt.tagName)];if(qt&&qt.hasOwnProperty(T(Vt[2])))pt=pt.prev;else break}for(;pt&&pt.prev&&!pt.startOfLine;)pt=pt.prev;return pt?pt.indent+l:D.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:c.htmlMode?"html":"xml",helperType:c.htmlMode?"html":"xml",skipAttribute:function(D){D.state==q&&(D.state=L)},xmlCurrentTag:function(D){return D.tagName?{name:D.tagName,close:D.type=="closeTag"}:null},xmlCurrentContext:function(D){for(var Z=[],nt=D.context;nt;nt=nt.prev)Z.push(nt.tagName);return Z.reverse()}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},7058:(o,n,t)=>{t.d(n,{A:()=>a});var e=t(9156),i=function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(u[g]=p[g])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(l,c);function u(){this.constructor=l}l.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),r=function(s){i(l,s);function l(c,u,p){var g=s.call(this,u,p)||this;return g._module=c,g}return Object.defineProperty(l.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),l}(e.Kx);let a=r},179:(o,n,t)=>{t.d(n,{A:()=>s,F:()=>r});var e=t(7058),i=function(){var l=function(c,u){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&(p[h]=g[h])},l(c,u)};return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");l(c,u);function p(){this.constructor=c}c.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}}(),r=function(l){return l.Select="select",l.Hover="hover",l.Spacing="spacing",l.Target="target",l.Resize="resize",l}(r||{}),a=function(l){i(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(c.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"component",{get:function(){var u,p=this.get("component");return p||((u=this.get("componentView"))===null||u===void 0?void 0:u.model)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"componentView",{get:function(){var u,p=this.get("componentView");return p||((u=this.get("component"))===null||u===void 0?void 0:u.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"el",{get:function(){var u;return(u=this.componentView)===null||u===void 0?void 0:u.el},enumerable:!1,configurable:!0}),c.prototype.getBoxRect=function(u){var p=this,g=p.el,h=p.em,y=h.Canvas.getCanvasView(),_=this.get("boxRect");return _||(g&&y?y.getElBoxRect(g,u):{x:0,y:0,width:0,height:0})},c.prototype.getStyle=function(u){u===void 0&&(u={});var p=u.boxRect||this.getBoxRect(u),g=p.width,h=p.height,y=p.x,_=p.y;return{width:"".concat(g,"px"),height:"".concat(h,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(y,"px ").concat(_,"px")}},c.prototype.isType=function(u){return this.type===u},c}(e.A);let s=a},1738:(o,n,t)=>{t.d(n,{A:()=>i});var e=function(r){return r.run="command:run",r.runCommand="command:run:",r.runBeforeCommand="command:run:before:",r.abort="command:abort:",r.stop="command:stop",r.stopCommand="command:stop:",r.stopBeforeCommand="command:stop:before:",r.call="command:call",r.callCommand="command:call:",r}(e||{});let i=e},9484:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});let e={run:function(i){i.Components.clear(),i.Css.clear()}}},9516:(o,n,t)=>{t.r(n),t.d(n,{default:()=>a});var e=t(5706),i=t(9966),r=t(6294);let a={run:function(s){(0,e.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=s,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(s){this.toggleMove(),this.disableDragger()},onKeyUp:function(s){(0,r.Ch)(s)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(s){this.toggleDragger(1,s)},disableDragger:function(s){this.toggleDragger(0,s)},toggleDragger:function(s,l){var c=this,u=c.canvasModel,p=c.em,g=this.dragger,h=s?"add":"remove";this.getCanvas().classList[h]("".concat(this.ppfx,"is__grabbing")),g||(g=new i.A({getPosition:function(){return{x:u.get("x"),y:u.get("y")}},setPosition:function(y){var _=y.x,O=y.y;u.set({x:_,y:O})},onStart:function(y,_){p.trigger("canvas:move:start",_)},onDrag:function(y,_){p.trigger("canvas:move",_)},onEnd:function(y,_){p.trigger("canvas:move:end",_)}}),this.dragger=g),s?g.start(l):g.stop()},toggleMove:function(s){var l=this.ppfx,c=s?"add":"remove",u=s?"on":"off",p={on:r.on,off:r.AU},g=this.getCanvas(),h=["".concat(l,"is__grab")];!s&&h.push("".concat(l,"is__grabbing")),h.forEach(function(y){return g.classList[c](y)}),p[u](document,"keyup",this.onKeyUp),p[u](g,"mousedown",this.enableDragger),p[u](document,"mouseup",this.disableDragger)}}},9946:(o,n,t)=>{t.r(n),t.d(n,{default:()=>c,defineCommand:()=>s});var e=t(9156),i=t(1738),r=function(){var u=function(p,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(h[_]=y[_])},u(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");u(p,g);function h(){this.constructor=p}p.prototype=g===null?Object.create(g):(h.prototype=g.prototype,new h)}}(),a=function(){return a=Object.assign||function(u){for(var p,g=1,h=arguments.length;g<h;g++){p=arguments[g];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(u[y]=p[y])}return u},a.apply(this,arguments)};function s(u){return u}var l=function(u){r(p,u);function p(g){var h=u.call(this,0)||this;h.config=g||{},h.em=h.config.em||{};var y=h.config.stylePrefix;return h.pfx=y,h.ppfx=h.config.pStylePrefix,h.hoverClass="".concat(y,"hover"),h.badgeClass="".concat(y,"badge"),h.plhClass="".concat(y,"placeholder"),h.freezClass="".concat(h.ppfx,"freezed"),h.canvas=h.em.Canvas,h.init(h.config),h}return p.prototype.onFrameScroll=function(g){},p.prototype.getCanvas=function(){return this.canvas.getElement()},p.prototype.getCanvasBody=function(){return this.canvas.getBody()},p.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},p.prototype.offset=function(g){var h=g.getBoundingClientRect();return{top:h.top+g.ownerDocument.body.scrollTop,left:h.left+g.ownerDocument.body.scrollLeft}},p.prototype.init=function(g){},p.prototype.callRun=function(g,h){h===void 0&&(h={});var y=this.id;if(g.trigger("".concat(i.A.runBeforeCommand).concat(y),{options:h}),h.abort){g.trigger("".concat(i.A.abort).concat(y),{options:h});return}var _=h.sender||g,O=this.run(g,_,h),M={id:y,result:O,options:h},w=a(a({},M),{type:"run"});return this.noStop||(g.Commands.active[y]=O),g.trigger("".concat(i.A.runCommand).concat(y),M),g.trigger("".concat(i.A.callCommand).concat(y),w),g.trigger(i.A.run,M),g.trigger(i.A.call,w),O},p.prototype.callStop=function(g,h){h===void 0&&(h={});var y=this.id,_=h.sender||g;g.trigger("".concat(i.A.stopBeforeCommand).concat(y),{options:h});var O=this.stop(g,_,h),M={id:y,result:O,options:h},w=a(a({},M),{type:"stop"});return delete g.Commands.active[y],g.trigger("".concat(i.A.stopCommand).concat(y),M),g.trigger("".concat(i.A.callCommand).concat(y),w),g.trigger(i.A.stop,M),g.trigger(i.A.call,w),O},p.prototype.stopCommand=function(g){this.em.Commands.stop(this.id,g)},p.prototype.run=function(g,h,y){},p.prototype.stop=function(g,h,y){},p}(e.Kx);let c=l},7801:(o,n,t)=>{t.r(n),t.d(n,{default:()=>a});var e=t(5706),i=function(s,l,c){if(c||arguments.length===2)for(var u=0,p=l.length,g;u<p;u++)(g||!(u in l))&&(g||(g=Array.prototype.slice.call(l,0,u)),g[u]=l[u]);return s.concat(g||Array.prototype.slice.call(l))},r={run:function(s,l,c){var u=this;c===void 0&&(c={});var p=[],g=c.component||s.getSelectedAll();return g=(0,e.isArray)(g)?i([],g,!0):[g],g.filter(Boolean).forEach(function(h){var y,_;if(!h.get("removable"))return u.em.logWarning("The element is not removable",{component:h});p.push(h);var O=((_=(y=h.delegate)===null||y===void 0?void 0:y.remove)===null||_===void 0?void 0:_.call(y,h))||h;O.remove()}),s.selectRemove(p),p}};let a=r},4864:(o,n,t)=>{t.r(n),t.d(n,{default:()=>l});var e=t(5706),i=t(9966),r=t(1166),a=function(){return a=Object.assign||function(c){for(var u,p=1,g=arguments.length;p<g;p++){u=arguments[p];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(c[h]=u[h])}return c},a.apply(this,arguments)},s="dmode";let l={run:function(c,u,p){var g=this,h,y;if(p===void 0&&(p={}),(0,e.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget"),!p.target)throw new Error("Target option is required");var _=a({doc:(h=p.target.getEl())===null||h===void 0?void 0:h.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){var M;return(M=g.guidesStatic)!==null&&M!==void 0?M:[]},guidesTarget:function(){var M;return(M=g.guidesTarget)!==null&&M!==void 0?M:[]}},(y=p.dragger)!==null&&y!==void 0?y:{});this.setupGuides(),this.opts=p,this.editor=c,this.em=c.getModel(),this.target=p.target,this.isTran=p.mode=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var O=this.dragger;return O?O.setOptions(_):(O=new i.A(_),this.dragger=O),p.event&&O.start(p.event),this.toggleDrag(!0),this.em.trigger("".concat(s,":start"),this.getEventOpts()),O},getEventOpts:function(){var c,u,p=(u=(c=this.guidesTarget)===null||c===void 0?void 0:c.filter(function(g){return g.active}))!==null&&u!==void 0?u:[];return{mode:this.opts.mode,component:this.target,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic,guidesMatched:this.getGuidesMatched(p),command:this}},stop:function(){this.toggleDrag()},setupGuides:function(){var c;((c=this.guides)!==null&&c!==void 0?c:[]).forEach(function(u){var p,g=u.guide;(p=g?.parentNode)===null||p===void 0||p.removeChild(g)}),this.guides=[]},getGuidesContainer:function(){var c=this,u,p,g,h,y=this.guidesEl;if(!y){var _=this,O=_.editor,M=_.em,w=_.opts,T=(u=O.getConfig().stylePrefix)!==null&&u!==void 0?u:"",b=document.createElement("div"),k=document.createElement("div"),E='<div class="'.concat(T,"guide-info__line ").concat(T,`danger-bg">
        <div class="`).concat(T,"guide-info__content ").concat(T,`danger-color"></div>
      </div>`);y=document.createElement("div"),y.className="".concat(T,"guides"),b.className="".concat(T,"guide-info ").concat(T,"guide-info__x"),k.className="".concat(T,"guide-info ").concat(T,"guide-info__y"),b.innerHTML=E,k.innerHTML=E,y.appendChild(b),y.appendChild(k),(p=O.Canvas.getGlobalToolsEl())===null||p===void 0||p.appendChild(y),this.guidesEl=y,this.elGuideInfoX=b,this.elGuideInfoY=k,this.elGuideInfoContentX=(g=b.querySelector(".".concat(T,"guide-info__content")))!==null&&g!==void 0?g:void 0,this.elGuideInfoContentY=(h=k.querySelector(".".concat(T,"guide-info__content")))!==null&&h!==void 0?h:void 0,M.on("canvas:update frame:scroll",(0,e.debounce)(function(){var N;c.updateGuides(),w.debug&&((N=c.guides)===null||N===void 0||N.forEach(function(F){return c.renderGuide(F)}))},200))}return y},getGuidesStatic:function(){var c=this,u=[],p=this.target.getEl(),g=p?.parentElement;return g?((0,e.each)(g.children,function(h){return u=u.concat(p!==h?c.getElementGuides(h):[])}),u.concat(this.getElementGuides(g))):[]},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(c){var u=this,p,g,h,y=(p=c??this.guides)!==null&&p!==void 0?p:[];y.forEach(function(_){var O=_.origin,M=g===O?h:u.getElementPos(O);g=O,h=M,(0,e.each)(u.getGuidePosUpdate(_,M),function(w,T){_[T]=w}),_.originRect=M})},getGuidePosUpdate:function(c,u){var p={},g=u.top,h=u.height,y=u.left,_=u.width;switch(c.type){case"t":p.y=g;break;case"b":p.y=g+h;break;case"l":p.x=y;break;case"r":p.x=y+_;break;case"x":p.x=y+_/2;break;case"y":p.y=g+h/2;break}return p},renderGuide:function(c){var u,p;if(!this.opts.skipGuidesRender){var g=(u=c.guide)!==null&&u!==void 0?u:document.createElement("div"),h="px",y=c.active?2:1;if(g.style.cssText="position: absolute; background-color: ".concat(c.active?"green":"red",";"),!g.children.length){var _=document.createElement("div");_.style.cssText="position: absolute; color: red; padding: 5px; top: 0; left: 0;",g.appendChild(_)}return c.y?(g.style.width="100%",g.style.height="".concat(y).concat(h),g.style.top="".concat(c.y).concat(h),g.style.left="0"):(g.style.width="".concat(y).concat(h),g.style.height="100%",g.style.left="".concat(c.x).concat(h),g.style.top="0".concat(h)),!c.guide&&((p=this.guidesContainer)===null||p===void 0||p.appendChild(g)),g}},getElementPos:function(c){return this.editor.Canvas.getElementPos(c,{noScroll:1})},getElementGuides:function(c){var u=this,p=this.opts,g=c,h=this.getElementPos(c),y=(0,r.getComponentModel)(c),_=(0,r.getComponentView)(c),O=h.top,M=h.height,w=h.left,T=h.width,b=[{type:"t",y:O},{type:"b",y:O+M},{type:"l",x:w},{type:"r",x:w+T},{type:"x",x:w+T/2},{type:"y",y:O+M/2}],k=b.map(function(E){var N=p.debug?u.renderGuide(E):void 0;return a(a({},E),{component:y,componentView:_,componentEl:g,origin:g,componentElRect:h,originRect:h,guideEl:N,guide:N})});return k.forEach(function(E){var N;return(N=u.guides)===null||N===void 0?void 0:N.push(E)}),k},getTranslate:function(c,u){u===void 0&&(u="x");var p=0;return(c||"").split(" ").forEach(function(g){var h=g.trim(),y="translate".concat(u.toUpperCase(),"(");h.indexOf(y)===0&&(p=parseFloat(h.replace(y,"")))}),p},setTranslate:function(c,u,p){var g="translate".concat(u.toUpperCase(),"("),h="".concat(g).concat(p,")"),y=(c||"").split(" ").map(function(_){var O=_.trim();return O.indexOf(g)===0&&(_=h),_}).join(" ");return y.indexOf(g)<0&&(y+=" ".concat(h)),y},getPosition:function(){var c=this,u=c.target,p=c.isTran,g=u.getStyle(),h=g.transform,y=g.left,_=g.top,O=0,M=0;return p&&h?(O=this.getTranslate(h),M=this.getTranslate(h,"y")):(O=parseFloat(y??"0"),M=parseFloat(_??"0")),{x:O,y:M}},setPosition:function(c){var u,p,g=c.x,h=c.y,y=c.end,_=c.position,O=c.width,M=c.height,w=this,T=w.target,b=w.isTran,k=w.em,E=w.opts,N="px",F=!y,V="".concat(parseInt("".concat(g),10)).concat(N),R="".concat(parseInt("".concat(h),10)).concat(N),H={};if(b){var L=(p=(u=T.getStyle())===null||u===void 0?void 0:u.transform)!==null&&p!==void 0?p:"";L=this.setTranslate(L,"x",V),L=this.setTranslate(L,"y",R),H={transform:L,__p:F}}else{var W={position:_,width:O,height:M},q={left:V,top:R,__p:F};(0,e.keys)(W).forEach(function(J){var D=W[J];D&&(q[J]=D)}),H=q}E.addStyle?E.addStyle({component:T,styles:H,partial:!y}):T.addStyle(H,{avoidStore:!y}),k.Styles.__emitCmpStyleUpdate(H,{components:k.getSelected()})},_getDragData:function(){var c=this.target;return{target:c,parent:c.parent(),index:c.index()}},onStart:function(c){var u,p=this,g=p.target,h=p.editor,y=p.isTran,_=p.opts,O=h.Canvas,M=g.getStyle(),w="absolute",T=[w,"relative"];if((u=_.onStart)===null||u===void 0||u.call(_,this._getDragData()),!y){if(M.position!==w){var b=O.offset(g.getEl()),k=b.left,E=b.top,N=b.width,F=b.height,V=g.parent(),R=null;do{var H=V?.getStyle(),L=H?.position;L&&(R=T.indexOf(L)>=0?V:null),V=V?.parent()}while(V&&!R);if(_.center){var W=O.getMouseRelativeCanvas(c),q=W.x,J=W.y;k=q,E=J}else if(R){var D=O.offset(R.getEl());k=k-D.left,E=E-D.top}this.setPosition({x:k,y:E,width:"".concat(N,"px"),height:"".concat(F,"px"),position:w})}this.guidesStatic=this.getGuidesStatic()}},onDrag:function(c){var u=this,p,g,h=this,y=h.guidesTarget,_=h.opts;this.updateGuides(y),_.debug&&y?.forEach(function(O){return u.renderGuide(O)}),_.guidesInfo&&this.renderGuideInfo((p=y?.filter(function(O){return O.active}))!==null&&p!==void 0?p:[]),(g=_.onDrag)===null||g===void 0||g.call(_,this._getDragData()),this.opts.event=c,this.em.trigger("".concat(s,":move"),this.getEventOpts())},onEnd:function(c,u,p){var g,h=this,y=h.editor,_=h.opts,O=h.id;(g=_.onEnd)===null||g===void 0||g.call(_,c,p,a(a({event:c},p),this._getDragData())),y.stopCommand("".concat(O)),this.hideGuidesInfo(),this.em.trigger("".concat(s,":end"),this.getEventOpts())},hideGuidesInfo:function(){var c=this;["X","Y"].forEach(function(u){var p=c["elGuideInfo".concat(u)];p&&(p.style.display="none")})},renderGuideInfo:function(c){var u=this;c===void 0&&(c=[]),this.hideGuidesInfo();var p=this.getGuidesMatched(c);p.forEach(function(g){u.opts.skipGuidesRender||u.renderSingleGuideInfo(g),u.em.trigger("".concat(s,":active"),a(a({},u.getEventOpts()),g))})},renderSingleGuideInfo:function(c){var u=c.posFirst,p=c.posSecond,g=c.size,h=c.sizeRaw,y=c.guide,_=c.elGuideInfo,O=c.elGuideInfoCnt,M=(0,e.isUndefined)(y.x)?"y":"x",w=M==="y",T=_.style;T.display="",T[w?"top":"left"]="".concat(u,"px"),T[w?"left":"top"]="".concat(p,"px"),T[w?"width":"height"]="".concat(g,"px"),O.innerHTML="".concat(Math.round(h),"px")},getGuidesMatched:function(c){var u=this;c===void 0&&(c=[]);var p=this.guidesStatic,g=p===void 0?[]:p;return c.map(function(h){var y=h.origin,_=h.x,O=u.getElementPos(y),M=(0,e.isUndefined)(_)?"y":"x",w=M==="y",T=O[w?"left":"top"],b=O.rect[w?"left":"top"],k=w?T+O.width:T+O.height,E=w?b+O.rect.width:b+O.rect.height,N=g.filter(function(wt){var Et,zt={l:["r","x"],r:["l","x"],x:["l","r"],t:["b","y"],b:["t","y"],y:["t","b"]};return wt.type===h.type||((Et=zt[h.type])===null||Et===void 0?void 0:Et.includes(wt.type))}).map(function(wt){var Et=wt.originRect,zt=Et.left,Wt=Et.width,Nt=Et.top,st=Et.height,$t=w?zt:Nt,le=w?zt+Wt:Nt+st;return{gap:le<T?T-le:$t-k,guide:wt}}).filter(function(wt){return wt.gap>0}).sort(function(wt,Et){return wt.gap-Et.gap}).map(function(wt){return wt.guide}).filter(function(wt){switch(h.type){case"l":case"r":case"x":return Math.abs(wt.x-h.x)<1;case"t":case"b":case"y":return Math.abs(wt.y-h.y)<1;default:return!1}}),F=N[0];if(F){var V=F.originRect,R=V.left,H=V.width,L=V.top,W=V.height,q=V.rect,J=w?R<O.left:L<O.top,D=w?R:L,Z=w?q.left:q.top,nt=w?R+H:L+W,pt=w?q.left+q.width:q.top+q.height,Vt=w?h.y:h.x,qt=J?nt:k,Pt=J?T-nt:D-k,yt=J?b-pt:Z-E,rt=u["elGuideInfo".concat(M.toUpperCase())],ft=u["elGuideInfoContent".concat(M.toUpperCase())];return{guide:h,guidesStatic:g,matched:F,posFirst:Vt,posSecond:qt,size:Pt,sizeRaw:yt,elGuideInfo:rt,elGuideInfoCnt:ft}}else return null}).filter(Boolean)},toggleDrag:function(c){var u=this,p=u.ppfx,g=u.editor,h=c?"add":"remove",y=["".concat(p,"is__grabbing")],_=g.Canvas,O=_.getBody();y.forEach(function(M){return O.classList[h](M)}),_[c?"startAutoscroll":"stopAutoscroll"]()},editor:void 0,em:void 0,opts:void 0,target:void 0}},6134:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});let e={run:function(i){if(i.Canvas.hasFocus()){var r=[];i.getSelectedAll().forEach(function(a){var s=a.components(),l=s&&s.filter(function(c){return c.get("selectable")})[0];l&&r.push(l)}),r.length&&i.select(r)}}}},914:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});let e={run:function(i,r,a){if(a===void 0&&(a={}),!(!i.Canvas.hasFocus()&&!a.force)){var s=[];i.getSelectedAll().forEach(function(l){for(var c=l.parent();c&&!c.get("selectable");)c=c.parent();c&&s.push(c)}),s.length&&i.select(s)}}}},5547:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});let e={run:function(i){if(i.Canvas.hasFocus()){var r=[];i.getSelectedAll().forEach(function(a){var s=a.parent();if(s){var l=s.components().length,c=0,u=0,p;do c++,u=a.index()+c,p=u<=l?s.getChildAt(u):null;while(p&&!p.get("selectable"));r.push(p||a)}}),r.length&&i.select(r)}}}},8655:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});let e={run:function(i){if(i.Canvas.hasFocus()){var r=[];i.getSelectedAll().forEach(function(a){var s=a.parent();if(s){var l=0,c=0,u;do l++,c=a.index()-l,u=c>=0?s.getChildAt(c):null;while(u&&!u.get("selectable"));r.push(u||a)}}),r.length&&i.select(r)}}}},7640:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=t(5706);let i={run:function(r,a,s){s===void 0&&(s={});var l=s.target,c=[];if(!l.get("styles"))return c;var u=l.get("type"),p=r.Pages.getAllWrappers(),g=(0,e.flatten)(p.map(function(y){return y.findType(u)})).length;if(!g){var h=r.CssComposer.getAll();c=h.filter(function(y){return y.get("group")==="cmp:".concat(u)}),h.remove(c)}return c}}},5837:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=function(r,a,s){if(s||arguments.length===2)for(var l=0,c=a.length,u;l<c;l++)(u||!(l in a))&&(u||(u=Array.prototype.slice.call(a,0,l)),u[l]=a[l]);return r.concat(u||Array.prototype.slice.call(a))};let i={run:function(r){var a=r.getModel(),s=e([],r.getSelectedAll(),!0).map(function(l){var c,u;return((u=(c=l.delegate)===null||c===void 0?void 0:c.copy)===null||u===void 0?void 0:u.call(c,l))||l}).filter(Boolean);s.length&&a.set("clipboard",s)}}},6477:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=t(6294);let i={run:function(r,a,s){var l=this;s===void 0&&(s={}),a&&a.set&&a.set("active",0);var c=r.getConfig(),u=r.Modal,p=c.stylePrefix;if(this.cm=r.CodeManager||null,!this.editors){var g=this.buildEditor("htmlmixed","hopscotch","HTML"),h=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=g.model,this.cssEditor=h.model;var y=(0,e.a_)("div",{class:"".concat(p,"export-dl")});y.appendChild(g.el),y.appendChild(h.el),this.editors=y}u.open({title:c.textViewCode,content:this.editors}).getModel().once("change:open",function(){return r.stopCommand("".concat(l.id))}),this.htmlEditor.setContent(r.getHtml(s.optsHtml)),this.cssEditor.setContent(r.getCss(s.optsCss))},stop:function(r){var a=r.Modal;a&&a.close()},buildEditor:function(r,a,s){var l=this.em.CodeManager,c=l.createViewer({label:s,codeName:r,theme:a}),u=new l.EditorView({model:c,config:l.getConfig()}).render().el;return{model:c,el:u}}}},1772:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=t(5706);let i={isEnabled:function(){var r=document;return!!(r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement)},enable:function(r){var a="";return r.requestFullscreen?r.requestFullscreen():r.webkitRequestFullscreen?(a="webkit",r.webkitRequestFullscreen()):r.mozRequestFullScreen?(a="moz",r.mozRequestFullScreen()):r.msRequestFullscreen&&r.msRequestFullscreen(),a},disable:function(){var r=document;this.isEnabled()&&(r.exitFullscreen?r.exitFullscreen():r.webkitExitFullscreen?r.webkitExitFullscreen():r.mozCancelFullScreen?r.mozCancelFullScreen():r.msExitFullscreen&&r.msExitFullscreen())},fsChanged:function(r){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(r||"","fullscreenchange"),this.fsChanged))},run:function(r,a,s){s===void 0&&(s={}),this.sender=a;var l=s.target,c=(0,e.isElement)(l)?l:document.querySelector(l),u=this.enable(c||r.getContainer());this.fsChanged=this.fsChanged.bind(this,u),document.addEventListener(u+"fullscreenchange",this.fsChanged)},stop:function(r,a){a&&a.set&&a.set("active",!1),this.disable()}}},741:(o,n,t)=>{t.r(n),t.d(n,{default:()=>l});var e=t(5706),i=t(7774),r=t(6294),a=t(9317),s=t(1406);let l=(0,e.extend)({},s.default,a.default,{init:function(c){a.default.init.apply(this,arguments),(0,e.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=c,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];a.default.enable.apply(this,c),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var p=this.$wrapper;p.css("cursor","move"),p.on("mousedown",this.initSorter),p.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(c){var u=(0,i.default)(c.target).data("model"),p=u.get("draggable");p&&(this.cacheEl=null,this.startSelectPosition(c.target,this.frameEl.contentDocument),this.sorter.draggable=p,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,r.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(c){var u=c.get("draggable");if(u){this.cacheEl=null;var p=c.view.el;this.startSelectPosition(p,this.frameEl.contentDocument),this.sorter.draggable=u,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,r.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(c){this.cacheEl=null;var u=c[c.length-1],p=this.em.getCurrentFrame(),g=u.getEl(p?.model),h=g.ownerDocument,y=c.map(function(_){var O;return(O=_?.view)===null||O===void 0?void 0:O.el});this.startSelectPosition(y,h,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,r.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,r.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,r.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(c,u){},rollback:function(c,u){var p=c.which||c.keyCode;(p==27||u)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,i.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,i.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];a.default.stop.apply(this,c),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var p=this.$wrapper;p.css("cursor","").unbind().removeClass(this.noSelClass)}})},2924:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(5706),i=t(6294);let r={open:function(a){var s=this,l=this,c=l.editor,u=l.title,p=l.config,g=l.am,h=p.custom;if((0,e.isFunction)(h.open))return h.open(g.__customData());var y=c.Modal;y.open({title:u,content:a}).onceClose(function(){return c.stopCommand(s.id)})},close:function(){var a=this.config.custom;if((0,e.isFunction)(a.close))return a.close(this.am.__customData());var s=this.editor.Modal;s&&s.close()},run:function(a,s,l){l===void 0&&(l={});var c=a.AssetManager,u=c.getConfig(),p=l.types,g=p===void 0?[]:p,h=l.accept,y=l.select;if(this.title=l.modalTitle||a.t("assetManager.modalTitle")||"",this.editor=a,this.config=u,this.am=c,c.setTarget(l.target),c.onClick(l.onClick),c.onDblClick(l.onDblClick),c.onSelect(l.onSelect),c.__behaviour({select:y,types:g,options:l}),u.custom)this.rendered=this.rendered||(0,i.a_)("div"),this.rendered.className="".concat(u.stylePrefix,"custom-wrp"),c.__behaviour({container:this.rendered}),c.__trgCustom();else{if(!this.rendered||g){var _=c.getAll().filter(function(M){return M});g&&g.length&&(_=_.filter(function(M){return g.indexOf(M.get("type"))!==-1})),c.render(_),this.rendered=c.getContainer()}if(h){var O=this.rendered.querySelector("input#".concat(u.stylePrefix,"uploadFile"));O&&O.setAttribute("accept",h)}}return this.open(this.rendered),this},stop:function(a){this.editor=a,this.close(this.rendered)}}},3963:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(5706),i=t(6294);let r={open:function(){var a=this,s=a.container,l=a.editor,c=a.bm,u=a.config,p=u.custom,g=u.appendTo;if((0,e.isFunction)(p.open))return p.open(c.__customData());if(this.firstRender&&!g){var h="views-container",y=l.Panels,_=y.getPanel(h)||y.addPanel({id:h});_.set("appendContent",s).trigger("change:appendContent"),p||s.appendChild(c.render())}s&&(s.style.display="block")},close:function(){var a=this,s=a.container,l=a.config,c=l.custom;if((0,e.isFunction)(c.close))return c.close(this.bm.__customData());s&&(s.style.display="none")},run:function(a){var s=a.Blocks;this.config=s.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,i.a_)("div"),this.editor=a,this.bm=s;var l=this.container;s.__behaviour({container:l}),this.config.custom&&s.__trgCustom(),this.open()},stop:function(){this.close()}}},1479:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});let e={run:function(i){var r=i.LayerManager,a=i.Panels,s=r.getConfig();if(!s.appendTo){if(!this.layers){var l="views-container",c=document.createElement("div"),u=a.getPanel(l)||a.addPanel({id:l});s.custom?r.__trgCustom({container:c}):c.appendChild(r.render()),u.set("appendContent",c).trigger("change:appendContent"),this.layers=c}this.layers.style.display="block"}},stop:function(){var i=this.layers;i&&(i.style.display="none")}}},3473:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=t(7774);let i={run:function(r,a){if(this.sender=a,!this.$cnt){var s=r.getConfig(),l=r.Panels,c=r.DeviceManager,u=r.SelectorManager,p=r.StyleManager,g="change:appendContent",h=(0,e.default)("<div></div>"),y=(0,e.default)("<div></div>"),_=(0,e.default)("<div></div>"),O=(0,e.default)("<div></div>");if(this.$cnt=h,this.$cntInner=y,y.append(_),y.append(O),h.append(y),c&&s.showDevices){var M=l.addPanel({id:"devices-c"}),w=c.render();M.set("appendContent",w).trigger(g)}var T=u.getConfig();T.custom?u.__trgCustom({container:_.get(0)}):T.appendTo||_.append(u.render([])),this.sm=p;var b=p.getConfig(),k=b.stylePrefix;this.$header=(0,e.default)('<div class="'.concat(k,'header">').concat(r.t("styleManager.empty"),"</div>")),h.append(this.$header),b.custom?p.__trgCustom({container:O.get(0)}):b.appendTo||O.append(p.render());var E="views-container",N=l.getPanel(E)||l.addPanel({id:E});N.set("appendContent",h).trigger(g);var F=r.getModel();this.listenTo(F,p.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var r=this,a=r.sender,s=r.sm,l=r.$cntInner,c=r.$header;a&&a.get&&!a.get("active")||!s||(s.getSelected()?(l?.show(),c?.hide()):(l?.hide(),c?.show()))},stop:function(){var r,a;(r=this.$cntInner)===null||r===void 0||r.hide(),(a=this.$header)===null||a===void 0||a.hide()}}},5054:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=t(7774);let i={run:function(r,a){this.sender=a;var s=r.getModel(),l=r.Config,c=l.stylePrefix,u=r.TraitManager,p=u.getConfig(),g;if(!p.appendTo){if(!this.$cn){this.$cn=(0,e.default)("<div></div>"),this.$cn2=(0,e.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,e.default)("<div>").append('<div class="'.concat(p.stylePrefix,'header">').concat(s.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),p.custom?u.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(c,'traits-label">').concat(s.t("traitManager.label"),"</div>")),this.$cn2.append(u.render()));var h=r.Panels;h.getPanel("views-container")?g=h.getPanel("views-container"):g=h.addPanel({id:"views-container"}),g?.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=r.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var r=this.sender;r&&r.get&&!r.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},6979:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=t(5706);let i={run:function(a,s,l){l===void 0&&(l={});var c=a.getModel(),u=c.get("clipboard"),p=a.getSelected();u?.length&&p&&(a.getSelectedAll().forEach(function(g){var h,y,_,O=((y=(h=g.delegate)===null||h===void 0?void 0:h.copy)===null||y===void 0?void 0:y.call(h,g))||g,M=O.collection,w;if(M){var T=O.index()+1,b={at:T,action:l.action||"paste-component"};(0,e.contains)(u,O)&&O.get("copyable")?w=M.add(O.clone(),b):w=r(a,u,O.parent(),b)}else{var k=(_=c.Pages.getSelected())===null||_===void 0?void 0:_.getMainComponent(),b={at:k?.components().length||0,action:l.action||"paste-component"};w=r(a,u,k,b)}w=(0,e.isArray)(w)?w:[w],w.forEach(function(E){return a.trigger("component:paste",E)})}),p.emitUpdate())}};function r(a,s,l,c){var u=s.filter(function(g){return g.get("copyable")}),p=u.filter(function(g){return a.Components.canMove(l,g).result});return l.components().add(p.map(function(g){return g.clone()}),c)}},4457:(o,n,t)=>{t.r(n),t.d(n,{default:()=>a});var e=t(5706),i=function(s,l,c){if(c||arguments.length===2)for(var u=0,p=l.length,g;u<p;u++)(g||!(u in l))&&(g||(g=Array.prototype.slice.call(l,0,u)),g[u]=l[u]);return s.concat(g||Array.prototype.slice.call(l))},r="core:component-outline";let a={getPanels:function(s){return this.panels||(this.panels=s.Panels.getPanels()),this.panels},preventDrag:function(s){s.abort=1},tglEffects:function(s){var l=this.em,c=s?"on":"off";if(l){var u=l.Canvas,p=u.getBody(),g=u.getToolbarEl();g&&(g.style.display=s?"none":"");var h=p.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,e.each)(h,function(y){return y.style.pointerEvents=s?"all":""}),l[c]("run:tlb-move:before",this.preventDrag)}},run:function(s,l){var c=this;this.sender=l,this.selected=i([],s.getSelectedAll(),!0),s.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=s.Commands.isActive(r)),this.shouldRunSwVisibility&&s.stopCommand(r),s.getModel().stopDefault();var u=this.getPanels(s),p=s.Canvas.getElement(),g=s.getEl(),h=s.Config.stylePrefix;if(!this.helper){var y=document.createElement("span");y.className="".concat(h,"off-prv fa fa-eye-slash"),g.appendChild(y),y.onclick=function(){return c.stopCommand()},this.helper=y}this.helper.style.display="inline-block",u.forEach(function(O){return O.set("visible",!1)});var _=p.style;_.width="100%",_.height="100%",_.top="0",_.left="0",_.padding="0",_.margin="0",s.refresh(),this.tglEffects(1)},stop:function(s){var l=this,c=l.sender,u=c===void 0?{}:c,p=l.selected;u.set&&u.set("active",0);var g=this.getPanels(s);this.shouldRunSwVisibility&&(s.runCommand(r),this.shouldRunSwVisibility=!1),s.getModel().runDefault(),g.forEach(function(y){return y.set("visible",!0)});var h=s.Canvas.getElement();h.setAttribute("style",""),p&&s.select(p),delete this.selected,this.helper&&(this.helper.style.display="none"),s.refresh(),this.tglEffects()}}},5493:(o,n,t)=>{t.r(n),t.d(n,{ConvertUnitsToPx:()=>s,default:()=>l});var e=t(2225),i=t(1166),r=function(){return r=Object.assign||function(c){for(var u,p=1,g=arguments.length;p<g;p++){u=arguments[p];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(c[h]=u[h])}return c},r.apply(this,arguments)},a=function(c,u){var p={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&u.indexOf(g)<0&&(p[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,g=Object.getOwnPropertySymbols(c);h<g.length;h++)u.indexOf(g[h])<0&&Object.prototype.propertyIsEnumerable.call(c,g[h])&&(p[g[h]]=c[g[h]]);return p},s=function(c){return c.pt="pt",c.pc="pc",c.in="in",c.cm="cm",c.mm="mm",c.vw="vw",c.vh="vh",c.vmin="vmin",c.vmax="vmax",c.svw="svw",c.lvw="lvw",c.dvw="dvw",c.svh="svh",c.lvh="lvh",c.dvh="dvh",c.perc="%",c}(s||{});let l={run:function(c,u,p){var g=this,h=c.Canvas,y=c.Utils,_=c.em,O=h.getCanvasView(),M=_.config.stylePrefix||"",w="".concat(M,"resizing"),T=p.onStart,b=T===void 0?function(){}:T,k=p.onMove,E=k===void 0?function(){}:k,N=p.onEnd,F=N===void 0?function(){}:N,V=p.updateTarget,R=V===void 0?function(){}:V,H=p.el,L=p.componentView,W=p.component,q=p.skipPositionUpdate,J=a(p,["onStart","onMove","onEnd","updateTarget","el","componentView","component","skipPositionUpdate"]),D=H||L?.el||W.getEl(),Z={component:W,el:D},nt,pt,Vt=function(yt,rt,ft){var wt=ft.docs;wt&&wt.forEach(function(Et){var zt=Et.body,Wt=zt.className||"";zt.className=(yt=="add"?"".concat(Wt," ").concat(w):Wt.replace(w,"")).trim()})},qt=r(r({appendTo:h.getResizerEl(),prefix:c.getConfig().stylePrefix,posFetcher:O.getElementPos.bind(O),mousePosFetcher:h.getMouseRelativePos.bind(h),docs:[document],updateOnMove:!0,skipUnitAdjustments:!0,onStart:function(yt,rt){var ft;b(yt,rt);var wt=rt.el,Et=rt.config,zt=rt.resizer,Wt=Et.keyHeight,Nt=Et.keyWidth,st=Et.currentUnit,$t=Et.keepAutoHeight,le=Et.keepAutoWidth;Vt("add",yt,rt),nt=_.Styles.getModelToStyle(W),pt=getComputedStyle(wt);var Ct=nt.getStyle(),ae=r({},zt.startDim),he=Ct[Nt];Et.autoWidth=le&&he==="auto",isNaN(parseFloat(he))&&(he=pt[Nt]);var ce=Ct[Wt];Et.autoHeight=$t&&ce==="auto",isNaN(parseFloat(ce))&&(ce=pt[Wt]);var K=parseFloat(he),at=parseFloat(ce),mt=(0,i.getUnitFromValue)(he),At=(0,i.getUnitFromValue)(ce);st&&(Et.unitWidth=mt,Et.unitHeight=At);var Qt=r(r({},Z),{event:yt,rect:ae,model:nt,modelWidth:{value:he,property:Nt,number:K,unit:mt},modelHeight:{value:ce,property:Wt,number:at,unit:At}});c.trigger(e.I.resizeStart,Qt),c.trigger(e.I.resize,r(r({},Qt),{type:"start"})),(ft=p.afterStart)===null||ft===void 0||ft.call(p)},onMove:function(yt,rt){E(yt,rt);var ft=rt.resizer,wt=r(r({},Z),{event:yt,delta:ft.delta,pointer:ft.currentPos,rect:ft.rectDim});c.trigger(e.I.resizeStart,wt),c.trigger(e.I.resize,r(r({},wt),{type:"move"}))},onEnd:function(yt,rt){var ft;F(yt,rt),Vt("remove",yt,rt);var wt=rt.resizer,Et=r(r({},Z),{event:yt,rect:wt.rectDim,moved:wt.moved});c.trigger(e.I.resizeEnd,Et),c.trigger(e.I.resize,r(r({},Z),{type:"end"})),(ft=p.afterEnd)===null||ft===void 0||ft.call(p)},updateTarget:function(yt,rt,ft){var wt;if(R(yt,rt,ft),!!nt){var Et=ft.store,zt=ft.selectedHandler,Wt=ft.config,Nt=ft.resizer,st=ft.event,$t=Wt.keyHeight,le=Wt.keyWidth,Ct=Wt.autoHeight,ae=Wt.autoWidth,he=Wt.unitWidth,ce=Wt.unitHeight,K=["tc","bc"].indexOf(zt)>=0,at=["cl","cr"].indexOf(zt)>=0,mt=!Et,At={};if(!K){var Qt=((wt=h.getBody())===null||wt===void 0?void 0:wt.offsetWidth)||0,ht=rt.w<Qt?rt.w:Qt;At[le]=ae?"auto":g.convertPxToUnit({el:D,elComputedStyle:pt,valuePx:ht,unit:he})}at||(At[$t]=Ct?"auto":g.convertPxToUnit({el:D,elComputedStyle:pt,valuePx:rt.h,unit:ce,isHeight:!0})),!q&&_.getDragMode(W)&&(At.top="".concat(rt.t,"px"),At.left="".concat(rt.l,"px"));var kt=!1,Ft=function(Ye){kt=!0;var Le=r(r({},Ye||At),{__p:mt});nt.addStyle(Le,{avoidStore:mt}),_.Styles.__emitCmpStyleUpdate(Le,{components:W})},me=r(r({},Z),{rect:rt,partial:mt,event:st,style:At,updateStyle:Ft,convertPxToUnit:function(Ye){return g.convertPxToUnit(r({el:D,elComputedStyle:pt},Ye))},delta:Nt.delta,pointer:Nt.currentPos});c.trigger(e.I.resizeUpdate,me),!kt&&Ft()}}},J),p.options),Pt=this.canvasResizer;return Pt||(this.canvasResizer=new y.Resizer(qt),Pt=this.canvasResizer),Pt.setOptions(qt,!0),Pt.blur(),Pt.focus(D),Pt},stop:function(){var c;(c=this.canvasResizer)===null||c===void 0||c.blur()},convertPxToUnit:function(c){var u=c.el,p=c.valuePx,g=c.unit,h=c.dpi,y=h===void 0?96:h,_=c.roundDecimals,O=_===void 0?3:_,M=c.isHeight,w=c.elComputedStyle,T=u.ownerDocument.defaultView,b=T?.innerWidth||1,k=window.innerHeight||1,E=p,N=g;switch(g){case s.pt:E=p*(72/y);break;case s.pc:E=p*(6/y);break;case s.in:E=p/y;break;case s.cm:E=p/(y/2.54);break;case s.mm:E=p/(y/25.4);break;case s.vw:E=p/b*100;break;case s.vh:E=p/k*100;break;case s.vmin:{var F=Math.min(b,k);E=p/F*100;break}case s.vmax:{var V=Math.max(b,k);E=p/V*100;break}case s.perc:{var R=u.parentElement,H=u.offsetParent,L=w?.position==="absolute"?H:R,W=L?.offsetWidth||1,q=L?.offsetHeight||1,J=M?q:W;E=p/J*100;break}case s.svw:case s.lvw:case s.dvw:E=p/b*100;break;case s.svh:case s.lvh:case s.dvh:E=p/k*100;break;default:N="px"}return"".concat(+E.toFixed(O)).concat(N)}}},9317:(o,n,t)=>{t.r(n),t.d(n,{default:()=>V});var e=t(5706),i=t(179),r=t(9156),a=function(){var R=function(H,L){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,q){W.__proto__=q}||function(W,q){for(var J in q)Object.prototype.hasOwnProperty.call(q,J)&&(W[J]=q[J])},R(H,L)};return function(H,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");R(H,L);function W(){this.constructor=H}H.prototype=L===null?Object.create(L):(W.prototype=L.prototype,new W)}}(),s=function(R){a(H,R);function H(){return R!==null&&R.apply(this,arguments)||this}return H.prototype.defaults=function(){return{command:"",attributes:{}}},H}(r.Kx);let l=s;var c=function(){var R=function(H,L){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,q){W.__proto__=q}||function(W,q){for(var J in q)Object.prototype.hasOwnProperty.call(q,J)&&(W[J]=q[J])},R(H,L)};return function(H,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");R(H,L);function W(){this.constructor=H}H.prototype=L===null?Object.create(L):(W.prototype=L.prototype,new W)}}(),u=function(R){c(H,R);function H(){return R!==null&&R.apply(this,arguments)||this}return H}(r.pM);let p=u;u.prototype.model=l;var g=t(2225),h=t(8242),y=function(){var R=function(H,L){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,q){W.__proto__=q}||function(W,q){for(var J in q)Object.prototype.hasOwnProperty.call(q,J)&&(W[J]=q[J])},R(H,L)};return function(H,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");R(H,L);function W(){this.constructor=H}H.prototype=L===null?Object.create(L):(W.prototype=L.prototype,new W)}}(),_=function(){return _=Object.assign||function(R){for(var H,L=1,W=arguments.length;L<W;L++){H=arguments[L];for(var q in H)Object.prototype.hasOwnProperty.call(H,q)&&(R[q]=H[q])}return R},_.apply(this,arguments)},O=function(R){y(H,R);function H(L){var W=R.call(this,L)||this;return W.em=L.config.em,W}return H.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},H.prototype.attributes=function(){return this.model.get("attributes")},H.prototype.handleClick=function(L){L.preventDefault(),L.stopPropagation();var W=this.em,q=W.Canvas.getFrameEl().getBoundingClientRect(),J=q.left,D=q.top,Z=_(_({},L),{clientX:L.clientX-J,clientY:L.clientY-D});W.trigger("toolbar:run:before",{event:Z}),this.execCommand(Z)},H.prototype.execCommand=function(L){var W=this,q=W.em,J=W.model,D={event:L},Z=J.get("command"),nt=q.Editor;(0,e.isFunction)(Z)&&Z(nt,null,D),(0,e.isString)(Z)&&nt.runCommand(Z,D)},H.prototype.render=function(){var L=this,W=L.em,q=L.$el,J=L.model,D=J.get("id"),Z=J.get("label"),nt=W.getConfig().stylePrefix;return q.addClass("".concat(nt,"toolbar-item")),D&&q.addClass("".concat(nt,"toolbar-item__").concat(D)),Z&&q.append(Z),this},H}(r.Ss);let M=O;var w=function(){var R=function(H,L){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,q){W.__proto__=q}||function(W,q){for(var J in q)Object.prototype.hasOwnProperty.call(q,J)&&(W[J]=q[J])},R(H,L)};return function(H,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");R(H,L);function W(){this.constructor=H}H.prototype=L===null?Object.create(L):(W.prototype=L.prototype,new W)}}(),T=function(R){w(H,R);function H(L){var W=R.call(this,L)||this,q=L.em;return W.em=q,W.config={em:q},W.listenTo(W.collection,"reset",W.render),W}return H.prototype.onRender=function(){var L=this.em.config.stylePrefix;this.el.className="".concat(L,"toolbar-items")},H}(h.A);let b=T;T.prototype.itemView=M;var k=t(6294),E=t(1166),N=function(){return N=Object.assign||function(R){for(var H,L=1,W=arguments.length;L<W;L++){H=arguments[L];for(var q in H)Object.prototype.hasOwnProperty.call(H,q)&&(R[q]=H[q])}return R},N.apply(this,arguments)},F;let V={activeResizer:!1,init:function(){this.onSelect=(0,e.debounce)(this.onSelect,0),(0,e.bindAll)(this,"onHover","onOut","onClick","onCanvasScroll","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),F=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(R){var H=this,L=this,W=L.em,q=L.canvas,J=q.getCanvasView().el,D=W.getConfig().listenToEl,Z=W.getContainer().parentNode,nt=R?"on":"off",pt={on:k.on,off:k.AU},Vt=g.I.update;!D.length&&Z&&D.push(Z);var qt=function(Pt,yt,rt){pt[nt](rt,"scroll",H.onCanvasScroll,!0),pt[nt](yt,"mouseover",H.onHover),pt[nt](yt,"mouseleave",H.onOut),pt[nt](yt,"click",H.onClick),pt[nt](Pt,"scroll",H.onFrameScroll,!0),pt[nt](Pt,"resize",H.onFrameResize)};pt[nt](window,"resize",this.onFrameUpdated),pt[nt](D,"scroll",this.onContainerChange),W[nt]("component:toggled ".concat(Vt," undo redo"),this.onSelect,this),W[nt]("change:componentHovered",this.onHovered,this),W[nt]("".concat(g.I.resize," styleable:change ").concat(g.I.input),this.updateGlobalPos,this),W[nt]("".concat(Vt,":toolbar"),this._upToolbar,this),W[nt]("frame:updated",this.onFrameUpdated,this),W[nt]("canvas:updateTools",this.onFrameUpdated,this),W[nt](W.Canvas.events.refresh,this.updateAttached,this),W.Canvas.getFrames().forEach(function(Pt){var yt=Pt.view,rt=yt?.getWindow();rt&&qt(rt,yt?.getBody(),J)})},onHover:function(R){R.stopPropagation();var H=this.em,L=R.target,W=(0,E.getComponentView)(L),q=W?.frameView,J=W?.model;if(!J)for(var D=L.parentNode;!J&&D&&!(0,k.ZQ)(D);)J=(0,E.getComponentModel)(D),D=D.parentNode;this.currentDoc=L.ownerDocument,H.setHovered(J,{useValid:!0}),q&&H.setCurrentFrame(q)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(R,H){var L=this,W,q={};H?(W=H.views)===null||W===void 0||W.forEach(function(J){var D=J.el,Z=L.getElementPos(D);q={el:D,pos:Z,component:H,view:J},D.ownerDocument===L.currentDoc&&(L.elHovered=q),L.updateToolsLocal(q)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(J){var D=J.view,Z=D&&D.getToolsEl();Z&&L.toggleToolsEl(0,0,{el:Z})}))},onSelect:function(){var R=this.em,H=R.getSelected(),L=R.getCurrentFrame(),W=H&&H.getView(L?.model),q=W?.el,J={};if(q&&(0,k.zN)(q)){var D=this.getElementPos(q);J={el:q,pos:D,component:H,view:W}}this.elSelected=J,this.updateToolsGlobal(),this.updateLocalPos(J),this.initResize(H)},updateGlobalPos:function(){var R=this.getElSelected();R.el&&(R.pos=this.getElementPos(R.el),this.updateToolsGlobal())},updateLocalPos:function(R){var H=this.getElHovered();H.el&&(H.pos=this.getElementPos(H.el),this.updateToolsLocal(R))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(R,H,L){L===void 0&&(L={});var W=L.el||this.canvas.getToolsEl(H);return W&&(W.style.display=R?"":"none"),W||{}},showElementOffset:function(R,H,L){L===void 0&&(L={}),F&&this.editor.runCommand("show-offset",{el:R,elPos:H,view:L.view,force:1,top:0,left:0})},hideElementOffset:function(R){this.editor.stopCommand("show-offset",{view:R})},showFixedElementOffset:function(R,H){this.editor.runCommand("show-offset",{el:R,elPos:H,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(R){this.canvas.getHighlighter(R).style.opacity=0},onClick:function(R){R.stopPropagation(),R.preventDefault();var H=this.em;if(H.get("_cmpDrag"))return H.set("_cmpDrag");var L=R.target,W=(0,E.getComponentModel)(L);if(!W)for(var q=L.parentNode;!W&&q&&!(0,k.ZQ)(q);)W=(0,E.getComponentModel)(q),q=q.parentNode;if(W){if(H.isEditing()&&(!W.get("textable")&&W.isChildOf("text")||H.getEditing()!==W))return;this.select(W,R)}},select:function(R,H){if(R){var L=this.em;L.setSelected(R,{event:H,useValid:!0}),this.initResize(L.getSelected())}},updateBadge:function(R,H,L){L===void 0&&(L={});var W=this.canvas,q=(0,E.getComponentModel)(R),J=this.getBadge(L),D=J.style;if(!q||!q.get("badgable")){D.display="none";return}if(!L.posOnly){var Z=this.canvas.getConfig(),nt=q.getIcon(),pt=Z.pStylePrefix||"",Vt="".concat(pt,"badge"),qt=Z.customBadgeLabel,Pt="".concat(nt?'<div class="'.concat(Vt,'__icon">').concat(nt,"</div>"):"",`
        <div class="`).concat(Vt,'__name">').concat(q.getName(),"</div>");J.innerHTML=qt?qt(q):Pt}var yt="px";D.display="block";var rt=W.getTargetToElementFixed(R,J,{pos:H}),ft=rt.top,wt=L.leftOff<0?-L.leftOff:0;D.top=ft+yt,D.left=wt+yt},showHighlighter:function(R){this.canvas.getHighlighter(R).style.opacity=""},initResize:function(R){var H=this,L,W=this,q=W.em,J=W.canvas,D=q.Editor,Z=!(0,e.isElement)(R)&&(0,k.GW)(R)?R:q.getSelected(),nt=(L=Z?.get)===null||L===void 0?void 0:L.call(Z,"resizable"),pt=i.F.Resize,Vt=J.hasCustomSpot(pt);J.removeSpots({type:pt});var qt={component:Z,hasCustomResize:Vt,resizable:nt};Z&&q.trigger(g.I.resizeInit,qt);var Pt=qt.resizable;if(Z&&Pt){J.addSpot({type:pt,component:Z});var yt=(0,e.isElement)(R)?R:Z.getEl(),rt=(0,E.isObject)(Pt)?Pt:{};if(Vt||!yt||this.activeResizer)return;this.resizer=D.runCommand("resize",N(N({},rt),{el:yt,component:Z,force:!0,afterStart:function(){F=!1,H.activeResizer=!0},afterEnd:function(){F=!0,H.activeResizer=!1}}))}else{if(Vt)return;D.stopCommand("resize"),this.resizer=null}},updateToolbar:function(R){var H=this.canvas,L=this.config.em,W=R===L?L.getSelected():R,q=H.getToolbarEl(),J=q.style,D=W.get("toolbar"),Z=L.config.showToolbar,nt=!H.hasCustomSpot(i.F.Select);if(W&&Z&&D&&D.length&&nt){if(J.display="",!this.toolbar){q.innerHTML="",this.toolbar=new p(D);var pt=new b({collection:this.toolbar,em:L});q.appendChild(pt.render().el)}this.toolbar.reset(D),J.top="-100px",J.left="0"}else J.display="none"},updateToolbarPos:function(R){var H="px",L=this.canvas.getToolbarEl().style;L.top="".concat(R.top).concat(H),L.left="".concat(R.left).concat(H),L.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(R){return R===void 0&&(R={}),this.canvas.getBadgeEl(R.view)},onCanvasScroll:function(R){this.onFrameScroll(R),this.onContainerChange()},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(R){return R&&R.get("status")==="selected"},updateToolsLocal:function(R){var H=this.em.getConfig(),L=R||this.getElHovered(),W=L.el,q=L.pos,J=L.view,D=L.component;if(!W){this.lastHovered=0;return}var Z=D.get("hoverable"),nt=this.lastHovered!==W,pt=nt?{}:{posOnly:1},Vt=this.canvas.hasCustomSpot(i.F.Hover);nt&&Z&&(this.lastHovered=W,Vt?this.hideHighlighter(J):this.showHighlighter(J),this.showElementOffset(W,q,{view:J})),this.isCompSelected(D)&&(this.hideHighlighter(J),!H.showOffsetsSelected&&this.hideElementOffset(J));var qt="px",Pt=this.toggleToolsEl(1,J),yt=Pt.style,rt=this.canvas.canvasRectOffset(W,q),ft=rt.top,wt=rt.left;!Vt&&this.updateBadge(W,q,N(N({},pt),{view:J,topOff:ft,leftOff:wt})),yt.top=ft+qt,yt.left=wt+qt,yt.width=q.width+qt,yt.height=q.height+qt,this._trgToolUp("local",{component:D,el:Pt,top:ft,left:wt,width:q.width,height:q.height})},_upToolbar:(0,e.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(R,H){H===void 0&&(H={}),this.em.trigger("canvas:tools:update",N({type:R},H))},updateToolsGlobal:function(R){R===void 0&&(R={});var H=this.getElSelected(),L=H.el,W=H.pos,q=H.component;if(!L){this.toggleToolsEl(),this.lastSelected=0;return}var J=this.canvas,D=this.lastSelected!==L;(D||R.force)&&(this.lastSelected=L,this.updateToolbar(q));var Z="px",nt=this.toggleToolsEl(1),pt=nt.style,Vt=J.getTargetToElementFixed(L,J.getToolbarEl(),{pos:W}),qt=Vt.canvasOffsetTop,Pt=Vt.canvasOffsetLeft;pt.top=qt+Z,pt.left=Pt+Z,pt.width=W.width+Z,pt.height=W.height+Z,this.updateToolbarPos({top:Vt.top,left:Vt.left}),this._trgToolUp("global",{component:q,el:nt,top:qt,left:Pt,width:W.width,height:W.height})},updateAttached:(0,e.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,e.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(R){return this.canvas.getCanvasView().getElementPos(R,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(R){R&&R.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(R){(0,E.hasWin)()&&(this.editor=R&&R.get("Editor"),this.enable())},stop:function(R,H,L){if(L===void 0&&(L={}),!!(0,E.hasWin)()){var W=this,q=W.em,J=W.editor;this.onHovered(),this.stopSelectComponent(),!L.preserveSelected&&q.setSelected(),this.toggleToolsEl(),this.updateAttached.cancel(),J&&J.stopCommand("resize")}}}},1406:(o,n,t)=>{t.r(n),t.d(n,{default:()=>a});var e=t(7774),i=t(1447),r=t(8433);let a={startSelectPosition:function(s,l,c){c===void 0&&(c={}),this.isPointed=!1;var u=this.em.Utils,p=s[0].ownerDocument.body;u&&(this.sorter=new u.ComponentSorter({em:this.em,treeClass:i.A,containerContext:{container:p,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:l,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:r.A.BothDirections,nested:!0}})),c.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=c.onStart),s&&s.length>0&&this.sorter.startSort(s.map(function(g){return{element:g}}))},getOffsetDim:function(){var s=this.offset(this.canvas.getFrameEl()),l=this.offset(this.canvas.getElement()),c=s.top-l.top,u=s.left-l.left;return{top:c,left:u}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,e.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,e.default)(this.cDim[this.posIndex][5]).parent():(0,e.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(s,l,c){var u=s||0,p=l||"before",g=c.length,h=g!==0&&p=="after"&&u==g;return g!==0&&(!h&&!c[u][4]||c[u-1]&&!c[u-1][4]||h&&!c[u-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},9395:(o,n,t)=>{t.r(n),t.d(n,{default:()=>s});var e=t(5706),i=t(179),r=t(7774),a=function(){return a=Object.assign||function(l){for(var c,u=1,p=arguments.length;u<p;u++){c=arguments[u];for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(l[g]=c[g])}return l},a.apply(this,arguments)};let s={getOffsetMethod:function(l){var c=l||"";return"get"+c+"OffsetViewerEl"},run:function(l,c,u){var p=this.canvas,g=u||{},h=g.state||"",y=l.getConfig(),_=this.em.getZoomDecimal(),O=g.el;if(!y.showOffsets||!(O instanceof HTMLElement)||!y.showOffsetsSelected&&h=="Fixed"){l.stopCommand("".concat(this.id),u);return}if(!p.hasCustomSpot(i.F.Spacing)){var M=a({},g.elPos||p.getElementPos(O));(0,e.isUndefined)(g.top)||(M.top=g.top),(0,e.isUndefined)(g.left)||(M.left=g.left);var w=window.getComputedStyle(O),T=this.ppfx,b=h+"State",k=this.getOffsetMethod(h),E=p[k](u.view);E.style.opacity="";var N=this["marginT"+h],F=this["marginB"+h],V=this["marginL"+h],R=this["marginR"+h],H=this["padT"+h],L=this["padB"+h],W=this["padL"+h],q=this["padR"+h];if(E.childNodes.length&&(this[b]="1",N=E.querySelector("[data-offset-m-t]"),F=E.querySelector("[data-offset-m-b]"),V=E.querySelector("[data-offset-m-l]"),R=E.querySelector("[data-offset-m-r]"),H=E.querySelector("[data-offset-p-t]"),L=E.querySelector("[data-offset-p-b]"),W=E.querySelector("[data-offset-p-l]"),q=E.querySelector("[data-offset-p-r]")),!this[b]){var J=h.toLowerCase(),D=J+"margin-v",Z=J+"padding-v",nt=(0,r.default)('<div class="'.concat(T,'marginName">')).get(0),pt=(0,r.default)('<div class="'.concat(T,'paddingName">')).get(0),Vt=T+D+"-el",qt=T+Z+"-el",Pt="".concat(Vt," ").concat(T+D),yt="".concat(qt," ").concat(T+Z);N=(0,r.default)('<div class="'.concat(Pt,'-top"></div>')).get(0),F=(0,r.default)('<div class="'.concat(Pt,'-bottom"></div>')).get(0),V=(0,r.default)('<div class="'.concat(Pt,'-left"></div>')).get(0),R=(0,r.default)('<div class="'.concat(Pt,'-right"></div>')).get(0),H=(0,r.default)('<div class="'.concat(yt,'-top"></div>')).get(0),L=(0,r.default)('<div class="'.concat(yt,'-bottom"></div>')).get(0),W=(0,r.default)('<div class="'.concat(yt,'-left"></div>')).get(0),q=(0,r.default)('<div class="'.concat(yt,'-right"></div>')).get(0),this["marginT"+h]=N,this["marginB"+h]=F,this["marginL"+h]=V,this["marginR"+h]=R,this["padT"+h]=H,this["padB"+h]=L,this["padL"+h]=W,this["padR"+h]=q,nt.appendChild(N),nt.appendChild(F),nt.appendChild(V),nt.appendChild(R),pt.appendChild(H),pt.appendChild(L),pt.appendChild(W),pt.appendChild(q),E.appendChild(nt),E.appendChild(pt),this[b]="1"}var rt="px",ft=parseFloat(w.marginLeft.replace(rt,""))*_,wt=parseFloat(w.marginRight.replace(rt,""))*_,Et=parseFloat(w.marginTop.replace(rt,""))*_,zt=parseFloat(w.marginBottom.replace(rt,""))*_,Wt=N.style,Nt=F.style,st=V.style,$t=R.style,le=H.style,Ct=L.style,ae=W.style,he=q.style,ce=parseFloat(M.left),K=parseFloat(w.width)*_+rt;Wt.height=Et+rt,Wt.width=K,Wt.top=M.top-Et+rt,Wt.left=ce+rt,Nt.height=zt+rt,Nt.width=K,Nt.top=M.top+M.height+rt,Nt.left=ce+rt;var at=M.height+Et+zt+rt,mt=M.top-Et+rt;st.height=at,st.width=ft+rt,st.top=mt,st.left=ce-ft+rt,$t.height=at,$t.width=wt+rt,$t.top=mt,$t.left=ce+M.width+rt;var At=parseFloat(w.paddingTop)*_;le.height=At+rt;var Qt=parseFloat(w.paddingBottom)*_;Ct.height=Qt+rt;var ht=M.height-Qt-At+rt,kt=M.top+At+rt;ae.height=ht,ae.width=parseFloat(w.paddingLeft)*_+rt,ae.top=kt;var Ft=parseFloat(w.paddingRight)*_;he.height=ht,he.width=Ft+rt,he.top=kt}},stop:function(l,c,u){u===void 0&&(u={});var p=u||{},g=p.state||"",h=this.getOffsetMethod(g),y=u.view,_=this.canvas,O=_[h](y);O.style.opacity=0}}},7285:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(5706),i=t(1166);let r={init:function(){(0,e.bindAll)(this,"_onFramesChange")},run:function(a){this.toggleVis(a,!0)},stop:function(a){this.toggleVis(a,!1)},toggleVis:function(a,s){if(s===void 0&&(s=!0),!a.Commands.isActive("preview")){var l=a.Canvas,c=s?"on":"off",u=l.getModel();u[c]("change:frames",this._onFramesChange),this.handleFrames(l.getFrames(),s)}},handleFrames:function(a,s){var l=this;a.forEach(function(c){var u;!((u=c.view)===null||u===void 0)&&u.loaded&&l._upFrame(c,s),c.__ol||(c.on("loaded",function(){return l._upFrame(c)}),c.__ol=!0)})},_onFramesChange:function(a,s){this.handleFrames(s)},_upFrame:function(a,s){var l,c=this,u=c.ppfx,p=c.em,g=c.id,h=(0,i.isDef)(s)?s:p.Commands.isActive(g),y=h?"add":"remove",_="".concat(u,"dashed");(l=a.view)===null||l===void 0||l.getBody().classList[y](_)}}},9156:(o,n,t)=>{t.d(n,{Kx:()=>l,Ss:()=>u,e2:()=>s,lK:()=>g,pM:()=>c,x2:()=>p});var e=t(4193),i=t.n(e),r=function(){var y=function(_,O){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,w){M.__proto__=w}||function(M,w){for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&(M[T]=w[T])},y(_,O)};return function(_,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");y(_,O);function M(){this.constructor=_}_.prototype=O===null?Object.create(O):(M.prototype=O.prototype,new M)}}(),a=function(){return a=Object.assign||function(y){for(var _,O=1,M=arguments.length;O<M;O++){_=arguments[O];for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(y[w]=_[w])}return y},a.apply(this,arguments)},s="add remove reset change",l=function(y){r(_,y);function _(){return y!==null&&y.apply(this,arguments)||this}return _}(i().Model),c=function(y){r(_,y);function _(){return y!==null&&y.apply(this,arguments)||this}return _}(i().Collection),u=function(y){r(_,y);function _(){return y!==null&&y.apply(this,arguments)||this}return _}(i().View),p=function(y){return y.Screen="screen",y.World="world",y}(p||{}),g={x:0,y:0},h=a(a({},g),{width:0,height:0})},2225:(o,n,t)=>{t.d(n,{I:()=>i,t:()=>e});var e=function(r){return r.remove="component:remove",r.add="component:add",r.move="component:move",r}(e||{}),i=function(r){return r.add="component:add",r.remove="component:remove",r.removeBefore="component:remove:before",r.removed="component:removed",r.create="component:create",r.update="component:update",r.updateInside="component:update-inside",r.styleUpdate="component:styleUpdate",r.styleUpdateProperty="component:styleUpdate:",r.select="component:select",r.selectBefore="component:select:before",r.mount="component:mount",r.scriptMount="component:script:mount",r.scriptMountBefore="component:script:mount:before",r.scriptUnmount="component:script:unmount",r.render="component:render",r.input="component:input",r.resize="component:resize",r.resizeStart="component:resize:start",r.resizeMove="component:resize:move",r.resizeEnd="component:resize:end",r.resizeUpdate="component:resize:update",r.resizeInit="component:resize:init",r.symbolMainAdd="symbol:main:add",r.symbolMainUpdate="symbol:main:update",r.symbolMainUpdateDeep="symbol:main:update-deep",r.symbolMainRemove="symbol:main:remove",r.symbolMain="symbol:main",r.symbolInstanceAdd="symbol:instance:add",r.symbolInstanceRemove="symbol:instance:remove",r.symbolInstance="symbol:instance",r.symbol="symbol",r}(i||{})},8242:(o,n,t)=>{t.d(n,{A:()=>s});var e=t(5706),i=t(9156),r=function(){var l=function(c,u){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&(p[h]=g[h])},l(c,u)};return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");l(c,u);function p(){this.constructor=c}c.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}}(),a=function(l){r(c,l);function c(u,p,g){u===void 0&&(u={}),g===void 0&&(g=!1);var h=l.call(this,u)||this;return h.itemsView="",h.itemType="type",h.reuseView=!1,h.config=p||u.config||{},g&&h.listenTo(h.collection,"add",h.addTo),h.items=[],h}return c.prototype.addTo=function(u){this.add(u)},c.prototype.itemViewNotFound=function(u){var p=this,g=p.config,h=p.ns,y=g.em,_="".concat(h?"[".concat(h,"]: "):"","'").concat(u,"' type not found");y&&y.logWarning(_)},c.prototype.add=function(u,p){var g=this,h=g.config,y=g.reuseView,_=g.items,O=this.itemsView||{},M=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],w=p||null,T=this.itemView,b=u.get(this.itemType),k;O[b]?T=O[b]:b&&!O[b]&&!(0,e.includes)(M,b)&&this.itemViewNotFound(b),u.view&&y?k=u.view:k=new T({model:u,config:h},h),_&&_.push(k);var E=k.render().el;w?w.appendChild(E):this.$el.append(E)},c.prototype.render=function(){var u=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(p){this.add(p,u)},this),this.$el.append(u),this.onRender(),this},c.prototype.onRender=function(){},c.prototype.onRemoveBefore=function(u,p){},c.prototype.onRemove=function(u,p){},c.prototype.remove=function(u){u===void 0&&(u={});var p=this.items;return this.onRemoveBefore(p,u),this.clearItems(),l.prototype.remove.call(this),this.onRemove(p,u),this},c.prototype.clearItems=function(){var u=this.items||[]},c}(i.Ss);let s=a;a.prototype.itemView=""},9966:(o,n,t)=>{t.d(n,{A:()=>c});var e=t(5706),i=t(6294),r=function(){return r=Object.assign||function(u){for(var p,g=1,h=arguments.length;g<h;g++){p=arguments[g];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(u[y]=p[y])}return u},r.apply(this,arguments)},a=function(){return{x:0,y:0}},s=["x","y"],l=function(){function u(p){return p===void 0&&(p={}),this.opts={snapGuides:{x:5,y:5},snapOffset:5,scale:1},(0,e.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(p),this.delta=a(),this.lastScroll=a(),this.lastScrollDiff=a(),this.startPointer=a(),this.startPosition=a(),this.globScrollDiff=a(),this.currentPointer=a(),this.position=a(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return u.prototype.setOptions=function(p){p===void 0&&(p={}),this.opts=r(r({},this.opts),p)},u.prototype.toggleDrag=function(p){var g=this.getDocumentEl(),h=this.getContainerEl(),y=this.getWindowEl(),_=p?"on":"off",O={on:i.on,off:i.AU};O[_](h,"mousemove dragover",this.drag),O[_](g,"mouseup dragend touchend",this.stop),O[_](g,"keydown",this.keyHandle),O[_](y,"scroll",this.handleScroll)},u.prototype.handleScroll=function(){var p=this,g=p.lastScroll,h=p.delta,y=this.getScrollInfo(),_={x:y.x-g.x,y:y.y-g.y};this.move(h.x+_.x,h.y+_.y),this.lastScrollDiff=_},u.prototype.start=function(p){var g=this.opts,h=g.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(p),this.guidesStatic=(0,e.result)(g,"guidesStatic")||[],this.guidesTarget=(0,e.result)(g,"guidesTarget")||[],(0,e.isFunction)(h)&&h(p,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=a(),this.globScrollDiff=a(),this.drag(p)},u.prototype.drag=function(p){var g=this,h=this,y=h.opts,_=h.lastScrollDiff,O=h.globScrollDiff,M=y.onDrag,w=this.startPointer,T=this.getPointerPos(p),b={x:O.x+_.x,y:O.y+_.y};this.globScrollDiff=b;var k={x:T.x-w.x+b.x,y:T.y-w.y+b.y};this.lastScrollDiff=a();var E=function(L){s.forEach(function(W){return L[W]=L[W]*(0,e.result)(y,"scale")}),g.delta=L,g.move(L.x,L.y),(0,e.isFunction)(M)&&M(p,g)},N=r({},k);if(this.currentPointer=T,this.lastScroll=this.getScrollInfo(),E(k),this.guidesTarget.length){var F=this.snapGuides(N),V=F.newDelta,R=F.trgX,H=F.trgY;(R||H)&&E(V)}p.which===0&&this.stop(p)},u.prototype.snapGuides=function(p){var g=this,h=r({},p),y=this,_=y.trgX,O=y.trgY;return this.guidesTarget.forEach(function(M){M.x&&g.trgX||M.y&&g.trgY||(M.active=!1,g.guidesStatic.forEach(function(w){if(!(M.y&&w.x||M.x&&w.y)){var T=M.y&&w.y,b=T?"y":"x",k=M[b],E=w[b],N=p[b],F=T?O:_;if(g.isPointIn(k,E,{axis:b})&&(0,e.isUndefined)(F)){var V=N-(k-E);g.setGuideLock(M,V)}}}))}),_=this.trgX,O=this.trgY,s.forEach(function(M){var w=M.toUpperCase(),T=g["trg".concat(w)];T&&!g.isPointIn(p[M],T.lock,{axis:M})&&(g.setGuideLock(T,null),T=null),T&&!(0,e.isUndefined)(T.lock)&&(h[M]=T.lock)}),{newDelta:h,trgX:this.trgX,trgY:this.trgY}},u.prototype.isPointIn=function(p,g,h){var y,_=h===void 0?{}:h,O=_.offset,M=_.axis,w=this.opts,T=w.snapGuides,b=T===void 0?{}:T,k=w.snapOffset,E=k===void 0?0:k,N=M==="x"?b.x:M==="y"?b.y:void 0,F=N===0?0:(y=O??N)!==null&&y!==void 0?y:E;return F===0?!1:p>=g&&p<=g+F||p<=g&&p>=g-F},u.prototype.setGuideLock=function(p,g){var h=(0,e.isUndefined)(p.x)?"Y":"X",y="trg".concat(h);return g!==null?(p.active=!0,p.lock=g,this[y]=p):(delete p.active,delete p.lock,delete this[y]),p},u.prototype.stop=function(p,g){g===void 0&&(g={});var h=this.delta,y=!!g.cancel,_=y?0:h.x,O=y?0:h.y;this.toggleDrag(),this.move(_,O,!0);var M=this.opts.onEnd;(0,e.isFunction)(M)&&M(p,this,{cancelled:y})},u.prototype.keyHandle=function(p){(0,i.v$)(p)&&this.stop(p,{cancel:!0})},u.prototype.move=function(p,g,h){var y=this,_=y.el,O=y.opts,M=this.startPosition;if(M){var w=O.setPosition,T=M.x+p,b=M.y+g;this.position={x:T,y:b,end:h},(0,e.isFunction)(w)&&w(this.position),_&&(_.style.left="".concat(T,"px"),_.style.top="".concat(b,"px"))}},u.prototype.getContainerEl=function(){var p=this.opts.container;return p?[p]:this.getDocumentEl()},u.prototype.getWindowEl=function(){var p=this.getContainerEl();return p.map(function(g){var h=g.ownerDocument||g;return h.defaultView||h.parentWindow})},u.prototype.getDocumentEl=function(p){var g=this.opts.doc;if(p=p||this.el,!this.docs.length){var h=[document];p&&h.push(p.ownerDocument),g&&h.push(g),this.docs=h}return this.docs},u.prototype.getPointerPos=function(p){var g=this.opts.getPointerPosition,h=(0,i.G2)(p);return g?g(p):{x:h.clientX,y:h.clientY}},u.prototype.getStartPosition=function(){var p=this,g=p.el,h=p.opts,y=h.getPosition,_=a();return(0,e.isFunction)(y)?_=y():g&&(_={x:parseFloat(g.style.left),y:parseFloat(g.style.top)}),_},u.prototype.getScrollInfo=function(){var p=this.opts.doc,g=p&&p.body;return{y:g?g.scrollTop:0,x:g?g.scrollLeft:0}},u.prototype.detectAxisLock=function(p,g){var h=p,y=g,_=Math.abs(h),O=Math.abs(y);if(y>=_||y<=-_)return"x";if(h>O||h<-O)return"y"},u}();let c=l},7774:(o,n,t)=>{t.r(n),t.d(n,{default:()=>Kn});var e=typeof document<"u"?document:null,i=typeof window<"u"?window:null,r=Array.prototype,a=r.filter,s=r.indexOf,l=r.map,c=r.push,u=r.reverse,p=r.slice,g=r.splice,h=/^#[\w-]*$/,y=/^\.[\w-]*$/,_=/<.+>/,O=/^\w+$/;function M(dt,Mt){return Mt===void 0&&(Mt=e),y.test(dt)?Mt.getElementsByClassName(dt.slice(1)):O.test(dt)?Mt.getElementsByTagName(dt):Mt.querySelectorAll(dt)}function w(dt,Mt){if(Mt===void 0&&(Mt=e),!!dt){if(dt.__cash)return dt;var Rt=dt;if(W(dt)){if(Mt.__cash&&(Mt=Mt[0]),Rt=h.test(dt)?Mt.getElementById(dt.slice(1)):_.test(dt)?Qe(dt):M(dt,Mt),!Rt)return}else if(L(dt))return this.ready(dt);(Rt.nodeType||Rt===i)&&(Rt=[Rt]),this.length=Rt.length;for(var ne=0,Ce=this.length;ne<Ce;ne++)this[ne]=Rt[ne]}}function T(dt,Mt){return new w(dt,Mt)}var b=T.fn=T.prototype=w.prototype={constructor:T,__cash:!0,length:0,splice:g};b.get=function(dt){return dt===void 0?p.call(this):this[dt<0?dt+this.length:dt]},b.eq=function(dt){return T(this.get(dt))},b.first=function(){return this.eq(0)},b.last=function(){return this.eq(-1)},b.map=function(dt){return T(l.call(this,function(Mt,Rt){return dt.call(Mt,Rt,Mt)}))},b.slice=function(){return T(p.apply(this,arguments))};var k=/(?:^\w|[A-Z]|\b\w)/g,E=/[\s-_]+/g;function N(dt){return dt.replace(k,function(Mt,Rt){return Mt[Rt?"toUpperCase":"toLowerCase"]()}).replace(E,"")}T.camelCase=N;function F(dt,Mt){for(var Rt=0,ne=dt.length;Rt<ne&&Mt.call(dt[Rt],dt[Rt],Rt,dt)!==!1;Rt++);}T.each=F,b.each=function(dt){return F(this,function(Mt,Rt){return dt.call(Mt,Rt,Mt)}),this},b.removeProp=function(dt){return this.each(function(Mt,Rt){delete Rt[dt]})};function V(dt){dt===void 0&&(dt=this);for(var Mt=arguments,Rt=Mt.length,ne=Rt<2?0:1;ne<Rt;ne++)for(var Ce in Mt[ne])dt[Ce]=Mt[ne][Ce];return dt}T.extend=b.extend=V;var R=1;T.guid=R;function H(dt,Mt){var Rt=dt&&(dt.matches||dt.webkitMatchesSelector||dt.mozMatchesSelector||dt.msMatchesSelector||dt.oMatchesSelector);return!!Rt&&Rt.call(dt,Mt)}T.matches=H;function L(dt){return typeof dt=="function"}T.isFunction=L;function W(dt){return typeof dt=="string"}T.isString=W;function q(dt){return!isNaN(parseFloat(dt))&&isFinite(dt)}T.isNumeric=q;var J=Array.isArray;T.isArray=J,b.prop=function(dt,Mt){if(dt){if(W(dt))return arguments.length<2?this[0]&&this[0][dt]:this.each(function(ne,Ce){Ce[dt]=Mt});for(var Rt in dt)this.prop(Rt,dt[Rt]);return this}};function D(dt){return W(dt)?function(Mt,Rt){return H(Rt,dt)}:dt.__cash?function(Mt,Rt){return dt.is(Rt)}:function(Mt,Rt,ne){return Rt===ne}}b.filter=function(dt){if(!dt)return T();var Mt=L(dt)?dt:D(dt);return T(a.call(this,function(Rt,ne){return Mt.call(Rt,ne,Rt,dt)}))};var Z=/\S+/g;function nt(dt){return W(dt)?dt.match(Z)||[]:[]}b.hasClass=function(dt){var Mt=nt(dt),Rt=!1;return Mt.length&&this.each(function(ne,Ce){return Rt=Ce.classList.contains(Mt[0]),!Rt}),Rt},b.removeAttr=function(dt){var Mt=nt(dt);return Mt.length?this.each(function(Rt,ne){F(Mt,function(Ce){ne.removeAttribute(Ce)})}):this},b.attr=function(dt,Mt){if(dt){if(W(dt)){if(arguments.length<2){if(!this[0])return;var Rt=this[0].getAttribute(dt);return Rt===null?void 0:Rt}return Mt===null?this.removeAttr(dt):this.each(function(Ce,Te){Te.setAttribute(dt,Mt)})}for(var ne in dt)this.attr(ne,dt[ne]);return this}},b.toggleClass=function(dt,Mt){var Rt=nt(dt),ne=Mt!==void 0;return Rt.length?this.each(function(Ce,Te){F(Rt,function(Ne){ne?Mt?Te.classList.add(Ne):Te.classList.remove(Ne):Te.classList.toggle(Ne)})}):this},b.addClass=function(dt){return this.toggleClass(dt,!0)},b.removeClass=function(dt){return arguments.length?this.toggleClass(dt,!1):this.attr("class","")};function pt(dt){return dt.filter(function(Mt,Rt,ne){return ne.indexOf(Mt)===Rt})}T.unique=pt,b.add=function(dt,Mt){return T(pt(this.get().concat(T(dt,Mt).get())))};function Vt(dt,Mt,Rt){if(dt.nodeType===1){var ne=i.getComputedStyle(dt,null);return Mt?Rt?ne.getPropertyValue(Mt):ne[Mt]:ne}}function qt(dt,Mt){return parseInt(Vt(dt,Mt),10)||0}var Pt=/^--/;function yt(dt){return Pt.test(dt)}var rt={},ft=e&&e.createElement("div"),wt=ft?ft.style:{},Et=["webkit","moz","ms","o"];function zt(dt,Mt){if(Mt===void 0&&(Mt=yt(dt)),Mt)return dt;if(!rt[dt]){var Rt=N(dt),ne=""+Rt.charAt(0).toUpperCase()+Rt.slice(1),Ce=(Rt+" "+Et.join(ne+" ")+ne).split(" ");F(Ce,function(Te){if(Te in wt)return rt[dt]=Te,!1})}return rt[dt]}T.prefixedProp=zt;var Wt={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Nt(dt,Mt,Rt){return Rt===void 0&&(Rt=yt(dt)),!Rt&&!Wt[dt]&&q(Mt)?Mt+"px":Mt}b.css=function(dt,Mt){if(W(dt)){var Rt=yt(dt);return dt=zt(dt,Rt),arguments.length<2?this[0]&&Vt(this[0],dt,Rt):dt?(Mt=Nt(dt,Mt,Rt),this.each(function(Ce,Te){Te.nodeType===1&&(Rt?Te.style.setProperty(dt,Mt):Te.style[dt]=Mt)})):this}for(var ne in dt)this.css(ne,dt[ne]);return this};var st="__cashData",$t=/^data-(.*)/;T.hasData=function(dt){return st in dt};function le(dt){return dt[st]=dt[st]||{}}function Ct(dt,Mt){var Rt=le(dt);if(Mt){if(!(Mt in Rt)){var ne=dt.dataset?dt.dataset[Mt]||dt.dataset[N(Mt)]:T(dt).attr("data-"+Mt);if(ne!==void 0){try{ne=JSON.parse(ne)}catch{}Rt[Mt]=ne}}return Rt[Mt]}return Rt}function ae(dt,Mt){Mt===void 0?delete dt[st]:delete le(dt)[Mt]}function he(dt,Mt,Rt){le(dt)[Mt]=Rt}b.data=function(dt,Mt){var Rt=this;if(!dt)return this[0]?(F(this[0].attributes,function(Ce){var Te=Ce.name.match($t);Te&&Rt.data(Te[1])}),Ct(this[0])):void 0;if(W(dt))return Mt===void 0?this[0]&&Ct(this[0],dt):this.each(function(Ce,Te){return he(Te,dt,Mt)});for(var ne in dt)this.data(ne,dt[ne]);return this},b.removeData=function(dt){return this.each(function(Mt,Rt){return ae(Rt,dt)})};function ce(dt,Mt){return qt(dt,"border"+(Mt?"Left":"Top")+"Width")+qt(dt,"padding"+(Mt?"Left":"Top"))+qt(dt,"padding"+(Mt?"Right":"Bottom"))+qt(dt,"border"+(Mt?"Right":"Bottom")+"Width")}F(["Width","Height"],function(dt){b["inner"+dt]=function(){if(this[0])return this[0]===i?i["inner"+dt]:this[0]["client"+dt]}}),F(["width","height"],function(dt,Mt){b[dt]=function(Rt){return this[0]?arguments.length?(Rt=parseInt(Rt,10),this.each(function(ne,Ce){if(Ce.nodeType===1){var Te=Vt(Ce,"boxSizing");Ce.style[dt]=Nt(dt,Rt+(Te==="border-box"?ce(Ce,!Mt):0))}})):this[0]===i?this[0][N("outer-"+dt)]:this[0].getBoundingClientRect()[dt]-ce(this[0],!Mt):Rt===void 0?void 0:this}}),F(["Width","Height"],function(dt,Mt){b["outer"+dt]=function(Rt){if(this[0])return this[0]===i?i["outer"+dt]:this[0]["offset"+dt]+(Rt?qt(this[0],"margin"+(Mt?"Top":"Left"))+qt(this[0],"margin"+(Mt?"Bottom":"Right")):0)}});function K(dt,Mt){for(var Rt=0,ne=Mt.length;Rt<ne;Rt++)if(dt.indexOf(Mt[Rt])<0)return!1;return!0}function at(dt,Mt,Rt){F(dt[Rt],function(ne){var Ce=ne[0],Te=ne[1];Mt.removeEventListener(Rt,Te)}),delete dt[Rt]}var mt="__cashEvents",At=".";function Qt(dt){return dt[mt]=dt[mt]||{}}function ht(dt,Mt,Rt,ne){ne.guid=ne.guid||R++;var Ce=Qt(dt);Ce[Mt]=Ce[Mt]||[],Ce[Mt].push([Rt,ne]),dt.addEventListener(Mt,ne)}function kt(dt){var Mt=dt.split(At);return[Mt[0],Mt.slice(1).sort()]}function Ft(dt,Mt,Rt,ne){var Ce=Qt(dt);if(Mt){var Te=Ce[Mt];if(!Te)return;ne&&(ne.guid=ne.guid||R++),Ce[Mt]=Te.filter(function(Ne){var Pn=Ne[0],On=Ne[1];if(ne&&On.guid!==ne.guid||!K(Pn,Rt))return!0;dt.removeEventListener(Mt,On)})}else if(!Rt||!Rt.length)for(Mt in Ce)at(Ce,dt,Mt);else for(Mt in Ce)Ft(dt,Mt,Rt,ne)}b.off=function(dt,Mt){var Rt=this;return dt===void 0?this.each(function(ne,Ce){return Ft(Ce)}):F(nt(dt),function(ne){var Ce=kt(ne),Te=Ce[0],Ne=Ce[1];Rt.each(function(Pn,On){return Ft(On,Te,Ne,Mt)})}),this},b.on=function(dt,Mt,Rt,ne){var Ce=this;if(!W(dt)){for(var Te in dt)this.on(Te,Mt,dt[Te]);return this}return L(Mt)&&(Rt=Mt,Mt=!1),F(nt(dt),function(Ne){var Pn=kt(Ne),On=Pn[0],rn=Pn[1];Ce.each(function(mi,Mn){var fn=function Si(yn){if(!(yn.namespace&&!K(rn,yn.namespace.split(At)))){var sn=Mn;if(Mt){for(var wn=yn.target;!H(wn,Mt);)if(wn===Mn||(wn=wn.parentNode,!wn))return;sn=wn}yn.namespace=yn.namespace||"";var Yn=Rt.call(sn,yn,yn.data);ne&&Ft(Mn,On,rn,Si),Yn===!1&&(yn.preventDefault(),yn.stopPropagation())}};fn.guid=Rt.guid=Rt.guid||R++,ht(Mn,On,rn,fn)})}),this},b.one=function(dt,Mt,Rt){return this.on(dt,Mt,Rt,!0)},b.ready=function(dt){var Mt=function(){return dt(T)};return e.readyState!=="loading"?setTimeout(Mt):e.addEventListener("DOMContentLoaded",Mt),this},b.trigger=function(dt,Mt){var Rt=dt;if(W(dt)){var ne=kt(dt),Ce=ne[0],Te=ne[1];Rt=e.createEvent("HTMLEvents"),Rt.initEvent(Ce,!0,!0),Rt.namespace=Te.join(At)}return Rt.data=Mt,this.each(function(Ne,Pn){Pn.dispatchEvent(Rt)})};function me(dt){var Mt=[];return F(dt.options,function(Rt){Rt.selected&&!Rt.disabled&&!Rt.parentNode.disabled&&Mt.push(Rt.value)}),Mt}function Ye(dt){return dt.selectedIndex<0?null:dt.options[dt.selectedIndex].value}var Le=/select-one/i,ut=/select-multiple/i;function Tt(dt){var Mt=dt.type;return Le.test(Mt)?Ye(dt):ut.test(Mt)?me(dt):dt.value}var ot=/%20/g;function re(dt,Mt){return"&"+encodeURIComponent(dt)+"="+encodeURIComponent(Mt).replace(ot,"+")}var Ht=/file|reset|submit|button|image/i,de=/radio|checkbox/i;b.serialize=function(){var dt="";return this.each(function(Mt,Rt){F(Rt.elements||[Rt],function(ne){if(!(ne.disabled||!ne.name||ne.tagName==="FIELDSET")&&!Ht.test(ne.type)&&!(de.test(ne.type)&&!ne.checked)){var Ce=Tt(ne);if(Ce!==void 0){var Te=J(Ce)?Ce:[Ce];F(Te,function(Ne){dt+=re(ne.name,Ne)})}}})}),dt.substr(1)},b.val=function(dt){return dt===void 0?this[0]&&Tt(this[0]):this.each(function(Mt,Rt){var ne=ut.test(Rt.type),Ce=dt===null?ne?[]:"":dt;ne&&J(Ce)?F(Rt.options,function(Te){Te.selected=Ce.indexOf(Te.value)>=0}):Rt.value=Ce})},b.clone=function(){return this.map(function(dt,Mt){return Mt.cloneNode(!0)})},b.detach=function(){return this.each(function(dt,Mt){Mt.parentNode&&Mt.parentNode.removeChild(Mt)})};var Oe=/^\s*<(\w+)[^>]*>/,Pe=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,_e;function Ae(){if(!_e){var dt=e.createElement("table"),Mt=e.createElement("tr");_e={"*":e.createElement("div"),tr:e.createElement("tbody"),td:Mt,th:Mt,thead:dt,tbody:dt,tfoot:dt}}}function Qe(dt){if(Ae(),!W(dt))return[];if(Pe.test(dt))return[e.createElement(RegExp.$1)];var Mt=Oe.test(dt)&&RegExp.$1,Rt=_e[Mt]||_e["*"];return Rt.innerHTML=dt,T(Rt.childNodes).detach().get()}T.parseHTML=Qe,b.empty=function(){var dt=this[0];if(dt)for(;dt.firstChild;)dt.removeChild(dt.firstChild);return this};function Xe(dt,Mt,Rt){Rt?dt.insertBefore(Mt,dt.childNodes[0]):dt.appendChild(Mt)}function Ze(dt,Mt,Rt){if(Mt!==void 0){var ne=W(Mt);!ne&&Mt.length?F(Mt,function(Ce){return Ze(dt,Ce,Rt)}):F(dt,ne?function(Ce){Ce.insertAdjacentHTML(Rt?"afterbegin":"beforeend",Mt)}:function(Ce,Te){return Xe(Ce,Te?Mt.cloneNode(!0):Mt,Rt)})}}b.append=function(){var dt=this;return F(arguments,function(Mt){Ze(dt,Mt)}),this},b.appendTo=function(dt){return Ze(T(dt),this),this},b.html=function(dt){if(dt===void 0)return this[0]&&this[0].innerHTML;var Mt=dt.nodeType?dt[0].outerHTML:dt;return this.each(function(Rt,ne){ne.innerHTML=Mt})},b.insertAfter=function(dt){var Mt=this;return T(dt).each(function(Rt,ne){var Ce=ne.parentNode;Mt.each(function(Te,Ne){Ce.insertBefore(Rt?Ne.cloneNode(!0):Ne,ne.nextSibling)})}),this},b.after=function(){var dt=this;return F(u.apply(arguments),function(Mt){u.apply(T(Mt).slice()).insertAfter(dt)}),this},b.insertBefore=function(dt){var Mt=this;return T(dt).each(function(Rt,ne){var Ce=ne.parentNode;Mt.each(function(Te,Ne){Ce.insertBefore(Rt?Ne.cloneNode(!0):Ne,ne)})}),this},b.before=function(){var dt=this;return F(arguments,function(Mt){T(Mt).insertBefore(dt)}),this},b.prepend=function(){var dt=this;return F(arguments,function(Mt){Ze(dt,Mt,!0)}),this},b.prependTo=function(dt){return Ze(T(dt),u.apply(this.slice()),!0),this},b.remove=function(){return this.detach().off()},b.replaceWith=function(dt){var Mt=this;return this.each(function(Rt,ne){var Ce=ne.parentNode;if(Ce){var Te=Rt?T(dt).clone():T(dt);if(!Te[0])return Mt.remove(),!1;Ce.replaceChild(Te[0],ne),T(Te[0]).after(Te.slice(1))}})},b.replaceAll=function(dt){return T(dt).replaceWith(this),this},b.text=function(dt){return dt===void 0?this[0]?this[0].textContent:"":this.each(function(Mt,Rt){Rt.textContent=dt})};var _n=e&&e.documentElement;b.offset=function(){var dt=this[0];if(dt){var Mt=dt.getBoundingClientRect();return{top:Mt.top+i.pageYOffset-_n.clientTop,left:Mt.left+i.pageXOffset-_n.clientLeft}}},b.offsetParent=function(){return T(this[0]&&this[0].offsetParent)},b.position=function(){var dt=this[0];if(dt)return{left:dt.offsetLeft,top:dt.offsetTop}},b.children=function(dt){var Mt=[];return this.each(function(Rt,ne){c.apply(Mt,ne.children)}),Mt=T(pt(Mt)),dt?Mt.filter(function(Rt,ne){return H(ne,dt)}):Mt},b.contents=function(){var dt=[];return this.each(function(Mt,Rt){c.apply(dt,Rt.tagName==="IFRAME"?[Rt.contentDocument]:Rt.childNodes)}),T(dt.length&&pt(dt))},b.find=function(dt){for(var Mt=[],Rt=0,ne=this.length;Rt<ne;Rt++){var Ce=M(dt,this[Rt]);Ce.length&&c.apply(Mt,Ce)}return T(Mt.length&&pt(Mt))},b.has=function(dt){var Mt=W(dt)?function(Rt,ne){return!!M(dt,ne).length}:function(Rt,ne){return ne.contains(dt)};return this.filter(Mt)},b.is=function(dt){if(!dt||!this[0])return!1;var Mt=D(dt),Rt=!1;return this.each(function(ne,Ce){return Rt=Mt(ne,Ce,dt),!Rt}),Rt},b.next=function(){return T(this[0]&&this[0].nextElementSibling)},b.not=function(dt){if(!dt||!this[0])return this;var Mt=D(dt);return this.filter(function(Rt,ne){return!Mt(Rt,ne,dt)})},b.parent=function(){var dt=[];return this.each(function(Mt,Rt){Rt&&Rt.parentNode&&dt.push(Rt.parentNode)}),T(pt(dt))},b.index=function(dt){var Mt=dt?T(dt)[0]:this[0],Rt=dt?this:T(Mt).parent().children();return s.call(Rt,Mt)},b.closest=function(dt){return!dt||!this[0]?T():this.is(dt)?this.filter(dt):this.parent().closest(dt)},b.parents=function(dt){var Mt=[],Rt;return this.each(function(ne,Ce){for(Rt=Ce;Rt&&Rt.parentNode&&Rt!==e.body.parentNode;)Rt=Rt.parentNode,(!dt||dt&&H(Rt,dt))&&Mt.push(Rt)}),T(pt(Mt))},b.prev=function(){return T(this[0]&&this[0].previousElementSibling)},b.siblings=function(){var dt=this[0];return this.parent().children().filter(function(Mt,Rt){return Rt!==dt})};let Kn=T},6294:(o,n,t)=>{t.d(n,{AU:()=>Pt,BC:()=>w,C8:()=>R,Ch:()=>W,Ci:()=>D,D8:()=>l,G2:()=>q,GW:()=>V,GZ:()=>b,I6:()=>g,LJ:()=>pt,Sc:()=>M,X6:()=>h,Xy:()=>H,YZ:()=>u,ZQ:()=>c,_I:()=>yt,a_:()=>T,af:()=>E,bG:()=>O,cx:()=>p,ir:()=>N,kk:()=>Vt,on:()=>qt,rp:()=>nt,v$:()=>J,yL:()=>k,zN:()=>y});var e=t(5706),i=function(rt,ft,wt){if(wt||arguments.length===2)for(var Et=0,zt=ft.length,Wt;Et<zt;Et++)(Wt||!(Et in ft))&&(Wt||(Wt=Array.prototype.slice.call(ft,0,Et)),Wt[Et]=ft[Et]);return rt.concat(Wt||Array.prototype.slice.call(ft))},r="tag",a="attributes",s="children",l="transitionend oTransitionEnd transitionend webkitTransitionEnd",c=function(rt){return rt?.nodeType===Node.DOCUMENT_NODE},u=function(rt){var ft=rt&&rt.parentNode;ft&&ft.removeChild(rt)};function p(){for(var rt=[],ft=0;ft<arguments.length;ft++)rt[ft]=arguments[ft];var wt=Array.isArray(rt[0])?rt[0]:i([],rt,!0);return wt.filter(Boolean).join(" ")}var g=function(rt,ft){return rt.querySelectorAll(ft)},h=function(rt,ft){return ft===void 0&&(ft={}),rt&&rt.setAttribute&&(0,e.each)(ft,function(wt,Et){return rt.setAttribute(Et,wt)})},y=function(rt){var ft;return rt&&!!(rt.offsetWidth||rt.offsetHeight||!((ft=rt.getClientRects)===null||ft===void 0)&&ft.call(rt).length)},_=function(rt){for(;rt.firstChild;)rt.removeChild(rt.firstChild)},O=function(rt,ft){var wt;(wt=rt.parentNode)===null||wt===void 0||wt.replaceChild(ft,rt)},M=function(rt,ft,wt){var Et=rt.childNodes,zt=Et.length,Wt=(0,e.isUndefined)(wt)?zt:wt;(0,e.isString)(ft)&&(rt.insertAdjacentHTML("beforeEnd",ft),ft=rt.lastChild,rt.removeChild(ft)),Wt>=zt?rt.appendChild(ft):rt.insertBefore(ft,Et[Wt])},w=function(rt,ft){return M(rt,ft)},T=function(rt,ft,wt){ft===void 0&&(ft={});var Et=document.createElement(rt);return ft&&(0,e.each)(ft,function(zt,Wt){return Et.setAttribute(Wt,zt)}),wt&&((0,e.isString)(wt)?Et.innerHTML=wt:Et.appendChild(wt)),Et},b=function(rt){return document.createTextNode(rt)},k=function(rt,ft){var wt,Et=rt.type;try{wt=new window[ft](Et,rt)}catch{wt=document.createEvent(ft),wt.initEvent(Et,!0,!0)}return wt._parentEvent=rt,Et.indexOf("key")===0&&(wt.keyCodeVal=rt.keyCode,["keyCode","which"].forEach(function(zt){Object.defineProperty(wt,zt,{get:function(){return this.keyCodeVal}})})),wt},E=function(rt,ft){ft===void 0&&(ft=[]);var wt=Array.isArray(ft)?ft:[ft];wt.forEach(function(Et){var zt=Et[r]||"div",Wt=Et[a]||{},Nt=document.createElement(zt);(0,e.each)(Wt,function(st,$t){Nt.setAttribute($t,st)}),rt.appendChild(Nt)})},N=function(rt){return rt?.nodeType===Node.TEXT_NODE},F=function(rt){return rt?.nodeType===Node.COMMENT_NODE},V=function(rt){return rt&&!N(rt)&&!F(rt)},R=function(rt){var ft={top:0,left:0,width:0,height:0};if(!rt)return ft;var wt;if(N(rt)){var Et=document.createRange();Et.selectNode(rt),wt=Et.getBoundingClientRect(),Et.detach()}return wt||(rt.getBoundingClientRect?rt.getBoundingClientRect():ft)},H=function(rt){var ft=rt?.ownerDocument||document,wt=ft.documentElement,Et=ft.defaultView||window;return{x:(Et.pageXOffset||wt.scrollLeft||0)-(wt.clientLeft||0),y:(Et.pageYOffset||wt.scrollTop||0)-(wt.clientTop||0)}},L=function(rt){return rt.which||rt.keyCode},W=function(rt){return String.fromCharCode(L(rt))},q=function(rt){return rt.touches&&rt.touches[0]?rt.touches[0]:rt},J=function(rt){return L(rt)===27},D=function(rt){return L(rt)===13},Z=function(rt){return rt.ctrlKey},nt=function(rt){return Z(rt)||rt.metaKey},pt=function(rt){if(!rt)return"";var ft=rt.name,wt=rt.publicId,Et=rt.systemId,zt=wt?' PUBLIC "'.concat(wt,'"'):"",Wt=!wt&&Et?' SYSTEM "'.concat(Et,'"'):"";return"<!DOCTYPE ".concat(ft).concat(zt).concat(Wt,">")},Vt=function(rt){rt===void 0&&(rt={});var ft=[];return(0,e.each)(rt,function(wt,Et){return ft.push("".concat(Et,'="').concat(wt,'"'))}),ft.join(" ")},qt=function(rt,ft,wt,Et){var zt=ft.split(/\s+/),Wt=(0,e.isArray)(rt)?rt:[rt];zt.forEach(function(Nt){Wt.forEach(function(st){return st?.addEventListener(Nt,wt,Et)})})},Pt=function(rt,ft,wt,Et){var zt=ft.split(/\s+/),Wt=(0,e.isArray)(rt)?rt:[rt];zt.forEach(function(Nt){Wt.forEach(function(st){return st?.removeEventListener(Nt,wt,Et)})})},yt=function(rt){var ft=rt.replace(/-([a-zA-Z0-9])/g,function(wt,Et){return Et.toUpperCase()});return ft}},1166:(o,n,t)=>{t.r(n),t.d(n,{appendStyles:()=>F,buildBase64UrlFromSvg:()=>le,camelCase:()=>L,capitalize:()=>ft,createId:()=>$t,deepMerge:()=>qt,escape:()=>Z,escapeAltQuoteAttrValue:()=>Vt,escapeAttrValue:()=>pt,escapeNodeContent:()=>nt,find:()=>D,get:()=>g,getComponentModel:()=>Nt,getComponentView:()=>Wt,getElement:()=>J,getGlobal:()=>T,getModel:()=>Pt,getUiClass:()=>N,getUnitFromValue:()=>R,getViewEl:()=>Et,hasDnd:()=>q,hasWin:()=>w,isBultInMethod:()=>y,isComponent:()=>zt,isDef:()=>M,isEmptyObj:()=>rt,isObject:()=>yt,isRule:()=>wt,matches:()=>E,normalizeFloat:()=>W,normalizeKey:()=>_,serialize:()=>h,setViewEl:()=>st,shallowDiff:()=>V,stringToPath:()=>u,toLowerCase:()=>b,upFirst:()=>H,wait:()=>O});var e=t(5706),i=t(6294),r=function(){return r=Object.assign||function(Ct){for(var ae,he=1,ce=arguments.length;he<ce;he++){ae=arguments[he];for(var K in ae)Object.prototype.hasOwnProperty.call(ae,K)&&(Ct[K]=ae[K])}return Ct},r.apply(this,arguments)},a=function(Ct,ae,he){if(he||arguments.length===2)for(var ce=0,K=ae.length,at;ce<K;ce++)(at||!(ce in ae))&&(at||(at=Array.prototype.slice.call(ae,0,ce)),at[ce]=ae[ce]);return Ct.concat(at||Array.prototype.slice.call(ae))},s={},l=/\\(\\)?/g,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=function(Ct){var ae=[];return Ct.charCodeAt(0)===46&&ae.push(""),Ct.replace(c,function(he,ce,K,at){return ae.push(K?at.replace(l,"$1"):ce||he),""}),ae};function p(Ct,ae){return(0,e.isArray)(Ct)?Ct:ae.hasOwnProperty(Ct)?[Ct]:u(Ct)}var g=function(Ct,ae,he){for(var ce,K=p(ae,Ct),at=K.length,mt=0;Ct!=null&&mt<at;)Ct=Ct["".concat(K[mt++])];return(ce=mt&&mt==at?Ct:void 0)!==null&&ce!==void 0?ce:he},h=function(Ct){return JSON.parse(JSON.stringify(Ct))},y=function(Ct){return(0,e.isFunction)(s[Ct])},_=function(Ct){return y(Ct)?"_".concat(Ct):Ct},O=function(Ct){return Ct===void 0&&(Ct=0),new Promise(function(ae){return setTimeout(ae,Ct)})},M=function(Ct){return typeof Ct<"u"},w=function(){return typeof window<"u"},T=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:t.g},b=function(Ct){return(Ct||"").toLowerCase()},k=w()?window.Element.prototype:{},E=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.msMatchesSelector,N=function(Ct,ae){var he=Ct.getConfig(),ce=he.stylePrefix,K=he.customUI;return[K&&"".concat(ce,"cui"),ae].filter(function(at){return at}).join(" ")},F=function(Ct,ae){ae===void 0&&(ae={});var he=(0,e.isArray)(Ct)?a([],Ct,!0):[Ct];if(he.length){var ce=he.shift();if(ce&&(!ae.unique||!document.querySelector('link[href="'.concat(ce,'"]')))){var K=document.head,at=document.createElement("link");at.href=ce,at.rel="stylesheet",ae.prepand?K.insertBefore(at,K.firstChild):K.appendChild(at)}F(he)}},V=function(Ct,ae){var he={},ce=(0,e.keys)(ae);for(var K in Ct)if(Ct.hasOwnProperty(K)){var at=Ct[K],mt=ae[K];ce.indexOf(K)>=0?at!==mt&&(he[K]=mt):he[K]=null}for(var K in ae)ae.hasOwnProperty(K)&&(0,e.isUndefined)(Ct[K])&&(he[K]=ae[K]);return he},R=function(Ct){return Ct.replace(parseFloat(Ct),"")},H=function(Ct){return Ct[0].toUpperCase()+Ct.toLowerCase().slice(1)},L=function(Ct){return Ct.replace(/-./g,function(ae){return ae[1].toUpperCase()})},W=function(Ct,ae,he){ae===void 0&&(ae=1),he===void 0&&(he=0);var ce=0;if(isNaN(Ct))return he;if(Ct=parseFloat(Ct),Math.floor(Ct)!==Ct){var K=ae.toString().split(".")[1];ce=K?K.length:0}return ce?parseFloat(Ct.toFixed(ce)):Ct},q=function(Ct){return"draggable"in document.createElement("i")&&(Ct?Ct.config.nativeDnD:!0)},J=function(Ct){if((0,e.isElement)(Ct)||(0,i.ir)(Ct))return Ct;if(Ct&&Ct.getEl)return Ct.getEl()},D=function(Ct,ae){var he=null;return Ct.some(function(ce,K){return ae(ce,K,Ct)?(he=ce,1):0}),he},Z=function(Ct){return Ct===void 0&&(Ct=""),"".concat(Ct).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},nt=function(Ct){return Ct===void 0&&(Ct=""),"".concat(Ct).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},pt=function(Ct){return Ct===void 0&&(Ct=""),"".concat(Ct).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},Vt=function(Ct){return Ct===void 0&&(Ct=""),"".concat(Ct).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;")},qt=function(){for(var Ct=[],ae=0;ae<arguments.length;ae++)Ct[ae]=arguments[ae];for(var he=r({},Ct[0]),ce=1;ce<Ct.length;ce++){var K=r({},Ct[ce]);for(var at in K){var mt=he[at],At=K[at];yt(mt)&&yt(At)?he[at]=qt(mt,At):he[at]=At}}return he},Pt=function(Ct,ae){var he;return!ae&&Ct&&Ct.__cashData?he=Ct.__cashData.model:ae&&(0,e.isElement)(Ct)&&(he=ae(Ct).data("model")),he},yt=function(Ct){return Ct&&!Array.isArray(Ct)&&typeof Ct=="object"},rt=function(Ct){return Object.keys(Ct).length<=0},ft=function(Ct){return Ct===void 0&&(Ct=""),Ct&&Ct.charAt(0).toUpperCase()+Ct.substring(1)},wt=function(Ct){return Ct&&Ct.toCSS},Et=function(Ct){return Ct?.__gjsv},zt=function(Ct){return!!Ct?.toHTML},Wt=function(Ct){return Et(Ct)},Nt=function(Ct){var ae;return(ae=Wt(Ct))===null||ae===void 0?void 0:ae.model},st=function(Ct,ae){Ct.__gjsv=ae},$t=function(Ct){Ct===void 0&&(Ct=16);for(var ae="",he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ce=he.length,K=0;K<Ct;K++)ae+=he.charAt(Math.floor(Math.random()*ce));return ae},le=function(Ct){if(Ct&&Ct.substr(0,4)==="<svg"){var ae="";return w()?ae=window.btoa(Ct):typeof Buffer<"u"&&(ae=Buffer.from(Ct,"utf8").toString("base64")),ae?"data:image/svg+xml;base64,".concat(ae):Ct}return Ct}},6756:(o,n,t)=>{t.d(n,{h:()=>r});var e=t(3178),i=function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(u[g]=p[g])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(l,c);function u(){this.constructor=l}l.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),r=function(s){i(l,s);function l(){var c=s!==null&&s.apply(this,arguments)||this;return c.displayCache=new Map,c}return l.prototype.getChildren=function(){return this.getDisplayedChildren()},l.prototype.getDisplayedChildren=function(){var c=this,u=this.model.components(),p=u.filter(function(g){return c.isChildDisplayed(g)});return p.map(function(g){return new c.constructor(g)})},l.prototype.isChildDisplayed=function(c){if(this.displayCache.has(c))return this.displayCache.get(c);var u=c.getEl(),p=a(u);return this.displayCache.set(c,p),p},l.prototype.getParent=function(){var c=this.model.parent();return c?new this.constructor(c):null},l.prototype.addChildAt=function(c,u,p){var g,h,y,_,O,M,w,T;p===void 0&&(p={action:"add-component"});var b=((h=(g=this.model)===null||g===void 0?void 0:g.isInstanceOf)===null||h===void 0?void 0:h.call(g,"text"))&&((_=(y=c?.model)===null||y===void 0?void 0:y.get)===null||_===void 0?void 0:_.call(y,"textable"));if(b)return(T=(w=(M=(O=this.model)===null||O===void 0?void 0:O.getView)===null||M===void 0?void 0:M.call(O))===null||w===void 0?void 0:w.insertComponent)===null||T===void 0?void 0:T.call(w,c?.model,{action:p.action});var k=this.model.components().add(c.model,{at:this.getRealIndex(u),action:p.action});return new this.constructor(k)},l.prototype.removeChildAt=function(c,u){u===void 0&&(u={temporary:!1});var p=this.model.components().at(this.getRealIndex(c));p&&this.model.components().remove(p,u)},l.prototype.indexOfChild=function(c){return this.getDisplayIndex(c)},l.prototype.getDisplayIndex=function(c){var u=this.getDisplayedChildren();return u?u.findIndex(function(p){return p.model===c.model}):-1},l.prototype.getRealIndex=function(c){if(c===-1)return-1;for(var u=0,p=this.model.components(),g=0;g<p.length;g++){var h=p.at(g),y=this.isChildDisplayed(h);if(y&&u++,u===c+1)return g}return-1},l.prototype.canMove=function(c,u){return this.model.em.Components.canMove(this.model,c.model,this.getRealIndex(u)).result},l.prototype.equals=function(c){return!!c?._model&&this._model.getId()===c._model.getId()},l.prototype.restNodeState=function(){this.clearState();var c=this.model;this.setContentEditable(!1),c.em.getEditing()===c&&this.disableEditing()},l.prototype.setContentEditable=function(c){this.element&&this.isTextNode()&&(this.element.contentEditable=c?"true":"false")},l.prototype.disableEditing=function(){var c,u;(u=(c=this.view)===null||c===void 0?void 0:c.disableEditing)===null||u===void 0||u.call(c)},l.prototype.clearState=function(){var c,u;(u=(c=this.model).set)===null||u===void 0||u.call(c,"status","")},l.prototype.setSelectedParentState=function(){var c,u;(u=(c=this.model).set)===null||u===void 0||u.call(c,"status","selected-parent")},l.prototype.isTextNode=function(){var c,u;return(u=(c=this.model).isInstanceOf)===null||u===void 0?void 0:u.call(c,"text")},l.prototype.isTextable=function(){var c,u;return(u=(c=this.model).get)===null||u===void 0?void 0:u.call(c,"textable")},l}(e.$);function a(s){return s?typeof s=="object"&&s.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(s).display!=="none"&&s.offsetWidth>0&&s.offsetHeight>0:!1}},1447:(o,n,t)=>{t.d(n,{A:()=>a});var e=t(6756),i=function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(u[g]=p[g])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(l,c);function u(){this.constructor=l}l.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),r=function(s){i(l,s);function l(){var c=s!==null&&s.apply(this,arguments)||this;return c._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},c}return Object.defineProperty(l.prototype,"view",{get:function(){var c,u;return(u=(c=this.model).getView)===null||u===void 0?void 0:u.call(c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"element",{get:function(){var c,u;return(u=(c=this.model).getEl)===null||u===void 0?void 0:u.call(c)},enumerable:!1,configurable:!0}),l}(e.h);let a=r},3178:(o,n,t)=>{t.d(n,{$:()=>e});var e=function(){function i(r,a){a===void 0&&(a={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=r,this._dragSource=a}return Object.defineProperty(i.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropArea",{get:function(){var r,a;return this.getParent()?(a=this.nodeDimensions)===null||a===void 0?void 0:a.getDropArea(this._dropAreaConfig):(r=this.nodeDimensions)===null||r===void 0?void 0:r.clone()},enumerable:!1,configurable:!0}),i.prototype.isWithinDropBounds=function(r,a){return!!this.dropArea&&this.dropArea.isWithinBounds(r,a)},i.prototype.equals=function(r){return!!r?._model&&this._model===r._model},i.prototype.adjustDimensions=function(r){var a,s;r.topDifference===0&&r.leftDifference===0||((a=this.nodeDimensions)===null||a===void 0||a.adjustDimensions(r),(s=this.childrenDimensions)===null||s===void 0||s.forEach(function(l){return l.adjustDimensions(r)}))},i}()},8433:(o,n,t)=>{t.d(n,{A:()=>e});var e=function(i){return i.Vertical="Vertical",i.Horizontal="Horizontal",i.BothDirections="BothDirections",i}(e||{})},585:(o,n,t)=>{var e={"./CanvasClear":9484,"./CanvasClear.ts":9484,"./CanvasMove":9516,"./CanvasMove.ts":9516,"./CommandAbstract":9946,"./CommandAbstract.ts":9946,"./ComponentDelete":7801,"./ComponentDelete.ts":7801,"./ComponentDrag":4864,"./ComponentDrag.ts":4864,"./ComponentEnter":6134,"./ComponentEnter.ts":6134,"./ComponentExit":914,"./ComponentExit.ts":914,"./ComponentNext":5547,"./ComponentNext.ts":5547,"./ComponentPrev":8655,"./ComponentPrev.ts":8655,"./ComponentStyleClear":7640,"./ComponentStyleClear.ts":7640,"./CopyComponent":5837,"./CopyComponent.ts":5837,"./ExportTemplate":6477,"./ExportTemplate.ts":6477,"./Fullscreen":1772,"./Fullscreen.ts":1772,"./MoveComponent":741,"./MoveComponent.ts":741,"./OpenAssets":2924,"./OpenAssets.ts":2924,"./OpenBlocks":3963,"./OpenBlocks.ts":3963,"./OpenLayers":1479,"./OpenLayers.ts":1479,"./OpenStyleManager":3473,"./OpenStyleManager.ts":3473,"./OpenTraitManager":5054,"./OpenTraitManager.ts":5054,"./PasteComponent":6979,"./PasteComponent.ts":6979,"./Preview":4457,"./Preview.ts":4457,"./Resize":5493,"./Resize.ts":5493,"./SelectComponent":9317,"./SelectComponent.ts":9317,"./SelectPosition":1406,"./SelectPosition.ts":1406,"./ShowOffset":9395,"./ShowOffset.ts":9395,"./SwitchVisibility":7285,"./SwitchVisibility.ts":7285};function i(a){var s=r(a);return t(s)}function r(a){if(!t.o(e,a)){var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}return e[a]}i.keys=function(){return Object.keys(e)},i.resolve=r,o.exports=i,i.id=585},5706:(o,n,t)=>{t.r(n),t.d(n,{VERSION:()=>i,after:()=>mo,all:()=>zo,allKeys:()=>_e,any:()=>es,assign:()=>fn,before:()=>ts,bind:()=>ba,bindAll:()=>Ja,chain:()=>Js,chunk:()=>vo,clone:()=>Yn,collect:()=>oi,compact:()=>Tp,compose:()=>Xr,constant:()=>ce,contains:()=>Li,countBy:()=>wp,create:()=>wn,debounce:()=>ho,default:()=>Ma,defaults:()=>Si,defer:()=>Ji,delay:()=>Ro,detect:()=>Ue,difference:()=>Td,drop:()=>Qo,each:()=>Ke,escape:()=>pe,every:()=>zo,extend:()=>Mn,extendOwn:()=>fn,filter:()=>Bi,find:()=>Ue,findIndex:()=>Fo,findKey:()=>Or,findLastIndex:()=>xa,findWhere:()=>tn,first:()=>is,flatten:()=>Sd,foldl:()=>Mr,foldr:()=>Di,forEach:()=>Ke,functions:()=>rn,get:()=>vn,groupBy:()=>Mp,has:()=>A,head:()=>is,identity:()=>G,include:()=>Li,includes:()=>Li,indexBy:()=>Pd,indexOf:()=>Jr,initial:()=>ai,inject:()=>Mr,intersection:()=>kp,invert:()=>On,invoke:()=>Cp,isArguments:()=>Ct,isArray:()=>st,isArrayBuffer:()=>qt,isBoolean:()=>L,isDataView:()=>Nt,isDate:()=>Z,isElement:()=>W,isEmpty:()=>ut,isEqual:()=>Pe,isError:()=>pt,isFinite:()=>ae,isFunction:()=>rt,isMap:()=>Rt,isMatch:()=>Tt,isNaN:()=>he,isNull:()=>R,isNumber:()=>D,isObject:()=>V,isRegExp:()=>nt,isSet:()=>Ce,isString:()=>J,isSymbol:()=>Vt,isTypedArray:()=>kt,isUndefined:()=>H,isWeakMap:()=>ne,isWeakSet:()=>Te,iteratee:()=>je,keys:()=>Le,last:()=>rs,lastIndexOf:()=>Ge,map:()=>oi,mapObject:()=>ze,matcher:()=>B,matches:()=>B,max:()=>xd,memoize:()=>Zs,methods:()=>rn,min:()=>Od,mixin:()=>nl,negate:()=>Za,noop:()=>Y,now:()=>it,object:()=>Ap,omit:()=>ns,once:()=>Qr,pairs:()=>Pn,partial:()=>No,partition:()=>Md,pick:()=>wd,pluck:()=>$l,property:()=>gt,propertyOf:()=>Zt,random:()=>Ln,range:()=>ss,reduce:()=>Mr,reduceRight:()=>Di,reject:()=>wr,rest:()=>Qo,restArguments:()=>F,result:()=>Qs,sample:()=>Yl,select:()=>Bi,shuffle:()=>Op,size:()=>Sp,some:()=>es,sortBy:()=>Pp,sortedIndex:()=>Oa,tail:()=>Qo,take:()=>is,tap:()=>Be,template:()=>Xo,templateSettings:()=>dn,throttle:()=>tl,times:()=>Re,toArray:()=>Pa,toPath:()=>Xn,transpose:()=>as,unescape:()=>nn,union:()=>Ep,uniq:()=>os,unique:()=>os,uniqueId:()=>_a,unzip:()=>as,values:()=>Ne,where:()=>xp,without:()=>Jl,wrap:()=>Ei,zip:()=>Ed});var e={};t.r(e),t.d(e,{VERSION:()=>i,after:()=>mo,all:()=>zo,allKeys:()=>_e,any:()=>es,assign:()=>fn,before:()=>ts,bind:()=>ba,bindAll:()=>Ja,chain:()=>Js,chunk:()=>vo,clone:()=>Yn,collect:()=>oi,compact:()=>Tp,compose:()=>Xr,constant:()=>ce,contains:()=>Li,countBy:()=>wp,create:()=>wn,debounce:()=>ho,default:()=>Ip,defaults:()=>Si,defer:()=>Ji,delay:()=>Ro,detect:()=>Ue,difference:()=>Td,drop:()=>Qo,each:()=>Ke,escape:()=>pe,every:()=>zo,extend:()=>Mn,extendOwn:()=>fn,filter:()=>Bi,find:()=>Ue,findIndex:()=>Fo,findKey:()=>Or,findLastIndex:()=>xa,findWhere:()=>tn,first:()=>is,flatten:()=>Sd,foldl:()=>Mr,foldr:()=>Di,forEach:()=>Ke,functions:()=>rn,get:()=>vn,groupBy:()=>Mp,has:()=>A,head:()=>is,identity:()=>G,include:()=>Li,includes:()=>Li,indexBy:()=>Pd,indexOf:()=>Jr,initial:()=>ai,inject:()=>Mr,intersection:()=>kp,invert:()=>On,invoke:()=>Cp,isArguments:()=>Ct,isArray:()=>st,isArrayBuffer:()=>qt,isBoolean:()=>L,isDataView:()=>Nt,isDate:()=>Z,isElement:()=>W,isEmpty:()=>ut,isEqual:()=>Pe,isError:()=>pt,isFinite:()=>ae,isFunction:()=>rt,isMap:()=>Rt,isMatch:()=>Tt,isNaN:()=>he,isNull:()=>R,isNumber:()=>D,isObject:()=>V,isRegExp:()=>nt,isSet:()=>Ce,isString:()=>J,isSymbol:()=>Vt,isTypedArray:()=>kt,isUndefined:()=>H,isWeakMap:()=>ne,isWeakSet:()=>Te,iteratee:()=>je,keys:()=>Le,last:()=>rs,lastIndexOf:()=>Ge,map:()=>oi,mapObject:()=>ze,matcher:()=>B,matches:()=>B,max:()=>xd,memoize:()=>Zs,methods:()=>rn,min:()=>Od,mixin:()=>nl,negate:()=>Za,noop:()=>Y,now:()=>it,object:()=>Ap,omit:()=>ns,once:()=>Qr,pairs:()=>Pn,partial:()=>No,partition:()=>Md,pick:()=>wd,pluck:()=>$l,property:()=>gt,propertyOf:()=>Zt,random:()=>Ln,range:()=>ss,reduce:()=>Mr,reduceRight:()=>Di,reject:()=>wr,rest:()=>Qo,restArguments:()=>F,result:()=>Qs,sample:()=>Yl,select:()=>Bi,shuffle:()=>Op,size:()=>Sp,some:()=>es,sortBy:()=>Pp,sortedIndex:()=>Oa,tail:()=>Qo,take:()=>is,tap:()=>Be,template:()=>Xo,templateSettings:()=>dn,throttle:()=>tl,times:()=>Re,toArray:()=>Pa,toPath:()=>Xn,transpose:()=>as,unescape:()=>nn,union:()=>Ep,uniq:()=>os,unique:()=>os,uniqueId:()=>_a,unzip:()=>as,values:()=>Ne,where:()=>xp,without:()=>Jl,wrap:()=>Ei,zip:()=>Ed});var i="1.13.1",r=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,s=Object.prototype,l=typeof Symbol<"u"?Symbol.prototype:null,c=a.push,u=a.slice,p=s.toString,g=s.hasOwnProperty,h=typeof ArrayBuffer<"u",y=typeof DataView<"u",_=Array.isArray,O=Object.keys,M=Object.create,w=h&&ArrayBuffer.isView,T=isNaN,b=isFinite,k=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=Math.pow(2,53)-1;function F(X,lt){return lt=lt==null?X.length-1:+lt,function(){for(var xt=Math.max(arguments.length-lt,0),St=Array(xt),Kt=0;Kt<xt;Kt++)St[Kt]=arguments[Kt+lt];switch(lt){case 0:return X.call(this,St);case 1:return X.call(this,arguments[0],St);case 2:return X.call(this,arguments[0],arguments[1],St)}var Ut=Array(lt+1);for(Kt=0;Kt<lt;Kt++)Ut[Kt]=arguments[Kt];return Ut[lt]=St,X.apply(this,Ut)}}function V(X){var lt=typeof X;return lt==="function"||lt==="object"&&!!X}function R(X){return X===null}function H(X){return X===void 0}function L(X){return X===!0||X===!1||p.call(X)==="[object Boolean]"}function W(X){return!!(X&&X.nodeType===1)}function q(X){var lt="[object "+X+"]";return function(xt){return p.call(xt)===lt}}let J=q("String"),D=q("Number"),Z=q("Date"),nt=q("RegExp"),pt=q("Error"),Vt=q("Symbol"),qt=q("ArrayBuffer");var Pt=q("Function"),yt=r.document&&r.document.childNodes;typeof Int8Array!="object"&&typeof yt!="function"&&(Pt=function(X){return typeof X=="function"||!1});let rt=Pt,ft=q("Object");var wt=y&&ft(new DataView(new ArrayBuffer(8))),Et=typeof Map<"u"&&ft(new Map),zt=q("DataView");function Wt(X){return X!=null&&rt(X.getInt8)&&qt(X.buffer)}let Nt=wt?Wt:zt,st=_||q("Array");function $t(X,lt){return X!=null&&g.call(X,lt)}var le=q("Arguments");(function(){le(arguments)||(le=function(X){return $t(X,"callee")})})();let Ct=le;function ae(X){return!Vt(X)&&b(X)&&!isNaN(parseFloat(X))}function he(X){return D(X)&&T(X)}function ce(X){return function(){return X}}function K(X){return function(lt){var xt=X(lt);return typeof xt=="number"&&xt>=0&&xt<=N}}function at(X){return function(lt){return lt?.[X]}}let mt=at("byteLength"),At=K(mt);var Qt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function ht(X){return w?w(X)&&!Nt(X):At(X)&&Qt.test(p.call(X))}let kt=h?ht:ce(!1),Ft=at("length");function me(X){for(var lt={},xt=X.length,St=0;St<xt;++St)lt[X[St]]=!0;return{contains:function(Kt){return lt[Kt]},push:function(Kt){return lt[Kt]=!0,X.push(Kt)}}}function Ye(X,lt){lt=me(lt);var xt=E.length,St=X.constructor,Kt=rt(St)&&St.prototype||s,Ut="constructor";for($t(X,Ut)&&!lt.contains(Ut)&&lt.push(Ut);xt--;)Ut=E[xt],Ut in X&&X[Ut]!==Kt[Ut]&&!lt.contains(Ut)&&lt.push(Ut)}function Le(X){if(!V(X))return[];if(O)return O(X);var lt=[];for(var xt in X)$t(X,xt)&&lt.push(xt);return k&&Ye(X,lt),lt}function ut(X){if(X==null)return!0;var lt=Ft(X);return typeof lt=="number"&&(st(X)||J(X)||Ct(X))?lt===0:Ft(Le(X))===0}function Tt(X,lt){var xt=Le(lt),St=xt.length;if(X==null)return!St;for(var Kt=Object(X),Ut=0;Ut<St;Ut++){var se=xt[Ut];if(lt[se]!==Kt[se]||!(se in Kt))return!1}return!0}function ot(X){if(X instanceof ot)return X;if(!(this instanceof ot))return new ot(X);this._wrapped=X}ot.VERSION=i,ot.prototype.value=function(){return this._wrapped},ot.prototype.valueOf=ot.prototype.toJSON=ot.prototype.value,ot.prototype.toString=function(){return String(this._wrapped)};function re(X){return new Uint8Array(X.buffer||X,X.byteOffset||0,mt(X))}var Ht="[object DataView]";function de(X,lt,xt,St){if(X===lt)return X!==0||1/X===1/lt;if(X==null||lt==null)return!1;if(X!==X)return lt!==lt;var Kt=typeof X;return Kt!=="function"&&Kt!=="object"&&typeof lt!="object"?!1:Oe(X,lt,xt,St)}function Oe(X,lt,xt,St){X instanceof ot&&(X=X._wrapped),lt instanceof ot&&(lt=lt._wrapped);var Kt=p.call(X);if(Kt!==p.call(lt))return!1;if(wt&&Kt=="[object Object]"&&Nt(X)){if(!Nt(lt))return!1;Kt=Ht}switch(Kt){case"[object RegExp]":case"[object String]":return""+X==""+lt;case"[object Number]":return+X!=+X?+lt!=+lt:+X==0?1/+X===1/lt:+X==+lt;case"[object Date]":case"[object Boolean]":return+X==+lt;case"[object Symbol]":return l.valueOf.call(X)===l.valueOf.call(lt);case"[object ArrayBuffer]":case Ht:return Oe(re(X),re(lt),xt,St)}var Ut=Kt==="[object Array]";if(!Ut&&kt(X)){var se=mt(X);if(se!==mt(lt))return!1;if(X.buffer===lt.buffer&&X.byteOffset===lt.byteOffset)return!0;Ut=!0}if(!Ut){if(typeof X!="object"||typeof lt!="object")return!1;var xe=X.constructor,en=lt.constructor;if(xe!==en&&!(rt(xe)&&xe instanceof xe&&rt(en)&&en instanceof en)&&"constructor"in X&&"constructor"in lt)return!1}xt=xt||[],St=St||[];for(var Je=xt.length;Je--;)if(xt[Je]===X)return St[Je]===lt;if(xt.push(X),St.push(lt),Ut){if(Je=X.length,Je!==lt.length)return!1;for(;Je--;)if(!de(X[Je],lt[Je],xt,St))return!1}else{var ki=Le(X),Zi;if(Je=ki.length,Le(lt).length!==Je)return!1;for(;Je--;)if(Zi=ki[Je],!($t(lt,Zi)&&de(X[Zi],lt[Zi],xt,St)))return!1}return xt.pop(),St.pop(),!0}function Pe(X,lt){return de(X,lt)}function _e(X){if(!V(X))return[];var lt=[];for(var xt in X)lt.push(xt);return k&&Ye(X,lt),lt}function Ae(X){var lt=Ft(X);return function(xt){if(xt==null)return!1;var St=_e(xt);if(Ft(St))return!1;for(var Kt=0;Kt<lt;Kt++)if(!rt(xt[X[Kt]]))return!1;return X!==dt||!rt(xt[Qe])}}var Qe="forEach",Xe="has",Ze=["clear","delete"],_n=["get",Xe,"set"],Kn=Ze.concat(Qe,_n),dt=Ze.concat(_n),Mt=["add"].concat(Ze,Qe,Xe);let Rt=Et?Ae(Kn):q("Map"),ne=Et?Ae(dt):q("WeakMap"),Ce=Et?Ae(Mt):q("Set"),Te=q("WeakSet");function Ne(X){for(var lt=Le(X),xt=lt.length,St=Array(xt),Kt=0;Kt<xt;Kt++)St[Kt]=X[lt[Kt]];return St}function Pn(X){for(var lt=Le(X),xt=lt.length,St=Array(xt),Kt=0;Kt<xt;Kt++)St[Kt]=[lt[Kt],X[lt[Kt]]];return St}function On(X){for(var lt={},xt=Le(X),St=0,Kt=xt.length;St<Kt;St++)lt[X[xt[St]]]=xt[St];return lt}function rn(X){var lt=[];for(var xt in X)rt(X[xt])&&lt.push(xt);return lt.sort()}function mi(X,lt){return function(xt){var St=arguments.length;if(lt&&(xt=Object(xt)),St<2||xt==null)return xt;for(var Kt=1;Kt<St;Kt++)for(var Ut=arguments[Kt],se=X(Ut),xe=se.length,en=0;en<xe;en++){var Je=se[en];(!lt||xt[Je]===void 0)&&(xt[Je]=Ut[Je])}return xt}}let Mn=mi(_e),fn=mi(Le),Si=mi(_e,!0);function yn(){return function(){}}function sn(X){if(!V(X))return{};if(M)return M(X);var lt=yn();lt.prototype=X;var xt=new lt;return lt.prototype=null,xt}function wn(X,lt){var xt=sn(X);return lt&&fn(xt,lt),xt}function Yn(X){return V(X)?st(X)?X.slice():Mn({},X):X}function Be(X,lt){return lt(X),X}function Xn(X){return st(X)?X:[X]}ot.toPath=Xn;function Ve(X){return ot.toPath(X)}function Dn(X,lt){for(var xt=lt.length,St=0;St<xt;St++){if(X==null)return;X=X[lt[St]]}return xt?X:void 0}function vn(X,lt,xt){var St=Dn(X,Ve(lt));return H(St)?xt:St}function A(X,lt){lt=Ve(lt);for(var xt=lt.length,St=0;St<xt;St++){var Kt=lt[St];if(!$t(X,Kt))return!1;X=X[Kt]}return!!xt}function G(X){return X}function B(X){return X=fn({},X),function(lt){return Tt(lt,X)}}function gt(X){return X=Ve(X),function(lt){return Dn(lt,X)}}function Yt(X,lt,xt){if(lt===void 0)return X;switch(xt??3){case 1:return function(St){return X.call(lt,St)};case 3:return function(St,Kt,Ut){return X.call(lt,St,Kt,Ut)};case 4:return function(St,Kt,Ut,se){return X.call(lt,St,Kt,Ut,se)}}return function(){return X.apply(lt,arguments)}}function Ee(X,lt,xt){return X==null?G:rt(X)?Yt(X,lt,xt):V(X)&&!st(X)?B(X):gt(X)}function je(X,lt){return Ee(X,lt,1/0)}ot.iteratee=je;function He(X,lt,xt){return ot.iteratee!==je?ot.iteratee(X,lt):Ee(X,lt,xt)}function ze(X,lt,xt){lt=He(lt,xt);for(var St=Le(X),Kt=St.length,Ut={},se=0;se<Kt;se++){var xe=St[se];Ut[xe]=lt(X[xe],xe,X)}return Ut}function Y(){}function Zt(X){return X==null?Y:function(lt){return vn(X,lt)}}function Re(X,lt,xt){var St=Array(Math.max(0,X));lt=Yt(lt,xt,1);for(var Kt=0;Kt<X;Kt++)St[Kt]=lt(Kt);return St}function Ln(X,lt){return lt==null&&(lt=X,X=0),X+Math.floor(Math.random()*(lt-X+1))}let it=Date.now||function(){return new Date().getTime()};function bt(X){var lt=function(Ut){return X[Ut]},xt="(?:"+Le(X).join("|")+")",St=RegExp(xt),Kt=RegExp(xt,"g");return function(Ut){return Ut=Ut==null?"":""+Ut,St.test(Ut)?Ut.replace(Kt,lt):Ut}}let te={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},pe=bt(te),ge=On(te),nn=bt(ge),dn=ot.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Nn=/(.)^/,zn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ya=/\\|'|\r|\n|\u2028|\u2029/g;function Yr(X){return"\\"+zn[X]}var dr=/^\s*(\w|\$)+\s*$/;function Xo(X,lt,xt){!lt&&xt&&(lt=xt),lt=Si({},lt,ot.templateSettings);var St=RegExp([(lt.escape||Nn).source,(lt.interpolate||Nn).source,(lt.evaluate||Nn).source].join("|")+"|$","g"),Kt=0,Ut="__p+='";X.replace(St,function(Je,ki,Zi,Dp,kd){return Ut+=X.slice(Kt,kd).replace(Ya,Yr),Kt=kd+Je.length,ki?Ut+=`'+
((__t=(`+ki+`))==null?'':_.escape(__t))+
'`:Zi?Ut+=`'+
((__t=(`+Zi+`))==null?'':__t)+
'`:Dp&&(Ut+=`';
`+Dp+`
__p+='`),Je}),Ut+=`';
`;var se=lt.variable;if(se){if(!dr.test(se))throw new Error("variable is not a bare identifier: "+se)}else Ut=`with(obj||{}){
`+Ut+`}
`,se="obj";Ut=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Ut+`return __p;
`;var xe;try{xe=new Function(se,"_",Ut)}catch(Je){throw Je.source=Ut,Je}var en=function(Je){return xe.call(this,Je,ot)};return en.source="function("+se+`){
`+Ut+"}",en}function Qs(X,lt,xt){lt=Ve(lt);var St=lt.length;if(!St)return rt(xt)?xt.call(X):xt;for(var Kt=0;Kt<St;Kt++){var Ut=X?.[lt[Kt]];Ut===void 0&&(Ut=xt,Kt=St),X=rt(Ut)?Ut.call(X):Ut}return X}var Xa=0;function _a(X){var lt=++Xa+"";return X?X+lt:lt}function Js(X){var lt=ot(X);return lt._chain=!0,lt}function Qa(X,lt,xt,St,Kt){if(!(St instanceof lt))return X.apply(xt,Kt);var Ut=sn(X.prototype),se=X.apply(Ut,Kt);return V(se)?se:Ut}var ya=F(function(X,lt){var xt=ya.placeholder,St=function(){for(var Kt=0,Ut=lt.length,se=Array(Ut),xe=0;xe<Ut;xe++)se[xe]=lt[xe]===xt?arguments[Kt++]:lt[xe];for(;Kt<arguments.length;)se.push(arguments[Kt++]);return Qa(X,St,this,this,se)};return St});ya.placeholder=ot;let No=ya,ba=F(function(X,lt,xt){if(!rt(X))throw new TypeError("Bind must be called on a function");var St=F(function(Kt){return Qa(X,St,lt,this,xt.concat(Kt))});return St}),vi=K(Ft);function Ti(X,lt,xt,St){if(St=St||[],!lt&&lt!==0)lt=1/0;else if(lt<=0)return St.concat(X);for(var Kt=St.length,Ut=0,se=Ft(X);Ut<se;Ut++){var xe=X[Ut];if(vi(xe)&&(st(xe)||Ct(xe)))if(lt>1)Ti(xe,lt-1,xt,St),Kt=St.length;else for(var en=0,Je=xe.length;en<Je;)St[Kt++]=xe[en++];else xt||(St[Kt++]=xe)}return St}let Ja=F(function(X,lt){lt=Ti(lt,!1,!1);var xt=lt.length;if(xt<1)throw new Error("bindAll must be passed function names");for(;xt--;){var St=lt[xt];X[St]=ba(X[St],X)}return X});function Zs(X,lt){var xt=function(St){var Kt=xt.cache,Ut=""+(lt?lt.apply(this,arguments):St);return $t(Kt,Ut)||(Kt[Ut]=X.apply(this,arguments)),Kt[Ut]};return xt.cache={},xt}let Ro=F(function(X,lt,xt){return setTimeout(function(){return X.apply(null,xt)},lt)}),Ji=No(Ro,ot,1);function tl(X,lt,xt){var St,Kt,Ut,se,xe=0;xt||(xt={});var en=function(){xe=xt.leading===!1?0:it(),St=null,se=X.apply(Kt,Ut),St||(Kt=Ut=null)},Je=function(){var ki=it();!xe&&xt.leading===!1&&(xe=ki);var Zi=lt-(ki-xe);return Kt=this,Ut=arguments,Zi<=0||Zi>lt?(St&&(clearTimeout(St),St=null),xe=ki,se=X.apply(Kt,Ut),St||(Kt=Ut=null)):!St&&xt.trailing!==!1&&(St=setTimeout(en,Zi)),se};return Je.cancel=function(){clearTimeout(St),xe=0,St=Kt=Ut=null},Je}function ho(X,lt,xt){var St,Kt,Ut,se,xe,en=function(){var ki=it()-Kt;lt>ki?St=setTimeout(en,lt-ki):(St=null,xt||(se=X.apply(xe,Ut)),St||(Ut=xe=null))},Je=F(function(ki){return xe=this,Ut=ki,Kt=it(),St||(St=setTimeout(en,lt),xt&&(se=X.apply(xe,Ut))),se});return Je.cancel=function(){clearTimeout(St),St=Ut=xe=null},Je}function Ei(X,lt){return No(lt,X)}function Za(X){return function(){return!X.apply(this,arguments)}}function Xr(){var X=arguments,lt=X.length-1;return function(){for(var xt=lt,St=X[lt].apply(this,arguments);xt--;)St=X[xt].call(this,St);return St}}function mo(X,lt){return function(){if(--X<1)return lt.apply(this,arguments)}}function ts(X,lt){var xt;return function(){return--X>0&&(xt=lt.apply(this,arguments)),X<=1&&(lt=null),xt}}let Qr=No(ts,2);function Or(X,lt,xt){lt=He(lt,xt);for(var St=Le(X),Kt,Ut=0,se=St.length;Ut<se;Ut++)if(Kt=St[Ut],lt(X[Kt],Kt,X))return Kt}function Ca(X){return function(lt,xt,St){xt=He(xt,St);for(var Kt=Ft(lt),Ut=X>0?0:Kt-1;Ut>=0&&Ut<Kt;Ut+=X)if(xt(lt[Ut],Ut,lt))return Ut;return-1}}let Fo=Ca(1),xa=Ca(-1);function Oa(X,lt,xt,St){xt=He(xt,St,1);for(var Kt=xt(lt),Ut=0,se=Ft(X);Ut<se;){var xe=Math.floor((Ut+se)/2);xt(X[xe])<Kt?Ut=xe+1:se=xe}return Ut}function el(X,lt,xt){return function(St,Kt,Ut){var se=0,xe=Ft(St);if(typeof Ut=="number")X>0?se=Ut>=0?Ut:Math.max(Ut+xe,se):xe=Ut>=0?Math.min(Ut+1,xe):Ut+xe+1;else if(xt&&Ut&&xe)return Ut=xt(St,Kt),St[Ut]===Kt?Ut:-1;if(Kt!==Kt)return Ut=lt(u.call(St,se,xe),he),Ut>=0?Ut+se:-1;for(Ut=X>0?se:xe-1;Ut>=0&&Ut<xe;Ut+=X)if(St[Ut]===Kt)return Ut;return-1}}let Jr=el(1,Fo,Oa),Ge=el(-1,xa);function Ue(X,lt,xt){var St=vi(X)?Fo:Or,Kt=St(X,lt,xt);if(Kt!==void 0&&Kt!==-1)return X[Kt]}function tn(X,lt){return Ue(X,B(lt))}function Ke(X,lt,xt){lt=Yt(lt,xt);var St,Kt;if(vi(X))for(St=0,Kt=X.length;St<Kt;St++)lt(X[St],St,X);else{var Ut=Le(X);for(St=0,Kt=Ut.length;St<Kt;St++)lt(X[Ut[St]],Ut[St],X)}return X}function oi(X,lt,xt){lt=He(lt,xt);for(var St=!vi(X)&&Le(X),Kt=(St||X).length,Ut=Array(Kt),se=0;se<Kt;se++){var xe=St?St[se]:se;Ut[se]=lt(X[xe],xe,X)}return Ut}function Pr(X){var lt=function(xt,St,Kt,Ut){var se=!vi(xt)&&Le(xt),xe=(se||xt).length,en=X>0?0:xe-1;for(Ut||(Kt=xt[se?se[en]:en],en+=X);en>=0&&en<xe;en+=X){var Je=se?se[en]:en;Kt=St(Kt,xt[Je],Je,xt)}return Kt};return function(xt,St,Kt,Ut){var se=arguments.length>=3;return lt(xt,Yt(St,Ut,4),Kt,se)}}let Mr=Pr(1),Di=Pr(-1);function Bi(X,lt,xt){var St=[];return lt=He(lt,xt),Ke(X,function(Kt,Ut,se){lt(Kt,Ut,se)&&St.push(Kt)}),St}function wr(X,lt,xt){return Bi(X,Za(He(lt)),xt)}function zo(X,lt,xt){lt=He(lt,xt);for(var St=!vi(X)&&Le(X),Kt=(St||X).length,Ut=0;Ut<Kt;Ut++){var se=St?St[Ut]:Ut;if(!lt(X[se],se,X))return!1}return!0}function es(X,lt,xt){lt=He(lt,xt);for(var St=!vi(X)&&Le(X),Kt=(St||X).length,Ut=0;Ut<Kt;Ut++){var se=St?St[Ut]:Ut;if(lt(X[se],se,X))return!0}return!1}function Li(X,lt,xt,St){return vi(X)||(X=Ne(X)),(typeof xt!="number"||St)&&(xt=0),Jr(X,lt,xt)>=0}let Cp=F(function(X,lt,xt){var St,Kt;return rt(lt)?Kt=lt:(lt=Ve(lt),St=lt.slice(0,-1),lt=lt[lt.length-1]),oi(X,function(Ut){var se=Kt;if(!se){if(St&&St.length&&(Ut=Dn(Ut,St)),Ut==null)return;se=Ut[lt]}return se==null?se:se.apply(Ut,xt)})});function $l(X,lt){return oi(X,gt(lt))}function xp(X,lt){return Bi(X,B(lt))}function xd(X,lt,xt){var St=-1/0,Kt=-1/0,Ut,se;if(lt==null||typeof lt=="number"&&typeof X[0]!="object"&&X!=null){X=vi(X)?X:Ne(X);for(var xe=0,en=X.length;xe<en;xe++)Ut=X[xe],Ut!=null&&Ut>St&&(St=Ut)}else lt=He(lt,xt),Ke(X,function(Je,ki,Zi){se=lt(Je,ki,Zi),(se>Kt||se===-1/0&&St===-1/0)&&(St=Je,Kt=se)});return St}function Od(X,lt,xt){var St=1/0,Kt=1/0,Ut,se;if(lt==null||typeof lt=="number"&&typeof X[0]!="object"&&X!=null){X=vi(X)?X:Ne(X);for(var xe=0,en=X.length;xe<en;xe++)Ut=X[xe],Ut!=null&&Ut<St&&(St=Ut)}else lt=He(lt,xt),Ke(X,function(Je,ki,Zi){se=lt(Je,ki,Zi),(se<Kt||se===1/0&&St===1/0)&&(St=Je,Kt=se)});return St}function Yl(X,lt,xt){if(lt==null||xt)return vi(X)||(X=Ne(X)),X[Ln(X.length-1)];var St=vi(X)?Yn(X):Ne(X),Kt=Ft(St);lt=Math.max(Math.min(lt,Kt),0);for(var Ut=Kt-1,se=0;se<lt;se++){var xe=Ln(se,Ut),en=St[se];St[se]=St[xe],St[xe]=en}return St.slice(0,lt)}function Op(X){return Yl(X,1/0)}function Pp(X,lt,xt){var St=0;return lt=He(lt,xt),$l(oi(X,function(Kt,Ut,se){return{value:Kt,index:St++,criteria:lt(Kt,Ut,se)}}).sort(function(Kt,Ut){var se=Kt.criteria,xe=Ut.criteria;if(se!==xe){if(se>xe||se===void 0)return 1;if(se<xe||xe===void 0)return-1}return Kt.index-Ut.index}),"value")}function Xl(X,lt){return function(xt,St,Kt){var Ut=lt?[[],[]]:{};return St=He(St,Kt),Ke(xt,function(se,xe){var en=St(se,xe,xt);X(Ut,se,en)}),Ut}}let Mp=Xl(function(X,lt,xt){$t(X,xt)?X[xt].push(lt):X[xt]=[lt]}),Pd=Xl(function(X,lt,xt){X[xt]=lt}),wp=Xl(function(X,lt,xt){$t(X,xt)?X[xt]++:X[xt]=1}),Md=Xl(function(X,lt,xt){X[xt?0:1].push(lt)},!0);var Ql=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Pa(X){return X?st(X)?u.call(X):J(X)?X.match(Ql):vi(X)?oi(X,G):Ne(X):[]}function Sp(X){return X==null?0:vi(X)?X.length:Le(X).length}function om(X,lt,xt){return lt in xt}let wd=F(function(X,lt){var xt={},St=lt[0];if(X==null)return xt;rt(St)?(lt.length>1&&(St=Yt(St,lt[1])),lt=_e(X)):(St=om,lt=Ti(lt,!1,!1),X=Object(X));for(var Kt=0,Ut=lt.length;Kt<Ut;Kt++){var se=lt[Kt],xe=X[se];St(xe,se,X)&&(xt[se]=xe)}return xt}),ns=F(function(X,lt){var xt=lt[0],St;return rt(xt)?(xt=Za(xt),lt.length>1&&(St=lt[1])):(lt=oi(Ti(lt,!1,!1),String),xt=function(Kt,Ut){return!Li(lt,Ut)}),wd(X,xt,St)});function ai(X,lt,xt){return u.call(X,0,Math.max(0,X.length-(lt==null||xt?1:lt)))}function is(X,lt,xt){return X==null||X.length<1?lt==null||xt?void 0:[]:lt==null||xt?X[0]:ai(X,X.length-lt)}function Qo(X,lt,xt){return u.call(X,lt==null||xt?1:lt)}function rs(X,lt,xt){return X==null||X.length<1?lt==null||xt?void 0:[]:lt==null||xt?X[X.length-1]:Qo(X,Math.max(0,X.length-lt))}function Tp(X){return Bi(X,Boolean)}function Sd(X,lt){return Ti(X,lt,!1)}let Td=F(function(X,lt){return lt=Ti(lt,!0,!0),Bi(X,function(xt){return!Li(lt,xt)})}),Jl=F(function(X,lt){return Td(X,lt)});function os(X,lt,xt,St){L(lt)||(St=xt,xt=lt,lt=!1),xt!=null&&(xt=He(xt,St));for(var Kt=[],Ut=[],se=0,xe=Ft(X);se<xe;se++){var en=X[se],Je=xt?xt(en,se,X):en;lt&&!xt?((!se||Ut!==Je)&&Kt.push(en),Ut=Je):xt?Li(Ut,Je)||(Ut.push(Je),Kt.push(en)):Li(Kt,en)||Kt.push(en)}return Kt}let Ep=F(function(X){return os(Ti(X,!0,!0))});function kp(X){for(var lt=[],xt=arguments.length,St=0,Kt=Ft(X);St<Kt;St++){var Ut=X[St];if(!Li(lt,Ut)){var se;for(se=1;se<xt&&Li(arguments[se],Ut);se++);se===xt&&lt.push(Ut)}}return lt}function as(X){for(var lt=X&&xd(X,Ft).length||0,xt=Array(lt),St=0;St<lt;St++)xt[St]=$l(X,St);return xt}let Ed=F(as);function Ap(X,lt){for(var xt={},St=0,Kt=Ft(X);St<Kt;St++)lt?xt[X[St]]=lt[St]:xt[X[St][0]]=X[St][1];return xt}function ss(X,lt,xt){lt==null&&(lt=X||0,X=0),xt||(xt=lt<X?-1:1);for(var St=Math.max(Math.ceil((lt-X)/xt),0),Kt=Array(St),Ut=0;Ut<St;Ut++,X+=xt)Kt[Ut]=X;return Kt}function vo(X,lt){if(lt==null||lt<1)return[];for(var xt=[],St=0,Kt=X.length;St<Kt;)xt.push(u.call(X,St,St+=lt));return xt}function ls(X,lt){return X._chain?ot(lt).chain():lt}function nl(X){return Ke(rn(X),function(lt){var xt=ot[lt]=X[lt];ot.prototype[lt]=function(){var St=[this._wrapped];return c.apply(St,arguments),ls(this,xt.apply(ot,St))}}),ot}Ke(["pop","push","reverse","shift","sort","splice","unshift"],function(X){var lt=a[X];ot.prototype[X]=function(){var xt=this._wrapped;return xt!=null&&(lt.apply(xt,arguments),(X==="shift"||X==="splice")&&xt.length===0&&delete xt[0]),ls(this,xt)}}),Ke(["concat","join","slice"],function(X){var lt=a[X];ot.prototype[X]=function(){var xt=this._wrapped;return xt!=null&&(xt=lt.apply(xt,arguments)),ls(this,xt)}});let Ip=ot;var Sr=nl(e);Sr._=Sr;let Ma=Sr}},$C={};function Cn(o){var n=$C[o];if(n!==void 0)return n.exports;var t=$C[o]={exports:{}};return E6[o].call(t.exports,t,t.exports,Cn),t.exports}Cn.n=o=>{var n=o&&o.__esModule?()=>o.default:()=>o;return Cn.d(n,{a:n}),n};Cn.d=(o,n)=>{for(var t in n)Cn.o(n,t)&&!Cn.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})};Cn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();Cn.o=(o,n)=>Object.prototype.hasOwnProperty.call(o,n);Cn.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var rh={};Cn.d(rh,{Ay:()=>cH,I0:()=>iP,nu:()=>nP});var et=Cn(5706),oe=Cn(1166);function zr(o){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var e=o.raw;return e.reduce(function(i,r,a){var s=n[a-1],l=e[a-1];return Array.isArray(s)?s=s.join(""):l&&l.slice(-1)==="$"?i=i.slice(0,-1):s=(0,oe.escape)(s),i+s+r})}var k6=function(){return{stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0}},A6=k6,j0=Cn(4193),I6=Cn.n(j0),Hi=Cn(7774),D6=function(o){var n=o.$;if(n&&n.prototype&&n.prototype.constructor.name!=="jQuery"){var t=n.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var r=this.get(0);return r&&r.focus(),this},t.bind=function(r,a){return this.on(r,a)},t.unbind=function(r,a){if((0,et.isObject)(r)){for(var s in r)r.hasOwnProperty(s)&&this.off(s,r[s]);return this}else return this.off(r,a)},t.click=function(r){return r?this.on("click",r):this.trigger("click")},t.change=function(r){return r?this.on("change",r):this.trigger("change")},t.keydown=function(r){return r?this.on("keydown",r):this.trigger("keydown")},t.delegate=function(r,a,s,l){return l||(l=s),this.on(a,r,function(c){c.data=s,l(c)})},t.scrollLeft=function(){var r=this.get(0);r=r.nodeType==9?r.defaultView:r;var a=r instanceof Window?r:null;return a?a.pageXOffset:r.scrollLeft||0},t.scrollTop=function(){var r=this.get(0);r=r.nodeType==9?r.defaultView:r;var a=r instanceof Window?r:null;return a?a.pageYOffset:r.scrollTop||0};var e=n.prototype.offset;t.offset=function(r){var a,s;return r&&(a=r.top,s=r.left),typeof a<"u"&&this.css("top","".concat(a,"px")),typeof s<"u"&&this.css("left","".concat(s,"px")),e.call(this)},n.map=function(r,a){for(var s=[],l=0;l<r.length;l++)s.push(a(r[l],l));return s};var i=Array.prototype.indexOf;n.inArray=function(r,a,s){return a==null?-1:i.call(a,r,s)},n.Event=function(r,a){if(!(this instanceof n.Event))return new n.Event(r,a);this.type=r,this.isDefaultPrevented=function(){return!1}}}},ye=Cn(9156),gO=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),L6=function(o){gO(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(ye.Kx),N6=function(o){gO(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.getByComponent=function(t){var e=this;return this.filter(function(i){return e.getComponent(i)===t})[0]},n.prototype.addComponent=function(t,e){var i=this,r=((0,et.isArray)(t)?t:[t]).filter(function(a){return!i.hasComponent(a)}).map(function(a){return new L6({component:a})})[0];return this.push(r,e)},n.prototype.getComponent=function(t){return t.get("component")},n.prototype.hasComponent=function(t){var e=this.getByComponent(t);return e&&this.contains(e)},n.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},n.prototype.allComponents=function(){var t=this;return this.map(function(e){return t.getComponent(e)}).filter(function(e){return e})},n.prototype.removeComponent=function(t,e){var i=this,r=((0,et.isArray)(t)?t:[t]).map(function(a){return i.getByComponent(a)});return this.remove(r,e)},n}(ye.pM),R6=N6,F6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),l0=function(){return l0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},l0.apply(this,arguments)},z6=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},hO=function(){function o(n,t,e){this.debounced=[],this.collections=[],this.cls=[],this.events={},this._em=n,this._name=t;var i=this.name.charAt(0).toLowerCase()+this.name.slice(1),r=(0,et.isUndefined)(n.config[i])?n.config[this.name]:n.config[i],a=r===!0?{}:r||{};a.pStylePrefix=n.config.pStylePrefix||"",!(0,et.isUndefined)(r)&&!r&&(a._disable=1),a.em=n,this._config=(0,oe.deepMerge)(e||{},a)}return Object.defineProperty(o.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),o.prototype.render=function(n){},o.prototype.postLoad=function(n){},o.prototype.onInit=function(){},Object.defineProperty(o.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(n){return n?this.config[n]:this.config},o.prototype.__logWarn=function(n,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(n),t)},o.prototype.destroy=function(){this.__destroy()},o.prototype.__destroy=function(){var n,t,e;(n=this.view)===null||n===void 0||n.remove(),(t=this.state)===null||t===void 0||t.stopListening(),(e=this.state)===null||e===void 0||e.clear(),this.debounced.forEach(function(i){return i.cancel()}),this.collections.forEach(function(i){i.stopListening(),i.reset()})},o.prototype.__appendTo=function(){var n=this.getConfig().appendTo;if(n){var t=(0,et.isElement)(n)?n:document.querySelector(n);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},o}(),Hr=hO,Va=function(o){F6(n,o);function n(t,e,i,r,a,s){s===void 0&&(s={});var l=o.call(this,t,e,a)||this;return l.cls=[],l.private=!1,l.all=i,r&&(l.events=r),!s.skipListen&&l.__initListen(),l}return n.prototype.postLoad=function(t){},n.prototype.render=function(t){},n.prototype.getProjectData=function(t){var e={},i=this.storageKey;return i&&(e[i]=t||this.getAll()),e},n.prototype.loadProjectData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var i=e.all,r=e.onResult,a=e.reset,s=this.storageKey,l={action:"load"},c=i||this.all,u=t[s];if(typeof u=="string")try{u=JSON.parse(u)}catch{this.__logWarn("Data parsing failed",{input:u})}return a&&u&&c.reset(void 0,l),r?u&&r(u,l):u&&(0,oe.isDef)(u.length)&&c.reset(u,l),u},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.all;return e&&e.reset(void 0,t),this},n.prototype.getAll=function(){return z6([],this.all.models,!0)},n.prototype.getAllMap=function(){return this.getAll().reduce(function(t,e){return t[e.get(e.idAttribute)]=e,t},{})},n.prototype.__initListen=function(t){t===void 0&&(t={});var e=this,i=e.all,r=e.em,a=e.events;i&&r&&i.on("add",function(s,l,c){return r.trigger(a.add,s,c)}).on("remove",function(s,l,c){return r.trigger(a.remove,s,c)}).on("change",function(s,l){return r.trigger(a.update,s,s.changedAttributes(),l)}).on("all",this.__catchAllEvent,this),this.cls=[i].concat(t.collections||[]),(t.propagate||[]).forEach(function(s){var l=s.entity,c=s.event;l.on("all",function(u,p,g,h){var y=h||g,_=l0({event:u},y);[r,i].map(function(O){return O.trigger(c,p,_)})})})},n.prototype.__remove=function(t,e){var i=this;e===void 0&&(e={});var r=this.em,a=(0,et.isString)(t)?this.get(t):t,s=function(){return a&&i.all.remove(a,e),a};return!e.silent&&r?.trigger(this.events.removeBefore,a,s,e),!e.abort&&s()},n.prototype.__catchAllEvent=function(t,e,i,r){var a=this,s=a.em,l=a.events,c=r||i;s&&l.all&&s.trigger(l.all,{event:t,model:e,options:c}),this.__onAllEvent()},n.prototype.__appendTo=function(t){var e=this.config.appendTo;if(e){var i=(0,et.isElement)(e)?e:document.querySelector(e);if(!i)return this.__logWarn('"appendTo" element not found');i.appendChild(this.render(t))}},n.prototype.__onAllEvent=function(){},n.prototype._createId=function(t){t===void 0&&(t=16);var e=this.getAll(),i=e.length+t,r=this.getAllMap(),a;do a=(0,oe.createId)(i);while(r[a]);return a},n.prototype.__listenAdd=function(t,e){var i=this;t.on("add",function(r,a,s){return i.em.trigger(e,r,s)})},n.prototype.__listenRemove=function(t,e){var i=this;t.on("remove",function(r,a,s){return i.em.trigger(e,r,s)})},n.prototype.__listenUpdate=function(t,e){var i=this;t.on("change",function(r,a){return i.em.trigger(e,r,r.changedAttributes(),a)})},n.prototype.__destroy=function(){var t;this.cls.forEach(function(e){e.stopListening(),e.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},n}(hO),V6=function(){return{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0}},j6=V6,Ns=Cn(7058),mO=function(o){return o.add="device:add",o.addBefore="device:add:before",o.remove="device:remove",o.removeBefore="device:remove:before",o.select="device:select",o.selectBefore="device:select:before",o.update="device:update",o.all="device",o}(mO||{}),vO=mO,_O=function(o){return o.add="page:add",o.addBefore="page:add:before",o.remove="page:remove",o.removeBefore="page:remove:before",o.select="page:select",o.selectBefore="page:select:before",o.update="page:update",o.all="page",o}(_O||{}),c0=_O,H6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),B6=function(o){H6(n,o);function n(t,e,i){return o.call(this,e,{module:t,modelConstructor:i})||this}return n.prototype.add=function(t,e){var i=this,r,a=(0,et.isArray)(t)?t:(0,et.isUndefined)(t)?void 0:[t];return a=(r=a?.map(function(s){return s instanceof i.newModel?s:new i.newModel(i.module,s)}))!==null&&r!==void 0?r:[void 0],o.prototype.add.call(this,(0,et.isArray)(t)?a:a[0],e)},n.prototype.preinitialize=function(t,e){this.newModel=e.modelConstructor,this.module=e.module},n}(ye.pM),oh=B6,H0=function(o){return o.dragEnter="canvas:dragenter",o.dragOver="canvas:dragover",o.dragEnd="canvas:dragend",o.dragData="canvas:dragdata",o.drop="canvas:drop",o.spot="canvas:spot",o.spotAdd="canvas:spot:add",o.spotUpdate="canvas:spot:update",o.spotRemove="canvas:spot:remove",o.coords="canvas:coords",o.zoom="canvas:zoom",o.pointer="canvas:pointer",o.refresh="canvas:refresh",o.frameLoad="canvas:frame:load",o.frameLoadHead="canvas:frame:load:head",o.frameLoadBody="canvas:frame:load:body",o.frameUnload="canvas:frame:unload",o}(H0||{}),Mu=H0,U6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),d0=function(){return d0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},d0.apply(this,arguments)},YC=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},XC="__aw",QC="__ah",JC=function(o,n){var t,e=o.get(n),i=(t=o.view)===null||t===void 0?void 0:t.el[n==="width"?"offsetWidth":"offsetHeight"];return(0,et.isNumber)(e)?e:(0,et.isString)(e)&&e.endsWith("px")?parseFloat(e):i||0},G6=function(o){U6(n,o);function n(t,e){var i=o.call(this,t,e)||this,r=i.em,a=i.attributes,s=a.styles,l=a.component,c=r.Components,u=c.getConfig(),p=r.Css.getAll(),g={},h={em:r,config:u,frame:i,idMap:g};if(!(0,oe.isComponent)(l)){var y=(0,oe.isObject)(l)?l:{components:l};!y.type&&(y.type="wrapper");var _=c.getType("wrapper").model;i.set("component",new _(y,h))}if(!s)i.set("styles",p);else if(!(0,oe.isObject)(s)){var O=s;(0,et.keys)(g).length&&(O=(0,et.isString)(O)?r.Parser.parseCss(O):O,r.Css.checkId(O,{idMap:g})),p.add(O),i.set("styles",p)}return!e.width&&i.set(XC,1),!e.height&&i.set(QC,1),!i.id&&i.set("id",(0,oe.createId)()),i}return n.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(n.prototype,"width",{get:function(){return JC(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return JC(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){var t=this.refFrame;return t?.getComponent()||this.getComponent()},enumerable:!1,configurable:!0}),n.prototype.initRefs=function(){var t=this.refFrame;if((0,et.isString)(t)){var e=this.module.framesById[t];e&&this.set({refFrame:e},{silent:!0})}},n.prototype.getBoxRect=function(){var t=this.attributes,e=t.x,i=t.y,r=this,a=r.width,s=r.height;return{x:e,y:i,width:a,height:s}},n.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},n.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},n.prototype.getComponent=function(){return this.get("component")},n.prototype.getStyles=function(){return this.get("styles")},n.prototype.disable=function(){this.trigger("disable")},n.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var e=this.collection;return e&&e.remove(this)},n.prototype.getHead=function(){return YC([],this.head,!0)},n.prototype.setHead=function(t){return this.set("head",YC([],t,!0))},n.prototype.addHeadItem=function(t){this.head.push(t)},n.prototype.getHeadByAttr=function(t,e,i){return this.head.filter(function(r){return r.attributes&&r.attributes[t]==e&&(!i||i===r.tag)})[0]},n.prototype.removeHeadByAttr=function(t,e,i){var r=this.getHeadByAttr(t,e,i),a=this.head.indexOf(r);a>=0&&this.head.splice(a,1)},n.prototype.addLink=function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},n.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},n.prototype.addScript=function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},n.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},n.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},n.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",d0({frame:this},t))},n.prototype._emitUnload=function(){this._emitWithEditor(Mu.frameUnload,{frame:this})},n.prototype._emitWithEditor=function(t,e){[this.em,this].forEach(function(i){return i?.trigger(t,e)})},n.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=Ns.A.prototype.toJSON.call(this,t),i=(0,et.result)(this,"defaults");return t.fromUndo&&delete e.component,delete e.styles,delete e.changesCount,e[XC]&&delete e.width,e[QC]&&delete e.height,e.refFrame&&(e.refFrame=e.refFrame.id,delete e.component),(0,et.forEach)(e,function(r,a){a.indexOf("_")===0&&delete e[a]}),(0,et.forEach)(i,function(r,a){e[a]===r&&delete e[a]}),(0,et.forEach)(["attributes","head"],function(r){(0,et.isEmpty)(e[r])&&delete e[r]}),e},n}(Ns.A),yO=G6,W6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),K6=function(o){W6(n,o);function n(t,e){e===void 0&&(e=[]);var i=o.call(this,t,e,yO)||this;return i.loadedItems=0,i.itemsToLoad=0,(0,et.bindAll)(i,"itemLoaded"),i.on("add",i.onAdd),i.on("reset",i.onReset),i.on("remove",i.onRemove),i.forEach(function(r){return i.onAdd(r)}),i}return n.prototype.onAdd=function(t){this.module.framesById[t.id]=t},n.prototype.onReset=function(t,e){var i=this,r=e?.previousModels||[];r.map(function(a){return i.onRemove(a)})},n.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},n.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},n.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},n.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},n.prototype.listenToLoadItems=function(t){var e=this;this.forEach(function(i){return i[t?"on":"off"]("loaded",e.itemLoaded)})},n}(oh),bO=K6,q6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$6=function(o){q6(n,o);function n(t){var e=this,i=t.em,r=t.config,a=r.scripts,s=r.styles;return e=o.call(this,t,{scripts:a,styles:s})||this,e.set("frames",new bO(t)),e.on("change:zoom",e.onZoomChange),e.on("change:x change:y",e.onCoordsChange),e.on("change:pointer change:pointerScreen",e.onPointerChange),e.listenTo(i,"change:device ".concat(vO.update),e.updateDevice),e.listenTo(i,c0.select,e._pageUpdated),e}return n.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:ye.lK,pointerScreen:ye.lK}},Object.defineProperty(n.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),n.prototype.init=function(){var t=this.em,e=t.Pages._initPage();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},n.prototype._pageUpdated=function(t,e){var i=this.em;i.setSelected(),i.get("readyCanvas")&&i.stopDefault(),e?.getFrames().map(function(r){r.disable(),r._emitUnload()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},n.prototype.updateDevice=function(t){t===void 0&&(t={});var e=this.em,i=e.getDeviceModel(),r=t.frame||e.getCurrentFrameModel();if(r&&i){var a=i.attributes,s=a.width,l=a.height,c=a.minHeight;r.set({width:s,height:l,minHeight:c},{noUndo:1})}},n.prototype.onZoomChange=function(t,e,i){var r=this,a=r.em,s=r.module,l=this.get("zoom");l<1&&this.set("zoom",1),a.trigger(s.events.zoom,{options:i})},n.prototype.onCoordsChange=function(){var t=this,e=t.em,i=t.module;e.trigger(i.events.coords)},n.prototype.onPointerChange=function(){var t=this,e=t.em,i=t.module;e.trigger(i.events.pointer)},n.prototype.getPointerCoords=function(t){t===void 0&&(t=ye.x2.World);var e=this.attributes,i=e.pointer,r=e.pointerScreen;return t===ye.x2.World?i:r},n}(Ns.A),Y6=$6,Eo=Cn(179),kn=Cn(2225),X6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Q6=function(o){X6(n,o);function n(t,e){e===void 0&&(e=[]);var i=o.call(this,t,e,Eo.A)||this;i.on("add",i.onAdd),i.on("change",i.onChange),i.on("remove",i.onRemove);var r=i.em;i.refreshDbn=(0,et.debounce)(function(){return i.refresh()},0);var a="".concat(kn.I.resize," styleable:change ").concat(kn.I.input," ").concat(kn.I.update," frame:updated undo redo");return i.listenTo(r,a,function(){return i.refreshDbn()}),i}return Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),n.prototype.refresh=function(){var t=this,e=t.em,i=t.events;e.trigger(i.spot)},n.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},n.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},n.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},n.prototype.__trgEvent=function(t,e){var i=this.module,r=i.em;r.trigger(t,e),this.refreshDbn()},n}(oh),J6=Q6,Z6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tk=function(o){Z6(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"module",{get:function(){var t,e;return(e=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&e!==void 0?e:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),n.prototype.preinitialize=function(t){this.className=""},n}(ye.Ss),Ao=tk,Me=Cn(6294),ek=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nk=function(o){ek(n,o);function n(t,e){t===void 0&&(t={}),e===void 0&&(e=!1);var i=o.call(this,t)||this;return i.itemsView="",i.itemType="type",i.reuseView=!1,i.viewCollection=[],e&&i.listenTo(i.collection,"add",i.addTo),i}return n.prototype.addTo=function(t){this.add(t)},n.prototype.itemViewNotFound=function(t){},n.prototype.add=function(t,e){var i=this,r=i.reuseView,a=i.viewCollection,s=e||null,l=t.get(this.itemType),c;t.view&&r?c=t.view:c=this.renderView(t,l),a.push(c);var u=c.render().el;s?s.appendChild(u):this.$el.append(u)},n.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(i){return t.add(i,e)}),this.$el.append(e),this.onRender(),this},n.prototype.onRender=function(){},n.prototype.onRemoveBefore=function(t,e){},n.prototype.onRemove=function(t,e){},n.prototype.remove=function(t){t===void 0&&(t={});var e=this.viewCollection;return this.onRemoveBefore(e,t),this.clearItems(),ye.Ss.prototype.remove.apply(this,t),this.onRemove(e,t),this},n.prototype.clearItems=function(){var t=this.viewCollection||[]},n}(Ao),ik=nk,Nu=function(o){return o.mount="css:mount",o.mountBefore="css:mount:before",o}(Nu||{}),rk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ok=function(o){rk(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.config=t.config||{};var i=e.model;return e.listenTo(i,"change",e.render),e.listenTo(i,"destroy remove",e.remove),e.listenTo(i.get("selectors"),"change",e.render),i.setView(e),e}return Object.defineProperty(n.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.model.em},enumerable:!1,configurable:!0}),n.prototype.remove=function(){return o.prototype.remove.call(this),this.model.removeView(this),this},n.prototype.updateStyles=function(){this.render()},n.prototype.tagName=function(){return"style"},n.prototype.render=function(){var t=this,e=t.model,i=t.el,r=t.em,a=e.get("important"),s=e.toCSS({important:a}),l={rule:e,ruleView:this,css:s};return r?.trigger(Nu.mountBefore,l),i.innerHTML=l.css,r?.trigger(Nu.mount,l),this},n}(ye.Ss),B0=ok,ak=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sk=function(o){ak(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this},n}(B0),lk=sk,ck=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w1=function(o,n){return"".concat(o).concat(n?"-".concat(parseFloat(n)):"")},dk=function(o){ck(n,o);function n(t){var e=o.call(this,t)||this;(0,et.bindAll)(e,"sortRules");var i=t.config||{};e.atRules={},e.config=i,e.em=i.em,e.pfx=i.stylePrefix||"",e.className=e.pfx+"rules";var r=e.collection;return e.listenTo(r,"add",e.addTo),e.listenTo(r,"reset",e.render),e}return n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){if(this.renderStarted){var i=e||null,r=this.config,a={model:t,config:r},s,l;if(t.get("atRuleType")==="keyframes"){var c=t.getAtRule(),u=this.atRules[c];if(!u){var p=document.createElement("style");u=document.createTextNode(""),p.appendChild(document.createTextNode("".concat(c,"{"))),p.appendChild(u),p.appendChild(document.createTextNode("}")),this.atRules[c]=u,s=p}l=new lk(a),u.appendData(l.render().el.textContent)}else l=new B0(a),s=l.render().el;var g=this.className,h=t.get("mediaText"),y=w1(g),_=y;if(h&&(_=w1(g,this.getMediaWidth(h))),s){var O=i||this.el,M=void 0;try{M=O.querySelector("#".concat(_))}catch{}M||(M=O.querySelector("#".concat(y))),M?.appendChild(s)}return s}},n.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},n.prototype.sortRules=function(t,e){var i=this.em,r=(i.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!r)return 0;var a=r?t:e,s=r?e:t;return a-s},n.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var e=this,i=e.em,r=e.$el,a=e.collection,s=this.className,l=document.createDocumentFragment();r.empty();var c=i.Devices.getAll().pluck("priority").sort(this.sortRules);return c.every(function(u){return u})&&c.unshift(0),c.forEach(function(u){return l.appendChild((0,Me.a_)("div",{id:w1(s,u)}))}),a.each(function(u){return t.addToCollection(u,l)}),r.append(l),r.attr("class",s),this},n}(ye.Ss),u0=dk,CO="text/html",uk=CO,pk=function(o,n){n===void 0&&(n={});var t=new DOMParser,e=n.htmlType||uk,i=e===CO,r=i?o:"<div>".concat(o,"</div>"),a=t.parseFromString(r,e),s;if(i){if(n.asDocument)return a;var l=a.head,c=a.body,u=l.querySelectorAll("script");(0,et.each)(u,function(g){return c.appendChild(g)});var p=[];(0,et.each)(l.children,function(g){return p.push(g)}),(0,et.each)(p,function(g,h){return c.insertBefore(g,c.children[h])}),s=c}else s=a.firstChild;return s},Al=function(o){return o.html="parse:html",o.htmlRoot="parse:html:root",o.htmlBefore="parse:html:before",o.css="parse:css",o.cssBefore="parse:css:before",o.all="parse",o}(Al||{});var Yo=function(){return Yo=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Yo.apply(this,arguments)},fk="data-gjs-",gk=function(o,n){return n===void 0&&(n={}),{compTypes:[],modelAttrStart:fk,getPropAttribute:function(t,e){var i=t.replace(this.modelAttrStart,""),r=e?.length||0,a=e?.substring(0,1),s=e?.substring(r-1),l=e==="true"?!0:e==="false"?!1:e;try{l=a=="{"&&s=="}"||a=="["&&s=="]"?JSON.parse(l):l}catch{}return{name:i,value:l}},splitPropsFromAttr:function(t){var e=this;t===void 0&&(t={});var i={},r={};return(0,et.each)(t,function(a,s){if(s.indexOf(e.modelAttrStart)===0){var l=e.getPropAttribute(s,a);i[l.name]=l.value}else r[s]=a}),{props:i,attrs:r}},parseStyle:function(t){for(var e={};t.indexOf("/*")>=0;){var i=t.indexOf("/*"),r=t.indexOf("*/"),a=r>-1?r+2:void 0;t=t.replace(t.slice(i,a),"")}for(var s=t.split(";"),l=0,c=s.length;l<c;l++){var u=s[l].trim();if(u){var p=u.split(":"),g=p[0].trim(),h=p.slice(1).join(":").trim();e[g]?((0,et.isArray)(e[g])||(e[g]=[e[g]]),e[g].push(h)):e[g]=h}}return e},parseClass:function(t){for(var e=[],i=t.split(" "),r=0,a=i.length;r<a;r++){var s=i[r].trim();s&&e.push(s)}return e},parseNodeAttr:function(t,e){for(var i,r,a=e||{},s=t.attributes||[],l=s.length,c=!!(!((i=n?.optionsHtml)===null||i===void 0)&&i.convertDataGjsAttributesHyphens),u=c&&!!a.type&&(0,et.result)((r=o?.Components.getType(a.type))===null||r===void 0?void 0:r.model.prototype,"defaults")||{},p=0;p<l;p++){var g=s[p].nodeName,h=s[p].nodeValue;if(g=="style")a.style=this.parseStyle(h);else if(g=="class")a.classes=this.parseClass(h);else{if(g=="contenteditable")continue;if(g.indexOf(this.modelAttrStart)===0){var y=this.getPropAttribute(g,h),_=y.name;if(c&&!(_ in u)){var O=(0,Me._I)(_);_=O in u?O:_}a[_]=y.value}else h===""&&t[g]===!0&&(h=!0),a.attributes||(a.attributes={}),a.attributes[g]=h}}return a},detectNode:function(t,e){var i;e===void 0&&(e={});var r=this.compTypes,a={};if(r){var s=(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"".concat(this.modelAttrStart,"type"));if(s)a={type:s};else for(var l=0;l<r.length;l++){var c=r[l],u=c.model.isComponent(t,e);if(u){typeof u!="object"&&(u={type:c.id}),a=u;break}}}return a},parseNode:function(t,e){var i;e===void 0&&(e={});var r=((i=t.content)===null||i===void 0?void 0:i.childNodes)||t.childNodes,a=r.length,s=this.detectNode(t,e);if(!s.tagName){var l=t.tagName||"",c=t.namespaceURI||"";s.tagName=l&&c==="http://www.w3.org/1999/xhtml"?l.toLowerCase():l}if(s=this.parseNodeAttr(t,s),!a&&"".concat(t.outerHTML).slice(-2)==="/>"&&(s.void=!0),a&&!s.components&&!e.skipChildren){var u=r[0];a===1&&u.nodeType===3?(!s.type&&(s.type="text"),s.components={type:"textnode",content:u.nodeValue}):s.components=this.parseNodes(t,Yo(Yo({},e),{inSvg:e.inSvg||s.type==="svg"}))}var p=s.components;if(!s.type&&p?.length){for(var g=n.textTypes,h=g===void 0?[]:g,y=n.textTags,_=y===void 0?[]:y,O=!0,M=!1,w=0;w<p.length;w++){var T=p[w],b=T.type;if(!h.includes(b)&&!_.includes(T.tagName)){O=!1;break}b==="textnode"&&(M=!0)}O&&M&&(s.type="text")}return s},parseNodes:function(t,e){var i;e===void 0&&(e={});for(var r=[],a=((i=t.content)===null||i===void 0?void 0:i.childNodes)||t.childNodes,s=a.length,l=0;l<s;l++){var c=a[l],u=r[r.length-1],p=this.parseNode(c,e);if(p.type==="textnode"){if(u?.type==="textnode"){u.content+=p.content;continue}if(!e.keepEmptyTextNodes){var g=c.nodeValue||"",h=l===0||l===s-1,y=g.includes(`
`);if(g!=" "&&!g.trim()&&(h||y))continue}}!p.tagName&&(0,et.isUndefined)(p.content)||r.push(p)}return r},parse:function(t,e,i){var r,a,s;i===void 0&&(i={});var l=o?.get("Config")||{},c=o?.Parser,u={html:[]},p=Yo(Yo(Yo({},n.optionsHtml),{htmlType:((r=n.optionsHtml)===null||r===void 0?void 0:r.htmlType)||n.htmlType}),i),g=Yo(Yo({},p),{asDocument:this.__checkAsDocument(t,p)}),h=Yo(Yo({},n),g),y=g.preParser,_=g.asDocument,O={input:(0,et.isFunction)(y)?y(t,{editor:o?.getEditor()}):t};c?.__emitEvent(Al.htmlBefore,O);var M=O.input,w=(0,et.isFunction)(h.parserHtml)?h.parserHtml(M,g):pk(M,g),T=w,b=w;_&&(T=b.documentElement,u.doctype=(0,Me.LJ)(b.doctype));var k=T.querySelectorAll("script"),E=k.length,N=(0,et.isUndefined)(l.allowScripts)?g.allowScripts:l.allowScripts;if(!N)for(;E--;)(a=k[E].parentNode)===null||a===void 0||a.removeChild(k[E]);if((!g.allowUnsafeAttr||!g.allowUnsafeAttrValue)&&this.__sanitizeNode(T,g),e){for(var F=T.querySelectorAll("style"),V=F.length,R="";V--;)R=F[V].innerHTML+R,(s=F[V].parentNode)===null||s===void 0||s.removeChild(F[V]);R&&(u.css=e.parse(R))}c?.__emitEvent(Al.htmlRoot,{input:M,root:T});var H=[];if(_)u.head=this.parseNode(b.head,h),u.root=this.parseNodeAttr(T),H=this.parseNode(b.body,h);else{var L=this.parseNodes(T,h);H=L.length===1&&!h.returnArray?L[0]:L}return u.html=H,c?.__emitEvent(Al.html,{input:M,output:u,options:g}),u},__sanitizeNode:function(t,e){var i=this,r=t.attributes||[],a=t.childNodes||[],s=[];(0,et.each)(r,function(l){var c=l.nodeName||"",u=l.nodeValue||"";!e.allowUnsafeAttr&&c.startsWith("on")&&s.push(c),!e.allowUnsafeAttrValue&&u.startsWith("javascript:")&&s.push(c)}),s.map(function(l){return t.removeAttribute(l)}),(0,et.each)(a,function(l){return i.__sanitizeNode(l,e)})},__checkAsDocument:function(t,e){if((0,oe.isDef)(e.asDocument))return e.asDocument;if((0,et.isFunction)(e.detectDocument))return!!e.detectDocument(t);if(e.detectDocument)return t.toLowerCase().trim().startsWith("<!doctype")}}},xO=gk,Il=function(o){return o.add="data:add",o.addBefore="data:add:before",o.remove="data:remove",o.removeBefore="data:remove:before",o.update="data:update",o.path="data:path",o.pathSource="data:pathSource:",o.all="data",o}(Il||{});var p0="data-collection",wu="data-collection-item",Ic="dataResolver",ZC=function(){function o(n,t,e){this.operator=n,this.statements=t,this.opts=e}return o.prototype.evaluate=function(){var n=this,t=this.statements.map(function(e){var i=new OO({condition:e},n.opts);return i.evaluate()});return this.operator.evaluate(t)},o}(),ah=function(){function o(n,t){this.operationString=n,this.em=t.em}return o.prototype.getOperations=function(){return Ak(this.operationsEnum)},o}(),hk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),U0=function(o){return o.equals="equals",o.isTruthy="isTruthy",o.isFalsy="isFalsy",o.isDefined="isDefined",o.isNull="isNull",o.isUndefined="isUndefined",o.isArray="isArray",o.isObject="isObject",o.isString="isString",o.isNumber="isNumber",o.isBoolean="isBoolean",o.isDefaultValue="isDefaultValue",o}(U0||{}),mk=function(o){hk(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.operationsEnum=U0,t}return n.prototype.evaluate=function(t,e){var i;switch(this.operationString){case"equals":return t===e;case"isTruthy":return!!t;case"isFalsy":return!t;case"isDefined":return t!=null;case"isNull":return t===null;case"isUndefined":return t===void 0;case"isArray":return Array.isArray(t);case"isObject":return typeof t=="object"&&t!==null;case"isString":return typeof t=="string";case"isNumber":return typeof t=="number";case"isBoolean":return typeof t=="boolean";case"isDefaultValue":return t instanceof Zc&&t.get("defaultValue")===e;default:return(i=this.em)===null||i===void 0||i.logWarning("Unsupported generic operation: ".concat(this.operationString)),!1}},n}(ah),vk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bu=function(o){return o.and="and",o.or="or",o.xor="xor",o}(bu||{}),_k=function(o){vk(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.operationsEnum=bu,t}return n.prototype.evaluate=function(t){if(!t?.length)return!1;switch(this.operationString){case bu.and:return t.every(Boolean);case bu.or:return t.some(Boolean);case bu.xor:return t.filter(Boolean).length===1;default:return this.em.logWarning("Unsupported boolean operation: ".concat(this.operationString)),!1}},n}(ah),yk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ks=function(o){return o.greaterThan=">",o.lessThan="<",o.greaterThanOrEqual=">=",o.lessThanOrEqual="<=",o.equals="=",o.notEquals="!=",o}(ks||{}),bk=function(o){yk(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.operationsEnum=ks,t}return n.prototype.evaluate=function(t,e){if(typeof t!="number")return!1;switch(this.operationString){case ks.greaterThan:return t>e;case ks.lessThan:return t<e;case ks.greaterThanOrEqual:return t>=e;case ks.lessThanOrEqual:return t<=e;case ks.equals:return t===e;case ks.notEquals:return t!==e;default:return this.em.logWarning("Unsupported number operation: ".concat(this.operationString)),!1}},n}(ah),Ck=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ua=function(o){return o.contains="contains",o.startsWith="startsWith",o.endsWith="endsWith",o.matchesRegex="matchesRegex",o.equalsIgnoreCase="equalsIgnoreCase",o.trimEquals="trimEquals",o}(ua||{}),xk=function(o){Ck(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.operationsEnum=ua,t}return n.prototype.evaluate=function(t,e){if(typeof t!="string")return!1;switch(this.operationString){case ua.contains:return t.includes(e);case ua.startsWith:return t.startsWith(e);case ua.endsWith:return t.endsWith(e);case ua.matchesRegex:return e||this.em.logWarning("Regex pattern must be provided."),new RegExp(e??"").test(t);case ua.equalsIgnoreCase:return t.toLowerCase()===e.toLowerCase();case ua.trimEquals:return t.trim()===e.trim();default:return this.em.logWarning("Unsupported string operation: ".concat(this.operationString)),!1}},n}(ah),Ok=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),OO=function(o){Ok(n,o);function n(t,e){var i,r=o.call(this,t)||this;return r.collectionsStateMap={},r.em=e.em,r.collectionsStateMap=(i=e.collectionsStateMap)!==null&&i!==void 0?i:{},r}return n.prototype.evaluate=function(){var t=this.get("condition");if(!t||(0,et.isBoolean)(t))return!!t;var e=this.getOperator();return e?e.evaluate(this.getResolvedLeftValue(),this.getResolvedRightValue()):!1},n.prototype.getDependentDataVariables=function(){var t=this.get("condition");return t?this.extractDataVariables(t):[]},n.prototype.getOperations=function(){var t=this.getOperator();return!t||t instanceof ZC?[]:t.getOperations()},n.prototype.updateCollectionStateMap=function(t){this.collectionsStateMap=t},n.prototype.getOperator=function(){var t={em:this.em,collectionsStateMap:this.collectionsStateMap},e=this.get("condition");if(!(!e||(0,et.isBoolean)(e))){var i;if(this.isLogicGroup(e)){var r=e.logicalOperator,a=e.statements,s=new _k(r,t);i=new ZC(s,a,t)}if(this.isExpression(e)){var l=e.left,s=e.operator,c=ng(l,t);i=this.resolveOperator(c,s)}return i}},n.prototype.resolveOperator=function(t,e){var i=this.em;if(this.isOperatorInEnum(e,U0))return new mk(e,{em:i});if(typeof t=="number")return new bk(e,{em:i});if(typeof t=="string")return new xk(e,{em:i})},n.prototype.extractDataVariables=function(t){var e=this,i=[];return this.isExpression(t)?(Ll(t.left)&&i.push(t.left),Ll(t.right)&&i.push(t.right)):this.isLogicGroup(t)&&t.statements.forEach(function(r){return i.push.apply(i,e.extractDataVariables(r))}),i},n.prototype.isLogicGroup=function(t){return t&&typeof t.logicalOperator<"u"&&Array.isArray(t.statements)},n.prototype.isExpression=function(t){return t&&typeof t.left<"u"&&typeof t.operator=="string"},n.prototype.isOperatorInEnum=function(t,e){return Object.values(e).includes(t)},n.prototype.resolveExpressionSide=function(t){var e=this.get("condition"),i=this,r=i.em,a=i.collectionsStateMap;if(!e||typeof e=="boolean")return e;if(e&&typeof e=="object"&&t in e){var s=e[t];return ng(s,{em:r,collectionsStateMap:a})}},n.prototype.getResolvedLeftValue=function(){return this.resolveExpressionSide("left")},n.prototype.getResolvedRightValue=function(){return this.resolveExpressionSide("right")},n.prototype.toJSON=function(t){var e=this.get("condition");if(typeof e=="object"){var i=JSON.parse(JSON.stringify(e));return i}return e},n}(ye.Kx),Pk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rs="data-condition",Mk="data-condition-evaluation-changed",Yf="data-condition-output-changed",PO=function(o){Pk(n,o);function n(t,e){var i,r=o.call(this,t,e)||this;r.collectionsStateMap={},r.resolverListeners=[],r._previousEvaluationResult=null,r.em=e.em,r.collectionsStateMap=(i=e.collectionsStateMap)!==null&&i!==void 0?i:{};var a=t.condition,s=a===void 0?{}:a,l=new OO({condition:s},{em:r.em});return r._conditionEvaluator=l,r.listenToDataVariables(),r.listenToPropsChange(),r}return n.prototype.defaults=function(){return{type:Rs,condition:{left:"",operator:ua.equalsIgnoreCase,right:""},ifTrue:{},ifFalse:{}}},n.prototype.getCondition=function(){return this._conditionEvaluator.get("condition")},n.prototype.getIfTrue=function(){return this.get("ifTrue")},n.prototype.getIfFalse=function(){return this.get("ifFalse")},n.prototype.getOperations=function(){return this._conditionEvaluator.getOperations()},n.prototype.setCondition=function(t){this.set("condition",t),this._conditionEvaluator.set("condition",t),this.trigger(Yf,this.getDataValue())},n.prototype.setIfTrue=function(t){this.set("ifTrue",t)},n.prototype.setIfFalse=function(t){this.set("ifFalse",t)},n.prototype.isTrue=function(){return this._conditionEvaluator.evaluate()},n.prototype.getDataValue=function(t){t===void 0&&(t=!1);var e=this,i=e.em,r=e.collectionsStateMap,a={em:i,collectionsStateMap:r},s=this.getIfTrue(),l=this.getIfFalse(),c=this.isTrue();return t?c?s:l:ng(c?s:l,a)},n.prototype.resolvesFromCollection=function(){return!1},n.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this._conditionEvaluator.updateCollectionStateMap(t),this.listenToDataVariables(),this.emitConditionEvaluationChange()},n.prototype.listenToPropsChange=function(){var t=this;this.on("change:condition",this.handleConditionChange.bind(this)),this.on("change:condition change:ifTrue change:ifFalse",function(){t.listenToDataVariables()})},n.prototype.handleConditionChange=function(){this.setCondition(this.get("condition"))},n.prototype.listenToDataVariables=function(){this.cleanupListeners(),this.setupConditionDataVariableListeners(),this.setupOutputDataVariableListeners()},n.prototype.setupConditionDataVariableListeners=function(){var t=this;this._conditionEvaluator.getDependentDataVariables().forEach(function(e){t.addListener(e,function(){t.emitConditionEvaluationChange()})})},n.prototype.setupOutputDataVariableListeners=function(){var t=this.isTrue();this.setupOutputVariableListener(this.getIfTrue(),t),this.setupOutputVariableListener(this.getIfFalse(),!t)},n.prototype.setupOutputVariableListener=function(t,e){var i=this;Ll(t)&&this.addListener(t,function(){e&&i.trigger(Yf,t)})},n.prototype.addListener=function(t,e){var i=new ju({em:this.em,resolver:new Zc(t,{em:this.em,collectionsStateMap:this.collectionsStateMap}),onUpdate:e});this.resolverListeners.push(i)},n.prototype.emitConditionEvaluationChange=function(){var t=this.isTrue();this._previousEvaluationResult!==t&&(this._previousEvaluationResult=t,this.trigger(Mk,t),this.emitOutputValueChange())},n.prototype.emitOutputValueChange=function(){var t=this.getDataValue();this.trigger(Yf,t)},n.prototype.cleanupListeners=function(){this.resolverListeners.forEach(function(t){return t.destroy()}),this.resolverListeners=[]},n.prototype.toJSON=function(){var t=this.getIfTrue(),e=this.getIfFalse();return{type:Rs,condition:this._conditionEvaluator.toJSON(),ifTrue:t,ifFalse:e}},n}(ye.Kx),G0="data-condition-true-content",W0="data-condition-false-content",Nr=function(){return Nr=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Nr.apply(this,arguments)},MO=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},El=function(o){return(0,et.isArray)(o.get(yr))},eg=function(o){return!!o.get(Rr)},pa=function(o){return!!(El(o)||eg(o))},Dl=function(o){var n=o.parent();return pa(o)&&(!n||!pa(n))};var mu=function(o){o.__symbReady||(o.on("change",o.__upSymbProps),o.__symbReady=!0)},ko=function(o){var n=o.get(Rr);if(n&&(0,et.isString)(n)){var t=o.__getAllById()[n];t?(n=t,o.set(Rr,t)):n=0}return n||void 0},jr=function(o){var n=o?.get(yr);return n&&(0,et.isArray)(n)&&(n.forEach(function(t,e){t&&(0,et.isString)(t)&&(n[e]=o.__getAllById()[t])}),n=n.filter(function(t){return t&&!(0,et.isString)(t)})),n||void 0},Ru=function(o,n){n===void 0&&(n="");var t=o?.get(Rc),e=n.split(":")[0],i=n!==e?[n,e]:[n];return t===!0||(0,et.isArray)(t)&&i.some(function(r){return t.indexOf(r)>=0})},Ra=function(o,n){n===void 0&&(n={});var t=[],e=n.changed;if(n.fromInstance||n.noPropagate||n.fromUndo||e&&Ru(o,e))return t;var i=jr(o)||[],r=ko(o),a=r?MO([r],jr(r)||[],!0):i;return t=a.filter(function(s){return s!==o}).filter(function(s){return!(e&&Ru(s,e))}),t},Fu=function(o,n){for(var t=o,e=o.parent(n);e&&pa(e);)t=e,e=e.parent(n);return t},sh=function(o,n){n===void 0&&(n={});var t=ko(o),e=t&&jr(t);!n.skipRefs&&e&&t.set(yr,e.filter(function(i){return i!==o})),o.set(Rr,0),o.components().forEach(function(i){return sh(i,n)})},Su=function(o,n,t,e){e===void 0&&(e={});var i=ko(o),r=jr(o);!i&&!r||o.em.log(n,{model:o,toUp:t,context:"symbols",opts:e})},wk=function(o,n){n===void 0&&(n={});var t=o.changedAttributes();if(t){var e=o.dataResolverWatchers.getProps(t);if(Sk(e),!(0,oe.isEmptyObj)(e)){var i=Ra(o,n);e=tx(e,o),Su(o,"props",i,{opts:n,changed:e}),i.forEach(function(r){var a=tx(e,r);r.set(a,Nr({fromInstance:o},n))})}}},Sk=function(o){var n,t,e=["status","open",yr,Rr,Rc];e.forEach(function(i){return delete o[i]}),(n=o.attributes)===null||n===void 0||delete n.id,(0,oe.isEmptyObj)((t=o.attributes)!==null&&t!==void 0?t:{})&&delete o.attributes},tx=function(o,n){var t=Nr({},o);return(0,et.keys)(o).forEach(function(e){Tk(o,e,n)||delete t[e]}),t},Tk=function(o,n,t){var e=function(){var i;if(n==="attributes"){var r=o.attributes;return Object.values(r).some(function(a){return!!a?.collectionId})}return!!(!((i=o[n])===null||i===void 0)&&i.collectionId)}();return!Ru(t,n)||e},Ek=function(o,n){n===void 0&&(n={});var t=Ra(o,n);Su(o,"classes",t,{opts:n}),t.forEach(function(e){e.set("classes",o.get("classes"),{fromInstance:o})}),o.__changesUp(n)},wO=function(o,n,t,e){var i=e||t||{},r=i.fromInstance,a=i.fromUndo,s={fromInstance:r,fromUndo:a},l=n.opt.temporary;if(e)if(e.add){var h=[],y=!!jr(o),u=Ra(o,Nr(Nr({},s),{changed:"components:add"}));if(u.length){var _=ko(n);h=jr(_||n)||[],h=MO([],h,!0),h.push(_||n)}!l&&Su(o,"add",u,{opts:e,addedInstances:h.map(function(F){return F.cid}),added:n.cid}),u.forEach(function(F){var V=Fu(F),R=h.filter(function(L){var W=Fu(L,{prev:1});return V&&W&&W===V})[0],H=R||n.clone({symbol:!0,symbolInv:y});F.append(H,Nr({fromInstance:o},e))})}else{var O=ko(n);if(O&&!e.temporary&&O.set(yr,jr(O).filter(function(N){return N!==n})),!Dl(n)&&!e.skipRefsUp){var M="components:remove",w=e.index,T=n.parent(),b=Nr({fromInstance:n},e),k=Dl(n),E=function(F){var V=F.parent();V&&!Ru(V,M)&&F.remove(b)},u=Ru(T,M)?[]:Ra(n,s);k&&(u=T&&Ra(T,Nr(Nr({},s),{changed:M})),E=function(F){var V=F.components().at(w);V&&V.remove(Nr({fromInstance:T},b))}),!l&&Su(o,"remove",u,{opts:e,removed:n.cid,isSymbNested:k}),u.forEach(E)}}else{var c=n,u=Ra(o,Nr(Nr({},s),{changed:"components:reset"})),p=c.models,g=new Set;Su(o,"reset",u,{components:p}),u.forEach(function(N){var F=N.components(),V=p.map(function(R,H){return o.get(Ic)?R.clone({symbol:pa(R)}):!pa(R)||g.has(R)?(g.add(R),R.clone({symbol:!0})):F.at(H)});F.reset(V,Nr({fromInstance:o},t))})}o.__changesUp(i)};function f0(o){return typeof o=="object"&&[po,Rs].includes(o?.type)}function Ll(o){return o?.type===po}function ng(o,n){return f0(o)?(Ll(o)&&Zc.resolveDataResolver(o,n),TO(o,n)):o}function SO(o,n){var t,e=o.type,i;switch(e){case po:i=new Zc(o,n);break;case Rs:{i=new PO(o,n);break}default:(t=n.em)===null||t===void 0||t.logWarning("Unsupported resolver type: ".concat(e));return}return i}function TO(o,n){var t=SO(o,n);return t?.getDataValue()}var kk=function(o){return!!o&&[wu,G0,W0].includes(o)};function Ak(o){return Object.keys(o).filter(function(n){return isNaN(Number(n))}).map(function(n){return o[n]})}function Ik(o){var n=o.collectionsStateMap;if(!n)return!1;var t=Object.keys(n);if(!t.length)return!1;var e=ko(o);if(!e||e===o)return!1;var i=e.collectionsStateMap,r=Object.keys(i),a=r.every(function(s){return t.includes(s)});return a}function Dk(o){var n=ko(o);return n?n.getId():""}function Lk(o){var n=Ik(o),t=n?Dk(o):null;return{shouldSync:n,itemId:t}}var Nk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ig=function(){return ig=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},ig.apply(this,arguments)},po="data-variable",Rk=function(o){Nk(n,o);function n(t,e){var i=o.call(this,t,e)||this;return i.em=e.em,i.collectionsStateMap=e.collectionsStateMap,i}return n.prototype.defaults=function(){return{type:po,defaultValue:"",path:"",collectionId:void 0,variableType:void 0,asPlainText:void 0}},Object.defineProperty(n.prototype,"path",{get:function(){var t;return(t=this.get("path"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultValue",{get:function(){var t;return(t=this.get("defaultValue"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"collectionId",{get:function(){return this.get("collectionId")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"variableType",{get:function(){return this.get("variableType")},enumerable:!1,configurable:!0}),n.prototype.resolvesFromCollection=function(){return!!this.collectionId},n.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this.trigger("change")},n.prototype.getResolverPath=function(){var t;if(this.resolvesFromCollection()){var e=this.resolveCollectionVariable();return Ll(e)?(t=e.path)!==null&&t!==void 0?t:"":!1}return this.path},n.prototype.toJSON=function(t){var e=this.defaults(),i=o.prototype.toJSON.call(this,t),r=Object.fromEntries(Object.entries(i).filter(function(a){var s=a[0],l=a[1];return l!==e[s]}));return ig(ig({},r),{type:po})},n.prototype.getDataValue=function(){var t={em:this.em,collectionsStateMap:this.collectionsStateMap};return n.resolveDataResolver({path:this.path,defaultValue:this.defaultValue,collectionId:this.collectionId,variableType:this.variableType},t)},n.resolveDataSourceVariable=function(t,e){var i,r;return e.em.DataSources.getValue((i=t.path)!==null&&i!==void 0?i:"",(r=t.defaultValue)!==null&&r!==void 0?r:"")},n.resolveDataResolver=function(t,e){var i,r,a,s;if(t.collectionId){var l=n.resolveCollectionVariable(t,e);return Ll(l)?n.resolveDataSourceVariable({path:(i=l.path)!==null&&i!==void 0?i:"",defaultValue:(r=t.defaultValue)!==null&&r!==void 0?r:""},{em:e.em}):l}return n.resolveDataSourceVariable({path:(a=t.path)!==null&&a!==void 0?a:"",defaultValue:(s=t.defaultValue)!==null&&s!==void 0?s:""},{em:e.em})},n.prototype.resolveCollectionVariable=function(){var t=this,e=t.em,i=t.collectionsStateMap;return n.resolveCollectionVariable(this.attributes,{em:e,collectionsStateMap:i})},n.resolveCollectionVariable=function(t,e){var i=t.collectionId,r=i===void 0?"":i,a=t.variableType,s=t.path,l=t.defaultValue,c=l===void 0?"":l,u=e.em,p=e.collectionsStateMap;if(!p)return c;var g=p[r];return g?a?a==="currentItem"?n.resolveCurrentItem(g,s,r,u):g[a]:(u.logError("Missing collection variable type for collection: ".concat(r)),c):c},n.resolveCurrentItem=function(t,e,i,r){var a=t.currentItem;if(!a)return r.logError("Current item is missing for collection: ".concat(i)),"";if(a.type===po){var s=a.path?"".concat(a.path,".").concat(e):e;return{type:po,path:s}}return e&&!a[e]?(r.logError("Path not found in current item: ".concat(e," for collection: ").concat(i)),""):e?a[e]:a},n}(ye.Kx),Zc=Rk,Fk=function(){function o(n){var t=this;this.listeners=[],this.model=new ye.Kx,this.onChange=function(){var e=t.resolver.getDataValue();t.onUpdate(e)},this.em=n.em,this.resolver=n.resolver,this.onUpdate=n.onUpdate,this.listenToResolver()}return o.prototype.createListener=function(n,t,e){return e===void 0&&(e=this.onChange),{obj:n,event:t,callback:e}},o.prototype.listenToResolver=function(){var n=this,t=n.resolver,e=n.model;this.removeListeners();var i=[],r=t.attributes.type;switch(r){case po:i=this.listenToDataVariable(t);break;case Rs:i=this.listenToConditionalVariable(t);break}i.forEach(function(a){return e.listenTo(a.obj,a.event,a.callback)}),this.listeners=i},o.prototype.listenToConditionalVariable=function(n){return[{obj:n,event:Yf,callback:this.onChange}]},o.prototype.listenToDataVariable=function(n){var t=this,e=this.em,i=[],r=function(){t.listenToResolver(),t.onChange()};i.push(this.createListener(n,"change",r));var a=n.getResolverPath();if(!a)return i;var s=(0,oe.stringToPath)(a||"").join("."),l=e.DataSources.fromPath(a),c=l[0],u=l[1];return c&&i.push(this.createListener(c.records,"add remove reset",r)),u&&i.push(this.createListener(u,"change")),i.push(this.createListener(e.DataSources.all,"add remove reset",r),this.createListener(e,"".concat(Il.path,":").concat(s))),i},o.prototype.removeListeners=function(){var n=this;this.listeners.forEach(function(t){return n.model.stopListening(t.obj,t.event,t.callback)}),this.listeners=[]},o.prototype.destroy=function(){this.removeListeners()},o}(),ju=Fk,rg=function(){return rg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},rg.apply(this,arguments)},S1=function(){function o(n,t,e){this.model=n,this.updateFn=t,this.resolverListeners={},this.em=e.em}return o.prototype.bindModel=function(n){this.model=n},o.prototype.setDataValues=function(n,t){t===void 0&&(t={});var e=t.skipWatcherUpdates||t.fromDataSource;return e||this.removeListeners(),this.addDataValues(n,t)},o.prototype.addDataValues=function(n,t){if(t===void 0&&(t={}),!n)return{};var e=this.evaluateValues(n),i=t.skipWatcherUpdates||t.fromDataSource;return i||this.updateListeners(n),e},o.prototype.onCollectionsStateMapUpdate=function(){var n=this,t=this.getValuesResolvingFromCollections();if(t.length){t.forEach(function(i){return n.resolverListeners[i].resolver.updateCollectionsStateMap(n.collectionsStateMap)});var e=this.addDataValues(this.getValuesOrResolver(Object.fromEntries(t.map(function(i){return[i,""]}))));Object.entries(e).forEach(function(i){var r=i[0],a=i[1];return n.updateFn(n.model,r,a)})}},Object.defineProperty(o.prototype,"collectionsStateMap",{get:function(){var n,t=this.model;return(n=t?.collectionsStateMap)!==null&&n!==void 0?n:{}},enumerable:!1,configurable:!0}),o.prototype.updateListeners=function(n){var t=this,e=this,i=e.em,r=e.collectionsStateMap;this.removeListeners(Object.keys(n));for(var a=Object.keys(n),s=function(u){var p=a[u],g=n[p];if(!f0(g))return"continue";var h=SO(g,{em:i,collectionsStateMap:r});l.resolverListeners[p]=new ju({em:i,resolver:h,onUpdate:function(y){return t.updateFn(t.model,p,y)}})},l=this,c=0;c<a.length;c++)s(c)},o.prototype.evaluateValues=function(n){for(var t=this,e=t.em,i=t.collectionsStateMap,r=rg({},n),a=Object.keys(n),s=0;s<a.length;s++){var l=a[s],c=n[l];f0(c)&&(r[l]=TO(c,{em:e,collectionsStateMap:i}))}return r},o.prototype.removeListeners=function(n){var t=this,e=n||Object.keys(this.resolverListeners);return e.forEach(function(i){var r,a;t.resolverListeners[i]&&((a=(r=t.resolverListeners[i]).destroy)===null||a===void 0||a.call(r),delete t.resolverListeners[i])}),e},o.prototype.getValuesOrResolver=function(n){if(!n)return{};for(var t=rg({},n),e=Object.keys(t),i=0;i<e.length;i++){var r=e[i],a=this.resolverListeners[r];a&&(t[r]=a.resolver.toJSON())}return t},o.prototype.getAllDataResolvers=function(){for(var n={},t=Object.keys(this.resolverListeners),e=0;e<t.length;e++){var i=t[e];n[i]=this.resolverListeners[i].resolver.toJSON()}return n},o.prototype.getValuesResolvingFromCollections=function(){var n=this,t=Object.keys(this.resolverListeners).filter(function(e){return n.resolverListeners[e].resolver.resolvesFromCollection()});return t},o.prototype.destroy=function(){this.removeListeners()},o}(),so=function(){return so=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},so.apply(this,arguments)},zk=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},Xf={fromDataSource:!0,avoidStore:!0},Dc="__data_values",Vk=function(){function o(n,t){var e=this;this.model=n,this.options=t,this.onPropertyUpdate=function(i,r,a){i?.set(r,a,Xf)},this.onAttributeUpdate=function(i,r,a){var s;e.isComponent(i)&&i?.addAttributes((s={},s[r]=a,s),Xf)},this.onStyleUpdate=function(i,r,a){var s;i?.addStyle((s={},s[r]=a,s),so(so({},Xf),{partial:!0,avoidStore:!0}))},this.propertyWatcher=new S1(n,this.onPropertyUpdate,t),this.attributeWatcher=new S1(n,this.onAttributeUpdate,t),this.styleWatcher=new S1(n,this.onStyleUpdate,t)}return o.prototype.bindModel=function(n){this.model=n,this.watchers.forEach(function(t){return t.bindModel(n)}),this.updateSymbolOverride()},o.prototype.addProps=function(n,t){var e;t===void 0&&(t={});var i=(e=n[Dc])!==null&&e!==void 0?e:{},r=this.filterProps(n),a=so(so({},n),this.propertyWatcher.addDataValues(so(so({},r),i.props),t));this.shouldProcessProp("attributes",n,i)&&(a.attributes=this.processAttributes(n,i,t)),this.shouldProcessProp("style",n,i)&&(a.style=this.processStyles(n,i,t));var s=t.skipWatcherUpdates||t.fromDataSource;return s||(this.updateSymbolOverride(),a[Dc]={props:this.propertyWatcher.getAllDataResolvers(),style:this.styleWatcher.getAllDataResolvers(),attributes:this.attributeWatcher.getAllDataResolvers()}),a},o.prototype.getProps=function(n){var t=this.getValueOrResolver("props",n),e=so({},t);return delete e[Dc],(0,et.isEmpty)(n.attributes)||(e.attributes=this.getValueOrResolver("attributes",n.attributes)),(0,et.isObject)(n.style)&&!(0,et.isEmpty)(n.style)&&(e.style=this.getValueOrResolver("styles",n.style)),e},o.prototype.getValueOrResolver=function(n,t){var e;switch(n){case"props":e=this.propertyWatcher;break;case"styles":e=this.styleWatcher;break;case"attributes":e=this.attributeWatcher;break;default:{var i=this.options.em;return i?.logError("Invalid target '".concat(n,"'. Must be 'props', 'styles', or 'attributes'.")),{}}}return t?e.getValuesOrResolver(t):e.getAllDataResolvers()},o.prototype.removeAttributes=function(n){this.attributeWatcher.removeListeners(n),this.updateSymbolOverride()},o.prototype.disableStyles=function(){this.styleWatcher.removeListeners(),this.styleWatcher.destroy()},o.prototype.onCollectionsStateMapUpdate=function(){this.watchers.forEach(function(n){return n.onCollectionsStateMapUpdate()})},o.prototype.destroy=function(){this.watchers.forEach(function(n){return n.destroy()})},Object.defineProperty(o.prototype,"watchers",{get:function(){return[this.propertyWatcher,this.styleWatcher,this.attributeWatcher]},enumerable:!1,configurable:!0}),o.prototype.isComponent=function(n){return n instanceof li},o.prototype.shouldProcessProp=function(n,t,e){var i=n==="attributes"?this.attributeWatcher:this.styleWatcher,r=e[n],a=!!t[n],s=r&&Object.keys(r).length>0,l=r&&Object.keys(i.getAllDataResolvers()).length>0;return a||s||l},o.prototype.updateSymbolOverride=function(){var n,t=this.model;if(this.isComponent(t)){var e=!!Object.keys((n=t?.collectionsStateMap)!==null&&n!==void 0?n:{}).length;if(e){var i=this.propertyWatcher.getValuesResolvingFromCollections(),r=this.attributeWatcher.getValuesResolvingFromCollections(),a=zk(["locked","layerable",Dc],i,!0),s=Object.keys(r).length;s&&a.push("attributes");var l=Ra(t);l.forEach(function(c){c.setSymbolOverride(a,{fromDataSource:!0})}),t.setSymbolOverride(a,{fromDataSource:!0})}}},o.prototype.filterProps=function(n){var t=["components","dataResolver",Dc],e=Object.fromEntries(Object.entries(n).filter(function(i){var r=i[0];return!t.includes(r)}));return e},o.prototype.processAttributes=function(n,t,e){var i;return e===void 0&&(e={}),this.attributeWatcher.setDataValues(so(so({},n.attributes),(i=t.attributes)!==null&&i!==void 0?i:{}),e)},o.prototype.processStyles=function(n,t,e){var i;return e===void 0&&(e={}),typeof n=="string"?(this.styleWatcher.removeListeners(),n):this.styleWatcher.setDataValues(so(so({},n.style),(i=t.style)!==null&&i!==void 0?i:{}),e)},o}(),jk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yi=function(){return Yi=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Yi.apply(this,arguments)},Hk=xO(),g0=function(o){return(0,et.isArray)(o)?o[o.length-1]:o},Bk=function(o){jk(n,o);function n(t,e){e===void 0&&(e={});var i=this,r=e.em,a=new Vk(void 0,{em:r});return i=o.call(this,t,Yi(Yi({},e),{dataResolverWatchers:a}))||this,i.views=[],i.collectionsStateMap={},a.bindModel(i),i.dataResolverWatchers=a,i.em=e.em,i.opt=e,i}return n.prototype.get=function(t,e){return e?.skipResolve?this.dataResolverWatchers.getValueOrResolver("props")[t]:o.prototype.get.call(this,t)},n.prototype.set=function(t,e,i){var r,a,s={skipWatcherUpdates:!1,fromDataSource:!1},l,c;typeof t=="object"?(l=t,c=e||s):typeof t=="string"?(l=(r={},r[t]=e,r),c=i||s):(l={},c=s),this.dataResolverWatchers=(a=this.dataResolverWatchers)!==null&&a!==void 0?a:c.dataResolverWatchers;var u=this.dataResolverWatchers.addProps(l,c);return o.prototype.set.call(this,u,c)},n.prototype.parseStyle=function(t){return Hk.parseStyle(t)},n.prototype.extendStyle=function(t){return Yi(Yi({},this.getStyle("",{skipResolve:!0})),t)},n.prototype.getStyle=function(t,e){e===void 0&&(e={});var i=this.get("style"),r=(0,et.isString)(i)?this.parseStyle(i):(0,et.isObject)(i)?Yi({},i):{};delete r.__p;var a=!t||t===""||(0,et.isObject)(t);if(!e.skipResolve)return a?r:r[t];var s=this.dataResolverWatchers.getValueOrResolver("styles",r);return a?s:s[t]},n.prototype.setStyle=function(t,e){var i=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,et.isString)(t)&&(t=this.parseStyle(t));var r=this.getStyle("",{skipResolve:!0});e.partial||e.avoidStore?(e.avoidStore=!0,t.__p=!0):delete t.__p;var a=Yi({},t),s=Yi({},a);(0,et.keys)(s).forEach(function(p){if(s[p]===""){delete s[p];return}});var l=this.dataResolverWatchers.addProps({style:s},e);this.set(l,e),s=l.style;var c=Object.keys((0,oe.shallowDiff)(r,a)),u=c.reduce(function(p,g){var h;return Yi(Yi({},p),(h={},h[g]=s[g],h))},{});return delete u.__p,(0,et.keys)(u).forEach(function(p){var g=i.em;e.noEvent||(i.trigger("change:style:".concat(p)),g&&(g.trigger("styleable:change",i,p,e),g.trigger("styleable:change:".concat(p),i,p,e)))}),s},n.prototype.getView=function(t){var e=this,i=e.views,r=e.em,a=t||r?.getCurrentFrameModel();return a?i.find(function(s){return s.frameView===a.view}):i[0]},n.prototype.setView=function(t){var e=this.views;!e.includes(t)&&e.push(t)},n.prototype.removeView=function(t){var e=this.views;e.splice(e.indexOf(t),1)},n.prototype.updateView=function(){this.views.forEach(function(t){return t.updateStyles()})},n.prototype.addStyle=function(t,e,i){var r;e===void 0&&(e=""),i===void 0&&(i={}),typeof t=="string"?t=(r={},r[t]=e,r):i=e||{},i.addStyle=t,t=this.extendStyle(t),this.setStyle(t,i)},n.prototype.removeStyle=function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},n.prototype.styleToString=function(t){t===void 0&&(t={});var e=[],i=t.style||this.getStyle(t),r=t.important,a=function(l){var c=(0,et.isArray)(r)?r.indexOf(l)>=0:r,u=l.substring(0,2),p=u==="__";if(p)return"continue";var g=i[l],h=(0,et.isArray)(g)?g:[g];h.forEach(function(y){var _="".concat(y).concat(c?" !important":"");_&&e.push("".concat(l,":").concat(_,";"))})};for(var s in i)a(s);return e.join("")},n.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},n.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},n.prototype.onCollectionsStateMapUpdate=function(t){this.collectionsStateMap=t,this.dataResolverWatchers.onCollectionsStateMapUpdate()},n.prototype.clone=function(t,e){var i=this.dataResolverWatchers.getProps(this.attributes),r=Yi(Yi({},i),t),a=Yi(Yi({},this.opt),e),s=this.constructor;return new s(r,a)},n.prototype.toJSON=function(t,e){if(t?.fromUndo)return Yi({},o.prototype.toJSON.call(this,t));var i=Yi(Yi({},this.attributes),e),r=this.dataResolverWatchers.getProps(i);return r},n}(ye.Kx),EO=Bk,Uk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uo=function(){return uo=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},uo.apply(this,arguments)},Qf=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(o);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(o,e[i])&&(t[e[i]]=o[e[i]]);return t},T1=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},Nc=function(o,n){if(n===void 0&&(n=[]),!o)return[];var t=(0,et.isArray)(o)||(0,et.isFunction)(o.map)?o:[o];return t.map(function(e){n.push(e.getId()),Nc(e.components().models,n)}),n},kO=function(o,n,t){n===void 0&&(n={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var e=t.visitedCmps,i=t.updateOptions||{},r=(0,et.isArray)(o)?o:[o];return r.map(function(a){var s=a.attributes,l=s===void 0?{}:s,c=a.components,u=a.tagName,p=a.style,g=l.id,h=l.draggable,y=Qf(l,["id","draggable"]),_=a;if(g){if(e[g])e[g].push(_),g=li.getNewId(n),_.attributes.id=g;else if(e[g]=[],n[g]){_=n[g];var O=i.onAttributes,M=i.onStyle,w=_;u&&w.set({tagName:u},uo(uo({},t),{silent:!0})),O?O({item:a,component:w,attributes:y,options:t}):(0,et.keys)(y).length&&w.addAttributes(y,uo({},t)),M?M({item:a,component:w,style:p,options:t}):(0,et.keys)(p).length&&w.addStyle(p,t)}}var T=(0,et.isFunction)(_.components)?_:null;if(c){var b=kO(c,n,t);T?T.components().reset(b,t):_.components=b}else T&&T.components().reset([],t);return _})},Gk=function(o){Uk(n,o);function n(t,e){var i=o.call(this,t,e)||this;i.opt=e,i.listenTo(i,"add",i.onAdd),i.listenTo(i,"remove",i.removeChildren),i.listenTo(i,"reset",i.resetChildren);var r=e.em,a=e.config;return i.config=a,i.em=r,i.domc=e.domc||r?.Components,i}return Object.defineProperty(n.prototype,"events",{get:function(){var t;return(t=this.domc)===null||t===void 0?void 0:t.events},enumerable:!1,configurable:!0}),n.prototype.resetChildren=function(t,e){var i=this;e===void 0&&(e={});var r=this,a=e.previousModels||[],s=a.filter(function(u){return!t.get(u.cid)}),l=Nc(t),c=Nc(a).filter(function(u){return l.indexOf(u)>=0});e.keepIds=(e.keepIds||[]).concat(c),s.forEach(function(u){return i.removeChildren(u,r,e)}),t.each(function(u){return i.onAdd(u)})},n.prototype.resetFromString=function(t,e){var i,r;t===void 0&&(t=""),e===void 0&&(e={}),e.keepIds=Nc(this);var a=this,s=a.domc,l=a.em,c=a.parent,u=l?.Css,p=s?.allById()||{},g=this.parseString(t,e),h=kO(g,p,e),y=e.visitedCmps,_=y===void 0?{}:y;Object.keys(_).forEach(function(O){var M=_[O];if(M.length){var w=u?.getRules("#".concat(O))||[];w.length&&M.forEach(function(T){w.forEach(function(b){var k=b.clone();k.set("selectors",["#".concat(T.attributes.id)]),u.getAll().add(k)})})}}),this.reset(h,e),l?.trigger("component:content",c,e,t),(r=(i=c).__checkInnerChilds)===null||r===void 0||r.call(i)},n.prototype.removeChildren=function(t,e,i){var r=this;if(i===void 0&&(i={}),!!t){var a=this,s=a.domc,l=a.em,c=i.temporary||i.fromUndo;if(t.prevColl=this,!c){var u=t.getId(),p=l.Selectors.getAll(),g=l.Css.getAll(),h=(i.keepIds||[]).indexOf(u)<0,y=s?s.allById():{};delete y[u];var _=h?g.remove(g.filter(function(T){return T.getSelectors().getFullString()==="#".concat(u)}),i):[];p.remove(_.map(function(T){return T.getSelectors().at(0)})),t.opt.temporary||(l.Commands.run("core:component-style-clear",{target:t}),t.views.forEach(function(T){T.scriptContainer&&t.emitWithEditor(kn.I.scriptUnmount,{component:t,view:T,el:T.el})}),t.removed(),t.trigger("removed"),l.trigger(kn.I.remove,t),s&&eg(t)&&Dl(t)&&s.symbols.__trgEvent(s.events.symbolInstanceRemove,{component:t},!0));var O=t.components();O.forEach(function(T){wO(T,T,O,uo(uo({},i),{skipRefsUp:!0})),r.removeChildren(T,e,i)})}var M=t.components();if(l.stopListening(M),l.stopListening(t),l.stopListening(t.get("classes")),t.__postRemove(),!t.opt.temporary){var w=function(T){T.emitWithEditor(kn.I.removed,T,{removeOptions:i}),T.components().forEach(function(b){return w(b)})};w(t)}}},n.prototype.model=function(t,e){var i=e.collection.opt,r=i.em,a,s=r.Components.componentTypes;e.em=r,e.config=i.config,e.componentTypes=s,e.domc=i.domc;for(var l=0;l<s.length;l++){var c=s[l].id;if(c==t.type){a=s[l].model;break}}return a||(a=s[s.length-1].model,r&&t.type&&r.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new a(t,e)},n.prototype.parseString=function(t,e){e===void 0&&(e={});var i=this,r=i.em,a=i.domc,s=i.parent,l=s?.is("wrapper"),c=e.asDocument&&l,u=r.Css,p=r.Parser.parseHtml(t,uo({asDocument:c},e.parserOptions)),g=p.html;if(l&&p.doctype){var h=s,y=p.html||{},_=y.components,O=_===void 0?[]:_,M=Qf(y,["components"]),w=p.head||{},T=w.components,b=Qf(w,["components"]);g=O,h.set(M,e),h.head.set(b,e),h.head.components(T,e),h.docEl.set(p.root,e),h.set({doctype:p.doctype})}if(li.checkId(g,p.css,a.componentsById,e),p.css&&u&&!e.temporary){var k=e.at,E=Qf(e,["at"]);u.addCollection(p.css,uo(uo({},E),{extend:1}))}return g},n.prototype.add=function(t,e){var i=this;if(e===void 0&&(e={}),t!=null){e.keepIds=T1(T1([],e.keepIds||[],!0),Nc(e.previousModels),!0),(0,et.isString)(t)?t=this.parseString(t,e):(0,et.isArray)(t)&&(t=T1([],t,!0),t.forEach(function(a,s){if((0,et.isString)(a)){var l=i.parseString(a,e);t[s]=(0,et.isArray)(l)&&!l.length?null:l}}));var r=((0,et.isArray)(t)?t:[t]).filter(Boolean).map(function(a){return i.processDef(a)});return t=(0,et.isArray)(t)?(0,et.flatten)(r,1):r[0],o.prototype.add.call(this,t,e)}},n.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var e=this,i=e.em,r=e.config,a=r===void 0?{}:r,s=a.processor,l=t;if(s){l=uo({},l);var c=s(l);c&&((0,et.each)(l,function(O,M){return delete l[M]}),(0,et.extend)(l,c))}if(l.$$typeof&&typeof l.props=="object"){l=uo({},l),l.props=uo({},l.props);var u=i.Components,p=i.Parser,g=p.parserHtml;(0,et.each)(l,function(O,M){(0,et.includes)(["props","type"],M)||delete l[M]});var h=l.props,y=h.children;delete h.children,delete l.props;var _=g.splitPropsFromAttr(h);l.attributes=_.attrs,y&&(l.components=y),l.type?u.getType(l.type)||(l.tagName=l.type,delete l.type):l.type="textnode",(0,et.extend)(l,_.props)}return l},n.prototype.onAdd=function(t,e,i){i===void 0&&(i={});var r=this,a=r.domc,s=r.em,l=t.getStyle(),c=s&&s.getConfig().avoidInlineStyle;if(a&&a.Component.ensureInList(t),!(0,et.isEmpty)(l)&&!c&&s&&s.getConfig().forceClass&&!i.temporary){var u=t.cid;s.Css.setClassRule(u,l),t.setStyle({}),t.addClass(u)}if(t.__postAdd({recursive:!0}),s&&!i.temporary){var p=function(g){s.trigger(kn.I.add,g,i),g.components().forEach(function(h){return p(h)})};p(t),a&&eg(t)&&Dl(t)&&a.symbols.__trgEvent(a.events.symbolInstanceAdd,{component:t},!0)}},n}(ye.pM),zu=Gk,Wk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vf=1,E1=2,AO=function(o){Wk(n,o);function n(t,e){e===void 0&&(e={});var i=o.call(this,t,e)||this,r=e.config,a=r===void 0?{}:r,s=i.get("name"),l=i.get("label");s?l||i.set("label",s):i.set("name",l);var c=i.get("name"),u=a.escapeName,p=u?u(c):n.escapeName(c);return i.set("name",p),i.em=e.em,i}return n.prototype.defaults=function(){return{name:"",label:"",type:Vf,active:!0,private:!1,protected:!1,_undo:!0}},n.prototype.isId=function(){return this.get("type")===E1},n.prototype.isClass=function(){return this.get("type")===Vf},n.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.escape,i=this.get("name"),r="";switch(this.get("type")){case Vf:r=".";break;case E1:r="#";break}return r+(e?e(i):i)},n.prototype.toString=function(){return this.getFullName()},n.prototype.getName=function(){return this.get("name")||""},n.prototype.getLabel=function(){return this.get("label")||""},n.prototype.setLabel=function(t){return this.set("label",t)},n.prototype.getActive=function(){return!!this.get("active")},n.prototype.setActive=function(t){return this.set("active",t)},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=this.em,i=ye.Kx.prototype.toJSON.call(this,[t]),r=(0,et.result)(this,"defaults");if(e?.getConfig().avoidDefaults){(0,et.forEach)(r,function(s,l){i[l]===s&&delete i[l]}),i.label===i.name&&delete i.label;var a=(0,et.keys)(i).length;a===1&&i.name&&(i=i.name),a===2&&i.name&&i.type&&(i=this.getFullName())}return i},n.escapeName=function(t){return"".concat(t).trim().replace(/\s+/g,"-")},n.TYPE_CLASS=Vf,n.TYPE_ID=E1,n}(ye.Kx),Cr=AO;AO.prototype.idAttribute="name";var Kk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),IO=function(o,n){return o.reduce(function(t,e,i){return t.concat(IO(o.slice(i+1),"".concat(n).concat(e)))},[n])},DO=function(o){Kk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||Cr.TYPE_CLASS)},n.prototype.getStyleable=function(){return(0,et.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},n.prototype.getValid=function(t){var e=t===void 0?{}:t,i=e.noDisabled;return(0,et.filter)(this.models,function(r){return!r.get("private")}).filter(function(r){return i?r.get("active"):1})},n.prototype.getFullString=function(t,e){e===void 0&&(e={});var i=[],r=t||this;return r.forEach(function(a){return i.push(a.getFullName(e))}),e.sort&&i.sort(),i.join("").trim()},n.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.combination,i=t.array,r=[],a=this.map(function(s){return s.getFullName(t)}).sort();return e?a.forEach(function(s,l){r=r.concat(IO(a.slice(l+1),s))}):r=a,i?r:e?r.join(","):r.join("")},n}(ye.pM),Ls=DO;DO.prototype.model=Cr;var qk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ex=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},$k=function(o){qk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},n.prototype.getId=function(){return this.get("id")},n.prototype.getLabel=function(){return this.get("label")},n}(ye.Kx),Hu=$k;function LO(o){var n=new Set,t=new Map,e={items:[]};o.forEach(function(r){var a=r.category;if(a){n.add(a);var s=t.get(a);s?s.push(r):t.set(a,[r])}else e.items.push(r)});var i=Array.from(n).map(function(r){return{category:r,items:t.get(r)||[]}});return ex(ex([],i,!0),[e],!1)}var Yk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nx="category",NO=function(o){Yk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initCategory=function(t){var e=t.get(nx),i=e instanceof Hu;if(e&&!i){(0,et.isString)(e)?e={id:e,label:e}:(0,oe.isObject)(e)&&!e.id&&(e.id=e.label);var r=this.getCategories().add(e);return t.set(nx,r,{silent:!0}),r}else if(i){var r=e;return this.getCategories().add(r),r}},n}(ye.pM),Xk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),RO=function(o){Xk(n,o);function n(t,e){e===void 0&&(e={});var i=o.call(this,t,e)||this,r=e.events,a=e.em,s=r?.update;return a&&s&&i.on("change",function(l,c){return a.trigger(s,{category:l,changes:l.changedAttributes(),options:c})}),i}return n.prototype.add=function(t,e){var i=(0,et.isArray)(t)?t:[t];return i.forEach(function(r){return r&&(r.id=(0,oe.normalizeKey)("".concat(r.id)))}),o.prototype.add.call(this,t,e)},n.prototype.get=function(t){return o.prototype.get.call(this,(0,et.isString)(t)?(0,oe.normalizeKey)(t):t)},n}(ye.pM),og=RO;RO.prototype.model=Hu;var K0=function(o){return o.select="trait:select",o.value="trait:value",o.categoryUpdate="trait:category:update",o.custom="trait:custom",o.all="trait",o}(K0||{}),h0=K0,Qk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ag=function(){return ag=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},ag.apply(this,arguments)},Jk=function(o){Qk(n,o);function n(t,e){var i=o.call(this,t)||this,r=i.attributes,a=r.target,s=r.name;return!i.get("id")&&i.set("id",s),a&&i.setTarget(a),i.em=e,i}return n.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Hu?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),n.prototype.setTarget=function(t){if(t){var e=this.attributes,i=e.name,r=e.changeProp,a=e.value,s=e.getValue;this.target=t,this.unset("target");var l=r?"change:".concat(i):"change:attributes:".concat(i);this.listenTo(t,l,this.targetUpdated);var c=a||(s?void 0:this.getValue());!(0,et.isUndefined)(c)&&this.set({value:c},{silent:!0})}},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(t){var e;t===void 0&&(t={});var i=t.locale,r=i===void 0?!0:i,a=this.getId(),s=this.get("label")||this.getName();return r&&((e=this.em)===null||e===void 0?void 0:e.t("traitManager.traits.labels.".concat(a)))||s},n.prototype.getValue=function(t){return this.getTargetValue(t)},n.prototype.setValue=function(t,e){var i=this;e===void 0&&(e={});var r=this,a=r.component,s=r.em,l=e.partial,c={},u=this.attributes.setValue;if(u){u({value:t,component:a,editor:s?.getEditor(),trait:this,partial:!!l,options:e,emitUpdate:function(){return i.targetUpdated()}});return}l&&(c.avoidStore=!0),this.setTargetValue(t,c)},n.prototype.getDefault=function(){return this.get("default")},n.prototype.getOptions=function(){return this.get("options")||[]},n.prototype.getOption=function(t){var e=this,i=(0,oe.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(r){return e.getOptionId(r)===i})[0]},n.prototype.getOptionId=function(t){return t.id||t.value},n.prototype.getOptionLabel=function(t,e){var i;e===void 0&&(e={});var r=e.locale,a=r===void 0?!0:r,s=(0,et.isString)(t)?this.getOption(t):t,l=this.getOptionId(s),c=s.label||s.name||l,u=this.getName();return a&&((i=this.em)===null||i===void 0?void 0:i.t("traitManager.traits.options.".concat(u,".").concat(l)))||c},n.prototype.getCategoryLabel=function(t){t===void 0&&(t={});var e=this,i=e.em,r=e.category,a=t.locale,s=a===void 0?!0:a,l=r?.getId(),c=r?.getLabel();return s&&i?.t("traitManager.categories.".concat(l))||c||""},n.prototype.runCommand=function(){var t=this.em,e=this.attributes.command;if(e&&t)return(0,et.isString)(e)?t.Commands.run(e):e(t.Editor,this)},n.prototype.props=function(){return this.attributes},n.prototype.targetUpdated=function(){var t=this,e=t.component,i=t.em,r=this.getTargetValue({useType:!0});this.set({value:r},{fromTarget:1});var a={trait:this,component:e,value:r};e.trigger(h0.value,a),i?.trigger(h0.value,a),i?.trigger("trait:update",a)},n.prototype.getTargetValue=function(t){var e;t===void 0&&(t={});var i=this,r=i.component,a=i.em,s=this.getName(),l=this.get("getValue"),c,u=t.skipResolve;if(l?c=l({editor:a?.getEditor(),trait:this,component:r}):this.changeProp?(c=r.get(s),u&&(c=r.dataResolverWatchers.getValueOrResolver("props",(e={},e[s]=c,e))[s])):c=r.getAttributes({skipResolve:u})[s],t.useType){var p=this.getType();if(p==="checkbox"){var g=this.attributes,h=g.valueTrue,y=g.valueFalse;!(0,et.isUndefined)(h)&&h===c?c=!0:!(0,et.isUndefined)(y)&&y===c&&(c=!1)}}return(0,et.isUndefined)(c)?"":c},n.prototype.setTargetValue=function(t,e){var i;e===void 0&&(e={});var r=this,a=r.component,s=r.attributes,l=this.getName();if(!(0,et.isUndefined)(t)){var c=t;if(t==="false"?c=!1:t==="true"&&(c=!0),this.getType()==="checkbox"){var u=s.valueTrue,p=s.valueFalse;c&&!(0,et.isUndefined)(u)&&(c=u),!c&&!(0,et.isUndefined)(p)&&(c=p)}var g=(i={},i[l]=c,i);g.__p=e.avoidStore?null:void 0,this.changeProp?a.set(g,e):a.addAttributes(g,e)}},n.prototype.setValueFromInput=function(t,e,i){e===void 0&&(e=!0),i===void 0&&(i={});var r={value:t};this.set(r,ag(ag({},i),{avoidStore:1})),e&&(this.set("value","",i),this.set(r,i))},n.prototype.getInitValue=function(){var t=this.component,e=this.getName(),i;if(t){var r=t.get("attributes");i=this.changeProp?t.get(e):r[e]}return i||this.get("value")||this.get("default")},n}(ye.Kx),sg=Jk,Zk=function(){function o(n){n===void 0&&(n={}),this.config=n}return o.prototype.build=function(n,t){return(0,et.isString)(n)?this.buildFromString(n,t):new sg(n,t)},o.prototype.buildFromString=function(n,t){var e={name:n,type:"text"};switch(n){case"target":e.type="select",e.default=!1,e.options=this.config.optionsTarget;break}return new sg(e,t)},o}(),t7=Zk,e7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),n7=function(o){e7(n,o);function n(t,e){var i=o.call(this,t)||this;i.categories=new og;var r=e.em;i.em=r,i.categories=new og([],{em:r,events:{update:h0.categoryUpdate}}),i.on("add",i.handleAdd),i.on("reset",i.handleReset);var a=i.module,s=a?.getConfig();return i.tf=new t7(s),i}return Object.defineProperty(n.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),n.prototype.getCategories=function(){return this.categories},n.prototype.handleReset=function(t,e){var i=e===void 0?{}:e,r=i.previousModels,a=r===void 0?[]:r;a.forEach(function(s){return s.trigger("remove")})},n.prototype.handleAdd=function(t){t.em=this.em;var e=this.target;e&&(t.target=e),this.initCategory(t)},n.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(e){return e.setTarget(t)})},n.prototype.add=function(t,e){if(t!=null){var i=this,r=i.target,a=i.em;if((0,et.isArray)(t)){for(var s=[],l=0,c=t.length;l<c;l++){var u=t[l];s[l]=u instanceof sg?u:this.tf.build(u,a),s[l].setTarget(r)}return o.prototype.add.call(this,s,e)}var p=t instanceof sg?t:this.tf.build(t,a);return p.setTarget(r),o.prototype.add.call(this,p,e)}},n}(NO),lg=n7,i7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gn=function(){return Gn=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Gn.apply(this,arguments)},r7=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(o);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(o,e[i])&&(t[e[i]]=o[e[i]]);return t},qo=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},ix=function(o){return o.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Ol=function(o){return!!o?.getConfig().avoidInlineStyle},q0="component:drag",yr="__symbols",Rr="__symbol",Rc="__symbol_ovrd",Jf=kn.I.update,m0=kn.I.updateInside,o7=function(o){i7(n,o);function n(t,e){t===void 0&&(t={});var i=this,r=e.em;i=o.call(this,t,e)||this,(0,et.bindAll)(i,"__upSymbProps","__upSymbCls","__upSymbComps","syncOnComponentChange");var a=i.parent(),s=a?.attributes,l=i.get("propagate");if(l&&i.set("propagate",(0,et.isArray)(l)?l:[l]),s&&s.propagate&&!l){var c={},u=s.propagate;u.forEach(function(M){return c[M]=a.get(M)}),c.propagate=u,i.set(Gn(Gn({},c),t))}e&&e.config&&e.config.voidElements.indexOf(i.get("tagName"))>=0&&i.set("void",!0),e.em=r,i.opt=e,i.em=r,i.config=e.config||{};var p=Gn(Gn({},(0,et.result)(i,"defaults").attributes||{}),i.get("attributes")||{}),g=i.dataResolverWatchers.getValueOrResolver("attributes",p);if(i.setAttributes(g),i.ccid=n.createId(i,e),i.preInit(),i.initClasses(),i.initComponents(),i.initTraits(),i.initToolbar(),i.initScriptProps(),i.listenTo(i,"change:script",i.scriptUpdated),i.listenTo(i,"change:tagName",i.tagUpdated),i.listenTo(i,"change:attributes",i.attrUpdated),i.listenTo(i,"change:attributes:id",i._idUpdated),i.on("change:toolbar",i.__emitUpdateTlb),i.on("change",i.__onChange),i.on(m0,i.__propToParent),i.set("status",""),i.views=[],["classes","traits","components"].forEach(function(M){var w="add remove reset ".concat(M!=="components"?"change":"");i.listenTo(i.get(M),w.trim(),function(){for(var T=[],b=0;b<arguments.length;b++)T[b]=arguments[b];return i.emitUpdate.apply(i,qo([M],T,!1))})}),!e.temporary){var h=r&&r.Css,y=i.attributes,_=y.styles,O=y.type;_&&h&&h.addCollection(_,{avoidUpdateStyle:!0},{group:"cmp:".concat(O)}),i._moveInlineStyleToRule(),i.__postAdd(),i.init(),pa(i)&&mu(i),r?.trigger(kn.I.create,i,e)}return Ol(r)&&i.dataResolverWatchers.disableStyles(),i}return Object.defineProperty(n.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},t[Rr]=0,t[yr]=0,t[Rc]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){var t;return(t=this.frame)===null||t===void 0?void 0:t.getPage()},enumerable:!1,configurable:!0}),n.prototype.getType=function(){return this.get("type")||"default"},n.prototype.preInit=function(){},n.prototype.init=function(){},n.prototype.updated=function(t,e,i){},n.prototype.removed=function(){},n.prototype.onCollectionsStateMapUpdate=function(t){var e;o.prototype.onCollectionsStateMapUpdate.call(this,t),(e=this._getStyleRule())===null||e===void 0||e.onCollectionsStateMapUpdate(t);var i=this.components();i.forEach(function(r){return r.onCollectionsStateMapUpdate(t)})},n.prototype.syncComponentsCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.listenTo(this.components(),"add remove reset",this.syncOnComponentChange),this.components().forEach(function(t){return t.syncComponentsCollectionState()})},n.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.collectionsStateMap={},this.components().forEach(function(t){return t.stopSyncComponentCollectionState()})},n.prototype.syncOnComponentChange=function(t,e,i){var r=this;if(!(!this.collectionsStateMap||!Object.keys(this.collectionsStateMap).length)){var a=i||e||{};if(i)if(a.add){var l=t;l.syncComponentsCollectionState(),l.onCollectionsStateMapUpdate(this.collectionsStateMap)}else{var c=t;c.stopSyncComponentCollectionState()}else{var s=a.previousModels||[];s.forEach(function(u){return u.stopSyncComponentCollectionState()}),this.components().forEach(function(u){u.syncComponentsCollectionState(),u.onCollectionsStateMapUpdate(r.collectionsStateMap)})}}},n.prototype.__postAdd=function(t){t===void 0&&(t={});var e=this.em,i=e?.UndoManager,r=this.components();i&&!this.__hasUm&&(i.add(r),i.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&r.map(function(a){return a.__postAdd(t)})},n.prototype.__postRemove=function(){var t=this.em,e=t?.UndoManager;e&&(e.remove(this.components()),e.remove(this.getSelectors()),delete this.__hasUm)},n.prototype.__onChange=function(t,e){var i=this,r=this.changedAttributes()||{};(0,et.keys)(r).forEach(function(a){return i.emitUpdate(a)}),["status","open","toolbar","traits"].forEach(function(a){return delete r[a]}),(0,oe.isEmptyObj)(r)||(this.__changesUp(e),this.__propSelfToParent({component:this,changed:r,options:e}))},n.prototype.__onStyleChange=function(t){var e=this,i=this.em;if(i){var r=(0,et.keys)(t),a={style:t};this.emitWithEditor(kn.I.styleUpdate,this,a),r.forEach(function(p){return e.emitWithEditor("".concat(kn.I.styleUpdateProperty).concat(p),e,a)});var s=this.collectionsStateMap,l=Object.keys(s);if(l.length){var c=l.every(function(p){return s[p].currentIndex===s[p].startIndex});if(c){var u=Ra(this);u.forEach(function(p){var g=p.collectionsStateMap,h=Object.keys(g),y=h.every(function(_){return l.includes(_)});y&&p.addStyle(t)})}}}},n.prototype.__changesUp=function(t){var e=this,i=e.em,r=e.frame;[r,i].forEach(function(a){return a&&a.changesUp(t)})},n.prototype.__propSelfToParent=function(t){this.trigger(Jf,t),this.__propToParent(t)},n.prototype.__propToParent=function(t){var e=this.parent();e&&e.trigger(m0,t)},n.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},n.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},n.prototype.__upSymbProps=function(t,e){e===void 0&&(e={}),wk(this,e)},n.prototype.__upSymbCls=function(t,e,i){i===void 0&&(i={}),Ek(this,i)},n.prototype.__upSymbComps=function(t,e,i){wO(this,t,e,i)},n.prototype.__onDestroy=function(){},n.prototype.is=function(t){return this.get("type")==t},n.prototype.props=function(){return this.attributes},n.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},n.prototype.setDragMode=function(t){return this.set("dmode",t)},n.prototype.getDragMode=function(){return this.get("dmode")||""},n.prototype.setSymbolOverride=function(t,e){var i,r;e===void 0&&(e={}),this.set((i={},i[Rc]=(r=(0,et.isString)(t)?[t]:t)!==null&&r!==void 0?r:0,i),e)},n.prototype.getSymbolOverride=function(){return this.get(Rc)},n.prototype.find=function(t){var e,i=[],r=(e=this.view)===null||e===void 0?void 0:e.$el.find(t);return r?.each(function(a){var s=r.eq(a),l=s.data("model");l&&i.push(l)}),i},n.prototype.findType=function(t){var e=[],i=function(r){return r.forEach(function(a){a.is(t)&&e.push(a),i(a.components())})};return i(this.components()),e},n.prototype.findFirstType=function(t){return this.findType(t).at(0)},n.prototype.closest=function(t){var e,i=(e=this.view)===null||e===void 0?void 0:e.$el.closest(t);return i?.length?i.data("model"):void 0},n.prototype.closestType=function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},n.prototype.contains=function(t){var e=!1;if(!t)return e;var i=function(r){!e&&r.forEach(function(a){a===t&&(e=!0),!e&&i(a.components())})};return i(this.components()),e},n.prototype.tagUpdated=function(){this.trigger("rerender")},n.prototype.replaceWith=function(t,e){e===void 0&&(e={});var i=this.collection,r=i.indexOf(this);i.remove(this);var a=i.add(t,Gn(Gn({},e),{at:r}));return(0,et.isArray)(a)?a:[a]},n.prototype.attrUpdated=function(t,e,i){var r=this;i===void 0&&(i={});var a=this.get("attributes"),s=a.class;s&&this.setClass(s),delete a.class;var l=a.style;l&&this.setStyle(l,i),delete a.style;var c=Gn({},this.previous("attributes")),u=(0,oe.shallowDiff)(c,this.get("attributes"));(0,et.keys)(u).forEach(function(p){var g,h="attributes:".concat(p);r.trigger("change:".concat(h),r,u[p],i),(g=r.em)===null||g===void 0||g.trigger("".concat(Jf,":").concat(h),r,u[p],i)})},n.prototype.setAttributes=function(t,e){return e===void 0&&(e={skipWatcherUpdates:!1,fromDataSource:!1}),this.set("attributes",Gn({},t),e),this},n.prototype.addAttributes=function(t,e){e===void 0&&(e={});var i=this.dataResolverWatchers.getValueOrResolver("attributes",this.getAttributes({noClass:!0,noStyle:!0}));return this.setAttributes(Gn(Gn({},i),t),e)},n.prototype.removeAttributes=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var i=Array.isArray(t)?t:[t],r=this.getAttributes();return i.map(function(a){return delete r[a]}),this.setAttributes(r,e)},n.prototype.getStyle=function(t,e){var i=this.em,r=(0,et.isString)(t),a=r?t:"",s=r?e:t,l=!!s?.skipResolve;if(Ol(i)&&!s?.inline){var c=i.get("state"),u=i.Css,p=u.getIdRule(this.getId(),Gn({state:c},s));return this.rule=p,p?p.getStyle(a,{skipResolve:l}):{}}return o.prototype.getStyle.call(this,a,{skipResolve:l})},n.prototype.setStyle=function(t,e){var i=this;t===void 0&&(t={}),e===void 0&&(e={});var r=this,a=r.opt,s=r.em;if(Ol(s)&&!a.temporary&&!e.inline){var l=this.get("style")||{};t=(0,et.isString)(t)?this.parseStyle(t):t,t=Gn(Gn({},l),t);var c=s.get("state"),u=s.Css,p=this.getStyle(Gn(Gn({},e),{skipResolve:!0}));this.rule=u.setIdRule(this.getId(),t,Gn({state:c},e));var g=(0,oe.shallowDiff)(p,t);this.set("style","",{silent:!0}),(0,et.keys)(g).forEach(function(h){return i.trigger("change:style:".concat(h))})}else t=o.prototype.setStyle.apply(this,arguments);return a.temporary||this.__onStyleChange(e.addStyle||t),t},n.prototype.getAttributes=function(t){t===void 0&&(t={});var e=this.em,i=[],r=Gn({},this.get("attributes")),a=t?.skipResolve?this.dataResolverWatchers.getValueOrResolver("attributes",r):r,s=e?.Selectors,l=this.getId();if(t.noClass?delete a.class:(this.classes.forEach(function(p){return i.push((0,et.isString)(p)?p:p.getName())}),i.length&&(a.class=i.join(" "))),!t.noStyle){var c=this.getStyle({inline:!0});(0,oe.isObject)(c)&&!(0,oe.isEmptyObj)(c)&&(a.style=this.styleToString({inline:!0}))}if(!(0,et.has)(a,"id")){var u=!1;(Ol(e)||!(0,et.isEmpty)(this.getStyle()))&&(u=!!s?.get(l,s.Selector.TYPE_ID)),(pa(this)||this.get("script-export")||this.get("script"))&&(u=!0),u&&(a.id=l)}return a},n.prototype.addClass=function(t){var e=this.em.Selectors.addClass(t);return this.classes.add(e)},n.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},n.prototype.removeClass=function(t){var e=[];t=(0,et.isArray)(t)?t:[t];var i=this.classes,r=Cr.TYPE_CLASS;return t.forEach(function(a){var s=a.split(" ");s.forEach(function(l){var c=i.where({name:l,type:r})[0];c&&e.push(i.remove(c))})}),e},n.prototype.getClasses=function(){var t=this.getAttributes(),e=t.class;return e?e.split(" "):[]},n.prototype.initClasses=function(t,e,i){i===void 0&&(i={});var r="change:classes",a=this.get("attributes")||{},s=a.class,l=r7(a,["class"]),c=[this,r,this.initClasses],u=this.get("classes")||s||[],p=(0,et.isString)(u)?u.split(" "):u;this.stopListening.apply(this,c);var g=this.normalizeClasses(p),h=new Ls([]);return this.set("classes",h,i),h.add(g),h.on("add remove reset",this.__upSymbCls),s&&g.length&&this.set("attributes",l),this.listenTo.apply(this,c),this},n.prototype.initComponents=function(){var t="change:components",e=[this,t,this.initComponents];this.stopListening.apply(this,e);var i=new zu([],this.opt);i.parent=this;var r=this.get("components"),a=!this.opt.avoidChildren;return this.set("components",i),a&&r&&i.add((0,et.isFunction)(r)?r(this):r,this.opt),i.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this},n.prototype.initTraits=function(t){var e=this,i=this.em,r="change:traits";this.off(r,this.initTraits),this.__loadTraits();var a=Gn({},this.get("attributes")),s=this.traits;s.each(function(c){var u=c.getName(),p=c.getInitValue();c.changeProp?(0,et.isUndefined)(e.get(u))&&e.set(u,p):u&&p&&(a[u]=p)});var l=this.dataResolverWatchers.getValueOrResolver("attributes",a);return s.length&&this.setAttributes(l),this.on(r,this.initTraits),t&&i&&i.trigger("component:toggled"),this},n.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var i=this.previous(t)||[],r=this.get(t)||[],a=i.map(function(l){return"change:".concat(l)}).join(" "),s=r.map(function(l){return"change:".concat(l)}).join(" ");a&&this.off(a,this.__scriptPropsChange),s&&this.on(s,this.__scriptPropsChange),this.on.apply(this,e)}},n.prototype.__scriptPropsChange=function(t,e,i){i===void 0&&(i={}),!i.avoidStore&&this.trigger("rerender")},n.prototype.append=function(t,e){e===void 0&&(e={});var i=(0,et.isArray)(t)?qo([],t,!0):[t],r=i.map(function(s){return(0,et.isString)(s)||s.collection&&s.collection.remove(s,{temporary:!0}),s}),a=this.components().add(r,Gn({action:kn.t.add},e));return a},n.prototype.components=function(t,e){e===void 0&&(e={});var i=this.get("components");return(0,et.isUndefined)(t)?i:(i.reset(void 0,e),t?this.append(t,e):[])},n.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},n.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},n.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},n.prototype.parent=function(t){t===void 0&&(t={});var e=this.collection||t.prev&&this.prevColl;return e?e.parent:void 0},n.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},n.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},n.prototype.initToolbar=function(){var t=this.em,e=this,i=t&&t.getConfig().stylePrefix||"";if(!e.get("toolbar")&&t){var r=[];e.collection&&r.push({label:t.getIcon("arrowUp"),command:function(a){return a.runCommand("core:component-exit",{force:1})}}),e.get("draggable")&&r.push({attributes:{class:"".concat(i,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),e.get("copyable")&&r.push({label:t.getIcon("copy"),command:"tlb-clone"}),e.get("removable")&&r.push({label:t.getIcon("delete"),command:"tlb-delete"}),e.set("toolbar",r)}},n.prototype.__loadTraits=function(t,e){e===void 0&&(e={});var i=t||this.traits;if(!(i instanceof lg)){i=(0,et.isFunction)(i)?i(this):i;var r=new lg([],this.opt);r.setTarget(this),i.length&&r.add(i),this.set({traits:r},e)}return this},n.prototype.getTraits=function(){return this.__loadTraits(),qo([],this.traits.models,!0)},n.prototype.setTraits=function(t){var e=(0,et.isArray)(t)?t:[t];return this.set({traits:e}),this.getTraits()},n.prototype.getTrait=function(t){return this.getTraits().filter(function(e){return e.get("id")===t||e.get("name")===t})[0]||null},n.prototype.updateTrait=function(t,e){var i,r=this.getTrait(t);return r&&r.set(e),(i=this.em)===null||i===void 0||i.trigger("component:toggled"),this},n.prototype.getTraitIndex=function(t){var e=this.getTrait(t);return e?this.traits.indexOf(e):-1},n.prototype.removeTrait=function(t){var e=this,i,r=(0,et.isArray)(t)?t:[t],a=r.map(function(c){return e.getTrait(c)}),s=this.traits,l=a.length?s.remove(a):[];return(i=this.em)===null||i===void 0||i.trigger("component:toggled"),(0,et.isArray)(l)?l:[l]},n.prototype.addTrait=function(t,e){var i;e===void 0&&(e={}),this.__loadTraits();var r=this.traits.add(t,e);return(i=this.em)===null||i===void 0||i.trigger("component:toggled"),(0,et.isArray)(r)?r:[r]},n.prototype.normalizeClasses=function(t){var e=[],i=this.em,r=i?.Selectors;return r?t.models?qo([],t.models,!0):(t.forEach(function(a){return e.push(r.add(a))}),e):[]},n.prototype.clone=function(t){var e;t===void 0&&(t={});var i=this.em,r=this.dataResolverWatchers.getProps(this.attributes),a=Gn({},this.opt),s=this.getId(),l=i?.Css;r.components=[],r.classes=[],r.traits=[],Dl(this)&&(t.symbol=!0),this.get("components").each(function(O,M){r.components[M]=O.clone(Gn(Gn({},t),{_inner:1}))}),this.get("traits").each(function(O,M){r.traits[M]=O.clone()}),this.get("classes").each(function(O,M){r.classes[M]=O.get("name")}),r.status="",a.collection=null,a.forCloning=!0;var c=new this.constructor(r,a),u="#".concat(c.getId()),p=l?l.getRules("#".concat(s)):[];p.forEach(function(O){var M=O.clone();M.set("selectors",[u]),l.getAll().add(M)}),c.set(yr,0);var g=ko(this),h=jr(this);if(!t.symbol&&(g||h))c.set(Rr,0),c.set(yr,0);else if(g){var y=(e=jr(g))!==null&&e!==void 0?e:[];g.set(yr,qo(qo([],y,!0),[c],!1)),mu(c)}else t.symbol&&(El(this)?(this.set(yr,qo(qo([],h,!0),[c],!1)),c.set(Rr,this),mu(c)):t.symbolInv?(this.set(yr,[c]),c.set(Rr,this),[this,c].map(function(O){return mu(O)})):(c.set(yr,[this]),[this,c].map(function(O){return mu(O)}),this.set(Rr,c)));var _="component:clone";return i&&i.trigger(_,c),this.trigger(_,c),c},n.prototype.getName=function(t){t===void 0&&(t={});var e=this.em,i=this.attributes,r=i.type,a=i.tagName,s=i.name,l=r||a,c=r?"":a,u="domComponents.names.",p=s&&e?.t("".concat(u).concat(s)),g=c&&e?.t("".concat(u).concat(c)),h=e&&(e.t("".concat(u).concat(r))||e.t("".concat(u).concat(a))),y=this.get("custom-name");return(t.noCustom?"":y)||p||s||g||(0,oe.capitalize)(c)||h||(0,oe.capitalize)(l)},n.prototype.setName=function(t,e){e===void 0&&(e={}),this.set("custom-name",t,e)},n.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},n.prototype.toHTML=function(t){t===void 0&&(t={});var e=t.tag,i=e||this.get("tagName");delete t.tag;var r=this.__attrToString(t),a=r?" ".concat(r):"",s=this.getInnerHTML(t),l=!s&&this.get("void"),c="<".concat(i).concat(a).concat(l?"/":"",">").concat(s);return!l&&(c+="</".concat(i,">")),c},n.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},n.prototype.__innerHTML=function(t){t===void 0&&(t={});var e=this.components();return e.length?e.map(function(i){return i.toHTML(t)}).join(""):this.content},n.prototype.__attrToString=function(t){t===void 0&&(t={});var e=[],i=t.attributes,r=this.getAttrToHTML(t);if(i&&((0,et.isFunction)(i)?r=i(this,r)||{}:(0,oe.isObject)(i)&&(r=i)),t.withProps){var a=this.toJSON();(0,et.forEach)(a,function(p,g){var h=["classes","attributes","components"];g[0]!=="_"&&h.indexOf(g)<0&&(r["data-gjs-".concat(g)]=(0,et.isArray)(p)||(0,oe.isObject)(p)?JSON.stringify(p):(0,et.isBoolean)(p)?"".concat(p):p)})}for(var s in r){var l=r[s];if(!(0,et.isUndefined)(l)&&l!==null)if((0,et.isBoolean)(l))l&&e.push(s);else{var c="";if(t.altQuoteAttr&&(0,et.isString)(l)&&l.indexOf('"')>=0)c="'".concat((0,oe.escapeAltQuoteAttrValue)(l),"'");else{var u=(0,et.isString)(l)?(0,oe.escapeAttrValue)(l):l;c='"'.concat(u,'"')}e.push("".concat(s,"=").concat(c))}}return e.join(" ")},n.prototype.getAttrToHTML=function(t){var e=this.getAttributes();return Ol(this.em)&&t?.keepInlineStyle!==!0&&delete e.style,e},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=o.prototype.toJSON.call(this,t,{attributes:this.getAttributes()});if(delete e.dataResolverWatchers,delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,delete e._undoexc,delete e.delegate,this.collectionsStateMap&&Object.getOwnPropertyNames(this.collectionsStateMap).length>0&&(delete e[Rr],delete e[Rc],delete e[yr],delete e.attributes.id),!t.fromUndo){var i=e[Rr],r=e[yr];r&&(0,et.isArray)(r)&&(e[yr]=r.filter(function(a){return a}).map(function(a){return a.getId?a.getId():a})),i&&!(0,et.isString)(i)&&(e[Rr]=i.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(e),e},n.prototype.getChangedProps=function(t){var e=t||j0.Model.prototype.toJSON.apply(this),i=(0,et.result)(this,"defaults");return(0,et.forEach)(i,function(r,a){["type"].indexOf(a)===-1&&e[a]===r&&delete e[a]}),(0,et.isEmpty)(e.type)&&delete e.type,(0,et.forEach)(["attributes","style"],function(r){(0,et.isEmpty)(i[r])&&(0,et.isEmpty)(e[r])&&delete e[r]}),(0,et.forEach)(["classes","components"],function(r){(!e[r]||(0,et.isEmpty)(i[r])&&!e[r].length)&&delete e[r]}),e},n.prototype.getId=function(){var t=this.get("attributes")||{},e=Lk(this),i=e.shouldSync,r=e.itemId;return i&&(t.id=r),t.id||this.ccid||this.cid},n.prototype.setId=function(t,e){return this.addAttributes({id:t},e),this},n.prototype.getEl=function(t){var e=this.getView(t);return e&&e.el},n.prototype.getView=function(t){var e=this,i=e.view,r=e.views,a=e.em,s=t||a?.getCurrentFrameModel();return s&&(i=r.filter(function(l){return l.frameView===s.view})[0]),i},n.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),e=t?.model;return this.getView(e)},n.prototype.__getScriptProps=function(){var t=this.props(),e=this.get("script-props")||[];return e.reduce(function(i,r){return i[r]=t[r],i},{})},n.prototype.getScriptString=function(t){var e=this,i=t||this.get("script")||"";if(!i)return i;if(this.get("script-props"))i=i.toString().trim();else{if((0,et.isFunction)(i)){var r=i.toString().trim();r=r.slice(r.indexOf("{")+1,r.lastIndexOf("}")),i=r.trim()}var a=this.em.getConfig(),s=ix(a.tagVarStart||"{[ "),l=ix(a.tagVarEnd||" ]}"),c=new RegExp("".concat(s,"([\\w\\d-]*)").concat(l),"g");i=i.replace(c,function(u,p){e.scriptUpdated();var g=e.attributes[p]||"";return(0,et.isArray)(g)||typeof g=="object"?JSON.stringify(g):g})}return i},n.prototype.emitUpdate=function(t){for(var e,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var a=this.em,s=Jf+(t?":".concat(t):""),l=t&&this.get(t);t&&this.updated.apply(this,qo([t,l,t&&this.previous(t)],i,!1)),this.trigger.apply(this,qo([s],i,!1)),a&&a.trigger.apply(a,qo([s,this],i,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(e={},e[t]=l,e),options:i[2]||i[1]||{}})},n.prototype.emitWithEditor=function(t,e,i){[this.em,this].forEach(function(r){return r?.trigger(t,e,i)})},n.prototype.onAll=function(t){return(0,et.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},n.prototype.forEachChild=function(t){(0,et.isFunction)(t)&&this.components().forEach(function(e){t(e),e.forEachChild(t)})},n.prototype.remove=function(t){var e=this;t===void 0&&(t={});var i=this.em,r=this.collection,a=function(){r&&r.remove(e,Gn({action:kn.t.remove},t)),r||(e.components("",t),e.components().removeChildren(e,void 0,t))},s=Gn({},t);return[this,i].map(function(l){return l.trigger(kn.I.removeBefore,e,a,s)}),!s.abort&&a(),this},n.prototype.destroy=function(t){return this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.dataResolverWatchers.destroy(),this.__onDestroy(),o.prototype.destroy.call(this,t)},n.prototype.move=function(t,e){if(e===void 0&&(e={}),t){var i=e.at,r=this.index(),a=t===this.parent(),s=r===i||r===i-1;if(!a||!s){a&&i&&i>r&&(e.at=i-1);var l=kn.t.move;this.remove({action:l,temporary:1}),t.append(this,Gn({action:l},e)),this.emitUpdate()}}return this},n.prototype.isInstanceOf=function(t){var e,i,r=(i=(e=this.em)===null||e===void 0?void 0:e.Components.getType(t))===null||i===void 0?void 0:i.model;if(!r)return!1;var a=this.constructor.typeExtends;return this instanceof r||a.has(t)},n.prototype.isChildOf=function(t){for(var e=(0,et.isString)(t),i=this.parent();i;){if(e){if(i.isInstanceOf(t))return!0}else if(i===t)return!0;i=i.parent()}return!1},n.prototype.resetId=function(t){t===void 0&&(t={});var e=this.em,i=this.getId();if(!i)return this;var r=n.createId(this);this.setId(r);var a=e?.Css.getIdRule(i),s=a?.get("selectors").at(0);return s?.set("name",r),this},n.prototype._getStyleRule=function(t){var e=t===void 0?{}:t,i=e.id,r=this.em,a=i||this.getId();return r?.Css.getIdRule(a)},n.prototype._getStyleSelector=function(t){var e=this._getStyleRule(t);return e?.get("selectors").at(0)},n.prototype._moveInlineStyleToRule=function(){var t=this.get("style"),e=(0,et.isString)(t)&&t.length>0||(0,oe.isObject)(t)&&Object.keys(t).length>0;Ol(this.em)&&e&&this.addStyle((0,oe.isObject)(t)?this.dataResolverWatchers.getValueOrResolver("styles",t):t,{avoidStore:!0,noUndo:!0})},n.prototype._idUpdated=function(t,e,i){if(i===void 0&&(i={}),!i.idUpdate){var r=this.ccid,a=(this.get("attributes")||{}).id,s=(this.previous("attributes")||{}).id||r,l=n.getList(this);if(l[a]||!a&&s)return this.setId(s,{idUpdate:!0});delete l[s],l[a]=this,this.ccid=a;var c=this._getStyleSelector({id:s});c&&c.set({name:a,label:a})}},n.getDefaults=function(){return(0,et.result)(this.prototype,"defaults")},n.isComponent=function(t,e){return{tagName:(0,oe.toLowerCase)(t.tagName)}},n.ensureInList=function(t){var e=n.getList(t),i=t.getId(),r=e[i];if(!r)e[i]=t;else if(r!==t){var a=n.getIncrementId(i,e);t.setId(a),e[a]=t}t.components().forEach(function(s){return n.ensureInList(s)})},n.createId=function(t,e){e===void 0&&(e={});var i=n.getList(t),r=e.idMap,a=r===void 0?{}:r,s=t.get("attributes").id,l;return s?(l=n.getIncrementId(s,i,e),t.setId(l),s!==l&&(a[s]=l)):l=n.getNewId(i),i[l]=t,l},n.getNewId=function(t){for(var e=Object.keys(t).length,i=e.toString().length+2,r=(Math.random()+1.1).toString(36).slice(-i),a="i".concat(r);t[a];)a=n.getNewId(t);return a},n.getIncrementId=function(t,e,i){i===void 0&&(i={});var r=i.keepIds,a=r===void 0?[]:r,s=1,l=t;if(a.indexOf(t)<0)for(;e[l];)s++,l="".concat(t,"-").concat(s);return l},n.getList=function(t){var e,i=t.em,r=i?.Components;return(e=r?.componentsById)!==null&&e!==void 0?e:{}},n.checkId=function(t,e,i,r){e===void 0&&(e=[]),i===void 0&&(i={}),r===void 0&&(r={});var a=(0,et.isArray)(t)?t:[t],s=r.keepIds,l=s===void 0?[]:s,c=r.idMap,u=c===void 0?{}:c;a.forEach(function(p){p.attributes;var g=p.attributes,h=g===void 0?{}:g,y=p.components,_=h.id;if(_&&i[_]&&l.indexOf(_)<0){var O=n.getIncrementId(_,i);u[_]=O,h.id=O,(0,et.isArray)(e)&&e.forEach(function(M){var w=M.selectors;w.forEach(function(T,b){T==="#".concat(_)&&(w[b]="#".concat(O))})})}y&&n.checkId(y,e,i,r)})},n.typeExtends=new Set,n}(EO),li=o7,a7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cg=function(){return cg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},cg.apply(this,arguments)},Xc="head",s7=["title","style","base","link","meta","script","noscript"],l7=function(o){a7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return cg(cg({},o.prototype.defaults),{type:Xc,tagName:Xc,draggable:!1,highlightable:!1,droppable:function(t){var e=t.tagName;return!e||s7.includes((0,oe.toLowerCase)(e))}})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===Xc},n}(li),c7=l7,d7=function(){function o(n,t){n===void 0&&(n=50);var e;this.dragging=!1,this.lastMaxHeight=0,this.zoom=1,this.rectIsInScrollIframe=!1,this.autoscrollLimit=n,this.lastMaxHeight=(e=t?.lastMaxHeight)!==null&&e!==void 0?e:0,this.onScroll=t?.onScroll,this.rectIsInScrollIframe=!!t?.rectIsInScrollIframe,(0,et.bindAll)(this,"start","autoscroll","updateClientY","stop")}return o.prototype.start=function(n,t,e){var i=this;this.eventEl=n,this.scrollEl=t,this.lastMaxHeight=e?.lastMaxHeight||Number.POSITIVE_INFINITY,this.zoom=e?.zoom||1,this.ignoredElement=e?.ignoredElement,setTimeout(function(){i.toggleAutoscrollFx(!0),requestAnimationFrame(i.autoscroll)},0)},o.prototype.autoscroll=function(){var n=this,t,e,i=this.scrollEl;if(!(!this.dragging||!i)){if(this.lastClientY===void 0){setTimeout(function(){requestAnimationFrame(n.autoscroll)},50);return}var r=(t=this.lastClientY)!==null&&t!==void 0?t:0,a=this.autoscrollLimit,s=this.getEventElHeight(),l=s-a,c=0;r<a&&(c+=r-a),r>l&&(c+=r-l);var u=this.getElScrollTop(i);c=Math.min(c,this.lastMaxHeight-u),c=Math.max(c,-u),c!==0&&(i.scrollBy({top:c,behavior:"auto"}),(e=this.onScroll)===null||e===void 0||e.call(this)),requestAnimationFrame(this.autoscroll)}},o.prototype.getEventElHeight=function(){var n=this.eventEl;if(!n)return 0;var t=n.getBoundingClientRect();return t.height},o.prototype.updateClientY=function(n){var t=n.target;if(!(this.ignoredElement&&this.ignoredElement.contains(t))){var e=this.scrollEl;n.preventDefault();var i=this.rectIsInScrollIframe?0:this.getElScrollTop(e);this.lastClientY=(0,Me.G2)(n).clientY*this.zoom-i}},o.prototype.getElScrollTop=function(n){return(n instanceof HTMLElement?n.scrollTop:n?.scrollY)||0},o.prototype.toggleAutoscrollFx=function(n){this.dragging=n;var t=this.eventEl;if(t){var e=n?"on":"off",i={on:Me.on,off:Me.AU};i[e](t,"mousemove dragover",this.updateClientY),i[e](t,"mouseup",this.stop)}},o.prototype.stop=function(){this.toggleAutoscrollFx(!1),this.lastClientY=void 0,this.ignoredElement=void 0},o}(),FO=d7,u7=Cn(1447),p7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),f7=function(o){p7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.canMove=function(t,e){var i=this,r=this.getRealIndex(e),a=t._dragSource,s=a.model,l=a.content,c=a.dragDef,u=!s||!this.isSourceSameSymbol(s),p=((0,et.isFunction)(l)?c:l)||t.model;return Array.isArray(p)?u&&p.every(function(g,h){return i.canMoveSingleContent(g,r+h)}):u&&this.canMoveSingleContent(p,r)},n.prototype.canMoveSingleContent=function(t,e){return this.model.em.Components.canMove(this.model,t,e).result},n.prototype.addChildAt=function(t,e){var i=t._dragSource,r=i.content,a=this.isTextNode()&&t.isTextable(),s=(0,et.isFunction)(r)?r():r;return Array.isArray(s)?this.addMultipleChildren(s,e,a):this.addSingleChild(s,e,a)},n.prototype.addSingleChild=function(t,e,i){var r,a,s,l,c;return i?c=(l=(s=(a=(r=this.model)===null||r===void 0?void 0:r.getView)===null||a===void 0?void 0:a.call(r))===null||s===void 0?void 0:s.insertComponent)===null||l===void 0?void 0:l.call(s,t,{action:"add-component"}):c=this.model.components().add(t,{at:this.getRealIndex(e),action:"add-component"}),new this.constructor(c)},n.prototype.addMultipleChildren=function(t,e,i){var r=this,a;return t.forEach(function(s,l){a=r.addSingleChild(s,e+l,i)}),a},n.prototype.isSourceSameSymbol=function(t){if(pa(this.model)){var e=Fu(this.model),i=El(e)?e:ko(e);if(i===t)return!0}return!1},Object.defineProperty(n.prototype,"content",{set:function(t){this._dragSource.content=t},enumerable:!1,configurable:!0}),n}(u7.A),zO=f7,Nl=Cn(8433),v0=function(){return v0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},v0.apply(this,arguments)},g7=function(){function o(n,t){var e=this;this.em=n,this.canvas=n.Canvas;var i=t||this.canvas.getFrames().map(function(a){return a.getComponent().getEl()}),r=Array.isArray(i)?i:[i];this.el=r[0],this.counter=0,(0,et.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),r.forEach(function(a){return e.toggleEffects(a,!0)})}return o.prototype.toggleEffects=function(n,t){var e={on:Me.on,off:Me.AU},i=t?"on":"off";e[i](n,"dragenter",this.handleDragEnter),e[i](n,"dragover",this.handleDragOver),e[i](n,"drop",this.handleDrop),e[i](n,"dragleave",this.handleDragLeave)},o.prototype.__customTglEff=function(n){var t,e=n?Me.on:Me.AU,i=this.el.ownerDocument,r=(t=i.defaultView)===null||t===void 0?void 0:t.frameElement,a=function(s){return{legacyOnStartSort:function(){(0,Me.on)(r,"pointermove",s.onMove)},legacyOnEnd:function(){(0,Me.AU)(r,"pointermove",s.onMove)},customTarget:function(l){var c=l.event;return i.elementFromPoint(c.clientX,c.clientY)}}};this.getSorterOptions=n?a:void 0,e(r,"pointerenter",this.handleDragEnter),e(r,"pointermove",this.handleDragOver),e(document,"pointerup",this.handleDrop),e(r,"pointerout",this.handleDragLeave)},o.prototype.startCustom=function(){this.__customTglEff(!0)},o.prototype.endCustom=function(n){this.over?this.endDrop(n):this.__customTglEff(!1)},o.prototype.endDrop=function(n,t){var e=this,i=e.em,r=e.dragStop;this.counter=0,r&&r(n||!this.over),this.__customTglEff(!1),i.trigger("canvas:dragend",t)},o.prototype.handleDragLeave=function(n){this.updateCounter(-1,n)},o.prototype.updateCounter=function(n,t){this.counter+=n,this.counter===0&&this.endDrop(!0,t)},o.prototype.handleDragEnter=function(n){var t=this,e,i,r=this,a=r.em,s=r.canvas,l=n.dataTransfer,c=a.get("dragSource");if(!(!c?.content&&!s.getConfig().allowExternalDrop)&&(this.updateCounter(1,n),!this.over)){this.over=!0;var u=a.Utils,p=c?.content||"<br>",g;if(a.stopDefault(),a.inAbsoluteMode()){var h=a.Components.getWrapper(),y=h.append({})[0],_=a.Commands.run("core:component-drag",{event:n,guidesInfo:1,center:1,target:y,onEnd:function(E,N,F){var V=F.cancelled,R;if(!V&&p){R=h.append(p)[0];var H=s.getOffset(),L=y.getStyle(),W=L.top,q=L.left,J=L.position,D=(0,Me.Xy)(E.target),Z=parseInt("".concat(parseFloat(q)+D.x-H.left),10),nt=parseInt("".concat(parseFloat(W)+D.y-H.top),10);R.addStyle({left:Z+"px",top:nt+"px",position:J})}t.handleDragEnd(R,l),y.remove()}});g=function(E){return _.stop(n,{cancel:E})},this.setAbsoluteDragContent=function(E){return p=E}}else{var O=new u.ComponentSorter({em:a,treeClass:zO,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:s.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:Nl.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),M=(e=this.getSorterOptions)===null||e===void 0?void 0:e.call(this,O);M&&(O.eventHandlers.legacyOnStartSort=M.legacyOnStart,O.eventHandlers.legacyOnEnd=M.legacyOnEnd,O.containerContext.customTarget=M.customTarget);var w=a.Components.getShallowWrapper(),T=w?.append(p,{temporary:!0})[0],b=T?.getEl(),k=[{element:b,dragSource:v0({model:T},c)}];O.startSort(k),this.sorter=O,this.draggedNode=(i=O.sourceNodes)===null||i===void 0?void 0:i[0],g=function(E){E?O.cancelDrag():O.endDrag()}}this.dragStop=g,a.trigger("canvas:dragenter",l,p)}},o.prototype.handleDragEnd=function(n,t){var e=this.em;this.over=!1,n&&(e.set("dragResult",n),e.trigger("canvas:drop",t,n)),e.runDefault({preserveSelected:1})},o.prototype.handleDragOver=function(n){n.preventDefault(),this.em.trigger("canvas:dragover",n)},o.prototype.handleDrop=function(n){var t;n.preventDefault();var e=n.dataTransfer,i=this.getContentByData(e).content||"";this.draggedNode&&(this.draggedNode.content=i),(t=this.setAbsoluteDragContent)===null||t===void 0||t.call(this,i),this.endDrop(!i,n)},o.prototype.getContentByData=function(n){var t=this.em,e=n?.types||[],i=n?.files||[],r=t.get("dragSource"),a=n?.getData("text")||"";if(i.length){a=[];for(var s=0;s<i.length;s++){var l=i[s],c=l.type.split("/")[0];c=="image"&&a.push({type:c,file:l,attributes:{alt:l.name}})}}else if(r?.content)a=r.content;else if((0,et.indexOf)(e,"text/html")>=0)a=n&&n.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,et.indexOf)(e,"text/uri-list")>=0)a={type:"link",attributes:{href:a},content:a};else if((0,et.indexOf)(e,"text/json")>=0){var u=n&&n.getData("text/json");u&&(a=JSON.parse(u))}else e.length===1&&e[0]==="text/plain"&&(a="<div>".concat(a,"</div>"));var p={content:a,setContent:function(g){p.content=g}};return t.trigger("canvas:dragdata",n,p),p},o}(),h7=g7,m7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),To=function(){return To=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},To.apply(this,arguments)},v7=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},_7=function(o){m7(n,o);function n(t,e){var i=o.call(this,{model:t})||this;i.dragging=!1,i.loaded=!1,i.lastMaxHeight=0,i.tools={},(0,et.bindAll)(i,"startAutoscroll","stopAutoscroll","_emitUpdate");var r=i.el;i.module._config=To(To({},i.config||{}),{frameView:i}),i.frameWrapView=e,i.showGlobalTools=(0,et.debounce)(i.showGlobalTools.bind(i),50);var a=i.getCanvasModel();return i.listenTo(t,"change:head",i.updateHead),i.listenTo(a,"change:styles",i.renderStyles),t.view=i,(0,oe.setViewEl)(r,i),i.autoScroller=new FO(i.config.autoscrollLimit,{rectIsInScrollIframe:!0,onScroll:function(){var s=i.getGlobalToolsEl();s.style.opacity="0",i.showGlobalTools(),i.em.Canvas.spots.refreshDbn()}}),i}return Object.defineProperty(n.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),n.prototype.getBoxRect=function(){var t=this,e=t.el,i=t.module,r=i.getCanvasView(),a=i.getCoords(),s=e.getBoundingClientRect(),l=r.getCanvasOffset(),c=r.getViewportDelta(),u=i.getZoomMultiplier(),p=(s.x-l.left-c.x-a.x)*u,g=(s.y-l.top-c.y-a.y)*u,h=s.width*u,y=s.height*u;return{x:p,y:g,width:h,height:y}},n.prototype.updateHead=function(){var t=this.model,e=this.getHead(),i=[],r=[],a=t.head,s=t.previous("head"),l=function(u){return u===void 0&&(u={}),Object.keys(u).sort().map(function(p){return"[".concat(p,'="').concat(u[p],'"]')}).join("")},c=function(u,p,g){u.forEach(function(h){var y=h.tag,_=h.attributes,O=p.some(function(M){return M.tag===y&&l(M.attributes)===l(_)});!O&&g.push(h)})};c(a,s,r),c(s,a,i),i.forEach(function(u){var p,g=e.querySelector("".concat(u.tag).concat(l(u.attributes)));(p=g?.parentNode)===null||p===void 0||p.removeChild(g)}),(0,Me.af)(e,r)},n.prototype.getEl=function(){return this.el},n.prototype.getCanvasModel=function(){var t;return(t=this===null||this===void 0?void 0:this.em.Canvas)===null||t===void 0?void 0:t.getModel()},n.prototype.getWindow=function(){return this.getEl().contentWindow},n.prototype.getDoc=function(){return this.getEl().contentDocument},n.prototype.getHead=function(){return this.getDoc().querySelector("head")},n.prototype.getBody=function(){return this.getDoc().querySelector("body")},n.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},n.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,Me.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},n.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},n.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},n.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},n.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},n.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},n.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},n.prototype.getOffsetRect=function(){var t=this.el,e=this.getBody(),i=e.scrollTop,r=e.scrollLeft,a=t.offsetHeight,s=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:a,width:s,scrollTop:i,scrollLeft:r,scrollBottom:i+a,scrollRight:r+s}},n.prototype._getTool=function(t){var e=this.tools,i=this.getToolsEl();return e[t]||(e[t]=i.querySelector(t)),e[t]},n.prototype.remove=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),Ao.prototype.remove.apply(this,e),this},n.prototype.startAutoscroll=function(){this.autoScroller.start(this.el,this.getWindow(),{lastMaxHeight:this.getWrapper().offsetHeight-this.el.offsetHeight,zoom:this.em.getZoomDecimal(),ignoredElement:this.em.Canvas.getSpotsEl()})},n.prototype.stopAutoscroll=function(){this.autoScroller.stop()},n.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},n.prototype.render=function(){var t=this,e=t.$el,i=t.ppfx,r=t.em;return e.attr({class:"".concat(i,"frame")}),this.renderScripts(),r.trigger("frame:render",this),this},n.prototype.renderScripts=function(){var t=this,e=this,i=e.el,r=e.model,a=e.em,s="frame:load",l={el:i,model:r,view:this},c=this.getCanvasModel(),u=function(p){var g;if(p.length>0){var h=p.shift(),y=(0,Me.a_)("script",To({type:"text/javascript"},(0,et.isString)(h)?{src:h}:h));(g=i.contentDocument)===null||g===void 0||g.head.appendChild(y),y.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?u(p):y.onerror=y.onload=u.bind(null,p)}else a?.trigger(Mu.frameLoadHead,l),t.renderBody(),a?.trigger(Mu.frameLoadBody,l),a?.trigger(s,l)};i.onload=function(){var p=t.config.frameContent;if(p){var g=t.getDoc();g.open(),g.write(p),g.close()}l.window=t.getWindow(),a?.trigger("".concat(s,":before"),l),a?.trigger(Mu.frameLoad,l),t.renderHead(),u(v7([],c.get("scripts"),!0))}},n.prototype.renderStyles=function(t){t===void 0&&(t={});var e=this.getHead(),i=this.getCanvasModel(),r=function(p){return p===void 0&&(p=[]),p.map(function(g){return{tag:"link",attributes:To({rel:"stylesheet"},(0,et.isString)(g)?{href:g}:g)}})},a=r(t.prev||i.previous("styles")),s=r(i?.get("styles")),l=[],c=[],u=function(p,g,h){p.forEach(function(y){var _=y.attributes.href,O=g.some(function(M){return M.attributes.href===_});!O&&h.push(y)})};u(s,a,c),u(a,s,l),l.forEach(function(p){var g,h=e.querySelector('link[href="'.concat(p.attributes.href,'"]'));(g=h?.parentNode)===null||g===void 0||g.removeChild(h)}),(0,Me.af)(e,c)},n.prototype.renderHead=function(){var t,e=this,i=e.model,r=e.em,a=i.root,s=(t=r?.Components)===null||t===void 0?void 0:t.getType(Xc).view;s&&(this.headView=new s({el:this.getHead(),model:a.head,config:To(To({},a.config),{frameView:this})}).render())},n.prototype.renderBody=function(){var t=this,e,i=this,r=i.config,a=i.em,s=i.model,l=i.ppfx,c=this.getBody(),u=this.getWindow(),p=s.hasAutoHeight(),g=a.config;u._isEditor=!0,this.renderStyles({prev:[]});var h="#ffca6f";(0,Me.BC)(c,`<style>
      `.concat(g.baseCss||r.frameStyle||"",`

      `).concat(p?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(p?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(l,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(l,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(l,`selected-parent {
        outline: 2px solid `).concat(h,` !important
      }

      .`).concat(l,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(l,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(l,`no-pointer {
        pointer-events: none;
      }

      .`).concat(l,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(l,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(l,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(l,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(l,`is__grabbing,
      .`).concat(l,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(g.canvasCss||"",`
      `).concat(g.protectedCss||"",`
    </style>`));var y=s.root,_=(((e=a?.Components)===null||e===void 0?void 0:e.getType("wrapper"))||{}).view;_&&((0,et.isFunction)(r.customRenderer)?r.customRenderer({editor:a.Editor,frame:s,window:u,frameView:this,onMount:function(O){t.wrapper=O,t._onRootMount(O)}}):(this.wrapper=new _({model:y,config:To(To({},y.config),{em:a,frameView:this})}).render(),this._onRootMount(this.wrapper)))},n.prototype._onRootMount=function(t){var e=this,i,r=this,a=r.config,s=r.em,l=r.model,c=this.getDoc(),u=c.body;(0,Me.BC)(u,t.el),(0,Me.BC)(u,new u0({collection:l.getStyles(),config:To(To({},s.Css.getConfig()),{frameView:this})}).render().el),(0,Me.BC)(u,this.getJsContainer()),(0,Me.on)(u,"click",function(p){var g;return p&&((g=p.target)===null||g===void 0?void 0:g.tagName)=="A"&&p.preventDefault()}),(0,Me.on)(u,"submit",function(p){return p&&p.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!a.infiniteCanvas}}].forEach(function(p){return p.event.split(" ").forEach(function(g){c.addEventListener(g,function(h){return e.el.dispatchEvent((0,Me.yL)(h,p.class))},p.opts)})}),this._toggleEffects(!0),(0,oe.hasDnd)(s)&&(this.droppable=new h7(s,(i=this.wrapper)===null||i===void 0?void 0:i.el)),this.loaded=!0,l.trigger("loaded")},n.prototype._toggleEffects=function(t){var e=t?Me.on:Me.AU,i=this.getWindow();i&&e(i,"".concat(Me.D8," resize"),this._emitUpdate)},n.prototype._emitUpdate=function(){this.model._emitUpdated()},n}(Ao),y7=_7,VO=Cn(9966),b7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fc=function(){return Fc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Fc.apply(this,arguments)},C7=function(o){b7(n,o);function n(t,e){var i=o.call(this,{model:t})||this;(0,et.bindAll)(i,"onScroll","frameLoaded","updateOffset","remove","startDrag");var r=Fc(Fc({},t.config),{frameWrapView:i});return i.cv=e,i.frame=new y7(t,i),i.classAnim="".concat(i.ppfx,"frame-wrapper--anim"),i.updateOffset=(0,et.debounce)(i.updateOffset.bind(i),0),i.updateSize=(0,et.debounce)(i.updateSize.bind(i),0),i.listenTo(t,"loaded",i.frameLoaded),i.listenTo(t,"change:x change:y",i.updatePos),i.listenTo(t,"change:width change:height",i.updateSize),i.listenTo(t,"destroy remove",i.remove),i.updatePos(),i.setupDragger(),i}return n.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},n.prototype.setupDragger=function(){var t=this,e=this,i=e.module,r=e.model,a,s,l,c=function(u){i.toggleFramesEvents(u)};this.dragger=new VO.A({onStart:function(){var u=r.attributes,p=u.x,g=u.y;l=t.em.getZoomMultiplier(),a=p,s=g,c(!1)},onEnd:function(){return c(!0)},setPosition:function(u){r.set({x:a+u.x*l,y:s+u.y*l})}})},n.prototype.startDrag=function(t){var e;t&&((e=this.dragger)===null||e===void 0||e.start(t))},n.prototype.__clear=function(t){var e=this.frame;e&&e.remove(t),(0,Me.YZ)(this.elTools)},n.prototype.remove=function(t){var e=this,i;return(i=this.sizeObserver)===null||i===void 0||i.disconnect(),this.__clear(t),Ao.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(r){return e[r]=0}),this},n.prototype.updateOffset=function(){var t,e=this,i=e.em,r=e.$el,a=e.frame;!i||i.destroyed||(i.runDefault({preserveSelected:1}),r.removeClass(this.classAnim),(t=a?.model)===null||t===void 0||t._emitUpdated())},n.prototype.updatePos=function(t){var e=this,i=e.model,r=e.el,a=i.attributes,s=a.x,l=a.y,c=r.style;this.frame.rect=void 0,c.left=isNaN(s)?s:"".concat(s,"px"),c.top=isNaN(l)?l:"".concat(l,"px"),t&&this.updateOffset()},n.prototype.updateSize=function(){this.updateDim()},n.prototype.updateDim=function(){var t=this,e=t.em,i=t.el,r=t.$el,a=t.model,s=t.classAnim,l=t.frame;if(l){l.rect=void 0,r.addClass(s);var c=this.__handleSize(),u=c.noChanges,p=c.width,g=c.height;((0,et.isNull)(p)||(0,et.isNull)(g))&&a.set(Fc(Fc({},p?{}:{width:i.offsetWidth}),g?{}:{height:i.offsetHeight}),{silent:1}),e.stopDefault({preserveSelected:1}),u?this.updateOffset():setTimeout(this.updateOffset,350)}},n.prototype.onScroll=function(){var t=this,e=t.frame,i=t.em;i.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},n.prototype.frameLoaded=function(){var t=this,e=t.frame,i=t.config;e.getWindow().onscroll=this.onScroll,this.updateDim()},n.prototype.__handleSize=function(){var t,e="px",i=this,r=i.model,a=i.el,s=a.style,l=r.attributes,c=l.width,u=l.height,p=s.width||"",g=s.height||"",h=c||"",y=u||"",_=p==h&&g==y,O=(0,et.isNumber)(h)?"".concat(h).concat(e):h,M=(0,et.isNumber)(y)?"".concat(y).concat(e):y;if(s.width=O,(t=this.sizeObserver)===null||t===void 0||t.disconnect(),r.hasAutoHeight()){var w=this.frame.el,T=w.contentDocument;if(T){var b=new ResizeObserver(function(){requestAnimationFrame(function(){var k=parseFloat(r.get("minHeight"))||0,E=Math.max(T.body.scrollHeight,k);s.height="".concat(E,"px")})});b.observe(T.body),this.sizeObserver=b}}else s.height=M,delete this.sizeObserver;return{noChanges:_,width:c,height:u,newW:h,newH:y}},n.prototype.render=function(){var t=this,e=t.frame,i=t.$el,r=t.ppfx,a=t.cv,s=t.model,l=t.el,c=s.attributes.onRender;this.__clear(),this.__handleSize(),e.render(),i.empty().attr({class:"".concat(r,"frame-wrapper")}).append(`
      <div class="`.concat(r,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(r,`frame-wrapper__name" data-action-move>
          `).concat(s.get("name")||"",`
        </div>
        <div class="`).concat(r,`frame-wrapper__top-r">
          <div class="`).concat(r,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(r,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(r,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(r,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(e.el);var u=(0,Me.a_)("div",{class:"".concat(r,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(r,`highlighter" data-hl></div>
      <div class="`).concat(r,`badge" data-badge></div>
      <div class="`).concat(r,`placeholder">
        <div class="`).concat(r,`placeholder-int"></div>
      </div>
      <div class="`).concat(r,`ghost"></div>
      <div class="`).concat(r,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(r,`resizer"></div>
      <div class="`).concat(r,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(r,`offset-fixed-v"></div>
    `));this.elTools=u;var p=a?.toolsWrapper;return p&&p.appendChild(u),c&&c({el:l,elTop:l.querySelector("[data-frame-top]"),elRight:l.querySelector("[data-frame-right]"),elBottom:l.querySelector("[data-frame-bottom]"),elLeft:l.querySelector("[data-frame-left]"),frame:s,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},n}(Ao),x7=C7,O7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),P7=function(o){O7(n,o);function n(t,e){t===void 0&&(t={});var i=o.call(this,t,!0)||this;return i.listenTo(i.collection,"reset",i.render),i.canvasView=e.canvasView,i._module=e.module,i}return n.prototype.onRemoveBefore=function(t,e){e===void 0&&(e={}),t.forEach(function(i){return i.remove(e)})},n.prototype.onRender=function(){var t=this,e=t.$el,i=t.ppfx;e.attr({class:"".concat(i,"frames")})},n.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(e){return e.remove()}),this.viewCollection=[]},n.prototype.renderView=function(t,e){return new x7(t,this.canvasView)},n}(ik),M7=P7,w7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dg=function(){return dg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},dg.apply(this,arguments)},S7=function(o){w7(n,o);function n(t){var e=o.call(this,{model:t})||this;e.ready=!1,(0,et.bindAll)(e,"clearOff","onKeyPress","onWheel","onPointer");var i=e,r=i.em,a=i.pfx,s=i.ppfx,l=e.module.events;return e.className="".concat(a,"canvas ").concat(s,"no-touch-actions").concat(r.config.customUI?"":" ".concat(a,"canvas-bg")),e.clsUnscale="".concat(a,"unscale"),e._initFrames(),e.listenTo(r,l.refresh,e.clearOff),e.listenTo(r,"component:selected",e.checkSelected),e.listenTo(r,"".concat(l.coords," ").concat(l.zoom),e.updateFrames),e.listenTo(t,"change:frames",e._onFramesUpdate),e.toggleListeners(!0),e}return n.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},n.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},n.prototype._initFrames=function(){var t=this,e=t.frames,i=t.model,r=t.config,a=t.em,s=i.frames;a.set("readyCanvas",0),s.once("loaded:all",function(){return a.set("readyCanvas",1)}),e?.remove(),this.frames=new M7({collection:s},dg(dg({},r),{canvasView:this}))},n.prototype.checkSelected=function(t,e){var i;e===void 0&&(e={});var r=e.scroll,a=this.em.getCurrentFrame();r&&((i=t.views)===null||i===void 0||i.forEach(function(s){s.frameView===a&&s.scrollIntoView(r)}))},n.prototype.remove=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return clearTimeout(this.timerZoom),(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,Ao.prototype.remove.apply(this,e),this.toggleListeners(!1),this},n.prototype.preventDefault=function(t){var e;t&&(t.preventDefault(),(e=t._parentEvent)===null||e===void 0||e.preventDefault())},n.prototype.toggleListeners=function(t){var e=this,i=e.el,r=e.config,a=t?Me.on:Me.AU;a(document,"keypress",this.onKeyPress),a(window,"scroll resize",this.clearOff),a(i,"wheel",this.onWheel,{passive:!r.infiniteCanvas}),a(i,"pointermove",this.onPointer)},n.prototype.screenToWorld=function(t,e){var i=this.module,r=i.getCoords(),a=i.getZoomMultiplier(),s=this.getViewportDelta();return{x:(t-r.x-s.x)*a,y:(e-r.y-s.y)*a}},n.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var e=this.getCanvasOffset(),i=(0,Me.Xy)(),r={x:t.clientX-e.left+i.x,y:t.clientY-e.top+i.y};if(t._parentEvent){var a=t.target.getBoundingClientRect(),s=this.module.getZoomDecimal();r.x=a.left-e.left+i.x+t.clientX*s,r.y=a.top-e.top+i.y+t.clientY*s}this.model.set({pointerScreen:r,pointer:this.screenToWorld(r.x,r.y)})}},n.prototype.onKeyPress=function(t){var e=this.em,i=(0,Me.Ch)(t);i===" "&&e.getZoomDecimal()!==1&&!e.Canvas.isInputFocused()&&(this.preventDefault(t),e.Editor.runCommand("core:canvas-move"))},n.prototype.onWheel=function(t){var e=this,i=e.module,r=e.config;if(r.infiniteCanvas){this.preventDefault(t);var a=t.deltaX,s=t.deltaY,l=i.getZoomDecimal(),c=(0,Me.rp)(t),u=i.getCoords();if(c){var p=l-s*l*.01;i.setZoom(p*100);var g=this.model.getPointerCoords(ye.x2.Screen),h=this.getCanvasOffset(),y=g.x-h.width/2,_=g.y-h.height/2,O=p/l,M=y-(y-u.x)*O,w=_-(_-u.y)*O;i.setCoords(M,w)}else this.onPointer(t),i.setCoords(u.x-a,u.y-s)}},n.prototype.updateFrames=function(t){var e=this.em,i=this.toolsWrapper,r={preserveSelected:1};this.updateFramesArea(),this.clearOff(),i.style.display="none",e.trigger("canvas:update",t),clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){e.stopDefault(r),e.runDefault(r),i.style.display=""},300)},n.prototype.updateFramesArea=function(){var t=this,e=t.framesArea,i=t.model,r=t.module,a=t.cvStyle,s=t.clsUnscale,l=r.getZoomMultiplier();if(e){var c=i.attributes,u=c.x,p=c.y,g=r.getZoomDecimal();e.style.transform="scale(".concat(g,") translate(").concat(u*l,"px, ").concat(p*l,"px)")}a&&(a.innerHTML=`
        .`.concat(s," { scale: ").concat(l,` }
      `))},n.prototype.fitViewport=function(t){var e,i,r;t===void 0&&(t={});var a=this,s=a.em,l=a.module,c=a.model;this.clearOff();var u=this.getCanvasOffset(),p=t.el,g=p&&((e=(0,oe.getComponentView)(p))===null||e===void 0?void 0:e.frameView),h=g?g.model:t.frame||s.getCurrentFrameModel()||c.frames.at(0),y=h.attributes,_=y.x,O=y.y,M={x:_??0,y:O??0,width:h.width,height:h.height};if(p){var w=this.getElBoxRect(p);M.x=M.x+w.x,M.y=M.y+w.y,M.width=w.width,M.height=w.height}var T=t.ignoreHeight,b=(i=t.gap)!==null&&i!==void 0?i:0,k=(0,et.isNumber)(b),E=k?b:b.x,N=k?b:b.y,F=M.width+E*2,V=M.height+N*2,R=u.width,H=u.height,L=R/F,W=H/V,q=T?L:Math.min(L,W),J=q*100,D=(r=(0,et.isFunction)(t.zoom)?t.zoom(J):t.zoom)!==null&&r!==void 0?r:J;l.setZoom(D,{from:"fitViewport"});var Z=-M.x+(h.width>=R?R/2-F/2:-E),nt=-M.y+H/2-V/2,pt=l.getZoomDecimal(),Vt={x:(Z+E)*pt,y:(nt+N)*pt};if(T){var qt=l.getZoomMultiplier(),Pt=H*qt,yt=Pt-H,rt=yt/2;Vt.y=(-M.y+N)*pt-rt/qt}l.setCoords(Vt.x,Vt.y)},n.prototype.isElInViewport=function(t){var e=(0,oe.getElement)(t),i=(0,Me.C8)(e),r=this.getFrameOffset(e),a=i.top,s=i.left;return a>=0&&s>=0&&a<=r.height&&s<=r.width},n.prototype.offset=function(t,e){e===void 0&&(e={});var i=e.noScroll,r=(0,Me.C8)(t),a=i?{x:0,y:0}:(0,Me.Xy)(t);return{top:r.top+a.y,left:r.left+a.x,width:r.width,height:r.height}},n.prototype.getRectToScreen=function(t){var e,i,r,a,s=this.getCanvasScroll(),l=this.module.getZoomDecimal(),c=this.module.getCoords(),u=this.getViewportDelta(),p=((e=t.x)!==null&&e!==void 0?e:0)*l-s.scrollLeft+c.x+u.x||0,g=((i=t.y)!==null&&i!==void 0?i:0)*l-s.scrollTop+c.y+u.y||0;return{x:p,y:g,width:((r=t.width)!==null&&r!==void 0?r:0)*l,height:((a=t.height)!==null&&a!==void 0?a:0)*l}},n.prototype.getElBoxRect=function(t,e){var i,r,a;e===void 0&&(e={});var s=this.module,l=(0,Me.C8)(t),c=l.width,u=l.height,p=l.left,g=l.top,h=(i=(0,oe.getComponentView)(t))===null||i===void 0?void 0:i.frameView,y=h?.getBoxRect(),_=s.getZoomMultiplier(),O=(r=y?.x)!==null&&r!==void 0?r:0,M=(a=y?.y)!==null&&a!==void 0?a:0,w=this.el,T=(0,Me.Xy)(),b=p+O+(w.scrollLeft+T.x)*_,k=g+M+(w.scrollTop+T.y)*_,E={x:b,y:k,width:c,height:u};return e.local&&(E.x=p,E.y=g),e.toScreen?this.getRectToScreen(E):E},n.prototype.getViewportRect=function(t){t===void 0&&(t={});var e=this.getCanvasOffset(),i=e.top,r=e.left,a=e.width,s=e.height,l=this.module;if(t.toWorld){var c=l.getZoomMultiplier(),u=l.getCoords(),p=this.getViewportDelta(),g=-u.x-p.x||0,h=-u.y-p.y||0;return{x:g*c,y:h*c,width:a*c,height:s*c}}else return{x:r,y:i,width:a,height:s}},n.prototype.getViewportDelta=function(t){t===void 0&&(t={});var e=this.module.getZoomMultiplier(),i=this.getCanvasOffset(),r=i.width,a=i.height,s=r*e,l=a*e,c=s-r,u=l-a;return{x:c/2/e,y:u/2/e}},n.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},n.prototype.getFrameOffset=function(t){var e;if(!this.frmOff||t){var i=(e=this.frame)===null||e===void 0?void 0:e.el,r=t?.ownerDocument.defaultView,a=r?r.frameElement:i;this.frmOff=this.offset(a||i)}return this.frmOff},n.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},n.prototype.getElementPos=function(t,e){e===void 0&&(e={});var i=this.module.getZoomDecimal(),r=this.getFrameOffset(t),a=this.el,s=this.getCanvasOffset(),l=this.offset(t,e),c=e.avoidFrameOffset?0:r.top,u=e.avoidFrameOffset?0:r.left,p=e.avoidFrameZoom?l.top:l.top*i,g=e.avoidFrameZoom?l.left:l.left*i,h=e.avoidFrameOffset?p:p+c-s.top+a.scrollTop,y=e.avoidFrameOffset?g:g+u-s.left+a.scrollLeft,_=e.avoidFrameZoom?l.height:l.height*i,O=e.avoidFrameZoom?l.width:l.width*i;return{top:h,left:y,height:_,width:O,zoom:i,rect:l}},n.prototype.getElementOffsets=function(t){if(!t||(0,Me.ir)(t))return{};var e={},i=window.getComputedStyle(t),r=this.module.getZoomDecimal(),a=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return a.forEach(function(s){e[s]=parseFloat(i[s])*r}),e},n.prototype.getPosition=function(t){var e;t===void 0&&(t={});var i=(e=this.frame)===null||e===void 0?void 0:e.el.contentDocument;if(!i)return{top:0,left:0,width:0,height:0};var r=i.body,a=this.module.getZoomDecimal(),s=this.getFrameOffset(),l=this.getCanvasOffset(),c=t.noScroll;return{top:s.top+(c?0:r.scrollTop)*a-l.top,left:s.left+(c?0:r.scrollLeft)*a-l.left,width:l.width,height:l.height}},n.prototype.getCanvasScroll=function(){return this.config.scrollableCanvas?{scrollTop:this.el.scrollTop,scrollLeft:this.el.scrollLeft}:{scrollTop:0,scrollLeft:0}},n.prototype.updateScript=function(t){var e=t.model,i=e.getId(),r={component:e,view:t,el:t.el};if(!t.scriptContainer){t.scriptContainer=(0,Me.a_)("div",{"data-id":i});var a=this.getJsContainer();a?.appendChild(t.scriptContainer)}t.el.id=i,t.scriptContainer.innerHTML="";var s=document.createElement("script"),l=e.getScriptString(),c=e.get("script-props")?l:`function(){
`.concat(l,`
;}`),u=JSON.stringify(e.__getScriptProps());s.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(i,`');
        if (!item) return;
        var script = (`).concat(c,`).bind(item);
        script(`).concat(u,`, { el: item });
      }, 1);`),setTimeout(function(){e.emitWithEditor(kn.I.scriptMountBefore,r);var p=t.scriptContainer;p?.appendChild(s),e.emitWithEditor(kn.I.scriptMount,r)},0)},n.prototype.getJsContainer=function(t){var e=this.getFrameView(t);return e?.getJsContainer()},n.prototype.getFrameView=function(t){return t?.frameView||this.em.getCurrentFrame()},n.prototype._renderFrames=function(){if(this.ready){var t=this,e=t.model,i=t.frames,r=t.em,a=t.framesArea,s=e.frames;s.listenToLoad(),i.render();var l=s.at(0),c=l?.view;r.setCurrentFrame(c),a?.appendChild(i.el),this.frame=c,this.updateFramesArea()}},n.prototype.renderFrames=function(){this._renderFrames()},n.prototype.render=function(){var t=this,e=t.el,i=t.$el,r=t.ppfx,a=t.config,s=t.em;i.html(this.template());var l=i.find("[data-frames]");this.framesArea=l.get(0);var c=i.find("[data-tools]");return this.toolsWrapper=c.get(0),c.append(`
      <div class="`.concat(r,"tools ").concat(r,`tools-gl" style="pointer-events:none">
        <div class="`).concat(r,`placeholder">
          <div class="`).concat(r,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(r,`tools" style="pointer-events:none">
        `).concat(a.extHl?'<div class="'.concat(r,'highlighter-sel"></div>'):"",`
        <div class="`).concat(r,`badge"></div>
        <div class="`).concat(r,`ghost"></div>
        <div class="`).concat(r,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(r,`resizer"></div>
        <div class="`).concat(r,`offset-v"></div>
        <div class="`).concat(r,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=e.querySelector("#".concat(r,"tools")),this.hlEl=e.querySelector(".".concat(r,"highlighter")),this.badgeEl=e.querySelector(".".concat(r,"badge")),this.placerEl=e.querySelector(".".concat(r,"placeholder")),this.ghostEl=e.querySelector(".".concat(r,"ghost")),this.toolbarEl=e.querySelector(".".concat(r,"toolbar")),this.resizerEl=e.querySelector(".".concat(r,"resizer")),this.offsetEl=e.querySelector(".".concat(r,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(r,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(r,"tools-gl")),this.spotsEl=e.querySelector("[data-spots]"),this.cvStyle=e.querySelector("[data-canvas-style]"),e.className=(0,oe.getUiClass)(s,this.className),a.scrollableCanvas===!0&&(e.style.overflow="auto"),this.ready=!0,this._renderFrames(),this},n}(Ao),T7=S7,E7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pl=function(){return Pl=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Pl.apply(this,arguments)},k7=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},A7=function(o){E7(n,o);function n(t){var e=o.call(this,t,"Canvas",j6())||this;return e.events=H0,e.framesById={},e.canvas=new Y6(e),e.spots=new J6(e),e.model=e.canvas,e.startAutoscroll=e.startAutoscroll.bind(e),e.stopAutoscroll=e.stopAutoscroll.bind(e),e.autoScroller=new FO,e}return n.prototype.getCanvasView=function(){return this.canvasView},n.prototype.postLoad=function(){this.model.init()},n.prototype.getModel=function(){return this.canvas},n.prototype.getElement=function(){return this.getCanvasView().el},n.prototype.getFrame=function(t){return this.getFrames()[t||0]},n.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t?.el},n.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},n.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t?.getWindow()},n.prototype.getDocument=function(){var t=this.getFrameEl();return t?.contentDocument},n.prototype.getBody=function(){var t=this.getDocument();return t?.body},n.prototype._getLocalEl=function(t,e,i){var r=t,a=e?.frameView;return r=a?a[i]():r,r},n.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},n.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},n.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},n.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},n.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},n.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},n.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},n.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},n.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},n.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},n.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},n.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new T7(this.canvas),this.canvasView.render().el},n.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},n.prototype.offset=function(t){return this.getCanvasView().offset(t)},n.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},n.prototype.getElementPos=function(t,e){return this.getCanvasView().getElementPos(t,e)},n.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},n.prototype.getRect=function(){var t,e=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},i=e.top,r=i===void 0?0:i,a=e.left,s=a===void 0?0:a;return Pl(Pl({},this.getCanvasView().getCanvasOffset()),{topScroll:r,leftScroll:s})},n.prototype.getTargetToElementDim=function(t,e,i){i===void 0&&(i={});var r=i||{},a=this.getCanvasView().getPosition();if(a){var s=r.elPos||this.getCanvasView().getElementPos(e),l=i.toRight||0,c=r.targetHeight||t.offsetHeight,u=r.targetWidth||t.offsetWidth,p=r.event||null,g=s.top-c,h=s.left;h+=l?s.width:0,h=l?h-u:h;var y=h<a.left?a.left:h,_=g<a.top?a.top:g;_=_>s.top+s.height?s.top+s.height:_;var O={top:_,left:y,elementTop:s.top,elementLeft:s.left,elementWidth:s.width,elementHeight:s.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:a.top,canvasLeft:a.left,canvasWidth:a.width,canvasHeight:a.height};return p&&this.em&&this.em.trigger(p,O),O}},n.prototype.canvasRectOffset=function(t,e,i){var r=this;i===void 0&&(i={});var a=function(l){var c=l.defaultView;return c?.frameElement},s=function(l,c,u){c===void 0&&(c=1);var p=r.em.getZoomDecimal(),g=c?"top":"left",h=l.ownerDocument,y=i.offset?a(h):{},_=y.offsetTop,O=_===void 0?0:_,M=y.offsetLeft,w=M===void 0?0:M,T=h.body||{},b=T.scrollTop,k=b===void 0?0:b,E=T.scrollLeft,N=E===void 0?0:E,F=c?k:N,V=c?O:w;return u[g]-(F-V)*p};return{top:s(t,1,e),left:s(t,0,e)}},n.prototype.getTargetToElementFixed=function(t,e,i){i===void 0&&(i={});var r=i.pos||this.getElementPos(t,{noScroll:!0}),a=i.canvasOff||this.canvasRectOffset(t,r),s=e.offsetHeight||0,l=e.offsetWidth||0,c=this.getCanvasView(),u=c.getCanvasScroll(),p=u.scrollTop,g=u.scrollLeft,h=c.getPosition(),y=i.event,_=r.width-l,O=-s,M=(0,et.isUndefined)(i.left)?_:i.left,w=Math.max(-r.left+g,0);M=Math.max(M,w);var T=r.width-l;M=Math.min(M,T);var b=h.width+g-l-r.left;M=Math.min(M,b);var k=a.top<s+p,E=O;if(k){var N=r.height+s,F=N<h.height;if(F)E=E+N;else{var V=-a.top+p;E=V<r.height?V:r.height}}var R={top:E,left:M,canvasOffsetTop:a.top,canvasOffsetLeft:a.left,elRect:r,canvasOffset:a,canvasRect:h,targetWidth:l,targetHeight:s};return y&&this.em.trigger(y,R),R},n.prototype.getMouseRelativePos=function(t,e){e===void 0&&(e={});var i=e.subWinOffset,r=t.target,a=r.nodeType===Node.DOCUMENT_NODE?r:r.ownerDocument,s=a.defaultView||a.parentWindow,l=s.frameElement,c=i?s.pageYOffset:0,u=i?s.pageXOffset:0,p=this.getZoomMultiplier(),g=0,h=0;if(l){var y=l.getBoundingClientRect();g=y.top||0,h=y.left||0}return{y:(t.clientY+g-c)*p,x:(t.clientX+h-u)*p}},n.prototype.getMouseRelativeCanvas=function(t,e){var i,r=this.getZoomDecimal(),a=this.getCanvasView(),s=(i=a.getPosition(e))!==null&&i!==void 0?i:{top:0,left:0},l=a.getCanvasScroll(),c={top:s.top+l.scrollTop,left:s.left+l.scrollLeft},u=c.top,p=c.left;return{y:t.clientY*r+u,x:t.clientX*r+p}},n.prototype.startDrag=function(t){this.em.set("dragSource",t)},n.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},n.prototype.hasFocus=function(){return this.getDocument().hasFocus()},n.prototype.isInputFocused=function(){var t=this.getDocument(),e=this.getFrameEl(),i=k7(["body"],this.config.notTextable,!0),r=e&&document.activeElement===e,a=r?t&&t.activeElement:document.activeElement;return a&&!i.some(function(s){return a.matches(s)})},n.prototype.scrollTo=function(t,e){e===void 0&&(e={});var i=(0,oe.getElement)(t),r=i&&(0,oe.getViewEl)(i);r&&r.scrollIntoView(e)},n.prototype.startAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();if(e&&e.startAutoscroll(),this.config.scrollableCanvas){var i=this.getCanvasView().el;this.autoScroller.start(i,i,{zoom:this.em.getZoomDecimal(),ignoredElement:this.getSpotsEl()})}},n.prototype.stopAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll(),this.config.scrollableCanvas&&this.autoScroller.stop()},n.prototype.setZoom=function(t,e){return e===void 0&&(e={}),this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t,e),this},n.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},n.prototype.setCoords=function(t,e,i){var r;i===void 0&&(i={});var a=t||t===0,s=e||e===0,l={x:this.canvas.get("x"),y:this.canvas.get("y")};if(a&&(l.x=parseFloat("".concat(t))),s&&(l.y=parseFloat("".concat(e))),i.toWorld){var c=(r=this.canvasView)===null||r===void 0?void 0:r.getViewportDelta();c&&(a&&(l.x=l.x-c.x),s&&(l.y=l.y-c.y))}return this.canvas.set(l),this},n.prototype.getCoords=function(){var t=this.canvas.attributes,e=t.x,i=t.y;return{x:e,y:i}},n.prototype.getPointer=function(t){var e=this.canvas.attributes,i=e.pointer,r=e.pointerScreen;return t?r:i},n.prototype.getZoomDecimal=function(){return this.getZoom()/100},n.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},n.prototype.fitViewport=function(t){var e;(e=this.canvasView)===null||e===void 0||e.fitViewport(t)},n.prototype.toggleFramesEvents=function(t){var e=this.getFramesEl().style;e.pointerEvents=t?"":"none"},n.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},n.prototype.addFrame=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.canvas.frames.add(new yO(this,Pl({},t)),e)},n.prototype.getLastDragResult=function(){return this.em.get("dragResult")},n.prototype.addSpot=function(t,e){var i;e===void 0&&(e={});var r=t,a=this.getSpots(r);if(a.length){var s=a[0];return s.set(r),s}var l=r.componentView||((i=r.component)===null||i===void 0?void 0:i.view),c=new Eo.A(this,Pl(Pl({},r),{id:r.id||"cs_".concat(r.type,"_").concat(l?.cid),type:r.type||""}));return this.spots.add(c,e),c},n.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},n.prototype.removeSpots=function(t){t===void 0&&(t={});var e=(0,et.isArray)(t)?t:this.getSpots(t),i=this.spots.remove(e);return i},n.prototype.hasCustomSpot=function(t){var e=this.config.customSpots;return!!(e===!0||e&&t&&e[t])},n.prototype.getWorldRectToScreen=function(t){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.getRectToScreen(t)},n.prototype.refresh=function(t){t===void 0&&(t={});var e=this,i=e.em,r=e.events,a=e.canvasView;a?.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),i.trigger("canvas:updateTools")),i.set("canvasOffset",this.getOffset()),i.trigger(r.refresh,t)},n.prototype.refreshSpots=function(){this.spots.refresh()},n.prototype.destroy=function(){var t=this,e;this.canvas.stopListening(),(e=this.canvasView)===null||e===void 0||e.remove(),["model","droppable"].forEach(function(i){return t[i]={}})},n}(Hr),I7=A7,D7=function(){return{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}},L7=D7,N7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ug=function(){return ug=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},ug.apply(this,arguments)},R7=function(o){N7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return ug(ug({},o.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){var t=this.content,e=this.parent();return e?.is("script")?t:this.__escapeContent(t)},n.prototype.__escapeContent=function(t){return(0,oe.escapeNodeContent)(t)},n.isComponent=function(t){var e;if(t.nodeType===3)return{type:"textnode",content:(e=t.textContent)!==null&&e!==void 0?e:""}},n}(li),jO=R7,F7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_0=function(){return _0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},_0.apply(this,arguments)},z7=function(o){F7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return _0({},o.prototype.defaults)},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},n.isComponent=function(t){var e;if(t.nodeType==8)return{type:"comment",content:(e=t.textContent)!==null&&e!==void 0?e:""}},n}(jO),V7=z7,j7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pg=function(){return pg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},pg.apply(this,arguments)},k1="iframe",H7=function(o){j7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return pg(pg({},o.prototype.defaults),{type:k1,tagName:k1,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===k1},n}(li),B7=H7,U7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fg=function(){return fg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},fg.apply(this,arguments)},rx='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',G7=function(o){U7(n,o);function n(t,e){t===void 0&&(t={});var i=o.call(this,t,e)||this,r=i.get("attributes").src;return r&&(0,oe.buildBase64UrlFromSvg)((0,et.result)(i,"defaults").src)!==r&&i.set("src",r,{silent:!0}),i}return Object.defineProperty(n.prototype,"defaults",{get:function(){return fg(fg({},o.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(rx,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(rx,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),n.prototype.initToolbar=function(){o.prototype.initToolbar.call(this);var t=this.em;if(t){var e=t.Commands,i="image-editor";if(e.has(i)){for(var r=!1,a=this.get("toolbar"),s=0;s<a.length;s++)if(a[s].command==="image-editor"){r=!0;break}r||(a.push({attributes:{class:"fa fa-pencil"},command:i}),this.set("toolbar",a))}}},n.prototype.getAttrToHTML=function(){var t=o.prototype.getAttrToHTML.call(this),e=this.getSrcResult();return e&&(t.src=e),t},n.prototype.getSrcResult=function(t){t===void 0&&(t={});var e=this.get(t.fallback?"fallback":"src")||"",i=e;return e&&e.substr(0,4)==="<svg"&&(i=(0,oe.buildBase64UrlFromSvg)(e)),i},n.prototype.isDefaultSrc=function(){var t=this.get("src"),e=(0,et.result)(this,"defaults").src;return t===e||t===(0,oe.buildBase64UrlFromSvg)(e)},n.prototype.toJSON=function(t){var e=o.prototype.toJSON.call(this,t),i=e.attributes;return i&&e.src===i.src&&delete e.src,e},n.prototype.parseUri=function(t){var e={},i=function(r){r===void 0&&(r="");for(var a={},s=r.substring(1).split("&"),l=0;l<s.length;l++){var c=s[l].split("="),u=decodeURIComponent(c[0]);u&&(a[u]=decodeURIComponent(c[1]||""))}return a};if((0,oe.hasWin)())e=document.createElement("a"),e.href=t;else if(typeof URL<"u")try{e=new URL(t)}catch{}return{hostname:e.hostname||"",pathname:e.pathname||"",protocol:e.protocol||"",search:e.search||"",hash:e.hash||"",port:e.port||"",query:i(e.search)}},n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)==="img"},n}(li),$0=G7,W7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gg=function(){return gg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},gg.apply(this,arguments)},K7=function(o){W7(n,o);function n(t,e){t===void 0&&(t={});var i=o.call(this,t,e)||this;return i.__checkInnerChilds(),i}return Object.defineProperty(n.prototype,"defaults",{get:function(){return gg(gg({},o.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var e=function(i){i.isInstanceOf("textnode")||i.set({locked:!0,layerable:!1})};(0,et.isFunction)(t)?this.forEachChild(function(i){t(i)&&e(i)}):this.forEachChild(e)}},n}(li),Y0=K7,q7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hg=function(){return hg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},hg.apply(this,arguments)},A1="label",$7=function(o){q7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return hg(hg({},o.prototype.defaults),{type:A1,tagName:A1,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===A1},n}(Y0),Y7=$7,X7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mg=function(){return mg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},mg.apply(this,arguments)},ox="link",Q7=function(o){X7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return mg(mg({},o.prototype.defaults),{type:ox,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t,e){e===void 0&&(e={});var i;if((0,oe.toLowerCase)(t.tagName)==="a"){var r=e.textTags||[];i={type:ox,editable:!1};var a=t.childNodes,s=a.length;s||delete i.editable,(0,et.forEach)(a,function(l){var c=l.tagName;(l.nodeType==3&&l.textContent.trim()!==""||c&&r.indexOf((0,oe.toLowerCase)(c))>=0)&&delete i.editable})}return i},n}(Y0),J7=Q7,Z7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vg=function(){return vg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},vg.apply(this,arguments)},tA=function(o){Z7(n,o);function n(t,e){t===void 0&&(t={});var i=o.call(this,t,e)||this;return i.get("src")?i.parseFromSrc():i.updateSrc(),i.listenTo(i,"change:address change:zoom change:mapType",i.updateSrc),i}return Object.defineProperty(n.prototype,"defaults",{get:function(){var t=o.prototype.defaults;return vg(vg({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),n.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},n.prototype.getMapUrl=function(){var t=this.get("address"),e=this.get("zoom"),i=this.get("mapType");t=t?"&q="+t:"",e=e?"&z="+e:"",i=i?"&t="+i:"";var r=this.get("mapUrl")+"?"+t+e+i;return r+="&output=embed",r},n.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),e=t.query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)},n.isComponent=function(t){if((0,oe.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},n}($0),eA=tA,nA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_g=function(){return _g=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},_g.apply(this,arguments)},I1="script",iA=function(o){nA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return _g(_g({},o.prototype.defaults),{type:I1,tagName:I1,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===I1},n}(li),rA=iA,oA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yg=function(){return yg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},yg.apply(this,arguments)},D1="svg",aA=function(o){oA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return yg(yg({},o.prototype.defaults),{type:D1,tagName:D1,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),n.prototype.getName=function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t},n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===D1},n}(li),HO=aA,sA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bg=function(){return bg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},bg.apply(this,arguments)},lA=function(o){sA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return bg(bg({},o.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t,e){return e===void 0&&(e={}),!!e.inSvg},n}(HO),cA=lA,dA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cg=function(){return Cg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Cg.apply(this,arguments)},L1="table",uA=function(o){dA(n,o);function n(t,e){t===void 0&&(t={});var i=o.call(this,t,e)||this,r=i.get("components");return!r.length&&r.add({type:"tbody"}),i}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Cg(Cg({},o.prototype.defaults),{type:L1,tagName:L1,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===L1},n}(li),pA=uA,fA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xg=function(){return xg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},xg.apply(this,arguments)},N1="tbody",gA=function(o){fA(n,o);function n(t,e){t===void 0&&(t={});var i=o.call(this,t,e)||this,r=i.get("components"),a=i.get("columns"),s=i.get("rows");if(!r.length){for(var l=[];s--;){for(var c=[],u=a;u--;)c.push({type:"cell",classes:["cell"]});l.push({type:"row",classes:["row"],components:c})}r.add(l)}return i}return Object.defineProperty(n.prototype,"defaults",{get:function(){return xg(xg({},o.prototype.defaults),{type:N1,tagName:N1,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===N1},n}(li),X0=gA,hA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Og=function(){return Og=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Og.apply(this,arguments)},mA=function(o){hA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Og(Og({},o.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return["td","th"].indexOf((0,oe.toLowerCase)(t.tagName))>=0},n}(li),vA=mA,_A=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pg=function(){return Pg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Pg.apply(this,arguments)},R1="tfoot",yA=function(o){_A(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Pg(Pg({},o.prototype.defaults),{type:R1,tagName:R1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===R1},n}(X0),bA=yA,CA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mg=function(){return Mg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Mg.apply(this,arguments)},F1="thead",xA=function(o){CA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Mg(Mg({},o.prototype.defaults),{type:F1,tagName:F1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===F1},n}(X0),OA=xA,PA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wg=function(){return wg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},wg.apply(this,arguments)},ax="tr",MA=function(o){PA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return wg(wg({},o.prototype.defaults),{tagName:ax,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===ax},n}(li),wA=MA,SA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sg=function(){return Sg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Sg.apply(this,arguments)},z1="video",Ec="yt",kc="vi",Ac="ytnc",sx="so",V1=function(o){return o&&o!=="0"},TA=function(o){SA(n,o);function n(t,e){t===void 0&&(t={});var i=o.call(this,t,e)||this;return i.get("src")&&i.parseFromSrc(),i.updatePropsFromAttr(),i.updateTraits(),i.on("change:provider",i.updateTraits),i.on("change:videoId change:provider",i.updateSrc),i}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Sg(Sg({},o.prototype.defaults),{type:z1,tagName:z1,videoId:"",void:!1,provider:sx,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:!1,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),n.prototype.updatePropsFromAttr=function(){if(this.get("provider")===sx){var t=this.get("attributes"),e=t.controls,i=t.autoplay,r=t.loop,a=t.muted,s={};(0,oe.isDef)(e)&&(s.controls=!!e),(0,oe.isDef)(i)&&(s.autoplay=!!i),(0,oe.isDef)(r)&&(s.loop=!!r),(0,oe.isDef)(a)&&(s.muted=!!a),(0,oe.isEmptyObj)(s)||this.set(s)}},n.prototype.updateTraits=function(){var t=this.em,e=this.get("provider"),i="iframe",r;switch(e){case Ec:case Ac:r=this.getYoutubeTraits();break;case kc:r=this.getVimeoTraits();break;default:i="video",r=this.getSourceTraits()}this.set({tagName:i},{silent:!0}),this.set({traits:r}),t.get("ready")&&t.trigger("component:toggled")},n.prototype.parseFromSrc=function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),i=e.query;switch(t){case Ec:case Ac:case kc:this.set("videoId",e.pathname.split("/").pop()),i.list&&this.set("list",i.list),V1(i.autoplay)&&this.set("autoplay",!0),V1(i.loop)&&this.set("loop",!0),parseInt(i.controls)===0&&this.set("controls",!1),V1(i.color)&&this.set("color",i.color),i.rel==="0"&&this.set("rel",0),i.modestbranding==="1"&&this.set("modestbranding",1),i.muted==="1"&&this.set("muted",!0);break;default:}},n.prototype.updateSrc=function(){var t=this.get("provider"),e="";switch(t){case Ec:e=this.getYoutubeSrc();break;case Ac:e=this.getYoutubeNoCookieSrc();break;case kc:e=this.getVimeoSrc();break}this.set({src:e})},n.prototype.getAttrToHTML=function(){var t=o.prototype.getAttrToHTML.call(this),e=this.get("provider");switch(e){case Ec:case Ac:case kc:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls"),t.muted=!!this.get("muted")}return t},n.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Ec,name:"Youtube"},{value:Ac,name:"Youtube (no cookie)"},{value:kc,name:"Vimeo"}]}},n.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),this.getMutedTrait()]},n.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0},this.getMutedTrait()]},n.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getMutedTrait()]},n.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},n.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},n.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},n.prototype.getMutedTrait=function(){return{type:"checkbox",label:"Muted",name:"muted",changeProp:!0}},n.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),e=this.get("ytUrl"),i=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=i?"&list=".concat(i):"",e+=this.get("autoplay")?"&autoplay=1":"",e+=this.get("muted")?"&mute=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",e+=this.get("rel")?"":"&rel=0",e+=this.get("modestbranding")?"&modestbranding=1":"",e},n.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},n.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1":"",t+=this.get("muted")?"&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},n.isComponent=function(t){var e=t.tagName,i=t.src,r=/youtube\.com\/embed/.test(i),a=/youtube-nocookie\.com\/embed/.test(i),s=/player\.vimeo\.com\/video/.test(i),l=r||a||s;if((0,oe.toLowerCase)(e)==z1||(0,oe.toLowerCase)(e)=="iframe"&&l){var c={type:"video"};return i&&(c.src=i),l&&(r?c.provider=Ec:a?c.provider=Ac:s&&(c.provider=kc)),c}},n}($0),EA=TA,kA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zc=function(){return zc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},zc.apply(this,arguments)},AA=function(o){kA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return zc(zc({},o.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),n.prototype.preInit=function(){var t,e,i=this,r=i.opt,a=i.attributes,s=(t=this.em)===null||t===void 0?void 0:t.Components,l=(e=s?.getType(Xc))===null||e===void 0?void 0:e.model,c=s?.getType("default").model;if(l){var u=a.head,p=a.docEl;this.set({head:u&&u instanceof li?u:new l(zc({},u),r),docEl:p&&p instanceof li?p:new c(zc({tagName:"html"},p),r)},{silent:!0})}},Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),n.prototype.clone=function(t){var e=o.prototype.clone.call(this,t);return e.set("head",this.get("head").clone(t)),e.set("docEl",this.get("docEl").clone(t)),e},n.prototype.toHTML=function(t){t===void 0&&(t={});var e=this.doctype,i=(0,et.isUndefined)(t.asDocument)?!!e:t.asDocument,r=this,a=r.head,s=r.docEl,l=o.prototype.toHTML.call(this,t),c=i&&a?.toHTML(t)||"",u=i&&(0,Me.kk)(s?.getAttrToHTML())||"",p=u?" ".concat(u):"";return i?"".concat(e,"<html").concat(p,">").concat(c).concat(l,"</html>"):l},n.prototype.__postAdd=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&e?.add(this),o.prototype.__postAdd.call(this)},n.prototype.__postRemove=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return e?.remove(this),o.prototype.__postRemove.call(this)},n.isComponent=function(){return!1},n}(li),IA=AA,DA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),LA=function(o){DA(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.compView=$n,t}return n.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},n.prototype.removeChildren=function(t,e,i){var r=this;i===void 0&&(i={}),t.views.forEach(function(s){if(s){var l=s.childrenView,c=s.scriptContainer;l&&l.stopListening(),(0,Me.YZ)(c),s.remove.apply(s)}});var a=t.components();a.forEach(function(s){return r.removeChildren(s,e,i)})},n.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},n.prototype.addToCollection=function(t,e,i){for(var r=this,a=r.config,s=r.opts,l=r.em,c=a.frameView,u=c?.model&&t.getView(c.model),p=s.componentTypes||l?.Components.getTypes(),g=t.get("type")||"default",h=this.compView,y=0;y<p.length;y++)if(p[y].id==g){h=p[y].view;break}var _=u||new h({model:t,config:a,componentTypes:p}),O;try{O=_.render().el}catch(b){O=document.createTextNode(""),l.logError(b)}if(e)e.appendChild(O);else{var M=this.parentEl,w=M.childNodes;if((0,et.isUndefined)(i))M.appendChild(O);else{var T=w.length==i;T&&i--,T||!w.length?M.appendChild(O):M.insertBefore(O,w[i])}}return t.opt.temporary||l?.trigger(kn.I.mount,t),O},n.prototype.resetChildren=function(t,e){var i=this;e===void 0&&(e={});var r=e.previousModels;e.skipDomReset||(this.parentEl.innerHTML=""),r?.forEach(function(a){return i.removeChildren(a,i.collection)}),t.each(function(a){return i.addToCollection(a)})},n.prototype.render=function(t){var e=this,i=this.el,r=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(a){return e.addToCollection(a,r)}),i.innerHTML="",i.appendChild(r),this},n}(ye.Ss),BO=LA,NA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),da=function(){return da=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},da.apply(this,arguments)},RA=function(o){NA(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.rendered=!1,t}return n.prototype.className=function(){return this.getClasses()},n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.preinitialize=function(t){t===void 0&&(t={}),this.opts=t},n.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,i=t.config||{},r=i.em,a=e.opt||{},s=this,l=s.$el,c=s.el;this.opts=t,this.modelOpt=a,this.config=i,this.em=r,this.pfx=i.stylePrefix||"",this.ppfx=i.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status change:locked",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),l.data("model",e),(0,oe.setViewEl)(c,this),e.view=this,this.frameView&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=da(da({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!a.temporary&&this.init(this._clbObj())},Object.defineProperty(n.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"createDoc",{get:function(){var t,e,i=((t=this.frameView)===null||t===void 0?void 0:t.getDoc())||document;return!((e=this.opts.config)===null||e===void 0)&&e.useFrameDoc?i:document},enumerable:!1,configurable:!0}),n.prototype.__isDraggable=function(){var t=this,e=t.model,i=t.config,r=e.attributes.draggable;return i.draggableComponents&&r},n.prototype._clbObj=function(){var t=this,e=t.em,i=t.model,r=t.el;return{editor:e?.getEditor(),model:i,el:r}},n.prototype.init=function(t){},n.prototype.removed=function(t){},n.prototype.onRender=function(t){},n.prototype.onActive=function(t){},n.prototype.onDisable=function(t){},n.prototype.remove=function(){var t;o.prototype.remove.call(this);var e=this,i=e.model,r=e.$el,a=i.views,s=this.frameView||{};return i.components().forEach(function(l){var c=l.getView(s.model);c?.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),a.splice(a.indexOf(this),1),this.removed(this._clbObj()),r.data({model:"",collection:"",view:""}),this},n.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault();var e=this.em.getSelectedAll(),i=e.includes(this.model)?e:[this.model];this.em.Commands.run("tlb-move",{target:i,event:t})},n.prototype.initClasses=function(){var t=this.model,e=t.classes,i="change:classes";e instanceof Ls&&(this.stopListening(t,i,this.initClasses),this.listenTo(t,i,this.initClasses),this.listenTo(e,"add remove change reset",this.updateClasses),e.length&&this.importClasses())},n.prototype.initComponents=function(t){t===void 0&&(t={});var e=this,i=e.model,r=e.$el,a=e.childrenView,s="change:components",l=i.get("components"),c=[i,s,this.initComponents];l instanceof zu&&(r.data("collection",l),a&&a.remove(),this.stopListening.apply(this,c),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,c))},n.prototype.handleChange=function(){var t=this.model,e=(0,et.keys)(t.changed);if(!(e.length===1&&e[0]==="status")){t.emitUpdate();for(var i in t.changed)t.emitUpdate(i)}},n.prototype.importClasses=function(){var t=this,e=t.em,i=t.model,r=e.Selectors;r&&i.classes.forEach(function(a){return r.add(a.getName())})},n.prototype.updateStatus=function(t){t===void 0&&(t={});var e=this,i=e.em,r=e.el,a=e.ppfx,s=e.model,l=i?.Canvas,c=l?.config.extHl,u=s.get("status"),p="".concat(a,"selected"),g="".concat(p,"-parent"),h="".concat(a,"freezed"),y="".concat(a,"hovered"),_="".concat(a,"no-pointer"),O="".concat(a,"pointer-init"),M=[p,g,h,y,_,O],w=c&&!t.noExtHl?"":p;this.$el.removeClass(M.join(" "));var T=r.getAttribute("class")||"",b=[T],k=!l?.hasCustomSpot(Eo.F.Select),E=!l?.hasCustomSpot(Eo.F.Target);switch(u){case"selected":k&&b.push(w);break;case"selected-parent":E&&b.push(g);break;case"freezed":b.push(h);break;case"freezed-selected":b.push(h),k&&b.push(w);break;case"hovered":!t.avoidHover&&b.push(y);break}(0,et.isBoolean)(s.locked)&&b.push(s.locked?_:O);var N=b.filter(Boolean).join(" ");N&&r.setAttribute("class",N)},n.prototype.updateHighlight=function(){var t=this.model,e=t.get("textable"),i=t.get("highlightable")&&(e||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",i?!0:"")},n.prototype.updateStyle=function(t,e,i){i===void 0&&(i={});var r=this,a=r.model,s=r.em;if(Ol(s)&&!i.inline){var l=this.__cmpStyleOpts,c=a.getStyle(da({inline:!0},l));!(0,et.isEmpty)(c)&&a.setStyle(c,l)}else this.setAttribute("style",a.styleToString(i))},n.prototype.updateStyles=function(){this.updateStyle()},n.prototype.updateClasses=function(){var t,e,i=((e=(t=this.model.classes).pluck)===null||e===void 0?void 0:e.call(t,"name").join(" "))||"";this.setAttribute("class",i),this.updateStatus(),this.onAttrUpdate()},n.prototype.setAttribute=function(t,e){var i=this.$el;e?i.attr(t,e):i.removeAttr(t)},n.prototype.getClasses=function(){return this.model.getClasses().join(" ")},n.prototype.updateAttributes=function(){var t=[],e=this,i=e.model,r=e.$el,a=e.el,s=i.attributes,l=s.textable,c=s.type,u=da(da({id:i.getId(),"data-gjs-type":c||"default"},this.__isDraggable()&&{draggable:!0}),l&&{contenteditable:"false"});this.__clearAttributes(),this.updateStyle(),this.updateHighlight();var p=da(da({},u),i.getAttributes());(0,et.keys)(p).forEach(function(g){return p[g]===!1&&delete p[g]}),r.attr(p)},n.prototype.__clearAttributes=function(){var t=this,e=t.el,i=t.$el,r=[];(0,et.each)(e.attributes,function(a){return r.push(a.nodeName)}),r.forEach(function(a){return i.removeAttr(a)})},n.prototype.updateContent=function(){var t=this.model.content,e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},n.prototype.prevDef=function(t){t.preventDefault()},n.prototype.updateScript=function(){var t=this,e=t.model,i=t.em;e.get("script")&&i?.Canvas.getCanvasView().updateScript(this)},n.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},n.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},e=this.el,i=0,r=0,a=function(s){var l=s.offsetParent;l?(i+=l.offsetTop,r+=l.offsetLeft,a(l)):(t.top=e.offsetTop+i,t.left=e.offsetLeft+r,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)};return a(e),t},n.prototype.isInViewport=function(){var t=this,e=t.el,i=t.em,r=t.frameView,a=i.Canvas.getCanvasView(),s=a.getElBoxRect(e,{local:!0}),l=r.el,c=l.clientHeight,u=l.clientWidth,p=s.y,g=s.x,h=p+s.height,y=g+s.width,_=p>=0&&p<c,O=h>0&&h<c,M=y>=0&&y<u,w=g>0&&g<=u,T=(_||O)&&(M||w);return T},n.prototype.scrollIntoView=function(t){var e;t===void 0&&(t={});var i=this.isInViewport();if(!i||t.force){var r=this.el;if(t.behavior!=="smooth"){var a=this.getOffsetRect();(e=r.ownerDocument.defaultView)===null||e===void 0||e.scrollTo(0,a.top)}else r.scrollIntoView(da({behavior:"smooth",block:"nearest"},t))}},n.prototype.reset=function(){var t=this,e=t.el,i=t.model;t.scriptContainer&&i.emitWithEditor(kn.I.scriptUnmount,{component:i,view:t,el:e}),this.el="",this._ensureElement(),this._setData(),(0,Me.bG)(e,this.el),this.render()},n.prototype._setData=function(){var t=this,e=t.model,i=t.el,r=e.components(),a=this;this.$el.data({model:e,collection:r,view:a}),(0,oe.setViewEl)(i,this)},n.prototype._createElement=function(t){return this.createDoc.createElement(t)},n.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new BO({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var i=Array.prototype.slice.call(e.el.childNodes),r=0,a=i.length;r<a;r++)t.appendChild(i.shift())},n.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},n.prototype.onAttrUpdate=function(){},n.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,oe.setViewEl)(this.el,this),this.postRender(),this)},n.prototype.postRender=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,i=t.el;this.onRender(this._clbObj()),e.emitWithEditor(kn.I.render,{component:e,view:this,el:i}),this.rendered=!0}},n.getEvents=function(){return(0,et.result)(this.prototype,"events")},n}(ye.Ss),$n=RA,FA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zA=function(o){FA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype._setAttributes=function(){},n.prototype.renderAttributes=function(){},n.prototype.updateStatus=function(){},n.prototype.updateClasses=function(){},n.prototype.setAttribute=function(){},n.prototype.updateAttributes=function(){},n.prototype.initClasses=function(){},n.prototype.initComponents=function(){},n.prototype.delegateEvents=function(){return this},n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var t=this,e=t.model,i=t.el;return e.opt.temporary?this:(i.textContent=e.content,this)},n}($n),UO=zA,VA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jA=function(o){VA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createComment(this.model.content)},n}(UO),HA=jA,BA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),UA=function(o){BA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.initialize=function(t){o.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},n.prototype.updateSrc=function(){var t=(0,Me.I6)(this.el,"iframe")[0];t&&(0,Me.X6)(t,{src:this.__getSrc()})},n.prototype.render=function(){o.prototype.render.call(this);var t=(0,Me.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},n.prototype.__getSrc=function(){return this.model.getAttributes().src||""},n}($n),GA=UA,WA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),KA=function(o){WA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"img"},n.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},n.prototype.initialize=function(t){o.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},n.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,i=t.em,r=e.get("file");if(r&&i){var a=i.Assets.FileUploader();a?.uploadFile({dataTransfer:{files:[r]}},function(s){var l=s&&s.data&&s.data[0],c=l&&((0,et.isString)(l)?l:l.src);c&&e.set({src:c})},{componentView:this,file:r}),e.set("file","")}}},n.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},n.prototype.updateClasses=function(){o.prototype.updateClasses.call(this);var t=this,e=t.el,i=t.classEmpty,r=t.model,a=r.getSrcResult()&&!r.isDefaultSrc(),s=a?"remove":"add";e.classList[s](i)},n.prototype.onActive=function(t){t?.stopPropagation();var e=this,i=e.em,r=e.model,a=i?.Assets;a&&r.get("editable")&&a.open({select:function(s,l){r.set({src:s.getSrc()}),l&&a.close()},target:r,types:["image"],accept:"image/*"})},n.prototype.onError=function(){var t=this,e=t.model,i=t.el,r=e.getSrcResult({fallback:!0});r&&(i.srcset&&(i.srcset=""),i.src=r)},n.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},n.prototype.noDrag=function(t){return t.preventDefault(),!1},n.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,e=t.$el,i=t.model,r=e.attr("class")||"";return!i.get("src")&&e.attr("class","".concat(r," ").concat(this.classEmpty).trim()),this.postRender(),this},n}($n),Q0=KA,qA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ml=function(){return Ml=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Ml.apply(this,arguments)},jf=function(o,n,t,e){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?r(u.value):i(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},Hf=function(o,n){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},e,i,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],i=0}finally{e=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},$A=function(o){qA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},n.prototype.initialize=function(t){o.prototype.initialize.call(this,t),(0,et.bindAll)(this,"disableEditing","onDisable");var e=this.model,i=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=i?.RichTextEditor},n.prototype.updateContentText=function(t,e,i){i===void 0&&(i={}),!i.fromDisable&&this.disableEditing()},n.prototype.canActivate=function(){var t=this,e=t.model,i=t.rteEnabled,r=t.em,a=r?.getEditing(),s=a===e,l=!0,c=!1,u;if((i||!e.get("editable")||s||(c=e.isChildOf("text")))&&(l=!1,c&&!e.get("textable"))){for(var p=e.parent();p&&!p.isInstanceOf("text");)p=p.parent();p&&p.get("editable")?u=p:l=!0}return{result:l,delegate:u}},n.prototype.onActive=function(t){return jf(this,void 0,void 0,function(){var e,i,r,a,s,l,c,u,p,g,h,y;return Hf(this,function(_){switch(_.label){case 0:return e=this,i=e.rte,r=e.em,a=this.canActivate(),s=a.result,l=a.delegate,s?((y=t?.stopPropagation)===null||y===void 0||y.call(t),c=this,[4,this.getContent()]):(l&&((h=t?.stopPropagation)===null||h===void 0||h.call(t),r.setSelected(l),l.trigger("active",t)),[2]);case 1:if(c.lastContent=_.sent(),!i)return[3,5];_.label=2;case 2:return _.trys.push([2,4,,5]),u=this,p=this,[4,i.enable(u,this.activeRte,{event:t,view:u})];case 3:return p.activeRte=_.sent(),[3,5];case 4:return g=_.sent(),r.logError(g),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},n.prototype.onDisable=function(t){this.disableEditing(t)},n.prototype.disableEditing=function(){return jf(this,arguments,void 0,function(t){var e,i,r,a,s,l,c,u,p;return t===void 0&&(t={}),Hf(this,function(g){switch(g.label){case 0:return e=this,i=e.model,r=e.rte,a=e.activeRte,s=e.em,l=i&&i.get("editable"),r?(c={},[4,this.getContent()]):[3,7];case 1:u=g.sent(),g.label=2;case 2:return g.trys.push([2,4,,5]),[4,r.disable(this,a,t)];case 3:return c=g.sent(),[3,5];case 4:return p=g.sent(),s.logError(p),[3,5];case 5:return l&&(u!==this.lastContent||c.forceSync)?[4,this.syncContent(Ml(Ml({},t),{content:u}))]:[3,7];case 6:g.sent(),this.lastContent="",g.label=7;case 7:return this.toggleEvents(),[2]}})})},n.prototype.getContent=function(){return jf(this,void 0,void 0,function(){var t,e,i,r;return Hf(this,function(a){switch(a.label){case 0:return t=this,e=t.rte,i=t.activeRte,r="",e?[4,e.getContent(this,i)]:[3,2];case 1:r=a.sent(),a.label=2;case 2:return[2,r]}})})},n.prototype.syncContent=function(){return jf(this,arguments,void 0,function(t){var e,i,r,a,s,l,c,u,p;return t===void 0&&(t={}),Hf(this,function(g){switch(g.label){case 0:return e=this,i=e.model,r=e.rte,a=e.rteEnabled,!a&&!t.force?[2]:(p=t.content)!==null&&p!==void 0?(l=p,[3,3]):[3,1];case 1:return[4,this.getContent()];case 2:l=g.sent(),g.label=3;case 3:return s=l,c=i.components(),u=Ml({fromDisable:1},t),i.set("content","",u),r?.customRte&&!r.customRte.parseContent?(c.length&&c.reset(void 0,Ml(Ml({},t),{keepIds:Nc(c)})),i.set("content",s,u)):c.resetFromString(s,t),[2]}})})},n.prototype.insertComponent=function(t,e){var i;e===void 0&&(e={});var r=this,a=r.model,s=r.el,l=s.ownerDocument,c=l.getSelection();if(c?.rangeCount){var u=c.getRangeAt(0),p=u.startContainer,g=u.startOffset,h=(0,oe.getComponentModel)(p),y=[];if(h&&(!((i=h.is)===null||i===void 0)&&i.call(h,"textnode"))){var _=h.collection;_.forEach(function(w){if(w===h){var T="textnode",b=e.useDomContent?p.textContent||"":w.content;y.push({type:T,content:b.slice(0,g)}),y.push(t),y.push({type:T,content:b.slice(g)})}else y.push(w)});var O=y.filter(Boolean),M=O.indexOf(t);return _.reset(O,e),_.at(M)}}return a.append(t,e)},n.prototype.onInput=function(){var t=this.model,e=[kn.I.update,kn.I.input];e.forEach(function(i){return t.emitWithEditor(i,t)})},n.prototype.disablePropagation=function(t){t.stopPropagation()},n.prototype.toggleEvents=function(t){var e=this,i=e.em,r=e.model,a=e.$el,s={on:Me.on,off:Me.AU},l=t?"on":"off";i.setEditing(t?this:!1),this.rteEnabled=!!t;var c=[this.el.ownerDocument,document];if(s.off(c,"mousedown",this.onDisable),s[l](c,"mousedown",this.onDisable),i[l]("toolbar:run:before",this.onDisable),r&&(r[l]("removed",this.onDisable),r.trigger("rte:".concat(t?"enable":"disable"))),a?.off("mousedown",this.disablePropagation),a&&a[l]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var u=this.el;u;)u.draggable=!t,u=u.parentNode,u&&u.tagName=="BODY"&&(u=0)},n}($n),GO=$A,YA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),XA=function(o){YA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.render=function(){return o.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},n}(GO),WO=XA,QA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),JA=function(o){QA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(WO),ZA=JA,tI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eI=function(o){tI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(t){o.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},n.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},n.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},n.prototype.render=function(){return o.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},n}(Q0),nI=eI,iI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rI=function(o){iI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"script"},n.prototype.events=function(){return{}},n}($n),oI=rI,aI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sI=function(o){aI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},n}($n),lx=sI,lI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cI=function(o){lI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}($n),dI=cI,uI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pI=function(o){uI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}($n),fI=pI,gI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hI=function(o){gI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}($n),mI=hI,vI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_I=function(o){vI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}($n),yI=_I,bI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CI=function(o){bI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}($n),xI=CI,OI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PI=function(o){OI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return{}},n}($n),MI=PI,wI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),SI=function(o){wI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(){$n.prototype.initialize.apply(this,arguments);var t=this.model,e=["loop","autoplay","controls","color","rel","modestbranding","poster","muted"],i=e.map(function(r){return"change:".concat(r)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,i,this.updateVideo)},n.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},n.prototype.updateSrc=function(){var t=this,e=t.model,i=t.videoEl;if(i){var r=e.get("provider"),a=e.get("src");switch(r){case"yt":a=e.getYoutubeSrc();break;case"ytnc":a=e.getYoutubeNoCookieSrc();break;case"vi":a=e.getVimeoSrc();break}i.src=a}},n.prototype.updateVideo=function(){var t=this,e=t.model,i=t.videoEl,r=e.get("provider");switch(r){case"yt":case"ytnc":case"vi":e.trigger("change:videoId");break;default:if(i){var a=i;a.loop=e.get("loop"),a.autoplay=e.get("autoplay"),a.controls=e.get("controls"),a.poster=e.get("poster"),a.muted=e.get("muted")}}},n.prototype.renderByProvider=function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},n.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},n.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},n.prototype.render=function(){$n.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},n}(Q0),TI=SI,EI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kI=function(o){EI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n}($n),AI=kI,II=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tg=function(){return Tg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Tg.apply(this,arguments)},DI=function(o){II(n,o);function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=o.apply(this,t)||this;i.refreshDbn=(0,et.debounce)(function(){return i.refresh()},0);var r=i.events;return i.on(r.update,i.onUpdate),i.on(r.updateInside,i.onUpdateDeep),i}return n.prototype.removeChildren=function(t,e,i){var r;i===void 0&&(i={}),o.prototype.removeChildren.call(this,t,e,i),(r=jr(t))===null||r===void 0||r.forEach(function(a){return sh(a,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:t})},n.prototype.onAdd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.onAdd.apply(this,t);var i=t[0];this.__trgEvent(this.events.symbolMainAdd,{component:i})},n.prototype.onUpdate=function(t){this.__trgEvent(this.events.symbolMainUpdate,t)},n.prototype.onUpdateDeep=function(t){this.__trgEvent(this.events.symbolMainUpdateDeep,t)},n.prototype.refresh=function(){var t=this,e=t.em,i=t.events;e.trigger(i.symbol)},n.prototype.__trgEvent=function(t,e,i){i===void 0&&(i=!1);var r=this,a=r.em,s=r.events,l=i?s.symbolInstance:s.symbolMain;a.trigger(t,e),a.trigger(l,Tg(Tg({},e),{event:t})),this.refreshDbn()},n}(zu),LI=DI,NI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vc=function(){return Vc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Vc.apply(this,arguments)},KO=function(o){NI(n,o);function n(t,e){var i=o.call(this,t,e)||this;return i.dataResolver=i.initializeDataResolver(t,e),i.listenToPropsChange(),i}return n.prototype.initializeDataResolver=function(t,e){var i,r=(i=t.dataResolver)!==null&&i!==void 0?i:{type:t.type},a=this.createResolverInstance(r,Vc(Vc({},e),{collectionsStateMap:this.collectionsStateMap}));return a},n.prototype.getDataResolver=function(){return this.get("dataResolver")},n.prototype.setDataResolver=function(t){return this.set("dataResolver",t)},n.prototype.onCollectionsStateMapUpdate=function(t){this.dataResolver.updateCollectionsStateMap(t),o.prototype.onCollectionsStateMapUpdate.call(this,t)},n.prototype.listenToPropsChange=function(){var t=this;this.listenTo(this.dataResolver,"change",function(){t.__changesUp({m:t})}.bind(this)),this.on("change:dataResolver",function(){t.dataResolver.set(t.get("dataResolver"))})},n.prototype.removePropsListeners=function(){this.stopListening(this.dataResolver),this.off("change:dataResolver"),this.off("change:".concat(this.collectionsStateMap))},n.prototype.destroy=function(t){return this.removePropsListeners(),o.prototype.destroy.call(this,t)},n.prototype.toJSON=function(t){var e=o.prototype.toJSON.call(this,t),i=this.dataResolver.toJSON();return delete i.type,Vc(Vc({},e),{dataResolver:i})},n}(li),RI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Eg=function(){return Eg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Eg.apply(this,arguments)},FI=function(o){RI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Eg(Eg({},o.prototype.defaults),{type:po,dataResolver:{},droppable:!1})},enumerable:!1,configurable:!0}),n.prototype.getPath=function(){return this.dataResolver.get("path")},n.prototype.getCollectionId=function(){return this.dataResolver.get("collectionId")},n.prototype.getVariableType=function(){return this.dataResolver.get("variableType")},n.prototype.getDefaultValue=function(){return this.dataResolver.get("defaultValue")},n.prototype.getDataValue=function(){return this.dataResolver.getDataValue()},n.prototype.resolvesFromCollection=function(){return this.dataResolver.resolvesFromCollection()},n.prototype.getInnerHTML=function(){return this.getDataValue()},n.prototype.setPath=function(t){this.dataResolver.set("path",t)},n.prototype.setDefaultValue=function(t){this.dataResolver.set("defaultValue",t)},n.prototype.resetDataSourcePath=function(t){this.set("dataResolver",{path:t,collectionId:void 0,variableType:void 0})},n.prototype.createResolverInstance=function(t,e){return new Zc(t,e)},n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===po},n}(KO),zI=FI,VI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jI=function(o){VI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initialize=function(t){var e=this;t===void 0&&(t={}),o.prototype.initialize.call(this,t),this.dataResolverListener=new ju({em:this.em,resolver:this.model.dataResolver,onUpdate:function(){return e.postRender()}})},n.prototype.remove=function(){return this.dataResolverListener.destroy(),o.prototype.remove.call(this)},n.prototype.postRender=function(){var t=this.model,e=t.getDataResolver(),i=!!e.asPlainText;i?this.el.textContent=t.getDataValue():this.el.innerHTML=t.getDataValue(),o.prototype.postRender.call(this)},n}($n),HI=jI,BI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),UI=function(o){BI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initialize=function(t){t===void 0&&(t={}),o.prototype.initialize.call(this,t),this.postRender=this.postRender.bind(this),this.listenTo(this.model.components(),"reset",this.postRender),this.dataResolverListener=new ju({em:this.em,resolver:this.model.dataResolver,onUpdate:this.postRender})},n.prototype.renderDataResolver=function(){var t=this.model.getIfTrueContent(),e=this.model.getIfFalseContent(),i=t?.getEl(),r=e?.getEl(),a=this.model.isTrue();i&&(i.style.display=a?"":"none"),r&&(r.style.display=a?"none":"")},n.prototype.postRender=function(){this.renderDataResolver(),o.prototype.postRender.call(this)},n.prototype.remove=function(){return this.stopListening(this.model.components(),"reset",this.postRender),this.dataResolverListener.destroy(),o.prototype.remove.call(this)},n}($n),GI=UI,WI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kg=function(){return kg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},kg.apply(this,arguments)},KI=function(o){WI(n,o);function n(t,e){e===void 0&&(e={});var i,r=o.call(this,t,e)||this;return r.mutable=(i=t.mutable)!==null&&i!==void 0?i:!0,r.on("change",r.handleChange),r}return Object.defineProperty(n.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),n.prototype.handleChange=function(t,e){var i=this,r=this.changedAttributes();(0,et.keys)(r).forEach(function(a){return i.triggerChange(a,e)})},n.prototype.getPath=function(t,e){e===void 0&&(e={});var i=this,r=i.dataSource,a=i.id,s=i.index,l=r.id,c=t?".".concat(t):"";return"".concat(l,".").concat(e.useIndex?s:a).concat(c)},n.prototype.getPaths=function(t){return[this.getPath(t),this.getPath(t,{useIndex:!0})]},n.prototype.triggerChange=function(t,e){e===void 0&&(e={});var i=this,r=i.dataSource,a=i.em,s=this.getPaths(t),l={dataSource:r,dataRecord:this,path:s[0],options:e};a.trigger(Il.path,l),a.trigger("".concat(Il.pathSource,":").concat(r.id),l),s.forEach(function(c){return a.trigger("".concat(Il.path,":").concat(c),kg(kg({},l),{path:c}))})},n.prototype.set=function(t,e,i){var r=this,a,s;if(!this.isNew()&&this.attributes.mutable===!1)throw new Error("Cannot modify immutable record");var l=(s=(a=this.dataSource)===null||a===void 0?void 0:a.transformers)===null||s===void 0?void 0:s.onRecordSetValue,c=function(O,M,w){w===void 0&&(w={});var T=w?.avoidTransformers||!l?M:l({id:r.id,key:O,value:M});o.prototype.set.call(r,O,T,w),o.prototype.set.call(r,{__p:w.partial?!0:void 0},w)};if(typeof t=="object"&&t!==null)for(var u=t,p=0,g=Object.entries(u);p<g.length;p++){var h=g[p],y=h[0],_=h[1];c(y,_,e)}else c(t,e,i);return this},n}(ye.Kx),qI=KI,$I=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qO=function(o){$I(n,o);function n(t,e){var i=o.call(this,t,e)||this;return i.dataSource=e.dataSource,i}return n}(ye.pM),cx=qO;qO.prototype.model=qI;var YI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ag=function(){return Ag=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Ag.apply(this,arguments)},XI=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},QI=function(o){YI(n,o);function n(t,e){var i=o.call(this,Ag(Ag({},t),{records:[]}),e)||this,r=t.records,a=t.transformers;return i.transformers=a||{},r instanceof cx||i.set({records:new cx(r,{dataSource:i})}),i.listenTo(i.records,"add",i.onAdd),i.listenTo(i.records,ye.e2,i.handleChanges),i}return n.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(n.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),n.prototype.onAdd=function(t){t.triggerChange()},n.prototype.addRecord=function(t,e){return this.records.add(t,e)},n.prototype.getRecord=function(t){return this.records.get(t)},n.prototype.getRecords=function(){var t=this;return XI([],this.records.models,!0).map(function(e){return t.getRecord(e.id)})},n.prototype.removeRecord=function(t,e){var i=this.getRecord(t);if(i?.mutable===!1&&!e?.dangerously)throw new Error("Cannot remove immutable record");return this.records.remove(t,e)},n.prototype.setRecords=function(t){var e=this;this.records.reset([],{silent:!0}),t.forEach(function(i){e.records.add(i)})},n.prototype.handleChanges=function(t,e,i){this.em.changesUp(i||e)},n}(ye.Kx),$O=QI,JI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vr=function(){return vr=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},vr.apply(this,arguments)},j1={avoidStore:!0,partial:!0},ZI=function(o){JI(n,o);function n(t,e){var i=this;if(e.forCloning)return i=o.call(this,t,e)||this;var r=vr(vr({},t),{droppable:!1}),a=i=o.call(this,r,e)||this;return i.rebuildChildrenFromCollection=i.rebuildChildrenFromCollection.bind(i),i.listenToPropsChange(),i.rebuildChildrenFromCollection(),a}return Object.defineProperty(n.prototype,"defaults",{get:function(){return vr(vr({},o.prototype.defaults),{droppable:!1,dataResolver:{},type:p0,components:[{type:wu}]})},enumerable:!1,configurable:!0}),n.prototype.getDataResolver=function(){return this.get("dataResolver")},n.prototype.getItemsCount=function(){var t,e,i=this.getDataSourceItems(),r=eD(i),a=Math.max(0,(t=this.getConfigStartIndex())!==null&&t!==void 0?t:0),s=(e=this.getConfigEndIndex())!==null&&e!==void 0?e:Number.MAX_VALUE,l=Math.min(r-1,s),c=l-a+1;return Math.max(0,c)},n.prototype.getConfigStartIndex=function(){return this.dataResolver.startIndex},n.prototype.getConfigEndIndex=function(){return this.dataResolver.endIndex},n.prototype.getDataSource=function(){var t;return(t=this.dataResolver)===null||t===void 0?void 0:t.dataSource},n.prototype.getCollectionId=function(){var t;return(t=this.dataResolver)===null||t===void 0?void 0:t.collectionId},n.prototype.getCollectionItemComponents=function(){return this.firstChild.components()},n.prototype.setDataResolver=function(t){return this.set("dataResolver",t)},n.prototype.setCollectionId=function(t){this.updateCollectionConfig({collectionId:t})},n.prototype.setStartIndex=function(t){if(t<0){this.em.logError("Start index should be greater than or equal to 0");return}this.updateCollectionConfig({startIndex:t})},n.prototype.setEndIndex=function(t){this.updateCollectionConfig({endIndex:t})},n.prototype.setDataSource=function(t){this.set(Ic,vr(vr({},this.dataResolver),{dataSource:t}))},n.prototype.setCollectionItemComponents=function(t){this.firstChild.components(t)},Object.defineProperty(n.prototype,"firstChild",{get:function(){return this.components().at(0)},enumerable:!1,configurable:!0}),n.prototype.updateCollectionConfig=function(t){this.set(Ic,vr(vr({},this.dataResolver),t))},n.prototype.getDataSourceItems=function(){var t=rD(this.dataResolver.dataSource,this.em);if((0,et.isArray)(t))return t;var e=vr({},t);return delete e.__p,e},Object.defineProperty(n.prototype,"dataResolver",{get:function(){return this.get(Ic)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"collectionDataSource",{get:function(){return this.dataResolver.dataSource},enumerable:!1,configurable:!0}),n.prototype.listenToDataSource=function(){var t,e=this.em,i=(t=this.collectionDataSource)===null||t===void 0?void 0:t.path;i&&(this.dataSourceWatcher=new ju({em:e,resolver:new Zc({type:po,path:i},{em:e,collectionsStateMap:this.collectionsStateMap}),onUpdate:this.rebuildChildrenFromCollection}))},n.prototype.rebuildChildrenFromCollection=function(){this.components().reset(this.getCollectionItems(),Xf)},n.prototype.getCollectionItems=function(){var t,e=this.ensureFirstChild(),i=e.getStyle().display,r=!i||i==="none",a=r?"":i;e.addStyle({display:"none"},j1);var s=[e],l=iD(this.dataResolver,this.em);if(!l)return s;var c=this.collectionId,u=this.getDataSourceItems(),p=this.resolveCollectionConfig(u),g=p.startIndex,h=p.endIndex,y=this.hasDuplicateCollectionId();if(y)return this.em.logError('The collection ID "'.concat(c,'" already exists in the parent collection state. Overriding it is not allowed.')),s;for(var _=g;_<=h;_++){var O=_===g,M=(0,et.isArray)(u)?_:Object.keys(u)[_],w=this.getCollectionsStateMapForItem(u,M);if(O){(t=jr(e))===null||t===void 0||t.forEach(function(b){return sh(b)}),dx(e,w),e.addStyle({display:a},j1);continue}var T=e.clone({symbol:!0,symbolInv:!0});T.set({locked:!0,layerable:!1},j1),dx(T,w),s.push(T)}return s},n.prototype.getCollectionsStateMapForItem=function(t,e){var i,r=this.resolveCollectionConfig(t),a=r.startIndex,s=r.endIndex,l=r.totalItems,c=this.collectionId,u=t[e],p=this.collectionsStateMap,g=typeof e=="string"?Object.keys(t).indexOf(e):e,h=g-a,y=l-(1+h),_={collectionId:c,currentIndex:g,currentItem:u,currentKey:e,startIndex:a,endIndex:s,totalItems:l,remainingItems:y},O=vr(vr({},p),(i={},i[c]=_,i));return O},n.prototype.hasDuplicateCollectionId=function(){var t=this.collectionId,e=this.collectionsStateMap;return!!e[t]},n.prototype.resolveCollectionConfig=function(t){var e,i,r=Array.isArray(t),a=r?t.length:Object.keys(t).length,s=(e=this.getConfigStartIndex())!==null&&e!==void 0?e:0,l=(i=this.getConfigEndIndex())!==null&&i!==void 0?i:Number.MAX_VALUE,c=Math.min(a-1,l),u=0;return a>0&&(u=Math.max(0,c-s+1)),{startIndex:s,endIndex:c,totalItems:u,isArray:r}},n.prototype.ensureFirstChild=function(){var t=this.em.Components.getType(wu).model;return this.firstChild||new t({type:wu},this.opt)},n.prototype.listenToPropsChange=function(){var t=this;this.on("change:".concat(Ic),function(){t.rebuildChildrenFromCollection(),t.listenToDataSource()}),this.listenToDataSource()},n.prototype.removePropsListeners=function(){var t;this.off("change:".concat(Ic)),(t=this.dataSourceWatcher)===null||t===void 0||t.destroy()},n.prototype.onCollectionsStateMapUpdate=function(t){var e=this;o.prototype.onCollectionsStateMapUpdate.call(this,t);var i=this.getDataSourceItems(),r=this.resolveCollectionConfig(i).startIndex,a=this.components();a.forEach(function(s,l){var c=e.getCollectionsStateMapForItem(i,r+l);s.onCollectionsStateMapUpdate(c)})},n.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.onCollectionsStateMapUpdate({})},n.prototype.syncOnComponentChange=function(t,e,i){var r=this.collectionsStateMap;this.collectionsStateMap={},o.prototype.syncOnComponentChange.call(this,t,e,i),this.collectionsStateMap=r,this.onCollectionsStateMapUpdate(r)},Object.defineProperty(n.prototype,"collectionId",{get:function(){return this.getDataResolver().collectionId},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===p0},n.prototype.toJSON=function(t){var e,i=o.prototype.toJSON.call(this,t);delete i.droppable,delete i[Rr],(e=i.attributes)===null||e===void 0||delete e.id;var r=this.firstChild;return vr(vr({},i),{components:[r]})},n.prototype.destroy=function(t){return this.removePropsListeners(),o.prototype.destroy.call(this,t)},n}(li),tD=ZI;function eD(o){return(0,et.isArray)(o)?o.length:Object.keys(o).length}function dx(o,n){o.setSymbolOverride(["locked","layerable",Dc]),o.syncComponentsCollectionState(),o.onCollectionsStateMapUpdate(n)}function nD(o,n,t){return o?!0:(t.logError('The "'.concat(n,'" property is required in the collection definition.')),!1)}function iD(o,n){for(var t=[{property:o?.collectionId,propertyPath:"dataResolver.collectionId"},{property:o?.dataSource,propertyPath:"dataResolver.dataSource"}],e=0,i=t;e<i.length;e++){var r=i[e].propertyPath;if(!nD(o,r,n))return[]}var a=o?.startIndex;return a!==void 0&&(a<0||!Number.isInteger(a))&&n.logError("Invalid startIndex: ".concat(a,". It must be a non-negative integer.")),!0}function rD(o,n){switch(!0){case((0,oe.isObject)(o)&&o instanceof $O):{var t=o.get("id");return ux(t,n)}case Ll(o):{var e=o.path;if(!e)return[];var i=e.split(".").length===1;return i?ux(e,n):n.DataSources.getValue(e,[])}default:return[]}}function ux(o,n){var t=n.DataSources.getValue(o,[]),e=Object.keys(t);return e.map(function(i){return{type:po,path:o+"."+i}})}var oD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),aD=function(o){oD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}($n),sD=aD,lD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ig=function(){return Ig=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Ig.apply(this,arguments)},cD=function(o){lD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Ig(Ig({},o.prototype.defaults),{droppable:!1,type:Rs,dataResolver:{condition:{left:"",operator:ua.equalsIgnoreCase,right:""}},components:[{type:G0},{type:W0}]})},enumerable:!1,configurable:!0}),n.prototype.isTrue=function(){return this.dataResolver.isTrue()},n.prototype.getCondition=function(){return this.dataResolver.getCondition()},n.prototype.getIfTrueContent=function(){return this.components().at(0)},n.prototype.getIfFalseContent=function(){return this.components().at(1)},n.prototype.getOutputContent=function(){return this.isTrue()?this.getIfTrueContent():this.getIfFalseContent()},n.prototype.setCondition=function(t){this.dataResolver.setCondition(t)},n.prototype.setIfTrueComponents=function(t){this.setComponentsAtIndex(0,t)},n.prototype.setIfFalseComponents=function(t){this.setComponentsAtIndex(1,t)},n.prototype.getInnerHTML=function(t){var e,i;return(i=(e=this.getOutputContent())===null||e===void 0?void 0:e.getInnerHTML(t))!==null&&i!==void 0?i:""},n.prototype.createResolverInstance=function(t,e){return new PO(t,e)},n.prototype.setComponentsAtIndex=function(t,e){var i=this.components().at(t);i?.components(e)},n.isComponent=function(t){return(0,oe.toLowerCase)(t.tagName)===Rs},n}(KO),dD=cD,uD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dg=function(){return Dg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Dg.apply(this,arguments)},pD=function(o){uD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Dg(Dg({},o.prototype.defaults),{removable:!1,draggable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return kk((0,oe.toLowerCase)(t.tagName))},n}(li),H1=pD,fD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xi=function(){return Xi=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Xi.apply(this,arguments)},gD=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(o);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(o,e[i])&&(t[e[i]]=o[e[i]]);return t},hD=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},Cu=function(o){return o[o.InvalidSource=0]="InvalidSource",o[o.SourceReject=1]="SourceReject",o[o.TargetReject=2]="TargetReject",o}(Cu||{}),mD=function(o){fD(n,o);function n(t){var e=o.call(this,t,"DomComponents",new zu(void 0,{em:t}),kn.I,L7())||this;e.componentTypes=[{id:wu,model:H1,view:$n},{id:G0,model:H1,view:$n},{id:W0,model:H1,view:$n},{id:p0,model:tD,view:sD},{id:Rs,model:dD,view:GI},{id:po,model:zI,view:HI},{id:"cell",model:vA,view:fI},{id:"row",model:wA,view:xI},{id:"table",model:pA,view:MI},{id:"thead",model:OA,view:yI},{id:"tbody",model:X0,view:dI},{id:"tfoot",model:bA,view:mI},{id:"map",model:eA,view:nI},{id:"link",model:J7,view:WO},{id:"label",model:Y7,view:ZA},{id:"video",model:EA,view:TI},{id:"image",model:$0,view:Q0},{id:"script",model:rA,view:oI},{id:"svg-in",model:cA,view:lx},{id:"svg",model:HO,view:lx},{id:"iframe",model:B7,view:GA},{id:"comment",model:V7,view:HA},{id:"textnode",model:jO,view:UO},{id:Xc,model:c7,view:$n},{id:"wrapper",model:IA,view:AI},{id:"text",model:Y0,view:GO},{id:"default",model:li,view:$n}],e.componentsById={},e.Component=li,e.Components=zu,e.ComponentView=$n,e.ComponentsView=BO,e.storageKey="components",e.keySymbols="symbols",e.events=kn.I;var i=e.config;e.symbols=new LI([],{em:t,config:i,domc:e}),t&&(e.config.components=t.config.components||e.config.components);var r=e.config.pStylePrefix;if(r&&(e.config.stylePrefix=r+e.config.stylePrefix),t){t.get("Parser").compTypes=e.componentTypes,t.on("change:componentHovered",e.componentHovered,e);var a=t.get("selected");t.listenTo(a,"add",function(s,l,c){return e.selectAdd(a.getComponent(s),c)}),t.listenTo(a,"remove",function(s,l,c){return e.selectRemove(a.getComponent(s),c)})}return e}return n.prototype.postLoad=function(){var t=this,e=t.em,i=t.symbols,r=e.UndoManager;r.add(i)},n.prototype.load=function(t){var e=this,i=this.loadProjectData(t,{onResult:function(r){var a=e.getWrapper();if(a||(e.em.Pages.add({},{select:!0}),a=e.getWrapper()),(0,et.isArray)(r))r.length&&a.components(r);else{var s=r.components,l=s===void 0?[]:s,c=gD(r,["components"]);a.set(c),a.components(l)}}});return this.symbols.reset(t[this.keySymbols]||[]),i},n.prototype.store=function(){var t;return t={},t[this.keySymbols]=this.symbols,t},n.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),e=t?.getMainFrame();return e?.getComponent()},n.prototype.getWrapper=function(){return this.getComponent()},n.prototype.getComponents=function(){var t=this.getWrapper();return t?.components()},n.prototype.addComponent=function(t,e){return e===void 0&&(e={}),this.getComponents().add(t,e)},n.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.getComponents();return e?.filter(Boolean).forEach(function(i){return i.remove(t)}),this},n.prototype.setComponents=function(t,e){e===void 0&&(e={}),this.clear(e).addComponent(t,e)},n.prototype.addType=function(t,e){var i=this.em,r=e.model,a=r===void 0?{}:r,s=e.view,l=s===void 0?{}:s,c=e.isComponent,u=e.extend,p=e.extendView,g=e.extendFn,h=g===void 0?[]:g,y=e.extendFnView,_=y===void 0?[]:y,O=e.block,M=this.getType(t),w=this.getType(u),T=this.getType(p),b=w||M||this.getType("default"),k=b.model,E=T?T.view:b.view,N=function(W,q,J){return W.reduce(function(D,Z){var nt=q[Z],pt=J.prototype[Z];return nt&&pt&&(D[Z]=function(){for(var Vt=[],qt=0;qt<arguments.length;qt++)Vt[qt]=arguments[qt];pt.bind(this).apply(void 0,Vt),nt.bind(this).apply(void 0,Vt)}),D},{})};if(typeof a=="object"){var F={defaults:a.defaults};delete a.defaults;var V=new Set(k.typeExtends);V.add(k.getDefaults().type),e.model=k.extend(Xi(Xi({},a),N(h,a,k)),{typeExtends:V,isComponent:M&&!w&&!c?k.isComponent:c||function(){return 0}}),Object.defineProperty(e.model.prototype,"defaults",{get:function(){return Xi(Xi({},(0,et.result)(k.prototype,"defaults")||{}),(0,et.result)(F,"defaults")||{})}})}if(typeof l=="object"&&(e.view=E.extend(Xi(Xi({},l),N(_,l,E)))),M?(M.model=e.model,M.view=e.view):(e.id=t,this.componentTypes.unshift(e)),O){var R={id:t,label:t,content:{type:t}},H=O===!0?R:Xi(Xi({},R),O);i.Blocks.add(H.id||t,H)}var L="component:type:".concat(M?"update":"add");return i?.trigger(L,M||e),this},n.prototype.getType=function(t){for(var e=this.componentTypes,i=0;i<e.length;i++){var r=e[i].id;if(r==t)return e[i]}},n.prototype.removeType=function(t){var e=this.componentTypes,i=this.getType(t);if(i){var r=e.indexOf(i);return e.splice(r,1),i}},n.prototype.getTypes=function(){return this.componentTypes},n.prototype.selectAdd=function(t,e){var i=this;e===void 0&&(e={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(r){return i.em.trigger(r,t,e)}))},n.prototype.selectRemove=function(t,e){var i=this;if(e===void 0&&(e={}),t){var r=this.em;t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(a){return i.em.trigger(a,t,e)})}},n.prototype.componentHovered=function(){var t=this.em,e=t.get("componentHovered"),i=t.previous("componentHovered"),r="hovered";i&&i.get("status")==r&&i.set({status:"",state:""}),e&&(0,et.isEmpty)(e.get("status"))&&e.set("status",r)},n.prototype.getShallowWrapper=function(){var t=this,e=t.shallow,i=t.em;if(!e&&i){var r=i.shallow;if(!r)return;var a=r.Components;if(a.componentTypes=this.componentTypes,e=a.getWrapper(),e){var s=[Jf,m0].join(" ");e.on(s,(0,et.debounce)(function(){return e?.components("")},100))}this.shallow=e}return e},n.prototype.isComponent=function(t){return(0,oe.isComponent)(t)},n.prototype.addSymbol=function(t){if(!((0,et.isSymbol)(t)&&!Dl(t))){var e=t.clone({symbol:!0});return El(e)&&this.symbols.add(e),this.em.trigger("component:toggled"),e}},n.prototype.getSymbols=function(){return hD([],this.symbols.models,!0)},n.prototype.detachSymbol=function(t){eg(t)&&sh(t)},n.prototype.getSymbolInfo=function(t,e){e===void 0&&(e={});var i=El(t),r=ko(t),a=!!r,s=jr(i?t:r)||[],l=r||(i?t:void 0),c=Ra(t,{changed:e.withChanges}),u=i||a,p=u&&Dl(t);return{isSymbol:u,isMain:i,isInstance:a,isRoot:p,main:l,instances:s,relatives:c||[]}},n.prototype.canMove=function(t,e,i){var r={result:!1,reason:Cu.InvalidSource,target:t,source:null};if(!e||!t)return r;if(pa(t)&&e instanceof li&&pa(e)){var a=Fu(t),s=El(a)?a:ko(a),l=Fu(e),c=El(l)?l:ko(l),u=s===c,p=a!==l;if(u&&p)return Xi(Xi({},r),{reason:Cu.TargetReject})}var g=(0,oe.isComponent)(e)?e:null;if(!g){var h=this.getShallowWrapper();g=h?.append(e,{temporary:!0})[0]||null}if(r.source=g,!g)return r;var y=g.get("draggable");if((0,et.isFunction)(y))y=!!y(g,t,i);else{var _=t.getEl();y=(0,et.isArray)(y)?y.join(","):y,y=(0,et.isString)(y)?_?.matches(y):y}if(!y)return Xi(Xi({},r),{reason:Cu.SourceReject});var O=t.get("droppable");if((0,et.isFunction)(O))O=!!O(g,t,i);else if(O===!1&&t.isInstanceOf("text")&&g.get("textable"))O=!0;else{var _=g.getEl();O=(0,et.isArray)(O)?O.join(","):O,O=(0,et.isString)(O)?_?.matches(O):O}var M=[t].concat(t.parents()).indexOf(g)>-1;return!O||M?Xi(Xi({},r),{reason:Cu.TargetReject}):Xi(Xi({},r),{result:!0})},n.prototype.allById=function(){return this.componentsById},n.prototype.getById=function(t){return this.componentsById[t]||null},n.prototype.destroy=function(){var t,e=this.allById();Object.keys(e).forEach(function(i){return e[i]&&e[i].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(i){return i={}})},n}(Va),vD=mD,_D=function(){return{stylePrefix:"css-",rules:[]}},yD=_D,bD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CD=Number.MAX_VALUE,xD=function(o){var n=/(-?\d*\.?\d+)\w{0,}/.exec(o);return n?n[0]:""},OD=function(o){bD(n,o);function n(){var t=o.call(this)||this;return(0,et.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return n.prototype.buildFromModel=function(t,e){var i=this;e===void 0&&(e={});var r="",a=this.em,s=a&&a.getConfig().avoidInlineStyle,l=t.styleToString(),c=t.classes;this.ids.push("#".concat(t.getId())),c.forEach(function(p){return i.compCls.push(p.getFullName())}),!s&&l&&(r="#".concat(t.getId(),"{").concat(l,"}"));var u=t.components();return u.forEach(function(p){return r+=i.buildFromModel(p,e)}),r},n.prototype.build=function(t,e){var i=this;e===void 0&&(e={});var r=e.json,a=e.em,s=e.cssc||a?.Css;this.em=a,this.compCls=[],this.ids=[],this.model=t;var l=[],c=t?this.buildFromModel(t,e):"",u=(0,et.isUndefined)(e.clearStyles)&&a?a.getConfig().clearStyles:e.clearStyles;if(s){var p=e.rules||s.getAll(),g={},h=[];e.onlyMatched&&t&&(0,oe.hasWin)()&&(p=this.matchedRules(t,p)),p.forEach(function(y){var _=y.getAtRule();if(_){var O=g[_];O?O.push(y):g[_]=[y];return}var M=i.buildFromRule(y,h,e);r?l.push(M):c+=M}),this.sortMediaObject(g).forEach(function(y){var _="",O=y.key,M=y.value;M.forEach(function(w){var T=i.buildFromRule(w,h,e);w.get("singleAtRule")?c+="".concat(O,"{").concat(T,"}"):_+=T,r&&l.push(T)}),_&&(c+="".concat(O,"{").concat(_,"}"))}),a&&u&&p.remove&&p.remove(h)}return r?l.filter(function(y){return y}):c},n.prototype.buildFromRule=function(t,e,i){var r=this,a;i===void 0&&(i={});var s="",l=this.model,c=t.selectorsToString({skipAdd:1}),u=t.get("selectorsAdd"),p=t.get("singleAtRule"),g;if((a=t.get("selectors"))===null||a===void 0||a.forEach(function(y){var _=y.getFullName();(r.compCls.indexOf(_)>=0||r.ids.indexOf(_)>=0||i.keepUnusedStyles)&&(g=1)}),c&&g||u||p||!l){var h=t.getDeclaration();h&&(i.json?s=t:s+=h)}else e.push(t);return s},n.prototype.matchedRules=function(t,e){var i=this,r=t.getEl(),a=[];return e.forEach(function(s){try{s.selectorsToString().split(",").some(function(l){return r?.matches(i.__cleanSelector(l))})&&a.push(s)}catch{}}),t.components().forEach(function(s){a=a.concat(i.matchedRules(s,e))}),a=a.filter(function(s,l){return a.indexOf(s)===l}),a},n.prototype.getQueryLength=function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):CD},n.prototype.sortMediaObject=function(t){var e=this;t===void 0&&(t={});var i=[];return(0,et.each)(t,function(r,a){return i.push({key:a,value:r})}),i.sort(function(r,a){var s=[r.key,a.key].every(function(u){return u.indexOf("min-width")!==-1}),l=s?r.key:a.key,c=s?a.key:r.key;return e.getQueryLength(l)-e.getQueryLength(c)})},n.prototype.sortRules=function(t,e){var i=function(l){return l.get("mediaText")||""},r=[i(t),i(e)].every(function(l){return l.indexOf("min-width")!==-1}),a=i(r?t:e),s=i(r?e:t);return this.getQueryLength(a)-this.getQueryLength(s)},n.prototype.__cleanSelector=function(t){return t.split(" ").map(function(e){return e.split(":")[0]}).join(" ")},n}(ye.Kx),PD=OD,MD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),y0=function(){return y0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},y0.apply(this,arguments)},wD=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},B1=((0,oe.hasWin)()?window:{}).CSS,SD=function(o){MD(n,o);function n(t,e){e===void 0&&(e={});var i=o.call(this,t,{em:e.em})||this;return i.views=[],i.config=t||{},i.opt=e,i.em=e.em,i.ensureSelectors(null,null,{}),i.on("change",i.__onChange),i.setStyle(i.get("style"),{skipWatcherUpdates:!0}),i}return n.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},n.prototype.__onChange=function(t,e){var i=this.em,r=this.changedAttributes();r&&!(0,oe.isEmptyObj)(r)&&i?.changesUp(e)},n.prototype.clone=function(){var t=this.get("selectors").map(function(e){return e.clone()});return o.prototype.clone.call(this,{selectors:t})},n.prototype.ensureSelectors=function(t,e,i){var r=this.em,a=r?.Selectors,s=[this,"change:selectors",this.ensureSelectors],l=this.getSelectors();if(this.stopListening.apply(this,s),l.models&&(l=wD([],l.models,!0)),l=(0,et.isString)(l)?[l]:l,Array.isArray(l)){var c=l.filter(function(u){return u}).map(function(u){return a?a.add(u):u});l=new Ls(c)}this.set("selectors",l,i),this.listenTo.apply(this,s)},n.prototype.getAtRule=function(){var t=this.get("atRuleType"),e=this.get("mediaText"),i=t?"@".concat(t):e?"@media":"";return i+(e&&i?" ".concat(e):"")},n.prototype.selectorsToString=function(t){t===void 0&&(t={});var e=[],i=this.get("state"),r=this.get("selectorsAdd"),a={escape:function(c){return B1&&B1.escape?B1.escape(c):c}},s=this.getSelectors().getFullString(0,a),l=i&&!t.skipState?":".concat(i):"";return s&&e.push("".concat(s).concat(l)),r&&!t.skipAdd&&e.push(r),e.join(", ")},n.prototype.getDeclaration=function(t){t===void 0&&(t={});var e="",i=this.attributes.important,r=this.selectorsToString(t),a=this.styleToString(y0({important:i},t)),s=this.get("singleAtRule");return(r||s)&&(a||t.allowEmpty)&&(e=s?a:"".concat(r,"{").concat(a,"}")),e},n.prototype.getDevice=function(){var t=this.em,e=this.attributes,i=e.atRuleType,r=e.mediaText,a=t?.Devices.getDevices()||[],s=a.filter(function(l){return l.getWidthMedia()===""})[0];return i!=="media"||!r?s||null:a.filter(function(l){return l.getWidthMedia()===xD(r)})[0]||null},n.prototype.getState=function(){var t=this.em,e=this.get("state"),i=t?.Selectors.getStates()||[];return i.filter(function(r){return r.getName()===e})[0]||null},n.prototype.getComponent=function(){var t,e=this.getSelectors(),i=e.length==1&&e.at(0),r=i&&i.isId()&&i.get("name");return r&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(r))||null},n.prototype.toCSS=function(t){t===void 0&&(t={});var e="",i=this.getAtRule(),r=this.getDeclaration(t);return(r||t.allowEmpty)&&(e=r),i&&e&&(e="".concat(i,"{").concat(e,"}")),e},n.prototype.toJSON=function(t){var e,i=o.prototype.toJSON.call(this,t);if(!((e=this.em)===null||e===void 0)&&e.getConfig().avoidDefaults){var r=this.defaults();(0,et.forEach)(r,function(a,s){i[s]===a&&delete i[s]}),delete i.style.__p,(0,et.isEmpty)(i.selectors)&&delete i.selectors,(0,et.isEmpty)(i.style)&&delete i.style}return i},n.prototype.compare=function(t,e,i,r){var a;r===void 0&&(r={});var s=e||"",l=i||"",c=r.selectorsAdd||"",u=r.atRuleType||"",p=!(0,et.isArray)(t)&&!t.models?[t]:t.models||t;l&&!u&&(u="media");var g=p.map(function(O){return O.getFullName()}),h=(a=this.get("selectors"))===null||a===void 0?void 0:a.map(function(O){return O.getFullName()}),y=g.slice().sort(),_=h.slice().sort();return!(g.length!==h.length||!y.every(function(O,M){return O===_[M]})||this.get("state")!==s||this.get("mediaText")!==l||this.get("selectorsAdd")!==c||this.get("atRuleType")!==u)},n}(EO),b0=SD,TD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YO=function(o){TD(n,o);function n(t,e){var i=o.call(this,t)||this;return i.editor=e?.em,setTimeout(function(){i.on("remove",i.onRemove),i.on("add",i.onAdd)}),i}return n.prototype.toJSON=function(t){var e=ye.pM.prototype.toJSON.call(this,t);return e.filter(function(i){return i.style&&!i.shallow})},n.prototype.onAdd=function(t,e,i){t.ensureSelectors(t,e,i)},n.prototype.onRemove=function(t){var e=this.editor;e.stopListening(t),e.UndoManager.remove(t)},n.prototype.add=function(t,e){return e===void 0&&(e={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,ye.pM.prototype.add.apply(this,[t,e])},n}(ye.pM),px=YO;YO.prototype.model=b0;var ED=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wl=function(){return wl=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},wl.apply(this,arguments)},kD=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},AD=function(o){ED(n,o);function n(t){var e=o.call(this,t,"CssComposer",null,Nu,yD())||this;e.classes={CssRule:b0,CssRules:px,CssRuleView:B0,CssRulesView:u0},e.events=Nu,e.Selectors=Ls,e.storageKey="styles";var i=e.config,r=i.pStylePrefix;return r&&(i.stylePrefix=r+i.stylePrefix),i.rules=e.em.config.style||i.rules||"",e.rules=new px([],i),e}return n.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},n.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},n.prototype.add=function(t,e,i,r,a){r===void 0&&(r={}),a===void 0&&(a={});var s=e||"",l=i||"",c=wl({},r),u=this.get(t,s,l,c);return u&&u.config&&!u.config.singleAtRule||(c.state=s,c.mediaText=l,c.selectors=[],l&&!c.atRuleType&&(c.atRuleType="media"),u=new b0(c,this.config),u.get("selectors").add(t,a),this.rules.add(u,a)),u},n.prototype.get=function(t,e,i,r){var a=t;if((0,et.isString)(t)){var s=this.em.Selectors,l=t.split(",")[0].trim(),c=this.em.Parser.parserCss.checkNode({selectors:l})[0];a=s.get(c.selectors)}return this.rules.find(function(u){return u.compare(a,e,i,r)})||null},n.prototype.getAll=function(){return this.rules},n.prototype.addCollection=function(t,e,i){e===void 0&&(e={}),i===void 0&&(i={});var r=this.em,a=[];(0,et.isString)(t)&&(t=r.Parser.parseCss(t));for(var s=t instanceof Array?t:[t],l=0,c=s.length;l<c;l++){var u=s[l]||{};if(u.selectors){var p=r?.Selectors;p||console.warn("Selector Manager not found");for(var g=u.selectors,h=g instanceof Array?g:[g],y=[],_=0,O=h.length;_<O;_++){var M=p.add(h[_]);y.push(M)}var w=this.get(y,u.state,u.mediaText,u),T=this.add(y,u.state,u.mediaText,u,e),b=!w||!e.avoidUpdateStyle,k=u.style||{};if((0,oe.isObject)(i)&&T.set(i,e),b){var E=e.extend?wl(wl({},T.getStyle("",{skipResolve:!0})),k):k;T.setStyle(E,e)}a.push(T)}}return a},n.prototype.addRules=function(t){return this.addCollection(t)},n.prototype.setRule=function(t,e,i){e===void 0&&(e={}),i===void 0&&(i={});var r=i.atRuleType,a=i.atRuleParams,s=this.em.Parser.parserCss.checkNode({selectors:t,style:e})[0],l=s.state,c=s.selectorsAdd,u=this.em.Selectors,p=u.add(s.selectors),g=this.add(p,l,a,{selectorsAdd:c,atRule:r});return i.addStyles?g.addStyle(e,i):g.setStyle(e,i),g},n.prototype.getRule=function(t,e){e===void 0&&(e={});var i=this.em,r=i.Selectors,a=i.Parser.parserCss.checkNode({selectors:t})[0],s=r.get(a.selectors),l=a.state,c=a.selectorsAdd,u=e.atRuleType,p=e.atRuleParams;return s?this.get(s,l,p,{selectorsAdd:c,atRuleType:u}):void 0},n.prototype.getRules=function(t){var e=this.getAll();if(!t)return kD([],e.models,!0);var i={sort:!0},r=(0,et.isString)(t)?t.split(",").map(function(s){return s.trim()}):t,a=e.filter(function(s){return r.indexOf(s.getSelectors().getFullString(null,i))>=0});return a},n.prototype.setIdRule=function(t,e,i){e===void 0&&(e={}),i===void 0&&(i={});var r=i.addOpts,a=r===void 0?{}:r,s=i.mediaText,l=i.state||"",c=(0,et.isUndefined)(s)?this.em.getCurrentMedia():s,u=this.em.Selectors,p=u.add({name:t,type:Cr.TYPE_ID},a),g=this.add(p,l,c,{},a);return g.setStyle(e,wl(wl({},i),a)),g},n.prototype.getIdRule=function(t,e){e===void 0&&(e={});var i=e.mediaText,r=e.state||"",a=(0,et.isUndefined)(i)?this.em.getCurrentMedia():i,s=this.em.Selectors.get(t,Cr.TYPE_ID);return s&&this.get(s,r,a)},n.prototype.setClassRule=function(t,e,i){e===void 0&&(e={}),i===void 0&&(i={});var r=i.state||"",a=i.mediaText||this.em.getCurrentMedia(),s=this.em.Selectors,l=s.add({name:t,type:Cr.TYPE_CLASS}),c=this.add(l,r,a);return c.setStyle(e,i),c},n.prototype.getClassRule=function(t,e){e===void 0&&(e={});var i=e.state||"",r=e.mediaText||this.em.getCurrentMedia(),a=this.em.Selectors.get(t,Cr.TYPE_CLASS);return a&&this.get(a,i,r)},n.prototype.remove=function(t,e){var i=(0,et.isString)(t)?this.getRules(t):t,r=this.getAll().remove(i,e);return(0,et.isArray)(r)?r:[r]},n.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},n.prototype.getComponentRules=function(t,e){e===void 0&&(e={});var i=e.state,r=e.mediaText,a=e.current;a&&(i=this.em.get("state")||"",r=this.em.getCurrentMedia());var s=t.getId(),l=this.getAll().filter(function(c){return!(0,et.isUndefined)(i)&&c.get("state")!==i||!(0,et.isUndefined)(r)&&c.get("mediaText")!==r?!1:c.getSelectorsString()==="#".concat(s)});return l},n.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new u0({collection:this.rules,config:this.config}),this.rulesView.render().el},n.prototype.checkId=function(t,e){e===void 0&&(e={});var i=e.idMap,r=i===void 0?{}:i,a=[];if(!Object.keys(r).length)return a;var s=Array.isArray(t)?t:[t];return s.forEach(function(l){var c=l.selectors;if(c&&c.length==1){var u=c[0];if((0,et.isString)(u)){if(u[0]==="#"){var p=u.substring(1),g=r[p];p&&g&&(c[0]="#".concat(g),a.push(l))}}else if(u.name&&u.type===Cr.TYPE_ID){var g=r[u.name];g&&(u.name=g,a.push(l))}}}),a},n.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},n}(Va),ID=AD,DD=function(){return{appendTo:"",blocks:[],appendOnClick:!1,custom:!1}},LD=DD,ND=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),RD=function(o){ND(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(n.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Hu?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.id},n.prototype.getLabel=function(){return this.get("label")},n.prototype.getMedia=function(){return this.get("media")},n.prototype.getContent=function(){return this.get("content")},n.prototype.getDragDef=function(){return this.get("dragDef")},n.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,et.isFunction)(t?.get)?t.get("label"):t?.label?t?.label:t},n}(ye.Kx),XO=RD,FD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),QO=function(o){FD(n,o);function n(t,e){var i=o.call(this,t)||this;return i.em=e.em,i.on("add",i.handleAdd),i}return n.prototype.getCategories=function(){return this.em.Blocks.getCategories()},n.prototype.handleAdd=function(t){this.initCategory(t)},n}(NO),Bf=QO;QO.prototype.model=XO;var Zf=function(o){return o.add="block:add",o.remove="block:remove",o.removeBefore="block:remove:before",o.update="block:update",o.dragStart="block:drag:start",o.drag="block:drag",o.dragEnd="block:drag:stop",o.categoryUpdate="block:category:update",o.custom="block:custom",o.all="block",o}(Zf||{});var zD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jc=function(){return jc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},jc.apply(this,arguments)},VD=function(o){zD(n,o);function n(t,e){e===void 0&&(e={});var i=o.call(this,t)||this,r=i.model;return i.em=e.em,i.config=e,i.endDrag=i.endDrag.bind(i),i.ppfx=e.pStylePrefix||"",i.listenTo(r,"destroy remove",i.remove),i.listenTo(r,"change",i.render),i}return n.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.handleClick=function(t){var e,i,r=this,a=r.config,s=r.model,l=r.em,c=s.get("onClick")||a.appendOnClick;if(l.trigger("block:click",s,t),c){if((0,et.isFunction)(c))return c(s,l?.getEditor(),{event:t})}else return;var u=(e=a.getSorter)===null||e===void 0?void 0:e.call(a);if(u){var p=s.get("content"),g=this.getTempDropModel(p),h=(i=g.view)===null||i===void 0?void 0:i.el,y=h?[{element:h,dragSource:{content:p}}]:[],_=l.getSelected(),O,M,w,T=0;if(_)if(M=u.validTarget(_.getEl(),y,T),M)O=_;else{var b=_.parent();b&&(M=u.validTarget(b.getEl(),y,T),M&&(O=b,w=b.components().indexOf(_)+1))}if(!O){var k=l.getWrapper();M=u.validTarget(k.getEl(),y,T),M&&(O=k)}var E=O&&O.append(p,{at:w})[0];E&&l.setSelected(E,{scroll:!0})}},n.prototype.startDrag=function(t){var e,i=this,r=i.config,a=i.em,s=i.model,l=s.get("disable");if(!(t.button!==0||!r.getSorter||this.el.draggable||l)){a.refreshCanvas();var c=r.getSorter();c.__currentBlock=s;var u=this.model.get("content"),p=this.getTempDropModel(u),g=(e=p.view)===null||e===void 0?void 0:e.el,h=g?[{element:g,dragSource:{content:u}}]:[];c.startSort(h),(0,Me.on)(document,"mouseup",this.endDrag)}},n.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},n.prototype.handleDrag=function(t){this.__getModule().__drag(t)},n.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},n.prototype.endDrag=function(){var t,e;(0,Me.AU)(document,"mouseup",this.endDrag);var i=(e=(t=this.config).getSorter)===null||e===void 0?void 0:e.call(t);i&&i.endDrag()},n.prototype.getTempDropModel=function(t){var e,i=this.em.Components.getComponents(),r={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},a=i.add(t,jc(jc({},r),{temporary:!0})),s=i.remove(a,jc(jc({},r),{temporary:!0}));return s=s instanceof Array?s[0]:s,(e=s.view)===null||e===void 0||e.$el.data("model",s),s},n.prototype.render=function(){var t,e=this,i=e.em,r=e.el,a=e.$el,s=e.ppfx,l=e.model,c=l.get("disable"),u=l.get("attributes")||{},p=u.class||"",g="".concat(s,"block"),h=i&&i.t("blockManager.labels.".concat(l.id))||l.get("label"),y=l.get("render"),_=l.get("media"),O=c?"".concat(g,"--disable"):"".concat(s,"four-color-h");a.attr(u),r.className="".concat(p," ").concat(g," ").concat(s,"one-bg ").concat(O).trim(),r.innerHTML=`
      `.concat(_?'<div class="'.concat(g,'__media">').concat(_,"</div>"):"",`
      <div class="`).concat(g,'-label">').concat(h,`</div>
    `),r.title=u.title||((t=r.textContent)===null||t===void 0?void 0:t.trim()),r.setAttribute("draggable","".concat(!!((0,oe.hasDnd)(i)&&!c)));var M=y&&y({el:r,model:l,className:g,prefix:s});return M&&(r.innerHTML=M),this},n}(ye.Ss),jD=VD,HD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),BD=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},UD=function(o){HD(n,o);function n(t,e,i){var r=o.call(this,t)||this;r.config=e;var a=e.pStylePrefix||"";return r.em=e.em,r.catName=i,r.pfx=a,r.caretR="fa fa-caret-right",r.caretD="fa fa-caret-down",r.iconClass="".concat(a,"caret-icon"),r.activeClass="".concat(a,"open"),r.className="".concat(a).concat(i,"-category"),r.listenTo(r.model,"change:open",r.updateVisibility),r.model.view=r,r}return n.prototype.events=function(){return{"click [data-title]":"toggle"}},n.prototype.template=function(t){var e=t.pfx,i=t.label,r=t.catName;return zr(fx||(fx=BD([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),e,e,i,e,r)},n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},n.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},n.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},n.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},n.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},n.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},n.prototype.append=function(t){this.getTypeEl().appendChild(t)},n.prototype.render=function(){var t=this,e=t.em,i=t.el,r=t.$el,a=t.model,s=t.pfx,l=t.catName,c=e.t("".concat(l,"Manager.categories.").concat(a.id))||a.get("label");return i.innerHTML=this.template({pfx:s,label:c,catName:l}),r.addClass(this.className),r.css({order:a.get("order")}),this.updateVisibility(),this},n}(ye.Ss),JO=UD,fx,GD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lg=function(){return Lg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Lg.apply(this,arguments)},WD=function(o){GD(n,o);function n(t,e){var i=o.call(this,t)||this;i.renderedCategories=new Map,(0,et.bindAll)(i,"getSorter","onDrag","onDrop","onMove"),i.config=e||{},i.categories=t.categories||"";var r=i.config.pStylePrefix||"";i.ppfx=r,i.noCatClass="".concat(r,"blocks-no-cat"),i.blockContClass="".concat(r,"blocks-c"),i.catsClass="".concat(r,"block-categories");var a=i.collection;return i.listenTo(a,"add",i.addTo),i.listenTo(a,"reset",i.render),i.em=i.config.em,i.em&&(i.config.getSorter=i.getSorter),i}return n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=Lg(Lg({},this.config),t)},n.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var e=t.Utils,i=t.Canvas;this.sorter=new e.ComponentSorter({em:t,treeClass:zO,containerContext:{container:i.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:i.getPlacerEl(),document:i.getBody().ownerDocument},dragBehavior:{dragDirection:Nl.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},n.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},n.prototype.onMove=function(t){this.__getModule().__drag(t)},n.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},n.prototype.addTo=function(t){this.add(t)},n.prototype.add=function(t,e){var i=this,r=i.config,a=i.renderedCategories,s=t.get("attributes"),l=new jD({model:t,attributes:s},r),c=l.render().el,u=t.parent.initCategory(t);if(u&&this.categories&&!r.ignoreCategories){var p=u.getId(),g=this.getCategoriesEl(),h=a.get(p);!h&&g&&(h=new JO({model:u},r,"block").render(),a.set(p,h),g.appendChild(h.el)),h?.append(c);return}e?e.appendChild(c):this.append(c)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},n.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},n.prototype.append=function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},n.prototype.render=function(){var t=this,e=this.ppfx,i=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(a){return t.add(a,i)}),this.append(i);var r="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(r),this.rendered=!0,this},n}(ye.Ss),gx=WD,KD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),As=function(){return As=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},As.apply(this,arguments)},qD=function(o){KD(n,o);function n(t){var e=o.call(this,t,"BlockManager",new Bf([],{em:t}),Zf,LD())||this;return e.events=Zf,e.Block=XO,e.Blocks=Bf,e.Category=Hu,e.Categories=og,e.storageKey="",e.blocks=e.all,e.blocksVisible=new Bf(e.blocks.models,{em:t}),e.categories=new og([],{em:t,events:{update:Zf.categoryUpdate}}),e.__onAllEvent=(0,et.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.onInit=function(){var t=this,e=t.config,i=t.blocks,r=t.blocksVisible;i.on("add",function(a){return r.add(a)}),i.on("remove",function(a){return r.remove(a)}),i.on("reset",function(a){return r.reset(a.models)}),i.add(e.blocks||[])},n.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:e.container,dragStart:function(i,r){return t.startDrag(i,r)},drag:function(i){return t.__drag(i)},dragStop:function(i){return t.endDrag(i)}}},n.prototype.__startDrag=function(t,e){var i=this,r=i.em,a=i.events,s=i.blocks,l=t.getContent?t.getContent():t;this._dragBlock=t,r.set({dragResult:null,dragSource:{content:l,dragDef:t.getDragDef()}}),[r,s].map(function(c){return c.trigger(a.dragStart,t,e)})},n.prototype.__drag=function(t){var e=this,i=e.em,r=e.events,a=e.blocks,s=this._dragBlock;[i,a].map(function(l){return l.trigger(r.drag,s,t)})},n.prototype.__endDrag=function(t){t===void 0&&(t={});var e=this,i=e.em,r=e.events,a=e.blocks,s=this._dragBlock,l=t.component||i.get("dragResult");if(delete this._dragBlock,l&&s){var c="activeOnRender",u=l.get&&l.get(c),p=s.get("activate")||u,g=s.get("select"),h=(0,et.isArray)(l)?l[0]:l,y=g||p&&g!==!1;y?i.setSelected(h,{activate:p}):p&&h.trigger("active"),p&&u&&h.unset(c),s.get("resetId")&&h.onAll(function(_){return _.resetId()})}i.set({dragResult:null,dragSource:void 0}),s&&[i,a].map(function(_){return _.trigger(r.dragEnd,l,s)})},n.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},n.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=As(As({},this._bhv||{}),t)},n.prototype.__getBehaviour=function(){return this._bhv||{}},n.prototype.startDrag=function(t,e){this.__startDrag(t,e),this.__getFrameViews().forEach(function(i){var r;return(r=i.droppable)===null||r===void 0?void 0:r.startCustom()})},n.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(e){var i;return(i=e.droppable)===null||i===void 0?void 0:i.endCustom(t)}),this.__endDrag()},n.prototype.postRender=function(){var t=this,e=t.categories,i=t.config,r=t.em,a=this.blocksVisible;this.blocksView=new gx({collection:a,categories:e},As(As({},i),{em:r})),this.__appendTo(a.models),this.__trgCustom()},n.prototype.add=function(t,e,i){i===void 0&&(i={});var r=e||{};return r.id=t,this.blocks.add(r,i)},n.prototype.get=function(t){return this.blocks.get(t)},n.prototype.getAll=function(){return this.blocks},n.prototype.getAllVisible=function(){return this.blocksVisible},n.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},n.prototype.getCategories=function(){return this.categories},n.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},n.prototype.getDragBlock=function(){return this._dragBlock},n.prototype.getBlocksByCategory=function(t){return LO(t||this.getAll().models)},n.prototype.render=function(t,e){e===void 0&&(e={});var i=this,r=i.categories,a=i.config,s=i.em,l=t||this.getAll().models;if(e.external){var c=new Bf(l,{em:s});return new gx({collection:c,categories:r},As(As({em:s},a),e)).render().el}return this.blocksView&&(this.blocksView.updateConfig(e),this.blocksView.collection.reset(l),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},n.prototype.destroy=function(){var t,e=[this.blocks,this.blocksVisible,this.categories];e.map(function(i){return i.stopListening()}),e.map(function(i){return i.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},n}(Va),$D=qD,YD=function(){return{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1}},XD=YD,QD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ZO=function(o){QD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",label:""}},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(){return this.get("label")||this.getName()},n}(ye.Kx),U1=ZO;ZO.prototype.idAttribute="name";var JD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ZD=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},hx="contentEditable",tL=function(o){JD(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this,i=t.config||{};return e.config=i,e.module=t.module,e.coll=t.coll||null,e.pfx=i.stylePrefix||"",e.ppfx=i.pStylePrefix||"",e.em=i.em,e.listenTo(e.model,"change:active",e.updateStatus),e}return n.prototype.template=function(){var t=this,e=t.pfx,i=t.model,r=t.config,a=i.get("label")||"";return zr(mx||(mx=ZD([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),e,e,e,a,e,e,r.iconTagRemove)},n.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},n.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},n.prototype.startEditTag=function(){var t=this.em,e=this.getInputEl();e[hx]="true",e.focus(),t?.setEditing(!0)},n.prototype.endEditTag=function(){var t=this,e=t.model,i=t.em,r=this.getInputEl(),a=r.textContent||"",s=i?.Selectors;r[hx]="false",i?.setEditing(!1),s&&s.rename(e,a)!==e&&(r.innerText=e.getLabel())},n.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},n.prototype.removeTag=function(){this.module.removeSelected(this.model)},n.prototype.updateStatus=function(){var t=this,e=t.model,i=t.$el,r=t.config,a=r.iconTagOn,s=r.iconTagOff,l=i.find("[data-tag-status]");e.get("active")?(l.html(a),i.removeClass("opac50")):(l.html(s),i.addClass("opac50"))},n.prototype.render=function(){var t=this,e=t.pfx,i=t.ppfx,r=t.$el,a=t.model,s="".concat(e,"tag"),l=["".concat(s," ").concat(i,"three-bg")];return a.get("protected")&&l.push("".concat(s,"-protected")),r.html(this.template()),r.attr("class",l.join(" ")),this.updateStatus(),this},n}(ye.Ss),eL=tL,mx,nL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vu=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},iL=function(o){nL(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.className=e.pfx+"tags",e.stateInputId=e.pfx+"states",e.stateInputC=e.pfx+"input-c",e.states=e.config.states||[];var i=e.config.em,r=e.collection;e.target=i;var a=i.Selectors;e.module=a,e.em=i,e.componentChanged=(0,et.debounce)(e.componentChanged.bind(e),0),e.checkSync=(0,et.debounce)(e.checkSync.bind(e),0);var s=kn.I.update,l="".concat(s,":classes"),c="component:toggled ".concat(l),u="".concat(l," ").concat(s,":attributes:id change:state");return e.listenTo(i,c,e.componentChanged),e.listenTo(i,"styleManager:update",e.componentChanged),e.listenTo(i,u,e.__handleStateChange),e.listenTo(i,"styleable:change change:device",e.checkSync),e.listenTo(r,"add",e.addNew),e.listenTo(r,"reset",e.renderClasses),e.listenTo(r,"remove",e.tagRemoved),e.listenTo(a.getAll(),a.events.state,(0,et.debounce)(function(){return e.renderStates()},0)),e.delegateEvents(),e}return n.prototype.template=function(t){var e=t.labelInfo,i=t.labelHead,r=t.iconSync,a=t.iconAdd,s=t.pfx,l=t.ppfx;return zr(vx||(vx=vu([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),s,s,s,s,i,s,s,s,l,l,l,s,l,l,s,l,s,s,s,s,s,a,s,s,r,s,s,e,s)},n.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},n.prototype.syncStyle=function(){var t=this.em,e=this.getTarget(),i=t.Css,r={noDisabled:1},a=this.getCommonSelectors({opts:r}),s=t.get("state"),l=t.getCurrentMedia(),c=[],u=i.get(a,s,l)||i.add(a,s,l),p;this.getTargets().forEach(function(g){var h=i.getIdRule(g.getId(),{state:s,mediaText:l});p=h.getStyle(),h.setStyle({}),c.push(h)}),p&&u.addStyle(p),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:e,selectors:a,mediaText:l,rule:u,ruleComponents:c,state:s})},n.prototype.tagRemoved=function(t){this.updateStateVis()},n.prototype.addNew=function(t){this.addToClasses(t)},n.prototype.startNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(e=this.$input)===null||e===void 0||e.show().focus()},n.prototype.endNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(e=this.$input)===null||e===void 0||e.hide().val("")},n.prototype.onInputKeyUp=function(t){var e;t.keyCode===13?(t.preventDefault(),this.addNewTag((e=this.$input)===null||e===void 0?void 0:e.val())):t.keyCode===27&&this.endNewTag()},n.prototype.checkStates=function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},n.prototype.componentChanged=function(t){var e=t===void 0?{}:t,i=e.targets;this.updateSelection(i)},n.prototype.updateSelection=function(t){var e=t||this.getTargets();e=(0,et.isArray)(e)?e:[e];var i=[];return e&&e.length&&(i=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:i})),this.collection.reset(i),this.updateStateVis(e),this.module.__trgCustom(),i},n.prototype.getCommonSelectors=function(t){var e=t===void 0?{}:t,i=e.targets,r=e.opts,a=r===void 0?{}:r,s=i||this.getTargets();return this.module.__getCommonSelectors(s,a)},n.prototype._commonSelectors=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return(t=this.module).__common.apply(t,e)},n.prototype.checkSync=function(){var t=this,e=t.$btnSyncEl,i=t.config,r=t.collection,a=this.getTarget(),s;if(a&&i.componentFirst&&r.length){var l=a.getStyle();s=!(0,et.isEmpty)(l)}e&&e[s?"show":"hide"]()},n.prototype.getTarget=function(){return this.target.getSelected()},n.prototype.getTargets=function(){return this.target.getSelectedAll()},n.prototype.updateStateVis=function(t){var e=this.em,i=e&&e.getConfig().avoidInlineStyle,r=this.collection.length||i?"":"none";this.getStatesC().css("display",r),this.updateSelector(t)},n.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},n.prototype.updateSelector=function(t){var e=this,i=this.el.querySelector("[data-selected]"),r=[],a=t||this.getTargets();a=(0,et.isArray)(a)?a:[a],a.forEach(function(s){return r.push(e.__getName(s))}),i&&(i.innerHTML=r.join(", ")),this.checkStates()},n.prototype.__getName=function(t){var e=this,i=e.pfx,r=e.config,a=e.em,s=r.selectedName,l=r.componentFirst,c;if((0,et.isString)(t))c=zr(_x||(_x=vu(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),i,t);else{var u=t?.getSelectors();if(!u)return"";var p=u.getStyleable(),g=a.get("state"),h=t.getId?zr(yx||(yx=vu(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),i,t.getName(),i,t.getId()):"";c=this.collection.getFullString(p),c=c?zr(bx||(bx=vu(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),i,c):t.get("selectorsAdd")||h,c=l&&h?h:c,c+=g?zr(Cx||(Cx=vu(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),i,g):"",c=s?s({result:c,state:g,target:t}):c}return c&&'<span class="'.concat(i,'sel">').concat(c,"</span>")},n.prototype.stateChanged=function(t){var e=this.em,i=t.target.value;e.set("state",i)},n.prototype.addNewTag=function(t){var e=t.trim();e&&(this.module.addSelected({label:e}),this.endNewTag())},n.prototype.addToClasses=function(t,e){var i=e,r=this.getClasses(),a=new eL({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return i?i.appendChild(a):r.append(a),a},n.prototype.renderClasses=function(){var t=this,e=document.createDocumentFragment(),i=this.getClasses();i.empty(),this.collection.each(function(r){return t.addToClasses(r,e)}),i.append(e)},n.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},n.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},n.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},n.prototype.renderStates=function(){var t=this,e=t.module,i=t.em,r=i.t("selectorManager.emptyState"),a=e.getStates().map(function(l){var c=i.t("selectorManager.states.".concat(l.id))||l.getLabel()||l.id;return'<option value="'.concat(l.id,'">').concat(c,"</option>")}).join(""),s=this.getStates();s&&s.html('<option value="">'.concat(r,"</option>").concat(a)),this.checkStates()},n.prototype.render=function(){var t=this,e=t.em,i=t.pfx,r=t.ppfx,a=t.config,s=t.$el,l=t.el,c=a.render,u=a.iconSync,p=a.iconAdd,g={iconSync:u,iconAdd:p,labelHead:e.t("selectorManager.label"),labelInfo:e.t("selectorManager.selected"),ppfx:r,pfx:i,el:l};s.html(this.template(g));var h=c&&c(g);return h&&h!==l&&s.empty().append(h),this.$input=s.find("[data-input]"),this.$addBtn=s.find("[data-add]"),this.$classes=s.find("#"+i+"tags-c"),this.$btnSyncEl=s.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),s.attr("class","".concat(this.className," ").concat(r,"one-bg ").concat(r,"two-color")),this},n}(ye.Ss),rL=iL,vx,_x,yx,bx,Cx,oL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tu=function(){return Tu=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Tu.apply(this,arguments)},G1=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},xx=function(o){return(0,et.isString)(o)&&o[0]=="#"},Ox=function(o){return(0,et.isString)(o)&&o[0]=="."},t2="selector",Bu="".concat(t2,":"),aL="".concat(Bu,"add"),sL="".concat(Bu,"update"),e2="".concat(Bu,"remove"),lL="".concat(e2,":before"),cL="".concat(Bu,"custom"),n2="".concat(Bu,"state"),dL={all:t2,update:sL,add:aL,remove:e2,removeBefore:lL,state:n2,custom:cL},uL=function(o){oL(n,o);function n(t){var e=o.call(this,t,"SelectorManager",new Ls([]),dL,XD(),{skipListen:!0})||this;e.Selector=Cr,e.Selectors=Ls,e.storageKey="",(0,et.bindAll)(e,"__updateSelectedByComponents");var i=e.config,r=i.pStylePrefix;r&&(i.stylePrefix=r+i.stylePrefix),e.all=new Ls(i.selectors),e.selected=new Ls([],{em:t,config:i}),e.states=new ye.pM(i.states.map(function(l){return new U1(l)}),{model:U1}),e.model=new ye.Kx({cFirst:i.componentFirst,_undo:!0}),e.__update=(0,et.debounce)(function(){return e.__trgCustom()},0),e.__initListen({collections:[e.states,e.selected],propagate:[{entity:e.states,event:e.events.state}]}),t.on("change:state",function(l,c){return t.trigger(n2,c)}),e.model.on("change:cFirst",function(l,c){return t.trigger("selector:type",c)});var a="".concat(kn.I.update,":classes");t.on("component:toggled ".concat(a),e.__updateSelectedByComponents);var s="component:toggled ".concat(a," change:device styleManager:update selector:state selector:type style:target");return e.model.listenTo(t,s,function(){return e.__update()}),e}return n.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},n.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?G1([],this.all.models,!0):this.all:[]},n.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},n.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},n.prototype.select=function(t,e){e===void 0&&(e={});var i=Array.isArray(t)?t:[t],r=this.em.Styles.select(i,e);this.selected.reset(this.__getCommonSelectors(r));var a=this.selectorTags,s=r.filter(function(l){return l}).map(function(l){return(0,oe.isComponent)(l)||(0,oe.isRule)(l)&&!l.get("selectorsAdd")?l:l.getSelectorsString()});return a&&a.componentChanged({targets:s}),this},n.prototype.addSelector=function(t,e,i){e===void 0&&(e={}),i===void 0&&(i={});var r=Tu({},e);(0,et.isObject)(t)?r=t:r.name=t,xx(r.name)?(r.name=r.name.substr(1),r.type=Cr.TYPE_ID):Ox(r.name)&&(r.name=r.name.substr(1)),r.label&&!r.name&&(r.name=this.escapeName(r.label));var a=r.name,s=this.getConfig(),l=this,c=l.all,u=l.em,p=a?this.get(a,r.type):c.where(r)[0];if(!p){var g=r instanceof Cr?r:new Cr(r,Tu(Tu({},i),{config:s,em:u}));return c.add(g,i)}return p},n.prototype.getSelector=function(t,e){return e===void 0&&(e=Cr.TYPE_CLASS),xx(t)?(t=t.substr(1),e=Cr.TYPE_ID):Ox(t)&&(t=t.substr(1)),this.all.where({name:t,type:e})[0]},n.prototype.add=function(t,e){var i=this;e===void 0&&(e={});var r=(0,et.isString)(t)?{}:e;return(0,et.isArray)(t)?t.map(function(a){return i.addSelector(a,e,r)}):this.addSelector(t,e,r)},n.prototype.addClass=function(t){var e=this,i=[];return(0,et.isString)(t)&&(t=t.trim().split(" ").filter(Boolean)),t.forEach(function(r){return i.push(e.addSelector(r))}),i},n.prototype.get=function(t,e){var i=this;if((0,et.isArray)(t)){var r=[],a=t.map(function(s){return i.getSelector(s)}).filter(Boolean);return a.forEach(function(s){return r.indexOf(s)<0&&r.push(s)}),r}else return this.getSelector(t,e)},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.rename=function(t,e,i){var r=this.escapeName(e),a=this.get(r);return a||t.set({name:r,label:e},i)},n.prototype.setState=function(t){return this.em.setState(t),this},n.prototype.getState=function(){return this.em.getState()},n.prototype.getStates=function(){return G1([],this.states.models,!0)},n.prototype.setStates=function(t,e){return this.states.reset(t.map(function(i){return new U1(i)}),e)},n.prototype.getSelected=function(){return this.__getCommon()},n.prototype.getSelectedAll=function(){return G1([],this.selected.models,!0)},n.prototype.addSelected=function(t){var e=this.add(t);this.em.getSelectedAll().forEach(function(i){i.getSelectors().add(e)})},n.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},n.prototype.duplicateSelected=function(t,e){var i=this;e===void 0&&(e={});var r=this.em,a=this.getSelected();if(!(a.indexOf(t)<0)){var s=this.getState(),l=r.getCurrentMedia(),c=r.Css.get(a,s,l),u=c?.getStyle();if(r.getSelectedAll().forEach(function(g){var h=g.getSelectors();if(h.includes(t)){var y=e.suffix||" copy",_=t.getLabel(),O=i.addSelector("".concat(_).concat(y)),M=h.indexOf(t);h.remove(t),h.add(O,{at:M})}}),u){var p=r.Css.add(this.getSelected(),s,l);p.setStyle(u)}}},n.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},n.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},n.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},n.prototype.escapeName=function(t){var e=this.getConfig().escapeName;return e?e(t):Cr.escapeName(t)},n.prototype.render=function(t){var e=this.selectorTags,i=this.getConfig(),r=e?.el;return this.selected.reset(t),this.selectorTags=new rL({el:r,collection:this.selected,module:this,config:i}),this.selectorTags.render().el},n.prototype.destroy=function(){var t=this,e=t.selectorTags,i=t.model;i.stopListening(),this.__update.cancel(),this.__destroy(),e?.remove(),this.selectorTags=void 0},n.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},n.prototype.__getCommonSelectors=function(t,e){e===void 0&&(e={});var i=t.map(function(r){return r.getSelectors&&r.getSelectors().getValid(e)}).filter(Boolean);return this.__common.apply(this,i)},n.prototype.__common=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e.length?e.length===1?e[0]:e.length===2?e[0].filter(function(r){return e[1].indexOf(r)>=0}):e.slice(1).reduce(function(r,a){return t.__common(r,a)},e[0]):[]},n.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},n}(Va),pL=uL,fL=function(){return{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1,convertDataGjsAttributesHyphens:!1}}},gL=fL,$o,co={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},Qc=($o={},$o[co.MEDIA_RULE]="media",$o[co.FONT_FACE_RULE]="font-face",$o[co.PAGE_RULE]="page",$o[co.KEYFRAMES_RULE]="keyframes",$o[co.COUNTER_STYLE_RULE]="counter-style",$o[co.SUPPORTS_RULE]="supports",$o[co.DOCUMENT_RULE]="document",$o[co.FONT_FEATURE_VALUES_RULE]="font-feature-values",$o[co.VIEWPORT_RULE]="viewport",$o),i2=(0,et.keys)(Qc),J0=[co.FONT_FACE_RULE,co.PAGE_RULE,co.COUNTER_STYLE_RULE,co.VIEWPORT_RULE],hL=i2.filter(function(o){return J0.indexOf(Number(o))<0}).map(function(o){return Qc[o]}).concat(["container","layer"]),mL=J0.map(function(o){return Qc[o]}),r2=function(o){o===void 0&&(o="");for(var n=[],t=[],e=o.split(","),i=0,r=e.length;i<r;i++){var a=e[i].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(a)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(a)){var s=a.split(".").filter(Boolean);t.push(s)}else n.push(a)}return{result:t,add:n}},vL=function(o){for(var n=o.style,t={},e=0,i=n.length;e<i;e++){var r=n[e],a=n.getPropertyValue(r),s=n.getPropertyPriority(r);t[r]="".concat(a).concat(s?" !".concat(s):"")}return t},Px=function(o){var n=o.conditionText||o.media&&o.media.mediaText||o.name||o.selectorText||"";return n.trim()},C0=function(o,n,t){n===void 0&&(n={}),t===void 0&&(t={});var e={},i=o.length,r=o[i-1],a=r?r.split(/:(.+)/):[],s=a[1],l=t.atRule,c=t.selectorsAdd,u=t.mediaText,p=mL.indexOf(l)>=0;return p&&(e.singleAtRule=!0),l&&(e.atRuleType=l),c&&(e.selectorsAdd=c),u&&(e.mediaText=u),s&&(o[i-1]=a[0],e.state=s,a.splice(a.length-1,1)),e.selectors=o,e.style=n,e},Mx=function(o){var n=o.cssText,t=n===void 0?"":n;return hL.find(function(e){return t.indexOf("@".concat(e))===0})},o2=function(o){for(var n=[],t=o.cssRules||[],e=0,i=t.length;e<i;e++){var r=t[e],a=r.type,s=!1,l="",c="",u=r.selectorText||r.keyText||"",p=J0.indexOf(a)>=0;if(p)s=!0,l=Qc[a],c=Px(r);else if(i2.indexOf("".concat(a))>=0||!a&&Mx(r)){var g=o2(r),h=Qc[a]||Mx(r);c=Px(r);for(var y=0,_=g.length;y<_;y++){var O=g[y];c&&(O.mediaText=c),O.atRuleType=h}n=n.concat(g)}if(!(!u&&!p)){for(var M=vL(r),w=r2(u),T=w.add,b=w.result,k=void 0,E=0,N=b.length;E<N;E++){var F=C0(b[E],M,{atRule:Qc[a]});n.push(F),k=F}if(T.length){var V=T.join(", ");if(k)k.selectorsAdd=V;else{var F={selectors:[],selectorsAdd:V,style:M};s&&(F.singleAtRule=s),l&&(F.atRuleType=l),c&&(F.mediaText=c),n.push(F)}}}}return n},_L=function(o){var n=document.createElement("style");n.innerHTML=o,document.head.appendChild(n);var t=n.sheet;return document.head.removeChild(n),t?o2(t):[]},yL=function(o,n){return n===void 0&&(n={}),{parse:function(t,e){var i=this;e===void 0&&(e={});var r=[],a=n.parserCss,s=o?.Editor,l=[],c,u=o?.Parser,p={input:t};u?.__emitEvent(Al.cssBefore,p);var g=p.input;try{l=a?a(g,s):_L(g)}catch(h){if(c=h,e.throwOnError)throw h}return l.forEach(function(h){return r=r.concat(i.checkNode(h))}),u?.__emitEvent(Al.css,{input:g,output:r,nodes:l,error:c}),r},checkNode:function(t){var e=t.selectors,i=t.style,r=[t];if((0,et.isString)(e)){var a=[],s=t,l=r2(e),c=l.result,u=l.add.join(", "),p={atRule:s.atRule,mediaText:s.params};if(c.length?c.forEach(function(h){a.push(C0(h,i,p))}):a.push(C0([],i,p)),u){var g=a[a.length-1];g.selectorsAdd=u}r=a}return r}}},bL=yL,CL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),x0=function(){return x0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},x0.apply(this,arguments)},xL=function(o){CL(n,o);function n(t){var e=o.call(this,t,"Parser",gL())||this;e.events=Al;var i=e.config;return e.parserCss=bL(t,i),e.parserHtml=xO(t,i),e}return n.prototype.parseHtml=function(t,e){e===void 0&&(e={});var i=this,r=i.em,a=i.parserHtml;return a.compTypes=r.Components.getTypes()||[],a.parse(t,this.parserCss,e)},n.prototype.parseCss=function(t){return this.parserCss.parse(t)},n.prototype.__emitEvent=function(t,e){var i=this,r=i.em,a=i.events;r.trigger(t,e),r.trigger(a.all,x0({event:t},e))},n.prototype.destroy=function(){},n}(Hr),OL=xL,PL=function(){return{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(o){return o},onLoad:function(o){return o},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(o){return o},onLoad:function(o){return o}}}}},ML=PL,wx=function(o,n,t,e){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?r(u.value):i(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},Sx=function(o,n){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},e,i,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],i=0}finally{e=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},wL=function(){function o(){}return o.prototype.store=function(n){return wx(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),Sx(this,function(i){return this.hasLocal(e,!0)&&localStorage.setItem(e.key,JSON.stringify(t)),[2,t]})})},o.prototype.load=function(){return wx(this,arguments,void 0,function(n){var t;return n===void 0&&(n={}),Sx(this,function(e){return t={},this.hasLocal(n,!0)&&(t=JSON.parse(localStorage.getItem(n.key)||"{}")),[2,t]})})},o.prototype.hasLocal=function(n,t){if(n===void 0&&(n={}),n.checkLocal&&(!(0,oe.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},o}(),SL=wL;function Rl(o){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Rl(o)}function TL(o){var n=this.constructor;return this.then(function(t){return n.resolve(o()).then(function(){return t})},function(t){return n.resolve(o()).then(function(){return n.reject(t)})})}var EL=TL;function kL(o){var n=this;return new n(function(t,e){if(!(o&&typeof o.length<"u"))return e(new TypeError(Rl(o)+" "+o+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(o);if(i.length===0)return t([]);var r=i.length;function a(l,c){if(c&&(Rl(c)==="object"||typeof c=="function")){var u=c.then;if(typeof u=="function"){u.call(c,function(p){a(l,p)},function(p){i[l]={status:"rejected",reason:p},--r===0&&t(i)});return}}i[l]={status:"fulfilled",value:c},--r===0&&t(i)}for(var s=0;s<i.length;s++)a(s,i[s])})}var AL=kL;function a2(o,n){this.name="AggregateError",this.errors=o,this.message=n||""}a2.prototype=Error.prototype;function IL(o){var n=this;return new n(function(t,e){if(!(o&&typeof o.length<"u"))return e(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(o);if(i.length===0)return e();for(var r=[],a=0;a<i.length;a++)try{n.resolve(i[a]).then(t).catch(function(s){r.push(s),r.length===i.length&&e(new a2(r,"All promises were rejected"))})}catch(s){e(s)}})}var DL=IL,LL=setTimeout;function s2(o){return!!(o&&typeof o.length<"u")}function NL(){}function RL(o,n){return function(){o.apply(n,arguments)}}function ci(o){if(!(this instanceof ci))throw new TypeError("Promises must be constructed via new");if(typeof o!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c2(o,this)}function l2(o,n){for(;o._state===3;)o=o._value;if(o._state===0){o._deferreds.push(n);return}o._handled=!0,ci._immediateFn(function(){var t=o._state===1?n.onFulfilled:n.onRejected;if(t===null){(o._state===1?O0:Vu)(n.promise,o._value);return}var e;try{e=t(o._value)}catch(i){Vu(n.promise,i);return}O0(n.promise,e)})}function O0(o,n){try{if(n===o)throw new TypeError("A promise cannot be resolved with itself.");if(n&&(Rl(n)==="object"||typeof n=="function")){var t=n.then;if(n instanceof ci){o._state=3,o._value=n,P0(o);return}else if(typeof t=="function"){c2(RL(t,n),o);return}}o._state=1,o._value=n,P0(o)}catch(e){Vu(o,e)}}function Vu(o,n){o._state=2,o._value=n,P0(o)}function P0(o){o._state===2&&o._deferreds.length===0&&ci._immediateFn(function(){o._handled||ci._unhandledRejectionFn(o._value)});for(var n=0,t=o._deferreds.length;n<t;n++)l2(o,o._deferreds[n]);o._deferreds=null}function FL(o,n,t){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof n=="function"?n:null,this.promise=t}function c2(o,n){var t=!1;try{o(function(e){t||(t=!0,O0(n,e))},function(e){t||(t=!0,Vu(n,e))})}catch(e){if(t)return;t=!0,Vu(n,e)}}ci.prototype.catch=function(o){return this.then(null,o)};ci.prototype.then=function(o,n){var t=new this.constructor(NL);return l2(this,new FL(o,n,t)),t};ci.prototype.finally=EL;ci.all=function(o){return new ci(function(n,t){if(!s2(o))return t(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(o);if(e.length===0)return n([]);var i=e.length;function r(s,l){try{if(l&&(Rl(l)==="object"||typeof l=="function")){var c=l.then;if(typeof c=="function"){c.call(l,function(u){r(s,u)},t);return}}e[s]=l,--i===0&&n(e)}catch(u){t(u)}}for(var a=0;a<e.length;a++)r(a,e[a])})};ci.any=DL;ci.allSettled=AL;ci.resolve=function(o){return o&&Rl(o)==="object"&&o.constructor===ci?o:new ci(function(n){n(o)})};ci.reject=function(o){return new ci(function(n,t){t(o)})};ci.race=function(o){return new ci(function(n,t){if(!s2(o))return t(new TypeError("Promise.race accepts an array"));for(var e=0,i=o.length;e<i;e++)ci.resolve(o[e]).then(n,t)})};ci._immediateFn=typeof setImmediate=="function"&&function(o){setImmediate(o)}||function(o){LL(o,0)};ci._unhandledRejectionFn=function(n){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};var M0=ci;(0,oe.hasWin)()&&(window.Promise=window.Promise||M0);var d2=typeof fetch=="function"?fetch.bind():function(o,n){return new M0(function(t,e){var i=new XMLHttpRequest;i.open(n.method||"get",o),i.withCredentials=n.credentials=="include";for(var r in n.headers||{})i.setRequestHeader(r,n.headers[r]);i.onload=function(a){return t({status:i.status,statusText:i.statusText,text:function(){return M0.resolve(i.responseText)}})},i.onerror=e,i.upload&&n.onProgress&&(i.upload.onprogress=n.onProgress),n.body?i.send(n.body):i.send()})},Ng=function(){return Ng=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Ng.apply(this,arguments)},Tx=function(o,n,t,e){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?r(u.value):i(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},Ex=function(o,n){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},e,i,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],i=0}finally{e=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},zL=function(){function o(){}return o.prototype.store=function(n){return Tx(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),Ex(this,function(i){switch(i.label){case 0:return[4,this.request(e.urlStore,this.__props(e,t),e)];case 1:return[2,i.sent()]}})})},o.prototype.load=function(){return Tx(this,arguments,void 0,function(n){return n===void 0&&(n={}),Ex(this,function(t){switch(t.label){case 0:return[4,this.request(n.urlLoad,this.__props(n),n)];case 1:return[2,t.sent()]}})})},o.prototype.request=function(n,t,e){return t===void 0&&(t={}),e===void 0&&(e={}),d2(n,t).then(function(i){var r=i.text(),a=(i.status/200|0)===1;return a?r:r.then(Promise.reject)}).then(function(i){var r=i&&(0,et.isString)(i);return e.contentTypeJson&&r?JSON.parse(i):i})},o.prototype.__props=function(n,t){n===void 0&&(n={});var e=n.contentTypeJson,i=n.headers||{},r=n.fetchOptions||{},a="X-Requested-With",s="Content-Type",l;if((0,et.isUndefined)(i[a])&&(i[a]="XMLHttpRequest"),(0,et.isUndefined)(i[s])&&e&&(i[s]="application/json; charset=utf-8"),t)if(e)l=JSON.stringify(t);else{l=new FormData;for(var c in t)l.append(c,t[c])}var u={method:l?"POST":"GET",credentials:n.credentials,headers:i,body:l};return Ng(Ng({},u),(0,et.isFunction)(r)?r(u):r)},o}(),VL=zL,u2=function(o){return o.start="storage:start",o.startStore="storage:start:store",o.startLoad="storage:start:load",o.load="storage:load",o.store="storage:store",o.after="storage:after",o.afterStore="storage:after:store",o.afterLoad="storage:after:load",o.end="storage:end",o.endStore="storage:end:store",o.endLoad="storage:end:load",o.error="storage:error",o.errorStore="storage:error:store",o.errorLoad="storage:error:load",o}(u2||{}),mr=u2,jL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hc=function(){return Hc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Hc.apply(this,arguments)},W1=function(o,n,t,e){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?r(u.value):i(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},K1=function(o,n){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},e,i,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],i=0}finally{e=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Uf="local",kx="remote",HL=function(o){jL(n,o);function n(t){var e=o.call(this,t,"StorageManager",ML())||this;e.storages={},e.events=mr;var i=e.config;return i._disable&&(i.type=void 0),e.storages={},e.add(Uf,new SL),e.add(kx,new VL),e.setCurrent(i.type),e}return n.prototype.isAutosave=function(){return!!this.config.autosave},n.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},n.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},n.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},n.prototype.add=function(t,e){return this.storages[t]=e,this},n.prototype.get=function(t){return this.storages[t]},n.prototype.getStorages=function(){return this.storages},n.prototype.getCurrent=function(){return this.config.currentStorage},n.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},n.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},n.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},n.prototype.store=function(t){return W1(this,arguments,void 0,function(e,i){var r,a,s,l,c,u;return i===void 0&&(i={}),K1(this,function(p){switch(p.label){case 0:r=this.getCurrentStorage(),a=Hc(Hc({},this.getCurrentOptions()),i),s=this.getRecoveryStorage(),l=this.getCurrentOptions(Uf),p.label=1;case 1:return p.trys.push([1,5,,9]),[4,this.__exec(r,a,e)];case 2:return p.sent(),c=s,c?[4,this.__exec(s,l,{})]:[3,4];case 3:c=p.sent(),p.label=4;case 4:return[3,9];case 5:return u=p.sent(),s?[4,this.__exec(s,l,e)]:[3,7];case 6:return p.sent(),[3,8];case 7:throw u;case 8:return[3,9];case 9:return[2,e]}})})},n.prototype.load=function(){return W1(this,arguments,void 0,function(t){var e,i,r,a,s,l;return t===void 0&&(t={}),K1(this,function(c){switch(c.label){case 0:return e=this.getCurrentStorage(),i=Hc(Hc({},this.getCurrentOptions()),t),r=this.getRecoveryStorage(),r?[4,this.__exec(r,this.getCurrentOptions(Uf))]:[3,5];case 1:if(s=c.sent(),(0,et.isEmpty)(s))return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return c.sent(),a=s,[3,5];case 4:return l=c.sent(),[3,5];case 5:return a?[3,7]:[4,this.__exec(e,i)];case 6:a=c.sent(),c.label=7;case 7:return[2,a||{}]}})})},n.prototype.__askRecovery=function(){var t=this.em,e=this.getRecovery();return new Promise(function(i,r){(0,et.isFunction)(e)?e(i,r,t?.getEditor()):confirm(t?.t("storageManager.recover"))?i(null):r()})},n.prototype.getRecovery=function(){return this.config.recovery},n.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===kx&&this.get(Uf)},n.prototype.__exec=function(t,e,i){return W1(this,void 0,void 0,function(){var r,a,s,l,c,u,p,g,h,y,_,O,M,w;return K1(this,function(T){switch(T.label){case 0:if(r=i?"store":"load",a=this.getConfig(),s=a.onStore,l=a.onLoad,!t)return[2,i||{}];this.onStart(r,i),T.label=1;case 1:return T.trys.push([1,14,,15]),u=(w=this.em)===null||w===void 0?void 0:w.getEditor(),p=void 0,i?(h=s,h?[4,s(i,u)]:[3,3]):[3,7];case 2:h=T.sent(),T.label=3;case 3:return g=h||i,y=e.onStore,y?[4,e.onStore(g,u)]:[3,5];case 4:y=T.sent(),T.label=5;case 5:return g=y||g,[4,t.store(g,e)];case 6:return p=T.sent(),c=i,[3,13];case 7:return[4,t.load(e)];case 8:return p=T.sent(),c=this.__clearKeys(p),_=e.onLoad,_?[4,e.onLoad(c,u)]:[3,10];case 9:_=T.sent(),T.label=10;case 10:return c=_||c,O=l,O?[4,l(c,u)]:[3,12];case 11:O=T.sent(),T.label=12;case 12:c=O||c,T.label=13;case 13:return this.onAfter(r,c,p),this.onEnd(r,c,p),[3,15];case 14:throw M=T.sent(),this.onError(r,M),M;case 15:return[2,c]}})})},n.prototype.__clearKeys=function(t){t===void 0&&(t={});var e=this.getConfig(),i=new RegExp("^".concat(e.id)),r={};for(var a in t){var s=a.replace(i,"");r[s]=t[a]}return r},n.prototype.getCurrentOptions=function(t){var e=this.getConfig(),i=t||this.getCurrent();return e.options[i]||{}},n.prototype.onStart=function(t,e){var i=this.em;if(i){var r=t==="load"?mr.startLoad:mr.startStore;i.trigger(mr.start,t,e),i.trigger(r,e)}},n.prototype.onAfter=function(t,e,i){var r=this.em;if(r){var a=t==="load"?mr.afterLoad:mr.afterStore;r.trigger(mr.after),r.trigger(a,e,i);var s=t==="load"?mr.load:mr.store;r.trigger(s,e,i)}},n.prototype.onEnd=function(t,e,i){var r=this.em;if(r){var a=t==="load"?mr.endLoad:mr.endStore;r.trigger(mr.end,t,e,i),r.trigger(a,e,i)}},n.prototype.onError=function(t,e){var i=this.em;if(i){var r=t==="load"?mr.errorLoad:mr.errorStore;i.trigger(mr.error,e,t),i.trigger(r,e),this.onEnd(t,e)}},n.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},n.prototype.destroy=function(){this.storages={}},n}(Hr),BL=HL,UL=function(){return{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1}},GL=UL,WL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Eu=function(){return Eu=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Eu.apply(this,arguments)},p2=function(o){WL(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.events={},e.appendInput=!0;var i=t.config,r=i===void 0?{}:i,a=e,s=a.model,l=a.eventCapture,c=s.target,u=s.attributes.type;e.config=r,e.em=r.em,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.target=c,e.className=e.pfx+"trait",e.clsField="".concat(e.ppfx,"field ").concat(e.ppfx,"field-").concat(u);var p=[["change:value",e.onValueChange],["remove",e.removeView]];return p.forEach(function(g){var h=g[0],y=g[1];s.off(h,y),e.listenTo(s,h,y)}),s.view=e,e.listenTo(s,"change:label",e.render),e.listenTo(s,"change:placeholder",e.rerender),e.events={},l.forEach(function(g){return e.events[g]="onChange"}),e.delegateEvents(),e.init(),e}return n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.templateLabel=function(t){var e=this.ppfx,i=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(i,'">').concat(i,"</div>")},n.prototype.templateInput=function(t){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},n.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},n.prototype.removeView=function(){this.remove(),this.removed()},n.prototype.init=function(){},n.prototype.removed=function(){},n.prototype.onRender=function(t){},n.prototype.onUpdate=function(t){},n.prototype.onEvent=function(t){},n.prototype.onChange=function(t){var e=this.getInputElem();e&&!(0,et.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(Eu(Eu({},this.getClbOpts()),{event:t}))},n.prototype.getValueForTarget=function(){return this.model.get("value")},n.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.value=t)},n.prototype.onValueChange=function(t,e,i){i===void 0&&(i={});var r=this.model,a=this.getValueForTarget();i.fromTarget?(this.setInputValue(a),this.postUpdate()):r.setValue(a,i)},n.prototype.renderLabel=function(){var t=this,e=t.$el,i=t.target,r=this.getLabel(),a=this.templateLabel(i);this.createLabel&&(a=this.createLabel({label:r,component:i,trait:this})||""),e.find("[data-label]").append(a)},n.prototype.getLabel=function(){var t=this.em,e=this.model.attributes,i=e.label,r=e.name;return t.t("traitManager.traits.labels.".concat(r))||(0,oe.capitalize)(i||r).replace(/-/g," ")},n.prototype.getComponent=function(){return this.target},n.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.em,i=t.model,r=i,a=i.attributes.name,s=r.get("placeholder")||r.get("default")||"",l=r.get("type")||"text",c=r.get("min"),u=r.get("max"),p=this.getModelValue(),g=(0,Hi.default)('<input type="'.concat(l,'">')),h=e.t("traitManager.traits.attributes.".concat(a))||{};g.attr(Eu({placeholder:s},h)),(0,et.isUndefined)(p)||(r.set({value:p},{silent:!0}),g.prop("value",p)),c&&g.prop("min",c),u&&g.prop("max",u),this.$input=g}return this.$input.get(0)},n.prototype.getInputElem=function(){var t=this,e=t.input,i=t.$input;return e||i&&i.get&&i.get(0)||this.getElInput()},n.prototype.getModelValue=function(){return this.model.getValue()},n.prototype.getElInput=function(){return this.elInput},n.prototype.renderField=function(){var t=this,e=t.$el,i=t.appendInput,r=t.model,a=e.find("[data-input]"),s=a[a.length-1],l=r.el;l||(l=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,et.isString)(l)?(s.innerHTML=l,this.elInput=s.firstChild):(i?s.appendChild(l):s.insertBefore(l,s.firstChild),this.elInput=l),r.el=this.elInput},n.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},n.prototype.rerender=function(){delete this.model.el,this.render()},n.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},n.prototype.render=function(){var t=this,e=t.$el,i=t.pfx,r=t.ppfx,a=t.model,s=a.attributes,l=s.type,c=s.id,u=this.hasLabel&&this.hasLabel(),p="".concat(i,"trait");delete this.$input;var g='<div class="'.concat(p," ").concat(p,"--").concat(l,`">
      `).concat(u?'<div class="'.concat(r,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(r,"field-wrp ").concat(r,"field-wrp--").concat(l,`" data-input>
        `).concat(this.templateInput?(0,et.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return e.empty().append(g),u&&this.renderLabel(),this.renderField(),this.el.className="".concat(p,"__wrp ").concat(p,"__wrp-").concat(c),this.postUpdate(),this.onRender(this.getClbOpts()),this},n}(ye.Ss),za=p2;p2.prototype.eventCapture=["change"];var KL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),f2=function(o){KL(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.onChange=function(){this.handleClick()},n.prototype.handleClick=function(){this.model.runCommand()},n.prototype.renderLabel=function(){this.model.get("label")&&za.prototype.renderLabel.apply(this)},n.prototype.getInputEl=function(){var t=this,e=t.model,i=t.ppfx,r=e.props(),a=r.labelButton,s=r.text,l=r.full,c=a||s,u="".concat(i,"btn"),p='<button type="button" class="'.concat(u,"-prim").concat(l?" ".concat(u,"--full"):"",'">').concat(c,"</button>");return p},n}(za),qL=f2;f2.prototype.eventCapture=["click button"];var $L=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YL=function(o){$L(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.appendInput=!1,t}return n.prototype.templateInput=function(){var t=this,e=t.ppfx,i=t.clsField;return'<label class="'.concat(i,`" data-input>
    <i class="`).concat(e,`chk-icon"></i>
  </label>`)},n.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},n.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.checked=!!t)},n.prototype.getInputEl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=!this.$input,r=za.prototype.getInputEl.apply(this,t);if(i){var a=void 0,s=void 0,l=this,c=l.model,u=l.target,p=c.attributes.valueFalse,g=c.getName();c.changeProp?(a=u.get(g),s=a):(s=u.get("attributes")[g],a=!!(s||s==="")),!(0,et.isUndefined)(p)&&s===p&&(a=!1),r.checked=a}return r},n}(za),XL=YL;function QL(o,n){"use strict";if(!(0,oe.hasWin)())return;var t={beforeShow:h,move:h,change:h,show:h,hide:h,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},e=[],i=!!/msie/i.exec(window.navigator.userAgent),r=function(){function ut(re,Ht){return!!~(""+re).indexOf(Ht)}var Tt=document.createElement("div"),ot=Tt.style;return ot.cssText="background-color:rgba(0,0,0,.5)",ut(ot.backgroundColor,"rgba")||ut(ot.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var ut="";if(i)for(var Tt=1;Tt<=6;Tt++)ut+="<div class='sp-"+Tt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",ut,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(ut,Tt,ot,re){for(var Ht=[],de=0;de<ut.length;de++){var Oe=ut[de];if(Oe){var Pe=L(Oe),_e=Pe.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";_e+=L.equals(Tt,Oe)?" sp-thumb-active":"";var Ae=Pe.toString(re.preferredFormat||"rgb"),Qe=r?"background-color:"+Pe.toRgbString():"filter:"+Pe.toFilter();Ht.push('<span title="'+Ae+'" data-color="'+Pe.toRgbString()+'" class="'+_e+'"><span class="sp-thumb-inner" style="'+Qe+';"></span></span>')}else{var Xe="sp-clear-display";Ht.push(o("<div />").append(o('<span data-color="" style="background-color:transparent;" class="'+Xe+'"></span>').attr("title",re.noColorSelectedText)).html())}}return"<div class='sp-cf "+ot+"'>"+Ht.join("")+"</div>"}function c(){for(var ut=0;ut<e.length;ut++)e[ut]&&e[ut].hide()}function u(ut,Tt){var ot=o.extend({},t,ut);return ot.callbacks={move:_(ot.move,Tt),change:_(ot.change,Tt),show:_(ot.show,Tt),hide:_(ot.hide,Tt),beforeShow:_(ot.beforeShow,Tt)},ot}function p(ut,Tt){var ot=u(Tt,ut),re=ot.flat,Ht=ot.showSelectionPalette,de=ot.localStorageKey,Oe=ot.theme,Pe=ot.callbacks,_e=M(Or,10),Ae=!1,Qe=!1,Xe=!0,Ze=0,_n=0,Kn=0,dt=0,Mt=0,Rt=0,ne=0,Ce=0,Te=0,Ne=0,Pn=0,On=1,rn=[],mi=[],Mn={},fn=ot.selectionPalette.slice(0),Si=ot.maxSelectionSize,yn="sp-dragging",sn=null,wn=ut.ownerDocument,Yn=wn.body,Be=o(ut),Xn=!1,Ve=o(s,wn).addClass(Oe),Dn=Ve.find(".sp-picker-container"),vn=Ve.find(".sp-color"),A=Ve.find(".sp-dragger"),G=Ve.find(".sp-hue"),B=Ve.find(".sp-slider"),gt=Ve.find(".sp-alpha-inner"),Yt=Ve.find(".sp-alpha"),Ee=Ve.find(".sp-alpha-handle"),je=Ve.find(".sp-input"),He=Ve.find(".sp-palette"),ze=Ve.find(".sp-initial"),Y=Ve.find(".sp-cancel"),Zt=Ve.find(".sp-clear"),Re=Ve.find(".sp-choose"),Ln=Ve.find(".sp-palette-toggle"),it=Be.is("input"),bt=it&&Be.attr("type")==="color"&&w(),te=it&&!re,pe=te?o(a).addClass(Oe).addClass(ot.className).addClass(ot.replacerClassName):o([]),ge=te?pe:Be,nn=pe.find(".sp-preview-inner"),dn=ot.color||it&&Be.val(),Nn=!1,zn=ot.preferredFormat,Ya=!ot.showButtons||ot.clickoutFiresChange,Yr=!dn,dr=ot.allowEmpty&&!bt;function Xo(){if(ot.showPaletteOnly&&(ot.showPalette=!0),Ln.text(ot.showPaletteOnly?ot.togglePaletteMoreText:ot.togglePaletteLessText),ot.palette){rn=ot.palette.slice(0),mi=o.isArray(rn[0])?rn:[rn],Mn={};for(var Ge=0;Ge<mi.length;Ge++)for(var Ue=0;Ue<mi[Ge].length;Ue++){var tn=L(mi[Ge][Ue]).toRgbString();Mn[tn]=!0}}Ve.toggleClass("sp-flat",re),Ve.toggleClass("sp-input-disabled",!ot.showInput),Ve.toggleClass("sp-alpha-enabled",ot.showAlpha),Ve.toggleClass("sp-clear-enabled",dr),Ve.toggleClass("sp-buttons-disabled",!ot.showButtons),Ve.toggleClass("sp-palette-buttons-disabled",!ot.togglePaletteOnly),Ve.toggleClass("sp-palette-disabled",!ot.showPalette),Ve.toggleClass("sp-palette-only",ot.showPaletteOnly),Ve.toggleClass("sp-initial-disabled",!ot.showInitial),Ve.addClass(ot.className).addClass(ot.containerClassName),Or()}function Qs(){if(i&&Ve.find("*:not(input)").attr("unselectable","on"),Xo(),te&&Be.after(pe).hide(),dr||Zt.hide(),re)Be.after(Ve).hide();else{var Ge=ot.appendTo==="parent"?Be.parent():o(ot.appendTo);Ge.length!==1&&(Ge=o("body")),Ge.append(Ve)}Xa(),ge.bind("click.spectrum touchstart.spectrum",function(Ke){Xn||Ti(),Ke.stopPropagation(),o(Ke.target).is("input")||Ke.preventDefault()}),(Be.is(":disabled")||ot.disabled===!0)&&Oa(),Ve.click(y),je.change(vi),je.bind("paste",function(){setTimeout(vi,1)}),je.keydown(function(Ke){Ke.keyCode==13&&vi()}),Y.text(ot.cancelText),Y.bind("click.spectrum",function(Ke){Ke.stopPropagation(),Ke.preventDefault(),tl(),Ji()}),Zt.attr("title",ot.clearText),Zt.bind("click.spectrum",function(Ke){Ke.stopPropagation(),Ke.preventDefault(),Yr=!0,Xr(),re&&Qr(!0)}),Re.text(ot.chooseText),Re.bind("click.spectrum",function(Ke){Ke.stopPropagation(),Ke.preventDefault(),i&&je.is(":focus")&&je.trigger("change"),Za()&&(Qr(!0),Ji())}),Ln.text(ot.showPaletteOnly?ot.togglePaletteMoreText:ot.togglePaletteLessText),Ln.bind("click.spectrum",function(Ke){Ke.stopPropagation(),Ke.preventDefault(),ot.showPaletteOnly=!ot.showPaletteOnly,!ot.showPaletteOnly&&!re&&Ve.css("left","-="+(Dn.outerWidth(!0)+5)),Xo()}),O(Yt,function(Ke,oi,Pr){On=Ke/Rt,Yr=!1,Pr.shiftKey&&(On=Math.round(On*10)/10),Xr()},No,ba),O(G,function(Ke,oi){Te=parseFloat(oi/dt),Yr=!1,ot.showAlpha||(On=1),Xr()},No,ba),O(vn,function(Ke,oi,Pr){if(!Pr.shiftKey)sn=null;else if(!sn){var Mr=Ne*Ze,Di=_n-Pn*_n,Bi=Math.abs(Ke-Mr)>Math.abs(oi-Di);sn=Bi?"x":"y"}var wr=!sn||sn==="x",zo=!sn||sn==="y";wr&&(Ne=parseFloat(Ke/Ze)),zo&&(Pn=parseFloat((_n-oi)/_n)),Yr=!1,ot.showAlpha||(On=1),Xr()},No,ba),dn?(ho(dn),mo(),zn=ot.preferredFormat||L(dn).getFormat(),_a(dn)):mo(),re&&Ja();function Ue(Ke){return Ke.data&&Ke.data.ignore?(ho(o(Ke.target).closest(".sp-thumb-el").data("color")),Xr()):(ho(o(Ke.target).closest(".sp-thumb-el").data("color")),Xr(),ot.hideAfterPaletteSelect&&(Qr(!0),Ji())),!1}var tn=i?"mousedown.spectrum":"click.spectrum touchstart.spectrum";He.delegate(".sp-thumb-el",tn,Ue),ze.delegate(".sp-thumb-el:nth-child(1)",tn,{ignore:!0},Ue)}function Xa(){if(de&&window.localStorage){try{var Ge=window.localStorage[de].split(",#");Ge.length>1&&(delete window.localStorage[de],o.each(Ge,function(Ue,tn){_a(tn)}))}catch{}try{fn=window.localStorage[de].split(";")}catch{}}}function _a(Ge){if(Ht){var Ue=L(Ge).toRgbString();if(!Mn[Ue]&&o.inArray(Ue,fn)===-1)for(fn.push(Ue);fn.length>Si;)fn.shift();if(de&&window.localStorage)try{window.localStorage[de]=fn.join(";")}catch{}}}function Js(){var Ge=[];if(ot.showPalette)for(var Ue=0;Ue<fn.length;Ue++){var tn=L(fn[Ue]).toRgbString();Mn[tn]||Ge.push(fn[Ue])}return Ge.reverse().slice(0,ot.maxSelectionSize)}function Qa(){var Ge=Ei(),Ue=o.map(mi,function(tn,Ke){return l(tn,Ge,"sp-palette-row sp-palette-row-"+Ke,ot)});Xa(),fn&&Ue.push(l(Js(),Ge,"sp-palette-row sp-palette-row-selection",ot)),He.html(Ue.join(""))}function ya(){if(ot.showInitial){var Ge=Nn,Ue=Ei();ze.html(l([Ge,Ue],Ue,"sp-palette-row-initial",ot))}}function No(){(_n<=0||Ze<=0||dt<=0)&&Or(),Qe=!0,Ve.addClass(yn),sn=null,Be.trigger("dragstart.spectrum",[Ei()])}function ba(){Qe=!1,Ve.removeClass(yn),Be.trigger("dragstop.spectrum",[Ei()])}function vi(){var Ge=je.val();if((Ge===null||Ge==="")&&dr)ho(null),Qr(!0);else{var Ue=L(Ge);Ue.isValid()?(ho(Ue),Qr(!0)):je.addClass("sp-validation-error")}}function Ti(){Ae?Ji():Ja()}function Ja(){var Ge=o.Event("beforeShow.spectrum");if(Ae){Or();return}if(Be.trigger("beforeShow.spectrum",[Ei()]),!(Pe.beforeShow(Ei())===!1||Ge.isDefaultPrevented())){c(),Ae=!0;var Ue=o(wn);Ue.bind("keydown.spectrum",Zs),Ue.bind("click.spectrum",Ro),o(window).bind("resize.spectrum",_e),pe.addClass("sp-active"),Ve.removeClass("sp-hidden"),Or(),mo(),Nn=Ei(),ya(),Pe.show(Nn),Be.trigger("show.spectrum",[Nn])}}function Zs(Ge){Ge.keyCode===27&&Ji()}function Ro(Ge){Ge.button!=2&&(Qe||(Ya?Qr(!0):tl(),Ji()))}function Ji(){!Ae||re||(Ae=!1,o(wn).unbind("keydown.spectrum",Zs),o(wn).unbind("click.spectrum",Ro),o(window).unbind("resize.spectrum",_e),pe.removeClass("sp-active"),Ve.addClass("sp-hidden"),Pe.hide(Ei()),Be.trigger("hide.spectrum",[Ei()]))}function tl(){ho(Nn,!0)}function ho(Ge,Ue){if(L.equals(Ge,Ei())){mo();return}var tn,Ke;!Ge&&dr?Yr=!0:(Yr=!1,Xe=!Ge,tn=L(Ge),Ke=tn.toHsv(),Te=Ke.h%360/360,Ne=Ke.s,Pn=Ke.v,On=Ke.a),mo(),tn&&tn.isValid()&&!Ue&&(zn=ot.preferredFormat||tn.getFormat())}function Ei(Ge){return Ge=Ge||{},dr&&Yr?null:L.fromRatio({h:Te,s:Ne,v:Pn,a:Math.round(On*100)/100},{format:Ge.format||zn})}function Za(){return!je.hasClass("sp-validation-error")}function Xr(){mo(),Pe.move(Ei()),Be.trigger("move.spectrum",[Ei()])}function mo(){je.removeClass("sp-validation-error"),ts();var Ge=L.fromRatio({h:Te,s:1,v:1});vn.css("background-color",Ge.toHexString());var Ue=zn;On<1&&!(On===0&&Ue==="name")&&(Ue==="hex"||Ue==="hex3"||Ue==="hex6"||Ue==="name")&&(Ue="rgb");var tn=Ei({format:Ue}),Ke="";if(nn.removeClass("sp-clear-display"),nn.css("background-color","transparent"),!tn&&dr)nn.addClass("sp-clear-display");else{var oi=tn.toHexString(),Pr=tn.toRgbString();if(r||tn.alpha===1?nn.css("background-color",Pr):(nn.css("background-color","transparent"),nn.css("filter",tn.toFilter())),ot.showAlpha){var Mr=tn.toRgb();Mr.a=0;var Di=L(Mr).toRgbString(),Bi="linear-gradient(left, "+Di+", "+oi+")";i?gt.css("filter",L(Di).toFilter({gradientType:1},oi)):(gt.css("background","-webkit-"+Bi),gt.css("background","-moz-"+Bi),gt.css("background","-ms-"+Bi),gt.css("background","linear-gradient(to right, "+Di+", "+oi+")"))}Ke=tn.toString(Ue)}ot.showInput&&je.val(Ke),ot.showPalette&&Qa(),ya()}function ts(){var Ge=Ne,Ue=Pn;if(dr&&Yr)Ee.hide(),B.hide(),A.hide();else{Ee.show(),B.show(),A.show();var tn=Ge*Ze,Ke=_n-Ue*_n;tn=Math.max(-Kn,Math.min(Ze-Kn,tn-Kn)),Ke=Math.max(-Kn,Math.min(_n-Kn,Ke-Kn)),A.css({top:Ke+"px",left:tn+"px"});var oi=On*Rt;Ee.css({left:oi-ne/2+"px"});var Pr=Te*dt;B.css({top:Pr-Ce+"px"})}}function Qr(Ge){var Ue=Ei(),tn="",Ke=Xe?!0:!L.equals(Ue,Nn);Ue&&(tn=Ue.toString(zn),!Ae&&_a(Ue)),it&&Be.val(tn),Ge&&Ke&&(Pe.change(Ue),Be.trigger("change",[Ue]))}function Or(){Ae&&(Ze=vn.width(),_n=vn.height(),Kn=A.height(),Mt=G.width(),dt=G.height(),Ce=B.height(),Rt=Yt.width(),ne=Ee.width(),re||(Ve.css("position","absolute"),ot.offset?Ve.offset(ot.offset):Ve.offset(g(Ve,ge))),ts(),ot.showPalette&&Qa(),Be.trigger("reflow.spectrum"))}function Ca(){Be.show(),ge.unbind("click.spectrum touchstart.spectrum"),Ve.remove(),pe.remove(),e[Jr.id]=null}function Fo(Ge,Ue){if(Ge===n)return o.extend({},ot);if(Ue===n)return ot[Ge];ot[Ge]=Ue,Ge==="preferredFormat"&&(zn=ot.preferredFormat),Xo()}function xa(){Xn=!1,Be.attr("disabled",!1),ge.removeClass("sp-disabled")}function Oa(){Ji(),Xn=!0,Be.attr("disabled",!0),ge.addClass("sp-disabled")}function el(Ge){ot.offset=Ge,Or()}Qs();var Jr={show:Ja,hide:Ji,toggle:Ti,reflow:Or,option:Fo,enable:xa,disable:Oa,offset:el,set:function(Ge){ho(Ge),Qr()},get:Ei,destroy:Ca,container:Ve};return Jr.id=e.push(Jr)-1,Jr}function g(ut,Tt){for(var ot=Tt[0],re=ut[0],Ht=re.parentElement,de=ot.getBoundingClientRect(),Oe=re.offsetWidth,Pe=re.offsetHeight,_e={top:0,left:0,width:ot.offsetWidth,height:ot.offsetHeight};ot&&(_e.top+=ot.offsetTop-ot.scrollTop,_e.left+=ot.offsetLeft-ot.scrollLeft,!(ot===Ht||!Ht.contains(ot.offsetParent)));)ot=ot.offsetParent;return de.right+Oe>window.innerWidth-window.scrollX&&de.right-Oe>0&&(_e.left-=Oe-_e.width),de.bottom+Pe<window.innerHeight-window.scrollY?_e.top+=_e.height:_e.top-=Pe,_e}function h(){}function y(ut){ut.stopPropagation()}function _(ut,Tt){var ot=Array.prototype.slice,re=ot.call(arguments,2);return function(){return ut.apply(Tt,re.concat(ot.call(arguments)))}}function O(ut,Tt,ot,re){Tt=Tt||function(){},ot=ot||function(){},re=re||function(){};var Ht=document,de=!1,Oe={},Pe=0,_e=0,Ae="ontouchstart"in window,Qe={};Qe.selectstart=Xe,Qe.dragstart=Xe,Qe["touchmove mousemove"]=Ze,Qe["touchend mouseup"]=Kn;function Xe(dt){dt.stopPropagation&&dt.stopPropagation(),dt.preventDefault&&dt.preventDefault(),dt.returnValue=!1}function Ze(dt){if(de){if(i&&Ht.documentMode<9&&!dt.button)return Kn();var Mt=dt&&dt.touches&&dt.touches[0],Rt=Mt&&Mt.pageX||dt.pageX,ne=Mt&&Mt.pageY||dt.pageY,Ce=Math.max(0,Math.min(Rt-Oe.left,_e)),Te=Math.max(0,Math.min(ne-Oe.top,Pe));Ae&&Xe(dt),Tt.apply(ut,[Ce,Te,dt])}}function _n(dt){var Mt=dt.which?dt.which==3:dt.button==2;!Mt&&!de&&ot.apply(ut,arguments)!==!1&&(de=!0,Pe=o(ut).height(),_e=o(ut).width(),Oe=o(ut).offset(),o(Ht).bind(Qe),o(Ht.body).addClass("sp-dragging"),Ze(dt),Xe(dt))}function Kn(){de&&(o(Ht).unbind(Qe),o(Ht.body).removeClass("sp-dragging"),setTimeout(function(){re.apply(ut,arguments)},0)),de=!1}o(ut).bind("touchstart mousedown",_n)}function M(ut,Tt,ot){var re;return function(){var Ht=this,de=arguments,Oe=function(){re=null,ut.apply(Ht,de)};ot&&clearTimeout(re),(ot||!re)&&(re=setTimeout(Oe,Tt))}}function w(){return o.fn.spectrum.inputTypeColorSupport()}var T="spectrum.id";o.fn.spectrum=function(ut,Tt){if(typeof ut=="string"){var ot=this,re=Array.prototype.slice.call(arguments,1);return this.each(function(){var Ht=e[o(this).data(T)];if(Ht){var de=Ht[ut];if(!de)throw new Error("Spectrum: no such method: '"+ut+"'");ut=="get"?ot=Ht.get():ut=="container"?ot=Ht.container:ut=="option"?ot=Ht.option.apply(Ht,re):ut=="destroy"?(Ht.destroy(),o(this).removeData(T)):de.apply(Ht,re)}}),ot}return this.spectrum("destroy").each(function(){var Ht=o.extend({},ut,o(this).data()),de=p(this,Ht);o(this).data(T,de.id)})},o.fn.spectrum.load=!0,o.fn.spectrum.loadOpts={},o.fn.spectrum.draggable=O,o.fn.spectrum.defaults=t,o.fn.spectrum.inputTypeColorSupport=function ut(){if(typeof ut._cachedResult>"u"){var Tt=o("<input type='color'/>")[0];ut._cachedResult=Tt.type==="color"&&Tt.value!==""}return ut._cachedResult},o.spectrum={},o.spectrum.localization={},o.spectrum.palettes={},o.fn.spectrum.processNativeColorInputs=function(){var ut=o("input[type=color]");ut.length&&!w()&&ut.spectrum({preferredFormat:"hex6"})};var b=/^[\s,#]+/,k=/\s+$/,E=0,N=Math,F=N.round,V=N.min,R=N.max,H=N.random,L=function(ut,Tt){if(ut=ut||"",Tt=Tt||{},ut instanceof L)return ut;if(!(this instanceof L))return new L(ut,Tt);var ot=W(ut);this._originalInput=ut,this._r=ot.r,this._g=ot.g,this._b=ot.b,this._a=ot.a,this._roundA=F(100*this._a)/100,this._format=Tt.format||ot.format,this._gradientType=Tt.gradientType,this._r<1&&(this._r=F(this._r)),this._g<1&&(this._g=F(this._g)),this._b<1&&(this._b=F(this._b)),this._ok=ot.ok,this._tc_id=E++};L.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ut=this.toRgb();return(ut.r*299+ut.g*587+ut.b*114)/1e3},setAlpha:function(ut){return this._a=ce(ut),this._roundA=F(100*this._a)/100,this},toHsv:function(){var ut=Z(this._r,this._g,this._b);return{h:ut.h*360,s:ut.s,v:ut.v,a:this._a}},toHsvString:function(){var ut=Z(this._r,this._g,this._b),Tt=F(ut.h*360),ot=F(ut.s*100),re=F(ut.v*100);return this._a==1?"hsv("+Tt+", "+ot+"%, "+re+"%)":"hsva("+Tt+", "+ot+"%, "+re+"%, "+this._roundA+")"},toHsl:function(){var ut=J(this._r,this._g,this._b);return{h:ut.h*360,s:ut.s,l:ut.l,a:this._a}},toHslString:function(){var ut=J(this._r,this._g,this._b),Tt=F(ut.h*360),ot=F(ut.s*100),re=F(ut.l*100);return this._a==1?"hsl("+Tt+", "+ot+"%, "+re+"%)":"hsla("+Tt+", "+ot+"%, "+re+"%, "+this._roundA+")"},toHex:function(ut){return pt(this._r,this._g,this._b,ut)},toHexString:function(ut){return"#"+this.toHex(ut)},toHex8:function(){return Vt(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:F(this._r),g:F(this._g),b:F(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+F(this._r)+", "+F(this._g)+", "+F(this._b)+")":"rgba("+F(this._r)+", "+F(this._g)+", "+F(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:F(K(this._r,255)*100)+"%",g:F(K(this._g,255)*100)+"%",b:F(K(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+F(K(this._r,255)*100)+"%, "+F(K(this._g,255)*100)+"%, "+F(K(this._b,255)*100)+"%)":"rgba("+F(K(this._r,255)*100)+"%, "+F(K(this._g,255)*100)+"%, "+F(K(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ae[pt(this._r,this._g,this._b,!0)]||!1},toFilter:function(ut){var Tt="#"+Vt(this._r,this._g,this._b,this._a),ot=Tt,re=this._gradientType?"GradientType = 1, ":"";if(ut){var Ht=L(ut);ot=Ht.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+re+"startColorstr="+Tt+",endColorstr="+ot+")"},toString:function(ut){var Tt=!!ut;ut=ut||this._format;var ot=!1,re=this._a<1&&this._a>=0,Ht=!Tt&&re&&(ut==="hex"||ut==="hex6"||ut==="hex3"||ut==="name");return Ht?ut==="name"&&this._a===0?this.toName():this.toRgbString():(ut==="rgb"&&(ot=this.toRgbString()),ut==="prgb"&&(ot=this.toPercentageRgbString()),(ut==="hex"||ut==="hex6")&&(ot=this.toHexString()),ut==="hex3"&&(ot=this.toHexString(!0)),ut==="hex8"&&(ot=this.toHex8String()),ut==="name"&&(ot=this.toName()),ut==="hsl"&&(ot=this.toHslString()),ut==="hsv"&&(ot=this.toHsvString()),ot||this.toHexString())},_applyModification:function(ut,Tt){var ot=ut.apply(null,[this].concat([].slice.call(Tt)));return this._r=ot._r,this._g=ot._g,this._b=ot._b,this.setAlpha(ot._a),this},lighten:function(){return this._applyModification(rt,arguments)},brighten:function(){return this._applyModification(ft,arguments)},darken:function(){return this._applyModification(wt,arguments)},desaturate:function(){return this._applyModification(qt,arguments)},saturate:function(){return this._applyModification(Pt,arguments)},greyscale:function(){return this._applyModification(yt,arguments)},spin:function(){return this._applyModification(Et,arguments)},_applyCombination:function(ut,Tt){return ut.apply(null,[this].concat([].slice.call(Tt)))},analogous:function(){return this._applyCombination($t,arguments)},complement:function(){return this._applyCombination(zt,arguments)},monochromatic:function(){return this._applyCombination(le,arguments)},splitcomplement:function(){return this._applyCombination(st,arguments)},triad:function(){return this._applyCombination(Wt,arguments)},tetrad:function(){return this._applyCombination(Nt,arguments)}},L.fromRatio=function(ut,Tt){if(typeof ut=="object"){var ot={};for(var re in ut)ut.hasOwnProperty(re)&&(re==="a"?ot[re]=ut[re]:ot[re]=kt(ut[re]));ut=ot}return L(ut,Tt)};function W(ut){var Tt={r:0,g:0,b:0},ot=1,re=!1,Ht=!1;return typeof ut=="string"&&(ut=Le(ut)),typeof ut=="object"&&(ut.hasOwnProperty("r")&&ut.hasOwnProperty("g")&&ut.hasOwnProperty("b")?(Tt=q(ut.r,ut.g,ut.b),re=!0,Ht=String(ut.r).substr(-1)==="%"?"prgb":"rgb"):ut.hasOwnProperty("h")&&ut.hasOwnProperty("s")&&ut.hasOwnProperty("v")?(ut.s=kt(ut.s),ut.v=kt(ut.v),Tt=nt(ut.h,ut.s,ut.v),re=!0,Ht="hsv"):ut.hasOwnProperty("h")&&ut.hasOwnProperty("s")&&ut.hasOwnProperty("l")&&(ut.s=kt(ut.s),ut.l=kt(ut.l),Tt=D(ut.h,ut.s,ut.l),re=!0,Ht="hsl"),ut.hasOwnProperty("a")&&(ot=ut.a)),ot=ce(ot),{ok:re,format:ut.format||Ht,r:V(255,R(Tt.r,0)),g:V(255,R(Tt.g,0)),b:V(255,R(Tt.b,0)),a:ot}}function q(ut,Tt,ot){return{r:K(ut,255)*255,g:K(Tt,255)*255,b:K(ot,255)*255}}function J(ut,Tt,ot){ut=K(ut,255),Tt=K(Tt,255),ot=K(ot,255);var re=R(ut,Tt,ot),Ht=V(ut,Tt,ot),de,Oe,Pe=(re+Ht)/2;if(re==Ht)de=Oe=0;else{var _e=re-Ht;switch(Oe=Pe>.5?_e/(2-re-Ht):_e/(re+Ht),re){case ut:de=(Tt-ot)/_e+(Tt<ot?6:0);break;case Tt:de=(ot-ut)/_e+2;break;case ot:de=(ut-Tt)/_e+4;break}de/=6}return{h:de,s:Oe,l:Pe}}function D(ut,Tt,ot){var re,Ht,de;ut=K(ut,360),Tt=K(Tt,100),ot=K(ot,100);function Oe(Ae,Qe,Xe){return Xe<0&&(Xe+=1),Xe>1&&(Xe-=1),Xe<1/6?Ae+(Qe-Ae)*6*Xe:Xe<1/2?Qe:Xe<2/3?Ae+(Qe-Ae)*(2/3-Xe)*6:Ae}if(Tt===0)re=Ht=de=ot;else{var Pe=ot<.5?ot*(1+Tt):ot+Tt-ot*Tt,_e=2*ot-Pe;re=Oe(_e,Pe,ut+1/3),Ht=Oe(_e,Pe,ut),de=Oe(_e,Pe,ut-1/3)}return{r:re*255,g:Ht*255,b:de*255}}function Z(ut,Tt,ot){ut=K(ut,255),Tt=K(Tt,255),ot=K(ot,255);var re=R(ut,Tt,ot),Ht=V(ut,Tt,ot),de,Oe,Pe=re,_e=re-Ht;if(Oe=re===0?0:_e/re,re==Ht)de=0;else{switch(re){case ut:de=(Tt-ot)/_e+(Tt<ot?6:0);break;case Tt:de=(ot-ut)/_e+2;break;case ot:de=(ut-Tt)/_e+4;break}de/=6}return{h:de,s:Oe,v:Pe}}function nt(ut,Tt,ot){ut=K(ut,360)*6,Tt=K(Tt,100),ot=K(ot,100);var re=N.floor(ut),Ht=ut-re,de=ot*(1-Tt),Oe=ot*(1-Ht*Tt),Pe=ot*(1-(1-Ht)*Tt),_e=re%6,Ae=[ot,Oe,de,de,Pe,ot][_e],Qe=[Pe,ot,ot,Oe,de,de][_e],Xe=[de,de,Pe,ot,ot,Oe][_e];return{r:Ae*255,g:Qe*255,b:Xe*255}}function pt(ut,Tt,ot,re){var Ht=[ht(F(ut).toString(16)),ht(F(Tt).toString(16)),ht(F(ot).toString(16))];return re&&Ht[0].charAt(0)==Ht[0].charAt(1)&&Ht[1].charAt(0)==Ht[1].charAt(1)&&Ht[2].charAt(0)==Ht[2].charAt(1)?Ht[0].charAt(0)+Ht[1].charAt(0)+Ht[2].charAt(0):Ht.join("")}function Vt(ut,Tt,ot,re){var Ht=[ht(Ft(re)),ht(F(ut).toString(16)),ht(F(Tt).toString(16)),ht(F(ot).toString(16))];return Ht.join("")}L.equals=function(ut,Tt){return!ut||!Tt?!1:L(ut).toRgbString()==L(Tt).toRgbString()},L.random=function(){return L.fromRatio({r:H(),g:H(),b:H()})};function qt(ut,Tt){Tt=Tt===0?0:Tt||10;var ot=L(ut).toHsl();return ot.s-=Tt/100,ot.s=at(ot.s),L(ot)}function Pt(ut,Tt){Tt=Tt===0?0:Tt||10;var ot=L(ut).toHsl();return ot.s+=Tt/100,ot.s=at(ot.s),L(ot)}function yt(ut){return L(ut).desaturate(100)}function rt(ut,Tt){Tt=Tt===0?0:Tt||10;var ot=L(ut).toHsl();return ot.l+=Tt/100,ot.l=at(ot.l),L(ot)}function ft(ut,Tt){Tt=Tt===0?0:Tt||10;var ot=L(ut).toRgb();return ot.r=R(0,V(255,ot.r-F(255*-(Tt/100)))),ot.g=R(0,V(255,ot.g-F(255*-(Tt/100)))),ot.b=R(0,V(255,ot.b-F(255*-(Tt/100)))),L(ot)}function wt(ut,Tt){Tt=Tt===0?0:Tt||10;var ot=L(ut).toHsl();return ot.l-=Tt/100,ot.l=at(ot.l),L(ot)}function Et(ut,Tt){var ot=L(ut).toHsl(),re=(F(ot.h)+Tt)%360;return ot.h=re<0?360+re:re,L(ot)}function zt(ut){var Tt=L(ut).toHsl();return Tt.h=(Tt.h+180)%360,L(Tt)}function Wt(ut){var Tt=L(ut).toHsl(),ot=Tt.h;return[L(ut),L({h:(ot+120)%360,s:Tt.s,l:Tt.l}),L({h:(ot+240)%360,s:Tt.s,l:Tt.l})]}function Nt(ut){var Tt=L(ut).toHsl(),ot=Tt.h;return[L(ut),L({h:(ot+90)%360,s:Tt.s,l:Tt.l}),L({h:(ot+180)%360,s:Tt.s,l:Tt.l}),L({h:(ot+270)%360,s:Tt.s,l:Tt.l})]}function st(ut){var Tt=L(ut).toHsl(),ot=Tt.h;return[L(ut),L({h:(ot+72)%360,s:Tt.s,l:Tt.l}),L({h:(ot+216)%360,s:Tt.s,l:Tt.l})]}function $t(ut,Tt,ot){Tt=Tt||6,ot=ot||30;var re=L(ut).toHsl(),Ht=360/ot,de=[L(ut)];for(re.h=(re.h-(Ht*Tt>>1)+720)%360;--Tt;)re.h=(re.h+Ht)%360,de.push(L(re));return de}function le(ut,Tt){Tt=Tt||6;for(var ot=L(ut).toHsv(),re=ot.h,Ht=ot.s,de=ot.v,Oe=[],Pe=1/Tt;Tt--;)Oe.push(L({h:re,s:Ht,v:de})),de=(de+Pe)%1;return Oe}L.mix=function(ut,Tt,ot){ot=ot===0?0:ot||50;var re=L(ut).toRgb(),Ht=L(Tt).toRgb(),de=ot/100,Oe=de*2-1,Pe=Ht.a-re.a,_e;Oe*Pe==-1?_e=Oe:_e=(Oe+Pe)/(1+Oe*Pe),_e=(_e+1)/2;var Ae=1-_e,Qe={r:Ht.r*_e+re.r*Ae,g:Ht.g*_e+re.g*Ae,b:Ht.b*_e+re.b*Ae,a:Ht.a*de+re.a*(1-de)};return L(Qe)},L.readability=function(ut,Tt){var ot=L(ut),re=L(Tt),Ht=ot.toRgb(),de=re.toRgb(),Oe=ot.getBrightness(),Pe=re.getBrightness(),_e=Math.max(Ht.r,de.r)-Math.min(Ht.r,de.r)+Math.max(Ht.g,de.g)-Math.min(Ht.g,de.g)+Math.max(Ht.b,de.b)-Math.min(Ht.b,de.b);return{brightness:Math.abs(Oe-Pe),color:_e}},L.isReadable=function(ut,Tt){var ot=L.readability(ut,Tt);return ot.brightness>125&&ot.color>500},L.mostReadable=function(ut,Tt){for(var ot=null,re=0,Ht=!1,de=0;de<Tt.length;de++){var Oe=L.readability(ut,Tt[de]),Pe=Oe.brightness>125&&Oe.color>500,_e=3*(Oe.brightness/125)+Oe.color/500;(Pe&&!Ht||Pe&&Ht&&_e>re||!Pe&&!Ht&&_e>re)&&(Ht=Pe,re=_e,ot=L(Tt[de]))}return ot};var Ct=L.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ae=L.hexNames=he(Ct);function he(ut){var Tt={};for(var ot in ut)ut.hasOwnProperty(ot)&&(Tt[ut[ot]]=ot);return Tt}function ce(ut){return ut=parseFloat(ut),(isNaN(ut)||ut<0||ut>1)&&(ut=1),ut}function K(ut,Tt){At(ut)&&(ut="100%");var ot=Qt(ut);return ut=V(Tt,R(0,parseFloat(ut))),ot&&(ut=parseInt(ut*Tt,10)/100),N.abs(ut-Tt)<1e-6?1:ut%Tt/parseFloat(Tt)}function at(ut){return V(1,R(0,ut))}function mt(ut){return parseInt(ut,16)}function At(ut){return typeof ut=="string"&&ut.indexOf(".")!=-1&&parseFloat(ut)===1}function Qt(ut){return typeof ut=="string"&&ut.indexOf("%")!=-1}function ht(ut){return ut.length==1?"0"+ut:""+ut}function kt(ut){return ut<=1&&(ut=ut*100+"%"),ut}function Ft(ut){return Math.round(parseFloat(ut)*255).toString(16)}function me(ut){return mt(ut)/255}var Ye=function(){var ut="[-\\+]?\\d+%?",Tt="[-\\+]?\\d*\\.\\d+%?",ot="(?:"+Tt+")|(?:"+ut+")",re="[\\s|\\(]+("+ot+")[,|\\s]+("+ot+")[,|\\s]+("+ot+")\\s*\\)?",Ht="[\\s|\\(]+("+ot+")[,|\\s]+("+ot+")[,|\\s]+("+ot+")[,|\\s]+("+ot+")\\s*\\)?";return{rgb:new RegExp("rgb"+re),rgba:new RegExp("rgba"+Ht),hsl:new RegExp("hsl"+re),hsla:new RegExp("hsla"+Ht),hsv:new RegExp("hsv"+re),hsva:new RegExp("hsva"+Ht),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Le(ut){ut=ut.replace(b,"").replace(k,"").toLowerCase();var Tt=!1;if(Ct[ut])ut=Ct[ut],Tt=!0;else if(ut=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ot;return(ot=Ye.rgb.exec(ut))?{r:ot[1],g:ot[2],b:ot[3]}:(ot=Ye.rgba.exec(ut))?{r:ot[1],g:ot[2],b:ot[3],a:ot[4]}:(ot=Ye.hsl.exec(ut))?{h:ot[1],s:ot[2],l:ot[3]}:(ot=Ye.hsla.exec(ut))?{h:ot[1],s:ot[2],l:ot[3],a:ot[4]}:(ot=Ye.hsv.exec(ut))?{h:ot[1],s:ot[2],v:ot[3]}:(ot=Ye.hsva.exec(ut))?{h:ot[1],s:ot[2],v:ot[3],a:ot[4]}:(ot=Ye.hex8.exec(ut))?{a:me(ot[1]),r:mt(ot[2]),g:mt(ot[3]),b:mt(ot[4]),format:Tt?"name":"hex8"}:(ot=Ye.hex6.exec(ut))?{r:mt(ot[1]),g:mt(ot[2]),b:mt(ot[3]),format:Tt?"name":"hex"}:(ot=Ye.hex3.exec(ut))?{r:mt(ot[1]+""+ot[1]),g:mt(ot[2]+""+ot[2]),b:mt(ot[3]+""+ot[3]),format:Tt?"name":"hex"}:!1}window.tinycolor=L,o(function(){o.fn.spectrum.load&&o.fn.spectrum.processNativeColorInputs()})}var JL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),g2=function(o){JL(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this,i=t.ppfx||"";return e.opts=t,e.ppfx=i,e.em=t.target||{},!t.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return n.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},n.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.setValue=function(t,e){var i=this.model,r=t||i.get("defaults"),a=this.getInputEl();a&&(a.value=r)},n.prototype.handleModelChange=function(t,e,i){this.setValue(e,i)},n.prototype.handleChange=function(t){t.stopPropagation();var e=this.getInputEl().value;this.__onInputChange(e),this.elementUpdated()},n.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},n.prototype.getInputEl=function(){if(!this.inputEl){var t=this,e=t.model,i=t.opts,r=i.type||"text",a=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=(0,Hi.default)('<input type="'.concat(r,'" placeholder="').concat(a,'">'))}return this.inputEl.get(0)},n.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},n}(ye.Ss),Rg=g2;g2.prototype.events={change:"handleChange"};var ZL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ku=function(){return ku=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},ku.apply(this,arguments)};Hi.default&&QL(Hi.default);var Gf=function(o){var n=o.getFormat()==="name"&&o.toName(),t=o.getAlpha()==1?o.toHexString():o.toRgbString();return n||t.replace(/ /g,"")},tN=function(o){ZL(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},n.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.remove=function(){return o.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},n.prototype.handleChange=function(t){t.stopPropagation();var e=t.target.value;(0,et.isUndefined)(e)||this.__onInputChange(e)},n.prototype.__onInputChange=function(t){var e=this,i=e.model,r=e.opts,a=r.onChange,s=t,l=this.getColorEl();if(l){l.spectrum("set",s);var c=l.spectrum("get"),u=s&&Gf(c);u&&(s=u)}a?a(s):i.set({value:s},{fromInput:1})},n.prototype.setValue=function(t,e){e===void 0&&(e={});var i=this.model,r=(0,et.isUndefined)(e.def)?i.get("defaults"):e.def,a=(0,et.isUndefined)(t)?(0,et.isUndefined)(r)?"":r:t,s=this.getInputEl(),l=this.getColorEl(),c=a!="none"?a:"";s.value=a,l.get(0).style.backgroundColor=c,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(l.spectrum("set",c),this.noneColor=a=="none",this.movedColor=c)},n.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var e=this,i=e.em,r=e.model,a=e.opts,s=this.ppfx,l=a.onChange,c=(0,Hi.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),u=c.get(0).style,p=i&&i.getConfig&&i.getConfig().colorPicker||{};this.movedColor="";var g=!1,h;this.$el.find("[data-colorp-c]").append(c);var y=function(_,O){O===void 0&&(O=!0),l?l(_,!O):(O&&r.setValueFromInput(0,!1),r.setValueFromInput(_,O))};c.spectrum(ku(ku(ku({color:r.getValue()||!1,containerClassName:"".concat(s,"one-bg ").concat(s,"two-color ").concat(s,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F",palette:[]},p),r.get("colorPicker")||{}),{move:function(_){var O=Gf(_);t.movedColor=O,u.backgroundColor=O,y(O,!1)},change:function(_){g=!0;var O=Gf(_);u.backgroundColor=O,y(O),t.noneColor=!1},show:function(_){g=!1,t.movedColor="",h=l?r.getValue({noDefault:!0}):Gf(_)},hide:function(){!g&&(h||l)&&(t.noneColor&&(h=""),u.backgroundColor=h,c.spectrum("set",h),y(h,!1))}})),i&&i.on&&this.listenTo(i,"component:selected",function(){t.movedColor&&y(t.movedColor),g=!0,t.movedColor="",c.spectrum("hide")}),this.colorEl=c}return this.colorEl},n.prototype.render=function(){return Rg.prototype.render.call(this),this.getColorEl(),this},n}(Rg),h2=tN,eN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nN=function(o){eN(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.getInputEl=function(){if(!this.input){var t=this.model,e=this.getModelValue(),i=new h2({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),r=i.render();r.setValue(e,{fromTarget:1}),this.input=r.el}return this.input},n}(za),iN=nN,rN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),m2=function(o){rN(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;return(0,et.bindAll)(e,"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return n.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},n.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},n.prototype.setValue=function(t,e){var i=e||{},r=this.validateInputValue(t,{deepCheck:1}),a={value:r.value,unit:""};(r.unit||r.force)&&(a.unit=r.unit),this.model.set(a,i),i.silent&&this.handleModelChange()},n.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},n.prototype.handleUnitChange=function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},n.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},n.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var i=['<option value="" disabled hidden>-</option>'];e.forEach(function(a){var s=a==t.get("unit")?"selected":"";i.push("<option ".concat(s,">").concat(a,"</option>"))});var r=document.createElement("div");r.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(i.join(""),"</select>"),this.unitEl=r.firstChild}}return this.unitEl},n.prototype.upArrowClick=function(){var t=this.model,e=t.get("step"),i=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(i+e)),this.elementUpdated()},n.prototype.downArrowClick=function(){var t=this.model,e=t.get("step"),i=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(i-e)),this.elementUpdated()},n.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var e=this.model.get("value")||0;e=this.normalizeValue(e),this.current={y:t.pageY,val:e},(0,Me.on)(this.doc,"mousemove",this.moveIncrement),(0,Me.on)(this.doc,"mouseup",this.upIncrement)},n.prototype.moveIncrement=function(t){this.moved=!0;var e=this.model,i=e.get("step"),r=this.current,a=this.normalizeValue(r.val+(r.y-t.pageY)*i),s=this.validateInputValue(a),l=s.value,c=s.unit;return this.prValue=l,e.set({value:l,unit:c},{avoidStore:1}),!1},n.prototype.upIncrement=function(){var t=this.model,e=t.get("step");if((0,Me.AU)(this.doc,"mouseup",this.upIncrement),(0,Me.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var i=this.prValue-e;t.set("value",i,{avoidStore:1}).set("value",i+e),this.elementUpdated()}},n.prototype.normalizeValue=function(t,e){e===void 0&&(e=0);var i=this.model,r=i.get("step"),a=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var s=r.toString().split(".")[1];a=s?s.length:0}return a?parseFloat(t.toFixed(a)):t},n.prototype.validateInputValue=function(t,e){e===void 0&&(e={});var i=0,r=e||{},a=this.model,s="",l=(0,et.isUndefined)(t)?s:t,c=e.units||a.get("units")||[],u=a.get("unit")||c.length&&c[0]||"",p=(0,et.isUndefined)(e.max)?a.get("max"):e.max,g=(0,et.isUndefined)(e.min)?a.get("min"):e.min,h=!!a.get("limitlessMax"),y=!!a.get("limitlessMin");if(r.deepCheck){var _=a.get("fixedValues")||[];if(l===""&&(u=""),l){var O=new RegExp("^"+_.join("|"),"g");if(_.length&&O.test(l))l=l.match(O)[0],u="",i=1;else{var M=l+"";l+="",l=parseFloat(l.replace(",",".")),l=isNaN(l)?s:l;var w=M.replace(l,"");(0,et.indexOf)(c,w)>=0&&(u=w)}}}return!isNaN(l)&&l!==""&&(!h&&!(0,et.isUndefined)(p)&&p!==""&&(l=l>p?p:l),!y&&!(0,et.isUndefined)(g)&&g!==""&&(l=l<g?g:l)),{force:i,value:l,unit:u}},n.prototype.render=function(){Rg.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},n}(Rg),v2=m2;m2.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var oN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),aN=function(o){oN(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.getValueForTarget=function(){var t=this.model,e=t.attributes,i=e.value,r=e.unit;return!(0,et.isUndefined)(i)&&i!==""?i+r:t.get("default")},n.prototype.getInputEl=function(){if(!this.input){var t=this,e=t.ppfx,i=t.model,r=this.getModelValue(),a=new v2({contClass:"".concat(e,"field-int"),type:"number",model:i,ppfx:e});a.render(),this.$input=a.inputEl,this.$unit=a.unitEl,i.set("value",r,{fromTarget:!0}),this.$input.val(r),this.input=a.el}return this.input},n}(za),sN=aN,lN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cN=function(o){lN(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;return e.listenTo(e.model,"change:options",e.rerender),e}return n.prototype.templateInput=function(){var t=this,e=t.ppfx,i=t.clsField;return'<div class="'.concat(i,`">
      <div data-input></div>
      <div class="`).concat(e,`sel-arrow">
        <div class="`).concat(e,`d-s-arrow"></div>
      </div>
    </div>`)},n.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.model,i=t.em,r=e.get("name"),a=e.get("options")||[],s=[],l="<select>";a.forEach(function(p){var g="",h,y,_;(0,et.isString)(p)?(h=p,y=p):(h=p.name||p.label||p.value,y="".concat((0,et.isUndefined)(p.value)?p.id:p.value).replace(/"/g,"&quot;"),_=p.style?p.style.replace(/"/g,"&quot;"):"",g+=_?' style="'.concat(_,'"'):"");var O=i.t("traitManager.traits.options.".concat(r,".").concat(y))||h;l+='<option value="'.concat(y,'"').concat(g,">").concat(O,"</option>"),s.push(y)}),l+="</select>",this.$input=(0,Hi.default)(l);var c=e.getTargetValue(),u=s.indexOf(c)>=0?c:e.get("default");!(0,et.isUndefined)(u)&&this.$input.val(u)}return this.$input.get(0)},n}(za),dN=cN,uN=Cn(8242),pN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ax="data-categories",Ix="data-no-categories",_2=function(o){pN(n,o);function n(t,e){var i=o.call(this,t)||this;i.reuseView=!0,i.renderedCategories=new Map,i.itemsView=e;var r=t.config||{};i.config=r;var a=t.editor;i.em=a;var s=r.pStylePrefix||"";return i.ppfx=s,i.pfx=s+r.stylePrefix||"",i.className="".concat(i.pfx,"traits"),i.traitContClass="".concat(s,"traits-c"),i.classNoCat="".concat(s,"traits-empty-c"),i.catsClass="".concat(s,"trait-categories"),i.collection=new lg([],{em:a}),i.listenTo(a,"component:toggled",i.updatedCollection),i.updatedCollection(),i}return n.prototype.updatedCollection=function(){var t=this,e=t.ppfx,i=t.em,r=i.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=r?.traits||new lg([],{em:i}),this.render()},n.prototype.add=function(t,e){var i=this,r=i.config,a=i.renderedCategories,s=this.itemView,l=t.get(this.itemType);this.itemsView&&this.itemsView[l]&&(s=this.itemsView[l]);var c=new s({config:r,model:t,attributes:t.get("attributes")}),u=c.render().el,p=t.parent.initCategory(t);if(p){var g=p.getId(),h=this.getCategoriesEl(),y=a.get(g);!y&&h&&(y=new JO({model:p},r,"trait").render(),a.set(g,y),h.appendChild(y.el)),y?.append(u);return}e?e.appendChild(u):this.append(u)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(Ax,"]"))),this.catsEl},n.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(Ix,"]"))),this.traitsEl},n.prototype.append=function(t){var e=this.getTraitsEl();e?.appendChild(t)},n.prototype.render=function(){var t=this,e=this,i=e.el,r=e.ppfx,a=e.catsClass,s=e.traitContClass,l=e.classNoCat,c=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,i.innerHTML=`
      <div class="`.concat(a,'" ').concat(Ax,`></div>
      <div class="`).concat(l," ").concat(s,'" ').concat(Ix,`></div>
    `),this.collection.forEach(function(p){return t.add(p,c)}),this.append(c);var u="".concat(s,"s ").concat(r,"one-bg ").concat(r,"two-color");return this.$el.addClass(u),this.rendered=!0,this},n}(uN.A),Dx=_2;_2.prototype.itemView=za;var fN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gN=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},hN=function(o){fN(n,o);function n(t){var e=o.call(this,t,"TraitManager",GL())||this;e.TraitsView=Dx,e.events=K0,e.state=new ye.Kx({traits:[]}),e.types={text:za,number:sN,select:dN,checkbox:XL,color:iN,button:qL};var i=e,r=i.state,a=i.config,s=i.events,l=a.pStylePrefix;l&&(a.stylePrefix="".concat(l).concat(a.stylePrefix)),(0,et.bindAll)(e,"__onSelect");var c=(0,et.debounce)(function(){return e.__upSel()},0),u=(0,et.debounce)(function(){return e.__onUp()},0);return r.listenTo(t,"component:toggled",c),r.listenTo(t,s.value,u),r.on("change:traits",e.__onSelect),e.debounced=[c,u],e}return n.prototype.select=function(t){var e=t?.getTraits()||[];this.state.set({component:t,traits:e}),this.__trgCustom()},n.prototype.getCategories=function(){var t,e=this.getComponent(),i=((t=e?.traits.categories)===null||t===void 0?void 0:t.models)||[];return gN([],i,!0)},n.prototype.getTraits=function(){return this.getCurrent()},n.prototype.getTraitsByCategory=function(t){return LO(t||this.getTraits())},n.prototype.getComponent=function(){return this.state.attributes.component},n.prototype.addType=function(t,e){var i=this.getType("text");this.types[t]=i.extend(e)},n.prototype.getType=function(t){return this.getTypes()[t]},n.prototype.getTypes=function(){return this.types},n.prototype.getTraitsViewer=function(){return this.view},n.prototype.getCurrent=function(){return this.state.get("traits")||[]},n.prototype.render=function(){var t=this.view,e=this.em;return t=new Dx({el:t?.el,collection:[],editor:e,config:this.getConfig()},this.getTypes()),this.view=t,t.el},n.prototype.postRender=function(){this.__appendTo()},n.prototype.__onSelect=function(){var t=this,e=t.em,i=t.events,r=t.state,a=r.attributes,s=a.component,l=a.traits;e.trigger(i.select,{component:s,traits:l})},n.prototype.__trgCustom=function(t){t===void 0&&(t={});var e=this,i=e.em,r=e.events,a=e.__ctn;this.__ctn=a||t.container,i.trigger(r.custom,this.__customData())},n.prototype.__customData=function(){return{container:this.__ctn}},n.prototype.__upSel=function(){this.select(this.em.getSelected())},n.prototype.__onUp=function(){this.select(this.getComponent())},n}(Hr),mN=hN,vN=function(){return{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}}},_N=vN,yN=Cn(6756),bN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CN=function(o){bN(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},t}return Object.defineProperty(n.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){var t;return(t=this.model.viewLayer)===null||t===void 0?void 0:t.el},enumerable:!1,configurable:!0}),n}(yN.h),xN=CN,ON=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PN=function(o){ON(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.items=[],e.opt=t;var i=t.config||{};e.config=i,e.module=t.module,e.parentView=t.parentView;var r=i.stylePrefix||"",a=i.pStylePrefix||"",s=e.collection;e.listenTo(s,"add",e.addTo),e.listenTo(s,"reset resetNavigator",e.render),e.listenTo(s,"remove",e.removeChildren),e.className="".concat(r,"layers");var l=i.em;if(i.sortable&&!e.opt.sorter){var c=l.Utils,u=i.sortContainer||e.el,p=e.createPlaceholder(r);e.opt.sorter=new c.ComponentSorter({em:l,treeClass:xN,containerContext:{container:u,containerSel:".".concat(e.className),itemSel:".".concat(r,"layer"),pfx:i.pStylePrefix,document,placeholderElement:p},dragBehavior:{dragDirection:Nl.A.Vertical,nested:!0}})}return e.$el.data("collection",s),t.parent&&e.$el.data("model",t.parent),e}return n.prototype.createPlaceholder=function(t){var e=document.createElement("div"),i=document.createElement("div");return this.el.parentNode,e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",i.className=t+"placeholder-int",e.appendChild(i),e},n.prototype.removeChildren=function(t){var e=t.viewLayer;e&&(e.remove(),delete t.viewLayer)},n.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},n.prototype.addToCollection=function(t,e,i){var r=this,a=r.parentView,s=r.opt,l=r.config,c=r.el,u=s.ItemView,p=s.opened,g=s.module,h=s.level,y=s.sorter,_=t.viewLayer||new u({ItemView:u,level:h,model:t,parentView:a,config:l,sorter:y,opened:p,module:g}),O=_.render().el;if(e)e.appendChild(O);else{var M=c,w=M.childNodes;if((0,et.isUndefined)(i))M.appendChild(O);else{var T=w.length==i;T&&i--,T||!w.length?M.appendChild(O):M.insertBefore(O,w[i])}}return this.items.push(_),O},n.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ye.Ss.prototype.remove.apply(this,t),this.items.map(function(i){return i.remove()}),this},n.prototype.render=function(){var t=this,e=this,i=e.el,r=e.module,a=document.createDocumentFragment();return i.innerHTML="",this.collection.map(function(s){return r.__getLayerFromComponent(s)}).forEach(function(s){return t.addToCollection(s,a)}),i.appendChild(a),i.className=this.className,this},n}(ye.Ss),MN=PN,q1=Cn(9946),wN=function(){return{stylePrefix:"com-",defaults:{},strict:!0,defaultOptions:{}}},SN=wN,TN=Cn(1738),EN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fg=function(){return Fg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Fg.apply(this,arguments)},Lx=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},Nx=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],y2={preserveSelected:1},b2=function(o){return function(n){return o.trigger("".concat(q0,":start"),n)}},C2=function(o){return function(n){return o.trigger(q0,n)}},x2=function(o,n,t){return t===void 0&&(t={}),function(e,i,r){setTimeout(function(){n.forEach(function(a){return a.set("status",a.get("selectable")?"selected":"")}),o.setSelected(n),n[0].emitUpdate()}),o.trigger("".concat(q0,":end"),r),setTimeout(function(){return o.runDefault(y2)}),(t.altMode||r.cancelled)&&o.set("_cmpDrag",1)}},kN=function(o){EN(n,o);function n(t){var e=o.call(this,t,"Commands",SN())||this;e.CommandAbstract=q1.default,e.defaultCommands={},e.commands={},e.active={},e.events=TN.A;var i=e.config,r=i.pStylePrefix,a=e.defaultCommands;r&&(i.stylePrefix=r+i.stylePrefix),Object.keys(i.defaults).forEach(function(l){var c=i.defaults[l];c.id&&e.add(c.id,c)}),a["tlb-delete"]={run:function(l){return l.runCommand("core:component-delete")}},a["tlb-clone"]={run:function(l){l.runCommand("core:copy"),l.runCommand("core:paste",{action:"clone-component"})}},a["tlb-move"]={run:function(l,c,u){var p,g;u===void 0&&(u={});var h,y=l.getModel(),_=u.event,O=u.target,M=Array.isArray(O)?O:O?[O]:Lx([],l.getSelectedAll(),!0),w=M.map(function(W){var q,J;return((J=(q=W.delegate)===null||q===void 0?void 0:q.move)===null||J===void 0?void 0:J.call(q,W))||W}).filter(Boolean),T=w[w.length-1],b=_?.type==="dragstart",k=["absolute","translate"];if(!T?.get("draggable"))return y.logWarning("The element is not draggable");var E=u.mode||T.get("dmode")||y.get("dmode"),N=function(){return y.stopDefault(y2)},F=(0,et.includes)(k,E);w.forEach(function(W){return W.trigger("disable",{fromMove:!0})}),b?setTimeout(N,0):N();var V=b2(y),R=C2(y),H=x2(y,w,{altMode:F});if(F)h=l.runCommand("core:component-drag",{guidesInfo:1,mode:E,target:T,onStart:V,onDrag:R,onEnd:H,event:_});else{b&&((p=_?.dataTransfer)===null||p===void 0||p.setDragImage((g=T.view)===null||g===void 0?void 0:g.el,0,0));var L=l.Commands.get("move-comp");L.onStart=V,L.onDrag=R,L.onEndMoveFromModel=H,L.initSorterFromModels(w)}w.filter(function(W){return W.get("selectable")}).forEach(function(W){return W.set("status","freezed-selected")})}},a["core:undo"]=function(l){return l.UndoManager.undo()},a["core:redo"]=function(l){return l.UndoManager.redo()},Nx.forEach(function(l){var c=l[2],u=Cn(585)("./".concat(l[1])).default,p="core:".concat(l[0]);a[p]=u,c&&(a[c]=u,["run","stop"].forEach(function(g){t.on("".concat(g,":").concat(c),function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];return t.trigger.apply(t,Lx(["".concat(g,":").concat(p)],h,!1))})}))}),i.model=t.Canvas;for(var s in a)e.add(s,a[s]);return e}return n.prototype.add=function(t,e){var i=(0,et.isFunction)(e)?{run:e}:e;return i.stop||(i.noStop=!0),delete i.initialize,i.id=t,this.commands[t]=q1.default.extend(i),this},n.prototype.get=function(t){var e=this.commands[t];return(0,et.isFunction)(e)?(e=new e(this.config),this.commands[t]=e):e||this.em.logWarning("'".concat(t,"' command not found")),e},n.prototype.extend=function(t,e){e===void 0&&(e={});var i=this.get(t);if(i){var r=Fg(Fg({},i.constructor.prototype),e);this.add(t,r);var a=Nx.filter(function(s){return"core:".concat(s[0])===t&&s[2]})[0];a&&this.add(a[2],r)}return this},n.prototype.has=function(t){return!!this.commands[t]},n.prototype.getAll=function(){return this.commands},n.prototype.run=function(t,e){return e===void 0&&(e={}),this.runCommand(this.get(t),e)},n.prototype.stop=function(t,e){return e===void 0&&(e={}),this.stopCommand(this.get(t),e)},n.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},n.prototype.getActive=function(){return this.active},n.prototype.runCommand=function(t,e){var i,r;e===void 0&&(e={});var a;if(t?.run){var s=this,l=s.em,c=s.config,u=t.id,p=l.Editor;if(!this.isActive(u)||e.force||!c.strict){var g=(r=(i=c.defaultOptions)===null||i===void 0?void 0:i[u])===null||r===void 0?void 0:r.run;(0,et.isFunction)(g)&&(e=g(e)),a=p&&t.callRun(p,e)}}return a},n.prototype.stopCommand=function(t,e){var i,r;e===void 0&&(e={});var a;if(t?.run){var s=this,l=s.em,c=s.config,u=t.id,p=l.Editor;if(this.isActive(u)||e.force||!c.strict){var g=(r=(i=c.defaultOptions)===null||i===void 0?void 0:i[u])===null||r===void 0?void 0:r.stop;(0,et.isFunction)(g)&&(e=g(e)),a=t.callStop(p,e)}}return a},n.prototype.create=function(t){t.stop||(t.noStop=!0);var e=q1.default.extend(t);return new e(this.config)},n.prototype.__onRun=function(t,e){var i=this,r=i.em,a=i.events;r.on("".concat(a.runCommand).concat(t),e)},n.prototype.__onStop=function(t,e){var i=this,r=i.em,a=i.events;r.on("".concat(a.stopCommand).concat(t),e)},n.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},n}(Hr),AN=kN,IN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w0=function(){return w0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},w0.apply(this,arguments)},Rx="contentEditable",Wf="data-toggle-move",DN=function(o){IN(n,o);function n(t){var e=o.call(this,t)||this;(0,et.bindAll)(e,"__render"),e.opt=t,e.module=t.module,e.config=t.config||{},e.sorter=t.sorter||"",e.parentView=t.parentView;var i=e,r=i.model,a=i.pfx,s=i.ppfx,l=r.get("type")||"default";return e.className="".concat(a,"layer ").concat(a,"layer__t-").concat(l," no-select ").concat(s,"two-color"),e.inputNameCls="".concat(s,"layer-name"),e.clsTitleC="".concat(a,"layer-title-c"),e.clsTitle="".concat(a,"layer-title"),e.clsCaret="".concat(a,"layer-caret"),e.clsCount="".concat(a,"layer-count"),e.clsMove="".concat(a,"layer-move"),e.clsChildren="".concat(a,"layer-children"),e.clsNoChild="".concat(a,"layer-no-chld"),e.clsEdit="".concat(e.inputNameCls,"--edit"),e.clsNoEdit="".concat(e.inputNameCls,"--no-edit"),e.initComponent(),e}return n.prototype.events=function(){var t;return t={},t["mousedown [".concat(Wf,"]")]="startSort",t["touchstart [".concat(Wf,"]")]="startSort",t["click [data-toggle-visible]"]="toggleVisibility",t["click [data-toggle-open]"]="toggleOpening",t["click [data-toggle-select]"]="handleSelect",t["mouseover [data-toggle-select]"]="handleHover",t["mouseout [data-toggle-select]"]="handleHoverOut",t["dblclick [data-name]"]="handleEdit",t["keydown [data-name]"]="handleEditKey",t["focusout [data-name]"]="handleEditEnd",t},n.prototype.template=function(t){var e=this,i=e.pfx,r=e.ppfx,a=e.config,s=e.clsNoEdit,l=e.module,c=e.opt,u=e.em,p=a.hidable,g=l.getComponents(t).length,h=g?"":this.clsNoChild,y="".concat(this.clsTitle," ").concat(h),_="".concat(this.clsTitleC),O="".concat(this.inputNameCls," ").concat(s," ").concat(r,"no-app"),M=c.level||0,w="".concat(M*10,"px"),T=t.getName(),b=t.getIcon(),k="".concat(i,"layer"),E=(u?.getConfig()).icons,N=E,F=N.move,V=N.eye,R=N.eyeOff,H=N.chevron;return`
      <div class="`.concat(i,"layer-item ").concat(r,`one-bg" data-toggle-select>
        <div class="`).concat(i,`layer-item-left">
          `).concat(p?'<i class="'.concat(i,`layer-vis" data-toggle-visible>
                <i class="`).concat(i,'layer-vis-on">').concat(V,`</i>
                <i class="`).concat(i,'layer-vis-off">').concat(R,`</i>
              </i>`):"",`
          <div class="`).concat(_,`">
            <div class="`).concat(y,'" style="padding-left: ').concat(w,`">
              <div class="`).concat(i,'layer-title-inn" title="').concat(T,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(H,`</i>
                  `).concat(b?'<span class="'.concat(k,'__icon">').concat(b,"</span>"):"",`
                <span class="`).concat(O,'" data-name>').concat(T,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(i,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(g||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Wf,">").concat(F||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),n.prototype.initComponent=function(){var t=this,e=this,i=e.model,r=e.config,a=r.onInit,s=i.components();this.listenTo(s,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(l){return t.listenTo(i,l[0],l[1])}),this.$el.data("model",i),this.$el.data("collection",s),i.viewLayer=this,a.bind(this)({component:i,render:this.__render,listenTo:this.listenTo})},n.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},n.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},n.prototype.updateVisibility=function(){var t=this,e=t.pfx,i=t.model,r=t.module,a="".concat(e,"layer-hidden"),s=!r.isVisible(i),l=s?"addClass":"removeClass";this.$el[l](a),this.getVisibilityEl()[l]("".concat(e,"layer-off"))},n.prototype.updateMove=function(){var t=this,e=t.model,i=t.config,r=this.getItemContainer().find("[".concat(Wf,"]"))[0];if(r){var a=e.get("draggable")&&i.sortable;r.style.display=a?"":"none"}},n.prototype.toggleVisibility=function(t){t?.stopImmediatePropagation();var e=this,i=e.module,r=e.model;i.setVisible(r,!i.isVisible(r))},n.prototype.handleEdit=function(t){t?.stopPropagation();var e=this,i=e.em,r=e.$el,a=e.clsNoEdit,s=e.clsEdit,l=this.getInputName();l[Rx]="true",l.focus(),document.execCommand("selectAll",!1),i.setEditing(!0),r.find(".".concat(this.inputNameCls)).removeClass(a).addClass(s)},n.prototype.handleEditKey=function(t){t.stopPropagation(),((0,Me.v$)(t)||(0,Me.Ci)(t))&&this.handleEditEnd(t)},n.prototype.handleEditEnd=function(t){t?.stopPropagation();var e=this,i=e.em,r=e.$el,a=e.clsNoEdit,s=e.clsEdit,l=e.model,c=this.getInputName(),u=c.textContent;c.scrollLeft=0,c[Rx]="false",l.setName(u),i.setEditing(!1),r.find(".".concat(this.inputNameCls)).addClass(a).removeClass(s),this.updateName()},n.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},n.prototype.updateOpening=function(){var t=this,e=t.$el,i=t.model,r=t.pfx,a="open",s="".concat(r,"layer-open"),l=this.getCaret();this.module.isOpen(i)?(e.addClass(a),l.addClass(s)):(e.removeClass(a),l.removeClass(s))},n.prototype.toggleOpening=function(t){var e=this,i=e.model,r=e.module;t?.stopImmediatePropagation(),i.get("components").length&&r.setOpen(i,!r.isOpen(i))},n.prototype.handleSelect=function(t){t?.stopPropagation();var e=this,i=e.module,r=e.model;i.setLayerData(r,{selected:!0},{event:t})},n.prototype.handleHover=function(t){t?.stopPropagation();var e=this,i=e.module,r=e.model;i.setLayerData(r,{hovered:!0})},n.prototype.handleHoverOut=function(t){t?.stopPropagation();var e=this,i=e.module,r=e.model;i.setLayerData(r,{hovered:!1})},n.prototype.startSort=function(t){var e,i,r;t.stopPropagation();var a=this,s=a.em,l=a.sorter,c=a.model;if(!(t.button&&t.button!==0)&&l){var u=((i=(e=c.delegate)===null||e===void 0?void 0:e.move)===null||i===void 0?void 0:i.call(e,c))||c;l.eventHandlers=w0({legacyOnStartSort:b2(s),legacyOnMoveClb:C2(s),legacyOnEndMove:x2(s,[u])},l.eventHandlers);var p=((r=u.viewLayer)===null||r===void 0?void 0:r.el)||t.target;l.startSort([{element:p}])}},n.prototype.updateStatus=function(){$n.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},n.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},n.prototype.checkChildren=function(){var t=this,e=t.model,i=t.clsNoChild,r=t.module,a=r.getComponents(e).length,s=this.getItemContainer(),l=s.find(".".concat(this.clsTitle)),c=s.find("[data-count]");l[a?"removeClass":"addClass"](i),c.html("".concat(a||"")),!a&&r.setOpen(e,!1)},n.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},n.prototype.setRoot=function(t){var e,i=(0,et.isString)(t)?(e=this.em.getWrapper())===null||e===void 0?void 0:e.find(t)[0]:t;i&&(this.stopListening(),this.model=i,this.initComponent(),this._rendered&&this.render())},n.prototype.updateLayerable=function(){var t=this.parentView,e=t||this;e.render()},n.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},n.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ye.Ss.prototype.remove.apply(this,t),delete this.model.viewLayer,this.__clearItems(),this},n.prototype.render=function(){var t=this,e=t.model,i=t.config,r=t.pfx,a=t.ppfx,s=t.opt,l=t.sorter;this.__clearItems();var c=s.opened,u=s.module,p=s.ItemView,g=!u.__isLayerable(e),h=this.$el.empty(),y=s.level+1;delete this.inputName,this.items=new MN({ItemView:p,collection:e.get("components"),config:i,sorter:l,opened:c,parentView:this,parent:e,level:y,module:u});var _=this.items.render().$el;return!i.showWrapper&&y===1?h.append(_):(h.html(this.template(e)),h.find(".".concat(this.clsChildren)).append(_)),!u.isVisible(e)&&(this.className+=" ".concat(r,"hide")),g&&(this.className+=" ".concat(a,"hidden")),h.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},n.prototype.__render=function(){var t=this,e=t.model,i=t.config,r=t.el,a=i.onRender,s={component:e,el:r};a.bind(this)(s),this.em.trigger("layer:render",s)},n}(ye.Ss),LN=DN,NN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S0=function(){return S0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},S0.apply(this,arguments)},O2="layer",Z0="".concat(O2,":"),P2="".concat(Z0,"root"),M2="".concat(Z0,"component"),RN="".concat(Z0,"custom"),FN={all:O2,root:P2,component:M2,custom:RN},$1={mediaText:""},zN=["open","status","locked","custom-name","components","classes"].map(function(o){return"".concat(kn.I.update,":").concat(o)}).join(" "),VN=function(o){return o===void 0&&(o={}),(o.display||"").trim().indexOf("none")===0},jN=function(o){NN(n,o);function n(t){var e=o.call(this,t,"LayerManager",_N())||this;return e.events=FN,(0,et.bindAll)(e,"componentChanged","__onRootChange","__onComponent"),e.model=new Ns.A(e,{opened:{}}),e.config.stylePrefix=e.config.pStylePrefix,e}return n.prototype.onLoad=function(){var t=this,e=this,i=e.em,r=e.config,a=e.model;a.listenTo(i,"component:selected",this.componentChanged),a.on("change:root",this.__onRootChange),a.listenTo(i,zN,this.__onComponent),this.componentChanged(),a.listenToOnce(i,"load",function(){t.setRoot(r.root),t.__appendTo()})},n.prototype.setRoot=function(t){var e=this.em.getWrapper(),i=(0,oe.isComponent)(t)?t:e;t&&(0,et.isString)(t)&&(0,oe.hasWin)()&&(i=e.find(t)[0]||e);var r=this.__getLayerFromComponent(i);return this.model.set("root",r),r},n.prototype.getRoot=function(){return this.model.get("root")},n.prototype.getComponents=function(t){var e=this;return t.components().map(function(i){return e.__getLayerFromComponent(i)}).filter(function(i){return e.__isLayerable(i)})},n.prototype.setOpen=function(t,e){t.set("open",e)},n.prototype.isOpen=function(t){return!!t.get("open")},n.prototype.setVisible=function(t,e){var i="__prev-display",r=t.getStyle($1),a=r.display;if(e){var s=t.get(i);delete r.display,s&&(r.display=s,t.unset(i))}else a&&t.set(i,a),r.display="none";t.setStyle(r,$1),this.updateLayer(t),this.em.trigger("component:toggled")},n.prototype.isVisible=function(t){return!VN(t.getStyle($1))},n.prototype.setLocked=function(t,e){t.set("locked",e)},n.prototype.isLocked=function(t){return!!t.get("locked")},n.prototype.setName=function(t,e){t.set("custom-name",e)},n.prototype.getName=function(t){return t.getName()},n.prototype.getLayerData=function(t){var e=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:e==="selected",hovered:e==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},n.prototype.setLayerData=function(t,e,i){var r;i===void 0&&(i={});var a=this,s=a.em,l=a.config,c=e.open,u=e.selected,p=e.hovered,g=e.visible,h=e.locked,y=e.name,_=S0({fromLayers:!0},i);if((0,oe.isDef)(c)&&this.setOpen(t,c),(0,oe.isDef)(u))if(u){s.setSelected(t,_);var O=l.scrollCanvas;O&&((r=t.views)===null||r===void 0||r.forEach(function(M){return M.scrollIntoView(O)}))}else s.removeSelected(t,_);(0,oe.isDef)(p)&&l.showHover&&(p?s.setHovered(t,_):s.setHovered(null,_)),(0,oe.isDef)(g)&&g!==this.isVisible(t)&&this.setVisible(t,g),(0,oe.isDef)(h)&&this.setLocked(t,h),(0,oe.isDef)(y)&&this.setName(t,y)},n.prototype.componentChanged=function(t,e){var i;if(e===void 0&&(e={}),!e.fromLayers){var r=this,a=r.em,s=r.config,l=s.scrollLayers,c=this.model.get("opened"),u=a.getSelected(),p=u?.parent();for(var g in c)c[g].set("open",!1),delete c[g];for(;p;)p.set("open",!0),c[p.cid]=p,p=p.parent();if(u&&l){var h=(i=u.viewLayer)===null||i===void 0?void 0:i.el;h?.scrollIntoView(l)}}},n.prototype.getAll=function(){return this.view},n.prototype.render=function(){var t,e,i=this,r=i.config,a=i.model,s=LN.extend(r.extend);return this.view=new s({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:s,level:0,config:r,opened:a.get("opened"),model:this.getRoot(),module:this}),(e=this.view)===null||e===void 0?void 0:e.render().el},n.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},n.prototype.__onRootChange=function(){var t,e=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(e),this.em.trigger(P2,e),this.__trgCustom()},n.prototype.__getLayerFromComponent=function(t){var e,i;return((i=(e=t.delegate)===null||e===void 0?void 0:e.layer)===null||i===void 0?void 0:i.call(e,t))||t},n.prototype.__onComponent=function(t){this.updateLayer(t)},n.prototype.__isLayerable=function(t){var e=t.tagName,i=this.config.hideTextnode,r=!i||!t.isInstanceOf("textnode")&&e!=="br";return r&&t.get("layerable")},n.prototype.__trgCustom=function(t){var e=this,i=e.__ctn,r=e.em,a=e.events;this.__ctn=i||t?.container,r.trigger(a.custom,{container:this.__ctn,root:this.getRoot()})},n.prototype.updateLayer=function(t,e){this.em.trigger(M2,t,e)},n}(Hr),HN=jN,BN=function(){return{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""}},UN=BN,GN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w2=function(o){GN(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.getDefaults=function(){return(0,et.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{type:"",src:""}},n.prototype.getType=function(){return this.get("type")},n.prototype.getSrc=function(){return this.get("src")||""},n.prototype.getFilename=function(){return this.getSrc().split("/").pop().split("?").shift()},n.prototype.getExtension=function(){return this.getFilename().split(".").pop()},n}(ye.Kx),T0=w2;w2.prototype.idAttribute="src";var WN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zg=function(){return zg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},zg.apply(this,arguments)},KN=function(o){WN(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return zg(zg({},T0.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},n}(T0),qN=KN,$N=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YN=function(o){$N(n,o);function n(t){var e=o.call(this,t)||this;e.options=t,e.collection=t.collection;var i=t.config||{};e.config=i,e.pfx=i.stylePrefix||"",e.ppfx=i.pStylePrefix||"",e.em=i.em,e.className=e.pfx+"asset",e.listenTo(e.model,"destroy remove",e.remove),e.model.view=e;var r=e.init&&e.init.bind(e);return r&&r(t),e}return n.prototype.__getBhv=function(){var t=this.em,e=t?.Assets;return e?.__getBehaviour()||{}},n.prototype.template=function(t,e){var i=this.pfx;return`
      <div class="`.concat(i,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(i,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(i,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},n.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,et.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},n.prototype.getPreview=function(){return""},n.prototype.getInfo=function(){return""},n.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},n}(ye.Ss),XN=YN,QN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fx=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},S2=function(o){QN(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.getPreview=function(){var t=this,e=t.pfx,i=t.ppfx,r=t.model,a=r.get("src");return zr(zx||(zx=Fx([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),e,a,e,i)},n.prototype.getInfo=function(){var t=this,e=t.pfx,i=t.model,r=i.get("name"),a=i.get("width"),s=i.get("height"),l=i.get("unitDim"),c=a&&s?"".concat(a,"x").concat(s).concat(l):"";return r=r||i.getFilename(),zr(Vx||(Vx=Fx([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),e,r,e,c)},n.prototype.init=function(t){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},n.prototype.onClick=function(){var t=this,e=t.model,i=t.pfx,r=this.__getBhv().select,a=this.config.onClick,s=this.collection;s.trigger("deselectAll"),this.$el.addClass(i+"highlight"),(0,et.isFunction)(r)?r(e,!1):(0,et.isFunction)(a)?a(e):this.updateTarget(s.target)},n.prototype.onDblClick=function(){var t=this,e=t.em,i=t.model,r=this.__getBhv().select,a=this.config.onDblClick,s=this.collection,l=s.target,c=s.onSelect;(0,et.isFunction)(r)?r(i,!0):(0,et.isFunction)(a)?a(i):(this.updateTarget(l),e?.Modal.close()),(0,et.isFunction)(c)&&c(i)},n.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},n}(XN),JN=S2;S2.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var zx,Vx,Vg=function(){return Vg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Vg.apply(this,arguments)},ZN={types:[],initialize:function(o,n){var t=this;n===void 0&&(n={});var e=n.em;this.em=e,this.opts=n,this.model=function(r,a){r===void 0&&(r={}),a===void 0&&(a={});var s,l,c;if(r&&r.type){var u=t.getBaseType();c=t.getType(r.type),s=c?c.model:u.model,l=c?c.view:u.view}else{var p=t.recognizeType(r);c=p.type,s=c.model,l=c.view,r=p.attributes}var g=new s(r,Vg(Vg({},a),{em:e}));return g.typeView=l,t.model.prototype=s.prototype,g};var i=this.init&&this.init.bind(this);i&&i()},recognizeType:function(o){for(var n=this.getTypes(),t=0;t<n.length;t++){var e=n[t],i=e.isType(o);if(i=typeof i=="boolean"&&i?{type:e.id}:i,i)return{type:e,attributes:i}}return{type:this.getBaseType(),attributes:o}},getBaseType:function(){var o=this.getTypes();return o[o.length-1]},getTypes:function(){return this.types},getType:function(o){for(var n=this.getTypes(),t=0;t<n.length;t++){var e=n[t];if(e.id===o)return e}},addType:function(o,n){var t=this.getType(o),e=this.getBaseType(),i=t?t.model:e.model,r=t?t.view:e.view,a=n.model,s=n.view,l=n.isType;a=a instanceof ye.Kx||(0,et.isFunction)(a)?a:i.extend(a||{}),s=s instanceof ye.Ss||(0,et.isFunction)(s)?s:r.extend(s||{}),this.extendViewApi&&!n.model&&!n.view&&(s=s.extend(n)),t?(t.model=a,t.view=s,t.isType=l||t.isType):(n.id=o,n.model=a,n.view=s,n.isType=l||function(c){if(c&&c.type==o)return!0},this.getTypes().unshift(n))}},T2=ZN,tR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eR=ye.pM.extend(T2),E2=function(o){tR(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(eR),Y1=E2;E2.prototype.types=[{id:"image",model:qN,view:JN,isType:function(o){return typeof o=="string"?{type:"image",src:o}:o}}];var k2=function(o){return o.add="asset:add",o.remove="asset:remove",o.removeBefore="asset:remove:before",o.update="asset:update",o.open="asset:open",o.close="asset:close",o.uploadStart="asset:upload:start",o.uploadEnd="asset:upload:end",o.uploadError="asset:upload:error",o.uploadResponse="asset:upload:response",o.custom="asset:custom",o.all="asset",o}(k2||{}),jx=k2,nR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),A2=function(o){nR(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.options=t,e.config=t.config,e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.em=e.config.em;var i=e.collection;return e.listenTo(i,"reset",e.renderAssets),e.listenTo(i,"add",e.addToAsset),e.listenTo(i,"remove",e.removedAsset),e.listenTo(i,"deselectAll",e.deselectAll),e}return n.prototype.template=function(t){var e=t.pfx,i=t.ppfx,r=t.em,a="";return this.config.showUrlInput&&(a=`
          <form class="`.concat(e,`add-asset">
            <div class="`).concat(i,"field ").concat(e,`add-field">
              <input placeholder="`).concat(r?.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(i,'btn-prim">').concat(r?.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(e,`assets-cont">
      <div class="`).concat(e,`assets-header">
        `).concat(a,`
      </div>
      <div class="`).concat(e,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},n.prototype.handleSubmit=function(t){t.preventDefault();var e=this.getAddInput(),i=e&&e.value.trim(),r=this.config.handleAdd;if(i){e.value="";var a=this.getAssetsEl();a&&(a.scrollTop=0),r?r.bind(this)(i):this.options.globalCollection.add(i,{at:0})}},n.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},n.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},n.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},n.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},n.prototype.addAsset=function(t,e){e===void 0&&(e=null);var i=e,r=this.collection,a=this.config,s=new t.typeView({model:t,collection:r,config:a}).render().el;if(i)i.appendChild(s);else{var l=this.getAssetsEl();l&&l.insertBefore(s,l.firstChild)}return s},n.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var i=this.config.noAssets;i&&e.append(i)}},n.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},n.prototype.renderAssets=function(){var t=this,e=document.createDocumentFragment(),i=this.$el.find(".".concat(this.pfx,"assets"));i.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(r){return t.addAsset(r,e)}),i.append(e)},n.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},n}(ye.Ss),iR=A2;A2.prototype.events={submit:"handleSubmit"};var rR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oR=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},aR=function(o){rR(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.options=t;var i=t.config||{};e.module=t.module,e.config=i,e.em=e.config.em,e.pfx=i.stylePrefix||"",e.ppfx=i.pStylePrefix||"",e.target=e.options.globalCollection||{},e.uploadId=e.pfx+"uploadFile",e.disabled=i.disableUpload!==void 0?i.disableUpload:!i.upload&&!i.embedAsBase64,e.multiUpload=i.multiUpload!==void 0?i.multiUpload:!0;var r=i.uploadFile;return r?e.uploadFile=r.bind(e):!i.upload&&i.embedAsBase64&&(e.uploadFile=n.embedAsBase64),e.delegateEvents(),e}return n.prototype.template=function(t){var e=t.pfx,i=t.title,r=t.uploadId,a=t.disabled,s=t.multiUpload;return zr(Hx||(Hx=oR([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),e,i,r,a?"disabled":"",s?"multiple":"")},n.prototype.events=function(){return{"change [data-input]":"uploadFile"}},n.prototype.onUploadStart=function(){var t=this.module;t?.__propEv(t.events.uploadStart)},n.prototype.onUploadEnd=function(t){var e=this,i=e.$el,r=e.module;r?.__propEv(r.events.uploadEnd,t);var a=i.find("input");a&&a.val("")},n.prototype.onUploadError=function(t){var e=this.module;console.error(t),this.onUploadEnd(t),e?.__propEv(e.events.uploadError,t)},n.prototype.onUploadResponse=function(t,e){var i=this,r=i.module,a=i.config,s=i.target,l;try{l=typeof t=="string"?JSON.parse(t):t}catch{l=t}r?.__propEv(r.events.uploadResponse,l),a.autoAdd&&s&&s.add(l.data,{at:0}),this.onUploadEnd(t),e?.(l)},n.prototype.uploadFile=function(t,e,i){var r=this,a,s=t.dataTransfer?t.dataTransfer.files:(a=t.target)===null||a===void 0?void 0:a.files,l=this.config,c=l.beforeUpload,u=c&&c(s);if(u!==!1){var p=new FormData,g=l.params,h=l.customFetch,y=l.fetchOptions;for(var _ in g)p.append(_,g[_]);if(this.multiUpload)for(var O=0;O<s.length;O++)p.append("".concat(l.uploadName).concat(l.multiUploadSuffix),s[O]);else s.length&&p.append(l.uploadName,s[0]);var M=l.upload,w=l.headers,T="X-Requested-With";if(typeof w[T]>"u"&&(w[T]="XMLHttpRequest"),M){this.onUploadStart();var b={method:"post",credentials:l.credentials||"include",headers:w,body:p},k=y?.(b)||b,E=h?h(M,k):d2(M,k).then(function(N){return(N.status/200|0)==1?N.text():N.text().then(function(F){return Promise.reject(F)})});return E.then(function(N){return r.onUploadResponse(N,e)}).catch(function(N){return r.onUploadError(N)})}}},n.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var e=this.uploadForm;"draggable"in e&&(this.uploadForm.ondragover=function(){return e.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return e.className="",!1},this.uploadForm.ondrop=function(i){e.className="",i.preventDefault(),t.uploadFile(i)})}},n.prototype.initDropzone=function(t){var e=this,i=0,r=this.config,a=t.model,s=t.el,l=a.Editor,c=a.Canvas.getBody(),u=this.ppfx,p="".concat(u,"dropzone-active"),g="".concat(u,"dropzone"),h=function(){s.className=s.className.replace(p,"").trim(),i=0},y=function(){return i||(s.className+=" ".concat(p),i=1),!1},_=function(){return h(),!1},O=function(M){if(h(),M.preventDefault(),M.stopPropagation(),e.uploadFile(M),r.openAssetsOnDrop&&l){var w=l.getSelected();l.runCommand("open-assets",{target:w,onSelect:function(){l.Modal.close(),l.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(g,'">').concat(r.dropzoneContent,"</div>")),h(),"draggable"in s&&[s,c].forEach(function(M){M.ondragover=y,M.ondragleave=_,M.ondrop=O})},n.prototype.render=function(){var t=this,e=t.$el,i=t.pfx,r=t.em;return e.html(this.template({title:r&&r.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:i})),this.initDrop(),e.attr("class",i+"file-uploader"),this},n.embedAsBase64=function(t,e){var i=this,r=t.dataTransfer?t.dataTransfer.files:t.target.files,a={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var s=[],l=/^(.+)\/(.+)$/,c=function(h){var y=new Promise(function(_,O){var M=new FileReader;M.addEventListener("load",function(w){var T,b=h.name,k=l.exec(h.type);if(k?T=k[1]:T=h.type,T==="image"){var E={src:M.result,name:b,type:T,height:0,width:0},N=new Image;N.addEventListener("error",function(F){O(F)}),N.addEventListener("load",function(){E.height=N.height,E.width=N.width,_(E)}),N.src=E.src}else _(T?{src:M.result,name:b,type:T}:M.result)}),M.addEventListener("error",function(w){O(w)}),M.addEventListener("abort",function(w){O("Aborted")}),M.readAsDataURL(h)});s.push(y)},u=0,p=r;u<p.length;u++){var g=p[u];c(g)}return Promise.all(s).then(function(h){a.data=h,i.onUploadResponse(a,e)},function(h){i.onUploadError(h)})},n}(ye.Ss),sR=aR,Hx,lR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bc=function(){return Bc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Bc.apply(this,arguments)},Bx=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},_u="open-assets",cR=function(o){lR(n,o);function n(t){var e=o.call(this,t,"AssetManager",new Y1([],t),jx,UN())||this;e.storageKey="assets",e.Asset=T0,e.Assets=Y1,e.events=jx;var i=e,r=i.all,a=i.config;e.assetsVis=new Y1([]);var s=a.pStylePrefix;return s&&(a.stylePrefix="".concat(s).concat(a.stylePrefix)),r.on("add",function(l){return e.getAllVisible().add(l)}),r.on("remove",function(l){return e.getAllVisible().remove(l)}),e.__onAllEvent=(0,et.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.open=function(t){t===void 0&&(t={});var e=this.em.Commands;e.run(_u,Bc({types:["image"],select:function(){}},t))},n.prototype.close=function(){var t=this.em.Commands;t.stop(_u)},n.prototype.isOpen=function(){var t=this.em.Commands;return!!t?.isActive(_u)},n.prototype.add=function(t,e){return e===void 0&&(e={}),typeof e.at>"u"&&(e.at=0),this.all.add(t,e)},n.prototype.get=function(t){return this.all.where({src:t})[0]||null},n.prototype.getAll=function(){return this.all},n.prototype.getAllVisible=function(){return this.assetsVis},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){return this.loadProjectData(t)},n.prototype.getContainer=function(){var t,e=this.__getBehaviour();return e.container||((t=this.am)===null||t===void 0?void 0:t.el)},n.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},n.prototype.render=function(t){if(!this.getConfig().custom){var e=t||this.getAll().models;if(!this.am){var i=this.__viewParams();i.fu=this.FileUploader(),this.am=new iR(Bc({},i)),this.am.render()}return this.assetsVis.reset(e),this.getContainer()}},n.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},n.prototype.addType=function(t,e){this.getAll().addType(t,e)},n.prototype.getType=function(t){return this.getAll().getType(t)},n.prototype.getTypes=function(){return this.getAll().getTypes()},n.prototype.AssetsView=function(){return this.am},n.prototype.FileUploader=function(){return this.fu||(this.fu=new sR(this.__viewParams())),this.fu},n.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var e=this,i=e.em,r=e.events;i.Commands.__onRun(_u,function(){return t.__propEv(r.open)}),i.Commands.__onStop(_u,function(){return t.__propEv(r.close)})},n.prototype.postRender=function(t){var e;this.config.dropzone&&((e=this.fu)===null||e===void 0||e.initDropzone(t))},n.prototype.setTarget=function(t){this.assetsVis.target=t},n.prototype.onSelect=function(t){this.assetsVis.onSelect=t},n.prototype.onClick=function(t){this.config.onClick=t},n.prototype.onDblClick=function(t){this.config.onDblClick=t},n.prototype.__propEv=function(t){for(var e,i,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];(e=this.em).trigger.apply(e,Bx([t],r,!1)),(i=this.getAll()).trigger.apply(i,Bx([t],r,!1))},n.prototype.__trgCustom=function(){var t=this.__getBehaviour(),e=this.getConfig().custom;!t.container&&!e.open||this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:e.types||[],container:e.container,close:function(){return t.close()},remove:function(i,r){return t.remove(i,r)},select:function(i,r){var a=t.add(i);(0,et.isFunction)(e.select)&&e.select(a,r)},options:e.options||{}}},n.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=Bc(Bc({},this._bhv||{}),t)},n.prototype.__getBehaviour=function(t){return t===void 0&&(t={}),this._bhv||{}},n.prototype.destroy=function(){var t,e;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(e=this.am)===null||e===void 0||e.remove(),this._bhv={}},n}(Va),dR=cR,uR=function(){return{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}},pR=uR,fR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gR=function(o){fR(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},n.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var e=["width","height","widthMedia"];e.forEach(function(i){return t.checkUnit(i)})},n.prototype.checkUnit=function(t){var e=this.get(t)||"",i=(parseFloat(e)||0).toString()===e.toString();i&&this.set(t,"".concat(e,"px"))},n.prototype.getName=function(){return this.get("name")||this.get("id")},n.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},n}(ye.Kx),I2=gR,hR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),D2=function(o){hR(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(ye.pM),Ux=D2;D2.prototype.model=I2;var mR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vR=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},_R=function(o){mR(n,o);function n(t){var e=o.call(this,t)||this;return e.config=t.config||{},e.em=e.config.em,e.ppfx=e.config.pStylePrefix||"",e.listenTo(e.em,"change:device",e.updateSelect),e}return n.prototype.template=function(t){var e=t.ppfx,i=t.label;return zr(Gx||(Gx=vR([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),e,i,e,e,e,e,e,e,e)},n.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},n.prototype.startAdd=function(){},n.prototype.updateDevice=function(){var t=this.em;if(t){var e=this.devicesEl;t.set("device",e?e.val():"")}},n.prototype.updateSelect=function(){var t=this,e=t.em,i=t.devicesEl;if(e&&e.getDeviceModel&&i){var r=e.getDeviceModel();i.val(r?r.get("id"):"")}},n.prototype.getOptions=function(){var t=this,e=t.collection,i=t.em,r="";return e.forEach(function(a){var s=a.attributes,l=s.name,c=s.id,u=i&&i.t&&i.t("deviceManager.devices.".concat(c))||l;r+='<option value="'.concat(c||l,'">').concat(u,"</option>")}),r},n.prototype.render=function(){var t=this,e=t.em,i=t.ppfx,r=t.$el,a=t.el,s=e&&e.t&&e.t("deviceManager.device");return r.html(this.template({ppfx:i,label:s})),this.devicesEl=r.find(".".concat(i,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),a.className="".concat(i,"devices-c"),this},n}(ye.Ss),yR=_R,Gx,bR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Au=function(){return Au=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Au.apply(this,arguments)},CR=function(o){bR(n,o);function n(t){var e,i=o.call(this,t,"DeviceManager",new Ux,vO,pR())||this;return i.Device=I2,i.Devices=Ux,i.storageKey="",i.devices=i.all,(e=i.config.devices)===null||e===void 0||e.forEach(function(r){return i.add(r,{silent:!0})}),i.select(i.config.default||i.devices.at(0)),t.on("change:device",i._onSelect,i),i}return n.prototype._onSelect=function(t,e,i){var r=this,a=r.em,s=r.events,l=t.previous("device"),c=this.get(e),u=s.select;a.trigger(u,c,this.get(l)),this.__catchAllEvent(u,c,i)},n.prototype.add=function(t,e){e===void 0&&(e={});var i,r=e;if((0,et.isString)(t)){var a=e;r=arguments[2]||{},i=Au(Au({},r),{id:t,name:r.name||t,width:a})}else i=t;return i.id||(i.id=i.name||this._createId()),this.devices.add(i,r)},n.prototype.get=function(t){var e=this.getAll().filter(function(i){return i.get("name")===t})[0];return e||this.devices.get(t)||null},n.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},n.prototype.getDevices=function(){return this.devices.models},n.prototype.select=function(t,e){e===void 0&&(e={});var i=(0,et.isString)(t)?this.get(t):t;return i&&this.em.set("device",i.get("id"),e),this},n.prototype.getSelected=function(){return this.get(this.em.get("device"))},n.prototype.getAll=function(){return this.devices},n.prototype.render=function(){var t,e=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new yR({collection:this.devices,config:Au({em:e},this.config)}),this.view.render().el},n.prototype.destroy=function(){this.__destroy()},n}(Va),xR=CR,OR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PR=function(o){OR(n,o);function n(t,e){e===void 0&&(e={});var i=o.call(this,t,e)||this,r=e.em,a={};i.em=r,t.frames||(a.component=t.component,a.styles=t.styles,["component","styles"].map(function(c){return i.unset(c)}));var s=t.frames||[a],l=new bO(r.Canvas,s);return l.page=i,i.set("frames",l),!i.getId()&&i.set("id",r?.Pages._createId()),r?.UndoManager.add(l),i}return n.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},n.prototype.onRemove=function(){this.getFrames().reset()},n.prototype.getFrames=function(){return this.get("frames")},n.prototype.getId=function(){return this.id},n.prototype.getName=function(){return this.get("name")},n.prototype.setName=function(t){return this.set({name:t})},n.prototype.getAllFrames=function(){return this.getFrames().models||[]},n.prototype.getMainFrame=function(){return this.getFrames().at(0)},n.prototype.getMainComponent=function(){var t=this.getMainFrame();return t?.getComponent()},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=ye.Kx.prototype.toJSON.call(this,t),i=(0,et.result)(this,"defaults");return(0,et.forEach)(e,function(r,a){a.indexOf("_")===0&&delete e[a]}),(0,et.forEach)(i,function(r,a){e[a]===r&&delete e[a]}),e},n}(ye.Kx),E0=PR,MR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jg=function(){return jg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},jg.apply(this,arguments)},wR=function(o){MR(n,o);function n(t,e){var i=o.call(this,t)||this;return i.on("reset",i.onReset),i.on("remove",i.onRemove),i.model=function(r,a){return a===void 0&&(a={}),new E0(r,jg(jg({},a),{em:e}))},i}return n.prototype.onReset=function(t,e){var i=this,r;(r=e?.previousModels)===null||r===void 0||r.map(function(a){return i.onRemove(a,i,e)})},n.prototype.onRemove=function(t,e,i){i===void 0&&(i={}),!(i.fromUndo||i.temporary)&&t?.onRemove()},n}(ye.pM),SR=wR,TR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uc=function(){return Uc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Uc.apply(this,arguments)},ER=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(o);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(o,e[i])&&(t[e[i]]=o[e[i]]);return t},kR=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},Wx="change:selected",Kx="main",AR=function(o){TR(n,o);function n(t){var e=o.call(this,t,"PageManager",new SR([],t),c0)||this;e.events=c0,e.storageKey="pages",(0,et.bindAll)(e,"_onPageChange");var i=new Ns.A(e,{_undo:!0});return e.model=i,e.pages.on("reset",e.__onReset,e),e.pages.on("all",e.__onChange,e),i.on(Wx,e._onPageChange),e}return Object.defineProperty(n.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),n.prototype.getAll=function(){return kR([],this.all.models,!0)},n.prototype.__onChange=function(t,e,i,r){var a=this,s=a.em,l=a.events,c=r||i;s.trigger(l.all,{event:t,page:e,options:c})},n.prototype.__onReset=function(){var t=this.pages.at(0);t&&this.select(t)},n.prototype.onLoad=function(){var t,e=this,i=e.pages,r=e.config,a=e.em,s={silent:!0},l=((t=r.pages)===null||t===void 0?void 0:t.map(function(u){return new E0(u,{em:a,config:r})}))||[];i.add(l,s);var c=i.length?this._initPage():this.add({type:Kx},s);c&&this.select(c,s)},n.prototype._onPageChange=function(t,e,i){var r=this,a=r.em,s=r.events,l=a.Layers,c=e.getMainComponent();l&&c&&l.setRoot(c),a.trigger(s.select,e,t.previous("selected")),this.__onChange(Wx,e,i)},n.prototype.postLoad=function(){var t=this,e=t.em,i=t.model,r=t.pages,a=e.UndoManager;a.add(i),a.add(r),r.on("add remove reset change",function(s,l,c){return e.changesUp(c||l)})},n.prototype.add=function(t,e){var i=this;e===void 0&&(e={});var r=this,a=r.em,s=r.events;t.id=t.id||this._createId();var l=function(){var c=i.pages.add(new E0(t,{em:i.em,config:i.config}),e);return e.select&&i.select(c),c};return!e.silent&&a.trigger(s.addBefore,t,l,e),e.abort?void 0:l()},n.prototype.remove=function(t,e){var i=this;e===void 0&&(e={});var r=this,a=r.em,s=r.events,l=(0,et.isString)(t)?this.get(t):t,c=function(){return l&&i.pages.remove(l,e),l};return!e.silent&&a.trigger(s.removeBefore,l,c,e),!e.abort&&c()},n.prototype.move=function(t,e){e===void 0&&(e={});var i=this.pages,r=(0,et.isString)(t)?this.get(t):t,a=e.at,s=a===void 0?0:a,l=ER(e,["at"]);if(r){var c=i.indexOf(r),u=c===s;if(!(s<0||s>=i.length||u))return this.remove(r,Uc(Uc({},l),{temporary:!0})),i.add(r,Uc(Uc({},l),{at:s})),r}},n.prototype.get=function(t){return this.pages.filter(function(e){return e.get(e.idAttribute)===t})[0]},n.prototype.getMain=function(){var t=this.pages;return t.filter(function(e){return e.get("type")===Kx})[0]||t.at(0)},n.prototype.getAllWrappers=function(){var t=this.getAll();return(0,et.unique)((0,et.flatten)(t.map(function(e){return e.getAllFrames().map(function(i){return i.getComponent()})})))},n.prototype.select=function(t,e){e===void 0&&(e={});var i=this,r=i.em,a=i.model,s=i.events,l=(0,et.isString)(t)?this.get(t):t;return l&&(r.trigger(s.selectBefore,l,e),a.set("selected",l,e)),this},n.prototype.getSelected=function(){return this.model.get("selected")},n.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(e){return t[e]=0})},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){var e=this,i=this.loadProjectData(t,{all:this.pages,reset:!0,onResult:function(r,a){r.forEach(function(s){return e.add(s,a)}),e.__onReset()}});return this.pages.forEach(function(r){return r.getFrames().initRefs()}),i},n.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},n.prototype._createId=function(){var t=this.getAll(),e=t.length+16,i=this.getAllMap(),r;do r=(0,oe.createId)(e);while(i[r]);return r},n}(Va),IR=AR,X1={placeholder:"eg. Text here"},DR={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:X1,alt:X1,title:X1,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}},LR=function(){return{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:DR},messagesAdd:void 0}},NR=LR,L2=function(o){return o.add="i18n:add",o.update="i18n:update",o.locale="i18n:locale",o}(L2||{}),RR=L2,FR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zR=function(o){FR(n,o);function n(t){var e=o.call(this,t,"I18n",NR())||this;e.events=RR;var i=e.config.messagesAdd;return i&&e.addMessages(i),e.config.detectLocale&&(e.config.locale=e._localLang()),e}return n.prototype.setLocale=function(t){var e=this,i=e.em,r=e.config,a=e.events;return i.trigger(a.locale,{value:t,valuePrev:r.locale}),r.locale=t,this},n.prototype.getLocale=function(){return this.config.locale},n.prototype.getMessages=function(t,e){e===void 0&&(e={});var i=this.config.messages;return t&&!i[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?i[t]:i},n.prototype.setMessages=function(t){var e=this,i=e.em,r=e.config,a=e.events;return r.messages=t,i.trigger(a.update,t),this},n.prototype.addMessages=function(t){var e=this,i=e.em,r=e.events,a=e.config,s=a.messages;return i.trigger(r.add,t),this.setMessages((0,oe.deepMerge)(s,t)),this},n.prototype.t=function(t,e){e===void 0&&(e={});var i=this.config,r=e.params||{},a=e.l||this.getLocale(),s=e.lFlb||i.localeFallback,l=this._getMsg(t,a,e);return l||(l=this._getMsg(t,s,e)),!l&&this._debug("'".concat(t,"' i18n key not found in '").concat(a,"' lang"),e),l=l&&(0,et.isString)(l)?this._addParams(l,r):l,l},n.prototype._localLang=function(){var t=(0,oe.hasWin)()&&window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},n.prototype._addParams=function(t,e){var i=new RegExp("{([\\w\\d-]*)}","g");return t.replace(i,function(r,a){return e[a]||""}).trim()},n.prototype._getMsg=function(t,e,i){i===void 0&&(i={});var r=this.getMessages(e,i);if(r){var a=r[t];return!a&&t.indexOf(".")>0&&(a=t.split(".").reduce(function(s,l){if(!(0,et.isUndefined)(s))return s[l]},r)),a}},n.prototype._debug=function(t,e){e===void 0&&(e={});var i=this,r=i.em,a=i.config;(e.debug||a.debug)&&r&&r.logWarning(t)},n.prototype.destroy=function(){},n}(Hr),VR=zR,Sl=function(){return Sl=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Sl.apply(this,arguments)},jR=function(o,n){n===void 0&&(n={});var t=n.prefix||"",e=document.createElement("i");return e.className=t+"resizer-h "+t+"resizer-h-"+o,e.setAttribute("data-"+t+"handler",o),e},HR=function(o,n){var t=n||window,e=o.getBoundingClientRect();return{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,width:e.width,height:e.height}},BR=function(){function o(n){n===void 0&&(n={}),this.moved=!1,this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=Sl({},this.defOpts),this.setOptions(n),(0,et.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return o.prototype.getConfig=function(){return this.opts},o.prototype.setOptions=function(n,t){n===void 0&&(n={}),this.opts=Sl(Sl({},t?this.defOpts:this.opts),n),this.setup()},o.prototype.setup=function(){var n=this.opts,t=n.prefix||"",e=n.appendTo||document.body,i=this.container;for(i||(i=document.createElement("div"),i.className="".concat(t,"resizer-c"),e.appendChild(i),this.container=i);i.firstChild;)i.removeChild(i.firstChild);var r={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(l){return r[l]=n[l]?jR(l,n):null});for(var a in r){var s=r[a];s&&i.appendChild(s)}this.handlers=r,this.mousePosFetcher=n.mousePosFetcher,this.updateTarget=n.updateTarget,this.posFetcher=n.posFetcher,this.onStart=n.onStart,this.onMove=n.onMove,this.onEnd=n.onEnd,this.onUpdateContainer=n.onUpdateContainer},o.prototype.toggleFrames=function(n){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,et.each)(t,function(e){return e.style.pointerEvents=n?"none":""})}},o.prototype.isHandler=function(n){var t=this.handlers;for(var e in t)if(t[e]===n)return!0;return!1},o.prototype.getFocusedEl=function(){return this.el},o.prototype.getParentEl=function(){var n;return(n=this.el)===null||n===void 0?void 0:n.parentElement},o.prototype.getDocumentEl=function(){return this.opts.docs||[this.el.ownerDocument,document]},o.prototype.getElementPos=function(n,t){t===void 0&&(t={});var e=this.posFetcher;return e?e(n,t):HR(n)},o.prototype.focus=function(n){n&&n===this.el||(this.el=n,this.updateContainer({forceShow:!0}),(0,Me.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},o.prototype.blur=function(){this.container.style.display="none",this.el&&((0,Me.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},o.prototype.start=function(n){var t,e=this,i=e.el,r=e.opts,a=r===void 0?{}:r;if(this.moved=!1,!(n.button!==0||!i)){n.preventDefault(),n.stopPropagation(),(t=this.selectedHandler)===null||t===void 0||t.setPointerCapture(n.pointerId);var s=this.getParentEl(),l=this,c=a,u=this.mousePosFetcher,p="data-"+c.prefix+"handler",g=this.getElementPos(i,{avoidFrameZoom:!0,avoidFrameOffset:!0}),h=this.getElementPos(s),y=n.target;this.handlerAttr=y.getAttribute(p),this.clickedHandler=y,this.startDim={t:g.top,l:g.left,w:g.width,h:g.height},this.rectDim={t:g.top,l:g.left,w:g.width,h:g.height},this.startPos=u?u(n):{x:n.clientX,y:n.clientY},this.parentDim={t:h.top,l:h.left,w:h.width,h:h.height};var _=this.getDocumentEl();this.docs=_,(0,Me.on)(_,"pointermove",this.move),(0,Me.on)(_,"keydown",this.handleKeyDown),(0,Me.on)(_,"pointerup",this.stop),(0,et.isFunction)(this.onStart)&&this.onStart(n,{docs:_,config:c,el:i,resizer:l}),this.toggleFrames(!0),!c.updateOnMove&&this.move(n)}},o.prototype.move=function(n){var t,e;this.moved=!0;var i=this.el,r=this.opts,a=this.docs||this.getDocumentEl(),s=((t=this.mousePosFetcher)===null||t===void 0?void 0:t.call(this,n))||{x:n.clientX,y:n.clientY};this.currentPos=s,this.delta={x:s.x-this.startPos.x,y:s.y-this.startPos.y},this.keys={shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey},this.rectDim=this.calc(this),this.updateRect(!1,n),(e=this.onMove)===null||e===void 0||e.call(this,n,{docs:a,config:r,el:i,resizer:this})},o.prototype.stop=function(n){var t,e,i=this.el,r=this.opts,a=this.docs||this.getDocumentEl();(0,Me.AU)(a,"pointermove",this.move),(0,Me.AU)(a,"keydown",this.handleKeyDown),(0,Me.AU)(a,"pointerup",this.stop),(this.moved||!r.updateOnMove)&&this.updateRect(!0,n),n.pointerId&&((t=this.selectedHandler)===null||t===void 0||t.releasePointerCapture(n.pointerId)),this.toggleFrames(),(e=this.onEnd)===null||e===void 0||e.call(this,n,{docs:a,config:r,el:i,resizer:this}),this.moved=!1,delete this.docs},o.prototype.updateRect=function(n,t){var e=this.el,i=this,r=this.opts,a=this.rectDim,s=this.updateTarget,l=this.getSelectedHandler(),c=r.unitHeight,u=r.unitWidth,p=r.keyWidth,g=r.keyHeight;if((0,et.isFunction)(s))s(e,a,{store:n,selectedHandler:l,resizer:i,config:r,event:t});else{var h=e.style;h[p]=a.w+u,h[g]=a.h+c}this.updateContainer()},o.prototype.updateContainer=function(n){var t;n===void 0&&(n={});var e=this,i=e.opts,r=e.container,a=e.el,s=r.style;!i.avoidContainerUpdate&&a&&n.forceShow&&(s.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:r,resizer:this,opts:Sl(Sl({},i),n)})},o.prototype.getSelectedHandler=function(){var n=this.handlers;if(this.selectedHandler){for(var t in n)if(n[t]===this.selectedHandler)return t}},o.prototype.handleKeyDown=function(n){n.keyCode===27&&(this.rectDim=this.startDim,this.stop(n))},o.prototype.handleMouseDown=function(n){var t=n.target;this.isHandler(t)?(this.selectedHandler=t,this.start(n)):t!==this.el&&(delete this.selectedHandler,this.blur())},o.prototype.calc=function(n){var t,e=this.opts||{},i=e.step,r=this.startDim,a=e.minDim,s=e.maxDim,l=n.delta.x,c=n.delta.y,u=this.parentDim.w,p=this.parentDim.h,g=e.unitWidth,h=e.unitHeight,y=e.skipUnitAdjustments,_=this.getParentRect(),O=g==="%"&&!y,M=h==="%"&&!y,w=O?r.w/100*u:r.w,T=M?r.h/100*p:r.h,b={t:r.t-_.top,l:r.l-_.left,w,h:T};if(n){var k=n.handlerAttr;~k.indexOf("r")&&(t=O?(0,oe.normalizeFloat)((w+l*i)/u*100,.01):(0,oe.normalizeFloat)(w+l*i,i),t=Math.max(a,t),s&&(t=Math.min(s,t)),b.w=t),~k.indexOf("b")&&(t=M?(0,oe.normalizeFloat)((T+c*i)/p*100,.01):(0,oe.normalizeFloat)(T+c*i,i),t=Math.max(a,t),s&&(t=Math.min(s,t)),b.h=t),~k.indexOf("l")&&(t=O?(0,oe.normalizeFloat)((w-l*i)/u*100,.01):(0,oe.normalizeFloat)(w-l*i,i),t=Math.max(a,t),s&&(t=Math.min(s,t)),b.w=t),~k.indexOf("t")&&(t=M?(0,oe.normalizeFloat)((T-c*i)/p*100,.01):(0,oe.normalizeFloat)(T-c*i,i),t=Math.max(a,t),s&&(t=Math.min(s,t)),b.h=t);var E=e.ratioDefault?!n.keys.shift:n.keys.shift;if(k.indexOf("c")<0&&E){var N=r.w/r.h;b.w/b.h>N?b.h=Math.round(b.w/N):b.w=Math.round(b.h*N)}~k.indexOf("l")&&(b.l+=r.w-b.w),~k.indexOf("t")&&(b.t+=r.h-b.h);for(var F in b){var V=F;b[V]=parseInt("".concat(b[V]),10)}return b}},o.prototype.getParentRect=function(){var n={left:0,top:0,width:0,height:0},t=this.el;if(!t)return n;var e=t.offsetParent;return e&&e.tagName!=="BODY"&&(n=this.getElementPos(e)),n},o}(),UR=BR,lo=function(){return lo=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},lo.apply(this,arguments)};function GR(o,n,t){for(var e={index:0,placement:"before"},i=0,r=0,a=0,s=0,l=0,c=0,u=0,p,g=0,h=o.length;g<h;g++){p=o[g];var y=p.top,_=p.left,O=p.height,M=p.width;if(a=_+M,u=y+O,l=_+M/2,c=y+O/2,!(r&&_>r||s&&c>=s||i&&a<i))if(e.index=g,!p.dir)t<u&&(s=u),n<l?(r=l,e.placement="before"):(i=l,e.placement="after");else if(t<c){e.placement="before";break}else e.placement="after"}return e}function qx(o){var n=o.getBoundingClientRect();return{top:n.top+document.body.scrollTop,left:n.left+document.body.scrollLeft}}function tv(o,n){return oe.matches.call(o,n)}function WR(o,n){var t=k0(o),e=k0(n),i=e.filter(function(l){return t.includes(l)}),r=i[0];if(!r)return o.model.index()-n.model.index();var a=e[e.indexOf(r)-1],s=t[t.indexOf(r)-1];return s.index()-a.index()}function k0(o){return o?[o].concat(k0(o.parent())):[]}function KR(o,n){if(o)for(var t=o.parentNode;t&&t.nodeType===1;){if(tv(t,n))return t;t=t.parentNode}}function qR(o,n){if((0,Me.ir)(o))return!1;var t=o.style||{},e=(0,Hi.default)(o),i=(0,Hi.default)(n);if(t.overflow&&t.overflow!=="visible")return!1;var r=e.css("float");return r&&r!=="none"||i.css("display")==="flex"&&i.css("flex-direction")!=="column"||!$R(t.position)?!1:YR(o)||XR(e)}function $R(o){switch(o){case"static":case"relative":case"":return!0;default:return!1}}function YR(o){var n=["TR","TBODY","THEAD","TFOOT"];return n.includes(o.tagName)}function XR(o){var n=o.css("display"),t=["block","list-item","table","flex","grid"];return t.includes(n)}function QR(o){var n={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:Nl.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},t=lo(lo(lo({},n),o),{containerContext:lo(lo({},n.containerContext),o.containerContext),positionOptions:lo(lo({},n.positionOptions),o.positionOptions),dragBehavior:lo(lo({},n.dragBehavior),o.dragBehavior),eventHandlers:lo(lo({},n.eventHandlers),o.eventHandlers)});return t}var N2=function(){function o(n){this.timeout=null,this.threshold=n}return o.prototype.updateArgs=function(n){this.lastArgs=n},o.prototype.execute=function(n){var t=this;this.timeout||(this.timeout=setTimeout(function(){t.lastArgs&&n(t.lastArgs),t.timeout=null},this.threshold))},o.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},o}(),A0=function(){return A0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},A0.apply(this,arguments)},JR=function(){function o(n){this.top=n.top,this.left=n.left,this.height=n.height,this.width=n.width,this.offsets=n.offsets,this.dir=n.dir}return o.prototype.calculateDimensionDifference=function(n){var t=n.top-this.top,e=n.left-this.left;return{topDifference:t,leftDifference:e}},o.prototype.adjustDimensions=function(n){return this.top+=n.topDifference,this.left+=n.leftDifference,this},o.prototype.determinePlacement=function(n,t){var e=this.left+this.width/2,i=this.top+this.height/2;return this.dir?t<i?"before":"after":n<e?"before":"after"},o.prototype.equals=function(n){return n?this.top===n.top&&this.left===n.left&&this.height===n.height&&this.width===n.width&&this.dir===n.dir&&JSON.stringify(this.offsets)===JSON.stringify(n.offsets):!1},o.prototype.clone=function(){return new o({top:this.top,left:this.left,height:this.height,width:this.width,offsets:A0({},this.offsets),dir:this.dir})},o.prototype.getDropArea=function(n){var t=this.clone(),e=this.adjustDropDimension(this.width,this.left,n),i=e.newSize,r=e.newPosition;t.width=i,t.left=r;var a=this.adjustDropDimension(this.height,this.top,n),s=a.newSize,l=a.newPosition;return t.height=s,t.top=l,t},o.prototype.adjustDropDimension=function(n,t,e){var i=e.ratio,r=e.minUndroppableDimension,a=e.maxUndroppableDimension,s=n*(1-i)/2;s=Math.max(s,r),s=Math.min(s,a);var l=n-s*2,c=t+s;return{newSize:l,newPosition:c}},o.prototype.isWithinBounds=function(n,t){return n>=this.left&&n<=this.left+this.width&&t>=this.top&&t<=this.top+this.height},o}(),ZR=JR,tF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eF=function(o){tF(n,o);function n(t){var e=o.call(this)||this;return e.sourceNodes=[],e.containerOffset={top:0,left:0},e.moveThreshold=20,e.treeClass=t.treeClass,e.em=t.em,e.containerContext=t.containerContext,e.positionOptions=t.positionOptions,e.dragDirection=t.dragDirection,e.eventHandlers=t.eventHandlers,(0,et.bindAll)(e,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),e.restLastMoveData(),e.rateLimiter=new N2(e.moveThreshold),e}return n.prototype.startSort=function(t){this.sourceNodes=t,this.bindDragEventHandlers()},n.prototype.bindDragEventHandlers=function(){(0,Me.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,Me.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,Me.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},n.prototype.recalculateTargetOnScroll=function(){var t=this.lastMoveData.mouseEvent;t&&this.onMove(t)},n.prototype.onMove=function(t){this.rateLimiter.updateArgs(t),this.rateLimiter.execute(this.handleMove.bind(this))},n.prototype.handleMove=function(t){var e,i,r,a,s,l,c;this.adjustForScroll();var u=this.lastMoveData.targetNode;(i=(e=this.eventHandlers).onMouseMove)===null||i===void 0||i.call(e,t),this.cacheContainerPosition();var p=this.getMousePositionRelativeToContainer(t.clientX,t.clientY),g=p.mouseXRelative,h=p.mouseYRelative,y=this.getMouseTargetElement(t),_=this.getFirstElementWithAModel(y),O=_?(r=(0,Hi.default)(_))===null||r===void 0?void 0:r.data("model"):void 0,M=O?this.getOrCreateHoveredNode(O):void 0,w=M?this.getIndexInParent(M,M.nodeDimensions,g,h):0,T=M?this.getValidParent(M,0,g,h):void 0,b=!T?.equals(u);if(b&&((s=(a=this.eventHandlers).onTargetChange)===null||s===void 0||s.call(a,u,T)),!T||!M){this.triggerLegacyOnMoveCallback(t,0),this.triggerMoveEvent(g,h),this.restLastMoveData();return}var k=this.getDropPosition(T,g,h),E=k.index,N=k.placement,F=k.placeholderDimensions,V=!F.equals(this.lastMoveData.placeholderDimensions)||N!==this.lastMoveData.placement;V&&((c=(l=this.eventHandlers).onPlaceholderPositionChange)===null||c===void 0||c.call(l,F,N)),this.lastMoveData={targetNode:T,hoveredNode:M,mouseEvent:t,index:E,hoveredIndex:w,placement:N,placeholderDimensions:F},this.triggerMoveEvent(g,h),this.triggerLegacyOnMoveCallback(t,E)},n.prototype.adjustForScroll=function(){var t,e,i=this.lastMoveData.targetNode;if(i?.element){var r=this.getDim(i?.element),a=(t=i.nodeDimensions)===null||t===void 0?void 0:t.calculateDimensionDifference(r);a&&i.adjustDimensions(a)}var s=this.lastMoveData.hoveredNode;if(s?.element){var r=this.getDim(s?.element),a=(e=s.nodeDimensions)===null||e===void 0?void 0:e.calculateDimensionDifference(r);a&&s.adjustDimensions(a)}},n.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},n.prototype.triggerLegacyOnMoveCallback=function(t,e){var i,r,a,s,l=(i=this.sourceNodes[0])===null||i===void 0?void 0:i.model;(a=(r=this.eventHandlers).legacyOnMoveClb)===null||a===void 0||a.call(r,{event:t,target:l,parent:(s=this.lastMoveData.targetNode)===null||s===void 0?void 0:s.model,index:e})},n.prototype.triggerMoveEvent=function(t,e){var i,r=this.lastMoveData,a=r.targetNode,s=r.placement,l=r.index,c=l?l+(s==="after"?-1:0):0;this.em.trigger("sorter:drag",{target:a?.element||null,targetModel:(i=this.lastMoveData.targetNode)===null||i===void 0?void 0:i.model,sourceModel:this.sourceNodes[0].model,dims:a?.childrenDimensions||[],pos:{index:c,indexEl:c,placement:s},x:t,y:e})},n.prototype.getDropPosition=function(t,e,i){var r,a=t.nodeDimensions,s=t.childrenDimensions,l=t.getChildren(),c=l&&l.length>0;a=a||this.getDim(t.element),t.nodeDimensions=a,s=s||this.getChildrenDim(t),t.childrenDimensions=s;var u=a.clone(),p=0,g="inside";return c&&(r=GR(s,e,i),p=r.index,g=r.placement,u=s[p].clone(),p=p+(g=="after"?1:0)),{index:p,placement:g,placeholderDimensions:u}},n.prototype.getOrCreateHoveredNode=function(t){var e=this.lastMoveData.hoveredNode,i=new this.treeClass(t),r=i.equals(e),a=r?e:i;return a.nodeDimensions=r?e.nodeDimensions:this.getDim(i.element),a},n.prototype.getMouseTargetElement=function(t){var e=this.containerContext.customTarget,i=this.containerContext.document.elementFromPoint(t.clientX,t.clientY),r=e?e({event:t}):i;return r},n.prototype.onDragStart=function(t){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(t)},n.prototype.endDrag=function(){this.dropDragged()},n.prototype.cancelDrag=function(){var t,e,i=this.lastMoveData.targetNode;(e=(t=this.eventHandlers).onTargetChange)===null||e===void 0||e.call(t,i,void 0),this.finalizeMove()},n.prototype.finalizeMove=function(){var t,e,i,r;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),(e=(t=this.eventHandlers).onEnd)===null||e===void 0||e.call(t),(r=(i=this.eventHandlers).legacyOnEnd)===null||r===void 0||r.call(i),this.restLastMoveData(),this.rateLimiter.clearTimeout()},n.prototype.dropDragged=function(){var t,e,i=this.lastMoveData,r=i.targetNode,a=i.index;(e=(t=this.eventHandlers).onDrop)===null||e===void 0||e.call(t,r,this.sourceNodes,a),this.finalizeMove()},n.prototype.triggerOnDragEndEvent=function(){var t=this.lastMoveData.targetNode,e=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:t?t.getChildren():null,modelToDrop:e?.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(i){return i.element}),srcModel:e?.model,trg:t?.element,trgModel:t?.model,draggable:!0,droppable:!0},dst:t?.element,srcEl:e?.element})},n.prototype.getFirstElementWithAModel=function(t){for(var e=function(i){return(0,Hi.default)(i).data("model")!==void 0};t&&this.containerContext.container.contains(t);){if(e(t))return t;t=t.parentElement}return null},n.prototype.getValidParent=function(t,e,i,r){var a,s;if(t){var l=this.lastMoveData,c=l.targetNode,u=l.hoveredNode,p=l.hoveredIndex,g=l.mouseEvent,h=t.equals(u);t.nodeDimensions=h?u.nodeDimensions:this.getDim(t.element);var y=this.getIndexInParent(t,t.nodeDimensions,i,r),_=y===p,O=t.isWithinDropBounds(i,r),M=h&&_&&O===t.isWithinDropBounds((a=g?.clientX)!==null&&a!==void 0?a:0,(s=g?.clientY)!==null&&s!==void 0?s:0);if(M&&c)return c;if(!O)return this.handleParentTraversal(t,i,r);var w=this.sourceNodes.some(function(T){return t.canMove(T,e)});return this.triggerDragValidation(w,t),w?t:this.handleParentTraversal(t,i,r)}},n.prototype.handleParentTraversal=function(t,e,i){var r=t.getParent();if(r){var a=this.getIndexInParent(t,t.nodeDimensions,e,i);if(a!==void 0)return this.getValidParent(r,a,e,i)}},n.prototype.getIndexInParent=function(t,e,i,r){var a=t.getParent();if(a){var s=a?.indexOfChild(t);return e.dir=this.getDirection(t.element,a.element),s=s+(e.determinePlacement(i,r)=="after"?1:0),s}},n.prototype.triggerDragValidation=function(t,e){var i=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:t,src:i?.element,srcModel:i?.model,trg:e.element,trgModel:e.model}),i},n.prototype.cleanupEventListeners=function(){var t=this.containerContext.container;(0,Me.AU)(t,"dragstart",this.onDragStart),(0,Me.AU)(t,"mousemove dragover",this.onMove),(0,Me.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},n.prototype.getDirection=function(t,e){var i;return this.dragDirection===Nl.A.Vertical?i=!0:this.dragDirection===Nl.A.Horizontal?i=!1:i=qR(t,e),i},n.prototype.getChildrenDim=function(t){var e=this,i=[],r=t.element;if(!r)return[];var a=t.getChildren();return!a||a.length===0?[]:((0,et.each)(a,function(s,l){var c=s.element;if(c&&!(!(0,Me.ir)(c)&&!tv(c,e.containerContext.itemSel))){var u=e.getDim(c);u.dir=e.getDirection(c,r),i.push(u)}}),i)},n.prototype.getMousePositionRelativeToContainer=function(t,e){var i=e-this.containerOffset.top+this.containerContext.container.scrollTop,r=t-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var a=this.em.Canvas.getMouseRelativeCanvas({clientX:t,clientY:e},{noScroll:1});r=a.x,i=a.y}return{mouseXRelative:r,mouseYRelative:i}},n.prototype.cacheContainerPosition=function(){var t=this.containerContext.container,e=qx(t),i=this.positionOptions.windowMargin?Math.abs(e.top):e.top,r=this.positionOptions.windowMargin?Math.abs(e.left):e.left;this.containerOffset={top:i,left:r}},n.prototype.getDim=function(t){var e=this.em,i=this.positionOptions.relative,r=this.positionOptions.windowMargin,a=e?.Canvas,s=a?a.getElementOffsets(t):{},l,c,u,p;if(this.positionOptions.canvasRelative&&this.em){var g=a.getElementPos(t,{noScroll:1});l=g.top,c=g.left,u=g.height,p=g.width}else{var h=qx(t);l=i?t.offsetTop:h.top-(r?-1:1)*this.containerOffset.top,c=i?t.offsetLeft:h.left-(r?-1:1)*this.containerOffset.left,u=t.offsetHeight,p=t.offsetWidth}return new ZR({top:l,left:c,height:u,width:p,offsets:s})},n}(ye.Ss),nF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iF=function(o){nF(n,o);function n(t){var e=o.call(this)||this;return e.pfx=t.pfx||"",e.allowNesting=t.allowNesting||!1,e.container=t.container,e.setElement(t.el),e.offset={top:t.offset.top||0,left:t.offset.left||0},e.moveLimiter=new N2(100),e}return n.prototype.show=function(){this.el.style.display="block"},n.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},n.prototype.move=function(t,e){var i=this,r={elementDimension:t,placement:e};this.moveLimiter.updateArgs(r),this.moveLimiter.execute(function(a){var s=a.elementDimension,l=a.placement;i._move(s,l)})},n.prototype._move=function(t,e){var i=0,r="px",a=0,s=0,l="",c="";this.setOrientationForDimension(t);var u=t.top,p=t.left,g=t.height,h=t.width,y=t.dir,_=t.offsets;if(e==="inside"){if(this.setOrientation("horizontal"),!this.allowNesting){this.hide();return}var O=5,M=_?.paddingTop||O,w=_?.paddingLeft||O,T=_?.borderTopWidth||0,b=_?.borderLeftWidth||0,k=_?.borderRightWidth||0,E=b+k;a=u+M+T,s=p+w+b,l=Math.max(h-w*2-E,1)+"px",c="auto"}else y?(l=h+r,c="auto",a=e==="before"?u-i:u+g-i,s=p):(l="auto",c=g-i*2+r,a=u+i,s=e==="before"?p-i:p+h-i,this.setOrientation("vertical"));this.updateStyles(a,s,l,c),this.adjustOffset()},n.prototype.setOrientationForDimension=function(t){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),t&&!t.dir&&this.setOrientation("vertical")},n.prototype.setOrientation=function(t){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(t)},n.prototype.updateStyles=function(t,e,i,r){this.el.style.top=t+"px",this.el.style.left=e+"px",i&&(this.el.style.width=i),r&&(this.el.style.height=r)},n.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},n}(ye.Ss),Gc=function(){return Gc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Gc.apply(this,arguments)},rF=function(){function o(n){var t=QR(n);(0,et.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=t.containerContext,this.positionOptions=t.positionOptions,this.dragBehavior=t.dragBehavior,this.eventHandlers=Gc(Gc({},t.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=n.em,this.treeClass=n.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new eF({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return o.prototype.startSort=function(n){var t,e,i,r,a,s,l,c=this.getSourceNodes(n),u=c.sourceNodes,p=c.sourcesWithModel;this.sourceNodes=u,this.dropLocationDeterminer.startSort(u),this.bindDragEventHandlers(),(e=(t=this.eventHandlers).onStartSort)===null||e===void 0||e.call(t,this.sourceNodes,this.containerContext.container);var g=(i=this.sourceNodes[0])===null||i===void 0?void 0:i.model;(a=(r=this.eventHandlers).legacyOnStartSort)===null||a===void 0||a.call(r,{sorter:this,target:g,parent:g&&((s=g.parent)===null||s===void 0?void 0:s.call(g)),index:g&&((l=g.index)===null||l===void 0?void 0:l.call(g))}),this.em.trigger("sorter:drag:start",n[0],p[0])},o.prototype.validTarget=function(n,t,e){if(!n)return!1;var i=(0,Hi.default)(n).data("model");if(!i)return!1;var r=new this.treeClass(i),a=this.getSourceNodes(t).sourceNodes,s=a.some(function(l){return r.canMove(l,e)});return s},o.prototype.getSourceNodes=function(n){var t=this,e=n.filter(function(s){return!!s.dragSource||t.findValidSourceElement(s.element)}),i=e.map(function(s){var l,c;return{model:((l=s.dragSource)===null||l===void 0?void 0:l.model)||((c=(0,Hi.default)(s.element))===null||c===void 0?void 0:c.data("model")),content:s.dragSource}}),r=i.sort(function(s,l){return WR(s.model,l.model)}),a=r.map(function(s){return new t.treeClass(s.model,s.content)});return{sourceNodes:a,sourcesWithModel:i}},o.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},o.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},o.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},o.prototype.handlePlaceholderMove=function(n,t){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(n,t)},o.prototype.createPlaceholder=function(){return new iF({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},o.prototype.ensurePlaceholderElement=function(){var n=this.placeholder.el,t=this.containerContext.container;n.ownerDocument.contains(n)||t.append(this.placeholder.el)},o.prototype.updateOffset=function(){var n,t=((n=this.em)===null||n===void 0?void 0:n.get("canvasOffset"))||{};this.positionOptions.offsetTop=t.top,this.positionOptions.offsetLeft=t.left},o.prototype.findValidSourceElement=function(n){return n&&!tv(n,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(n=KR(n,this.containerContext.itemSel)),n},o.prototype.bindDragEventHandlers=function(){(0,Me.on)(this.containerContext.document,"keydown",this.rollback)},o.prototype.updatePlaceholderPosition=function(n,t){this.placeholder.move(n,t)},o.prototype.cleanupEventListeners=function(){(0,Me.AU)(this.containerContext.document,"keydown",this.rollback)},o.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},o.prototype.rollback=function(n){(0,Me.AU)(this.containerContext.document,"keydown",this.rollback);var t="Escape";n.key===t&&this.cancelDrag()},o.prototype.triggerNullOnEndMove=function(n){var t,e,i,r,a,s=(t=this.sourceNodes)===null||t===void 0?void 0:t[0].model,l={target:s,parent:s&&((e=s.parent)===null||e===void 0?void 0:e.call(s)),index:s&&((i=s.index)===null||i===void 0?void 0:i.call(s))};(a=(r=this.eventHandlers).legacyOnEndMove)===null||a===void 0||a.call(r,null,this,Gc(Gc({},l),{cancelled:n}))},o}(),R2=rF,oF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wc=function(){return Wc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Wc.apply(this,arguments)},aF=Eo.F.Target,Q1={id:"sorter-target",type:aF},sF=function(o){oF(n,o);function n(t){var e=t.em,i=t.treeClass,r=t.containerContext,a=t.dragBehavior,s=t.positionOptions,l=s===void 0?{}:s,c=t.eventHandlers,u=c===void 0?{}:c,p=o.call(this,{em:e,treeClass:i,containerContext:r,positionOptions:l,dragBehavior:a,eventHandlers:Wc(Wc({},u),{onStartSort:function(g,h){var y;(y=u.onStartSort)===null||y===void 0||y.call(u,g,h),p.onStartSort()},onDrop:function(g,h,y){var _;(_=u.onDrop)===null||_===void 0||_.call(u,g,h,y),p.onDrop(g,h,y)},onTargetChange:function(g,h){var y;(y=u.onTargetChange)===null||y===void 0||y.call(u,g,h),p.onTargetChange(g,h)},onMouseMove:function(g){var h;(h=u.onMouseMove)===null||h===void 0||h.call(u,g),p.onMouseMove(g)}})})||this;return p.targetIsText=!1,p.onMouseMove=function(g){var h,y=p.targetIsText&&((h=p.sourceNodes)===null||h===void 0?void 0:h.some(function(_){return _.isTextable()}));y&&p.updateTextViewCursorPosition(g)},p.onDrop=function(g,h,y){var _=typeof y=="number"?y:-1;if(g&&h.length>0){var O=p.handleNodeAddition(g,h,_);O.length===0&&p.triggerNullOnEndMove(!1)}else p.triggerNullOnEndMove(!0);g?.restNodeState(),p.placeholder.hide()},p.onTargetChange=function(g,h){var y;g?.restNodeState();var _=p.em.Canvas;if(!h){p.placeholder.hide(),_.removeSpots(Q1);return}h?.setSelectedParentState(),p.targetIsText=h.isTextNode();var O=p.targetIsText&&((y=p.sourceNodes)===null||y===void 0?void 0:y.some(function(b){return b.isTextable()}));O?(h.setContentEditable(!0),p.placeholder.hide()):p.placeholder.show();var M=Eo.F.Select,w=Eo.F.Hover,T=Eo.F.Spacing;[M,w,T].forEach(function(b){return _.removeSpots({type:b})}),_.addSpot(Wc(Wc({},Q1),{component:h.model}))},(0,et.bindAll)(p,"handleScrollEvent"),p}return n.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},n.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),o.prototype.bindDragEventHandlers.call(this)},n.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),o.prototype.cleanupEventListeners.call(this)},n.prototype.handleScrollEvent=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=(t=e?.[0])===null||t===void 0?void 0:t.frame,a=this.em.Canvas.getCanvasView().frame===r;a&&this.recalculateTargetOnScroll()},n.prototype.handleNodeAddition=function(t,e,i){var r=this;return e.reduce(function(a,s){if(!t.canMove(s,i))return a;if(r.isPositionChanged(t,s,i)){var l=r.moveNode(t,s,i),c=l.index,u=l.addedNode;a.push(u),i=c}return i++,a},[])},n.prototype.isPositionChanged=function(t,e,i){var r=e.getParent(),a=r?r.indexOfChild(e):-1;r?.model.cid===t.model.cid&&a<i&&i--;var s=r?.model.cid===t.model.cid,l=a===i,c=this.targetIsText&&e.isTextable();return!(s&&l&&!c)},n.prototype.moveNode=function(t,e,i){var r=e.getParent();if(r){var a=r.indexOfChild(e);r.removeChildAt(a,{temporary:!0}),r.model.cid===t.model.cid&&a<i&&i--}var s=t.addChildAt(e,i,{action:"move-component"});return s&&this.triggerEndMoveEvent(s),{addedNode:s,index:i}},n.prototype.triggerEndMoveEvent=function(t){var e,i,r,a,s,l;(i=(e=this.eventHandlers).legacyOnEndMove)===null||i===void 0||i.call(e,t.model,this,{target:t.model,parent:t.model&&((a=(r=t.model).parent)===null||a===void 0?void 0:a.call(r)),index:t.model&&((l=(s=t.model).index)===null||l===void 0?void 0:l.call(s))})},n.prototype.finalizeMove=function(){var t,e;(t=this.em)===null||t===void 0||t.Canvas.removeSpots(Q1),(e=this.sourceNodes)===null||e===void 0||e.forEach(function(i){return i.restNodeState()}),this.setAutoCanvasScroll(!1),o.prototype.finalizeMove.call(this)},n.prototype.updateTextViewCursorPosition=function(t){var e=this.em;if(e){var i=e.Canvas,r=i.getDocument(),a=null,s=(0,Me.G2)(t);if(r.caretPositionFromPoint){var l=r.caretPositionFromPoint(s.clientX,s.clientY);l&&(a=r.createRange(),a.setStart(l.offsetNode,l.offset))}else r.caretRangeFromPoint?a=r.caretRangeFromPoint(s.clientX,s.clientY):t.rangeParent&&(a=r.createRange(),a.setStart(t.rangeParent,t.rangeOffset));var c=i.getWindow().getSelection();i.getFrameEl().focus(),c?.removeAllRanges(),a&&c?.addRange(a)}},n.prototype.setAutoCanvasScroll=function(t){var e=this.em,i=e?.Canvas;i&&(t?i.startAutoscroll():i.stopAutoscroll())},n}(R2),$x=sF,lF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hg=function(){return Hg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Hg.apply(this,arguments)},cF=function(o){lF(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{values:{}}},n.prototype.initialize=function(){var t=this.collection;this.prop=t?.prop},n.prototype.getId=function(){return this.cid},n.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},n.prototype.getValues=function(t){t===void 0&&(t={});var e=this.get("values");return t.camelCase?Object.keys(e).reduce(function(i,r){return i[(0,oe.camelCase)(r)]=e[r],i},{}):e},n.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},n.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},n.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},n.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},n.prototype.move=function(t){var e;return(e=this.prop)===null||e===void 0?void 0:e.moveLayer(this,t)},n.prototype.getStylePreview=function(t){var e;return t===void 0&&(t={}),(e=this.prop)===null||e===void 0?void 0:e.getStylePreview(this,t)},n.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},n.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",Hg(Hg({},this.getValues()),t))},n}(ye.Kx),xu=cF,dF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),F2=function(o){dF(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initialize=function(t,e){e===void 0&&(e={}),this.prop=e.prop},n}(ye.pM),tg=F2;F2.prototype.model=xu;var uF=Cn(3178),pF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fF=function(o){pF(n,o);function n(t){return o.call(this,t)||this}return n.prototype.getChildren=function(){return this.model instanceof tg?this.model.models.map(function(t){return new n(t)}):null},n.prototype.getParent=function(){var t=this.model instanceof xu?this.model.collection:null;return t?new n(t):null},n.prototype.addChildAt=function(t,e){if(this.model instanceof xu)throw Error("Cannot add a layer model to another layer model");var i=this.model.add(t.model,{at:e});return new n(i)},n.prototype.removeChildAt=function(t){if(this.model instanceof xu)throw Error("Cannot remove a layer model from another layer model");var e=this.model.at(t);e&&this.model.remove(e)},n.prototype.indexOfChild=function(t){return!(t.model instanceof xu)||!(this.model instanceof tg)?-1:this.model.indexOf(t.model)},n.prototype.canMove=function(t,e){return this.model instanceof tg&&!!t.model},Object.defineProperty(n.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){var t;return(t=this.view)===null||t===void 0?void 0:t.el},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),n}(uF.$),gF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),I0=function(){return I0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},I0.apply(this,arguments)},hF=function(o){gF(n,o);function n(t){var e=t.em,i=t.containerContext,r=t.dragBehavior,a=t.positionOptions,s=a===void 0?{}:a,l=t.eventHandlers,c=l===void 0?{}:l,u=o.call(this,{em:e,treeClass:fF,containerContext:i,positionOptions:s,dragBehavior:r,eventHandlers:I0({onStartSort:function(p,g){var h;(h=c.onStartSort)===null||h===void 0||h.call(c,p,g),u.onLayerStartSort(p)},onDrop:function(p,g,h){var y;(y=c.onDrop)===null||y===void 0||y.call(c,p,g,h),u.onLayerDrop(p,g,h)},onEnd:function(){u.placeholder.hide()}},c)})||this;return u.onLayerStartSort=function(p){u.em.clearSelection();var g=p[0];u.em.trigger("sorter:drag:start",g?.element,g?.model),u.placeholder.show()},u.onLayerDrop=function(p,g,h){if(p){h=typeof h=="number"?h:-1;for(var y=0;y<g.length;y++){var _=g[y];if(p.canMove(_,y)){var O=_.getParent(),M=-1;O&&(M=O.indexOfChild(_),O.removeChildAt(M)),h=M<h?h-1:h,p.addChildAt(_,h)}}u.placeholder.hide()}},u}return n}(R2),mF=hF,vF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),D0=function(){return D0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},D0.apply(this,arguments)},_F=function(o){vF(n,o);function n(t){var e=o.call(this,t,"Utils")||this;return e.Sorter=$x,e.Resizer=UR,e.Dragger=VO.A,e.ComponentSorter=$x,e.StyleManagerSorter=mF,e.helpers=D0({},oe),e}return n.prototype.destroy=function(){},n}(Hr),yF=_F,Vr,fo={},br={16:!1,18:!1,17:!1,91:!1},z2="all",Fl={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},V2={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},ev=function(o){return V2[o]||o.toUpperCase().charCodeAt(0)},Jc=[];for(Vr=1;Vr<20;Vr++)V2["f"+Vr]=111+Vr;function Iu(o,n){for(var t=o.length;t--;)if(o[t]===n)return t;return-1}function bF(o,n){if(o.length!=n.length)return!1;for(var t=0;t<o.length;t++)if(o[t]!==n[t])return!1;return!0}var CF={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function xF(o){for(Vr in br)br[Vr]=o[CF[Vr]]}function OF(o){var n,t,e,i,r,a;if(n=o.keyCode,Iu(Jc,n)==-1&&Jc.push(n),(n==93||n==224)&&(n=91),n in br){br[n]=!0;for(e in Fl)Fl[e]==n&&(xr[e]=!0);return}if(xF(o),!!xr.filter.call(this,o)&&n in fo){for(a=nv(),i=0;i<fo[n].length;i++)if(t=fo[n][i],t.scope==a||t.scope=="all"){r=t.mods.length>0;for(e in br)(!br[e]&&Iu(t.mods,+e)>-1||br[e]&&Iu(t.mods,+e)==-1)&&(r=!1);(t.mods.length==0&&!br[16]&&!br[18]&&!br[17]&&!br[91]||r)&&t.method(o,t)===!1&&(o.preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation&&o.stopPropagation(),o.cancelBubble&&(o.cancelBubble=!0))}}}function PF(o){var n=o.keyCode,t,e=Iu(Jc,n);if(e>=0&&Jc.splice(e,1),(n==93||n==224)&&(n=91),n in br){br[n]=!1;for(t in Fl)Fl[t]==n&&(xr[t]=!1)}}function MF(){for(Vr in br)br[Vr]=!1;for(Vr in Fl)xr[Vr]=!1}function xr(o,n,t){var e,i;e=j2(o),t===void 0&&(t=n,n="all");for(var r=0;r<e.length;r++)i=[],o=e[r].split("+"),o.length>1&&(i=H2(o),o=[o[o.length-1]]),o=o[0],o=ev(o),o in fo||(fo[o]=[]),fo[o].push({shortcut:e[r],scope:n,method:t,key:e[r],mods:i})}function wF(o,n){var t,e,i=[],r,a,s;for(t=j2(o),a=0;a<t.length;a++){if(e=t[a].split("+"),e.length>1&&(i=H2(e)),o=e[e.length-1],o=ev(o),n===void 0&&(n=nv()),!fo[o])return;for(r=0;r<fo[o].length;r++)s=fo[o][r],s.scope===n&&bF(s.mods,i)&&(fo[o][r]={})}}function SF(o){return typeof o=="string"&&(o=ev(o)),Iu(Jc,o)!=-1}function TF(){return Jc.slice(0)}function EF(o){var n=(o.target||o.srcElement).tagName;return!(n=="INPUT"||n=="SELECT"||n=="TEXTAREA")}for(Vr in Fl)xr[Vr]=!1;function kF(o){z2=o||"all"}function nv(){return z2||"all"}function AF(o){var n,t,e;for(n in fo)for(t=fo[n],e=0;e<t.length;)t[e].scope===o?t.splice(e,1):e++}function j2(o){var n;return o=o.replace(/\s/g,""),n=o.split(","),n[n.length-1]==""&&(n[n.length-2]+=","),n}function H2(o){for(var n=o.slice(0,o.length-1),t=0;t<n.length;t++)n[t]=Fl[n[t]];return n}function J1(o,n,t){o.addEventListener?o.addEventListener(n,t,!1):o.attachEvent&&o.attachEvent("on"+n,function(){t(window.event)})}xr.setScope=kF;xr.getScope=nv;xr.deleteScope=AF;xr.filter=EF;xr.isPressed=SF;xr.getPressedKeyCodes=TF;xr.unbind=wF;xr.handlers=fo;xr.init=function(o){J1(o.document,"keydown",function(n){OF(n)}),J1(o.document,"keyup",PF),J1(o,"focus",MF)};var Ou=xr,IF=function(){return{defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}}},DF=IF,LF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yx=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))};(0,oe.hasWin)()&&Ou.init(window);var NF=function(o){LF(n,o);function n(t){var e=o.call(this,t,"Keymaps",DF())||this;return e.keymaster=Ou,e.keymaps={},e}return n.prototype.onLoad=function(){if(!this.em.isHeadless){var t=this.config.defaults;for(var e in t){var i=t[e];this.add(e,i.keys,i.handler,i.opts||{})}}},n.prototype.add=function(t,e,i,r){r===void 0&&(r={});var a=this.em,s=a.Commands,l=a.getEditor(),c=a.Canvas,u={id:t,keys:e,handler:i},p=this.keymaps[t];return p&&this.remove(t),this.keymaps[t]=u,Ou(e,function(g,h){var y,_={event:g,h},O=(0,et.isString)(i)?s.get(i):i,M=!a.isEditing()&&!l.Canvas.isInputFocused();if(M||r.force){r.prevent&&((y=c.getCanvasView())===null||y===void 0||y.preventDefault(g)),(0,et.isFunction)(O)?O(l,0,_):s.runCommand(O,_);var w=[t,h.shortcut,g];a.trigger.apply(a,Yx(["keymap:emit"],w,!1)),a.trigger.apply(a,Yx(["keymap:emit:".concat(t)],w,!1))}},void 0),a.trigger("keymap:add",u),u},n.prototype.get=function(t){return this.keymaps[t]},n.prototype.getAll=function(){return this.keymaps},n.prototype.remove=function(t){var e=this.em,i=this.get(t);if(i)return delete this.keymaps[t],i.keys.split(", ").forEach(function(r){Ou.unbind(r.trim())}),e?.trigger("keymap:remove",i),i},n.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(e){return t.remove(e)}),Ou.handlers={},this},n.prototype.destroy=function(){this.removeAll(),this.keymaps={}},n}(Hr),RF=NF,FF=function(){return{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}}},zF=FF,VF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jF=function(o){VF(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},n.prototype.open=function(){this.set("open",!0)},n.prototype.close=function(){this.set("open",!1)},n}(Ns.A),HF=jF,BF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bg=function(){return Bg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Bg.apply(this,arguments)},UF=function(o){BF(n,o);function n(t){var e=o.call(this,t)||this,i=e.model;return e.listenTo(i,"change:open",e.updateOpen),e.listenTo(i,"change:title",e.updateTitle),e.listenTo(i,"change:content",e.updateContent),e}return n.prototype.template=function(t){var e=t.pfx,i=t.ppfx,r=t.content,a=t.title;return'<div class="'.concat(e,"dialog ").concat(i,"one-bg ").concat(i,`two-color">
      <div class="`).concat(e,`header">
        <div class="`).concat(e,'title">').concat(a,`</div>
        <div class="`).concat(e,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(e,`content">
        <div id="`).concat(e,'c">').concat(r,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(e,'collector" style="display: none"></div>')},n.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},n.prototype.onClick=function(t){var e=this.config.backdrop;e&&t.target===this.el&&this.hide()},n.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},n.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},n.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},n.prototype.updateContent=function(){var t=this.getContent(),e=t.children(),i=this.getCollector(),r=this.model.get("content");e.length&&i.append(e),t.empty().append(r)},n.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},n.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},n.prototype.hide=function(){this.model.close()},n.prototype.show=function(){this.model.open()},n.prototype.updateAttr=function(t){var e=this,i=e.pfx,r=e.$el,a=e.el,s=[].slice.call(a.attributes).map(function(l){return l.name});r.removeAttr(s.join(" ")),r.attr(Bg(Bg({},t||{}),{class:"".concat(i,"container ").concat(t&&t.class||"").trim()}))},n.prototype.render=function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this},n}(Ao),GF=UF,WF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),KF=function(o){WF(n,o);function n(t){var e=o.call(this,t,"Modal",zF())||this;return e.model=new HF(e),e.model.on("change:open",function(i,r){t.trigger("modal:".concat(r?"open":"close"))}),e.model.on("change",(0,et.debounce)(function(){var i=e._evData(),r=e.config.custom;(0,et.isFunction)(r)&&r(i),t.trigger("modal",i)},0)),e}return n.prototype._evData=function(){var t=this,e=this.getTitle(),i=this.getContent(),r=this.model.attributes,a=r.open,s=r.attributes;return{open:a,attributes:s,title:(0,et.isString)(e)?(0,Me.GZ)(e):e,content:(0,et.isString)(i)?(0,Me.GZ)(i):i.get?i.get(0):i,close:function(){t.close()}}},n.prototype.postRender=function(t){var e=t.model.config.el||t.el,i=this.render();i&&e?.appendChild(i)},n.prototype.open=function(t){t===void 0&&(t={});var e=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",e),this.model.open(),this.modal&&this.modal.updateAttr(e),this},n.prototype.close=function(){return this.model.close(),this},n.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},n.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},n.prototype.isOpen=function(){return!!this.model.get("open")},n.prototype.setTitle=function(t){return this.model.set("title",t),this},n.prototype.getTitle=function(){return this.model.get("title")},n.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},n.prototype.getContent=function(){return this.model.get("content")},n.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},n.prototype.getModel=function(){return this.model},n.prototype.render=function(){var t;if(!this.config.custom){var e=GF.extend(this.config.extend),i=this.modal&&this.modal.el;return this.modal=new e({el:i,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},n.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},n}(Hr),qF=KF,Xx="sw-visibility",Qx="export-template",Jx="open-sm",Zx="open-tm",tO="open-layers",eO="open-blocks",Z1="fullscreen",t0="preview",$F=function(){return{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:Xx,className:"fa fa-square-o",command:"core:component-outline",context:Xx,attributes:{title:"View components"}},{id:t0,className:"fa fa-eye",command:t0,context:t0,attributes:{title:"Preview"}},{id:Z1,className:"fa fa-arrows-alt",command:Z1,context:Z1,attributes:{title:"Fullscreen"}},{id:Qx,className:"fa fa-code",command:Qx,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:Jx,className:"fa fa-paint-brush",command:Jx,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:Zx,className:"fa fa-cog",command:Zx,togglable:!1,attributes:{title:"Settings"}},{id:tO,className:"fa fa-bars",command:tO,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:eO,className:"fa fa-th-large",command:eO,togglable:!1,attributes:{title:"Open Blocks"}}]}]}},YF=$F,XF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),QF=function(o){XF(n,o);function n(t,e){var i=o.call(this,t,e)||this;return i.get("buttons").length&&i.set("buttons",new G2(i.module,i.get("buttons"))),i}return n.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(n.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),n}(Ns.A),B2=QF,JF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),U2=function(o){JF(n,o);function n(t,e){return o.call(this,t,e,B2)||this}return n.prototype.deactivateAllExceptOne=function(t,e){this.forEach(function(i,r){i!==t&&(i.set("active",!1),e&&i.get("buttons").length&&i.get("buttons").deactivateAllExceptOne(t,e))})},n.prototype.deactivateAll=function(t,e){var i=t||"";this.forEach(function(r){r.get("context")==i&&r!==e&&r.set("active",!1,{fromCollection:!0})})},n.prototype.disableAllButtons=function(t){var e=t||"";this.forEach(function(i,r){i.get("context")==e&&i.set("disable",!0)})},n.prototype.disableAllButtonsExceptOne=function(t,e){this.forEach(function(i,r){i!==t&&(i.set("disable",!0),e&&i.get("buttons").length&&i.get("buttons").disableAllButtonsExceptOne(t,e))})},n}(oh),G2=U2;U2.prototype.model=B2;var ZF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tz=function(o){ZF(n,o);function n(t,e){var i=o.call(this,t,e)||this,r=i.get("buttons")||[];return i.buttons=new G2(t,r),i}return n.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(n.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),n}(Ns.A),W2=tz,ez=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),K2=function(o){ez(n,o);function n(t,e){return o.call(this,t,e,W2)||this}return n}(oh),nz=K2;K2.prototype.model=W2;var iz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kc=function(){return Kc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Kc.apply(this,arguments)},rz=function(o){iz(n,o);function n(t){var e=o.call(this,t)||this,i=e,r=i.model,a=i.em,s=i.pfx,l=i.ppfx,c=r.className,u=r.attributes,p=u.command,g=u.listen;if(e.id=s+r.get("id"),e.activeCls="".concat(s,"active ").concat(l,"four-color"),e.disableCls="".concat(l,"disabled"),e.btnsVisCls="".concat(s,"visible"),e.className=s+"btn"+(c?" "+c:""),e.listenTo(r,"change",e.render),e.listenTo(r,"change:active updateActive",e.updateActive),e.listenTo(r,"checkActive",e.checkActive),e.listenTo(r,"change:bntsVis",e.updateBtnsVis),e.listenTo(r,"change:attributes",e.updateAttributes),e.listenTo(r,"change:className",e.updateClassName),e.listenTo(r,"change:disable",e.updateDisable),a&&(0,et.isString)(p)&&g){var h={fromListen:!0};e.listenTo(a,"run:".concat(p),function(){return r.set("active",!0,h)}),e.listenTo(a,"stop:".concat(p),function(){return r.set("active",!1,h)})}return a&&a.get&&(e.commands=a.get("Commands")),e}return n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.events=function(){return{click:"clicked"}},n.prototype.updateClassName=function(){var t=this,e=t.model,i=t.pfx,r=e.className,a=e.get("attributes").class,s="".concat(a||""," ").concat(i,"btn ").concat(r||"");this.$el.attr("class",s.trim())},n.prototype.updateAttributes=function(){var t=this,e=t.em,i=t.model,r=t.$el,a=i.get("attributes")||{},s=e&&e.t&&e.t("panels.buttons.titles.".concat(i.id));r.attr(a),s&&r.attr({title:s}),this.updateClassName()},n.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},n.prototype.updateActive=function(t,e,i){var r;i===void 0&&(i={});var a=this,s=a.model,l=a.commands,c=a.$el,u=a.activeCls,p=i.fromCollection,g=i.fromListen,h=s.get("context"),y=s.get("options"),_=s.command,O={};_&&(l&&(0,et.isString)(_)?O=l.get(_)||{}:(0,et.isFunction)(_)?O=l.create({run:_}):_!==null&&(0,et.isObject)(_)&&(O=l.create(_)),s.active?(!p&&((r=s.collection)===null||r===void 0||r.deactivateAll(h,s)),s.set("active",!0,{silent:!0}).trigger("checkActive"),!g&&l.runCommand(O,Kc(Kc({},y),{sender:s})),O.noStop&&s.set("active",!1)):(c.removeClass(u),!g&&l.stopCommand(O,Kc(Kc({},y),{sender:s,force:1}))))},n.prototype.updateDisable=function(){var t=this,e=t.disableCls,i=t.model,r=i.disable;this.$el[r?"addClass":"removeClass"](e)},n.prototype.checkActive=function(){var t=this,e=t.model,i=t.$el,r=t.activeCls;e.active?i.addClass(r):i.removeClass(r)},n.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},n.prototype.toggleActive=function(){var t=this,e=t.model,i=t.em,r=e.active,a=e.togglable;r&&!a||(e.active=!r,r?e.runDefaultCommand&&i.runDefault():e.stopDefaultCommand&&i.stopDefault())},n.prototype.render=function(){var t=this.model,e=t.get("label"),i=this.$el;return!t.get("el")&&i.empty(),this.updateAttributes(),e&&i.append(e),this.checkActive(),this.updateDisable(),this},n}(Ao),oz=rz,az=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sz=function(o){az(n,o);function n(t){var e=o.call(this,{collection:t})||this;return e.listenTo(e.collection,"add",e.addTo),e.listenTo(e.collection,"reset remove",e.render),e.className=e.pfx+"buttons",e}return n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){var i=e||null,r=t.get("el"),a=new oz({el:r,model:t}),s=a.render().el;return i?i.appendChild(s):this.$el.append(s),s},n.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(i){return t.addToCollection(i,e)}),this.$el.append(e),this.$el.attr("class",(0,et.result)(this,"className")),this},n}(Ao),lz=sz,cz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),L0=function(){return L0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},L0.apply(this,arguments)},dz=function(o){cz(n,o);function n(t){var e=o.call(this,{model:t,el:t.get("el")})||this;return e.className=e.pfx+"panel",e.id=e.pfx+t.get("id"),e.listenTo(t,"change:appendContent",e.appendContent),e.listenTo(t,"change:content",e.updateContent),e.listenTo(t,"change:visible",e.toggleVisible),t.view=e,e}return n.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},n.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},n.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},n.prototype.attributes=function(){return this.model.get("attributes")},n.prototype.initResize=function(){var t=this.em,e=t?.Editor,i=this.model.get("resizable");if(e&&i){var r=i===!0?[!0,!0,!0,!0]:i,a=r.length,s=void 0,l=void 0,c=void 0,u=!1;if(a==2){var p=r;s=p[0],c=p[0],l=p[1],u=p[1]}else if(a==4){var p=r;s=p[0],l=p[1],c=p[2],u=p[3]}var g=new e.Utils.Resizer(L0({tc:s,cr:l,bc:c,cl:u,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:e.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(h,y){var _=y.target,O=h.style,M=g.getConfig(),w=M.keyWidth,T=M.keyHeight,b=h.getBoundingClientRect(),k=_=="container",E=O[w],N=O[T],F=E&&!k?parseFloat(E):b.width,V=N&&!k?parseFloat(N):b.height;return{left:0,top:0,width:F,height:V}}},i&&typeof i!="boolean"?i:{}));g.blur=function(){},g.focus(this.el)}},n.prototype.render=function(){var t=this.model.buttons,e=this.$el,i=this.ppfx,r="".concat(this.className," ").concat(this.id," ").concat(i,"one-bg ").concat(i,"two-color");if(e.addClass(r),this.toggleVisible(),t.length){var a=new lz(t);e.append(a.render().el)}return e.append(this.model.get("content")),this},n}(Ao),uz=dz,pz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fz=function(o){pz(n,o);function n(t){var e=o.call(this,{collection:t})||this;return e.listenTo(t,"add",e.addTo),e.listenTo(t,"reset",e.render),e.listenTo(t,"remove",e.onRemove),e.className=e.pfx+"panels",e}return n.prototype.onRemove=function(t){var e=t.view;e&&e.remove()},n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){var i=e||null,r=t.get("el"),a=new uz(t),s=a.render().el,l=t.get("appendTo");if(!r)if(l){var c=document.querySelector(l);c?.appendChild(s)}else i?i.appendChild(s):this.$el.append(s);return a.initResize(),s},n.prototype.render=function(){var t=this,e=this.$el,i=document.createDocumentFragment();return e.empty(),this.collection.each(function(r){return t.addToCollection(r,i)}),e.append(i),e.attr("class",this.className),this},n}(Ao),gz=fz,hz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mz=function(o){hz(n,o);function n(t){var e=o.call(this,t,"Panels",YF())||this;return e.panels=new nz(e,e.config.defaults),e}return n.prototype.getPanels=function(){return this.panels},n.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},n.prototype.addPanel=function(t){return this.panels.add(t)},n.prototype.removePanel=function(t){return this.panels.remove(t)},n.prototype.getPanel=function(t){var e=this.panels.where({id:t});return e.length?e[0]:null},n.prototype.addButton=function(t,e){var i=this.getPanel(t);return i?i.buttons.add(e):null},n.prototype.removeButton=function(t,e){var i=this.getPanel(t);return i&&i.buttons.remove(e)},n.prototype.getButton=function(t,e){var i=this.getPanel(t);if(i){var r=i.buttons.where({id:e});return r.length?r[0]:null}return null},n.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new gz(this.panels),this.PanelsViewObj.render().el},n.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("active")&&e.trigger("updateActive")})})},n.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("disable")&&e.trigger("change:disable")})})},n.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},n}(Hr),vz=mz,_z=function(){return{stylePrefix:"cm-",optsCodeViewer:{}}},yz=_z,bz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cz=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(o);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(o,e[i])&&(t[e[i]]=o[e[i]]);return t},xz=function(o){bz(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.build=function(t,e){e===void 0&&(e={});var i=e.em,r=Cz(e,["em"]),a=r;if(e.cleanId&&i){var s=i.Css.getAll(),l=s.toJSON().map(function(c){var u=c.selectors,p=u&&u.length===1&&u.models[0];return p&&p.isId()&&p.get("name")}).filter(Boolean);a.attributes||(a.attributes=function(c,u){var p=u.id;return p&&p[0]==="i"&&!c.get("script")&&!c.get("script-export")&&!c.get("attributes").id&&l.indexOf(p)<0&&delete u.id,u})}return t.toHTML(a)},n}(ye.Kx),Oz=xz,Pz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mz=function(o){Pz(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.build=function(t){var e=this,i=t.toJSON();return this.beforeEach(i),(0,et.each)(i,function(r,a){var s=i[a];if(s instanceof ye.Kx)i[a]=e.build(s);else if(s instanceof ye.pM){var l=s;i[a]=[],l.length&&l.forEach(function(c,u){i[a][u]=e.build(c)})}}),i},n.prototype.beforeEach=function(t){delete t.status},n}(ye.Kx),wz=Mz,Sz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function Tz(o){var n,t=((n=o.toString().match(/\{([\s\S]*)\}/m))===null||n===void 0?void 0:n[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var Ez=function(o){Sz(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.mapModel=function(t){var e,i=this,r="",a=t.get("script-export")||t.get("script"),s=t.get("type"),l=t.get("components"),c=t.getId();if(a){var u=t.get("attributes");u=(0,et.extend)({},u,{id:c}),t.set("attributes",u,{silent:!0});var p=t.getScriptString(a),g=t.get("script-props");if(t.get("scriptUpdated")&&!g)this.mapJs[s+"-"+c]={ids:[c],code:p};else{var h=void 0,y=this.mapJs[s];if(g&&(h=t.__getScriptProps()),y)y.ids.push(c),h&&(y.props[c]=h);else{var _={ids:[c],code:p};h&&(_.props=(e={},e[c]=h,e)),this.mapJs[s]=_}}}return l.forEach(function(O){r+=i.mapModel(O)}),r},n.prototype.build=function(t){this.mapJs={},this.mapModel(t);var e="";for(var i in this.mapJs){var r=this.mapJs[i];if(r.code)if(r.props){if(Tz(r.code))continue;e+=`
          var props = `.concat(JSON.stringify(r.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(r.code,`.bind(el))(props[el.id]);
          }`)}else{var a="#"+r.ids.join(", #");e+=`
          var items = document.querySelectorAll('`.concat(a,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(r.code,`
}.bind(items[i]))();
          }`)}}return e},n}(ye.Kx),kz=Ez,Az=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),N0=function(){return N0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},N0.apply(this,arguments)},Du;(0,oe.hasWin)()&&(Du=Cn(4408),Cn(8253),Cn(7389),Cn(3640));var q2=function(o){Az(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},n.prototype.init=function(t){return(0,et.bindAll)(this,"onChange"),this.editor=Du.fromTextArea(t,N0({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},n.prototype.onChange=function(){this.trigger("update",this)},n.prototype.getEditor=function(){return this.editor},n.prototype.getElement=function(){return this.element},n.prototype.setElement=function(t){return this.element=t,this},n.prototype.refresh=function(){return this.getEditor().refresh(),this},n.prototype.focus=function(){return this.getEditor().focus(),this},n.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},n.prototype.setContent=function(t,e){var i=this;e===void 0&&(e={});var r=this.editor;if(r){r.setValue(t);var a=this.get("autoFormat"),s=r.autoFormatRange&&(a===!0||Array.isArray(a)&&a.includes(this.get("codeName")));s&&(Du.commands.selectAll(r),r.autoFormatRange(r.getCursor(!0),r.getCursor(!1)),Du.commands.goDocStart(r)),!e.noRefresh&&setTimeout(function(){return i.refresh()})}},n}(ye.Kx),Iz=q2;q2.prototype.CodeMirror=Du;var Dz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lz=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},Nz=function(o){Dz(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.template=function(t){var e=t.pfx,i=t.codeName,r=t.label;return zr(nO||(nO=Lz([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),e,e,i,e,r,e)},n.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},n.prototype.render=function(){var t,e,i=this,r=i.model,a=i.pfx,s=i.$el,l=r.toJSON(),c=r.get("input")||((e=(t=r).getElement)===null||e===void 0?void 0:e.call(t));return l.pfx=a,s.html(this.template(l)),s.attr("class","".concat(a,"editor-c")),s.find("#".concat(a,"code")).append(c),this},n}(ye.Ss),Rz=Nz,nO,Fz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ug=function(){return Ug=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Ug.apply(this,arguments)},zz="CodeMirror",Vz=function(o){Fz(n,o);function n(t){var e=o.call(this,t,"CodeManager",yz())||this;e.EditorView=Rz;var i=e.config,r=i.pStylePrefix;return r&&(i.stylePrefix=r+i.stylePrefix),e.generators={},e.viewers={},e.defGenerators={html:new Oz,css:new PD,json:new wz,js:new kz},e.defViewers={CodeMirror:new Iz},e.loadDefaultGenerators().loadDefaultViewers(),e}return n.prototype.addGenerator=function(t,e){return this.generators[t]=e,this},n.prototype.getGenerator=function(t){return this.generators[t]},n.prototype.getGenerators=function(){return this.generators},n.prototype.addViewer=function(t,e){return this.viewers[t]=e,this},n.prototype.getViewer=function(t){return this.viewers[t]},n.prototype.getViewers=function(){return this.viewers},n.prototype.createViewer=function(t){t===void 0&&(t={});var e=(0,et.isUndefined)(t.type)?zz:t.type,i=this.getViewer(e)&&this.getViewer(e).clone(),r=document.createElement("div"),a=document.createElement("textarea");return r.appendChild(a),i.set(Ug(Ug({},this.config.optsCodeViewer),t)),i.init(a),i.setElement(r),i},n.prototype.updateViewer=function(t,e){t.setContent(e)},n.prototype.getCode=function(t,e,i){i===void 0&&(i={}),i.em=this.em;var r=this.getGenerator(e);return r?r.build(t,i):""},n.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},n.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},n.prototype.destroy=function(){},n}(Hr),jz=Vz,Hz=Cn(4729),Bz=Cn.n(Hz),Uz=function(){return{maximumStackLength:500,trackSelection:!0}},Gz=Uz,Fr=function(o){return o.update="update",o.undo="undo",o.redo="redo",o.load="load",o.projectLoad="project:load",o.projectLoaded="project:loaded",o.projectGet="project:get",o.log="log",o.telemetryInit="telemetry:init",o.destroy="destroy",o.destroyed="destroyed",o}(Fr||{});var Wz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),La=function(){return La=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},La.apply(this,arguments)},Kz=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},Kf=function(o){return o.avoidStore||o.noUndo||o.partial},iO=function(o){return Object.keys(o.changedAttributes())},qf=new WeakMap,qz=function(o){Wz(n,o);function n(t){var e=o.call(this,t,"UndoManager",Gz())||this;e.config._disable&&(e.config.maximumStackLength=0);var i=!0;return e.um=new(Bz())(La({track:!0,register:[]},e.config)),e.um.changeUndoType("change",{condition:function(r){var a=r.get("_undo");if(a){var s=r.get("_undoexc");if((0,et.isArray)(s)&&iO(r).some(function(l){return s.indexOf(l)>=0}))return!1;if((0,et.isBoolean)(a)||(0,et.isArray)(a)&&iO(r).some(function(l){return a.indexOf(l)>=0}))return!0}return!1},on:function(r,a,s){var l=qf.get(r);l||(l=r.previousAttributes(),qf.set(r,l));var c=s||a||{};if(c.noUndo&&setTimeout(function(){qf.delete(r)}),!Kf(c)){var u=r.toJSON({fromUndo:i}),p={object:r,before:l,after:u};return qf.delete(r),(0,et.isEmpty)(u)?void 0:p}}}),e.um.changeUndoType("add",{on:function(r,a,s){if(s===void 0&&(s={}),!(Kf(s)||!e.isRegistered(a)))return{object:a,before:void 0,after:r,options:La(La({},s),{fromUndo:i})}}}),e.um.changeUndoType("remove",{on:function(r,a,s){if(s===void 0&&(s={}),!(Kf(s)||!e.isRegistered(a)))return{object:a,before:r,after:void 0,options:La(La({},s),{fromUndo:i})}}}),e.um.changeUndoType("reset",{undo:function(r,a){r.reset(a,{fromUndo:i})},redo:function(r,a,s){r.reset(s,{fromUndo:i})},on:function(r,a){if(a===void 0&&(a={}),!(Kf(a)||!e.isRegistered(r)))return{object:r,before:a.previousModels,after:Kz([],r.models,!0),options:La(La({},a),{fromUndo:i})}}}),e.um.on("undo redo",function(){t.getSelectedAll().map(function(r){return r.trigger("rerender:layer")})}),[Fr.undo,Fr.redo].forEach(function(r){return e.um.on(r,function(){return t.trigger(r)})}),e}return n.prototype.postLoad=function(){var t=this,e=t.config,i=t.em;e.trackSelection&&i&&this.add(i.get("selected"))},n.prototype.add=function(t){return this.um.register(t),this},n.prototype.remove=function(t){return this.um.unregister(t),this},n.prototype.removeAll=function(){return this.um.unregisterAll(),this},n.prototype.start=function(){return this.um.startTracking(),this},n.prototype.stop=function(){return this.um.stopTracking(),this},n.prototype.undo=function(t){t===void 0&&(t=!0);var e=this,i=e.em,r=e.um;return!i.isEditing()&&r.undo(t),this},n.prototype.undoAll=function(){return this.um.undoAll(),this},n.prototype.redo=function(t){t===void 0&&(t=!0);var e=this,i=e.em,r=e.um;return!i.isEditing()&&r.redo(t),this},n.prototype.redoAll=function(){return this.um.redoAll(),this},n.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},n.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},n.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},n.prototype.getStack=function(){return this.um.stack},n.prototype.getStackGroup=function(){var t=[],e=[];return this.getStack().forEach(function(i){var r=i.get("magicFusionIndex");e.indexOf(r)<0&&(e.push(r),t.push(i))}),t},n.prototype.skip=function(t){var e=!!this.um.isTracking();e&&this.stop(),t(),e&&this.start()},n.prototype.getGroupedStack=function(){var t={},e=this.getStack(),i=function(r,a){var s=r.attributes,l=s.type,c=s.after,u=s.before,p=s.object,g=s.options,h=g===void 0?{}:g;return{index:a,type:l,after:c,before:u,object:p,options:h}};return e.forEach(function(r,a){var s=r.get("magicFusionIndex"),l=i(r,a);t[s]?t[s].push(l):t[s]=[l]}),Object.keys(t).map(function(r){var a=t[r];return{index:a[a.length-1].index,actions:a,labels:(0,et.unique)(a.reduce(function(s,l){var c,u=(c=l.options)===null||c===void 0?void 0:c.action;return u&&s.push(u),s},[]))}})},n.prototype.goToGroup=function(t){var e=this;if(t){var i=this.getPointer(),r=t.index-i;(0,et.times)(Math.abs(r),function(){e[r<0?"undo":"redo"](!1)})}},n.prototype.getPointer=function(){return this.getStack().pointer},n.prototype.clear=function(){return this.um.clear(),this},n.prototype.getInstance=function(){return this.um},n.prototype.destroy=function(){this.clear().removeAll()},n}(Hr),$z=qz,Yz=function(){return{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1}},Xz=Yz,qc=function(){return qc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},qc.apply(this,arguments)},R0=function(o){return o[o.ACTIVE=1]="ACTIVE",o[o.INACTIVE=0]="INACTIVE",o[o.DISABLED=-1]="DISABLED",o}(R0||{}),e0="_rte",kl={ACTIVE:1,INACTIVE:0,DISABLED:-1},$f=function(o,n){n===void 0&&(n="A");var t=o.selection()||{},e=t.anchorNode,i=t.focusNode,r=e?.parentNode,a=i?.parentNode;return r?.nodeName==n||a?.nodeName==n},Gg="data-selectme",yu={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(o){return o.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(o){return o.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(o){return o.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(o){return o.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(o){return o&&o.selection()&&$f(o)?kl.ACTIVE:kl.INACTIVE},result:function(o){$f(o)?o.exec("unlink"):o.insertHTML('<a href="" '.concat(Gg,">").concat(o.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(o){return o?.selection()&&$f(o,"SPAN")?kl.DISABLED:kl.INACTIVE},result:function(o){!$f(o,"SPAN")&&o.insertHTML("<span ".concat(Gg,">").concat(o.selection(),"</span>"),{select:!0})}}},Qz=function(){function o(n,t,e){e===void 0&&(e={});var i=this;if(this.em=n,this.settings=e,t[e0])return t[e0];t[e0]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var r=(e.actions||[]).map(function(u){var p=u;return(0,et.isString)(u)?p=qc({},yu[u]):yu[u.name]&&(p=qc(qc({},yu[u.name]),u)),p}),a=r.length?r:Object.keys(yu).map(function(u){return yu[u]});e.classes=qc({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},e.classes);var s=e.classes,l=e.actionbar;if(this.actionbar=l,this.classes=s,this.actions=a,!l){if(!this.isCustom(e.module)){var c=e.actionbarContainer;l=document.createElement("div"),l.className=s.actionbar,c?.appendChild(l),this.actionbar=l}a.forEach(function(u){return i.addAction(u)})}return e.styleWithCSS&&this.exec("styleWithCSS"),this}return o.prototype.isCustom=function(n){var t=n||this.em.RichTextEditor;return!!(t?.config.custom||t?.customRte)},o.prototype.destroy=function(){},o.prototype.setEl=function(n){this.el=n,this.doc=n.ownerDocument},o.prototype.updateActiveActions=function(){var n=this,t=this.getActions();t.forEach(function(e){var i=e.update,r=e.btn,a=n.classes,s=a.active,l=a.inactive,c=a.disabled,u=e.state,p=e.name,g=n.doc,h=R0.INACTIVE;if(r&&(r.className=r.className.replace(s,"").trim(),r.className=r.className.replace(l,"").trim(),r.className=r.className.replace(c,"").trim()),u){var y=u(n,g);if(h=y,r)switch(y){case kl.ACTIVE:r.className+=" ".concat(s);break;case kl.INACTIVE:r.className+=" ".concat(l);break;case kl.DISABLED:r.className+=" ".concat(c);break}}else g.queryCommandSupported(p)&&g.queryCommandState(p)&&(r&&(r.className+=" ".concat(s)),h=R0.ACTIVE);e.currentState=h,i?.(n,e)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},o.prototype.enable=function(n){return this.enabled?this:this.__toggleEffects(!0,n)},o.prototype.disable=function(){return this.__toggleEffects(!1)},o.prototype.__toggleEffects=function(n,t){n===void 0&&(n=!1),t===void 0&&(t={});var e=n?Me.on:Me.AU,i=this,r=i.el,a=i.doc,s=this.actionbarEl();if(s&&(s.style.display=n?"":"none"),r.contentEditable="".concat(!!n),e(r,"mouseup keyup",this.updateActiveActions),e(a,"keydown",this.__onKeydown),e(a,"paste",this.__onPaste),this.enabled=n,n){var l=t.event;if(this.syncActions(),this.updateActiveActions(),l){var c=null;if(a.caretRangeFromPoint){var u=(0,Me.G2)(l);c=a.caretRangeFromPoint(u.clientX,u.clientY)}else l.rangeParent&&(c=a.createRange(),c.setStart(l.rangeParent,l.rangeOffset));var p=a.getSelection();p?.removeAllRanges(),c&&p?.addRange(c)}r.focus()}return this},o.prototype.__onKeydown=function(n){var t=this.em,e=t.RichTextEditor.getConfig().onKeydown;if(e)return e({ev:n,rte:this,editor:t.getEditor()});var i=this.doc,r=["insertOrderedList","insertUnorderedList"];n.key==="Enter"&&!r.some(function(a){return i.queryCommandState(a)})&&(i.execCommand("insertLineBreak"),n.preventDefault())},o.prototype.__onPaste=function(n){var t=this.em,e=t.RichTextEditor.getConfig().onPaste;if(e)return e({ev:n,rte:this,editor:t.getEditor()});var i=n.clipboardData,r=i.getData("text"),a=i.getData("text/html");if(r&&!a){n.preventDefault();var s=r.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,s)}},o.prototype.syncActions=function(){var n=this;this.getActions().forEach(function(t){if(n.actionbar&&(!t.state||t.state&&t.state(n,n.doc)>=0)){var e=t.event||"click",i=t.btn;i&&(i["on".concat(e)]=function(){t.result(n,t),n.updateActiveActions()})}})},o.prototype.addAction=function(n,t){t===void 0&&(t={});var e=t.sync,i=this.actionbarEl();if(i){var r=n.icon,a=n.attributes,s=a===void 0?{}:a,l=document.createElement("span");l.className=this.classes.button,n.btn=l;for(var c in s)l.setAttribute(c,s[c]);typeof r=="string"?l.innerHTML=r:l.appendChild(r),i.appendChild(l)}e&&(this.actions.push(n),this.syncActions())},o.prototype.getActions=function(){return this.actions},o.prototype.selection=function(){return this.doc.getSelection()},o.prototype.exec=function(n,t){this.doc.execCommand(n,!1,t)},o.prototype.actionbarEl=function(){return this.actionbar},o.prototype.insertHTML=function(n,t){var e=t===void 0?{}:t,i=e.select,r=this,a=r.em,s=r.doc,l=r.el,c=s.getSelection();if(c&&c.rangeCount){var u=(0,oe.getComponentModel)(l)||a.getSelected(),p=s.createElement("div"),g=c.getRangeAt(0);g.deleteContents(),(0,et.isString)(n)?p.innerHTML=n:n&&p.appendChild(n),Array.prototype.slice.call(p.childNodes).forEach(function(h){g.insertNode(h)}),c.removeAllRanges(),c.addRange(g),l.focus(),i&&u&&(u.once("rte:disable",function(){var h=u.find("[".concat(Gg,"]"))[0];h&&(a.setSelected(h),h.removeAttributes(Gg))}),u.trigger("disable"))}},o}(),Jz=Qz,Zz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wg=function(){return Wg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Wg.apply(this,arguments)},n0=function(o,n,t,e){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?r(u.value):i(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},i0=function(o,n){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},e,i,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],i=0}finally{e=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},tV=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},r0="".concat(Mu.refresh," frame:scroll ").concat(kn.I.update),eV="rte:enable",nV="rte:disable",iV="rte:custom",rV={enable:eV,disable:nV,custom:iV},oV=function(o){Zz(n,o);function n(t){var e=o.call(this,t,"RichTextEditor",Xz())||this;e.events=rV;var i=e.config,r=i.pStylePrefix;r&&(i.stylePrefix=r+i.stylePrefix),e.pfx=i.stylePrefix,e.actions=i.actions||[];var a=new ye.Kx;return e.model=a,a.on("change:currentView",e.__trgCustom,e),e.__dbdTrgCustom=(0,et.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.onLoad=function(){if((0,oe.hasWin)()){var t=this.config,e=t.pStylePrefix,i=t.custom,r=(0,Me.a_)("div",{class:(0,Me.cx)("".concat(e,"rte-toolbar"),!i&&"".concat(e,"one-bg ").concat(e,"rte-toolbar-ui"))});this.toolbar=r,this.initRte((0,Me.a_)("div")),(0,Me.on)(r,"mousedown",function(a){return a.stopPropagation()})}},n.prototype.__trgCustom=function(){var t=this,e=t.model,i=t.em,r=t.events;i.trigger(r.custom,{enabled:!!e.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},n.prototype.destroy=function(){var t,e,i;(t=this.globalRte)===null||t===void 0||t.destroy(),(i=(e=this.customRte)===null||e===void 0?void 0:e.destroy)===null||i===void 0||i.call(e),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,Me.YZ)(this.toolbar)},n.prototype.postRender=function(t){var e=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),e.getToolsEl().appendChild(this.toolbar)},n.prototype.initRte=function(t){var e=this.globalRte,i=this,r=i.em,a=i.pfx,s=i.actionbar,l=i.config,c=this.actions||tV([],l.actions,!0),u={actionbar:"".concat(a,"actionbar"),button:"".concat(a,"action"),active:"".concat(a,"active"),inactive:"".concat(a,"inactive"),disabled:"".concat(a,"disabled")};return e?(e.em=r,e.setEl(t)):(e=new Jz(r,t,{classes:u,actions:c,actionbar:s,actionbarContainer:this.toolbar,module:this}),this.globalRte=e),e.actionbar&&(this.actionbar=e.actionbar),e.actions&&(this.actions=e.actions),e},n.prototype.add=function(t,e){var i;e===void 0&&(e={}),e.name=t,(i=this.globalRte)===null||i===void 0||i.addAction(e,{sync:!0})},n.prototype.get=function(t){var e,i;return(e=this.globalRte)===null||e===void 0||e.getActions().forEach(function(r){r.name==t&&(i=r)}),i},n.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},n.prototype.remove=function(t){var e,i=this.getAll(),r=this.get(t);if(r){var a=r.btn,s=i.indexOf(r);(e=a?.parentNode)===null||e===void 0||e.removeChild(a),i.splice(s,1)}return r},n.prototype.run=function(t){var e=this.globalRte,i=(0,et.isString)(t)?this.get(t):t;e&&i&&(i.result(e,i),e.updateActiveActions())},n.prototype.getToolbarEl=function(){return this.toolbar},n.prototype.updatePosition=function(){var t=this,e=t.em,i=t.toolbar,r="px",a=e.Canvas,s=i.style,l=a.getTargetToElementFixed(this.lastEl,i,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(c){var u=l[c];(0,oe.isDef)(u)&&(s[c]=(0,et.isString)(u)?u:(u||0)+r)})},n.prototype.enable=function(t,e,i){return n0(this,void 0,void 0,function(){var r,a,s,l,c;return i0(this,function(u){switch(u.label){case 0:return this.lastEl=t.el,r=this,a=r.customRte,s=r.em,l=t.getChildrenContainer(),this.toolbar.style.display="",[4,a?a.enable(l,e,i):this.initRte(l).enable(i)];case 1:return c=u.sent(),s&&(setTimeout(this.updatePosition.bind(this),0),s.off(r0,this.updatePosition,this),s.on(r0,this.updatePosition,this),s.trigger("rte:enable",t,c)),this.model.set({currentView:t}),[2,c]}})})},n.prototype.getContent=function(t,e){return n0(this,void 0,void 0,function(){var i,r;return i0(this,function(a){switch(a.label){case 0:return i=this.customRte,r=t.getChildrenContainer(),i&&e&&(0,et.isFunction)(i.getContent)?[4,i.getContent(r,e,{view:t})]:[3,2];case 1:return[2,a.sent()];case 2:return[2,r.innerHTML]}})})},n.prototype.hideToolbar=function(){var t=this.toolbar.style,e="-1000px";t.top=e,t.left=e,t.display="none"},n.prototype.disable=function(t,e){return n0(this,arguments,void 0,function(i,r,a){var s,l,c,u;return a===void 0&&(a={}),i0(this,function(p){switch(p.label){case 0:return s={},l=this.em,c=this.customRte,c?[4,c.disable(i.getChildrenContainer(),r,Wg(Wg({},a),{view:i}))]:[3,2];case 1:return u=p.sent(),u&&(s=u),[3,3];case 2:r&&r.disable(),p.label=3;case 3:return this.hideToolbar(),l&&(l.off(r0,this.updatePosition,this),!a.fromMove&&l.trigger("rte:disable",i,r)),this.model.unset("currentView"),[2,s]}})})},n}(Hr),aV=oV,sV=function(){return{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]}},lV=sV,cV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_r=function(){return _r=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},_r.apply(this,arguments)},dV=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(o);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(o,e[i])&&(t[e[i]]=o[e[i]]);return t},rO=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},iv=function(o){cV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.getDefaults=function(){return(0,et.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.em=e.em;var i=this.getId()||"",r=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(r||i).replace(/ /g,"-"));var a=this.get("property");!this.get("id")&&this.set("id",a),!r&&this.set("name",(0,oe.capitalize)(a).replace(/-/g," ")),this.on("change",this.__upTargets),n.callInit(this,t,e)},n.prototype.__getParentProp=function(){var t,e;return(e=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||e===void 0?void 0:e.parentProp},n.prototype.__upTargets=function(t,e){var i,r=this;e===void 0&&(e={});var a=this.em,s=a.Styles,l=this.getName(),c=e.__clear,u=c?"":this.__getFullValue(e),p=this.__getParentProp(),g=this.changedAttributes(),h=(0,et.keys)(g).reduce(function(T,b){return T[b]=r.previous(b),T},{}),y=rO(rO([],(0,et.keys)(this.__getClearProps()),!0),["__p"],!1),_=(0,et.keys)(g),O=!e.__up&&!p&&(c||y.some(function(T){return _.indexOf(T)>=0})),M=this.get("onChange"),w={property:this,from:h,to:g,value:u,opts:e};s.__trgEv(s.events.propertyUpdate,w),M&&M(w),O&&this.__upTargetsStyle((i={},i[l]=u,i),e)},n.prototype.__upTargetsStyle=function(t,e){var i,r=(i=this.em)===null||i===void 0?void 0:i.get("StyleManager");r?.addStyleTargets(_r(_r({},t),{__p:!!e.avoidStore}),e)},n.prototype._up=function(t,e){e===void 0&&(e={}),e.noTarget&&(e.__up=!0);var i=e.partial,r=dV(e,["partial"]);return t.__p=!!(r.avoidStore||i),this.set(t,_r(_r({},r),{avoidStore:t.__p}))},n.prototype.up=function(t,e){e===void 0&&(e={}),this.set(t,_r(_r({},e),{__up:!0}))},n.prototype.init=function(){},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("property")},n.prototype.getLabel=function(t){var e;t===void 0&&(t={});var i=t.locale,r=i===void 0?!0:i,a=this.getId(),s=this.get("name")||this.get("label");return r&&((e=this.em)===null||e===void 0?void 0:e.t("styleManager.properties.".concat(a)))||s},n.prototype.getValue=function(t){t===void 0&&(t={});var e=t.noDefault,i=this.get("value");return!this.hasValue()&&!e?this.getDefaultValue():i},n.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,i=e&&this.getParentTarget(),r=this.get("value");return!(0,et.isUndefined)(r)&&r!==""&&!i},n.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},n.prototype.getStyle=function(t){var e;t===void 0&&(t={});var i=this.getName(),r=t.camelCase?(0,oe.camelCase)(i):i;return e={},e[r]=this.__getFullValue(t),e},n.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,et.isUndefined)(t)?this.get("defaults"):t)},n.prototype.upValue=function(t,e){e===void 0&&(e={});var i=t===null||t===""?this.__getClearProps():this.__parseValue(t,e);return this._up(i,e)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),_r(_r({},t),{__clear:!0})),this},n.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},n.prototype.getParent=function(){return this.__getParentProp()},n.prototype.isFull=function(){return!!this.get("full")},n.prototype.__parseValue=function(t,e){return this.parseValue(t,e)},n.prototype.__getClearProps=function(){return{value:"",important:!1}},n.prototype.setValue=function(t,e,i){e===void 0&&(e=!0),i===void 0&&(i={});var r=this.parseValue(t),a=!e;!a&&this.set({value:void 0},{avoidStore:a,silent:!0}),this.set(r,_r({avoidStore:a},i))},n.prototype.setValueFromInput=function(t,e,i){i===void 0&&(i={}),this.setValue(t,e,_r(_r({},i),{fromInput:1}))},n.prototype.parseValue=function(t,e){e===void 0&&(e={});var i={value:t},r="!important",a=this.get("functionName")||"";if((0,et.isString)(t)&&t.indexOf(r)!==-1&&(i.value=t.replace(r,"").trim(),i.important=!0),!a&&!e.complete)return i;var s=[],l="".concat(i.value).trim(),c=l.indexOf("(")+1,u=a||l.substring(0,c-1);if(u&&(i.functionName=u),!a||l.indexOf("".concat(a,"("))===0){var p=l.lastIndexOf(")");s.push(c),p>=0&&s.push(p),i.value=String.prototype.substring.apply(l,s)}if(e.numeric){var g=parseFloat(i.value);i.unit=i.value.replace(g,""),i.value=g}return i},n.prototype.__getFullValue=function(t){var e=t===void 0?{}:t,i=e.withDefault;return!this.hasValue()&&i?this.getDefaultValue():this.getFullValue()},n.prototype.getFullValue=function(t,e){e===void 0&&(e={});var i=this.get("functionName"),r=this.getDefaultValue(),a=(0,et.isUndefined)(t)?this.get("value"):t,s=this.hasValue();if(a&&r&&a===r)return r;if(i&&s){var l=i==="url"?"'".concat(a.replace(/'|"/g,""),"'"):a;a="".concat(i,"(").concat(l,")")}return s&&this.get("important")&&!e.skipImportant&&(a="".concat(a," !important")),a||""},n.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},n.prototype.getParentTarget=function(){return this.get("parentTarget")||null},n.prototype.__parseFn=function(t){t===void 0&&(t="");var e=t.indexOf("(")+1,i=t.lastIndexOf(")");return{name:t.substring(0,e-1).trim(),value:String.prototype.substring.apply(t,[e,i>=0?i:void 0]).trim()}},n.prototype.__checkVisibility=function(t){var e=t.target,i=t.component,r=t.sector,a=t.sectors,s=i||e;if(!s)return!1;var l=this.getId(),c=this.getName(),u=this.attributes,p=u.requires,g=u.requiresParent,h=u.toRequire,y=u.isVisible,_=s.get("unstylable"),O=s.get("stylable-require"),M=s.get("stylable");if((0,et.isFunction)(y))return!!y({property:this,sector:r,target:e,component:i});if((0,et.isArray)(M)&&(M=M.indexOf(c)>=0),(0,et.isArray)(_)&&(M=_.indexOf(c)<0),h&&(M=!e||O&&(O.indexOf(l)>=0||O.indexOf(c)>=0)),a&&p){var w=(0,et.keys)(p);a.forEach(function(E){E.getProperties().forEach(function(N){if((0,et.includes)(w,N.id)){var F=p[N.id];M=M&&(0,et.includes)(F,N.get("value"))}})})}if(g){var T=i&&i.parent(),b=T&&T.getEl();if(b){var k=(0,oe.hasWin)()?window.getComputedStyle(b):{};(0,et.each)(g,function(E,N){M=M&&k[N]&&(0,et.includes)(E,k[N])})}else M=!1}return!!M},n}(ye.Kx),ti=iv;iv.callParentInit=function(o,n,t,e){e===void 0&&(e={}),o.prototype.initialize.apply(n,[t,_r(_r({},e),{skipInit:1})])};iv.callInit=function(o,n,t){t===void 0&&(t={}),!t.skipInit&&o.init(n,t)};var uV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$c=function(){return $c=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},$c.apply(this,arguments)},oO=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},$2=function(o){return o==="integer"||o==="number"},pV=function(o){uV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return $c($c({},ti.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),ti.callParentInit(ti,this,t,e);var i=this.em,r=new ov(this.get("properties")||[],{em:i,parentProp:this});this.set("properties",r,{silent:!0}),this.listenTo(r,"change",this.__upProperties),ti.callInit(this,t,e)},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),n.prototype.getProperties=function(){return oO([],this.get("properties").models,!0)},n.prototype.getProperty=function(t){return this.properties.filter(function(e){return e.getId()===t||e.getName()===t})[0]},n.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},n.prototype.isDetached=function(){return!!this.get("detached")},n.prototype.getValues=function(t){var e=t===void 0?{}:t,i=e.byName;return this.getProperties().reduce(function(r,a){var s=i?a.getName():a.getId();return r[s]="".concat(a.__getFullValue()),r},{})},n.prototype.getSeparator=function(){return this.getSplitSeparator()},n.prototype.getJoin=function(){return this.__getJoin()},n.prototype.getStyleFromProps=function(t){var e;t===void 0&&(t={});var i=this.getName(),r=this.__getJoin(),a=this.get("toStyle"),s=this.getValues(),l={};if(a)l=a(s,{join:r,name:i,property:this});else if(s=this.getValues({byName:!0}),this.isDetached())l=s;else{var c=this.getProperties().map(function(u){return u.__getFullValue({withDefault:1})}).filter(Boolean).join(r);l=(e={},e[i]=c,e)}return this.isDetached()?l[i]="":(l[i]=l[i]||"",l=$c($c({},l),this.getProperties().reduce(function(u,p){return u[p.getName()]="",u},{}))),t.camelCase?Object.keys(l).reduce(function(u,p){return u[(0,oe.camelCase)(p)]=l[p],u},{}):l},n.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},n.prototype.__upProperties=function(t,e){if(e===void 0&&(e={}),!(e.__up||e.__clearIn)){var i=this.__getParentProp();if(i)return i.__upProperties(this,e);this.__upTargetsStyleProps(e,t)}},n.prototype.__upTargetsStyleProps=function(t,e){var i;t===void 0&&(t={});var r=this.getStyleFromProps();if(this.isDetached()&&e){var a=e.getName();r=(i={},i[a]=r[a],i)}this.__upTargetsStyle(r,t)},n.prototype._up=function(t,e){return e===void 0&&(e={}),this.__setProperties(this.__getSplitValue(t.value),e),ti.prototype._up.call(this,t,e),this},n.prototype.getStyle=function(t){return this.getStyleFromProps(t)},n.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var e=this.getStyleFromProps()[this.getName()]||"";return g0(e)},n.prototype.__getJoin=function(){var t=this.get("join");return(0,et.isString)(t)?t:this.get("separator")},n.prototype.__styleHasProps=function(t){t===void 0&&(t={});var e=this.getName(),i=this.getProperties(),r=i.map(function(s){return s.getName()}),a=oO([e],r,!0);return a.some(function(s){return!(0,et.isUndefined)(t[s])&&t[s]!==""})},n.prototype.__splitValue=function(t,e){return g0(t).split(e).map(function(i){return i.trim()}).filter(Boolean)},n.prototype.__splitStyleName=function(t,e,i){var r=t[e];return this.__splitValue(r||"",i)},n.prototype.__getSplitValue=function(t,e){t===void 0&&(t="");var i=e===void 0?{}:e,r=i.byName,a=this.getProperties(),s=a.length===4&&a.every(function(u){return $2(u.getType())}),l=this.__splitValue(t,this.getSplitSeparator()),c={};return a.forEach(function(u,p){var g=l[p],h=(0,et.isUndefined)(g)?"":g;if(s){var y=l.length;h=l[p]||l[p%y+(y!=1&&y%2?1:0)]||h}var _=r?u.getName():u.getId();c[_]=h||""}),c},n.prototype.__getPropsFromStyle=function(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!this.__styleHasProps(t))return null;var i=e.byName,r=this.getName(),a=this.getProperties(),s=this.getSplitSeparator(),l=this.get("fromStyle"),c=l?l(t,{property:this,name:r,separator:s}):{};if(!l){var u=t[r];c=this.__getSplitValue(u||"",{byName:i}),a.forEach(function(p){var g=t[p.getName()],h=i?p.getName():p.getId();!(0,et.isUndefined)(g)&&g!==""&&(c[h]=g)})}return c},n.prototype.__setProperties=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.getProperties().forEach(function(r){var a=t[r.getId()];r.__getFullValue()!==a&&r.upValue(a,e)});var i=(0,et.keys)(t).map(function(r){return t[r]}).join(" ");this.set("value",i,{silent:!0})},n.prototype.clear=function(){var t=this;return this.getProperties().map(function(e){return e.clear({__clearIn:!t.isDetached()})}),ti.prototype.clear.call(this),this},n.prototype.hasValue=function(t){return this.getProperties().some(function(e){return e.hasValue(t)})},n.prototype.getFullValue=function(){return this.__getFullValue()},n.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},n}(ti),Lc=pV,fV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lr=function(){return Lr=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Lr.apply(this,arguments)},gV=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(o);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(o,e[i])&&(t[e[i]]=o[e[i]]);return t},hV=/,(?![^\(]*\))/,mV=/\s(?![^(]*\))/,vV=function(o){fV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Lr(Lr({},Lc.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Lc.callParentInit(Lc,this,t,e);var i=this.get("layers"),r=new tg(i,{prop:this});r.property=this,r.properties=this.get("properties"),this.set("layers",r,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(r,"add remove",this.__upLayers),Lc.callInit(this,t,e)},Object.defineProperty(n.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),n.prototype.getLayers=function(){return this.layers.models},n.prototype.hasLayers=function(){return this.getLayers().length>0},n.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers.at(t)||void 0},n.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},n.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},n.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e&&this.selectLayer(e)},n.prototype.moveLayer=function(t,e){e===void 0&&(e=0);var i=this.layers,r=t?t.getIndex():-1;r>=0&&(0,et.isNumber)(e)&&e>=0&&e<i.length&&r!==e&&(this.removeLayer(t),i.add(t,{at:e}))},n.prototype.addLayer=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var i={};this.getProperties().forEach(function(a){var s=a.getId(),l=t[s];i[s]=(0,et.isUndefined)(l)?a.getDefaultValue():l});var r=this.layers.push({values:i},e);return r},n.prototype.removeLayer=function(t){return this.layers.remove(t)},n.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e?this.removeLayer(e):null},n.prototype.getLayerLabel=function(t){var e="";if(t){var i=this.get("layerLabel"),r=t.getValues(),a=t.getIndex();if(i)e=i(t,{index:a,values:r,property:this});else{var s=[];this.getProperties().map(function(l){s.push(r[l.getId()])}),e=s.filter(Boolean).join(" ")}}return e},n.prototype.getStyleFromLayer=function(t,e){var i;e===void 0&&(e={});var r=this.__getJoin(),a=this.__getJoinLayers(),s=this.get("toStyle"),l=this.getName(),c=t.getValues(),u;if(s)u=s(c,{join:r,joinLayers:a,name:l,layer:t,property:this});else{var p=this.getProperties().map(function(g){var h=g.getName(),y=c[g.getId()],_=(0,et.isUndefined)(y)?g.getDefaultValue():y;if(e.number&&$2(g.getType())){var O=g.parseValue(y,e.number);_="".concat(O.value).concat(O.unit)}return{name:h,value:_}});u=this.isDetached()?p.reduce(function(g,h){return g[h.name]=h.value,g},{}):(i={},i[this.getName()]=p.map(function(g){return g.value}).join(r),i)}return e.camelCase?Object.keys(u).reduce(function(g,h){return g[(0,oe.camelCase)(h)]=u[h],g},{}):u},n.prototype.getStylePreview=function(t,e){e===void 0&&(e={});var i={},r=this.get("preview");return r&&(i=this.getStyleFromLayer(t,e)),i},n.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,et.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},n.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},n.prototype.__upProperties=function(t,e){var i;e===void 0&&(e={});var r=this.getSelectedLayer();r&&(r.upValues((i={},i[t.getId()]=t.__getFullValue(),i)),!e.__up&&this.__upTargetsStyleProps(e))},n.prototype.__upLayers=function(t,e,i){this.__upTargetsStyleProps(i||e)},n.prototype.__upTargets=function(t,e){if(e===void 0&&(e={}),!e.__select)return ti.prototype.__upTargets.call(this,t,e)},n.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},n.prototype.__upTargetsStyle=function(t,e){return ti.prototype.__upTargetsStyle.call(this,t,e)},n.prototype.__upSelected=function(t,e){var i=t===void 0?{}:t,r=i.noEvent;e===void 0&&(e={});var a=this.em.Styles,s=this.getSelectedLayer(),l=s?.getValues();l&&this.getProperties().forEach(function(c){var u,p=(u=l[c.getId()])!==null&&u!==void 0?u:"";c.__getFullValue()!==p&&c.upValue(p,Lr(Lr({},e),{__up:!0}))}),!r&&a.__trgEv(a.events.layerSelect,{property:this})},n.prototype._up=function(t,e){e===void 0&&(e={});var i=t.__layers,r=i===void 0?[]:i,a=gV(t,["__layers"]);return!this.isDetached()&&this.__setLayers(r),this.__upSelected({noEvent:!0},e),ti.prototype._up.call(this,a,e),this},n.prototype.__setLayers=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var i=this.layers,r=t.map(function(a){return{values:a}});i.length===r.length?r.map(function(a,s){var l;return(l=i.at(s))===null||l===void 0?void 0:l.upValues(a.values)}):i.reset(r),this.set({isEmptyValue:!!e.isEmptyValue}),this.__upSelected({noEvent:!0})},n.prototype.__parseValue=function(t){var e=this,i=this.parseValue(t);return i.__layers=t.split(hV).map(function(r){return r.trim()}).map(function(r){return e.__parseLayer(r)}).filter(Boolean),i},n.prototype.__parseLayer=function(t){var e=this.get("parseLayer"),i=t.split(mV),r=this.getProperties();return e?e({value:t,values:i}):r.reduce(function(a,s,l){var c=i[l];return a[s.getId()]=(0,et.isUndefined)(c)?s.getDefaultValue():c,a},{})},n.prototype.__getLayersFromStyle=function(t){var e=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var i=this.getName(),r=this.getProperties(),a=this.getLayerSeparator(),s=this.attributes.fromStyle,l=s?s(t,{property:this,name:i,separatorLayers:a}):[];if(!s){var c=this.__splitStyleName(t,i,a).map(function(u){return u.split(e.getSplitSeparator())}).map(function(u){var p={};return r.forEach(function(g,h){var y=u[h];p[g.getId()]=(0,et.isUndefined)(y)?g.getDefaultValue():y}),p});r.forEach(function(u){var p=u.getId();e.__splitStyleName(t,u.getName(),a).map(function(g){var h;return h={},h[p]=g||u.getDefaultValue(),h}).forEach(function(g,h){c[h]=c[h]?Lr(Lr({},c[h]),g):g})}),l=c}return(0,et.isArray)(l)?l:[l]},n.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},n.prototype.getStyleFromLayers=function(t){var e=this;t===void 0&&(t={});var i={},r=this.getName(),a=this.getLayers(),s=this.getProperties(),l=a.map(function(u){return e.getStyleFromLayer(u,t)});if(l.forEach(function(u){(0,et.keys)(u).map(function(p){i[p]||(i[p]=[]),i[p].push(u[p])})}),(0,et.keys)(i).map(function(u){i[u]=i[u].join(e.__getJoinLayers())}),this.isDetached())i[r]="",!a.length&&s.map(function(u){i[u.getName()]=""});else{var c=s.reduce(function(u,p){return u[p.getName()]="",u},{});i[r]=i[r]||"",i=Lr(Lr({},i),c)}return Lr(Lr({},i),t.__clear?{}:this.getEmptyValueStyle())},n.prototype.isEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.getEmptyValueStyle({force:!0}),i=(0,et.keys)(e);return!!i.length&&i.every(function(r){return e[r]===t[r]})},n.prototype.getEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.attributes.emptyValue;if(e&&(!this.hasLayers()||t.force)){var i=this.getName(),r=this.getProperties(),a=(0,et.isString)(e)?e:e({property:this});if((0,et.isString)(a)){var s={};return this.isDetached()?r.map(function(l){s[l.getName()]=a}):s[i]=a,s}else return a}else return{}},n.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),e=this.get("layerSeparator");return t||((0,et.isString)(e)?e:t)},n.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return g0(t[this.getName()])},n.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,i=e&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!i},n.prototype.clear=function(t){return t===void 0&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(Lr(Lr({},t),{__clear:!0})),ti.prototype.clear.call(this),this},n.prototype.__canClearProp=function(){return!1},n.prototype.__getLayers=function(){return this.layers},n}(Lc),_V=vV,yV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kg=function(){return Kg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Kg.apply(this,arguments)},bV=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(o);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(o,e[i])&&(t[e[i]]=o[e[i]]);return t},CV=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},o0="data-clear-style",xV=function(o){yV(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;(0,et.bindAll)(e,"__change","__updateStyle");var i=t.config||{},r=i.em;e.config=i,e.em=r,e.pfx=i.stylePrefix||"",e.ppfx=i.pStylePrefix||"",e.__destroyFn=e.destroy?e.destroy.bind(e):function(){};var a=e.model;a.view=e,e.onValueChange=(0,et.debounce)(e.onValueChange.bind(e),10),e.updateStatus=(0,et.debounce)(e.updateStatus.bind(e),0),e.listenTo(a,"destroy remove",e.remove),e.listenTo(a,"change:visible",e.updateVisibility),e.listenTo(a,"change:name change:className change:full",e.render),e.listenTo(a,"change:value",e.onValueChange),e.listenTo(a,"change:parentTarget",e.updateStatus),e.listenTo(r,"change:device",e.onValueChange);var s=e.init&&e.init.bind(e);return s&&s(),e}return n.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat(o0,"]")]="clear",t},n.prototype.template=function(t){var e=this,i=e.pfx,r=e.ppfx;return`
      <div class="`.concat(i,`label" data-sm-label></div>
      <div class="`).concat(r,`fields" data-sm-fields></div>
    `)},n.prototype.templateLabel=function(t){var e=this,i=e.pfx,r=e.em,a=t.parent,s=t.attributes,l=s.icon,c=l===void 0?"":l,u=s.info,p=u===void 0?"":u,g=r?.getConfig().icons,h=g?.close||"";return`
      <span class="`.concat(i,"icon ").concat(c,'" title="').concat(p,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(a?"":'<div class="'.concat(i,'clear" style="display: none" ').concat(o0,">").concat(h,"</div>"),`
    `)},n.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},n.prototype.remove=function(){var t=this;return ye.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(e){return t[e]=null}),this.__destroyFn(this._getClbOpts()),this},n.prototype.updateStatus=function(){var t,e=this,i=e.model,r=e.pfx,a=e.ppfx,s=e.config,l="".concat(a,"four-color"),c="".concat(a,"color-warn"),u=this.$el.children(".".concat(r,"label")),p=this.getClearEl(),g=p?p.style:{};u.removeClass("".concat(l," ").concat(c)),g.display="none",i.hasValue({noParent:!0})&&s.highlightChanged?(u.addClass(l),s.clearProperties&&(g.display="")):i.hasValue()&&s.highlightComputed&&u.addClass(c),(t=this.parent)===null||t===void 0||t.updateStatus()},n.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},n.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(o0,"]"))),this.clearEl},n.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},n.prototype.onValueChange=function(t,e,i){i===void 0&&(i={}),this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},n.prototype.setValue=function(t){var e=this.model,i=(0,et.isUndefined)(t)||t===""?e.getDefaultValue():t;if(this.update)return this.__update(i);this.__setValueInput(i)},n.prototype.__setValueInput=function(t){var e=this.getInputEl();e&&(e.value=t)},n.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},n.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},n.prototype.__update=function(t){var e=this.update&&this.update.bind(this);e&&e(Kg(Kg({},this._getClbOpts()),{value:t}))},n.prototype.__change=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.emit&&this.emit.bind(this);i&&i.apply(void 0,CV([this._getClbOpts()],t,!1))},n.prototype.__updateStyle=function(t,e){e===void 0&&(e={});var i=e.complete,r=e.partial,a=bV(e,["complete","partial"]),s=this.model,l=i!==!1&&r!==!0;(0,oe.isObject)(t)?s.__upTargetsStyle(t,{avoidStore:!l}):s.upValue(t,{partial:!l})},n.prototype._getClbOpts=function(){var t=this,e=t.model,i=t.el,r=t.createdEl;return{el:i,createdEl:r,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}},n.prototype.render=function(){this.clearCached();var t=this,e=t.pfx,i=t.model,r=t.el,a=t.$el,s=i.getName(),l=i.getType(),c=i.get("className")||"",u="".concat(e,"property"),p=l==="number"?"".concat(e).concat(l," ").concat(e,"integer"):"".concat(e).concat(l);this.createdEl&&this.__destroyFn(this._getClbOpts()),a.empty().append(this.template(i)),a.find("[data-sm-label]").append(this.templateLabel(i));var g=this.create&&this.create.bind(this);this.createdEl=g&&g(this._getClbOpts()),a.find("[data-sm-fields]").append(this.createdEl||this.templateInput(i)),r.className="".concat(u," ").concat(p," ").concat(u,"__").concat(s," ").concat(c).trim(),r.className+=i.isFull()?" ".concat(u,"--full"):"";var h=this.onRender&&this.onRender.bind(this);return h&&h(),this.setValue(i.getValue()),this},n.prototype.onRender=function(){},n}(ye.Ss),Fa=xV,OV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PV=function(o){OV(n,o);function n(t){var e=o.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.properties=[],e.parent=t.parent;var i=e.collection;return e.listenTo(i,"add",e.addTo),e.listenTo(i,"reset",e.render),e}return n.prototype.addTo=function(t,e,i){this.add(t,null,i)},n.prototype.add=function(t,e,i){i===void 0&&(i={});var r=this,a=r.parent,s=r.config,l=e||this.el,c=new t.typeView({model:t,config:s});a&&(c.parent=a),c.render();var u=c.el;this.properties.push(c),(0,Me.Sc)(l,u,i.at)},n.prototype.remove=function(){return ye.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},n.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},n.prototype.render=function(){var t=this,e=this,i=e.$el,r=e.pfx;this.clearItems();var a=document.createDocumentFragment();return this.collection.forEach(function(s){return t.add(s,a)}),i.empty(),i.append(a),i.attr("class","".concat(r,"properties")),this},n}(ye.Ss),rv=PV,MV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qg=function(){return qg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},qg.apply(this,arguments)},wV=function(o){MV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},n.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),Fa.prototype.remove.apply(this,arguments),this},n.prototype.onValueChange=function(){},n.prototype.onRender=function(){var t=this.pfx,e=this.model,i=e.get("properties");if(i.length&&!this.props){var r=e.isDetached(),a=new rv({config:qg(qg({},this.config),{highlightComputed:r,highlightChanged:r}),collection:i,parent:this});a.render(),this.$el.find("#".concat(t,"input-holder")).append(a.el),this.props=a}},n.prototype.clearCached=function(){Fa.prototype.clearCached.apply(this,arguments),delete this.props},n}(Fa),Pu=wV,SV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),TV=function(o){SV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},n.prototype.template=function(){var t=this,e=t.pfx,i=t.ppfx,r=t.em,a=r?.getConfig().icons,s=a?.close||"",l=a?.move||"";return`
      <div class="`.concat(e,`label-wrp">
        <div id="`).concat(e,'move" class="').concat(i,`no-touch-actions" data-move-layer>
          `).concat(l,`
        </div>
        <div id="`).concat(e,`label" data-label></div>
        <div id="`).concat(e,'preview-box" class="').concat(e,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(e,'preview" class="').concat(e,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(e,'close-layer" class="').concat(e,`btn-close" data-close-layer>
          `).concat(s,`
        </div>
      </div>
      <div id="`).concat(e,`inputs" data-properties></div>
    `)},n.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,i=t.config||{};this.em=i.em,this.config=i,this.sorter=t.sorter,this.pfx=i.stylePrefix||"",this.ppfx=i.pStylePrefix||"",this.propertyView=t.propertyView;var r=this.propertyView.model;this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:values",this.updateLabel),this.listenTo(r,"change:selectedLayer",this.updateVisibility),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},n.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort([{element:this.el}])},n.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},n.prototype.select=function(){this.model.select()},n.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},n.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},n.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},n.prototype.updateLabel=function(){var t=this.model,e=t.getLabel();if(this.getLabelEl().innerHTML=e,t.hasPreview()){var i=this.getPreviewEl(),r=t.getStylePreview({number:{min:-3,max:3}}),a=(0,et.keys)(r).map(function(s){return"".concat(s,":").concat(r[s])}).join(";");i.setAttribute("style",a)}},n.prototype.updateVisibility=function(){var t,e=this,i=e.pfx,r=e.model,a=e.propertyView,s=this.getPropertiesWrapper(),l=r.isSelected();s.style.display=l?"":"none",this.$el[l?"addClass":"removeClass"]("".concat(i,"active")),l&&s.appendChild((t=a.props)===null||t===void 0?void 0:t.el)},n.prototype.render=function(){var t=this,e=t.el,i=t.pfx,r=t.model;return e.innerHTML=this.template(),e.className="".concat(i,"layer"),r.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},n}(ye.Ss),EV=TV,kV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),AV=function(o){kV(n,o);function n(t){var e=o.call(this,t)||this,i=e.collection,r=t.config||{},a=r.em,s=r.stylePrefix||"",l=r.pStylePrefix||"";e.config=r,e.pfx=s,e.ppfx=l,e.propertyView=t.propertyView,e.className="".concat(s,"layers ").concat(l,"field"),e.listenTo(i,"add",e.addTo),e.listenTo(i,"reset",e.reset),e.items=[];var c=e.createPlaceholder(r.pStylePrefix);e.$el.append(c);var u=a?.Utils;return e.sorter=u?new u.StyleManagerSorter({em:a,containerContext:{container:e.el,containerSel:".".concat(s,"layers"),itemSel:".".concat(s,"layer"),pfx:r.pStylePrefix,document,placeholderElement:c},dragBehavior:{dragDirection:Nl.A.Vertical,nested:!1}}):void 0,i.view=e,e.$el.data("model",i),e.$el.data("collection",i),e}return n.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},n.prototype.addToCollection=function(t,e,i){var r=e||null,a=this,s=a.propertyView,l=a.config,c=a.sorter,u=a.$el,p=new EV({model:t,config:l,sorter:c,propertyView:s}),g=p.render().el;if(this.items.push(p),r)r.appendChild(g);else if(typeof i<"u"){var h="before";u.children().length===i&&(i--,h="after"),i<0?u.append(g):u.children().eq(i)[h](g)}else u.append(g);return g},n.prototype.reset=function(t,e){this.clearItems(),this.render()},n.prototype.remove=function(){return this.clearItems(),ye.Ss.prototype.remove.apply(this,arguments),this},n.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},n.prototype.render=function(){var t=this,e=this.$el,i=document.createDocumentFragment();return e.empty(),this.collection.forEach(function(r){return t.addToCollection(r,i)}),e.append(i),e.attr("class",this.className),this},n.prototype.createPlaceholder=function(t){var e=document.createElement("div"),i=document.createElement("div");return this.el.parentNode,e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",i.className=t+"placeholder-int",e.appendChild(i),e},n}(ye.Ss),IV=AV,DV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yc=function(){return Yc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Yc.apply(this,arguments)},LV=function(o){DV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return Yc(Yc({},Pu.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},n.prototype.templateInput=function(){var t=this,e=t.pfx,i=t.em,r=i?.getConfig().icons,a=r?.plus||"+";return`
      <div class="`.concat(e,"field ").concat(e,`stack">
        <button type="button" id="`).concat(e,`add" data-add-layer>
          `).concat(a,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},n.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},n.prototype.addLayer=function(){this.model.addLayer({},{at:0})},n.prototype.setValue=function(){},n.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),Pu.prototype.remove.apply(this,arguments),this},n.prototype.clearCached=function(){Pu.prototype.clearCached.apply(this,arguments),delete this.layersView},n.prototype.onRender=function(){var t=this,e=t.model,i=t.el,r=t.config,a=e.get("properties");if(a.length&&!this.props){var s=new rv({config:Yc(Yc({},r),{highlightComputed:!1,highlightChanged:!1}),collection:a,parent:this});s.render();var l=new IV({collection:e.layers,config:r,propertyView:this});l.render();var c=i.querySelector("[data-layers-wrapper]");c.appendChild(l.el),this.props=s,this.layersView=l}},n}(Pu),NV=LV,RV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$g=function(){return $g=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},$g.apply(this,arguments)},FV=function(o){RV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return $g($g({},Fa.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},n.prototype.templateInput=function(){var t,e=this,i=e.pfx,r=e.em,a=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,s=a?.close;return`
      <div class="`.concat(i,"field ").concat(i,`file">
        <div id='`).concat(i,`input-holder'>
          <div class="`).concat(i,`btn-c">
            <button class="`).concat(i,'btn" id="').concat(i,`images" type="button" data-open-assets>
              `).concat(r.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(i,'preview-box" class="').concat(i,`preview-file" data-preview-box>
          <div id="`).concat(i,'preview-file" class="').concat(i,`preview-file-cnt" data-preview></div>
          <div id="`).concat(i,'close" class="').concat(i,'preview-file-close" data-clear-asset>').concat(s,`</div>
        </div>
      </div>
    `)},n.prototype.__setValueInput=function(t){var e=this,i=e.model,r=e.el,a=i.getDefaultValue(),s=r.querySelector("[data-preview-box]"),l=r.querySelector("[data-preview]");s.style.display=!t||t===a?"none":"",l.style.backgroundImage=t||i.getDefaultValue()},n.prototype.openAssetManager=function(){var t=this,e,i=(e=this.em)===null||e===void 0?void 0:e.Assets;i?.open({select:function(r,a){var s=(0,et.isString)(r)?r:r.get("src");t.model.upValue(s,{partial:!a}),a&&i.close()},types:["image"],accept:"image/*"})},n}(Fa),zV=FV,VV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jV=function(o){VV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(t){return""},n.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},n.prototype.setValue=function(t){},n.prototype.onRender=function(){var t=this,e=t.ppfx,i=t.model,r=t.el;if(!this.inputInst){var a=i.input;a.ppfx=e,a.render();var s=r.querySelector(".".concat(e,"fields"));s.appendChild(a.el),this.input=a.inputEl.get(0),this.inputInst=a}},n.prototype.clearCached=function(){Fa.prototype.clearCached.apply(this,arguments),this.inputInst=null},n}(Fa),Na=jV,HV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),BV=function(o){HV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.setValue=function(t){var e;(e=this.inputInst)===null||e===void 0||e.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},n.prototype.remove=function(){var t=this;Na.prototype.remove.apply(this,arguments);var e=this.inputInst;return e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(i){return t[i]=null}),this},n.prototype.__handleChange=function(t,e){this.model.upValue(t,{partial:e})},n.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this,i=e.ppfx,r=e.model,a=e.em,s=e.el,l=new h2({target:a,model:r,ppfx:i,onChange:this.__handleChange}),c=l.render();s.querySelector(".".concat(i,"fields")).appendChild(c.el),this.input=(t=c.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=c}},n}(Na),UV=BV,GV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yg=function(){return Yg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Yg.apply(this,arguments)},aO=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},WV=function(o){GV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Yg(Yg({},ti.getDefaults()),{options:[],full:0})},n.prototype.getOptions=function(){var t=this.attributes,e=t.options,i=t.list;return(e&&e.length?e:i)||[]},n.prototype.getOption=function(t){var e=this,i=(0,oe.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(r){return e.getOptionId(r)===i})[0]||null},n.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},n.prototype.addOption=function(t){if(t){var e=this.getOptions();this.setOptions(aO(aO([],e,!0),[t],!1))}return this},n.prototype.getOptionId=function(t){return(0,oe.isDef)(t.id)?t.id:t.value},n.prototype.getOptionLabel=function(t,e){var i;e===void 0&&(e={});var r=e.locale,a=r===void 0?!0:r,s=((0,et.isString)(t)?this.getOption(t):t)||{},l=this.getOptionId(s),c=s.label||s.name||l,u=e.property||this.getId();return a&&((i=this.em)===null||i===void 0?void 0:i.t("styleManager.options.".concat(u,".").concat(l)))||c},n.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ti.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},n.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},n}(ti),F0=WV,KV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qV=function(o){KV(n,o);function n(t){var e=o.call(this,t)||this;return e.listenTo(e.model,"change:options",e.updateOptions),e}return n.prototype.templateInput=function(){var t=this,e=t.pfx,i=t.ppfx;return`
      <div class="`.concat(i,"field ").concat(i,`select">
        <span id="`).concat(e,`input-holder"></span>
        <div class="`).concat(i,`sel-arrow">
          <div class="`).concat(i,`d-s-arrow"></div>
        </div>
      </div>
    `)},n.prototype.updateOptions=function(){delete this.input,this.onRender()},n.prototype.onRender=function(){var t=this.pfx,e=this.model,i=e.getOptions();if(!this.input){var r=[];i.forEach(function(s){var l=e.getOptionId(s),c=e.getOptionLabel(l),u=s.style?s.style.replace(/"/g,"&quot;"):"",p=u?'style="'.concat(u,'"'):"",g=l.replace(/"/g,"&quot;");r.push('<option value="'.concat(g,'" ').concat(p,">").concat(c,"</option>"))});var a=this.el.querySelector("#".concat(t,"input-holder"));a.innerHTML="<select>".concat(r.join(""),"</select>"),this.input=a.firstChild}},n.prototype.__setValueInput=function(t){var e=this.model,i=this.getInputEl(),r=e.getOptions()[0],a=r?e.getOptionId(r):"";i&&(i.value=t||a)},n}(Fa),Y2=qV,$V=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xg=function(){return Xg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Xg.apply(this,arguments)},YV=function(o){$V(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Xg(Xg({},F0.getDefaults()),{full:1})},n}(F0),XV=YV,QV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),JV=function(o){QV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},n.prototype.onRender=function(){var t=this,e=t.pfx,i=t.ppfx,r=this.model,a="".concat(i,"radio-item-label"),s=r.getName(),l=r.getOptions(),c="".concat(e,"radio ").concat(e,"radio-").concat(s),u=r.cid;if(!this.input){var p=[];l.forEach(function(h){var y=h.className?"".concat(h.className," ").concat(e,"icon ").concat(a):"",_=r.getOptionId(h),O="".concat(s,"-").concat(_,"-").concat(u),M=y?"":r.getOptionLabel(_),w=h.title?'title="'.concat(h.title,'"'):"",T=r.getValue()===_?"checked":"";p.push(`
          <div class="`.concat(i,`radio-item">
            <input type="radio" class="`).concat(c,'" id="').concat(O,'" name="').concat(s,"-").concat(u,'" value="').concat(_,'" ').concat(T,`/>
            <label class="`).concat(y||a,'" ').concat(w,' for="').concat(O,'">').concat(M,`</label>
          </div>
        `))});var g=this.el.querySelector(".".concat(i,"field"));g.innerHTML='<div class="'.concat(i,'radio-items">').concat(p.join(""),"</div>"),this.input=g.firstChild}},n.prototype.__setValueInput=function(t){var e,i=this.model,r=t||i.getDefaultValue(),a=(e=this.getInputEl())===null||e===void 0?void 0:e.querySelector('[value="'.concat(r,'"]'));a&&(a.checked=!0)},n}(Y2),ZV=JV,tj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tl=function(){return Tl=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Tl.apply(this,arguments)},ej=function(o){tj(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Tl(Tl({},ti.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},n.prototype.getUnits=function(){return this.get("units")||[]},n.prototype.getUnit=function(){return this.get("unit")},n.prototype.getMin=function(){return this.get("min")},n.prototype.getMax=function(){return this.get("max")},n.prototype.getStep=function(){return this.get("step")},n.prototype.upUnit=function(t,e){return e===void 0&&(e={}),this._up({unit:t},e)},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),ti.callParentInit(ti,this,t,e);var i=this.get("unit"),r=this.getUnits();this.input=(0,oe.hasWin)()?new v2({model:this}):void 0,r.length&&!i&&this.set("unit",r[0],{silent:!0}),ti.callInit(this,t,e)},n.prototype.__getClearProps=function(){return Tl(Tl({},ti.prototype.__getClearProps()),{unit:""})},n.prototype.parseValue=function(t,e){e===void 0&&(e={});var i=ti.prototype.parseValue.apply(this,arguments),r=this.input.validateInputValue(i.value,Tl({deepCheck:1},e)),a=r.value,s=r.unit;return i.value=a,i.unit=s,i},n.prototype.getFullValue=function(){var t=this.get("value"),e=this.get("unit"),i=(0,et.isUndefined)(t)?"":"".concat(t),r=!(0,et.isUndefined)(e)&&i?e:"",a="".concat(i).concat(r);return ti.prototype.getFullValue.apply(this,[a])},n}(ti),Qg=ej,nj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jg=function(){return Jg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Jg.apply(this,arguments)},ij=function(o){nj(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Jg(Jg({},Qg.getDefaults()),{showInput:1})},n}(Qg),rj=ij,oj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zg=function(){return Zg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Zg.apply(this,arguments)},aj=function(o){oj(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return Zg(Zg({},Na.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},n.prototype.templateInput=function(t){var e=this.ppfx;return`
      <div class="`.concat(e,"field ").concat(e,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},n.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},n.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},n.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},n.prototype.setValue=function(t){var e=this.model,i=e.parseValue(t);this.getSliderEl().value=t===""?e.getDefaultValue():parseFloat(i.value),Na.prototype.setValue.apply(this,arguments)},n.prototype.onRender=function(){Na.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},n.prototype.clearCached=function(){Na.prototype.clearCached.apply(this,arguments),delete this.slider},n}(Na),sj=aj,lj=ye.pM.extend(T2),cj=lj.extend({extendViewApi:1,init:function(){var o=this,n=o.opts,t=o.em,e=n.module||t?.get("StyleManager");e&&(e.__listenAdd(this,e.events.propertyAdd),e.__listenRemove(this,e.events.propertyRemove))},types:[{id:"stack",model:_V,view:NV,isType:function(o){if(o&&o.type=="stack")return o}},{id:"composite",model:Lc,view:Pu,isType:function(o){if(o&&o.type=="composite")return o}},{id:"file",model:ti,view:zV,isType:function(o){if(o&&o.type=="file")return o}},{id:"color",model:ti,view:UV,isType:function(o){if(o&&o.type=="color")return o}},{id:"select",model:F0,view:Y2,isType:function(o){if(o&&o.type=="select")return o}},{id:"radio",model:XV,view:ZV,isType:function(o){if(o&&o.type=="radio")return o}},{id:"slider",model:rj,view:sj,isType:function(o){if(o&&o.type=="slider")return o}},{id:"integer",model:Qg,view:Na,isType:function(o){if(o&&o.type=="integer")return o}},{id:"number",model:Qg,view:Na,isType:function(o){if(o&&o.type=="number")return o}},{id:"base",model:ti,view:Fa,isType:function(o){return o.type="base",o}}]}),ov=cj,dj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),th=function(){return th=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},th.apply(this,arguments)},uj=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(o);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(o,e[i])&&(t[e[i]]=o[e[i]]);return t},pj=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},fj=function(o){dj(n,o);function n(t,e){e===void 0&&(e={});var i=o.call(this,t)||this,r=e.em;i.em=r;var a=t||{},s=i.buildProperties(a.buildProps),l=i.get("name")||"",c=[];!i.get("id")&&i.set("id",l.replace(/ /g,"_").toLowerCase()),s?c=i.extendProperties(s):c=i.get("properties").map(function(p){return(0,et.isString)(p)?i.buildProperties(p)[0]:p}).filter(Boolean),c=c.map(function(p){return i.checkExtend(p)});var u=new ov(c,{em:r});return u.sector=i,i.set("properties",u),i}return n.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.get("id")},n.prototype.getName=function(){var t,e=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(e)))||this.get("name")},n.prototype.setName=function(t){return this.set("name",t)},n.prototype.isOpen=function(){return!!this.get("open")},n.prototype.setOpen=function(t){return this.set("open",t)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.getProperties=function(t){t===void 0&&(t={});var e=this.properties,i=e.models?pj([],e.models,!0):e;return i.filter(function(r){var a=!0;if(t.withValue&&(a=r.hasValue({noParent:!0})),t.withParentValue){var s=r.hasValue({noParent:!0});a=!s&&r.hasValue()}return a})},n.prototype.getProperty=function(t){return this.getProperties().filter(function(e){return e.get("id")===t})[0]||void 0},n.prototype.addProperty=function(t,e){return this.properties.add(this.checkExtend(t),e)},n.prototype.extendProperties=function(t,e,i){i===void 0&&(i=!1);for(var r=t.length,a=e||this.get("properties"),s=this.get("extendBuilded"),l=[],c=0,u=a.length;c<u;c++){for(var p=a[c],g=0,h=0;h<r;h++){var y=t[h];if(p.property==y.property||p.id==y.property){var _=p.properties;_&&_.length&&(p.properties=this.extendProperties(y.properties||[],_,1)),t[h]=s?(0,et.extend)(y,p):p,l[h]=t[h],g=1;continue}}g||(t.push(p),l.push(p))}return i?l.filter(function(O){return O}):t},n.prototype.checkExtend=function(t){var e=((0,et.isString)(t)?{extend:t}:t)||{},i=e.extend,r=uj(e,["extend"]);return i?th(th({},this.buildProperties([i])[0]||{}),r):t},n.prototype.buildProperties=function(t){var e,i=t||[];if(!i.length)return[];var r=(e=this.em)===null||e===void 0?void 0:e.Styles.builtIn;return r?.build(i)},n}(ye.Kx),X2=fj,gj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eh=function(){return eh=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},eh.apply(this,arguments)},hj=function(o){gj(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initialize=function(t,e){e===void 0&&(e={});var i=e.module,r=e.em;this.em=r,this.module=i,this.listenTo(this,"reset",this.onReset)},n.prototype.model=function(t,e){e===void 0&&(e={});var i=e.collection.em;return new X2(t,eh(eh({},e),{em:i}))},n.prototype.onReset=function(t,e){e===void 0&&(e={});var i=e.previousModels||[];i.forEach(function(r){return r.get("properties").reset()})},n}(ye.pM),mj=hj,Is=function(){return Is=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Is.apply(this,arguments)},vj=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(o);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(o,e[i])&&(t[e[i]]=o[e[i]]);return t},xl=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},ji=function(o){return o.map(function(n){return{id:n}})},_j=function(){function o(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var n=", sans-serif",t=["flex-start","flex-end","center"],e=xl(xl([],t,!0),["baseline","stretch"],!1);this.optsBgSize=ji(["auto","cover","contain"]),this.optsBgAttach=ji(["scroll","fixed","local"]),this.optsBgRepeat=ji(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=ji(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=ji(["visible","hidden","scroll","auto"]),this.optsDir=ji(["row","row-reverse","column","column-reverse"]),this.opstDisplay=ji(["block","inline","inline-block","flex","none"]),this.optsTransitFn=ji(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=ji(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=ji(["none","left","right"]),this.optsPos=ji(["static","relative","absolute","fixed"]),this.optsTextAlign=ji(["left","center","right","justify"]),this.optsFlexAlign=ji(e),this.optsJustCont=ji(xl(xl([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=ji(xl(xl([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=ji(xl(["auto"],e,!0)),this.optsTransitProp=ji(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=ji(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=ji(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+n,"Arial Black, Gadget"+n,"Brush Script MT"+n,"Comic Sans MS, cursive"+n,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+n,"Impact, Charcoal"+n,"Lucida Sans Unicode, Lucida Grande"+n,"Tahoma, Geneva"+n,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+n,"Verdana, Geneva"+n].map(function(i){return{id:i,label:i.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return o.prototype.__sub=function(n){var t=this;return function(){return n.map(function(e){if((0,et.isString)(e))return t.get(e);var i=e.extend,r=vj(e,["extend"]);return Is(Is({},t.get(i)),r)})}},o.prototype.init=function(){var n=this,t=this,e=t.fixedValues,i=t.requireFlex,r=t.typeNumber;this.props={};var a=[["text-shadow-h",{type:r,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:e},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:i},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:r,default:"0",requiresParent:i}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:i},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:i},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(s,l){var c=l.values,u=c["box-shadow-h"],p=c["box-shadow-v"],g=c["box-shadow-blur"],h=c["box-shadow-spread"];return"".concat(u," ").concat(p," ").concat(g," ").concat(h)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(s,l){var c=l.values,u=c["text-shadow-h"],p=c["text-shadow-v"],g=c["text-shadow-blur"];return"".concat(u," ").concat(p," ").concat(g)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(s,l){var c=l.values,u=c["background-repeat-sub"]||"",p=c["background-position-sub"]||"",g=c["background-attachment-sub"]||"",h=c["background-size-sub"]||"";return[u,p,g,h].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(s,l){var c=l.property,u=l.name,p=s[u]||"",g=c.getLayerSeparator();return p?p.split(g).map(function(h){var y=c.__parseFn(h),_=y.name,O=y.value;return{"transform-type":_,"transform-value":O}}):[]},toStyle:function(s,l){var c,u=l.name;return c={},c[u]="".concat(s["transform-type"],"(").concat(s["transform-value"],")"),c},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(s){var l=s.property,c=s.to;if(c.value){var u=l.getOption(),p=Is({},u.propValue||{}),g=l.getParent().getProperty("transform-value"),h=g.getUnit();(!h||p?.units.indexOf(h)<0)&&(p.unit=p?.units[0]||""),g.up(p)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return a.forEach(function(s){var l=s[0],c=s[1],u=s[2];n.add(l,c||{},{from:u})}),this},o.prototype.add=function(n,t,e){t===void 0&&(t={}),e===void 0&&(e={});var i=e.from||"",r=this.props[i||n]||{},a=Is(Is(Is({},r),{property:n}),t);return a.properties&&(0,et.isFunction)(a.properties)&&(a.properties=a.properties()),this.props[n]=a,a},o.prototype.get=function(n){return this.props[n]},o.prototype.build=function(n){var t=this,e=[],i=(0,et.isString)(n)?[n]:n;return i.forEach(function(r){e.push(t.get(r)||{property:r})}),e},o}(),yj=_j,bj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cj=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},xj=function(o){bj(n,o);function n(t){var e=o.call(this,t)||this,i=t.config||{},r=e.model,a=i.em;return e.config=i,e.em=a,e.pfx=i.stylePrefix||"",e.listenTo(r,"destroy remove",e.remove),e.listenTo(r,"change:open",e.updateOpen),e.listenTo(r,"change:visible",e.updateVisibility),e}return n.prototype.template=function(t){var e,i=t.pfx,r=t.label,a=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,s=a?.caret||"",l="".concat(i,"sector-");return zr(sO||(sO=Cj([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),l,l,s,l,r)},n.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},n.prototype.updateOpen=function(){var t=this,e=t.$el,i=t.model,r=t.pfx,a=i.isOpen();e[a?"addClass":"removeClass"]("".concat(r,"open")),this.getPropertiesEl().style.display=a?"":"none"},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.getPropertiesEl=function(){var t=this,e=t.$el,i=t.pfx;return e.find(".".concat(i,"properties")).get(0)},n.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},n.prototype.renderProperties=function(){var t=this,e=t.model,i=t.config,r=e.get("properties");if(r){var a=new rv({collection:r,config:i});this.$el.append(a.render().el)}},n.prototype.render=function(){var t=this,e=t.pfx,i=t.model,r=t.$el,a=i.getId(),s=i.getName();return r.html(this.template({pfx:e,label:s})),this.renderProperties(),r.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(a," no-select")),this.updateOpen(),this},n}(ye.Ss),Oj=xj,sO,Pj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mj=function(o){Pj(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this,i=t.module,r=t.config,a=e.collection;return e.pfx=r?.stylePrefix||"",e.ppfx=r?.pStylePrefix||"",e.config=r,e.module=i,e.listenTo(a,"add",e.addTo),e.listenTo(a,"reset",e.render),e}return n.prototype.remove=function(){var t=this;return ye.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(e){return t[e]={}}),this},n.prototype.addTo=function(t,e,i){i===void 0&&(i={}),this.addToCollection(t,null,i)},n.prototype.addToCollection=function(t,e,i){i===void 0&&(i={});var r=this,a=r.config,s=r.el,l=e||s,c=new Oj({model:t,config:a}).render().el;return(0,Me.Sc)(l,c,i.at),c},n.prototype.render=function(){var t=this,e=this,i=e.$el,r=e.pfx,a=e.ppfx;i.empty();var s=document.createDocumentFragment();return this.collection.each(function(l){return t.addToCollection(l,s)}),i.append(s),i.addClass("".concat(r,"sectors ").concat(a,"one-bg ").concat(a,"two-color")),this},n}(ye.Ss),wj=Mj,Sj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ds=function(){return Ds=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Ds.apply(this,arguments)},lO=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},Q2="style",Uu="".concat(Q2,":"),av="".concat(Uu,"sector"),Tj="".concat(av,":add"),Ej="".concat(av,":remove"),kj="".concat(av,":update"),sv="".concat(Uu,"property"),Aj="".concat(sv,":add"),Ij="".concat(sv,":remove"),Dj="".concat(sv,":update"),J2="".concat(Uu,"layer:select"),z0="".concat(Uu,"target"),Lj="".concat(Uu,"custom"),cO=function(o){return o||o===0},Nj={all:Q2,sectorAdd:Tj,sectorRemove:Ej,sectorUpdate:kj,propertyAdd:Aj,propertyRemove:Ij,propertyUpdate:Dj,layerSelect:J2,target:z0,custom:Lj},Rj=function(o){Sj(n,o);function n(t){var e=o.call(this,t,"StyleManager",new mj([],{em:t}),Nj,lV())||this;e.Sector=X2,e.storageKey="",(0,et.bindAll)(e,"__clearStateTarget");var i=e.config,r=i.pStylePrefix;r&&(i.stylePrefix=r+i.stylePrefix),e.builtIn=new yj,e.properties=new ov([],{em:t,module:e}),e.sectors=e.all;var a=new ye.Kx({targets:[]});e.model=a;var s=kn.I.update,l="component:toggled ".concat(s,":classes change:state change:device frame:resized selector:type");e.upAll=(0,et.debounce)(function(){return e.__upSel()},0),a.listenTo(t,l,e.upAll),a.listenTo(t,"component:toggled",e.__clearStateTarget);var c=(0,et.debounce)(function(){e.__upProps(),e.__trgCustom()},0);a.listenTo(t,"styleable:change undo redo",c);var u=(0,et.debounce)(function(){return e.__trgCustom()},0);return a.listenTo(t,"".concat(J2," ").concat(z0),u),a.on("change:lastTarget",function(){return t.trigger(z0,e.getSelected())}),e}return n.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},n.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},n.prototype.__trgEv=function(t){for(var e,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];(e=this.em).trigger.apply(e,lO([t],i,!1))},n.prototype.__clearStateTarget=function(){var t=this,e=this.em,i=this.__getStateTarget();i&&e?.skip(function(){e.Css.remove(i),t.model.set({stateTarget:null})})},n.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},n.prototype.postRender=function(){this.__appendTo()},n.prototype.addSector=function(t,e,i){i===void 0&&(i={});var r=this.getSector(t);return r||(e.id=t,r=this.sectors.add(e,i)),r},n.prototype.getSector=function(t,e){e===void 0&&(e={});var i=this.sectors.where({id:t})[0];return!i&&e.warn&&this._logNoSector(t),i||null},n.prototype.getSectors=function(t){t===void 0&&(t={});var e=this.sectors,i=e&&e.models?t.array?lO([],e.models,!0):e:[];return t.visible?i.filter(function(r){return r.isVisible()}):i},n.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},n.prototype.addProperty=function(t,e,i){i===void 0&&(i={});var r=this.getSector(t,{warn:!0}),a;return r&&(a=r.addProperty(e,i)),a},n.prototype.getProperty=function(t,e){var i=this.getSector(t,{warn:!0}),r;return i&&(r=i.properties.filter(function(a){return a.get("property")===e||a.get("id")===e})[0]),r},n.prototype.getProperties=function(t){var e,i=this.getSector(t,{warn:!0});return i&&(e=i.properties),e},n.prototype.removeProperty=function(t,e){var i=this.getProperties(t);return i?i.remove(this.getProperty(t,e)):null},n.prototype.select=function(t,e){var i=this;e===void 0&&(e={});var r=this.em,a=(0,et.isArray)(t)?t:[t],s=e.stylable,l=r.Css,c=[];a.filter(Boolean).forEach(function(_){var O=_;if((0,et.isString)(_)){var M=l.getRule(_)||l.setRule(_);!(0,et.isUndefined)(s)&&M.set({stylable:s}),O=M}c.push(O)});var u=e.component||c.filter(function(_){return(0,oe.isComponent)(_)}).reverse()[0];c=c.map(function(_){return i.getModelToStyle(_)});var p=r.getState(),g=c.slice().reverse()[0],h=this.getParentRules(g,{state:p,component:u}),y=this.__getStateTarget();return r.skip(function(){var _;if(p&&(!((_=g?.getState)===null||_===void 0)&&_.call(g))){var O=g.getStyle();y?y.setStyle(O):y=l.getAll().add({selectors:"gjs-selected",style:O,shallow:!0,important:!0})}else y&&(l.remove(y),y=void 0)}),this.model.set({targets:c,lastTarget:g,lastTargetParents:h,stateTarget:y,component:u}),this.__upProps(e),c},n.prototype.getSelected=function(){return this.model.get("lastTarget")},n.prototype.getSelectedAll=function(){return this.model.get("targets")},n.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},n.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},n.prototype.addStyleTargets=function(t,e){this.getSelectedAll().map(function(a){return a.addStyle(t,e)});var i=this.getSelected();i&&this.__emitCmpStyleUpdate(t);var r=this.__getStateTarget();i&&r?.setStyle(i.getStyle(),e)},n.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},n.prototype.getBuiltInAll=function(){return this.builtIn.props},n.prototype.addBuiltIn=function(t,e){return this.builtIn.add(t,e)},n.prototype.getModelToStyle=function(t,e){e===void 0&&(e={});var i=this.em,r=e.skipAdd;if(i&&t?.toHTML){var a=i.getConfig(),s=i.UndoManager,l=i.Css,c=i.Selectors,u=c?c.getConfig():{},p=a.devicePreviewMode?"":i.get("state"),g=t.get("classes"),h=g.getStyleable(),y=h.length,_=!u.componentFirst||e.useClasses,O={noCount:1},M={state:p,addOpts:O};s.skip(function(){var w;if(y&&_){var T=i.getCurrentMedia();w=l.get(h,p,T),!w&&!r&&(w=l.add(h,p,T,{},O))}else if(a.avoidInlineStyle){var b=t.getId();w=l.getIdRule(b,M),!w&&!r&&(w=l.setIdRule(b,{},M)),t.is("wrapper")&&w.set("wrapper",1,O)}w&&(t=w)})}return t},n.prototype.getParentRules=function(t,e){var i=e===void 0?{}:e,r=i.state,a=i.component,s=this.em,l=[];if(s&&t){var c=a,u=s.Css,p=s.CodeManager.getGenerator("css"),g=t.toHTML?t:t.getComponent(),h={array:!0},y=[],_=[],O=[],M=[],w=[],T=function(F){return F.length?u.getRules().filter(function(V){var R=V.getSelectors().map(function(H){return H.getFullName()});return R.length===0?!1:R.every(function(H){return F.indexOf(H)>=0})}):[]},b=function(F){return F?u.getRules().filter(function(V){return V.selectorsToString()===F}):[]};if(g)y=u.getRules("#".concat(g.getId())),_=b(g.get("tagName")),M=c?T(c.getSelectors().getFullName(h)):[],w=M.concat(_).concat(y);else{y=c?u.getRules("#".concat(c.getId())):[],_=b(c?.get("tagName")||"");var k=c?.getSelectors().getFullName(h)||[],E=k.filter(function(F){return t.getSelectors().getFullName(h).findIndex(function(V){return V===F})===-1});O=T(E.concat(t.getSelectors().getFullName(h))),w=_.concat(y).concat(O)}var N=w.filter(function(F){return(0,et.isUndefined)(r)?1:F.get("state")===r}).sort(p.sortRules).reverse();l=N.slice(N.indexOf(t)+1)}return l},n.prototype.addType=function(t,e){this.properties.addType(t,e)},n.prototype.getType=function(t){return this.properties.getType(t)},n.prototype.getTypes=function(){return this.properties.getTypes()},n.prototype.createType=function(t,e){var i=e===void 0?{}:e,r=i.model,a=r===void 0?{}:r,s=i.view,l=s===void 0?{}:s,c=this.config,u=this.getType(t);if(u)return new u.view(Ds({model:new u.model(a),config:c},l))},n.prototype.render=function(){var t=this,e=t.config,i=t.em,r=t.SectView,a=r&&r.el;return this.SectView=new wj({el:a,em:i,config:e,module:this,collection:this.sectors}),this.SectView.render().el},n.prototype._logNoSector=function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},n.prototype.__emitCmpStyleUpdate=function(t,e){e===void 0&&(e={});var i=this.em;if(!t.__p){var r=this.getSelectedAll(),a=e.components||i.getSelectedAll(),s=Array.isArray(a)?a:[a],l=Ds({},t);delete l.__p,s.forEach(function(c){return!r.includes(c)&&c.__onStyleChange(l)})}},n.prototype.__upProps=function(t){var e=this;t===void 0&&(t={});var i=this.getSelected();if(i){var r=this.sectors,a=this.model.get("component"),s=this.getSelectedParents(),l=i.getStyle(),c=s.map(function(u){return{target:u,style:u.getStyle()}});r.map(function(u){u.getProperties().map(function(p){e.__upProp(p,l,c,t)})}),r.forEach(function(u){var p=u.getProperties();p.forEach(function(h){var y=h.__checkVisibility({target:i,sector:u,component:a,sectors:r.models});h.set("visible",y)});var g=p.some(function(h){return h.isVisible()});u.set("visible",g)})}},n.prototype.__upProp=function(t,e,i,r){var a=this,s=t.getName(),l=e[s],c=cO(l),u=t.getType()==="stack",p=t.getType()==="composite",g=Ds(Ds({},r),{__up:!0}),h=!p&&!u,y=t,_=t,O=u?y.__getLayersFromStyle(e):[],M=p?_.__getPropsFromStyle(e):{},w=c?l:null,T=null;if(u&&O===null||p&&M===null){var b=u?"__getLayersFromStyle":"__getPropsFromStyle",k=i.filter(function(R){return y[b](R.style)!==null})[0];if(k){w=k.style[s],T=k.target;var E=y[b](k.style);u?O=E:M=E}}else if(!c){w=null;var k=i.filter(function(H){return cO(H.style[s])})[0];k&&(w=k.style[s],T=k.target)}if(t.__setParentTarget(T),h&&t.__getFullValue()!==w&&t.upValue(w,g),u&&y.__setLayers(O||[],{isEmptyValue:y.isEmptyValueStyle(e)}),p){var N=_.getProperties();if(_.isDetached()){var F=_.__getPropsFromStyle(e,{byName:!0})||{},V=i.map(function(R){return Ds(Ds({},R),{style:_.__getPropsFromStyle(R.style,{byName:!0})||{}})});N.map(function(R){return a.__upProp(R,F,V,r)})}else _.__setProperties(M||{},g),_.getProperties().map(function(R){return R.__setParentTarget(T)})}},n.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(e){e.reset(),e.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},n}(Va),Fj=Rj,zj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nh=function(){return nh=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},nh.apply(this,arguments)},Vj=function(o){zj(n,o);function n(t,e){var i=o.call(this,t,e)||this;return i.em=e,i.model=function(r,a){return a===void 0&&(a={}),new $O(r,nh(nh({},a),{em:e}))},i}return n}(ye.pM),jj=Vj,Hj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bj=function(o){Hj(n,o);function n(t){var e=o.call(this,t,"DataSources",new jj([],t),Il)||this;return e.storageKey="dataSources",e.events=Il,Object.assign(e,j0.Events),e}return n.prototype.destroy=function(){},n.prototype.add=function(t,e){e===void 0&&(e={});var i=this.all;return t.id=t.id||this._createId(),i.add(t,e)},n.prototype.get=function(t){return this.all.get(t)},n.prototype.getValue=function(t,e){return(0,oe.get)(this.getContext(),t,e)},n.prototype.getContext=function(){return this.all.reduce(function(t,e){return t[e.id]=e.records.reduce(function(i,r,a){var s=r;return i[s.id||a]=s.attributes,i},{}),t},{})},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.fromPath=function(t){var e=[],i=(0,oe.stringToPath)(t||""),r=i[0],a=i[1],s=i.slice(2),l=this.get(r),c=l?.records.get(a);return l&&e.push(l),c&&(e.push(c),s.length&&e.push(s.join("."))),e},n.prototype.store=function(){var t,e=[];return this.all.forEach(function(i){var r=i.get("skipFromStorage");r||e.push({id:i.id,name:i.get("name"),records:i.records.toJSON(),skipFromStorage:r})}),t={},t[this.storageKey]=e,t},n.prototype.load=function(t){return this.loadProjectData(t)},n.prototype.postLoad=function(){var t=this,e=t.em,i=t.all;e.listenTo(i,ye.e2,function(r,a,s){return e.changesUp(s||a)}),this.em.UndoManager.add(i)},n}(Va),Z2=Bj,Uj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qi=function(){return Qi=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Qi.apply(this,arguments)},a0=function(o,n,t,e){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?r(u.value):i(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},s0=function(o,n){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},e,i,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],i=0}finally{e=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Gj=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(o);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(o,e[i])&&(t[e[i]]=o[e[i]]);return t},Wj=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))};I6().$=Hi.default;var Kj=[yF,VR,RF,$z,BL,xR,OL,Fj,pL,qF,jz,vz,aV,mN,HN,I7,AN,$D,Z2],qj=[Z2,dR,ID,IR,vD];D6({$:Hi.default});var dO={debug:console.log,info:console.info,warning:console.warn,error:console.error},$j=function(o){Uj(n,o);function n(t){t===void 0&&(t={});var e=o.call(this)||this;e.Model=ye.Kx,e.Collection=ye.pM,e.events=Fr,e.__skip=!1,e.defaultRunning=!1,e.loadTriggered=!1,e.destroyed=!1,e._isStoring=!1,e._config=t;var i=e.config;e.set("Config",t),e.set("modules",[]),e.set("toLoad",[]),e.set("storables",[]),e.set("selected",new R6),e.set("dmode",i.dragMode);var r=i.el,a=i.log,s=a===!0?(0,et.keys)(dO):(0,et.isArray)(a)?a:[];return(0,et.bindAll)(e,"initBaseColorPicker"),r&&i.fromElement&&(i.components=r.innerHTML),e.attrsOrig=r?(0,et.toArray)(r.attributes).reduce(function(l,c){return l[c.nodeName]=c.nodeValue,l},{}):"",i.components&&!i.pageManager&&(i.pageManager={pages:[{component:i.components}]}),Kj.forEach(function(l){return e.loadModule(l)}),qj.forEach(function(l){return e.loadStorableModule(l)}),e.on("change:componentHovered",e.componentHovered,e),e.on("change:changesCount",e.updateChanges,e),e.on("change:readyLoad change:readyCanvas",e._checkReady,e),s.forEach(function(l){return e.listenLog(l)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(l){var c=l.from,u=l.to;e.listenTo(e,c,function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];e.trigger.apply(e,Wj([u],p,!1)),e.logWarning("The event '".concat(c,"' is deprecated, replace it with '").concat(u,"'"))})}),e}return n.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(n.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),n.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},n.prototype.getContainer=function(){return this.config.el},n.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),dO[t])},Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"version",{get:function(){var t;return((t=this.config.grapesjs)===null||t===void 0?void 0:t.version)||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isHeadless",{get:function(){return!!this.config.headless},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isShallow",{get:function(){return!!this.get("isShallow")},enumerable:!1,configurable:!0}),n.prototype.initModules=function(){this.modules.forEach(function(t){return t.onInit()})},n.prototype.getConfig=function(t){var e=this.config;return(0,et.isUndefined)(t)?e:e[t]},n.prototype.loadOnStart=function(){var t=this,e=this.config,i=e.projectData,r=e.headless,a={initial:!0},s=this.Storage;this.toLoad.reverse().forEach(function(u){return u.onLoad()});var l=function(){t.modules.forEach(function(u){return u.postLoad&&u.postLoad(t)}),t.set("readyLoad",1)};r?(i&&this.loadData(i,a),l()):this._storageTimeout=setTimeout(function(){return a0(t,void 0,void 0,function(){var u;return s0(this,function(p){switch(p.label){case 0:return i?(this.loadData(i,a),[3,5]):[3,1];case 1:if(!s?.canAutoload())return[3,5];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,this.load({},a)];case 3:return p.sent(),[3,5];case 4:return u=p.sent(),this.logError(u),[3,5];case 5:return l(),[2]}})})});var c=new n({noticeOnUnload:!1,storageManager:!1,undoManager:!1});c.set({isShallow:!0}),c.Pages.onLoad(),c.Canvas.postLoad(),this.set("shallow",c)},n.prototype.updateChanges=function(t,e,i){var r=this,a=this.Storage,s=this.getDirtyCount();i.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return r.trigger(Fr.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=s?function(){return!0}:null),a.isAutosave()&&s>=a.getStepsBeforeSave()&&this.store().catch(function(l){return r.logError(l)})},n.prototype.loadModule=function(t){var e=new t(this);return this.set(e.name,e),e.onLoad&&this.toLoad.push(e),this.modules.push(e),e},n.prototype.loadStorableModule=function(t){var e=this.loadModule(t);return this.storables.push(e),e},n.prototype.init=function(t,e){e===void 0&&(e={}),this.destroyed&&(this.initialize(e),this.destroyed=!1),this.set("Editor",t)},n.prototype.getEditor=function(){return this.get("Editor")},n.prototype.handleUpdates=function(t,e,i){var r=this;i===void 0&&(i={}),!(this.__skip||!this.loadTriggered||i.temporary||i.noCount||i.avoidStore||i.partial)&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var a=r.getDirtyCount()||0,s=i.unset,l=Gj(i,["unset"]);r.set("changesCount",a+1,l)},0))},n.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},n.prototype.componentHovered=function(t,e,i){var r=this.previous("componentHovered");r&&this.trigger("component:unhovered",r,i),e&&this.trigger("component:hovered",e,i)},n.prototype.getSelected=function(){return this.selected.lastComponent()},n.prototype.getSelectedAll=function(){return this.selected.allComponents()},n.prototype.setSelected=function(t,e){var i=this;e===void 0&&(e={});var r=e.event,a=r&&(r.ctrlKey||r.metaKey),s=(r||{}).shiftKey,l=((0,et.isArray)(t)?t:[t]).map(function(g){var h,y;return((y=(h=g?.delegate)===null||h===void 0?void 0:h.select)===null||y===void 0?void 0:y.call(h,g))||g}).filter(Boolean),c=this.getSelectedAll(),u=this.getConfig().multipleSelection,p=(0,et.isArray)(t);(p||!t)&&this.removeSelected(c.filter(function(g){return!(0,et.contains)(l,g)})),l.forEach(function(g){if(g&&(i.trigger(kn.I.selectBefore,g,e),!g.get("selectable")||e.abort))if(e.useValid){for(var h=g.parent();h&&!h.get("selectable");)h=h.parent();g=h}else return;if(a&&u)return i.toggleSelected(g);if(s&&u){if(i.isEditing())return;i.clearSelection(i.Canvas.getWindow());var y=g.collection,_=g.index(),O,M;if(i.getSelectedAll().forEach(function(w){var T=w.collection,b=w.index();T===y&&(b<_?O=(0,et.isUndefined)(O)?b:Math.max(O,b):b>_&&(M=(0,et.isUndefined)(M)?b:Math.min(M,b)))}),!(0,et.isUndefined)(O))for(;O!==_;)i.addSelected(y.at(O),e),O++;if(!(0,et.isUndefined)(M))for(;M!==_;)i.addSelected(y.at(M),e),M--;return i.addSelected(g,e)}!p&&i.removeSelected(c.filter(function(w){return w!==g})),i.addSelected(g,e)})},n.prototype.addSelected=function(t,e){var i=this;e===void 0&&(e={});var r=(0,et.isArray)(t)?t:[t];r.forEach(function(a){var s=i.selected;if(!(!a||!a.get("selectable")||a.parents().some(function(u){return s.hasComponent(u)}))){e.forceChange&&i.removeSelected(a,e);var l=s.allComponents().filter(function(u){return(0,et.contains)(u.parents(),a)});if(l.forEach(function(u){return i.removeSelected(u,e)}),s.addComponent(a,e),i.trigger(kn.I.select,a,e),i.Canvas.addSpot({type:Eo.F.Select,component:a}),e.activate){var c=a.getView();c?.rendered?c.onActive(e.event):a.once(kn.I.render,function(u){var p=u.view;return p.onActive(e.event)})}}})},n.prototype.removeSelected=function(t,e){var i=this;e===void 0&&(e={}),this.selected.removeComponent(t,e);var r=(0,et.isArray)(t)?t:[t];r.forEach(function(a){return i.Canvas.removeSpots({type:Eo.F.Select,component:a})})},n.prototype.toggleSelected=function(t,e){var i=this;e===void 0&&(e={});var r=(0,et.isArray)(t)?t:[t];r.forEach(function(a){i.selected.hasComponent(a)?i.removeSelected(a,e):i.addSelected(a,e)})},n.prototype.setHovered=function(t,e){var i=this;e===void 0&&(e={});var r=function(l,c){var u=i,p=u.config,g=u.Canvas,h=i.getHovered(),y=i.getSelectedAll(),_=Eo.F.Hover,O=Eo.F.Spacing;i.set("componentHovered",l||null,c),h&&(g.removeSpots({type:_,component:h}),g.removeSpots({type:O,component:h})),l&&(g.addSpot({type:_,component:l}),(!y.includes(l)||p.showOffsetsSelected)&&g.addSpot({type:O,component:l}))};if(!t)return r();var a="component:hover";if(e.forceChange&&r(),this.trigger("".concat(a,":before"),t,e),!t.get("hoverable"))if(e.useValid&&!e.abort){for(var s=t.parent();s&&!s.get("hoverable");)s=s.parent();t=s}else return;e.abort||(r(t,e),this.trigger(a,t,e))},n.prototype.getHovered=function(){return this.get("componentHovered")},n.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.Components.setComponents(t,e)},n.prototype.getComponents=function(){var t=this.Components,e=this.CodeManager;if(!(!t||!e)){var i=t.getComponents();return e.getCode(i,"json")}},n.prototype.setStyle=function(t,e){e===void 0&&(e={});var i=this.Css;return i.clear(e),i.getAll().add(t,e),this},n.prototype.addStyle=function(t,e){e===void 0&&(e={});var i=this.getStyle().add(t,e);return(0,et.isArray)(i)?i:[i]},n.prototype.getStyle=function(){return this.Css.getAll()},n.prototype.setState=function(t){return this.set("state",t),this},n.prototype.getState=function(){return this.get("state")||""},n.prototype.getHtml=function(t){t===void 0&&(t={});var e=this.config,i=e.optsHtml,r=e.jsInHtml?this.getJs(t):"",a=t.component||this.Components.getComponent(),s=a?this.CodeManager.getCode(a,"html",Qi(Qi({},i),t)):"";return s+=r?"<script>".concat(r,"<\/script>"):"",s},n.prototype.getCss=function(t){t===void 0&&(t={});var e=this.config,i=e.optsCss,r=t.avoidProtected,a=(0,et.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,s=this.Css,l=t.component||this.Components.getComponent(),c=r?"":e.protectedCss,u=l&&this.CodeManager.getCode(l,"css",Qi(Qi({cssc:s,keepUnusedStyles:a},i),t));return l?t.json?u:c+u:""},n.prototype.getJs=function(t){t===void 0&&(t={});var e=t.component||this.Components.getWrapper();return e?this.CodeManager.getCode(e,"js").trim():""},n.prototype.store=function(t){return a0(this,void 0,void 0,function(){var e,i=this;return s0(this,function(r){switch(r.label){case 0:return this._isStoring?[2]:(this._isStoring=!0,setTimeout(function(){i.clearDirtyCount()},1),e=this.storeData(),[4,this.Storage.store(e,t)]);case 1:return r.sent(),setTimeout(function(){i._isStoring=!1},1),[2,e]}})})},n.prototype.load=function(t){return a0(this,arguments,void 0,function(e,i){var r;return i===void 0&&(i={}),s0(this,function(a){switch(a.label){case 0:return[4,this.Storage.load(e)];case 1:return r=a.sent(),this.loadData(r,i),[4,(0,oe.wait)()];case 2:return a.sent(),i.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,r]}})})},n.prototype.storeData=function(){var t={},e=this.getEditing();e&&e.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(r){t=Qi(Qi({},t),r.store(1))});var i=JSON.parse(JSON.stringify(t));return this.trigger(Fr.projectGet,{project:i}),i},n.prototype.loadData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var i={project:t,options:e,initial:!!e.initial},r=!1;return(0,oe.isEmptyObj)(t)||(this.storables.forEach(function(a){return a.clear()}),this.storables.forEach(function(a){return a.load(t)}),r=!0),this.trigger(Fr.projectLoad,Qi(Qi({},i),{loaded:r})),r&&this.trigger(Fr.projectLoaded,i),t},n.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},n.prototype.runDefault=function(t){t===void 0&&(t={});var e=this.Commands.get(this.config.defaultCommand);!e||this.defaultRunning||(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=!0)},n.prototype.stopDefault=function(t){t===void 0&&(t={});var e=this.Commands;if(e){var i=e.get(this.config.defaultCommand);!i||!this.defaultRunning||(i.stop(this,this,t),this.defaultRunning=!1)}},n.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.Canvas.refresh({spots:t.tools})},n.prototype.clearSelection=function(t){var e,i=t||window;(e=i.getSelection())===null||e===void 0||e.removeAllRanges()},n.prototype.getCurrentMedia=function(){var t=this.config,e=this.getDeviceModel(),i=t.mediaCondition,r=t.devicePreviewMode,a=e&&e.get("widthMedia");return e&&a&&!r?"(".concat(i,": ").concat(a,")"):""},n.prototype.getWrapper=function(){return this.Components.getWrapper()},n.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},n.prototype.getCurrentFrame=function(){return this.get("currentFrame")},n.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},n.prototype.getIcon=function(t){var e=this.config.icons||{};return e[t]||""},n.prototype.getDirtyCount=function(){return this.get("changesCount")},n.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},n.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},n.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},n.prototype.setDragMode=function(t){return this.set("dmode",t)},n.prototype.getDragMode=function(t){var e=t?.getDragMode()||this.get("dmode");return e||""},n.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.get("I18n");return i?.t.apply(i,t)},n.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},n.prototype.destroyAll=function(){var t=this,e=this,i=e.config,r=e.view;this.trigger(Fr.destroy);var a=this.getEditor(),s=(i.grapesjs||{}).editors,l=s===void 0?[]:s,c=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),c?.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(u){return u.destroy()}),r?.remove&&r.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(u){return t[u]={}}),l.splice(l.indexOf(a),1),(0,oe.hasWin)()&&(0,Hi.default)(i.el).empty().attr(this.attrsOrig),this.trigger(Fr.destroyed)},n.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},n.prototype.setEditing=function(t){return this.set("editing",t),this},n.prototype.isEditing=function(){return!!this.get("editing")},n.prototype.log=function(t,e){e===void 0&&(e={});var i=Fr.log,r=e.ns,a=e.level,s=a===void 0?"debug":a;if(this.trigger(i,t,e),s&&this.trigger("".concat(i,":").concat(s),t,e),r){var l="".concat(i,"-").concat(r);this.trigger(l,t,e),s&&this.trigger("".concat(l,":").concat(s),t,e)}},n.prototype.logInfo=function(t,e){this.log(t,Qi(Qi({},e),{level:"info"}))},n.prototype.logWarning=function(t,e){this.log(t,Qi(Qi({},e),{level:"warning"}))},n.prototype.logError=function(t,e){this.log(t,Qi(Qi({},e),{level:"error"}))},n.prototype.initBaseColorPicker=function(t,e){e===void 0&&(e={});var i=this.config,r=i.colorPicker,a=r===void 0?{}:r,s=i.el,l=i.stylePrefix;return(0,Hi.default)(t).spectrum(Qi(Qi({containerClassName:"".concat(l,"one-bg ").concat(l,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F"},e),a))},n.prototype.skip=function(t){this.__skip=!0;var e=this.UndoManager;e?e.skip(t):t(),this.__skip=!1},n.prototype.data=function(t,e,i){var r="_gjs-data";if(t[r]||(t[r]={}),(0,et.isUndefined)(i))return t[r][e];t[r][e]=i},n}(ye.Kx),Yj=$j;function Xj(){return window.location.hostname}var Qj=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jj=function(o,n,t,e){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?r(u.value):i(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},Zj=function(o,n){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},e,i,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],i=0}finally{e=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},tH=function(o){Qj(n,o);function n(t){var e=o.call(this,{model:t})||this,i=t.Panels,r=t.UndoManager;return t.view=e,t.once("change:ready",function(){i.active(),i.disableButtons(),t.getConfig().telemetry&&e.sendTelemetryData().catch(function(){}),setTimeout(function(){t.trigger(Fr.load,t.Editor),t.loadTriggered=!0,r.clear(),t.clearDirtyCount()})}),e}return n.prototype.render=function(){var t=this,e=this,i=e.$el,r=e.model,a=r.Panels,s=r.Canvas,l=r.config,c=r.modules,u=l.stylePrefix,p=["".concat(u,"editor")];!l.customUI&&p.push("".concat(u,"one-bg ").concat(u,"two-color"));var g=(0,Hi.default)(l.el||"body ".concat(l.container));l.cssIcons&&(0,oe.appendStyles)(l.cssIcons,{unique:!0,prepand:!0}),i.empty(),l.width&&g.css("width",l.width),l.height&&g.css("height",l.height),i.append(s.render()),i.append(a.render());var h=r.shallow,y=h.Canvas.render();return y.style.display="none",i.append(y),i.attr("class",p.join(" ")),g.addClass("".concat(u,"editor-cont")).empty().append(i),c.forEach(function(_){var O;return(O=_.postRender)===null||O===void 0?void 0:O.call(_,t)}),this},n.prototype.sendTelemetryData=function(){return Jj(this,void 0,void 0,function(){var t,e,i,r,a,s,l,c;return Zj(this,function(u){switch(u.label){case 0:return t=Xj(),t==="localhost"||t.includes("localhost")?[2]:(e="gjs_telemetry_sent_",i=this.model.version,r="".concat(e).concat(i),sessionStorage.getItem(r)?[2]:(a="https://app.grapesjs.com",[4,fetch("".concat(a,"/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:t,version:i})})]));case 1:return s=u.sent(),s.ok?[3,3]:(l=Error.bind,c="Failed to send telemetry data ".concat,[4,s.text()]);case 2:throw new(l.apply(Error,[void 0,c.apply("Failed to send telemetry data ",[u.sent()])]));case 3:return sessionStorage.setItem(r,"true"),Object.keys(sessionStorage).forEach(function(p){p.startsWith(e)&&p!==r&&sessionStorage.removeItem(p)}),this.trigger(Fr.telemetryInit),[2]}})})},n}(ye.Ss),eH=tH,Lu=function(){return Lu=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Lu.apply(this,arguments)},uO=function(o,n,t,e){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?r(u.value):i(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},pO=function(o,n){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},e,i,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,i&&(r=c[0]&2?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],i=0}finally{e=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},nH=function(o,n,t){if(t||arguments.length===2)for(var e=0,i=n.length,r;e<i;e++)(r||!(e in n))&&(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return o.concat(r||Array.prototype.slice.call(n))},iH=function(){function o(n,t){n===void 0&&(n={}),t===void 0&&(t={});var e;this.events=Fr,this.html=zr;var i=A6();this.config=Lu(Lu(Lu({},i),n),{pStylePrefix:(e=n.stylePrefix)!==null&&e!==void 0?e:i.stylePrefix}),this.em=new Yj(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(o.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(n){return this.em.getConfig(n)},o.prototype.getHtml=function(n){return this.em.getHtml(n)},o.prototype.getCss=function(n){return this.em.getCss(n)},o.prototype.getJs=function(n){return this.em.getJs(n)},o.prototype.getComponents=function(){return this.Components.getComponents()},o.prototype.getWrapper=function(){return this.Components.getWrapper()},o.prototype.setComponents=function(n,t){return t===void 0&&(t={}),this.em.setComponents(n,t),this},o.prototype.addComponents=function(n,t){return this.getWrapper().append(n,t)},o.prototype.getStyle=function(){return this.em.Css.getAll()},o.prototype.setStyle=function(n,t){return t===void 0&&(t={}),this.em.setStyle(n,t),this},o.prototype.addStyle=function(n,t){return t===void 0&&(t={}),this.em.addStyle(n,t)},o.prototype.getSelected=function(){return this.em.getSelected()},o.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},o.prototype.getSelectedToStyle=function(){var n=this.em.getSelected();if(n)return this.StyleManager.getModelToStyle(n)},o.prototype.select=function(n,t){return this.em.setSelected(n,t),this},o.prototype.selectAdd=function(n){return this.em.addSelected(n),this},o.prototype.selectRemove=function(n){return this.em.removeSelected(n),this},o.prototype.selectToggle=function(n){return this.em.toggleSelected(n),this},o.prototype.getEditing=function(){return this.em.getEditing()},o.prototype.setDevice=function(n){return this.em.set("device",n),this},o.prototype.getDevice=function(){return this.em.get("device")},o.prototype.runCommand=function(n,t){return t===void 0&&(t={}),this.Commands.run(n,t)},o.prototype.stopCommand=function(n,t){return t===void 0&&(t={}),this.Commands.stop(n,t)},o.prototype.store=function(n){return uO(this,void 0,void 0,function(){return pO(this,function(t){switch(t.label){case 0:return[4,this.em.store(n)];case 1:return[2,t.sent()]}})})},o.prototype.load=function(n){return uO(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),pO(this,function(i){switch(i.label){case 0:return[4,this.em.load(t,e)];case 1:return[2,i.sent()]}})})},o.prototype.getProjectData=function(){return this.em.storeData()},o.prototype.loadProjectData=function(n,t){return t===void 0&&(t={}),this.em.loadData(n,t)},o.prototype.storeData=function(){return this.em.storeData()},o.prototype.loadData=function(n){return this.em.loadData(n)},o.prototype.getContainer=function(){return this.config.el},o.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},o.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},o.prototype.refresh=function(n){this.em.refreshCanvas(n)},o.prototype.setCustomRte=function(n){this.RichTextEditor.customRte=n},o.prototype.setCustomParserCss=function(n){return this.Parser.getConfig().parserCss=n,this},o.prototype.setDragMode=function(n){return this.em.setDragMode(n),this},o.prototype.log=function(n,t){return t===void 0&&(t={}),this.em.log(n,t),this},o.prototype.t=function(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(n=this.em).t.apply(n,t)},o.prototype.on=function(n,t){return this.em.on(n,t),this},o.prototype.once=function(n,t){return this.em.once(n,t),this},o.prototype.off=function(n,t){return this.em.off(n,t),this},o.prototype.trigger=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.em.trigger.apply(this.em,nH([n],t,!0)),this},o.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},o.prototype.getEl=function(){var n;return(n=this.editorView)===null||n===void 0?void 0:n.el},o.prototype.getModel=function(){return this.em},o.prototype.render=function(){var n;return(n=this.editorView)===null||n===void 0||n.remove(),this.editorView=new eH(this.em),this.editorView.render().el},o.prototype.onReady=function(n){this.em.get("ready")?n(this):this.em.on("load",n)},o}(),rH=iH,oH=function(o,n){var t=n.get(o);if(!t){var e=(0,oe.getGlobal)()[o];t=e?.default||e}return t},tP=function(o,n){return(0,et.isString)(o)?oH(o,n):o?.default||o},eP=function(o,n){o.getModel().logWarning("Plugin ".concat(n," not found"),{context:"plugins",plugin:n})},aH=function(){function o(){this.plugins={}}return o.prototype.add=function(n,t){var e=this.get(n);return e||(this.plugins[n]=t,t)},o.prototype.get=function(n){return this.plugins[n]},o.prototype.getAll=function(){return this.plugins},o}(),sH=aH,lH=function(){var o=function(){for(var t,e=window.navigator.userAgent,i=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],r=0;r<i.length;r++){var a=i[r];if(t=a[1].exec(e),t)break}return!!t};if((0,oe.hasWin)()&&o()){var n=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),n.apply(document.implementation,[t])}}},ih=function(){return ih=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},ih.apply(this,arguments)};lH();var V0=new sH,fO=[],nP=function(o,n){var t=tP(o,V0);return function(e){t?t(e,n||{}):eP(e,o)}},iP={$:Hi.default,editors:fO,plugins:V0,usePlugin:nP,version:"0.22.13",init:function(o){o===void 0&&(o={});var n=o.headless,t=o.container;if(!t&&!n)throw new Error("'container' is required");var e=ih(ih({autorender:!0,plugins:[],pluginsOpts:{}},o),{grapesjs:this,el:n?void 0:(0,et.isElement)(t)?t:document.querySelector(t)}),i=new rH(e,{$:Hi.default}),r=i.getModel();return r.initModules(),e.plugins.forEach(function(a){var s=tP(a,V0),l=e.pluginsOpts[a]||{};s?s(i,l):eP(i,a)}),r.loadOnStart(),e.autorender&&!n&&i.render(),fO.push(i),i}},cH=iP,rP=rh.Ay,wZ=rh.I0,SZ=rh.nu;var aP=B9(oP());var dH=["editorContainer"];function uH(o,n){o&1&&(x(0,"div",16),vt(1,"mat-progress-spinner",17),x(2,"p"),I(3,"Loading Visual Editor..."),P()())}function pH(o,n){if(o&1){let t=fe();x(0,"div",31)(1,"div",32)(2,"input",33,1),Bt("change",function(i){Dt(t);let r=ct(2);return Lt(r.onFileSelected(i))}),P(),x(4,"div",34),Bt("click",function(){Dt(t);let i=gi(3);return Lt(i.click())}),x(5,"div",35)(6,"mat-icon"),I(7,"cloud_upload"),P()(),x(8,"h3"),I(9,"Drop your HTML file here"),P(),x(10,"p"),I(11,"or click to browse"),P(),x(12,"div",36)(13,"span",37),I(14,".html"),P(),x(15,"span",37),I(16,".htm"),P()()()()()}}function fH(o,n){if(o&1){let t=fe();x(0,"div",38)(1,"textarea",39),xi("ngModelChange",function(i){Dt(t);let r=ct(2);return Ci(r.importHtmlCode,i)||(r.importHtmlCode=i),Lt(i)}),P()()}if(o&2){let t=ct(2);j(),bi("ngModel",t.importHtmlCode)}}function gH(o,n){if(o&1){let t=fe();x(0,"button",8),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.importHTML())}),x(1,"mat-icon"),I(2,"check"),P(),I(3," Import Code "),P()}if(o&2){let t=ct(2);tt("disabled",t.importMethod==="paste"&&!t.importHtmlCode.trim())}}function hH(o,n){if(o&1){let t=fe();x(0,"div",18)(1,"div",19),Bt("click",function(){Dt(t);let i=ct();return Lt(i.closeImportModal())}),P(),x(2,"div",20)(3,"div",21)(4,"h2")(5,"mat-icon"),I(6,"file_upload"),P(),I(7," Import HTML "),P(),x(8,"button",22),Bt("click",function(){Dt(t);let i=ct();return Lt(i.closeImportModal())}),x(9,"mat-icon"),I(10,"close"),P()()(),x(11,"div",23)(12,"button",24),Bt("click",function(){Dt(t);let i=ct();return Lt(i.setImportMethod("file"))}),x(13,"mat-icon"),I(14,"upload_file"),P(),x(15,"span"),I(16,"Upload File"),P()(),x(17,"button",24),Bt("click",function(){Dt(t);let i=ct();return Lt(i.setImportMethod("paste"))}),x(18,"mat-icon"),I(19,"content_paste"),P(),x(20,"span"),I(21,"Paste Code"),P()()(),x(22,"div",25),It(23,pH,17,0,"div",26)(24,fH,2,1,"div",27),P(),x(25,"div",28)(26,"button",29),Bt("click",function(){Dt(t);let i=ct();return Lt(i.closeImportModal())}),I(27,"Cancel"),P(),It(28,gH,4,1,"button",30),P()()()}if(o&2){let t=ct();j(12),De("active",t.importMethod==="file"),j(5),De("active",t.importMethod==="paste"),j(6),tt("ngIf",t.importMethod==="file"),j(),tt("ngIf",t.importMethod==="paste"),j(4),tt("ngIf",t.importMethod==="paste")}}function mH(o,n){if(o&1&&(x(0,"div",46),I(1),P()),o&2){let t=ct(2);j(),Fe(" ",t.getPendingEditsCount()," ")}}function vH(o,n){o&1&&(x(0,"div",47)(1,"mat-icon"),I(2,"open_with"),P()())}function _H(o,n){o&1&&(x(0,"mat-icon"),I(1,"autorenew"),P())}function yH(o,n){o&1&&(x(0,"mat-icon"),I(1,"check_circle"),P())}function bH(o,n){if(o&1&&(x(0,"div",65)(1,"mat-icon"),I(2,"info"),P(),I(3),P()),o&2){let t=ct().$implicit;j(3),Fe(" ",t.reason," ")}}function CH(o,n){if(o&1){let t=fe();x(0,"div",55)(1,"div",56),It(2,_H,2,0,"mat-icon",57)(3,yH,2,0,"mat-icon",57),P(),x(4,"div",58)(5,"div",59)(6,"span",60),I(7,"Find:"),P(),x(8,"code",61),Bt("click",function(i){let r=Dt(t).$implicit,a=ct(3);return Lt(a.searchAndReplaceText(r.find||"",r.replace||"",i))}),I(9),P()(),x(10,"div",62)(11,"span",60),I(12,"Replace:"),P(),x(13,"code",63),Bt("click",function(i){let r=Dt(t).$implicit,a=ct(3);return Lt(a.copyTextToClipboard(r.replace||"",i))}),I(14),P()(),It(15,bH,4,1,"div",64),P()()}if(o&2){let t=n.$implicit,e=n.index,i=ct(3);De("applied",i.isEditApplied(e)),j(),De("pending",!i.isEditApplied(e))("success",i.isEditApplied(e))("failed",!1),j(),tt("ngIf",!i.isEditApplied(e)),j(),tt("ngIf",i.isEditApplied(e)),j(6),Fe(" ",t.find," "),j(5),Fe(" ",t.replace," "),j(),tt("ngIf",t.reason)}}function xH(o,n){o&1&&(x(0,"div",66)(1,"mat-icon"),I(2,"check_circle"),P(),x(3,"p"),I(4,"All edits applied!"),P()())}function OH(o,n){if(o&1){let t=fe();x(0,"div",48)(1,"div",49),Bt("mousedown",function(i){Dt(t);let r=ct(2);return Lt(r.onModalHeaderMouseDown(i))}),x(2,"h3")(3,"mat-icon"),I(4,"report_problem"),P(),I(5," Failed Edits "),P(),x(6,"span",50),I(7),P()(),x(8,"div",51),It(9,CH,16,13,"div",52)(10,xH,5,0,"div",53),P(),x(11,"div",54)(12,"button",29),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.closeWidget())}),x(13,"mat-icon"),I(14,"close"),P(),I(15," Close "),P()()()}if(o&2){let t=ct(2);Vi("left",t.modalPosition.x,"px")("top",t.modalPosition.y,"px"),De("modal-dragging",t.isModalDragging)("modal-drag-enabled",t.modalDragEnabled),tt("@slideIn",void 0),j(),De("draggable-header",t.modalDragEnabled),j(6),Fe("",t.getPendingEditsCount()," pending"),j(2),tt("ngForOf",t.failedEdits),j(),tt("ngIf",t.getPendingEditsCount()===0)}}function PH(o,n){if(o&1){let t=fe();x(0,"div",40)(1,"div",41),Bt("mousedown",function(i){Dt(t);let r=ct();return Lt(r.onButtonMouseDown(i))})("click",function(i){Dt(t);let r=ct();return Lt(r.onButtonClick(i))})("touchstart",function(i){Dt(t);let r=ct();return Lt(r.onTouchStart(i))})("touchmove",function(i){Dt(t);let r=ct();return Lt(r.onTouchMove(i))})("touchend",function(i){Dt(t);let r=ct();return Lt(r.onTouchEnd(i))}),x(2,"mat-icon",42),I(3),P(),It(4,mH,2,1,"div",43)(5,vH,3,0,"div",44),P(),It(6,OH,16,14,"div",45),P()}if(o&2){let t=ct();Vi("left",t.widgetPosition.x,"px")("top",t.widgetPosition.y,"px"),De("modal-drag-enabled",t.modalDragEnabled),j(),De("open",t.isWidgetOpen)("pulse-animate",!t.hasShownPulseAnimation)("drag-enabled",t.dragEnabled),j(2),Jt(t.isWidgetOpen?"close":"add"),j(),tt("ngIf",t.getPendingEditsCount()>0&&!t.isWidgetOpen),j(),tt("ngIf",t.dragEnabled&&!t.isDragging),j(),tt("ngIf",t.isWidgetOpen)}}function MH(o,n){if(o&1&&(x(0,"span",83),I(1),P()),o&2){let t=ct(2);j(),Fe(" ",t.newTemplateName.length," / 100 characters ")}}function wH(o,n){o&1&&(x(0,"span",84),I(1," Minimum 3 characters required "),P())}function SH(o,n){o&1&&(x(0,"div",85),I(1," \u26A0 Name must be at least 3 characters "),P())}function TH(o,n){o&1&&(x(0,"mat-icon"),I(1,"save"),P())}function EH(o,n){o&1&&vt(0,"mat-spinner",86)}function kH(o,n){if(o&1){let t=fe();x(0,"div",67)(1,"div",68)(2,"div",69)(3,"div",70)(4,"h2"),I(5,"\u{1F4DD} Name Your Template"),P(),x(6,"p"),I(7,"Give your template a memorable name before saving"),P()(),x(8,"div",71)(9,"div",72)(10,"label",73),I(11,"Template Name"),P(),x(12,"input",74),xi("ngModelChange",function(i){Dt(t);let r=ct();return Ci(r.newTemplateName,i)||(r.newTemplateName=i),Lt(i)}),Bt("keyup.enter",function(){Dt(t);let i=ct();return Lt(i.isValidName()&&i.confirmTemplateName())}),P(),x(13,"div",75),It(14,MH,2,1,"span",76)(15,wH,2,0,"span",77),P(),It(16,SH,2,0,"div",78),P()(),x(17,"div",79)(18,"button",80),Bt("click",function(){Dt(t);let i=ct();return Lt(i.cancelNameDialog())}),I(19," Cancel "),P(),x(20,"button",81),Bt("click",function(){Dt(t);let i=ct();return Lt(i.confirmTemplateName())}),It(21,TH,2,0,"mat-icon",57)(22,EH,1,0,"mat-spinner",82),I(23),P()()()()()}if(o&2){let t=ct();tt("@slideIn",void 0),j(12),bi("ngModel",t.newTemplateName),j(2),tt("ngIf",t.newTemplateName.length>0),j(),tt("ngIf",t.newTemplateName.length===0),j(),tt("ngIf",t.newTemplateName.length>0&&t.newTemplateName.trim().length<3),j(2),tt("disabled",t.isSavingTemplate),j(2),tt("disabled",!t.isValidName()||t.isSavingTemplate),j(),tt("ngIf",!t.isSavingTemplate),j(),tt("ngIf",t.isSavingTemplate),j(),Fe(" ",t.isSavingTemplate?"Saving...":"Save & Continue"," ")}}var cv=(()=>{class o{constructor(){this.router=be(jn),this.cacheService=be(jb),this.authService=be(hi),this.route=be(Ar),this.http=be(xs),this.cdr=be($i),this.templateState=be(Ms),this.AUTO_SAVE_DELAY=300,this.overlays=[],this.overlayContainer=null,this.showNameDialog=!1,this.newTemplateName="",this.isSavingTemplate=!1,this.failedEdits=[],this.showFloatingWidget=!1,this.isWidgetOpen=!1,this.hasShownPulseAnimation=!1,this.widgetPosition={x:20,y:100},this.isDragging=!1,this.dragEnabled=!1,this.dragOffset={x:0,y:0},this.isModalDragging=!1,this.modalDragEnabled=!1,this.modalPosition={x:0,y:0},this.modalDragOffset={x:0,y:0},this.lastButtonClickTime=0,this.lastModalClickTime=0,this.DOUBLE_CLICK_THRESHOLD=500,this.WIDGET_POSITION_KEY="visual_editor_widget_position",this.APPLIED_EDITS_KEY="visual_editor_applied_edits",this.PULSE_SHOWN_KEY="visual_editor_pulse_shown",this.loading=!0,this.showImportModal=!1,this.importHtmlCode="",this.importMethod="paste",this.EDITOR_CACHE_KEY="visual-editor-content",this.templateId=null,this.originalGoldenHtml=""}ngOnInit(){this.route.paramMap.subscribe(t=>{if(this.templateId=t.get("id"),!this.templateId){let e="visual_editor_temp_id",i=localStorage.getItem(e);i||(i="temp_"+Date.now()+"_"+Math.random().toString(36).substring(2,9),localStorage.setItem(e,i)),this.templateId=i}this.templateId&&(this.loadGoldenHtml(this.templateId),this.loadFailedEdits(this.templateId),setTimeout(()=>{this.loadFailedEdits(this.templateId),this.cdr.markForCheck()},100))}),this.restoreWidgetPosition()}ngAfterViewInit(){document.getElementById("gjs")?(this.initGrapesJS(),setTimeout(()=>{this.removeAllHighlights()},3e3),this.periodicSaveInterval=setInterval(()=>{this.editor&&this.templateId&&this.autoSave()},1e4),document.addEventListener("visibilitychange",()=>{document.hidden&&this.editor&&this.templateId&&this.autoSave()}),window.addEventListener("beforeunload",()=>{this.editor&&this.templateId&&this.autoSave()})):(this.loading=!1,this.cdr.markForCheck())}ngOnDestroy(){this.autoSave(!0),this.periodicSaveInterval&&clearInterval(this.periodicSaveInterval),this.autoSaveTimer&&clearTimeout(this.autoSaveTimer),document.body.classList.remove("validation-modal-open"),document.body.style.overflow="auto",this.editor&&this.editor.destroy()}onTouchStart(t){this.longPressTimer=setTimeout(()=>{this.dragEnabled=!0,this.isDragging=!0;let e=t.touches[0],r=t.currentTarget.getBoundingClientRect();this.dragOffset={x:e.clientX-r.left,y:e.clientY-r.top},"vibrate"in navigator&&navigator.vibrate(50)},500)}onTouchMove(t){if(!this.isDragging){clearTimeout(this.longPressTimer);return}t.preventDefault();let e=t.touches[0],i=window.innerWidth,r=window.innerHeight,a=60,s=e.clientX-this.dragOffset.x,l=e.clientY-this.dragOffset.y;s=Math.max(0,Math.min(s,i-a)),l=Math.max(0,Math.min(l,r-a)),this.widgetPosition={x:s,y:l},this.cdr.markForCheck()}onTouchEnd(t){clearTimeout(this.longPressTimer),this.isDragging&&(this.isDragging=!1,this.dragEnabled=!1,this.saveWidgetPosition())}promptTemplateName(){return new Promise(t=>{this.newTemplateName="",this.showNameDialog=!0,this.cdr.markForCheck(),window.__templateNameResolve=t})}cancelNameDialog(){this.showNameDialog=!1,this.newTemplateName="",window.__templateNameResolve&&(window.__templateNameResolve(null),delete window.__templateNameResolve)}confirmTemplateName(){let t=this.newTemplateName.trim();if(!this.isValidName()){this.showToast("Please enter a valid template name (3-100 characters)","error");return}this.showNameDialog=!1,window.__templateNameResolve&&(window.__templateNameResolve(t),delete window.__templateNameResolve)}isValidName(){let t=this.newTemplateName?.trim();return!!(t&&t.length>=3&&t.length<=100)}saveNewTemplate(t,e){return gn(this,null,function*(){this.isSavingTemplate=!0;try{let i="Unknown User";try{if("user$"in this.authService){let s=yield hc(this.authService.user$);i=s?.displayName||s?.name||s?.email||"Unknown User"}else if("currentUser"in this.authService){let s=this.authService.currentUser;i=s?.displayName||s?.name||s?.email||"Unknown User"}else{let s=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");if(s){let l=JSON.parse(s);i=l?.displayName||l?.name||l?.email||"Unknown User"}}}catch{}let r={name:t,content:e,type:"Visual editor",category:"N/A",createdBy:i,createdDate:new Date().toISOString(),lastEdited:new Date().toISOString(),active:!0,dragDrop:!0,responsive:"N/A",folderId:"N/A",source:"Visual Editor"},a=yield hc(this.http.post("/api/templates",r,{withCredentials:!0}));return this.showToast("Template saved successfully!","success"),a.id||a.templateId||a._id}catch{return this.showToast("Failed to save template. Please try again.","error"),null}finally{this.isSavingTemplate=!1}})}loadGoldenHtml(t){let e=localStorage.getItem(`visual_editor_${t}_editing_mode`),i=localStorage.getItem(`visual_editor_${t}_variant_meta`);if(e==="variant"&&i)try{let a=JSON.parse(i),{runId:s,no:l}=a,c=`visual_editor_variant_${s}_${l}_html`,u=localStorage.getItem(c);if(u){this.originalGoldenHtml=u;return}}catch{}let r=this.templateState.getTemplateForEditor(t);r?this.originalGoldenHtml=r:this.originalGoldenHtml=""}initGrapesJS(){try{let t=setTimeout(()=>{this.loading&&(this.loading=!1,this.cdr.markForCheck())},5e3);this.editor=rP.init({container:"#gjs",fromElement:!1,height:"calc(100vh - 80px)",width:"100%",storageManager:!1,plugins:[aP.default],pluginsOpts:{"grapesjs-preset-newsletter":{modalLabelImport:"Paste HTML",modalLabelExport:"Copy HTML",codeViewerTheme:"material",importPlaceholder:"<table>...</table>"}}}),this.editor.on("load",()=>{clearTimeout(t);try{let r=this.editor.Panels;r.removeButton("options","export-template"),r.removeButton("options","gjs-open-import-webpage"),r.removeButton("views","open-code")}catch{}this.setupCodeEditor();let e=`visual_editor_${this.templateId}_progress`;if(localStorage.getItem(e))this.restoreProgress(),setTimeout(()=>{this.autoSave()},500);else if(this.originalGoldenHtml)try{this.editor.setComponents(this.originalGoldenHtml),setTimeout(()=>{this.autoSave()},500)}catch{}else this.templateId&&(this.restoreProgress(),setTimeout(()=>{this.autoSave()},500));this.loading=!1}),this.editor.on("update",()=>{this.autoSave()}),this.editor.on("component:add",()=>{this.autoSave()}),this.editor.on("component:remove",()=>{this.autoSave()}),this.editor.on("component:update",()=>{this.autoSave()}),this.editor.on("style:update",()=>{this.autoSave()})}catch{this.loading=!1}}setupCodeEditor(){try{let t=this.editor.Panels;this.editor.Commands.add("custom-edit-code",{run:e=>{this.openCodeEditor(e)},stop:e=>{}}),t.addButton("options",{id:"custom-code-edit",className:"fa fa-code",command:e=>{this.openCodeEditor(e)},attributes:{title:"Edit HTML/CSS Code","data-tooltip":"Edit Code"}})}catch{}}openCodeEditor(t){try{let e=t.Modal,i=t.getHtml(),a=`<style>
${t.getCss()}
</style>

${i}`;e.setTitle("Edit HTML & CSS Code"),e.setContent(`
        <div style="padding: 20px; display: flex; flex-direction: column; height: 600px;">
          <div style="margin-bottom: 15px; color: #64748b; font-size: 14px; font-weight: 500;">
            \u270F\uFE0F Edit your template code below
          </div>
          <textarea id="gjs-code-editor" style="flex: 1; width: 100%; font-family: 'Courier New', Consolas, monospace; font-size: 14px; line-height: 1.6; padding: 20px; border: 2px solid #e2e8f0; border-radius: 10px; resize: none; background: #0f172a; color: #e2e8f0; outline: none;">${a}</textarea>
          <div style="margin-top: 20px; display: flex; gap: 12px; justify-content: flex-end;">
            <button id="apply-code-btn" style="background: #10b981; color: white; border: none; padding: 14px 28px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 15px; box-shadow: 0 2px 8px rgba(16,185,129,0.3);">
              \u2713 Apply Changes
            </button>
            <button id="cancel-code-btn" style="background: #ef4444; color: white; border: none; padding: 14px 28px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 15px; box-shadow: 0 2px 8px rgba(239,68,68,0.3);">
              \u2715 Close
            </button>
          </div>
        </div>
      `),e.open(),setTimeout(()=>{let s=document.getElementById("apply-code-btn"),l=document.getElementById("cancel-code-btn"),c=document.getElementById("gjs-code-editor");s&&(s.onclick=()=>{c&&(t.setComponents(c.value),s.textContent="\u2713 Applied!",s.style.background="#6d28d9",setTimeout(()=>{s.textContent="\u2713 Apply Changes",s.style.background="#10b981"},1500))}),l&&(l.onclick=()=>e.close())},100)}catch{}}openImportModal(){this.showImportModal=!0,this.importHtmlCode=""}closeImportModal(){this.showImportModal=!1,this.importHtmlCode=""}importHTML(){!this.editor||!this.importHtmlCode.trim()||(this.editor.setComponents(this.importHtmlCode),this.closeImportModal())}onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let i=e.files[0];if(!i.name.endsWith(".html")&&!i.name.endsWith(".htm")){this.showToast("\u26A0\uFE0F Please select a valid HTML file (.html or .htm)");return}let r=new FileReader;r.onload=a=>{let s=a.target?.result;s&&this.editor&&(this.editor.setComponents(s),this.closeImportModal(),this.showToast("\u2705 HTML file imported successfully!"))},r.onerror=()=>{this.showToast("\u274C Failed to read file. Please try again.")},r.readAsText(i)}setImportMethod(t){this.importMethod=t,this.importHtmlCode=""}goBack(){let t=localStorage.getItem(`visual_editor_${this.templateId}_editing_mode`),e=localStorage.getItem(`visual_editor_${this.templateId}_variant_meta`);if(t==="variant"&&e)try{let i=JSON.parse(e),{runId:r,no:a}=i,s=this.editor?.getHtml()||"",l=this.editor?.getCss()||"";s=this.cleanHtmlFromOverlays(s);let c=`<style>${l}</style>${s}`;sessionStorage.setItem("visual_editor_edited_html",c),sessionStorage.setItem("visual_editor_return_use_variant","true"),localStorage.removeItem(`visual_editor_variant_${r}_${a}_html`),localStorage.removeItem(`visual_editor_variant_${r}_${a}_snapshot`),localStorage.removeItem(`visual_editor_${this.templateId}_editing_mode`),localStorage.removeItem(`visual_editor_${this.templateId}_variant_meta`),localStorage.removeItem(`visual_editor_${this.templateId}_failed_edits`);let u=this.templateId;this.router.navigate(["/qa",u,"use",r,a]);return}catch{}this.router.navigate(["/"])}saveTemplate(){return gn(this,null,function*(){if(!this.editor)return;this.removeAllHighlights(),yield new Promise(r=>setTimeout(r,100));let t=this.editor.getHtml(),e=this.editor.getCss();t=this.cleanHtmlFromOverlays(t);let i=`<style>${e}</style>${t}`})}exportHTML(){return gn(this,null,function*(){if(!this.editor)return;this.removeAllHighlights(),yield new Promise(l=>setTimeout(l,100));let t=this.editor.getHtml(),e=this.editor.getCss();t=this.cleanHtmlFromOverlays(t);let i=`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>${e}</style>
</head>
<body>
  ${t}
</body>
</html>`,r=new Blob([i],{type:"text/html"}),a=window.URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download="email-template.html",s.click(),window.URL.revokeObjectURL(a)})}autoSave(t=!1){if(!(!this.editor||!this.templateId)){if(t){try{if(!this.editor||typeof this.editor.getHtml!="function"||typeof this.editor.getWrapper!="function")return;try{if(!this.editor.getWrapper())return}catch{return}let e=this.editor.getHtml(),i=this.editor.getCss();if(!e||e.trim()==="")return;e=this.cleanHtmlFromOverlays(e),this.templateState.saveEditorProgress(this.templateId,e,i);let r={html:e,css:i,templateId:this.templateId,savedAt:new Date().toISOString()},a=`visual_editor_${this.templateId}_progress`;localStorage.setItem(a,JSON.stringify(r))}catch{}return}this.autoSaveTimer&&clearTimeout(this.autoSaveTimer),this.autoSaveTimer=setTimeout(()=>{try{if(!this.editor||typeof this.editor.getHtml!="function"||typeof this.editor.getWrapper!="function")return;try{if(!this.editor.getWrapper())return}catch{return}let e=this.editor.getHtml(),i=this.editor.getCss();if(!e||e.trim()==="")return;e=this.cleanHtmlFromOverlays(e),this.templateState.saveEditorProgress(this.templateId,e,i);let r={html:e,css:i,templateId:this.templateId,savedAt:new Date().toISOString()},a=`visual_editor_${this.templateId}_progress`;localStorage.setItem(a,JSON.stringify(r))}catch{}},this.AUTO_SAVE_DELAY)}}restoreProgress(){if(this.templateId)try{let t=`visual_editor_${this.templateId}_progress`,e=localStorage.getItem(t);for(let i=0;i<localStorage.length;i++){let r=localStorage.key(i);if(r&&r.includes(this.templateId)){let a=localStorage.getItem(r)}}if(e){let i=JSON.parse(e);i&&this.editor&&(i.html&&this.editor.setComponents(i.html),i.css&&this.editor.setStyle(i.css))}}catch{}}clearProgress(){if(!this.templateId)return;let t=`visual_editor_${this.templateId}_progress`;localStorage.removeItem(t)}loadFailedEdits(t){let e=`visual_editor_${t}_editing_mode`;if(localStorage.getItem(e)==="original"){this.showFloatingWidget=!1,this.failedEdits=[];return}let r=`visual_editor_${t}_failed_edits`,a=localStorage.getItem(r)||sessionStorage.getItem(r);if(!a){this.showFloatingWidget=!1;return}try{if(this.failedEdits=JSON.parse(a),this.failedEdits.length>0){this.showFloatingWidget=!0;let s=`${this.PULSE_SHOWN_KEY}_${t}`;sessionStorage.getItem(s)?this.hasShownPulseAnimation=!0:(this.hasShownPulseAnimation=!1,sessionStorage.setItem(s,"true")),this.cdr.markForCheck()}else this.showFloatingWidget=!1}catch{this.showFloatingWidget=!1}}restoreWidgetPosition(){let t=localStorage.getItem(this.WIDGET_POSITION_KEY);if(t)try{let e=JSON.parse(t);this.widgetPosition=e}catch{this.widgetPosition={x:20,y:100}}else this.widgetPosition={x:20,y:100}}saveWidgetPosition(){localStorage.setItem(this.WIDGET_POSITION_KEY,JSON.stringify(this.widgetPosition))}onButtonMouseDown(t){let e=Date.now(),i=e-this.lastButtonClickTime;if(i<this.DOUBLE_CLICK_THRESHOLD&&i>0){t.stopPropagation(),t.preventDefault(),this.dragEnabled=!0,this.isDragging=!0,this.isWidgetOpen&&(this.isWidgetOpen=!1);let a=t.currentTarget.getBoundingClientRect();this.dragOffset={x:t.clientX-a.left,y:t.clientY-a.top},this.lastButtonClickTime=0}else this.lastButtonClickTime=e}onButtonClick(t){if(this.isDragging||this.dragEnabled)return;Date.now()-this.lastButtonClickTime<this.DOUBLE_CLICK_THRESHOLD&&this.lastButtonClickTime>0?(this.isWidgetOpen=!this.isWidgetOpen,this.isWidgetOpen&&(this.modalPosition={x:this.widgetPosition.x,y:this.widgetPosition.y+70}),this.isWidgetOpen&&!this.hasShownPulseAnimation&&(this.hasShownPulseAnimation=!0),this.cdr.markForCheck()):(this.isWidgetOpen=!this.isWidgetOpen,this.isWidgetOpen&&(this.modalPosition={x:this.widgetPosition.x,y:this.widgetPosition.y+70}),this.isWidgetOpen&&!this.hasShownPulseAnimation&&(this.hasShownPulseAnimation=!0))}closeWidget(){this.isWidgetOpen=!1}onDragStart(t){this.isDragging&&(t.preventDefault(),t.stopPropagation())}onDragMove(t){if(!this.isDragging||!this.dragEnabled)return;t.preventDefault();let e=window.innerWidth,i=window.innerHeight,r=60,a=t.clientX-this.dragOffset.x,s=t.clientY-this.dragOffset.y;a=Math.max(0,Math.min(a,e-r)),s=Math.max(0,Math.min(s,i-r));let l={x:a,y:s};this.widgetPosition=l,this.isWidgetOpen&&(this.modalPosition={x:a,y:s+70}),this.cdr.markForCheck()}onDragEnd(t){this.isDragging&&(t.stopPropagation(),t.preventDefault(),this.isDragging=!1,this.dragEnabled=!1,this.saveWidgetPosition())}onDocumentMouseMove(t){this.isDragging&&this.dragEnabled&&this.onDragMove(t),this.isModalDragging&&this.modalDragEnabled&&this.onModalDragMove(t)}onDocumentMouseUp(t){this.isDragging&&this.onDragEnd(t),this.isModalDragging&&this.onModalDragEnd(t)}onModalHeaderMouseDown(t){let e=Date.now(),i=e-this.lastModalClickTime;if(i<this.DOUBLE_CLICK_THRESHOLD&&i>0){t.stopPropagation(),t.preventDefault(),this.modalDragEnabled=!0,this.isModalDragging=!0;let r=t.target.closest(".widget-dropdown");if(!r)return;let a=r.getBoundingClientRect();this.modalDragOffset={x:t.clientX-a.left,y:t.clientY-a.top},this.modalPosition={x:a.left,y:a.top},this.lastModalClickTime=0,this.cdr.markForCheck()}else this.lastModalClickTime=e}onModalDragStart(t){}onModalDragMove(t){if(!this.isModalDragging||!this.modalDragEnabled)return;t.stopPropagation(),t.preventDefault();let e=window.innerWidth,i=window.innerHeight,r=t.clientX-this.modalDragOffset.x,a=t.clientY-this.modalDragOffset.y;r=Math.max(0,Math.min(r,e-400)),a=Math.max(0,Math.min(a,i-500));let s={x:r,y:a};this.modalPosition=s,this.widgetPosition={x:r,y:a-70},this.cdr.markForCheck()}onModalDragEnd(t){this.isModalDragging&&(t.stopPropagation(),t.preventDefault(),this.isModalDragging=!1,this.saveWidgetPosition())}applySuggestion(t){if(!this.editor){this.showToast("Editor not initialized","error");return}let e=this.failedEdits[t];if(!e||!e.find){this.showToast("Invalid edit data","error");return}let i=document.querySelector(".gjs-frame");if(!i||!i.contentDocument){this.showToast("Editor iframe not found","error");return}this.clearHighlights(i.contentDocument),this.highlightMatches(i.contentDocument,e.find,e.replace)}highlightMatches(t,e,i){let r=t.body;this.overlayContainer=t.createElement("div"),this.overlayContainer.id="ai-overlay-container",this.overlayContainer.setAttribute("data-gjs-type","temporary-overlay"),this.overlayContainer.setAttribute("data-gjs-removable","false"),this.overlayContainer.setAttribute("data-gjs-draggable","false"),this.overlayContainer.setAttribute("data-gjs-editable","false"),this.overlayContainer.setAttribute("data-gjs-selectable","false"),this.overlayContainer.setAttribute("data-gjs-hoverable","false"),this.overlayContainer.setAttribute("data-gjs-copyable","false"),this.overlayContainer.style.cssText=`
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
    `,r.appendChild(this.overlayContainer);let a=this.findAllTextMatches(r,e);if(a.length===0){this.showToast(`\u274C "${e}" not found`,"error"),this.clearHighlights(t);return}a.forEach((s,l)=>{this.createSimpleOverlay(t,s,l+1)}),this.showToast(`\u{1F50D} Found ${a.length} match(es)

Find: "${this.truncateText(e,30)}"
Replace with: "${this.truncateText(i,30)}"

Use Ctrl+F to find and replace manually`,"info"),this.overlays.length>0&&this.overlays[0].overlayElement.scrollIntoView({behavior:"smooth",block:"center"})}createSimpleOverlay(t,e,i){if(!this.overlayContainer)return;let r=e.getBoundingClientRect(),a=t.body.getBoundingClientRect(),s=t.documentElement.scrollTop||t.body.scrollTop,l=t.createElement("div");l.style.cssText=`
      position: absolute;
      left: ${r.left-a.left}px;
      top: ${r.top-a.top+s}px;
      width: ${r.width}px;
      height: ${r.height}px;
      background: rgba(255, 235, 59, 0.4);
      border: 2px solid #ffd700;
      border-radius: 4px;
      pointer-events: none;
      box-sizing: border-box;
    `;let c=t.createElement("div");c.textContent=i.toString(),c.style.cssText=`
      position: absolute;
      left: ${r.left-a.left+r.width+4}px;
      top: ${r.top-a.top+s-12}px;
      background: #667eea;
      color: white;
      font-size: 11px;
      font-weight: bold;
      padding: 3px 7px;
      border-radius: 12px;
      pointer-events: none;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      z-index: 10000;
    `,this.overlayContainer.appendChild(l),this.overlayContainer.appendChild(c),this.overlays.push({id:`overlay-${i}`,range:e.cloneRange(),rect:r,overlayElement:l,badgeElement:c,matchNumber:i,searchText:"",replaceText:""})}findAllTextMatches(t,e){let i=[],r=e.toLowerCase(),a=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:l=>{let c=l.parentElement;if(!c)return NodeFilter.FILTER_REJECT;let u=c.tagName.toLowerCase();return u==="script"||u==="style"||u==="noscript"||c.id==="ai-overlay-container"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),s;for(;s=a.nextNode();){let c=(s.textContent||"").toLowerCase(),u=0,p;for(;(p=c.indexOf(r,u))!==-1;){let g=document.createRange();g.setStart(s,p),g.setEnd(s,p+e.length),i.push(g),u=p+e.length}}return i}clearHighlights(t){let e=t.getElementById("ai-overlay-container");e&&e.remove(),this.overlays=[],this.overlayContainer=null}onCheckPreview(){return gn(this,null,function*(){if(!this.editor||!this.templateId)return;this.removeAllHighlights();let t=this.editor.Canvas.getFrameEl();if(t&&t.contentDocument&&t.contentDocument.body.offsetHeight,yield new Promise(a=>setTimeout(a,300)),this.templateId.startsWith("temp_")){let a=this.editor.getHtml(),s=this.editor.getCss();a=this.cleanHtmlFromOverlays(a);let l=`<style>${s}</style>${a}`,c=yield this.promptTemplateName();if(!c)return;let u=yield this.saveNewTemplate(c,l);if(!u)return;this.templateId=u,localStorage.removeItem("visual_editor_temp_id")}this.removeAllHighlights(),yield new Promise(a=>setTimeout(a,100));try{let a=this.editor.getHtml(),s=this.editor.getCss();if(a=this.cleanHtmlFromOverlays(a),a&&a.trim()){this.templateState.saveEditorProgress(this.templateId,a,s);let l={html:a,css:s,templateId:this.templateId,savedAt:new Date().toISOString()};localStorage.setItem(`visual_editor_${this.templateId}_progress`,JSON.stringify(l))}}catch{}let e=localStorage.getItem(`visual_editor_${this.templateId}_editing_mode`),i=`visual_editor_${this.templateId}_variant_meta`,r=localStorage.getItem(i);if(e==="variant"&&r)try{let a=JSON.parse(r),{runId:s,no:l}=a,c=this.editor.getHtml(),u=this.editor.getCss();c=this.cleanHtmlFromOverlays(c);let p=`<style>${u}</style>${c}`;sessionStorage.setItem("visual_editor_edited_html",p),sessionStorage.setItem("visual_editor_return_use_variant","true"),yield this.router.navigate(["/qa",this.templateId,"use",s,l],{replaceUrl:!1,skipLocationChange:!1})}catch{let s=`visual_editor_${this.templateId}_return_flag`;localStorage.setItem(s,"true"),this.router.navigate(["/qa",this.templateId])}else{let a=this.editor.getHtml(),s=this.editor.getCss();a=this.cleanHtmlFromOverlays(a);let l=`<style>${s}</style>${a}`,c=localStorage.getItem(`template_state_${this.templateId}_editing_context`);if(c)try{let p=JSON.parse(c);p.type==="golden"?localStorage.setItem(`visual_editor_${this.templateId}_golden_html`,l):p.type==="original"&&localStorage.setItem(`template_state_${this.templateId}_edited`,l)}catch{}let u=`visual_editor_${this.templateId}_return_flag`;localStorage.setItem(u,"true"),this.router.navigate(["/qa",this.templateId])}})}copyTextToClipboard(t,e){e&&e.stopPropagation(),navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>{this.showToast(`Copied: "${this.truncateText(t,30)}"`,"success")}).catch(i=>{this.fallbackCopyTextToClipboard(t)}):this.fallbackCopyTextToClipboard(t)}fallbackCopyTextToClipboard(t){let e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.top="-9999px",e.style.left="-9999px",e.style.opacity="0",e.setAttribute("readonly",""),document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")?this.showToast(`Copied: "${this.truncateText(t,30)}"`,"success"):this.showToast("Copy failed. Please try again.","error")}catch{this.showToast("Copy failed. Please try again.","error")}finally{document.body.removeChild(e)}}removeAllHighlights(){try{let t=document.querySelector("iframe#gjs");if(t||(t=document.querySelector(".gjs-frame")),t||(t=document.querySelector("iframe")),t&&t.contentDocument){let e=t.contentDocument,i=e.getElementById("ai-overlay-container");i&&i.remove();let r=e.querySelectorAll('span[data-ai-highlight="true"]');r.length>0&&(r.forEach(a=>{let s=e.createTextNode(a.textContent||"");a.parentNode?.replaceChild(s,a)}),e.body.normalize()),this.overlays=[],this.overlayContainer=null}}catch{}}cleanHtmlFromOverlays(t){if(!t)return t;let e=t.replace(/<div[^>]*id=["']ai-overlay-container["'][^>]*>[\s\S]*?<\/div>/gi,"");return e=e.replace(/<span[^>]*data-ai-highlight=["']true["'][^>]*>(.*?)<\/span>/gi,"$1"),e=e.replace(/background:\s*rgba\(255,\s*235,\s*59,\s*0\.4\);?/gi,""),e=e.replace(/background-color:\s*rgba\(255,\s*235,\s*59,\s*0\.4\);?/gi,""),e=e.replace(/<[^>]*data-gjs-type=["']temporary-overlay["'][^>]*>[\s\S]*?<\/[^>]+>/gi,""),e}searchAndReplaceText(t,e,i){i&&i.stopPropagation();try{let r=document.querySelector("iframe#gjs");if(r||(r=document.querySelector(".gjs-frame")),r||(r=document.querySelector("iframe")),!r||!r.contentDocument){this.showToast("Editor not ready","warning");return}let a=r.contentDocument,s=a.body;a.querySelectorAll('span[data-ai-highlight="true"]').forEach(g=>{let h=a.createTextNode(g.textContent||"");g.parentNode?.replaceChild(h,g)});let c=a.createTreeWalker(s,NodeFilter.SHOW_TEXT,null),u,p=!1;for(;u=c.nextNode();){let g=u.textContent||"",h=t.toLowerCase();if(g.toLowerCase().includes(h)){let y=u.parentElement;if(y){y.scrollIntoView({behavior:"smooth",block:"center"});let _=a.createRange(),O=g.toLowerCase().indexOf(h);_.setStart(u,O),_.setEnd(u,O+t.length);let M=a.createElement("span");M.setAttribute("data-ai-highlight","true"),M.style.cssText="background-color: yellow !important; color: black !important; padding: 2px; cursor: pointer; transition: all 0.2s;",M.title=`Click to replace with: ${e}`,M.addEventListener("click",w=>{w.stopPropagation();let T=a.createTextNode(e);if(M.parentNode?.replaceChild(T,M),T.parentNode&&T.parentNode.normalize(),this.showToast(`\u2713 Replaced with "${this.truncateText(e,25)}"`,"success"),this.editor&&this.templateId){let b=this.editor.getHtml(),k=this.editor.getCss();this.templateState.saveEditorProgress(this.templateId,b,k)}}),M.addEventListener("mouseenter",()=>{M.style.cssText="background-color: #4ade80 !important; color: white !important; padding: 2px; cursor: pointer; transform: scale(1.05); box-shadow: 0 0 8px rgba(74, 222, 128, 0.5);"}),M.addEventListener("mouseleave",()=>{M.style.cssText="background-color: yellow !important; color: black !important; padding: 2px; cursor: pointer; transition: all 0.2s;"});try{_.surroundContents(M),p=!0,this.showToast(`Found "${this.truncateText(t,25)}" - Click to replace`,"success");break}catch{}}}}p||this.showToast("Not found","warning")}catch{}}searchTextInPage(t,e){e&&e.stopPropagation();try{let i=document.querySelector("iframe#gjs");if(i||(i=document.querySelector(".gjs-frame")),i||(i=document.querySelector("iframe")),!i||!i.contentWindow||!i.contentDocument){this.showToast("Editor not ready","warning");return}let r=i.contentDocument,a=r.body,l=(a.innerText||a.textContent||"").toLowerCase(),c=t.toLowerCase();if(l.includes(c)){let u=r.createTreeWalker(a,NodeFilter.SHOW_TEXT,null),p,g=!1;for(;p=u.nextNode();){let h=p.textContent||"";if(h.toLowerCase().includes(c)){let y=p.parentElement;if(y){y.scrollIntoView({behavior:"smooth",block:"center"});let _=r.createRange(),O=h.toLowerCase().indexOf(c);_.setStart(p,O),_.setEnd(p,O+t.length);let M=r.createElement("span");M.style.cssText=`
                background-color: yellow !important;
                color: black !important;
                padding: 2px 4px;
                border-radius: 3px;
                box-shadow: 0 0 0 3px rgba(255, 235, 59, 0.5);
                font-weight: bold;
              `;try{_.surroundContents(M),setTimeout(()=>{if(M.parentNode){let w=r.createTextNode(M.textContent||"");M.parentNode.replaceChild(w,M)}},5e3)}catch{let T=r.getSelection();T&&(T.removeAllRanges(),T.addRange(_))}g=!0,this.showToast(`Found "${this.truncateText(t,30)}"`,"success");break}}}g||this.showToast("Found in content but could not highlight","warning")}else navigator.clipboard.writeText(t).then(()=>{this.showToast("Not found. Copied - try Ctrl+F","warning")}).catch(()=>{this.showToast("Not found","warning")})}catch{this.showToast("Press Ctrl+F to search","info")}}makeTextCopyable(t,e){t.style.cursor="pointer",t.title="Click to copy",t.addEventListener("click",i=>{i.stopPropagation(),this.copyTextToClipboard(e)})}showToast(t,e="info"){let i=document.createElement("div"),r="",a="";switch(e){case"success":r="\u2713",a="#10b981";break;case"error":r="\u2715",a="#ef4444";break;case"warning":r="\u26A0",a="#f59e0b";break;case"info":r="\u2139",a="#3b82f6";break}i.style.cssText=`
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: ${a};
      color: white;
      padding: 16px 20px;
      border-radius: 10px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      z-index: 10000;
      font-weight: 600;
      font-size: 14px;
      max-width: 400px;
      white-space: pre-line;
      display: flex;
      align-items: center;
      gap: 10px;
    `,i.innerHTML=`
      <span style="font-size: 18px; line-height: 1; display: flex; align-items: center; flex-shrink: 0;">${r}</span>
      <span style="line-height: 1.4;">${t}</span>
    `,document.body.appendChild(i),setTimeout(()=>{i.remove()},e==="info"?1e4:3e3)}truncateText(t,e){return t.length<=e?t:t.substring(0,e)+"..."}isEditApplied(t){if(!this.templateId)return!1;let e=`${this.APPLIED_EDITS_KEY}_${this.templateId}`,i=sessionStorage.getItem(e);if(!i)return!1;try{return JSON.parse(i).includes(t)}catch{return!1}}getPendingEditsCount(){return this.failedEdits.filter((t,e)=>!this.isEditApplied(e)).length}selectText(t){let e=t.target;if(window.getSelection&&document.createRange){let i=window.getSelection(),r=document.createRange();r.selectNodeContents(e),i?.removeAllRanges(),i?.addRange(r)}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-visual-editor"]],viewQuery:function(e,i){if(e&1&&Wo(dH,5),e&2){let r;Ki(r=qi())&&(i.editorContainer=r.first)}},hostBindings:function(e,i){e&1&&Bt("mousemove",function(a){return i.onDocumentMouseMove(a)},!1,ru)("mouseup",function(a){return i.onDocumentMouseUp(a)},!1,ru)},standalone:!0,features:[cn],decls:36,vars:7,consts:[["editorContainer",""],["fileInput",""],[1,"visual-editor-page"],[1,"editor-header"],["mat-button","",1,"back-btn",3,"click"],[1,"header-title"],[1,"header-actions"],["mat-stroked-button","",1,"action-btn",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","",1,"action-btn","primary",3,"click"],["class","loading-container",4,"ngIf"],[1,"editor-wrapper"],["id","gjs",1,"grapesjs-editor"],["class","import-modal",4,"ngIf"],["class","floating-widget-container",3,"modal-drag-enabled","left","top",4,"ngIf"],["class","name-dialog-overlay",4,"ngIf"],[1,"loading-container"],["diameter","48","mode","indeterminate"],[1,"import-modal"],[1,"modal-backdrop",3,"click"],[1,"modal-content"],[1,"modal-header"],["mat-icon-button","",3,"click"],[1,"import-tabs"],[1,"tab-btn",3,"click"],[1,"modal-body"],["class","file-upload-container",4,"ngIf"],["class","paste-code-container",4,"ngIf"],[1,"modal-footer"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"file-upload-container"],[1,"upload-area"],["type","file","accept",".html,.htm",2,"display","none",3,"change"],[1,"upload-content",3,"click"],[1,"upload-icon"],[1,"file-types"],[1,"file-badge"],[1,"paste-code-container"],["placeholder","Paste your HTML code here...","rows","15",3,"ngModelChange","ngModel"],[1,"floating-widget-container"],[1,"floating-button",3,"mousedown","click","touchstart","touchmove","touchend"],[1,"widget-icon"],["class","count-badge",4,"ngIf"],["class","drag-indicator",4,"ngIf"],["class","widget-dropdown",3,"modal-dragging","modal-drag-enabled","left","top",4,"ngIf"],[1,"count-badge"],[1,"drag-indicator"],[1,"widget-dropdown"],[1,"dropdown-header",3,"mousedown"],[1,"edit-count"],[1,"dropdown-content"],["class","suggestion-item",3,"applied",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"dropdown-footer"],[1,"suggestion-item"],[1,"status-indicator"],[4,"ngIf"],[1,"suggestion-content"],[1,"text-block","find-text"],[1,"label"],["title","Click to find and replace",1,"searchable",3,"click"],[1,"text-block","replace-text"],["title","Click to copy",1,"copyable",3,"click"],["class","reason",4,"ngIf"],[1,"reason"],[1,"empty-state"],[1,"name-dialog-overlay"],[1,"name-dialog-container"],[1,"name-dialog-content"],[1,"dialog-header"],[1,"dialog-body"],[1,"template-name-field"],[1,"field-label"],["type","text","placeholder","e.g., Welcome Email, Newsletter Template","maxlength","100","autofocus","",1,"template-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"field-hint"],["class","char-count",4,"ngIf"],["class","hint-text",4,"ngIf"],["class","field-error",4,"ngIf"],[1,"dialog-actions"],["mat-button","",1,"cancel-btn",3,"click","disabled"],["mat-raised-button","","color","primary",1,"save-btn",3,"click","disabled"],["diameter","20","class","spinner-inline",4,"ngIf"],[1,"char-count"],[1,"hint-text"],[1,"field-error"],["diameter","20",1,"spinner-inline"]],template:function(e,i){if(e&1){let r=fe();x(0,"div",2)(1,"div",3)(2,"button",4),Bt("click",function(){return Dt(r),Lt(i.goBack())}),x(3,"mat-icon"),I(4,"arrow_back"),P(),x(5,"span"),I(6,"Back to Dashboard"),P()(),x(7,"div",5)(8,"mat-icon"),I(9,"design_services"),P(),x(10,"h1"),I(11,"Visual Template Editor"),P()(),x(12,"div",6)(13,"button",7),Bt("click",function(){return Dt(r),Lt(i.openImportModal())}),x(14,"mat-icon"),I(15,"file_upload"),P(),I(16," Import HTML "),P(),x(17,"button",7),Bt("click",function(){return Dt(r),Lt(i.saveTemplate())}),x(18,"mat-icon"),I(19,"save"),P(),I(20," Save "),P(),x(21,"button",8),Bt("click",function(){return Dt(r),Lt(i.onCheckPreview())}),x(22,"mat-icon"),I(23,"preview"),P(),I(24,` Check Preview
`),P(),x(25,"button",9),Bt("click",function(){return Dt(r),Lt(i.exportHTML())}),x(26,"mat-icon"),I(27,"file_download"),P(),I(28," Export HTML "),P()()(),It(29,uH,4,0,"div",10),x(30,"div",11),vt(31,"div",12,0),P(),It(33,hH,29,7,"div",13)(34,PH,7,16,"div",14)(35,kH,24,10,"div",15),P()}e&2&&(j(21),tt("disabled",i.loading),j(8),tt("ngIf",i.loading),j(),De("hidden",i.loading),j(3),tt("ngIf",i.showImportModal),j(),tt("ngIf",i.showFloatingWidget),j(),tt("ngIf",i.showNameDialog))},dependencies:[Tn,kr,qn,Ir,bo,Co,hf,xo,Oi,ro,lr,Mi,Pi,cr,Oo,Po,Ss],styles:[`@charset "UTF-8";.visual-editor-page{display:flex;flex-direction:column;height:100vh;width:100%;background:#f8fafc;overflow:hidden}.editor-header{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;background:#fff;border-bottom:1px solid #e2e8f0;box-shadow:0 1px 3px #0000000d;z-index:100;flex-shrink:0}.back-btn{display:flex;align-items:center;gap:.5rem;color:#64748b}.back-btn:hover{color:#6d28d9}.header-title{display:flex;align-items:center;gap:.75rem}.header-title mat-icon{color:#f59e0b;font-size:28px;width:28px;height:28px}.header-title h1{margin:0;font-size:1.25rem;font-weight:600;color:#1e293b}.header-actions{display:flex;gap:.75rem}.action-btn{display:flex;align-items:center;gap:.5rem}.action-btn.primary{background:#6d28d9;color:#fff}.action-btn.primary:hover{background:#5b21b6}.loading-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:calc(100vh - 80px);gap:1rem}.loading-container p{color:#64748b;font-size:1rem}.editor-wrapper{flex:1;overflow:hidden;position:relative;min-height:0;height:100%}.editor-wrapper.hidden{display:none}.grapesjs-editor{height:100%;width:100%}.import-modal{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center}.modal-backdrop{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content{position:relative;background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;width:90%;max-width:700px;max-height:80vh;display:flex;flex-direction:column;overflow:hidden}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;border-bottom:1px solid #e2e8f0}.modal-header h2{margin:0;font-size:1.25rem;font-weight:600;color:#1e293b;display:flex;align-items:center;gap:.5rem}.modal-header h2 mat-icon{color:#6d28d9}.import-tabs{display:flex;border-bottom:2px solid #e2e8f0;background:#f8fafc}.import-tabs .tab-btn{flex:1;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;background:transparent;border:none;color:#64748b;font-size:.9375rem;font-weight:500;cursor:pointer;transition:all .3s ease;position:relative}.import-tabs .tab-btn mat-icon{font-size:20px;width:20px;height:20px}.import-tabs .tab-btn:hover{background:#6d28d90d;color:#6d28d9}.import-tabs .tab-btn.active{color:#6d28d9;background:#fff}.import-tabs .tab-btn.active:after{content:"";position:absolute;bottom:-2px;left:0;right:0;height:2px;background:linear-gradient(90deg,#8b5cf6,#6d28d9)}.modal-body{flex:1;padding:1.5rem;overflow-y:auto;min-height:350px}.modal-body textarea{width:100%;min-height:300px;padding:1rem;border:2px solid #e2e8f0;border-radius:8px;font-family:Courier New,monospace;font-size:.875rem;resize:vertical}.modal-body textarea:focus{outline:none;border-color:#6d28d9}.modal-body textarea::placeholder{color:#94a3b8}.file-upload-container{height:100%;display:flex;align-items:center;justify-content:center}.upload-area{width:100%;min-height:300px;display:flex;align-items:center;justify-content:center}.upload-content{width:100%;max-width:400px;padding:3rem 2rem;border:3px dashed #cbd5e1;border-radius:16px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);text-align:center;cursor:pointer;transition:all .3s ease}.upload-content:hover{border-color:#6d28d9;background:linear-gradient(135deg,#faf5ff,#f3e8ff);transform:translateY(-4px);box-shadow:0 8px 24px #6d28d926}.upload-content:hover .upload-icon mat-icon{transform:scale(1.1);color:#6d28d9}.upload-content:active{transform:translateY(-2px)}.upload-icon{margin-bottom:1rem}.upload-icon mat-icon{font-size:64px;width:64px;height:64px;color:#94a3b8;transition:all .3s ease}.upload-content h3{margin:0 0 .5rem;font-size:1.125rem;font-weight:600;color:#1e293b}.upload-content p{margin:0 0 1.5rem;font-size:.875rem;color:#64748b}.file-types{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap}.file-badge{display:inline-block;padding:.25rem .75rem;background:#fff;border:1px solid #e2e8f0;border-radius:6px;font-size:.75rem;font-weight:600;color:#6d28d9;font-family:Courier New,monospace}.paste-code-container{height:100%}.modal-footer{display:flex;gap:.75rem;justify-content:flex-end;padding:1.5rem;border-top:1px solid #e2e8f0}.modal-footer .primary{background:#6d28d9;color:#fff}.modal-footer .primary:hover:not(:disabled){background:#5b21b6}.modal-footer .primary:disabled{opacity:.5;cursor:not-allowed}.check-preview-btn{background:linear-gradient(135deg,#8b5cf6,#6d28d9)!important;color:#fff!important;box-shadow:0 4px 12px #6d28d94d;transition:all .3s ease}.check-preview-btn mat-icon{margin-right:.5rem}.check-preview-btn:hover:not(:disabled){box-shadow:0 6px 20px #6d28d966;transform:translateY(-2px)}.check-preview-btn:active:not(:disabled){transform:translateY(0)}.check-preview-btn:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.header-actions{display:flex;gap:12px;align-items:center}.floating-widget-container{position:fixed;z-index:999;pointer-events:none;transition:left .1s ease-out,top .1s ease-out}.floating-widget-container.modal-drag-enabled{transition:none}.floating-widget-container>*{pointer-events:auto}.floating-button{position:relative;width:60px;height:60px;background:linear-gradient(135deg,#3b82f6,#2563eb);border-radius:50%;box-shadow:0 4px 20px #3b82f666;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-user-select:none;user-select:none}.floating-button:hover{transform:scale(1.1);box-shadow:0 6px 28px #3b82f680}.floating-button:active{transform:scale(.95)}.floating-button.open{background:linear-gradient(135deg,#ef4444,#dc2626);box-shadow:0 4px 20px #ef444466}.floating-button.open .widget-icon{transform:rotate(90deg)}.floating-button.drag-enabled{cursor:move!important;box-shadow:0 6px 28px #3b82f699;transform:scale(1.05)}.floating-button.drag-enabled .widget-icon{opacity:.3}.floating-button.pulse-animate{animation:pulse-attention 2s ease-in-out infinite}.floating-button .widget-icon{color:#fff;font-size:28px;width:28px;height:28px;transition:transform .3s ease,opacity .3s ease}.floating-button .count-badge{position:absolute;top:-4px;right:-4px;min-width:24px;height:24px;background:linear-gradient(135deg,#f59e0b,#d97706);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;padding:0 6px;box-shadow:0 2px 8px #f59e0b66;animation:badge-pop .4s cubic-bezier(.34,1.56,.64,1)}.floating-button .drag-indicator{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;z-index:10}.floating-button .drag-indicator mat-icon{font-size:32px;width:32px;height:32px;color:#fff;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3));animation:pulse-drag 1s ease-in-out infinite}@keyframes pulse-drag{0%,to{transform:scale(1);opacity:.8}50%{transform:scale(1.2);opacity:1}}@keyframes pulse-modal-drag{0%,to{transform:scale(1);opacity:.6}50%{transform:scale(1.15);opacity:1}}.widget-dropdown{position:fixed;top:70px;left:0;width:380px;max-height:400px;background:#fff;border-radius:16px;box-shadow:0 12px 48px #0003;display:flex;flex-direction:column;overflow:hidden;border:1px solid rgba(0,0,0,.08);transition:box-shadow .3s ease}.widget-dropdown.modal-drag-enabled{box-shadow:0 16px 64px #6366f14d;border:2px solid rgba(99,102,241,.4);cursor:move}.widget-dropdown.modal-dragging{cursor:grabbing!important;box-shadow:0 20px 80px #6366f180;transform:scale(1.02);z-index:999}.widget-dropdown .dropdown-header{display:flex;align-items:center;justify-content:space-between;position:relative;cursor:move;padding:16px 20px;background:linear-gradient(135deg,#3b82f614,#2563eb14);border-bottom:1px solid rgba(0,0,0,.06)}.widget-dropdown .dropdown-header.draggable-header{background:linear-gradient(135deg,#6366f10d,#8b5cf60d);border-bottom:2px solid rgba(99,102,241,.2)}.widget-dropdown .dropdown-header h3{margin:0;font-size:16px;font-weight:600;color:#1e293b;display:flex;align-items:center;gap:8px}.widget-dropdown .dropdown-header h3 mat-icon{color:#f59e0b;font-size:20px;width:20px;height:20px}.widget-dropdown .dropdown-header .edit-count{font-size:12px;font-weight:700;color:#fff;background:linear-gradient(135deg,#3b82f6,#2563eb);padding:4px 12px;border-radius:12px;box-shadow:0 2px 8px #3b82f64d}.widget-dropdown .dropdown-content{flex:1;overflow-y:auto;padding:12px}.widget-dropdown .dropdown-content::-webkit-scrollbar{width:6px}.widget-dropdown .dropdown-content::-webkit-scrollbar-track{background:#00000008}.widget-dropdown .dropdown-content::-webkit-scrollbar-thumb{background:#3b82f64d;border-radius:3px}.widget-dropdown .dropdown-content::-webkit-scrollbar-thumb:hover{background:#3b82f680}.widget-dropdown .dropdown-footer{padding:12px 16px;border-top:1px solid rgba(0,0,0,.06);display:flex;justify-content:flex-end}.widget-dropdown .dropdown-footer button{color:#64748b}.widget-dropdown .dropdown-footer button mat-icon{margin-right:4px}.widget-dropdown .dropdown-footer button:hover{color:#ef4444;background:#ef444414}.suggestion-item{display:flex;align-items:flex-start;gap:12px;padding:14px;background:#fff;border:2px solid rgba(0,0,0,.08);border-radius:12px;margin-bottom:10px;transition:all .3s ease}.suggestion-item:last-child{margin-bottom:0}.suggestion-item:hover:not(.applied){border-color:#3b82f64d;box-shadow:0 4px 16px #3b82f61a;transform:translate(4px)}.suggestion-item.applied{opacity:.6;background:#10b98108;border-color:#10b98133}.suggestion-item.selected{border-color:#f59e0b;background:#f59e0b0d}.suggestion-item .status-indicator{flex-shrink:0;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.suggestion-item .status-indicator mat-icon{font-size:18px;width:18px;height:18px}.suggestion-item .status-indicator.pending{background:linear-gradient(135deg,#f59e0b26,#fbbf2426);border:2px solid rgba(245,158,11,.3)}.suggestion-item .status-indicator.pending mat-icon{color:#f59e0b}.suggestion-item .status-indicator.success{background:linear-gradient(135deg,#10b98126,#05966926);border:2px solid rgba(16,185,129,.3)}.suggestion-item .status-indicator.success mat-icon{color:#10b981}.suggestion-item .status-indicator.failed{background:linear-gradient(135deg,#ef444426,#dc262626);border:2px solid rgba(239,68,68,.3)}.suggestion-item .status-indicator.failed mat-icon{color:#ef4444}.suggestion-item .suggestion-content{flex:1;display:flex;flex-direction:column;gap:8px;min-width:0;overflow:visible}.suggestion-item .suggestion-content .text-block{display:flex;flex-direction:column;gap:4px}.suggestion-item .suggestion-content .text-block .label{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#64748b}.suggestion-item .suggestion-content .text-block code{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:13px;padding:8px 10px;border-radius:8px;display:block;word-break:break-word;cursor:text;transition:all .2s ease}.suggestion-item .suggestion-content .text-block code:hover{box-shadow:0 0 0 2px #3b82f633}.suggestion-item .suggestion-content .text-block.find-text code{background:linear-gradient(135deg,#ef44441a,#dc26261a);border:1px solid rgba(239,68,68,.2);color:#991b1b}.suggestion-item .suggestion-content .text-block.replace-text code{background:linear-gradient(135deg,#10b9811a,#0596691a);border:1px solid rgba(16,185,129,.2);color:#065f46}.suggestion-item .suggestion-content .reason{display:flex;align-items:center;gap:8px;font-size:12px;color:#64748b;font-style:italic;padding:8px 12px;background:#00000005;border-radius:6px;overflow:visible}.suggestion-item .suggestion-content .reason mat-icon{font-size:16px;width:16px;height:16px;color:#3b82f6;flex-shrink:0}.suggestion-item .apply-btn{flex-shrink:0;width:36px;height:36px;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border-radius:50%;box-shadow:0 2px 8px #10b9814d;transition:all .3s ease}.suggestion-item .apply-btn mat-icon{font-size:20px;width:20px;height:20px}.suggestion-item .apply-btn:hover{transform:scale(1.1);box-shadow:0 4px 16px #10b98166}.suggestion-item .apply-btn:active{transform:scale(.95)}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}.empty-state mat-icon{font-size:64px;width:64px;height:64px;color:#10b981;margin-bottom:12px}.empty-state p{margin:0;font-size:16px;font-weight:600;color:#64748b}@keyframes pulse-attention{0%,to{box-shadow:0 4px 20px #3b82f666;transform:scale(1)}50%{box-shadow:0 8px 40px #3b82f6cc,0 0 0 12px #3b82f633;transform:scale(1.05)}}@keyframes badge-pop{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}@media (max-width: 768px){.floating-button{width:50px;height:50px}.floating-button .widget-icon{font-size:24px;width:24px;height:24px}.floating-button .count-badge{min-width:20px;height:20px;font-size:11px}.widget-dropdown{width:320px;max-height:350px}.widget-dropdown .dropdown-header h3{font-size:14px}.widget-dropdown .suggestion-item{padding:12px;gap:10px}.widget-dropdown .suggestion-item .status-indicator{width:28px;height:28px}.widget-dropdown .suggestion-item .status-indicator mat-icon{font-size:16px;width:16px;height:16px}.widget-dropdown .suggestion-item .suggestion-content .text-block code{font-size:12px;padding:6px 8px}.widget-dropdown .suggestion-item .apply-btn{width:32px;height:32px}.widget-dropdown .suggestion-item .apply-btn mat-icon{font-size:18px;width:18px;height:18px}}@media (max-width: 480px){.floating-button{width:44px;height:44px}.floating-button .widget-icon{font-size:20px;width:20px;height:20px}.floating-button .count-badge{min-width:18px;height:18px;font-size:10px}.widget-dropdown{width:calc(100vw - 32px);max-width:280px;max-height:300px}.modal-content{width:95%;max-height:90vh}.modal-header{padding:1rem}.modal-header h2{font-size:1rem}.modal-header h2 mat-icon{font-size:18px;width:18px;height:18px}.import-tabs .tab-btn{padding:.75rem;font-size:.8125rem;flex-direction:column;gap:.25rem}.import-tabs .tab-btn span{font-size:.75rem}.modal-body{padding:1rem}.modal-body textarea{min-height:200px;font-size:.8125rem}.upload-content{padding:2rem 1rem}.upload-content h3{font-size:1rem}.upload-content p{font-size:.8125rem}.upload-icon mat-icon{font-size:48px;width:48px;height:48px}.modal-footer{padding:1rem;flex-wrap:wrap}.modal-footer button{flex:1;min-width:100px}}@media (prefers-reduced-motion: reduce){.floating-button.pulse-animate{animation:none}.status-indicator.pending mat-icon{animation:none}*{animation-duration:.01ms!important;transition-duration:.01ms!important}}::ng-deep .match-number-badge{position:absolute;top:-8px;right:-8px;min-width:18px;height:18px;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;padding:2px 4px;box-shadow:0 2px 6px #ef444480;z-index:10;pointer-events:none}@keyframes slideInRight{0%{opacity:0;transform:translate(100px)}to{opacity:1;transform:translate(0)}}@keyframes slideOutRight{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:translate(100px)}}.custom-toast{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;letter-spacing:.3px}::ng-deep .ai-highlight{background:#ffeb3b66!important;border:2px solid #ffd700;border-radius:4px;padding:2px 4px;box-sizing:border-box}.copyable{cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease}.copyable:hover{background:#a855f71a!important;transform:scale(1.02)}.copyable:active{transform:scale(.98)}.searchable{cursor:text;-webkit-user-select:text;user-select:text;transition:all .2s ease}.searchable:hover{background:#3b82f626!important;transform:scale(1.02);box-shadow:0 0 0 2px #3b82f64d}.searchable:active{transform:scale(.98)}.name-dialog-overlay{position:fixed;inset:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px}.name-dialog-container{background:#fff;border-radius:16px;box-shadow:0 24px 48px #0003;max-width:500px;width:100%;animation:slideInUp .3s cubic-bezier(.4,0,.2,1)}@keyframes slideInUp{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.name-dialog-content{padding:32px}.dialog-header{margin-bottom:24px}.dialog-header h2{margin:0 0 8px;font-size:24px;font-weight:600;color:#1e293b}.dialog-header p{margin:0;font-size:14px;color:#64748b}.dialog-body{margin-bottom:24px}.dialog-body .template-name-field{width:100%}.dialog-body .template-name-field .field-label{display:block;font-size:14px;font-weight:500;color:#64748b;margin-bottom:8px}.dialog-body .template-name-field .template-input{width:100%;font-size:16px;padding:16px;border:2px solid #e2e8f0;border-radius:8px;background:#f8fafc;outline:none;transition:all .2s ease;font-family:inherit}.dialog-body .template-name-field .template-input::placeholder{color:#94a3b8}.dialog-body .template-name-field .template-input:focus{border-color:#667eea;background:#fff;box-shadow:0 0 0 3px #667eea1a}.dialog-body .template-name-field .template-input:hover:not(:focus){border-color:#cbd5e1}.dialog-body .template-name-field .field-hint{margin-top:8px;font-size:12px}.dialog-body .template-name-field .field-hint .char-count{color:#64748b}.dialog-body .template-name-field .field-hint .hint-text{color:#94a3b8}.dialog-body .template-name-field .field-error{margin-top:8px;font-size:12px;color:#ef4444;font-weight:500}.dialog-actions{display:flex;gap:12px;justify-content:flex-end}.dialog-actions button{min-width:120px;height:44px;font-weight:600}.dialog-actions button[mat-raised-button]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.dialog-actions button[mat-raised-button]:hover:not(:disabled){background:linear-gradient(135deg,#5568d3,#6a3f91);transform:translateY(-2px);box-shadow:0 8px 16px #667eea4d}.dialog-actions button[mat-raised-button]:disabled{opacity:.6;cursor:not-allowed}.dialog-actions button[mat-button]{color:#64748b}.dialog-actions button[mat-button]:hover:not(:disabled){background:#f1f5f9}@media (max-width: 600px){.name-dialog-container{max-width:100%;margin:20px}.name-dialog-content{padding:24px}.dialog-actions{flex-direction:column-reverse}.dialog-actions button{width:100%}}
`],encapsulation:2,data:{animation:[Jn("slideIn",[In(":enter",[$e({opacity:0,transform:"translateY(-20px) scale(0.95)"}),En("300ms cubic-bezier(0.4, 0, 0.2, 1)",$e({opacity:1,transform:"translateY(0) scale(1)"}))]),In(":leave",[En("200ms cubic-bezier(0.4, 0, 0.2, 1)",$e({opacity:0,transform:"translateY(-20px) scale(0.95)"}))])])]}})}}return o})();var sP=(()=>{class o{canDeactivate(t){return t.canDeactivate?t.canDeactivate():!0}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275prov=yo({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var AH=["*"];var IH=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],DH=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],LH=new ea("MAT_CARD_CONFIG"),lP=(()=>{class o{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(e){return new(e||o)(pn(LH,8))}}static{this.\u0275cmp=ln({type:o,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){e&2&&De("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[cn],ngContentSelectors:AH,decls:1,vars:0,template:function(e,i){e&1&&(fl(),Go(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return o})(),cP=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275dir=Ta({type:o,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return o})();var dP=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275dir=Ta({type:o,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return o})();var uP=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[cn],ngContentSelectors:DH,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,i){e&1&&(fl(IH),Go(0),x(1,"div",0),Go(2,1),P(),Go(3,2))},encapsulation:2,changeDetection:0})}}return o})();var td=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=Uo({type:o})}static{this.\u0275inj=Bo({imports:[Dr,Tn,Dr]})}}return o})();var VH=["trigger"],jH=["panel"],HH=[[["mat-select-trigger"]],"*"],BH=["mat-select-trigger","*"];function UH(o,n){if(o&1&&(x(0,"span",4),I(1),P()),o&2){let t=ct();j(),Jt(t.placeholder)}}function GH(o,n){o&1&&Go(0)}function WH(o,n){if(o&1&&(x(0,"span",11),I(1),P()),o&2){let t=ct(2);j(),Jt(t.triggerValue)}}function KH(o,n){if(o&1&&(x(0,"span",10),It(1,GH,1,0)(2,WH,2,1),P()),o&2){let t=ct();j(),au(1,t.customTrigger?1:2)}}function qH(o,n){if(o&1){let t=fe();x(0,"div",12,1),Bt("@transformPanel.done",function(i){Dt(t);let r=ct();return Lt(r._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){Dt(t);let r=ct();return Lt(r._handleKeydown(i))}),Go(2,1),P()}if(o&2){let t=ct();$y("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),tt("ngClass",t.panelClass)("@transformPanel","showing"),fi("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}var $H={transformPanelWrap:Jn("transformPanelWrap",[In("* => void",gb("@transformPanel",[fb()],{optional:!0}))]),transformPanel:Jn("transformPanel",[hl("void",$e({opacity:0,transform:"scale(1, 0.8)"})),In("void => showing",En("120ms cubic-bezier(0, 0, 0.2, 1)",$e({opacity:1,transform:"scale(1, 1)"}))),In("* => void",En("100ms linear",$e({opacity:0})))])};var mP=0,_P=new ea("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let o=be(qm);return()=>o.scrollStrategies.reposition()}});function YH(o){return()=>o.scrollStrategies.reposition()}var XH=new ea("MAT_SELECT_CONFIG"),QH={provide:_P,deps:[qm],useFactory:YH},JH=new ea("MatSelectTrigger"),dv=class{constructor(n,t){this.source=n,this.value=t}},lh=(()=>{class o{_scrollOptionIntoView(t){let e=this.options.toArray()[t];if(e){let i=this.panel.nativeElement,r=kb(t,this.options,this.optionGroups),a=e._getHostElement();t===0&&r===1?i.scrollTop=0:i.scrollTop=Ab(a.offsetTop,a.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new dv(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(hb.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._selectionModel,this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,e,i,r,a,s,l,c,u,p,g,h,y,_){this._viewportRuler=t,this._changeDetectorRef=e,this._elementRef=a,this._dir=s,this._parentFormField=u,this.ngControl=p,this._liveAnnouncer=y,this._defaultOptions=_,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(O,M)=>O===M,this._uid=`mat-select-${mP++}`,this._triggerAriaLabelledBy=null,this._destroy=new Gi,this.stateChanges=new Gi,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${mP++}`,this._panelDoneAnimatingStream=new Gi,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Gi,this.optionSelectionChanges=jy(()=>{let O=this.options;return O?O.changes.pipe(Bm(O),eu(()=>nf(...O.map(M=>M.onSelectionChange)))):this._initialized.pipe(eu(()=>this.optionSelectionChanges))}),this.openedChange=new nr,this._openedStream=this.openedChange.pipe(ta(O=>O),eo(()=>{})),this._closedStream=this.openedChange.pipe(ta(O=>!O),eo(()=>{})),this.selectionChange=new nr,this.valueChange=new nr,this._trackedModal=null,this._skipPredicate=O=>this.panelOpen?!1:O.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),_?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=_.typeaheadDebounceInterval),this._errorStateTracker=new wb(r,p,c,l,this.stateChanges),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(g)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Ib(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(_s(),hn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(hn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(hn(this._destroy)).subscribe(t=>{t.added.forEach(e=>e.select()),t.removed.forEach(e=>e.deselect())}),this.options.changes.pipe(Bm(null),hn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let t=this._getTriggerAriaLabelledby(),e=this.ngControl;if(t!==this._triggerAriaLabelledBy){let i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}e&&(this._previousControl!==e.control&&(this._previousControl!==void 0&&e.disabled!==null&&e.disabled!==this.disabled&&(this.disabled=e.disabled),this._previousControl=e.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let e=`${this.id}-panel`;this._trackedModal&&Wm(this._trackedModal,"aria-owns",e),Cb(t,"aria-owns",e),this._trackedModal=t}_clearFromModal(){if(!this._trackedModal)return;let t=`${this.id}-panel`;Wm(this._trackedModal,"aria-owns",t),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let t=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){let e=t.keyCode,i=e===40||e===38||e===37||e===39,r=e===13||e===32,a=this._keyManager;if(!a.isTyping()&&r&&!Gm(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){let s=this.selected;a.onKeydown(t);let l=this.selected;l&&s!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(t){let e=this._keyManager,i=t.keyCode,r=i===40||i===38,a=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(!a&&(i===13||i===32)&&e.activeItem&&!Gm(t))t.preventDefault(),e.activeItem._selectViaInteraction();else if(!a&&this._multiple&&i===65&&t.ctrlKey){t.preventDefault();let s=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(s?l.select():l.deselect())})}else{let s=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==s&&e.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(_o(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(e=>e.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(e=>this._selectOptionByValue(e)),this._sortValues();else{let e=this._selectOptionByValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){let e=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return i.value!=null&&this._compareWith(i.value,t)}catch{return!1}});return e&&this._selectionModel.select(e),e}_assignValue(t){return t!==this._value||this._multiple&&Array.isArray(t)?(this.options&&this._setSelectionByValue(t),this._value=t,!0):!1}_getOverlayWidth(t){return this.panelWidth==="auto"?(t instanceof $m?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new xb(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let t=nf(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(hn(t)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),nf(...this.options.map(e=>e._stateChanges)).pipe(hn(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,e){let i=this._selectionModel.isSelected(t);t.value==null&&!this._multiple?(t.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(t.value)):(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let t=this.options.toArray();this._selectionModel.sort((e,i)=>this.sortComparator?this.sortComparator(e,i,t):t.indexOf(e)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let e;this.multiple?e=this.selected.map(i=>i.value):e=this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let e=0;e<this.options.length;e++)if(!this.options.get(e).disabled){t=e;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),e=t?t+" ":"";return this.ariaLabelledby?e+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),e=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(e){return new(e||o)(pn(Rb),pn($i),pn(ka),pn(Sb),pn(Ea),pn(Mb,8),pn(vb,8),pn(_b,8),pn(Kb,8),pn(mb,10),Gy("tabindex"),pn(_P),pn(Ob),pn(XH,8))}}static{this.\u0275cmp=ln({type:o,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(e&1&&(bs(r,JH,5),bs(r,bc,5),bs(r,Eb,5)),e&2){let a;Ki(a=qi())&&(i.customTrigger=a.first),Ki(a=qi())&&(i.options=a),Ki(a=qi())&&(i.optionGroups=a)}},viewQuery:function(e,i){if(e&1&&(Wo(VH,5),Wo(jH,5),Wo(Ym,5)),e&2){let r;Ki(r=qi())&&(i.trigger=r.first),Ki(r=qi())&&(i.panel=r.first),Ki(r=qi())&&(i._overlayDir=r.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,i){e&1&&Bt("keydown",function(a){return i._handleKeydown(a)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),e&2&&(fi("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),De("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[sr.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[sr.HasDecoratorInputTransform,"disabled","disabled",gl],disableRipple:[sr.HasDecoratorInputTransform,"disableRipple","disableRipple",gl],tabIndex:[sr.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>t==null?0:_c(t)],hideSingleSelectionIndicator:[sr.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",gl],placeholder:"placeholder",required:[sr.HasDecoratorInputTransform,"required","required",gl],multiple:[sr.HasDecoratorInputTransform,"multiple","multiple",gl],disableOptionCentering:[sr.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",gl],compareWith:"compareWith",value:"value",ariaLabel:[sr.None,"aria-label","ariaLabel"],ariaLabelledby:[sr.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[sr.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",_c],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Xy([{provide:Wb,useExisting:o},{provide:Tb,useExisting:o}]),ou,ys,cn],ngContentSelectors:BH,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(e,i){if(e&1){let r=fe();fl(HH),x(0,"div",2,0),Bt("click",function(){return Dt(r),Lt(i.open())}),x(3,"div",3),It(4,UH,2,1,"span",4)(5,KH,3,1),P(),x(6,"div",5)(7,"div",6),Xt(),x(8,"svg",7),vt(9,"path",8),P()()()(),It(10,qH,3,9,"ng-template",9),Bt("backdropClick",function(){return Dt(r),Lt(i.close())})("attach",function(){return Dt(r),Lt(i._onAttached())})("detach",function(){return Dt(r),Lt(i.close())})}if(e&2){let r=gi(1);j(3),fi("id",i._valueId),j(),au(4,i.empty?4:5),j(6),tt("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[$m,Ym,na],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[$H.transformPanel]},changeDetection:0})}}return o})();var ch=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=Uo({type:o})}static{this.\u0275inj=Bo({providers:[QH],imports:[Tn,zb,Km,Dr,Fb,Po,Km,Dr]})}}return o})();function ZH(o,n){if(o&1&&(x(0,"div",4),Xt(),x(1,"svg",5),vt(2,"path",6),P(),ie(),x(3,"span",7),I(4," Showing "),x(5,"strong"),I(6),P(),I(7," to "),x(8,"strong"),I(9),P(),I(10," of "),x(11,"strong"),I(12),P()()()),o&2){let t=ct();j(6),Jt(t.startItem),j(3),Jt(t.endItem),j(3),Jt(t.totalItems)}}function tB(o,n){if(o&1){let t=fe();x(0,"button",18),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.goToFirstPage())}),Xt(),x(1,"svg",5),vt(2,"path",19),P(),ie(),x(3,"span",12),I(4),P()()}if(o&2){let t=ct(2);tt("disabled",t.isFirstPage),fi("aria-label",t.config.firstLabel),j(4),Jt(t.config.firstLabel)}}function eB(o,n){if(o&1&&(x(0,"span"),I(1),P()),o&2){let t=ct().$implicit;j(),Jt(t)}}function nB(o,n){o&1&&(x(0,"span",23),I(1,"..."),P())}function iB(o,n){if(o&1){let t=fe();x(0,"button",20),Bt("click",function(){let i=Dt(t).$implicit,r=ct(2);return Lt(r.goToPage(i))}),It(1,eB,2,1,"span",21)(2,nB,2,0,"span",22),P()}if(o&2){let t=n.$implicit,e=ct(2);De("active",t===e.currentPage)("ellipsis",t===-1),tt("disabled",t===-1),fi("aria-label","Page "+t),j(),tt("ngIf",t!==-1),j(),tt("ngIf",t===-1)}}function rB(o,n){if(o&1){let t=fe();x(0,"button",24),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.goToLastPage())}),x(1,"span",12),I(2),P(),Xt(),x(3,"svg",5),vt(4,"path",25),P()()}if(o&2){let t=ct(2);tt("disabled",t.isLastPage),fi("aria-label",t.config.lastLabel),j(2),Jt(t.config.lastLabel)}}function oB(o,n){if(o&1){let t=fe();x(0,"div",8),It(1,tB,5,3,"button",9),x(2,"button",10),Bt("click",function(){Dt(t);let i=ct();return Lt(i.goToPreviousPage())}),Xt(),x(3,"svg",5),vt(4,"path",11),P(),ie(),x(5,"span",12),I(6),P()(),x(7,"div",13),It(8,iB,3,8,"button",14),P(),x(9,"button",15),Bt("click",function(){Dt(t);let i=ct();return Lt(i.goToNextPage())}),x(10,"span",12),I(11),P(),Xt(),x(12,"svg",5),vt(13,"path",16),P()(),It(14,rB,5,3,"button",17),P()}if(o&2){let t=ct();j(),tt("ngIf",t.config.showFirstLastButtons),j(),tt("disabled",!t.hasPreviousPage),fi("aria-label",t.config.previousLabel),j(4),Jt(t.config.previousLabel),j(2),tt("ngForOf",t.visiblePages),j(),tt("disabled",!t.hasNextPage),fi("aria-label",t.config.nextLabel),j(2),Jt(t.config.nextLabel),j(3),tt("ngIf",t.config.showFirstLastButtons)}}function aB(o,n){if(o&1&&(x(0,"mat-option",32),I(1),P()),o&2){let t=n.$implicit;tt("value",t),j(),Fe(" ",t," ")}}function sB(o,n){if(o&1){let t=fe();x(0,"div",26)(1,"label",27),Xt(),x(2,"svg",5),vt(3,"path",28),P(),ie(),x(4,"span"),I(5,"Per page:"),P()(),x(6,"mat-form-field",29)(7,"mat-select",30),Bt("selectionChange",function(i){Dt(t);let r=ct();return Lt(r.onPageSizeChange(i.value))}),It(8,aB,2,2,"mat-option",31),P()()()}if(o&2){let t=ct();j(7),tt("value",t.pageSize),j(),tt("ngForOf",t.config.pageSizeOptions)}}var dh=(()=>{class o{constructor(){this.totalItems=0,this.currentPage=1,this.pageSize=25,this.loading=!1,this.config={pageSizeOptions:[10,25,50,100],showFirstLastButtons:!0,showPageSizeSelector:!0,showPageInfo:!0,maxVisiblePages:7,previousLabel:"Previous",nextLabel:"Next",firstLabel:"First",lastLabel:"Last"},this.pageChange=new nr,this.pageSizeChange=new nr,this.totalPages=0,this.visiblePages=[],this.startItem=0,this.endItem=0,this.defaultConfig={pageSizeOptions:[10,25,50,100],showFirstLastButtons:!0,showPageSizeSelector:!0,showPageInfo:!0,maxVisiblePages:7,previousLabel:"Previous",nextLabel:"Next",firstLabel:"First",lastLabel:"Last"}}ngOnChanges(t){this.config=pi(pi({},this.defaultConfig),this.config),this.calculatePagination()}calculatePagination(){this.totalPages=Math.ceil(this.totalItems/this.pageSize),this.currentPage>this.totalPages&&this.totalPages>0&&(this.currentPage=this.totalPages),this.currentPage<1&&(this.currentPage=1),this.visiblePages=this.calculateVisiblePages(),this.startItem=this.totalItems===0?0:(this.currentPage-1)*this.pageSize+1,this.endItem=Math.min(this.currentPage*this.pageSize,this.totalItems)}calculateVisiblePages(){let t=this.config.maxVisiblePages||7,e=[];if(this.totalPages<=t)for(let i=1;i<=this.totalPages;i++)e.push(i);else{let i=Math.floor(t/2),r=Math.max(1,this.currentPage-i),a=Math.min(this.totalPages,r+t-1);a-r<t-1&&(r=Math.max(1,a-t+1)),r>1&&(e.push(1),r>2&&e.push(-1));for(let s=r;s<=a;s++)e.push(s);a<this.totalPages&&(a<this.totalPages-1&&e.push(-1),e.push(this.totalPages))}return e}goToPage(t){t<1||t>this.totalPages||t===this.currentPage||(this.currentPage=t,this.calculatePagination(),this.emitPageChange())}goToFirstPage(){this.goToPage(1)}goToLastPage(){this.goToPage(this.totalPages)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToNextPage(){this.goToPage(this.currentPage+1)}onPageSizeChange(t){if(t===this.pageSize)return;this.pageSize=t;let e=(this.currentPage-1)*this.pageSize;this.currentPage=Math.floor(e/t)+1,this.calculatePagination(),this.pageSizeChange.emit(this.pageSize),this.emitPageChange()}emitPageChange(){let t={page:this.currentPage,pageSize:this.pageSize,offset:(this.currentPage-1)*this.pageSize};this.pageChange.emit(t)}get hasPreviousPage(){return this.currentPage>1}get hasNextPage(){return this.currentPage<this.totalPages}get isFirstPage(){return this.currentPage===1}get isLastPage(){return this.currentPage===this.totalPages}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-pagination"]],inputs:{totalItems:"totalItems",currentPage:"currentPage",pageSize:"pageSize",loading:"loading",config:"config"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[ys,cn],decls:4,vars:3,consts:[[1,"pagination-wrapper"],["class","pagination-info",4,"ngIf"],["class","pagination-controls",4,"ngIf"],["class","page-size-selector",4,"ngIf"],[1,"pagination-info"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"info-text"],[1,"pagination-controls"],["class","pagination-btn first-btn",3,"disabled","click",4,"ngIf"],[1,"pagination-btn","prev-btn",3,"click","disabled"],["d","M15 19l-7-7 7-7"],[1,"btn-label"],[1,"page-numbers"],["class","page-number-btn",3,"active","ellipsis","disabled","click",4,"ngFor","ngForOf"],[1,"pagination-btn","next-btn",3,"click","disabled"],["d","M9 5l7 7-7 7"],["class","pagination-btn last-btn",3,"disabled","click",4,"ngIf"],[1,"pagination-btn","first-btn",3,"click","disabled"],["d","M11 19l-7-7 7-7m8 14l-7-7 7-7"],[1,"page-number-btn",3,"click","disabled"],[4,"ngIf"],["class","ellipsis-dots",4,"ngIf"],[1,"ellipsis-dots"],[1,"pagination-btn","last-btn",3,"click","disabled"],["d","M13 5l7 7-7 7M5 5l7 7-7 7"],[1,"page-size-selector"],[1,"selector-label"],["d","M4 6h16M4 12h16M4 18h16"],["appearance","outline",1,"page-size-mat-select"],["panelClass","pagination-select-panel",3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){e&1&&(x(0,"div",0),It(1,ZH,13,3,"div",1)(2,oB,15,9,"div",2)(3,sB,9,2,"div",3),P()),e&2&&(j(),tt("ngIf",i.config.showPageInfo&&i.totalItems>0),j(),tt("ngIf",i.totalPages>0),j(),tt("ngIf",i.config.showPageSizeSelector&&i.config.pageSizeOptions&&i.config.pageSizeOptions.length>0))},dependencies:[Tn,kr,qn,Ir,Po,xc,ch,lh,bc],styles:["[_nghost-%COMP%]{display:block;width:100%}.pagination-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1.5rem;padding:1.5rem;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:16px;border:1px solid rgba(139,92,246,.1);box-shadow:0 4px 24px #8b5cf614,0 2px 8px #0000000a;position:relative;transition:all .3s cubic-bezier(.4,0,.2,1);flex-wrap:wrap}.pagination-wrapper.loading[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}@media (max-width: 1024px){.pagination-wrapper[_ngcontent-%COMP%]{gap:1rem;padding:1rem}}@media (max-width: 768px){.pagination-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}}.pagination-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#64748b;font-size:.875rem;font-weight:500}.pagination-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#8b5cf6;flex-shrink:0}.pagination-info[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{white-space:nowrap}.pagination-info[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1e293b;font-weight:600}@media (max-width: 768px){.pagination-info[_ngcontent-%COMP%]{justify-content:center;order:3}}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1;justify-content:center}@media (max-width: 768px){.pagination-controls[_ngcontent-%COMP%]{order:1;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none}.pagination-controls[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}}.pagination-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1rem;background:linear-gradient(135deg,#8b5cf60d,#ec48990d);border:1.5px solid rgba(139,92,246,.2);border-radius:10px;color:#8b5cf6;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);white-space:nowrap;-webkit-user-select:none;user-select:none;box-sizing:border-box}.pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;transition:transform .2s ease}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#8b5cf626,#ec489926);border-color:#8b5cf666;box-shadow:0 4px 12px #8b5cf633}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled)   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.pagination-btn[_ngcontent-%COMP%]:active:not(:disabled){box-shadow:0 2px 6px #8b5cf626}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;background:#94a3b80d;border-color:#94a3b833;color:#94a3b8}.pagination-btn[_ngcontent-%COMP%]:focus{outline:none}.pagination-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid rgba(139,92,246,.5);outline-offset:2px}@media (max-width: 640px){.pagination-btn[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.pagination-btn.first-btn[_ngcontent-%COMP%], .pagination-btn.last-btn[_ngcontent-%COMP%]{display:none}}.page-numbers[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;margin:0 .5rem}@media (max-width: 640px){.page-numbers[_ngcontent-%COMP%]{margin:0 .25rem;gap:.25rem}}.page-number-btn[_ngcontent-%COMP%]{min-width:40px;height:40px;display:flex;align-items:center;justify-content:center;padding:.5rem;background:#fffc;border:1.5px solid rgba(139,92,246,.15);border-radius:10px;color:#64748b;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);-webkit-user-select:none;user-select:none;box-sizing:border-box;position:relative}@media (max-width: 640px){.page-number-btn[_ngcontent-%COMP%]{min-width:36px;height:36px;font-size:.8125rem}}.page-number-btn[_ngcontent-%COMP%]:hover:not(:disabled):not(.active):not(.ellipsis){background:linear-gradient(135deg,#8b5cf61a,#ec48991a);border-color:#8b5cf64d;color:#8b5cf6;box-shadow:0 4px 12px #8b5cf626}.page-number-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);border-color:#8b5cf6;color:#fff;box-shadow:0 4px 16px #8b5cf64d,0 2px 8px #8b5cf633;font-weight:700}.page-number-btn.active[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#9333ea,#a855f7)}.page-number-btn.ellipsis[_ngcontent-%COMP%]{cursor:default;border-color:transparent;background:transparent;color:#94a3b8;pointer-events:none}.page-number-btn.ellipsis[_ngcontent-%COMP%]   .ellipsis-dots[_ngcontent-%COMP%]{letter-spacing:2px;font-weight:700}.page-number-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.page-number-btn[_ngcontent-%COMP%]:focus{outline:none}.page-number-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid rgba(139,92,246,.5);outline-offset:2px}.page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}@media (max-width: 768px){.page-size-selector[_ngcontent-%COMP%]{order:2;justify-content:center}}.page-size-selector[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#64748b;font-size:.875rem;font-weight:600;cursor:pointer;-webkit-user-select:none;user-select:none}.page-size-selector[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;color:#3b82f6}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]{width:70px;margin:0}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{min-height:auto;padding:0;border:none}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{padding:0;background:#fff;border-radius:8px}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-flex{height:36px;align-items:center;padding:0 .5rem 0 .75rem;background:#fff;border:1.5px solid rgba(59,130,246,.2);border-radius:8px;transition:all .2s ease}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-flex:hover{border-color:#3b82f666;box-shadow:0 2px 8px #3b82f626}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-focus-overlay{display:none}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mdc-notched-outline{display:none}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-select{padding:0;font-size:.875rem;font-weight:600}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-value{color:#1e293b;font-size:.875rem;font-weight:600}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-trigger{height:36px;min-height:36px}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-arrow-wrapper{height:20px;padding-left:.25rem}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #3b82f6}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow svg{display:none}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-focused .mat-mdc-form-field-flex{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-form-field-disabled .mat-mdc-form-field-flex{opacity:.5;cursor:not-allowed}.pagination-loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffc;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border-radius:16px;display:flex;align-items:center;justify-content:center;z-index:10}.loading-spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid rgba(139,92,246,.2);border-top-color:#8b5cf6;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 640px){.pagination-wrapper[_ngcontent-%COMP%]{padding:1rem .75rem;gap:.75rem}.pagination-controls[_ngcontent-%COMP%]{gap:.375rem}.pagination-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.8125rem}.pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.page-size-selector[_ngcontent-%COMP%]{padding:.5rem .75rem;gap:.5rem}.page-size-selector[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.pagination-btn[_ngcontent-%COMP%]:focus-visible, .page-number-btn[_ngcontent-%COMP%]:focus-visible, .page-size-select[_ngcontent-%COMP%]:focus-visible{outline:2px solid #8b5cf6;outline-offset:2px}  .pagination-select-panel{margin-top:8px;border-radius:12px;box-shadow:0 8px 32px #8b5cf626!important;border:1px solid rgba(139,92,246,.1);overflow:hidden}  .pagination-select-panel .mat-mdc-option{min-height:44px;padding:0 1rem;font-size:.875rem;font-weight:600;color:#64748b;transition:all .2s ease}  .pagination-select-panel .mat-mdc-option:hover{background:linear-gradient(135deg,#8b5cf614,#ec489914);color:#8b5cf6}  .pagination-select-panel .mat-mdc-option.mat-mdc-option-active,   .pagination-select-panel .mat-mdc-option.mdc-list-item--selected{background:linear-gradient(135deg,#8b5cf626,#ec489926);color:#8b5cf6;font-weight:700}  .pagination-select-panel .mat-mdc-option.mat-mdc-option-active .mdc-list-item__primary-text,   .pagination-select-panel .mat-mdc-option.mdc-list-item--selected .mdc-list-item__primary-text{color:#8b5cf6}"]})}}return o})();var lB=o=>["/organization/campaigns",o];function cB(o,n){o&1&&(x(0,"div",8)(1,"div",9),vt(2,"mat-spinner",10),x(3,"p",11),I(4,"Loading organization dashboard..."),P()()())}function dB(o,n){if(o&1&&(x(0,"div",12)(1,"div",13)(2,"div",14),Xt(),x(3,"svg",15),vt(4,"path",16),P()(),ie(),x(5,"h2"),I(6),P(),x(7,"p"),I(8,"Please try refreshing the page or contact support"),P()()()),o&2){let t=ct();j(6),Jt(t.error)}}function uB(o,n){if(o&1){let t=fe();x(0,"div")(1,"div",26),I(2),P(),x(3,"div",46),Xt(),x(4,"svg",15),vt(5,"path",47),P(),ie(),x(6,"span"),I(7),P()(),x(8,"button",48),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.viewAudienceList())}),Xt(),x(9,"svg",15),vt(10,"path",49),P(),I(11," View Audience "),P()()}if(o&2){let t=ct(2);j(2),Jt(t.audienceData.stats.totalSubscribers),j(5),Fe("+",t.audienceData.stats.newLast30Days," last 30 days")}}function pB(o,n){if(o&1){let t=fe();x(0,"div",50)(1,"div",51),Xt(),x(2,"svg",15),vt(3,"path",52),P()(),ie(),x(4,"p",53),I(5,"No audience configured"),P(),x(6,"p",54),I(7,"Link or create a Mailchimp audience list"),P(),x(8,"button",55),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.setupAudience())}),Xt(),x(9,"svg",15),vt(10,"path",56),P(),I(11),P()()}if(o&2){let t=ct(2);j(8),tt("disabled",t.settingUpAudience),j(3),Fe(" ",t.settingUpAudience?"Setting up...":"Setup Audience"," ")}}function fB(o,n){if(o&1){let t=fe();x(0,"div",57)(1,"div",20)(2,"div",58)(3,"div",59),Xt(),x(4,"svg",15),vt(5,"path",60),P()(),ie(),x(6,"h3",23),I(7,"Audience Insights"),P(),vt(8,"div",61),P(),x(9,"button",62),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.refreshData())}),x(10,"mat-icon"),I(11,"refresh"),P()()(),x(12,"div",25)(13,"div",63)(14,"div",64)(15,"div",65),Xt(),x(16,"svg",15),vt(17,"path",66),P()(),ie(),x(18,"div",67)(19,"span",68),I(20),P(),x(21,"span",40),I(22,"Subscribed"),P()()(),x(23,"div",69)(24,"div",65),Xt(),x(25,"svg",15),vt(26,"path",70),P()(),ie(),x(27,"div",67)(28,"span",68),I(29),P(),x(30,"span",40),I(31,"Unsubscribed"),P()()(),x(32,"div",71)(33,"div",65),Xt(),x(34,"svg",15),vt(35,"path",72)(36,"path",73),P()(),ie(),x(37,"div",67)(38,"span",68),I(39),P(),x(40,"span",40),I(41,"Avg. Open Rate"),P()()(),x(42,"div",74)(43,"div",65),Xt(),x(44,"svg",15),vt(45,"path",75),P()(),ie(),x(46,"div",67)(47,"span",68),I(48),P(),x(49,"span",40),I(50,"Avg. Click Rate"),P()()()()()()}if(o&2){let t=ct(2);j(9),tt("disabled",t.loading),j(11),Jt(t.audienceData.stats.subscribed),j(9),Jt(t.audienceData.stats.unsubscribed),j(10),Jt(t.formatPercent(t.audienceData.stats.openRate)),j(9),Jt(t.formatPercent(t.audienceData.stats.clickRate))}}function gB(o,n){if(o&1&&(x(0,"p",98),I(1),P()),o&2){let t=ct().$implicit;j(),Jt(t.subject)}}function hB(o,n){if(o&1&&(x(0,"div",99)(1,"span",100),Xt(),x(2,"svg",15),vt(3,"path",72)(4,"path",73),P(),I(5),P(),ie(),x(6,"span",101),Xt(),x(7,"svg",15),vt(8,"path",75),P(),I(9),P()()),o&2){let t=ct().$implicit,e=ct(3);j(5),Fe(" ",e.formatPercent(t.metrics.openRate)," "),j(4),Fe(" ",e.formatPercent(t.metrics.clickRate)," ")}}function mB(o,n){if(o&1&&(x(0,"button",102),Xt(),x(1,"svg",15),vt(2,"path",60),P(),I(3," View Report "),P()),o&2){let t=ct().$implicit;tt("routerLink",sf(1,lB,t._id))}}function vB(o,n){if(o&1){let t=fe();x(0,"div",83)(1,"div",84)(2,"div",85)(3,"h4",86),I(4),P(),It(5,gB,2,1,"p",87),x(6,"div",88)(7,"span",89),Xt(),x(8,"svg",15),vt(9,"path",35),P(),I(10),P(),ie(),x(11,"span",90),I(12,"\u2022"),P(),x(13,"span",89),Xt(),x(14,"svg",15),vt(15,"path",91),P(),I(16),P()()(),ie(),x(17,"div",92)(18,"span",93),I(19),P(),It(20,hB,10,2,"div",94)(21,mB,4,3,"button",95),x(22,"button",96),Bt("click",function(i){let r=Dt(t).$implicit;return ct(3).refreshCampaignMetrics(r._id),Lt(i.stopPropagation())}),Xt(),x(23,"svg",15),vt(24,"path",97),P()()()()()}if(o&2){let t=n.$implicit,e=ct(3);j(4),Jt(t.name),j(),tt("ngIf",t.subject),j(5),Fe(" ",t.recipientsCount," recipients "),j(6),Fe(" ",e.formatDate(t.createdAt)," "),j(2),tt("ngClass",e.getStatusClass(t.status)),j(),Fe(" ",t.status," "),j(),tt("ngIf",t.status==="sent"),j(),tt("ngIf",t.status==="sent"),j(),De("spinning",e.syncingCampaigns.has(t._id)),tt("disabled",e.syncingCampaigns.has(t._id))}}function _B(o,n){if(o&1){let t=fe();x(0,"app-pagination",103),Bt("pageChange",function(i){Dt(t);let r=ct(3);return Lt(r.onCampaignPageChange(i))}),P()}if(o&2){let t=ct(3);tt("currentPage",t.campaignsCurrentPage)("pageSize",t.campaignsPageSize)("totalItems",t.campaignsTotalItems)}}function yB(o,n){if(o&1&&(x(0,"div",76)(1,"div",20)(2,"div",77),Xt(),x(3,"svg",15),vt(4,"path",78),P()(),ie(),x(5,"h3",23),I(6,"Recent Campaigns"),P(),vt(7,"div",79),P(),x(8,"div",25)(9,"div",80),It(10,vB,25,11,"div",81),P(),It(11,_B,1,3,"app-pagination",82),P()()),o&2){let t=ct(2);j(10),tt("ngForOf",t.paginatedCampaigns),j(),tt("ngIf",t.campaignsTotalItems>5)}}function bB(o,n){o&1&&(x(0,"div",104)(1,"div",105),Xt(),x(2,"svg",15),vt(3,"path",22),P()(),ie(),x(4,"h2"),I(5,"No campaigns yet"),P(),x(6,"p"),I(7,"Create your first email campaign to get started"),P()())}function CB(o,n){if(o&1&&(x(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21),Xt(),x(5,"svg",15),vt(6,"path",22),P()(),ie(),x(7,"h3",23),I(8,"Campaigns"),P(),vt(9,"div",24),P(),x(10,"div",25)(11,"div",26),I(12),P(),x(13,"div",27)(14,"div",28),vt(15,"div",29),x(16,"span",30),I(17),P(),x(18,"span",31),I(19,"Draft"),P()(),x(20,"div",32),vt(21,"div",29),x(22,"span",30),I(23),P(),x(24,"span",31),I(25,"Scheduled"),P()(),x(26,"div",33),vt(27,"div",29),x(28,"span",30),I(29),P(),x(30,"span",31),I(31,"Sent"),P()()()()(),x(32,"div",34)(33,"div",20)(34,"div",21),Xt(),x(35,"svg",15),vt(36,"path",35),P()(),ie(),x(37,"h3",23),I(38,"Subscribers"),P(),vt(39,"div",24),P(),x(40,"div",25),It(41,uB,12,2,"div",36)(42,pB,12,2,"div",37),P()(),x(43,"div",38)(44,"div",20)(45,"div",21),Xt(),x(46,"svg",15),vt(47,"path",39),P()(),ie(),x(48,"h3",23),I(49,"Templates"),P(),vt(50,"div",24),P(),x(51,"div",25)(52,"div",26),I(53),P(),x(54,"div",40),I(55,"Email templates created"),P()()(),x(56,"div",41)(57,"div",20)(58,"div",21),Xt(),x(59,"svg",15),vt(60,"path",42),P()(),ie(),x(61,"h3",23),I(62,"Team"),P(),vt(63,"div",24),P(),x(64,"div",25)(65,"div",26),I(66),P(),x(67,"div",40),I(68,"Team members"),P()()()(),It(69,fB,51,5,"div",43)(70,yB,12,2,"div",44)(71,bB,8,0,"div",45),P()),o&2){let t=ct();j(12),Jt(t.dashboardData.stats.campaigns.total),j(5),Jt(t.dashboardData.stats.campaigns.draft),j(6),Jt(t.dashboardData.stats.campaigns.scheduled),j(6),Jt(t.dashboardData.stats.campaigns.sent),j(12),tt("ngIf",t.audienceData),j(),tt("ngIf",!t.audienceData),j(11),Jt(t.dashboardData.stats.templates),j(13),Jt(t.dashboardData.stats.members),j(3),tt("ngIf",t.audienceData),j(),tt("ngIf",t.dashboardData.recentCampaigns.length>0),j(),tt("ngIf",t.dashboardData.recentCampaigns.length===0&&!t.audienceData)}}var bP=(()=>{class o{constructor(){this.orgService=be(Mc),this.authService=be(hi),this.route=be(Ar),this.router=be(jn),this.snackBar=be(Os),this.destroy$=new Gi,this.loading=!0,this.error=null,this.dashboardData=null,this.audienceData=null,this.organizationId=null,this.syncingCampaigns=new Set,this.settingUpAudience=!1,this.campaignsCurrentPage=1,this.campaignsPageSize=5,this.campaignsTotalItems=0,this.paginatedCampaigns=[],this.isInitialized=!1}ngOnInit(){if(this.isInitialized){console.warn("\u26A0\uFE0F Organization page already initialized, skipping...");return}this.isInitialized=!0,console.log("\u{1F3E2} Organization page initializing..."),this.authService.currentUser$.pipe(_o(1)).subscribe(t=>{if(t?.organizationId){console.log("\u{1F464} User org:",t.organizationId);let e=typeof t.organizationId=="string"?t.organizationId:t.organizationId?._id;e?(this.organizationId=e,this.loadDashboardData()):(console.warn("\u26A0\uFE0F Could not extract organization ID"),this.error="Invalid organization data",this.loading=!1)}else console.warn("\u26A0\uFE0F User has no organization"),this.error="You are not a member of any organization",this.loading=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadDashboardData(){this.organizationId&&(this.loading=!0,console.log(`\u{1F4CA} Loading dashboard for org: ${this.organizationId}`),Hm({dashboard:this.orgService.getDashboard(this.organizationId),audience:this.orgService.getAudienceStats(this.organizationId)}).pipe(hn(this.destroy$)).subscribe({next:({dashboard:t,audience:e})=>{console.log("\u2705 Dashboard data loaded:",t),console.log("\u2705 Audience data loaded:",e),this.dashboardData=t,this.audienceData=e,this.loading=!1,this.updateCampaignsPagination()},error:t=>{console.error("\u274C Failed to load data:",t),this.error="Failed to load dashboard data",this.loading=!1}}))}updateCampaignsPagination(){if(!this.dashboardData?.recentCampaigns){this.paginatedCampaigns=[],this.campaignsTotalItems=0;return}let t=this.dashboardData.recentCampaigns;this.campaignsTotalItems=t.length;let e=(this.campaignsCurrentPage-1)*this.campaignsPageSize,i=e+this.campaignsPageSize;this.paginatedCampaigns=t.slice(e,i)}onCampaignPageChange(t){this.campaignsCurrentPage=t.page,this.campaignsPageSize=t.pageSize,this.updateCampaignsPagination()}refreshData(){this.organizationId&&(this.loading=!0,console.log(`\uFFFD Refreshing dashboard data for org: ${this.organizationId}`),Hm({dashboard:this.orgService.getDashboard(this.organizationId,!0),audience:this.orgService.getAudienceStats(this.organizationId,void 0,!0)}).pipe(hn(this.destroy$)).subscribe({next:({dashboard:t,audience:e})=>{console.log("\u2705 Dashboard refreshed:",t),console.log("\u2705 Audience refreshed:",e),this.dashboardData=t,this.audienceData=e,this.loading=!1,this.snackBar.open("\u2705 Data refreshed!","Close",{duration:2e3,horizontalPosition:"center",verticalPosition:"top"})},error:t=>{console.error("\u274C Failed to refresh data:",t),this.error="Failed to refresh data",this.loading=!1}}))}getStatusClass(t){return{draft:"status-draft",scheduled:"status-scheduled",sent:"status-sent",sending:"status-sending",paused:"status-paused",canceled:"status-canceled"}[t]||"status-default"}formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatPercent(t){return t.toFixed(1)+"%"}refreshCampaignMetrics(t){this.organizationId&&(console.log(`\u{1F504} Refreshing metrics for campaign ${t}`),this.syncingCampaigns.add(t),this.orgService.syncCampaignMetrics(this.organizationId,t).pipe(hn(this.destroy$)).subscribe({next:e=>{if(console.log("\u2705 Metrics synced:",e),this.dashboardData?.recentCampaigns){let i=this.dashboardData.recentCampaigns.findIndex(r=>r._id===t);i!==-1&&e.campaign&&(this.dashboardData.recentCampaigns[i].metrics=e.campaign.metrics,this.dashboardData.recentCampaigns[i].status=e.campaign.status)}this.syncingCampaigns.delete(t)},error:e=>{console.error("\u274C Failed to sync metrics:",e),this.syncingCampaigns.delete(t)}}))}viewAudienceList(){this.router.navigate(["/organization/audience"])}setupAudience(){this.organizationId&&(this.settingUpAudience=!0,console.log(`\u{1F527} Setting up audience for org: ${this.organizationId}`),this.orgService.setupAudience(this.organizationId).pipe(hn(this.destroy$)).subscribe({next:t=>{console.log("\u2705 Audience setup complete:",t),this.settingUpAudience=!1,this.snackBar.open("\u2705 Audience setup complete!","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["success-snackbar"]}),this.refreshData()},error:t=>{console.error("\u274C Failed to setup audience:",t),this.settingUpAudience=!1;let e=t.error?.message||t.message||"Failed to setup audience";e.includes("sender email")?this.snackBar.open("\u26A0\uFE0F Please configure sender email and name in Organization Settings before setting up audience","Got it",{duration:8e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]}):this.snackBar.open(`\u274C ${e}`,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]})}}))}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-organization-page"]],standalone:!0,features:[cn],decls:8,vars:3,consts:[[1,"organization-page-wrapper"],[1,"page-background"],[1,"gradient-orb","orb-1"],[1,"gradient-orb","orb-2"],[1,"gradient-orb","orb-3"],["class","loading-container glass-card",4,"ngIf"],["class","error-container glass-card",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"loading-container","glass-card"],[1,"loading-content"],["diameter","60","color","primary"],[1,"loading-text"],[1,"error-container","glass-card"],[1,"error-content"],[1,"error-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"dashboard-content"],[1,"stats-grid"],[1,"stat-card","glass-card","campaigns-card"],[1,"card-header"],[1,"header-icon"],["d","M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"],[1,"section-title"],[1,"title-underline"],[1,"card-content"],[1,"stat-number"],[1,"stat-breakdown"],[1,"breakdown-item","draft"],[1,"breakdown-dot"],[1,"breakdown-count"],[1,"breakdown-label"],[1,"breakdown-item","scheduled"],[1,"breakdown-item","sent"],[1,"stat-card","glass-card","subscribers-card"],["d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[4,"ngIf"],["class","no-audience-state",4,"ngIf"],[1,"stat-card","glass-card","templates-card"],["d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"stat-label"],[1,"stat-card","glass-card","team-card"],["d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],["class","section-card glass-card audience-insights",4,"ngIf"],["class","section-card glass-card recent-campaigns",4,"ngIf"],["class","empty-state glass-card",4,"ngIf"],[1,"stat-growth"],["d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],["matTooltip","View all subscribers",1,"modern-btn","primary-btn","view-audience-btn",3,"click"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],[1,"no-audience-state"],[1,"no-audience-icon"],["d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"no-audience-title"],[1,"no-audience-desc"],[1,"modern-btn","accent-btn","setup-audience-btn",3,"click","disabled"],["d","M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"section-card","glass-card","audience-insights"],[1,"header-left"],[1,"header-icon","golden-icon"],["d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"title-underline","golden"],["mat-icon-button","","matTooltip","Refresh page",1,"refresh-button",3,"click","disabled"],[1,"insights-stats-grid"],[1,"stat-card-mini","primary"],[1,"stat-icon"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-content"],[1,"stat-value"],[1,"stat-card-mini","warning"],["d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"],[1,"stat-card-mini","info"],["d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"stat-card-mini","success"],["d","M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"],[1,"section-card","glass-card","recent-campaigns"],[1,"header-icon","variants-icon"],["d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"title-underline","variants"],[1,"campaigns-list"],["class","campaign-item",4,"ngFor","ngForOf"],[3,"currentPage","pageSize","totalItems","pageChange",4,"ngIf"],[1,"campaign-item"],[1,"campaign-main"],[1,"campaign-info"],[1,"campaign-name"],["class","campaign-subject",4,"ngIf"],[1,"campaign-meta"],[1,"meta-item"],[1,"separator"],["d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"campaign-actions"],[1,"status-badge",3,"ngClass"],["class","metrics",4,"ngIf"],["class","modern-btn small-btn primary-btn","matTooltip","View detailed campaign report",3,"routerLink",4,"ngIf"],["matTooltip","Refresh metrics from Mailchimp",1,"icon-btn","refresh-btn",3,"click","disabled"],["d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"campaign-subject"],[1,"metrics"],[1,"metric-badge","open"],[1,"metric-badge","click"],["matTooltip","View detailed campaign report",1,"modern-btn","small-btn","primary-btn",3,"routerLink"],[3,"pageChange","currentPage","pageSize","totalItems"],[1,"empty-state","glass-card"],[1,"empty-icon"]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1),vt(2,"div",2)(3,"div",3)(4,"div",4),P(),It(5,cB,5,0,"div",5)(6,dB,9,1,"div",6)(7,CB,72,11,"div",7),P()),e&2&&(j(5),tt("ngIf",i.loading),j(),tt("ngIf",i.error&&!i.loading),j(),tt("ngIf",i.dashboardData&&!i.loading))},dependencies:[Tn,na,kr,qn,lb,td,cr,Oo,Mi,Pi,Oi,lr,ws,oa,ra,dh],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-height:100vh}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]     .card-content, [_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem!important;margin:0!important}[_nghost-%COMP%]     .scrollable-content, [_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem!important;margin:0!important}[_nghost-%COMP%]{--primary-purple: #6d28d9;--primary-purple-dark: #5b21b6;--accent-pink: #ec4899;--accent-blue: #3b82f6;--success-green: #10b981;--warning-orange: #f59e0b;--error-red: #ef4444;--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--gradient-golden: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);--glass-white: rgba(255, 255, 255, .9);--glass-border: rgba(255, 255, 255, .3);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .08);--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px;--transition-fast: .2s cubic-bezier(.4, 0, .2, 1);--transition-normal: .3s cubic-bezier(.4, 0, .2, 1);--transition-smooth: .4s cubic-bezier(.4, 0, .2, 1);display:block;min-height:100vh}.organization-page-wrapper[_ngcontent-%COMP%]{position:relative;min-height:100vh;padding:0;overflow-y:auto;overflow-x:hidden}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{position:relative;z-index:10;max-width:600px;margin:4rem auto;padding:3rem}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem;text-align:center}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#6b7280;margin:0;font-weight:500}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:80px;height:80px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#fee2e2,#fecaca);border-radius:50%}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:var(--error-red);stroke-width:2.5}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#1f2937;font-weight:700}.dashboard-content[_ngcontent-%COMP%]{position:relative;z-index:1;max-width:100%;margin:0;padding:.5rem}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:1rem}.dashboard-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{background:var(--glass-white);border:1px solid var(--glass-border);border-radius:var(--radius-md);box-shadow:var(--glass-shadow);transition:all var(--transition-fast)}.dashboard-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff;transform:translateY(-2px);box-shadow:0 12px 40px #0000001f}.dashboard-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:var(--primary-purple);animation:_ngcontent-%COMP%_spin .5s ease-in-out}.dashboard-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem;position:relative;z-index:1}.stat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:320px}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;align-items:center;flex:1;justify-content:center}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:3rem;font-weight:800;background:linear-gradient(135deg,var(--primary-purple) 0%,var(--accent-pink) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1;margin-bottom:1rem;text-align:center}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;font-weight:500}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-growth[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--success-green);font-size:.9375rem;font-weight:600;margin-bottom:1.25rem}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-growth[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:.5rem;width:100%;justify-content:center}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .75rem;background:#00000005;border-radius:var(--radius-md);transition:all var(--transition-fast);white-space:nowrap}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:hover{background:#0000000a}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-dot[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-count[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;min-width:auto}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;font-weight:500}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item.draft[_ngcontent-%COMP%]   .breakdown-dot[_ngcontent-%COMP%]{background:#9ca3af}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item.draft[_ngcontent-%COMP%]   .breakdown-count[_ngcontent-%COMP%]{color:#4b5563}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item.scheduled[_ngcontent-%COMP%]   .breakdown-dot[_ngcontent-%COMP%]{background:var(--warning-orange)}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item.scheduled[_ngcontent-%COMP%]   .breakdown-count[_ngcontent-%COMP%]{color:var(--warning-orange)}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item.sent[_ngcontent-%COMP%]   .breakdown-dot[_ngcontent-%COMP%]{background:var(--success-green)}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item.sent[_ngcontent-%COMP%]   .breakdown-count[_ngcontent-%COMP%]{color:var(--success-green)}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .no-audience-state[_ngcontent-%COMP%]{text-align:center;padding:1.5rem 0}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .no-audience-state[_ngcontent-%COMP%]   .no-audience-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border-radius:50%}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .no-audience-state[_ngcontent-%COMP%]   .no-audience-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:#9ca3af;stroke-width:2}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .no-audience-state[_ngcontent-%COMP%]   .no-audience-title[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1rem;font-weight:600;color:#374151}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .no-audience-state[_ngcontent-%COMP%]   .no-audience-desc[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:.875rem;color:#9ca3af}.modern-btn[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;padding:.875rem 1.5rem;transition:all var(--transition-normal);border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;justify-content:center;width:100%}.modern-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5}.modern-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff4d;transform:translate(-50%,-50%);transition:width .6s,height .6s}.modern-btn[_ngcontent-%COMP%]:hover:before{width:300px;height:300px}.modern-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 12px #6d28d94d}.modern-btn.primary-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #6d28d966;transform:translateY(-2px)}.modern-btn.accent-btn[_ngcontent-%COMP%]{background:var(--gradient-accent);color:#fff;box-shadow:0 4px 12px #ec48994d}.modern-btn.accent-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #ec489966;transform:translateY(-2px)}.modern-btn.small-btn[_ngcontent-%COMP%]{padding:.625rem 1.25rem;font-size:.875rem;width:auto}.icon-btn[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border:none;background:#6d28d91a;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition-fast)}.icon-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:var(--primary-purple);stroke-width:2.5}.icon-btn[_ngcontent-%COMP%]:hover{background:#6d28d926;transform:scale(1.05)}.icon-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.icon-btn.spinning[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.icon-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.section-card[_ngcontent-%COMP%]{margin-bottom:1.5rem;position:relative;z-index:1}.audience-insights[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative}.audience-insights[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.audience-insights[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{position:absolute;right:1.5rem;background:var(--glass-white);border:1px solid var(--glass-border);border-radius:var(--radius-md);box-shadow:var(--glass-shadow);transition:all var(--transition-fast)}.audience-insights[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff;transform:translateY(-2px);box-shadow:0 12px 40px #0000001f}.audience-insights[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:var(--primary-purple);animation:_ngcontent-%COMP%_spin .5s ease-in-out}.audience-insights[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.audience-insights[_ngcontent-%COMP%]   .insights-stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem;padding-top:1rem}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]{padding:1.25rem;border-radius:var(--radius-md);display:flex;align-items:center;gap:1rem;transition:all var(--transition-normal);border:2px solid transparent}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0000001a}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;flex-shrink:0}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;color:#fff;stroke-width:2.5}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;line-height:1}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;opacity:.8}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf61a,#6d28d91a)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--gradient-primary)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.primary[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--primary-purple)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.primary[_ngcontent-%COMP%]:hover{border-color:#6d28d94d}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#0596691a)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.success[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--success-green)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.success[_ngcontent-%COMP%]:hover{border-color:#10b9814d}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#d977061a)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--gradient-golden)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.warning[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--warning-orange)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.warning[_ngcontent-%COMP%]:hover{border-color:#f59e0b4d}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#2563eb1a)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--accent-blue)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.info[_ngcontent-%COMP%]:hover{border-color:#3b82f64d}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]{padding:1.5rem 0;border-bottom:1px solid rgba(0,0,0,.06);transition:all var(--transition-fast)}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]:hover{background:#6d28d905;margin:0 -1.5rem;padding:1.5rem;border-radius:var(--radius-md)}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:2rem;flex-wrap:wrap}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]{flex:1;min-width:250px}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]   .campaign-name[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;font-weight:600;color:#1f2937}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]   .campaign-subject[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:.9375rem;color:#6b7280;font-style:italic}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap;font-size:.875rem;color:#9ca3af}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;stroke-width:2.5}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#d1d5db}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:var(--radius-md);font-size:.8125rem;font-weight:600;text-transform:capitalize;display:inline-flex;align-items:center;line-height:1}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .status-badge.status-draft[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3f4f6,#e5e7eb);color:#4b5563}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .status-badge.status-scheduled[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .status-badge.status-sent[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0);color:#065f46}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .status-badge.status-sending[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]{display:flex;gap:.75rem}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .875rem;background:#00000008;border-radius:var(--radius-md);font-size:.875rem;font-weight:600;transition:all var(--transition-fast)}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;stroke-width:2.5}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric-badge.open[_ngcontent-%COMP%]{color:var(--accent-blue)}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric-badge.open[_ngcontent-%COMP%]:hover{background:#3b82f61a}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric-badge.click[_ngcontent-%COMP%]{color:var(--success-green)}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric-badge.click[_ngcontent-%COMP%]:hover{background:#10b9811a}.empty-state[_ngcontent-%COMP%]{padding:4rem 2rem;text-align:center;position:relative;z-index:1}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 1.5rem;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border-radius:50%}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:50px;height:50px;color:#9ca3af;stroke-width:2}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:#1f2937}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#6b7280}@keyframes _ngcontent-%COMP%_expand-line{0%{transform:scaleX(0);transform-origin:left}to{transform:scaleX(1);transform-origin:left}}@media (max-width: 768px){.organization-page-wrapper[_ngcontent-%COMP%]{padding:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.dashboard-header[_ngcontent-%COMP%]   .org-metadata[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.dashboard-header[_ngcontent-%COMP%]   .org-metadata[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:none}}.page-background[_ngcontent-%COMP%]{position:fixed;inset:64px 0 0;z-index:0;background:linear-gradient(135deg,#f8fafc,#e2e8f0);pointer-events:none}.page-background[_ngcontent-%COMP%]   .gradient-orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.4;animation:_ngcontent-%COMP%_float-orb 20s ease-in-out infinite}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-1[_ngcontent-%COMP%]{width:400px;height:400px;background:radial-gradient(circle,rgba(139,92,246,.4) 0%,transparent 70%);top:-100px;left:-100px;animation-delay:0s}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-2[_ngcontent-%COMP%]{width:500px;height:500px;background:radial-gradient(circle,rgba(236,72,153,.3) 0%,transparent 70%);top:40%;right:-150px;animation-delay:-7s}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-3[_ngcontent-%COMP%]{width:450px;height:450px;background:radial-gradient(circle,rgba(59,130,246,.35) 0%,transparent 70%);bottom:-100px;left:30%;animation-delay:-14s}.qa-grid[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:1fr 400px 1fr;gap:1.5rem;margin-bottom:2rem;margin-top:.2rem!important;align-items:start}.glass-card[_ngcontent-%COMP%]{background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:var(--glass-shadow);overflow:hidden;transition:all var(--transition-smooth);display:flex;flex-direction:column;height:fit-content}.glass-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 48px #0000001f}.col[_ngcontent-%COMP%]{min-height:0;display:flex;flex-direction:column}.col.col-2[_ngcontent-%COMP%]{position:relative;max-height:calc(100vh - 4rem);display:flex;flex-direction:column}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:1.5rem;background:transparent;border-bottom:1px solid rgba(0,0,0,.05);position:relative;overflow:visible;min-height:88px;flex-shrink:0;margin:0 -1px;width:calc(100% + 2px)}.card-header[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#6d28d90d,#ec48990d);z-index:-1;border-radius:var(--radius-md) var(--radius-md) 0 0}.card-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 3s infinite;will-change:transform}.card-header.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--gradient-primary);border-radius:var(--radius-md);box-shadow:0 4px 12px #6d28d94d;flex-shrink:0}.card-header[_ngcontent-%COMP%]   .header-icon.golden-icon[_ngcontent-%COMP%]{background:var(--gradient-golden);box-shadow:0 4px 12px #f59e0b4d}.card-header[_ngcontent-%COMP%]   .header-icon.variants-icon[_ngcontent-%COMP%]{background:var(--gradient-accent);box-shadow:0 4px 12px #ec48994d}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#fff;stroke-width:2.5}.card-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{flex:none;margin:0;font-size:1.25rem;font-weight:700;background:linear-gradient(135deg,#1f2937 0%,var(--primary-purple) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em}.card-header[_ngcontent-%COMP%]   .title-underline[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:3px;background:var(--gradient-primary);border-radius:3px;transform:scaleX(0);transform-origin:left;animation:_ngcontent-%COMP%_expand-line .6s ease forwards;animation-delay:.2s}.card-header[_ngcontent-%COMP%]   .title-underline.golden[_ngcontent-%COMP%]{background:var(--gradient-golden)}.card-header[_ngcontent-%COMP%]   .title-underline.variants[_ngcontent-%COMP%]{background:var(--gradient-accent)}.card-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem;flex:1;min-height:0}.scrollable-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:0 1.5rem 1.5rem;min-height:0}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000008;border-radius:4px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6d28d94d;border-radius:4px;transition:background var(--transition-fast)}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6d28d980}.modern-btn[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;padding:.875rem 1.5rem;transition:all var(--transition-normal);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.625rem;min-height:48px}.modern-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modern-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .modern-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;position:relative;z-index:2}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5;transition:transform var(--transition-normal)}.modern-btn[_ngcontent-%COMP%]   .btn-shimmer[_ngcontent-%COMP%], .modern-btn[_ngcontent-%COMP%]   .btn-glow[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;transition:opacity var(--transition-normal)}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-shimmer[_ngcontent-%COMP%]{opacity:1;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer-btn 1.5s infinite}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-glow[_ngcontent-%COMP%]{opacity:.5}.modern-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.modern-btn.loading[_ngcontent-%COMP%]{pointer-events:none}.modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 16px #6d28d94d}.modern-btn.primary-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #6d28d966}.modern-btn.secondary-btn[_ngcontent-%COMP%]{background:#fff;color:var(--primary-purple);border:2px solid var(--primary-purple);box-shadow:0 2px 8px #6d28d91a}.modern-btn.secondary-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#6d28d90d,#ec48990d);box-shadow:0 6px 20px #6d28d933}.modern-btn.accent-btn[_ngcontent-%COMP%]{background:var(--gradient-accent);color:#fff;box-shadow:0 4px 16px #ec48994d}.modern-btn.accent-btn[_ngcontent-%COMP%]   .btn-glow[_ngcontent-%COMP%]{background:radial-gradient(circle,rgba(255,255,255,.4) 0%,transparent 70%);filter:blur(10px)}.modern-btn.accent-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #ec489966}.modern-btn.use-btn[_ngcontent-%COMP%]{background:var(--gradient-success);color:#fff;box-shadow:0 4px 12px #10b9814d;width:100%}.modern-btn.use-btn[_ngcontent-%COMP%]     .mat-button-wrapper{display:flex!important;flex-direction:row!important;align-items:center!important;justify-content:center!important;gap:.5rem!important}.modern-btn.use-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5;flex-shrink:0;margin:0!important}.modern-btn.use-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #10b98166}.modern-btn.use-btn[_ngcontent-%COMP%]:hover:not(:disabled)   svg[_ngcontent-%COMP%]{transform:scale(1.15)}.modern-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.spinner-small[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(109,40,217,.3);border-top-color:var(--primary-purple);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.btn-text-loading[_ngcontent-%COMP%]{font-size:.875rem}.actions-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1rem}.variants-action[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:2px dashed rgba(0,0,0,.06)}.info-panel[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:var(--radius-lg);padding:1.25rem;margin-top:22px;box-shadow:0 2px 12px #0000000a;transition:all var(--transition-normal)}.info-panel[_ngcontent-%COMP%]:hover{box-shadow:0 4px 20px #00000014;transform:translateY(-2px)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:2px solid rgba(0,0,0,.05)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .panel-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#6d28d91a,#ec48991a);border-radius:var(--radius-sm)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .panel-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--primary-purple);stroke-width:2.5}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1rem;font-weight:700;color:#1f2937}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;font-size:.75rem;font-weight:700;padding:.25rem .625rem;border-radius:12px;box-shadow:0 2px 8px #6d28d933}.subjects-panel[_ngcontent-%COMP%]   .chip-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.625rem}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:linear-gradient(135deg,#6d28d914,#ec489914);border:1px solid rgba(109,40,217,.2);padding:.5rem 1rem;border-radius:20px;font-size:.875rem;font-weight:600;color:#4c1d95;transition:all var(--transition-normal);cursor:default}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]   .chip-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:var(--gradient-primary);border-radius:50%;box-shadow:0 0 8px #6d28d980;animation:_ngcontent-%COMP%_pulse-dot 2s infinite}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6d28d926,#ec489926);transform:translateY(-2px);box-shadow:0 4px 12px #6d28d933}.edits-panel[_ngcontent-%COMP%]   .edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]{padding:.875rem;margin-bottom:.75rem;border-radius:8px;background:#f9fafb80;border:1px solid rgba(229,231,235,.6);transition:all .2s ease}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]:hover{background:#f9fafbe6;border-color:#d1d5dbcc;box-shadow:0 1px 3px #0000000d}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px dashed rgba(229,231,235,.8)}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]   .error-word[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.25rem .5rem;background:linear-gradient(135deg,#ef44441f,#dc26261f);border-radius:5px;color:#dc2626;font-weight:600;border:1px solid rgba(239,68,68,.25)}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{width:14px;height:14px;color:#9ca3af;stroke-width:2.5;flex-shrink:0}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]   .correction-word[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.25rem .5rem;background:linear-gradient(135deg,#10b9811f,#0596691f);border-radius:5px;color:#059669;font-weight:600;border:1px solid rgba(16,185,129,.25)}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.375rem;font-size:.8125rem;line-height:1.5}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]   .reason-badge[_ngcontent-%COMP%]{display:inline-block;padding:.125rem .5rem;background:#6b728014;border-radius:4px;color:#6b7280;font-style:italic;font-size:.75rem;align-self:flex-start}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]{color:#4b5563;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;word-wrap:break-word}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]     .highlight-error{background:linear-gradient(135deg,#ef444433,#dc262633);color:#dc2626;padding:.125rem .375rem;border-radius:3px;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;line-height:1.6;margin-bottom:.5rem;padding:.625rem .875rem;background:linear-gradient(135deg,#ef44440d,#dc26260d);border-radius:var(--radius-sm);overflow-x:auto;border-left:3px solid rgba(239,68,68,.4)}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;padding:0}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-before[_ngcontent-%COMP%]{color:#dc2626;font-weight:600;opacity:1}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-after[_ngcontent-%COMP%]{opacity:.5}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-find[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);padding:.125rem .375rem;border-radius:4px;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-sentence[_ngcontent-%COMP%]{color:#4b5563;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;font-size:.875rem;line-height:1.7;word-wrap:break-word;white-space:normal}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-sentence[_ngcontent-%COMP%]     .highlight-error{background:linear-gradient(135deg,#ef444440,#dc262640);color:#dc2626;padding:.125rem .375rem;border-radius:4px;font-weight:700;border-bottom:2px solid rgba(239,68,68,.6)}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:.625rem 0;padding:.625rem .875rem;background:linear-gradient(135deg,#10b98114,#05966914);border-radius:var(--radius-sm);font-weight:600;color:#065f46;border-left:3px solid rgba(16,185,129,.5)}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--success-green);stroke-width:2.5;flex-shrink:0}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#059669;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   .correction-text[_ngcontent-%COMP%]{color:#059669;font-weight:600;word-wrap:break-word;flex:1}.edits-panel[_ngcontent-%COMP%]   .edit-reason[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;font-style:italic}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-section[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px dashed rgba(0,0,0,.06)}.suggestions-panel[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 .875rem;font-size:.9375rem;font-weight:700;color:#374151}.suggestions-panel[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2.5}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.875rem;margin-bottom:.5rem;border-radius:var(--radius-md);transition:all var(--transition-normal)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b14,#fbbf2414);border:1px solid rgba(245,158,11,.2)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--gradient-golden);color:#fff;border-radius:50%;font-size:.875rem;font-weight:700;flex-shrink:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f59e0b1f,#fbbf241f);transform:translate(4px)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98114,#05966914);border:1px solid rgba(16,185,129,.2)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--gradient-success);color:#fff;border-radius:50%;font-size:.875rem;font-weight:700;flex-shrink:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#10b9811f,#0596691f);transform:translate(4px)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-content[_ngcontent-%COMP%]{flex:1}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .gibberish-text[_ngcontent-%COMP%]{display:block;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;background:#0000000d;padding:.375rem .625rem;border-radius:var(--radius-sm);margin-bottom:.375rem}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-reason[_ngcontent-%COMP%], .suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-text[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.6;color:#374151}.loading-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:2rem;background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px dashed rgba(109,40,217,.2);border-radius:var(--radius-lg);font-size:.9375rem;font-weight:600;color:#6b7280}.loading-panel[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid rgba(109,40,217,.2);border-top-color:var(--primary-purple);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;display:flex;align-items:center;justify-content:center;background:var(--gradient-golden);border-radius:50%;margin-bottom:1.5rem;box-shadow:0 8px 24px #f59e0b4d;animation:_ngcontent-%COMP%_float-icon 3s ease-in-out infinite}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:#fff;stroke-width:2}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;color:#1f2937}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#6b7280;line-height:1.6}.empty-state.golden-empty[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b08,#fbbf240d);border-radius:12px}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;align-items:center;justify-content:center;background:var(--gradient-golden);border-radius:50%;margin-bottom:2rem;box-shadow:0 12px 32px #f59e0b4d;animation:_ngcontent-%COMP%_pulse-glow 2s ease-in-out infinite;position:relative}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-4px;border-radius:50%;background:var(--gradient-golden);opacity:.3;filter:blur(8px);animation:_ngcontent-%COMP%_pulse-ring 2s ease-in-out infinite}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px;color:#fff;stroke-width:2;position:relative;z-index:1;animation:_ngcontent-%COMP%_sparkle-rotate 4s linear infinite}.empty-state.golden-empty[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.375rem;margin-bottom:.75rem}.empty-state.golden-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:380px;font-size:1rem;margin-bottom:2rem}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;background:#f59e0b1a;border:1px solid rgba(245,158,11,.2);border-radius:10px;max-width:420px}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#f59e0b;flex-shrink:0}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#92400e;text-align:left;line-height:1.5}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{transform:scale(1);box-shadow:0 12px 32px #f59e0b4d}50%{transform:scale(1.05);box-shadow:0 16px 40px #f59e0b66}}@keyframes _ngcontent-%COMP%_pulse-ring{0%,to{transform:scale(1);opacity:.3}50%{transform:scale(1.1);opacity:.1}}@keyframes _ngcontent-%COMP%_sparkle-rotate{0%,to{transform:rotate(0)}25%{transform:rotate(-10deg)}75%{transform:rotate(10deg)}}.variants-section[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:2rem}.variants-header-main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:var(--glass-shadow);margin-bottom:1.5rem}.variants-header-main[_ngcontent-%COMP%]   .variants-title-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1;position:relative}.variants-header-main[_ngcontent-%COMP%]   .variants-title-group[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:700;color:var(--primary-purple)}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:120px;height:8px;background:#6d28d91a;border-radius:4px;overflow:hidden}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar-fill[_ngcontent-%COMP%]{height:100%;background:var(--gradient-accent);border-radius:4px;transition:width var(--transition-smooth);box-shadow:0 0 10px #ec489980}.variants-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;grid-template-columns:1fr;align-items:stretch}.variant-card[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:1fr 420px!important;gap:1.5rem!important;padding:1.5rem!important;min-height:600px!important;align-items:start!important}.variant-left[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:100%!important;gap:1rem!important;justify-content:space-between!important}.variant-right[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:100%!important;gap:1rem!important}.variant-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-bottom:1rem;border-bottom:2px solid rgba(0,0,0,.05);flex-shrink:0!important;flex-wrap:nowrap!important}.variant-header[_ngcontent-%COMP%]   .variant-number[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;background:var(--gradient-accent);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;white-space:nowrap;flex-shrink:0}.variant-header[_ngcontent-%COMP%]   .variant-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .875rem;background:linear-gradient(135deg,#10b9811a,#0596691a);border:1px solid rgba(16,185,129,.3);border-radius:20px;font-size:.8125rem;font-weight:700;color:#065f46;white-space:nowrap;flex-shrink:0}.variant-header[_ngcontent-%COMP%]   .variant-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;stroke-width:3}.variant-preview[_ngcontent-%COMP%]{flex:1!important;min-height:350px!important;max-height:450px!important;background:#fff;border:2px solid rgba(0,0,0,.06);border-radius:var(--radius-lg);overflow:hidden}.variant-actions[_ngcontent-%COMP%]{flex-shrink:0!important;display:flex;justify-content:flex-end;gap:.75rem;margin-top:auto!important}.variant-actions[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5}.variant-right[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]{flex:1!important;min-height:200px!important;max-height:250px!important;overflow-y:auto!important;margin-top:0}.variant-right[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.changes-panel[_ngcontent-%COMP%]   .changes-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.changes-panel[_ngcontent-%COMP%]   .change-item[_ngcontent-%COMP%]{padding:.875rem 0;border-top:1px dashed rgba(0,0,0,.08)}.changes-panel[_ngcontent-%COMP%]   .change-item[_ngcontent-%COMP%]:first-child{border-top:none;padding-top:0}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;margin-bottom:.5rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.625rem;background:#00000005;border-radius:var(--radius-sm);flex-wrap:wrap}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;padding:0}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-before[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a);padding:.25rem .5rem;border-radius:4px;color:#991b1b;font-weight:600}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-after[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#0596691a);padding:.25rem .5rem;border-radius:4px;color:#065f46;font-weight:600}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-arrow[_ngcontent-%COMP%]{width:16px;height:16px;color:#9ca3af;flex-shrink:0}.changes-panel[_ngcontent-%COMP%]   .change-reason[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;font-style:italic}.benefits-panel[_ngcontent-%COMP%]{flex:1!important;display:flex!important;flex-direction:column!important}.benefits-panel[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;flex:1;display:flex!important;flex-direction:column!important;justify-content:flex-start!important}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.75rem;margin-bottom:.5rem;background:linear-gradient(135deg,#10b9810d,#0596690d);border-radius:var(--radius-md);font-size:.875rem;line-height:1.6;color:#374151;transition:all var(--transition-normal)}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:var(--gradient-success);color:#fff;border-radius:50%;font-size:.75rem;font-weight:700;flex-shrink:0}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#10b9811a,#0596691a)}.benefits-panel[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]{height:100%!important;display:flex!important;flex-direction:column!important;justify-content:flex-start!important}.variants-grid[_ngcontent-%COMP%] > .variant-card[_ngcontent-%COMP%]{height:auto!important;min-height:600px!important}.variant-skeleton[_ngcontent-%COMP%]{padding:1.5rem;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite;min-height:300px;contain:layout style paint;will-change:opacity,transform}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%], .variant-skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%], .variant-skeleton[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-shimmer 1.5s infinite;border-radius:6px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{height:20px;width:120px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:24px;width:60px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-preview[_ngcontent-%COMP%]{height:200px;background:#f8f8f8;border-radius:8px;display:flex;align-items:center;justify-content:center}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-lines[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:80%}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{height:12px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-shimmer 1.5s infinite;border-radius:6px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-line.short[_ngcontent-%COMP%]{width:60%}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{height:40px;width:100%;margin-top:1rem}@keyframes _ngcontent-%COMP%_float-orb{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-30px,-30px) rotate(120deg)}66%{transform:translate(30px,30px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(200%)}}@keyframes _ngcontent-%COMP%_shimmer-btn{0%{transform:translate(-100%)}to{transform:translate(200%)}}@keyframes _ngcontent-%COMP%_expand-line{0%{transform:scaleX(0)}to{transform:scaleX(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-dot{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}}@keyframes _ngcontent-%COMP%_float-icon{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_skeleton-shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.col-1[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%]{height:800px!important;min-height:800px!important;display:flex!important;flex-direction:column!important;overflow:hidden!important}.col-1[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-shrink:0!important;min-height:88px!important}.col-1[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1!important;overflow-y:auto!important;min-height:0!important;scrollbar-gutter:stable}[_nghost-%COMP%]     app-template-preview iframe, [_nghost-%COMP%]     app-html-preview iframe{height:700px!important;min-height:600px!important;width:100%!important}[_nghost-%COMP%]     app-template-preview .preview-container, [_nghost-%COMP%]     app-html-preview .preview-container, [_nghost-%COMP%]     app-template-preview .iframe-wrapper, [_nghost-%COMP%]     app-html-preview .iframe-wrapper{height:700px!important;min-height:600px!important;flex:1!important;display:flex!important;flex-direction:column!important}[_nghost-%COMP%]     .preview-root{height:700px!important;min-height:600px!important}[_nghost-%COMP%]     app-template-preview, [_nghost-%COMP%]     app-html-preview{margin-top:5px!important}[_nghost-%COMP%]     app-template-preview>*, [_nghost-%COMP%]     app-html-preview>*{margin-top:5px!important}[_nghost-%COMP%]     .preview-container, [_nghost-%COMP%]     .preview-root{margin-top:5px!important}[_nghost-%COMP%]   .col-2[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{margin-top:5px!important}[_nghost-%COMP%]   .col-2[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]{margin-top:5px!important}.col-2[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%], .variants-action[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{width:100%!important}.modern-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{justify-content:center!important;align-items:center!important;text-align:center!important;width:100%!important}.btn-text-loading[_ngcontent-%COMP%]{text-align:center!important;margin:0 auto!important}.modern-btn.loading[_ngcontent-%COMP%]{pointer-events:auto!important;cursor:pointer!important;opacity:1!important}.modern-btn[_ngcontent-%COMP%]:not(.loading)[disabled]{opacity:.6;cursor:not-allowed;pointer-events:none}@media (max-width: 1400px){.qa-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 360px 1fr}.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 380px}}@media (max-width: 1200px){.qa-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.25rem}.col.col-2[_ngcontent-%COMP%]{max-height:none}.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr}.variants-header-main[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.qa-grid[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%] > .glass-card[_ngcontent-%COMP%]{height:auto!important}}@media (max-width: 768px){.qa-page-wrapper[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{padding:1rem}.card-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:36px;height:36px}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.modern-btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem 1.25rem}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.variants-header-main[_ngcontent-%COMP%]{padding:1rem}.variants-header-main[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem!important}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media print{.page-background[_ngcontent-%COMP%], .btn-shimmer[_ngcontent-%COMP%], .btn-glow[_ngcontent-%COMP%], .title-underline[_ngcontent-%COMP%]{display:none!important}.glass-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #ddd}}@media (max-width: 1400px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 380px!important}}@media (max-width: 1199px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 340px!important}}@media (max-width: 991px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 280px!important}}@media (max-width: 768px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:1rem!important;min-height:auto!important}.variant-left[_ngcontent-%COMP%]{justify-content:flex-start!important}.variants-header-main[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:1rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]{width:33%;justify-content:space-between}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{flex:1;max-width:200px;margin:0 1rem}}@media (max-width: 480px){.variant-card[_ngcontent-%COMP%]{padding:1rem!important}.variant-header[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:.5rem}.variant-actions[_ngcontent-%COMP%]{justify-content:stretch}.variant-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{flex:1}.variants-progress[_ngcontent-%COMP%]{flex-direction:column!important;gap:.75rem!important}.variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:100%!important;max-width:none!important;margin:0!important}}.golden-loading-state[_ngcontent-%COMP%]   .golden-loader[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{position:absolute;border:3px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_golden-spin 2s linear infinite}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(1){width:80px;height:80px;border-top-color:#fbbf24;border-right-color:#fbbf24;animation-delay:0s}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(2){width:60px;height:60px;top:10px;left:10px;border-top-color:#f59e0b;border-left-color:#f59e0b;animation-delay:-.4s;animation-direction:reverse}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(3){width:40px;height:40px;top:20px;left:20px;border-top-color:#d97706;border-bottom-color:#d97706;animation-delay:-.8s}.golden-loading-state[_ngcontent-%COMP%]   .golden-icon-container[_ngcontent-%COMP%]{position:absolute;top:24px;left:24px;width:32px;height:32px;background:var(--gradient-golden);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #f59e0b66;z-index:10}.golden-loading-state[_ngcontent-%COMP%]   .golden-icon-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#fff;animation:_ngcontent-%COMP%_float-icon 2s ease-in-out infinite}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{text-align:center}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;background:var(--gradient-golden);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#6b7280;line-height:1.6}@keyframes _ngcontent-%COMP%_golden-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;align-items:center!important;width:100%!important;padding:0!important;margin:0!important}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{margin-right:.5rem!important}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .btn-text-loading[_ngcontent-%COMP%]{text-align:center!important;padding:0!important;margin:0!important}.accent-btn[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]{color:#fff!important;font-weight:600!important;text-shadow:0 1px 2px rgba(0,0,0,.1)!important}.accent-btn[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]:hover{color:#fff!important;text-shadow:0 1px 3px rgba(0,0,0,.2)!important}.secondary-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{justify-content:center!important;text-align:center!important}.secondary-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .btn-text-loading[_ngcontent-%COMP%]{text-align:center!important}.spinner-container[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important;gap:.625rem!important}.spinner-container[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%], .spinner-container[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]{flex-shrink:0}.secondary-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{border-color:#6d28d933!important;border-top-color:var(--primary-purple)!important}.primary-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%], .accent-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{border-color:#ffffff4d!important;border-top-color:#fff!important}  .error-snackbar{background-color:#ef4444!important;color:#fff!important;font-weight:600!important}  .error-snackbar .mat-simple-snackbar-action{color:#fff!important}  .success-snackbar{background-color:#10b981!important;color:#fff!important;font-weight:600!important}  .success-snackbar .mat-simple-snackbar-action{color:#fff!important}  .warning-snackbar{background-color:#f59e0b!important;color:#fff!important;font-weight:600!important}  .warning-snackbar .mat-simple-snackbar-action{color:#fff!important}  .info-snackbar{background-color:#3b82f6!important;color:#fff!important;font-weight:600!important}  .info-snackbar .mat-simple-snackbar-action{color:#fff!important}.cancel-text[_ngcontent-%COMP%]{color:#fff!important;cursor:pointer!important;font-weight:600!important;text-decoration:none!important;transition:color .15s ease!important}.cancel-text[_ngcontent-%COMP%]:hover{color:#fffc!important}.cancel-text[_ngcontent-%COMP%]:active{transform:scale(.98)}.skip-btn[_ngcontent-%COMP%]{margin-left:auto;width:44px;height:44px;background:var(--gradient-accent);color:#fff;border-radius:var(--radius-md);box-shadow:0 4px 12px #ec48994d;transition:all var(--transition-normal)}.skip-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5}.skip-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #ec489966;transform:translateY(-2px)}.skip-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1) translate(2px)}.skip-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}  .editable-preview-container ::selection{background:#6d28d94d;color:inherit}  .editable-preview-container ::-moz-selection{background:#6d28d94d;color:inherit}.editor-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px dashed rgba(109,40,217,.2);border-radius:var(--radius-lg)}.editor-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:64px;height:64px;color:var(--primary-purple);opacity:.5;margin-bottom:1rem;stroke-width:1.5}.editor-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:#6b7280}.edit-modal-footer[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]:active{animation:save-success .3s ease}.qa-info-btn[_ngcontent-%COMP%]{margin-left:auto;color:#6d28d9}.qa-info-btn[_ngcontent-%COMP%]:hover{background-color:#6d28d91a}  .qa-info-menu .mat-mdc-menu-panel{max-width:450px!important;border-radius:12px}.qa-info-content[_ngcontent-%COMP%]{padding:20px;max-width:430px}.qa-info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:600;color:#f59e0b}.qa-info-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{margin-bottom:14px}.qa-info-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:#475569}.qa-info-content[_ngcontent-%COMP%]   .info-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:16px;padding:12px;background:#fef3c7;border-radius:6px;font-size:13px;font-weight:500;color:#78350f}.qa-info-content[_ngcontent-%COMP%]   .info-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#f59e0b}@media (max-width: 768px){  .qa-info-menu .mat-mdc-menu-panel{max-width:calc(100vw - 32px)!important}.qa-info-content[_ngcontent-%COMP%]{max-width:100%;padding:16px}}.stats-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px solid rgba(109,40,217,.15)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto;width:36px;height:36px;min-width:36px;padding:0!important;border:2px solid rgba(109,40,217,.2);outline:none;cursor:pointer;color:#6b7280;background:transparent;border-radius:8px;transition:all var(--transition-normal);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;position:relative;z-index:1;transition:color .2s ease}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:6px;background:var(--gradient-primary);transform:scale(0);transition:transform .2s ease}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active:before{transform:scale(1)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active   mat-icon[_ngcontent-%COMP%]{color:#fff}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn.active[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;border-color:transparent}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:focus{outline:none;border-color:#6d28d966}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;margin-top:1rem}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:1rem;background:#fff;border:2px solid rgba(0,0,0,.06);border-radius:var(--radius-md);transition:all var(--transition-normal)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000014}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;line-height:1;letter-spacing:-.02em}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;opacity:.7}.stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d91a,#ec48991a)}.stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--primary-purple)}.stat-card.total[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--primary-purple)}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#0596691a)}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--success-green)}.stat-card.success[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--success-green)}.stat-card.error[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a)}.stat-card.error[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-red)}.stat-card.error[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--error-red)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#fbbf241a)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--warning-orange)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--warning-orange)}.perfect-template-message[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#10b98114,#05966914);border:2px solid rgba(16,185,129,.3);border-radius:12px;text-align:center}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#10b981,#059669);border-radius:50%;box-shadow:0 8px 24px #10b9814d;animation:_ngcontent-%COMP%_perfect-pulse 2s ease-in-out infinite}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;color:#fff;stroke-width:3}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;color:#065f46}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#047857;font-weight:500}@keyframes _ngcontent-%COMP%_perfect-pulse{0%,to{transform:scale(1);box-shadow:0 8px 24px #10b9814d}50%{transform:scale(1.05);box-shadow:0 12px 32px #10b98166}}.debug-section[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#00000005;border:1px dashed rgba(0,0,0,.1);border-radius:var(--radius-sm)}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-size:.875rem;font-weight:700;color:#374151}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--primary-purple)}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem .75rem;background:#fff;border-radius:6px;font-size:.8125rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%]{font-weight:600;color:#6b7280}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-purple);font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace}.failed-edits-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444408,#dc262608);border:2px solid rgba(239,68,68,.2)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-red)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .count-badge.error[_ngcontent-%COMP%]{background:var(--gradient-accent)}.failed-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1rem}.failed-edit-item[_ngcontent-%COMP%]{padding:1.25rem;background:#fff;border:2px solid rgba(239,68,68,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.failed-edit-item[_ngcontent-%COMP%]:hover{border-color:#ef44444d;box-shadow:0 4px 16px #ef44441a;transform:translate(4px)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.8125rem;font-weight:700}.status-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.status-badge.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98126,#05966926);border:1px solid rgba(16,185,129,.3);color:#065f46}.status-badge.error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444426,#dc262626);border:1px solid rgba(239,68,68,.3);color:#991b1b}.status-badge.warn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b26,#fbbf2426);border:1px solid rgba(245,158,11,.3);color:#78350f}.status-badge.disabled[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9ca3af26,#6b728026);border:1px solid rgba(156,163,175,.3);color:#4b5563}.status-badge.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f626,#2563eb26);border:1px solid rgba(59,130,246,.3);color:#1e40af}.failed-edit-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.875rem}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;flex-wrap:wrap;padding:.875rem;background:#00000005;border-radius:var(--radius-sm)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#6b7280;flex-shrink:0}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;padding:.375rem .625rem;border-radius:6px;font-weight:600}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .text-find[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444426,#dc262626);color:#991b1b;border:1px solid rgba(239,68,68,.2)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .text-replace[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98126,#05966926);color:#065f46;border:1px solid rgba(16,185,129,.2)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .arrow-mini[_ngcontent-%COMP%]{width:16px;height:16px;color:#9ca3af;flex-shrink:0}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%], .failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.625rem;padding:.875rem;border-radius:var(--radius-sm);font-size:.875rem;line-height:1.6}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;flex-shrink:0;margin-top:2px}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444414,#dc262614);border:1px solid rgba(239,68,68,.2);color:#991b1b}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:var(--error-red)}.failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b14,#fbbf2414);border:1px solid rgba(245,158,11,.2);color:#78350f}.failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   .bulb-icon[_ngcontent-%COMP%]{color:var(--warning-orange)}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]{padding:.875rem;background:#00000005;border:1px dashed rgba(0,0,0,.1);border-radius:var(--radius-sm);font-size:.8125rem}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#6b7280;margin-bottom:.5rem}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;display:block;background:#fff;padding:.625rem;border-radius:6px;line-height:1.6;word-break:break-word}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]   .dim[_ngcontent-%COMP%]{opacity:.5}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);padding:.125rem .375rem;border-radius:4px;font-weight:600}.diagnostics-section[_ngcontent-%COMP%]{margin-top:.875rem;padding:1rem;background:linear-gradient(135deg,#6d28d908,#ec489908);border:1px dashed rgba(109,40,217,.2);border-radius:var(--radius-sm)}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-size:.875rem;font-weight:700;color:#374151}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--primary-purple)}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.625rem;background:#fff;border-radius:6px}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]   .diag-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.03em}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]   .diag-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:var(--primary-purple);font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.timings-grid[_ngcontent-%COMP%], .diagnostics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.edit-text[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important}.perfect-template-message[_ngcontent-%COMP%]{padding:1.25rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:50px;height:50px}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stat-card[_ngcontent-%COMP%]{padding:.875rem}.perfect-template-message[_ngcontent-%COMP%]{padding:1rem;margin-top:1rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-bottom:.75rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.375rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.debug-section[_ngcontent-%COMP%]{padding:.875rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.625rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{gap:.375rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{padding:.5rem .625rem;font-size:.75rem;min-width:0}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%], .debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-size:.75rem;white-space:nowrap}}@media (max-height: 600px) and (orientation: landscape){.perfect-template-message[_ngcontent-%COMP%]{padding:.875rem;margin-top:1rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-bottom:.5rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9375rem;margin-bottom:.25rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.debug-section[_ngcontent-%COMP%]{padding:.75rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.5rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{gap:.375rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{padding:.375rem .5rem;font-size:.75rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%], .debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-size:.6875rem}}.visual-editor-btn[_ngcontent-%COMP%]{position:relative;transition:all var(--transition-normal);width:100%!important}.visual-editor-btn.orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)!important;color:#fff!important;box-shadow:0 4px 16px #f59e0b4d}.visual-editor-btn.orange[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #f59e0b66;transform:translateY(-2px)}.visual-editor-btn.red[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)!important;color:#fff!important;box-shadow:0 4px 16px #ef44444d}.visual-editor-btn.red[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #ef444466;transform:translateY(-2px)}.visual-editor-btn.green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;box-shadow:0 4px 16px #10b9814d}.visual-editor-btn.green[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #10b98166;transform:translateY(-2px)}.visual-editor-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{position:absolute!important;inset:50% -100px auto auto!important;transform:translateY(-50%)!important;min-width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:#ffffff40;color:#fff;font-size:.75rem;font-weight:700;border-radius:12px;padding:0 8px;box-shadow:none;border:none;z-index:10;flex-shrink:0}@media (max-width: 1024px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-80px!important}}@media (max-width: 768px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-60px!important}}@media (max-width: 480px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-40px!important}}@keyframes _ngcontent-%COMP%_pulse-red{0%,to{box-shadow:0 4px 16px #ef44444d}50%{box-shadow:0 8px 32px #ef444499}}.shake-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_violent-shake 1s cubic-bezier(.36,.07,.19,.97)!important;animation-iteration-count:1!important}@keyframes _ngcontent-%COMP%_violent-shake{0%,to{transform:translate(0) rotate(0)}10%,30%,50%,70%,90%{transform:translate(-10px) rotate(-1deg)}20%,40%,60%,80%{transform:translate(10px) rotate(1deg)}}.visual-editor-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;padding:2rem;animation:none!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);cursor:pointer;animation:none!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{position:relative;z-index:10000;width:100%;max-width:800px;max-height:80vh;background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:0 20px 60px #0000004d;display:flex;flex-direction:column;overflow:hidden}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1.5rem 2rem;border-bottom:1px solid rgba(0,0,0,.08);flex-shrink:0;position:relative}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1f2937;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .failed-count-badge[_ngcontent-%COMP%]{position:static;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;font-size:.875rem;font-weight:700;padding:.25rem .75rem;border-radius:12px;box-shadow:0 2px 8px #ef44444d;margin-left:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]{color:#6b7280;flex-shrink:0;order:3!important;margin-left:auto}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#0000000d;color:#1f2937}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.info-state)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b0d,#fbbf240d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.info-state)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44440d,#dc26260d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--error-red)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#ef44441a;color:var(--error-red)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9810d,#0596690d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--success-green)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#10b9811a;color:var(--success-green)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0;max-height:60vh;min-height:0;display:flex;flex-direction:column}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]:has(.info-state), .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]:has(.success-state){overflow-y:hidden}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000008;border-radius:4px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6d28d94d;border-radius:4px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6d28d980}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1.25rem;background:linear-gradient(135deg,#3b82f614,#6d28d914);border:1px solid rgba(59,130,246,.2);border-radius:var(--radius-md);margin:1.5rem 1.5rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--accent-blue);font-size:24px;width:24px;height:24px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;line-height:1.6;color:#374151}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;border:2px solid rgba(239,68,68,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]:hover{border-color:#ef44444d;box-shadow:0 4px 16px #ef44441a;transform:translate(4px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:.75rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;flex-wrap:wrap}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000d;padding:.375rem .625rem;border-radius:6px;word-break:break-word}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .preview-find[_ngcontent-%COMP%]{color:#991b1b}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .preview-replace[_ngcontent-%COMP%]{color:#065f46}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:18px;width:18px;height:18px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .more-edits[_ngcontent-%COMP%]{margin-top:1rem;text-align:center;font-size:.875rem;font-weight:600;color:#6b7280;font-style:italic}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:2rem;border-top:2px dashed rgba(99,102,241,.2)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#6366f1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:700;color:#1f2937;flex:1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .count-badge.skipped-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;padding:.25rem .75rem;border-radius:12px;font-size:.8125rem;font-weight:700}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{margin:0 0 1.5rem;padding:.875rem 1rem;background:#6366f10d;border-left:3px solid #6366f1;border-radius:6px;font-size:.875rem;color:#4b5563;line-height:1.6}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;border:2px solid rgba(99,102,241,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]:hover{border-color:#6366f14d;box-shadow:0 4px 16px #6366f11a;transform:translate(4px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .status-badge.disabled[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .75rem;background:#6366f11a;border-radius:6px;font-size:.75rem;font-weight:600;color:#6366f1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .status-badge.disabled[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:.75rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;flex-wrap:wrap}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000d;padding:.375rem .625rem;border-radius:6px;word-break:break-word;color:#6b7280;font-style:italic}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:18px;width:18px;height:18px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.75rem;padding:.625rem .875rem;background:#6366f10d;border-radius:6px;font-size:.8125rem;color:#4b5563}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6366f1;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;text-align:center;min-height:300px;width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:72px;width:72px;height:72px;color:var(--success-green);margin-bottom:1.5rem;animation:_ngcontent-%COMP%_scaleIn .5s ease-out}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:#1f2937;letter-spacing:-.02em}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#6b7280;line-height:1.7;max-width:400px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center;width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:72px;width:72px;height:72px;color:#f59e0b;margin-bottom:1.5rem;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:#1f2937;letter-spacing:-.02em}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1rem;color:#6b7280;line-height:1.7;max-width:420px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.875rem 1.25rem;background:linear-gradient(135deg,#f59e0b1a,#fbbf241a);border:2px dashed rgba(245,158,11,.3);border-radius:12px;font-size:.9375rem;font-weight:600;color:#92400e}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#f59e0b;animation:_ngcontent-%COMP%_bounce 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.6}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem;padding:1.5rem 2rem;background:#f9fafbcc;border-top:1px solid rgba(0,0,0,.08);flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #6d28d966}@media (max-width: 768px){.visual-editor-modal[_ngcontent-%COMP%]{padding:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-height:95vh;max-width:100%;border-radius:var(--radius-lg)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{font-size:.8125rem;padding:.25rem .625rem;margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:70vh}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{padding:1.5rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:60px;width:60px;height:60px;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{padding:2rem 1rem;min-height:250px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:60px;width:60px;height:60px;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important;gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .5rem;max-width:100%;overflow-wrap:break-word;word-break:break-all}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.6875rem!important;padding:.3rem .6rem!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:1rem;font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem;gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem 1rem}}@media (max-height: 600px) and (orientation: landscape){.visual-editor-modal[_ngcontent-%COMP%]{padding:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-height:95vh;max-width:90%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .5rem;margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:calc(95vh - 120px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{padding:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:48px;width:48px;height:48px;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{font-size:.8125rem;padding:.625rem .875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{padding:1.5rem 1rem;min-height:200px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.75rem;padding:.3rem .5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]{font-size:.75rem;padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:.75rem;font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8125rem;padding:.5rem .875rem}}@media (max-width: 480px){.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-width:calc(100vw - 1rem)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.625rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.6875rem;gap:.375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.6875rem;padding:.3rem .4rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.625rem!important;padding:.25rem .5rem!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]{font-size:.75rem;padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:.875rem;font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{flex-direction:column-reverse}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.manual-fix-guidance[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:linear-gradient(135deg,#fef3c7,#fde68a);border-left:4px solid #f59e0b;border-radius:8px;display:flex;gap:.75rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-icon[_ngcontent-%COMP%]{flex-shrink:0}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b;font-size:24px;width:24px;height:24px}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]{flex:1}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#92400e;font-size:.875rem;margin-bottom:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#78350f;font-size:.875rem;line-height:1.6}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]{margin-top:.75rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.375rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;list-style:none}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.375rem 0;display:flex;align-items:center;gap:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2192";color:#f59e0b;font-weight:700}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000001a;padding:2px 6px;border-radius:4px;font-size:.75rem;color:#78350f}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid rgba(0,0,0,.1)}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-bottom:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#ffffff80;border-radius:6px;font-size:.8125rem;color:#78350f}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-weight:700;color:#92400e;background:none;padding:0}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   .chain-arrow[_ngcontent-%COMP%]{color:#f59e0b;font-size:16px;width:16px;height:16px}.debug-info[_ngcontent-%COMP%]{margin-top:1rem;padding:.75rem;background:#6d28d90d;border:1px dashed rgba(109,40,217,.2);border-radius:6px}.debug-info[_ngcontent-%COMP%]   .debug-toggle[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--primary-purple);padding:.375rem .75rem;min-height:auto}.debug-info[_ngcontent-%COMP%]   .debug-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:.375rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]{margin-top:.5rem;display:none;flex-direction:column;gap:.375rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.375rem .5rem;background:#fff;border-radius:4px;font-size:.75rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6b7280}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--primary-purple);font-family:SF Mono,Monaco,monospace}.debug-info.expanded[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]{display:flex}@media (max-width: 768px){.manual-fix-guidance[_ngcontent-%COMP%]{flex-direction:column}.manual-fix-guidance[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.manual-fix-guidance[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   .chain-arrow[_ngcontent-%COMP%]{transform:rotate(90deg)}.skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem}.skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]{padding:.875rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.75rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{padding:.25rem .5rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem .75rem}}@media (max-width: 480px){.skipped-edits-section[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch!important;gap:.5rem}.skipped-edits-section[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{display:none}}.header-icon.clickable-icon[_ngcontent-%COMP%]{cursor:pointer;background:linear-gradient(135deg,#8b5cf6,#6d28d9);border-radius:12px;padding:8px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;box-shadow:0 2px 8px #6d28d933}.header-icon.clickable-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff;transition:transform .3s ease}.header-icon.clickable-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 4px 16px #6d28d966}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover:before{left:100%}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:rotate(-5deg) scale(1.1)}.header-icon.clickable-icon[_ngcontent-%COMP%]:active{transform:translateY(0) scale(1)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;position:relative}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;min-width:0}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto;width:36px;height:36px;min-width:36px;padding:0!important;border:none;outline:none;cursor:pointer;background:linear-gradient(135deg,#8b5cf6,#6d28d9);color:#fff!important;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;justify-content:center;position:relative;overflow:visible}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;color:#fff!important;position:relative;z-index:1}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;min-width:18px;height:18px;padding:0 4px;background:#dc2626;color:#fff;font-size:11px;font-weight:700;border-radius:9px;display:flex;align-items:center;justify-content:center;z-index:2;border:2px solid white;box-shadow:0 2px 8px #00000040;line-height:1;animation:_ngcontent-%COMP%_badge-pulse 2s ease-in-out infinite}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]:before{content:"";display:inline-block}@keyframes _ngcontent-%COMP%_badge-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:8px;background:#ffffff4d;transform:scale(0);transition:transform .3s ease;z-index:0}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active:before{transform:scale(1)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 16px #6d28d980;background:linear-gradient(135deg,#9333ea,#7c3aed)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:hover   .edit-badge[_ngcontent-%COMP%]{animation:none;transform:scale(1.05)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active, .changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active   .edit-badge[_ngcontent-%COMP%]{transform:scale(.98)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #6d28d94d}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:before{background:#ffffff4d}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #ef444480;background:linear-gradient(135deg,#f87171,#ef4444)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44444d}@media (max-width: 768px){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:32px;height:32px;min-width:32px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-5px;right:-5px;min-width:16px;height:16px;padding:0 3px;font-size:10px;border-radius:8px}}@media (max-width: 480px){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:30px;height:30px;min-width:30px;border-radius:6px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-4px;right:-4px;min-width:14px;height:14px;padding:0 2px;font-size:9px;border-radius:7px;border-width:1.5px}}@media (max-height: 600px) and (orientation: landscape){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:28px;height:28px;min-width:28px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:15px;width:15px;height:15px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-4px;right:-4px;min-width:14px;height:14px;font-size:9px}}']})}}return o})();function qu(o){return o+.5|0}var Fs=(o,n,t)=>Math.max(Math.min(o,t),n);function Wu(o){return Fs(qu(o*2.55),0,255)}function zs(o){return Fs(qu(o*255),0,255)}function ja(o){return Fs(qu(o/2.55)/100,0,1)}function CP(o){return Fs(qu(o*100),0,100)}var Io={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pv=[..."0123456789ABCDEF"],xB=o=>pv[o&15],OB=o=>pv[(o&240)>>4]+pv[o&15],uh=o=>(o&240)>>4===(o&15),PB=o=>uh(o.r)&&uh(o.g)&&uh(o.b)&&uh(o.a);function MB(o){var n=o.length,t;return o[0]==="#"&&(n===4||n===5?t={r:255&Io[o[1]]*17,g:255&Io[o[2]]*17,b:255&Io[o[3]]*17,a:n===5?Io[o[4]]*17:255}:(n===7||n===9)&&(t={r:Io[o[1]]<<4|Io[o[2]],g:Io[o[3]]<<4|Io[o[4]],b:Io[o[5]]<<4|Io[o[6]],a:n===9?Io[o[7]]<<4|Io[o[8]]:255})),t}var wB=(o,n)=>o<255?n(o):"";function SB(o){var n=PB(o)?xB:OB;return o?"#"+n(o.r)+n(o.g)+n(o.b)+wB(o.a,n):void 0}var TB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MP(o,n,t){let e=n*Math.min(t,1-t),i=(r,a=(r+o/30)%12)=>t-e*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function EB(o,n,t){let e=(i,r=(i+o/60)%6)=>t-t*n*Math.max(Math.min(r,4-r,1),0);return[e(5),e(3),e(1)]}function kB(o,n,t){let e=MP(o,1,.5),i;for(n+t>1&&(i=1/(n+t),n*=i,t*=i),i=0;i<3;i++)e[i]*=1-n-t,e[i]+=n;return e}function AB(o,n,t,e,i){return o===i?(n-t)/e+(n<t?6:0):n===i?(t-o)/e+2:(o-n)/e+4}function fv(o){let t=o.r/255,e=o.g/255,i=o.b/255,r=Math.max(t,e,i),a=Math.min(t,e,i),s=(r+a)/2,l,c,u;return r!==a&&(u=r-a,c=s>.5?u/(2-r-a):u/(r+a),l=AB(t,e,i,u,r),l=l*60+.5),[l|0,c||0,s]}function gv(o,n,t,e){return(Array.isArray(n)?o(n[0],n[1],n[2]):o(n,t,e)).map(zs)}function hv(o,n,t){return gv(MP,o,n,t)}function IB(o,n,t){return gv(kB,o,n,t)}function DB(o,n,t){return gv(EB,o,n,t)}function wP(o){return(o%360+360)%360}function LB(o){let n=TB.exec(o),t=255,e;if(!n)return;n[5]!==e&&(t=n[6]?Wu(+n[5]):zs(+n[5]));let i=wP(+n[2]),r=+n[3]/100,a=+n[4]/100;return n[1]==="hwb"?e=IB(i,r,a):n[1]==="hsv"?e=DB(i,r,a):e=hv(i,r,a),{r:e[0],g:e[1],b:e[2],a:t}}function NB(o,n){var t=fv(o);t[0]=wP(t[0]+n),t=hv(t),o.r=t[0],o.g=t[1],o.b=t[2]}function RB(o){if(!o)return;let n=fv(o),t=n[0],e=CP(n[1]),i=CP(n[2]);return o.a<255?`hsla(${t}, ${e}%, ${i}%, ${ja(o.a)})`:`hsl(${t}, ${e}%, ${i}%)`}var xP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},OP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function FB(){let o={},n=Object.keys(OP),t=Object.keys(xP),e,i,r,a,s;for(e=0;e<n.length;e++){for(a=s=n[e],i=0;i<t.length;i++)r=t[i],s=s.replace(r,xP[r]);r=parseInt(OP[a],16),o[s]=[r>>16&255,r>>8&255,r&255]}return o}var ph;function zB(o){ph||(ph=FB(),ph.transparent=[0,0,0,0]);let n=ph[o.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}var VB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jB(o){let n=VB.exec(o),t=255,e,i,r;if(n){if(n[7]!==e){let a=+n[7];t=n[8]?Wu(a):Fs(a*255,0,255)}return e=+n[1],i=+n[3],r=+n[5],e=255&(n[2]?Wu(e):Fs(e,0,255)),i=255&(n[4]?Wu(i):Fs(i,0,255)),r=255&(n[6]?Wu(r):Fs(r,0,255)),{r:e,g:i,b:r,a:t}}}function HB(o){return o&&(o.a<255?`rgba(${o.r}, ${o.g}, ${o.b}, ${ja(o.a)})`:`rgb(${o.r}, ${o.g}, ${o.b})`)}var uv=o=>o<=.0031308?o*12.92:Math.pow(o,1/2.4)*1.055-.055,ed=o=>o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4);function BB(o,n,t){let e=ed(ja(o.r)),i=ed(ja(o.g)),r=ed(ja(o.b));return{r:zs(uv(e+t*(ed(ja(n.r))-e))),g:zs(uv(i+t*(ed(ja(n.g))-i))),b:zs(uv(r+t*(ed(ja(n.b))-r))),a:o.a+t*(n.a-o.a)}}function fh(o,n,t){if(o){let e=fv(o);e[n]=Math.max(0,Math.min(e[n]+e[n]*t,n===0?360:1)),e=hv(e),o.r=e[0],o.g=e[1],o.b=e[2]}}function SP(o,n){return o&&Object.assign(n||{},o)}function PP(o){var n={r:0,g:0,b:0,a:255};return Array.isArray(o)?o.length>=3&&(n={r:o[0],g:o[1],b:o[2],a:255},o.length>3&&(n.a=zs(o[3]))):(n=SP(o,{r:0,g:0,b:0,a:1}),n.a=zs(n.a)),n}function UB(o){return o.charAt(0)==="r"?jB(o):LB(o)}var Ku=class o{constructor(n){if(n instanceof o)return n;let t=typeof n,e;t==="object"?e=PP(n):t==="string"&&(e=MB(n)||zB(n)||UB(n)),this._rgb=e,this._valid=!!e}get valid(){return this._valid}get rgb(){var n=SP(this._rgb);return n&&(n.a=ja(n.a)),n}set rgb(n){this._rgb=PP(n)}rgbString(){return this._valid?HB(this._rgb):void 0}hexString(){return this._valid?SB(this._rgb):void 0}hslString(){return this._valid?RB(this._rgb):void 0}mix(n,t){if(n){let e=this.rgb,i=n.rgb,r,a=t===r?.5:t,s=2*a-1,l=e.a-i.a,c=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;r=1-c,e.r=255&c*e.r+r*i.r+.5,e.g=255&c*e.g+r*i.g+.5,e.b=255&c*e.b+r*i.b+.5,e.a=a*e.a+(1-a)*i.a,this.rgb=e}return this}interpolate(n,t){return n&&(this._rgb=BB(this._rgb,n._rgb,t)),this}clone(){return new o(this.rgb)}alpha(n){return this._rgb.a=zs(n),this}clearer(n){let t=this._rgb;return t.a*=1-n,this}greyscale(){let n=this._rgb,t=qu(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=t,this}opaquer(n){let t=this._rgb;return t.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return fh(this._rgb,2,n),this}darken(n){return fh(this._rgb,2,-n),this}saturate(n){return fh(this._rgb,1,n),this}desaturate(n){return fh(this._rgb,1,-n),this}rotate(n){return NB(this._rgb,n),this}};function ga(){}var zP=(()=>{let o=0;return()=>o++})();function Hn(o){return o==null}function ei(o){if(Array.isArray&&Array.isArray(o))return!0;let n=Object.prototype.toString.call(o);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function xn(o){return o!==null&&Object.prototype.toString.call(o)==="[object Object]"}function di(o){return(typeof o=="number"||o instanceof Number)&&isFinite(+o)}function Wr(o,n){return di(o)?o:n}function mn(o,n){return typeof o>"u"?n:o}var VP=(o,n)=>typeof o=="string"&&o.endsWith("%")?parseFloat(o)/100*n:+o;function Wn(o,n,t){if(o&&typeof o.call=="function")return o.apply(t,n)}function Bn(o,n,t,e){let i,r,a;if(ei(o))if(r=o.length,e)for(i=r-1;i>=0;i--)n.call(t,o[i],i);else for(i=0;i<r;i++)n.call(t,o[i],i);else if(xn(o))for(a=Object.keys(o),r=a.length,i=0;i<r;i++)n.call(t,o[a[i]],a[i])}function Xu(o,n){let t,e,i,r;if(!o||!n||o.length!==n.length)return!1;for(t=0,e=o.length;t<e;++t)if(i=o[t],r=n[t],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function vh(o){if(ei(o))return o.map(vh);if(xn(o)){let n=Object.create(null),t=Object.keys(o),e=t.length,i=0;for(;i<e;++i)n[t[i]]=vh(o[t[i]]);return n}return o}function jP(o){return["__proto__","prototype","constructor"].indexOf(o)===-1}function GB(o,n,t,e){if(!jP(o))return;let i=n[o],r=t[o];xn(i)&&xn(r)?id(i,r,e):n[o]=vh(r)}function id(o,n,t){let e=ei(n)?n:[n],i=e.length;if(!xn(o))return o;t=t||{};let r=t.merger||GB,a;for(let s=0;s<i;++s){if(a=e[s],!xn(a))continue;let l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)r(l[c],o,a,t)}return o}function od(o,n){return id(o,n,{merger:WB})}function WB(o,n,t){if(!jP(o))return;let e=n[o],i=t[o];xn(e)&&xn(i)?od(e,i):Object.prototype.hasOwnProperty.call(n,o)||(n[o]=vh(i))}var TP={"":o=>o,x:o=>o.x,y:o=>o.y};function KB(o){let n=o.split("."),t=[],e="";for(let i of n)e+=i,e.endsWith("\\")?e=e.slice(0,-1)+".":(t.push(e),e="");return t}function qB(o){let n=KB(o);return t=>{for(let e of n){if(e==="")break;t=t&&t[e]}return t}}function Qu(o,n){return(TP[n]||(TP[n]=qB(n)))(o)}function Ch(o){return o.charAt(0).toUpperCase()+o.slice(1)}var Ju=o=>typeof o<"u",Ha=o=>typeof o=="function",yv=(o,n)=>{if(o.size!==n.size)return!1;for(let t of o)if(!n.has(t))return!1;return!0};function HP(o){return o.type==="mouseup"||o.type==="click"||o.type==="contextmenu"}var wi=Math.PI,Gr=2*wi,$B=Gr+wi,_h=Number.POSITIVE_INFINITY,YB=wi/180,Ur=wi/2,zl=wi/4,EP=wi*2/3,Ba=Math.log10,jl=Math.sign;function ad(o,n,t){return Math.abs(o-n)<t}function bv(o){let n=Math.round(o);o=ad(o,n,o/1e3)?n:o;let t=Math.pow(10,Math.floor(Ba(o))),e=o/t;return(e<=1?1:e<=2?2:e<=5?5:10)*t}function BP(o){let n=[],t=Math.sqrt(o),e;for(e=1;e<t;e++)o%e===0&&(n.push(e),n.push(o/e));return t===(t|0)&&n.push(t),n.sort((i,r)=>i-r).pop(),n}function XB(o){return typeof o=="symbol"||typeof o=="object"&&o!==null&&!(Symbol.toPrimitive in o||"toString"in o||"valueOf"in o)}function sd(o){return!XB(o)&&!isNaN(parseFloat(o))&&isFinite(o)}function UP(o,n){let t=Math.round(o);return t-n<=o&&t+n>=o}function Cv(o,n,t){let e,i,r;for(e=0,i=o.length;e<i;e++)r=o[e][t],isNaN(r)||(n.min=Math.min(n.min,r),n.max=Math.max(n.max,r))}function Ua(o){return o*(wi/180)}function xh(o){return o*(180/wi)}function xv(o){if(!di(o))return;let n=1,t=0;for(;Math.round(o*n)/n!==o;)n*=10,t++;return t}function GP(o,n){let t=n.x-o.x,e=n.y-o.y,i=Math.sqrt(t*t+e*e),r=Math.atan2(e,t);return r<-.5*wi&&(r+=Gr),{angle:r,distance:i}}function yh(o,n){return Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2))}function QB(o,n){return(o-n+$B)%Gr-wi}function Br(o){return(o%Gr+Gr)%Gr}function Ov(o,n,t,e){let i=Br(o),r=Br(n),a=Br(t),s=Br(r-i),l=Br(a-i),c=Br(i-r),u=Br(i-a);return i===r||i===a||e&&r===a||s>l&&c<u}function go(o,n,t){return Math.max(n,Math.min(t,o))}function WP(o){return go(o,-32768,32767)}function Bl(o,n,t,e=1e-6){return o>=Math.min(n,t)-e&&o<=Math.max(n,t)+e}function Oh(o,n,t){t=t||(a=>o[a]<n);let e=o.length-1,i=0,r;for(;e-i>1;)r=i+e>>1,t(r)?i=r:e=r;return{lo:i,hi:e}}var js=(o,n,t,e)=>Oh(o,t,e?i=>{let r=o[i][n];return r<t||r===t&&o[i+1][n]===t}:i=>o[i][n]<t),KP=(o,n,t)=>Oh(o,t,e=>o[e][n]>=t);function qP(o,n,t){let e=0,i=o.length;for(;e<i&&o[e]<n;)e++;for(;i>e&&o[i-1]>t;)i--;return e>0||i<o.length?o.slice(e,i):o}var $P=["push","pop","shift","splice","unshift"];function YP(o,n){if(o._chartjs){o._chartjs.listeners.push(n);return}Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),$P.forEach(t=>{let e="_onData"+Ch(t),i=o[t];Object.defineProperty(o,t,{configurable:!0,enumerable:!1,value(...r){let a=i.apply(this,r);return o._chartjs.listeners.forEach(s=>{typeof s[e]=="function"&&s[e](...r)}),a}})})}function Pv(o,n){let t=o._chartjs;if(!t)return;let e=t.listeners,i=e.indexOf(n);i!==-1&&e.splice(i,1),!(e.length>0)&&($P.forEach(r=>{delete o[r]}),delete o._chartjs)}function XP(o){let n=new Set(o);return n.size===o.length?o:Array.from(n)}var Mv=function(){return typeof window>"u"?function(o){return o()}:window.requestAnimationFrame}();function wv(o,n){let t=[],e=!1;return function(...i){t=i,e||(e=!0,Mv.call(window,()=>{e=!1,o.apply(n,t)}))}}function QP(o,n){let t;return function(...e){return n?(clearTimeout(t),t=setTimeout(o,n,e)):o.apply(this,e),n}}var Ph=o=>o==="start"?"left":o==="end"?"right":"center",ir=(o,n,t)=>o==="start"?n:o==="end"?t:(n+t)/2,JP=(o,n,t,e)=>o===(e?"left":"right")?t:o==="center"?(n+t)/2:n;function ZP(o,n,t){let e=n.length,i=0,r=e;if(o._sorted){let{iScale:a,vScale:s,_parsed:l}=o,c=o.dataset&&o.dataset.options?o.dataset.options.spanGaps:null,u=a.axis,{min:p,max:g,minDefined:h,maxDefined:y}=a.getUserBounds();if(h){if(i=Math.min(js(l,u,p).lo,t?e:js(n,u,a.getPixelForValue(p)).lo),c){let _=l.slice(0,i+1).reverse().findIndex(O=>!Hn(O[s.axis]));i-=Math.max(0,_)}i=go(i,0,e-1)}if(y){let _=Math.max(js(l,a.axis,g,!0).hi+1,t?0:js(n,u,a.getPixelForValue(g),!0).hi+1);if(c){let O=l.slice(_-1).findIndex(M=>!Hn(M[s.axis]));_+=Math.max(0,O)}r=go(_,i,e)-i}else r=e-i}return{start:i,count:r}}function tM(o){let{xScale:n,yScale:t,_scaleRanges:e}=o,i={xmin:n.min,xmax:n.max,ymin:t.min,ymax:t.max};if(!e)return o._scaleRanges=i,!0;let r=e.xmin!==n.min||e.xmax!==n.max||e.ymin!==t.min||e.ymax!==t.max;return Object.assign(e,i),r}var gh=o=>o===0||o===1,kP=(o,n,t)=>-(Math.pow(2,10*(o-=1))*Math.sin((o-n)*Gr/t)),AP=(o,n,t)=>Math.pow(2,-10*o)*Math.sin((o-n)*Gr/t)+1,nd={linear:o=>o,easeInQuad:o=>o*o,easeOutQuad:o=>-o*(o-2),easeInOutQuad:o=>(o/=.5)<1?.5*o*o:-.5*(--o*(o-2)-1),easeInCubic:o=>o*o*o,easeOutCubic:o=>(o-=1)*o*o+1,easeInOutCubic:o=>(o/=.5)<1?.5*o*o*o:.5*((o-=2)*o*o+2),easeInQuart:o=>o*o*o*o,easeOutQuart:o=>-((o-=1)*o*o*o-1),easeInOutQuart:o=>(o/=.5)<1?.5*o*o*o*o:-.5*((o-=2)*o*o*o-2),easeInQuint:o=>o*o*o*o*o,easeOutQuint:o=>(o-=1)*o*o*o*o+1,easeInOutQuint:o=>(o/=.5)<1?.5*o*o*o*o*o:.5*((o-=2)*o*o*o*o+2),easeInSine:o=>-Math.cos(o*Ur)+1,easeOutSine:o=>Math.sin(o*Ur),easeInOutSine:o=>-.5*(Math.cos(wi*o)-1),easeInExpo:o=>o===0?0:Math.pow(2,10*(o-1)),easeOutExpo:o=>o===1?1:-Math.pow(2,-10*o)+1,easeInOutExpo:o=>gh(o)?o:o<.5?.5*Math.pow(2,10*(o*2-1)):.5*(-Math.pow(2,-10*(o*2-1))+2),easeInCirc:o=>o>=1?o:-(Math.sqrt(1-o*o)-1),easeOutCirc:o=>Math.sqrt(1-(o-=1)*o),easeInOutCirc:o=>(o/=.5)<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(o-=2)*o)+1),easeInElastic:o=>gh(o)?o:kP(o,.075,.3),easeOutElastic:o=>gh(o)?o:AP(o,.075,.3),easeInOutElastic(o){return gh(o)?o:o<.5?.5*kP(o*2,.1125,.45):.5+.5*AP(o*2-1,.1125,.45)},easeInBack(o){return o*o*((1.70158+1)*o-1.70158)},easeOutBack(o){return(o-=1)*o*((1.70158+1)*o+1.70158)+1},easeInOutBack(o){let n=1.70158;return(o/=.5)<1?.5*(o*o*(((n*=1.525)+1)*o-n)):.5*((o-=2)*o*(((n*=1.525)+1)*o+n)+2)},easeInBounce:o=>1-nd.easeOutBounce(1-o),easeOutBounce(o){return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375},easeInOutBounce:o=>o<.5?nd.easeInBounce(o*2)*.5:nd.easeOutBounce(o*2-1)*.5+.5};function Sv(o){if(o&&typeof o=="object"){let n=o.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function Tv(o){return Sv(o)?o:new Ku(o)}function mv(o){return Sv(o)?o:new Ku(o).saturate(.5).darken(.1).hexString()}var JB=["x","y","borderWidth","radius","tension"],ZB=["color","borderColor","backgroundColor"];function tU(o){o.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),o.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"}),o.set("animations",{colors:{type:"color",properties:ZB},numbers:{type:"number",properties:JB}}),o.describe("animations",{_fallback:"animation"}),o.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}})}function eU(o){o.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var IP=new Map;function nU(o,n){n=n||{};let t=o+JSON.stringify(n),e=IP.get(t);return e||(e=new Intl.NumberFormat(o,n),IP.set(t,e)),e}function Mh(o,n,t){return nU(n,t).format(o)}var eM={values(o){return ei(o)?o:""+o},numeric(o,n,t){if(o===0)return"0";let e=this.chart.options.locale,i,r=o;if(t.length>1){let c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=iU(o,t)}let a=Ba(Math.abs(r)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),Mh(o,e,l)},logarithmic(o,n,t){if(o===0)return"0";let e=t[n].significand||o/Math.pow(10,Math.floor(Ba(o)));return[1,2,3,5,10,15].includes(e)||n>.8*t.length?eM.numeric.call(this,o,n,t):""}};function iU(o,n){let t=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(t)>=1&&o!==Math.floor(o)&&(t=o-Math.floor(o)),t}var Zu={formatters:eM};function rU(o){o.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),o.route("scale.ticks","color","","color"),o.route("scale.grid","color","","borderColor"),o.route("scale.border","color","","borderColor"),o.route("scale.title","color","","color"),o.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"&&n!=="dash"}),o.describe("scales",{_fallback:"scale"}),o.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"})}var Bs=Object.create(null),wh=Object.create(null);function $u(o,n){if(!n)return o;let t=n.split(".");for(let e=0,i=t.length;e<i;++e){let r=t[e];o=o[r]||(o[r]=Object.create(null))}return o}function vv(o,n,t){return typeof n=="string"?id($u(o,n),t):id($u(o,""),n)}var _v=class{constructor(n,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>mv(i.backgroundColor),this.hoverBorderColor=(e,i)=>mv(i.borderColor),this.hoverColor=(e,i)=>mv(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(t)}set(n,t){return vv(this,n,t)}get(n){return $u(this,n)}describe(n,t){return vv(wh,n,t)}override(n,t){return vv(Bs,n,t)}route(n,t,e,i){let r=$u(this,n),a=$u(this,e),s="_"+t;Object.defineProperties(r,{[s]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[s],c=a[i];return xn(l)?Object.assign({},c,l):mn(l,c)},set(l){this[s]=l}}})}apply(n){n.forEach(t=>t(this))}},ni=new _v({_scriptable:o=>!o.startsWith("on"),_indexable:o=>o!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[tU,eU,rU]);function oU(o){return!o||Hn(o.size)||Hn(o.family)?null:(o.style?o.style+" ":"")+(o.weight?o.weight+" ":"")+o.size+"px "+o.family}function Yu(o,n,t,e,i){let r=n[i];return r||(r=n[i]=o.measureText(i).width,t.push(i)),r>e&&(e=r),e}function nM(o,n,t,e){e=e||{};let i=e.data=e.data||{},r=e.garbageCollect=e.garbageCollect||[];e.font!==n&&(i=e.data={},r=e.garbageCollect=[],e.font=n),o.save(),o.font=n;let a=0,s=t.length,l,c,u,p,g;for(l=0;l<s;l++)if(p=t[l],p!=null&&!ei(p))a=Yu(o,i,r,a,p);else if(ei(p))for(c=0,u=p.length;c<u;c++)g=p[c],g!=null&&!ei(g)&&(a=Yu(o,i,r,a,g));o.restore();let h=r.length/2;if(h>t.length){for(l=0;l<h;l++)delete i[r[l]];r.splice(0,h)}return a}function Us(o,n,t){let e=o.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((n-i)*e)/e+i}function Ev(o,n){!n&&!o||(n=n||o.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,o.width,o.height),n.restore())}function Sh(o,n,t,e){kv(o,n,t,e,null)}function kv(o,n,t,e,i){let r,a,s,l,c,u,p,g,h=n.pointStyle,y=n.rotation,_=n.radius,O=(y||0)*YB;if(h&&typeof h=="object"&&(r=h.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){o.save(),o.translate(t,e),o.rotate(O),o.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),o.restore();return}if(!(isNaN(_)||_<=0)){switch(o.beginPath(),h){default:i?o.ellipse(t,e,i/2,_,0,0,Gr):o.arc(t,e,_,0,Gr),o.closePath();break;case"triangle":u=i?i/2:_,o.moveTo(t+Math.sin(O)*u,e-Math.cos(O)*_),O+=EP,o.lineTo(t+Math.sin(O)*u,e-Math.cos(O)*_),O+=EP,o.lineTo(t+Math.sin(O)*u,e-Math.cos(O)*_),o.closePath();break;case"rectRounded":c=_*.516,l=_-c,a=Math.cos(O+zl)*l,p=Math.cos(O+zl)*(i?i/2-c:l),s=Math.sin(O+zl)*l,g=Math.sin(O+zl)*(i?i/2-c:l),o.arc(t-p,e-s,c,O-wi,O-Ur),o.arc(t+g,e-a,c,O-Ur,O),o.arc(t+p,e+s,c,O,O+Ur),o.arc(t-g,e+a,c,O+Ur,O+wi),o.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*_,u=i?i/2:l,o.rect(t-u,e-l,2*u,2*l);break}O+=zl;case"rectRot":p=Math.cos(O)*(i?i/2:_),a=Math.cos(O)*_,s=Math.sin(O)*_,g=Math.sin(O)*(i?i/2:_),o.moveTo(t-p,e-s),o.lineTo(t+g,e-a),o.lineTo(t+p,e+s),o.lineTo(t-g,e+a),o.closePath();break;case"crossRot":O+=zl;case"cross":p=Math.cos(O)*(i?i/2:_),a=Math.cos(O)*_,s=Math.sin(O)*_,g=Math.sin(O)*(i?i/2:_),o.moveTo(t-p,e-s),o.lineTo(t+p,e+s),o.moveTo(t+g,e-a),o.lineTo(t-g,e+a);break;case"star":p=Math.cos(O)*(i?i/2:_),a=Math.cos(O)*_,s=Math.sin(O)*_,g=Math.sin(O)*(i?i/2:_),o.moveTo(t-p,e-s),o.lineTo(t+p,e+s),o.moveTo(t+g,e-a),o.lineTo(t-g,e+a),O+=zl,p=Math.cos(O)*(i?i/2:_),a=Math.cos(O)*_,s=Math.sin(O)*_,g=Math.sin(O)*(i?i/2:_),o.moveTo(t-p,e-s),o.lineTo(t+p,e+s),o.moveTo(t+g,e-a),o.lineTo(t-g,e+a);break;case"line":a=i?i/2:Math.cos(O)*_,s=Math.sin(O)*_,o.moveTo(t-a,e-s),o.lineTo(t+a,e+s);break;case"dash":o.moveTo(t,e),o.lineTo(t+Math.cos(O)*(i?i/2:_),e+Math.sin(O)*_);break;case!1:o.closePath();break}o.fill(),n.borderWidth>0&&o.stroke()}}function fa(o,n,t){return t=t||.5,!n||o&&o.x>n.left-t&&o.x<n.right+t&&o.y>n.top-t&&o.y<n.bottom+t}function tp(o,n){o.save(),o.beginPath(),o.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),o.clip()}function ep(o){o.restore()}function iM(o,n,t,e,i){if(!n)return o.lineTo(t.x,t.y);if(i==="middle"){let r=(n.x+t.x)/2;o.lineTo(r,n.y),o.lineTo(r,t.y)}else i==="after"!=!!e?o.lineTo(n.x,t.y):o.lineTo(t.x,n.y);o.lineTo(t.x,t.y)}function rM(o,n,t,e){if(!n)return o.lineTo(t.x,t.y);o.bezierCurveTo(e?n.cp1x:n.cp2x,e?n.cp1y:n.cp2y,e?t.cp2x:t.cp1x,e?t.cp2y:t.cp1y,t.x,t.y)}function aU(o,n){n.translation&&o.translate(n.translation[0],n.translation[1]),Hn(n.rotation)||o.rotate(n.rotation),n.color&&(o.fillStyle=n.color),n.textAlign&&(o.textAlign=n.textAlign),n.textBaseline&&(o.textBaseline=n.textBaseline)}function sU(o,n,t,e,i){if(i.strikethrough||i.underline){let r=o.measureText(e),a=n-r.actualBoundingBoxLeft,s=n+r.actualBoundingBoxRight,l=t-r.actualBoundingBoxAscent,c=t+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;o.strokeStyle=o.fillStyle,o.beginPath(),o.lineWidth=i.decorationWidth||2,o.moveTo(a,u),o.lineTo(s,u),o.stroke()}}function lU(o,n){let t=o.fillStyle;o.fillStyle=n.color,o.fillRect(n.left,n.top,n.width,n.height),o.fillStyle=t}function Gs(o,n,t,e,i,r={}){let a=ei(n)?n:[n],s=r.strokeWidth>0&&r.strokeColor!=="",l,c;for(o.save(),o.font=i.string,aU(o,r),l=0;l<a.length;++l)c=a[l],r.backdrop&&lU(o,r.backdrop),s&&(r.strokeColor&&(o.strokeStyle=r.strokeColor),Hn(r.strokeWidth)||(o.lineWidth=r.strokeWidth),o.strokeText(c,t,e,r.maxWidth)),o.fillText(c,t,e,r.maxWidth),sU(o,t,e,c,r),e+=Number(i.lineHeight);o.restore()}function np(o,n){let{x:t,y:e,w:i,h:r,radius:a}=n;o.arc(t+a.topLeft,e+a.topLeft,a.topLeft,1.5*wi,wi,!0),o.lineTo(t,e+r-a.bottomLeft),o.arc(t+a.bottomLeft,e+r-a.bottomLeft,a.bottomLeft,wi,Ur,!0),o.lineTo(t+i-a.bottomRight,e+r),o.arc(t+i-a.bottomRight,e+r-a.bottomRight,a.bottomRight,Ur,0,!0),o.lineTo(t+i,e+a.topRight),o.arc(t+i-a.topRight,e+a.topRight,a.topRight,0,-Ur,!0),o.lineTo(t+a.topLeft,e)}var cU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,dU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uU(o,n){let t=(""+o).match(cU);if(!t||t[1]==="normal")return n*1.2;switch(o=+t[2],t[3]){case"px":return o;case"%":o/=100;break}return n*o}var pU=o=>+o||0;function Av(o,n){let t={},e=xn(n),i=e?Object.keys(n):n,r=xn(o)?e?a=>mn(o[a],o[n[a]]):a=>o[a]:()=>o;for(let a of i)t[a]=pU(r(a));return t}function oM(o){return Av(o,{top:"y",right:"x",bottom:"y",left:"x"})}function Ul(o){return Av(o,["topLeft","topRight","bottomLeft","bottomRight"])}function rr(o){let n=oM(o);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Ii(o,n){o=o||{},n=n||ni.font;let t=mn(o.size,n.size);typeof t=="string"&&(t=parseInt(t,10));let e=mn(o.style,n.style);e&&!(""+e).match(dU)&&(console.warn('Invalid font style specified: "'+e+'"'),e=void 0);let i={family:mn(o.family,n.family),lineHeight:uU(mn(o.lineHeight,n.lineHeight),t),size:t,style:e,weight:mn(o.weight,n.weight),string:""};return i.string=oU(i),i}function ip(o,n,t,e){let i=!0,r,a,s;for(r=0,a=o.length;r<a;++r)if(s=o[r],s!==void 0&&(n!==void 0&&typeof s=="function"&&(s=s(n),i=!1),t!==void 0&&ei(s)&&(s=s[t%s.length],i=!1),s!==void 0))return e&&!i&&(e.cacheable=!1),s}function aM(o,n,t){let{min:e,max:i}=o,r=VP(n,(i-e)/2),a=(s,l)=>t&&s===0?0:s+l;return{min:a(e,-Math.abs(r)),max:a(i,r)}}function Ga(o,n){return Object.assign(Object.create(o),n)}function Th(o,n=[""],t,e,i=()=>o[0]){let r=t||o;typeof e>"u"&&(e=cM("_fallback",o));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:o,_rootScopes:r,_fallback:e,_getTarget:i,override:s=>Th([s,...o],n,r,e)};return new Proxy(a,{deleteProperty(s,l){return delete s[l],delete s._keys,delete o[0][l],!0},get(s,l){return sM(s,l,()=>bU(l,n,o,s))},getOwnPropertyDescriptor(s,l){return Reflect.getOwnPropertyDescriptor(s._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(o[0])},has(s,l){return LP(s).includes(l)},ownKeys(s){return LP(s)},set(s,l,c){let u=s._storage||(s._storage=i());return s[l]=u[l]=c,delete s._keys,!0}})}function Hl(o,n,t,e){let i={_cacheable:!1,_proxy:o,_context:n,_subProxy:t,_stack:new Set,_descriptors:Iv(o,e),setContext:r=>Hl(o,r,t,e),override:r=>Hl(o.override(r),n,t,e)};return new Proxy(i,{deleteProperty(r,a){return delete r[a],delete o[a],!0},get(r,a,s){return sM(r,a,()=>gU(r,a,s))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(o,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(o,a)},getPrototypeOf(){return Reflect.getPrototypeOf(o)},has(r,a){return Reflect.has(o,a)},ownKeys(){return Reflect.ownKeys(o)},set(r,a,s){return o[a]=s,delete r[a],!0}})}function Iv(o,n={scriptable:!0,indexable:!0}){let{_scriptable:t=n.scriptable,_indexable:e=n.indexable,_allKeys:i=n.allKeys}=o;return{allKeys:i,scriptable:t,indexable:e,isScriptable:Ha(t)?t:()=>t,isIndexable:Ha(e)?e:()=>e}}var fU=(o,n)=>o?o+Ch(n):n,Dv=(o,n)=>xn(n)&&o!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function sM(o,n,t){if(Object.prototype.hasOwnProperty.call(o,n)||n==="constructor")return o[n];let e=t();return o[n]=e,e}function gU(o,n,t){let{_proxy:e,_context:i,_subProxy:r,_descriptors:a}=o,s=e[n];return Ha(s)&&a.isScriptable(n)&&(s=hU(n,s,o,t)),ei(s)&&s.length&&(s=mU(n,s,o,a.isIndexable)),Dv(n,s)&&(s=Hl(s,i,r&&r[n],a)),s}function hU(o,n,t,e){let{_proxy:i,_context:r,_subProxy:a,_stack:s}=t;if(s.has(o))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+o);s.add(o);let l=n(r,a||e);return s.delete(o),Dv(o,l)&&(l=Lv(i._scopes,i,o,l)),l}function mU(o,n,t,e){let{_proxy:i,_context:r,_subProxy:a,_descriptors:s}=t;if(typeof r.index<"u"&&e(o))return n[r.index%n.length];if(xn(n[0])){let l=n,c=i._scopes.filter(u=>u!==l);n=[];for(let u of l){let p=Lv(c,i,o,u);n.push(Hl(p,r,a&&a[o],s))}}return n}function lM(o,n,t){return Ha(o)?o(n,t):o}var vU=(o,n)=>o===!0?n:typeof o=="string"?Qu(n,o):void 0;function _U(o,n,t,e,i){for(let r of n){let a=vU(t,r);if(a){o.add(a);let s=lM(a._fallback,t,i);if(typeof s<"u"&&s!==t&&s!==e)return s}else if(a===!1&&typeof e<"u"&&t!==e)return null}return!1}function Lv(o,n,t,e){let i=n._rootScopes,r=lM(n._fallback,t,e),a=[...o,...i],s=new Set;s.add(e);let l=DP(s,a,t,r||t,e);return l===null||typeof r<"u"&&r!==t&&(l=DP(s,a,r,l,e),l===null)?!1:Th(Array.from(s),[""],i,r,()=>yU(n,t,e))}function DP(o,n,t,e,i){for(;t;)t=_U(o,n,t,e,i);return t}function yU(o,n,t){let e=o._getTarget();n in e||(e[n]={});let i=e[n];return ei(i)&&xn(t)?t:i||{}}function bU(o,n,t,e){let i;for(let r of n)if(i=cM(fU(r,o),t),typeof i<"u")return Dv(o,i)?Lv(t,e,o,i):i}function cM(o,n){for(let t of n){if(!t)continue;let e=t[o];if(typeof e<"u")return e}}function LP(o){let n=o._keys;return n||(n=o._keys=CU(o._scopes)),n}function CU(o){let n=new Set;for(let t of o)for(let e of Object.keys(t).filter(i=>!i.startsWith("_")))n.add(e);return Array.from(n)}var xU=Number.EPSILON||1e-14,rd=(o,n)=>n<o.length&&!o[n].skip&&o[n],dM=o=>o==="x"?"y":"x";function OU(o,n,t,e){let i=o.skip?n:o,r=n,a=t.skip?n:t,s=yh(r,i),l=yh(a,r),c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let p=e*c,g=e*u;return{previous:{x:r.x-p*(a.x-i.x),y:r.y-p*(a.y-i.y)},next:{x:r.x+g*(a.x-i.x),y:r.y+g*(a.y-i.y)}}}function PU(o,n,t){let e=o.length,i,r,a,s,l,c=rd(o,0);for(let u=0;u<e-1;++u)if(l=c,c=rd(o,u+1),!(!l||!c)){if(ad(n[u],0,xU)){t[u]=t[u+1]=0;continue}i=t[u]/n[u],r=t[u+1]/n[u],s=Math.pow(i,2)+Math.pow(r,2),!(s<=9)&&(a=3/Math.sqrt(s),t[u]=i*a*n[u],t[u+1]=r*a*n[u])}}function MU(o,n,t="x"){let e=dM(t),i=o.length,r,a,s,l=rd(o,0);for(let c=0;c<i;++c){if(a=s,s=l,l=rd(o,c+1),!s)continue;let u=s[t],p=s[e];a&&(r=(u-a[t])/3,s[`cp1${t}`]=u-r,s[`cp1${e}`]=p-r*n[c]),l&&(r=(l[t]-u)/3,s[`cp2${t}`]=u+r,s[`cp2${e}`]=p+r*n[c])}}function wU(o,n="x"){let t=dM(n),e=o.length,i=Array(e).fill(0),r=Array(e),a,s,l,c=rd(o,0);for(a=0;a<e;++a)if(s=l,l=c,c=rd(o,a+1),!!l){if(c){let u=c[n]-l[n];i[a]=u!==0?(c[t]-l[t])/u:0}r[a]=s?c?jl(i[a-1])!==jl(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}PU(o,i,r),MU(o,r,n)}function hh(o,n,t){return Math.max(Math.min(o,t),n)}function SU(o,n){let t,e,i,r,a,s=fa(o[0],n);for(t=0,e=o.length;t<e;++t)a=r,r=s,s=t<e-1&&fa(o[t+1],n),r&&(i=o[t],a&&(i.cp1x=hh(i.cp1x,n.left,n.right),i.cp1y=hh(i.cp1y,n.top,n.bottom)),s&&(i.cp2x=hh(i.cp2x,n.left,n.right),i.cp2y=hh(i.cp2y,n.top,n.bottom)))}function uM(o,n,t,e,i){let r,a,s,l;if(n.spanGaps&&(o=o.filter(c=>!c.skip)),n.cubicInterpolationMode==="monotone")wU(o,i);else{let c=e?o[o.length-1]:o[0];for(r=0,a=o.length;r<a;++r)s=o[r],l=OU(c,s,o[Math.min(r+1,a-(e?0:1))%a],n.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,c=s}n.capBezierPoints&&SU(o,t)}function Eh(){return typeof window<"u"&&typeof document<"u"}function kh(o){let n=o.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function bh(o,n,t){let e;return typeof o=="string"?(e=parseInt(o,10),o.indexOf("%")!==-1&&(e=e/100*n.parentNode[t])):e=o,e}var Ah=o=>o.ownerDocument.defaultView.getComputedStyle(o,null);function TU(o,n){return Ah(o).getPropertyValue(n)}var EU=["top","right","bottom","left"];function Vl(o,n,t){let e={};t=t?"-"+t:"";for(let i=0;i<4;i++){let r=EU[i];e[r]=parseFloat(o[n+"-"+r+t])||0}return e.width=e.left+e.right,e.height=e.top+e.bottom,e}var kU=(o,n,t)=>(o>0||n>0)&&(!t||!t.shadowRoot);function AU(o,n){let t=o.touches,e=t&&t.length?t[0]:o,{offsetX:i,offsetY:r}=e,a=!1,s,l;if(kU(i,r,o.target))s=i,l=r;else{let c=n.getBoundingClientRect();s=e.clientX-c.left,l=e.clientY-c.top,a=!0}return{x:s,y:l,box:a}}function Ws(o,n){if("native"in o)return o;let{canvas:t,currentDevicePixelRatio:e}=n,i=Ah(t),r=i.boxSizing==="border-box",a=Vl(i,"padding"),s=Vl(i,"border","width"),{x:l,y:c,box:u}=AU(o,t),p=a.left+(u&&s.left),g=a.top+(u&&s.top),{width:h,height:y}=n;return r&&(h-=a.width+s.width,y-=a.height+s.height),{x:Math.round((l-p)/h*t.width/e),y:Math.round((c-g)/y*t.height/e)}}function IU(o,n,t){let e,i;if(n===void 0||t===void 0){let r=o&&kh(o);if(!r)n=o.clientWidth,t=o.clientHeight;else{let a=r.getBoundingClientRect(),s=Ah(r),l=Vl(s,"border","width"),c=Vl(s,"padding");n=a.width-c.width-l.width,t=a.height-c.height-l.height,e=bh(s.maxWidth,r,"clientWidth"),i=bh(s.maxHeight,r,"clientHeight")}}return{width:n,height:t,maxWidth:e||_h,maxHeight:i||_h}}var Hs=o=>Math.round(o*10)/10;function pM(o,n,t,e){let i=Ah(o),r=Vl(i,"margin"),a=bh(i.maxWidth,o,"clientWidth")||_h,s=bh(i.maxHeight,o,"clientHeight")||_h,l=IU(o,n,t),{width:c,height:u}=l;if(i.boxSizing==="content-box"){let g=Vl(i,"border","width"),h=Vl(i,"padding");c-=h.width+g.width,u-=h.height+g.height}return c=Math.max(0,c-r.width),u=Math.max(0,e?c/e:u-r.height),c=Hs(Math.min(c,a,l.maxWidth)),u=Hs(Math.min(u,s,l.maxHeight)),c&&!u&&(u=Hs(c/2)),(n!==void 0||t!==void 0)&&e&&l.height&&u>l.height&&(u=l.height,c=Hs(Math.floor(u*e))),{width:c,height:u}}function Nv(o,n,t){let e=n||1,i=Hs(o.height*e),r=Hs(o.width*e);o.height=Hs(o.height),o.width=Hs(o.width);let a=o.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${o.height}px`,a.style.width=`${o.width}px`),o.currentDevicePixelRatio!==e||a.height!==i||a.width!==r?(o.currentDevicePixelRatio=e,a.height=i,a.width=r,o.ctx.setTransform(e,0,0,e,0,0),!0):!1}var fM=function(){let o=!1;try{let n={get passive(){return o=!0,!1}};Eh()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return o}();function Rv(o,n){let t=TU(o,n),e=t&&t.match(/^(\d+)(\.\d+)?px$/);return e?+e[1]:void 0}function Vs(o,n,t,e){return{x:o.x+t*(n.x-o.x),y:o.y+t*(n.y-o.y)}}function gM(o,n,t,e){return{x:o.x+t*(n.x-o.x),y:e==="middle"?t<.5?o.y:n.y:e==="after"?t<1?o.y:n.y:t>0?n.y:o.y}}function hM(o,n,t,e){let i={x:o.cp2x,y:o.cp2y},r={x:n.cp1x,y:n.cp1y},a=Vs(o,i,t),s=Vs(i,r,t),l=Vs(r,n,t),c=Vs(a,s,t),u=Vs(s,l,t);return Vs(c,u,t)}var DU=function(o,n){return{x(t){return o+o+n-t},setWidth(t){n=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},LU=function(){return{x(o){return o},setWidth(o){},textAlign(o){return o},xPlus(o,n){return o+n},leftForLtr(o,n){return o}}};function Gl(o,n,t){return o?DU(n,t):LU()}function Fv(o,n){let t,e;(n==="ltr"||n==="rtl")&&(t=o.canvas.style,e=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",n,"important"),o.prevTextDirection=e)}function zv(o,n){n!==void 0&&(delete o.prevTextDirection,o.canvas.style.setProperty("direction",n[0],n[1]))}function mM(o){return o==="angle"?{between:Ov,compare:QB,normalize:Br}:{between:Bl,compare:(n,t)=>n-t,normalize:n=>n}}function NP({start:o,end:n,count:t,loop:e,style:i}){return{start:o%t,end:n%t,loop:e&&(n-o+1)%t===0,style:i}}function NU(o,n,t){let{property:e,start:i,end:r}=t,{between:a,normalize:s}=mM(e),l=n.length,{start:c,end:u,loop:p}=o,g,h;if(p){for(c+=l,u+=l,g=0,h=l;g<h&&a(s(n[c%l][e]),i,r);++g)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:p,style:o.style}}function Vv(o,n,t){if(!t)return[o];let{property:e,start:i,end:r}=t,a=n.length,{compare:s,between:l,normalize:c}=mM(e),{start:u,end:p,loop:g,style:h}=NU(o,n,t),y=[],_=!1,O=null,M,w,T,b=()=>l(i,T,M)&&s(i,T)!==0,k=()=>s(r,M)===0||l(r,T,M),E=()=>_||b(),N=()=>!_||k();for(let F=u,V=u;F<=p;++F)w=n[F%a],!w.skip&&(M=c(w[e]),M!==T&&(_=l(M,i,r),O===null&&E()&&(O=s(M,i)===0?F:V),O!==null&&N()&&(y.push(NP({start:O,end:F,loop:g,count:a,style:h})),O=null),V=F,T=M));return O!==null&&y.push(NP({start:O,end:p,loop:g,count:a,style:h})),y}function jv(o,n){let t=[],e=o.segments;for(let i=0;i<e.length;i++){let r=Vv(e[i],o.points,n);r.length&&t.push(...r)}return t}function RU(o,n,t,e){let i=0,r=n-1;if(t&&!e)for(;i<n&&!o[i].skip;)i++;for(;i<n&&o[i].skip;)i++;for(i%=n,t&&(r+=i);r>i&&o[r%n].skip;)r--;return r%=n,{start:i,end:r}}function FU(o,n,t,e){let i=o.length,r=[],a=n,s=o[n],l;for(l=n+1;l<=t;++l){let c=o[l%i];c.skip||c.stop?s.skip||(e=!1,r.push({start:n%i,end:(l-1)%i,loop:e}),n=a=c.stop?l:null):(a=l,s.skip&&(n=l)),s=c}return a!==null&&r.push({start:n%i,end:a%i,loop:e}),r}function vM(o,n){let t=o.points,e=o.options.spanGaps,i=t.length;if(!i)return[];let r=!!o._loop,{start:a,end:s}=RU(t,i,r,e);if(e===!0)return RP(o,[{start:a,end:s,loop:r}],t,n);let l=s<a?s+i:s,c=!!o._fullLoop&&a===0&&s===i-1;return RP(o,FU(t,a,l,c),t,n)}function RP(o,n,t,e){return!e||!e.setContext||!t?n:zU(o,n,t,e)}function zU(o,n,t,e){let i=o._chart.getContext(),r=FP(o.options),{_datasetIndex:a,options:{spanGaps:s}}=o,l=t.length,c=[],u=r,p=n[0].start,g=p;function h(y,_,O,M){let w=s?-1:1;if(y!==_){for(y+=l;t[y%l].skip;)y-=w;for(;t[_%l].skip;)_+=w;y%l!==_%l&&(c.push({start:y%l,end:_%l,loop:O,style:M}),u=M,p=_%l)}}for(let y of n){p=s?p:y.start;let _=t[p%l],O;for(g=p+1;g<=y.end;g++){let M=t[g%l];O=FP(e.setContext(Ga(i,{type:"segment",p0:_,p1:M,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:a}))),VU(O,u)&&h(p,g-1,y.loop,u),_=M,u=O}p<g-1&&h(p,g-1,y.loop,u)}return c}function FP(o){return{backgroundColor:o.backgroundColor,borderCapStyle:o.borderCapStyle,borderDash:o.borderDash,borderDashOffset:o.borderDashOffset,borderJoinStyle:o.borderJoinStyle,borderWidth:o.borderWidth,borderColor:o.borderColor}}function VU(o,n){if(!n)return!1;let t=[],e=function(i,r){return Sv(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(o,e)!==JSON.stringify(n,e)}function mh(o,n,t){return o.options.clip?o[t]:n[t]}function jU(o,n){let{xScale:t,yScale:e}=o;return t&&e?{left:mh(t,n,"left"),right:mh(t,n,"right"),top:mh(e,n,"top"),bottom:mh(e,n,"bottom")}:n}function Hv(o,n){let t=n._clip;if(t.disabled)return!1;let e=jU(n,o.chartArea);return{left:t.left===!1?0:e.left-(t.left===!0?0:t.left),right:t.right===!1?o.width:e.right+(t.right===!0?0:t.right),top:t.top===!1?0:e.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?o.height:e.bottom+(t.bottom===!0?0:t.bottom)}}var Xv=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,t,e,i){let r=t.listeners[i],a=t.duration;r.forEach(s=>s({chart:n,initial:t.initial,numSteps:a,currentStep:Math.min(e-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Mv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let t=0;this._charts.forEach((e,i)=>{if(!e.running||!e.items.length)return;let r=e.items,a=r.length-1,s=!1,l;for(;a>=0;--a)l=r[a],l._active?(l._total>e.duration&&(e.duration=l._total),l.tick(n),s=!0):(r[a]=r[r.length-1],r.pop());s&&(i.draw(),this._notify(i,e,n,"progress")),r.length||(e.running=!1,this._notify(i,e,n,"complete"),e.initial=!1),t+=r.length}),this._lastDate=n,t===0&&(this._running=!1)}_getAnims(n){let t=this._charts,e=t.get(n);return e||(e={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(n,e)),e}listen(n,t,e){this._getAnims(n).listeners[t].push(e)}add(n,t){!t||!t.length||this._getAnims(n).items.push(...t)}has(n){return this._getAnims(n).items.length>0}start(n){let t=this._charts.get(n);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,i)=>Math.max(e,i._duration),0),this._refresh())}running(n){if(!this._running)return!1;let t=this._charts.get(n);return!(!t||!t.running||!t.items.length)}stop(n){let t=this._charts.get(n);if(!t||!t.items.length)return;let e=t.items,i=e.length-1;for(;i>=0;--i)e[i].cancel();t.items=[],this._notify(n,t,Date.now(),"complete")}remove(n){return this._charts.delete(n)}},Wa=new Xv,_M="transparent",HU={boolean(o,n,t){return t>.5?n:o},color(o,n,t){let e=Tv(o||_M),i=e.valid&&Tv(n||_M);return i&&i.valid?i.mix(e,t).hexString():n},number(o,n,t){return o+(n-o)*t}},Qv=class{constructor(n,t,e,i){let r=t[e];i=ip([n.to,i,r,n.from]);let a=ip([n.from,r,i]);this._active=!0,this._fn=n.fn||HU[n.type||typeof a],this._easing=nd[n.easing]||nd.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=t,this._prop=e,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(n,t,e){if(this._active){this._notify(!1);let i=this._target[this._prop],r=e-this._start,a=this._duration-r;this._start=e,this._duration=Math.floor(Math.max(a,n.duration)),this._total+=r,this._loop=!!n.loop,this._to=ip([n.to,t,i,n.from]),this._from=ip([n.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let t=n-this._start,e=this._duration,i=this._prop,r=this._from,a=this._loop,s=this._to,l;if(this._active=r!==s&&(a||t<e),!this._active){this._target[i]=s,this._notify(!0);return}if(t<0){this._target[i]=r;return}l=t/e%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,s,l)}wait(){let n=this._promises||(this._promises=[]);return new Promise((t,e)=>{n.push({res:t,rej:e})})}_notify(n){let t=n?"res":"rej",e=this._promises||[];for(let i=0;i<e.length;i++)e[i][t]()}},Vh=class{constructor(n,t){this._chart=n,this._properties=new Map,this.configure(t)}configure(n){if(!xn(n))return;let t=Object.keys(ni.animation),e=this._properties;Object.getOwnPropertyNames(n).forEach(i=>{let r=n[i];if(!xn(r))return;let a={};for(let s of t)a[s]=r[s];(ei(r.properties)&&r.properties||[i]).forEach(s=>{(s===i||!e.has(s))&&e.set(s,a)})})}_animateOptions(n,t){let e=t.options,i=UU(n,e);if(!i)return[];let r=this._createAnimations(i,e);return e.$shared&&BU(n.options.$animations,e).then(()=>{n.options=e},()=>{}),r}_createAnimations(n,t){let e=this._properties,i=[],r=n.$animations||(n.$animations={}),a=Object.keys(t),s=Date.now(),l;for(l=a.length-1;l>=0;--l){let c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(n,t));continue}let u=t[c],p=r[c],g=e.get(c);if(p)if(g&&p.active()){p.update(g,u,s);continue}else p.cancel();if(!g||!g.duration){n[c]=u;continue}r[c]=p=new Qv(g,n,c,u),i.push(p)}return i}update(n,t){if(this._properties.size===0){Object.assign(n,t);return}let e=this._createAnimations(n,t);if(e.length)return Wa.add(this._chart,e),!0}};function BU(o,n){let t=[],e=Object.keys(n);for(let i=0;i<e.length;i++){let r=o[e[i]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function UU(o,n){if(!n)return;let t=o.options;if(!t){o.options=n;return}return t.$shared&&(o.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function yM(o,n){let t=o&&o.options||{},e=t.reverse,i=t.min===void 0?n:0,r=t.max===void 0?n:0;return{start:e?r:i,end:e?i:r}}function GU(o,n,t){if(t===!1)return!1;let e=yM(o,t),i=yM(n,t);return{top:i.end,right:e.end,bottom:i.start,left:e.start}}function WU(o){let n,t,e,i;return xn(o)?(n=o.top,t=o.right,e=o.bottom,i=o.left):n=t=e=i=o,{top:n,right:t,bottom:e,left:i,disabled:o===!1}}function m5(o,n){let t=[],e=o._getSortedDatasetMetas(n),i,r;for(i=0,r=e.length;i<r;++i)t.push(e[i].index);return t}function bM(o,n,t,e={}){let i=o.keys,r=e.mode==="single",a,s,l,c;if(n===null)return;let u=!1;for(a=0,s=i.length;a<s;++a){if(l=+i[a],l===t){if(u=!0,e.all)continue;break}c=o.values[l],di(c)&&(r||n===0||jl(n)===jl(c))&&(n+=c)}return!u&&!e.all?0:n}function KU(o,n){let{iScale:t,vScale:e}=n,i=t.axis==="x"?"x":"y",r=e.axis==="x"?"x":"y",a=Object.keys(o),s=new Array(a.length),l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],s[l]={[i]:u,[r]:o[u]};return s}function Bv(o,n){let t=o&&o.options.stacked;return t||t===void 0&&n.stack!==void 0}function qU(o,n,t){return`${o.id}.${n.id}.${t.stack||t.type}`}function $U(o){let{min:n,max:t,minDefined:e,maxDefined:i}=o.getUserBounds();return{min:e?n:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function YU(o,n,t){let e=o[n]||(o[n]={});return e[t]||(e[t]={})}function CM(o,n,t,e){for(let i of n.getMatchingVisibleMetas(e).reverse()){let r=o[i.index];if(t&&r>0||!t&&r<0)return i.index}return null}function xM(o,n){let{chart:t,_cachedMeta:e}=o,i=t._stacks||(t._stacks={}),{iScale:r,vScale:a,index:s}=e,l=r.axis,c=a.axis,u=qU(r,a,e),p=n.length,g;for(let h=0;h<p;++h){let y=n[h],{[l]:_,[c]:O}=y,M=y._stacks||(y._stacks={});g=M[c]=YU(i,u,_),g[s]=O,g._top=CM(g,a,!0,e.type),g._bottom=CM(g,a,!1,e.type);let w=g._visualValues||(g._visualValues={});w[s]=O}}function Uv(o,n){let t=o.scales;return Object.keys(t).filter(e=>t[e].axis===n).shift()}function XU(o,n){return Ga(o,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function QU(o,n,t){return Ga(o,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:t,index:n,mode:"default",type:"data"})}function rp(o,n){let t=o.controller.index,e=o.vScale&&o.vScale.axis;if(e){n=n||o._parsed;for(let i of n){let r=i._stacks;if(!r||r[e]===void 0||r[e][t]===void 0)return;delete r[e][t],r[e]._visualValues!==void 0&&r[e]._visualValues[t]!==void 0&&delete r[e]._visualValues[t]}}}var Gv=o=>o==="reset"||o==="none",OM=(o,n)=>n?o:Object.assign({},o),JU=(o,n,t)=>o&&!n.hidden&&n._stacked&&{keys:m5(t,!0),values:null},v5=(()=>{class o{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Bv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&rp(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(g,h,y,_)=>g==="x"?h:g==="r"?_:y,a=e.xAxisID=mn(i.xAxisID,Uv(t,"x")),s=e.yAxisID=mn(i.yAxisID,Uv(t,"y")),l=e.rAxisID=mn(i.rAxisID,Uv(t,"r")),c=e.indexAxis,u=e.iAxisID=r(c,a,s,l),p=e.vAxisID=r(c,s,a,l);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(u),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Pv(this._data,this),t._stacked&&rp(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(xn(e)){let r=this._cachedMeta;this._data=KU(e,r)}else if(i!==e){if(i){Pv(i,this);let r=this._cachedMeta;rp(r),r._parsed=[]}e&&Object.isExtensible(e)&&YP(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,i=this.getDataset(),r=!1;this._dataCheck();let a=e._stacked;e._stacked=Bv(e.vScale,e),e.stack!==i.stack&&(r=!0,rp(e),e.stack=i.stack),this._resyncElements(t),(r||a!==e._stacked)&&(xM(this,e._parsed),e._stacked=Bv(e.vScale,e))}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){let{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:s}=i,l=a.axis,c=t===0&&e===r.length?!0:i._sorted,u=t>0&&i._parsed[t-1],p,g,h;if(this._parsing===!1)i._parsed=r,i._sorted=!0,h=r;else{ei(r[t])?h=this.parseArrayData(i,r,t,e):xn(r[t])?h=this.parseObjectData(i,r,t,e):h=this.parsePrimitiveData(i,r,t,e);let y=()=>g[l]===null||u&&g[l]<u[l];for(p=0;p<e;++p)i._parsed[p+t]=g=h[p],c&&(y()&&(c=!1),u=g);i._sorted=c}s&&xM(this,h)}parsePrimitiveData(t,e,i,r){let{iScale:a,vScale:s}=t,l=a.axis,c=s.axis,u=a.getLabels(),p=a===s,g=new Array(r),h,y,_;for(h=0,y=r;h<y;++h)_=h+i,g[h]={[l]:p||a.parse(u[_],_),[c]:s.parse(e[_],_)};return g}parseArrayData(t,e,i,r){let{xScale:a,yScale:s}=t,l=new Array(r),c,u,p,g;for(c=0,u=r;c<u;++c)p=c+i,g=e[p],l[c]={x:a.parse(g[0],p),y:s.parse(g[1],p)};return l}parseObjectData(t,e,i,r){let{xScale:a,yScale:s}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(r),p,g,h,y;for(p=0,g=r;p<g;++p)h=p+i,y=e[h],u[p]={x:a.parse(Qu(y,l),h),y:s.parse(Qu(y,c),h)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){let r=this.chart,a=this._cachedMeta,s=e[t.axis],l={keys:m5(r,!0),values:e._stacks[t.axis]._visualValues};return bM(l,s,a.index,{mode:i})}updateRangeFromParsed(t,e,i,r){let a=i[e.axis],s=a===null?NaN:a,l=r&&i._stacks[e.axis];r&&l&&(r.values=l,s=bM(r,a,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){let i=this._cachedMeta,r=i._parsed,a=i._sorted&&t===i.iScale,s=r.length,l=this._getOtherScale(t),c=JU(e,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=$U(l),h,y;function _(){y=r[h];let O=y[l.axis];return!di(y[t.axis])||p>O||g<O}for(h=0;h<s&&!(!_()&&(this.updateRangeFromParsed(u,t,y,c),a));++h);if(a){for(h=s-1;h>=0;--h)if(!_()){this.updateRangeFromParsed(u,t,y,c);break}}return u}getAllParsedValues(t){let e=this._cachedMeta._parsed,i=[],r,a,s;for(r=0,a=e.length;r<a;++r)s=e[r][t.axis],di(s)&&i.push(s);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,i=e.iScale,r=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(t){let e=this._cachedMeta;this.update(t||"default"),e._clip=WU(mn(this.options.clip,GU(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],a=e.chartArea,s=[],l=this._drawStart||0,c=this._drawCount||r.length-l,u=this.options.drawActiveElementsOnTop,p;for(i.dataset&&i.dataset.draw(t,a,l,c),p=l;p<l+c;++p){let g=r[p];g.hidden||(g.active&&u?s.push(g):g.draw(t,a))}for(p=0;p<s.length;++p)s[p].draw(t,a)}getStyle(t,e){let i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){let r=this.getDataset(),a;if(t>=0&&t<this._cachedMeta.data.length){let s=this._cachedMeta.data[t];a=s.$context||(s.$context=QU(this.getContext(),t,s)),a.parsed=this.getParsed(t),a.raw=r.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=XU(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){let r=e==="active",a=this._cachedDataOpts,s=t+"-"+e,l=a[s],c=this.enableOptionSharing&&Ju(i);if(l)return OM(l,c);let u=this.chart.config,p=u.datasetElementScopeKeys(this._type,t),g=r?[`${t}Hover`,"hover",t,""]:[t,""],h=u.getOptionScopes(this.getDataset(),p),y=Object.keys(ni.elements[t]),_=()=>this.getContext(i,r,e),O=u.resolveNamedOptions(h,y,_,g);return O.$shared&&(O.$shared=c,a[s]=Object.freeze(OM(O,c))),O}_resolveAnimations(t,e,i){let r=this.chart,a=this._cachedDataOpts,s=`animation-${e}`,l=a[s];if(l)return l;let c;if(r.options.animation!==!1){let p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,e),h=p.getOptionScopes(this.getDataset(),g);c=p.createResolver(h,this.getContext(t,i,e))}let u=new Vh(r,c&&c.animations);return c&&c._cacheable&&(a[s]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Gv(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){let i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,a=this.getSharedOptions(i),s=this.includeOptions(e,a)||a!==r;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:s}}updateElement(t,e,i,r){Gv(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Gv(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;let a=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,i=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let r=i.length,a=e.length,s=Math.min(a,r);s&&this.parse(0,s),a>r?this._insertElements(r,a-r,t):a<r&&this._removeElements(a,r-a)}_insertElements(t,e,i=!0){let r=this._cachedMeta,a=r.data,s=t+e,l,c=u=>{for(u.length+=e,l=u.length-1;l>=s;l--)u[l]=u[l-e]};for(c(a),l=t;l<s;++l)a[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){let i=this._cachedMeta;if(this._parsing){let r=i._parsed.splice(t,e);i._stacked&&rp(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return o})();var _5=(()=>{class o extends v5{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let e=this._cachedMeta,{dataset:i,data:r=[],_dataset:a}=e,s=this.chart._animationsDisabled,{start:l,count:c}=ZP(e,r,s);this._drawStart=l,this._drawCount=c,tM(e)&&(l=0,c=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=r;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!s,options:u},t),this.updateElements(r,l,c,t)}updateElements(t,e,i,r){let a=r==="reset",{iScale:s,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(e,r),h=s.axis,y=l.axis,{spanGaps:_,segment:O}=this.options,M=sd(_)?_:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||a||r==="none",T=e+i,b=t.length,k=e>0&&this.getParsed(e-1);for(let E=0;E<b;++E){let N=t[E],F=w?N:{};if(E<e||E>=T){F.skip=!0;continue}let V=this.getParsed(E),R=Hn(V[y]),H=F[h]=s.getPixelForValue(V[h],E),L=F[y]=a||R?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,V,c):V[y],E);F.skip=isNaN(H)||isNaN(L)||R,F.stop=E>0&&Math.abs(V[h]-k[h])>M,O&&(F.parsed=V,F.raw=u.data[E]),g&&(F.options=p||this.resolveDataElementOptions(E,N.active?"active":r)),w||this.updateElement(N,E,F,r),k=V}}getMaxOverflow(){let t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;let a=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,a,s)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return o})();function Wl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Jv=class o{static override(n){Object.assign(o.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return Wl()}parse(){return Wl()}format(){return Wl()}add(){return Wl()}diff(){return Wl()}startOf(){return Wl()}endOf(){return Wl()}},ZU={_date:Jv};function tG(o,n,t,e){let{controller:i,data:r,_sorted:a}=o,s=i._cachedMeta.iScale,l=o.dataset&&o.dataset.options?o.dataset.options.spanGaps:null;if(s&&n===s.axis&&n!=="r"&&a&&r.length){let c=s._reversePixels?KP:js;if(e){if(i._sharedOptions){let u=r[0],p=typeof u.getRange=="function"&&u.getRange(n);if(p){let g=c(r,n,t-p),h=c(r,n,t+p);return{lo:g.lo,hi:h.hi}}}}else{let u=c(r,n,t);if(l){let{vScale:p}=i._cachedMeta,{_parsed:g}=o,h=g.slice(0,u.lo+1).reverse().findIndex(_=>!Hn(_[p.axis]));u.lo-=Math.max(0,h);let y=g.slice(u.hi).findIndex(_=>!Hn(_[p.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:r.length-1}}function fp(o,n,t,e,i){let r=o.getSortedVisibleDatasetMetas(),a=t[n];for(let s=0,l=r.length;s<l;++s){let{index:c,data:u}=r[s],{lo:p,hi:g}=tG(r[s],n,a,i);for(let h=p;h<=g;++h){let y=u[h];y.skip||e(y,c,h)}}}function eG(o){let n=o.indexOf("x")!==-1,t=o.indexOf("y")!==-1;return function(e,i){let r=n?Math.abs(e.x-i.x):0,a=t?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Wv(o,n,t,e,i){let r=[];return!i&&!o.isPointInArea(n)||fp(o,t,n,function(s,l,c){!i&&!fa(s,o.chartArea,0)||s.inRange(n.x,n.y,e)&&r.push({element:s,datasetIndex:l,index:c})},!0),r}function nG(o,n,t,e){let i=[];function r(a,s,l){let{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],e),{angle:p}=GP(a,{x:n.x,y:n.y});Ov(p,c,u)&&i.push({element:a,datasetIndex:s,index:l})}return fp(o,t,n,r),i}function iG(o,n,t,e,i,r){let a=[],s=eG(t),l=Number.POSITIVE_INFINITY;function c(u,p,g){let h=u.inRange(n.x,n.y,i);if(e&&!h)return;let y=u.getCenterPoint(i);if(!(!!r||o.isPointInArea(y))&&!h)return;let O=s(n,y);O<l?(a=[{element:u,datasetIndex:p,index:g}],l=O):O===l&&a.push({element:u,datasetIndex:p,index:g})}return fp(o,t,n,c),a}function Kv(o,n,t,e,i,r){return!r&&!o.isPointInArea(n)?[]:t==="r"&&!e?nG(o,n,t,i):iG(o,n,t,e,i,r)}function PM(o,n,t,e,i){let r=[],a=t==="x"?"inXRange":"inYRange",s=!1;return fp(o,t,n,(l,c,u)=>{l[a]&&l[a](n[t],i)&&(r.push({element:l,datasetIndex:c,index:u}),s=s||l.inRange(n.x,n.y,i))}),e&&!s?[]:r}var rG={evaluateInteractionItems:fp,modes:{index(o,n,t,e){let i=Ws(n,o),r=t.axis||"x",a=t.includeInvisible||!1,s=t.intersect?Wv(o,i,r,e,a):Kv(o,i,r,!1,e,a),l=[];return s.length?(o.getSortedVisibleDatasetMetas().forEach(c=>{let u=s[0].index,p=c.data[u];p&&!p.skip&&l.push({element:p,datasetIndex:c.index,index:u})}),l):[]},dataset(o,n,t,e){let i=Ws(n,o),r=t.axis||"xy",a=t.includeInvisible||!1,s=t.intersect?Wv(o,i,r,e,a):Kv(o,i,r,!1,e,a);if(s.length>0){let l=s[0].datasetIndex,c=o.getDatasetMeta(l).data;s=[];for(let u=0;u<c.length;++u)s.push({element:c[u],datasetIndex:l,index:u})}return s},point(o,n,t,e){let i=Ws(n,o),r=t.axis||"xy",a=t.includeInvisible||!1;return Wv(o,i,r,e,a)},nearest(o,n,t,e){let i=Ws(n,o),r=t.axis||"xy",a=t.includeInvisible||!1;return Kv(o,i,r,t.intersect,e,a)},x(o,n,t,e){let i=Ws(n,o);return PM(o,i,"x",t.intersect,e)},y(o,n,t,e){let i=Ws(n,o);return PM(o,i,"y",t.intersect,e)}}},y5=["left","top","right","bottom"];function op(o,n){return o.filter(t=>t.pos===n)}function MM(o,n){return o.filter(t=>y5.indexOf(t.pos)===-1&&t.box.axis===n)}function ap(o,n){return o.sort((t,e)=>{let i=n?e:t,r=n?t:e;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function oG(o){let n=[],t,e,i,r,a,s;for(t=0,e=(o||[]).length;t<e;++t)i=o[t],{position:r,options:{stack:a,stackWeight:s=1}}=i,n.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&r+a,stackWeight:s});return n}function aG(o){let n={};for(let t of o){let{stack:e,pos:i,stackWeight:r}=t;if(!e||!y5.includes(i))continue;let a=n[e]||(n[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return n}function sG(o,n){let t=aG(o),{vBoxMaxWidth:e,hBoxMaxHeight:i}=n,r,a,s;for(r=0,a=o.length;r<a;++r){s=o[r];let{fullSize:l}=s.box,c=t[s.stack],u=c&&s.stackWeight/c.weight;s.horizontal?(s.width=u?u*e:l&&n.availableWidth,s.height=i):(s.width=e,s.height=u?u*i:l&&n.availableHeight)}return t}function lG(o){let n=oG(o),t=ap(n.filter(c=>c.box.fullSize),!0),e=ap(op(n,"left"),!0),i=ap(op(n,"right")),r=ap(op(n,"top"),!0),a=ap(op(n,"bottom")),s=MM(n,"x"),l=MM(n,"y");return{fullSize:t,leftAndTop:e.concat(r),rightAndBottom:i.concat(l).concat(a).concat(s),chartArea:op(n,"chartArea"),vertical:e.concat(i).concat(l),horizontal:r.concat(a).concat(s)}}function wM(o,n,t,e){return Math.max(o[t],n[t])+Math.max(o[e],n[e])}function b5(o,n){o.top=Math.max(o.top,n.top),o.left=Math.max(o.left,n.left),o.bottom=Math.max(o.bottom,n.bottom),o.right=Math.max(o.right,n.right)}function cG(o,n,t,e){let{pos:i,box:r}=t,a=o.maxPadding;if(!xn(i)){t.size&&(o[i]-=t.size);let p=e[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?r.height:r.width),t.size=p.size/p.count,o[i]+=t.size}r.getPadding&&b5(a,r.getPadding());let s=Math.max(0,n.outerWidth-wM(a,o,"left","right")),l=Math.max(0,n.outerHeight-wM(a,o,"top","bottom")),c=s!==o.w,u=l!==o.h;return o.w=s,o.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function dG(o){let n=o.maxPadding;function t(e){let i=Math.max(n[e]-o[e],0);return o[e]+=i,i}o.y+=t("top"),o.x+=t("left"),t("right"),t("bottom")}function uG(o,n){let t=n.maxPadding;function e(i){let r={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{r[a]=Math.max(n[a],t[a])}),r}return e(o?["left","right"]:["top","bottom"])}function cp(o,n,t,e){let i=[],r,a,s,l,c,u;for(r=0,a=o.length,c=0;r<a;++r){s=o[r],l=s.box,l.update(s.width||n.w,s.height||n.h,uG(s.horizontal,n));let{same:p,other:g}=cG(n,t,s,e);c|=p&&i.length,u=u||g,l.fullSize||i.push(s)}return c&&cp(i,n,t,e)||u}function Ih(o,n,t,e,i){o.top=t,o.left=n,o.right=n+e,o.bottom=t+i,o.width=e,o.height=i}function SM(o,n,t,e){let i=t.padding,{x:r,y:a}=n;for(let s of o){let l=s.box,c=e[s.stack]||{count:1,placed:0,weight:1},u=s.stackWeight/c.weight||1;if(s.horizontal){let p=n.w*u,g=c.size||l.height;Ju(c.start)&&(a=c.start),l.fullSize?Ih(l,i.left,a,t.outerWidth-i.right-i.left,g):Ih(l,n.left+c.placed,a,p,g),c.start=a,c.placed+=p,a=l.bottom}else{let p=n.h*u,g=c.size||l.width;Ju(c.start)&&(r=c.start),l.fullSize?Ih(l,r,i.top,g,t.outerHeight-i.bottom-i.top):Ih(l,r,n.top+c.placed,g,p),c.start=r,c.placed+=p,r=l.right}}n.x=r,n.y=a}var Do={addBox(o,n){o.boxes||(o.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(t){n.draw(t)}}]},o.boxes.push(n)},removeBox(o,n){let t=o.boxes?o.boxes.indexOf(n):-1;t!==-1&&o.boxes.splice(t,1)},configure(o,n,t){n.fullSize=t.fullSize,n.position=t.position,n.weight=t.weight},update(o,n,t,e){if(!o)return;let i=rr(o.options.layout.padding),r=Math.max(n-i.width,0),a=Math.max(t-i.height,0),s=lG(o.boxes),l=s.vertical,c=s.horizontal;Bn(o.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});let u=l.reduce((_,O)=>O.box.options&&O.box.options.display===!1?_:_+1,0)||1,p=Object.freeze({outerWidth:n,outerHeight:t,padding:i,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/u,hBoxMaxHeight:a/2}),g=Object.assign({},i);b5(g,rr(e));let h=Object.assign({maxPadding:g,w:r,h:a,x:i.left,y:i.top},i),y=sG(l.concat(c),p);cp(s.fullSize,h,p,y),cp(l,h,p,y),cp(c,h,p,y)&&cp(l,h,p,y),dG(h),SM(s.leftAndTop,h,p,y),h.x+=h.w,h.y+=h.h,SM(s.rightAndBottom,h,p,y),o.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Bn(s.chartArea,_=>{let O=_.box;Object.assign(O,o.chartArea),O.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}},jh=class{acquireContext(n,t){}releaseContext(n){return!1}addEventListener(n,t,e){}removeEventListener(n,t,e){}getDevicePixelRatio(){return 1}getMaximumSize(n,t,e,i){return t=Math.max(0,t||n.width),e=e||n.height,{width:t,height:Math.max(0,i?Math.floor(t/i):e)}}isAttached(n){return!0}updateConfig(n){}},Zv=class extends jh{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}},Fh="$chartjs",pG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},TM=o=>o===null||o==="";function fG(o,n){let t=o.style,e=o.getAttribute("height"),i=o.getAttribute("width");if(o[Fh]={initial:{height:e,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",TM(i)){let r=Rv(o,"width");r!==void 0&&(o.width=r)}if(TM(e))if(o.style.height==="")o.height=o.width/(n||2);else{let r=Rv(o,"height");r!==void 0&&(o.height=r)}return o}var C5=fM?{passive:!0}:!1;function gG(o,n,t){o&&o.addEventListener(n,t,C5)}function hG(o,n,t){o&&o.canvas&&o.canvas.removeEventListener(n,t,C5)}function mG(o,n){let t=pG[o.type]||o.type,{x:e,y:i}=Ws(o,n);return{type:t,chart:n,native:o,x:e!==void 0?e:null,y:i!==void 0?i:null}}function Hh(o,n){for(let t of o)if(t===n||t.contains(n))return!0}function vG(o,n,t){let e=o.canvas,i=new MutationObserver(r=>{let a=!1;for(let s of r)a=a||Hh(s.addedNodes,e),a=a&&!Hh(s.removedNodes,e);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function _G(o,n,t){let e=o.canvas,i=new MutationObserver(r=>{let a=!1;for(let s of r)a=a||Hh(s.removedNodes,e),a=a&&!Hh(s.addedNodes,e);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}var up=new Map,EM=0;function x5(){let o=window.devicePixelRatio;o!==EM&&(EM=o,up.forEach((n,t)=>{t.currentDevicePixelRatio!==o&&n()}))}function yG(o,n){up.size||window.addEventListener("resize",x5),up.set(o,n)}function bG(o){up.delete(o),up.size||window.removeEventListener("resize",x5)}function CG(o,n,t){let e=o.canvas,i=e&&kh(e);if(!i)return;let r=wv((s,l)=>{let c=i.clientWidth;t(s,l),c<i.clientWidth&&t()},window),a=new ResizeObserver(s=>{let l=s[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return a.observe(i),yG(o,r),a}function qv(o,n,t){t&&t.disconnect(),n==="resize"&&bG(o)}function xG(o,n,t){let e=o.canvas,i=wv(r=>{o.ctx!==null&&t(mG(r,o))},o);return gG(e,n,i),i}var t_=class extends jh{acquireContext(n,t){let e=n&&n.getContext&&n.getContext("2d");return e&&e.canvas===n?(fG(n,t),e):null}releaseContext(n){let t=n.canvas;if(!t[Fh])return!1;let e=t[Fh].initial;["height","width"].forEach(r=>{let a=e[r];Hn(a)?t.removeAttribute(r):t.setAttribute(r,a)});let i=e.style||{};return Object.keys(i).forEach(r=>{t.style[r]=i[r]}),t.width=t.width,delete t[Fh],!0}addEventListener(n,t,e){this.removeEventListener(n,t);let i=n.$proxies||(n.$proxies={}),a={attach:vG,detach:_G,resize:CG}[t]||xG;i[t]=a(n,t,e)}removeEventListener(n,t){let e=n.$proxies||(n.$proxies={}),i=e[t];if(!i)return;({attach:qv,detach:qv,resize:qv}[t]||hG)(n,t,i),e[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,t,e,i){return pM(n,t,e,i)}isAttached(n){let t=n&&kh(n);return!!(t&&t.isConnected)}};function OG(o){return!Eh()||typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas?Zv:t_}var qa=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){let{x:t,y:e}=this.getProps(["x","y"],n);return{x:t,y:e}}hasValue(){return sd(this.x)&&sd(this.y)}getProps(n,t){let e=this.$animations;if(!t||!e)return this;let i={};return n.forEach(r=>{i[r]=e[r]&&e[r].active()?e[r]._to:this[r]}),i}};function PG(o,n){let t=o.options.ticks,e=MG(o),i=Math.min(t.maxTicksLimit||e,e),r=t.major.enabled?SG(n):[],a=r.length,s=r[0],l=r[a-1],c=[];if(a>i)return TG(n,c,r,a/i),c;let u=wG(r,n,i);if(a>0){let p,g,h=a>1?Math.round((l-s)/(a-1)):null;for(Dh(n,c,u,Hn(h)?0:s-h,s),p=0,g=a-1;p<g;p++)Dh(n,c,u,r[p],r[p+1]);return Dh(n,c,u,l,Hn(h)?n.length:l+h),c}return Dh(n,c,u),c}function MG(o){let n=o.options.offset,t=o._tickSize(),e=o._length/t+(n?0:1),i=o._maxLength/t;return Math.floor(Math.min(e,i))}function wG(o,n,t){let e=EG(o),i=n.length/t;if(!e)return Math.max(i,1);let r=BP(e);for(let a=0,s=r.length-1;a<s;a++){let l=r[a];if(l>i)return l}return Math.max(i,1)}function SG(o){let n=[],t,e;for(t=0,e=o.length;t<e;t++)o[t].major&&n.push(t);return n}function TG(o,n,t,e){let i=0,r=t[0],a;for(e=Math.ceil(e),a=0;a<o.length;a++)a===r&&(n.push(o[a]),i++,r=t[i*e])}function Dh(o,n,t,e,i){let r=mn(e,0),a=Math.min(mn(i,o.length),o.length),s=0,l,c,u;for(t=Math.ceil(t),i&&(l=i-e,t=l/Math.floor(l/t)),u=r;u<0;)s++,u=Math.round(r+s*t);for(c=Math.max(r,0);c<a;c++)c===u&&(n.push(o[c]),s++,u=Math.round(r+s*t))}function EG(o){let n=o.length,t,e;if(n<2)return!1;for(e=o[0],t=1;t<n;++t)if(o[t]-o[t-1]!==e)return!1;return e}var kG=o=>o==="left"?"right":o==="right"?"left":o,kM=(o,n,t)=>n==="top"||n==="left"?o[n]+t:o[n]-t,AM=(o,n)=>Math.min(n||o,o);function IM(o,n){let t=[],e=o.length/n,i=o.length,r=0;for(;r<i;r+=e)t.push(o[Math.floor(r)]);return t}function AG(o,n,t){let e=o.ticks.length,i=Math.min(n,e-1),r=o._startPixel,a=o._endPixel,s=1e-6,l=o.getPixelForTick(i),c;if(!(t&&(e===1?c=Math.max(l-r,a-l):n===0?c=(o.getPixelForTick(1)-l)/2:c=(l-o.getPixelForTick(i-1))/2,l+=i<n?c:-c,l<r-s||l>a+s)))return l}function IG(o,n){Bn(o,t=>{let e=t.gc,i=e.length/2,r;if(i>n){for(r=0;r<i;++r)delete t.data[e[r]];e.splice(0,i)}})}function sp(o){return o.drawTicks?o.tickLength:0}function DM(o,n){if(!o.display)return 0;let t=Ii(o.font,n),e=rr(o.padding);return(ei(o.text)?o.text.length:1)*t.lineHeight+e.height}function DG(o,n){return Ga(o,{scale:n,type:"scale"})}function LG(o,n,t){return Ga(o,{tick:t,index:n,type:"tick"})}function NG(o,n,t){let e=Ph(o);return(t&&n!=="right"||!t&&n==="right")&&(e=kG(e)),e}function RG(o,n,t,e){let{top:i,left:r,bottom:a,right:s,chart:l}=o,{chartArea:c,scales:u}=l,p=0,g,h,y,_=a-i,O=s-r;if(o.isHorizontal()){if(h=ir(e,r,s),xn(t)){let M=Object.keys(t)[0],w=t[M];y=u[M].getPixelForValue(w)+_-n}else t==="center"?y=(c.bottom+c.top)/2+_-n:y=kM(o,t,n);g=s-r}else{if(xn(t)){let M=Object.keys(t)[0],w=t[M];h=u[M].getPixelForValue(w)-O+n}else t==="center"?h=(c.left+c.right)/2-O+n:h=kM(o,t,n);y=ir(e,a,i),p=t==="left"?-Ur:Ur}return{titleX:h,titleY:y,maxWidth:g,rotation:p}}var ql=class o extends qa{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,t){return n}getUserBounds(){let{_userMin:n,_userMax:t,_suggestedMin:e,_suggestedMax:i}=this;return n=Wr(n,Number.POSITIVE_INFINITY),t=Wr(t,Number.NEGATIVE_INFINITY),e=Wr(e,Number.POSITIVE_INFINITY),i=Wr(i,Number.NEGATIVE_INFINITY),{min:Wr(n,e),max:Wr(t,i),minDefined:di(n),maxDefined:di(t)}}getMinMax(n){let{min:t,max:e,minDefined:i,maxDefined:r}=this.getUserBounds(),a;if(i&&r)return{min:t,max:e};let s=this.getMatchingVisibleMetas();for(let l=0,c=s.length;l<c;++l)a=s[l].controller.getMinMax(this,n),i||(t=Math.min(t,a.min)),r||(e=Math.max(e,a.max));return t=r&&t>e?e:t,e=i&&t>e?t:e,{min:Wr(t,Wr(e,t)),max:Wr(e,Wr(t,e))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Wn(this.options.beforeUpdate,[this])}update(n,t,e){let{beginAtZero:i,grace:r,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=t,this._margins=e=Object.assign({left:0,right:0,top:0,bottom:0},e),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+e.left+e.right:this.height+e.top+e.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=aM(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=s<this.ticks.length;this._convertTicksToLabels(l?IM(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=PG(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,t,e;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Wn(this.options.afterUpdate,[this])}beforeSetDimensions(){Wn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Wn(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),Wn(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Wn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let t=this.options.ticks,e,i,r;for(e=0,i=n.length;e<i;e++)r=n[e],r.label=Wn(t.callback,[r.value,e,n],this)}afterTickToLabelConversion(){Wn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Wn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,t=n.ticks,e=AM(this.ticks.length,n.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation,a=i,s,l,c;if(!this._isVisible()||!t.display||i>=r||e<=1||!this.isHorizontal()){this.labelRotation=i;return}let u=this._getLabelSizes(),p=u.widest.width,g=u.highest.height,h=go(this.chart.width-p,0,this.maxWidth);s=n.offset?this.maxWidth/e:h/(e-1),p+6>s&&(s=h/(e-(n.offset?.5:1)),l=this.maxHeight-sp(n.grid)-t.padding-DM(n.title,this.chart.options.font),c=Math.sqrt(p*p+g*g),a=xh(Math.min(Math.asin(go((u.highest.height+6)/s,-1,1)),Math.asin(go(l/c,-1,1))-Math.asin(go(g/c,-1,1)))),a=Math.max(i,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Wn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Wn(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:t,options:{ticks:e,title:i,grid:r}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){let l=DM(i,t.options.font);if(s?(n.width=this.maxWidth,n.height=sp(r)+l):(n.height=this.maxHeight,n.width=sp(r)+l),e.display&&this.ticks.length){let{first:c,last:u,widest:p,highest:g}=this._getLabelSizes(),h=e.padding*2,y=Ua(this.labelRotation),_=Math.cos(y),O=Math.sin(y);if(s){let M=e.mirror?0:O*p.width+_*g.height;n.height=Math.min(this.maxHeight,n.height+M+h)}else{let M=e.mirror?0:_*p.width+O*g.height;n.width=Math.min(this.maxWidth,n.width+M+h)}this._calculatePadding(c,u,O,_)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,t,e,i){let{ticks:{align:r,padding:a},position:s}=this.options,l=this.labelRotation!==0,c=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1),g=0,h=0;l?c?(g=i*n.width,h=e*t.height):(g=e*n.height,h=i*t.width):r==="start"?h=t.width:r==="end"?g=n.width:r!=="inner"&&(g=n.width/2,h=t.width/2),this.paddingLeft=Math.max((g-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-p+a)*this.width/(this.width-p),0)}else{let u=t.height/2,p=n.height/2;r==="start"?(u=0,p=n.height):r==="end"&&(u=t.height,p=0),this.paddingTop=u+a,this.paddingBottom=p+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Wn(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:t}=this.options;return t==="top"||t==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let t,e;for(t=0,e=n.length;t<e;t++)Hn(n[t].label)&&(n.splice(t,1),e--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let t=this.options.ticks.sampleSize,e=this.ticks;t<e.length&&(e=IM(e,t)),this._labelSizes=n=this._computeLabelSizes(e,e.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,t,e){let{ctx:i,_longestTextCache:r}=this,a=[],s=[],l=Math.floor(t/AM(t,e)),c=0,u=0,p,g,h,y,_,O,M,w,T,b,k;for(p=0;p<t;p+=l){if(y=n[p].label,_=this._resolveTickFontOptions(p),i.font=O=_.string,M=r[O]=r[O]||{data:{},gc:[]},w=_.lineHeight,T=b=0,!Hn(y)&&!ei(y))T=Yu(i,M.data,M.gc,T,y),b=w;else if(ei(y))for(g=0,h=y.length;g<h;++g)k=y[g],!Hn(k)&&!ei(k)&&(T=Yu(i,M.data,M.gc,T,k),b+=w);a.push(T),s.push(b),c=Math.max(T,c),u=Math.max(b,u)}IG(r,t);let E=a.indexOf(c),N=s.indexOf(u),F=V=>({width:a[V]||0,height:s[V]||0});return{first:F(0),last:F(t-1),widest:F(E),highest:F(N),widths:a,heights:s}}getLabelForValue(n){return n}getPixelForValue(n,t){return NaN}getValueForPixel(n){}getPixelForTick(n){let t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let t=this._startPixel+n*this._length;return WP(this._alignToPixels?Us(this.chart,t,0):t)}getDecimalForPixel(n){let t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:t}=this;return n<0&&t<0?t:n>0&&t>0?n:0}getContext(n){let t=this.ticks||[];if(n>=0&&n<t.length){let e=t[n];return e.$context||(e.$context=LG(this.getContext(),n,e))}return this.$context||(this.$context=DG(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,t=Ua(this.labelRotation),e=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=n.autoSkipPadding||0,s=r?r.widest.width+a:0,l=r?r.highest.height+a:0;return this.isHorizontal()?l*e>s*i?s/e:l/i:l*i<s*e?l/e:s/i}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let t=this.axis,e=this.chart,i=this.options,{grid:r,position:a,border:s}=i,l=r.offset,c=this.isHorizontal(),p=this.ticks.length+(l?1:0),g=sp(r),h=[],y=s.setContext(this.getContext()),_=y.display?y.width:0,O=_/2,M=function(D){return Us(e,D,_)},w,T,b,k,E,N,F,V,R,H,L,W;if(a==="top")w=M(this.bottom),N=this.bottom-g,V=w-O,H=M(n.top)+O,W=n.bottom;else if(a==="bottom")w=M(this.top),H=n.top,W=M(n.bottom)-O,N=w+O,V=this.top+g;else if(a==="left")w=M(this.right),E=this.right-g,F=w-O,R=M(n.left)+O,L=n.right;else if(a==="right")w=M(this.left),R=n.left,L=M(n.right)-O,E=w+O,F=this.left+g;else if(t==="x"){if(a==="center")w=M((n.top+n.bottom)/2+.5);else if(xn(a)){let D=Object.keys(a)[0],Z=a[D];w=M(this.chart.scales[D].getPixelForValue(Z))}H=n.top,W=n.bottom,N=w+O,V=N+g}else if(t==="y"){if(a==="center")w=M((n.left+n.right)/2);else if(xn(a)){let D=Object.keys(a)[0],Z=a[D];w=M(this.chart.scales[D].getPixelForValue(Z))}E=w-O,F=E-g,R=n.left,L=n.right}let q=mn(i.ticks.maxTicksLimit,p),J=Math.max(1,Math.ceil(p/q));for(T=0;T<p;T+=J){let D=this.getContext(T),Z=r.setContext(D),nt=s.setContext(D),pt=Z.lineWidth,Vt=Z.color,qt=nt.dash||[],Pt=nt.dashOffset,yt=Z.tickWidth,rt=Z.tickColor,ft=Z.tickBorderDash||[],wt=Z.tickBorderDashOffset;b=AG(this,T,l),b!==void 0&&(k=Us(e,b,pt),c?E=F=R=L=k:N=V=H=W=k,h.push({tx1:E,ty1:N,tx2:F,ty2:V,x1:R,y1:H,x2:L,y2:W,width:pt,color:Vt,borderDash:qt,borderDashOffset:Pt,tickWidth:yt,tickColor:rt,tickBorderDash:ft,tickBorderDashOffset:wt}))}return this._ticksLength=p,this._borderValue=w,h}_computeLabelItems(n){let t=this.axis,e=this.options,{position:i,ticks:r}=e,a=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:c,padding:u,mirror:p}=r,g=sp(e.grid),h=g+u,y=p?-u:h,_=-Ua(this.labelRotation),O=[],M,w,T,b,k,E,N,F,V,R,H,L,W="middle";if(i==="top")E=this.bottom-y,N=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+y,N=this._getXAxisLabelAlignment();else if(i==="left"){let J=this._getYAxisLabelAlignment(g);N=J.textAlign,k=J.x}else if(i==="right"){let J=this._getYAxisLabelAlignment(g);N=J.textAlign,k=J.x}else if(t==="x"){if(i==="center")E=(n.top+n.bottom)/2+h;else if(xn(i)){let J=Object.keys(i)[0],D=i[J];E=this.chart.scales[J].getPixelForValue(D)+h}N=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")k=(n.left+n.right)/2-h;else if(xn(i)){let J=Object.keys(i)[0],D=i[J];k=this.chart.scales[J].getPixelForValue(D)}N=this._getYAxisLabelAlignment(g).textAlign}t==="y"&&(l==="start"?W="top":l==="end"&&(W="bottom"));let q=this._getLabelSizes();for(M=0,w=s.length;M<w;++M){T=s[M],b=T.label;let J=r.setContext(this.getContext(M));F=this.getPixelForTick(M)+r.labelOffset,V=this._resolveTickFontOptions(M),R=V.lineHeight,H=ei(b)?b.length:1;let D=H/2,Z=J.color,nt=J.textStrokeColor,pt=J.textStrokeWidth,Vt=N;a?(k=F,N==="inner"&&(M===w-1?Vt=this.options.reverse?"left":"right":M===0?Vt=this.options.reverse?"right":"left":Vt="center"),i==="top"?c==="near"||_!==0?L=-H*R+R/2:c==="center"?L=-q.highest.height/2-D*R+R:L=-q.highest.height+R/2:c==="near"||_!==0?L=R/2:c==="center"?L=q.highest.height/2-D*R:L=q.highest.height-H*R,p&&(L*=-1),_!==0&&!J.showLabelBackdrop&&(k+=R/2*Math.sin(_))):(E=F,L=(1-H)*R/2);let qt;if(J.showLabelBackdrop){let Pt=rr(J.backdropPadding),yt=q.heights[M],rt=q.widths[M],ft=L-Pt.top,wt=0-Pt.left;switch(W){case"middle":ft-=yt/2;break;case"bottom":ft-=yt;break}switch(N){case"center":wt-=rt/2;break;case"right":wt-=rt;break;case"inner":M===w-1?wt-=rt:M>0&&(wt-=rt/2);break}qt={left:wt,top:ft,width:rt+Pt.width,height:yt+Pt.height,color:J.backdropColor}}O.push({label:b,font:V,textOffset:L,options:{rotation:_,color:Z,strokeColor:nt,strokeWidth:pt,textAlign:Vt,textBaseline:W,translation:[k,E],backdrop:qt}})}return O}_getXAxisLabelAlignment(){let{position:n,ticks:t}=this.options;if(-Ua(this.labelRotation))return n==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(n){let{position:t,ticks:{crossAlign:e,mirror:i,padding:r}}=this.options,a=this._getLabelSizes(),s=n+r,l=a.widest.width,c,u;return t==="left"?i?(u=this.right+r,e==="near"?c="left":e==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-s,e==="near"?c="right":e==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?i?(u=this.left+r,e==="near"?c="right":e==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+s,e==="near"?c="left":e==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:t},left:e,top:i,width:r,height:a}=this;t&&(n.save(),n.fillStyle=t,n.fillRect(e,i,r,a),n.restore())}getLineWidthForValue(n){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(r=>r.value===n);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(n){let t=this.options.grid,e=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),r,a,s=(l,c,u)=>{!u.width||!u.color||(e.save(),e.lineWidth=u.width,e.strokeStyle=u.color,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset,e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(c.x,c.y),e.stroke(),e.restore())};if(t.display)for(r=0,a=i.length;r<a;++r){let l=i[r];t.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:t,options:{border:e,grid:i}}=this,r=e.setContext(this.getContext()),a=e.display?r.width:0;if(!a)return;let s=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,p,g;this.isHorizontal()?(c=Us(n,this.left,a)-a/2,u=Us(n,this.right,s)+s/2,p=g=l):(p=Us(n,this.top,a)-a/2,g=Us(n,this.bottom,s)+s/2,c=u=l),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(c,p),t.lineTo(u,g),t.stroke(),t.restore()}drawLabels(n){if(!this.options.ticks.display)return;let e=this.ctx,i=this._computeLabelArea();i&&tp(e,i);let r=this.getLabelItems(n);for(let a of r){let s=a.options,l=a.font,c=a.label,u=a.textOffset;Gs(e,c,0,u,l,s)}i&&ep(e)}drawTitle(){let{ctx:n,options:{position:t,title:e,reverse:i}}=this;if(!e.display)return;let r=Ii(e.font),a=rr(e.padding),s=e.align,l=r.lineHeight/2;t==="bottom"||t==="center"||xn(t)?(l+=a.bottom,ei(e.text)&&(l+=r.lineHeight*(e.text.length-1))):l+=a.top;let{titleX:c,titleY:u,maxWidth:p,rotation:g}=RG(this,l,t,s);Gs(n,e.text,0,0,r,{color:e.color,maxWidth:p,rotation:g,textAlign:NG(s,t,i),textBaseline:"middle",translation:[c,u]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,t=n.ticks&&n.ticks.z||0,e=mn(n.grid&&n.grid.z,-1),i=mn(n.border&&n.border.z,0);return!this._isVisible()||this.draw!==o.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:e,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(n){let t=this.chart.getSortedVisibleDatasetMetas(),e=this.axis+"AxisID",i=[],r,a;for(r=0,a=t.length;r<a;++r){let s=t[r];s[e]===this.id&&(!n||s.type===n)&&i.push(s)}return i}_resolveTickFontOptions(n){let t=this.options.ticks.setContext(this.getContext(n));return Ii(t.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}},ld=class{constructor(n,t,e){this.type=n,this.scope=t,this.override=e,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let t=Object.getPrototypeOf(n),e;VG(t)&&(e=this.register(t));let i=this.items,r=n.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+n);return r in i||(i[r]=n,FG(n,a,e),this.override&&ni.override(n.id,n.overrides)),a}get(n){return this.items[n]}unregister(n){let t=this.items,e=n.id,i=this.scope;e in t&&delete t[e],i&&e in ni[i]&&(delete ni[i][e],this.override&&delete Bs[e])}};function FG(o,n,t){let e=id(Object.create(null),[t?ni.get(t):{},ni.get(n),o.defaults]);ni.set(n,e),o.defaultRoutes&&zG(n,o.defaultRoutes),o.descriptors&&ni.describe(n,o.descriptors)}function zG(o,n){Object.keys(n).forEach(t=>{let e=t.split("."),i=e.pop(),r=[o].concat(e).join("."),a=n[t].split("."),s=a.pop(),l=a.join(".");ni.route(r,i,l,s)})}function VG(o){return"id"in o&&"defaults"in o}var e_=class{constructor(){this.controllers=new ld(v5,"datasets",!0),this.elements=new ld(qa,"elements"),this.plugins=new ld(Object,"plugins"),this.scales=new ld(ql,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,t,e){[...t].forEach(i=>{let r=e||this._getRegistryForType(i);e||r.isForType(i)||r===this.plugins&&i.id?this._exec(n,r,i):Bn(i,a=>{let s=e||this._getRegistryForType(a);this._exec(n,s,a)})})}_exec(n,t,e){let i=Ch(n);Wn(e["before"+i],[],e),t[n](e),Wn(e["after"+i],[],e)}_getRegistryForType(n){for(let t=0;t<this._typedRegistries.length;t++){let e=this._typedRegistries[t];if(e.isForType(n))return e}return this.plugins}_get(n,t,e){let i=t.get(n);if(i===void 0)throw new Error('"'+n+'" is not a registered '+e+".");return i}},ma=new e_,n_=class{constructor(){this._init=void 0}notify(n,t,e,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install")),this._init===void 0)return;let r=i?this._descriptors(n).filter(i):this._descriptors(n),a=this._notify(r,n,t,e);return t==="afterDestroy"&&(this._notify(r,n,"stop"),this._notify(this._init,n,"uninstall"),this._init=void 0),a}_notify(n,t,e,i){i=i||{};for(let r of n){let a=r.plugin,s=a[e],l=[t,i,r.options];if(Wn(s,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Hn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),t}_createDescriptors(n,t){let e=n&&n.config,i=mn(e.options&&e.options.plugins,{}),r=jG(e);return i===!1&&!t?[]:BG(n,r,i,t)}_notifyStateChanges(n){let t=this._oldCache||[],e=this._cache,i=(r,a)=>r.filter(s=>!a.some(l=>s.plugin.id===l.plugin.id));this._notify(i(t,e),n,"stop"),this._notify(i(e,t),n,"start")}};function jG(o){let n={},t=[],e=Object.keys(ma.plugins.items);for(let r=0;r<e.length;r++)t.push(ma.getPlugin(e[r]));let i=o.plugins||[];for(let r=0;r<i.length;r++){let a=i[r];t.indexOf(a)===-1&&(t.push(a),n[a.id]=!0)}return{plugins:t,localIds:n}}function HG(o,n){return!n&&o===!1?null:o===!0?{}:o}function BG(o,{plugins:n,localIds:t},e,i){let r=[],a=o.getContext();for(let s of n){let l=s.id,c=HG(e[l],i);c!==null&&r.push({plugin:s,options:UG(o.config,{plugin:s,local:t[l]},c,a)})}return r}function UG(o,{plugin:n,local:t},e,i){let r=o.pluginScopeKeys(n),a=o.getOptionScopes(e,r);return t&&n.defaults&&a.push(n.defaults),o.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function i_(o,n){let t=ni.datasets[o]||{};return((n.datasets||{})[o]||{}).indexAxis||n.indexAxis||t.indexAxis||"x"}function GG(o,n){let t=o;return o==="_index_"?t=n:o==="_value_"&&(t=n==="x"?"y":"x"),t}function WG(o,n){return o===n?"_index_":"_value_"}function LM(o){if(o==="x"||o==="y"||o==="r")return o}function KG(o){if(o==="top"||o==="bottom")return"x";if(o==="left"||o==="right")return"y"}function r_(o,...n){if(LM(o))return o;for(let t of n){let e=t.axis||KG(t.position)||o.length>1&&LM(o[0].toLowerCase());if(e)return e}throw new Error(`Cannot determine type of '${o}' axis. Please provide 'axis' or 'position' option.`)}function NM(o,n,t){if(t[n+"AxisID"]===o)return{axis:n}}function qG(o,n){if(n.data&&n.data.datasets){let t=n.data.datasets.filter(e=>e.xAxisID===o||e.yAxisID===o);if(t.length)return NM(o,"x",t[0])||NM(o,"y",t[0])}return{}}function $G(o,n){let t=Bs[o.type]||{scales:{}},e=n.scales||{},i=i_(o.type,n),r=Object.create(null);return Object.keys(e).forEach(a=>{let s=e[a];if(!xn(s))return console.error(`Invalid scale configuration for scale: ${a}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);let l=r_(a,s,qG(a,o),ni.scales[s.type]),c=WG(l,i),u=t.scales||{};r[a]=od(Object.create(null),[{axis:l},s,u[l],u[c]])}),o.data.datasets.forEach(a=>{let s=a.type||o.type,l=a.indexAxis||i_(s,n),u=(Bs[s]||{}).scales||{};Object.keys(u).forEach(p=>{let g=GG(p,l),h=a[g+"AxisID"]||g;r[h]=r[h]||Object.create(null),od(r[h],[{axis:g},e[h],u[p]])})}),Object.keys(r).forEach(a=>{let s=r[a];od(s,[ni.scales[s.type],ni.scale])}),r}function O5(o){let n=o.options||(o.options={});n.plugins=mn(n.plugins,{}),n.scales=$G(o,n)}function P5(o){return o=o||{},o.datasets=o.datasets||[],o.labels=o.labels||[],o}function YG(o){return o=o||{},o.data=P5(o.data),O5(o),o}var RM=new Map,M5=new Set;function Lh(o,n){let t=RM.get(o);return t||(t=n(),RM.set(o,t),M5.add(t)),t}var lp=(o,n,t)=>{let e=Qu(n,t);e!==void 0&&o.add(e)},o_=class{constructor(n){this._config=YG(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=P5(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),O5(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return Lh(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,t){return Lh(`${n}.transition.${t}`,()=>[[`datasets.${n}.transitions.${t}`,`transitions.${t}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,t){return Lh(`${n}-${t}`,()=>[[`datasets.${n}.elements.${t}`,`datasets.${n}`,`elements.${t}`,""]])}pluginScopeKeys(n){let t=n.id,e=this.type;return Lh(`${e}-plugin-${t}`,()=>[[`plugins.${t}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,t){let e=this._scopeCache,i=e.get(n);return(!i||t)&&(i=new Map,e.set(n,i)),i}getOptionScopes(n,t,e){let{options:i,type:r}=this,a=this._cachedScopes(n,e),s=a.get(t);if(s)return s;let l=new Set;t.forEach(u=>{n&&(l.add(n),u.forEach(p=>lp(l,n,p))),u.forEach(p=>lp(l,i,p)),u.forEach(p=>lp(l,Bs[r]||{},p)),u.forEach(p=>lp(l,ni,p)),u.forEach(p=>lp(l,wh,p))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),M5.has(t)&&a.set(t,c),c}chartOptionScopes(){let{options:n,type:t}=this;return[n,Bs[t]||{},ni.datasets[t]||{},{type:t},ni,wh]}resolveNamedOptions(n,t,e,i=[""]){let r={$shared:!0},{resolver:a,subPrefixes:s}=FM(this._resolverCache,n,i),l=a;if(QG(a,t)){r.$shared=!1,e=Ha(e)?e():e;let c=this.createResolver(n,e,s);l=Hl(a,e,c)}for(let c of t)r[c]=l[c];return r}createResolver(n,t,e=[""],i){let{resolver:r}=FM(this._resolverCache,n,e);return xn(t)?Hl(r,t,void 0,i):r}};function FM(o,n,t){let e=o.get(n);e||(e=new Map,o.set(n,e));let i=t.join(),r=e.get(i);return r||(r={resolver:Th(n,t),subPrefixes:t.filter(s=>!s.toLowerCase().includes("hover"))},e.set(i,r)),r}var XG=o=>xn(o)&&Object.getOwnPropertyNames(o).some(n=>Ha(o[n]));function QG(o,n){let{isScriptable:t,isIndexable:e}=Iv(o);for(let i of n){let r=t(i),a=e(i),s=(a||r)&&o[i];if(r&&(Ha(s)||XG(s))||a&&ei(s))return!0}return!1}var JG="4.5.1",ZG=["top","bottom","left","right","chartArea"];function zM(o,n){return o==="top"||o==="bottom"||ZG.indexOf(o)===-1&&n==="x"}function VM(o,n){return function(t,e){return t[o]===e[o]?t[n]-e[n]:t[o]-e[o]}}function jM(o){let n=o.chart,t=n.options.animation;n.notifyPlugins("afterRender"),Wn(t&&t.onComplete,[o],n)}function tW(o){let n=o.chart,t=n.options.animation;Wn(t&&t.onProgress,[o],n)}function w5(o){return Eh()&&typeof o=="string"?o=document.getElementById(o):o&&o.length&&(o=o[0]),o&&o.canvas&&(o=o.canvas),o}var zh={},HM=o=>{let n=w5(o);return Object.values(zh).filter(t=>t.canvas===n).pop()};function eW(o,n,t){let e=Object.keys(o);for(let i of e){let r=+i;if(r>=n){let a=o[i];delete o[i],(t>0||r>n)&&(o[r+t]=a)}}}function nW(o,n,t,e){return!t||o.type==="mouseout"?null:e?n:o}var dd=(()=>{class o{static defaults=ni;static instances=zh;static overrides=Bs;static registry=ma;static version=JG;static getChart=HM;static register(...t){ma.add(...t),BM()}static unregister(...t){ma.remove(...t),BM()}constructor(t,e){let i=this.config=new o_(e),r=w5(t),a=HM(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");let s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||OG(r)),this.platform.updateConfig(i);let l=this.platform.acquireContext(r,s.aspectRatio),c=l&&l.canvas,u=c&&c.height,p=c&&c.width;if(this.id=zP(),this.ctx=l,this.canvas=c,this.width=p,this.height=u,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new n_,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=QP(g=>this.update(g),s.resizeDelay||0),this._dataChanges=[],zh[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Wa.listen(this,"complete",jM),Wa.listen(this,"progress",tW),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:a}=this;return Hn(t)?e&&a?a:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ma}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Nv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ev(this.canvas,this.ctx),this}stop(){return Wa.stop(this),this}resize(t,e){Wa.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,t,e,a),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Nv(this,l,!0)&&(this.notifyPlugins("resize",{size:s}),Wn(i.onResize,[this,s],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let e=this.options.scales||{};Bn(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){let t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((s,l)=>(s[l]=!1,s),{}),a=[];e&&(a=a.concat(Object.keys(e).map(s=>{let l=e[s],c=r_(s,l),u=c==="r",p=c==="x";return{options:l,dposition:u?"chartArea":p?"bottom":"left",dtype:u?"radialLinear":p?"category":"linear"}}))),Bn(a,s=>{let l=s.options,c=l.id,u=r_(c,l),p=mn(l.type,s.dtype);(l.position===void 0||zM(l.position,u)!==zM(s.dposition))&&(l.position=s.dposition),r[c]=!0;let g=null;if(c in i&&i[c].type===p)g=i[c];else{let h=ma.getScale(p);g=new h({id:c,type:p,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(l,t)}),Bn(r,(s,l)=>{s||delete i[l]}),Bn(i,s=>{Do.configure(this,s,s.options),Do.addBox(this,s)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,a)=>r.index-a.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(VM("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let t=[],e=this.data.datasets,i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){let a=e[i],s=this.getDatasetMeta(i),l=a.type||this.config.type;if(s.type&&s.type!==l&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=l,s.indexAxis=a.indexAxis||i_(l,this.options),s.order=a.order||0,s.index=i,s.label=""+a.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{let c=ma.getController(l),{datasetElementType:u,dataElementType:p}=ni.datasets[l];Object.assign(c,{dataElementType:ma.getElement(p),datasetElementType:u&&ma.getElement(u)}),s.controller=new c(this,i),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){Bn(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let u=0,p=this.data.datasets.length;u<p;u++){let{controller:g}=this.getDatasetMeta(u),h=!r&&a.indexOf(g)===-1;g.buildOrUpdateElements(h),s=Math.max(+g.getMaxOverflow(),s)}s=this._minPadding=i.layout.autoPadding?s:0,this._updateLayout(s),r||Bn(a,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(VM("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Bn(this.scales,t=>{Do.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!yv(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(let{method:i,start:r,count:a}of e){let s=i==="_removeElements"?-a:a;eW(t,r,s)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let e=this.data.datasets.length,i=a=>new Set(t.filter(s=>s[0]===a).map((s,l)=>l+","+s.splice(1).join(","))),r=i(0);for(let a=1;a<e;a++)if(!yv(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Do.update(this,this.width,this.height,t);let e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Bn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ha(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Wa.has(this)?this.attached&&!Wa.running(this)&&Wa.start(this):(this.draw(),jM({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e=this._sortedMetasets,i=[],r,a;for(r=0,a=e.length;r<a;++r){let s=e[r];(!t||s.visible)&&i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=Hv(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&tp(e,r),t.controller.draw(),r&&ep(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return fa(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){let a=rG.modes[e];return typeof a=="function"?a(this,t,i,r):[]}getDatasetMeta(t){let e=this.data.datasets[t],i=this._metasets,r=i.filter(a=>a&&a._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ga(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){let i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){let r=i?"show":"hide",a=this.getDatasetMeta(t),s=a.controller._resolveAnimations(void 0,r);Ju(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),s.update(a,{visible:i}),this.update(l=>l.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Wa.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ev(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete zh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,i=(a,s)=>{e.addEventListener(this,a,s),t[a]=s},r=(a,s,l)=>{a.offsetX=s,a.offsetY=l,this._eventHandler(a)};Bn(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,e=this.platform,i=(c,u)=>{e.addEventListener(this,c,u),t[c]=u},r=(c,u)=>{t[c]&&(e.removeEventListener(this,c,u),delete t[c])},a=(c,u)=>{this.canvas&&this.resize(c,u)},s,l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",a),i("detach",s)};s=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",l)},e.isAttached(this.canvas)?l():s()}unbindEvents(){Bn(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Bn(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){let r=i?"set":"remove",a,s,l,c;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){s=t[l];let u=s&&this.getDatasetMeta(s.datasetIndex).controller;u&&u[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],i=t.map(({datasetIndex:a,index:s})=>{let l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[s],index:s}});!Xu(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){let r=this.options.hover,a=(c,u)=>c.filter(p=>!u.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),s=a(e,t),l=i?t:a(t,e);s.length&&this.updateHoverStyle(s,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(t,e){let i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=s=>(s.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;let a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){let{_active:r=[],options:a}=this,s=e,l=this._getActiveElements(t,r,i,s),c=HP(t),u=nW(t,this._lastEvent,i,c);i&&(this._lastEvent=null,Wn(a.onHover,[t,l,this],this),c&&Wn(a.onClick,[t,l,this],this));let p=!Xu(l,r);return(p||e)&&(this._active=l,this._updateHoverStyles(l,r,e)),this._lastEvent=u,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;let a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,r)}}return o})();function BM(){return Bn(dd.instances,o=>o._plugins.invalidate())}function S5(o,n,t=n){o.lineCap=mn(t.borderCapStyle,n.borderCapStyle),o.setLineDash(mn(t.borderDash,n.borderDash)),o.lineDashOffset=mn(t.borderDashOffset,n.borderDashOffset),o.lineJoin=mn(t.borderJoinStyle,n.borderJoinStyle),o.lineWidth=mn(t.borderWidth,n.borderWidth),o.strokeStyle=mn(t.borderColor,n.borderColor)}function iW(o,n,t){o.lineTo(t.x,t.y)}function rW(o){return o.stepped?iM:o.tension||o.cubicInterpolationMode==="monotone"?rM:iW}function T5(o,n,t={}){let e=o.length,{start:i=0,end:r=e-1}=t,{start:a,end:s}=n,l=Math.max(i,a),c=Math.min(r,s),u=i<a&&r<a||i>s&&r>s;return{count:e,start:l,loop:n.loop,ilen:c<l&&!u?e+c-l:c-l}}function oW(o,n,t,e){let{points:i,options:r}=n,{count:a,start:s,loop:l,ilen:c}=T5(i,t,e),u=rW(r),{move:p=!0,reverse:g}=e||{},h,y,_;for(h=0;h<=c;++h)y=i[(s+(g?c-h:h))%a],!y.skip&&(p?(o.moveTo(y.x,y.y),p=!1):u(o,_,y,g,r.stepped),_=y);return l&&(y=i[(s+(g?c:0))%a],u(o,_,y,g,r.stepped)),!!l}function aW(o,n,t,e){let i=n.points,{count:r,start:a,ilen:s}=T5(i,t,e),{move:l=!0,reverse:c}=e||{},u=0,p=0,g,h,y,_,O,M,w=b=>(a+(c?s-b:b))%r,T=()=>{_!==O&&(o.lineTo(u,O),o.lineTo(u,_),o.lineTo(u,M))};for(l&&(h=i[w(0)],o.moveTo(h.x,h.y)),g=0;g<=s;++g){if(h=i[w(g)],h.skip)continue;let b=h.x,k=h.y,E=b|0;E===y?(k<_?_=k:k>O&&(O=k),u=(p*u+b)/++p):(T(),o.lineTo(b,k),y=E,p=0,_=O=k),M=k}T()}function a_(o){let n=o.options,t=n.borderDash&&n.borderDash.length;return!o._decimated&&!o._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!t?aW:oW}function sW(o){return o.stepped?gM:o.tension||o.cubicInterpolationMode==="monotone"?hM:Vs}function lW(o,n,t,e){let i=n._path;i||(i=n._path=new Path2D,n.path(i,t,e)&&i.closePath()),S5(o,n.options),o.stroke(i)}function cW(o,n,t,e){let{segments:i,options:r}=n,a=a_(n);for(let s of i)S5(o,r,s.style),o.beginPath(),a(o,n,s,{start:t,end:t+e-1})&&o.closePath(),o.stroke()}var dW=typeof Path2D=="function";function uW(o,n,t,e){dW&&!n.options.segment?lW(o,n,t,e):cW(o,n,t,e)}var gp=(()=>{class o extends qa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let r=i.spanGaps?this._loop:this._fullLoop;uM(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vM(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){let i=this.options,r=t[e],a=this.points,s=jv(this,{property:e,start:r,end:r});if(!s.length)return;let l=[],c=sW(i),u,p;for(u=0,p=s.length;u<p;++u){let{start:g,end:h}=s[u],y=a[g],_=a[h];if(y===_){l.push(y);continue}let O=Math.abs((r-y[e])/(_[e]-y[e])),M=c(y,_,O,i.stepped);M[e]=t[e],l.push(M)}return l.length===1?l[0]:l}pathSegment(t,e,i){return a_(this)(t,this,e,i)}path(t,e,i){let r=this.segments,a=a_(this),s=this._loop;e=e||0,i=i||this.points.length-e;for(let l of r)s&=a(t,this,l,{start:e,end:e+i-1});return!!s}draw(t,e,i,r){let a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),uW(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return o})();function UM(o,n,t,e){let i=o.options,{[t]:r}=o.getProps([t],e);return Math.abs(n-r)<i.radius+i.hitRadius}var E5=(()=>{class o extends qa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){let r=this.options,{x:a,y:s}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return UM(this,t,"x",e)}inYRange(t,e){return UM(this,t,"y",e)}getCenterPoint(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);let i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){let i=this.options;this.skip||i.radius<.1||!fa(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Sh(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return o})();function pW(o,n,t){let e=o.segments,i=o.points,r=n.points,a=[];for(let s of e){let{start:l,end:c}=s;c=Kh(l,c,i);let u=s_(t,i[l],i[c],s.loop);if(!n.segments){a.push({source:s,target:u,start:i[l],end:i[c]});continue}let p=jv(n,u);for(let g of p){let h=s_(t,r[g.start],r[g.end],g.loop),y=Vv(s,i,h);for(let _ of y)a.push({source:_,target:g,start:{[t]:GM(u,h,"start",Math.max)},end:{[t]:GM(u,h,"end",Math.min)}})}}return a}function s_(o,n,t,e){if(e)return;let i=n[o],r=t[o];return o==="angle"&&(i=Br(i),r=Br(r)),{property:o,start:i,end:r}}function fW(o,n){let{x:t=null,y:e=null}=o||{},i=n.points,r=[];return n.segments.forEach(({start:a,end:s})=>{s=Kh(a,s,i);let l=i[a],c=i[s];e!==null?(r.push({x:l.x,y:e}),r.push({x:c.x,y:e})):t!==null&&(r.push({x:t,y:l.y}),r.push({x:t,y:c.y}))}),r}function Kh(o,n,t){for(;n>o;n--){let e=t[n];if(!isNaN(e.x)&&!isNaN(e.y))break}return n}function GM(o,n,t,e){return o&&n?e(o[t],n[t]):o?o[t]:n?n[t]:0}function k5(o,n){let t=[],e=!1;return ei(o)?(e=!0,t=o):t=fW(o,n),t.length?new gp({points:t,options:{tension:0},_loop:e,_fullLoop:e}):null}function WM(o){return o&&o.fill!==!1}function gW(o,n,t){let i=o[n].fill,r=[n],a;if(!t)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!di(i))return i;if(a=o[i],!a)return!1;if(a.visible)return i;r.push(i),i=a.fill}return!1}function hW(o,n,t){let e=yW(o);if(xn(e))return isNaN(e.value)?!1:e;let i=parseFloat(e);return di(i)&&Math.floor(i)===i?mW(e[0],n,i,t):["origin","start","end","stack","shape"].indexOf(e)>=0&&e}function mW(o,n,t,e){return(o==="-"||o==="+")&&(t=n+t),t===n||t<0||t>=e?!1:t}function vW(o,n){let t=null;return o==="start"?t=n.bottom:o==="end"?t=n.top:xn(o)?t=n.getPixelForValue(o.value):n.getBasePixel&&(t=n.getBasePixel()),t}function _W(o,n,t){let e;return o==="start"?e=t:o==="end"?e=n.options.reverse?n.min:n.max:xn(o)?e=o.value:e=n.getBaseValue(),e}function yW(o){let n=o.options,t=n.fill,e=mn(t&&t.target,t);return e===void 0&&(e=!!n.backgroundColor),e===!1||e===null?!1:e===!0?"origin":e}function bW(o){let{scale:n,index:t,line:e}=o,i=[],r=e.segments,a=e.points,s=CW(n,t);s.push(k5({x:null,y:n.bottom},e));for(let l=0;l<r.length;l++){let c=r[l];for(let u=c.start;u<=c.end;u++)xW(i,a[u],s)}return new gp({points:i,options:{}})}function CW(o,n){let t=[],e=o.getMatchingVisibleMetas("line");for(let i=0;i<e.length;i++){let r=e[i];if(r.index===n)break;r.hidden||t.unshift(r.dataset)}return t}function xW(o,n,t){let e=[];for(let i=0;i<t.length;i++){let r=t[i],{first:a,last:s,point:l}=OW(r,n,"x");if(!(!l||a&&s)){if(a)e.unshift(l);else if(o.push(l),!s)break}}o.push(...e)}function OW(o,n,t){let e=o.interpolate(n,t);if(!e)return{};let i=e[t],r=o.segments,a=o.points,s=!1,l=!1;for(let c=0;c<r.length;c++){let u=r[c],p=a[u.start][t],g=a[u.end][t];if(Bl(i,p,g)){s=i===p,l=i===g;break}}return{first:s,last:l,point:e}}var Bh=class{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,t,e){let{x:i,y:r,radius:a}=this;return t=t||{start:0,end:Gr},n.arc(i,r,a,t.end,t.start,!0),!e.bounds}interpolate(n){let{x:t,y:e,radius:i}=this,r=n.angle;return{x:t+Math.cos(r)*i,y:e+Math.sin(r)*i,angle:r}}};function PW(o){let{chart:n,fill:t,line:e}=o;if(di(t))return MW(n,t);if(t==="stack")return bW(o);if(t==="shape")return!0;let i=wW(o);return i instanceof Bh?i:k5(i,e)}function MW(o,n){let t=o.getDatasetMeta(n);return t&&o.isDatasetVisible(n)?t.dataset:null}function wW(o){return(o.scale||{}).getPointPositionForValue?TW(o):SW(o)}function SW(o){let{scale:n={},fill:t}=o,e=vW(t,n);if(di(e)){let i=n.isHorizontal();return{x:i?e:null,y:i?null:e}}return null}function TW(o){let{scale:n,fill:t}=o,e=n.options,i=n.getLabels().length,r=e.reverse?n.max:n.min,a=_W(t,n,r),s=[];if(e.grid.circular){let l=n.getPointPositionForValue(0,r);return new Bh({x:l.x,y:l.y,radius:n.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)s.push(n.getPointPositionForValue(l,a));return s}function $v(o,n,t){let e=PW(n),{chart:i,index:r,line:a,scale:s,axis:l}=n,c=a.options,u=c.fill,p=c.backgroundColor,{above:g=p,below:h=p}=u||{},y=i.getDatasetMeta(r),_=Hv(i,y);e&&a.points.length&&(tp(o,t),EW(o,{line:a,target:e,above:g,below:h,area:t,scale:s,axis:l,clip:_}),ep(o))}function EW(o,n){let{line:t,target:e,above:i,below:r,area:a,scale:s,clip:l}=n,c=t._loop?"angle":n.axis;o.save();let u=r;r!==i&&(c==="x"?(KM(o,e,a.top),Yv(o,{line:t,target:e,color:i,scale:s,property:c,clip:l}),o.restore(),o.save(),KM(o,e,a.bottom)):c==="y"&&(qM(o,e,a.left),Yv(o,{line:t,target:e,color:r,scale:s,property:c,clip:l}),o.restore(),o.save(),qM(o,e,a.right),u=i)),Yv(o,{line:t,target:e,color:u,scale:s,property:c,clip:l}),o.restore()}function KM(o,n,t){let{segments:e,points:i}=n,r=!0,a=!1;o.beginPath();for(let s of e){let{start:l,end:c}=s,u=i[l],p=i[Kh(l,c,i)];r?(o.moveTo(u.x,u.y),r=!1):(o.lineTo(u.x,t),o.lineTo(u.x,u.y)),a=!!n.pathSegment(o,s,{move:a}),a?o.closePath():o.lineTo(p.x,t)}o.lineTo(n.first().x,t),o.closePath(),o.clip()}function qM(o,n,t){let{segments:e,points:i}=n,r=!0,a=!1;o.beginPath();for(let s of e){let{start:l,end:c}=s,u=i[l],p=i[Kh(l,c,i)];r?(o.moveTo(u.x,u.y),r=!1):(o.lineTo(t,u.y),o.lineTo(u.x,u.y)),a=!!n.pathSegment(o,s,{move:a}),a?o.closePath():o.lineTo(t,p.y)}o.lineTo(t,n.first().y),o.closePath(),o.clip()}function Yv(o,n){let{line:t,target:e,property:i,color:r,scale:a,clip:s}=n,l=pW(t,e,i);for(let{source:c,target:u,start:p,end:g}of l){let{style:{backgroundColor:h=r}={}}=c,y=e!==!0;o.save(),o.fillStyle=h,kW(o,a,s,y&&s_(i,p,g)),o.beginPath();let _=!!t.pathSegment(o,c),O;if(y){_?o.closePath():$M(o,e,g,i);let M=!!e.pathSegment(o,u,{move:_,reverse:!0});O=_&&M,O||$M(o,e,p,i)}o.closePath(),o.fill(O?"evenodd":"nonzero"),o.restore()}}function kW(o,n,t,e){let i=n.chart.chartArea,{property:r,start:a,end:s}=e||{};if(r==="x"||r==="y"){let l,c,u,p;r==="x"?(l=a,c=i.top,u=s,p=i.bottom):(l=i.left,c=a,u=i.right,p=s),o.beginPath(),t&&(l=Math.max(l,t.left),u=Math.min(u,t.right),c=Math.max(c,t.top),p=Math.min(p,t.bottom)),o.rect(l,c,u-l,p-c),o.clip()}}function $M(o,n,t,e){let i=n.interpolate(t,e);i&&o.lineTo(i.x,i.y)}var A5={id:"filler",afterDatasetsUpdate(o,n,t){let e=(o.data.datasets||[]).length,i=[],r,a,s,l;for(a=0;a<e;++a)r=o.getDatasetMeta(a),s=r.dataset,l=null,s&&s.options&&s instanceof gp&&(l={visible:o.isDatasetVisible(a),index:a,fill:hW(s,a,e),chart:o,axis:r.controller.options.indexAxis,scale:r.vScale,line:s}),r.$filler=l,i.push(l);for(a=0;a<e;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=gW(i,a,t.propagate))},beforeDraw(o,n,t){let e=t.drawTime==="beforeDraw",i=o.getSortedVisibleDatasetMetas(),r=o.chartArea;for(let a=i.length-1;a>=0;--a){let s=i[a].$filler;s&&(s.line.updateControlPoints(r,s.axis),e&&s.fill&&$v(o.ctx,s,r))}},beforeDatasetsDraw(o,n,t){if(t.drawTime!=="beforeDatasetsDraw")return;let e=o.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i){let r=e[i].$filler;WM(r)&&$v(o.ctx,r,o.chartArea)}},beforeDatasetDraw(o,n,t){let e=n.meta.$filler;!WM(e)||t.drawTime!=="beforeDatasetDraw"||$v(o.ctx,e,o.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},YM=(o,n)=>{let{boxHeight:t=n,boxWidth:e=n}=o;return o.usePointStyle&&(t=Math.min(t,n),e=o.pointStyleWidth||Math.min(e,n)),{boxWidth:e,boxHeight:t,itemHeight:Math.max(n,t)}},AW=(o,n)=>o!==null&&n!==null&&o.datasetIndex===n.datasetIndex&&o.index===n.index,Uh=class extends qa{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t,e){this.maxWidth=n,this.maxHeight=t,this._margins=e,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},t=Wn(n.generateLabels,[this.chart],this)||[];n.filter&&(t=t.filter(e=>n.filter(e,this.chart.data))),n.sort&&(t=t.sort((e,i)=>n.sort(e,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:n,ctx:t}=this;if(!n.display){this.width=this.height=0;return}let e=n.labels,i=Ii(e.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=YM(e,r),c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,r,s,l)+10):(u=this.maxHeight,c=this._fitCols(a,i,s,l)+10),this.width=Math.min(c,n.maxWidth||this.maxWidth),this.height=Math.min(u,n.maxHeight||this.maxHeight)}_fitRows(n,t,e,i){let{ctx:r,maxWidth:a,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+s,p=n;r.textAlign="left",r.textBaseline="middle";let g=-1,h=-u;return this.legendItems.forEach((y,_)=>{let O=e+t/2+r.measureText(y.text).width;(_===0||c[c.length-1]+O+2*s>a)&&(p+=u,c[c.length-(_>0?0:1)]=0,h+=u,g++),l[_]={left:0,top:h,row:g,width:O,height:i},c[c.length-1]+=O+s}),p}_fitCols(n,t,e,i){let{ctx:r,maxHeight:a,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-n,p=s,g=0,h=0,y=0,_=0;return this.legendItems.forEach((O,M)=>{let{itemWidth:w,itemHeight:T}=IW(e,t,r,O,i);M>0&&h+T+2*s>u&&(p+=g+s,c.push({width:g,height:h}),y+=g+s,_++,g=h=0),l[M]={left:y,top:h,col:_,width:w,height:T},g=Math.max(g,w),h+=T+s}),p+=g,c.push({width:g,height:h}),p}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:e,labels:{padding:i},rtl:r}}=this,a=Gl(r,this.left,this.width);if(this.isHorizontal()){let s=0,l=ir(e,this.left+i,this.right-this.lineWidths[s]);for(let c of t)s!==c.row&&(s=c.row,l=ir(e,this.left+i,this.right-this.lineWidths[s])),c.top+=this.top+n+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let s=0,l=ir(e,this.top+n+i,this.bottom-this.columnSizes[s].height);for(let c of t)c.col!==s&&(s=c.col,l=ir(e,this.top+n+i,this.bottom-this.columnSizes[s].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;tp(n,this),this._draw(),ep(n)}}_draw(){let{options:n,columnSizes:t,lineWidths:e,ctx:i}=this,{align:r,labels:a}=n,s=ni.color,l=Gl(n.rtl,this.left,this.width),c=Ii(a.font),{padding:u}=a,p=c.size,g=p/2,h;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;let{boxWidth:y,boxHeight:_,itemHeight:O}=YM(a,p),M=function(E,N,F){if(isNaN(y)||y<=0||isNaN(_)||_<0)return;i.save();let V=mn(F.lineWidth,1);if(i.fillStyle=mn(F.fillStyle,s),i.lineCap=mn(F.lineCap,"butt"),i.lineDashOffset=mn(F.lineDashOffset,0),i.lineJoin=mn(F.lineJoin,"miter"),i.lineWidth=V,i.strokeStyle=mn(F.strokeStyle,s),i.setLineDash(mn(F.lineDash,[])),a.usePointStyle){let R={radius:_*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:V},H=l.xPlus(E,y/2),L=N+g;kv(i,R,H,L,a.pointStyleWidth&&y)}else{let R=N+Math.max((p-_)/2,0),H=l.leftForLtr(E,y),L=Ul(F.borderRadius);i.beginPath(),Object.values(L).some(W=>W!==0)?np(i,{x:H,y:R,w:y,h:_,radius:L}):i.rect(H,R,y,_),i.fill(),V!==0&&i.stroke()}i.restore()},w=function(E,N,F){Gs(i,F.text,E,N+O/2,c,{strikethrough:F.hidden,textAlign:l.textAlign(F.textAlign)})},T=this.isHorizontal(),b=this._computeTitleHeight();T?h={x:ir(r,this.left+u,this.right-e[0]),y:this.top+u+b,line:0}:h={x:this.left+u,y:ir(r,this.top+b+u,this.bottom-t[0].height),line:0},Fv(this.ctx,n.textDirection);let k=O+u;this.legendItems.forEach((E,N)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;let F=i.measureText(E.text).width,V=l.textAlign(E.textAlign||(E.textAlign=a.textAlign)),R=y+g+F,H=h.x,L=h.y;l.setWidth(this.width),T?N>0&&H+R+u>this.right&&(L=h.y+=k,h.line++,H=h.x=ir(r,this.left+u,this.right-e[h.line])):N>0&&L+k>this.bottom&&(H=h.x=H+t[h.line].width+u,h.line++,L=h.y=ir(r,this.top+b+u,this.bottom-t[h.line].height));let W=l.x(H);if(M(W,L,E),H=JP(V,H+y+g,T?H+R:this.right,n.rtl),w(l.x(H),L,E),T)h.x+=R+u;else if(typeof E.text!="string"){let q=c.lineHeight;h.y+=I5(E,q)+u}else h.y+=k}),zv(this.ctx,n.textDirection)}drawTitle(){let n=this.options,t=n.title,e=Ii(t.font),i=rr(t.padding);if(!t.display)return;let r=Gl(n.rtl,this.left,this.width),a=this.ctx,s=t.position,l=e.size/2,c=i.top+l,u,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),u=this.top+c,p=ir(n.align,p,this.right-g);else{let y=this.columnSizes.reduce((_,O)=>Math.max(_,O.height),0);u=c+ir(n.align,this.top,this.bottom-y-n.labels.padding-this._computeTitleHeight())}let h=ir(s,p,p+g);a.textAlign=r.textAlign(Ph(s)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=e.string,Gs(a,t.text,h,u,e)}_computeTitleHeight(){let n=this.options.title,t=Ii(n.font),e=rr(n.padding);return n.display?t.lineHeight+e.height:0}_getLegendItemAt(n,t){let e,i,r;if(Bl(n,this.left,this.right)&&Bl(t,this.top,this.bottom)){for(r=this.legendHitBoxes,e=0;e<r.length;++e)if(i=r[e],Bl(n,i.left,i.left+i.width)&&Bl(t,i.top,i.top+i.height))return this.legendItems[e]}return null}handleEvent(n){let t=this.options;if(!NW(n.type,t))return;let e=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let i=this._hoveredItem,r=AW(i,e);i&&!r&&Wn(t.onLeave,[n,i,this],this),this._hoveredItem=e,e&&!r&&Wn(t.onHover,[n,e,this],this)}else e&&Wn(t.onClick,[n,e,this],this)}};function IW(o,n,t,e,i){let r=DW(e,o,n,t),a=LW(i,e,n.lineHeight);return{itemWidth:r,itemHeight:a}}function DW(o,n,t,e){let i=o.text;return i&&typeof i!="string"&&(i=i.reduce((r,a)=>r.length>a.length?r:a)),n+t.size/2+e.measureText(i).width}function LW(o,n,t){let e=o;return typeof n.text!="string"&&(e=I5(n,t)),e}function I5(o,n){let t=o.text?o.text.length:0;return n*t}function NW(o,n){return!!((o==="mousemove"||o==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(o==="click"||o==="mouseup"))}var D5={id:"legend",_element:Uh,start(o,n,t){let e=o.legend=new Uh({ctx:o.ctx,options:t,chart:o});Do.configure(o,e,t),Do.addBox(o,e)},stop(o){Do.removeBox(o,o.legend),delete o.legend},beforeUpdate(o,n,t){let e=o.legend;Do.configure(o,e,t),e.options=t},afterUpdate(o){let n=o.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(o,n){n.replay||o.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(o,n,t){let e=n.datasetIndex,i=t.chart;i.isDatasetVisible(e)?(i.hide(e),n.hidden=!0):(i.show(e),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:o=>o.chart.options.color,boxWidth:40,padding:10,generateLabels(o){let n=o.data.datasets,{labels:{usePointStyle:t,pointStyle:e,textAlign:i,color:r,useBorderRadius:a,borderRadius:s}}=o.legend.options;return o._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(t?0:void 0),u=rr(c.borderWidth);return{text:n[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:e||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(s||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:o=>o.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:o=>!o.startsWith("on"),labels:{_scriptable:o=>!["generateLabels","filter","sort"].includes(o)}}},Gh=class extends qa{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t){let e=this.options;if(this.left=0,this.top=0,!e.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=t;let i=ei(e.text)?e.text.length:1;this._padding=rr(e.padding);let r=i*Ii(e.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:t,left:e,bottom:i,right:r,options:a}=this,s=a.align,l=0,c,u,p;return this.isHorizontal()?(u=ir(s,e,r),p=t+n,c=r-e):(a.position==="left"?(u=e+n,p=ir(s,i,t),l=wi*-.5):(u=r-n,p=ir(s,t,i),l=wi*.5),c=i-t),{titleX:u,titleY:p,maxWidth:c,rotation:l}}draw(){let n=this.ctx,t=this.options;if(!t.display)return;let e=Ii(t.font),r=e.lineHeight/2+this._padding.top,{titleX:a,titleY:s,maxWidth:l,rotation:c}=this._drawArgs(r);Gs(n,t.text,0,0,e,{color:t.color,maxWidth:l,rotation:c,textAlign:Ph(t.align),textBaseline:"middle",translation:[a,s]})}};function RW(o,n){let t=new Gh({ctx:o.ctx,options:n,chart:o});Do.configure(o,t,n),Do.addBox(o,t),o.titleBlock=t}var L5={id:"title",_element:Gh,start(o,n,t){RW(o,t)},stop(o){let n=o.titleBlock;Do.removeBox(o,n),delete o.titleBlock},beforeUpdate(o,n,t){let e=o.titleBlock;Do.configure(o,e,t),e.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};var dp={average(o){if(!o.length)return!1;let n,t,e=new Set,i=0,r=0;for(n=0,t=o.length;n<t;++n){let s=o[n].element;if(s&&s.hasValue()){let l=s.tooltipPosition();e.add(l.x),i+=l.y,++r}}return r===0||e.size===0?!1:{x:[...e].reduce((s,l)=>s+l)/e.size,y:i/r}},nearest(o,n){if(!o.length)return!1;let t=n.x,e=n.y,i=Number.POSITIVE_INFINITY,r,a,s;for(r=0,a=o.length;r<a;++r){let l=o[r].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=yh(n,c);u<i&&(i=u,s=l)}}if(s){let l=s.tooltipPosition();t=l.x,e=l.y}return{x:t,y:e}}};function ha(o,n){return n&&(ei(n)?Array.prototype.push.apply(o,n):o.push(n)),o}function Ka(o){return(typeof o=="string"||o instanceof String)&&o.indexOf(`
`)>-1?o.split(`
`):o}function FW(o,n){let{element:t,datasetIndex:e,index:i}=n,r=o.getDatasetMeta(e).controller,{label:a,value:s}=r.getLabelAndValue(i);return{chart:o,label:a,parsed:r.getParsed(i),raw:o.data.datasets[e].data[i],formattedValue:s,dataset:r.getDataset(),dataIndex:i,datasetIndex:e,element:t}}function XM(o,n){let t=o.chart.ctx,{body:e,footer:i,title:r}=o,{boxWidth:a,boxHeight:s}=n,l=Ii(n.bodyFont),c=Ii(n.titleFont),u=Ii(n.footerFont),p=r.length,g=i.length,h=e.length,y=rr(n.padding),_=y.height,O=0,M=e.reduce((b,k)=>b+k.before.length+k.lines.length+k.after.length,0);if(M+=o.beforeBody.length+o.afterBody.length,p&&(_+=p*c.lineHeight+(p-1)*n.titleSpacing+n.titleMarginBottom),M){let b=n.displayColors?Math.max(s,l.lineHeight):l.lineHeight;_+=h*b+(M-h)*l.lineHeight+(M-1)*n.bodySpacing}g&&(_+=n.footerMarginTop+g*u.lineHeight+(g-1)*n.footerSpacing);let w=0,T=function(b){O=Math.max(O,t.measureText(b).width+w)};return t.save(),t.font=c.string,Bn(o.title,T),t.font=l.string,Bn(o.beforeBody.concat(o.afterBody),T),w=n.displayColors?a+2+n.boxPadding:0,Bn(e,b=>{Bn(b.before,T),Bn(b.lines,T),Bn(b.after,T)}),w=0,t.font=u.string,Bn(o.footer,T),t.restore(),O+=y.width,{width:O,height:_}}function zW(o,n){let{y:t,height:e}=n;return t<e/2?"top":t>o.height-e/2?"bottom":"center"}function VW(o,n,t,e){let{x:i,width:r}=e,a=t.caretSize+t.caretPadding;if(o==="left"&&i+r+a>n.width||o==="right"&&i-r-a<0)return!0}function jW(o,n,t,e){let{x:i,width:r}=t,{width:a,chartArea:{left:s,right:l}}=o,c="center";return e==="center"?c=i<=(s+l)/2?"left":"right":i<=r/2?c="left":i>=a-r/2&&(c="right"),VW(c,o,n,t)&&(c="center"),c}function QM(o,n,t){let e=t.yAlign||n.yAlign||zW(o,t);return{xAlign:t.xAlign||n.xAlign||jW(o,n,t,e),yAlign:e}}function HW(o,n){let{x:t,width:e}=o;return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function BW(o,n,t){let{y:e,height:i}=o;return n==="top"?e+=t:n==="bottom"?e-=i+t:e-=i/2,e}function JM(o,n,t,e){let{caretSize:i,caretPadding:r,cornerRadius:a}=o,{xAlign:s,yAlign:l}=t,c=i+r,{topLeft:u,topRight:p,bottomLeft:g,bottomRight:h}=Ul(a),y=HW(n,s),_=BW(n,l,c);return l==="center"?s==="left"?y+=c:s==="right"&&(y-=c):s==="left"?y-=Math.max(u,g)+i:s==="right"&&(y+=Math.max(p,h)+i),{x:go(y,0,e.width-n.width),y:go(_,0,e.height-n.height)}}function Nh(o,n,t){let e=rr(t.padding);return n==="center"?o.x+o.width/2:n==="right"?o.x+o.width-e.right:o.x+e.left}function ZM(o){return ha([],Ka(o))}function UW(o,n,t){return Ga(o,{tooltip:n,tooltipItems:t,type:"tooltip"})}function t5(o,n){let t=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return t?o.override(t):o}var N5={beforeTitle:ga,title(o){if(o.length>0){let n=o[0],t=n.chart.data.labels,e=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(e>0&&n.dataIndex<e)return t[n.dataIndex]}return""},afterTitle:ga,beforeBody:ga,beforeLabel:ga,label(o){if(this&&this.options&&this.options.mode==="dataset")return o.label+": "+o.formattedValue||o.formattedValue;let n=o.dataset.label||"";n&&(n+=": ");let t=o.formattedValue;return Hn(t)||(n+=t),n},labelColor(o){let t=o.chart.getDatasetMeta(o.datasetIndex).controller.getStyle(o.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(o){let t=o.chart.getDatasetMeta(o.datasetIndex).controller.getStyle(o.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ga,afterBody:ga,beforeFooter:ga,footer:ga,afterFooter:ga};function Kr(o,n,t,e){let i=o[n].call(t,e);return typeof i>"u"?N5[n].call(t,e):i}var e5=(()=>{class o extends qa{static positioners=dp;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,a=new Vh(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=UW(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){let{callbacks:i}=e,r=Kr(i,"beforeTitle",this,t),a=Kr(i,"title",this,t),s=Kr(i,"afterTitle",this,t),l=[];return l=ha(l,Ka(r)),l=ha(l,Ka(a)),l=ha(l,Ka(s)),l}getBeforeBody(t,e){return ZM(Kr(e.callbacks,"beforeBody",this,t))}getBody(t,e){let{callbacks:i}=e,r=[];return Bn(t,a=>{let s={before:[],lines:[],after:[]},l=t5(i,a);ha(s.before,Ka(Kr(l,"beforeLabel",this,a))),ha(s.lines,Kr(l,"label",this,a)),ha(s.after,Ka(Kr(l,"afterLabel",this,a))),r.push(s)}),r}getAfterBody(t,e){return ZM(Kr(e.callbacks,"afterBody",this,t))}getFooter(t,e){let{callbacks:i}=e,r=Kr(i,"beforeFooter",this,t),a=Kr(i,"footer",this,t),s=Kr(i,"afterFooter",this,t),l=[];return l=ha(l,Ka(r)),l=ha(l,Ka(a)),l=ha(l,Ka(s)),l}_createItems(t){let e=this._active,i=this.chart.data,r=[],a=[],s=[],l=[],c,u;for(c=0,u=e.length;c<u;++c)l.push(FW(this.chart,e[c]));return t.filter&&(l=l.filter((p,g,h)=>t.filter(p,g,h,i))),t.itemSort&&(l=l.sort((p,g)=>t.itemSort(p,g,i))),Bn(l,p=>{let g=t5(t.callbacks,p);r.push(Kr(g,"labelColor",this,p)),a.push(Kr(g,"labelPointStyle",this,p)),s.push(Kr(g,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){let i=this.options.setContext(this.getContext()),r=this._active,a,s=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{let l=dp[i.position].call(this,r,this._eventPosition);s=this._createItems(i),this.title=this.getTitle(s,i),this.beforeBody=this.getBeforeBody(s,i),this.body=this.getBody(s,i),this.afterBody=this.getAfterBody(s,i),this.footer=this.getFooter(s,i);let c=this._size=XM(this,i),u=Object.assign({},l,c),p=QM(this.chart,i,u),g=JM(i,u,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:g.x,y:g.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){let a=this.getCaretPosition(t,i,r);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){let{xAlign:r,yAlign:a}=this,{caretSize:s,cornerRadius:l}=i,{topLeft:c,topRight:u,bottomLeft:p,bottomRight:g}=Ul(l),{x:h,y}=t,{width:_,height:O}=e,M,w,T,b,k,E;return a==="center"?(k=y+O/2,r==="left"?(M=h,w=M-s,b=k+s,E=k-s):(M=h+_,w=M+s,b=k-s,E=k+s),T=M):(r==="left"?w=h+Math.max(c,p)+s:r==="right"?w=h+_-Math.max(u,g)-s:w=this.caretX,a==="top"?(b=y,k=b-s,M=w-s,T=w+s):(b=y+O,k=b+s,M=w+s,T=w-s),E=b),{x1:M,x2:w,x3:T,y1:b,y2:k,y3:E}}drawTitle(t,e,i){let r=this.title,a=r.length,s,l,c;if(a){let u=Gl(i.rtl,this.x,this.width);for(t.x=Nh(this,i.titleAlign,i),e.textAlign=u.textAlign(i.titleAlign),e.textBaseline="middle",s=Ii(i.titleFont),l=i.titleSpacing,e.fillStyle=i.titleColor,e.font=s.string,c=0;c<a;++c)e.fillText(r[c],u.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+l,c+1===a&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,e,i,r,a){let s=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:u}=a,p=Ii(a.bodyFont),g=Nh(this,"left",a),h=r.x(g),y=c<p.lineHeight?(p.lineHeight-c)/2:0,_=e.y+y;if(a.usePointStyle){let O={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},M=r.leftForLtr(h,u)+u/2,w=_+c/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Sh(t,O,M,w),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Sh(t,O,M,w)}else{t.lineWidth=xn(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;let O=r.leftForLtr(h,u),M=r.leftForLtr(r.xPlus(h,1),u-2),w=Ul(s.borderRadius);Object.values(w).some(T=>T!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,np(t,{x:O,y:_,w:u,h:c,radius:w}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),np(t,{x:M,y:_+1,w:u-2,h:c-2,radius:w}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(O,_,u,c),t.strokeRect(O,_,u,c),t.fillStyle=s.backgroundColor,t.fillRect(M,_+1,u-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){let{body:r}=this,{bodySpacing:a,bodyAlign:s,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:p}=i,g=Ii(i.bodyFont),h=g.lineHeight,y=0,_=Gl(i.rtl,this.x,this.width),O=function(V){e.fillText(V,_.x(t.x+y),t.y+h/2),t.y+=h+a},M=_.textAlign(s),w,T,b,k,E,N,F;for(e.textAlign=s,e.textBaseline="middle",e.font=g.string,t.x=Nh(this,M,i),e.fillStyle=i.bodyColor,Bn(this.beforeBody,O),y=l&&M!=="right"?s==="center"?u/2+p:u+2+p:0,k=0,N=r.length;k<N;++k){for(w=r[k],T=this.labelTextColors[k],e.fillStyle=T,Bn(w.before,O),b=w.lines,l&&b.length&&(this._drawColorBox(e,t,k,_,i),h=Math.max(g.lineHeight,c)),E=0,F=b.length;E<F;++E)O(b[E]),h=g.lineHeight;Bn(w.after,O)}y=0,h=g.lineHeight,Bn(this.afterBody,O),t.y-=a}drawFooter(t,e,i){let r=this.footer,a=r.length,s,l;if(a){let c=Gl(i.rtl,this.x,this.width);for(t.x=Nh(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=c.textAlign(i.footerAlign),e.textBaseline="middle",s=Ii(i.footerFont),e.fillStyle=i.footerColor,e.font=s.string,l=0;l<a;++l)e.fillText(r[l],c.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){let{xAlign:a,yAlign:s}=this,{x:l,y:c}=t,{width:u,height:p}=i,{topLeft:g,topRight:h,bottomLeft:y,bottomRight:_}=Ul(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(l+g,c),s==="top"&&this.drawCaret(t,e,i,r),e.lineTo(l+u-h,c),e.quadraticCurveTo(l+u,c,l+u,c+h),s==="center"&&a==="right"&&this.drawCaret(t,e,i,r),e.lineTo(l+u,c+p-_),e.quadraticCurveTo(l+u,c+p,l+u-_,c+p),s==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(l+y,c+p),e.quadraticCurveTo(l,c+p,l,c+p-y),s==="center"&&a==="left"&&this.drawCaret(t,e,i,r),e.lineTo(l,c+g),e.quadraticCurveTo(l,c,l+g,c),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){let s=dp[t.position].call(this,this._active,this._eventPosition);if(!s)return;let l=this._size=XM(this,t),c=Object.assign({},s,this._size),u=QM(e,t,c),p=JM(t,c,u,e);(r._to!==p.x||a._to!==p.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){let e=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(e);let r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let s=rr(e.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&l&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,r,e),Fv(t,e.textDirection),a.y+=s.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),zv(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let i=this._active,r=t.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),a=!Xu(i,r),s=this._positionChanged(r,e);(a||s)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,a=this._active||[],s=this._getActiveElements(t,a,e,i),l=this._positionChanged(s,t),c=e||!Xu(s,a)||l;return c&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),c}_getActiveElements(t,e,i,r){let a=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let s=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&s.reverse(),s}_positionChanged(t,e){let{caretX:i,caretY:r,options:a}=this,s=dp[a.position].call(this,t,e);return s!==!1&&(i!==s.x||r!==s.y)}}return o})(),R5={id:"tooltip",_element:e5,positioners:dp,afterInit(o,n,t){t&&(o.tooltip=new e5({chart:o,options:t}))},beforeUpdate(o,n,t){o.tooltip&&o.tooltip.initialize(t)},reset(o,n,t){o.tooltip&&o.tooltip.initialize(t)},afterDraw(o){let n=o.tooltip;if(n&&n._willRender()){let t={tooltip:n};if(o.notifyPlugins("beforeTooltipDraw",Zo(pi({},t),{cancelable:!0}))===!1)return;n.draw(o.ctx),o.notifyPlugins("afterTooltipDraw",t)}},afterEvent(o,n){if(o.tooltip){let t=n.replay;o.tooltip.handleEvent(n.event,t,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(o,n)=>n.bodyFont.size,boxWidth:(o,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:N5},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:o=>o!=="filter"&&o!=="itemSort"&&o!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};var GW=(o,n,t,e)=>(typeof n=="string"?(t=o.push(n)-1,e.unshift({index:t,label:n})):isNaN(n)&&(t=null),t);function WW(o,n,t,e){let i=o.indexOf(n);if(i===-1)return GW(o,n,t,e);let r=o.lastIndexOf(n);return i!==r?t:i}var KW=(o,n)=>o===null?null:go(Math.round(o),0,n);function n5(o){let n=this.getLabels();return o>=0&&o<n.length?n[o]:o}var F5=(()=>{class o extends ql{static id="category";static defaults={ticks:{callback:n5}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let e=this._addedLabels;if(e.length){let i=this.getLabels();for(let{index:r,label:a}of e)i[r]===a&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Hn(t))return null;let i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:WW(i,t,mn(e,t),this._addedLabels),KW(e,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){let t=this.min,e=this.max,i=this.options.offset,r=[],a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let s=t;s<=e;s++)r.push({value:s});return r}getLabelForValue(t){return n5.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return o})();function qW(o,n){let t=[],{bounds:i,step:r,min:a,max:s,precision:l,count:c,maxTicks:u,maxDigits:p,includeBounds:g}=o,h=r||1,y=u-1,{min:_,max:O}=n,M=!Hn(a),w=!Hn(s),T=!Hn(c),b=(O-_)/(p+1),k=bv((O-_)/y/h)*h,E,N,F,V;if(k<1e-14&&!M&&!w)return[{value:_},{value:O}];V=Math.ceil(O/k)-Math.floor(_/k),V>y&&(k=bv(V*k/y/h)*h),Hn(l)||(E=Math.pow(10,l),k=Math.ceil(k*E)/E),i==="ticks"?(N=Math.floor(_/k)*k,F=Math.ceil(O/k)*k):(N=_,F=O),M&&w&&r&&UP((s-a)/r,k/1e3)?(V=Math.round(Math.min((s-a)/k,u)),k=(s-a)/V,N=a,F=s):T?(N=M?a:N,F=w?s:F,V=c-1,k=(F-N)/V):(V=(F-N)/k,ad(V,Math.round(V),k/1e3)?V=Math.round(V):V=Math.ceil(V));let R=Math.max(xv(k),xv(N));E=Math.pow(10,Hn(l)?R:l),N=Math.round(N*E)/E,F=Math.round(F*E)/E;let H=0;for(M&&(g&&N!==a?(t.push({value:a}),N<a&&H++,ad(Math.round((N+H*k)*E)/E,a,i5(a,b,o))&&H++):N<a&&H++);H<V;++H){let L=Math.round((N+H*k)*E)/E;if(w&&L>s)break;t.push({value:L})}return w&&g&&F!==s?t.length&&ad(t[t.length-1].value,s,i5(s,b,o))?t[t.length-1].value=s:t.push({value:s}):(!w||F===s)&&t.push({value:F}),t}function i5(o,n,{horizontal:t,minRotation:e}){let i=Ua(e),r=(t?Math.sin(i):Math.cos(i))||.001,a=.75*n*(""+o).length;return Math.min(n/r,a)}var cd=class extends ql{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,t){return Hn(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:i,max:r}=this,a=l=>i=t?i:l,s=l=>r=e?r:l;if(n){let l=jl(i),c=jl(r);l<0&&c<0?s(0):l>0&&c>0&&a(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);s(r+l),n||a(i-l)}this.min=i,this.max=r}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:t,stepSize:e}=n,i;return e?(i=Math.ceil(this.max/e)-Math.floor(this.min/e)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${e} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,t=n.ticks,e=this.getTickLimit();e=Math.max(2,e);let i={maxTicks:e,bounds:n.bounds,min:n.min,max:n.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,a=qW(i,r);return n.bounds==="ticks"&&Cv(a,this,"value"),n.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){let n=this.ticks,t=this.min,e=this.max;if(super.configure(),this.options.offset&&n.length){let i=(e-t)/Math.max(n.length-1,1)/2;t-=i,e+=i}this._startValue=t,this._endValue=e,this._valueRange=e-t}getLabelForValue(n){return Mh(n,this.chart.options.locale,this.options.ticks.format)}},Wh=class extends cd{static id="linear";static defaults={ticks:{callback:Zu.formatters.numeric}};determineDataLimits(){let{min:n,max:t}=this.getMinMax(!0);this.min=di(n)?n:0,this.max=di(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),t=n?this.width:this.height,e=Ua(this.options.ticks.minRotation),i=(n?Math.sin(e):Math.cos(e))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},pp=o=>Math.floor(Ba(o)),Kl=(o,n)=>Math.pow(10,pp(o)+n);function r5(o){return o/Math.pow(10,pp(o))===1}function o5(o,n,t){let e=Math.pow(10,t),i=Math.floor(o/e);return Math.ceil(n/e)-i}function $W(o,n){let t=n-o,e=pp(t);for(;o5(o,n,e)>10;)e++;for(;o5(o,n,e)<10;)e--;return Math.min(e,pp(o))}function YW(o,{min:n,max:t}){n=Wr(o.min,n);let e=[],i=pp(n),r=$W(n,t),a=r<0?Math.pow(10,Math.abs(r)):1,s=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((n-l)*a)/a,u=Math.floor((n-l)/s/10)*s*10,p=Math.floor((c-u)/Math.pow(10,r)),g=Wr(o.min,Math.round((l+u+p*Math.pow(10,r))*a)/a);for(;g<t;)e.push({value:g,major:r5(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(r++,p=2,a=r>=0?1:a),g=Math.round((l+u+p*Math.pow(10,r))*a)/a;let h=Wr(o.max,g);return e.push({value:h,major:r5(h),significand:p}),e}var a5=class extends ql{static id="logarithmic";static defaults={ticks:{callback:Zu.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,t){let e=cd.prototype.parse.apply(this,[n,t]);if(e===0){this._zero=!0;return}return di(e)&&e>0?e:null}determineDataLimits(){let{min:n,max:t}=this.getMinMax(!0);this.min=di(n)?Math.max(0,n):null,this.max=di(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!di(this._userMin)&&(this.min=n===Kl(this.min,0)?Kl(this.min,-1):Kl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:t}=this.getUserBounds(),e=this.min,i=this.max,r=s=>e=n?e:s,a=s=>i=t?i:s;e===i&&(e<=0?(r(1),a(10)):(r(Kl(e,-1)),a(Kl(i,1)))),e<=0&&r(Kl(i,-1)),i<=0&&a(Kl(e,1)),this.min=e,this.max=i}buildTicks(){let n=this.options,t={min:this._userMin,max:this._userMax},e=YW(t,this);return n.bounds==="ticks"&&Cv(e,this,"value"),n.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(n){return n===void 0?"0":Mh(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=Ba(n),this._valueRange=Ba(this.max)-Ba(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(Ba(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let t=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+t*this._valueRange)}};function l_(o){let n=o.ticks;if(n.display&&o.display){let t=rr(n.backdropPadding);return mn(n.font&&n.font.size,ni.font.size)+t.height}return 0}function XW(o,n,t){return t=ei(t)?t:[t],{w:nM(o,n.string,t),h:t.length*n.lineHeight}}function s5(o,n,t,e,i){return o===e||o===i?{start:n-t/2,end:n+t/2}:o<e||o>i?{start:n-t,end:n}:{start:n,end:n+t}}function QW(o){let n={l:o.left+o._padding.left,r:o.right-o._padding.right,t:o.top+o._padding.top,b:o.bottom-o._padding.bottom},t=Object.assign({},n),e=[],i=[],r=o._pointLabels.length,a=o.options.pointLabels,s=a.centerPointLabels?wi/r:0;for(let l=0;l<r;l++){let c=a.setContext(o.getPointLabelContext(l));i[l]=c.padding;let u=o.getPointPosition(l,o.drawingArea+i[l],s),p=Ii(c.font),g=XW(o.ctx,p,o._pointLabels[l]);e[l]=g;let h=Br(o.getIndexAngle(l)+s),y=Math.round(xh(h)),_=s5(y,u.x,g.w,0,180),O=s5(y,u.y,g.h,90,270);JW(t,n,h,_,O)}o.setCenterPoint(n.l-t.l,t.r-n.r,n.t-t.t,t.b-n.b),o._pointLabelItems=eK(o,e,i)}function JW(o,n,t,e,i){let r=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t)),s=0,l=0;e.start<n.l?(s=(n.l-e.start)/r,o.l=Math.min(o.l,n.l-s)):e.end>n.r&&(s=(e.end-n.r)/r,o.r=Math.max(o.r,n.r+s)),i.start<n.t?(l=(n.t-i.start)/a,o.t=Math.min(o.t,n.t-l)):i.end>n.b&&(l=(i.end-n.b)/a,o.b=Math.max(o.b,n.b+l))}function ZW(o,n,t){let e=o.drawingArea,{extra:i,additionalAngle:r,padding:a,size:s}=t,l=o.getPointPosition(n,e+i+a,r),c=Math.round(xh(Br(l.angle+Ur))),u=rK(l.y,s.h,c),p=nK(c),g=iK(l.x,s.w,p);return{visible:!0,x:l.x,y:u,textAlign:p,left:g,top:u,right:g+s.w,bottom:u+s.h}}function tK(o,n){if(!n)return!0;let{left:t,top:e,right:i,bottom:r}=o;return!(fa({x:t,y:e},n)||fa({x:t,y:r},n)||fa({x:i,y:e},n)||fa({x:i,y:r},n))}function eK(o,n,t){let e=[],i=o._pointLabels.length,r=o.options,{centerPointLabels:a,display:s}=r.pointLabels,l={extra:l_(r)/2,additionalAngle:a?wi/i:0},c;for(let u=0;u<i;u++){l.padding=t[u],l.size=n[u];let p=ZW(o,u,l);e.push(p),s==="auto"&&(p.visible=tK(p,c),p.visible&&(c=p))}return e}function nK(o){return o===0||o===180?"center":o<180?"left":"right"}function iK(o,n,t){return t==="right"?o-=n:t==="center"&&(o-=n/2),o}function rK(o,n,t){return t===90||t===270?o-=n/2:(t>270||t<90)&&(o-=n),o}function oK(o,n,t){let{left:e,top:i,right:r,bottom:a}=t,{backdropColor:s}=n;if(!Hn(s)){let l=Ul(n.borderRadius),c=rr(n.backdropPadding);o.fillStyle=s;let u=e-c.left,p=i-c.top,g=r-e+c.width,h=a-i+c.height;Object.values(l).some(y=>y!==0)?(o.beginPath(),np(o,{x:u,y:p,w:g,h,radius:l}),o.fill()):o.fillRect(u,p,g,h)}}function aK(o,n){let{ctx:t,options:{pointLabels:e}}=o;for(let i=n-1;i>=0;i--){let r=o._pointLabelItems[i];if(!r.visible)continue;let a=e.setContext(o.getPointLabelContext(i));oK(t,a,r);let s=Ii(a.font),{x:l,y:c,textAlign:u}=r;Gs(t,o._pointLabels[i],l,c+s.lineHeight/2,s,{color:a.color,textAlign:u,textBaseline:"middle"})}}function z5(o,n,t,e){let{ctx:i}=o;if(t)i.arc(o.xCenter,o.yCenter,n,0,Gr);else{let r=o.getPointPosition(0,n);i.moveTo(r.x,r.y);for(let a=1;a<e;a++)r=o.getPointPosition(a,n),i.lineTo(r.x,r.y)}}function sK(o,n,t,e,i){let r=o.ctx,a=n.circular,{color:s,lineWidth:l}=n;!a&&!e||!s||!l||t<0||(r.save(),r.strokeStyle=s,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),z5(o,t,a,e),r.closePath(),r.stroke(),r.restore())}function lK(o,n,t){return Ga(o,{label:t,index:n,type:"pointLabel"})}var l5=class extends cd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Zu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=rr(l_(this.options)/2),t=this.width=this.maxWidth-n.width,e=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+t/2+n.left),this.yCenter=Math.floor(this.top+e/2+n.top),this.drawingArea=Math.floor(Math.min(t,e)/2)}determineDataLimits(){let{min:n,max:t}=this.getMinMax(!1);this.min=di(n)&&!isNaN(n)?n:0,this.max=di(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/l_(this.options))}generateTickLabels(n){cd.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((t,e)=>{let i=Wn(this.options.pointLabels.callback,[t,e],this);return i||i===0?i:""}).filter((t,e)=>this.chart.getDataVisibility(e))}fit(){let n=this.options;n.display&&n.pointLabels.display?QW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,t,e,i){this.xCenter+=Math.floor((n-t)/2),this.yCenter+=Math.floor((e-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,t,e,i))}getIndexAngle(n){let t=Gr/(this._pointLabels.length||1),e=this.options.startAngle||0;return Br(n*t+Ua(e))}getDistanceFromCenterForValue(n){if(Hn(n))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*t:(n-this.min)*t}getValueForDistanceFromCenter(n){if(Hn(n))return NaN;let t=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(n){let t=this._pointLabels||[];if(n>=0&&n<t.length){let e=t[n];return lK(this.getContext(),n,e)}}getPointPosition(n,t,e=0){let i=this.getIndexAngle(n)-Ur+e;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:t,top:e,right:i,bottom:r}=this._pointLabelItems[n];return{left:t,top:e,right:i,bottom:r}}drawBackground(){let{backgroundColor:n,grid:{circular:t}}=this.options;if(n){let e=this.ctx;e.save(),e.beginPath(),z5(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),e.closePath(),e.fillStyle=n,e.fill(),e.restore()}}drawGrid(){let n=this.ctx,t=this.options,{angleLines:e,grid:i,border:r}=t,a=this._pointLabels.length,s,l,c;if(t.pointLabels.display&&aK(this,a),i.display&&this.ticks.forEach((u,p)=>{if(p!==0||p===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let g=this.getContext(p),h=i.setContext(g),y=r.setContext(g);sK(this,h,l,a,y)}}),e.display){for(n.save(),s=a-1;s>=0;s--){let u=e.setContext(this.getPointLabelContext(s)),{color:p,lineWidth:g}=u;!g||!p||(n.lineWidth=g,n.strokeStyle=p,n.setLineDash(u.borderDash),n.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(s,l),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(c.x,c.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,t=this.options,e=t.ticks;if(!e.display)return;let i=this.getIndexAngle(0),r,a;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(i),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;let c=e.setContext(this.getContext(l)),u=Ii(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){n.font=u.string,a=n.measureText(s.label).width,n.fillStyle=c.backdropColor;let p=rr(c.backdropPadding);n.fillRect(-a/2-p.left,-r-u.size/2-p.top,a+p.width,u.size+p.height)}Gs(n,s.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),n.restore()}drawTitle(){}},qh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qr=Object.keys(qh);function c5(o,n){return o-n}function d5(o,n){if(Hn(n))return null;let t=o._adapter,{parser:e,round:i,isoWeekday:r}=o._parseOpts,a=n;return typeof e=="function"&&(a=e(a)),di(a)||(a=typeof e=="string"?t.parse(a,e):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(sd(r)||r===!0)?t.startOf(a,"isoWeek",r):t.startOf(a,i)),+a)}function u5(o,n,t,e){let i=qr.length;for(let r=qr.indexOf(o);r<i-1;++r){let a=qh[qr[r]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-n)/(s*a.size))<=e)return qr[r]}return qr[i-1]}function cK(o,n,t,e,i){for(let r=qr.length-1;r>=qr.indexOf(t);r--){let a=qr[r];if(qh[a].common&&o._adapter.diff(i,e,a)>=n-1)return a}return qr[t?qr.indexOf(t):0]}function dK(o){for(let n=qr.indexOf(o)+1,t=qr.length;n<t;++n)if(qh[qr[n]].common)return qr[n]}function p5(o,n,t){if(!t)o[n]=!0;else if(t.length){let{lo:e,hi:i}=Oh(t,n),r=t[e]>=n?t[e]:t[i];o[r]=!0}}function uK(o,n,t,e){let i=o._adapter,r=+i.startOf(n[0].value,e),a=n[n.length-1].value,s,l;for(s=r;s<=a;s=+i.add(s,1,e))l=t[s],l>=0&&(n[l].major=!0);return n}function f5(o,n,t){let e=[],i={},r=n.length,a,s;for(a=0;a<r;++a)s=n[a],i[s]=a,e.push({value:s,major:!1});return r===0||!t?e:uK(o,e,i,t)}var g5=(()=>{class o extends ql{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){let i=t.time||(t.time={}),r=this._adapter=new ZU._date(t.adapters.date);r.init(e),od(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:d5(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,i=t.time.unit||"day",{min:r,max:a,minDefined:s,maxDefined:l}=this.getUserBounds();function c(u){!s&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!l&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!s||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=di(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),a=di(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){let t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let a=this.min,s=this.max,l=qP(r,a,s);return this._unit=e.unit||(i.autoSkip?u5(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):cK(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:dK(this._unit),this.initOffsets(r),t.reverse&&l.reverse(),f5(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,a;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);let s=t.length<3?.5:.25;e=go(e,0,s),i=go(i,0,s),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){let t=this._adapter,e=this.min,i=this.max,r=this.options,a=r.time,s=a.unit||u5(a.minUnit,e,i,this._getLabelCapacity(e)),l=mn(r.ticks.stepSize,1),c=s==="week"?a.isoWeekday:!1,u=sd(c)||c===!0,p={},g=e,h,y;if(u&&(g=+t.startOf(g,"isoWeek",c)),g=+t.startOf(g,u?"day":s),t.diff(i,e,s)>1e5*l)throw new Error(e+" and "+i+" are too far apart with stepSize of "+l+" "+s);let _=r.ticks.source==="data"&&this.getDataTimestamps();for(h=g,y=0;h<i;h=+t.add(h,l,s),y++)p5(p,h,_);return(h===i||r.bounds==="ticks"||y===1)&&p5(p,h,_),Object.keys(p).sort(c5).map(O=>+O)}getLabelForValue(t){let e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){let r=this.options.time.displayFormats,a=this._unit,s=e||r[a];return this._adapter.format(t,s)}_tickFormatFunction(t,e,i,r){let a=this.options,s=a.ticks.callback;if(s)return Wn(s,[t,e,i],this);let l=a.time.displayFormats,c=this._unit,u=this._majorUnit,p=c&&l[c],g=u&&l[u],h=i[e],y=u&&g&&h&&h.major;return this._adapter.format(t,r||(y?g:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ua(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(r),s=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*a+l*s,h:i*s+l*a}}_getLabelCapacity(t){let e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,f5(this,[t],this._majorUnit),r),s=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],e,i;if(t.length)return t;let r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(d5(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return XP(t.sort(c5))}}return o})();function Rh(o,n,t){let e=0,i=o.length-1,r,a,s,l;t?(n>=o[e].pos&&n<=o[i].pos&&({lo:e,hi:i}=js(o,"pos",n)),{pos:r,time:s}=o[e],{pos:a,time:l}=o[i]):(n>=o[e].time&&n<=o[i].time&&({lo:e,hi:i}=js(o,"time",n)),{time:r,pos:s}=o[e],{time:a,pos:l}=o[i]);let c=a-r;return c?s+(l-s)*(n-r)/c:s}var h5=class extends g5{static id="timeseries";static defaults=g5.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(n);this._minPos=Rh(t,this.min),this._tableRange=Rh(t,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:t,max:e}=this,i=[],r=[],a,s,l,c,u;for(a=0,s=n.length;a<s;++a)c=n[a],c>=t&&c<=e&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:e,pos:1}];for(a=0,s=i.length;a<s;++a)u=i[a+1],l=i[a-1],c=i[a],Math.round((u+l)/2)!==c&&r.push({time:c,pos:a/(s-1)});return r}_generate(){let n=this.min,t=this.max,e=super.getDataTimestamps();return(!e.includes(n)||!e.length)&&e.splice(0,0,n),(!e.includes(t)||e.length===1)&&e.push(t),e.sort((i,r)=>i-r)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let t=this.getDataTimestamps(),e=this.getLabelTimestamps();return t.length&&e.length?n=this.normalize(t.concat(e)):n=t.length?t:e,n=this._cache.all=n,n}getDecimalForValue(n){return(Rh(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let t=this._offsets,e=this.getDecimalForPixel(n)/t.factor-t.end;return Rh(this._table,e*this._tableRange+this._minPos,!0)}};var pK=typeof global=="object"&&global&&global.Object===Object&&global,$h=pK;var fK=typeof self=="object"&&self&&self.Object===Object&&self,gK=$h||fK||Function("return this")(),Lo=gK;var hK=Lo.Symbol,ud=hK;var V5=Object.prototype,mK=V5.hasOwnProperty,vK=V5.toString,hp=ud?ud.toStringTag:void 0;function _K(o){var n=mK.call(o,hp),t=o[hp];try{o[hp]=void 0;var e=!0}catch{}var i=vK.call(o);return e&&(n?o[hp]=t:delete o[hp]),i}var j5=_K;var yK=Object.prototype,bK=yK.toString;function CK(o){return bK.call(o)}var H5=CK;var xK="[object Null]",OK="[object Undefined]",B5=ud?ud.toStringTag:void 0;function PK(o){return o==null?o===void 0?OK:xK:B5&&B5 in Object(o)?j5(o):H5(o)}var Ks=PK;function MK(o){return o!=null&&typeof o=="object"}var va=MK;var wK=Array.isArray,mp=wK;function SK(o){var n=typeof o;return o!=null&&(n=="object"||n=="function")}var $r=SK;function TK(o){return o}var Yh=TK;var EK="[object AsyncFunction]",kK="[object Function]",AK="[object GeneratorFunction]",IK="[object Proxy]";function DK(o){if(!$r(o))return!1;var n=Ks(o);return n==kK||n==AK||n==EK||n==IK}var pd=DK;var LK=Lo["__core-js_shared__"],Xh=LK;var U5=function(){var o=/[^.]+$/.exec(Xh&&Xh.keys&&Xh.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function NK(o){return!!U5&&U5 in o}var G5=NK;var RK=Function.prototype,FK=RK.toString;function zK(o){if(o!=null){try{return FK.call(o)}catch{}try{return o+""}catch{}}return""}var W5=zK;var VK=/[\\^$.*+?()[\]{}|]/g,jK=/^\[object .+?Constructor\]$/,HK=Function.prototype,BK=Object.prototype,UK=HK.toString,GK=BK.hasOwnProperty,WK=RegExp("^"+UK.call(GK).replace(VK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KK(o){if(!$r(o)||G5(o))return!1;var n=pd(o)?WK:jK;return n.test(W5(o))}var K5=KK;function qK(o,n){return o?.[n]}var q5=qK;function $K(o,n){var t=q5(o,n);return K5(t)?t:void 0}var fd=$K;var $5=Object.create,YK=function(){function o(){}return function(n){if(!$r(n))return{};if($5)return $5(n);o.prototype=n;var t=new o;return o.prototype=void 0,t}}(),Y5=YK;function XK(o,n,t){switch(t.length){case 0:return o.call(n);case 1:return o.call(n,t[0]);case 2:return o.call(n,t[0],t[1]);case 3:return o.call(n,t[0],t[1],t[2])}return o.apply(n,t)}var X5=XK;function QK(o,n){var t=-1,e=o.length;for(n||(n=Array(e));++t<e;)n[t]=o[t];return n}var Q5=QK;var JK=800,ZK=16,tq=Date.now;function eq(o){var n=0,t=0;return function(){var e=tq(),i=ZK-(e-t);if(t=e,i>0){if(++n>=JK)return arguments[0]}else n=0;return o.apply(void 0,arguments)}}var J5=eq;function nq(o){return function(){return o}}var Z5=nq;var iq=function(){try{var o=fd(Object,"defineProperty");return o({},"",{}),o}catch{}}(),gd=iq;var rq=gd?function(o,n){return gd(o,"toString",{configurable:!0,enumerable:!1,value:Z5(n),writable:!0})}:Yh,tw=rq;var oq=J5(tw),ew=oq;var aq=9007199254740991,sq=/^(?:0|[1-9]\d*)$/;function lq(o,n){var t=typeof o;return n=n??aq,!!n&&(t=="number"||t!="symbol"&&sq.test(o))&&o>-1&&o%1==0&&o<n}var Qh=lq;function cq(o,n,t){n=="__proto__"&&gd?gd(o,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):o[n]=t}var hd=cq;function dq(o,n){return o===n||o!==o&&n!==n}var qs=dq;var uq=Object.prototype,pq=uq.hasOwnProperty;function fq(o,n,t){var e=o[n];(!(pq.call(o,n)&&qs(e,t))||t===void 0&&!(n in o))&&hd(o,n,t)}var nw=fq;function gq(o,n,t,e){var i=!t;t||(t={});for(var r=-1,a=n.length;++r<a;){var s=n[r],l=e?e(t[s],o[s],s,t,o):void 0;l===void 0&&(l=o[s]),i?hd(t,s,l):nw(t,s,l)}return t}var iw=gq;var rw=Math.max;function hq(o,n,t){return n=rw(n===void 0?o.length-1:n,0),function(){for(var e=arguments,i=-1,r=rw(e.length-n,0),a=Array(r);++i<r;)a[i]=e[n+i];i=-1;for(var s=Array(n+1);++i<n;)s[i]=e[i];return s[n]=t(a),X5(o,this,s)}}var ow=hq;function mq(o,n){return ew(ow(o,n,Yh),o+"")}var aw=mq;var vq=9007199254740991;function _q(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=vq}var Jh=_q;function yq(o){return o!=null&&Jh(o.length)&&!pd(o)}var md=yq;function bq(o,n,t){if(!$r(t))return!1;var e=typeof n;return(e=="number"?md(t)&&Qh(n,t.length):e=="string"&&n in t)?qs(t[n],o):!1}var sw=bq;function Cq(o){return aw(function(n,t){var e=-1,i=t.length,r=i>1?t[i-1]:void 0,a=i>2?t[2]:void 0;for(r=o.length>3&&typeof r=="function"?(i--,r):void 0,a&&sw(t[0],t[1],a)&&(r=i<3?void 0:r,i=1),n=Object(n);++e<i;){var s=t[e];s&&o(n,s,e,r)}return n})}var lw=Cq;var xq=Object.prototype;function Oq(o){var n=o&&o.constructor,t=typeof n=="function"&&n.prototype||xq;return o===t}var Zh=Oq;function Pq(o,n){for(var t=-1,e=Array(o);++t<o;)e[t]=n(t);return e}var cw=Pq;var Mq="[object Arguments]";function wq(o){return va(o)&&Ks(o)==Mq}var c_=wq;var dw=Object.prototype,Sq=dw.hasOwnProperty,Tq=dw.propertyIsEnumerable,Eq=c_(function(){return arguments}())?c_:function(o){return va(o)&&Sq.call(o,"callee")&&!Tq.call(o,"callee")},vp=Eq;function kq(){return!1}var uw=kq;var gw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pw=gw&&typeof module=="object"&&module&&!module.nodeType&&module,Aq=pw&&pw.exports===gw,fw=Aq?Lo.Buffer:void 0,Iq=fw?fw.isBuffer:void 0,Dq=Iq||uw,tm=Dq;var Lq="[object Arguments]",Nq="[object Array]",Rq="[object Boolean]",Fq="[object Date]",zq="[object Error]",Vq="[object Function]",jq="[object Map]",Hq="[object Number]",Bq="[object Object]",Uq="[object RegExp]",Gq="[object Set]",Wq="[object String]",Kq="[object WeakMap]",qq="[object ArrayBuffer]",$q="[object DataView]",Yq="[object Float32Array]",Xq="[object Float64Array]",Qq="[object Int8Array]",Jq="[object Int16Array]",Zq="[object Int32Array]",t$="[object Uint8Array]",e$="[object Uint8ClampedArray]",n$="[object Uint16Array]",i$="[object Uint32Array]",ii={};ii[Yq]=ii[Xq]=ii[Qq]=ii[Jq]=ii[Zq]=ii[t$]=ii[e$]=ii[n$]=ii[i$]=!0;ii[Lq]=ii[Nq]=ii[qq]=ii[Rq]=ii[$q]=ii[Fq]=ii[zq]=ii[Vq]=ii[jq]=ii[Hq]=ii[Bq]=ii[Uq]=ii[Gq]=ii[Wq]=ii[Kq]=!1;function r$(o){return va(o)&&Jh(o.length)&&!!ii[Ks(o)]}var hw=r$;function o$(o){return function(n){return o(n)}}var mw=o$;var vw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_p=vw&&typeof module=="object"&&module&&!module.nodeType&&module,a$=_p&&_p.exports===vw,d_=a$&&$h.process,s$=function(){try{var o=_p&&_p.require&&_p.require("util").types;return o||d_&&d_.binding&&d_.binding("util")}catch{}}(),u_=s$;var _w=u_&&u_.isTypedArray,l$=_w?mw(_w):hw,em=l$;var c$=Object.prototype,d$=c$.hasOwnProperty;function u$(o,n){var t=mp(o),e=!t&&vp(o),i=!t&&!e&&tm(o),r=!t&&!e&&!i&&em(o),a=t||e||i||r,s=a?cw(o.length,String):[],l=s.length;for(var c in o)(n||d$.call(o,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Qh(c,l)))&&s.push(c);return s}var yw=u$;function p$(o,n){return function(t){return o(n(t))}}var bw=p$;function f$(o){var n=[];if(o!=null)for(var t in Object(o))n.push(t);return n}var Cw=f$;var g$=Object.prototype,h$=g$.hasOwnProperty;function m$(o){if(!$r(o))return Cw(o);var n=Zh(o),t=[];for(var e in o)e=="constructor"&&(n||!h$.call(o,e))||t.push(e);return t}var xw=m$;function v$(o){return md(o)?yw(o,!0):xw(o)}var nm=v$;var _$=fd(Object,"create"),$a=_$;function y$(){this.__data__=$a?$a(null):{},this.size=0}var Ow=y$;function b$(o){var n=this.has(o)&&delete this.__data__[o];return this.size-=n?1:0,n}var Pw=b$;var C$="__lodash_hash_undefined__",x$=Object.prototype,O$=x$.hasOwnProperty;function P$(o){var n=this.__data__;if($a){var t=n[o];return t===C$?void 0:t}return O$.call(n,o)?n[o]:void 0}var Mw=P$;var M$=Object.prototype,w$=M$.hasOwnProperty;function S$(o){var n=this.__data__;return $a?n[o]!==void 0:w$.call(n,o)}var ww=S$;var T$="__lodash_hash_undefined__";function E$(o,n){var t=this.__data__;return this.size+=this.has(o)?0:1,t[o]=$a&&n===void 0?T$:n,this}var Sw=E$;function vd(o){var n=-1,t=o==null?0:o.length;for(this.clear();++n<t;){var e=o[n];this.set(e[0],e[1])}}vd.prototype.clear=Ow;vd.prototype.delete=Pw;vd.prototype.get=Mw;vd.prototype.has=ww;vd.prototype.set=Sw;var p_=vd;function k$(){this.__data__=[],this.size=0}var Tw=k$;function A$(o,n){for(var t=o.length;t--;)if(qs(o[t][0],n))return t;return-1}var $s=A$;var I$=Array.prototype,D$=I$.splice;function L$(o){var n=this.__data__,t=$s(n,o);if(t<0)return!1;var e=n.length-1;return t==e?n.pop():D$.call(n,t,1),--this.size,!0}var Ew=L$;function N$(o){var n=this.__data__,t=$s(n,o);return t<0?void 0:n[t][1]}var kw=N$;function R$(o){return $s(this.__data__,o)>-1}var Aw=R$;function F$(o,n){var t=this.__data__,e=$s(t,o);return e<0?(++this.size,t.push([o,n])):t[e][1]=n,this}var Iw=F$;function _d(o){var n=-1,t=o==null?0:o.length;for(this.clear();++n<t;){var e=o[n];this.set(e[0],e[1])}}_d.prototype.clear=Tw;_d.prototype.delete=Ew;_d.prototype.get=kw;_d.prototype.has=Aw;_d.prototype.set=Iw;var Ys=_d;var z$=fd(Lo,"Map"),im=z$;function V$(){this.size=0,this.__data__={hash:new p_,map:new(im||Ys),string:new p_}}var Dw=V$;function j$(o){var n=typeof o;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?o!=="__proto__":o===null}var Lw=j$;function H$(o,n){var t=o.__data__;return Lw(n)?t[typeof n=="string"?"string":"hash"]:t.map}var Xs=H$;function B$(o){var n=Xs(this,o).delete(o);return this.size-=n?1:0,n}var Nw=B$;function U$(o){return Xs(this,o).get(o)}var Rw=U$;function G$(o){return Xs(this,o).has(o)}var Fw=G$;function W$(o,n){var t=Xs(this,o),e=t.size;return t.set(o,n),this.size+=t.size==e?0:1,this}var zw=W$;function yd(o){var n=-1,t=o==null?0:o.length;for(this.clear();++n<t;){var e=o[n];this.set(e[0],e[1])}}yd.prototype.clear=Dw;yd.prototype.delete=Nw;yd.prototype.get=Rw;yd.prototype.has=Fw;yd.prototype.set=zw;var Vw=yd;var K$=bw(Object.getPrototypeOf,Object),rm=K$;var q$="[object Object]",$$=Function.prototype,Y$=Object.prototype,jw=$$.toString,X$=Y$.hasOwnProperty,Q$=jw.call(Object);function J$(o){if(!va(o)||Ks(o)!=q$)return!1;var n=rm(o);if(n===null)return!0;var t=X$.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&jw.call(t)==Q$}var Hw=J$;function Z$(){this.__data__=new Ys,this.size=0}var Bw=Z$;function tY(o){var n=this.__data__,t=n.delete(o);return this.size=n.size,t}var Uw=tY;function eY(o){return this.__data__.get(o)}var Gw=eY;function nY(o){return this.__data__.has(o)}var Ww=nY;var iY=200;function rY(o,n){var t=this.__data__;if(t instanceof Ys){var e=t.__data__;if(!im||e.length<iY-1)return e.push([o,n]),this.size=++t.size,this;t=this.__data__=new Vw(e)}return t.set(o,n),this.size=t.size,this}var Kw=rY;function bd(o){var n=this.__data__=new Ys(o);this.size=n.size}bd.prototype.clear=Bw;bd.prototype.delete=Uw;bd.prototype.get=Gw;bd.prototype.has=Ww;bd.prototype.set=Kw;var qw=bd;var Qw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$w=Qw&&typeof module=="object"&&module&&!module.nodeType&&module,oY=$w&&$w.exports===Qw,Yw=oY?Lo.Buffer:void 0,Xw=Yw?Yw.allocUnsafe:void 0;function aY(o,n){if(n)return o.slice();var t=o.length,e=Xw?Xw(t):new o.constructor(t);return o.copy(e),e}var Jw=aY;var sY=Lo.Uint8Array,f_=sY;function lY(o){var n=new o.constructor(o.byteLength);return new f_(n).set(new f_(o)),n}var Zw=lY;function cY(o,n){var t=n?Zw(o.buffer):o.buffer;return new o.constructor(t,o.byteOffset,o.length)}var t4=cY;function dY(o){return typeof o.constructor=="function"&&!Zh(o)?Y5(rm(o)):{}}var e4=dY;function uY(o){return function(n,t,e){for(var i=-1,r=Object(n),a=e(n),s=a.length;s--;){var l=a[o?s:++i];if(t(r[l],l,r)===!1)break}return n}}var n4=uY;var pY=n4(),i4=pY;function fY(o,n,t){(t!==void 0&&!qs(o[n],t)||t===void 0&&!(n in o))&&hd(o,n,t)}var yp=fY;function gY(o){return va(o)&&md(o)}var r4=gY;function hY(o,n){if(!(n==="constructor"&&typeof o[n]=="function")&&n!="__proto__")return o[n]}var bp=hY;function mY(o){return iw(o,nm(o))}var o4=mY;function vY(o,n,t,e,i,r,a){var s=bp(o,t),l=bp(n,t),c=a.get(l);if(c){yp(o,t,c);return}var u=r?r(s,l,t+"",o,n,a):void 0,p=u===void 0;if(p){var g=mp(l),h=!g&&tm(l),y=!g&&!h&&em(l);u=l,g||h||y?mp(s)?u=s:r4(s)?u=Q5(s):h?(p=!1,u=Jw(l,!0)):y?(p=!1,u=t4(l,!0)):u=[]:Hw(l)||vp(l)?(u=s,vp(s)?u=o4(s):(!$r(s)||pd(s))&&(u=e4(l))):p=!1}p&&(a.set(l,u),i(u,l,e,r,a),a.delete(l)),yp(o,t,u)}var a4=vY;function s4(o,n,t,e,i){o!==n&&i4(n,function(r,a){if(i||(i=new qw),$r(r))a4(o,n,a,t,s4,e,i);else{var s=e?e(bp(o,a),r,a+"",o,n,i):void 0;s===void 0&&(s=r),yp(o,a,s)}},nm)}var l4=s4;var _Y=lw(function(o,n,t){l4(o,n,t)}),g_=_Y;var yY=new ea("Configuration for ngCharts");var bY=(()=>{class o{constructor(){this.colorschemesOptions=new Wi(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275prov=yo({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),c4=(()=>{class o{constructor(t,e,i,r){this.zone=e,this.themeService=i,this.type="bar",this.plugins=[],this.chartClick=new nr,this.chartHover=new nr,this.subs=[],this.themeOverrides={},r?.registerables&&dd.register(...r.registerables),r?.defaults&&ni.set(r.defaults),this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(_s()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(t){let e=["type"],i=Object.getOwnPropertyNames(t);if(i.some(r=>e.includes(r))||i.every(r=>t[r].isFirstChange()))this.render();else{let r=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,r.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,r.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,r.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new dd(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(t))}hideDataset(t,e){this.chart&&(this.chart.getDatasetMeta(t).hidden=e,this.update())}isDatasetHidden(t){return this.chart?.getDatasetMeta(t)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return g_({onHover:(t,e)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:t,active:e}))},onClick:(t,e)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:t,active:e}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static{this.\u0275fac=function(e){return new(e||o)(pn(Ea),pn(ka),pn(bY),pn(yY,8))}}static{this.\u0275dir=Ta({type:o,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!0,features:[ys]})}}return o})();function CY(o,n){o&1&&(x(0,"div",4),vt(1,"mat-spinner",5),x(2,"p"),I(3,"Loading campaign report..."),P()())}function xY(o,n){if(o&1){let t=fe();x(0,"div",6)(1,"mat-icon"),I(2,"error_outline"),P(),x(3,"h2"),I(4),P(),x(5,"button",7),Bt("click",function(){Dt(t);let i=ct();return Lt(i.goBack())}),x(6,"mat-icon"),I(7,"arrow_back"),P(),I(8," Back to Dashboard "),P()()}if(o&2){let t=ct();j(4),Jt(t.error)}}function OY(o,n){if(o&1&&(x(0,"p",34),I(1),P()),o&2){let t=ct(2);j(),Fe(" ",t.reportData.campaign.subject," ")}}function PY(o,n){if(o&1&&(x(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),I(3,"24 Hour Performance Snapshot"),P()(),x(4,"mat-card-content")(5,"div",35),vt(6,"canvas",36),P()()()),o&2){let t=ct(2);j(6),tt("data",t.lineChartData)("options",t.lineChartOptions)("type",t.lineChartType)}}function MY(o,n){o&1&&(x(0,"mat-card",37)(1,"mat-card-content")(2,"mat-icon"),I(3,"show_chart"),P(),x(4,"p"),I(5,"Performance data over time is not available yet"),P(),x(6,"p",38),I(7,"Chart data will be available after the campaign has been running for some time"),P()()())}function wY(o,n){o&1&&(x(0,"th",49),I(1,"URL"),P())}function SY(o,n){if(o&1&&(x(0,"td",50)(1,"a",51),I(2),P()()),o&2){let t=n.$implicit;j(),tt("href",t.url,no),j(),Jt(t.url)}}function TY(o,n){o&1&&(x(0,"th",49),I(1,"Unique Clicks"),P())}function EY(o,n){if(o&1&&(x(0,"td",52),I(1),P()),o&2){let t=n.$implicit,e=ct(3);j(),Jt(e.formatNumber(t.uniqueClicks))}}function kY(o,n){o&1&&(x(0,"th",49),I(1,"Total Clicks"),P())}function AY(o,n){if(o&1&&(x(0,"td",52),I(1),P()),o&2){let t=n.$implicit,e=ct(3);j(),Jt(e.formatNumber(t.totalClicks))}}function IY(o,n){o&1&&(x(0,"th",49),I(1,"Click %"),P())}function DY(o,n){if(o&1&&(x(0,"td",52),I(1),P()),o&2){let t=n.$implicit,e=ct(3);j(),Jt(e.formatPercent(t.clickPercentage))}}function LY(o,n){o&1&&vt(0,"tr",53)}function NY(o,n){o&1&&vt(0,"tr",54)}function RY(o,n){if(o&1&&(x(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),I(3,"Top Clicked Links"),P()(),x(4,"mat-card-content")(5,"table",39),Rn(6,40),It(7,wY,2,0,"th",41)(8,SY,3,2,"td",42),Fn(),Rn(9,43),It(10,TY,2,0,"th",41)(11,EY,2,1,"td",44),Fn(),Rn(12,45),It(13,kY,2,0,"th",41)(14,AY,2,1,"td",44),Fn(),Rn(15,46),It(16,IY,2,0,"th",41)(17,DY,2,1,"td",44),Fn(),It(18,LY,1,0,"tr",47)(19,NY,1,0,"tr",48),P()()()),o&2){let t=ct(2);j(5),tt("dataSource",t.reportData.clickedLinks),j(13),tt("matHeaderRowDef",t.linkColumns),j(),tt("matRowDefColumns",t.linkColumns)}}function FY(o,n){o&1&&(x(0,"mat-card",37)(1,"mat-card-content")(2,"mat-icon"),I(3,"link_off"),P(),x(4,"p"),I(5,"No clicks recorded yet"),P()()())}function zY(o,n){o&1&&(x(0,"th",49),I(1,"Country"),P())}function VY(o,n){if(o&1&&(x(0,"td",52),I(1),P()),o&2){let t=n.$implicit;j(),Fe(" ",t.countryName||t.country," ")}}function jY(o,n){o&1&&(x(0,"th",49),I(1,"Region"),P())}function HY(o,n){if(o&1&&(x(0,"td",52),I(1),P()),o&2){let t=n.$implicit;j(),Fe(" ",t.regionName||t.region||"N/A"," ")}}function BY(o,n){o&1&&(x(0,"th",49),I(1,"Opens"),P())}function UY(o,n){if(o&1&&(x(0,"td",52),I(1),P()),o&2){let t=n.$implicit,e=ct(3);j(),Jt(e.formatNumber(t.opens))}}function GY(o,n){o&1&&vt(0,"tr",53)}function WY(o,n){o&1&&vt(0,"tr",54)}function KY(o,n){if(o&1&&(x(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),I(3,"Opens by Location"),P()(),x(4,"mat-card-content")(5,"table",55),Rn(6,56),It(7,zY,2,0,"th",41)(8,VY,2,1,"td",44),Fn(),Rn(9,57),It(10,jY,2,0,"th",41)(11,HY,2,1,"td",44),Fn(),Rn(12,58),It(13,BY,2,0,"th",41)(14,UY,2,1,"td",44),Fn(),It(15,GY,1,0,"tr",47)(16,WY,1,0,"tr",48),P()()()),o&2){let t=ct(2);j(5),tt("dataSource",t.reportData.topLocations),j(10),tt("matHeaderRowDef",t.locationColumns),j(),tt("matRowDefColumns",t.locationColumns)}}function qY(o,n){o&1&&(x(0,"mat-card",37)(1,"mat-card-content")(2,"mat-icon"),I(3,"location_off"),P(),x(4,"p"),I(5,"No location data available"),P()()())}function $Y(o,n){o&1&&(x(0,"div",59),vt(1,"mat-spinner",60),x(2,"p"),I(3,"Loading subscriber activity..."),P()())}function YY(o,n){o&1&&(x(0,"th",49),I(1,"Email"),P())}function XY(o,n){if(o&1&&(x(0,"td",52),I(1),P()),o&2){let t=n.$implicit;j(),Jt(t.email)}}function QY(o,n){o&1&&(x(0,"th",49),I(1,"Opened"),P())}function JY(o,n){o&1&&(x(0,"mat-icon",69),I(1,"check_circle"),P())}function ZY(o,n){o&1&&(x(0,"mat-icon",70),I(1,"cancel"),P())}function tX(o,n){if(o&1&&(x(0,"td",52),It(1,JY,2,0,"mat-icon",67)(2,ZY,2,0,"mat-icon",68),P()),o&2){let t=n.$implicit;j(),tt("ngIf",t.opened),j(),tt("ngIf",!t.opened)}}function eX(o,n){o&1&&(x(0,"th",49),I(1,"Clicked"),P())}function nX(o,n){o&1&&(x(0,"mat-icon",69),I(1,"check_circle"),P())}function iX(o,n){o&1&&(x(0,"mat-icon",70),I(1,"cancel"),P())}function rX(o,n){if(o&1&&(x(0,"td",52),It(1,nX,2,0,"mat-icon",67)(2,iX,2,0,"mat-icon",68),P()),o&2){let t=n.$implicit;j(),tt("ngIf",t.clicked),j(),tt("ngIf",!t.clicked)}}function oX(o,n){o&1&&(x(0,"th",49),I(1,"Opens"),P())}function aX(o,n){if(o&1&&(x(0,"td",52),I(1),P()),o&2){let t=n.$implicit;j(),Jt(t.openCount)}}function sX(o,n){o&1&&(x(0,"th",49),I(1,"Clicks"),P())}function lX(o,n){if(o&1&&(x(0,"td",52),I(1),P()),o&2){let t=n.$implicit;j(),Jt(t.clickCount)}}function cX(o,n){o&1&&vt(0,"tr",53)}function dX(o,n){o&1&&vt(0,"tr",54)}function uX(o,n){if(o&1&&(x(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),I(3,"Who Opened & Clicked"),P()(),x(4,"mat-card-content")(5,"table",61),Rn(6,62),It(7,YY,2,0,"th",41)(8,XY,2,1,"td",44),Fn(),Rn(9,63),It(10,QY,2,0,"th",41)(11,tX,3,2,"td",44),Fn(),Rn(12,64),It(13,eX,2,0,"th",41)(14,rX,3,2,"td",44),Fn(),Rn(15,65),It(16,oX,2,0,"th",41)(17,aX,2,1,"td",44),Fn(),Rn(18,66),It(19,sX,2,0,"th",41)(20,lX,2,1,"td",44),Fn(),It(21,cX,1,0,"tr",47)(22,dX,1,0,"tr",48),P()()()),o&2){let t=ct(2);j(5),tt("dataSource",t.subscriberActivity),j(16),tt("matHeaderRowDef",t.activityColumns),j(),tt("matRowDefColumns",t.activityColumns)}}function pX(o,n){o&1&&(x(0,"mat-card",37)(1,"mat-card-content")(2,"mat-icon"),I(3,"people_outline"),P(),x(4,"p"),I(5,"No subscriber activity recorded"),P()()())}function fX(o,n){if(o&1){let t=fe();x(0,"div",8)(1,"div",9)(2,"button",10),Bt("click",function(){Dt(t);let i=ct();return Lt(i.goBack())}),x(3,"mat-icon"),I(4,"arrow_back"),P()(),x(5,"div",11)(6,"h1"),I(7),P(),It(8,OY,2,1,"p",12),x(9,"p",13)(10,"mat-chip",14),I(11),P(),x(12,"span",15),I(13,"\u2022"),P(),x(14,"span"),I(15),P(),x(16,"span",15),I(17,"\u2022"),P(),x(18,"span"),I(19),P()()()(),x(20,"div",16)(21,"mat-card",17)(22,"mat-card-content")(23,"div",18)(24,"mat-icon"),I(25,"visibility"),P()(),x(26,"div",19),I(27),P(),x(28,"div",20),I(29,"Open Rate"),P(),x(30,"div",21),I(31),P()()(),x(32,"mat-card",17)(33,"mat-card-content")(34,"div",22)(35,"mat-icon"),I(36,"touch_app"),P()(),x(37,"div",19),I(38),P(),x(39,"div",20),I(40,"Click Rate"),P(),x(41,"div",21),I(42),P()()(),x(43,"mat-card",17)(44,"mat-card-content")(45,"div",23)(46,"mat-icon"),I(47,"send"),P()(),x(48,"div",19),I(49),P(),x(50,"div",20),I(51,"Delivered"),P(),x(52,"div",21),I(53),P()()(),x(54,"mat-card",17)(55,"mat-card-content")(56,"div",24)(57,"mat-icon"),I(58,"report_problem"),P()(),x(59,"div",19),I(60),P(),x(61,"div",20),I(62,"Bounce Rate"),P(),x(63,"div",21),I(64),P()()()(),x(65,"mat-tab-group",25)(66,"mat-tab",26)(67,"div",27),It(68,PY,7,3,"mat-card",28)(69,MY,8,0,"mat-card",29),P()(),x(70,"mat-tab",30)(71,"div",27),It(72,RY,20,3,"mat-card",28)(73,FY,6,0,"mat-card",29),P()(),x(74,"mat-tab",31)(75,"div",27),It(76,KY,17,3,"mat-card",28)(77,qY,6,0,"mat-card",29),P()(),x(78,"mat-tab",32)(79,"div",27),It(80,$Y,4,0,"div",33)(81,uX,23,3,"mat-card",28)(82,pX,6,0,"mat-card",29),P()()()()}if(o&2){let t=ct();j(7),Jt(t.reportData.campaign.name),j(),tt("ngIf",t.reportData.campaign.subject),j(3),Jt(t.reportData.campaign.status),j(4),Fe("Sent ",t.formatDate(t.reportData.campaign.sentAt),""),j(4),Fe("",t.formatNumber(t.reportData.campaign.recipientsCount)," recipients"),j(8),Jt(t.formatPercent(t.reportData.performance.opens.rate)),j(4),io(" ",t.formatNumber(t.reportData.performance.opens.unique)," unique opens (",t.formatNumber(t.reportData.performance.opens.total)," total) "),j(7),Jt(t.formatPercent(t.reportData.performance.clicks.rate)),j(4),io(" ",t.formatNumber(t.reportData.performance.clicks.unique)," unique clicks (",t.formatNumber(t.reportData.performance.clicks.total)," total) "),j(7),Jt(t.formatNumber(t.reportData.performance.delivered)),j(4),Fe(" of ",t.formatNumber(t.reportData.performance.emailsSent)," sent "),j(7),Jt(t.formatPercent(t.reportData.performance.bounces.rate)),j(4),io(" ",t.formatNumber(t.reportData.performance.bounces.total)," bounces (",t.formatNumber(t.reportData.performance.bounces.hard)," hard) "),j(4),tt("ngIf",t.lineChartData.datasets&&t.lineChartData.datasets.length>0),j(),tt("ngIf",!t.lineChartData.datasets||t.lineChartData.datasets.length===0),j(3),tt("ngIf",t.reportData.clickedLinks.length>0),j(),tt("ngIf",t.reportData.clickedLinks.length===0),j(3),tt("ngIf",t.reportData.topLocations.length>0),j(),tt("ngIf",t.reportData.topLocations.length===0),j(3),tt("ngIf",t.loadingActivity),j(),tt("ngIf",!t.loadingActivity&&t.subscriberActivity.length>0),j(),tt("ngIf",!t.loadingActivity&&t.subscriberActivity.length===0)}}dd.register(_5,gp,E5,Wh,F5,L5,R5,D5,A5);var d4=(()=>{class o{constructor(){this.route=be(Ar),this.router=be(jn),this.orgService=be(Mc),this.authService=be(hi),this.destroy$=new Gi,this.loading=!0,this.error=null,this.campaignId=null,this.organizationId=null,this.reportData=null,this.subscriberActivity=[],this.loadingActivity=!1,this.lineChartType="line",this.lineChartData={datasets:[],labels:[]},this.lineChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},this.locationColumns=["country","region","opens"],this.linkColumns=["url","uniqueClicks","totalClicks","percentage"],this.activityColumns=["email","opened","clicked","openCount","clickCount"]}ngOnInit(){console.log("\u{1F4CA} Campaign detail page initializing..."),this.route.params.pipe(hn(this.destroy$)).subscribe(t=>{this.campaignId=t.id,console.log(`\u{1F4E7} Campaign ID from route: ${this.campaignId}`),this.authService.currentUser$.pipe(_o(1)).subscribe(e=>{if(e?.organizationId){let i=typeof e.organizationId=="string"?e.organizationId:e.organizationId?._id;i?(this.organizationId=i,this.loadCampaignReport()):(this.error="Invalid organization data",this.loading=!1)}else this.error="You are not a member of any organization",this.loading=!1})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCampaignReport(){!this.organizationId||!this.campaignId||(this.loading=!0,console.log(`\u{1F4CA} Loading report for campaign: ${this.campaignId}`),this.orgService.getCampaignReport(this.organizationId,this.campaignId).pipe(hn(this.destroy$)).subscribe({next:t=>{console.log("\u2705 Campaign report loaded:",t),this.reportData=t,this.loading=!1,this.buildChartData(),this.loadSubscriberActivity()},error:t=>{console.error("\u274C Failed to load campaign report:",t),this.error="Failed to load campaign report",this.loading=!1}}))}loadSubscriberActivity(){!this.organizationId||!this.campaignId||(this.loadingActivity=!0,console.log("\u{1F465} Loading subscriber activity..."),this.orgService.getCampaignActivity(this.organizationId,this.campaignId).pipe(hn(this.destroy$)).subscribe({next:t=>{console.log("\u2705 Subscriber activity loaded:",t),this.subscriberActivity=t.activity||[],this.loadingActivity=!1},error:t=>{console.warn("\u26A0\uFE0F Failed to load subscriber activity:",t),this.loadingActivity=!1}}))}goBack(){this.router.navigate(["/organization"])}buildChartData(){if(!this.reportData||!this.reportData.timeseries||this.reportData.timeseries.length===0){console.log("\u26A0\uFE0F No timeseries data available for chart");return}let t=this.reportData.timeseries,e=t.map(a=>new Date(a.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})),i=t.map(a=>a.emails_sent?a.unique_opens/a.emails_sent*100:0),r=t.map(a=>a.emails_sent?a.unique_clicks/a.emails_sent*100:0);this.lineChartData={labels:e,datasets:[{label:"Open Rate (%)",data:i,borderColor:"#667eea",backgroundColor:"rgba(102, 126, 234, 0.1)",fill:!0,tension:.4},{label:"Click Rate (%)",data:r,borderColor:"#f5576c",backgroundColor:"rgba(245, 87, 108, 0.1)",fill:!0,tension:.4}]},console.log("\u{1F4CA} Chart data built:",this.lineChartData)}formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}formatPercent(t){return t.toFixed(1)+"%"}formatNumber(t){return t.toLocaleString()}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-campaign-detail-page"]],standalone:!0,features:[cn],decls:4,vars:3,consts:[[1,"campaign-detail-page"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","report-content",4,"ngIf"],[1,"loading-container"],["diameter","50"],[1,"error-container"],["mat-raised-button","",3,"click"],[1,"report-content"],[1,"report-header"],["mat-icon-button","",1,"back-btn",3,"click"],[1,"campaign-title"],["class","campaign-subject",4,"ngIf"],[1,"campaign-meta"],[1,"status-sent"],[1,"separator"],[1,"metrics-grid"],[1,"metric-card"],[1,"metric-icon","opens-icon"],[1,"metric-value"],[1,"metric-label"],[1,"metric-detail"],[1,"metric-icon","clicks-icon"],[1,"metric-icon","delivery-icon"],[1,"metric-icon","bounces-icon"],[1,"report-tabs"],["label","Performance Over Time"],[1,"tab-content"],[4,"ngIf"],["class","empty-state",4,"ngIf"],["label","Click Performance"],["label","Top Locations"],["label","Subscriber Activity"],["class","loading-small",4,"ngIf"],[1,"campaign-subject"],[1,"chart-container"],["baseChart","",3,"data","options","type"],[1,"empty-state"],[1,"detail"],["mat-table","",1,"links-table",3,"dataSource"],["matColumnDef","url"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","url-cell",4,"matCellDef"],["matColumnDef","uniqueClicks"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalClicks"],["matColumnDef","percentage"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"url-cell"],["target","_blank",3,"href"],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-table","",1,"locations-table",3,"dataSource"],["matColumnDef","country"],["matColumnDef","region"],["matColumnDef","opens"],[1,"loading-small"],["diameter","30"],["mat-table","",1,"activity-table",3,"dataSource"],["matColumnDef","email"],["matColumnDef","opened"],["matColumnDef","clicked"],["matColumnDef","openCount"],["matColumnDef","clickCount"],["class","status-icon success",4,"ngIf"],["class","status-icon",4,"ngIf"],[1,"status-icon","success"],[1,"status-icon"]],template:function(e,i){e&1&&(x(0,"div",0),It(1,CY,4,0,"div",1)(2,xY,9,1,"div",2)(3,fX,83,25,"div",3),P()),e&2&&(j(),tt("ngIf",i.loading),j(),tt("ngIf",i.error&&!i.loading),j(),tt("ngIf",i.reportData&&!i.loading))},dependencies:[Tn,qn,td,lP,dP,uP,cP,cr,Oo,Mi,Pi,Oi,ro,lr,Qb,Yb,Xb,yf,Jb,tC,rC,eC,Zb,oC,nC,iC,aC,sC,ws,qb,c4],styles:[".campaign-detail-page[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto}.campaign-detail-page[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:1rem}.campaign-detail-page[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#f44336}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:2rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-top:.5rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]{flex:1}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:2rem;font-weight:600}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   .campaign-subject[_ngcontent-%COMP%]{color:#666;font-size:1.125rem;margin:0 0 .5rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#999;font-size:.875rem;margin:0;flex-wrap:wrap}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{min-height:24px;font-size:.75rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]   mat-chip.status-sent[_ngcontent-%COMP%]{background:#e8f5e9;color:#388e3c}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 .25rem}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{text-align:center;padding:1.5rem}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1rem}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;color:#fff}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.opens-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.clicks-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.delivery-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.bounces-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:.5rem 0;color:#333}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-bottom:.5rem;font-weight:500}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-detail[_ngcontent-%COMP%]{font-size:.875rem;color:#999}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]{margin-top:2rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:1.5rem 0}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#ccc}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999;font-size:1.125rem;margin:0}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p.detail[_ngcontent-%COMP%]{font-size:.875rem;color:#bbb}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{position:relative;height:400px;width:100%;padding:1rem 0}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]{width:100%}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#666}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]{max-width:400px}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none;word-break:break-all}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#ccc}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   .status-icon.success[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   .status-icon.success[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   .status-icon.success[_ngcontent-%COMP%]{color:#4caf50}.campaign-detail-page[_ngcontent-%COMP%]   .loading-small[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:2rem;color:#666}@media (max-width: 768px){.campaign-detail-page[_ngcontent-%COMP%]{padding:1rem}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return o})();var gX=()=>[5,10,25,50,100],hX=o=>({pageSizeOptions:o,showFirstLastButtons:!0,showPageSizeSelector:!0,showPageInfo:!0,maxVisiblePages:7});function mX(o,n){o&1&&(x(0,"div",10)(1,"div",11),vt(2,"mat-spinner",12),x(3,"p",13),I(4,"Loading audience data..."),P()()())}function vX(o,n){if(o&1){let t=fe();x(0,"div",14)(1,"div",15)(2,"div",16),Xt(),x(3,"svg",17),vt(4,"path",18),P()(),ie(),x(5,"h2"),I(6),P(),x(7,"p"),I(8,"Please try again or go back to dashboard"),P(),x(9,"button",19),Bt("click",function(){Dt(t);let i=ct();return Lt(i.goBack())}),Xt(),x(10,"svg",17),vt(11,"path",20),P(),I(12," Back to Dashboard "),P()()()}if(o&2){let t=ct();j(6),Jt(t.error)}}function _X(o,n){if(o&1){let t=fe();x(0,"div",80)(1,"div",81)(2,"div",27),Xt(),x(3,"svg",17),vt(4,"path",33),P()(),ie(),x(5,"h3",74),I(6,"Add New Subscriber"),P(),vt(7,"div",75),P(),x(8,"div",82)(9,"div",83)(10,"div",84)(11,"label",85),I(12,"Email Address *"),P(),x(13,"div",86),Xt(),x(14,"svg",87),vt(15,"path",88),P(),ie(),x(16,"input",89),xi("ngModelChange",function(i){Dt(t);let r=ct(2);return Ci(r.newSubscriber.email,i)||(r.newSubscriber.email=i),Lt(i)}),P()()(),x(17,"div",84)(18,"label",85),I(19,"First Name"),P(),x(20,"div",86),Xt(),x(21,"svg",87),vt(22,"path",90),P(),ie(),x(23,"input",91),xi("ngModelChange",function(i){Dt(t);let r=ct(2);return Ci(r.newSubscriber.firstName,i)||(r.newSubscriber.firstName=i),Lt(i)}),P()()(),x(24,"div",84)(25,"label",85),I(26,"Last Name"),P(),x(27,"div",86),Xt(),x(28,"svg",87),vt(29,"path",90),P(),ie(),x(30,"input",92),xi("ngModelChange",function(i){Dt(t);let r=ct(2);return Ci(r.newSubscriber.lastName,i)||(r.newSubscriber.lastName=i),Lt(i)}),P()()()(),x(31,"div",93)(32,"button",94),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.toggleAddForm())}),Xt(),x(33,"svg",17),vt(34,"path",95),P(),I(35," Cancel "),P(),ie(),x(36,"button",96),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.addSubscriber())}),Xt(),x(37,"svg",17),vt(38,"path",97),P(),I(39," Add Subscriber "),P()()()()}if(o&2){let t=ct(2);j(16),bi("ngModel",t.newSubscriber.email),j(7),bi("ngModel",t.newSubscriber.firstName),j(7),bi("ngModel",t.newSubscriber.lastName),j(6),tt("disabled",!t.newSubscriber.email)}}function yX(o,n){o&1&&(x(0,"div",98)(1,"div",99),Xt(),x(2,"svg",17),vt(3,"path",100),P()(),ie(),x(4,"h3"),I(5,"No subscribers found"),P(),x(6,"p"),I(7,"Try adjusting your filters or add new subscribers"),P()())}function bX(o,n){if(o&1){let t=fe();x(0,"tr",106)(1,"td",107)(2,"div",108)(3,"div",109),I(4),P(),x(5,"span",110),I(6),P()()(),x(7,"td",111)(8,"span",112),I(9),P()(),x(10,"td",113)(11,"span",114),vt(12,"span",115),I(13),on(14,"titlecase"),P()(),x(15,"td",116)(16,"span",117),I(17),P()(),x(18,"td",118)(19,"button",119),Xt(),x(20,"svg",17),vt(21,"path",120),P()(),ie(),x(22,"mat-menu",121,1)(24,"button",122),Bt("click",function(){let i=Dt(t).$implicit,r=ct(3);return Lt(r.editSubscriber(i))}),Xt(),x(25,"svg",17),vt(26,"path",123),P(),ie(),x(27,"span"),I(28,"Edit"),P()(),x(29,"button",124),Bt("click",function(){let i=Dt(t).$implicit,r=ct(3);return Lt(r.deleteSubscriber(i.email))}),Xt(),x(30,"svg",17),vt(31,"path",125),P(),ie(),x(32,"span"),I(33,"Delete"),P()()()()()}if(o&2){let t=n.$implicit,e=gi(23),i=ct(3);j(4),Jt(t.email.charAt(0).toUpperCase()),j(2),Jt(t.email),j(3),Jt(t.firstName||t.lastName?(t.firstName+" "+t.lastName).trim():"N/A"),j(2),tt("ngClass","status-"+t.status),j(2),Fe(" ",un(14,7,t.status)," "),j(4),Jt(i.formatDate(t.joinedAt)),j(2),tt("matMenuTriggerFor",e)}}function CX(o,n){if(o&1&&(x(0,"div",101)(1,"table",102)(2,"thead")(3,"tr")(4,"th")(5,"div",103),Xt(),x(6,"svg",17),vt(7,"path",88),P(),I(8," Email "),P()(),ie(),x(9,"th")(10,"div",103),Xt(),x(11,"svg",17),vt(12,"path",90),P(),I(13," Name "),P()(),ie(),x(14,"th")(15,"div",103),Xt(),x(16,"svg",17),vt(17,"path",44),P(),I(18," Status "),P()(),ie(),x(19,"th")(20,"div",103),Xt(),x(21,"svg",17),vt(22,"path",104),P(),I(23," Joined "),P()(),ie(),x(24,"th")(25,"div",103),I(26,"Actions"),P()()()(),x(27,"tbody"),It(28,bX,34,9,"tr",105),P()()()),o&2){let t=ct(2);j(28),tt("ngForOf",t.filteredMembers)}}function xX(o,n){if(o&1){let t=fe();x(0,"app-pagination",126),Bt("pageChange",function(i){Dt(t);let r=ct(2);return Lt(r.onPageChange(i))}),P()}if(o&2){let t=ct(2);tt("totalItems",t.totalItems)("currentPage",t.currentPage)("pageSize",t.pageSize)("loading",t.paginationLoading)("config",sf(6,hX,af(5,gX)))}}function OX(o,n){if(o&1){let t=fe();x(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"button",25),Bt("click",function(){Dt(t);let i=ct();return Lt(i.goBack())}),Xt(),x(5,"svg",17),vt(6,"path",20),P()(),ie(),x(7,"div",26)(8,"div",27),Xt(),x(9,"svg",17),vt(10,"path",28),P()(),ie(),x(11,"div",29)(12,"h1"),I(13,"Audience Management"),P(),x(14,"p",30),I(15,"Manage your email subscribers"),P()()()(),x(16,"div",31)(17,"button",32),Bt("click",function(){Dt(t);let i=ct();return Lt(i.refreshData())}),x(18,"mat-icon"),I(19,"refresh"),P()(),x(20,"button",19),Bt("click",function(){Dt(t);let i=ct();return Lt(i.toggleAddForm())}),Xt(),x(21,"svg",17),vt(22,"path",33),P(),ie(),x(23,"span"),I(24,"Add Subscriber"),P()(),x(25,"button",34),Bt("click",function(){Dt(t);let i=gi(31);return Lt(i.click())}),Xt(),x(26,"svg",17),vt(27,"path",35),P(),ie(),x(28,"span"),I(29,"Import CSV"),P()(),x(30,"input",36,0),Bt("change",function(i){Dt(t);let r=ct();return Lt(r.onFileSelected(i))}),P(),x(32,"div",37),Xt(),x(33,"svg",17),vt(34,"path",38),P(),ie(),x(35,"span",39),I(36),P(),x(37,"span",40),I(38,"Total"),P()()()()(),x(39,"div",41)(40,"div",42)(41,"div",43),Xt(),x(42,"svg",17),vt(43,"path",44),P()(),ie(),x(44,"div",45)(45,"div",46),I(46),P(),x(47,"div",47),I(48,"Subscribed"),P()()(),x(49,"div",48)(50,"div",43),Xt(),x(51,"svg",17),vt(52,"path",49),P()(),ie(),x(53,"div",45)(54,"div",46),I(55),P(),x(56,"div",47),I(57,"Cleaned"),P()()(),x(58,"div",50)(59,"div",43),Xt(),x(60,"svg",17),vt(61,"path",51),P()(),ie(),x(62,"div",45)(63,"div",46),I(64),P(),x(65,"div",47),I(66,"Unsubscribed"),P()()()(),It(67,_X,40,4,"div",52),x(68,"div",53)(69,"div",54)(70,"div",55)(71,"label",56),Xt(),x(72,"svg",17),vt(73,"path",57),P(),I(74," Search "),P(),ie(),x(75,"input",58),xi("ngModelChange",function(i){Dt(t);let r=ct();return Ci(r.searchText,i)||(r.searchText=i),Lt(i)}),Bt("ngModelChange",function(i){Dt(t);let r=ct();return Lt(r.onSearchChange(i))}),P()(),x(76,"div",59)(77,"label",56),Xt(),x(78,"svg",17),vt(79,"path",60),P(),I(80," Status "),P(),ie(),x(81,"mat-form-field",61)(82,"mat-select",62),xi("ngModelChange",function(i){Dt(t);let r=ct();return Ci(r.selectedStatus,i)||(r.selectedStatus=i),Lt(i)}),Bt("selectionChange",function(){Dt(t);let i=ct();return Lt(i.filterMembers())}),x(83,"mat-option",63)(84,"div",64),Xt(),x(85,"svg",17),vt(86,"path",65),P(),ie(),x(87,"span"),I(88,"All Statuses"),P()()(),x(89,"mat-option",66)(90,"div",64),Xt(),x(91,"svg",17),vt(92,"path",44),P(),ie(),x(93,"span"),I(94,"Subscribed"),P()()(),x(95,"mat-option",67)(96,"div",64),Xt(),x(97,"svg",17),vt(98,"path",51),P(),ie(),x(99,"span"),I(100,"Unsubscribed"),P()()(),x(101,"mat-option",68)(102,"div",64),Xt(),x(103,"svg",17),vt(104,"path",49),P(),ie(),x(105,"span"),I(106,"Cleaned"),P()()()()()(),x(107,"div",69)(108,"span",70),I(109),P()()()(),x(110,"div",71)(111,"div",72)(112,"div",27),Xt(),x(113,"svg",17),vt(114,"path",73),P()(),ie(),x(115,"h3",74),I(116,"Subscribers List"),P(),vt(117,"div",75),P(),x(118,"div",76),It(119,yX,8,0,"div",77)(120,CX,29,1,"div",78),P()(),It(121,xX,1,8,"app-pagination",79),P()}if(o&2){let t=ct();j(17),tt("disabled",t.loading||t.paginationLoading),j(19),Jt(t.totalSubscribers),j(10),Jt(t.getStatusCount("subscribed")),j(9),Jt(t.getStatusCount("cleaned")),j(9),Jt(t.getStatusCount("unsubscribed")),j(3),tt("ngIf",t.showAddForm),j(8),bi("ngModel",t.searchText),j(7),bi("ngModel",t.selectedStatus),j(27),io("Showing ",t.filteredMembers.length," of ",t.totalItems,""),j(10),tt("ngIf",t.filteredMembers.length===0),j(),tt("ngIf",t.filteredMembers.length>0),j(),tt("ngIf",t.totalItems>0)}}var u4=(()=>{class o{constructor(){this.orgService=be(Mc),this.authService=be(hi),this.router=be(jn),this.dialog=be(Pc),this.destroy$=new Gi,this.searchSubject$=new Gi,this.loading=!0,this.paginationLoading=!1,this.error=null,this.organizationId=null,this.audienceMembers=[],this.filteredMembers=[],this.totalSubscribers=0,this.currentPage=1,this.pageSize=5,this.totalItems=0,this.paginationCache=new Map,this.searchText="",this.selectedStatus="all",this.showAddForm=!1,this.newSubscriber={email:"",firstName:"",lastName:""},this.displayedColumns=["email","firstName","lastName","status","joinedAt","actions"]}ngOnInit(){console.log("\u{1F465} Audience list page initializing..."),this.searchSubject$.pipe(By(400),_s(),hn(this.destroy$)).subscribe(t=>{this.searchText=t,this.currentPage=1,this.loadAudienceData(!0)}),this.authService.currentUser$.pipe(_o(1)).subscribe(t=>{if(t?.organizationId){let e=typeof t.organizationId=="string"?t.organizationId:t.organizationId._id;this.organizationId=e,this.loadAudienceData()}else this.error="You are not a member of any organization",this.loading=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAudienceData(t=!1){if(!this.organizationId)return;let e=`page_${this.currentPage}_${this.pageSize}_${this.selectedStatus}_${this.searchText}`,i=this.paginationCache.get(e);if(i&&t){this.audienceMembers=i,this.filteredMembers=[...i],this.paginationLoading=!1;return}t?this.paginationLoading=!0:this.loading=!0,console.log(`\u{1F4CA} Loading audience page ${this.currentPage} for org: ${this.organizationId}`),this.orgService.getAudienceStats(this.organizationId,{page:this.currentPage,limit:this.pageSize,status:this.selectedStatus,search:this.searchText}).pipe(hn(this.destroy$)).subscribe({next:r=>{console.log("\u2705 Audience data loaded:",r),this.audienceMembers=r.members||r.recentMembers||[],this.filteredMembers=[...this.audienceMembers],this.paginationCache.set(e,this.audienceMembers),this.totalSubscribers=r.stats?.totalSubscribers||0,r.pagination?(this.totalItems=r.pagination.totalItems,this.currentPage=r.pagination.page):this.totalItems=this.audienceMembers.length,this.loading=!1,this.paginationLoading=!1},error:r=>{console.error("\u274C Failed to load audience:",r),this.error="Failed to load audience data",this.loading=!1,this.paginationLoading=!1}})}onSearchChange(t){this.searchSubject$.next(t)}filterMembers(){this.currentPage=1,this.paginationCache.clear(),this.loadAudienceData()}refreshData(){console.log("\u{1F504} Refreshing audience data..."),this.paginationCache.clear(),this.currentPage=1,this.loadAudienceData()}onPageChange(t){console.log("\u{1F4C4} Page changed:",t),this.currentPage=t.page,this.pageSize=t.pageSize,this.loadAudienceData(!0)}toggleAddForm(){this.showAddForm=!this.showAddForm,this.showAddForm||(this.newSubscriber={email:"",firstName:"",lastName:""})}addSubscriber(){if(!this.organizationId||!this.newSubscriber.email)return;let t={email:this.newSubscriber.email,firstName:this.newSubscriber.firstName||"",lastName:this.newSubscriber.lastName||"",status:"subscribed",joinedAt:new Date().toISOString()};this.audienceMembers.unshift(t),this.filteredMembers=[...this.audienceMembers],this.totalSubscribers++,this.totalItems++;let e=pi({},this.newSubscriber);this.showAddForm=!1,this.newSubscriber={email:"",firstName:"",lastName:""},this.paginationCache.clear(),this.orgService.addSubscriber(this.organizationId,e).pipe(hn(this.destroy$)).subscribe({next:i=>{if(console.log("\u2705 Subscriber added:",i),i.member){let r=this.audienceMembers.findIndex(a=>a.email===t.email);r!==-1&&(this.audienceMembers[r]=i.member,this.filteredMembers=[...this.audienceMembers])}},error:i=>{console.error("\u274C Failed to add subscriber:",i),this.audienceMembers=this.audienceMembers.filter(r=>r.email!==t.email),this.filteredMembers=[...this.audienceMembers],this.totalSubscribers--,this.totalItems--,alert("Failed to add subscriber: "+(i.error?.message||i.message))}})}deleteSubscriber(t){if(!this.organizationId||!confirm(`Are you sure you want to unsubscribe ${t}?`))return;let e=this.audienceMembers.find(i=>i.email===t);e&&(this.audienceMembers=this.audienceMembers.filter(i=>i.email!==t),this.filteredMembers=[...this.audienceMembers],this.totalSubscribers--,this.totalItems--,this.paginationCache.clear(),this.orgService.deleteSubscriber(this.organizationId,t,!1).pipe(hn(this.destroy$)).subscribe({next:()=>{console.log("\u2705 Subscriber removed")},error:i=>{console.error("\u274C Failed to remove subscriber:",i),this.audienceMembers.push(e),this.filteredMembers=[...this.audienceMembers],this.totalSubscribers++,this.totalItems++,alert("Failed to delete subscriber: "+(i.error?.message||i.message))}}))}editSubscriber(t){console.log("\u{1F4DD} Edit subscriber:",t.email);let e=prompt("Enter first name:",t.firstName||""),i=prompt("Enter last name:",t.lastName||"");if(e===null&&i===null||!this.organizationId)return;let r={};e!==null&&(r.firstName=e),i!==null&&(r.lastName=i);let a=pi({},t),s=this.audienceMembers.findIndex(l=>l.email===t.email);s!==-1&&(e!==null&&(this.audienceMembers[s].firstName=e),i!==null&&(this.audienceMembers[s].lastName=i),this.filteredMembers=[...this.audienceMembers]),this.paginationCache.clear(),this.orgService.updateSubscriber(this.organizationId,t.email,r).pipe(hn(this.destroy$)).subscribe({next:l=>{console.log("\u2705 Subscriber updated:",l),l.member&&s!==-1&&(this.audienceMembers[s]=l.member,this.filteredMembers=[...this.audienceMembers])},error:l=>{console.error("\u274C Failed to update subscriber:",l),s!==-1&&(this.audienceMembers[s]=a,this.filteredMembers=[...this.audienceMembers]),alert("Failed to update subscriber: "+(l.error?.message||l.message))}})}onFileSelected(t){let e=t.target.files[0];if(!e)return;let i=new FileReader;i.onload=r=>{let a=r.target.result;this.parseCsvAndImport(a)},i.readAsText(e)}parseCsvAndImport(t){let e=t.split(`
`),i=[];for(let r=1;r<e.length;r++){let a=e[r].trim();if(!a)continue;let[s,l,c]=a.split(",").map(u=>u.trim());s&&i.push({email:s,firstName:l||"",lastName:c||""})}if(i.length===0){alert("No valid subscribers found in CSV");return}this.organizationId&&(this.loading=!0,this.paginationCache.clear(),this.orgService.bulkImportSubscribers(this.organizationId,i).pipe(hn(this.destroy$)).subscribe({next:r=>{console.log("\u2705 Bulk import complete:",r),alert(`Added ${r.addedCount} subscribers, ${r.errorCount} errors`),this.loadAudienceData()},error:r=>{console.error("\u274C Failed to import:",r),this.loading=!1}}))}goBack(){this.router.navigate(["/organization"])}getStatusColor(t){switch(t){case"subscribed":return"primary";case"unsubscribed":return"warn";case"cleaned":return"accent";default:return""}}formatDate(t){return t?new Date(t).toLocaleDateString():"N/A"}getStatusCount(t){return t==="all"?this.audienceMembers.length:this.audienceMembers.filter(e=>e.status===t).length}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-audience-list-page"]],standalone:!0,features:[cn],decls:8,vars:3,consts:[["fileInput",""],["menu","matMenu"],[1,"audience-page-wrapper"],[1,"page-background"],[1,"gradient-orb","orb-1"],[1,"gradient-orb","orb-2"],[1,"gradient-orb","orb-3"],["class","loading-container glass-card",4,"ngIf"],["class","error-container glass-card",4,"ngIf"],["class","audience-content",4,"ngIf"],[1,"loading-container","glass-card"],[1,"loading-content"],["diameter","60","color","primary"],[1,"loading-text"],[1,"error-container","glass-card"],[1,"error-content"],[1,"error-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"modern-btn","primary-btn",3,"click"],["d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"audience-content"],[1,"page-header","glass-card"],[1,"header-content"],[1,"header-left"],["matTooltip","Back to Dashboard",1,"back-btn",3,"click"],[1,"header-title-section"],[1,"header-icon"],["d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"header-text"],[1,"subtitle"],[1,"header-actions"],["mat-icon-button","","matTooltip","Refresh data",1,"refresh-button",3,"click","disabled"],["d","M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"],[1,"modern-btn","accent-btn",3,"click"],["d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],["type","file","accept",".csv",2,"display","none",3,"change"],[1,"total-badge"],["d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"badge-count"],[1,"badge-label"],[1,"stats-grid"],[1,"stat-card","glass-card","subscribed-card"],[1,"stat-icon"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","glass-card","cleaned-card"],["d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"stat-card","glass-card","unsubscribed-card"],["d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"],["class","add-form-container glass-card",4,"ngIf"],[1,"filters-section","glass-card"],[1,"filter-group"],[1,"filter-field","search-filter"],[1,"filter-label"],["d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search by email or name...",1,"filter-input",3,"ngModelChange","ngModel"],[1,"filter-field","status-filter"],["d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],["appearance","outline",1,"custom-mat-select"],["panelClass","custom-select-panel",3,"ngModelChange","selectionChange","ngModel"],["value","all"],[1,"option-content"],["d","M4 6h16M4 12h16M4 18h16"],["value","subscribed"],["value","unsubscribed"],["value","cleaned"],[1,"filter-results"],[1,"results-text"],[1,"subscribers-table-container","glass-card"],[1,"table-header"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],[1,"section-title"],[1,"title-underline"],[1,"table-content"],["class","empty-state",4,"ngIf"],["class","responsive-table",4,"ngIf"],[3,"totalItems","currentPage","pageSize","loading","config","pageChange",4,"ngIf"],[1,"add-form-container","glass-card"],[1,"form-header"],[1,"form-content"],[1,"form-grid"],[1,"form-field"],[1,"field-label"],[1,"input-wrapper"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"input-icon"],["d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["type","email","placeholder","subscriber@example.com","required","",1,"modern-input",3,"ngModelChange","ngModel"],["d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["type","text","placeholder","John",1,"modern-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Doe",1,"modern-input",3,"ngModelChange","ngModel"],[1,"form-actions"],[1,"modern-btn","secondary-btn",3,"click"],["d","M6 18L18 6M6 6l12 12"],[1,"modern-btn","primary-btn",3,"click","disabled"],["d","M12 4v16m8-8H4"],[1,"empty-state"],[1,"empty-icon"],["d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"],[1,"responsive-table"],[1,"modern-table"],[1,"th-content"],["d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],["data-label","Email"],[1,"email-cell"],[1,"avatar"],[1,"email-text"],["data-label","Name"],[1,"name-text"],["data-label","Status"],[1,"status-badge",3,"ngClass"],[1,"status-dot"],["data-label","Joined"],[1,"date-text"],["data-label","Actions"],[1,"action-btn",3,"matMenuTriggerFor"],["d","M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"],[1,"modern-menu"],["mat-menu-item","",3,"click"],["d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["mat-menu-item","",1,"delete-item",3,"click"],["d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[3,"pageChange","totalItems","currentPage","pageSize","loading","config"]],template:function(e,i){e&1&&(x(0,"div",2)(1,"div",3),vt(2,"div",4)(3,"div",5)(4,"div",6),P(),It(5,mX,5,0,"div",7)(6,vX,13,1,"div",8)(7,OX,122,13,"div",9),P()),e&2&&(j(5),tt("ngIf",i.loading),j(),tt("ngIf",i.error&&!i.loading),j(),tt("ngIf",!i.loading&&!i.error))},dependencies:[Tn,na,kr,qn,eb,Ir,bo,Co,yb,xo,td,yf,cr,Oo,Mi,Pi,Oi,lr,ws,oa,ra,ml,Po,xc,Ss,ch,lh,bc,la,aa,Oc,sa,dh],styles:["[_nghost-%COMP%]{display:block;min-height:calc(100vh - 70px);--primary-purple: #6d28d9;--accent-pink: #ec4899;--success-green: #10b981;--warning-orange: #f59e0b;--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--gradient-warning: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);--gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--glass-white: rgba(255, 255, 255, .9);--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px}.audience-page-wrapper[_ngcontent-%COMP%]{position:relative;min-height:calc(100vh - 70px);padding:2rem;background:linear-gradient(135deg,#f8fafc,#e2e8f0)}.page-background[_ngcontent-%COMP%]{position:fixed;inset:70px 0 0;z-index:-1;background:linear-gradient(135deg,#f8fafc,#e2e8f0);pointer-events:none}.gradient-orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.4;animation:_ngcontent-%COMP%_float-orb 20s ease-in-out infinite}.orb-1[_ngcontent-%COMP%]{width:400px;height:400px;background:radial-gradient(circle,rgba(139,92,246,.4) 0%,transparent 70%);top:-100px;left:-100px}.orb-2[_ngcontent-%COMP%]{width:500px;height:500px;background:radial-gradient(circle,rgba(236,72,153,.3) 0%,transparent 70%);top:40%;right:-150px;animation-delay:-7s}.orb-3[_ngcontent-%COMP%]{width:450px;height:450px;background:radial-gradient(circle,rgba(59,130,246,.35) 0%,transparent 70%);bottom:-100px;left:30%;animation-delay:-14s}@keyframes _ngcontent-%COMP%_float-orb{0%,to{transform:translate(0) scale(1)}33%{transform:translate(30px,-30px) scale(1.1)}66%{transform:translate(-20px,20px) scale(.9)}}.audience-content[_ngcontent-%COMP%]{position:relative;z-index:1;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem;padding:2rem;background:var(--glass-white);border-radius:var(--radius-xl);box-shadow:0 10px 40px #00000014;border:1px solid rgba(255,255,255,.8)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1.5rem;flex-wrap:wrap}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex:1}.page-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:#fff;border:2px solid #e2e8f0;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.page-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke:#64748b}.page-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:var(--primary-purple);border-color:var(--primary-purple)}.page-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{stroke:#fff}.page-header[_ngcontent-%COMP%]   .header-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.page-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:var(--gradient-primary);display:flex;align-items:center;justify-content:center;flex-shrink:0}.page-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;stroke:#fff}.page-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1e293b;margin:0 0 .25rem}.page-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;margin:0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{background:var(--glass-white);border:1px solid var(--glass-border);border-radius:var(--radius-md);box-shadow:var(--glass-shadow);transition:all var(--transition-fast)}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff;transform:translateY(-2px);box-shadow:0 12px 40px #0000001f}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:var(--primary-purple);animation:spin .5s ease-in-out}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;padding:.875rem 1.5rem;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;cursor:pointer;transition:all .3s ease;border:none;white-space:nowrap}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke:currentColor}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 12px #6d28d94d}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #6d28d966}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-btn.accent-btn[_ngcontent-%COMP%]{background:var(--gradient-success);color:#fff;box-shadow:0 4px 12px #4facfe4d}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-btn.accent-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #4facfe66}.total-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.875rem 1.5rem;background:linear-gradient(135deg,#e0e7ff,#ddd6fe);border-radius:var(--radius-md)}.total-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke:var(--primary-purple)}.total-badge[_ngcontent-%COMP%]   .badge-count[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--primary-purple);line-height:1}.total-badge[_ngcontent-%COMP%]   .badge-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:var(--glass-white);border-radius:var(--radius-lg);padding:2rem;box-shadow:0 10px 40px #00000014;border:1px solid rgba(255,255,255,.8);transition:all .3s ease;display:flex;align-items:center;gap:1.5rem}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 60px #0000001f}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px;stroke:#fff}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;margin:0 0 .5rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1e293b;margin:0;line-height:1}.subscribed-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--gradient-success)}.cleaned-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--gradient-warning)}.unsubscribed-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--gradient-accent)}.glass-card[_ngcontent-%COMP%]{background:var(--glass-white);border-radius:var(--radius-xl);box-shadow:0 10px 40px #00000014;border:1px solid rgba(255,255,255,.8)}.add-form-container[_ngcontent-%COMP%]{padding:2rem;margin-bottom:2rem}.add-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:2rem}.add-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;background:var(--gradient-success);display:flex;align-items:center;justify-content:center}.add-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px;stroke:#fff}.add-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1e293b;margin:0}.add-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .title-underline[_ngcontent-%COMP%]{flex:1;height:2px;background:linear-gradient(90deg,#e2e8f0 0%,transparent 100%);margin-left:1rem}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:1.5rem}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#475569;margin-bottom:.5rem}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);width:18px;height:18px;stroke:#94a3b8;pointer-events:none}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem .875rem 3rem;border:2px solid #e2e8f0;border-radius:var(--radius-md);font-size:.9375rem;transition:all .2s ease;background:#fff}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-purple);box-shadow:0 0 0 3px #6d28d91a}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;padding-top:1rem;border-top:2px solid #e2e8f0}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;padding:.875rem 1.75rem;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;cursor:pointer;transition:all .3s ease;border:none}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke:currentColor}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 12px #6d28d94d}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #6d28d966}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn.secondary-btn[_ngcontent-%COMP%]{background:#fff;color:#64748b;border:2px solid #e2e8f0}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn.secondary-btn[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;background:#f8fafc}.filters-section[_ngcontent-%COMP%]{padding:1.5rem 2rem;margin-bottom:2rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr auto;gap:1rem;align-items:flex-end}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{grid-template-columns:1fr}}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600;color:#475569;margin-bottom:.5rem}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke:#64748b}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e2e8f0;border-radius:var(--radius-md);font-size:.9375rem;font-weight:500;color:#334155;transition:all .2s ease;background:#fff;box-shadow:0 2px 8px #0000000a;height:52px}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-purple);box-shadow:0 0 0 3px #6d28d91a,0 4px 12px #00000014}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]{width:100%}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{padding:0}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-bottom-align{display:none}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-hint-wrapper, .filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-error-wrapper{display:none}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-flex{background:#fff;border-radius:var(--radius-md);border:2px solid #e2e8f0;box-shadow:0 2px 8px #0000000a;transition:all .2s ease;height:52px;align-items:center}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:.875rem 1rem;min-height:unset;padding-top:0;padding-bottom:0;border-top:none}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-value{font-size:.9375rem;font-weight:500;color:#334155}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-arrow-wrapper{transform:translateY(0)}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:6px solid #6d28d9;border-bottom:0;margin:0 4px}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mdc-notched-outline{display:none}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]    :hover .mat-mdc-form-field-flex{border-color:#cbd5e1;box-shadow:0 4px 12px #00000014}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-focused .mat-mdc-form-field-flex{border-color:var(--primary-purple);box-shadow:0 0 0 3px #6d28d91a,0 4px 12px #00000014}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-focused .mat-mdc-select-arrow{border-top-color:var(--primary-purple);transform:rotate(180deg)}.filters-section[_ngcontent-%COMP%]   .filter-results[_ngcontent-%COMP%]{display:flex;align-items:flex-end;padding-bottom:.875rem}.filters-section[_ngcontent-%COMP%]   .filter-results[_ngcontent-%COMP%]   .results-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b}  .custom-select-panel{margin-top:.5rem;border-radius:var(--radius-md)!important;box-shadow:0 10px 40px #00000026!important;border:2px solid #e2e8f0;overflow:hidden}  .custom-select-panel .mat-mdc-option{min-height:48px;padding:.75rem 1rem;font-size:.9375rem}  .custom-select-panel .mat-mdc-option .option-content{display:flex;align-items:center;gap:.75rem}  .custom-select-panel .mat-mdc-option .option-content svg{width:18px;height:18px;stroke:#64748b;flex-shrink:0}  .custom-select-panel .mat-mdc-option .option-content span{color:#334155;font-weight:500}  .custom-select-panel .mat-mdc-option:hover{background:#f8fafc}  .custom-select-panel .mat-mdc-option:hover .option-content svg{stroke:var(--primary-purple)}  .custom-select-panel .mat-mdc-option:hover .option-content span{color:var(--primary-purple)}  .custom-select-panel .mat-mdc-option.mat-mdc-option-active{background:linear-gradient(135deg,#f3f4f6,#e5e7eb)}  .custom-select-panel .mat-mdc-option.mdc-list-item--selected{background:linear-gradient(135deg,#e0e7ff,#ddd6fe)}  .custom-select-panel .mat-mdc-option.mdc-list-item--selected .option-content svg{stroke:var(--primary-purple)}  .custom-select-panel .mat-mdc-option.mdc-list-item--selected .option-content span{color:var(--primary-purple);font-weight:600}  .custom-select-panel .mat-mdc-option.mdc-list-item--selected:hover{background:linear-gradient(135deg,#ddd6fe,#c7d2fe)}  .custom-select-panel .mat-mdc-optgroup-label,   .custom-select-panel .mat-mdc-option-pseudo-checkbox{display:none}.subscribers-table-container[_ngcontent-%COMP%]{padding:2rem;margin-bottom:2rem}.subscribers-table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:2rem}.subscribers-table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;background:var(--gradient-primary);display:flex;align-items:center;justify-content:center}.subscribers-table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px;stroke:#fff}.subscribers-table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1e293b;margin:0}.subscribers-table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .title-underline[_ngcontent-%COMP%]{flex:1;height:2px;background:linear-gradient(90deg,#e2e8f0 0%,transparent 100%);margin-left:1rem}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 1.5rem;border-radius:50%;background:linear-gradient(135deg,#f1f5f9,#e2e8f0);display:flex;align-items:center;justify-content:center}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:50px;height:50px;stroke:#cbd5e1}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#475569;margin:0 0 .5rem}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:.9375rem;margin:0}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]{min-height:400px;max-height:600px;overflow-y:auto;overflow-x:auto;position:relative;scrollbar-width:thin;scrollbar-color:#8b5cf6 #f1f5f9}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#8b5cf6,#a855f7);border-radius:4px;transition:background .2s ease}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#7c3aed,#9333ea)}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#f8fafc}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;text-align:left;font-weight:600;font-size:.875rem;color:#475569;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid #e2e8f0;white-space:nowrap;background:#f8fafc}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:var(--radius-md)}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:var(--radius-md)}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .th-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .th-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke:#64748b}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]{background:#fff;transition:background-color .2s ease;border-bottom:1px solid #f1f5f9}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]:hover{background:#f8fafc}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;color:#334155;font-size:.9375rem}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .email-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .email-cell[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:var(--gradient-primary);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:.875rem;flex-shrink:0}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .email-cell[_ngcontent-%COMP%]   .email-text[_ngcontent-%COMP%]{font-weight:500;color:#1e293b}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .name-text[_ngcontent-%COMP%]{color:#64748b}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .date-text[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;background:#64748b1a}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke:#64748b}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#64748b33}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:50px;font-size:.8125rem;font-weight:600}.status-badge[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%}.status-badge.status-subscribed[_ngcontent-%COMP%]{background:#10b9811a;color:#059669}.status-badge.status-subscribed[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981}.status-badge.status-unsubscribed[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.status-badge.status-unsubscribed[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#ef4444}.status-badge.status-cleaned[_ngcontent-%COMP%]{background:#f59e0b1a;color:#d97706}.status-badge.status-cleaned[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#f59e0b}.loading-container[_ngcontent-%COMP%]{padding:4rem 2rem;text-align:center}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem}.loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{font-size:1.125rem;color:#64748b;font-weight:500}.error-container[_ngcontent-%COMP%]{padding:3rem 2rem}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{text-align:center;max-width:500px;margin:0 auto}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 1.5rem;border-radius:50%;background:linear-gradient(135deg,#fee2e2,#fecaca);display:flex;align-items:center;justify-content:center}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;stroke:#dc2626}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0 0 1.5rem}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.875rem 1.75rem;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;cursor:pointer;transition:all .3s ease;border:none}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 12px #6d28d94d}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #6d28d966}@media (max-width: 992px){.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.modern-table[_ngcontent-%COMP%]{font-size:.875rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 768px){.audience-page-wrapper[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]{padding:1.5rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{width:100%;flex-direction:column;align-items:flex-start}.page-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.page-header[_ngcontent-%COMP%]   .total-badge[_ngcontent-%COMP%]{width:100%;justify-content:center}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-card[_ngcontent-%COMP%]{padding:1.5rem}.action-buttons[_ngcontent-%COMP%]{padding:1.5rem;flex-direction:column}.action-buttons[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.filters-section[_ngcontent-%COMP%]{padding:1.5rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.add-form-container[_ngcontent-%COMP%], .subscribers-table-container[_ngcontent-%COMP%]{padding:1.5rem}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{width:100%}.responsive-table[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.responsive-table[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;border-radius:var(--radius-md);border:1px solid #e2e8f0;box-shadow:0 2px 8px #0000000f}.responsive-table[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]:hover{transform:none}.responsive-table[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;padding:.875rem 1rem;border-bottom:1px solid #f1f5f9}.responsive-table[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:none}.responsive-table[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;color:#64748b;font-size:.8125rem;text-transform:uppercase;letter-spacing:.5px;display:block;margin-bottom:.5rem}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem}.stat-card[_ngcontent-%COMP%]{padding:1.25rem}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem}.action-buttons[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%], .add-form-container[_ngcontent-%COMP%], .subscribers-table-container[_ngcontent-%COMP%]{padding:1.25rem}}  .modern-menu .mat-mdc-menu-content{padding:.5rem;background:#fff;border-radius:var(--radius-md);box-shadow:0 10px 40px #00000026}  .modern-menu .mat-mdc-menu-item{border-radius:8px;margin-bottom:.25rem;min-height:40px;display:flex;align-items:center;gap:.75rem;padding:.5rem 1rem}  .modern-menu .mat-mdc-menu-item:last-child{margin-bottom:0}  .modern-menu .mat-mdc-menu-item svg{width:18px;height:18px;stroke:#64748b}  .modern-menu .mat-mdc-menu-item span{color:#334155;font-size:.9375rem;font-weight:500}  .modern-menu .mat-mdc-menu-item:hover{background:#f8fafc}  .modern-menu .mat-mdc-menu-item.delete-item svg{stroke:#ef4444}  .modern-menu .mat-mdc-menu-item.delete-item span{color:#ef4444}  .modern-menu .mat-mdc-menu-item.delete-item:hover{background:#ef44441a}app-pagination[_ngcontent-%COMP%]{margin-top:2rem;display:block;animation:_ngcontent-%COMP%_fadeInUp .6s ease;animation-delay:.4s;animation-fill-mode:backwards}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}}return o})();var p4=[{path:"auth",component:HC},{path:"auth/callback",component:BC},{path:"auth/pending",component:UC},{path:"generate/:conversationId",component:KC,canActivate:[So],canDeactivate:[sP]},{path:"admin",loadComponent:()=>import("./chunk-T36UNK2W.js").then(o=>o.AdminDashboardComponent),canActivate:[So,qC],runGuardsAndResolvers:"always"},{path:"organization",component:bP,canActivate:[So]},{path:"organization/campaigns/:id",component:d4,canActivate:[So]},{path:"organization/audience",component:u4,canActivate:[So]},{path:"",component:VC,canActivate:[So]},{path:"qa/:id",component:jC,canActivate:[So],canDeactivate:[M1]},{path:"qa/:id/use/:runId/:no",loadComponent:()=>import("./chunk-O3MNUSLW.js").then(o=>o.UseVariantPageComponent),canActivate:[So],canDeactivate:[M1]},{path:"qa/:id/use/:runId/:no/campaign",loadComponent:()=>import("./chunk-Y6KAQKKD.js").then(o=>o.CampaignSetupPageComponent),canActivate:[So]},{path:"visual-editor",component:cv,canActivate:[So]},{path:"visual-editor/:id",component:cv,canActivate:[So]},{path:"**",redirectTo:""}];var f4=(o,n)=>{let t=be(hi),e=be(jn),i=o.clone({withCredentials:!0});return n(i).pipe(vs(r=>{if(r.status===401)return o.url.includes("/api/auth/refresh")||o.url.includes("/api/auth/logout")||o.url.includes("/api/auth/google")?(console.warn("\u{1F6AB} Auth endpoint failed:",o.url),Zd(()=>r)):(console.log("\u{1F504} [AUTH INTERCEPTOR] 401 received, attempting token refresh..."),t.attemptTokenRefresh().pipe(eu(()=>(console.log("\u2705 [AUTH INTERCEPTOR] Token refreshed, retrying original request"),n(i))),vs(a=>{console.error("\u274C [AUTH INTERCEPTOR] Token refresh failed, forcing logout");let s=a.error?.code||"",l=a.error?.error||"Session expired",c="session_expired";return s==="USER_INACTIVE"?c="account_deactivated":s==="USER_NOT_APPROVED"?c="pending_approval":(s==="NO_REFRESH_TOKEN"||s==="INVALID_REFRESH_TOKEN")&&(c="session_expired"),t.handleAuthFailure(c),Zd(()=>new Error(l))})));if(r.status===403){let a=r.error?.error||"",s=r.error?.code||"";return(s==="USER_INACTIVE"||s==="USER_NOT_APPROVED"||a.includes("deactivated")||a.includes("pending approval")||a.includes("Access denied"))&&!e.url.startsWith("/auth")&&t.logout().subscribe({next:()=>{let c=s==="USER_INACTIVE"||a.includes("deactivated")?"account_deactivated":a.includes("pending")?"pending_approval":"access_denied";e.navigate(["/auth"],{queryParams:{error:c},replaceUrl:!0})},error:c=>{e.navigate(["/auth"],{queryParams:{error:"access_denied"},replaceUrl:!0})}}),Zd(()=>r)}return r.status>=500,Zd(()=>r)}))};var Cd=(()=>{class o{constructor(t){this.db=t,this.MAX_CACHE_SIZE_MB=50,this.WARNING_THRESHOLD_PERCENT=80,this.MONITORING_INTERVAL_MS=3*60*60*1e3}checkStorageQuota(){return gn(this,null,function*(){try{if("storage"in navigator&&"estimate"in navigator.storage){let t=yield navigator.storage.estimate(),e=t.usage||0,i=t.quota||0,r=i>0?e/i*100:0,a="healthy";return r>90?a="critical":r>this.WARNING_THRESHOLD_PERCENT&&(a="warning"),a==="critical"&&(yield this.emergencyCleanup()),{used:e,total:i,percentage:r,status:a}}return{used:0,total:0,percentage:0,status:"healthy"}}catch{return{used:0,total:0,percentage:0,status:"healthy"}}})}checkCacheHealth(){return gn(this,null,function*(){try{let t=yield this.db.getCacheStats(),e=[],i=!0;return t.estimatedSizeMB>this.MAX_CACHE_SIZE_MB&&(e.push(`Cache size (${t.estimatedSizeMB}MB) exceeds limit (${this.MAX_CACHE_SIZE_MB}MB)`),i=!1),t.templateCount>40&&e.push(`High template count: ${t.templateCount}`),t.conversationCount>80&&e.push(`High conversation count: ${t.conversationCount}`),e.length>0,{stats:t,isHealthy:i,warnings:e}}catch{return{stats:null,isHealthy:!1,warnings:["Failed to check cache health"]}}})}emergencyCleanup(){return gn(this,null,function*(){try{let e=(yield this.db.templates.orderBy("timestamp").reverse().toArray()).slice(10);for(let a of e)yield this.db.templates.delete(a.id);let r=(yield this.db.conversations.orderBy("timestamp").reverse().toArray()).slice(20);for(let a of r)yield this.db.conversations.delete(a.runId);yield this.db.cleanExpiredData()}catch{}})}periodicCleanup(){return gn(this,null,function*(){try{yield this.db.cleanExpiredData(),(yield this.checkCacheHealth()).isHealthy||(yield this.db.cleanOldestTemplates(10),yield this.db.cleanOldestConversations(20))}catch{}})}displayStats(){return gn(this,null,function*(){yield this.db.logCacheStats();let t=yield this.checkStorageQuota();!(yield this.checkCacheHealth()).isHealthy||t.status})}startMonitoring(){return gn(this,null,function*(){yield this.periodicCleanup(),yield this.checkStorageQuota(),Hy(this.MONITORING_INTERVAL_MS).subscribe(()=>gn(this,null,function*(){yield this.periodicCleanup(),yield this.checkStorageQuota()}))})}static{this.\u0275fac=function(e){return new(e||o)(mc(Aa))}}static{this.\u0275prov=yo({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function wX(o){return()=>o.checkAuthStatus()}var g4={providers:[Zy({eventCoalescing:!0}),cb(p4,db()),nb(ib([f4])),zC(),{provide:Aa,useValue:new Aa},Cd,{provide:Jy,useFactory:wX,deps:[hi],multi:!0}]};var SX=["*",[["mat-toolbar-row"]]],TX=["*","mat-toolbar-row"],EX=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275dir=Ta({type:o,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return o})(),h4=(()=>{class o{constructor(t,e,i){this._elementRef=t,this._platform=e,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(e){return new(e||o)(pn(Ea),pn(bb),pn(cf))}}static{this.\u0275cmp=ln({type:o,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(e&1&&bs(r,EX,5),e&2){let a;Ki(a=qi())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(e,i){e&2&&(vc(i.color?"mat-"+i.color:""),De("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[cn],ngContentSelectors:TX,decls:2,vars:0,template:function(e,i){e&1&&(fl(SX),Go(0),Go(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return o})();var m4=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=Uo({type:o})}static{this.\u0275inj=Bo({imports:[Dr,Dr]})}}return o})();var v4=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=Uo({type:o})}static{this.\u0275inj=Bo({imports:[Pb,Dr,Dr]})}}return o})();function AX(o,n){o&1&&vt(0,"div",2)}var IX=new ea("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var y4=(()=>{class o{constructor(t,e,i,r,a){this._elementRef=t,this._ngZone=e,this._changeDetectorRef=i,this._animationMode=r,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new nr,this._mode="determinate",this._transitionendHandler=s=>{this.animationEnd.observers.length===0||!s.target||!s.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=r==="NoopAnimations",a&&(a.color&&(this.color=this._defaultColor=a.color),this.mode=a.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(t){this._color=t}get value(){return this._value}set value(t){this._value=_4(t||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=_4(t||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}static{this.\u0275fac=function(e){return new(e||o)(pn(Ea),pn(ka),pn($i),pn(iu,8),pn(IX,8))}}static{this.\u0275cmp=ln({type:o,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(e,i){e&2&&(fi("aria-valuenow",i._isIndeterminate()?null:i.value)("mode",i.mode),vc("mat-"+i.color),De("_mat-animation-noopable",i._isNoopAnimation)("mdc-linear-progress--animation-ready",!i._isNoopAnimation)("mdc-linear-progress--indeterminate",i._isIndeterminate()))},inputs:{color:"color",value:[sr.HasDecoratorInputTransform,"value","value",_c],bufferValue:[sr.HasDecoratorInputTransform,"bufferValue","bufferValue",_c],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[ou,cn],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(e,i){e&1&&(x(0,"div",0),vt(1,"div",1),It(2,AX,1,0,"div",2),P(),x(3,"div",3),vt(4,"span",4),P(),x(5,"div",5),vt(6,"span",4),P()),e&2&&(j(),Vi("flex-basis",i._getBufferBarFlexBasis()),j(),au(2,i.mode==="buffer"?2:-1),j(),Vi("transform",i._getPrimaryBarTransform()))},styles:[`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}`],encapsulation:2,changeDetection:0})}}return o})();function _4(o,n=0,t=100){return Math.max(n,Math.min(t,o))}var b4=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=Uo({type:o})}static{this.\u0275inj=Bo({imports:[Dr]})}}return o})();function LX(o,n){if(o&1&&(x(0,"div",12)(1,"div",13)(2,"div",14)(3,"mat-icon"),I(4),P(),x(5,"h3"),I(6,"Cache Health"),P()(),x(7,"div",15),I(8),P(),x(9,"p",16),I(10),P()(),x(11,"div",17)(12,"div",14)(13,"mat-icon"),I(14,"storage"),P(),x(15,"h3"),I(16,"Browser Storage"),P()(),x(17,"div",18)(18,"div",19)(19,"span",20),I(20,"Used Storage"),P(),x(21,"span",21),I(22),P()(),vt(23,"mat-progress-bar",22),x(24,"div",23),I(25),P()(),x(26,"div",24)(27,"mat-icon",25),I(28,"info"),P(),x(29,"span"),I(30,"Browser allocates storage dynamically. Typical limit: 50-500 MB"),P()()(),x(31,"div",26)(32,"div",27)(33,"div",28)(34,"mat-icon"),I(35,"article"),P()(),x(36,"div",29)(37,"div",30),I(38,"Cached Templates"),P(),x(39,"div",31),I(40),P(),x(41,"div",32),vt(42,"div",33),P(),x(43,"div",34),I(44),P()()(),x(45,"div",27)(46,"div",28)(47,"mat-icon"),I(48,"chat"),P()(),x(49,"div",29)(50,"div",30),I(51,"Conversations"),P(),x(52,"div",31),I(53),P(),x(54,"div",32),vt(55,"div",33),P(),x(56,"div",34),I(57),P()()(),x(58,"div",27)(59,"div",28)(60,"mat-icon"),I(61,"link"),P()(),x(62,"div",29)(63,"div",30),I(64,"Valid Links"),P(),x(65,"div",31),I(66),P(),x(67,"div",32),vt(68,"div",33),P(),x(69,"div",34),I(70," Link validation cache "),P()()(),x(71,"div",27)(72,"div",28)(73,"mat-icon"),I(74,"data_usage"),P()(),x(75,"div",29)(76,"div",30),I(77,"Cache Size"),P(),x(78,"div",31),I(79),P(),x(80,"div",32),vt(81,"div",33),P(),x(82,"div",34),I(83),P()()()(),x(84,"div",35)(85,"div",14)(86,"mat-icon"),I(87,"schedule"),P(),x(88,"h3"),I(89,"Cache Lifecycle"),P()(),x(90,"div",36)(91,"div",37)(92,"div",38)(93,"mat-icon"),I(94,"add_circle"),P()(),x(95,"div",39)(96,"h4"),I(97,"Created"),P(),x(98,"p"),I(99,"Cache is created automatically when you visit pages and load data"),P()()(),x(100,"div",37)(101,"div",40)(102,"mat-icon"),I(103,"bolt"),P()(),x(104,"div",39)(105,"h4"),I(106,"Active Use"),P(),x(107,"p"),I(108,"Provides instant page loads (10-50ms) instead of API calls (500-1000ms)"),P()()(),x(109,"div",37)(110,"div",41)(111,"mat-icon"),I(112,"schedule"),P()(),x(113,"div",39)(114,"h4"),I(115,"Auto-Deletion"),P(),x(116,"p"),I(117,"Cache expires after "),x(118,"strong"),I(119),P(),I(120," and is automatically cleaned"),P()()(),x(121,"div",37)(122,"div",42)(123,"mat-icon"),I(124,"refresh"),P()(),x(125,"div",39)(126,"h4"),I(127,"Restored"),P(),x(128,"p"),I(129,"Fresh data is fetched from server and cached again for future use"),P()()()()(),x(130,"div",43)(131,"div",14)(132,"mat-icon"),I(133,"lightbulb"),P(),x(134,"h3"),I(135,"Performance Tips"),P()(),x(136,"ul",44)(137,"li")(138,"mat-icon"),I(139,"check_circle"),P(),x(140,"span")(141,"strong"),I(142,"Navigation:"),P(),I(143," Use back/forward buttons for instant page loads"),P()(),x(144,"li")(145,"mat-icon"),I(146,"check_circle"),P(),x(147,"span")(148,"strong"),I(149,"Cache Clear:"),P(),I(150," Only clear when experiencing issues or storage is full"),P()(),x(151,"li")(152,"mat-icon"),I(153,"check_circle"),P(),x(154,"span")(155,"strong"),I(156,"Auto-Cleanup:"),P(),I(157," Old data is cleaned automatically on app startup"),P()(),x(158,"li")(159,"mat-icon"),I(160,"check_circle"),P(),x(161,"span")(162,"strong"),I(163,"Logout:"),P(),I(164," All cache is cleared on logout for security"),P()()()()()),o&2){let t=ct();j(),tt("@slideIn",void 0),j(2),Vi("color",t.cacheHealthColor),j(),Fe(" ",t.cacheHealthStatus==="healthy"?"check_circle":t.cacheHealthStatus==="warning"?"warning":"error"," "),j(3),Vi("color",t.cacheHealthColor),j(),Fe(" ",t.cacheHealthStatus==="healthy"?"\u2728 Excellent":t.cacheHealthStatus==="warning"?"\u26A0\uFE0F Fair":"\u{1F6A8} Needs Attention"," "),j(2),Fe(" ",t.cacheHealthStatus==="healthy"?"Your cache is running smoothly. Enjoy lightning-fast performance! \u26A1":t.cacheHealthStatus==="warning"?"Cache is getting full. Consider clearing old data for optimal performance.":"Cache is critically full! Clear cache to prevent slowdowns."," "),j(),tt("@slideIn",void 0),j(10),Vi("color",t.storageColor),j(),io(" ",t.formatBytes(t.storageQuota.used)," / ",t.formatBytes(t.storageQuota.total)," "),j(),tt("value",t.storagePercentage)("color",t.storagePercentage>90?"warn":t.storagePercentage>70?"accent":"primary"),j(),Vi("color",t.storageColor),j(),Fe(" ",t.storagePercentage.toFixed(1),"% "),j(7),tt("@slideIn",void 0),j(8),Jt(t.cacheStats.templateCount),j(2),Vi("width",t.templatePercentage,"%")("background",t.templatePercentage>80?"#f59e0b":"#6366f1"),j(2),io(" ",t.cacheStats.templateCount," / ",t.MAX_TEMPLATES," max "),j(),tt("@slideIn",void 0),j(8),Jt(t.cacheStats.conversationCount),j(2),Vi("width",t.conversationPercentage,"%")("background",t.conversationPercentage>80?"#f59e0b":"#8b5cf6"),j(2),io(" ",t.cacheStats.conversationCount," / ",t.MAX_CONVERSATIONS," max "),j(),tt("@slideIn",void 0),j(8),Jt(t.cacheStats.validLinksCount),j(2),Vi("width",t.cacheStats.validLinksCount>0?100:0,"%")("background","#10b981"),j(3),tt("@slideIn",void 0),j(8),Fe("",t.cacheStats.estimatedSizeMB.toFixed(2)," MB"),j(2),Vi("width",t.cacheSizePercentage,"%")("background",t.cacheSizePercentage>90?"#ef4444":t.cacheSizePercentage>70?"#f59e0b":"#10b981"),j(2),io(" ",t.cacheStats.estimatedSizeMB.toFixed(2)," / ",t.MAX_CACHE_SIZE_MB," MB max "),j(),tt("@slideIn",void 0),j(35),Fe("",t.CACHE_EXPIRY_DAYS," days"),j(11),tt("@slideIn",void 0)}}function NX(o,n){o&1&&(x(0,"div",45)(1,"mat-icon",46),I(2,"sync"),P(),x(3,"p"),I(4,"Loading performance data..."),P()())}function RX(o,n){if(o&1){let t=fe();x(0,"div",47)(1,"div",48)(2,"mat-icon"),I(3,"info"),P(),x(4,"span"),I(5,"Cache monitoring \u2022 Auto-refresh every 3 hours"),P()(),x(6,"div",49)(7,"button",50),Bt("click",function(){Dt(t);let i=ct();return Lt(i.showClearConfirmation())}),x(8,"mat-icon"),I(9,"delete_sweep"),P(),I(10," Clear Cache "),P(),x(11,"button",51),Bt("click",function(){Dt(t);let i=ct();return Lt(i.close())}),I(12," Done "),P()()()}if(o&2){let t=ct();j(7),tt("disabled",t.isClearing||!t.cacheStats||t.cacheStats.estimatedSizeMB===0)}}function FX(o,n){o&1&&(x(0,"mat-icon"),I(1,"delete_forever"),P())}function zX(o,n){o&1&&(x(0,"mat-icon",46),I(1,"sync"),P())}function VX(o,n){if(o&1){let t=fe();x(0,"div",52)(1,"div",53)(2,"div",54)(3,"mat-icon",55),I(4,"warning"),P(),x(5,"h3"),I(6,"Clear All Cache?"),P()(),x(7,"p",56),I(8," This will delete all cached data including: "),P(),x(9,"ul",57)(10,"li"),I(11),P(),x(12,"li"),I(13),P(),x(14,"li"),I(15),P(),x(16,"li"),I(17),P()(),x(18,"p",58),I(19," \u26A0\uFE0F "),x(20,"strong"),I(21,"Note:"),P(),I(22," Data will be re-fetched from the server on your next visit. This won't delete any data from the server. "),P(),x(23,"div",59)(24,"button",60),Bt("click",function(){Dt(t);let i=ct();return Lt(i.cancelClear())}),I(25," Cancel "),P(),x(26,"button",61),Bt("click",function(){Dt(t);let i=ct();return Lt(i.confirmClearCache())}),It(27,FX,2,0,"mat-icon",62)(28,zX,2,0,"mat-icon",63),I(29),P()()()()}if(o&2){let t=ct();tt("@fadeIn",void 0),j(),tt("@slideIn",void 0),j(10),Fe("\u2022 ",(t.cacheStats==null?null:t.cacheStats.templateCount)||0," cached templates"),j(2),Fe("\u2022 ",(t.cacheStats==null?null:t.cacheStats.conversationCount)||0," conversation threads"),j(2),Fe("\u2022 ",(t.cacheStats==null?null:t.cacheStats.validLinksCount)||0," link validations"),j(2),Fe("\u2022 Total: ",((t.cacheStats==null?null:t.cacheStats.estimatedSizeMB)||0).toFixed(2)," MB"),j(7),tt("disabled",t.isClearing),j(2),tt("disabled",t.isClearing),j(),tt("ngIf",!t.isClearing),j(),tt("ngIf",t.isClearing),j(),Fe(" ",t.isClearing?"Clearing...":"Yes, Clear Cache"," ")}}var C4=(()=>{class o{constructor(t,e,i,r){this.dialogRef=t,this.db=e,this.cacheMonitor=i,this.cdr=r,this.cacheStats=null,this.storageQuota=null,this.showClearWarning=!1,this.isClearing=!1,this.MAX_CACHE_SIZE_MB=250,this.MAX_TEMPLATES=500,this.MAX_CONVERSATIONS=1e3,this.CACHE_EXPIRY_DAYS=30}ngOnInit(){return gn(this,null,function*(){yield this.loadStats(),this.refreshInterval=setInterval(()=>{this.loadStats()},3e4)})}ngOnDestroy(){this.refreshInterval&&clearInterval(this.refreshInterval)}loadStats(){return gn(this,null,function*(){try{this.cacheStats=yield this.db.getCacheStats(),this.storageQuota=yield this.cacheMonitor.checkStorageQuota(),this.cdr.markForCheck()}catch{}})}get cacheHealthStatus(){return this.cacheStats?this.cacheStats.estimatedSizeMB>this.MAX_CACHE_SIZE_MB*.9?"critical":this.cacheStats.estimatedSizeMB>this.MAX_CACHE_SIZE_MB*.7||this.cacheStats.templateCount>this.MAX_TEMPLATES*.8||this.cacheStats.conversationCount>this.MAX_CONVERSATIONS*.8?"warning":"healthy":"healthy"}get cacheHealthColor(){let t=this.cacheHealthStatus;return t==="critical"?"#ef4444":t==="warning"?"#f59e0b":"#10b981"}get storagePercentage(){return this.storageQuota?.percentage||0}get storageColor(){let t=this.storagePercentage;return t>90?"#ef4444":t>70?"#f59e0b":"#10b981"}get templatePercentage(){return this.cacheStats?this.cacheStats.templateCount/this.MAX_TEMPLATES*100:0}get conversationPercentage(){return this.cacheStats?this.cacheStats.conversationCount/this.MAX_CONVERSATIONS*100:0}get cacheSizePercentage(){return this.cacheStats?this.cacheStats.estimatedSizeMB/this.MAX_CACHE_SIZE_MB*100:0}formatBytes(t){return t===0?"0 MB":(t/(1024*1024)).toFixed(2)+" MB"}showClearConfirmation(){this.showClearWarning=!0,this.cdr.markForCheck()}cancelClear(){this.showClearWarning=!1,this.cdr.markForCheck()}confirmClearCache(){return gn(this,null,function*(){this.isClearing=!0,this.cdr.markForCheck();try{yield this.db.clearAllCache(),yield this.loadStats(),this.showClearWarning=!1,this.isClearing=!1,this.cdr.markForCheck()}catch{this.isClearing=!1,this.cdr.markForCheck()}})}close(){this.dialogRef.close()}static{this.\u0275fac=function(e){return new(e||o)(pn(_f),pn(Aa),pn(Cd),pn($i))}}static{this.\u0275cmp=ln({type:o,selectors:[["app-performance-dashboard"]],standalone:!0,features:[cn],decls:18,vars:5,consts:[[1,"performance-dashboard"],[1,"dashboard-header"],[1,"header-content"],[1,"header-icon"],[1,"pulse"],[1,"header-text"],[1,"subtitle"],["mat-icon-button","","matTooltip","Close",1,"close-btn",3,"click"],["class","dashboard-content",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","dashboard-footer",4,"ngIf"],["class","warning-overlay",4,"ngIf"],[1,"dashboard-content"],[1,"health-card"],[1,"card-header"],[1,"health-status"],[1,"health-description"],[1,"stat-card"],[1,"progress-section"],[1,"progress-header"],[1,"progress-label"],[1,"progress-value"],["mode","determinate",3,"value","color"],[1,"progress-percentage"],[1,"info-box"],[1,"info-icon"],[1,"stats-grid"],[1,"metric-card"],[1,"metric-icon"],[1,"metric-content"],[1,"metric-label"],[1,"metric-value"],[1,"metric-bar"],[1,"bar-fill"],[1,"metric-footer"],[1,"lifecycle-card"],[1,"lifecycle-timeline"],[1,"timeline-item"],[1,"timeline-icon","created"],[1,"timeline-content"],[1,"timeline-icon","active"],[1,"timeline-icon","expired"],[1,"timeline-icon","restored"],[1,"tips-card"],[1,"tips-list"],[1,"loading-state"],[1,"spin"],[1,"dashboard-footer"],[1,"footer-info"],[1,"footer-actions"],["mat-stroked-button","","color","warn",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click"],[1,"warning-overlay"],[1,"warning-modal"],[1,"warning-header"],[1,"warning-icon"],[1,"warning-message"],[1,"warning-list"],[1,"warning-note"],[1,"warning-actions"],["mat-stroked-button","",3,"click","disabled"],["mat-raised-button","","color","warn",3,"click","disabled"],[4,"ngIf"],["class","spin",4,"ngIf"]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),I(5,"speed"),P()(),x(6,"div",5)(7,"h2"),I(8,"App Performance"),P(),x(9,"p",6),I(10,"Real-time cache & storage monitoring"),P()()(),x(11,"button",7),Bt("click",function(){return i.close()}),x(12,"mat-icon"),I(13,"close"),P()()(),It(14,LX,165,51,"div",8)(15,NX,5,0,"div",9)(16,RX,13,1,"div",10)(17,VX,30,11,"div",11),P()),e&2&&(tt("@fadeIn",void 0),j(14),tt("ngIf",i.cacheStats&&i.storageQuota),j(),tt("ngIf",!i.cacheStats||!i.storageQuota),j(),tt("ngIf",i.cacheStats&&i.storageQuota),j(),tt("ngIf",i.showClearWarning))},dependencies:[Tn,qn,ml,Oi,ro,lr,Mi,Pi,b4,y4,oa,ra],styles:['.performance-dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;overflow:hidden}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 32px;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.2)}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#fff}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:700;color:#fff;letter-spacing:-.5px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:4px 0 0;font-size:14px;color:#fffc}.dashboard-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#fff}.dashboard-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.dashboard-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px 32px;background:#f8fafc}.dashboard-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.dashboard-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e2e8f0}.dashboard-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.dashboard-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.health-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:32px;border-radius:16px;margin-bottom:24px;box-shadow:0 10px 30px #667eea4d}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600}.health-card[_ngcontent-%COMP%]   .health-status[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin-bottom:12px;text-shadow:0 2px 10px rgba(0,0,0,.2)}.health-card[_ngcontent-%COMP%]   .health-description[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;opacity:.95;margin:0}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;margin-bottom:24px;box-shadow:0 4px 12px #0000000d}.stat-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.stat-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6366f1;font-size:24px;width:24px;height:24px}.stat-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1e293b}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{height:12px;border-radius:6px;margin-bottom:8px}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]     .mdc-linear-progress__bar-inner{border-radius:6px}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-percentage[_ngcontent-%COMP%]{text-align:right;font-size:20px;font-weight:700}.stat-card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{display:flex;align-items:start;gap:8px;margin-top:16px;padding:12px;background:#f1f5f9;border-radius:8px;font-size:13px;color:#64748b}.stat-card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6366f1}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;margin-bottom:24px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.metric-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 12px #0000000d;transition:transform .2s,box-shadow .2s}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0000001a}.metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;color:#6366f1;margin-bottom:12px}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin-bottom:8px}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;margin-bottom:12px}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]{height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden;margin-bottom:8px}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .5s ease,background .3s ease}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-footer[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.lifecycle-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;margin-bottom:24px;box-shadow:0 4px 12px #0000000d}.lifecycle-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:24px}.lifecycle-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6366f1}.lifecycle-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1e293b}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]{position:relative;padding-left:32px}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:10px;top:0;bottom:0;width:2px;background:linear-gradient(180deg,#6366f1,#8b5cf6,#ec4899,#10b981)}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative;padding-bottom:32px}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]{position:absolute;left:-32px;top:0;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:2px solid}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.created[_ngcontent-%COMP%]{border-color:#6366f1}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.created[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6366f1}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.active[_ngcontent-%COMP%]{border-color:#8b5cf6}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#8b5cf6}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.expired[_ngcontent-%COMP%]{border-color:#ec4899}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.expired[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ec4899}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.restored[_ngcontent-%COMP%]{border-color:#10b981}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.restored[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#10b981}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:600;color:#1e293b}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:#64748b}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#6366f1}.tips-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 12px #0000000d}.tips-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.tips-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b}.tips-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1e293b}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:start;gap:12px;padding:12px 0;border-bottom:1px solid #f1f5f9}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#10b981;font-size:20px;width:20px;height:20px;flex-shrink:0}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;color:#475569}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1e293b}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 32px;color:#64748b}.loading-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px;color:#6366f1}.loading-state[_ngcontent-%COMP%]   mat-icon.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0}.dashboard-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 32px;background:#fff;border-top:1px solid #e2e8f0;gap:16px}@media (max-width: 768px){.dashboard-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.dashboard-footer[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#64748b}.dashboard-footer[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6366f1}.dashboard-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:12px}.dashboard-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.warning-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;padding:24px;z-index:1000}.warning-modal[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;max-width:500px;width:100%;box-shadow:0 20px 60px #0000004d}.warning-modal[_ngcontent-%COMP%]   .warning-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:20px}.warning-modal[_ngcontent-%COMP%]   .warning-header[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#f59e0b}.warning-modal[_ngcontent-%COMP%]   .warning-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:#1e293b}.warning-modal[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]{font-size:16px;color:#475569;margin-bottom:16px}.warning-modal[_ngcontent-%COMP%]   .warning-list[_ngcontent-%COMP%]{background:#fef3c7;border-left:4px solid #f59e0b;padding:16px 20px;margin:16px 0;border-radius:8px;list-style:none}.warning-modal[_ngcontent-%COMP%]   .warning-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;color:#92400e;margin-bottom:8px}.warning-modal[_ngcontent-%COMP%]   .warning-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.warning-modal[_ngcontent-%COMP%]   .warning-note[_ngcontent-%COMP%]{font-size:14px;color:#64748b;background:#f8fafc;padding:12px;border-radius:8px;margin-bottom:24px}.warning-modal[_ngcontent-%COMP%]   .warning-note[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f59e0b}.warning-modal[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;flex-direction:row}.warning-modal[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.warning-modal[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-height: 500px) and (orientation: landscape){.dashboard-header[_ngcontent-%COMP%]{padding:12px 20px}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:12px;margin:2px 0 0}.dashboard-content[_ngcontent-%COMP%]{padding:16px 20px}.health-card[_ngcontent-%COMP%]{padding:16px 20px;margin-bottom:16px}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.health-card[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:12px;padding:4px 12px}.info-section[_ngcontent-%COMP%]{padding:12px 16px;font-size:13px}.warning-note[_ngcontent-%COMP%]{font-size:13px;padding:8px 12px;margin-bottom:12px}.warning-actions[_ngcontent-%COMP%]{gap:8px;margin-top:12px;flex-direction:row!important}.warning-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;font-size:13px}}@media (max-height: 400px) and (orientation: landscape){.performance-dashboard[_ngcontent-%COMP%]{max-height:95vh}.dashboard-header[_ngcontent-%COMP%]{padding:8px 16px}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:11px}.dashboard-content[_ngcontent-%COMP%]{padding:12px 16px}.health-card[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:12px}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.warning-note[_ngcontent-%COMP%]{font-size:12px;padding:6px 10px;margin-bottom:8px}.warning-actions[_ngcontent-%COMP%]{gap:6px;flex-direction:row!important}.warning-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}}'],data:{animation:[Jn("fadeIn",[In(":enter",[$e({opacity:0,transform:"translateY(-10px)"}),En("300ms ease-out",$e({opacity:1,transform:"translateY(0)"}))])]),Jn("slideIn",[In(":enter",[$e({transform:"translateX(-20px)",opacity:0}),En("400ms ease-out",$e({transform:"translateX(0)",opacity:1}))])])]},changeDetection:0})}}return o})();function jX(o,n){if(o&1){let t=fe();x(0,"img",58),Bt("error",function(i){Dt(t);let r=ct().ngIf,a=ct();return Lt(a.handleImageError(i,r.name))}),P()}if(o&2){let t=ct().ngIf;tt("src",t.picture,no)("alt",t.name)}}function HX(o,n){if(o&1&&(x(0,"div",59),I(1),P()),o&2){let t=ct().ngIf,e=ct();j(),Fe(" ",e.getInitials(t.name)," ")}}function BX(o,n){if(o&1&&vt(0,"span",60),o&2){let t=n.ngIf;fi("data-count",t)}}function UX(o,n){if(o&1&&(x(0,"span",64),I(1),P()),o&2){let t=n.ngIf;j(),Fe(" ",t," ")}}function GX(o,n){if(o&1){let t=fe();x(0,"button",61),Bt("click",function(){Dt(t);let i=ct(2);return Lt(i.navigateToAdmin())}),x(1,"div",62)(2,"mat-icon"),I(3,"admin_panel_settings"),P()(),x(4,"div",47)(5,"span",48),I(6,"Admin Dashboard"),P(),x(7,"span",49),I(8,"Manage Users"),P()(),It(9,UX,2,1,"span",63),on(10,"async"),P()}if(o&2){let t=ct(2);j(9),tt("ngIf",un(10,1,t.pendingCount$))}}function WX(o,n){o&1&&vt(0,"mat-divider")}function KX(o,n){if(o&1){let t=fe();x(0,"div",34)(1,"button",35,0)(3,"div",36),It(4,jX,1,2,"img",37)(5,HX,2,1,"div",38)(6,BX,1,1,"span",39),on(7,"async"),P(),x(8,"span",40),I(9),P(),x(10,"mat-icon",41),I(11,"expand_more"),P()(),x(12,"mat-menu",42,1),It(14,GX,11,3,"button",43)(15,WX,1,0,"mat-divider",44),x(16,"button",45),Bt("click",function(){Dt(t);let i=ct();return Lt(i.navigateToGenerate())}),x(17,"div",46)(18,"mat-icon"),I(19,"auto_awesome"),P()(),x(20,"div",47)(21,"span",48),I(22,"Generate Template"),P(),x(23,"span",49),I(24,"Create with AI"),P()()(),vt(25,"mat-divider"),x(26,"button",50),Bt("click",function(){Dt(t);let i=ct();return Lt(i.navigateTo("/visual-editor"))}),x(27,"div",51)(28,"mat-icon"),I(29,"design_services"),P()(),x(30,"div",47)(31,"span",48),I(32,"Visual Editor"),P(),x(33,"span",49),I(34,"Drag & drop designer"),P()()(),vt(35,"mat-divider"),x(36,"button",52),Bt("click",function(){Dt(t);let i=ct();return Lt(i.openPerformanceDashboard())}),x(37,"div",53)(38,"mat-icon"),I(39,"speed"),P()(),x(40,"div",47)(41,"span",48),I(42,"App Performance"),P(),x(43,"span",49),I(44,"Cache & storage stats"),P()()(),vt(45,"mat-divider"),x(46,"button",54),Bt("click",function(){Dt(t);let i=ct();return Lt(i.navigateToOrganization())}),x(47,"div",55)(48,"mat-icon"),I(49,"business"),P()(),x(50,"div",47)(51,"span",48),I(52),on(53,"async"),P(),x(54,"span",49),I(55,"Organization"),P()()(),vt(56,"mat-divider"),x(57,"button",56),Bt("click",function(){Dt(t);let i=ct();return Lt(i.logout())}),x(58,"div",57)(59,"mat-icon"),I(60,"logout"),P()(),x(61,"div",47)(62,"span",48),I(63,"Logout"),P()()()()()}if(o&2){let t,e=n.ngIf,i=gi(2),r=gi(13),a=ct();j(),tt("matMenuTriggerFor",r),j(3),tt("ngIf",e.picture),j(),tt("ngIf",!e.picture),j(),tt("ngIf",a.isAdmin()&&un(7,10,a.pendingCount$)),j(3),Jt(e.name),j(),De("open",i.menuOpen),j(4),tt("ngIf",a.isAdmin()),j(),tt("ngIf",a.isAdmin()),j(37),Jt(((t=un(53,12,a.currentUser$))==null||t.organizationId==null?null:t.organizationId.name)||"Unknown Org")}}var x4=(()=>{class o{constructor(){this.svc=be(Ps),this.authService=be(hi),this.adminService=be(lC),this.adminEventService=be(cC),this.router=be(jn),this.location=be(df),this.generationService=be(zf),this.dialog=be(Pc),this.destroy$=new Gi,this.pendingCount$=new Wi(0),this.currentUser$=this.authService.currentUser$,this.activeRoute$=new Wi(""),this.canGoBack$=new Wi(!1),this.canGoForward$=new Wi(!1),this.imageRetryCount=new Map,this.MAX_RETRIES=2}ngOnInit(){this.activeRoute$.next(this.router.url),this.router.events.pipe(ta(t=>t instanceof ff),hn(this.destroy$)).subscribe(t=>{this.activeRoute$.next(t.urlAfterRedirects)}),this.currentUser$.pipe(ta(t=>t?t.orgRole==="admin"||t.orgRole==="super_admin":!1),_o(1)).subscribe(()=>{this.loadPendingCount()}),this.adminEventService.refreshPendingCount.pipe(hn(this.destroy$)).subscribe(()=>{this.isAdmin()&&this.loadPendingCount()}),this.adminEventService.refresh$.pipe(hn(this.destroy$)).subscribe(()=>{this.isAdmin()&&this.loadPendingCount()})}loadPendingCount(){this.adminService.getPendingUsers().pipe(hn(this.destroy$)).subscribe({next:t=>{this.pendingCount$.next(t.users.length)},error:t=>{}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.pendingCount$.complete(),this.canGoBack$.complete(),this.canGoForward$.complete()}canGoBack(){return!0}canGoForward(){return!0}goBack(){this.location.back()}goForward(){this.location.forward()}isAdmin(){let t=this.authService.currentUserValue;return t?.orgRole==="admin"||t?.orgRole==="super_admin"}isActive(t){let e=this.activeRoute$.value;return t==="/"?e==="/":e.startsWith(t)}getAvatarSrc(t){return t.picture&&t.picture.trim()!==""?t.picture:this.getInitialsAvatar(t.name)}handleImageError(t,e){let i=t.target,r=i.src,a=this.imageRetryCount.get(r)||0;a<this.MAX_RETRIES?(this.imageRetryCount.set(r,a+1),setTimeout(()=>{let s=new Date().getTime(),l=r.includes("?")?"&":"?";i.src=`${r}${l}_retry=${s}`},500*(a+1))):(this.imageRetryCount.delete(r),i.src=this.getInitialsAvatar(e))}getInitialsAvatar(t){let e=t.trim().split(" ").filter(s=>s.length>0).map(s=>s[0]).slice(0,2).join("").toUpperCase(),i=document.createElement("canvas");i.width=80,i.height=80;let r=i.getContext("2d"),a=r.createLinearGradient(0,0,80,80);return a.addColorStop(0,"#667eea"),a.addColorStop(1,"#764ba2"),r.fillStyle=a,r.fillRect(0,0,80,80),r.fillStyle="white",r.font="bold 32px system-ui",r.textAlign="center",r.textBaseline="middle",r.fillText(e,40,40),i.toDataURL()}navigateToHome(){let t=this.router.url;if(t==="/"||t==="")try{this.svc.smartRefresh()}catch{}else this.router.navigate(["/"]).then(i=>{}).catch(i=>{})}navigateToAdmin(){this.router.navigate(["/admin"])}navigateToOrganization(){this.router.navigate(["/organization"])}navigateToGenerate(){let t=this.generationService.getCurrentConversationId();t?this.router.navigate(["/generate",t]):this.router.navigate(["/generate/new"])}navigateTo(t){this.router.navigate([t]).then(e=>{}).catch(e=>{})}openPerformanceDashboard(){this.dialog.open(C4,{width:"95vw",maxWidth:"1200px",height:"90vh",panelClass:"performance-dashboard-dialog",disableClose:!1,autoFocus:!1})}getInitials(t){return t.trim().split(" ").filter(e=>e.length>0).map(e=>e[0]).slice(0,2).join("").toUpperCase()}logout(){this.authService.logout().subscribe({next:()=>{this.router.navigate(["/auth"]).then(t=>{}).catch(t=>{t instanceof Error&&t.message.includes("Cannot match any routes");try{window.location.href="/auth"}catch{}})},error:t=>{t?.status===401?this.router.navigate(["/auth"]).then(()=>{}).catch(e=>{window.location.href="/auth"}):t?.status===0||t?.status===504?this.router.navigate(["/auth"]).then(()=>{}).catch(e=>{window.location.href="/auth"}):t?.status>=500?this.router.navigate(["/auth"]).then(()=>{}).catch(e=>{window.location.href="/auth"}):this.router.navigate(["/auth"]).catch(e=>{window.location.href="/auth"})},complete:()=>{}})}refresh(){this.svc.refresh()}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-toolbar"]],standalone:!0,features:[cn],decls:39,vars:5,consts:[["menuTrigger","matMenuTrigger"],["userMenu","matMenu"],[1,"modern-toolbar"],[1,"toolbar-container"],["title","Go to Home",1,"brand-section",3,"click"],[1,"brand-icon"],["viewBox","0 0 48 48","fill","none","xmlns","http://www.w3.org/2000/svg",2,"width","40px","height","40px"],["id","left-half"],["x","0","y","0","width","24","height","48"],["id","right-half"],["x","24","y","0","width","24","height","48"],["clip-path","url(#left-half)"],["d","M12 16 Q8 18 8 24 Q8 30 12 32","stroke","white","stroke-width","2.5","fill","none"],["cx","14","cy","20","r","1.5","fill","white"],["cx","12","cy","24","r","2","fill","white"],["cx","14","cy","28","r","1.5","fill","white"],["cx","18","cy","22","r","1.3","fill","white","opacity","0.8"],["cx","18","cy","26","r","1.3","fill","white","opacity","0.8"],["x1","14","y1","20","x2","18","y2","22","stroke","white","stroke-width","1.2","opacity","0.6"],["x1","12","y1","24","x2","18","y2","22","stroke","white","stroke-width","1.2","opacity","0.6"],["x1","12","y1","24","x2","18","y2","26","stroke","white","stroke-width","1.2","opacity","0.6"],["x1","14","y1","28","x2","18","y2","26","stroke","white","stroke-width","1.2","opacity","0.6"],["clip-path","url(#right-half)"],["d","M24 16 L40 16 L40 32 L24 32","stroke","white","stroke-width","2.5","fill","none"],["d","M24 16 L32 23 L40 16","stroke","white","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["cx","24","cy","24","r","2.5","fill","white","opacity","0.4"],["cx","24","cy","24","r","1.5","fill","white"],[1,"brand-name"],[1,"toolbar-spacer"],[1,"right-section"],[1,"nav-arrows"],["title","Previous",1,"arrow-btn",3,"click","disabled"],["title","Next",1,"arrow-btn",3,"click","disabled"],["class","user-section",4,"ngIf"],[1,"user-section"],[1,"user-menu-btn",3,"matMenuTriggerFor"],[1,"user-avatar"],["loading","lazy","referrerpolicy","no-referrer","crossorigin","anonymous",3,"src","alt","error",4,"ngIf"],["class","avatar-initials",4,"ngIf"],["class","notification-dot",4,"ngIf"],[1,"user-name"],[1,"dropdown-icon"],["xPosition","before",1,"modern-user-dropdown"],["mat-menu-item","","class","menu-item admin-item",3,"click",4,"ngIf"],[4,"ngIf"],["mat-menu-item","",1,"menu-item","generate-item",3,"click"],[1,"menu-item-icon","generate-icon"],[1,"menu-item-content"],[1,"menu-item-title"],[1,"menu-item-subtitle"],["mat-menu-item","",1,"menu-item","visual-editor-item",3,"click"],[1,"menu-item-icon","visual-editor-icon"],["mat-menu-item","",1,"menu-item","performance-item",3,"click"],[1,"menu-item-icon","performance-icon"],["mat-menu-item","",1,"menu-item","org-info-item",3,"click"],[1,"menu-item-icon","org-icon"],["mat-menu-item","",1,"menu-item","logout-item",3,"click"],[1,"menu-item-icon","logout-icon"],["loading","lazy","referrerpolicy","no-referrer","crossorigin","anonymous",3,"error","src","alt"],[1,"avatar-initials"],[1,"notification-dot"],["mat-menu-item","",1,"menu-item","admin-item",3,"click"],[1,"menu-item-icon","admin-icon"],["class","pending-badge",4,"ngIf"],[1,"pending-badge"]],template:function(e,i){e&1&&(x(0,"mat-toolbar",2)(1,"div",3)(2,"div",4),Bt("click",function(){return i.navigateToHome()}),x(3,"div",5),Xt(),x(4,"svg",6)(5,"defs")(6,"clipPath",7),vt(7,"rect",8),P(),x(8,"clipPath",9),vt(9,"rect",10),P()(),x(10,"g",11),vt(11,"path",12)(12,"circle",13)(13,"circle",14)(14,"circle",15)(15,"circle",16)(16,"circle",17)(17,"line",18)(18,"line",19)(19,"line",20)(20,"line",21),P(),x(21,"g",22),vt(22,"path",23)(23,"path",24),P(),vt(24,"circle",25)(25,"circle",26),P()(),ie(),x(26,"span",27),I(27,"Camply"),P()(),vt(28,"div",28),x(29,"div",29)(30,"div",30)(31,"button",31),Bt("click",function(){return i.goBack()}),x(32,"mat-icon"),I(33,"arrow_back_ios"),P()(),x(34,"button",32),Bt("click",function(){return i.goForward()}),x(35,"mat-icon"),I(36,"arrow_forward_ios"),P()()(),It(37,KX,64,14,"div",33),on(38,"async"),P()()()),e&2&&(j(31),tt("disabled",!i.canGoBack()),j(3),tt("disabled",!i.canGoForward()),j(3),tt("ngIf",un(38,3,i.currentUser$)))},dependencies:[Tn,qn,Cs,m4,h4,Oi,ub,Mi,Pi,la,aa,Oc,sa,v4,vf,mf],styles:['.modern-toolbar[_ngcontent-%COMP%]{position:relative;overflow:visible!important;box-shadow:0 4px 24px #00000026;min-height:70px!important;padding:0!important;background:linear-gradient(135deg,#6d28d9,#5b21b6,#6d28d9)!important;background-size:200% 100%;animation:_ngcontent-%COMP%_gradient-flow 15s ease infinite}.modern-toolbar[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 10% 50%,rgba(255,255,255,.15) 0%,transparent 50%),radial-gradient(circle at 90% 50%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none;animation:_ngcontent-%COMP%_shimmer 8s ease-in-out infinite}.toolbar-container[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;width:100%;padding:0 2rem;gap:1.5rem;height:70px}.brand-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);padding:.5rem 1rem;border-radius:12px}.brand-section[_ngcontent-%COMP%]:hover{background:#ffffff26}.brand-section[_ngcontent-%COMP%]:hover   .brand-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.brand-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;background:#fff3;border-radius:10px;border:1px solid rgba(255,255,255,.3);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #00000026}.brand-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px!important;height:40px!important;color:#fff;stroke-width:2.5}.brand-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.3);letter-spacing:-.01em;-webkit-user-select:none;user-select:none}.toolbar-spacer[_ngcontent-%COMP%]{flex:1}.right-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.nav-arrows[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.arrow-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:#ffffff26;border:1px solid rgba(255,255,255,.25);border-radius:10px;color:#fff;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.arrow-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.arrow-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff40;box-shadow:0 4px 12px #0003}.arrow-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.arrow-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center}.user-menu-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem 1rem .5rem .5rem;background:#ffffff26;border:1px solid rgba(255,255,255,.25);border-radius:50px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #00000026}.user-menu-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px);box-shadow:0 6px 16px #0003}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;overflow:hidden;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;border:2px solid rgba(255,255,255,.3);box-shadow:0 2px 8px #0003;flex-shrink:0;position:relative}.user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-avatar[_ngcontent-%COMP%]   .avatar-initials[_ngcontent-%COMP%]{color:#fff;font-size:.875rem;font-weight:700}.notification-dot[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;width:12px;height:12px;background:#ef4444;border:2px solid #1e293b;border-radius:50%;box-shadow:0 2px 6px #ef444466;z-index:10}.user-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#fff;white-space:nowrap;max-width:150px;overflow:hidden;text-overflow:ellipsis}.dropdown-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px;width:20px;height:20px;transition:transform .3s ease;flex-shrink:0}.dropdown-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg)}  .modern-user-dropdown{margin-top:.75rem!important;border-radius:16px!important;overflow:hidden!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);min-width:280px!important;max-width:320px!important}  .modern-user-dropdown .mat-mdc-menu-panel{border-radius:16px!important;background:#fff!important}  .modern-user-dropdown .mat-mdc-menu-content{padding:0!important}.org-info-section[_ngcontent-%COMP%]{padding:.875rem .75rem;margin:.5rem;margin-bottom:0}.org-info-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem}.org-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:linear-gradient(135deg,#6d28d9,#5b21b6);border-radius:10px;flex-shrink:0}.org-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#fff}.org-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;flex:1;min-width:0}.org-label[_ngcontent-%COMP%]{font-size:.6875rem;font-weight:500;color:#64748b;text-transform:uppercase;letter-spacing:.05em}.org-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#1e293b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .modern-user-dropdown .mat-mdc-menu-content{padding:.5rem!important}.menu-item[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:.875rem!important;padding:.75rem!important;border-radius:10px!important;transition:all .2s ease!important;margin-bottom:.25rem!important;min-height:48px!important;height:auto!important;position:relative!important}.menu-item[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.menu-item[_ngcontent-%COMP%]:hover{background:#6d28d914!important}.menu-item[_ngcontent-%COMP%]:active{transform:scale(.98)}  .modern-user-dropdown .menu-item.mat-mdc-menu-item{display:flex!important;flex-direction:row!important;align-items:center!important;justify-content:flex-start!important;--mat-menu-item-spacing: 0px !important}  .modern-user-dropdown .mat-mdc-menu-item .mat-mdc-menu-item-text{display:flex!important;flex-direction:row!important;align-items:center!important;width:100%!important;gap:.875rem!important}.menu-item-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:10px;flex-shrink:0;transition:all .2s ease}.menu-item-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px;line-height:22px;display:flex;align-items:center;justify-content:center}.admin-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d9,#5b21b6);box-shadow:0 2px 8px #6d28d94d}.admin-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.generate-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);box-shadow:0 2px 8px #10b9814d}.generate-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.visual-editor-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);box-shadow:0 2px 8px #f59e0b4d}.visual-editor-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.performance-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed);box-shadow:0 2px 8px #8b5cf64d}.performance-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.logout-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);box-shadow:0 2px 8px #ef44444d}.logout-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.menu-item-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.125rem;min-width:0;align-self:center}.menu-item-title[_ngcontent-%COMP%]{font-size:.9375rem!important;font-weight:600!important;color:#1e293b!important;line-height:1.4!important}.menu-item-subtitle[_ngcontent-%COMP%]{font-size:.75rem!important;color:#64748b!important;line-height:1.3!important;font-weight:500!important}.pending-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:22px;height:22px;padding:0 6px;background:#ef4444;color:#fff;font-size:.75rem;font-weight:700;border-radius:11px;flex-shrink:0}  .modern-user-dropdown mat-divider{margin:.375rem 0!important;border-top-color:#00000014!important}@keyframes _ngcontent-%COMP%_gradient-flow{0%,to{background-position:0% 50%}50%{background-position:100% 50%}}@keyframes _ngcontent-%COMP%_shimmer{0%,to{opacity:1}50%{opacity:.7}}@media (max-width: 1024px){.user-name[_ngcontent-%COMP%]{max-width:120px}  .modern-user-dropdown{min-width:260px!important;max-width:280px!important}}@media (max-width: 768px){.toolbar-container[_ngcontent-%COMP%]{padding:0 1rem;gap:.75rem}.brand-name[_ngcontent-%COMP%]{font-size:1rem}.user-name[_ngcontent-%COMP%]{display:none}.user-menu-btn[_ngcontent-%COMP%]{padding:.5rem;gap:0}.dropdown-icon[_ngcontent-%COMP%]{display:none}  .modern-user-dropdown{min-width:240px!important;max-width:260px!important}.menu-item[_ngcontent-%COMP%]{gap:.625rem!important;padding:.5rem .625rem!important}.menu-item-icon[_ngcontent-%COMP%]{width:32px;height:32px}.menu-item-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.menu-item-title[_ngcontent-%COMP%]{font-size:.8125rem!important}.menu-item-subtitle[_ngcontent-%COMP%]{font-size:.6875rem!important}.pending-badge[_ngcontent-%COMP%]{min-width:20px;height:20px;font-size:.6875rem}}@media (max-width: 480px){.toolbar-container[_ngcontent-%COMP%]{padding:0 .75rem}.nav-arrows[_ngcontent-%COMP%]{gap:.25rem}.arrow-btn[_ngcontent-%COMP%]{width:36px;height:36px}.brand-section[_ngcontent-%COMP%]{padding:.375rem .75rem;gap:.75rem}.brand-name[_ngcontent-%COMP%]{display:none}.brand-icon[_ngcontent-%COMP%]{width:32px;height:32px}.brand-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}  .modern-user-dropdown{min-width:220px!important;max-width:240px!important}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.brand-section[_ngcontent-%COMP%], .arrow-btn[_ngcontent-%COMP%], .user-menu-btn[_ngcontent-%COMP%], .menu-item[_ngcontent-%COMP%]{will-change:transform;transform:translateZ(0);backface-visibility:hidden}']})}}return o})();function qX(o,n){o&1&&vt(0,"app-toolbar")}var O4=(()=>{class o{constructor(){this.router=be(jn),this.cacheMonitor=be(Cd),this.cdr=be($i),this.showToolbar=!0,this.updateToolbarVisibility(this.router.url),this.router.events.pipe(ta(t=>t instanceof ff)).subscribe(t=>{let e=t.urlAfterRedirects||t.url;this.updateToolbarVisibility(e)})}updateToolbarVisibility(t){let e=!t.includes("/auth");this.showToolbar!==e&&(this.showToolbar=e,setTimeout(()=>this.cdr.detectChanges(),0))}ngOnInit(){this.cacheMonitor.startMonitoring().catch(t=>{})}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-root"]],standalone:!0,features:[cn],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(e,i){e&1&&(It(0,qX,1,0,"app-toolbar",0),vt(1,"router-outlet")),e&2&&tt("ngIf",i.showToolbar)},dependencies:[Tn,qn,sb,x4]})}}return o})();ab(O4,g4).catch(o=>console.error(o));
