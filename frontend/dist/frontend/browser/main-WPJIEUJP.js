import{a as xc,b as aa,c as sa,d as la,e as Yb,f as Xb,g as Qb,h as Jb,i as Zb,j as tC,k as eC,l as nC,m as rC,n as iC,o as yf,p as oC,q as aC}from"./chunk-LDPBKAVQ.js";import{a as Bb}from"./chunk-QQQPMS3V.js";import{b as Ss}from"./chunk-BDLXHRDD.js";import{e as Db,f as Lb,g as Nb}from"./chunk-4F7YXR26.js";import{a as hf,b as mf,c as Ps,d as Gb,e as ws,f as gr,g as _f,i as Oc,m as ml,n as Pc,p as Kb,q as qb,r as $b}from"./chunk-P7OGQKZS.js";import{a as ia,b as oa}from"./chunk-YRZUBIO5.js";import{$ as ei,$a as Xy,$b as Um,A as nf,Ab as Tn,B as Uy,Bb as xs,Ca as O,Cb as nb,Cd as Rb,D as Bm,Da as M,Db as rb,Dc as Wm,Dd as Fb,E as tu,Ea as yt,Eb as ib,F as gn,Fa as Rn,Fb as ob,G as eu,Ga as Fn,Gb as ab,Gc as Cb,H as Sn,Ha as Yy,Hb as uf,Hc as Gm,Ia as xe,Ib as pf,Id as qm,J as _o,Jb as Ai,Jc as xb,Jd as $m,K as Ho,Ka as Yt,Kb as sb,Kd as Ym,L as ta,La as pt,Lb as jn,Ld as Vb,M as mc,Ma as fl,Mb as lb,Md as Os,N as ye,Na as Uo,Nb as cb,Nd as zb,O as si,Oa as bs,Ob as db,Od as jb,P as ln,Pa as Wo,Pb as ub,Pc as Ob,Pd as Aa,Q as Bo,Qa as Gr,Qb as bn,Qd as Cc,R as Ta,Ra as Kr,Rb as ra,Rd as Ms,S as ys,Sa as fr,Sb as Jn,Sc as Pb,Sd as Hb,T as Ut,Ta as V,Tb as En,Tc as Mb,U as Wt,Ua as ae,Ub as pb,Uc as Di,V as Xt,Va as Ke,Vb as $e,Vc as wb,W as re,Wa as no,Wb as hl,Wc as Sb,Wd as Ub,Xb as In,Xd as Wb,Y as Wy,Ya as Er,Yb as fb,Yd as vf,Za as kr,Zb as gb,Zd as Oo,_ as Ea,_a as Ar,_b as yc,ab as cn,ac as ff,ad as Tb,ba as nu,bb as of,bd as Eb,c as Ur,ca as pl,cb as af,cd as bc,d as Wr,da as ea,dc as yo,dd as kb,ea as rf,eb as sf,ed as Ab,fa as ru,fb as Qy,fc as hb,fd as Km,ga as G,gb as on,gc as mb,h as jm,ha as pn,hb as un,hc as bo,i as Jd,ib as au,ja as Gy,jb as su,jc as vb,k as hc,kb as Jy,l as Zd,la as Ky,lb as Zy,lc as Co,m as eo,ma as qy,mb as qr,md as Ib,n as zy,na as ka,nd as ro,o as jy,ob as gl,od as li,p as Hm,pb as _c,pc as _b,pd as yr,qa as iu,qb as lf,qd as br,ra as qt,rb as cf,rd as Cr,s as Hy,sa as pr,sb as na,sc as yb,sd as xo,t as ef,ta as ct,tb as ki,tc as gf,td as ci,u as Zo,ua as ni,ub as qn,uc as Ii,v as vs,va as Be,vb as tb,w as By,wa as vc,wb as Cs,x as vo,xa as $y,xb as eb,ya as ou,yb as df,z as _s,zc as bb}from"./chunk-D537H2LC.js";import{a as Tr,b as Jo,c as Vy,d as F4,e as V4,f as vn}from"./chunk-CWTPBX7D.js";var eP=F4((Uu,lv)=>{"use strict";(function(o,n){typeof Uu=="object"&&typeof lv=="object"?lv.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Uu=="object"?Uu["grapesjs-preset-newsletter"]=n():o["grapesjs-preset-newsletter"]=n()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Uu,()=>(()=>{var o={1073:r=>{r.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},9125:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.groupSelectors=i.getDocumentRoot=void 0;var s=a(2515);i.getDocumentRoot=function(l){for(;l.parent;)l=l.parent;return l},i.groupSelectors=function(l){for(var c=[],u=[],p=0,g=l;p<g.length;p++){var h=g[p];h.some(s.isFilter)?c.push(h):u.push(h)}return[u,c]}},7248:function(r,i,a){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(J){for(var I,Z=1,et=arguments.length;Z<et;Z++)for(var ut in I=arguments[Z])Object.prototype.hasOwnProperty.call(I,ut)&&(J[ut]=I[ut]);return J},s.apply(this,arguments)},l=this&&this.__createBinding||(Object.create?function(J,I,Z,et){et===void 0&&(et=Z);var ut=Object.getOwnPropertyDescriptor(I,Z);ut&&!("get"in ut?!I.__esModule:ut.writable||ut.configurable)||(ut={enumerable:!0,get:function(){return I[Z]}}),Object.defineProperty(J,et,ut)}:function(J,I,Z,et){et===void 0&&(et=Z),J[et]=I[Z]}),c=this&&this.__setModuleDefault||(Object.create?function(J,I){Object.defineProperty(J,"default",{enumerable:!0,value:I})}:function(J,I){J.default=I}),u=this&&this.__importStar||function(J){if(J&&J.__esModule)return J;var I={};if(J!=null)for(var Z in J)Z!=="default"&&Object.prototype.hasOwnProperty.call(J,Z)&&l(I,J,Z);return c(I,J),I},p=this&&this.__spreadArray||function(J,I,Z){if(Z||arguments.length===2)for(var et,ut=0,Rt=I.length;ut<Rt;ut++)!et&&ut in I||(et||(et=Array.prototype.slice.call(I,0,ut)),et[ut]=I[ut]);return J.concat(et||Array.prototype.slice.call(I))};Object.defineProperty(i,"__esModule",{value:!0}),i.select=i.filter=i.some=i.is=i.aliases=i.pseudos=i.filters=void 0;var g=a(7763),h=a(5366),y=u(a(9432)),_=a(9125),x=a(2515),P=a(5366);Object.defineProperty(i,"filters",{enumerable:!0,get:function(){return P.filters}}),Object.defineProperty(i,"pseudos",{enumerable:!0,get:function(){return P.pseudos}}),Object.defineProperty(i,"aliases",{enumerable:!0,get:function(){return P.aliases}});var w={type:g.SelectorType.Pseudo,name:"scope",data:null},T=s({},w),b={type:g.SelectorType.Universal,namespace:null};function k(J,I,Z){if(Z===void 0&&(Z={}),typeof I=="function")return J.some(I);var et=(0,_.groupSelectors)((0,g.parse)(I)),ut=et[0],Rt=et[1];return ut.length>0&&J.some((0,h._compileToken)(ut,Z))||Rt.some(function(Gt){return L(Gt,J,Z).length>0})}function E(J,I,Z){if(I.length===0)return[];var et,ut=(0,_.groupSelectors)(J),Rt=ut[0],Gt=ut[1];if(Rt.length){var Pt=q(I,Rt,Z);if(Gt.length===0)return Pt;Pt.length&&(et=new Set(Pt))}for(var _t=0;_t<Gt.length&&et?.size!==I.length;_t++){var rt=Gt[_t];if((et?I.filter(function(ft){return y.isTag(ft)&&!et.has(ft)}):I).length===0)break;if((Pt=L(rt,I,Z)).length)if(et)Pt.forEach(function(ft){return et.add(ft)});else{if(_t===Gt.length-1)return Pt;et=new Set(Pt)}}return et!==void 0?et.size===I.length?I:I.filter(function(ft){return et.has(ft)}):[]}function L(J,I,Z){var et;return J.some(g.isTraversal)?j((et=Z.root)!==null&&et!==void 0?et:(0,_.getDocumentRoot)(I[0]),p(p([],J,!0),[T],!1),Z,!0,I):j(I,J,Z,!1)}i.is=function(J,I,Z){return Z===void 0&&(Z={}),k([J],I,Z)},i.some=k,i.filter=function(J,I,Z){return Z===void 0&&(Z={}),E((0,g.parse)(J),I,Z)},i.select=function(J,I,Z){if(Z===void 0&&(Z={}),typeof J=="function")return W(I,J);var et=(0,_.groupSelectors)((0,g.parse)(J)),ut=et[0],Rt=et[1].map(function(Gt){return j(I,Gt,Z,!0)});return ut.length&&Rt.push(D(I,ut,Z,1/0)),Rt.length===0?[]:Rt.length===1?Rt[0]:y.uniqueSort(Rt.reduce(function(Gt,Pt){return p(p([],Gt,!0),Pt,!0)}))};var R=new Set([g.SelectorType.Descendant,g.SelectorType.Adjacent]);function z(J){return J!==w&&J.type==="pseudo"&&(J.name==="scope"||Array.isArray(J.data)&&J.data.some(function(I){return I.some(z)}))}function N(J,I,Z){return Z&&J.some(z)?s(s({},I),{context:Z}):I}function j(J,I,Z,et,ut){var Rt=I.findIndex(x.isFilter),Gt=I.slice(0,Rt),Pt=I[Rt],_t=(0,x.getLimit)(Pt.name,Pt.data);if(_t===0)return[];var rt=N(Gt,Z,ut),ft=(Gt.length!==0||Array.isArray(J)?Gt.length===0||Gt.length===1&&Gt[0]===w?(Array.isArray(J)?J:[J]).filter(y.isTag):et||Gt.some(g.isTraversal)?D(J,[Gt],rt,_t):q(J,[Gt],rt):y.getChildren(J).filter(y.isTag)).slice(0,_t),wt=function(It,at,Kt,le){var Ct=typeof Kt=="string"?parseInt(Kt,10):NaN;switch(It){case"first":case"lt":return at;case"last":return at.length>0?[at[at.length-1]]:at;case"nth":case"eq":return isFinite(Ct)&&Math.abs(Ct)<at.length?[Ct<0?at[at.length+Ct]:at[Ct]]:[];case"gt":return isFinite(Ct)?at.slice(Ct+1):[];case"even":return at.filter(function(ge,ce){return ce%2==0});case"odd":return at.filter(function(ge,ce){return ce%2==1});case"not":var oe=new Set(E(Kt,at,le));return at.filter(function(ge){return!oe.has(ge)})}}(Pt.name,ft,Pt.data,Z);if(wt.length===0||I.length===Rt+1)return wt;var Et=I.slice(Rt+1),Nt=Et.some(g.isTraversal),Ht=N(Et,Z,ut);return Nt&&(R.has(Et[0].type)&&Et.unshift(b),Et.unshift(w)),Et.some(x.isFilter)?j(wt,Et,Z,!1,ut):Nt?D(wt,[Et],Ht,1/0):q(wt,[Et],Ht)}function D(J,I,Z,et){return et===0?[]:W(J,(0,h._compileToken)(I,Z,J),et)}function W(J,I,Z){Z===void 0&&(Z=1/0);var et=(0,h.prepareContext)(J,y,I.shouldTestNextSiblings);return y.find(function(ut){return y.isTag(ut)&&I(ut)},et,!0,Z)}function q(J,I,Z){var et=(Array.isArray(J)?J:[J]).filter(y.isTag);if(et.length===0)return et;var ut=(0,h._compileToken)(I,Z);return et.filter(ut)}},2515:(r,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getLimit=i.isFilter=i.filterNames=void 0,i.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]),i.isFilter=function a(s){return s.type==="pseudo"&&(!!i.filterNames.has(s.name)||!(s.name!=="not"||!Array.isArray(s.data))&&s.data.some(function(l){return l.some(a)}))},i.getLimit=function(a,s){var l=s!=null?parseInt(s,10):NaN;switch(a){case"first":return 1;case"nth":case"eq":return isFinite(l)?l>=0?l+1:1/0:0;case"lt":return isFinite(l)?l>=0?l:1/0:0;case"gt":return isFinite(l)?1/0:0;default:return 1/0}}},6451:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.toggleClass=i.removeClass=i.addClass=i.hasClass=i.removeAttr=i.val=i.data=i.prop=i.attr=void 0;var s=a(6634),l=a(5633),c=Object.prototype.hasOwnProperty,u=/\s+/,p="data-",g={null:null,true:!0,false:!1},h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,y=/^{[^]*}$|^\[[^]*]$/;function _(L,R,z){var N;if(L&&l.isTag(L))return(N=L.attribs)!==null&&N!==void 0||(L.attribs={}),R?c.call(L.attribs,R)?!z&&h.test(R)?R:L.attribs[R]:L.name==="option"&&R==="value"?s.text(L.children):L.name!=="input"||L.attribs.type!=="radio"&&L.attribs.type!=="checkbox"||R!=="value"?void 0:"on":L.attribs}function x(L,R,z){z===null?k(L,R):L.attribs[R]=""+z}function P(L,R,z){if(L&&l.isTag(L))return R in L?L[R]:!z&&h.test(R)?_(L,R,!1)!==void 0:_(L,R,z)}function w(L,R,z,N){R in L?L[R]=z:x(L,R,!N&&h.test(R)?z?"":null:""+z)}function T(L,R,z){var N,j=L;(N=j.data)!==null&&N!==void 0||(j.data={}),typeof R=="object"?Object.assign(j.data,R):typeof R=="string"&&z!==void 0&&(j.data[R]=z)}function b(L,R){var z,N,j;R==null?N=(z=Object.keys(L.attribs).filter(function(J){return J.startsWith(p)})).map(function(J){return l.camelCase(J.slice(p.length))}):(z=[p+l.cssCase(R)],N=[R]);for(var D=0;D<z.length;++D){var W=z[D],q=N[D];if(c.call(L.attribs,W)&&!c.call(L.data,q)){if(j=L.attribs[W],c.call(g,j))j=g[j];else if(j===String(Number(j)))j=Number(j);else if(y.test(j))try{j=JSON.parse(j)}catch{}L.data[q]=j}}return R==null?L.data:j}function k(L,R){L.attribs&&c.call(L.attribs,R)&&delete L.attribs[R]}function E(L){return L?L.trim().split(u):[]}i.attr=function(L,R){if(typeof L=="object"||R!==void 0){if(typeof R=="function"){if(typeof L!="string")throw new Error("Bad combination of arguments.");return l.domEach(this,function(z,N){l.isTag(z)&&x(z,L,R.call(z,N,z.attribs[L]))})}return l.domEach(this,function(z){l.isTag(z)&&(typeof L=="object"?Object.keys(L).forEach(function(N){var j=L[N];x(z,N,j)}):x(z,L,R))})}return arguments.length>1?this:_(this[0],L,this.options.xmlMode)},i.prop=function(L,R){var z=this;if(typeof L=="string"&&R===void 0)switch(L){case"style":var N=this.css(),j=Object.keys(N);return j.forEach(function(W,q){N[q]=W}),N.length=j.length,N;case"tagName":case"nodeName":var D=this[0];return l.isTag(D)?D.name.toUpperCase():void 0;case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return P(this[0],L,this.options.xmlMode)}if(typeof L=="object"||R!==void 0){if(typeof R=="function"){if(typeof L=="object")throw new Error("Bad combination of arguments.");return l.domEach(this,function(W,q){l.isTag(W)&&w(W,L,R.call(W,q,P(W,L,z.options.xmlMode)),z.options.xmlMode)})}return l.domEach(this,function(W){l.isTag(W)&&(typeof L=="object"?Object.keys(L).forEach(function(q){var J=L[q];w(W,q,J,z.options.xmlMode)}):w(W,L,R,z.options.xmlMode))})}},i.data=function(L,R){var z,N=this[0];if(N&&l.isTag(N)){var j=N;return(z=j.data)!==null&&z!==void 0||(j.data={}),L?typeof L=="object"||R!==void 0?(l.domEach(this,function(D){l.isTag(D)&&(typeof L=="object"?T(D,L):T(D,L,R))}),this):c.call(j.data,L)?j.data[L]:b(j,L):b(j)}},i.val=function(L){var R=arguments.length===0,z=this[0];if(!z||!l.isTag(z))return R?void 0:this;switch(z.name){case"textarea":return this.text(L);case"select":var N=this.find("option:selected");if(!R){if(this.attr("multiple")==null&&typeof L=="object")return this;this.find("option").removeAttr("selected");for(var j=typeof L!="object"?[L]:L,D=0;D<j.length;D++)this.find('option[value="'+j[D]+'"]').attr("selected","");return this}return this.attr("multiple")?N.toArray().map(function(W){return s.text(W.children)}):N.attr("value");case"input":case"option":return R?this.attr("value"):this.attr("value",L)}},i.removeAttr=function(L){for(var R=E(L),z=function(D){l.domEach(N,function(W){l.isTag(W)&&k(W,R[D])})},N=this,j=0;j<R.length;j++)z(j);return this},i.hasClass=function(L){return this.toArray().some(function(R){var z=l.isTag(R)&&R.attribs.class,N=-1;if(z&&L.length)for(;(N=z.indexOf(L,N+1))>-1;){var j=N+L.length;if((N===0||u.test(z[N-1]))&&(j===z.length||u.test(z[j])))return!0}return!1})},i.addClass=function L(R){if(typeof R=="function")return l.domEach(this,function(Z,et){if(l.isTag(Z)){var ut=Z.attribs.class||"";L.call([Z],R.call(Z,et,ut))}});if(!R||typeof R!="string")return this;for(var z=R.split(u),N=this.length,j=0;j<N;j++){var D=this[j];if(l.isTag(D)){var W=_(D,"class",!1);if(W){for(var q=" "+W+" ",J=0;J<z.length;J++){var I=z[J]+" ";q.includes(" "+I)||(q+=I)}x(D,"class",q.trim())}else x(D,"class",z.join(" ").trim())}}return this},i.removeClass=function L(R){if(typeof R=="function")return l.domEach(this,function(D,W){l.isTag(D)&&L.call([D],R.call(D,W,D.attribs.class||""))});var z=E(R),N=z.length,j=arguments.length===0;return l.domEach(this,function(D){if(l.isTag(D))if(j)D.attribs.class="";else{for(var W=E(D.attribs.class),q=!1,J=0;J<N;J++){var I=W.indexOf(z[J]);I>=0&&(W.splice(I,1),q=!0,J--)}q&&(D.attribs.class=W.join(" "))}})},i.toggleClass=function L(R,z){if(typeof R=="function")return l.domEach(this,function(ut,Rt){l.isTag(ut)&&L.call([ut],R.call(ut,Rt,ut.attribs.class||"",z),z)});if(!R||typeof R!="string")return this;for(var N=R.split(u),j=N.length,D=typeof z=="boolean"?z?1:-1:0,W=this.length,q=0;q<W;q++){var J=this[q];if(l.isTag(J)){for(var I=E(J.attribs.class),Z=0;Z<j;Z++){var et=I.indexOf(N[Z]);D>=0&&et<0?I.push(N[Z]):D<=0&&et>=0&&I.splice(et,1)}J.attribs.class=I.join(" ")}}return this}},9806:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.css=void 0;var s=a(5633);function l(u,p,g,h){if(typeof p=="string"){var y=c(u),_=typeof g=="function"?g.call(u,h,y[p]):g;_===""?delete y[p]:_!=null&&(y[p]=_),u.attribs.style=(x=y,Object.keys(x).reduce(function(P,w){return P+(P?" ":"")+w+": "+x[w]+";"},""))}else typeof p=="object"&&Object.keys(p).forEach(function(P,w){l(u,P,p[P],w)});var x}function c(u,p){if(u&&s.isTag(u)){var g=function(y){return y=(y||"").trim(),y?y.split(";").reduce(function(_,x){var P=x.indexOf(":");return P<1||P===x.length-1||(_[x.slice(0,P).trim()]=x.slice(P+1).trim()),_},{}):{}}(u.attribs.style);if(typeof p=="string")return g[p];if(Array.isArray(p)){var h={};return p.forEach(function(y){g[y]!=null&&(h[y]=g[y])}),h}return g}}i.css=function(u,p){return u!=null&&p!=null||typeof u=="object"&&!Array.isArray(u)?s.domEach(this,function(g,h){s.isTag(g)&&l(g,u,p,h)}):c(this[0],u)}},3432:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.serializeArray=i.serialize=void 0;var s=a(5633),l="input,select,textarea,keygen",c=/%20/g,u=/\r?\n/g;i.serialize=function(){return this.serializeArray().map(function(p){return encodeURIComponent(p.name)+"="+encodeURIComponent(p.value)}).join("&").replace(c,"+")},i.serializeArray=function(){var p=this;return this.map(function(g,h){var y=p._make(h);return s.isTag(h)&&h.name==="form"?y.find(l).toArray():y.filter(l).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(g,h){var y,_=p._make(h),x=_.attr("name"),P=(y=_.val())!==null&&y!==void 0?y:"";return Array.isArray(P)?P.map(function(w){return{name:x,value:w.replace(u,`\r
`)}}):{name:x,value:P.replace(u,`\r
`)}}).toArray()}},848:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.clone=i.text=i.toString=i.html=i.empty=i.replaceWith=i.remove=i.insertBefore=i.before=i.insertAfter=i.after=i.wrapAll=i.unwrap=i.wrapInner=i.wrap=i.prepend=i.append=i.prependTo=i.appendTo=i._makeDomArray=void 0;var s=a(655),l=a(7915),c=a(7915),u=s.__importStar(a(5012)),p=a(6634),g=a(5633),h=a(3719);function y(P){return function(){for(var w=this,T=[],b=0;b<arguments.length;b++)T[b]=arguments[b];var k=this.length-1;return g.domEach(this,function(E,L){if(l.hasChildren(E)){var R=typeof T[0]=="function"?T[0].call(E,L,p.html(E.children)):T,z=w._makeDomArray(R,L<k);P(z,E.children,E)}})}}function _(P,w,T,b,k){for(var E,L,R=s.__spreadArray([w,T],b),z=P[w-1]||null,N=P[w+T]||null,j=0;j<b.length;++j){var D=b[j],W=D.parent;if(W){var q=W.children.indexOf(b[j]);q>-1&&(W.children.splice(q,1),k===W&&w>q&&R[0]--)}D.parent=k,D.prev&&(D.prev.next=(E=D.next)!==null&&E!==void 0?E:null),D.next&&(D.next.prev=(L=D.prev)!==null&&L!==void 0?L:null),D.prev=b[j-1]||z,D.next=b[j+1]||N}return z&&(z.next=b[0]),N&&(N.prev=b[b.length-1]),P.splice.apply(P,R)}function x(P){return function(w){for(var T=this.length-1,b=this.parents().last(),k=0;k<this.length;k++){var E=this[k],L=typeof w=="function"?w.call(E,k,E):typeof w!="string"||g.isHtml(w)?w:b.find(w).clone(),R=this._makeDomArray(L,k<T)[0];if(R&&h.DomUtils.hasChildren(R)){for(var z=R,N=0;N<z.children.length;){var j=z.children[N];g.isTag(j)?(z=j,N=0):N++}P(E,z,[R])}}return this}}i._makeDomArray=function(P,w){var T=this;return P==null?[]:g.isCheerio(P)?w?g.cloneDom(P.get()):P.get():Array.isArray(P)?P.reduce(function(b,k){return b.concat(T._makeDomArray(k,w))},[]):typeof P=="string"?u.default(P,this.options,!1).children:w?g.cloneDom([P]):[P]},i.appendTo=function(P){return(g.isCheerio(P)?P:this._make(P)).append(this),this},i.prependTo=function(P){return(g.isCheerio(P)?P:this._make(P)).prepend(this),this},i.append=y(function(P,w,T){_(w,w.length,0,P,T)}),i.prepend=y(function(P,w,T){_(w,0,0,P,T)}),i.wrap=x(function(P,w,T){var b=P.parent;if(b){var k=b.children,E=k.indexOf(P);u.update([P],w),_(k,E,0,T,b)}}),i.wrapInner=x(function(P,w,T){l.hasChildren(P)&&(u.update(P.children,w),u.update(T,P))}),i.unwrap=function(P){var w=this;return this.parent(P).not("body").each(function(T,b){w._make(b).replaceWith(b.children)}),this},i.wrapAll=function(P){var w=this[0];if(w){for(var T=this._make(typeof P=="function"?P.call(w,0,w):P).insertBefore(w),b=void 0,k=0;k<T.length;k++)T[k].type==="tag"&&(b=T[k]);for(var E=0;b&&E<b.children.length;){var L=b.children[E];L.type==="tag"?(b=L,E=0):E++}b&&this._make(b).append(this)}return this},i.after=function(){for(var P=this,w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var b=this.length-1;return g.domEach(this,function(k,E){var L=k.parent;if(h.DomUtils.hasChildren(k)&&L){var R=L.children,z=R.indexOf(k);if(!(z<0)){var N=typeof w[0]=="function"?w[0].call(k,E,p.html(k.children)):w;_(R,z+1,0,P._makeDomArray(N,E<b),L)}}})},i.insertAfter=function(P){var w=this;typeof P=="string"&&(P=this._make(P)),this.remove();var T=[];return this._makeDomArray(P).forEach(function(b){var k=w.clone().toArray(),E=b.parent;if(E){var L=E.children,R=L.indexOf(b);R<0||(_(L,R+1,0,k,E),T.push.apply(T,k))}}),this._make(T)},i.before=function(){for(var P=this,w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var b=this.length-1;return g.domEach(this,function(k,E){var L=k.parent;if(h.DomUtils.hasChildren(k)&&L){var R=L.children,z=R.indexOf(k);if(!(z<0)){var N=typeof w[0]=="function"?w[0].call(k,E,p.html(k.children)):w;_(R,z,0,P._makeDomArray(N,E<b),L)}}})},i.insertBefore=function(P){var w=this,T=this._make(P);this.remove();var b=[];return g.domEach(T,function(k){var E=w.clone().toArray(),L=k.parent;if(L){var R=L.children,z=R.indexOf(k);z<0||(_(R,z,0,E,L),b.push.apply(b,E))}}),this._make(b)},i.remove=function(P){var w=P?this.filter(P):this;return g.domEach(w,function(T){h.DomUtils.removeElement(T),T.prev=T.next=T.parent=null}),this},i.replaceWith=function(P){var w=this;return g.domEach(this,function(T,b){var k=T.parent;if(k){var E=k.children,L=typeof P=="function"?P.call(T,b,T):P,R=w._makeDomArray(L);u.update(R,null);var z=E.indexOf(T);_(E,z,1,R,k),R.includes(T)||(T.parent=T.prev=T.next=null)}})},i.empty=function(){return g.domEach(this,function(P){h.DomUtils.hasChildren(P)&&(P.children.forEach(function(w){w.next=w.prev=w.parent=null}),P.children.length=0)})},i.html=function(P){if(P===void 0){var w=this[0];return w&&h.DomUtils.hasChildren(w)?p.html(w.children,this.options):null}var T=s.__assign(s.__assign({},this.options),{context:null});return g.domEach(this,function(b){if(h.DomUtils.hasChildren(b)){b.children.forEach(function(E){E.next=E.prev=E.parent=null}),T.context=b;var k=g.isCheerio(P)?P.toArray():u.default(""+P,T,!1).children;u.update(k,b)}})},i.toString=function(){return p.html(this,this.options)},i.text=function P(w){var T=this;return w===void 0?p.text(this):typeof w=="function"?g.domEach(this,function(b,k){P.call(T._make(b),w.call(b,k,p.text([b])))}):g.domEach(this,function(b){if(h.DomUtils.hasChildren(b)){b.children.forEach(function(E){E.next=E.prev=E.parent=null});var k=new c.Text(w);u.update(k,b)}})},i.clone=function(){return this._make(g.cloneDom(this.get()))}},1042:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.addBack=i.add=i.end=i.slice=i.index=i.toArray=i.get=i.eq=i.last=i.first=i.has=i.not=i.is=i.filterArray=i.filter=i.map=i.each=i.contents=i.children=i.siblings=i.prevUntil=i.prevAll=i.prev=i.nextUntil=i.nextAll=i.next=i.closest=i.parentsUntil=i.parents=i.parent=i.find=void 0;var s=a(655),l=a(7915),c=s.__importStar(a(7248)),u=a(5633),p=a(6634),g=a(3719),h=g.DomUtils.uniqueSort,y=/^\s*[~+]/;function _(E){return function(L){for(var R=[],z=1;z<arguments.length;z++)R[z-1]=arguments[z];return function(N){var j,D=E(L,this);return N&&(D=k(D,N,this.options.xmlMode,(j=this._root)===null||j===void 0?void 0:j[0])),this._make(this.length>1&&D.length>1?R.reduce(function(W,q){return q(W)},D):D)}}}i.find=function(E){var L;if(!E)return this._make([]);var R=this.toArray();if(typeof E!="string"){var z=u.isCheerio(E)?E.toArray():[E];return this._make(z.filter(function(D){return R.some(function(W){return p.contains(W,D)})}))}var N=y.test(E)?R:this.children().toArray(),j={context:R,root:(L=this._root)===null||L===void 0?void 0:L[0],xmlMode:this.options.xmlMode};return this._make(c.select(E,N,j))};var x=_(function(E,L){for(var R,z=[],N=0;N<L.length;N++){var j=E(L[N]);z.push(j)}return(R=new Array).concat.apply(R,z)}),P=_(function(E,L){for(var R=[],z=0;z<L.length;z++){var N=E(L[z]);N!==null&&R.push(N)}return R});function w(E){for(var L=[],R=1;R<arguments.length;R++)L[R-1]=arguments[R];var z=null,N=_(function(j,D){var W=[];return u.domEach(D,function(q){for(var J;(J=j(q))&&!z?.(J,W.length);q=J)W.push(J)}),W}).apply(void 0,s.__spreadArray([E],L));return function(j,D){var W=this;z=typeof j=="string"?function(J){return c.is(J,j,W.options)}:j?b(j):null;var q=N.call(this,D);return z=null,q}}function T(E){return Array.from(new Set(E))}function b(E){return typeof E=="function"?function(L,R){return E.call(L,R,L)}:u.isCheerio(E)?function(L){return Array.prototype.includes.call(E,L)}:function(L){return E===L}}function k(E,L,R,z){return typeof L=="string"?c.filter(L,E,{xmlMode:R,root:z}):E.filter(b(L))}i.parent=P(function(E){var L=E.parent;return L&&!l.isDocument(L)?L:null},T),i.parents=x(function(E){for(var L=[];E.parent&&!l.isDocument(E.parent);)L.push(E.parent),E=E.parent;return L},h,function(E){return E.reverse()}),i.parentsUntil=w(function(E){var L=E.parent;return L&&!l.isDocument(L)?L:null},h,function(E){return E.reverse()}),i.closest=function(E){var L=this,R=[];return E?(u.domEach(this,function(z){for(var N;z&&z.type!=="root";){if(!E||k([z],E,L.options.xmlMode,(N=L._root)===null||N===void 0?void 0:N[0]).length){z&&!R.includes(z)&&R.push(z);break}z=z.parent}}),this._make(R)):this._make(R)},i.next=P(function(E){return g.DomUtils.nextElementSibling(E)}),i.nextAll=x(function(E){for(var L=[];E.next;)E=E.next,u.isTag(E)&&L.push(E);return L},T),i.nextUntil=w(function(E){return g.DomUtils.nextElementSibling(E)},T),i.prev=P(function(E){return g.DomUtils.prevElementSibling(E)}),i.prevAll=x(function(E){for(var L=[];E.prev;)E=E.prev,u.isTag(E)&&L.push(E);return L},T),i.prevUntil=w(function(E){return g.DomUtils.prevElementSibling(E)},T),i.siblings=x(function(E){return g.DomUtils.getSiblings(E).filter(function(L){return u.isTag(L)&&L!==E})},h),i.children=x(function(E){return g.DomUtils.getChildren(E).filter(u.isTag)},T),i.contents=function(){var E=this.toArray().reduce(function(L,R){return l.hasChildren(R)?L.concat(R.children):L},[]);return this._make(E)},i.each=function(E){for(var L=0,R=this.length;L<R&&E.call(this[L],L,this[L])!==!1;)++L;return this},i.map=function(E){for(var L=[],R=0;R<this.length;R++){var z=this[R],N=E.call(z,R,z);N!=null&&(L=L.concat(N))}return this._make(L)},i.filter=function(E){var L;return this._make(k(this.toArray(),E,this.options.xmlMode,(L=this._root)===null||L===void 0?void 0:L[0]))},i.filterArray=k,i.is=function(E){var L=this.toArray();return typeof E=="string"?c.some(L.filter(u.isTag),E,this.options):!!E&&L.some(b(E))},i.not=function(E){var L=this.toArray();if(typeof E=="string"){var R=new Set(c.filter(E,L,this.options));L=L.filter(function(N){return!R.has(N)})}else{var z=b(E);L=L.filter(function(N,j){return!z(N,j)})}return this._make(L)},i.has=function(E){var L=this;return this.filter(typeof E=="string"?":has("+E+")":function(R,z){return L._make(z).find(E).length>0})},i.first=function(){return this.length>1?this._make(this[0]):this},i.last=function(){return this.length>0?this._make(this[this.length-1]):this},i.eq=function(E){var L;return(E=+E)==0&&this.length<=1?this:(E<0&&(E=this.length+E),this._make((L=this[E])!==null&&L!==void 0?L:[]))},i.get=function(E){return E==null?this.toArray():this[E<0?this.length+E:E]},i.toArray=function(){return Array.prototype.slice.call(this)},i.index=function(E){var L,R;return E==null?(L=this.parent().children(),R=this[0]):typeof E=="string"?(L=this._make(E),R=this[0]):(L=this,R=u.isCheerio(E)?E[0]:E),Array.prototype.indexOf.call(L,R)},i.slice=function(E,L){return this._make(Array.prototype.slice.call(this,E,L))},i.end=function(){var E;return(E=this.prevObject)!==null&&E!==void 0?E:this._make([])},i.add=function(E,L){var R=this._make(E,L),z=h(s.__spreadArray(s.__spreadArray([],this.get()),R.get()));return this._make(z)},i.addBack=function(E){return this.prevObject?this.add(E?this.prevObject.filter(E):this.prevObject):this}},7911:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Cheerio=void 0;var s=a(655),l=s.__importDefault(a(5012)),c=s.__importDefault(a(2754)),u=a(5633),p=s.__importStar(a(6451)),g=s.__importStar(a(1042)),h=s.__importStar(a(848)),y=s.__importStar(a(9806)),_=s.__importStar(a(3432)),x=function(){function P(w,T,b,k){var E=this;if(k===void 0&&(k=c.default),this.length=0,this.options=k,!w)return this;if(b&&(typeof b=="string"&&(b=l.default(b,this.options,!1)),this._root=new this.constructor(b,null,null,this.options),this._root._root=this._root),u.isCheerio(w))return w;var L,R=typeof w=="string"&&u.isHtml(w)?l.default(w,this.options,!1).children:(L=w).name||L.type==="root"||L.type==="text"||L.type==="comment"?[w]:Array.isArray(w)?w:null;if(R)return R.forEach(function(j,D){E[D]=j}),this.length=R.length,this;var z=w,N=T?typeof T=="string"?u.isHtml(T)?this._make(l.default(T,this.options,!1)):(z=T+" "+z,this._root):u.isCheerio(T)?T:this._make(T):this._root;return N?N.find(z):this}return P.prototype._make=function(w,T){var b=new this.constructor(w,T,this._root,this.options);return b.prevObject=this,b},P}();i.Cheerio=x,x.prototype.cheerio="[cheerio object]",x.prototype.splice=Array.prototype.splice,x.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(x.prototype,p,g,h,y,_)},7503:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.root=i.parseHTML=i.merge=i.contains=void 0;var s=a(655);s.__exportStar(a(8701),i),s.__exportStar(a(3434),i);var l=a(3434);i.default=l.load([]);var c=s.__importStar(a(6634));i.contains=c.contains,i.merge=c.merge,i.parseHTML=c.parseHTML,i.root=c.root},3434:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.load=void 0;var s=a(655),l=s.__importStar(a(2754)),c=s.__importStar(a(6634)),u=a(7911),p=s.__importDefault(a(5012));i.load=function g(h,y,_){if(_===void 0&&(_=!0),h==null)throw new Error("cheerio.load() expects a string");var x=s.__assign(s.__assign({},l.default),l.flatten(y)),P=p.default(h,x,_),w=function(b){function k(){return b!==null&&b.apply(this,arguments)||this}return s.__extends(k,b),k}(u.Cheerio);function T(b,k,E,L){return E===void 0&&(E=P),new w(b,k,E,s.__assign(s.__assign({},x),l.flatten(L)))}return Object.assign(T,c,{load:g,_root:P,_options:x,fn:w.prototype,prototype:w.prototype}),T}},2754:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.flatten=void 0;var s=a(655);i.default={xml:!1,decodeEntities:!0};var l={_useHtmlParser2:!0,xmlMode:!0};i.flatten=function(c){return c?.xml?typeof c.xml=="boolean"?l:s.__assign(s.__assign({},l),c.xml):c??void 0}},5012:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.update=void 0;var s=a(3719),l=a(8585),c=a(7957),u=a(7915);function p(g,h){var y=Array.isArray(g)?g:[g];h?h.children=y:h=null;for(var _=0;_<y.length;_++){var x=y[_];x.parent&&x.parent.children!==y&&s.DomUtils.removeElement(x),h?(x.prev=y[_-1]||null,x.next=y[_+1]||null):x.prev=x.next=null,x.parent=h}return h}i.default=function(g,h,y){if(typeof Buffer<"u"&&Buffer.isBuffer(g)&&(g=g.toString()),typeof g=="string")return h.xmlMode||h._useHtmlParser2?l.parse(g,h):c.parse(g,h,y);var _=g;if(!Array.isArray(_)&&u.isDocument(_))return _;var x=new u.Document([]);return p(_,x),x},i.update=p},8585:function(r,i,a){"use strict";var s=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.render=i.parse=void 0;var l=a(3719);Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return l.parseDocument}});var c=a(7220);Object.defineProperty(i,"render",{enumerable:!0,get:function(){return s(c).default}})},7957:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.render=i.parse=void 0;var s=a(655),l=a(7915),c=a(2394),u=s.__importDefault(a(1906));i.parse=function(p,g,h){var y={scriptingEnabled:typeof g.scriptingEnabled!="boolean"||g.scriptingEnabled,treeAdapter:u.default,sourceCodeLocationInfo:g.sourceCodeLocationInfo},_=g.context;return h?c.parse(p,y):c.parseFragment(_,p,y)},i.render=function(p){for(var g,h=("length"in p)?p:[p],y=0;y<h.length;y+=1){var _=h[y];l.isDocument(_)&&(g=Array.prototype.splice).call.apply(g,s.__spreadArray([h,y,1],_.children))}return c.serialize({children:h},{treeAdapter:u.default})}},6634:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.merge=i.contains=i.root=i.parseHTML=i.text=i.xml=i.html=void 0;var s=a(655),l=s.__importStar(a(2754)),c=a(7248),u=a(3719),p=a(7957),g=a(8585);function h(_,x,P){var w,T=x?typeof x=="string"?c.select(x,(w=_?._root)!==null&&w!==void 0?w:[],P):x:_?._root.children;return T?P.xmlMode||P._useHtmlParser2?g.render(T,P):p.render(T):""}function y(_){if(Array.isArray(_))return!0;if(typeof _!="object"||!Object.prototype.hasOwnProperty.call(_,"length")||typeof _.length!="number"||_.length<0)return!1;for(var x=0;x<_.length;x++)if(!(x in _))return!1;return!0}i.html=function(_,x){return!x&&function(P){return typeof P=="object"&&P!=null&&!("length"in P)&&!("type"in P)}(_)&&(x=_,_=void 0),h(this||void 0,_,s.__assign(s.__assign(s.__assign({},l.default),this?this._options:{}),l.flatten(x??{})))},i.xml=function(_){return h(this,_,s.__assign(s.__assign({},this._options),{xmlMode:!0}))},i.text=function _(x){for(var P=x||(this?this.root():[]),w="",T=0;T<P.length;T++){var b=P[T];u.DomUtils.isText(b)?w+=b.data:u.DomUtils.hasChildren(b)&&b.type!==u.ElementType.Comment&&b.type!==u.ElementType.Script&&b.type!==u.ElementType.Style&&(w+=_(b.children))}return w},i.parseHTML=function(_,x,P){if(P===void 0&&(P=typeof x=="boolean"&&x),!_||typeof _!="string")return null;typeof x=="boolean"&&(P=x);var w=this.load(_,l.default,!1);return P||w("script").remove(),w.root()[0].children.slice()},i.root=function(){return this(this._root)},i.contains=function(_,x){if(x===_)return!1;for(var P=x;P&&P!==P.parent;)if((P=P.parent)===_)return!0;return!1},i.merge=function(_,x){if(y(_)&&y(x)){for(var P=_.length,w=+x.length,T=0;T<w;T++)_[P++]=x[T];return _.length=P,_}}},8701:(r,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0})},5633:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isHtml=i.cloneDom=i.domEach=i.cssCase=i.camelCase=i.isCheerio=i.isTag=void 0;var s=a(3719),l=a(7915);i.isTag=s.DomUtils.isTag,i.isCheerio=function(u){return u.cheerio!=null},i.camelCase=function(u){return u.replace(/[_.-](\w|$)/g,function(p,g){return g.toUpperCase()})},i.cssCase=function(u){return u.replace(/[A-Z]/g,"-$&").toLowerCase()},i.domEach=function(u,p){for(var g=u.length,h=0;h<g;h++)p(u[h],h);return u},i.cloneDom=function(u){var p="length"in u?Array.prototype.map.call(u,function(h){return l.cloneNode(h,!0)}):[l.cloneNode(u,!0)],g=new l.Document(p);return p.forEach(function(h){h.parent=g}),p};var c=/<[a-zA-Z][^]*>/;i.isHtml=function(u){return c.test(u)}},996:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.attributeRules=void 0;var s=a(1073),l=/[-[\]{}()*+?.,\\^$|#\s]/g;function c(g){return g.replace(l,"\\$&")}var u=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function p(g,h){return typeof g.ignoreCase=="boolean"?g.ignoreCase:g.ignoreCase==="quirks"?!!h.quirksMode:!h.xmlMode&&u.has(g.name)}i.attributeRules={equals:function(g,h,y){var _=y.adapter,x=h.name,P=h.value;return p(h,y)?(P=P.toLowerCase(),function(w){var T=_.getAttributeValue(w,x);return T!=null&&T.length===P.length&&T.toLowerCase()===P&&g(w)}):function(w){return _.getAttributeValue(w,x)===P&&g(w)}},hyphen:function(g,h,y){var _=y.adapter,x=h.name,P=h.value,w=P.length;return p(h,y)?(P=P.toLowerCase(),function(T){var b=_.getAttributeValue(T,x);return b!=null&&(b.length===w||b.charAt(w)==="-")&&b.substr(0,w).toLowerCase()===P&&g(T)}):function(T){var b=_.getAttributeValue(T,x);return b!=null&&(b.length===w||b.charAt(w)==="-")&&b.substr(0,w)===P&&g(T)}},element:function(g,h,y){var _=y.adapter,x=h.name,P=h.value;if(/\s/.test(P))return s.falseFunc;var w=new RegExp("(?:^|\\s)".concat(c(P),"(?:$|\\s)"),p(h,y)?"i":"");return function(T){var b=_.getAttributeValue(T,x);return b!=null&&b.length>=P.length&&w.test(b)&&g(T)}},exists:function(g,h,y){var _=h.name,x=y.adapter;return function(P){return x.hasAttrib(P,_)&&g(P)}},start:function(g,h,y){var _=y.adapter,x=h.name,P=h.value,w=P.length;return w===0?s.falseFunc:p(h,y)?(P=P.toLowerCase(),function(T){var b=_.getAttributeValue(T,x);return b!=null&&b.length>=w&&b.substr(0,w).toLowerCase()===P&&g(T)}):function(T){var b;return!!(!((b=_.getAttributeValue(T,x))===null||b===void 0)&&b.startsWith(P))&&g(T)}},end:function(g,h,y){var _=y.adapter,x=h.name,P=h.value,w=-P.length;return w===0?s.falseFunc:p(h,y)?(P=P.toLowerCase(),function(T){var b;return((b=_.getAttributeValue(T,x))===null||b===void 0?void 0:b.substr(w).toLowerCase())===P&&g(T)}):function(T){var b;return!!(!((b=_.getAttributeValue(T,x))===null||b===void 0)&&b.endsWith(P))&&g(T)}},any:function(g,h,y){var _=y.adapter,x=h.name,P=h.value;if(P==="")return s.falseFunc;if(p(h,y)){var w=new RegExp(c(P),"i");return function(T){var b=_.getAttributeValue(T,x);return b!=null&&b.length>=P.length&&w.test(b)&&g(T)}}return function(T){var b;return!!(!((b=_.getAttributeValue(T,x))===null||b===void 0)&&b.includes(P))&&g(T)}},not:function(g,h,y){var _=y.adapter,x=h.name,P=h.value;return P===""?function(w){return!!_.getAttributeValue(w,x)&&g(w)}:p(h,y)?(P=P.toLowerCase(),function(w){var T=_.getAttributeValue(w,x);return(T==null||T.length!==P.length||T.toLowerCase()!==P)&&g(w)}):function(w){return _.getAttributeValue(w,x)!==P&&g(w)}}}},8866:function(r,i,a){"use strict";var s=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(i,"__esModule",{value:!0}),i.compileToken=i.compileUnsafe=i.compile=void 0;var l=a(7763),c=a(1073),u=s(a(7353)),p=a(7177),g=a(3621),h=a(1768);function y(k,E,L){return T(typeof k=="string"?(0,l.parse)(k):k,E,L)}function _(k){return k.type==="pseudo"&&(k.name==="scope"||Array.isArray(k.data)&&k.data.some(function(E){return E.some(_)}))}i.compile=function(k,E,L){var R=y(k,E,L);return(0,h.ensureIsTag)(R,E.adapter)},i.compileUnsafe=y;var x={type:l.SelectorType.Descendant},P={type:"_flexibleDescendant"},w={type:l.SelectorType.Pseudo,name:"scope",data:null};function T(k,E,L){var R;(k=k.filter(function(W){return W.length>0})).forEach(u.default),L=(R=E.context)!==null&&R!==void 0?R:L;var z=Array.isArray(L),N=L&&(Array.isArray(L)?L:[L]);(function(W,q,J){for(var I=q.adapter,Z=!!J?.every(function(Gt){var Pt=I.isTag(Gt)&&I.getParent(Gt);return Gt===h.PLACEHOLDER_ELEMENT||Pt&&I.isTag(Pt)}),et=0,ut=W;et<ut.length;et++){var Rt=ut[et];if(!(Rt.length>0&&(0,p.isTraversal)(Rt[0])&&Rt[0].type!=="descendant")){if(!Z||Rt.some(_))continue;Rt.unshift(x)}Rt.unshift(w)}})(k,E,N);var j=!1,D=k.map(function(W){if(W.length>=2){var q=W[0],J=W[1];q.type!=="pseudo"||q.name!=="scope"||(z&&J.type==="descendant"?W[1]=P:J.type!=="adjacent"&&J.type!=="sibling"||(j=!0))}return function(I,Z,et){var ut;return I.reduce(function(Rt,Gt){return Rt===c.falseFunc?c.falseFunc:(0,g.compileGeneralSelector)(Rt,Gt,Z,et,T)},(ut=Z.rootFunc)!==null&&ut!==void 0?ut:c.trueFunc)}(W,E,N)}).reduce(b,c.falseFunc);return D.shouldTestNextSiblings=j,D}function b(k,E){return E===c.falseFunc||k===c.trueFunc?k:k===c.falseFunc||E===c.trueFunc?E:function(L){return k(L)||E(L)}}i.compileToken=T},3621:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.compileGeneralSelector=void 0;var s=a(996),l=a(8677),c=a(7763);i.compileGeneralSelector=function(u,p,g,h,y){var _=g.adapter,x=g.equals;switch(p.type){case c.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case c.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case c.SelectorType.Attribute:if(p.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return g.xmlMode&&!g.lowerCaseAttributeNames||(p.name=p.name.toLowerCase()),s.attributeRules[p.action](u,p,g);case c.SelectorType.Pseudo:return(0,l.compilePseudoSelector)(u,p,g,h,y);case c.SelectorType.Tag:if(p.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var P=p.name;return g.xmlMode&&!g.lowerCaseTags||(P=P.toLowerCase()),function(T){return _.getName(T)===P&&u(T)};case c.SelectorType.Descendant:if(g.cacheResults===!1||typeof WeakSet>"u")return function(T){for(var b=T;b=_.getParent(b);)if(_.isTag(b)&&u(b))return!0;return!1};var w=new WeakSet;return function(T){for(var b=T;b=_.getParent(b);)if(!w.has(b)){if(_.isTag(b)&&u(b))return!0;w.add(b)}return!1};case"_flexibleDescendant":return function(T){var b=T;do if(_.isTag(b)&&u(b))return!0;while(b=_.getParent(b));return!1};case c.SelectorType.Parent:return function(T){return _.getChildren(T).some(function(b){return _.isTag(b)&&u(b)})};case c.SelectorType.Child:return function(T){var b=_.getParent(T);return b!=null&&_.isTag(b)&&u(b)};case c.SelectorType.Sibling:return function(T){for(var b=_.getSiblings(T),k=0;k<b.length;k++){var E=b[k];if(x(T,E))break;if(_.isTag(E)&&u(E))return!0}return!1};case c.SelectorType.Adjacent:return _.prevElementSibling?function(T){var b=_.prevElementSibling(T);return b!=null&&u(b)}:function(T){for(var b,k=_.getSiblings(T),E=0;E<k.length;E++){var L=k[E];if(x(T,L))break;_.isTag(L)&&(b=L)}return!!b&&u(b)};case c.SelectorType.Universal:if(p.namespace!=null&&p.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return u}}},5366:function(r,i,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(k,E,L,R){R===void 0&&(R=L);var z=Object.getOwnPropertyDescriptor(E,L);z&&!("get"in z?!E.__esModule:z.writable||z.configurable)||(z={enumerable:!0,get:function(){return E[L]}}),Object.defineProperty(k,R,z)}:function(k,E,L,R){R===void 0&&(R=L),k[R]=E[L]}),l=this&&this.__setModuleDefault||(Object.create?function(k,E){Object.defineProperty(k,"default",{enumerable:!0,value:E})}:function(k,E){k.default=E}),c=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var E={};if(k!=null)for(var L in k)L!=="default"&&Object.prototype.hasOwnProperty.call(k,L)&&s(E,k,L);return l(E,k),E};Object.defineProperty(i,"__esModule",{value:!0}),i.aliases=i.pseudos=i.filters=i.is=i.selectOne=i.selectAll=i.prepareContext=i._compileToken=i._compileUnsafe=i.compile=void 0;var u=c(a(9432)),p=a(1073),g=a(8866),h=a(1768),y=function(k,E){return k===E},_={adapter:u,equals:y};function x(k){var E,L,R,z,N=k??_;return(E=N.adapter)!==null&&E!==void 0||(N.adapter=u),(L=N.equals)!==null&&L!==void 0||(N.equals=(z=(R=N.adapter)===null||R===void 0?void 0:R.equals)!==null&&z!==void 0?z:y),N}function P(k){return function(E,L,R){var z=x(L);return k(E,z,R)}}function w(k){return function(E,L,R){var z=x(R);typeof E!="function"&&(E=(0,g.compileUnsafe)(E,z,L));var N=T(L,z.adapter,E.shouldTestNextSiblings);return k(E,N,z)}}function T(k,E,L){return L===void 0&&(L=!1),L&&(k=function(R,z){for(var N=Array.isArray(R)?R.slice(0):[R],j=N.length,D=0;D<j;D++){var W=(0,h.getNextSiblings)(N[D],z);N.push.apply(N,W)}return N}(k,E)),Array.isArray(k)?E.removeSubsets(k):E.getChildren(k)}i.compile=P(g.compile),i._compileUnsafe=P(g.compileUnsafe),i._compileToken=P(g.compileToken),i.prepareContext=T,i.selectAll=w(function(k,E,L){return k!==p.falseFunc&&E&&E.length!==0?L.adapter.findAll(k,E):[]}),i.selectOne=w(function(k,E,L){return k!==p.falseFunc&&E&&E.length!==0?L.adapter.findOne(k,E):null}),i.is=function(k,E,L){var R=x(L);return(typeof E=="function"?E:(0,g.compile)(E,R))(k)},i.default=i.selectAll;var b=a(8677);Object.defineProperty(i,"filters",{enumerable:!0,get:function(){return b.filters}}),Object.defineProperty(i,"pseudos",{enumerable:!0,get:function(){return b.pseudos}}),Object.defineProperty(i,"aliases",{enumerable:!0,get:function(){return b.aliases}})},7177:(r,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isTraversal=i.procedure=void 0,i.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1},i.isTraversal=function(a){return i.procedure[a.type]<0}},2968:(r,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.aliases=void 0,i.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}},7689:function(r,i,a){"use strict";var s=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(i,"__esModule",{value:!0}),i.filters=void 0;var l=s(a(7540)),c=a(1073);function u(g,h){return function(y){var _=h.getParent(y);return _!=null&&h.isTag(_)&&g(y)}}function p(g){return function(h,y,_){var x=_.adapter[g];return typeof x!="function"?c.falseFunc:function(P){return x(P)&&h(P)}}}i.filters={contains:function(g,h,y){var _=y.adapter;return function(x){return g(x)&&_.getText(x).includes(h)}},icontains:function(g,h,y){var _=y.adapter,x=h.toLowerCase();return function(P){return g(P)&&_.getText(P).toLowerCase().includes(x)}},"nth-child":function(g,h,y){var _=y.adapter,x=y.equals,P=(0,l.default)(h);return P===c.falseFunc?c.falseFunc:P===c.trueFunc?u(g,_):function(w){for(var T=_.getSiblings(w),b=0,k=0;k<T.length&&!x(w,T[k]);k++)_.isTag(T[k])&&b++;return P(b)&&g(w)}},"nth-last-child":function(g,h,y){var _=y.adapter,x=y.equals,P=(0,l.default)(h);return P===c.falseFunc?c.falseFunc:P===c.trueFunc?u(g,_):function(w){for(var T=_.getSiblings(w),b=0,k=T.length-1;k>=0&&!x(w,T[k]);k--)_.isTag(T[k])&&b++;return P(b)&&g(w)}},"nth-of-type":function(g,h,y){var _=y.adapter,x=y.equals,P=(0,l.default)(h);return P===c.falseFunc?c.falseFunc:P===c.trueFunc?u(g,_):function(w){for(var T=_.getSiblings(w),b=0,k=0;k<T.length;k++){var E=T[k];if(x(w,E))break;_.isTag(E)&&_.getName(E)===_.getName(w)&&b++}return P(b)&&g(w)}},"nth-last-of-type":function(g,h,y){var _=y.adapter,x=y.equals,P=(0,l.default)(h);return P===c.falseFunc?c.falseFunc:P===c.trueFunc?u(g,_):function(w){for(var T=_.getSiblings(w),b=0,k=T.length-1;k>=0;k--){var E=T[k];if(x(w,E))break;_.isTag(E)&&_.getName(E)===_.getName(w)&&b++}return P(b)&&g(w)}},root:function(g,h,y){var _=y.adapter;return function(x){var P=_.getParent(x);return(P==null||!_.isTag(P))&&g(x)}},scope:function(g,h,y,_){var x=y.equals;return _&&_.length!==0?_.length===1?function(P){return x(_[0],P)&&g(P)}:function(P){return _.includes(P)&&g(P)}:i.filters.root(g,h,y)},hover:p("isHovered"),visited:p("isVisited"),active:p("isActive")}},8677:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.compilePseudoSelector=i.aliases=i.pseudos=i.filters=void 0;var s=a(1073),l=a(7763),c=a(7689);Object.defineProperty(i,"filters",{enumerable:!0,get:function(){return c.filters}});var u=a(7221);Object.defineProperty(i,"pseudos",{enumerable:!0,get:function(){return u.pseudos}});var p=a(2968);Object.defineProperty(i,"aliases",{enumerable:!0,get:function(){return p.aliases}});var g=a(1768);i.compilePseudoSelector=function(h,y,_,x,P){var w=y.name,T=y.data;if(Array.isArray(T))return g.subselects[w](h,T,_,x,P);if(w in p.aliases){if(T!=null)throw new Error("Pseudo ".concat(w," doesn't have any arguments"));var b=(0,l.parse)(p.aliases[w]);return g.subselects.is(h,b,_,x,P)}if(w in c.filters)return c.filters[w](h,T,_,x);if(w in u.pseudos){var k=u.pseudos[w];return(0,u.verifyPseudoArgs)(k,w,T),k===s.falseFunc?s.falseFunc:h===s.trueFunc?function(E){return k(E,_,T)}:function(E){return k(E,_,T)&&h(E)}}throw new Error("unmatched pseudo-class :".concat(w))}},7221:(r,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.verifyPseudoArgs=i.pseudos=void 0,i.pseudos={empty:function(a,s){var l=s.adapter;return!l.getChildren(a).some(function(c){return l.isTag(c)||l.getText(c)!==""})},"first-child":function(a,s){var l=s.adapter,c=s.equals,u=l.getSiblings(a).find(function(p){return l.isTag(p)});return u!=null&&c(a,u)},"last-child":function(a,s){for(var l=s.adapter,c=s.equals,u=l.getSiblings(a),p=u.length-1;p>=0;p--){if(c(a,u[p]))return!0;if(l.isTag(u[p]))break}return!1},"first-of-type":function(a,s){for(var l=s.adapter,c=s.equals,u=l.getSiblings(a),p=l.getName(a),g=0;g<u.length;g++){var h=u[g];if(c(a,h))return!0;if(l.isTag(h)&&l.getName(h)===p)break}return!1},"last-of-type":function(a,s){for(var l=s.adapter,c=s.equals,u=l.getSiblings(a),p=l.getName(a),g=u.length-1;g>=0;g--){var h=u[g];if(c(a,h))return!0;if(l.isTag(h)&&l.getName(h)===p)break}return!1},"only-of-type":function(a,s){var l=s.adapter,c=s.equals,u=l.getName(a);return l.getSiblings(a).every(function(p){return c(a,p)||!l.isTag(p)||l.getName(p)!==u})},"only-child":function(a,s){var l=s.adapter,c=s.equals;return l.getSiblings(a).every(function(u){return c(a,u)||!l.isTag(u)})}},i.verifyPseudoArgs=function(a,s,l){if(l===null){if(a.length>2)throw new Error("pseudo-selector :".concat(s," requires an argument"))}else if(a.length===2)throw new Error("pseudo-selector :".concat(s," doesn't have any arguments"))}},1768:function(r,i,a){"use strict";var s=this&&this.__spreadArray||function(h,y,_){if(_||arguments.length===2)for(var x,P=0,w=y.length;P<w;P++)!x&&P in y||(x||(x=Array.prototype.slice.call(y,0,P)),x[P]=y[P]);return h.concat(x||Array.prototype.slice.call(y))};Object.defineProperty(i,"__esModule",{value:!0}),i.subselects=i.getNextSiblings=i.ensureIsTag=i.PLACEHOLDER_ELEMENT=void 0;var l=a(1073),c=a(7177);function u(h,y){return h===l.falseFunc?l.falseFunc:function(_){return y.isTag(_)&&h(_)}}function p(h,y){var _=y.getSiblings(h);if(_.length<=1)return[];var x=_.indexOf(h);return x<0||x===_.length-1?[]:_.slice(x+1).filter(y.isTag)}i.PLACEHOLDER_ELEMENT={},i.ensureIsTag=u,i.getNextSiblings=p;var g=function(h,y,_,x,P){var w=P(y,{xmlMode:!!_.xmlMode,adapter:_.adapter,equals:_.equals},x);return function(T){return w(T)&&h(T)}};i.subselects={is:g,matches:g,where:g,not:function(h,y,_,x,P){var w=P(y,{xmlMode:!!_.xmlMode,adapter:_.adapter,equals:_.equals},x);return w===l.falseFunc?h:w===l.trueFunc?l.falseFunc:function(T){return!w(T)&&h(T)}},has:function(h,y,_,x,P){var w=_.adapter,T={xmlMode:!!_.xmlMode,adapter:w,equals:_.equals},b=y.some(function(z){return z.some(c.isTraversal)})?[i.PLACEHOLDER_ELEMENT]:void 0,k=P(y,T,b);if(k===l.falseFunc)return l.falseFunc;if(k===l.trueFunc)return function(z){return w.getChildren(z).some(w.isTag)&&h(z)};var E=u(k,w),L=k.shouldTestNextSiblings,R=L!==void 0&&L;return b?function(z){b[0]=z;var N=w.getChildren(z),j=R?s(s([],N,!0),p(z,w),!0):N;return h(z)&&w.existsOne(E,j)}:function(z){return h(z)&&w.existsOne(E,w.getChildren(z))}}}},7353:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=a(7763),l=a(7177),c={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function u(p){var g=l.procedure[p.type];if(p.type===s.SelectorType.Attribute)(g=c[p.action])===c.equals&&p.name==="id"&&(g=9),p.ignoreCase&&(g>>=1);else if(p.type===s.SelectorType.Pseudo)if(p.data)if(p.name==="has"||p.name==="contains")g=0;else if(Array.isArray(p.data)){g=0;for(var h=0;h<p.data.length;h++)if(p.data[h].length===1){var y=u(p.data[h][0]);if(y===0){g=0;break}y>g&&(g=y)}p.data.length>1&&g>0&&(g-=1)}else g=1;else g=3;return g}i.default=function(p){for(var g=p.map(u),h=1;h<p.length;h++){var y=g[h];if(!(y<0))for(var _=h-1;_>=0&&y<g[_];_--){var x=p[_+1];p[_+1]=p[_],p[_]=x,g[_+1]=g[_],g[_]=y}}}},7763:(r,i,a)=>{"use strict";var s;a.r(i),a.d(i,{AttributeAction:()=>c,IgnoreCaseMode:()=>l,SelectorType:()=>s,isTraversal:()=>y,parse:()=>b,stringify:()=>j}),function(I){I.Attribute="attribute",I.Pseudo="pseudo",I.PseudoElement="pseudo-element",I.Tag="tag",I.Universal="universal",I.Adjacent="adjacent",I.Child="child",I.Descendant="descendant",I.Parent="parent",I.Sibling="sibling",I.ColumnCombinator="column-combinator"}(s||(s={}));let l={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var c;(function(I){I.Any="any",I.Element="element",I.End="end",I.Equals="equals",I.Exists="exists",I.Hyphen="hyphen",I.Not="not",I.Start="start"})(c||(c={}));let u=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,p=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,g=new Map([[126,c.Element],[94,c.Start],[36,c.End],[42,c.Any],[33,c.Not],[124,c.Hyphen]]),h=new Set(["has","not","matches","is","where","host","host-context"]);function y(I){switch(I.type){case s.Adjacent:case s.Child:case s.Descendant:case s.Parent:case s.Sibling:case s.ColumnCombinator:return!0;default:return!1}}let _=new Set(["contains","icontains"]);function x(I,Z,et){let ut=parseInt(Z,16)-65536;return ut!=ut||et?Z:ut<0?String.fromCharCode(ut+65536):String.fromCharCode(ut>>10|55296,1023&ut|56320)}function P(I){return I.replace(p,x)}function w(I){return I===39||I===34}function T(I){return I===32||I===9||I===10||I===12||I===13}function b(I){let Z=[],et=k(Z,`${I}`,0);if(et<I.length)throw new Error(`Unmatched selector: ${I.slice(et)}`);return Z}function k(I,Z,et){let ut=[];function Rt(Nt){let Ht=Z.slice(et+Nt).match(u);if(!Ht)throw new Error(`Expected name, found ${Z.slice(et)}`);let[It]=Ht;return et+=Nt+It.length,P(It)}function Gt(Nt){for(et+=Nt;et<Z.length&&T(Z.charCodeAt(et));)et++}function Pt(){let Nt=et+=1,Ht=1;for(;Ht>0&&et<Z.length;et++)Z.charCodeAt(et)!==40||_t(et)?Z.charCodeAt(et)!==41||_t(et)||Ht--:Ht++;if(Ht)throw new Error("Parenthesis not matched");return P(Z.slice(Nt,et-1))}function _t(Nt){let Ht=0;for(;Z.charCodeAt(--Nt)===92;)Ht++;return(1&Ht)==1}function rt(){if(ut.length>0&&y(ut[ut.length-1]))throw new Error("Did not expect successive traversals.")}function ft(Nt){ut.length>0&&ut[ut.length-1].type===s.Descendant?ut[ut.length-1].type=Nt:(rt(),ut.push({type:Nt}))}function wt(Nt,Ht){ut.push({type:s.Attribute,name:Nt,action:Ht,value:Rt(1),namespace:null,ignoreCase:"quirks"})}function Et(){if(ut.length&&ut[ut.length-1].type===s.Descendant&&ut.pop(),ut.length===0)throw new Error("Empty sub-selector");I.push(ut)}if(Gt(0),Z.length===et)return et;t:for(;et<Z.length;){let Nt=Z.charCodeAt(et);switch(Nt){case 32:case 9:case 10:case 12:case 13:ut.length!==0&&ut[0].type===s.Descendant||(rt(),ut.push({type:s.Descendant})),Gt(1);break;case 62:ft(s.Child),Gt(1);break;case 60:ft(s.Parent),Gt(1);break;case 126:ft(s.Sibling),Gt(1);break;case 43:ft(s.Adjacent),Gt(1);break;case 46:wt("class",c.Element);break;case 35:wt("id",c.Equals);break;case 91:{let Ht;Gt(1);let It=null;Z.charCodeAt(et)===124?Ht=Rt(1):Z.startsWith("*|",et)?(It="*",Ht=Rt(2)):(Ht=Rt(0),Z.charCodeAt(et)===124&&Z.charCodeAt(et+1)!==61&&(It=Ht,Ht=Rt(1))),Gt(0);let at=c.Exists,Kt=g.get(Z.charCodeAt(et));if(Kt){if(at=Kt,Z.charCodeAt(et+1)!==61)throw new Error("Expected `=`");Gt(2)}else Z.charCodeAt(et)===61&&(at=c.Equals,Gt(1));let le="",Ct=null;if(at!=="exists"){if(w(Z.charCodeAt(et))){let ce=Z.charCodeAt(et),K=et+1;for(;K<Z.length&&(Z.charCodeAt(K)!==ce||_t(K));)K+=1;if(Z.charCodeAt(K)!==ce)throw new Error("Attribute value didn't end");le=P(Z.slice(et+1,K)),et=K+1}else{let ce=et;for(;et<Z.length&&(!T(Z.charCodeAt(et))&&Z.charCodeAt(et)!==93||_t(et));)et+=1;le=P(Z.slice(ce,et))}Gt(0);let ge=32|Z.charCodeAt(et);ge===115?(Ct=!1,Gt(1)):ge===105&&(Ct=!0,Gt(1))}if(Z.charCodeAt(et)!==93)throw new Error("Attribute selector didn't terminate");et+=1;let oe={type:s.Attribute,name:Ht,action:at,value:le,namespace:It,ignoreCase:Ct};ut.push(oe);break}case 58:{if(Z.charCodeAt(et+1)===58){ut.push({type:s.PseudoElement,name:Rt(2).toLowerCase(),data:Z.charCodeAt(et)===40?Pt():null});continue}let Ht=Rt(1).toLowerCase(),It=null;if(Z.charCodeAt(et)===40)if(h.has(Ht)){if(w(Z.charCodeAt(et+1)))throw new Error(`Pseudo-selector ${Ht} cannot be quoted`);if(It=[],et=k(It,Z,et+1),Z.charCodeAt(et)!==41)throw new Error(`Missing closing parenthesis in :${Ht} (${Z})`);et+=1}else{if(It=Pt(),_.has(Ht)){let at=It.charCodeAt(0);at===It.charCodeAt(It.length-1)&&w(at)&&(It=It.slice(1,-1))}It=P(It)}ut.push({type:s.Pseudo,name:Ht,data:It});break}case 44:Et(),ut=[],Gt(1);break;default:{if(Z.startsWith("/*",et)){let at=Z.indexOf("*/",et+2);if(at<0)throw new Error("Comment was not terminated");et=at+2,ut.length===0&&Gt(0);break}let Ht,It=null;if(Nt===42)et+=1,Ht="*";else if(Nt===124){if(Ht="",Z.charCodeAt(et+1)===124){ft(s.ColumnCombinator),Gt(2);break}}else{if(!u.test(Z.slice(et)))break t;Ht=Rt(0)}Z.charCodeAt(et)===124&&Z.charCodeAt(et+1)!==124&&(It=Ht,Z.charCodeAt(et+1)===42?(Ht="*",et+=2):Ht=Rt(1)),ut.push(Ht==="*"?{type:s.Universal,namespace:It}:{type:s.Tag,name:Ht,namespace:It})}}}return Et(),et}let E=["\\",'"'],L=[...E,"(",")"],R=new Set(E.map(I=>I.charCodeAt(0))),z=new Set(L.map(I=>I.charCodeAt(0))),N=new Set([...L,"~","^","$","*","+","!","|",":","[","]"," ","."].map(I=>I.charCodeAt(0)));function j(I){return I.map(Z=>Z.map(D).join("")).join(", ")}function D(I,Z,et){switch(I.type){case s.Child:return Z===0?"> ":" > ";case s.Parent:return Z===0?"< ":" < ";case s.Sibling:return Z===0?"~ ":" ~ ";case s.Adjacent:return Z===0?"+ ":" + ";case s.Descendant:return" ";case s.ColumnCombinator:return Z===0?"|| ":" || ";case s.Universal:return I.namespace==="*"&&Z+1<et.length&&"name"in et[Z+1]?"":`${q(I.namespace)}*`;case s.Tag:return W(I);case s.PseudoElement:return`::${J(I.name,N)}${I.data===null?"":`(${J(I.data,z)})`}`;case s.Pseudo:return`:${J(I.name,N)}${I.data===null?"":`(${typeof I.data=="string"?J(I.data,z):j(I.data)})`}`;case s.Attribute:{if(I.name==="id"&&I.action===c.Equals&&I.ignoreCase==="quirks"&&!I.namespace)return`#${J(I.value,N)}`;if(I.name==="class"&&I.action===c.Element&&I.ignoreCase==="quirks"&&!I.namespace)return`.${J(I.value,N)}`;let ut=W(I);return I.action===c.Exists?`[${ut}]`:`[${ut}${function(Rt){switch(Rt){case c.Equals:return"";case c.Element:return"~";case c.Start:return"^";case c.End:return"$";case c.Any:return"*";case c.Not:return"!";case c.Hyphen:return"|";case c.Exists:throw new Error("Shouldn't be here")}}(I.action)}="${J(I.value,R)}"${I.ignoreCase===null?"":I.ignoreCase?" i":" s"}]`}}}function W(I){return`${q(I.namespace)}${J(I.name,N)}`}function q(I){return I!==null?`${I==="*"?"*":J(I,N)}|`:""}function J(I,Z){let et=0,ut="";for(let Rt=0;Rt<I.length;Rt++)Z.has(I.charCodeAt(Rt))&&(ut+=`${I.slice(et,Rt)}\\${I.charAt(Rt)}`,et=Rt+1);return ut.length>0?ut+I.slice(et):I}},7837:(r,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.attributeNames=i.elementNames=void 0,i.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),i.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},7220:function(r,i,a){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(b){for(var k,E=1,L=arguments.length;E<L;E++)for(var R in k=arguments[E])Object.prototype.hasOwnProperty.call(k,R)&&(b[R]=k[R]);return b},s.apply(this,arguments)},l=this&&this.__createBinding||(Object.create?function(b,k,E,L){L===void 0&&(L=E),Object.defineProperty(b,L,{enumerable:!0,get:function(){return k[E]}})}:function(b,k,E,L){L===void 0&&(L=E),b[L]=k[E]}),c=this&&this.__setModuleDefault||(Object.create?function(b,k){Object.defineProperty(b,"default",{enumerable:!0,value:k})}:function(b,k){b.default=k}),u=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var k={};if(b!=null)for(var E in b)E!=="default"&&Object.prototype.hasOwnProperty.call(b,E)&&l(k,b,E);return c(k,b),k};Object.defineProperty(i,"__esModule",{value:!0});var p=u(a(9960)),g=a(5863),h=a(7837),y=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),_=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function x(b,k){k===void 0&&(k={});for(var E=("length"in b)?b:[b],L="",R=0;R<E.length;R++)L+=P(E[R],k);return L}function P(b,k){switch(b.type){case p.Root:return x(b.children,k);case p.Directive:case p.Doctype:return"<"+b.data+">";case p.Comment:return function(E){return"<!--"+E.data+"-->"}(b);case p.CDATA:return function(E){return"<![CDATA["+E.children[0].data+"]]>"}(b);case p.Script:case p.Style:case p.Tag:return function(E,L){var R;L.xmlMode==="foreign"&&(E.name=(R=h.elementNames.get(E.name))!==null&&R!==void 0?R:E.name,E.parent&&w.has(E.parent.name)&&(L=s(s({},L),{xmlMode:!1}))),!L.xmlMode&&T.has(E.name)&&(L=s(s({},L),{xmlMode:"foreign"}));var z="<"+E.name,N=function(j,D){if(j)return Object.keys(j).map(function(W){var q,J,I=(q=j[W])!==null&&q!==void 0?q:"";return D.xmlMode==="foreign"&&(W=(J=h.attributeNames.get(W))!==null&&J!==void 0?J:W),D.emptyAttrs||D.xmlMode||I!==""?W+'="'+(D.decodeEntities!==!1?g.encodeXML(I):I.replace(/"/g,"&quot;"))+'"':W}).join(" ")}(E.attribs,L);return N&&(z+=" "+N),E.children.length===0&&(L.xmlMode?L.selfClosingTags!==!1:L.selfClosingTags&&_.has(E.name))?(L.xmlMode||(z+=" "),z+="/>"):(z+=">",E.children.length>0&&(z+=x(E.children,L)),!L.xmlMode&&_.has(E.name)||(z+="</"+E.name+">")),z}(b,k);case p.Text:return function(E,L){var R=E.data||"";return L.decodeEntities===!1||!L.xmlMode&&E.parent&&y.has(E.parent.name)||(R=g.encodeXML(R)),R}(b,k)}}i.default=x;var w=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),T=new Set(["svg","math"])},9960:(r,i)=>{"use strict";var a;Object.defineProperty(i,"__esModule",{value:!0}),i.Doctype=i.CDATA=i.Tag=i.Style=i.Script=i.Comment=i.Directive=i.Text=i.Root=i.isTag=i.ElementType=void 0,function(s){s.Root="root",s.Text="text",s.Directive="directive",s.Comment="comment",s.Script="script",s.Style="style",s.Tag="tag",s.CDATA="cdata",s.Doctype="doctype"}(a=i.ElementType||(i.ElementType={})),i.isTag=function(s){return s.type===a.Tag||s.type===a.Script||s.type===a.Style},i.Root=a.Root,i.Text=a.Text,i.Directive=a.Directive,i.Comment=a.Comment,i.Script=a.Script,i.Style=a.Style,i.Tag=a.Tag,i.CDATA=a.CDATA,i.Doctype=a.Doctype},7915:function(r,i,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(y,_,x,P){P===void 0&&(P=x);var w=Object.getOwnPropertyDescriptor(_,x);w&&!("get"in w?!_.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return _[x]}}),Object.defineProperty(y,P,w)}:function(y,_,x,P){P===void 0&&(P=x),y[P]=_[x]}),l=this&&this.__exportStar||function(y,_){for(var x in y)x==="default"||Object.prototype.hasOwnProperty.call(_,x)||s(_,y,x)};Object.defineProperty(i,"__esModule",{value:!0}),i.DomHandler=void 0;var c=a(9960),u=a(7790);l(a(7790),i);var p=/\s+/g,g={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},h=function(){function y(_,x,P){this.dom=[],this.root=new u.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof x=="function"&&(P=x,x=g),typeof _=="object"&&(x=_,_=void 0),this.callback=_??null,this.options=x??g,this.elementCB=P??null}return y.prototype.onparserinit=function(_){this.parser=_},y.prototype.onreset=function(){this.dom=[],this.root=new u.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},y.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},y.prototype.onerror=function(_){this.handleCallback(_)},y.prototype.onclosetag=function(){this.lastNode=null;var _=this.tagStack.pop();this.options.withEndIndices&&(_.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(_)},y.prototype.onopentag=function(_,x){var P=this.options.xmlMode?c.ElementType.Tag:void 0,w=new u.Element(_,x,void 0,P);this.addNode(w),this.tagStack.push(w)},y.prototype.ontext=function(_){var x=this.options.normalizeWhitespace,P=this.lastNode;if(P&&P.type===c.ElementType.Text)x?P.data=(P.data+_).replace(p," "):P.data+=_,this.options.withEndIndices&&(P.endIndex=this.parser.endIndex);else{x&&(_=_.replace(p," "));var w=new u.Text(_);this.addNode(w),this.lastNode=w}},y.prototype.oncomment=function(_){if(this.lastNode&&this.lastNode.type===c.ElementType.Comment)this.lastNode.data+=_;else{var x=new u.Comment(_);this.addNode(x),this.lastNode=x}},y.prototype.oncommentend=function(){this.lastNode=null},y.prototype.oncdatastart=function(){var _=new u.Text(""),x=new u.NodeWithChildren(c.ElementType.CDATA,[_]);this.addNode(x),_.parent=x,this.lastNode=_},y.prototype.oncdataend=function(){this.lastNode=null},y.prototype.onprocessinginstruction=function(_,x){var P=new u.ProcessingInstruction(_,x);this.addNode(P)},y.prototype.handleCallback=function(_){if(typeof this.callback=="function")this.callback(_,this.dom);else if(_)throw _},y.prototype.addNode=function(_){var x=this.tagStack[this.tagStack.length-1],P=x.children[x.children.length-1];this.options.withStartIndices&&(_.startIndex=this.parser.startIndex),this.options.withEndIndices&&(_.endIndex=this.parser.endIndex),x.children.push(_),P&&(_.prev=P,P.next=_),_.parent=x,this.lastNode=null},y}();i.DomHandler=h,i.default=h},7790:function(r,i,a){"use strict";var s,l=this&&this.__extends||(s=function(D,W){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,J){q.__proto__=J}||function(q,J){for(var I in J)Object.prototype.hasOwnProperty.call(J,I)&&(q[I]=J[I])},s(D,W)},function(D,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function q(){this.constructor=D}s(D,W),D.prototype=W===null?Object.create(W):(q.prototype=W.prototype,new q)}),c=this&&this.__assign||function(){return c=Object.assign||function(D){for(var W,q=1,J=arguments.length;q<J;q++)for(var I in W=arguments[q])Object.prototype.hasOwnProperty.call(W,I)&&(D[I]=W[I]);return D},c.apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0}),i.cloneNode=i.hasChildren=i.isDocument=i.isDirective=i.isComment=i.isText=i.isCDATA=i.isTag=i.Element=i.Document=i.NodeWithChildren=i.ProcessingInstruction=i.Comment=i.Text=i.DataNode=i.Node=void 0;var u=a(9960),p=new Map([[u.ElementType.Tag,1],[u.ElementType.Script,1],[u.ElementType.Style,1],[u.ElementType.Directive,1],[u.ElementType.Text,3],[u.ElementType.CDATA,4],[u.ElementType.Comment,8],[u.ElementType.Root,9]]),g=function(){function D(W){this.type=W,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(D.prototype,"nodeType",{get:function(){var W;return(W=p.get(this.type))!==null&&W!==void 0?W:1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"parentNode",{get:function(){return this.parent},set:function(W){this.parent=W},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"previousSibling",{get:function(){return this.prev},set:function(W){this.prev=W},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"nextSibling",{get:function(){return this.next},set:function(W){this.next=W},enumerable:!1,configurable:!0}),D.prototype.cloneNode=function(W){return W===void 0&&(W=!1),N(this,W)},D}();i.Node=g;var h=function(D){function W(q,J){var I=D.call(this,q)||this;return I.data=J,I}return l(W,D),Object.defineProperty(W.prototype,"nodeValue",{get:function(){return this.data},set:function(q){this.data=q},enumerable:!1,configurable:!0}),W}(g);i.DataNode=h;var y=function(D){function W(q){return D.call(this,u.ElementType.Text,q)||this}return l(W,D),W}(h);i.Text=y;var _=function(D){function W(q){return D.call(this,u.ElementType.Comment,q)||this}return l(W,D),W}(h);i.Comment=_;var x=function(D){function W(q,J){var I=D.call(this,u.ElementType.Directive,J)||this;return I.name=q,I}return l(W,D),W}(h);i.ProcessingInstruction=x;var P=function(D){function W(q,J){var I=D.call(this,q)||this;return I.children=J,I}return l(W,D),Object.defineProperty(W.prototype,"firstChild",{get:function(){var q;return(q=this.children[0])!==null&&q!==void 0?q:null},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"childNodes",{get:function(){return this.children},set:function(q){this.children=q},enumerable:!1,configurable:!0}),W}(g);i.NodeWithChildren=P;var w=function(D){function W(q){return D.call(this,u.ElementType.Root,q)||this}return l(W,D),W}(P);i.Document=w;var T=function(D){function W(q,J,I,Z){I===void 0&&(I=[]),Z===void 0&&(Z=q==="script"?u.ElementType.Script:q==="style"?u.ElementType.Style:u.ElementType.Tag);var et=D.call(this,Z,I)||this;return et.name=q,et.attribs=J,et}return l(W,D),Object.defineProperty(W.prototype,"tagName",{get:function(){return this.name},set:function(q){this.name=q},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"attributes",{get:function(){var q=this;return Object.keys(this.attribs).map(function(J){var I,Z;return{name:J,value:q.attribs[J],namespace:(I=q["x-attribsNamespace"])===null||I===void 0?void 0:I[J],prefix:(Z=q["x-attribsPrefix"])===null||Z===void 0?void 0:Z[J]}})},enumerable:!1,configurable:!0}),W}(P);function b(D){return(0,u.isTag)(D)}function k(D){return D.type===u.ElementType.CDATA}function E(D){return D.type===u.ElementType.Text}function L(D){return D.type===u.ElementType.Comment}function R(D){return D.type===u.ElementType.Directive}function z(D){return D.type===u.ElementType.Root}function N(D,W){var q;if(W===void 0&&(W=!1),E(D))q=new y(D.data);else if(L(D))q=new _(D.data);else if(b(D)){var J=W?j(D.children):[],I=new T(D.name,c({},D.attribs),J);J.forEach(function(Rt){return Rt.parent=I}),D.namespace!=null&&(I.namespace=D.namespace),D["x-attribsNamespace"]&&(I["x-attribsNamespace"]=c({},D["x-attribsNamespace"])),D["x-attribsPrefix"]&&(I["x-attribsPrefix"]=c({},D["x-attribsPrefix"])),q=I}else if(k(D)){J=W?j(D.children):[];var Z=new P(u.ElementType.CDATA,J);J.forEach(function(Rt){return Rt.parent=Z}),q=Z}else if(z(D)){J=W?j(D.children):[];var et=new w(J);J.forEach(function(Rt){return Rt.parent=et}),D["x-mode"]&&(et["x-mode"]=D["x-mode"]),q=et}else{if(!R(D))throw new Error("Not implemented yet: ".concat(D.type));var ut=new x(D.name,D.data);D["x-name"]!=null&&(ut["x-name"]=D["x-name"],ut["x-publicId"]=D["x-publicId"],ut["x-systemId"]=D["x-systemId"]),q=ut}return q.startIndex=D.startIndex,q.endIndex=D.endIndex,D.sourceCodeLocation!=null&&(q.sourceCodeLocation=D.sourceCodeLocation),q}function j(D){for(var W=D.map(function(J){return N(J,!0)}),q=1;q<W.length;q++)W[q].prev=W[q-1],W[q-1].next=W[q];return W}i.Element=T,i.isTag=b,i.isCDATA=k,i.isText=E,i.isComment=L,i.isDirective=R,i.isDocument=z,i.hasChildren=function(D){return Object.prototype.hasOwnProperty.call(D,"children")},i.cloneNode=N},6996:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getFeed=void 0;var s=a(3346),l=a(3905);i.getFeed=function(x){var P=g(_,x);return P?P.name==="feed"?function(w){var T,b=w.children,k={type:"atom",items:(0,l.getElementsByTagName)("entry",b).map(function(R){var z,N=R.children,j={media:p(N)};y(j,"id","id",N),y(j,"title","title",N);var D=(z=g("link",N))===null||z===void 0?void 0:z.attribs.href;D&&(j.link=D);var W=h("summary",N)||h("content",N);W&&(j.description=W);var q=h("updated",N);return q&&(j.pubDate=new Date(q)),j})};y(k,"id","id",b),y(k,"title","title",b);var E=(T=g("link",b))===null||T===void 0?void 0:T.attribs.href;E&&(k.link=E),y(k,"description","subtitle",b);var L=h("updated",b);return L&&(k.updated=new Date(L)),y(k,"author","email",b,!0),k}(P):function(w){var T,b,k=(b=(T=g("channel",w.children))===null||T===void 0?void 0:T.children)!==null&&b!==void 0?b:[],E={type:w.name.substr(0,3),id:"",items:(0,l.getElementsByTagName)("item",w.children).map(function(R){var z=R.children,N={media:p(z)};y(N,"id","guid",z),y(N,"title","title",z),y(N,"link","link",z),y(N,"description","description",z);var j=h("pubDate",z);return j&&(N.pubDate=new Date(j)),N})};y(E,"title","title",k),y(E,"link","link",k),y(E,"description","description",k);var L=h("lastBuildDate",k);return L&&(E.updated=new Date(L)),y(E,"author","managingEditor",k,!0),E}(P):null};var c=["url","type","lang"],u=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function p(x){return(0,l.getElementsByTagName)("media:content",x).map(function(P){for(var w=P.attribs,T={medium:w.medium,isDefault:!!w.isDefault},b=0,k=c;b<k.length;b++)w[R=k[b]]&&(T[R]=w[R]);for(var E=0,L=u;E<L.length;E++){var R;w[R=L[E]]&&(T[R]=parseInt(w[R],10))}return w.expression&&(T.expression=w.expression),T})}function g(x,P){return(0,l.getElementsByTagName)(x,P,!0,1)[0]}function h(x,P,w){return w===void 0&&(w=!1),(0,s.textContent)((0,l.getElementsByTagName)(x,P,w,1)).trim()}function y(x,P,w,T,b){b===void 0&&(b=!1);var k=h(w,T,b);k&&(x[P]=k)}function _(x){return x==="rss"||x==="feed"||x==="rdf:RDF"}},4975:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.uniqueSort=i.compareDocumentPosition=i.removeSubsets=void 0;var s=a(7915);function l(c,u){var p=[],g=[];if(c===u)return 0;for(var h=(0,s.hasChildren)(c)?c:c.parent;h;)p.unshift(h),h=h.parent;for(h=(0,s.hasChildren)(u)?u:u.parent;h;)g.unshift(h),h=h.parent;for(var y=Math.min(p.length,g.length),_=0;_<y&&p[_]===g[_];)_++;if(_===0)return 1;var x=p[_-1],P=x.children,w=p[_],T=g[_];return P.indexOf(w)>P.indexOf(T)?x===u?20:4:x===c?10:2}i.removeSubsets=function(c){for(var u=c.length;--u>=0;){var p=c[u];if(u>0&&c.lastIndexOf(p,u-1)>=0)c.splice(u,1);else for(var g=p.parent;g;g=g.parent)if(c.includes(g)){c.splice(u,1);break}}return c},i.compareDocumentPosition=l,i.uniqueSort=function(c){return(c=c.filter(function(u,p,g){return!g.includes(u,p+1)})).sort(function(u,p){var g=l(u,p);return 2&g?-1:4&g?1:0}),c}},9432:function(r,i,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(u,p,g,h){h===void 0&&(h=g),Object.defineProperty(u,h,{enumerable:!0,get:function(){return p[g]}})}:function(u,p,g,h){h===void 0&&(h=g),u[h]=p[g]}),l=this&&this.__exportStar||function(u,p){for(var g in u)g==="default"||Object.prototype.hasOwnProperty.call(p,g)||s(p,u,g)};Object.defineProperty(i,"__esModule",{value:!0}),i.hasChildren=i.isDocument=i.isComment=i.isText=i.isCDATA=i.isTag=void 0,l(a(3346),i),l(a(5010),i),l(a(6765),i),l(a(8043),i),l(a(3905),i),l(a(4975),i),l(a(6996),i);var c=a(7915);Object.defineProperty(i,"isTag",{enumerable:!0,get:function(){return c.isTag}}),Object.defineProperty(i,"isCDATA",{enumerable:!0,get:function(){return c.isCDATA}}),Object.defineProperty(i,"isText",{enumerable:!0,get:function(){return c.isText}}),Object.defineProperty(i,"isComment",{enumerable:!0,get:function(){return c.isComment}}),Object.defineProperty(i,"isDocument",{enumerable:!0,get:function(){return c.isDocument}}),Object.defineProperty(i,"hasChildren",{enumerable:!0,get:function(){return c.hasChildren}})},3905:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getElementsByTagType=i.getElementsByTagName=i.getElementById=i.getElements=i.testElement=void 0;var s=a(7915),l=a(8043),c={tag_name:function(h){return typeof h=="function"?function(y){return(0,s.isTag)(y)&&h(y.name)}:h==="*"?s.isTag:function(y){return(0,s.isTag)(y)&&y.name===h}},tag_type:function(h){return typeof h=="function"?function(y){return h(y.type)}:function(y){return y.type===h}},tag_contains:function(h){return typeof h=="function"?function(y){return(0,s.isText)(y)&&h(y.data)}:function(y){return(0,s.isText)(y)&&y.data===h}}};function u(h,y){return typeof y=="function"?function(_){return(0,s.isTag)(_)&&y(_.attribs[h])}:function(_){return(0,s.isTag)(_)&&_.attribs[h]===y}}function p(h,y){return function(_){return h(_)||y(_)}}function g(h){var y=Object.keys(h).map(function(_){var x=h[_];return Object.prototype.hasOwnProperty.call(c,_)?c[_](x):u(_,x)});return y.length===0?null:y.reduce(p)}i.testElement=function(h,y){var _=g(h);return!_||_(y)},i.getElements=function(h,y,_,x){x===void 0&&(x=1/0);var P=g(h);return P?(0,l.filter)(P,y,_,x):[]},i.getElementById=function(h,y,_){return _===void 0&&(_=!0),Array.isArray(y)||(y=[y]),(0,l.findOne)(u("id",h),y,_)},i.getElementsByTagName=function(h,y,_,x){return _===void 0&&(_=!0),x===void 0&&(x=1/0),(0,l.filter)(c.tag_name(h),y,_,x)},i.getElementsByTagType=function(h,y,_,x){return _===void 0&&(_=!0),x===void 0&&(x=1/0),(0,l.filter)(c.tag_type(h),y,_,x)}},6765:(r,i)=>{"use strict";function a(s){if(s.prev&&(s.prev.next=s.next),s.next&&(s.next.prev=s.prev),s.parent){var l=s.parent.children;l.splice(l.lastIndexOf(s),1)}}Object.defineProperty(i,"__esModule",{value:!0}),i.prepend=i.prependChild=i.append=i.appendChild=i.replaceElement=i.removeElement=void 0,i.removeElement=a,i.replaceElement=function(s,l){var c=l.prev=s.prev;c&&(c.next=l);var u=l.next=s.next;u&&(u.prev=l);var p=l.parent=s.parent;if(p){var g=p.children;g[g.lastIndexOf(s)]=l}},i.appendChild=function(s,l){if(a(l),l.next=null,l.parent=s,s.children.push(l)>1){var c=s.children[s.children.length-2];c.next=l,l.prev=c}else l.prev=null},i.append=function(s,l){a(l);var c=s.parent,u=s.next;if(l.next=u,l.prev=s,s.next=l,l.parent=c,u){if(u.prev=l,c){var p=c.children;p.splice(p.lastIndexOf(u),0,l)}}else c&&c.children.push(l)},i.prependChild=function(s,l){if(a(l),l.parent=s,l.prev=null,s.children.unshift(l)!==1){var c=s.children[1];c.prev=l,l.next=c}else l.next=null},i.prepend=function(s,l){a(l);var c=s.parent;if(c){var u=c.children;u.splice(u.indexOf(s),0,l)}s.prev&&(s.prev.next=l),l.parent=c,l.prev=s.prev,l.next=s,s.prev=l}},8043:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.findAll=i.existsOne=i.findOne=i.findOneChild=i.find=i.filter=void 0;var s=a(7915);function l(c,u,p,g){for(var h=[],y=0,_=u;y<_.length;y++){var x=_[y];if(c(x)&&(h.push(x),--g<=0))break;if(p&&(0,s.hasChildren)(x)&&x.children.length>0){var P=l(c,x.children,p,g);if(h.push.apply(h,P),(g-=P.length)<=0)break}}return h}i.filter=function(c,u,p,g){return p===void 0&&(p=!0),g===void 0&&(g=1/0),Array.isArray(u)||(u=[u]),l(c,u,p,g)},i.find=l,i.findOneChild=function(c,u){return u.find(c)},i.findOne=function c(u,p,g){g===void 0&&(g=!0);for(var h=null,y=0;y<p.length&&!h;y++){var _=p[y];(0,s.isTag)(_)&&(u(_)?h=_:g&&_.children.length>0&&(h=c(u,_.children)))}return h},i.existsOne=function c(u,p){return p.some(function(g){return(0,s.isTag)(g)&&(u(g)||g.children.length>0&&c(u,g.children))})},i.findAll=function(c,u){for(var p,g,h=[],y=u.filter(s.isTag);g=y.shift();){var _=(p=g.children)===null||p===void 0?void 0:p.filter(s.isTag);_&&_.length>0&&y.unshift.apply(y,_),c(g)&&h.push(g)}return h}},3346:function(r,i,a){"use strict";var s=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(i,"__esModule",{value:!0}),i.innerText=i.textContent=i.getText=i.getInnerHTML=i.getOuterHTML=void 0;var l=a(7915),c=s(a(7220)),u=a(9960);function p(g,h){return(0,c.default)(g,h)}i.getOuterHTML=p,i.getInnerHTML=function(g,h){return(0,l.hasChildren)(g)?g.children.map(function(y){return p(y,h)}).join(""):""},i.getText=function g(h){return Array.isArray(h)?h.map(g).join(""):(0,l.isTag)(h)?h.name==="br"?`
`:g(h.children):(0,l.isCDATA)(h)?g(h.children):(0,l.isText)(h)?h.data:""},i.textContent=function g(h){return Array.isArray(h)?h.map(g).join(""):(0,l.hasChildren)(h)&&!(0,l.isComment)(h)?g(h.children):(0,l.isText)(h)?h.data:""},i.innerText=function g(h){return Array.isArray(h)?h.map(g).join(""):(0,l.hasChildren)(h)&&(h.type===u.ElementType.Tag||(0,l.isCDATA)(h))?g(h.children):(0,l.isText)(h)?h.data:""}},5010:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.prevElementSibling=i.nextElementSibling=i.getName=i.hasAttrib=i.getAttributeValue=i.getSiblings=i.getParent=i.getChildren=void 0;var s=a(7915),l=[];function c(p){var g;return(g=p.children)!==null&&g!==void 0?g:l}function u(p){return p.parent||null}i.getChildren=c,i.getParent=u,i.getSiblings=function(p){var g=u(p);if(g!=null)return c(g);for(var h=[p],y=p.prev,_=p.next;y!=null;)h.unshift(y),y=y.prev;for(;_!=null;)h.push(_),_=_.next;return h},i.getAttributeValue=function(p,g){var h;return(h=p.attribs)===null||h===void 0?void 0:h[g]},i.hasAttrib=function(p,g){return p.attribs!=null&&Object.prototype.hasOwnProperty.call(p.attribs,g)&&p.attribs[g]!=null},i.getName=function(p){return p.name},i.nextElementSibling=function(p){for(var g=p.next;g!==null&&!(0,s.isTag)(g);)g=g.next;return g},i.prevElementSibling=function(p){for(var g=p.prev;g!==null&&!(0,s.isTag)(g);)g=g.prev;return g}},4076:function(r,i,a){"use strict";var s=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0}),i.decodeHTML=i.decodeHTMLStrict=i.decodeXML=void 0;var l=s(a(9323)),c=s(a(9591)),u=s(a(2586)),p=s(a(26)),g=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function h(x){var P=_(x);return function(w){return String(w).replace(g,P)}}i.decodeXML=h(u.default),i.decodeHTMLStrict=h(l.default);var y=function(x,P){return x<P?1:-1};function _(x){return function(P){if(P.charAt(1)==="#"){var w=P.charAt(2);return w==="X"||w==="x"?p.default(parseInt(P.substr(3),16)):p.default(parseInt(P.substr(2),10))}return x[P.slice(1,-1)]||P}}i.decodeHTML=function(){for(var x=Object.keys(c.default).sort(y),P=Object.keys(l.default).sort(y),w=0,T=0;w<P.length;w++)x[T]===P[w]?(P[w]+=";?",T++):P[w]+=";";var b=new RegExp("&(?:"+P.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),k=_(l.default);function E(L){return L.substr(-1)!==";"&&(L+=";"),k(L)}return function(L){return String(L).replace(b,E)}}()},26:function(r,i,a){"use strict";var s=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0});var l=s(a(3600)),c=String.fromCodePoint||function(u){var p="";return u>65535&&(u-=65536,p+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),p+=String.fromCharCode(u)};i.default=function(u){return u>=55296&&u<=57343||u>1114111?"\uFFFD":(u in l.default&&(u=l.default[u]),c(u))}},7322:function(r,i,a){"use strict";var s=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(i,"__esModule",{value:!0}),i.escapeUTF8=i.escape=i.encodeNonAsciiHTML=i.encodeHTML=i.encodeXML=void 0;var l=y(s(a(2586)).default),c=_(l);i.encodeXML=b(l);var u,p,g=y(s(a(9323)).default),h=_(g);function y(k){return Object.keys(k).sort().reduce(function(E,L){return E[k[L]]="&"+L+";",E},{})}function _(k){for(var E=[],L=[],R=0,z=Object.keys(k);R<z.length;R++){var N=z[R];N.length===1?E.push("\\"+N):L.push(N)}E.sort();for(var j=0;j<E.length-1;j++){for(var D=j;D<E.length-1&&E[D].charCodeAt(1)+1===E[D+1].charCodeAt(1);)D+=1;var W=1+D-j;W<3||E.splice(j,W,E[j]+"-"+E[D])}return L.unshift("["+E.join("")+"]"),new RegExp(L.join("|"),"g")}i.encodeHTML=(u=g,p=h,function(k){return k.replace(p,function(E){return u[E]}).replace(x,w)}),i.encodeNonAsciiHTML=b(g);var x=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,P=String.prototype.codePointAt!=null?function(k){return k.codePointAt(0)}:function(k){return 1024*(k.charCodeAt(0)-55296)+k.charCodeAt(1)-56320+65536};function w(k){return"&#x"+(k.length>1?P(k):k.charCodeAt(0)).toString(16).toUpperCase()+";"}var T=new RegExp(c.source+"|"+x.source,"g");function b(k){return function(E){return E.replace(T,function(L){return k[L]||w(L)})}}i.escape=function(k){return k.replace(T,w)},i.escapeUTF8=function(k){return k.replace(c,w)}},5863:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.decodeXMLStrict=i.decodeHTML5Strict=i.decodeHTML4Strict=i.decodeHTML5=i.decodeHTML4=i.decodeHTMLStrict=i.decodeHTML=i.decodeXML=i.encodeHTML5=i.encodeHTML4=i.escapeUTF8=i.escape=i.encodeNonAsciiHTML=i.encodeHTML=i.encodeXML=i.encode=i.decodeStrict=i.decode=void 0;var s=a(4076),l=a(7322);i.decode=function(p,g){return(!g||g<=0?s.decodeXML:s.decodeHTML)(p)},i.decodeStrict=function(p,g){return(!g||g<=0?s.decodeXML:s.decodeHTMLStrict)(p)},i.encode=function(p,g){return(!g||g<=0?l.encodeXML:l.encodeHTML)(p)};var c=a(7322);Object.defineProperty(i,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(i,"encodeHTML",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(i,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return c.encodeNonAsciiHTML}}),Object.defineProperty(i,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(i,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(i,"encodeHTML4",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(i,"encodeHTML5",{enumerable:!0,get:function(){return c.encodeHTML}});var u=a(4076);Object.defineProperty(i,"decodeXML",{enumerable:!0,get:function(){return u.decodeXML}}),Object.defineProperty(i,"decodeHTML",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(i,"decodeHTMLStrict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(i,"decodeHTML4",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(i,"decodeHTML5",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(i,"decodeHTML4Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(i,"decodeHTML5Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(i,"decodeXMLStrict",{enumerable:!0,get:function(){return u.decodeXML}})},3870:function(r,i,a){"use strict";var s,l=this&&this.__extends||(s=function(N,j){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,W){D.__proto__=W}||function(D,W){for(var q in W)Object.prototype.hasOwnProperty.call(W,q)&&(D[q]=W[q])},s(N,j)},function(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");function D(){this.constructor=N}s(N,j),N.prototype=j===null?Object.create(j):(D.prototype=j.prototype,new D)}),c=this&&this.__createBinding||(Object.create?function(N,j,D,W){W===void 0&&(W=D),Object.defineProperty(N,W,{enumerable:!0,get:function(){return j[D]}})}:function(N,j,D,W){W===void 0&&(W=D),N[W]=j[D]}),u=this&&this.__setModuleDefault||(Object.create?function(N,j){Object.defineProperty(N,"default",{enumerable:!0,value:j})}:function(N,j){N.default=j}),p=this&&this.__importStar||function(N){if(N&&N.__esModule)return N;var j={};if(N!=null)for(var D in N)D!=="default"&&Object.prototype.hasOwnProperty.call(N,D)&&c(j,N,D);return u(j,N),j},g=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(i,"__esModule",{value:!0}),i.parseFeed=i.FeedHandler=void 0;var h,y,_=g(a(7915)),x=p(a(9432)),P=a(763);(function(N){N[N.image=0]="image",N[N.audio=1]="audio",N[N.video=2]="video",N[N.document=3]="document",N[N.executable=4]="executable"})(h||(h={})),function(N){N[N.sample=0]="sample",N[N.full=1]="full",N[N.nonstop=2]="nonstop"}(y||(y={}));var w=function(N){function j(D,W){return typeof D=="object"&&(W=D=void 0),N.call(this,D,W)||this}return l(j,N),j.prototype.onend=function(){var D,W,q=k(z,this.dom);if(q){var J={};if(q.name==="feed"){var I=q.children;J.type="atom",R(J,"id","id",I),R(J,"title","title",I);var Z=L("href",k("link",I));Z&&(J.link=Z),R(J,"description","subtitle",I),(et=E("updated",I))&&(J.updated=new Date(et)),R(J,"author","email",I,!0),J.items=b("entry",I).map(function(ut){var Rt={},Gt=ut.children;R(Rt,"id","id",Gt),R(Rt,"title","title",Gt);var Pt=L("href",k("link",Gt));Pt&&(Rt.link=Pt);var _t=E("summary",Gt)||E("content",Gt);_t&&(Rt.description=_t);var rt=E("updated",Gt);return rt&&(Rt.pubDate=new Date(rt)),Rt.media=T(Gt),Rt})}else{var et;I=(W=(D=k("channel",q.children))===null||D===void 0?void 0:D.children)!==null&&W!==void 0?W:[],J.type=q.name.substr(0,3),J.id="",R(J,"title","title",I),R(J,"link","link",I),R(J,"description","description",I),(et=E("lastBuildDate",I))&&(J.updated=new Date(et)),R(J,"author","managingEditor",I,!0),J.items=b("item",q.children).map(function(ut){var Rt={},Gt=ut.children;R(Rt,"id","guid",Gt),R(Rt,"title","title",Gt),R(Rt,"link","link",Gt),R(Rt,"description","description",Gt);var Pt=E("pubDate",Gt);return Pt&&(Rt.pubDate=new Date(Pt)),Rt.media=T(Gt),Rt})}this.feed=J,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},j}(_.default);function T(N){return b("media:content",N).map(function(j){var D={medium:j.attribs.medium,isDefault:!!j.attribs.isDefault};return j.attribs.url&&(D.url=j.attribs.url),j.attribs.fileSize&&(D.fileSize=parseInt(j.attribs.fileSize,10)),j.attribs.type&&(D.type=j.attribs.type),j.attribs.expression&&(D.expression=j.attribs.expression),j.attribs.bitrate&&(D.bitrate=parseInt(j.attribs.bitrate,10)),j.attribs.framerate&&(D.framerate=parseInt(j.attribs.framerate,10)),j.attribs.samplingrate&&(D.samplingrate=parseInt(j.attribs.samplingrate,10)),j.attribs.channels&&(D.channels=parseInt(j.attribs.channels,10)),j.attribs.duration&&(D.duration=parseInt(j.attribs.duration,10)),j.attribs.height&&(D.height=parseInt(j.attribs.height,10)),j.attribs.width&&(D.width=parseInt(j.attribs.width,10)),j.attribs.lang&&(D.lang=j.attribs.lang),D})}function b(N,j){return x.getElementsByTagName(N,j,!0)}function k(N,j){return x.getElementsByTagName(N,j,!0,1)[0]}function E(N,j,D){return D===void 0&&(D=!1),x.getText(x.getElementsByTagName(N,j,D,1)).trim()}function L(N,j){return j?j.attribs[N]:null}function R(N,j,D,W,q){q===void 0&&(q=!1);var J=E(D,W,q);J&&(N[j]=J)}function z(N){return N==="rss"||N==="feed"||N==="rdf:RDF"}i.FeedHandler=w,i.parseFeed=function(N,j){j===void 0&&(j={xmlMode:!0});var D=new w(j);return new P.Parser(D,j).end(N),D.feed}},763:function(r,i,a){"use strict";var s=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;var l=s(a(9889)),c=new Set(["input","option","optgroup","select","button","datalist","textarea"]),u=new Set(["p"]),p={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:u,h1:u,h2:u,h3:u,h4:u,h5:u,h6:u,select:c,input:c,output:c,button:c,datalist:c,textarea:c,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:u,article:u,aside:u,blockquote:u,details:u,div:u,dl:u,fieldset:u,figcaption:u,figure:u,footer:u,form:u,header:u,hr:u,main:u,nav:u,ol:u,pre:u,section:u,table:u,ul:u,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},g=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),y=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),_=/\s|\//,x=function(){function P(w,T){var b,k,E,L,R;T===void 0&&(T={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=T,this.cbs=w??{},this.lowerCaseTagNames=(b=T.lowerCaseTags)!==null&&b!==void 0?b:!T.xmlMode,this.lowerCaseAttributeNames=(k=T.lowerCaseAttributeNames)!==null&&k!==void 0?k:!T.xmlMode,this.tokenizer=new((E=T.Tokenizer)!==null&&E!==void 0?E:l.default)(this.options,this),(R=(L=this.cbs).onparserinit)===null||R===void 0||R.call(L,this)}return P.prototype.updatePosition=function(w){this.endIndex===null?this.tokenizer.sectionStart<=w?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-w:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},P.prototype.ontext=function(w){var T,b;this.updatePosition(1),this.endIndex--,(b=(T=this.cbs).ontext)===null||b===void 0||b.call(T,w)},P.prototype.onopentagname=function(w){var T,b;if(this.lowerCaseTagNames&&(w=w.toLowerCase()),this.tagname=w,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(p,w))for(var k=void 0;this.stack.length>0&&p[w].has(k=this.stack[this.stack.length-1]);)this.onclosetag(k);!this.options.xmlMode&&g.has(w)||(this.stack.push(w),h.has(w)?this.foreignContext.push(!0):y.has(w)&&this.foreignContext.push(!1)),(b=(T=this.cbs).onopentagname)===null||b===void 0||b.call(T,w),this.cbs.onopentag&&(this.attribs={})},P.prototype.onopentagend=function(){var w,T;this.updatePosition(1),this.attribs&&((T=(w=this.cbs).onopentag)===null||T===void 0||T.call(w,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&g.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},P.prototype.onclosetag=function(w){if(this.updatePosition(1),this.lowerCaseTagNames&&(w=w.toLowerCase()),(h.has(w)||y.has(w))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&g.has(w))this.options.xmlMode||w!=="br"&&w!=="p"||(this.onopentagname(w),this.closeCurrentTag());else{var T=this.stack.lastIndexOf(w);if(T!==-1)if(this.cbs.onclosetag)for(T=this.stack.length-T;T--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=T;else w!=="p"||this.options.xmlMode||(this.onopentagname(w),this.closeCurrentTag())}},P.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},P.prototype.closeCurrentTag=function(){var w,T,b=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===b&&((T=(w=this.cbs).onclosetag)===null||T===void 0||T.call(w,b),this.stack.pop())},P.prototype.onattribname=function(w){this.lowerCaseAttributeNames&&(w=w.toLowerCase()),this.attribname=w},P.prototype.onattribdata=function(w){this.attribvalue+=w},P.prototype.onattribend=function(w){var T,b;(b=(T=this.cbs).onattribute)===null||b===void 0||b.call(T,this.attribname,this.attribvalue,w),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},P.prototype.getInstructionName=function(w){var T=w.search(_),b=T<0?w:w.substr(0,T);return this.lowerCaseTagNames&&(b=b.toLowerCase()),b},P.prototype.ondeclaration=function(w){if(this.cbs.onprocessinginstruction){var T=this.getInstructionName(w);this.cbs.onprocessinginstruction("!"+T,"!"+w)}},P.prototype.onprocessinginstruction=function(w){if(this.cbs.onprocessinginstruction){var T=this.getInstructionName(w);this.cbs.onprocessinginstruction("?"+T,"?"+w)}},P.prototype.oncomment=function(w){var T,b,k,E;this.updatePosition(4),(b=(T=this.cbs).oncomment)===null||b===void 0||b.call(T,w),(E=(k=this.cbs).oncommentend)===null||E===void 0||E.call(k)},P.prototype.oncdata=function(w){var T,b,k,E,L,R;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?((b=(T=this.cbs).oncdatastart)===null||b===void 0||b.call(T),(E=(k=this.cbs).ontext)===null||E===void 0||E.call(k,w),(R=(L=this.cbs).oncdataend)===null||R===void 0||R.call(L)):this.oncomment("[CDATA["+w+"]]")},P.prototype.onerror=function(w){var T,b;(b=(T=this.cbs).onerror)===null||b===void 0||b.call(T,w)},P.prototype.onend=function(){var w,T;if(this.cbs.onclosetag)for(var b=this.stack.length;b>0;this.cbs.onclosetag(this.stack[--b]));(T=(w=this.cbs).onend)===null||T===void 0||T.call(w)},P.prototype.reset=function(){var w,T,b,k;(T=(w=this.cbs).onreset)===null||T===void 0||T.call(w),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],(k=(b=this.cbs).onparserinit)===null||k===void 0||k.call(b,this)},P.prototype.parseComplete=function(w){this.reset(),this.end(w)},P.prototype.write=function(w){this.tokenizer.write(w)},P.prototype.end=function(w){this.tokenizer.end(w)},P.prototype.pause=function(){this.tokenizer.pause()},P.prototype.resume=function(){this.tokenizer.resume()},P.prototype.parseChunk=function(w){this.write(w)},P.prototype.done=function(w){this.end(w)},P}();i.Parser=x},9889:function(r,i,a){"use strict";var s=this&&this.__importDefault||function(It){return It&&It.__esModule?It:{default:It}};Object.defineProperty(i,"__esModule",{value:!0});var l=s(a(26)),c=s(a(9323)),u=s(a(9591)),p=s(a(2586));function g(It){return It===" "||It===`
`||It==="	"||It==="\f"||It==="\r"}function h(It){return It>="a"&&It<="z"||It>="A"&&It<="Z"}function y(It,at,Kt){var le=It.toLowerCase();return It===le?function(Ct,oe){oe===le?Ct._state=at:(Ct._state=Kt,Ct._index--)}:function(Ct,oe){oe===le||oe===It?Ct._state=at:(Ct._state=Kt,Ct._index--)}}function _(It,at){var Kt=It.toLowerCase();return function(le,Ct){Ct===Kt||Ct===It?le._state=at:(le._state=3,le._index--)}}var x=y("C",24,16),P=y("D",25,16),w=y("A",26,16),T=y("T",27,16),b=y("A",28,16),k=_("R",35),E=_("I",36),L=_("P",37),R=_("T",38),z=y("R",40,1),N=y("I",41,1),j=y("P",42,1),D=y("T",43,1),W=_("Y",45),q=_("L",46),J=_("E",47),I=y("Y",49,1),Z=y("L",50,1),et=y("E",51,1),ut=_("I",54),Rt=_("T",55),Gt=_("L",56),Pt=_("E",57),_t=y("I",58,1),rt=y("T",59,1),ft=y("L",60,1),wt=y("E",61,1),Et=y("#",63,64),Nt=y("X",66,65),Ht=function(){function It(at,Kt){var le;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=Kt,this.xmlMode=!!at?.xmlMode,this.decodeEntities=(le=at?.decodeEntities)===null||le===void 0||le}return It.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},It.prototype.write=function(at){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=at,this.parse()},It.prototype.end=function(at){this.ended&&this.cbs.onerror(Error(".end() after done!")),at&&this.write(at),this.ended=!0,this.running&&this.finish()},It.prototype.pause=function(){this.running=!1},It.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},It.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},It.prototype.stateText=function(at){at==="<"?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||at!=="&"||this.special!==1&&this.special!==4||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},It.prototype.isTagStartChar=function(at){return h(at)||this.xmlMode&&!g(at)&&at!=="/"&&at!==">"},It.prototype.stateBeforeTagName=function(at){at==="/"?this._state=5:at==="<"?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):at===">"||this.special!==1||g(at)?this._state=1:at==="!"?(this._state=15,this.sectionStart=this._index+1):at==="?"?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(at)?(this._state=this.xmlMode||at!=="s"&&at!=="S"?this.xmlMode||at!=="t"&&at!=="T"?3:52:32,this.sectionStart=this._index):this._state=1},It.prototype.stateInTagName=function(at){(at==="/"||at===">"||g(at))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},It.prototype.stateBeforeClosingTagName=function(at){g(at)||(at===">"?this._state=1:this.special!==1?this.special===4||at!=="s"&&at!=="S"?this.special!==4||at!=="t"&&at!=="T"?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(at)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},It.prototype.stateInClosingTagName=function(at){(at===">"||g(at))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},It.prototype.stateAfterClosingTagName=function(at){at===">"&&(this._state=1,this.sectionStart=this._index+1)},It.prototype.stateBeforeAttributeName=function(at){at===">"?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):at==="/"?this._state=4:g(at)||(this._state=9,this.sectionStart=this._index)},It.prototype.stateInSelfClosingTag=function(at){at===">"?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):g(at)||(this._state=8,this._index--)},It.prototype.stateInAttributeName=function(at){(at==="="||at==="/"||at===">"||g(at))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},It.prototype.stateAfterAttributeName=function(at){at==="="?this._state=11:at==="/"||at===">"?(this.cbs.onattribend(void 0),this._state=8,this._index--):g(at)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},It.prototype.stateBeforeAttributeValue=function(at){at==='"'?(this._state=12,this.sectionStart=this._index+1):at==="'"?(this._state=13,this.sectionStart=this._index+1):g(at)||(this._state=14,this.sectionStart=this._index,this._index--)},It.prototype.handleInAttributeValue=function(at,Kt){at===Kt?(this.emitToken("onattribdata"),this.cbs.onattribend(Kt),this._state=8):this.decodeEntities&&at==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},It.prototype.stateInAttributeValueDoubleQuotes=function(at){this.handleInAttributeValue(at,'"')},It.prototype.stateInAttributeValueSingleQuotes=function(at){this.handleInAttributeValue(at,"'")},It.prototype.stateInAttributeValueNoQuotes=function(at){g(at)||at===">"?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&at==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},It.prototype.stateBeforeDeclaration=function(at){this._state=at==="["?23:at==="-"?18:16},It.prototype.stateInDeclaration=function(at){at===">"&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},It.prototype.stateInProcessingInstruction=function(at){at===">"&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},It.prototype.stateBeforeComment=function(at){at==="-"?(this._state=19,this.sectionStart=this._index+1):this._state=16},It.prototype.stateInComment=function(at){at==="-"&&(this._state=21)},It.prototype.stateInSpecialComment=function(at){at===">"&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},It.prototype.stateAfterComment1=function(at){this._state=at==="-"?22:19},It.prototype.stateAfterComment2=function(at){at===">"?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):at!=="-"&&(this._state=19)},It.prototype.stateBeforeCdata6=function(at){at==="["?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},It.prototype.stateInCdata=function(at){at==="]"&&(this._state=30)},It.prototype.stateAfterCdata1=function(at){this._state=at==="]"?31:29},It.prototype.stateAfterCdata2=function(at){at===">"?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):at!=="]"&&(this._state=29)},It.prototype.stateBeforeSpecialS=function(at){at==="c"||at==="C"?this._state=34:at==="t"||at==="T"?this._state=44:(this._state=3,this._index--)},It.prototype.stateBeforeSpecialSEnd=function(at){this.special!==2||at!=="c"&&at!=="C"?this.special!==3||at!=="t"&&at!=="T"?this._state=1:this._state=48:this._state=39},It.prototype.stateBeforeSpecialLast=function(at,Kt){(at==="/"||at===">"||g(at))&&(this.special=Kt),this._state=3,this._index--},It.prototype.stateAfterSpecialLast=function(at,Kt){at===">"||g(at)?(this.special=1,this._state=6,this.sectionStart=this._index-Kt,this._index--):this._state=1},It.prototype.parseFixedEntity=function(at){if(at===void 0&&(at=this.xmlMode?p.default:c.default),this.sectionStart+1<this._index){var Kt=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(at,Kt)&&(this.emitPartial(at[Kt]),this.sectionStart=this._index+1)}},It.prototype.parseLegacyEntity=function(){for(var at=this.sectionStart+1,Kt=Math.min(this._index-at,6);Kt>=2;){var le=this.buffer.substr(at,Kt);if(Object.prototype.hasOwnProperty.call(u.default,le))return this.emitPartial(u.default[le]),void(this.sectionStart+=Kt+1);Kt--}},It.prototype.stateInNamedEntity=function(at){at===";"?(this.parseFixedEntity(),this.baseState===1&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(at<"0"||at>"9")&&!h(at)&&(this.xmlMode||this.sectionStart+1===this._index||(this.baseState!==1?at!=="="&&this.parseFixedEntity(u.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},It.prototype.decodeNumericEntity=function(at,Kt,le){var Ct=this.sectionStart+at;if(Ct!==this._index){var oe=this.buffer.substring(Ct,this._index),ge=parseInt(oe,Kt);this.emitPartial(l.default(ge)),this.sectionStart=le?this._index+1:this._index}this._state=this.baseState},It.prototype.stateInNumericEntity=function(at){at===";"?this.decodeNumericEntity(2,10,!0):(at<"0"||at>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},It.prototype.stateInHexEntity=function(at){at===";"?this.decodeNumericEntity(3,16,!0):(at<"a"||at>"f")&&(at<"A"||at>"F")&&(at<"0"||at>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},It.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(this._state===1?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},It.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var at=this.buffer.charAt(this._index);this._state===1?this.stateText(at):this._state===12?this.stateInAttributeValueDoubleQuotes(at):this._state===9?this.stateInAttributeName(at):this._state===19?this.stateInComment(at):this._state===20?this.stateInSpecialComment(at):this._state===8?this.stateBeforeAttributeName(at):this._state===3?this.stateInTagName(at):this._state===6?this.stateInClosingTagName(at):this._state===2?this.stateBeforeTagName(at):this._state===10?this.stateAfterAttributeName(at):this._state===13?this.stateInAttributeValueSingleQuotes(at):this._state===11?this.stateBeforeAttributeValue(at):this._state===5?this.stateBeforeClosingTagName(at):this._state===7?this.stateAfterClosingTagName(at):this._state===32?this.stateBeforeSpecialS(at):this._state===21?this.stateAfterComment1(at):this._state===14?this.stateInAttributeValueNoQuotes(at):this._state===4?this.stateInSelfClosingTag(at):this._state===16?this.stateInDeclaration(at):this._state===15?this.stateBeforeDeclaration(at):this._state===22?this.stateAfterComment2(at):this._state===18?this.stateBeforeComment(at):this._state===33?this.stateBeforeSpecialSEnd(at):this._state===53?_t(this,at):this._state===39?z(this,at):this._state===40?N(this,at):this._state===41?j(this,at):this._state===34?k(this,at):this._state===35?E(this,at):this._state===36?L(this,at):this._state===37?R(this,at):this._state===38?this.stateBeforeSpecialLast(at,2):this._state===42?D(this,at):this._state===43?this.stateAfterSpecialLast(at,6):this._state===44?W(this,at):this._state===29?this.stateInCdata(at):this._state===45?q(this,at):this._state===46?J(this,at):this._state===47?this.stateBeforeSpecialLast(at,3):this._state===48?I(this,at):this._state===49?Z(this,at):this._state===50?et(this,at):this._state===51?this.stateAfterSpecialLast(at,5):this._state===52?ut(this,at):this._state===54?Rt(this,at):this._state===55?Gt(this,at):this._state===56?Pt(this,at):this._state===57?this.stateBeforeSpecialLast(at,4):this._state===58?rt(this,at):this._state===59?ft(this,at):this._state===60?wt(this,at):this._state===61?this.stateAfterSpecialLast(at,5):this._state===17?this.stateInProcessingInstruction(at):this._state===64?this.stateInNamedEntity(at):this._state===23?x(this,at):this._state===62?Et(this,at):this._state===24?P(this,at):this._state===25?w(this,at):this._state===30?this.stateAfterCdata1(at):this._state===31?this.stateAfterCdata2(at):this._state===26?T(this,at):this._state===27?b(this,at):this._state===28?this.stateBeforeCdata6(at):this._state===66?this.stateInHexEntity(at):this._state===65?this.stateInNumericEntity(at):this._state===63?Nt(this,at):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},It.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},It.prototype.handleTrailingData=function(){var at=this.buffer.substr(this.sectionStart);this._state===29||this._state===30||this._state===31?this.cbs.oncdata(at):this._state===19||this._state===21||this._state===22?this.cbs.oncomment(at):this._state!==64||this.xmlMode?this._state!==65||this.xmlMode?this._state!==66||this.xmlMode?this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this.cbs.ontext(at):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},It.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},It.prototype.emitToken=function(at){this.cbs[at](this.getSection()),this.sectionStart=-1},It.prototype.emitPartial=function(at){this.baseState!==1?this.cbs.onattribdata(at):this.cbs.ontext(at)},It}();i.default=Ht},3719:function(r,i,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(w,T,b,k){k===void 0&&(k=b),Object.defineProperty(w,k,{enumerable:!0,get:function(){return T[b]}})}:function(w,T,b,k){k===void 0&&(k=b),w[k]=T[b]}),l=this&&this.__setModuleDefault||(Object.create?function(w,T){Object.defineProperty(w,"default",{enumerable:!0,value:T})}:function(w,T){w.default=T}),c=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var T={};if(w!=null)for(var b in w)b!=="default"&&Object.prototype.hasOwnProperty.call(w,b)&&s(T,w,b);return l(T,w),T},u=this&&this.__exportStar||function(w,T){for(var b in w)b==="default"||Object.prototype.hasOwnProperty.call(T,b)||s(T,w,b)},p=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(i,"__esModule",{value:!0}),i.RssHandler=i.DefaultHandler=i.DomUtils=i.ElementType=i.Tokenizer=i.createDomStream=i.parseDOM=i.parseDocument=i.DomHandler=i.Parser=void 0;var g=a(763);Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return g.Parser}});var h=a(7915);function y(w,T){var b=new h.DomHandler(void 0,T);return new g.Parser(b,T).end(w),b.root}Object.defineProperty(i,"DomHandler",{enumerable:!0,get:function(){return h.DomHandler}}),Object.defineProperty(i,"DefaultHandler",{enumerable:!0,get:function(){return h.DomHandler}}),i.parseDocument=y,i.parseDOM=function(w,T){return y(w,T).children},i.createDomStream=function(w,T,b){var k=new h.DomHandler(w,T,b);return new g.Parser(k,T)};var _=a(9889);Object.defineProperty(i,"Tokenizer",{enumerable:!0,get:function(){return p(_).default}});var x=c(a(9960));i.ElementType=x,u(a(3870),i),i.DomUtils=c(a(9432));var P=a(3870);Object.defineProperty(i,"RssHandler",{enumerable:!0,get:function(){return P.FeedHandler}})},6094:(r,i,a)=>{"use strict";var s=a(9018),l=a(8880)(function(u,p){return s(u,{xmlMode:p&&p.xmlMode},c,[p])}),c=function(u,p){return l.juiceDocument(u,p)};l.inlineContent=function(u,p,g){return s(u,{xmlMode:g&&g.xmlMode},l.inlineDocument,[p,g])},r.exports=l},9018:(r,i,a)=>{"use strict";var s=a(7503);a(9671),r.exports=function(l,c,u,p){var g,h=(g=[],{encodeEntities:function(P){var w=r.exports.codeBlocks;return Object.keys(w).forEach(function(T){var b=new RegExp(w[T].start+"([\\S\\s]*?)"+w[T].end,"g");P=P.replace(b,function(k,E){return g.push(k),"JUICE_CODE_BLOCK_"+(g.length-1)+"_"})}),P},decodeEntities:function(P){for(var w=0;w<g.length;w++){var T=new RegExp("JUICE_CODE_BLOCK_"+w+'_(="")?',"gi");P=P.replace(T,function(){return g[w]})}return P}}),y=function(P,w,T){return w=Object.assign({decodeEntities:!1,_useHtmlParser2:!0},w),P=T(P),s.load(P,w)}(l,c,h.encodeEntities),_=[y];_.push.apply(_,p);var x=u.apply(void 0,_)||y;return c&&c.xmlMode?h.decodeEntities(x.xml()):h.decodeEntities(x.html())},r.exports.codeBlocks={EJS:{start:"<%",end:"%>"},HBS:{start:"{{",end:"}}"}}},8880:(r,i,a)=>{"use strict";var s=a(9671),l=a(5468);r.exports=function(c){function u(_,x,P){P=P||{};var w=s.parseCSS(x),T=[],b="style",k={};if(P.styleAttributeName&&(b=P.styleAttributeName),w.forEach(function(N){var j=N[0],D=N[1],W=new s.Selector(j),q=W.parsed();if(q){for(var J,I=function(_t){if(_t.length!==0){var rt=_t[_t.length-1].pseudos;if(rt){for(var ft=0;ft<rt.length;ft++)if(y(rt[ft]))return rt[ft].name}}}(q),Z=0;Z<q.length;++Z){var et=q[Z];if(et.pseudos)for(var ut=0;ut<et.pseudos.length;++ut){var Rt=et.pseudos[ut];if(c.ignoredPseudos.indexOf(Rt.name)>=0)return}}if(I){var Gt=q[q.length-1],Pt=Gt.pseudos;Gt.pseudos=function(_t){return _t.filter(function(rt){return!y(rt)})}(Gt.pseudos),j=q.toString(),Gt.pseudos=Pt}try{J=_(j)}catch{return}J.each(function(){var _t=this;if(!(_t.name&&c.nonVisualElements.indexOf(_t.name.toUpperCase())>=0)){if(I){var rt="pseudo"+I,ft=_t[rt];ft||((ft=_t[rt]=_("<span />").get(0)).pseudoElementType=I,ft.pseudoElementParent=_t,ft.counterProps=_t.counterProps,_t[rt]=ft),_t=ft}if(!_t.styleProps){if(_t.styleProps={},_(_t).attr(b)){var wt="* { "+_(_t).attr(b)+" } ";Ht(s.parseCSS(wt)[0][1],new s.Selector("<style>",!0))}T.push(_t)}_t.counterProps||(_t.counterProps=_t.parent&&_t.parent.counterProps?Object.create(_t.parent.counterProps):{}),Ht(D,W)}function Et(It,at){for(var Kt=at.split(/\s+/),le=0;le<Kt.length;le++){var Ct=Kt[le],oe=parseInt(Kt[le+1],10);isNaN(oe)?It.counterProps[Ct]=k[Ct]=0:It.counterProps[Ct]=k[Kt[le++]]=oe}}function Nt(It,at){for(var Kt=at.split(/\s+/),le=0;le<Kt.length;le++){var Ct=Kt[le];if(It.counterProps[Ct]!==void 0){var oe=parseInt(Kt[le+1],10);isNaN(oe)?It.counterProps[Ct]=k[Ct]+=1:It.counterProps[Ct]=k[Kt[le++]]+=oe}}}function Ht(It,at){for(var Kt=0,le=It.length;Kt<le;Kt++)if(It[Kt].type=="property"){var Ct=It[Kt].name,oe=It[Kt].value;Ct==="counter-reset"&&Et(_t,oe),Ct==="counter-increment"&&Nt(_t,oe);var ge=oe.match(/!important$/)!==null;ge&&!P.preserveImportant&&(oe=p(oe));var ce=[It[Kt].position.start.line,It[Kt].position.start.col],K=new s.Property(Ct,oe,at,ge?2:0,ce),ot=_t.styleProps[Ct];c.excludedProperties.indexOf(Ct)<0&&(ot&&ot.compare(K)===K||!ot)&&(ot&&ot.selector!==at?delete _t.styleProps[Ct]:ot&&(K.nextProp=ot),_t.styleProps[Ct]=K)}}})}}),T.forEach(function(N){Object.keys(N.styleProps).length;var j=[];Object.keys(N.styleProps).forEach(function(W){for(var q=N.styleProps[W];q!==void 0;)j.push(q),q=q.nextProp}),j.sort(function(W,q){return W.compareFunc(q)});var D=j.filter(function(W){return W.prop!=="content"}).map(function(W){return W.prop+": "+W.value.replace(/["]/g,"'")+";"}).join(" ");D&&_(N).attr(b,D)}),P.inlinePseudoElements&&T.forEach(function(N){if(N.pseudoElementType&&N.styleProps.content){var j=function(W){var q=W.styleProps.content.value;if(q==="none"||q==="normal")return"";var J=q.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);if(J)return{img:J[1].replace(/^['"]|['"]$/g,"")};for(var I=[],Z=q.split(/['"]/),et=0;et<Z.length;et++)if(Z[et]!==""){var ut=Z[et].match(/var\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(ut){var Rt=g(W,ut[1])||ut[2];I.push(Rt.replace(/^['"]|['"]$/g,""))}else{var Gt=Z[et].match(/counter\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(Gt&&Gt[1]in W.counterProps){var Pt=W.counterProps[Gt[1]];I.push(h(Pt,Gt[3]))}else{var _t=Z[et].match(/attr\s*\(\s*(.*?)\s*\)/i);if(_t){var rt=_t[1];I.push(W.pseudoElementParent?W.pseudoElementParent.attribs[rt]:W.attribs[rt])}else I.push(Z[et])}}}return q=I.join(""),q=q.replace(/\\/g,"")}(N);j.img?(N.name="img",_(N).attr("src",j.img)):_(N).text(j);var D=N.pseudoElementParent;N.pseudoElementType==="before"?_(D).prepend(N):_(D).append(N)}}),P.applyWidthAttributes&&T.forEach(function(N){R(N,"width")}),P.applyHeightAttributes&&T.forEach(function(N){R(N,"height")}),P.applyAttributesTableElements&&T.forEach(function(N){if(N.name){var j=N.name.toUpperCase(),D=Object.keys(c.styleToAttribute);if(c.tableElements.indexOf(j)>-1){for(var W in N.styleProps)if(D.indexOf(N.styleProps[W].prop)>-1){var q=c.styleToAttribute[N.styleProps[W].prop],J=N.styleProps[W].value;if(P.preserveImportant&&(J=p(J)),q==="background"&&(J=z(J)),/(linear|radial)-gradient\(/i.test(J))continue;_(N).attr(q,J)}}}}),P.insertPreservedExtraCss&&P.extraCss){var E=s.getPreservedText(P.extraCss,{mediaQueries:P.preserveMediaQueries,fontFaces:P.preserveFontFaces,keyFrames:P.preserveKeyFrames});if(E){var L=null;P.insertPreservedExtraCss!==!0?L=_(P.insertPreservedExtraCss):((L=_("head")).length||(L=_("body")),L.length||(L=_.root())),L.first().append("<style>"+E+"</style>")}}function R(N,j){if(N.name){var D=N.name.toUpperCase();if(c[j+"Elements"].indexOf(D)>-1){for(var W in N.styleProps)if(N.styleProps[W].prop===j){var q=N.styleProps[W].value;if(P.preserveImportant&&(q=p(q)),q.match(/px/)){var J=q.replace("px","");return void _(N).attr(j,J)}if(c.tableElements.indexOf(D)>-1&&q.match(/\%/))return void _(N).attr(j,q)}}}}function z(N){return N.indexOf("url(")!==0?N:N.replace(/^url\((["'])?([^"']+)\1\)$/,"$2")}}function p(_){return _.replace(/\s*!important$/,"")}function g(_,x){for(;_;){if(x in _.styleProps)return _.styleProps[x].value;_=_.pseudoElementParent||_.parent}}function h(_,x){switch(x){case"lower-roman":return l.romanize(_).toLowerCase();case"upper-roman":return l.romanize(_);case"lower-latin":case"lower-alpha":return l.alphanumeric(_).toLowerCase();case"upper-latin":case"upper-alpha":return l.alphanumeric(_);default:return _.toString()}}function y(_){return _.name==="before"||_.name==="after"}return c.ignoredPseudos=["hover","active","focus","visited","link"],c.widthElements=["TABLE","TD","TH","IMG"],c.heightElements=["TABLE","TD","TH","IMG"],c.tableElements=["TABLE","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],c.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],c.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},c.excludedProperties=[],c.juiceDocument=function(_,x){x=s.getDefaultOptions(x);var P=function(w,T){var b=function(E,L){var R,z,N,j=[],D=E("style");return D.each(function(){var W=!!(N=this).childNodes;if((R=W?N.childNodes:N.children).length===1){if(z=R[0].data,L.applyStyleTags&&E(N).attr("data-embed")===void 0&&j.push(z),L.removeStyleTags&&E(N).attr("data-embed")===void 0){var q=W?N.childNodes[0].nodeValue:N.children[0].data,J=s.getPreservedText(q,{mediaQueries:L.preserveMediaQueries,fontFaces:L.preserveFontFaces,keyFrames:L.preserveKeyFrames,pseudos:L.preservePseudos},c.ignoredPseudos);J?W?N.childNodes[0].nodeValue=J:N.children[0].data=J:E(N).remove()}E(N).removeAttr("data-embed")}else L.removeStyleTags&&E(N).remove()}),j}(w,T),k=b.join(`
`);return k}(_,x);return P+=`
`+x.extraCss,u(_,P,x),_},c.inlineDocument=u,c}},5468:(r,i)=>{"use strict";i.romanize=function(a){if(isNaN(a))return NaN;for(var s=String(+a).split(""),l=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],c="",u=3;u--;)c=(l[+s.pop()+10*u]||"")+c;return Array(+s.join("")+1).join("M")+c},i.alphanumeric=function(a){for(var s,l="";a>0;)s=(a-1)%26,l=String.fromCharCode(65+s)+l,a=(a-s)/26|0;return l||void 0}},4777:(r,i,a)=>{"use strict";r.exports=l;var s=a(9671);function l(c,u,p,g,h){this.prop=c,this.value=u,this.selector=p,this.priority=g||0,this.additionalPriority=h||[]}l.prototype.compareFunc=function(c){var u=[];u.push.apply(u,this.selector.specificity()),u.push.apply(u,this.additionalPriority),u[0]+=this.priority;var p=[];return p.push.apply(p,c.selector.specificity()),p.push.apply(p,c.additionalPriority),p[0]+=c.priority,s.compareFunc(u,p)},l.prototype.compare=function(c){return this.compareFunc(c)===1?this:c},l.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}},9240:(r,i,a)=>{"use strict";var s=a(6585);function l(u,p){this.text=u,this.spec=void 0,this.styleAttribute=p||!1}function c(u){try{return s(u)[0]}catch{return[]}}r.exports=l,l.prototype.parsed=function(){return this.tokens||(this.tokens=c(this.text)),this.tokens},l.prototype.specificity=function(){var u=this.styleAttribute;return this.spec||(this.spec=function p(g,h){for(var y=h||c(g),_=[u?1:0,0,0,0],x=[],P=0;P<y.length;P++){var w=y[P],T=w.pseudos;if(w.id&&_[1]++,w.attributes&&(_[2]+=w.attributes.length),w.classList&&(_[2]+=w.classList.length),w.tag&&w.tag!=="*"&&_[3]++,T){_[3]+=T.length;for(var b=0;b<T.length;b++)T[b].name==="not"&&(x.push(T[b].value),_[3]--)}}for(var k=x.length;k--;)for(var E=p(x[k]),L=4;L--;)_[L]+=E[L];return _}(this.text,this.parsed())),this.spec}},9671:(r,i,a)=>{"use strict";var s=a(4984),l=a(9240),c=a(4777);i.Selector=l,i.Property=c,i.extract=function(u){for(var p=0,g=[],h="",y=0,_=u.length;y<_;y++){var x=u.charAt(y);p?(x!=="]"&&x!==")"||p--,h+=x):x===","?(g.push(h),h=""):(x!=="["&&x!=="("||p++,(h.length||x!==","&&x!==`
`&&x!==" ")&&(h+=x))}return h.length&&g.push(h),g},i.parseCSS=function(u){for(var p=s.parse(u,{position:!0,comments:!0}),g=p.stylesheet!==void 0&&p.stylesheet.rules?p.stylesheet.rules:[],h=[],y=0,_=g.length;y<_;y++)if(g[y].type=="rule")for(var x=g[y],P=x.selectors,w=0,T=P.length;w<T;w++)h.push([P[w],x.declarations]);return h},i.getPreservedText=function(u,p,g){for(var h=s.parse(u,{position:!0,comments:!0}),y=h.stylesheet!==void 0&&h.stylesheet.rules?h.stylesheet.rules:[],_=[],x=y.length-1;x>=0;x--)(p.fontFaces&&y[x].type==="font-face"||p.mediaQueries&&y[x].type==="media"||p.keyFrames&&y[x].type==="keyframes"||p.pseudos&&y[x].selectors&&this.matchesPseudo(y[x].selectors[0],g))&&_.unshift(s.stringify({stylesheet:{rules:[y[x]]}},{comments:!1,indentation:"  "})),y[x].position.start;return _.length!==0&&`
`+_.join(`
`)+`
`},i.normalizeLineEndings=function(u){return u.replace(/\r\n/g,`
`).replace(/\n/g,`\r
`)},i.matchesPseudo=function(u,p){return p.find(function(g){return u.indexOf(g)>-1})},i.compareFunc=function(u,p){for(var g=Math.min(u.length,p.length),h=0;h<g;h++)if(u[h]!==p[h])return u[h]>p[h]?1:-1;return u.length-p.length},i.compare=function(u,p){return i.compareFunc(u,p)==1?u:p},i.getDefaultOptions=function(u){var p=Object.assign({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,preserveKeyFrames:!0,preservePseudos:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:""},u);return p.webResources=p.webResources||{},p}},4984:(r,i,a)=>{r.exports={lex:a(5625),parse:a(2579),stringify:a(7134)}},1514:(r,i)=>{function a(s){var l=[].slice.call(arguments,1);l.unshift("["+s+"]"),process.stderr.write(l.join(" ")+`
`)}r.exports=function(s){return a.bind(null,s)}},5625:(r,i,a)=>{var s=!1,l=!1,c=a(1514)("lex");r.exports=function(u){var p,g,h="",y=0,_=-1,x=0,P=1,w="before-selector",T=[w],b={},k=[],E=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];function L(rt){return rt?T[T.length-1-rt]:w}function R(rt){var ft=_+1;return rt===u.slice(ft,ft+rt.length)}function z(rt){var ft=u.slice(_).indexOf(rt);return ft>0&&ft}function N(rt){return rt===j(1)}function j(rt){return u[_+(rt||1)]}function D(){var rt=T.pop();return w=T[T.length-1],rt}function W(rt){return w=rt,T.push(w),T.length}function q(rt){var ft=w;return T[T.length-1]=w=rt,ft}function J(rt){if((rt||1)==1)u[_]==`
`?(P++,y=1):y++,_++;else{var ft=u.slice(_,_+rt).split(`
`);ft.length>1&&(P+=ft.length-1,y=1),y+=ft[ft.length-1].length,_+=rt}}function I(){b.end={line:P,col:y},s&&c("addToken:",JSON.stringify(b,null,2)),k.push(b),h="",b={}}function Z(rt){b={type:rt,start:{line:P,col:y}}}for(l&&(p=Date.now());J(),g=u[_];)switch(s&&c(g,L()),g){case" ":switch(L()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":h+=g}break;case`
`:case"	":case"\r":case"\f":switch(L()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":h+=g;break;case"at-value":g===`
`&&(b.value=h.trim(),I(),D())}break;case":":switch(L()){case"name":b.name=h.trim(),h="",q("before-value");break;case"before-selector":h+=g,Z("selector"),W("selector");break;case"before-value":q("value"),h+=g;break;default:h+=g}break;case";":switch(L()){case"name":case"before-value":case"value":h.trim().length>0&&(b.value=h.trim(),I()),q("before-name");break;case"value-paren":default:h+=g;break;case"at-value":b.value=h.trim(),I(),D();case"before-name":}break;case"{":switch(L()){case"selector":if(j(-1)==="\\"){h+=g;break}b.text=h.trim(),I(),q("before-name"),x+=1;break;case"at-group":switch(b.name=h.trim(),b.type){case"font-face":case"viewport":case"page":W("before-name");break;default:W("before-selector")}I(),x+=1;break;case"name":case"at-rule":b.name=h.trim(),I(),W("before-name"),x+=1;break;case"comment":case"double-string":case"single-string":h+=g;break;case"before-value":q("value"),h+=g}break;case"}":switch(L()){case"before-name":case"name":case"before-value":case"value":h&&(b.value=h.trim()),b.name&&b.value&&I(),Z("end"),I(),D(),L()==="at-group"&&(Z("at-group-end"),I(),D()),x>0&&(x-=1);break;case"at-group":case"before-selector":case"selector":if(j(-1)==="\\"){h+=g;break}x>0&&L(1)==="at-group"&&(Z("at-group-end"),I()),x>1&&D(),x>0&&(x-=1);break;case"double-string":case"single-string":case"comment":h+=g}break;case'"':case"'":switch(L()){case"double-string":g==='"'&&j(-1)!=="\\"&&D();break;case"single-string":g==="'"&&j(-1)!=="\\"&&D();break;case"before-at-value":q("at-value"),W(g==='"'?"double-string":"single-string");break;case"before-value":q("value"),W(g==='"'?"double-string":"single-string");break;case"comment":break;default:j(-1)!=="\\"&&W(g==='"'?"double-string":"single-string")}h+=g;break;case"/":switch(L()){case"comment":case"double-string":case"single-string":h+=g;break;case"before-value":case"selector":case"name":case"value":if(N("*")){var et=z("*/");et&&J(et+1)}else L()=="before-value"&&q("value"),h+=g;break;default:N("*")?(Z("comment"),W("comment"),J()):h+=g}break;case"*":switch(L()){case"comment":N("/")?(b.text=h,J(),I(),D()):h+=g;break;case"before-selector":h+=g,Z("selector"),W("selector");break;case"before-value":q("value"),h+=g;break;default:h+=g}break;case"@":switch(L()){case"comment":case"double-string":case"single-string":h+=g;break;case"before-value":q("value"),h+=g;break;default:for(var ut,Rt,Gt=!1,Pt=0,_t=E.length;!Gt&&Pt<_t;++Pt)R(ut=(Rt=E[Pt]).name||Rt)&&(Gt=!0,Z(ut),W(Rt.state||"at-group"),J(ut.length),Rt.prefix&&(b.prefix=Rt.prefix),Rt.type&&(b.type=Rt.type));Gt||(h+=g)}break;case"(":switch(L()){case"value":W("value-paren");break;case"before-value":q("value")}h+=g;break;case")":switch(L()){case"value-paren":D();break;case"before-value":q("value")}h+=g;break;default:switch(L()){case"before-selector":Z("selector"),W("selector");break;case"before-name":Z("property"),q("name");break;case"before-value":q("value");break;case"before-at-value":q("at-value")}h+=g}return l&&c("ran in",Date.now()-p+"ms"),k}},2579:(r,i,a)=>{var s,l,c,u,p=!1,g=!1,h=a(1514)("parse"),y=a(5625);function _(k,E){var L;E||(E={});for(var R=["type","name","value"],z={},N=0;N<R.length;++N)k[L=R[N]]&&(z[L]=E[L]||k[L]);for(R=Object.keys(E),N=0;N<R.length;++N)z[L=R[N]]||(z[L]=E[L]);return c&&(z.position={start:k.start,end:k.end}),p&&h("astNode:",JSON.stringify(z,null,2)),z}function x(){var k=u.shift();return p&&h("next:",JSON.stringify(k,null,2)),k}function P(k){l+=1;var E={};switch(k.type){case"font-face":case"viewport":E.declarations=b();break;case"page":E.prefix=k.prefix,E.declarations=b();break;default:E.prefix=k.prefix,E.rules=T(function(){return l})}return _(k,E)}function w(k){switch(k.type){case"property":case"charset":case"import":case"namespace":return function(E){return _(E)}(k);case"selector":return function(E){return _(E,{type:"rule",selectors:E.text.split(",").map(function(L){return L.trim()}),declarations:b()})}(k);case"at-group-end":return void(l-=1);case"media":case"keyframes":case"font-face":case"supports":case"viewport":case"document":case"page":return P(k);case"comment":if(s)return function(E){return _(E,{text:E.text})}(k)}p&&h("parseToken: unexpected token:",JSON.stringify(k))}function T(k){for(var E,L,R=[];(L=x())&&k&&k(L);)(E=w(L))&&R.push(E);return L&&L.type!=="end"&&u.unshift(L),R}function b(){return T(function(k){return k.type==="property"||k.type==="comment"})}r.exports=function(k,E){var L,R;E||(E={}),s=!!E.comments,c=!!E.position,l=0,u=Array.isArray(k)?k.slice():y(k);var z,N=[];for(g&&(L=Date.now());z=x();)(R=w(z))&&N.push(R);return g&&h("ran in",Date.now()-L+"ms"),{type:"stylesheet",stylesheet:{rules:N}}}},7134:(r,i,a)=>{var s,l,c,u,p,g,h=!1,y=!1,_=a(1514)("stringify");function x(R){if(!R)return l?"":Array(u).join(c||"");u+=R}function P(R){var z="",N=R.prefix||"";R.name&&(z=" "+R.name);var j=R.type!=="page";return"@"+N+R.type+z+g+k(R,j)+p}function w(R){return s?"/*"+(R.text||"")+"*/"+p:""}function T(R){var z;return R.selectors?z=R.selectors.join(","+p):(z="@"+R.type,z+=R.name?" "+R.name:""),x()+z+g+k(R)+p}function b(R,z){return R.reduce(function(N,j){var D=j.type==="comment"?w(j):z(j);return D&&N.push(D),N},[])}function k(R,z){var N=R.declarations,j=E;return R.rules&&(N=R.rules,j=T),N=function(D,W){if(!D)return"";x(1);var q=b(D,W);return x(-1),q.length?q.join(p):""}(N,j),N&&(N=p+N+(z?"":p)),"{"+N+x()+"}"}function E(R){if(R.type==="property")return function(z){var N=z.name?z.name+":"+g:"";return x()+N+z.value+";"}(R);h&&_("stringifyDeclaration: unexpected node:",JSON.stringify(R))}function L(R){switch(R.type){case"rule":return T(R);case"media":case"keyframes":case"font-face":case"supports":case"viewport":case"document":case"page":return P(R);case"comment":return w(R);case"import":case"charset":case"namespace":return function(z){return"@"+z.type+" "+z.value+";"+p}(R)}h&&_("stringifyNode: unexpected node: "+JSON.stringify(R))}r.exports=function(R,z){var N;z||(z={}),c=z.indentation||"",l=!!z.compress,s=!!z.comments,u=1,l?p=g="":(p=`
`,g=" "),y&&(N=Date.now());var j=b(R.stylesheet.rules,L).join(`
`).trim();return y&&_("ran in",Date.now()-N+"ms"),j}},9769:function(r,i,a){"use strict";var s=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.generate=i.compile=void 0;var l=s(a(1073));i.compile=function(c){var u=c[0],p=c[1]-1;if(p<0&&u<=0)return l.default.falseFunc;if(u===-1)return function(y){return y<=p};if(u===0)return function(y){return y===p};if(u===1)return p<0?l.default.trueFunc:function(y){return y>=p};var g=Math.abs(u),h=(p%g+g)%g;return u>1?function(y){return y>=p&&y%g===h}:function(y){return y<=p&&y%g===h}},i.generate=function(c){var u=c[0],p=c[1]-1,g=0;if(u<0){var h=-u,y=(p%h+h)%h;return function(){var _=y+h*g++;return _>p?null:_}}return u===0?p<0?function(){return null}:function(){return g++==0?p:null}:(p<0&&(p+=u*Math.ceil(-p/u)),function(){return u*g+++p})}},7540:(r,i,a)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.sequence=i.generate=i.compile=i.parse=void 0;var s=a(7766);Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return s.parse}});var l=a(9769);Object.defineProperty(i,"compile",{enumerable:!0,get:function(){return l.compile}}),Object.defineProperty(i,"generate",{enumerable:!0,get:function(){return l.generate}}),i.default=function(c){return(0,l.compile)((0,s.parse)(c))},i.sequence=function(c){return(0,l.generate)((0,s.parse)(c))}},7766:(r,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.parse=void 0;var a=new Set([9,10,12,13,32]),s=48,l=57;i.parse=function(c){if((c=c.trim().toLowerCase())==="even")return[2,0];if(c==="odd")return[2,1];var u=0,p=0,g=y(),h=_();if(u<c.length&&c.charAt(u)==="n"&&(u++,p=g*(h??1),x(),u<c.length?(g=y(),x(),h=_()):g=h=0),h===null||u<c.length)throw new Error("n-th rule couldn't be parsed ('".concat(c,"')"));return[p,g*h];function y(){return c.charAt(u)==="-"?(u++,-1):(c.charAt(u)==="+"&&u++,1)}function _(){for(var P=u,w=0;u<c.length&&c.charCodeAt(u)>=s&&c.charCodeAt(u)<=l;)w=10*w+(c.charCodeAt(u)-s),u++;return u===P?null:w}function x(){for(;u<c.length&&a.has(c.charCodeAt(u));)u++}}},1906:(r,i,a)=>{"use strict";let s=a(1515),{DOCUMENT_MODE:l}=a(6152),c={element:1,text:3,cdata:4,comment:8},u={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"};class p{constructor(x){for(let P of Object.keys(x))this[P]=x[P]}get firstChild(){let x=this.children;return x&&x[0]||null}get lastChild(){let x=this.children;return x&&x[x.length-1]||null}get nodeType(){return c[this.type]||c.element}}Object.keys(u).forEach(_=>{let x=u[_];Object.defineProperty(p.prototype,_,{get:function(){return this[x]||null},set:function(P){return this[x]=P,P}})}),i.createDocument=function(){return new p({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":l.NO_QUIRKS})},i.createDocumentFragment=function(){return new p({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},i.createElement=function(_,x,P){let w=Object.create(null),T=Object.create(null),b=Object.create(null);for(let k=0;k<P.length;k++){let E=P[k].name;w[E]=P[k].value,T[E]=P[k].namespace,b[E]=P[k].prefix}return new p({type:_==="script"||_==="style"?_:"tag",name:_,namespace:x,attribs:w,"x-attribsNamespace":T,"x-attribsPrefix":b,children:[],parent:null,prev:null,next:null})},i.createCommentNode=function(_){return new p({type:"comment",data:_,parent:null,prev:null,next:null})};let g=function(_){return new p({type:"text",data:_,parent:null,prev:null,next:null})},h=i.appendChild=function(_,x){let P=_.children[_.children.length-1];P&&(P.next=x,x.prev=P),_.children.push(x),x.parent=_},y=i.insertBefore=function(_,x,P){let w=_.children.indexOf(P),T=P.prev;T&&(T.next=x,x.prev=T),P.prev=x,x.next=P,_.children.splice(w,0,x),x.parent=_};i.setTemplateContent=function(_,x){h(_,x)},i.getTemplateContent=function(_){return _.children[0]},i.setDocumentType=function(_,x,P,w){let T=s.serializeContent(x,P,w),b=null;for(let k=0;k<_.children.length;k++)if(_.children[k].type==="directive"&&_.children[k].name==="!doctype"){b=_.children[k];break}b?(b.data=T,b["x-name"]=x,b["x-publicId"]=P,b["x-systemId"]=w):h(_,new p({type:"directive",name:"!doctype",data:T,"x-name":x,"x-publicId":P,"x-systemId":w}))},i.setDocumentMode=function(_,x){_["x-mode"]=x},i.getDocumentMode=function(_){return _["x-mode"]},i.detachNode=function(_){if(_.parent){let x=_.parent.children.indexOf(_),P=_.prev,w=_.next;_.prev=null,_.next=null,P&&(P.next=w),w&&(w.prev=P),_.parent.children.splice(x,1),_.parent=null}},i.insertText=function(_,x){let P=_.children[_.children.length-1];P&&P.type==="text"?P.data+=x:h(_,g(x))},i.insertTextBefore=function(_,x,P){let w=_.children[_.children.indexOf(P)-1];w&&w.type==="text"?w.data+=x:y(_,g(x),P)},i.adoptAttributes=function(_,x){for(let P=0;P<x.length;P++){let w=x[P].name;_.attribs[w]===void 0&&(_.attribs[w]=x[P].value,_["x-attribsNamespace"][w]=x[P].namespace,_["x-attribsPrefix"][w]=x[P].prefix)}},i.getFirstChild=function(_){return _.children[0]},i.getChildNodes=function(_){return _.children},i.getParentNode=function(_){return _.parent},i.getAttrList=function(_){let x=[];for(let P in _.attribs)x.push({name:P,value:_.attribs[P],namespace:_["x-attribsNamespace"][P],prefix:_["x-attribsPrefix"][P]});return x},i.getTagName=function(_){return _.name},i.getNamespaceURI=function(_){return _.namespace},i.getTextNodeContent=function(_){return _.data},i.getCommentNodeContent=function(_){return _.data},i.getDocumentTypeNodeName=function(_){return _["x-name"]},i.getDocumentTypeNodePublicId=function(_){return _["x-publicId"]},i.getDocumentTypeNodeSystemId=function(_){return _["x-systemId"]},i.isTextNode=function(_){return _.type==="text"},i.isCommentNode=function(_){return _.type==="comment"},i.isDocumentTypeNode=function(_){return _.type==="directive"&&_.name==="!doctype"},i.isElementNode=function(_){return!!_.attribs},i.setNodeSourceCodeLocation=function(_,x){_.sourceCodeLocation=x},i.getNodeSourceCodeLocation=function(_){return _.sourceCodeLocation},i.updateNodeSourceCodeLocation=function(_,x){_.sourceCodeLocation=Object.assign(_.sourceCodeLocation,x)}},1515:(r,i,a)=>{"use strict";let{DOCUMENT_MODE:s}=a(6152),l="html",c="about:legacy-compat",u="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",p=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],g=p.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),h=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],y=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],_=y.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function x(w){let T=w.indexOf('"')!==-1?"'":'"';return T+w+T}function P(w,T){for(let b=0;b<T.length;b++)if(w.indexOf(T[b])===0)return!0;return!1}i.isConforming=function(w){return w.name===l&&w.publicId===null&&(w.systemId===null||w.systemId===c)},i.getDocumentMode=function(w){if(w.name!==l)return s.QUIRKS;let T=w.systemId;if(T&&T.toLowerCase()===u)return s.QUIRKS;let b=w.publicId;if(b!==null){if(b=b.toLowerCase(),h.indexOf(b)>-1)return s.QUIRKS;let k=T===null?g:p;if(P(b,k))return s.QUIRKS;if(k=T===null?y:_,P(b,k))return s.LIMITED_QUIRKS}return s.NO_QUIRKS},i.serializeContent=function(w,T,b){let k="!DOCTYPE ";return w&&(k+=w),T?k+=" PUBLIC "+x(T):b&&(k+=" SYSTEM"),b!==null&&(k+=" "+x(b)),k}},1734:r=>{"use strict";r.exports={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}},8779:(r,i,a)=>{"use strict";let s=a(5763),l=a(6152),c=l.TAG_NAMES,u=l.NAMESPACES,p=l.ATTRS,g="text/html",h="application/xhtml+xml",y="definitionurl",_="definitionURL",x={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},P={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:u.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:u.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:u.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:u.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:u.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:u.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:u.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:u.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:u.XML},"xml:space":{prefix:"xml",name:"space",namespace:u.XML},xmlns:{prefix:"",name:"xmlns",namespace:u.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:u.XMLNS}},w=i.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},T={[c.B]:!0,[c.BIG]:!0,[c.BLOCKQUOTE]:!0,[c.BODY]:!0,[c.BR]:!0,[c.CENTER]:!0,[c.CODE]:!0,[c.DD]:!0,[c.DIV]:!0,[c.DL]:!0,[c.DT]:!0,[c.EM]:!0,[c.EMBED]:!0,[c.H1]:!0,[c.H2]:!0,[c.H3]:!0,[c.H4]:!0,[c.H5]:!0,[c.H6]:!0,[c.HEAD]:!0,[c.HR]:!0,[c.I]:!0,[c.IMG]:!0,[c.LI]:!0,[c.LISTING]:!0,[c.MENU]:!0,[c.META]:!0,[c.NOBR]:!0,[c.OL]:!0,[c.P]:!0,[c.PRE]:!0,[c.RUBY]:!0,[c.S]:!0,[c.SMALL]:!0,[c.SPAN]:!0,[c.STRONG]:!0,[c.STRIKE]:!0,[c.SUB]:!0,[c.SUP]:!0,[c.TABLE]:!0,[c.TT]:!0,[c.U]:!0,[c.UL]:!0,[c.VAR]:!0};i.causesExit=function(b){let k=b.tagName;return k===c.FONT&&(s.getTokenAttr(b,p.COLOR)!==null||s.getTokenAttr(b,p.SIZE)!==null||s.getTokenAttr(b,p.FACE)!==null)||T[k]},i.adjustTokenMathMLAttrs=function(b){for(let k=0;k<b.attrs.length;k++)if(b.attrs[k].name===y){b.attrs[k].name=_;break}},i.adjustTokenSVGAttrs=function(b){for(let k=0;k<b.attrs.length;k++){let E=x[b.attrs[k].name];E&&(b.attrs[k].name=E)}},i.adjustTokenXMLAttrs=function(b){for(let k=0;k<b.attrs.length;k++){let E=P[b.attrs[k].name];E&&(b.attrs[k].prefix=E.prefix,b.attrs[k].name=E.name,b.attrs[k].namespace=E.namespace)}},i.adjustTokenSVGTagName=function(b){let k=w[b.tagName];k&&(b.tagName=k)},i.isIntegrationPoint=function(b,k,E,L){return!(L&&L!==u.HTML||!function(R,z,N){if(z===u.MATHML&&R===c.ANNOTATION_XML){for(let j=0;j<N.length;j++)if(N[j].name===p.ENCODING){let D=N[j].value.toLowerCase();return D===g||D===h}}return z===u.SVG&&(R===c.FOREIGN_OBJECT||R===c.DESC||R===c.TITLE)}(b,k,E))||!(L&&L!==u.MATHML||!function(R,z){return z===u.MATHML&&(R===c.MI||R===c.MO||R===c.MN||R===c.MS||R===c.MTEXT)}(b,k))}},6152:(r,i)=>{"use strict";let a=i.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};i.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},i.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};let s=i.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};i.SPECIAL_ELEMENTS={[a.HTML]:{[s.ADDRESS]:!0,[s.APPLET]:!0,[s.AREA]:!0,[s.ARTICLE]:!0,[s.ASIDE]:!0,[s.BASE]:!0,[s.BASEFONT]:!0,[s.BGSOUND]:!0,[s.BLOCKQUOTE]:!0,[s.BODY]:!0,[s.BR]:!0,[s.BUTTON]:!0,[s.CAPTION]:!0,[s.CENTER]:!0,[s.COL]:!0,[s.COLGROUP]:!0,[s.DD]:!0,[s.DETAILS]:!0,[s.DIR]:!0,[s.DIV]:!0,[s.DL]:!0,[s.DT]:!0,[s.EMBED]:!0,[s.FIELDSET]:!0,[s.FIGCAPTION]:!0,[s.FIGURE]:!0,[s.FOOTER]:!0,[s.FORM]:!0,[s.FRAME]:!0,[s.FRAMESET]:!0,[s.H1]:!0,[s.H2]:!0,[s.H3]:!0,[s.H4]:!0,[s.H5]:!0,[s.H6]:!0,[s.HEAD]:!0,[s.HEADER]:!0,[s.HGROUP]:!0,[s.HR]:!0,[s.HTML]:!0,[s.IFRAME]:!0,[s.IMG]:!0,[s.INPUT]:!0,[s.LI]:!0,[s.LINK]:!0,[s.LISTING]:!0,[s.MAIN]:!0,[s.MARQUEE]:!0,[s.MENU]:!0,[s.META]:!0,[s.NAV]:!0,[s.NOEMBED]:!0,[s.NOFRAMES]:!0,[s.NOSCRIPT]:!0,[s.OBJECT]:!0,[s.OL]:!0,[s.P]:!0,[s.PARAM]:!0,[s.PLAINTEXT]:!0,[s.PRE]:!0,[s.SCRIPT]:!0,[s.SECTION]:!0,[s.SELECT]:!0,[s.SOURCE]:!0,[s.STYLE]:!0,[s.SUMMARY]:!0,[s.TABLE]:!0,[s.TBODY]:!0,[s.TD]:!0,[s.TEMPLATE]:!0,[s.TEXTAREA]:!0,[s.TFOOT]:!0,[s.TH]:!0,[s.THEAD]:!0,[s.TITLE]:!0,[s.TR]:!0,[s.TRACK]:!0,[s.UL]:!0,[s.WBR]:!0,[s.XMP]:!0},[a.MATHML]:{[s.MI]:!0,[s.MO]:!0,[s.MN]:!0,[s.MS]:!0,[s.MTEXT]:!0,[s.ANNOTATION_XML]:!0},[a.SVG]:{[s.TITLE]:!0,[s.FOREIGN_OBJECT]:!0,[s.DESC]:!0}}},4284:(r,i)=>{"use strict";let a=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];i.REPLACEMENT_CHARACTER="\uFFFD",i.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},i.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},i.isSurrogate=function(s){return s>=55296&&s<=57343},i.isSurrogatePair=function(s){return s>=56320&&s<=57343},i.getSurrogatePairCodePoint=function(s,l){return 1024*(s-55296)+9216+l},i.isControlCodePoint=function(s){return s!==32&&s!==10&&s!==13&&s!==9&&s!==12&&s>=1&&s<=31||s>=127&&s<=159},i.isUndefinedCodePoint=function(s){return s>=64976&&s<=65007||a.indexOf(s)>-1}},3843:(r,i,a)=>{"use strict";let s=a(1704);r.exports=class extends s{constructor(l,c){super(l),this.posTracker=null,this.onParseError=c.onParseError}_setErrorLocation(l){l.startLine=l.endLine=this.posTracker.line,l.startCol=l.endCol=this.posTracker.col,l.startOffset=l.endOffset=this.posTracker.offset}_reportError(l){let c={code:l,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(c),this.onParseError(c)}_getOverriddenMethods(l){return{_err(c){l._reportError(c)}}}}},2232:(r,i,a)=>{"use strict";let s=a(3843),l=a(50),c=a(6110),u=a(1704);r.exports=class extends s{constructor(p,g){super(p,g),this.opts=g,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(p){this.ctLoc&&(p.startLine=this.ctLoc.startLine,p.startCol=this.ctLoc.startCol,p.startOffset=this.ctLoc.startOffset,p.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,p.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,p.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(p,g){return{_bootstrap(h,y){g._bootstrap.call(this,h,y),u.install(this.tokenizer,l,p.opts),u.install(this.tokenizer,c)},_processInputToken(h){p.ctLoc=h.location,g._processInputToken.call(this,h)},_err(h,y){p.locBeforeToken=y&&y.beforeToken,p._reportError(h)}}}}},3288:(r,i,a)=>{"use strict";let s=a(3843),l=a(7930),c=a(1704);r.exports=class extends s{constructor(u,p){super(u,p),this.posTracker=c.install(u,l),this.lastErrOffset=-1}_reportError(u){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(u))}}},50:(r,i,a)=>{"use strict";let s=a(3843),l=a(3288),c=a(1704);r.exports=class extends s{constructor(u,p){super(u,p);let g=c.install(u.preprocessor,l,p);this.posTracker=g.posTracker}}},1077:(r,i,a)=>{"use strict";let s=a(1704);r.exports=class extends s{constructor(l,c){super(l),this.onItemPop=c.onItemPop}_getOverriddenMethods(l,c){return{pop(){l.onItemPop(this.current),c.pop.call(this)},popAllUpToHtmlElement(){for(let u=this.stackTop;u>0;u--)l.onItemPop(this.items[u]);c.popAllUpToHtmlElement.call(this)},remove(u){l.onItemPop(this.current),c.remove.call(this,u)}}}}},452:(r,i,a)=>{"use strict";let s=a(1704),l=a(5763),c=a(6110),u=a(1077),p=a(6152).TAG_NAMES;r.exports=class extends s{constructor(g){super(g),this.parser=g,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(g){let h=null;this.lastStartTagToken&&(h=Object.assign({},this.lastStartTagToken.location),h.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(g,h)}_setEndLocation(g,h){if(this.treeAdapter.getNodeSourceCodeLocation(g)&&h.location){let y=h.location,_=this.treeAdapter.getTagName(g),x={};h.type===l.END_TAG_TOKEN&&_===h.tagName?(x.endTag=Object.assign({},y),x.endLine=y.endLine,x.endCol=y.endCol,x.endOffset=y.endOffset):(x.endLine=y.startLine,x.endCol=y.startCol,x.endOffset=y.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(g,x)}}_getOverriddenMethods(g,h){return{_bootstrap(y,_){h._bootstrap.call(this,y,_),g.lastStartTagToken=null,g.lastFosterParentingLocation=null,g.currentToken=null;let x=s.install(this.tokenizer,c);g.posTracker=x.posTracker,s.install(this.openElements,u,{onItemPop:function(P){g._setEndLocation(P,g.currentToken)}})},_runParsingLoop(y){h._runParsingLoop.call(this,y);for(let _=this.openElements.stackTop;_>=0;_--)g._setEndLocation(this.openElements.items[_],g.currentToken)},_processTokenInForeignContent(y){g.currentToken=y,h._processTokenInForeignContent.call(this,y)},_processToken(y){if(g.currentToken=y,h._processToken.call(this,y),y.type===l.END_TAG_TOKEN&&(y.tagName===p.HTML||y.tagName===p.BODY&&this.openElements.hasInScope(p.BODY)))for(let _=this.openElements.stackTop;_>=0;_--){let x=this.openElements.items[_];if(this.treeAdapter.getTagName(x)===y.tagName){g._setEndLocation(x,y);break}}},_setDocumentType(y){h._setDocumentType.call(this,y);let _=this.treeAdapter.getChildNodes(this.document),x=_.length;for(let P=0;P<x;P++){let w=_[P];if(this.treeAdapter.isDocumentTypeNode(w)){this.treeAdapter.setNodeSourceCodeLocation(w,y.location);break}}},_attachElementToTree(y){g._setStartLocation(y),g.lastStartTagToken=null,h._attachElementToTree.call(this,y)},_appendElement(y,_){g.lastStartTagToken=y,h._appendElement.call(this,y,_)},_insertElement(y,_){g.lastStartTagToken=y,h._insertElement.call(this,y,_)},_insertTemplate(y){g.lastStartTagToken=y,h._insertTemplate.call(this,y);let _=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(_,null)},_insertFakeRootElement(){h._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(y,_){h._appendCommentNode.call(this,y,_);let x=this.treeAdapter.getChildNodes(_),P=x[x.length-1];this.treeAdapter.setNodeSourceCodeLocation(P,y.location)},_findFosterParentingLocation(){return g.lastFosterParentingLocation=h._findFosterParentingLocation.call(this),g.lastFosterParentingLocation},_insertCharacters(y){h._insertCharacters.call(this,y);let _=this._shouldFosterParentOnInsertion(),x=_&&g.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,P=this.treeAdapter.getChildNodes(x),w=_&&g.lastFosterParentingLocation.beforeElement?P.indexOf(g.lastFosterParentingLocation.beforeElement)-1:P.length-1,T=P[w];if(this.treeAdapter.getNodeSourceCodeLocation(T)){let{endLine:b,endCol:k,endOffset:E}=y.location;this.treeAdapter.updateNodeSourceCodeLocation(T,{endLine:b,endCol:k,endOffset:E})}else this.treeAdapter.setNodeSourceCodeLocation(T,y.location)}}}}},6110:(r,i,a)=>{"use strict";let s=a(1704),l=a(5763),c=a(7930);r.exports=class extends s{constructor(u){super(u),this.tokenizer=u,this.posTracker=s.install(u.preprocessor,c),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;let u=this.tokenizer.currentToken,p=this.tokenizer.currentAttr;u.location.attrs||(u.location.attrs=Object.create(null)),u.location.attrs[p.name]=this.currentAttrLocation}_getOverriddenMethods(u,p){let g={_createStartTagToken(){p._createStartTagToken.call(this),this.currentToken.location=u.ctLoc},_createEndTagToken(){p._createEndTagToken.call(this),this.currentToken.location=u.ctLoc},_createCommentToken(){p._createCommentToken.call(this),this.currentToken.location=u.ctLoc},_createDoctypeToken(h){p._createDoctypeToken.call(this,h),this.currentToken.location=u.ctLoc},_createCharacterToken(h,y){p._createCharacterToken.call(this,h,y),this.currentCharacterToken.location=u.ctLoc},_createEOFToken(){p._createEOFToken.call(this),this.currentToken.location=u._getCurrentLocation()},_createAttr(h){p._createAttr.call(this,h),u.currentAttrLocation=u._getCurrentLocation()},_leaveAttrName(h){p._leaveAttrName.call(this,h),u._attachCurrentAttrLocationInfo()},_leaveAttrValue(h){p._leaveAttrValue.call(this,h),u._attachCurrentAttrLocationInfo()},_emitCurrentToken(){let h=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=h.startLine,this.currentCharacterToken.location.endCol=h.startCol,this.currentCharacterToken.location.endOffset=h.startOffset),this.currentToken.type===l.EOF_TOKEN?(h.endLine=h.startLine,h.endCol=h.startCol,h.endOffset=h.startOffset):(h.endLine=u.posTracker.line,h.endCol=u.posTracker.col+1,h.endOffset=u.posTracker.offset+1),p._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){let h=this.currentCharacterToken&&this.currentCharacterToken.location;h&&h.endOffset===-1&&(h.endLine=u.posTracker.line,h.endCol=u.posTracker.col,h.endOffset=u.posTracker.offset),p._emitCurrentCharacterToken.call(this)}};return Object.keys(l.MODE).forEach(h=>{let y=l.MODE[h];g[y]=function(_){u.ctLoc=u._getCurrentLocation(),p[y].call(this,_)}}),g}}},7930:(r,i,a)=>{"use strict";let s=a(1704);r.exports=class extends s{constructor(l){super(l),this.preprocessor=l,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(l,c){return{advance(){let u=this.pos+1,p=this.html[u];return l.isEol&&(l.isEol=!1,l.line++,l.lineStartPos=u),(p===`
`||p==="\r"&&this.html[u+1]!==`
`)&&(l.isEol=!0),l.col=u-l.lineStartPos+1,l.offset=l.droppedBufferSize+u,c.advance.call(this)},retreat(){c.retreat.call(this),l.isEol=!1,l.col=this.pos-l.lineStartPos+1},dropParsedChunk(){let u=this.pos;c.dropParsedChunk.call(this);let p=u-this.pos;l.lineStartPos-=p,l.droppedBufferSize+=p,l.offset=l.droppedBufferSize+this.pos}}}}},2394:(r,i,a)=>{"use strict";let s=a(7045),l=a(3988);i.parse=function(c,u){return new s(u).parse(c)},i.parseFragment=function(c,u,p){return typeof c=="string"&&(p=u,u=c,c=null),new s(p).parseFragment(u,c)},i.serialize=function(c,u){return new l(c,u).serialize()}},2484:r=>{"use strict";class a{constructor(l){this.length=0,this.entries=[],this.treeAdapter=l,this.bookmark=null}_getNoahArkConditionCandidates(l){let c=[];if(this.length>=3){let u=this.treeAdapter.getAttrList(l).length,p=this.treeAdapter.getTagName(l),g=this.treeAdapter.getNamespaceURI(l);for(let h=this.length-1;h>=0;h--){let y=this.entries[h];if(y.type===a.MARKER_ENTRY)break;let _=y.element,x=this.treeAdapter.getAttrList(_);this.treeAdapter.getTagName(_)===p&&this.treeAdapter.getNamespaceURI(_)===g&&x.length===u&&c.push({idx:h,attrs:x})}}return c.length<3?[]:c}_ensureNoahArkCondition(l){let c=this._getNoahArkConditionCandidates(l),u=c.length;if(u){let p=this.treeAdapter.getAttrList(l),g=p.length,h=Object.create(null);for(let y=0;y<g;y++){let _=p[y];h[_.name]=_.value}for(let y=0;y<g;y++)for(let _=0;_<u;_++){let x=c[_].attrs[y];if(h[x.name]!==x.value&&(c.splice(_,1),u--),c.length<3)return}for(let y=u-1;y>=2;y--)this.entries.splice(c[y].idx,1),this.length--}}insertMarker(){this.entries.push({type:a.MARKER_ENTRY}),this.length++}pushElement(l,c){this._ensureNoahArkCondition(l),this.entries.push({type:a.ELEMENT_ENTRY,element:l,token:c}),this.length++}insertElementAfterBookmark(l,c){let u=this.length-1;for(;u>=0&&this.entries[u]!==this.bookmark;u--);this.entries.splice(u+1,0,{type:a.ELEMENT_ENTRY,element:l,token:c}),this.length++}removeEntry(l){for(let c=this.length-1;c>=0;c--)if(this.entries[c]===l){this.entries.splice(c,1),this.length--;break}}clearToLastMarker(){for(;this.length;){let l=this.entries.pop();if(this.length--,l.type===a.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(l){for(let c=this.length-1;c>=0;c--){let u=this.entries[c];if(u.type===a.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(u.element)===l)return u}return null}getElementEntry(l){for(let c=this.length-1;c>=0;c--){let u=this.entries[c];if(u.type===a.ELEMENT_ENTRY&&u.element===l)return u}return null}}a.MARKER_ENTRY="MARKER_ENTRY",a.ELEMENT_ENTRY="ELEMENT_ENTRY",r.exports=a},7045:(r,i,a)=>{"use strict";let s=a(5763),l=a(6519),c=a(2484),u=a(452),p=a(2232),g=a(1704),h=a(7296),y=a(8904),_=a(1515),x=a(8779),P=a(1734),w=a(4284),T=a(6152),b=T.TAG_NAMES,k=T.NAMESPACES,E=T.ATTRS,L={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:h},R="hidden",z=8,N=3,j="INITIAL_MODE",D="BEFORE_HTML_MODE",W="BEFORE_HEAD_MODE",q="IN_HEAD_MODE",J="IN_HEAD_NO_SCRIPT_MODE",I="AFTER_HEAD_MODE",Z="IN_BODY_MODE",et="TEXT_MODE",ut="IN_TABLE_MODE",Rt="IN_TABLE_TEXT_MODE",Gt="IN_CAPTION_MODE",Pt="IN_COLUMN_GROUP_MODE",_t="IN_TABLE_BODY_MODE",rt="IN_ROW_MODE",ft="IN_CELL_MODE",wt="IN_SELECT_MODE",Et="IN_SELECT_IN_TABLE_MODE",Nt="IN_TEMPLATE_MODE",Ht="AFTER_BODY_MODE",It="IN_FRAMESET_MODE",at="AFTER_FRAMESET_MODE",Kt="AFTER_AFTER_BODY_MODE",le="AFTER_AFTER_FRAMESET_MODE",Ct={[b.TR]:rt,[b.TBODY]:_t,[b.THEAD]:_t,[b.TFOOT]:_t,[b.CAPTION]:Gt,[b.COLGROUP]:Pt,[b.TABLE]:ut,[b.BODY]:Z,[b.FRAMESET]:It},oe={[b.CAPTION]:ut,[b.COLGROUP]:ut,[b.TBODY]:ut,[b.TFOOT]:ut,[b.THEAD]:ut,[b.COL]:Pt,[b.TR]:_t,[b.TD]:rt,[b.TH]:rt},ge={[j]:{[s.CHARACTER_TOKEN]:Tt,[s.NULL_CHARACTER_TOKEN]:Tt,[s.WHITESPACE_CHARACTER_TOKEN]:kt,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:function(A,U){A._setDocumentType(U);let H=U.forceQuirks?T.DOCUMENT_MODE.QUIRKS:_.getDocumentMode(U);_.isConforming(U)||A._err(P.nonConformingDoctype),A.treeAdapter.setDocumentMode(A.document,H),A.insertionMode=D},[s.START_TAG_TOKEN]:Tt,[s.END_TAG_TOKEN]:Tt,[s.EOF_TOKEN]:Tt},[D]:{[s.CHARACTER_TOKEN]:it,[s.NULL_CHARACTER_TOKEN]:it,[s.WHITESPACE_CHARACTER_TOKEN]:kt,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){U.tagName===b.HTML?(A._insertElement(U,k.HTML),A.insertionMode=W):it(A,U)},[s.END_TAG_TOKEN]:function(A,U){let H=U.tagName;H!==b.HTML&&H!==b.HEAD&&H!==b.BODY&&H!==b.BR||it(A,U)},[s.EOF_TOKEN]:it},[W]:{[s.CHARACTER_TOKEN]:ne,[s.NULL_CHARACTER_TOKEN]:ne,[s.WHITESPACE_CHARACTER_TOKEN]:kt,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:Lt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.HTML?Le(A,U):H===b.HEAD?(A._insertElement(U,k.HTML),A.headElement=A.openElements.current,A.insertionMode=q):ne(A,U)},[s.END_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.HEAD||H===b.BODY||H===b.HTML||H===b.BR?ne(A,U):A._err(P.endTagWithoutMatchingOpenElement)},[s.EOF_TOKEN]:ne},[q]:{[s.CHARACTER_TOKEN]:Oe,[s.NULL_CHARACTER_TOKEN]:Oe,[s.WHITESPACE_CHARACTER_TOKEN]:De,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:Lt,[s.START_TAG_TOKEN]:Vt,[s.END_TAG_TOKEN]:de,[s.EOF_TOKEN]:Oe},[J]:{[s.CHARACTER_TOKEN]:Pe,[s.NULL_CHARACTER_TOKEN]:Pe,[s.WHITESPACE_CHARACTER_TOKEN]:De,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:Lt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.HTML?Le(A,U):H===b.BASEFONT||H===b.BGSOUND||H===b.HEAD||H===b.LINK||H===b.META||H===b.NOFRAMES||H===b.STYLE?Vt(A,U):H===b.NOSCRIPT?A._err(P.nestedNoscriptInHead):Pe(A,U)},[s.END_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.NOSCRIPT?(A.openElements.pop(),A.insertionMode=q):H===b.BR?Pe(A,U):A._err(P.endTagWithoutMatchingOpenElement)},[s.EOF_TOKEN]:Pe},[I]:{[s.CHARACTER_TOKEN]:ve,[s.NULL_CHARACTER_TOKEN]:ve,[s.WHITESPACE_CHARACTER_TOKEN]:De,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:Lt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.HTML?Le(A,U):H===b.BODY?(A._insertElement(U,k.HTML),A.framesetOk=!1,A.insertionMode=Z):H===b.FRAMESET?(A._insertElement(U,k.HTML),A.insertionMode=It):H===b.BASE||H===b.BASEFONT||H===b.BGSOUND||H===b.LINK||H===b.META||H===b.NOFRAMES||H===b.SCRIPT||H===b.STYLE||H===b.TEMPLATE||H===b.TITLE?(A._err(P.abandonedHeadElementChild),A.openElements.push(A.headElement),Vt(A,U),A.openElements.remove(A.headElement)):H===b.HEAD?A._err(P.misplacedStartTagForHeadElement):ve(A,U)},[s.END_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.BODY||H===b.HTML||H===b.BR?ve(A,U):H===b.TEMPLATE?de(A,U):A._err(P.endTagWithoutMatchingOpenElement)},[s.EOF_TOKEN]:ve},[Z]:{[s.CHARACTER_TOKEN]:Qe,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:Le,[s.END_TAG_TOKEN]:hr,[s.EOF_TOKEN]:Mn},[et]:{[s.CHARACTER_TOKEN]:De,[s.NULL_CHARACTER_TOKEN]:De,[s.WHITESPACE_CHARACTER_TOKEN]:De,[s.COMMENT_TOKEN]:kt,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:kt,[s.END_TAG_TOKEN]:function(A,U){U.tagName===b.SCRIPT&&(A.pendingScript=A.openElements.current),A.openElements.pop(),A.insertionMode=A.originalInsertionMode},[s.EOF_TOKEN]:function(A,U){A._err(P.eofInElementThatCanContainOnlyText),A.openElements.pop(),A.insertionMode=A.originalInsertionMode,A._processToken(U)}},[ut]:{[s.CHARACTER_TOKEN]:fn,[s.NULL_CHARACTER_TOKEN]:fn,[s.WHITESPACE_CHARACTER_TOKEN]:fn,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:Or,[s.END_TAG_TOKEN]:yn,[s.EOF_TOKEN]:Mn},[Rt]:{[s.CHARACTER_TOKEN]:function(A,U){A.pendingCharacterTokens.push(U),A.hasNonWhitespacePendingCharacterToken=!0},[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:function(A,U){A.pendingCharacterTokens.push(U)},[s.COMMENT_TOKEN]:wn,[s.DOCTYPE_TOKEN]:wn,[s.START_TAG_TOKEN]:wn,[s.END_TAG_TOKEN]:wn,[s.EOF_TOKEN]:wn},[Gt]:{[s.CHARACTER_TOKEN]:Qe,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.CAPTION||H===b.COL||H===b.COLGROUP||H===b.TBODY||H===b.TD||H===b.TFOOT||H===b.TH||H===b.THEAD||H===b.TR?A.openElements.hasInTableScope(b.CAPTION)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(b.CAPTION),A.activeFormattingElements.clearToLastMarker(),A.insertionMode=ut,A._processToken(U)):Le(A,U)},[s.END_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.CAPTION||H===b.TABLE?A.openElements.hasInTableScope(b.CAPTION)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(b.CAPTION),A.activeFormattingElements.clearToLastMarker(),A.insertionMode=ut,H===b.TABLE&&A._processToken(U)):H!==b.BODY&&H!==b.COL&&H!==b.COLGROUP&&H!==b.HTML&&H!==b.TBODY&&H!==b.TD&&H!==b.TFOOT&&H!==b.TH&&H!==b.THEAD&&H!==b.TR&&hr(A,U)},[s.EOF_TOKEN]:Mn},[Pt]:{[s.CHARACTER_TOKEN]:Yn,[s.NULL_CHARACTER_TOKEN]:Yn,[s.WHITESPACE_CHARACTER_TOKEN]:De,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.HTML?Le(A,U):H===b.COL?(A._appendElement(U,k.HTML),U.ackSelfClosing=!0):H===b.TEMPLATE?Vt(A,U):Yn(A,U)},[s.END_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.COLGROUP?A.openElements.currentTagName===b.COLGROUP&&(A.openElements.pop(),A.insertionMode=ut):H===b.TEMPLATE?de(A,U):H!==b.COL&&Yn(A,U)},[s.EOF_TOKEN]:Mn},[_t]:{[s.CHARACTER_TOKEN]:fn,[s.NULL_CHARACTER_TOKEN]:fn,[s.WHITESPACE_CHARACTER_TOKEN]:fn,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.TR?(A.openElements.clearBackToTableBodyContext(),A._insertElement(U,k.HTML),A.insertionMode=rt):H===b.TH||H===b.TD?(A.openElements.clearBackToTableBodyContext(),A._insertFakeElement(b.TR),A.insertionMode=rt,A._processToken(U)):H===b.CAPTION||H===b.COL||H===b.COLGROUP||H===b.TBODY||H===b.TFOOT||H===b.THEAD?A.openElements.hasTableBodyContextInTableScope()&&(A.openElements.clearBackToTableBodyContext(),A.openElements.pop(),A.insertionMode=ut,A._processToken(U)):Or(A,U)},[s.END_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.TBODY||H===b.TFOOT||H===b.THEAD?A.openElements.hasInTableScope(H)&&(A.openElements.clearBackToTableBodyContext(),A.openElements.pop(),A.insertionMode=ut):H===b.TABLE?A.openElements.hasTableBodyContextInTableScope()&&(A.openElements.clearBackToTableBodyContext(),A.openElements.pop(),A.insertionMode=ut,A._processToken(U)):(H!==b.BODY&&H!==b.CAPTION&&H!==b.COL&&H!==b.COLGROUP||H!==b.HTML&&H!==b.TD&&H!==b.TH&&H!==b.TR)&&yn(A,U)},[s.EOF_TOKEN]:Mn},[rt]:{[s.CHARACTER_TOKEN]:fn,[s.NULL_CHARACTER_TOKEN]:fn,[s.WHITESPACE_CHARACTER_TOKEN]:fn,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.TH||H===b.TD?(A.openElements.clearBackToTableRowContext(),A._insertElement(U,k.HTML),A.insertionMode=ft,A.activeFormattingElements.insertMarker()):H===b.CAPTION||H===b.COL||H===b.COLGROUP||H===b.TBODY||H===b.TFOOT||H===b.THEAD||H===b.TR?A.openElements.hasInTableScope(b.TR)&&(A.openElements.clearBackToTableRowContext(),A.openElements.pop(),A.insertionMode=_t,A._processToken(U)):Or(A,U)},[s.END_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.TR?A.openElements.hasInTableScope(b.TR)&&(A.openElements.clearBackToTableRowContext(),A.openElements.pop(),A.insertionMode=_t):H===b.TABLE?A.openElements.hasInTableScope(b.TR)&&(A.openElements.clearBackToTableRowContext(),A.openElements.pop(),A.insertionMode=_t,A._processToken(U)):H===b.TBODY||H===b.TFOOT||H===b.THEAD?(A.openElements.hasInTableScope(H)||A.openElements.hasInTableScope(b.TR))&&(A.openElements.clearBackToTableRowContext(),A.openElements.pop(),A.insertionMode=_t,A._processToken(U)):(H!==b.BODY&&H!==b.CAPTION&&H!==b.COL&&H!==b.COLGROUP||H!==b.HTML&&H!==b.TD&&H!==b.TH)&&yn(A,U)},[s.EOF_TOKEN]:Mn},[ft]:{[s.CHARACTER_TOKEN]:Qe,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.CAPTION||H===b.COL||H===b.COLGROUP||H===b.TBODY||H===b.TD||H===b.TFOOT||H===b.TH||H===b.THEAD||H===b.TR?(A.openElements.hasInTableScope(b.TD)||A.openElements.hasInTableScope(b.TH))&&(A._closeTableCell(),A._processToken(U)):Le(A,U)},[s.END_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.TD||H===b.TH?A.openElements.hasInTableScope(H)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(H),A.activeFormattingElements.clearToLastMarker(),A.insertionMode=rt):H===b.TABLE||H===b.TBODY||H===b.TFOOT||H===b.THEAD||H===b.TR?A.openElements.hasInTableScope(H)&&(A._closeTableCell(),A._processToken(U)):H!==b.BODY&&H!==b.CAPTION&&H!==b.COL&&H!==b.COLGROUP&&H!==b.HTML&&hr(A,U)},[s.EOF_TOKEN]:Mn},[wt]:{[s.CHARACTER_TOKEN]:De,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:De,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:je,[s.END_TAG_TOKEN]:Xn,[s.EOF_TOKEN]:Mn},[Et]:{[s.CHARACTER_TOKEN]:De,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:De,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.CAPTION||H===b.TABLE||H===b.TBODY||H===b.TFOOT||H===b.THEAD||H===b.TR||H===b.TD||H===b.TH?(A.openElements.popUntilTagNamePopped(b.SELECT),A._resetInsertionMode(),A._processToken(U)):je(A,U)},[s.END_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.CAPTION||H===b.TABLE||H===b.TBODY||H===b.TFOOT||H===b.THEAD||H===b.TR||H===b.TD||H===b.TH?A.openElements.hasInTableScope(H)&&(A.openElements.popUntilTagNamePopped(b.SELECT),A._resetInsertionMode(),A._processToken(U)):Xn(A,U)},[s.EOF_TOKEN]:Mn},[Nt]:{[s.CHARACTER_TOKEN]:Qe,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;if(H===b.BASE||H===b.BASEFONT||H===b.BGSOUND||H===b.LINK||H===b.META||H===b.NOFRAMES||H===b.SCRIPT||H===b.STYLE||H===b.TEMPLATE||H===b.TITLE)Vt(A,U);else{let gt=oe[H]||Z;A._popTmplInsertionMode(),A._pushTmplInsertionMode(gt),A.insertionMode=gt,A._processToken(U)}},[s.END_TAG_TOKEN]:function(A,U){U.tagName===b.TEMPLATE&&de(A,U)},[s.EOF_TOKEN]:Fe},[Ht]:{[s.CHARACTER_TOKEN]:Dn,[s.NULL_CHARACTER_TOKEN]:Dn,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:function(A,U){A._appendCommentNode(U,A.openElements.items[0])},[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){U.tagName===b.HTML?Le(A,U):Dn(A,U)},[s.END_TAG_TOKEN]:function(A,U){U.tagName===b.HTML?A.fragmentContext||(A.insertionMode=Kt):Dn(A,U)},[s.EOF_TOKEN]:dt},[It]:{[s.CHARACTER_TOKEN]:kt,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:De,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.HTML?Le(A,U):H===b.FRAMESET?A._insertElement(U,k.HTML):H===b.FRAME?(A._appendElement(U,k.HTML),U.ackSelfClosing=!0):H===b.NOFRAMES&&Vt(A,U)},[s.END_TAG_TOKEN]:function(A,U){U.tagName!==b.FRAMESET||A.openElements.isRootHtmlElementCurrent()||(A.openElements.pop(),A.fragmentContext||A.openElements.currentTagName===b.FRAMESET||(A.insertionMode=at))},[s.EOF_TOKEN]:dt},[at]:{[s.CHARACTER_TOKEN]:kt,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:De,[s.COMMENT_TOKEN]:he,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.HTML?Le(A,U):H===b.NOFRAMES&&Vt(A,U)},[s.END_TAG_TOKEN]:function(A,U){U.tagName===b.HTML&&(A.insertionMode=le)},[s.EOF_TOKEN]:dt},[Kt]:{[s.CHARACTER_TOKEN]:mn,[s.NULL_CHARACTER_TOKEN]:mn,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:Ye,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){U.tagName===b.HTML?Le(A,U):mn(A,U)},[s.END_TAG_TOKEN]:mn,[s.EOF_TOKEN]:dt},[le]:{[s.CHARACTER_TOKEN]:kt,[s.NULL_CHARACTER_TOKEN]:kt,[s.WHITESPACE_CHARACTER_TOKEN]:Ae,[s.COMMENT_TOKEN]:Ye,[s.DOCTYPE_TOKEN]:kt,[s.START_TAG_TOKEN]:function(A,U){let H=U.tagName;H===b.HTML?Le(A,U):H===b.NOFRAMES&&Vt(A,U)},[s.END_TAG_TOKEN]:kt,[s.EOF_TOKEN]:dt}};function ce(A,U){let H=A.activeFormattingElements.getElementEntryInScopeWithTagName(U.tagName);return H?A.openElements.contains(H.element)?A.openElements.hasInScope(U.tagName)||(H=null):(A.activeFormattingElements.removeEntry(H),H=null):rn(A,U),H}function K(A,U){let H=null;for(let gt=A.openElements.stackTop;gt>=0;gt--){let $t=A.openElements.items[gt];if($t===U.element)break;A._isSpecialElement($t)&&(H=$t)}return H||(A.openElements.popUntilElementPopped(U.element),A.activeFormattingElements.removeEntry(U)),H}function ot(A,U,H){let gt=U,$t=A.openElements.getCommonAncestor(U);for(let Ee=0,Ve=$t;Ve!==H;Ee++,Ve=$t){$t=A.openElements.getCommonAncestor(Ve);let ze=A.activeFormattingElements.getElementEntry(Ve),Re=ze&&Ee>=N;!ze||Re?(Re&&A.activeFormattingElements.removeEntry(ze),A.openElements.remove(Ve)):(Ve=mt(A,ze),gt===U&&(A.activeFormattingElements.bookmark=ze),A.treeAdapter.detachNode(gt),A.treeAdapter.appendChild(Ve,gt),gt=Ve)}return gt}function mt(A,U){let H=A.treeAdapter.getNamespaceURI(U.element),gt=A.treeAdapter.createElement(U.token.tagName,H,U.token.attrs);return A.openElements.replace(U.element,gt),U.element=gt,gt}function At(A,U,H){if(A._isElementCausesFosterParenting(U))A._fosterParentElement(H);else{let gt=A.treeAdapter.getTagName(U),$t=A.treeAdapter.getNamespaceURI(U);gt===b.TEMPLATE&&$t===k.HTML&&(U=A.treeAdapter.getTemplateContent(U)),A.treeAdapter.appendChild(U,H)}}function Qt(A,U,H){let gt=A.treeAdapter.getNamespaceURI(H.element),$t=H.token,Ee=A.treeAdapter.createElement($t.tagName,gt,$t.attrs);A._adoptNodes(U,Ee),A.treeAdapter.appendChild(U,Ee),A.activeFormattingElements.insertElementAfterBookmark(Ee,H.token),A.activeFormattingElements.removeEntry(H),A.openElements.remove(H.element),A.openElements.insertAfter(U,Ee)}function ht(A,U){let H;for(let gt=0;gt<z&&(H=ce(A,U),H);gt++){let $t=K(A,H);if(!$t)break;A.activeFormattingElements.bookmark=H;let Ee=ot(A,$t,H.element),Ve=A.openElements.getCommonAncestor(H.element);A.treeAdapter.detachNode(Ee),At(A,Ve,Ee),Qt(A,$t,H)}}function kt(){}function Lt(A){A._err(P.misplacedDoctype)}function he(A,U){A._appendCommentNode(U,A.openElements.currentTmplContent||A.openElements.current)}function Ye(A,U){A._appendCommentNode(U,A.document)}function De(A,U){A._insertCharacters(U)}function dt(A){A.stopped=!0}function Tt(A,U){A._err(P.missingDoctype,{beforeToken:!0}),A.treeAdapter.setDocumentMode(A.document,T.DOCUMENT_MODE.QUIRKS),A.insertionMode=D,A._processToken(U)}function it(A,U){A._insertFakeRootElement(),A.insertionMode=W,A._processToken(U)}function ne(A,U){A._insertFakeElement(b.HEAD),A.headElement=A.openElements.current,A.insertionMode=q,A._processToken(U)}function Vt(A,U){let H=U.tagName;H===b.HTML?Le(A,U):H===b.BASE||H===b.BASEFONT||H===b.BGSOUND||H===b.LINK||H===b.META?(A._appendElement(U,k.HTML),U.ackSelfClosing=!0):H===b.TITLE?A._switchToTextParsing(U,s.MODE.RCDATA):H===b.NOSCRIPT?A.options.scriptingEnabled?A._switchToTextParsing(U,s.MODE.RAWTEXT):(A._insertElement(U,k.HTML),A.insertionMode=J):H===b.NOFRAMES||H===b.STYLE?A._switchToTextParsing(U,s.MODE.RAWTEXT):H===b.SCRIPT?A._switchToTextParsing(U,s.MODE.SCRIPT_DATA):H===b.TEMPLATE?(A._insertTemplate(U,k.HTML),A.activeFormattingElements.insertMarker(),A.framesetOk=!1,A.insertionMode=Nt,A._pushTmplInsertionMode(Nt)):H===b.HEAD?A._err(P.misplacedStartTagForHeadElement):Oe(A,U)}function de(A,U){let H=U.tagName;H===b.HEAD?(A.openElements.pop(),A.insertionMode=I):H===b.BODY||H===b.BR||H===b.HTML?Oe(A,U):H===b.TEMPLATE&&A.openElements.tmplCount>0?(A.openElements.generateImpliedEndTagsThoroughly(),A.openElements.currentTagName!==b.TEMPLATE&&A._err(P.closingOfElementWithOpenChildElements),A.openElements.popUntilTagNamePopped(b.TEMPLATE),A.activeFormattingElements.clearToLastMarker(),A._popTmplInsertionMode(),A._resetInsertionMode()):A._err(P.endTagWithoutMatchingOpenElement)}function Oe(A,U){A.openElements.pop(),A.insertionMode=I,A._processToken(U)}function Pe(A,U){let H=U.type===s.EOF_TOKEN?P.openElementsLeftAfterEof:P.disallowedContentInNoscriptInHead;A._err(H),A.openElements.pop(),A.insertionMode=q,A._processToken(U)}function ve(A,U){A._insertFakeElement(b.BODY),A.insertionMode=Z,A._processToken(U)}function Ae(A,U){A._reconstructActiveFormattingElements(),A._insertCharacters(U)}function Qe(A,U){A._reconstructActiveFormattingElements(),A._insertCharacters(U),A.framesetOk=!1}function Xe(A,U){A.openElements.hasInButtonScope(b.P)&&A._closePElement(),A._insertElement(U,k.HTML)}function Ze(A,U){A.openElements.hasInButtonScope(b.P)&&A._closePElement(),A._insertElement(U,k.HTML),A.skipNextNewLine=!0,A.framesetOk=!1}function _n(A,U){A._reconstructActiveFormattingElements(),A._insertElement(U,k.HTML),A.activeFormattingElements.pushElement(A.openElements.current,U)}function Kn(A,U){A._reconstructActiveFormattingElements(),A._insertElement(U,k.HTML),A.activeFormattingElements.insertMarker(),A.framesetOk=!1}function lt(A,U){A._reconstructActiveFormattingElements(),A._appendElement(U,k.HTML),A.framesetOk=!1,U.ackSelfClosing=!0}function Mt(A,U){A._appendElement(U,k.HTML),U.ackSelfClosing=!0}function Dt(A,U){A._switchToTextParsing(U,s.MODE.RAWTEXT)}function ee(A,U){A.openElements.currentTagName===b.OPTION&&A.openElements.pop(),A._reconstructActiveFormattingElements(),A._insertElement(U,k.HTML)}function be(A,U){A.openElements.hasInScope(b.RUBY)&&A.openElements.generateImpliedEndTags(),A._insertElement(U,k.HTML)}function Te(A,U){A._reconstructActiveFormattingElements(),A._insertElement(U,k.HTML)}function Le(A,U){let H=U.tagName;switch(H.length){case 1:H===b.I||H===b.S||H===b.B||H===b.U?_n(A,U):H===b.P?Xe(A,U):H===b.A?function(gt,$t){let Ee=gt.activeFormattingElements.getElementEntryInScopeWithTagName(b.A);Ee&&(ht(gt,$t),gt.openElements.remove(Ee.element),gt.activeFormattingElements.removeEntry(Ee)),gt._reconstructActiveFormattingElements(),gt._insertElement($t,k.HTML),gt.activeFormattingElements.pushElement(gt.openElements.current,$t)}(A,U):Te(A,U);break;case 2:H===b.DL||H===b.OL||H===b.UL?Xe(A,U):H===b.H1||H===b.H2||H===b.H3||H===b.H4||H===b.H5||H===b.H6?function(gt,$t){gt.openElements.hasInButtonScope(b.P)&&gt._closePElement();let Ee=gt.openElements.currentTagName;Ee!==b.H1&&Ee!==b.H2&&Ee!==b.H3&&Ee!==b.H4&&Ee!==b.H5&&Ee!==b.H6||gt.openElements.pop(),gt._insertElement($t,k.HTML)}(A,U):H===b.LI||H===b.DD||H===b.DT?function(gt,$t){gt.framesetOk=!1;let Ee=$t.tagName;for(let Ve=gt.openElements.stackTop;Ve>=0;Ve--){let ze=gt.openElements.items[Ve],Re=gt.treeAdapter.getTagName(ze),Y=null;if(Ee===b.LI&&Re===b.LI?Y=b.LI:Ee!==b.DD&&Ee!==b.DT||Re!==b.DD&&Re!==b.DT||(Y=Re),Y){gt.openElements.generateImpliedEndTagsWithExclusion(Y),gt.openElements.popUntilTagNamePopped(Y);break}if(Re!==b.ADDRESS&&Re!==b.DIV&&Re!==b.P&&gt._isSpecialElement(ze))break}gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._insertElement($t,k.HTML)}(A,U):H===b.EM||H===b.TT?_n(A,U):H===b.BR?lt(A,U):H===b.HR?function(gt,$t){gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._appendElement($t,k.HTML),gt.framesetOk=!1,$t.ackSelfClosing=!0}(A,U):H===b.RB?be(A,U):H===b.RT||H===b.RP?function(gt,$t){gt.openElements.hasInScope(b.RUBY)&&gt.openElements.generateImpliedEndTagsWithExclusion(b.RTC),gt._insertElement($t,k.HTML)}(A,U):H!==b.TH&&H!==b.TD&&H!==b.TR&&Te(A,U);break;case 3:H===b.DIV||H===b.DIR||H===b.NAV?Xe(A,U):H===b.PRE?Ze(A,U):H===b.BIG?_n(A,U):H===b.IMG||H===b.WBR?lt(A,U):H===b.XMP?function(gt,$t){gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._reconstructActiveFormattingElements(),gt.framesetOk=!1,gt._switchToTextParsing($t,s.MODE.RAWTEXT)}(A,U):H===b.SVG?function(gt,$t){gt._reconstructActiveFormattingElements(),x.adjustTokenSVGAttrs($t),x.adjustTokenXMLAttrs($t),$t.selfClosing?gt._appendElement($t,k.SVG):gt._insertElement($t,k.SVG),$t.ackSelfClosing=!0}(A,U):H===b.RTC?be(A,U):H!==b.COL&&Te(A,U);break;case 4:H===b.HTML?function(gt,$t){gt.openElements.tmplCount===0&&gt.treeAdapter.adoptAttributes(gt.openElements.items[0],$t.attrs)}(A,U):H===b.BASE||H===b.LINK||H===b.META?Vt(A,U):H===b.BODY?function(gt,$t){let Ee=gt.openElements.tryPeekProperlyNestedBodyElement();Ee&&gt.openElements.tmplCount===0&&(gt.framesetOk=!1,gt.treeAdapter.adoptAttributes(Ee,$t.attrs))}(A,U):H===b.MAIN||H===b.MENU?Xe(A,U):H===b.FORM?function(gt,$t){let Ee=gt.openElements.tmplCount>0;gt.formElement&&!Ee||(gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._insertElement($t,k.HTML),Ee||(gt.formElement=gt.openElements.current))}(A,U):H===b.CODE||H===b.FONT?_n(A,U):H===b.NOBR?function(gt,$t){gt._reconstructActiveFormattingElements(),gt.openElements.hasInScope(b.NOBR)&&(ht(gt,$t),gt._reconstructActiveFormattingElements()),gt._insertElement($t,k.HTML),gt.activeFormattingElements.pushElement(gt.openElements.current,$t)}(A,U):H===b.AREA?lt(A,U):H===b.MATH?function(gt,$t){gt._reconstructActiveFormattingElements(),x.adjustTokenMathMLAttrs($t),x.adjustTokenXMLAttrs($t),$t.selfClosing?gt._appendElement($t,k.MATHML):gt._insertElement($t,k.MATHML),$t.ackSelfClosing=!0}(A,U):H===b.MENU?function(gt,$t){gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._insertElement($t,k.HTML)}(A,U):H!==b.HEAD&&Te(A,U);break;case 5:H===b.STYLE||H===b.TITLE?Vt(A,U):H===b.ASIDE?Xe(A,U):H===b.SMALL?_n(A,U):H===b.TABLE?function(gt,$t){gt.treeAdapter.getDocumentMode(gt.document)!==T.DOCUMENT_MODE.QUIRKS&&gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._insertElement($t,k.HTML),gt.framesetOk=!1,gt.insertionMode=ut}(A,U):H===b.EMBED?lt(A,U):H===b.INPUT?function(gt,$t){gt._reconstructActiveFormattingElements(),gt._appendElement($t,k.HTML);let Ee=s.getTokenAttr($t,E.TYPE);Ee&&Ee.toLowerCase()===R||(gt.framesetOk=!1),$t.ackSelfClosing=!0}(A,U):H===b.PARAM||H===b.TRACK?Mt(A,U):H===b.IMAGE?function(gt,$t){$t.tagName=b.IMG,lt(gt,$t)}(A,U):H!==b.FRAME&&H!==b.TBODY&&H!==b.TFOOT&&H!==b.THEAD&&Te(A,U);break;case 6:H===b.SCRIPT?Vt(A,U):H===b.CENTER||H===b.FIGURE||H===b.FOOTER||H===b.HEADER||H===b.HGROUP||H===b.DIALOG?Xe(A,U):H===b.BUTTON?function(gt,$t){gt.openElements.hasInScope(b.BUTTON)&&(gt.openElements.generateImpliedEndTags(),gt.openElements.popUntilTagNamePopped(b.BUTTON)),gt._reconstructActiveFormattingElements(),gt._insertElement($t,k.HTML),gt.framesetOk=!1}(A,U):H===b.STRIKE||H===b.STRONG?_n(A,U):H===b.APPLET||H===b.OBJECT?Kn(A,U):H===b.KEYGEN?lt(A,U):H===b.SOURCE?Mt(A,U):H===b.IFRAME?function(gt,$t){gt.framesetOk=!1,gt._switchToTextParsing($t,s.MODE.RAWTEXT)}(A,U):H===b.SELECT?function(gt,$t){gt._reconstructActiveFormattingElements(),gt._insertElement($t,k.HTML),gt.framesetOk=!1,gt.insertionMode===ut||gt.insertionMode===Gt||gt.insertionMode===_t||gt.insertionMode===rt||gt.insertionMode===ft?gt.insertionMode=Et:gt.insertionMode=wt}(A,U):H===b.OPTION?ee(A,U):Te(A,U);break;case 7:H===b.BGSOUND?Vt(A,U):H===b.DETAILS||H===b.ADDRESS||H===b.ARTICLE||H===b.SECTION||H===b.SUMMARY?Xe(A,U):H===b.LISTING?Ze(A,U):H===b.MARQUEE?Kn(A,U):H===b.NOEMBED?Dt(A,U):H!==b.CAPTION&&Te(A,U);break;case 8:H===b.BASEFONT?Vt(A,U):H===b.FRAMESET?function(gt,$t){let Ee=gt.openElements.tryPeekProperlyNestedBodyElement();gt.framesetOk&&Ee&&(gt.treeAdapter.detachNode(Ee),gt.openElements.popAllUpToHtmlElement(),gt._insertElement($t,k.HTML),gt.insertionMode=It)}(A,U):H===b.FIELDSET?Xe(A,U):H===b.TEXTAREA?function(gt,$t){gt._insertElement($t,k.HTML),gt.skipNextNewLine=!0,gt.tokenizer.state=s.MODE.RCDATA,gt.originalInsertionMode=gt.insertionMode,gt.framesetOk=!1,gt.insertionMode=et}(A,U):H===b.TEMPLATE?Vt(A,U):H===b.NOSCRIPT?A.options.scriptingEnabled?Dt(A,U):Te(A,U):H===b.OPTGROUP?ee(A,U):H!==b.COLGROUP&&Te(A,U);break;case 9:H===b.PLAINTEXT?function(gt,$t){gt.openElements.hasInButtonScope(b.P)&&gt._closePElement(),gt._insertElement($t,k.HTML),gt.tokenizer.state=s.MODE.PLAINTEXT}(A,U):Te(A,U);break;case 10:H===b.BLOCKQUOTE||H===b.FIGCAPTION?Xe(A,U):Te(A,U);break;default:Te(A,U)}}function Pn(A,U){let H=U.tagName;A.openElements.hasInScope(H)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(H))}function On(A,U){let H=U.tagName;A.openElements.hasInScope(H)&&(A.openElements.generateImpliedEndTags(),A.openElements.popUntilTagNamePopped(H),A.activeFormattingElements.clearToLastMarker())}function rn(A,U){let H=U.tagName;for(let gt=A.openElements.stackTop;gt>0;gt--){let $t=A.openElements.items[gt];if(A.treeAdapter.getTagName($t)===H){A.openElements.generateImpliedEndTagsWithExclusion(H),A.openElements.popUntilElementPopped($t);break}if(A._isSpecialElement($t))break}}function hr(A,U){let H=U.tagName;switch(H.length){case 1:H===b.A||H===b.B||H===b.I||H===b.S||H===b.U?ht(A,U):H===b.P?function(gt){gt.openElements.hasInButtonScope(b.P)||gt._insertFakeElement(b.P),gt._closePElement()}(A):rn(A,U);break;case 2:H===b.DL||H===b.UL||H===b.OL?Pn(A,U):H===b.LI?function(gt){gt.openElements.hasInListItemScope(b.LI)&&(gt.openElements.generateImpliedEndTagsWithExclusion(b.LI),gt.openElements.popUntilTagNamePopped(b.LI))}(A):H===b.DD||H===b.DT?function(gt,$t){let Ee=$t.tagName;gt.openElements.hasInScope(Ee)&&(gt.openElements.generateImpliedEndTagsWithExclusion(Ee),gt.openElements.popUntilTagNamePopped(Ee))}(A,U):H===b.H1||H===b.H2||H===b.H3||H===b.H4||H===b.H5||H===b.H6?function(gt){gt.openElements.hasNumberedHeaderInScope()&&(gt.openElements.generateImpliedEndTags(),gt.openElements.popUntilNumberedHeaderPopped())}(A):H===b.BR?function(gt){gt._reconstructActiveFormattingElements(),gt._insertFakeElement(b.BR),gt.openElements.pop(),gt.framesetOk=!1}(A):H===b.EM||H===b.TT?ht(A,U):rn(A,U);break;case 3:H===b.BIG?ht(A,U):H===b.DIR||H===b.DIV||H===b.NAV||H===b.PRE?Pn(A,U):rn(A,U);break;case 4:H===b.BODY?function(gt){gt.openElements.hasInScope(b.BODY)&&(gt.insertionMode=Ht)}(A):H===b.HTML?function(gt,$t){gt.openElements.hasInScope(b.BODY)&&(gt.insertionMode=Ht,gt._processToken($t))}(A,U):H===b.FORM?function(gt){let $t=gt.openElements.tmplCount>0,Ee=gt.formElement;$t||(gt.formElement=null),(Ee||$t)&&gt.openElements.hasInScope(b.FORM)&&(gt.openElements.generateImpliedEndTags(),$t?gt.openElements.popUntilTagNamePopped(b.FORM):gt.openElements.remove(Ee))}(A):H===b.CODE||H===b.FONT||H===b.NOBR?ht(A,U):H===b.MAIN||H===b.MENU?Pn(A,U):rn(A,U);break;case 5:H===b.ASIDE?Pn(A,U):H===b.SMALL?ht(A,U):rn(A,U);break;case 6:H===b.CENTER||H===b.FIGURE||H===b.FOOTER||H===b.HEADER||H===b.HGROUP||H===b.DIALOG?Pn(A,U):H===b.APPLET||H===b.OBJECT?On(A,U):H===b.STRIKE||H===b.STRONG?ht(A,U):rn(A,U);break;case 7:H===b.ADDRESS||H===b.ARTICLE||H===b.DETAILS||H===b.SECTION||H===b.SUMMARY||H===b.LISTING?Pn(A,U):H===b.MARQUEE?On(A,U):rn(A,U);break;case 8:H===b.FIELDSET?Pn(A,U):H===b.TEMPLATE?de(A,U):rn(A,U);break;case 10:H===b.BLOCKQUOTE||H===b.FIGCAPTION?Pn(A,U):rn(A,U);break;default:rn(A,U)}}function Mn(A,U){A.tmplInsertionModeStackTop>-1?Fe(A,U):A.stopped=!0}function fn(A,U){let H=A.openElements.currentTagName;H===b.TABLE||H===b.TBODY||H===b.TFOOT||H===b.THEAD||H===b.TR?(A.pendingCharacterTokens=[],A.hasNonWhitespacePendingCharacterToken=!1,A.originalInsertionMode=A.insertionMode,A.insertionMode=Rt,A._processToken(U)):sn(A,U)}function Or(A,U){let H=U.tagName;switch(H.length){case 2:H===b.TD||H===b.TH||H===b.TR?function(gt,$t){gt.openElements.clearBackToTableContext(),gt._insertFakeElement(b.TBODY),gt.insertionMode=_t,gt._processToken($t)}(A,U):sn(A,U);break;case 3:H===b.COL?function(gt,$t){gt.openElements.clearBackToTableContext(),gt._insertFakeElement(b.COLGROUP),gt.insertionMode=Pt,gt._processToken($t)}(A,U):sn(A,U);break;case 4:H===b.FORM?function(gt,$t){gt.formElement||gt.openElements.tmplCount!==0||(gt._insertElement($t,k.HTML),gt.formElement=gt.openElements.current,gt.openElements.pop())}(A,U):sn(A,U);break;case 5:H===b.TABLE?function(gt,$t){gt.openElements.hasInTableScope(b.TABLE)&&(gt.openElements.popUntilTagNamePopped(b.TABLE),gt._resetInsertionMode(),gt._processToken($t))}(A,U):H===b.STYLE?Vt(A,U):H===b.TBODY||H===b.TFOOT||H===b.THEAD?function(gt,$t){gt.openElements.clearBackToTableContext(),gt._insertElement($t,k.HTML),gt.insertionMode=_t}(A,U):H===b.INPUT?function(gt,$t){let Ee=s.getTokenAttr($t,E.TYPE);Ee&&Ee.toLowerCase()===R?gt._appendElement($t,k.HTML):sn(gt,$t),$t.ackSelfClosing=!0}(A,U):sn(A,U);break;case 6:H===b.SCRIPT?Vt(A,U):sn(A,U);break;case 7:H===b.CAPTION?function(gt,$t){gt.openElements.clearBackToTableContext(),gt.activeFormattingElements.insertMarker(),gt._insertElement($t,k.HTML),gt.insertionMode=Gt}(A,U):sn(A,U);break;case 8:H===b.COLGROUP?function(gt,$t){gt.openElements.clearBackToTableContext(),gt._insertElement($t,k.HTML),gt.insertionMode=Pt}(A,U):H===b.TEMPLATE?Vt(A,U):sn(A,U);break;default:sn(A,U)}}function yn(A,U){let H=U.tagName;H===b.TABLE?A.openElements.hasInTableScope(b.TABLE)&&(A.openElements.popUntilTagNamePopped(b.TABLE),A._resetInsertionMode()):H===b.TEMPLATE?de(A,U):H!==b.BODY&&H!==b.CAPTION&&H!==b.COL&&H!==b.COLGROUP&&H!==b.HTML&&H!==b.TBODY&&H!==b.TD&&H!==b.TFOOT&&H!==b.TH&&H!==b.THEAD&&H!==b.TR&&sn(A,U)}function sn(A,U){let H=A.fosterParentingEnabled;A.fosterParentingEnabled=!0,A._processTokenInBodyMode(U),A.fosterParentingEnabled=H}function wn(A,U){let H=0;if(A.hasNonWhitespacePendingCharacterToken)for(;H<A.pendingCharacterTokens.length;H++)sn(A,A.pendingCharacterTokens[H]);else for(;H<A.pendingCharacterTokens.length;H++)A._insertCharacters(A.pendingCharacterTokens[H]);A.insertionMode=A.originalInsertionMode,A._processToken(U)}function Yn(A,U){A.openElements.currentTagName===b.COLGROUP&&(A.openElements.pop(),A.insertionMode=ut,A._processToken(U))}function je(A,U){let H=U.tagName;H===b.HTML?Le(A,U):H===b.OPTION?(A.openElements.currentTagName===b.OPTION&&A.openElements.pop(),A._insertElement(U,k.HTML)):H===b.OPTGROUP?(A.openElements.currentTagName===b.OPTION&&A.openElements.pop(),A.openElements.currentTagName===b.OPTGROUP&&A.openElements.pop(),A._insertElement(U,k.HTML)):H===b.INPUT||H===b.KEYGEN||H===b.TEXTAREA||H===b.SELECT?A.openElements.hasInSelectScope(b.SELECT)&&(A.openElements.popUntilTagNamePopped(b.SELECT),A._resetInsertionMode(),H!==b.SELECT&&A._processToken(U)):H!==b.SCRIPT&&H!==b.TEMPLATE||Vt(A,U)}function Xn(A,U){let H=U.tagName;if(H===b.OPTGROUP){let gt=A.openElements.items[A.openElements.stackTop-1],$t=gt&&A.treeAdapter.getTagName(gt);A.openElements.currentTagName===b.OPTION&&$t===b.OPTGROUP&&A.openElements.pop(),A.openElements.currentTagName===b.OPTGROUP&&A.openElements.pop()}else H===b.OPTION?A.openElements.currentTagName===b.OPTION&&A.openElements.pop():H===b.SELECT&&A.openElements.hasInSelectScope(b.SELECT)?(A.openElements.popUntilTagNamePopped(b.SELECT),A._resetInsertionMode()):H===b.TEMPLATE&&de(A,U)}function Fe(A,U){A.openElements.tmplCount>0?(A.openElements.popUntilTagNamePopped(b.TEMPLATE),A.activeFormattingElements.clearToLastMarker(),A._popTmplInsertionMode(),A._resetInsertionMode(),A._processToken(U)):A.stopped=!0}function Dn(A,U){A.insertionMode=Z,A._processToken(U)}function mn(A,U){A.insertionMode=Z,A._processToken(U)}r.exports=class{constructor(A){this.options=y(L,A),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&g.install(this,u),this.options.onParseError&&g.install(this,p,{onParseError:this.options.onParseError})}parse(A){let U=this.treeAdapter.createDocument();return this._bootstrap(U,null),this.tokenizer.write(A,!0),this._runParsingLoop(null),U}parseFragment(A,U){U||(U=this.treeAdapter.createElement(b.TEMPLATE,k.HTML,[]));let H=this.treeAdapter.createElement("documentmock",k.HTML,[]);this._bootstrap(H,U),this.treeAdapter.getTagName(U)===b.TEMPLATE&&this._pushTmplInsertionMode(Nt),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(A,!0),this._runParsingLoop(null);let gt=this.treeAdapter.getFirstChild(H),$t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(gt,$t),$t}_bootstrap(A,U){this.tokenizer=new s(this.options),this.stopped=!1,this.insertionMode=j,this.originalInsertionMode="",this.document=A,this.fragmentContext=U,this.headElement=null,this.formElement=null,this.openElements=new l(this.document,this.treeAdapter),this.activeFormattingElements=new c(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(A){for(;!this.stopped;){this._setupTokenizerCDATAMode();let U=this.tokenizer.getNextToken();if(U.type===s.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,U.type===s.WHITESPACE_CHARACTER_TOKEN&&U.chars[0]===`
`)){if(U.chars.length===1)continue;U.chars=U.chars.substr(1)}if(this._processInputToken(U),A&&this.pendingScript)break}}runParsingLoopForCurrentChunk(A,U){if(this._runParsingLoop(U),U&&this.pendingScript){let H=this.pendingScript;return this.pendingScript=null,void U(H)}A&&A()}_setupTokenizerCDATAMode(){let A=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=A&&A!==this.document&&this.treeAdapter.getNamespaceURI(A)!==k.HTML&&!this._isIntegrationPoint(A)}_switchToTextParsing(A,U){this._insertElement(A,k.HTML),this.tokenizer.state=U,this.originalInsertionMode=this.insertionMode,this.insertionMode=et}switchToPlaintextParsing(){this.insertionMode=et,this.originalInsertionMode=Z,this.tokenizer.state=s.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let A=this.fragmentContext;do{if(this.treeAdapter.getTagName(A)===b.FORM){this.formElement=A;break}A=this.treeAdapter.getParentNode(A)}while(A)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===k.HTML){let A=this.treeAdapter.getTagName(this.fragmentContext);A===b.TITLE||A===b.TEXTAREA?this.tokenizer.state=s.MODE.RCDATA:A===b.STYLE||A===b.XMP||A===b.IFRAME||A===b.NOEMBED||A===b.NOFRAMES||A===b.NOSCRIPT?this.tokenizer.state=s.MODE.RAWTEXT:A===b.SCRIPT?this.tokenizer.state=s.MODE.SCRIPT_DATA:A===b.PLAINTEXT&&(this.tokenizer.state=s.MODE.PLAINTEXT)}}_setDocumentType(A){let U=A.name||"",H=A.publicId||"",gt=A.systemId||"";this.treeAdapter.setDocumentType(this.document,U,H,gt)}_attachElementToTree(A){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(A);else{let U=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(U,A)}}_appendElement(A,U){let H=this.treeAdapter.createElement(A.tagName,U,A.attrs);this._attachElementToTree(H)}_insertElement(A,U){let H=this.treeAdapter.createElement(A.tagName,U,A.attrs);this._attachElementToTree(H),this.openElements.push(H)}_insertFakeElement(A){let U=this.treeAdapter.createElement(A,k.HTML,[]);this._attachElementToTree(U),this.openElements.push(U)}_insertTemplate(A){let U=this.treeAdapter.createElement(A.tagName,k.HTML,A.attrs),H=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(U,H),this._attachElementToTree(U),this.openElements.push(U)}_insertFakeRootElement(){let A=this.treeAdapter.createElement(b.HTML,k.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,A),this.openElements.push(A)}_appendCommentNode(A,U){let H=this.treeAdapter.createCommentNode(A.data);this.treeAdapter.appendChild(U,H)}_insertCharacters(A){if(this._shouldFosterParentOnInsertion())this._fosterParentText(A.chars);else{let U=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(U,A.chars)}}_adoptNodes(A,U){for(let H=this.treeAdapter.getFirstChild(A);H;H=this.treeAdapter.getFirstChild(A))this.treeAdapter.detachNode(H),this.treeAdapter.appendChild(U,H)}_shouldProcessTokenInForeignContent(A){let U=this._getAdjustedCurrentElement();if(!U||U===this.document)return!1;let H=this.treeAdapter.getNamespaceURI(U);if(H===k.HTML||this.treeAdapter.getTagName(U)===b.ANNOTATION_XML&&H===k.MATHML&&A.type===s.START_TAG_TOKEN&&A.tagName===b.SVG)return!1;let gt=A.type===s.CHARACTER_TOKEN||A.type===s.NULL_CHARACTER_TOKEN||A.type===s.WHITESPACE_CHARACTER_TOKEN;return(!(A.type===s.START_TAG_TOKEN&&A.tagName!==b.MGLYPH&&A.tagName!==b.MALIGNMARK)&&!gt||!this._isIntegrationPoint(U,k.MATHML))&&(A.type!==s.START_TAG_TOKEN&&!gt||!this._isIntegrationPoint(U,k.HTML))&&A.type!==s.EOF_TOKEN}_processToken(A){ge[this.insertionMode][A.type](this,A)}_processTokenInBodyMode(A){ge[Z][A.type](this,A)}_processTokenInForeignContent(A){A.type===s.CHARACTER_TOKEN?function(U,H){U._insertCharacters(H),U.framesetOk=!1}(this,A):A.type===s.NULL_CHARACTER_TOKEN?function(U,H){H.chars=w.REPLACEMENT_CHARACTER,U._insertCharacters(H)}(this,A):A.type===s.WHITESPACE_CHARACTER_TOKEN?De(this,A):A.type===s.COMMENT_TOKEN?he(this,A):A.type===s.START_TAG_TOKEN?function(U,H){if(x.causesExit(H)&&!U.fragmentContext){for(;U.treeAdapter.getNamespaceURI(U.openElements.current)!==k.HTML&&!U._isIntegrationPoint(U.openElements.current);)U.openElements.pop();U._processToken(H)}else{let gt=U._getAdjustedCurrentElement(),$t=U.treeAdapter.getNamespaceURI(gt);$t===k.MATHML?x.adjustTokenMathMLAttrs(H):$t===k.SVG&&(x.adjustTokenSVGTagName(H),x.adjustTokenSVGAttrs(H)),x.adjustTokenXMLAttrs(H),H.selfClosing?U._appendElement(H,$t):U._insertElement(H,$t),H.ackSelfClosing=!0}}(this,A):A.type===s.END_TAG_TOKEN&&function(U,H){for(let gt=U.openElements.stackTop;gt>0;gt--){let $t=U.openElements.items[gt];if(U.treeAdapter.getNamespaceURI($t)===k.HTML){U._processToken(H);break}if(U.treeAdapter.getTagName($t).toLowerCase()===H.tagName){U.openElements.popUntilElementPopped($t);break}}}(this,A)}_processInputToken(A){this._shouldProcessTokenInForeignContent(A)?this._processTokenInForeignContent(A):this._processToken(A),A.type===s.START_TAG_TOKEN&&A.selfClosing&&!A.ackSelfClosing&&this._err(P.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(A,U){let H=this.treeAdapter.getTagName(A),gt=this.treeAdapter.getNamespaceURI(A),$t=this.treeAdapter.getAttrList(A);return x.isIntegrationPoint(H,gt,$t,U)}_reconstructActiveFormattingElements(){let A=this.activeFormattingElements.length;if(A){let U=A,H=null;do if(U--,H=this.activeFormattingElements.entries[U],H.type===c.MARKER_ENTRY||this.openElements.contains(H.element)){U++;break}while(U>0);for(let gt=U;gt<A;gt++)H=this.activeFormattingElements.entries[gt],this._insertElement(H.token,this.treeAdapter.getNamespaceURI(H.element)),H.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=rt}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let A=this.openElements.stackTop,U=!1;A>=0;A--){let H=this.openElements.items[A];A===0&&(U=!0,this.fragmentContext&&(H=this.fragmentContext));let gt=this.treeAdapter.getTagName(H),$t=Ct[gt];if($t){this.insertionMode=$t;break}if(!(U||gt!==b.TD&&gt!==b.TH)){this.insertionMode=ft;break}if(!U&&gt===b.HEAD){this.insertionMode=q;break}if(gt===b.SELECT){this._resetInsertionModeForSelect(A);break}if(gt===b.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(gt===b.HTML){this.insertionMode=this.headElement?I:W;break}if(U){this.insertionMode=Z;break}}}_resetInsertionModeForSelect(A){if(A>0)for(let U=A-1;U>0;U--){let H=this.openElements.items[U],gt=this.treeAdapter.getTagName(H);if(gt===b.TEMPLATE)break;if(gt===b.TABLE)return void(this.insertionMode=Et)}this.insertionMode=wt}_pushTmplInsertionMode(A){this.tmplInsertionModeStack.push(A),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=A}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(A){let U=this.treeAdapter.getTagName(A);return U===b.TABLE||U===b.TBODY||U===b.TFOOT||U===b.THEAD||U===b.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){let A={parent:null,beforeElement:null};for(let U=this.openElements.stackTop;U>=0;U--){let H=this.openElements.items[U],gt=this.treeAdapter.getTagName(H),$t=this.treeAdapter.getNamespaceURI(H);if(gt===b.TEMPLATE&&$t===k.HTML){A.parent=this.treeAdapter.getTemplateContent(H);break}if(gt===b.TABLE){A.parent=this.treeAdapter.getParentNode(H),A.parent?A.beforeElement=H:A.parent=this.openElements.items[U-1];break}}return A.parent||(A.parent=this.openElements.items[0]),A}_fosterParentElement(A){let U=this._findFosterParentingLocation();U.beforeElement?this.treeAdapter.insertBefore(U.parent,A,U.beforeElement):this.treeAdapter.appendChild(U.parent,A)}_fosterParentText(A){let U=this._findFosterParentingLocation();U.beforeElement?this.treeAdapter.insertTextBefore(U.parent,A,U.beforeElement):this.treeAdapter.insertText(U.parent,A)}_isSpecialElement(A){let U=this.treeAdapter.getTagName(A),H=this.treeAdapter.getNamespaceURI(A);return T.SPECIAL_ELEMENTS[H][U]}}},6519:(r,i,a)=>{"use strict";let s=a(6152),l=s.TAG_NAMES,c=s.NAMESPACES;function u(h){switch(h.length){case 1:return h===l.P;case 2:return h===l.RB||h===l.RP||h===l.RT||h===l.DD||h===l.DT||h===l.LI;case 3:return h===l.RTC;case 6:return h===l.OPTION;case 8:return h===l.OPTGROUP}return!1}function p(h){switch(h.length){case 1:return h===l.P;case 2:return h===l.RB||h===l.RP||h===l.RT||h===l.DD||h===l.DT||h===l.LI||h===l.TD||h===l.TH||h===l.TR;case 3:return h===l.RTC;case 5:return h===l.TBODY||h===l.TFOOT||h===l.THEAD;case 6:return h===l.OPTION;case 7:return h===l.CAPTION;case 8:return h===l.OPTGROUP||h===l.COLGROUP}return!1}function g(h,y){switch(h.length){case 2:if(h===l.TD||h===l.TH)return y===c.HTML;if(h===l.MI||h===l.MO||h===l.MN||h===l.MS)return y===c.MATHML;break;case 4:if(h===l.HTML)return y===c.HTML;if(h===l.DESC)return y===c.SVG;break;case 5:if(h===l.TABLE)return y===c.HTML;if(h===l.MTEXT)return y===c.MATHML;if(h===l.TITLE)return y===c.SVG;break;case 6:return(h===l.APPLET||h===l.OBJECT)&&y===c.HTML;case 7:return(h===l.CAPTION||h===l.MARQUEE)&&y===c.HTML;case 8:return h===l.TEMPLATE&&y===c.HTML;case 13:return h===l.FOREIGN_OBJECT&&y===c.SVG;case 14:return h===l.ANNOTATION_XML&&y===c.MATHML}return!1}r.exports=class{constructor(h,y){this.stackTop=-1,this.items=[],this.current=h,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=y}_indexOf(h){let y=-1;for(let _=this.stackTop;_>=0;_--)if(this.items[_]===h){y=_;break}return y}_isInTemplate(){return this.currentTagName===l.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===c.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(h){this.items[++this.stackTop]=h,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(h,y){let _=this._indexOf(h);this.items[_]=y,_===this.stackTop&&this._updateCurrentElement()}insertAfter(h,y){let _=this._indexOf(h)+1;this.items.splice(_,0,y),_===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(h){for(;this.stackTop>-1;){let y=this.currentTagName,_=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),y===h&&_===c.HTML)break}}popUntilElementPopped(h){for(;this.stackTop>-1;){let y=this.current;if(this.pop(),y===h)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){let h=this.currentTagName,y=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),h===l.H1||h===l.H2||h===l.H3||h===l.H4||h===l.H5||h===l.H6&&y===c.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){let h=this.currentTagName,y=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),h===l.TD||h===l.TH&&y===c.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==l.TABLE&&this.currentTagName!==l.TEMPLATE&&this.currentTagName!==l.HTML||this.treeAdapter.getNamespaceURI(this.current)!==c.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==l.TBODY&&this.currentTagName!==l.TFOOT&&this.currentTagName!==l.THEAD&&this.currentTagName!==l.TEMPLATE&&this.currentTagName!==l.HTML||this.treeAdapter.getNamespaceURI(this.current)!==c.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==l.TR&&this.currentTagName!==l.TEMPLATE&&this.currentTagName!==l.HTML||this.treeAdapter.getNamespaceURI(this.current)!==c.HTML;)this.pop()}remove(h){for(let y=this.stackTop;y>=0;y--)if(this.items[y]===h){this.items.splice(y,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){let h=this.items[1];return h&&this.treeAdapter.getTagName(h)===l.BODY?h:null}contains(h){return this._indexOf(h)>-1}getCommonAncestor(h){let y=this._indexOf(h);return--y>=0?this.items[y]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.currentTagName===l.HTML}hasInScope(h){for(let y=this.stackTop;y>=0;y--){let _=this.treeAdapter.getTagName(this.items[y]),x=this.treeAdapter.getNamespaceURI(this.items[y]);if(_===h&&x===c.HTML)return!0;if(g(_,x))return!1}return!0}hasNumberedHeaderInScope(){for(let h=this.stackTop;h>=0;h--){let y=this.treeAdapter.getTagName(this.items[h]),_=this.treeAdapter.getNamespaceURI(this.items[h]);if((y===l.H1||y===l.H2||y===l.H3||y===l.H4||y===l.H5||y===l.H6)&&_===c.HTML)return!0;if(g(y,_))return!1}return!0}hasInListItemScope(h){for(let y=this.stackTop;y>=0;y--){let _=this.treeAdapter.getTagName(this.items[y]),x=this.treeAdapter.getNamespaceURI(this.items[y]);if(_===h&&x===c.HTML)return!0;if((_===l.UL||_===l.OL)&&x===c.HTML||g(_,x))return!1}return!0}hasInButtonScope(h){for(let y=this.stackTop;y>=0;y--){let _=this.treeAdapter.getTagName(this.items[y]),x=this.treeAdapter.getNamespaceURI(this.items[y]);if(_===h&&x===c.HTML)return!0;if(_===l.BUTTON&&x===c.HTML||g(_,x))return!1}return!0}hasInTableScope(h){for(let y=this.stackTop;y>=0;y--){let _=this.treeAdapter.getTagName(this.items[y]);if(this.treeAdapter.getNamespaceURI(this.items[y])===c.HTML){if(_===h)return!0;if(_===l.TABLE||_===l.TEMPLATE||_===l.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let h=this.stackTop;h>=0;h--){let y=this.treeAdapter.getTagName(this.items[h]);if(this.treeAdapter.getNamespaceURI(this.items[h])===c.HTML){if(y===l.TBODY||y===l.THEAD||y===l.TFOOT)return!0;if(y===l.TABLE||y===l.HTML)return!1}}return!0}hasInSelectScope(h){for(let y=this.stackTop;y>=0;y--){let _=this.treeAdapter.getTagName(this.items[y]);if(this.treeAdapter.getNamespaceURI(this.items[y])===c.HTML){if(_===h)return!0;if(_!==l.OPTION&&_!==l.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;u(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;p(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(h){for(;u(this.currentTagName)&&this.currentTagName!==h;)this.pop()}}},3988:(r,i,a)=>{"use strict";let s=a(7296),l=a(8904),c=a(1515),u=a(6152),p=u.TAG_NAMES,g=u.NAMESPACES,h={treeAdapter:s},y=/&/g,_=/\u00a0/g,x=/"/g,P=/</g,w=/>/g;class T{constructor(k,E){this.options=l(h,E),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=k}serialize(){return this._serializeChildNodes(this.startNode),this.html}_serializeChildNodes(k){let E=this.treeAdapter.getChildNodes(k);if(E)for(let L=0,R=E.length;L<R;L++){let z=E[L];this.treeAdapter.isElementNode(z)?this._serializeElement(z):this.treeAdapter.isTextNode(z)?this._serializeTextNode(z):this.treeAdapter.isCommentNode(z)?this._serializeCommentNode(z):this.treeAdapter.isDocumentTypeNode(z)&&this._serializeDocumentTypeNode(z)}}_serializeElement(k){let E=this.treeAdapter.getTagName(k),L=this.treeAdapter.getNamespaceURI(k);if(this.html+="<"+E,this._serializeAttributes(k),this.html+=">",E!==p.AREA&&E!==p.BASE&&E!==p.BASEFONT&&E!==p.BGSOUND&&E!==p.BR&&E!==p.COL&&E!==p.EMBED&&E!==p.FRAME&&E!==p.HR&&E!==p.IMG&&E!==p.INPUT&&E!==p.KEYGEN&&E!==p.LINK&&E!==p.META&&E!==p.PARAM&&E!==p.SOURCE&&E!==p.TRACK&&E!==p.WBR){let R=E===p.TEMPLATE&&L===g.HTML?this.treeAdapter.getTemplateContent(k):k;this._serializeChildNodes(R),this.html+="</"+E+">"}}_serializeAttributes(k){let E=this.treeAdapter.getAttrList(k);for(let L=0,R=E.length;L<R;L++){let z=E[L],N=T.escapeString(z.value,!0);this.html+=" ",z.namespace?z.namespace===g.XML?this.html+="xml:"+z.name:z.namespace===g.XMLNS?(z.name!=="xmlns"&&(this.html+="xmlns:"),this.html+=z.name):z.namespace===g.XLINK?this.html+="xlink:"+z.name:this.html+=z.prefix+":"+z.name:this.html+=z.name,this.html+='="'+N+'"'}}_serializeTextNode(k){let E=this.treeAdapter.getTextNodeContent(k),L=this.treeAdapter.getParentNode(k),R;L&&this.treeAdapter.isElementNode(L)&&(R=this.treeAdapter.getTagName(L)),R===p.STYLE||R===p.SCRIPT||R===p.XMP||R===p.IFRAME||R===p.NOEMBED||R===p.NOFRAMES||R===p.PLAINTEXT||R===p.NOSCRIPT?this.html+=E:this.html+=T.escapeString(E,!1)}_serializeCommentNode(k){this.html+="<!--"+this.treeAdapter.getCommentNodeContent(k)+"-->"}_serializeDocumentTypeNode(k){let E=this.treeAdapter.getDocumentTypeNodeName(k);this.html+="<"+c.serializeContent(E,null,null)+">"}}T.escapeString=function(b,k){return b=b.replace(y,"&amp;").replace(_,"&nbsp;"),b=k?b.replace(x,"&quot;"):b.replace(P,"&lt;").replace(w,"&gt;")},r.exports=T},5763:(r,i,a)=>{"use strict";let s=a(7118),l=a(4284),c=a(5482),u=a(1734),p=l.CODE_POINTS,g=l.CODE_POINT_SEQUENCES,h={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},y=1,_=2,x=4,P=y|_|x,w="DATA_STATE",T="RCDATA_STATE",b="RAWTEXT_STATE",k="SCRIPT_DATA_STATE",E="PLAINTEXT_STATE",L="TAG_OPEN_STATE",R="END_TAG_OPEN_STATE",z="TAG_NAME_STATE",N="RCDATA_LESS_THAN_SIGN_STATE",j="RCDATA_END_TAG_OPEN_STATE",D="RCDATA_END_TAG_NAME_STATE",W="RAWTEXT_LESS_THAN_SIGN_STATE",q="RAWTEXT_END_TAG_OPEN_STATE",J="RAWTEXT_END_TAG_NAME_STATE",I="SCRIPT_DATA_LESS_THAN_SIGN_STATE",Z="SCRIPT_DATA_END_TAG_OPEN_STATE",et="SCRIPT_DATA_END_TAG_NAME_STATE",ut="SCRIPT_DATA_ESCAPE_START_STATE",Rt="SCRIPT_DATA_ESCAPE_START_DASH_STATE",Gt="SCRIPT_DATA_ESCAPED_STATE",Pt="SCRIPT_DATA_ESCAPED_DASH_STATE",_t="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",rt="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",ft="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",wt="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",Et="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",Nt="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",Ht="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",It="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",at="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",Kt="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",le="BEFORE_ATTRIBUTE_NAME_STATE",Ct="ATTRIBUTE_NAME_STATE",oe="AFTER_ATTRIBUTE_NAME_STATE",ge="BEFORE_ATTRIBUTE_VALUE_STATE",ce="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",K="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",ot="ATTRIBUTE_VALUE_UNQUOTED_STATE",mt="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",At="SELF_CLOSING_START_TAG_STATE",Qt="BOGUS_COMMENT_STATE",ht="MARKUP_DECLARATION_OPEN_STATE",kt="COMMENT_START_STATE",Lt="COMMENT_START_DASH_STATE",he="COMMENT_STATE",Ye="COMMENT_LESS_THAN_SIGN_STATE",De="COMMENT_LESS_THAN_SIGN_BANG_STATE",dt="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",Tt="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",it="COMMENT_END_DASH_STATE",ne="COMMENT_END_STATE",Vt="COMMENT_END_BANG_STATE",de="DOCTYPE_STATE",Oe="BEFORE_DOCTYPE_NAME_STATE",Pe="DOCTYPE_NAME_STATE",ve="AFTER_DOCTYPE_NAME_STATE",Ae="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",Qe="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",Xe="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",Ze="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",_n="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",Kn="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",lt="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",Mt="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Dt="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",ee="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",be="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Te="BOGUS_DOCTYPE_STATE",Le="CDATA_SECTION_STATE",Pn="CDATA_SECTION_BRACKET_STATE",On="CDATA_SECTION_END_STATE",rn="CHARACTER_REFERENCE_STATE",hr="NAMED_CHARACTER_REFERENCE_STATE",Mn="AMBIGUOS_AMPERSAND_STATE",fn="NUMERIC_CHARACTER_REFERENCE_STATE",Or="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",yn="DECIMAL_CHARACTER_REFERENCE_START_STATE",sn="HEXADEMICAL_CHARACTER_REFERENCE_STATE",wn="DECIMAL_CHARACTER_REFERENCE_STATE",Yn="NUMERIC_CHARACTER_REFERENCE_END_STATE";function je(Re){return Re===p.SPACE||Re===p.LINE_FEED||Re===p.TABULATION||Re===p.FORM_FEED}function Xn(Re){return Re>=p.DIGIT_0&&Re<=p.DIGIT_9}function Fe(Re){return Re>=p.LATIN_CAPITAL_A&&Re<=p.LATIN_CAPITAL_Z}function Dn(Re){return Re>=p.LATIN_SMALL_A&&Re<=p.LATIN_SMALL_Z}function mn(Re){return Dn(Re)||Fe(Re)}function A(Re){return mn(Re)||Xn(Re)}function U(Re){return Re>=p.LATIN_CAPITAL_A&&Re<=p.LATIN_CAPITAL_F}function H(Re){return Re>=p.LATIN_SMALL_A&&Re<=p.LATIN_SMALL_F}function gt(Re){return Re+32}function $t(Re){return Re<=65535?String.fromCharCode(Re):(Re-=65536,String.fromCharCode(Re>>>10&1023|55296)+String.fromCharCode(56320|1023&Re))}function Ee(Re){return String.fromCharCode(gt(Re))}function Ve(Re,Y){let Jt=c[++Re],Ne=++Re,Ln=Ne+Jt-1;for(;Ne<=Ln;){let nt=Ne+Ln>>>1,bt=c[nt];if(bt<Y)Ne=nt+1;else{if(!(bt>Y))return c[nt+Jt];Ln=nt-1}}return-1}class ze{constructor(){this.preprocessor=new s,this.tokenQueue=[],this.allowCDATA=!1,this.state=w,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(Y){this._consume(),this._err(Y),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;let Y=this._consume();this._ensureHibernation()||this[this.state](Y)}return this.tokenQueue.shift()}write(Y,Jt){this.active=!0,this.preprocessor.write(Y,Jt)}insertHtmlAtCurrentPos(Y){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(Y)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:ze.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(Y){this.state=Y,this._unconsume()}_consumeSequenceIfMatch(Y,Jt,Ne){let Ln=0,nt=!0,bt=Y.length,Zt,pe=0,fe=Jt;for(;pe<bt;pe++){if(pe>0&&(fe=this._consume(),Ln++),fe===p.EOF){nt=!1;break}if(Zt=Y[pe],fe!==Zt&&(Ne||fe!==gt(Zt))){nt=!1;break}}if(!nt)for(;Ln--;)this._unconsume();return nt}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==g.SCRIPT_STRING.length)return!1;for(let Y=0;Y<this.tempBuff.length;Y++)if(this.tempBuff[Y]!==g.SCRIPT_STRING[Y])return!1;return!0}_createStartTagToken(){this.currentToken={type:ze.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:ze.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:ze.COMMENT_TOKEN,data:""}}_createDoctypeToken(Y){this.currentToken={type:ze.DOCTYPE_TOKEN,name:Y,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(Y,Jt){this.currentCharacterToken={type:Y,chars:Jt}}_createEOFToken(){this.currentToken={type:ze.EOF_TOKEN}}_createAttr(Y){this.currentAttr={name:Y,value:""}}_leaveAttrName(Y){ze.getTokenAttr(this.currentToken,this.currentAttr.name)===null?this.currentToken.attrs.push(this.currentAttr):this._err(u.duplicateAttribute),this.state=Y}_leaveAttrValue(Y){this.state=Y}_emitCurrentToken(){this._emitCurrentCharacterToken();let Y=this.currentToken;this.currentToken=null,Y.type===ze.START_TAG_TOKEN?this.lastStartTagName=Y.tagName:Y.type===ze.END_TAG_TOKEN&&(Y.attrs.length>0&&this._err(u.endTagWithAttributes),Y.selfClosing&&this._err(u.endTagWithTrailingSolidus)),this.tokenQueue.push(Y)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(Y,Jt){this.currentCharacterToken&&this.currentCharacterToken.type!==Y&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=Jt:this._createCharacterToken(Y,Jt)}_emitCodePoint(Y){let Jt=ze.CHARACTER_TOKEN;je(Y)?Jt=ze.WHITESPACE_CHARACTER_TOKEN:Y===p.NULL&&(Jt=ze.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(Jt,$t(Y))}_emitSeveralCodePoints(Y){for(let Jt=0;Jt<Y.length;Jt++)this._emitCodePoint(Y[Jt])}_emitChars(Y){this._appendCharToCurrentCharacterToken(ze.CHARACTER_TOKEN,Y)}_matchNamedCharacterReference(Y){let Jt=null,Ne=1,Ln=Ve(0,Y);for(this.tempBuff.push(Y);Ln>-1;){let nt=c[Ln],bt=nt<P;bt&&nt&y&&(Jt=nt&_?[c[++Ln],c[++Ln]]:[c[++Ln]],Ne=0);let Zt=this._consume();if(this.tempBuff.push(Zt),Ne++,Zt===p.EOF)break;Ln=bt?nt&x?Ve(Ln,Zt):-1:Zt===nt?++Ln:-1}for(;Ne--;)this.tempBuff.pop(),this._unconsume();return Jt}_isCharacterReferenceInAttribute(){return this.returnState===ce||this.returnState===K||this.returnState===ot}_isCharacterReferenceAttributeQuirk(Y){if(!Y&&this._isCharacterReferenceInAttribute()){let Jt=this._consume();return this._unconsume(),Jt===p.EQUALS_SIGN||A(Jt)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let Y=0;Y<this.tempBuff.length;Y++)this.currentAttr.value+=$t(this.tempBuff[Y]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[w](Y){this.preprocessor.dropParsedChunk(),Y===p.LESS_THAN_SIGN?this.state=L:Y===p.AMPERSAND?(this.returnState=w,this.state=rn):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitCodePoint(Y)):Y===p.EOF?this._emitEOFToken():this._emitCodePoint(Y)}[T](Y){this.preprocessor.dropParsedChunk(),Y===p.AMPERSAND?(this.returnState=T,this.state=rn):Y===p.LESS_THAN_SIGN?this.state=N:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?this._emitEOFToken():this._emitCodePoint(Y)}[b](Y){this.preprocessor.dropParsedChunk(),Y===p.LESS_THAN_SIGN?this.state=W:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?this._emitEOFToken():this._emitCodePoint(Y)}[k](Y){this.preprocessor.dropParsedChunk(),Y===p.LESS_THAN_SIGN?this.state=I:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?this._emitEOFToken():this._emitCodePoint(Y)}[E](Y){this.preprocessor.dropParsedChunk(),Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?this._emitEOFToken():this._emitCodePoint(Y)}[L](Y){Y===p.EXCLAMATION_MARK?this.state=ht:Y===p.SOLIDUS?this.state=R:mn(Y)?(this._createStartTagToken(),this._reconsumeInState(z)):Y===p.QUESTION_MARK?(this._err(u.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(Qt)):Y===p.EOF?(this._err(u.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(u.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(w))}[R](Y){mn(Y)?(this._createEndTagToken(),this._reconsumeInState(z)):Y===p.GREATER_THAN_SIGN?(this._err(u.missingEndTagName),this.state=w):Y===p.EOF?(this._err(u.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(u.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(Qt))}[z](Y){je(Y)?this.state=le:Y===p.SOLIDUS?this.state=At:Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Fe(Y)?this.currentToken.tagName+=Ee(Y):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.tagName+=l.REPLACEMENT_CHARACTER):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=$t(Y)}[N](Y){Y===p.SOLIDUS?(this.tempBuff=[],this.state=j):(this._emitChars("<"),this._reconsumeInState(T))}[j](Y){mn(Y)?(this._createEndTagToken(),this._reconsumeInState(D)):(this._emitChars("</"),this._reconsumeInState(T))}[D](Y){if(Fe(Y))this.currentToken.tagName+=Ee(Y),this.tempBuff.push(Y);else if(Dn(Y))this.currentToken.tagName+=$t(Y),this.tempBuff.push(Y);else{if(this.lastStartTagName===this.currentToken.tagName){if(je(Y))return void(this.state=le);if(Y===p.SOLIDUS)return void(this.state=At);if(Y===p.GREATER_THAN_SIGN)return this.state=w,void this._emitCurrentToken()}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(T)}}[W](Y){Y===p.SOLIDUS?(this.tempBuff=[],this.state=q):(this._emitChars("<"),this._reconsumeInState(b))}[q](Y){mn(Y)?(this._createEndTagToken(),this._reconsumeInState(J)):(this._emitChars("</"),this._reconsumeInState(b))}[J](Y){if(Fe(Y))this.currentToken.tagName+=Ee(Y),this.tempBuff.push(Y);else if(Dn(Y))this.currentToken.tagName+=$t(Y),this.tempBuff.push(Y);else{if(this.lastStartTagName===this.currentToken.tagName){if(je(Y))return void(this.state=le);if(Y===p.SOLIDUS)return void(this.state=At);if(Y===p.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=w)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(b)}}[I](Y){Y===p.SOLIDUS?(this.tempBuff=[],this.state=Z):Y===p.EXCLAMATION_MARK?(this.state=ut,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(k))}[Z](Y){mn(Y)?(this._createEndTagToken(),this._reconsumeInState(et)):(this._emitChars("</"),this._reconsumeInState(k))}[et](Y){if(Fe(Y))this.currentToken.tagName+=Ee(Y),this.tempBuff.push(Y);else if(Dn(Y))this.currentToken.tagName+=$t(Y),this.tempBuff.push(Y);else{if(this.lastStartTagName===this.currentToken.tagName){if(je(Y))return void(this.state=le);if(Y===p.SOLIDUS)return void(this.state=At);if(Y===p.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=w)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(k)}}[ut](Y){Y===p.HYPHEN_MINUS?(this.state=Rt,this._emitChars("-")):this._reconsumeInState(k)}[Rt](Y){Y===p.HYPHEN_MINUS?(this.state=_t,this._emitChars("-")):this._reconsumeInState(k)}[Gt](Y){Y===p.HYPHEN_MINUS?(this.state=Pt,this._emitChars("-")):Y===p.LESS_THAN_SIGN?this.state=rt:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(Y)}[Pt](Y){Y===p.HYPHEN_MINUS?(this.state=_t,this._emitChars("-")):Y===p.LESS_THAN_SIGN?this.state=rt:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.state=Gt,this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Gt,this._emitCodePoint(Y))}[_t](Y){Y===p.HYPHEN_MINUS?this._emitChars("-"):Y===p.LESS_THAN_SIGN?this.state=rt:Y===p.GREATER_THAN_SIGN?(this.state=k,this._emitChars(">")):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.state=Gt,this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Gt,this._emitCodePoint(Y))}[rt](Y){Y===p.SOLIDUS?(this.tempBuff=[],this.state=ft):mn(Y)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(Et)):(this._emitChars("<"),this._reconsumeInState(Gt))}[ft](Y){mn(Y)?(this._createEndTagToken(),this._reconsumeInState(wt)):(this._emitChars("</"),this._reconsumeInState(Gt))}[wt](Y){if(Fe(Y))this.currentToken.tagName+=Ee(Y),this.tempBuff.push(Y);else if(Dn(Y))this.currentToken.tagName+=$t(Y),this.tempBuff.push(Y);else{if(this.lastStartTagName===this.currentToken.tagName){if(je(Y))return void(this.state=le);if(Y===p.SOLIDUS)return void(this.state=At);if(Y===p.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=w)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(Gt)}}[Et](Y){je(Y)||Y===p.SOLIDUS||Y===p.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?Nt:Gt,this._emitCodePoint(Y)):Fe(Y)?(this.tempBuff.push(gt(Y)),this._emitCodePoint(Y)):Dn(Y)?(this.tempBuff.push(Y),this._emitCodePoint(Y)):this._reconsumeInState(Gt)}[Nt](Y){Y===p.HYPHEN_MINUS?(this.state=Ht,this._emitChars("-")):Y===p.LESS_THAN_SIGN?(this.state=at,this._emitChars("<")):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(Y)}[Ht](Y){Y===p.HYPHEN_MINUS?(this.state=It,this._emitChars("-")):Y===p.LESS_THAN_SIGN?(this.state=at,this._emitChars("<")):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.state=Nt,this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Nt,this._emitCodePoint(Y))}[It](Y){Y===p.HYPHEN_MINUS?this._emitChars("-"):Y===p.LESS_THAN_SIGN?(this.state=at,this._emitChars("<")):Y===p.GREATER_THAN_SIGN?(this.state=k,this._emitChars(">")):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.state=Nt,this._emitChars(l.REPLACEMENT_CHARACTER)):Y===p.EOF?(this._err(u.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Nt,this._emitCodePoint(Y))}[at](Y){Y===p.SOLIDUS?(this.tempBuff=[],this.state=Kt,this._emitChars("/")):this._reconsumeInState(Nt)}[Kt](Y){je(Y)||Y===p.SOLIDUS||Y===p.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?Gt:Nt,this._emitCodePoint(Y)):Fe(Y)?(this.tempBuff.push(gt(Y)),this._emitCodePoint(Y)):Dn(Y)?(this.tempBuff.push(Y),this._emitCodePoint(Y)):this._reconsumeInState(Nt)}[le](Y){je(Y)||(Y===p.SOLIDUS||Y===p.GREATER_THAN_SIGN||Y===p.EOF?this._reconsumeInState(oe):Y===p.EQUALS_SIGN?(this._err(u.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Ct):(this._createAttr(""),this._reconsumeInState(Ct)))}[Ct](Y){je(Y)||Y===p.SOLIDUS||Y===p.GREATER_THAN_SIGN||Y===p.EOF?(this._leaveAttrName(oe),this._unconsume()):Y===p.EQUALS_SIGN?this._leaveAttrName(ge):Fe(Y)?this.currentAttr.name+=Ee(Y):Y===p.QUOTATION_MARK||Y===p.APOSTROPHE||Y===p.LESS_THAN_SIGN?(this._err(u.unexpectedCharacterInAttributeName),this.currentAttr.name+=$t(Y)):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentAttr.name+=l.REPLACEMENT_CHARACTER):this.currentAttr.name+=$t(Y)}[oe](Y){je(Y)||(Y===p.SOLIDUS?this.state=At:Y===p.EQUALS_SIGN?this.state=ge:Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(Ct)))}[ge](Y){je(Y)||(Y===p.QUOTATION_MARK?this.state=ce:Y===p.APOSTROPHE?this.state=K:Y===p.GREATER_THAN_SIGN?(this._err(u.missingAttributeValue),this.state=w,this._emitCurrentToken()):this._reconsumeInState(ot))}[ce](Y){Y===p.QUOTATION_MARK?this.state=mt:Y===p.AMPERSAND?(this.returnState=ce,this.state=rn):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentAttr.value+=l.REPLACEMENT_CHARACTER):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):this.currentAttr.value+=$t(Y)}[K](Y){Y===p.APOSTROPHE?this.state=mt:Y===p.AMPERSAND?(this.returnState=K,this.state=rn):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentAttr.value+=l.REPLACEMENT_CHARACTER):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):this.currentAttr.value+=$t(Y)}[ot](Y){je(Y)?this._leaveAttrValue(le):Y===p.AMPERSAND?(this.returnState=ot,this.state=rn):Y===p.GREATER_THAN_SIGN?(this._leaveAttrValue(w),this._emitCurrentToken()):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentAttr.value+=l.REPLACEMENT_CHARACTER):Y===p.QUOTATION_MARK||Y===p.APOSTROPHE||Y===p.LESS_THAN_SIGN||Y===p.EQUALS_SIGN||Y===p.GRAVE_ACCENT?(this._err(u.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=$t(Y)):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):this.currentAttr.value+=$t(Y)}[mt](Y){je(Y)?this._leaveAttrValue(le):Y===p.SOLIDUS?this._leaveAttrValue(At):Y===p.GREATER_THAN_SIGN?(this._leaveAttrValue(w),this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):(this._err(u.missingWhitespaceBetweenAttributes),this._reconsumeInState(le))}[At](Y){Y===p.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInTag),this._emitEOFToken()):(this._err(u.unexpectedSolidusInTag),this._reconsumeInState(le))}[Qt](Y){Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._emitCurrentToken(),this._emitEOFToken()):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.data+=l.REPLACEMENT_CHARACTER):this.currentToken.data+=$t(Y)}[ht](Y){this._consumeSequenceIfMatch(g.DASH_DASH_STRING,Y,!0)?(this._createCommentToken(),this.state=kt):this._consumeSequenceIfMatch(g.DOCTYPE_STRING,Y,!1)?this.state=de:this._consumeSequenceIfMatch(g.CDATA_START_STRING,Y,!0)?this.allowCDATA?this.state=Le:(this._err(u.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=Qt):this._ensureHibernation()||(this._err(u.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(Qt))}[kt](Y){Y===p.HYPHEN_MINUS?this.state=Lt:Y===p.GREATER_THAN_SIGN?(this._err(u.abruptClosingOfEmptyComment),this.state=w,this._emitCurrentToken()):this._reconsumeInState(he)}[Lt](Y){Y===p.HYPHEN_MINUS?this.state=ne:Y===p.GREATER_THAN_SIGN?(this._err(u.abruptClosingOfEmptyComment),this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(he))}[he](Y){Y===p.HYPHEN_MINUS?this.state=it:Y===p.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=Ye):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.data+=l.REPLACEMENT_CHARACTER):Y===p.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=$t(Y)}[Ye](Y){Y===p.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=De):Y===p.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(he)}[De](Y){Y===p.HYPHEN_MINUS?this.state=dt:this._reconsumeInState(he)}[dt](Y){Y===p.HYPHEN_MINUS?this.state=Tt:this._reconsumeInState(it)}[Tt](Y){Y!==p.GREATER_THAN_SIGN&&Y!==p.EOF&&this._err(u.nestedComment),this._reconsumeInState(ne)}[it](Y){Y===p.HYPHEN_MINUS?this.state=ne:Y===p.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(he))}[ne](Y){Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Y===p.EXCLAMATION_MARK?this.state=Vt:Y===p.HYPHEN_MINUS?this.currentToken.data+="-":Y===p.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(he))}[Vt](Y){Y===p.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=it):Y===p.GREATER_THAN_SIGN?(this._err(u.incorrectlyClosedComment),this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(he))}[de](Y){je(Y)?this.state=Oe:Y===p.GREATER_THAN_SIGN?this._reconsumeInState(Oe):Y===p.EOF?(this._err(u.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(Oe))}[Oe](Y){je(Y)||(Fe(Y)?(this._createDoctypeToken(Ee(Y)),this.state=Pe):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this._createDoctypeToken(l.REPLACEMENT_CHARACTER),this.state=Pe):Y===p.GREATER_THAN_SIGN?(this._err(u.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=w):Y===p.EOF?(this._err(u.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken($t(Y)),this.state=Pe))}[Pe](Y){je(Y)?this.state=ve:Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Fe(Y)?this.currentToken.name+=Ee(Y):Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.name+=l.REPLACEMENT_CHARACTER):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=$t(Y)}[ve](Y){je(Y)||(Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(g.PUBLIC_STRING,Y,!1)?this.state=Ae:this._consumeSequenceIfMatch(g.SYSTEM_STRING,Y,!1)?this.state=lt:this._ensureHibernation()||(this._err(u.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))}[Ae](Y){je(Y)?this.state=Qe:Y===p.QUOTATION_MARK?(this._err(u.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=Xe):Y===p.APOSTROPHE?(this._err(u.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=Ze):Y===p.GREATER_THAN_SIGN?(this._err(u.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te))}[Qe](Y){je(Y)||(Y===p.QUOTATION_MARK?(this.currentToken.publicId="",this.state=Xe):Y===p.APOSTROPHE?(this.currentToken.publicId="",this.state=Ze):Y===p.GREATER_THAN_SIGN?(this._err(u.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))}[Xe](Y){Y===p.QUOTATION_MARK?this.state=_n:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.publicId+=l.REPLACEMENT_CHARACTER):Y===p.GREATER_THAN_SIGN?(this._err(u.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=w):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=$t(Y)}[Ze](Y){Y===p.APOSTROPHE?this.state=_n:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.publicId+=l.REPLACEMENT_CHARACTER):Y===p.GREATER_THAN_SIGN?(this._err(u.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=w):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=$t(Y)}[_n](Y){je(Y)?this.state=Kn:Y===p.GREATER_THAN_SIGN?(this.state=w,this._emitCurrentToken()):Y===p.QUOTATION_MARK?(this._err(u.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Dt):Y===p.APOSTROPHE?(this._err(u.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=ee):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te))}[Kn](Y){je(Y)||(Y===p.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=w):Y===p.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Dt):Y===p.APOSTROPHE?(this.currentToken.systemId="",this.state=ee):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))}[lt](Y){je(Y)?this.state=Mt:Y===p.QUOTATION_MARK?(this._err(u.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Dt):Y===p.APOSTROPHE?(this._err(u.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=ee):Y===p.GREATER_THAN_SIGN?(this._err(u.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te))}[Mt](Y){je(Y)||(Y===p.QUOTATION_MARK?(this.currentToken.systemId="",this.state=Dt):Y===p.APOSTROPHE?(this.currentToken.systemId="",this.state=ee):Y===p.GREATER_THAN_SIGN?(this._err(u.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=w,this._emitCurrentToken()):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))}[Dt](Y){Y===p.QUOTATION_MARK?this.state=be:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.systemId+=l.REPLACEMENT_CHARACTER):Y===p.GREATER_THAN_SIGN?(this._err(u.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=w):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=$t(Y)}[ee](Y){Y===p.APOSTROPHE?this.state=be:Y===p.NULL?(this._err(u.unexpectedNullCharacter),this.currentToken.systemId+=l.REPLACEMENT_CHARACTER):Y===p.GREATER_THAN_SIGN?(this._err(u.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=w):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=$t(Y)}[be](Y){je(Y)||(Y===p.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=w):Y===p.EOF?(this._err(u.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(u.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(Te)))}[Te](Y){Y===p.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=w):Y===p.NULL?this._err(u.unexpectedNullCharacter):Y===p.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[Le](Y){Y===p.RIGHT_SQUARE_BRACKET?this.state=Pn:Y===p.EOF?(this._err(u.eofInCdata),this._emitEOFToken()):this._emitCodePoint(Y)}[Pn](Y){Y===p.RIGHT_SQUARE_BRACKET?this.state=On:(this._emitChars("]"),this._reconsumeInState(Le))}[On](Y){Y===p.GREATER_THAN_SIGN?this.state=w:Y===p.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(Le))}[rn](Y){this.tempBuff=[p.AMPERSAND],Y===p.NUMBER_SIGN?(this.tempBuff.push(Y),this.state=fn):A(Y)?this._reconsumeInState(hr):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[hr](Y){let Jt=this._matchNamedCharacterReference(Y);if(this._ensureHibernation())this.tempBuff=[p.AMPERSAND];else if(Jt){let Ne=this.tempBuff[this.tempBuff.length-1]===p.SEMICOLON;this._isCharacterReferenceAttributeQuirk(Ne)||(Ne||this._errOnNextCodePoint(u.missingSemicolonAfterCharacterReference),this.tempBuff=Jt),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=Mn}[Mn](Y){A(Y)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=$t(Y):this._emitCodePoint(Y):(Y===p.SEMICOLON&&this._err(u.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[fn](Y){this.charRefCode=0,Y===p.LATIN_SMALL_X||Y===p.LATIN_CAPITAL_X?(this.tempBuff.push(Y),this.state=Or):this._reconsumeInState(yn)}[Or](Y){(function(Jt){return Xn(Jt)||U(Jt)||H(Jt)})(Y)?this._reconsumeInState(sn):(this._err(u.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[yn](Y){Xn(Y)?this._reconsumeInState(wn):(this._err(u.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[sn](Y){U(Y)?this.charRefCode=16*this.charRefCode+Y-55:H(Y)?this.charRefCode=16*this.charRefCode+Y-87:Xn(Y)?this.charRefCode=16*this.charRefCode+Y-48:Y===p.SEMICOLON?this.state=Yn:(this._err(u.missingSemicolonAfterCharacterReference),this._reconsumeInState(Yn))}[wn](Y){Xn(Y)?this.charRefCode=10*this.charRefCode+Y-48:Y===p.SEMICOLON?this.state=Yn:(this._err(u.missingSemicolonAfterCharacterReference),this._reconsumeInState(Yn))}[Yn](){if(this.charRefCode===p.NULL)this._err(u.nullCharacterReference),this.charRefCode=p.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(u.characterReferenceOutsideUnicodeRange),this.charRefCode=p.REPLACEMENT_CHARACTER;else if(l.isSurrogate(this.charRefCode))this._err(u.surrogateCharacterReference),this.charRefCode=p.REPLACEMENT_CHARACTER;else if(l.isUndefinedCodePoint(this.charRefCode))this._err(u.noncharacterCharacterReference);else if(l.isControlCodePoint(this.charRefCode)||this.charRefCode===p.CARRIAGE_RETURN){this._err(u.controlCharacterReference);let Y=h[this.charRefCode];Y&&(this.charRefCode=Y)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}}ze.CHARACTER_TOKEN="CHARACTER_TOKEN",ze.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",ze.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",ze.START_TAG_TOKEN="START_TAG_TOKEN",ze.END_TAG_TOKEN="END_TAG_TOKEN",ze.COMMENT_TOKEN="COMMENT_TOKEN",ze.DOCTYPE_TOKEN="DOCTYPE_TOKEN",ze.EOF_TOKEN="EOF_TOKEN",ze.HIBERNATION_TOKEN="HIBERNATION_TOKEN",ze.MODE={DATA:w,RCDATA:T,RAWTEXT:b,SCRIPT_DATA:k,PLAINTEXT:E},ze.getTokenAttr=function(Re,Y){for(let Jt=Re.attrs.length-1;Jt>=0;Jt--)if(Re.attrs[Jt].name===Y)return Re.attrs[Jt].value;return null},r.exports=ze},5482:r=>{"use strict";r.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},7118:(r,i,a)=>{"use strict";let s=a(4284),l=a(1734),c=s.CODE_POINTS,u=65536;r.exports=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=u}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(p){if(this.pos!==this.lastCharPos){let g=this.html.charCodeAt(this.pos+1);if(s.isSurrogatePair(g))return this.pos++,this._addGap(),s.getSurrogatePairCodePoint(p,g)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,c.EOF;return this._err(l.surrogateInInputStream),p}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(p,g){this.html?this.html+=p:this.html=p,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=g}insertHtmlAtCurrentPos(p){this.html=this.html.substring(0,this.pos+1)+p+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,c.EOF;let p=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&p===c.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):p===c.CARRIAGE_RETURN?(this.skipNextNewLine=!0,c.LINE_FEED):(this.skipNextNewLine=!1,s.isSurrogate(p)&&(p=this._processSurrogate(p)),p>31&&p<127||p===c.LINE_FEED||p===c.CARRIAGE_RETURN||p>159&&p<64976||this._checkForProblematicCharacters(p),p)}_checkForProblematicCharacters(p){s.isControlCodePoint(p)?this._err(l.controlCharacterInInputStream):s.isUndefinedCodePoint(p)&&this._err(l.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}}},7296:(r,i,a)=>{"use strict";let{DOCUMENT_MODE:s}=a(6152);i.createDocument=function(){return{nodeName:"#document",mode:s.NO_QUIRKS,childNodes:[]}},i.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},i.createElement=function(p,g,h){return{nodeName:p,tagName:p,attrs:h,namespaceURI:g,childNodes:[],parentNode:null}},i.createCommentNode=function(p){return{nodeName:"#comment",data:p,parentNode:null}};let l=function(p){return{nodeName:"#text",value:p,parentNode:null}},c=i.appendChild=function(p,g){p.childNodes.push(g),g.parentNode=p},u=i.insertBefore=function(p,g,h){let y=p.childNodes.indexOf(h);p.childNodes.splice(y,0,g),g.parentNode=p};i.setTemplateContent=function(p,g){p.content=g},i.getTemplateContent=function(p){return p.content},i.setDocumentType=function(p,g,h,y){let _=null;for(let x=0;x<p.childNodes.length;x++)if(p.childNodes[x].nodeName==="#documentType"){_=p.childNodes[x];break}_?(_.name=g,_.publicId=h,_.systemId=y):c(p,{nodeName:"#documentType",name:g,publicId:h,systemId:y})},i.setDocumentMode=function(p,g){p.mode=g},i.getDocumentMode=function(p){return p.mode},i.detachNode=function(p){if(p.parentNode){let g=p.parentNode.childNodes.indexOf(p);p.parentNode.childNodes.splice(g,1),p.parentNode=null}},i.insertText=function(p,g){if(p.childNodes.length){let h=p.childNodes[p.childNodes.length-1];if(h.nodeName==="#text")return void(h.value+=g)}c(p,l(g))},i.insertTextBefore=function(p,g,h){let y=p.childNodes[p.childNodes.indexOf(h)-1];y&&y.nodeName==="#text"?y.value+=g:u(p,l(g),h)},i.adoptAttributes=function(p,g){let h=[];for(let y=0;y<p.attrs.length;y++)h.push(p.attrs[y].name);for(let y=0;y<g.length;y++)h.indexOf(g[y].name)===-1&&p.attrs.push(g[y])},i.getFirstChild=function(p){return p.childNodes[0]},i.getChildNodes=function(p){return p.childNodes},i.getParentNode=function(p){return p.parentNode},i.getAttrList=function(p){return p.attrs},i.getTagName=function(p){return p.tagName},i.getNamespaceURI=function(p){return p.namespaceURI},i.getTextNodeContent=function(p){return p.value},i.getCommentNodeContent=function(p){return p.data},i.getDocumentTypeNodeName=function(p){return p.name},i.getDocumentTypeNodePublicId=function(p){return p.publicId},i.getDocumentTypeNodeSystemId=function(p){return p.systemId},i.isTextNode=function(p){return p.nodeName==="#text"},i.isCommentNode=function(p){return p.nodeName==="#comment"},i.isDocumentTypeNode=function(p){return p.nodeName==="#documentType"},i.isElementNode=function(p){return!!p.tagName},i.setNodeSourceCodeLocation=function(p,g){p.sourceCodeLocation=g},i.getNodeSourceCodeLocation=function(p){return p.sourceCodeLocation},i.updateNodeSourceCodeLocation=function(p,g){p.sourceCodeLocation=Object.assign(p.sourceCodeLocation,g)}},8904:r=>{"use strict";r.exports=function(i,a){return[i,a=a||Object.create(null)].reduce((s,l)=>(Object.keys(l).forEach(c=>{s[c]=l[c]}),s),Object.create(null))}},1704:r=>{"use strict";class i{constructor(s){let l={},c=this._getOverriddenMethods(this,l);for(let u of Object.keys(c))typeof c[u]=="function"&&(l[u]=s[u],s[u]=c[u])}_getOverriddenMethods(){throw new Error("Not implemented")}}i.install=function(a,s,l){a.__mixins||(a.__mixins=[]);for(let u=0;u<a.__mixins.length;u++)if(a.__mixins[u].constructor===s)return a.__mixins[u];let c=new s(a,l);return a.__mixins.push(c),c},r.exports=i},6585:r=>{"use strict";var i=/([-.*+?^${}()|[\]\/\\])/g,a=/\\/g,s=function(_){return(_+"").replace(i,"\\$1")},l=function(_){return(_+"").replace(a,"")},c=RegExp(`^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:(["']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:(["'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)`.replace(/<combinator>/,"["+s(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),u=function(_){this.combinator=_||" ",this.tag="*"};u.prototype.toString=function(){if(!this.raw){var _,x,P="";if(P+=this.tag||"*",this.id&&(P+="#"+this.id),this.classes&&(P+="."+this.classList.join(".")),this.attributes)for(_=0;x=this.attributes[_++];)P+="["+x.name+(x.operator?x.operator+'"'+x.value+'"':"")+"]";if(this.pseudos)for(_=0;x=this.pseudos[_++];)P+=":"+x.name,x.value&&(P+="("+x.value+")");this.raw=P}return this.raw};var p=function(){this.length=0};p.prototype.toString=function(){if(!this.raw){for(var _,x="",P=0;_=this[P++];)P!==1&&(x+=" "),_.combinator!==" "&&(x+=_.combinator+" "),x+=_;this.raw=x}return this.raw};var g=function(_,x,P,w,T,b,k,E,L,R,z,N,j,D,W,q){var J,I;if((x||!this.length)&&(J=this[this.length++]=new p,x))return"";if(J||(J=this[this.length-1]),(P||w||!J.length)&&(I=J[J.length++]=new u(P)),I||(I=J[J.length-1]),T)I.tag=l(T);else if(b)I.id=l(b);else if(k){var Z=l(k),et=I.classes||(I.classes={});if(!et[Z]){et[Z]=s(k);var ut=I.classList||(I.classList=[]);ut.push(Z),ut.sort()}}else j?(q=q||W,(I.pseudos||(I.pseudos=[])).push({type:N.length==1?"class":"element",name:l(j),escapedName:s(j),value:q?l(q):null,escapedValue:q?s(q):null})):E&&(z=z?s(z):null,(I.attributes||(I.attributes=[])).push({operator:L,name:l(E),escapedName:s(E),value:z?l(z):null,escapedValue:z?s(z):null}));return""},h=function(_){this.length=0;for(var x,P=this,w=_;_;){if(x=_.replace(c,function(){return g.apply(P,arguments)}),x===_)throw new Error(w+" is an invalid expression");_=x}};h.prototype.toString=function(){if(!this.raw){for(var _,x=[],P=0;_=this[P++];)x.push(_);this.raw=x.join(", ")}return this.raw};var y={};r.exports=function(_){return _==null?null:(_=(""+_).replace(/^\s+|\s+$/g,""),y[_]||(y[_]=new h(_)))}},655:(r,i,a)=>{"use strict";a.r(i),a.d(i,{__assign:()=>c,__asyncDelegator:()=>W,__asyncGenerator:()=>D,__asyncValues:()=>q,__await:()=>j,__awaiter:()=>w,__classPrivateFieldGet:()=>ut,__classPrivateFieldIn:()=>Gt,__classPrivateFieldSet:()=>Rt,__createBinding:()=>b,__decorate:()=>p,__esDecorate:()=>h,__exportStar:()=>k,__extends:()=>l,__generator:()=>T,__importDefault:()=>et,__importStar:()=>Z,__makeTemplateObject:()=>J,__metadata:()=>P,__param:()=>g,__propKey:()=>_,__read:()=>L,__rest:()=>u,__runInitializers:()=>y,__setFunctionName:()=>x,__spread:()=>R,__spreadArray:()=>N,__spreadArrays:()=>z,__values:()=>E});var s=function(Pt,_t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,ft){rt.__proto__=ft}||function(rt,ft){for(var wt in ft)Object.prototype.hasOwnProperty.call(ft,wt)&&(rt[wt]=ft[wt])},s(Pt,_t)};function l(Pt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Class extends value "+String(_t)+" is not a constructor or null");function rt(){this.constructor=Pt}s(Pt,_t),Pt.prototype=_t===null?Object.create(_t):(rt.prototype=_t.prototype,new rt)}var c=function(){return c=Object.assign||function(Pt){for(var _t,rt=1,ft=arguments.length;rt<ft;rt++)for(var wt in _t=arguments[rt])Object.prototype.hasOwnProperty.call(_t,wt)&&(Pt[wt]=_t[wt]);return Pt},c.apply(this,arguments)};function u(Pt,_t){var rt={};for(var ft in Pt)Object.prototype.hasOwnProperty.call(Pt,ft)&&_t.indexOf(ft)<0&&(rt[ft]=Pt[ft]);if(Pt!=null&&typeof Object.getOwnPropertySymbols=="function"){var wt=0;for(ft=Object.getOwnPropertySymbols(Pt);wt<ft.length;wt++)_t.indexOf(ft[wt])<0&&Object.prototype.propertyIsEnumerable.call(Pt,ft[wt])&&(rt[ft[wt]]=Pt[ft[wt]])}return rt}function p(Pt,_t,rt,ft){var wt,Et=arguments.length,Nt=Et<3?_t:ft===null?ft=Object.getOwnPropertyDescriptor(_t,rt):ft;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Nt=Reflect.decorate(Pt,_t,rt,ft);else for(var Ht=Pt.length-1;Ht>=0;Ht--)(wt=Pt[Ht])&&(Nt=(Et<3?wt(Nt):Et>3?wt(_t,rt,Nt):wt(_t,rt))||Nt);return Et>3&&Nt&&Object.defineProperty(_t,rt,Nt),Nt}function g(Pt,_t){return function(rt,ft){_t(rt,ft,Pt)}}function h(Pt,_t,rt,ft,wt,Et){function Nt(ot){if(ot!==void 0&&typeof ot!="function")throw new TypeError("Function expected");return ot}for(var Ht,It=ft.kind,at=It==="getter"?"get":It==="setter"?"set":"value",Kt=!_t&&Pt?ft.static?Pt:Pt.prototype:null,le=_t||(Kt?Object.getOwnPropertyDescriptor(Kt,ft.name):{}),Ct=!1,oe=rt.length-1;oe>=0;oe--){var ge={};for(var ce in ft)ge[ce]=ce==="access"?{}:ft[ce];for(var ce in ft.access)ge.access[ce]=ft.access[ce];ge.addInitializer=function(ot){if(Ct)throw new TypeError("Cannot add initializers after decoration has completed");Et.push(Nt(ot||null))};var K=(0,rt[oe])(It==="accessor"?{get:le.get,set:le.set}:le[at],ge);if(It==="accessor"){if(K===void 0)continue;if(K===null||typeof K!="object")throw new TypeError("Object expected");(Ht=Nt(K.get))&&(le.get=Ht),(Ht=Nt(K.set))&&(le.set=Ht),(Ht=Nt(K.init))&&wt.push(Ht)}else(Ht=Nt(K))&&(It==="field"?wt.push(Ht):le[at]=Ht)}Kt&&Object.defineProperty(Kt,ft.name,le),Ct=!0}function y(Pt,_t,rt){for(var ft=arguments.length>2,wt=0;wt<_t.length;wt++)rt=ft?_t[wt].call(Pt,rt):_t[wt].call(Pt);return ft?rt:void 0}function _(Pt){return typeof Pt=="symbol"?Pt:"".concat(Pt)}function x(Pt,_t,rt){return typeof _t=="symbol"&&(_t=_t.description?"[".concat(_t.description,"]"):""),Object.defineProperty(Pt,"name",{configurable:!0,value:rt?"".concat(rt," ",_t):_t})}function P(Pt,_t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Pt,_t)}function w(Pt,_t,rt,ft){return new(rt||(rt=Promise))(function(wt,Et){function Nt(at){try{It(ft.next(at))}catch(Kt){Et(Kt)}}function Ht(at){try{It(ft.throw(at))}catch(Kt){Et(Kt)}}function It(at){var Kt;at.done?wt(at.value):(Kt=at.value,Kt instanceof rt?Kt:new rt(function(le){le(Kt)})).then(Nt,Ht)}It((ft=ft.apply(Pt,_t||[])).next())})}function T(Pt,_t){var rt,ft,wt,Et,Nt={label:0,sent:function(){if(1&wt[0])throw wt[1];return wt[1]},trys:[],ops:[]};return Et={next:Ht(0),throw:Ht(1),return:Ht(2)},typeof Symbol=="function"&&(Et[Symbol.iterator]=function(){return this}),Et;function Ht(It){return function(at){return function(Kt){if(rt)throw new TypeError("Generator is already executing.");for(;Et&&(Et=0,Kt[0]&&(Nt=0)),Nt;)try{if(rt=1,ft&&(wt=2&Kt[0]?ft.return:Kt[0]?ft.throw||((wt=ft.return)&&wt.call(ft),0):ft.next)&&!(wt=wt.call(ft,Kt[1])).done)return wt;switch(ft=0,wt&&(Kt=[2&Kt[0],wt.value]),Kt[0]){case 0:case 1:wt=Kt;break;case 4:return Nt.label++,{value:Kt[1],done:!1};case 5:Nt.label++,ft=Kt[1],Kt=[0];continue;case 7:Kt=Nt.ops.pop(),Nt.trys.pop();continue;default:if(wt=Nt.trys,!((wt=wt.length>0&&wt[wt.length-1])||Kt[0]!==6&&Kt[0]!==2)){Nt=0;continue}if(Kt[0]===3&&(!wt||Kt[1]>wt[0]&&Kt[1]<wt[3])){Nt.label=Kt[1];break}if(Kt[0]===6&&Nt.label<wt[1]){Nt.label=wt[1],wt=Kt;break}if(wt&&Nt.label<wt[2]){Nt.label=wt[2],Nt.ops.push(Kt);break}wt[2]&&Nt.ops.pop(),Nt.trys.pop();continue}Kt=_t.call(Pt,Nt)}catch(le){Kt=[6,le],ft=0}finally{rt=wt=0}if(5&Kt[0])throw Kt[1];return{value:Kt[0]?Kt[1]:void 0,done:!0}}([It,at])}}}var b=Object.create?function(Pt,_t,rt,ft){ft===void 0&&(ft=rt);var wt=Object.getOwnPropertyDescriptor(_t,rt);wt&&!("get"in wt?!_t.__esModule:wt.writable||wt.configurable)||(wt={enumerable:!0,get:function(){return _t[rt]}}),Object.defineProperty(Pt,ft,wt)}:function(Pt,_t,rt,ft){ft===void 0&&(ft=rt),Pt[ft]=_t[rt]};function k(Pt,_t){for(var rt in Pt)rt==="default"||Object.prototype.hasOwnProperty.call(_t,rt)||b(_t,Pt,rt)}function E(Pt){var _t=typeof Symbol=="function"&&Symbol.iterator,rt=_t&&Pt[_t],ft=0;if(rt)return rt.call(Pt);if(Pt&&typeof Pt.length=="number")return{next:function(){return Pt&&ft>=Pt.length&&(Pt=void 0),{value:Pt&&Pt[ft++],done:!Pt}}};throw new TypeError(_t?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(Pt,_t){var rt=typeof Symbol=="function"&&Pt[Symbol.iterator];if(!rt)return Pt;var ft,wt,Et=rt.call(Pt),Nt=[];try{for(;(_t===void 0||_t-- >0)&&!(ft=Et.next()).done;)Nt.push(ft.value)}catch(Ht){wt={error:Ht}}finally{try{ft&&!ft.done&&(rt=Et.return)&&rt.call(Et)}finally{if(wt)throw wt.error}}return Nt}function R(){for(var Pt=[],_t=0;_t<arguments.length;_t++)Pt=Pt.concat(L(arguments[_t]));return Pt}function z(){for(var Pt=0,_t=0,rt=arguments.length;_t<rt;_t++)Pt+=arguments[_t].length;var ft=Array(Pt),wt=0;for(_t=0;_t<rt;_t++)for(var Et=arguments[_t],Nt=0,Ht=Et.length;Nt<Ht;Nt++,wt++)ft[wt]=Et[Nt];return ft}function N(Pt,_t,rt){if(rt||arguments.length===2)for(var ft,wt=0,Et=_t.length;wt<Et;wt++)!ft&&wt in _t||(ft||(ft=Array.prototype.slice.call(_t,0,wt)),ft[wt]=_t[wt]);return Pt.concat(ft||Array.prototype.slice.call(_t))}function j(Pt){return this instanceof j?(this.v=Pt,this):new j(Pt)}function D(Pt,_t,rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,wt=rt.apply(Pt,_t||[]),Et=[];return ft={},Nt("next"),Nt("throw"),Nt("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function Nt(le){wt[le]&&(ft[le]=function(Ct){return new Promise(function(oe,ge){Et.push([le,Ct,oe,ge])>1||Ht(le,Ct)})})}function Ht(le,Ct){try{(oe=wt[le](Ct)).value instanceof j?Promise.resolve(oe.value.v).then(It,at):Kt(Et[0][2],oe)}catch(ge){Kt(Et[0][3],ge)}var oe}function It(le){Ht("next",le)}function at(le){Ht("throw",le)}function Kt(le,Ct){le(Ct),Et.shift(),Et.length&&Ht(Et[0][0],Et[0][1])}}function W(Pt){var _t,rt;return _t={},ft("next"),ft("throw",function(wt){throw wt}),ft("return"),_t[Symbol.iterator]=function(){return this},_t;function ft(wt,Et){_t[wt]=Pt[wt]?function(Nt){return(rt=!rt)?{value:j(Pt[wt](Nt)),done:!1}:Et?Et(Nt):Nt}:Et}}function q(Pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t,rt=Pt[Symbol.asyncIterator];return rt?rt.call(Pt):(Pt=typeof E=="function"?E(Pt):Pt[Symbol.iterator](),_t={},ft("next"),ft("throw"),ft("return"),_t[Symbol.asyncIterator]=function(){return this},_t);function ft(wt){_t[wt]=Pt[wt]&&function(Et){return new Promise(function(Nt,Ht){(function(It,at,Kt,le){Promise.resolve(le).then(function(Ct){It({value:Ct,done:Kt})},at)})(Nt,Ht,(Et=Pt[wt](Et)).done,Et.value)})}}}function J(Pt,_t){return Object.defineProperty?Object.defineProperty(Pt,"raw",{value:_t}):Pt.raw=_t,Pt}var I=Object.create?function(Pt,_t){Object.defineProperty(Pt,"default",{enumerable:!0,value:_t})}:function(Pt,_t){Pt.default=_t};function Z(Pt){if(Pt&&Pt.__esModule)return Pt;var _t={};if(Pt!=null)for(var rt in Pt)rt!=="default"&&Object.prototype.hasOwnProperty.call(Pt,rt)&&b(_t,Pt,rt);return I(_t,Pt),_t}function et(Pt){return Pt&&Pt.__esModule?Pt:{default:Pt}}function ut(Pt,_t,rt,ft){if(rt==="a"&&!ft)throw new TypeError("Private accessor was defined without a getter");if(typeof _t=="function"?Pt!==_t||!ft:!_t.has(Pt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return rt==="m"?ft:rt==="a"?ft.call(Pt):ft?ft.value:_t.get(Pt)}function Rt(Pt,_t,rt,ft,wt){if(ft==="m")throw new TypeError("Private method is not writable");if(ft==="a"&&!wt)throw new TypeError("Private accessor was defined without a setter");if(typeof _t=="function"?Pt!==_t||!wt:!_t.has(Pt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ft==="a"?wt.call(Pt,rt):wt?wt.value=rt:_t.set(Pt,rt),rt}function Gt(Pt,_t){if(_t===null||typeof _t!="object"&&typeof _t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof Pt=="function"?_t===Pt:Pt.has(_t)}},3600:r=>{"use strict";r.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},9323:r=>{"use strict";r.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},9591:r=>{"use strict";r.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":"\xA0","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}')},2586:r=>{"use strict";r.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},n={};function t(r){var i=n[r];if(i!==void 0)return i.exports;var a=n[r]={exports:{}};return o[r].call(a.exports,a,a.exports,t),a.exports}t.n=r=>{var i=r&&r.__esModule?()=>r.default:()=>r;return t.d(i,{a:i}),i},t.d=(r,i)=>{for(var a in i)t.o(i,a)&&!t.o(r,a)&&Object.defineProperty(r,a,{enumerable:!0,get:i[a]})},t.o=(r,i)=>Object.prototype.hasOwnProperty.call(r,i),t.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var e={};return(()=>{"use strict";t.r(e),t.d(e,{default:()=>y});var r=function(){return r=Object.assign||function(_){for(var x,P=1,w=arguments.length;P<w;P++)for(var T in x=arguments[P])Object.prototype.hasOwnProperty.call(x,T)&&(_[T]=x[T]);return _},r.apply(this,arguments)},i="set-device-desktop",a="set-device-tablet",s="set-device-mobile",l="canvas-clear",c=t(6094),u=t.n(c),p=function(){return p=Object.assign||function(_){for(var x,P=1,w=arguments.length;P<w;P++)for(var T in x=arguments[P])Object.prototype.hasOwnProperty.call(x,T)&&(_[T]=x[T]);return _},p.apply(this,arguments)};let g=function(_,x){var P=_.Commands,w=x.textCleanCanvas;(function(T,b){var k=T.Commands,E=T.getConfig().stylePrefix;k.add(b.cmdOpenImport,{containerEl:null,codeEditorHtml:null,createCodeViewer:function(){return T.CodeManager.createViewer({codeName:"htmlmixed",theme:b.codeViewerTheme,readOnly:!1})},createCodeEditor:function(){var L=document.createElement("div"),R=this.createCodeViewer();return L.style.flex="1 0 auto",L.style.boxSizing="border-box",L.className="".concat(E,"import-code"),L.appendChild(R.getElement()),{codeEditor:R,el:L}},getCodeContainer:function(){var L=this.containerEl;return L||((L=document.createElement("div")).className="".concat(E,"import-container"),L.style.display="flex",L.style.gap="5px",L.style.flexDirection="column",L.style.justifyContent="space-between",this.containerEl=L),L},run:function(L){var R=this.getCodeContainer(),z=this.codeEditorHtml;if(!z){var N=this.createCodeEditor(),j=document.createElement("button");if(z=N.codeEditor,this.codeEditorHtml=z,b.modalLabelImport){var D=document.createElement("div");D.className="".concat(E,"import-label"),D.innerHTML=b.modalLabelImport,R.appendChild(D)}j.innerHTML=b.modalBtnImport,j.type="button",j.className="".concat(E,"btn-prim ").concat(E,"btn-import"),j.style.alignSelf="flex-start",j.onclick=function(){var W=N.codeEditor.editor.getValue();L.Components.clear(),L.Css.clear(),L.setComponents(W),L.Modal.close()},R.appendChild(N.el),R.appendChild(j)}L.Modal.open({title:b.modalTitleImport,content:R}),z&&(z.setContent(b.importPlaceholder||""),z.editor.refresh())}})})(_,x),function(T,b){var k=T.Commands,E=T.getConfig().stylePrefix;k.add(b.cmdInlineHtml,{run:function(L,R,z){z===void 0&&(z={});var N=L.getHtml()+"<style>".concat(L.getCss(),"</style>");return u()(N,p(p({},z.juiceOpts),z))}}),k.add("export-template",{containerEl:null,codeEditorHtml:null,createCodeViewer:function(){return T.CodeManager.createViewer({codeName:"htmlmixed",theme:b.codeViewerTheme})},createCodeEditor:function(){var L=document.createElement("div"),R=this.createCodeViewer();return L.style.flex="1 0 auto",L.style.boxSizing="border-box",L.className="".concat(E,"export-code"),L.appendChild(R.getElement()),{codeEditor:R,el:L}},getCodeContainer:function(){var L=this.containerEl;return L||((L=document.createElement("div")).className="".concat(E,"export-container"),L.style.display="flex",L.style.gap="5px",L.style.flexDirection="column",L.style.justifyContent="space-between",this.containerEl=L),L},run:function(L){var R=this.codeEditorHtml,z=this.getCodeContainer();if(!R){var N=this.createCodeEditor();if(R=N.codeEditor,this.codeEditorHtml=R,b.modalLabelExport){var j=document.createElement("div");j.className="".concat(E,"export-label"),j.innerHTML=b.modalLabelExport,z.appendChild(j)}z.appendChild(N.el)}if(L.Modal.open({title:b.modalTitleExport,content:z}),R){var D="".concat(L.getHtml(),"<style>").concat(L.getCss(),"</style>");R.setContent(b.inlineCss?u()(D,b.juiceOpts):D),R.editor.refresh()}}})}(_,x),function(T,b){T.Commands.add(b.cmdTglImages,{run:function(k){var E=k.getComponents();this.toggleImages(E)},stop:function(k){var E=k.getComponents();this.toggleImages(E,!0)},toggleImages:function(k,E){var L=this;E===void 0&&(E=!1);var R="##";k.forEach(function(z){if(z.get("type")==="image"){var N=z.get("src");E?N===R&&z.set("src",z.get("src_bkp")):N!==R&&(z.set("src_bkp",z.get("src")),z.set("src",R))}L.toggleImages(z.components(),E)})}})}(_,x),P.add(i,{run:function(T){return T.setDevice("Desktop")},stop:function(){}}),P.add(a,{run:function(T){return T.setDevice("Tablet")},stop:function(){}}),P.add(s,{run:function(T){return T.setDevice("Mobile portrait")},stop:function(){}}),P.add(l,{run:function(T){var b="core:canvas-clear";w?confirm(w)&&T.runCommand(b):T.runCommand(b)}})};var h=function(){return h=Object.assign||function(_){for(var x,P=1,w=arguments.length;P<w;P++)for(var T in x=arguments[P])Object.prototype.hasOwnProperty.call(x,T)&&(_[T]=x[T]);return _},h.apply(this,arguments)};let y=function(_,x){x===void 0&&(x={});var P=_.getConfig(),w=h({blocks:["sect100","sect50","sect30","sect37","button","divider","text","text-sect","image","quote","link","link-block","grid-items","list-items"],block:function(){return{}},juiceOpts:{},cmdOpenImport:"gjs-open-import-template",cmdTglImages:"gjs-toggle-images",cmdInlineHtml:"gjs-get-inlined-html",modalTitleImport:"Import template",modalTitleExport:"Export template",modalLabelImport:"",modalLabelExport:"",modalBtnImport:"Import",codeViewerTheme:"hopscotch",importPlaceholder:"",inlineCss:!0,cellStyle:{padding:"0",margin:"0","vertical-align":"top"},tableStyle:{height:"150px",margin:"0 auto 10px auto",padding:"5px 5px 5px 5px",width:"100%"},updateStyleManager:!0,showStylesOnChange:!0,showBlocksOnLoad:!0,useCustomTheme:!0,textCleanCanvas:"Are you sure you want to clear the canvas?"},x);if(P.devicePreviewMode=!0,w.useCustomTheme&&typeof window<"u"){var T="gjs-",b="";[["one","#373d49"],["two","#dae5e6"],["three","#4c9790"],["four","#35d7bb"]].forEach(function(E){var L=E[0],R=E[1];b+=`
        .`.concat(T).concat(L,`-bg {
          background-color: `).concat(R,`;
        }
        .`).concat(T).concat(L,`-color {
          color: `).concat(R,`;
        }
        .`).concat(T).concat(L,`-color-h:hover {
          color: `).concat(R,`;
        }
      `)});var k=document.createElement("style");k.innerText=b,document.head.appendChild(k)}g(_,w),function(E,L){E.Blocks;var R="",z="",N=L.tableStyle||{},j=L.cellStyle||{},D=function(I,Z){L.blocks.indexOf(I)>=0&&E.Blocks.add(I,r(r({select:!0},Z),L.block(I)))};for(var W in N)R+="".concat(W,": ").concat(N[W],"; ");for(var W in j)z+="".concat(W,": ").concat(j[W],"; ");D("sect100",{label:"1 Section",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(R,`">
        <tr>
          <td style="`).concat(z,`"></td>
        </tr>
      </table>
    `)}),D("sect50",{label:"1/2 Section",media:`<svg viewBox="0 0 23 24">
      <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(R,`">
        <tr>
          <td style="`).concat(z,` width: 50%"></td>
          <td style="`).concat(z,` width: 50%"></td>
        </tr>
      </table>
    `)}),D("sect30",{label:"1/3 Section",media:`<svg viewBox="0 0 23 24">
      <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(R,`">
        <tr>
          <td style="`).concat(z,` width: 33.3333%"></td>
          <td style="`).concat(z,` width: 33.3333%"></td>
          <td style="`).concat(z,` width: 33.3333%"></td>
        </tr>
      </table>
    `)}),D("sect37",{label:"3/7 Section",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"></path>
    </svg>`,content:`
      <table style="`.concat(R,`">
        <tr>
          <td style="`).concat(z,` width:30%"></td>
          <td style="`).concat(z,` width:70%"></td>
        </tr>
      </table>
    `)}),D("button",{label:"Button",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />
    </svg>`,content:'<a class="button">Button</a>'}),D("divider",{label:"Divider",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
    </svg>`,content:`
      <table style="width: 100%; margin-top: 10px; margin-bottom: 10px;">
        <tr>
          <td class="divider"></td>
        </tr>
      </table>
      <style>
        .divider {
          background-color: rgba(0, 0, 0, 0.1);
          height: 1px;
        }
      </style>
    `}),D("text",{label:"Text",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
    </svg>`,activate:!0,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}}),D("text-sect",{label:"Text Section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />
    </svg>`,content:`
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua
      </p>
    `}),D("image",{label:"Image",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
    </svg>`,activate:!0,content:{type:"image",style:{color:"black"}}}),D("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:'<blockquote class="quote">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit</blockquote>'}),D("link",{label:"Link",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",content:"Link",style:{color:"#3b97e3"}}}),D("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}});var q=`<table class="grid-item-card">
      <tr>
        <td class="grid-item-card-cell">
          <img class="grid-item-image" src="https://via.placeholder.com/250x150/78c5d6/fff/" alt="Image"/>
          <table class="grid-item-card-body">
            <tr>
              <td class="grid-item-card-content">
                <h1 class="card-title">Title here</h1>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>`;D("grid-items",{label:"Grid Items",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3"/>
    </svg>`,content:`
      <table class="grid-item-row">
        <tr>
          <td class="grid-item-cell2-l">`.concat(q,`</td>
          <td class="grid-item-cell2-r">`).concat(q,`</td>
        </tr>
      </table>
    `)});var J=`<table class="list-item">
      <tr>
        <td class="list-item-cell">
          <table class="list-item-content">
            <tr class="list-item-row">
              <td class="list-cell-left">
                <img class="list-item-image" src="https://via.placeholder.com/150/78c5d6/fff" alt="Image"/>
              </td>
              <td class="list-cell-right">
                <h1 class="card-title">Title here</h1>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>`;D("list-items",{label:"List Items",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 14H8V20H2M16 8H10V10H16M2 10H8V4H2M10 4V6H22V4M10 20H16V18H10M10 16H22V14H10"/>
    </svg>`,content:J+J})}(_,w),function(E,L){var R=E.Panels,z=L.cmdOpenImport,N=L.cmdTglImages,j="export-template",D="open-sm",W="open-tm",q="open-layers",J="open-blocks",I="sw-visibility",Z="fullscreen",et="preview",ut='style="display: block; max-width: 22px"';E.getConfig().showDevices=!1,R.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:i,command:i,active:!0,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:a,command:a,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:s,command:s,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:I,command:I,context:I,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:et,context:et,command:et,label:"<svg ".concat(ut,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:Z,command:Z,context:Z,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:j,command:j,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:z,command:z,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:N,command:N,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M5 3C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H14.09C14.03 20.67 14 20.34 14 20C14 19.32 14.12 18.64 14.35 18H5L8.5 13.5L11 16.5L14.5 12L16.73 14.97C17.7 14.34 18.84 14 20 14C20.34 14 20.67 14.03 21 14.09V5C21 3.89 20.1 3 19 3H5M16.47 17.88L18.59 20L16.47 22.12L17.88 23.54L20 21.41L22.12 23.54L23.54 22.12L21.41 20L23.54 17.88L22.12 16.46L20 18.59L17.88 16.47L16.46 17.88Z"/>
        </svg>`)},{id:"undo",command:"core:undo",label:"<svg ".concat(ut,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:"core:redo",label:"<svg ".concat(ut,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:l,command:l,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:D,command:D,active:!0,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:W,command:W,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:q,command:q,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:J,command:J,label:"<svg ".concat(ut,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]),L.showStylesOnChange&&E.on("component:selected",function(){var Rt=R.getButton("views",q);if((!Rt||!Rt.get("active"))&&E.getSelected()){var Gt=R.getButton("views",D);Gt?.set("active",!0)}}),E.onReady(function(){if(L.showBlocksOnLoad){var Rt=R.getButton("views",J);Rt?.set("active",!0)}})}(_,w),function(E,L){var R=E.StyleManager.getSectors();if(L.updateStyleManager){var z=[{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Left",property:"margin-left"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-decoration","font-style","vertical-align","text-shadow"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",type:"radio",defaults:"left",list:[{value:"left",name:"Left",className:"fa fa-align-left"},{value:"center",name:"Center",className:"fa fa-align-center"},{value:"right",name:"Right",className:"fa fa-align-right"},{value:"justify",name:"Justify",className:"fa fa-align-justify"}]},{property:"text-decoration",type:"radio",defaults:"none",list:[{value:"none",name:"None",className:"fa fa-times"},{value:"underline",name:"underline",className:"fa fa-underline"},{value:"line-through",name:"Line-through",className:"fa fa-strikethrough"}]},{property:"font-style",type:"radio",defaults:"normal",list:[{value:"normal",name:"Normal",className:"fa fa-font"},{value:"italic",name:"Italic",className:"fa fa-italic"}]},{property:"vertical-align",type:"select",defaults:"baseline",list:[{value:"baseline"},{value:"top"},{value:"middle"},{value:"bottom"}]},{property:"text-shadow",properties:[{name:"X position",property:"text-shadow-h"},{name:"Y position",property:"text-shadow-v"},{name:"Blur",property:"text-shadow-blur"},{name:"Color",property:"text-shadow-color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","border-collapse","border-radius","border","background"],properties:[{property:"background-color",name:"Background"},{property:"border-radius",properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border-collapse",type:"radio",defaults:"separate",list:[{value:"separate",name:"No"},{value:"collapse",name:"Yes"}]},{property:"border",properties:[{name:"Width",property:"border-width",defaults:"0"},{name:"Style",property:"border-style"},{name:"Color",property:"border-color"}]},{property:"background",properties:[{name:"Image",property:"background-image"},{name:"Repeat",property:"background-repeat"},{name:"Position",property:"background-position"},{name:"Attachment",property:"background-attachment"},{name:"Size",property:"background-size"}]}]}];E.onReady(function(){R.reset(),R.add(z)})}}(_,w)}})(),e})())});function sC(o){return new Sn(3e3,!1)}function z4(){return new Sn(3100,!1)}function j4(){return new Sn(3101,!1)}function H4(o){return new Sn(3001,!1)}function B4(o){return new Sn(3003,!1)}function U4(o){return new Sn(3004,!1)}function W4(o,n){return new Sn(3005,!1)}function G4(){return new Sn(3006,!1)}function K4(){return new Sn(3007,!1)}function q4(o,n){return new Sn(3008,!1)}function $4(o){return new Sn(3002,!1)}function Y4(o,n,t,e,r){return new Sn(3010,!1)}function X4(){return new Sn(3011,!1)}function Q4(){return new Sn(3012,!1)}function J4(){return new Sn(3200,!1)}function Z4(){return new Sn(3202,!1)}function tS(){return new Sn(3013,!1)}function eS(o){return new Sn(3014,!1)}function nS(o){return new Sn(3015,!1)}function rS(o){return new Sn(3016,!1)}function iS(o,n){return new Sn(3404,!1)}function oS(o){return new Sn(3502,!1)}function aS(o){return new Sn(3503,!1)}function sS(){return new Sn(3300,!1)}function lS(o){return new Sn(3504,!1)}function cS(o){return new Sn(3301,!1)}function dS(o,n){return new Sn(3302,!1)}function uS(o){return new Sn(3303,!1)}function pS(o,n){return new Sn(3400,!1)}function fS(o){return new Sn(3401,!1)}function gS(o){return new Sn(3402,!1)}function hS(o,n){return new Sn(3505,!1)}function Ts(o){switch(o.length){case 0:return new yc;case 1:return o[0];default:return new Um(o)}}function CC(o,n,t=new Map,e=new Map){let r=[],i=[],a=-1,s=null;if(n.forEach(l=>{let c=l.get("offset"),u=c==a,p=u&&s||new Map;l.forEach((g,h)=>{let y=h,_=g;if(h!=="offset")switch(y=o.normalizePropertyName(y,r),_){case ff:_=t.get(h);break;case ra:_=e.get(h);break;default:_=o.normalizeStyleValue(h,y,_,r);break}p.set(y,_)}),u||i.push(p),s=p,a=c}),r.length)throw oS(r);return i}function _1(o,n,t,e){switch(n){case"start":o.onStart(()=>e(t&&Xm(t,"start",o)));break;case"done":o.onDone(()=>e(t&&Xm(t,"done",o)));break;case"destroy":o.onDestroy(()=>e(t&&Xm(t,"destroy",o)));break}}function Xm(o,n,t){let e=t.totalTime,r=!!t.disabled,i=y1(o.element,o.triggerName,o.fromState,o.toState,n||o.phaseName,e??o.totalTime,r),a=o._data;return a!=null&&(i._data=a),i}function y1(o,n,t,e,r="",i=0,a){return{element:o,triggerName:n,fromState:t,toState:e,phaseName:r,totalTime:i,disabled:!!a}}function oo(o,n,t){let e=o.get(n);return e||o.set(n,e=t),e}function lC(o){let n=o.indexOf(":"),t=o.substring(1,n),e=o.slice(n+1);return[t,e]}var mS=typeof document>"u"?null:document.documentElement;function b1(o){let n=o.parentNode||o.host||null;return n===mS?null:n}function vS(o){return o.substring(1,6)=="ebkit"}var vl=null,cC=!1;function _S(o){vl||(vl=yS()||{},cC=vl.style?"WebkitAppearance"in vl.style:!1);let n=!0;return vl.style&&!vS(o)&&(n=o in vl.style,!n&&cC&&(n="Webkit"+o.charAt(0).toUpperCase()+o.slice(1)in vl.style)),n}function yS(){return typeof document<"u"?document.body:null}function xC(o,n){for(;n;){if(n===o)return!0;n=b1(n)}return!1}function OC(o,n,t){if(t)return Array.from(o.querySelectorAll(n));let e=o.querySelector(n);return e?[e]:[]}var C1=(()=>{class o{validateStyleProperty(t){return _S(t)}matchesElement(t,e){return!1}containsElement(t,e){return xC(t,e)}getParentElement(t){return b1(t)}query(t,e,r){return OC(t,e,r)}computeStyle(t,e,r){return r||""}animate(t,e,r,i,a,s=[],l){return new yc(r,i)}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275prov=_o({token:o,factory:o.\u0275fac})}}return o})(),bl=class{static{this.NOOP=new C1}},Cl=class{};var bS=1e3,PC="{{",CS="}}",MC="ng-enter",n1="ng-leave",bf="ng-trigger",Mf=".ng-trigger",dC="ng-animating",r1=".ng-animating";function Ia(o){if(typeof o=="number")return o;let n=o.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:i1(parseFloat(n[1]),n[2])}function i1(o,n){switch(n){case"s":return o*bS;default:return o}}function wf(o,n,t){return o.hasOwnProperty("duration")?o:xS(o,n,t)}function xS(o,n,t){let e=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,i=0,a="";if(typeof o=="string"){let s=o.match(e);if(s===null)return n.push(sC(o)),{duration:0,delay:0,easing:""};r=i1(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(i=i1(parseFloat(l),s[4]));let c=s[5];c&&(a=c)}else r=o;if(!t){let s=!1,l=n.length;r<0&&(n.push(z4()),s=!0),i<0&&(n.push(j4()),s=!0),s&&n.splice(l,0,sC(o))}return{duration:r,delay:i,easing:a}}function OS(o){return o.length?o[0]instanceof Map?o:o.map(n=>new Map(Object.entries(n))):[]}function ca(o,n,t){n.forEach((e,r)=>{let i=x1(r);t&&!t.has(r)&&t.set(r,o.style[i]),o.style[i]=e})}function yl(o,n){n.forEach((t,e)=>{let r=x1(e);o.style[r]=""})}function lu(o){return Array.isArray(o)?o.length==1?o[0]:pb(o):o}function PS(o,n,t){let e=n.params||{},r=wC(o);r.length&&r.forEach(i=>{e.hasOwnProperty(i)||t.push(H4(i))})}var o1=new RegExp(`${PC}\\s*(.+?)\\s*${CS}`,"g");function wC(o){let n=[];if(typeof o=="string"){let t;for(;t=o1.exec(o);)n.push(t[1]);o1.lastIndex=0}return n}function du(o,n,t){let e=`${o}`,r=e.replace(o1,(i,a)=>{let s=n[a];return s==null&&(t.push(B4(a)),s=""),s.toString()});return r==e?o:r}var MS=/-+([a-z0-9])/g;function x1(o){return o.replace(MS,(...n)=>n[1].toUpperCase())}function wS(o,n){return o===0||n===0}function SS(o,n,t){if(t.size&&n.length){let e=n[0],r=[];if(t.forEach((i,a)=>{e.has(a)||r.push(a),e.set(a,i)}),r.length)for(let i=1;i<n.length;i++){let a=n[i];r.forEach(s=>a.set(s,O1(o,s)))}}return n}function io(o,n,t){switch(n.type){case bn.Trigger:return o.visitTrigger(n,t);case bn.State:return o.visitState(n,t);case bn.Transition:return o.visitTransition(n,t);case bn.Sequence:return o.visitSequence(n,t);case bn.Group:return o.visitGroup(n,t);case bn.Animate:return o.visitAnimate(n,t);case bn.Keyframes:return o.visitKeyframes(n,t);case bn.Style:return o.visitStyle(n,t);case bn.Reference:return o.visitReference(n,t);case bn.AnimateChild:return o.visitAnimateChild(n,t);case bn.AnimateRef:return o.visitAnimateRef(n,t);case bn.Query:return o.visitQuery(n,t);case bn.Stagger:return o.visitStagger(n,t);default:throw U4(n.type)}}function O1(o,n){return window.getComputedStyle(o)[n]}var TS=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Sf=class extends Cl{normalizePropertyName(n,t){return x1(n)}normalizeStyleValue(n,t,e,r){let i="",a=e.toString().trim();if(TS.has(t)&&e!==0&&e!=="0")if(typeof e=="number")i="px";else{let s=e.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(W4(n,e))}return a+i}};var Tf="*";function ES(o,n){let t=[];return typeof o=="string"?o.split(/\s*,\s*/).forEach(e=>kS(e,t,n)):t.push(o),t}function kS(o,n,t){if(o[0]==":"){let l=AS(o,t);if(typeof l=="function"){n.push(l);return}o=l}let e=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(e==null||e.length<4)return t.push(nS(o)),n;let r=e[1],i=e[2],a=e[3];n.push(uC(r,a));let s=r==Tf&&a==Tf;i[0]=="<"&&!s&&n.push(uC(a,r))}function AS(o,n){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return n.push(rS(o)),"* => *"}}var Cf=new Set(["true","1"]),xf=new Set(["false","0"]);function uC(o,n){let t=Cf.has(o)||xf.has(o),e=Cf.has(n)||xf.has(n);return(r,i)=>{let a=o==Tf||o==r,s=n==Tf||n==i;return!a&&t&&typeof r=="boolean"&&(a=r?Cf.has(o):xf.has(o)),!s&&e&&typeof i=="boolean"&&(s=i?Cf.has(n):xf.has(n)),a&&s}}var SC=":self",IS=new RegExp(`s*${SC}s*,?`,"g");function TC(o,n,t,e){return new a1(o).build(n,t,e)}var pC="",a1=class{constructor(n){this._driver=n}build(n,t,e){let r=new s1(t);return this._resetContextStyleTimingState(r),io(this,lu(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector=pC,n.collectedStyles=new Map,n.collectedStyles.set(pC,new Map),n.currentTime=0}visitTrigger(n,t){let e=t.queryCount=0,r=t.depCount=0,i=[],a=[];return n.name.charAt(0)=="@"&&t.errors.push(G4()),n.definitions.forEach(s=>{if(this._resetContextStyleTimingState(t),s.type==bn.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,i.push(this.visitState(l,t))}),l.name=c}else if(s.type==bn.Transition){let l=this.visitTransition(s,t);e+=l.queryCount,r+=l.depCount,a.push(l)}else t.errors.push(K4())}),{type:bn.Trigger,name:n.name,states:i,transitions:a,queryCount:e,depCount:r,options:null}}visitState(n,t){let e=this.visitStyle(n.styles,t),r=n.options&&n.options.params||null;if(e.containsDynamicStyles){let i=new Set,a=r||{};e.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{wC(l).forEach(c=>{a.hasOwnProperty(c)||i.add(c)})})}),i.size&&t.errors.push(q4(n.name,[...i.values()]))}return{type:bn.State,name:n.name,style:e,options:r?{params:r}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;let e=io(this,lu(n.animation),t),r=ES(n.expr,t.errors);return{type:bn.Transition,matchers:r,animation:e,queryCount:t.queryCount,depCount:t.depCount,options:_l(n.options)}}visitSequence(n,t){return{type:bn.Sequence,steps:n.steps.map(e=>io(this,e,t)),options:_l(n.options)}}visitGroup(n,t){let e=t.currentTime,r=0,i=n.steps.map(a=>{t.currentTime=e;let s=io(this,a,t);return r=Math.max(r,t.currentTime),s});return t.currentTime=r,{type:bn.Group,steps:i,options:_l(n.options)}}visitAnimate(n,t){let e=RS(n.timings,t.errors);t.currentAnimateTimings=e;let r,i=n.styles?n.styles:$e({});if(i.type==bn.Keyframes)r=this.visitKeyframes(i,t);else{let a=n.styles,s=!1;if(!a){s=!0;let c={};e.easing&&(c.easing=e.easing),a=$e(c)}t.currentTime+=e.duration+e.delay;let l=this.visitStyle(a,t);l.isEmptyStep=s,r=l}return t.currentAnimateTimings=null,{type:bn.Animate,timings:e,style:r,options:null}}visitStyle(n,t){let e=this._makeStyleAst(n,t);return this._validateStyleAst(e,t),e}_makeStyleAst(n,t){let e=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let s of r)typeof s=="string"?s===ra?e.push(s):t.errors.push($4(s)):e.push(new Map(Object.entries(s)));let i=!1,a=null;return e.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!i)){for(let l of s.values())if(l.toString().indexOf(PC)>=0){i=!0;break}}}),{type:bn.Style,styles:e,easing:a,offset:n.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(n,t){let e=t.currentAnimateTimings,r=t.currentTime,i=t.currentTime;e&&i>0&&(i-=e.duration+e.delay),n.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),p=!0;u&&(i!=r&&i>=u.startTime&&r<=u.endTime&&(t.errors.push(Y4(l,u.startTime,u.endTime,i,r)),p=!1),i=u.startTime),p&&c.set(l,{startTime:i,endTime:r}),t.options&&PS(s,t.options,t.errors)})})}visitKeyframes(n,t){let e={type:bn.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(X4()),e;let r=1,i=0,a=[],s=!1,l=!1,c=0,u=n.steps.map(P=>{let w=this._makeStyleAst(P,t),T=w.offset!=null?w.offset:NS(w.styles),b=0;return T!=null&&(i++,b=w.offset=T),l=l||b<0||b>1,s=s||b<c,c=b,a.push(b),w});l&&t.errors.push(Q4()),s&&t.errors.push(J4());let p=n.steps.length,g=0;i>0&&i<p?t.errors.push(Z4()):i==0&&(g=r/(p-1));let h=p-1,y=t.currentTime,_=t.currentAnimateTimings,x=_.duration;return u.forEach((P,w)=>{let T=g>0?w==h?1:g*w:a[w],b=T*x;t.currentTime=y+_.delay+b,_.duration=b,this._validateStyleAst(P,t),P.offset=T,e.styles.push(P)}),e}visitReference(n,t){return{type:bn.Reference,animation:io(this,lu(n.animation),t),options:_l(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:bn.AnimateChild,options:_l(n.options)}}visitAnimateRef(n,t){return{type:bn.AnimateRef,animation:this.visitReference(n.animation,t),options:_l(n.options)}}visitQuery(n,t){let e=t.currentQuerySelector,r=n.options||{};t.queryCount++,t.currentQuery=n;let[i,a]=DS(n.selector);t.currentQuerySelector=e.length?e+" "+i:i,oo(t.collectedStyles,t.currentQuerySelector,new Map);let s=io(this,lu(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=e,{type:bn.Query,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:n.selector,options:_l(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(tS());let e=n.timings==="full"?{duration:0,delay:0,easing:"full"}:wf(n.timings,t.errors,!0);return{type:bn.Stagger,animation:io(this,lu(n.animation),t),timings:e,options:null}}};function DS(o){let n=!!o.split(/\s*,\s*/).find(t=>t==SC);return n&&(o=o.replace(IS,"")),o=o.replace(/@\*/g,Mf).replace(/@\w+/g,t=>Mf+"-"+t.slice(1)).replace(/:animating/g,r1),[o,n]}function LS(o){return o?Tr({},o):null}var s1=class{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function NS(o){if(typeof o=="string")return null;let n=null;if(Array.isArray(o))o.forEach(t=>{if(t instanceof Map&&t.has("offset")){let e=t;n=parseFloat(e.get("offset")),e.delete("offset")}});else if(o instanceof Map&&o.has("offset")){let t=o;n=parseFloat(t.get("offset")),t.delete("offset")}return n}function RS(o,n){if(o.hasOwnProperty("duration"))return o;if(typeof o=="number"){let i=wf(o,n).duration;return Qm(i,0,"")}let t=o;if(t.split(/\s+/).some(i=>i.charAt(0)=="{"&&i.charAt(1)=="{")){let i=Qm(0,0,"");return i.dynamic=!0,i.strValue=t,i}let r=wf(t,n);return Qm(r.duration,r.delay,r.easing)}function _l(o){return o?(o=Tr({},o),o.params&&(o.params=LS(o.params))):o={},o}function Qm(o,n,t){return{duration:o,delay:n,easing:t}}function P1(o,n,t,e,r,i,a=null,s=!1){return{type:1,element:o,keyframes:n,preStyleProps:t,postStyleProps:e,duration:r,delay:i,totalTime:r+i,easing:a,subTimeline:s}}var uu=class{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let e=this._map.get(n);e||this._map.set(n,e=[]),e.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}},FS=1,VS=":enter",zS=new RegExp(VS,"g"),jS=":leave",HS=new RegExp(jS,"g");function EC(o,n,t,e,r,i=new Map,a=new Map,s,l,c=[]){return new l1().buildKeyframes(o,n,t,e,r,i,a,s,l,c)}var l1=class{buildKeyframes(n,t,e,r,i,a,s,l,c,u=[]){c=c||new uu;let p=new c1(n,t,c,r,i,u,[]);p.options=l;let g=l.delay?Ia(l.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([a],null,p.errors,l),io(this,e,p);let h=p.timelines.filter(y=>y.containsAnimation());if(h.length&&s.size){let y;for(let _=h.length-1;_>=0;_--){let x=h[_];if(x.element===t){y=x;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([s],null,p.errors,l)}return h.length?h.map(y=>y.buildKeyframes()):[P1(t,[],[],[],0,g,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){let e=t.subInstructions.get(t.element);if(e){let r=t.createSubContext(n.options),i=t.currentTimeline.currentTime,a=this._visitSubInstructions(e,r,r.options);i!=a&&t.transformIntoNewTimeline(a)}t.previousNode=n}visitAnimateRef(n,t){let e=t.createSubContext(n.options);e.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,e),this.visitReference(n.animation,e),t.transformIntoNewTimeline(e.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,e){for(let r of n){let i=r?.delay;if(i){let a=typeof i=="number"?i:Ia(du(i,r?.params??{},t.errors));e.delayNextStep(a)}}}_visitSubInstructions(n,t,e){let i=t.currentTimeline.currentTime,a=e.duration!=null?Ia(e.duration):null,s=e.delay!=null?Ia(e.delay):null;return a!==0&&n.forEach(l=>{let c=t.appendInstructionToTimeline(l,a,s);i=Math.max(i,c.duration+c.delay)}),i}visitReference(n,t){t.updateOptions(n.options,!0),io(this,n.animation,t),t.previousNode=n}visitSequence(n,t){let e=t.subContextCount,r=t,i=n.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),i.delay!=null)){r.previousNode.type==bn.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ef);let a=Ia(i.delay);r.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>io(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>e&&r.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){let e=[],r=t.currentTimeline.currentTime,i=n.options&&n.options.delay?Ia(n.options.delay):0;n.steps.forEach(a=>{let s=t.createSubContext(n.options);i&&s.delayNextStep(i),io(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),e.push(s.currentTimeline)}),e.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(r),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){let e=n.strValue,r=t.params?du(e,t.params,t.errors):e;return wf(r,t.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){let e=t.currentAnimateTimings=this._visitTiming(n.timings,t),r=t.currentTimeline;e.delay&&(t.incrementTime(e.delay),r.snapshotCurrentStyles());let i=n.style;i.type==bn.Keyframes?this.visitKeyframes(i,t):(t.incrementTime(e.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){let e=t.currentTimeline,r=t.currentAnimateTimings;!r&&e.hasCurrentStyleProperties()&&e.forwardFrame();let i=r&&r.easing||n.easing;n.isEmptyStep?e.applyEmptyStep(i):e.setStyles(n.styles,i,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){let e=t.currentAnimateTimings,r=t.currentTimeline.duration,i=e.duration,s=t.createSubContext().currentTimeline;s.easing=e.easing,n.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*i),s.setStyles(l.styles,l.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=n}visitQuery(n,t){let e=t.currentTimeline.currentTime,r=n.options||{},i=r.delay?Ia(r.delay):0;i&&(t.previousNode.type===bn.Style||e==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ef);let a=e,s=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{t.currentQueryIndex=u;let p=t.createSubContext(n.options,c);i&&p.delayNextStep(i),c===t.element&&(l=p.currentTimeline),io(this,n.animation,p),p.currentTimeline.applyStylesToKeyframe();let g=p.currentTimeline.currentTime;a=Math.max(a,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){let e=t.parentContext,r=t.currentTimeline,i=n.timings,a=Math.abs(i.duration),s=a*(t.currentQueryTotal-1),l=a*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":l=s-l;break;case"full":l=e.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let p=u.currentTime;io(this,n.animation,t),t.previousNode=n,e.currentStaggerTime=r.currentTime-p+(r.startTime-e.currentTimeline.startTime)}},Ef={},c1=class o{constructor(n,t,e,r,i,a,s,l){this._driver=n,this.element=t,this.subInstructions=e,this._enterClassName=r,this._leaveClassName=i,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ef,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new kf(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;let e=n,r=this.options;e.duration!=null&&(r.duration=Ia(e.duration)),e.delay!=null&&(r.delay=Ia(e.delay));let i=e.params;if(i){let a=r.params;a||(a=this.options.params={}),Object.keys(i).forEach(s=>{(!t||!a.hasOwnProperty(s))&&(a[s]=du(i[s],a,this.errors))})}}_copyOptions(){let n={};if(this.options){let t=this.options.params;if(t){let e=n.params={};Object.keys(t).forEach(r=>{e[r]=t[r]})}}return n}createSubContext(n=null,t,e){let r=t||this.element,i=new o(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,e||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(n),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(n){return this.previousNode=Ef,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,e){let r={duration:t??n.duration,delay:this.currentTimeline.currentTime+(e??0)+n.delay,easing:""},i=new d1(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,e,r,i,a){let s=[];if(r&&s.push(this.element),n.length>0){n=n.replace(zS,"."+this._enterClassName),n=n.replace(HS,"."+this._leaveClassName);let l=e!=1,c=this._driver.query(this.element,n,l);e!==0&&(c=e<0?c.slice(c.length+e,c.length):c.slice(0,e)),s.push(...c)}return!i&&s.length==0&&a.push(eS(t)),s}},kf=class o{constructor(n,t,e,r){this._driver=n,this.element=t,this.startTime=e,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new o(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=FS,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,e]of this._globalTimelineStyles)this._backFill.set(t,e||ra),this._currentKeyframe.set(t,ra);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,e,r){t&&this._previousKeyframe.set("easing",t);let i=r&&r.params||{},a=BS(n,this._globalTimelineStyles);for(let[s,l]of a){let c=du(l,i,e);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??ra),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,e)=>{let r=this._styleSummary.get(e);(!r||t.time>r.time)&&this._updateStyle(e,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,t=new Set,e=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((u,p)=>{u===ff?n.add(p):u===ra&&t.add(p)}),e||c.set("offset",l/this.duration),r.push(c)});let i=[...n.values()],a=[...t.values()];if(e){let s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return P1(this.element,r,i,a,this.duration,this.startTime,this.easing,!1)}},d1=class extends kf{constructor(n,t,e,r,i,a,s=!1){super(n,t,a.delay),this.keyframes=e,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:e,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let i=[],a=e+t,s=t/a,l=new Map(n[0]);l.set("offset",0),i.push(l);let c=new Map(n[0]);c.set("offset",fC(s)),i.push(c);let u=n.length-1;for(let p=1;p<=u;p++){let g=new Map(n[p]),h=g.get("offset"),y=t+h*e;g.set("offset",fC(y/a)),i.push(g)}e=a,t=0,r="",n=i}return P1(this.element,n,this.preStyleProps,this.postStyleProps,e,t,r,!0)}};function fC(o,n=3){let t=Math.pow(10,n-1);return Math.round(o*t)/t}function BS(o,n){let t=new Map,e;return o.forEach(r=>{if(r==="*"){e??=n.keys();for(let i of e)t.set(i,ra)}else for(let[i,a]of r)t.set(i,a)}),t}function gC(o,n,t,e,r,i,a,s,l,c,u,p,g){return{type:0,element:o,triggerName:n,isRemovalTransition:r,fromState:t,fromStyles:i,toState:e,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:p,errors:g}}var Jm={},Af=class{constructor(n,t,e){this._triggerName=n,this.ast=t,this._stateStyles=e}match(n,t,e,r){return US(this.ast.matchers,n,t,e,r)}buildStyles(n,t,e){let r=this._stateStyles.get("*");return n!==void 0&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(t,e):new Map}build(n,t,e,r,i,a,s,l,c,u){let p=[],g=this.ast.options&&this.ast.options.params||Jm,h=s&&s.params||Jm,y=this.buildStyles(e,h,p),_=l&&l.params||Jm,x=this.buildStyles(r,_,p),P=new Set,w=new Map,T=new Map,b=r==="void",k={params:kC(_,g),delay:this.ast.options?.delay},E=u?[]:EC(n,t,this.ast.animation,i,a,y,x,k,c,p),L=0;return E.forEach(R=>{L=Math.max(R.duration+R.delay,L)}),p.length?gC(t,this._triggerName,e,r,b,y,x,[],[],w,T,L,p):(E.forEach(R=>{let z=R.element,N=oo(w,z,new Set);R.preStyleProps.forEach(D=>N.add(D));let j=oo(T,z,new Set);R.postStyleProps.forEach(D=>j.add(D)),z!==t&&P.add(z)}),gC(t,this._triggerName,e,r,b,y,x,E,[...P.values()],w,T,L))}};function US(o,n,t,e,r){return o.some(i=>i(n,t,e,r))}function kC(o,n){let t=Tr({},n);return Object.entries(o).forEach(([e,r])=>{r!=null&&(t[e]=r)}),t}var u1=class{constructor(n,t,e){this.styles=n,this.defaultParams=t,this.normalizer=e}buildStyles(n,t){let e=new Map,r=kC(n,this.defaultParams);return this.styles.styles.forEach(i=>{typeof i!="string"&&i.forEach((a,s)=>{a&&(a=du(a,r,t));let l=this.normalizer.normalizePropertyName(s,t);a=this.normalizer.normalizeStyleValue(s,l,a,t),e.set(s,a)})}),e}};function WS(o,n,t){return new p1(o,n,t)}var p1=class{constructor(n,t,e){this.name=n,this.ast=t,this._normalizer=e,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let i=r.options&&r.options.params||{};this.states.set(r.name,new u1(r.style,i,e))}),hC(this.states,"true","1"),hC(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Af(n,r,this.states))}),this.fallbackTransition=GS(n,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,e,r){return this.transitionFactories.find(a=>a.match(n,t,e,r))||null}matchStyles(n,t,e){return this.fallbackTransition.buildStyles(n,t,e)}};function GS(o,n,t){let e=[(a,s)=>!0],r={type:bn.Sequence,steps:[],options:null},i={type:bn.Transition,animation:r,matchers:e,options:null,queryCount:0,depCount:0};return new Af(o,i,n)}function hC(o,n,t){o.has(n)?o.has(t)||o.set(t,o.get(n)):o.has(t)&&o.set(n,o.get(t))}var KS=new uu,f1=class{constructor(n,t,e){this.bodyNode=n,this._driver=t,this._normalizer=e,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){let e=[],r=[],i=TC(this._driver,t,e,r);if(e.length)throw aS(e);r.length&&void 0,this._animations.set(n,i)}_buildPlayer(n,t,e){let r=n.element,i=CC(this._normalizer,n.keyframes,t,e);return this._driver.animate(r,i,n.duration,n.delay,n.easing,[],!0)}create(n,t,e={}){let r=[],i=this._animations.get(n),a,s=new Map;if(i?(a=EC(this._driver,t,i,MC,n1,new Map,new Map,e,KS,r),a.forEach(u=>{let p=oo(s,u.element,new Map);u.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(sS()),a=[]),r.length)throw lS(r);s.forEach((u,p)=>{u.forEach((g,h)=>{u.set(h,this._driver.computeStyle(p,h,ra))})});let l=a.map(u=>{let p=s.get(u.element);return this._buildPlayer(u,new Map,p)}),c=Ts(l);return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){let t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);let e=this.players.indexOf(t);e>=0&&this.players.splice(e,1)}_getPlayer(n){let t=this._playersById.get(n);if(!t)throw cS(n);return t}listen(n,t,e,r){let i=y1(t,"","","");return _1(this._getPlayer(n),e,i,r),()=>{}}command(n,t,e,r){if(e=="register"){this.register(n,r[0]);return}if(e=="create"){let a=r[0]||{};this.create(n,t,a);return}let i=this._getPlayer(n);switch(e){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n);break}}},mC="ng-animate-queued",qS=".ng-animate-queued",Zm="ng-animate-disabled",$S=".ng-animate-disabled",YS="ng-star-inserted",XS=".ng-star-inserted",QS=[],AC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Go="__ng_removed",pu=class{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;let e=n&&n.hasOwnProperty("value"),r=e?n.value:n;if(this.value=tT(r),e){let i=n,{value:a}=i,s=Vy(i,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let t=n.params;if(t){let e=this.options.params;Object.keys(t).forEach(r=>{e[r]==null&&(e[r]=t[r])})}}},cu="void",t1=new pu(cu),g1=class{constructor(n,t,e){this.id=n,this.hostElement=t,this._engine=e,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Po(t,this._hostClassName)}listen(n,t,e,r){if(!this._triggers.has(t))throw dS(e,t);if(e==null||e.length==0)throw uS(t);if(!eT(e))throw pS(e,t);let i=oo(this._elementListeners,n,[]),a={name:t,phase:e,callback:r};i.push(a);let s=oo(this._engine.statesByElement,n,new Map);return s.has(t)||(Po(n,bf),Po(n,bf+"-"+t),s.set(t,t1)),()=>{this._engine.afterFlush(()=>{let l=i.indexOf(a);l>=0&&i.splice(l,1),this._triggers.has(t)||s.delete(t)})}}register(n,t){return this._triggers.has(n)?!1:(this._triggers.set(n,t),!0)}_getTrigger(n){let t=this._triggers.get(n);if(!t)throw fS(n);return t}trigger(n,t,e,r=!0){let i=this._getTrigger(t),a=new fu(this.id,t,n),s=this._engine.statesByElement.get(n);s||(Po(n,bf),Po(n,bf+"-"+t),this._engine.statesByElement.set(n,s=new Map));let l=s.get(t),c=new pu(e,this.id);if(!(e&&e.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(t,c),l||(l=t1),!(c.value===cu)&&l.value===c.value){if(!iT(l.params,c.params)){let _=[],x=i.matchStyles(l.value,l.params,_),P=i.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{yl(n,x),ca(n,P)})}return}let g=oo(this._engine.playersByElement,n,[]);g.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let h=i.matchTransition(l.value,c.value,n,c.params),y=!1;if(!h){if(!r)return;h=i.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:h,fromState:l,toState:c,player:a,isFallbackTransition:y}),y||(Po(n,mC),a.onStart(()=>{Mc(n,mC)})),a.onDone(()=>{let _=this.players.indexOf(a);_>=0&&this.players.splice(_,1);let x=this._engine.playersByElement.get(n);if(x){let P=x.indexOf(a);P>=0&&x.splice(P,1)}}),this.players.push(a),g.push(a),a}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,e)=>{this._elementListeners.set(e,t.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let t=this._engine.playersByElement.get(n);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){let e=this._engine.driver.query(n,Mf,!0);e.forEach(r=>{if(r[Go])return;let i=this._engine.fetchNamespacesByElement(r);i.size?i.forEach(a=>a.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>e.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,t,e,r){let i=this._engine.statesByElement.get(n),a=new Map;if(i){let s=[];if(i.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){let u=this.trigger(n,c,cu,r);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,a),e&&Ts(s).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let t=this._elementListeners.get(n),e=this._engine.statesByElement.get(n);if(t&&e){let r=new Set;t.forEach(i=>{let a=i.name;if(r.has(a))return;r.add(a);let l=this._triggers.get(a).fallbackTransition,c=e.get(a)||t1,u=new pu(cu),p=new fu(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:l,fromState:c,toState:u,player:p,isFallbackTransition:!0})})}}removeNode(n,t){let e=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let r=!1;if(e.totalAnimations){let i=e.players.length?e.playersByQueriedElement.get(n):[];if(i&&i.length)r=!0;else{let a=n;for(;a=a.parentNode;)if(e.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)e.markElementAsRemoved(this.id,n,!1,t);else{let i=n[Go];(!i||i===AC)&&(e.afterFlush(()=>this.clearElementCache(n)),e.destroyInnerAnimations(n),e._onRemovalComplete(n,t))}}insertNode(n,t){Po(n,this._hostClassName)}drainQueuedTransitions(n){let t=[];return this._queue.forEach(e=>{let r=e.player;if(r.destroyed)return;let i=e.element,a=this._elementListeners.get(i);a&&a.forEach(s=>{if(s.name==e.triggerName){let l=y1(i,e.triggerName,e.fromState.value,e.toState.value);l._data=n,_1(e.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(e)}),this._queue=[],t.sort((e,r)=>{let i=e.transition.ast.depCount,a=r.transition.ast.depCount;return i==0||a==0?i-a:this._engine.driver.containsElement(e.element,r.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},h1=class{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,e,r){this.bodyNode=n,this.driver=t,this._normalizer=e,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){let n=[];return this._namespaceList.forEach(t=>{t.players.forEach(e=>{e.queued&&n.push(e)})}),n}createNamespace(n,t){let e=new g1(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(e,t):(this.newHostElements.set(t,e),this.collectEnterElement(t)),this._namespaceLookup[n]=e}_balanceNamespaceList(n,t){let e=this._namespaceList,r=this.namespacesByHostElement;if(e.length-1>=0){let a=!1,s=this.driver.getParentElement(t);for(;s;){let l=r.get(s);if(l){let c=e.indexOf(l);e.splice(c+1,0,n),a=!0;break}s=this.driver.getParentElement(s)}a||e.unshift(n)}else e.push(n);return r.set(t,n),n}register(n,t){let e=this._namespaceLookup[n];return e||(e=this.createNamespace(n,t)),e}registerTrigger(n,t,e){let r=this._namespaceLookup[n];r&&r.register(t,e)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let e=this._fetchNamespace(n);this.namespacesByHostElement.delete(e.hostElement);let r=this._namespaceList.indexOf(e);r>=0&&this._namespaceList.splice(r,1),e.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let t=new Set,e=this.statesByElement.get(n);if(e){for(let r of e.values())if(r.namespaceId){let i=this._fetchNamespace(r.namespaceId);i&&t.add(i)}}return t}trigger(n,t,e,r){if(Of(t)){let i=this._fetchNamespace(n);if(i)return i.trigger(t,e,r),!0}return!1}insertNode(n,t,e,r){if(!Of(t))return;let i=t[Go];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;let a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){let a=this._fetchNamespace(n);a&&a.insertNode(t,e)}r&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Po(n,Zm)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Mc(n,Zm))}removeNode(n,t,e){if(Of(t)){this.scheduler?.notify();let r=n?this._fetchNamespace(n):null;r?r.removeNode(t,e):this.markElementAsRemoved(n,t,!1,e);let i=this.namespacesByHostElement.get(t);i&&i.id!==n&&i.removeNode(t,e)}else this._onRemovalComplete(t,e)}markElementAsRemoved(n,t,e,r,i){this.collectedLeaveElements.push(t),t[Go]={namespaceId:n,setForRemoval:r,hasAnimation:e,removedBeforeQueried:!1,previousTriggersValues:i}}listen(n,t,e,r,i){return Of(t)?this._fetchNamespace(n).listen(t,e,r,i):()=>{}}_buildInstruction(n,t,e,r,i){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,e,r,n.fromState.options,n.toState.options,t,i)}destroyInnerAnimations(n){let t=this.driver.query(n,Mf,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(n,r1,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(n){let t=this.playersByElement.get(n);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(n){let t=this.playersByQueriedElement.get(n);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Ts(this.players).onDone(()=>n());n()})}processLeaveNode(n){let t=n[Go];if(t&&t.setForRemoval){if(n[Go]=AC,t.namespaceId){this.destroyInnerAnimations(n);let e=this._fetchNamespace(t.namespaceId);e&&e.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(Zm)&&this.markElementAsDisabled(n,!1),this.driver.query(n,$S,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,r)=>this._balanceNamespaceList(e,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let e=0;e<this.collectedEnterElements.length;e++){let r=this.collectedEnterElements[e];Po(r,YS)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let e=[];try{t=this._flushAnimations(e,n)}finally{for(let r=0;r<e.length;r++)e[r]()}}else for(let e=0;e<this.collectedLeaveElements.length;e++){let r=this.collectedLeaveElements[e];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){let e=this._whenQuietFns;this._whenQuietFns=[],t.length?Ts(t).onDone(()=>{e.forEach(r=>r())}):e.forEach(r=>r())}}reportError(n){throw gS(n)}_flushAnimations(n,t){let e=new uu,r=[],i=new Map,a=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(I=>{u.add(I);let Z=this.driver.query(I,qS,!0);for(let et=0;et<Z.length;et++)u.add(Z[et])});let p=this.bodyNode,g=Array.from(this.statesByElement.keys()),h=yC(g,this.collectedEnterElements),y=new Map,_=0;h.forEach((I,Z)=>{let et=MC+_++;y.set(Z,et),I.forEach(ut=>Po(ut,et))});let x=[],P=new Set,w=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){let Z=this.collectedLeaveElements[I],et=Z[Go];et&&et.setForRemoval&&(x.push(Z),P.add(Z),et.hasAnimation?this.driver.query(Z,XS,!0).forEach(ut=>P.add(ut)):w.add(Z))}let T=new Map,b=yC(g,Array.from(P));b.forEach((I,Z)=>{let et=n1+_++;T.set(Z,et),I.forEach(ut=>Po(ut,et))}),n.push(()=>{h.forEach((I,Z)=>{let et=y.get(Z);I.forEach(ut=>Mc(ut,et))}),b.forEach((I,Z)=>{let et=T.get(Z);I.forEach(ut=>Mc(ut,et))}),x.forEach(I=>{this.processLeaveNode(I)})});let k=[],E=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(t).forEach(et=>{let ut=et.player,Rt=et.element;if(k.push(ut),this.collectedEnterElements.length){let Et=Rt[Go];if(Et&&Et.setForMove){if(Et.previousTriggersValues&&Et.previousTriggersValues.has(et.triggerName)){let Nt=Et.previousTriggersValues.get(et.triggerName),Ht=this.statesByElement.get(et.element);if(Ht&&Ht.has(et.triggerName)){let It=Ht.get(et.triggerName);It.value=Nt,Ht.set(et.triggerName,It)}}ut.destroy();return}}let Gt=!p||!this.driver.containsElement(p,Rt),Pt=T.get(Rt),_t=y.get(Rt),rt=this._buildInstruction(et,e,_t,Pt,Gt);if(rt.errors&&rt.errors.length){E.push(rt);return}if(Gt){ut.onStart(()=>yl(Rt,rt.fromStyles)),ut.onDestroy(()=>ca(Rt,rt.toStyles)),r.push(ut);return}if(et.isFallbackTransition){ut.onStart(()=>yl(Rt,rt.fromStyles)),ut.onDestroy(()=>ca(Rt,rt.toStyles)),r.push(ut);return}let ft=[];rt.timelines.forEach(Et=>{Et.stretchStartingKeyframe=!0,this.disabledNodes.has(Et.element)||ft.push(Et)}),rt.timelines=ft,e.append(Rt,rt.timelines);let wt={instruction:rt,player:ut,element:Rt};a.push(wt),rt.queriedElements.forEach(Et=>oo(s,Et,[]).push(ut)),rt.preStyleProps.forEach((Et,Nt)=>{if(Et.size){let Ht=l.get(Nt);Ht||l.set(Nt,Ht=new Set),Et.forEach((It,at)=>Ht.add(at))}}),rt.postStyleProps.forEach((Et,Nt)=>{let Ht=c.get(Nt);Ht||c.set(Nt,Ht=new Set),Et.forEach((It,at)=>Ht.add(at))})});if(E.length){let I=[];E.forEach(Z=>{I.push(hS(Z.triggerName,Z.errors))}),k.forEach(Z=>Z.destroy()),this.reportError(I)}let L=new Map,R=new Map;a.forEach(I=>{let Z=I.element;e.has(Z)&&(R.set(Z,Z),this._beforeAnimationBuild(I.player.namespaceId,I.instruction,L))}),r.forEach(I=>{let Z=I.element;this._getPreviousPlayers(Z,!1,I.namespaceId,I.triggerName,null).forEach(ut=>{oo(L,Z,[]).push(ut),ut.destroy()})});let z=x.filter(I=>bC(I,l,c)),N=new Map;_C(N,this.driver,w,c,ra).forEach(I=>{bC(I,l,c)&&z.push(I)});let D=new Map;h.forEach((I,Z)=>{_C(D,this.driver,new Set(I),l,ff)}),z.forEach(I=>{let Z=N.get(I),et=D.get(I);N.set(I,new Map([...Z?.entries()??[],...et?.entries()??[]]))});let W=[],q=[],J={};a.forEach(I=>{let{element:Z,player:et,instruction:ut}=I;if(e.has(Z)){if(u.has(Z)){et.onDestroy(()=>ca(Z,ut.toStyles)),et.disabled=!0,et.overrideTotalTime(ut.totalTime),r.push(et);return}let Rt=J;if(R.size>1){let Pt=Z,_t=[];for(;Pt=Pt.parentNode;){let rt=R.get(Pt);if(rt){Rt=rt;break}_t.push(Pt)}_t.forEach(rt=>R.set(rt,Rt))}let Gt=this._buildAnimation(et.namespaceId,ut,L,i,D,N);if(et.setRealPlayer(Gt),Rt===J)W.push(et);else{let Pt=this.playersByElement.get(Rt);Pt&&Pt.length&&(et.parentPlayer=Ts(Pt)),r.push(et)}}else yl(Z,ut.fromStyles),et.onDestroy(()=>ca(Z,ut.toStyles)),q.push(et),u.has(Z)&&r.push(et)}),q.forEach(I=>{let Z=i.get(I.element);if(Z&&Z.length){let et=Ts(Z);I.setRealPlayer(et)}}),r.forEach(I=>{I.parentPlayer?I.syncPlayerEvents(I.parentPlayer):I.destroy()});for(let I=0;I<x.length;I++){let Z=x[I],et=Z[Go];if(Mc(Z,n1),et&&et.hasAnimation)continue;let ut=[];if(s.size){let Gt=s.get(Z);Gt&&Gt.length&&ut.push(...Gt);let Pt=this.driver.query(Z,r1,!0);for(let _t=0;_t<Pt.length;_t++){let rt=s.get(Pt[_t]);rt&&rt.length&&ut.push(...rt)}}let Rt=ut.filter(Gt=>!Gt.destroyed);Rt.length?nT(this,Z,Rt):this.processLeaveNode(Z)}return x.length=0,W.forEach(I=>{this.players.push(I),I.onDone(()=>{I.destroy();let Z=this.players.indexOf(I);this.players.splice(Z,1)}),I.play()}),W}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,e,r,i){let a=[];if(t){let s=this.playersByQueriedElement.get(n);s&&(a=s)}else{let s=this.playersByElement.get(n);if(s){let l=!i||i==cu;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(e||r)&&(a=a.filter(s=>!(e&&e!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(n,t,e){let r=t.triggerName,i=t.element,a=t.isRemovalTransition?void 0:n,s=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,u=c!==i,p=oo(e,c,[]);this._getPreviousPlayers(c,u,a,s,t.toState).forEach(h=>{let y=h.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),h.destroy(),p.push(h)})}yl(i,t.fromStyles)}_buildAnimation(n,t,e,r,i,a){let s=t.triggerName,l=t.element,c=[],u=new Set,p=new Set,g=t.timelines.map(y=>{let _=y.element;u.add(_);let x=_[Go];if(x&&x.removedBeforeQueried)return new yc(y.duration,y.delay);let P=_!==l,w=rT((e.get(_)||QS).map(L=>L.getRealPlayer())).filter(L=>{let R=L;return R.element?R.element===_:!1}),T=i.get(_),b=a.get(_),k=CC(this._normalizer,y.keyframes,T,b),E=this._buildPlayer(y,k,w);if(y.subTimeline&&r&&p.add(_),P){let L=new fu(n,s,_);L.setRealPlayer(E),c.push(L)}return E});c.forEach(y=>{oo(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>ZS(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Po(y,dC));let h=Ts(g);return h.onDestroy(()=>{u.forEach(y=>Mc(y,dC)),ca(l,t.toStyles)}),p.forEach(y=>{oo(r,y,[]).push(h)}),h}_buildPlayer(n,t,e){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,e):new yc(n.duration,n.delay)}},fu=class{constructor(n,t,e){this.namespaceId=n,this.triggerName=t,this.element=e,this._player=new yc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,e)=>{t.forEach(r=>_1(n,e,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){oo(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let t=this._player;t.triggerCallback&&t.triggerCallback(n)}};function ZS(o,n,t){let e=o.get(n);if(e){if(e.length){let r=e.indexOf(t);e.splice(r,1)}e.length==0&&o.delete(n)}return e}function tT(o){return o??null}function Of(o){return o&&o.nodeType===1}function eT(o){return o=="start"||o=="done"}function vC(o,n){let t=o.style.display;return o.style.display=n??"none",t}function _C(o,n,t,e,r){let i=[];t.forEach(l=>i.push(vC(l)));let a=[];e.forEach((l,c)=>{let u=new Map;l.forEach(p=>{let g=n.computeStyle(c,p,r);u.set(p,g),(!g||g.length==0)&&(c[Go]=JS,a.push(c))}),o.set(c,u)});let s=0;return t.forEach(l=>vC(l,i[s++])),a}function yC(o,n){let t=new Map;if(o.forEach(s=>t.set(s,[])),n.length==0)return t;let e=1,r=new Set(n),i=new Map;function a(s){if(!s)return e;let l=i.get(s);if(l)return l;let c=s.parentNode;return t.has(c)?l=c:r.has(c)?l=e:l=a(c),i.set(s,l),l}return n.forEach(s=>{let l=a(s);l!==e&&t.get(l).push(s)}),t}function Po(o,n){o.classList?.add(n)}function Mc(o,n){o.classList?.remove(n)}function nT(o,n,t){Ts(t).onDone(()=>o.processLeaveNode(n))}function rT(o){let n=[];return IC(o,n),n}function IC(o,n){for(let t=0;t<o.length;t++){let e=o[t];e instanceof Um?IC(e.players,n):n.push(e)}}function iT(o,n){let t=Object.keys(o),e=Object.keys(n);if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r];if(!n.hasOwnProperty(i)||o[i]!==n[i])return!1}return!0}function bC(o,n,t){let e=t.get(o);if(!e)return!1;let r=n.get(o);return r?e.forEach(i=>r.add(i)):n.set(o,e),t.delete(o),!0}var wc=class{constructor(n,t,e,r){this._driver=t,this._normalizer=e,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new h1(n.body,t,e,r),this._timelineEngine=new f1(n.body,t,e),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(n,t,e,r,i){let a=n+"-"+r,s=this._triggerCache[a];if(!s){let l=[],c=[],u=TC(this._driver,i,l,c);if(l.length)throw iS(r,l);c.length&&void 0,s=WS(r,u,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(t,r,s)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,e,r){this._transitionEngine.insertNode(n,t,e,r)}onRemove(n,t,e){this._transitionEngine.removeNode(n,t,e)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,e,r){if(e.charAt(0)=="@"){let[i,a]=lC(e),s=r;this._timelineEngine.command(i,t,a,s)}else this._transitionEngine.trigger(n,t,e,r)}listen(n,t,e,r,i){if(e.charAt(0)=="@"){let[a,s]=lC(e);return this._timelineEngine.listen(a,t,s,i)}return this._transitionEngine.listen(n,t,e,r,i)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function oT(o,n){let t=null,e=null;return Array.isArray(n)&&n.length?(t=e1(n[0]),n.length>1&&(e=e1(n[n.length-1]))):n instanceof Map&&(t=e1(n)),t||e?new m1(o,t,e):null}var m1=class o{static{this.initialStylesByElement=new WeakMap}constructor(n,t,e){this._element=n,this._startStyles=t,this._endStyles=e,this._state=0;let r=o.initialStylesByElement.get(n);r||o.initialStylesByElement.set(n,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ca(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ca(this._element,this._initialStyles),this._endStyles&&(ca(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(o.initialStylesByElement.delete(this._element),this._startStyles&&(yl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yl(this._element,this._endStyles),this._endStyles=null),ca(this._element,this._initialStyles),this._state=3)}};function e1(o){let n=null;return o.forEach((t,e)=>{aT(e)&&(n=n||new Map,n.set(e,t))}),n}function aT(o){return o==="display"||o==="position"}var If=class{constructor(n,t,e,r){this.element=n,this.keyframes=t,this.options=e,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=e.duration,this._delay=e.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){let t=[];return n.forEach(e=>{t.push(Object.fromEntries(e))}),t}_triggerWebAnimation(n,t,e){return n.animate(this._convertKeyframesToObject(t),e)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((e,r)=>{r!=="offset"&&n.set(r,this._finished?e:O1(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){let t=n==="start"?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}},Df=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return xC(n,t)}getParentElement(n){return b1(n)}query(n,t,e){return OC(n,t,e)}computeStyle(n,t,e){return O1(n,t)}animate(n,t,e,r,i,a=[]){let s=r==0?"both":"forwards",l={duration:e,delay:r,fill:s};i&&(l.easing=i);let c=new Map,u=a.filter(h=>h instanceof If);wS(e,r)&&u.forEach(h=>{h.currentSnapshot.forEach((y,_)=>c.set(_,y))});let p=OS(t).map(h=>new Map(h));p=SS(n,p,c);let g=oT(n,p);return new If(n,p,l,g)}};var Pf="@",DC="@.disabled",Lf=class{constructor(n,t,e,r){this.namespaceId=n,this.delegate=t,this.engine=e,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,e,r=!0){this.delegate.insertBefore(n,t,e),this.engine.onInsert(this.namespaceId,t,n,r)}removeChild(n,t,e){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,e,r){this.delegate.setAttribute(n,t,e,r)}removeAttribute(n,t,e){this.delegate.removeAttribute(n,t,e)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,e,r){this.delegate.setStyle(n,t,e,r)}removeStyle(n,t,e){this.delegate.removeStyle(n,t,e)}setProperty(n,t,e){t.charAt(0)==Pf&&t==DC?this.disableAnimations(n,!!e):this.delegate.setProperty(n,t,e)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,e){return this.delegate.listen(n,t,e)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}},v1=class extends Lf{constructor(n,t,e,r,i){super(t,e,r,i),this.factory=n,this.namespaceId=t}setProperty(n,t,e){t.charAt(0)==Pf?t.charAt(1)=="."&&t==DC?(e=e===void 0?!0:!!e,this.disableAnimations(n,e)):this.engine.process(this.namespaceId,n,t.slice(1),e):this.delegate.setProperty(n,t,e)}listen(n,t,e){if(t.charAt(0)==Pf){let r=sT(n),i=t.slice(1),a="";return i.charAt(0)!=Pf&&([i,a]=lT(i)),this.engine.listen(this.namespaceId,r,i,a,s=>{let l=s._data||-1;this.factory.scheduleListenerCallback(l,e,s)})}return this.delegate.listen(n,t,e)}};function sT(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o}}function lT(o){let n=o.indexOf("."),t=o.substring(0,n),e=o.slice(n+1);return[t,e]}var Nf=class{constructor(n,t,e){this.delegate=n,this.engine=t,this._zone=e,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,i)=>{let a=i?.parentNode(r);a&&i.removeChild(a,r)}}createRenderer(n,t){let e="",r=this.delegate.createRenderer(n,t);if(!n||!t?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let p=()=>c.delete(r);u=new Lf(e,r,this.engine,p),c.set(r,u)}return u}let i=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(i,a,n,c.name,c)};return t.data.animation.forEach(s),new v1(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,t,e){if(n>=0&&n<this._microtaskId){this._zone.run(()=>t(e));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(i=>{let[a,s]=i;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([t,e])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var dT=(()=>{class o extends wc{constructor(t,e,r){super(t,e,r,ye(Gy,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(e){return new(e||o)(mc(lf),mc(bl),mc(Cl))}}static{this.\u0275prov=_o({token:o,factory:o.\u0275fac})}}return o})();function uT(){return new Sf}function pT(o,n,t){return new Nf(o,n,t)}var LC=[{provide:Cl,useFactory:uT},{provide:wc,useClass:dT},{provide:Ky,useFactory:pT,deps:[ob,wc,ka]}],fT=[{provide:bl,useFactory:()=>new Df},{provide:nu,useValue:"BrowserAnimations"},...LC],GY=[{provide:bl,useClass:C1},{provide:nu,useValue:"NoopAnimations"},...LC];function NC(){return qy("NgEagerAnimations"),[...fT]}var gT=["scrollContainer"],hT=()=>[],mT=(o,n,t,e,r)=>({status:o,items:n,selectedId:t,selectedName:e,error:r}),vT=(o,n,t)=>({"desktop-mode":o,"tablet-mode":n,"mobile-mode":t});function _T(o,n){if(o&1){let t=xe();O(0,"button",23),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.onSearch(r.searchQuery))}),Xt(),O(1,"svg",10),yt(2,"circle",11)(3,"path",12),M()()}}function yT(o,n){if(o&1){let t=xe();O(0,"button",24),Yt("click",function(){Ut(t);let r=pt(2);return r.searchQuery="",Wt(r.onSearch(""))}),Xt(),O(1,"svg",10),yt(2,"line",25)(3,"line",26),M()()}}function bT(o,n){o&1&&(Rn(0),O(1,"div",27),yt(2,"mat-spinner",28),M(),Fn())}function CT(o,n){o&1&&(Xt(),yt(0,"circle",53))}function xT(o,n){o&1&&(Xt(),yt(0,"path",54))}function OT(o,n){o&1&&(Xt(),yt(0,"path",55))}function PT(o,n){o&1&&(Xt(),yt(0,"path",56))}function MT(o,n){o&1&&(Xt(),yt(0,"path",57))}function wT(o,n){o&1&&(Xt(),yt(0,"rect",58))}function ST(o,n){o&1&&(Xt(),yt(0,"polyline",59))}function TT(o,n){o&1&&(O(0,"div",63),V(1,"\u2713"),M())}function ET(o,n){o&1&&(O(0,"div",63),V(1,"\u2713"),M())}function kT(o,n){o&1&&(O(0,"div",63),V(1,"\u2713"),M())}function AT(o,n){o&1&&(O(0,"div",63),V(1,"\u2713"),M())}function IT(o,n){if(o&1){let t=xe();O(0,"div",60)(1,"button",61),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.selectCategory("all"))}),Xt(),O(2,"svg",10),yt(3,"circle",53)(4,"path",54),M(),re(),O(5,"span"),V(6,"All"),M(),qt(7,TT,2,0,"div",62),M(),O(8,"button",61),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.selectCategory("ai-generated"))}),Xt(),O(9,"svg",10),yt(10,"path",55),M(),re(),O(11,"span"),V(12,"AI Generated"),M(),qt(13,ET,2,0,"div",62),M(),O(14,"button",61),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.selectCategory("visual-editor"))}),Xt(),O(15,"svg",10),yt(16,"path",56)(17,"path",57),M(),re(),O(18,"span"),V(19,"Visual Editor"),M(),qt(20,kT,2,0,"div",62),M(),O(21,"button",61),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.selectCategory("esp"))}),Xt(),O(22,"svg",10),yt(23,"rect",58)(24,"polyline",59),M(),re(),O(25,"span"),V(26,"ESP"),M(),qt(27,AT,2,0,"div",62),M()()}if(o&2){let t=pt(3);G(),Be("active",t.selectedCategory==="all"),G(6),ct("ngIf",t.selectedCategory==="all"),G(),Be("active",t.selectedCategory==="ai-generated"),G(5),ct("ngIf",t.selectedCategory==="ai-generated"),G(),Be("active",t.selectedCategory==="visual-editor"),G(6),ct("ngIf",t.selectedCategory==="visual-editor"),G(),Be("active",t.selectedCategory==="esp"),G(6),ct("ngIf",t.selectedCategory==="esp")}}function DT(o,n){if(o&1){let t=xe();O(0,"button",74),Yt("click",function(r){Ut(t);let i=pt().$implicit,a=pt(3);return Wt(a.onAction(i,r))}),O(1,"mat-icon"),V(2,"visibility"),M(),O(3,"span"),V(4,"QA Check"),M()()}}function LT(o,n){o&1&&yt(0,"div",75)}function NT(o,n){if(o&1){let t=xe();O(0,"mat-list-item",64),Yt("click",function(){let r=Ut(t).$implicit,i=pt(3);return Wt(i.onClick(r))}),O(1,"div",65)(2,"div",66),Xt(),O(3,"svg",10),yt(4,"rect",67)(5,"circle",68)(6,"path",69),M()(),re(),O(7,"div",70)(8,"span",71),V(9),M(),qt(10,DT,5,0,"button",72),M(),qt(11,LT,1,0,"div",73),M()()}if(o&2){let t=n.$implicit,e=pt(2).ngIf,r=pt();Be("selected",t.id===e.selectedId),pr("data-item-id",t.id),G(9),ae(t.name||"Untitled template"),G(),ct("ngIf",t.id===r.runButtonItemId),G(),ct("ngIf",t.id===e.selectedId)}}function RT(o,n){if(o&1&&(O(0,"div",76),V(1),M()),o&2){let t=pt(2).ngIf;G(),Ke(" ",t.error," ")}}function FT(o,n){if(o&1){let t=xe();O(0,"div",29)(1,"div",30)(2,"div",31),Xt(),O(3,"svg",10),yt(4,"path",32),M(),re(),O(5,"span",33),V(6),M(),O(7,"span",34),V(8,"templates"),M()(),O(9,"div",35)(10,"button",36),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.toggleCategoryDropdown())}),Xt(),O(11,"svg",37),qt(12,CT,1,0,"circle",38)(13,xT,1,0,"path",39)(14,OT,1,0,"path",40)(15,PT,1,0,"path",41)(16,MT,1,0,"path",42)(17,wT,1,0,"rect",43)(18,ST,1,0,"polyline",44),M(),re(),O(19,"span",45),V(20),M(),Xt(),O(21,"svg",46),yt(22,"polyline",47),M()(),qt(23,IT,28,12,"div",48),M()(),re(),O(24,"div",49,1)(26,"mat-nav-list",50),qt(27,NT,12,6,"mat-list-item",51),M()()(),qt(28,RT,2,1,"div",52)}if(o&2){let t=pt().ngIf,e=pt();G(6),ae(t.items.length),G(4),Be("open",e.categoryDropdownOpen),G(2),ct("ngIf",e.selectedCategory==="all"),G(),ct("ngIf",e.selectedCategory==="all"),G(),ct("ngIf",e.selectedCategory==="ai-generated"),G(),ct("ngIf",e.selectedCategory==="visual-editor"),G(),ct("ngIf",e.selectedCategory==="visual-editor"),G(),ct("ngIf",e.selectedCategory==="esp"),G(),ct("ngIf",e.selectedCategory==="esp"),G(2),ae(e.getCategoryLabel()),G(3),ct("ngIf",e.categoryDropdownOpen),G(4),ct("ngForOf",t.items)("ngForTrackBy",e.trackById),G(),ct("ngIf",t.status==="error")}}function VT(o,n){o&1&&(Xt(),O(0,"svg",90),yt(1,"path",112)(2,"path",113)(3,"path",114)(4,"path",115),M())}function zT(o,n){o&1&&(Xt(),O(0,"svg",90),yt(1,"path",116)(2,"path",117)(3,"path",118)(4,"path",119),M())}function jT(o,n){if(o&1){let t=xe();O(0,"div",77)(1,"div",78)(2,"div",79)(3,"h3",80),V(4),M(),O(5,"div",81)(6,"span",82),V(7),M()()(),O(8,"div",83)(9,"div",84)(10,"button",85),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.toggleInfoBanner())}),Xt(),O(11,"svg",10),yt(12,"circle",86)(13,"line",87)(14,"circle",88),M(),re(),O(15,"span"),V(16,"Info"),M()(),O(17,"button",89),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.deleteTemplate())}),Xt(),O(18,"svg",90),yt(19,"polyline",91)(20,"path",92)(21,"line",93)(22,"line",94),M(),re(),O(23,"span"),V(24,"Delete"),M()(),O(25,"button",95),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.refresh())}),Xt(),O(26,"svg",90),yt(27,"path",96)(28,"path",97)(29,"path",98)(30,"path",99),M(),re(),O(31,"span"),V(32,"Refresh"),M()(),O(33,"button",100),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.toggleFullscreen())}),qt(34,VT,5,0,"svg",101)(35,zT,5,0,"svg",101),O(36,"span"),V(37),M()()(),O(38,"div",102)(39,"button",103),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.changeViewMode("desktop"))}),Xt(),O(40,"svg",10),yt(41,"rect",104)(42,"line",105)(43,"line",106),M(),re(),O(44,"span"),V(45,"Desktop"),M()(),O(46,"button",107),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.changeViewMode("tablet"))}),Xt(),O(47,"svg",10),yt(48,"rect",108)(49,"line",109),M(),re(),O(50,"span"),V(51,"Tablet"),M()(),O(52,"button",110),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.changeViewMode("mobile"))}),Xt(),O(53,"svg",10),yt(54,"rect",111)(55,"line",109),M(),re(),O(56,"span"),V(57,"Mobile"),M()()()()()()}if(o&2){let t=pt().ngIf,e=pt();G(4),ae(t.selectedName),G(3),Ke("ID: ",t.selectedId,""),G(3),Be("active",e.showInfoBanner),G(7),ct("disabled",e.isDeleting),G(17),ct("ngIf",!e.isFullscreen),G(),ct("ngIf",e.isFullscreen),G(2),ae(e.isFullscreen?"Exit":"Fullscreen"),G(2),Be("active",e.viewMode==="desktop"),G(7),Be("active",e.viewMode==="tablet"),G(6),Be("active",e.viewMode==="mobile")}}function HT(o,n){o&1&&(O(0,"div",120)(1,"div",121)(2,"div",122),yt(3,"div",123)(4,"div",124)(5,"div",125)(6,"div",126),M(),yt(7,"div",127),M(),O(8,"div",128)(9,"div",129),yt(10,"div",130)(11,"div",131),Xt(),O(12,"svg",132),yt(13,"path",133)(14,"rect",134),M()(),re(),O(15,"div",135)(16,"h2"),V(17,"Ready for Preview"),M()(),O(18,"div",136)(19,"div",137),Xt(),O(20,"svg",90),yt(21,"path",138),M(),V(22," Real-time Updates "),M(),re(),O(23,"div",137),Xt(),O(24,"svg",90),yt(25,"rect",104)(26,"line",105)(27,"line",106),M(),V(28," Multi-Device "),M(),re(),O(29,"div",137),Xt(),O(30,"svg",90),yt(31,"path",139),M(),V(32," Lightning Fast "),M()()()())}function BT(o,n){if(o&1&&(O(0,"div",146)(1,"div",147)(2,"div",148),yt(3,"div",149)(4,"div",150)(5,"div",151)(6,"div",152)(7,"div",153)(8,"div",154)(9,"div",155),M()(),O(10,"div",156)(11,"div",157),yt(12,"div",158)(13,"div",159)(14,"div",160),M(),O(15,"div",161)(16,"h4"),V(17,"Rendering Preview"),M(),O(18,"p"),V(19,"Optimizing your template for the best experience"),M(),O(20,"div",162)(21,"div",163),yt(22,"div",164),M()()()()()),o&2){let t=pt(3);ct("@fadeInOut",t.loading?"in":"out")}}function UT(o,n){if(o&1){let t=xe();O(0,"iframe",165),Yt("load",function(){Ut(t);let r=pt(3);return Wt(r.onIframeLoad())}),M()}if(o&2){let t=pt(3);pr("srcdoc",t.safeSrcdoc,pl)}}function WT(o,n){if(o&1){let t=xe();O(0,"iframe",167),Yt("load",function(){Ut(t);let r=pt(4);return Wt(r.onIframeLoad())}),M()}if(o&2){let t=pt(4);pr("srcdoc",t.safeSrcdoc,pl)}}function GT(o,n){if(o&1&&qt(0,WT,1,1,"iframe",166),o&2){let t=pt(3);ct("ngIf",t.safeSrcdoc)}}function KT(o,n){if(o&1){let t=xe();O(0,"div",168)(1,"div",169),yt(2,"div",170),M(),O(3,"div",171)(4,"div",172),yt(5,"div",173),Xt(),O(6,"svg",174),yt(7,"path",175)(8,"line",176)(9,"line",177),M()(),re(),O(10,"div",178)(11,"h3"),V(12,"Preview Unavailable"),M(),O(13,"p"),V(14),M(),O(15,"div",179)(16,"span"),V(17,"This usually resolves quickly. Try refreshing the preview."),M()()(),O(18,"div",180)(19,"button",181),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.refresh())}),Xt(),O(20,"svg",90),yt(21,"path",96)(22,"path",97)(23,"path",98)(24,"path",99),M(),V(25," Try Again "),M(),re(),O(26,"button",182),Xt(),O(27,"svg",90),yt(28,"path",183),M(),V(29," Get Support "),M()()()()}if(o&2){let t=pt(3);ct("@bounceIn",void 0),G(14),ae(t.previewError)}}function qT(o,n){if(o&1&&(O(0,"div",140),qt(1,BT,23,1,"div",141),O(2,"div",142)(3,"div",143),qt(4,UT,1,1,"iframe",144)(5,GT,1,1,"ng-template",null,2,su),M()(),qt(7,KT,30,2,"div",145),M()),o&2){let t=fr(6),e=pt(2);G(),ct("ngIf",e.loading),G(),Be("loading",e.loading),ct("ngClass",sf(7,vT,e.viewMode==="desktop",e.viewMode==="tablet",e.viewMode==="mobile")),G(2),ct("ngIf",e.allowScripts&&e.safeSrcdoc)("ngIfElse",t),G(3),ct("ngIf",e.previewError)}}function $T(o,n){if(o&1){let t=xe();O(0,"div",5)(1,"section",6)(2,"div",7)(3,"div",8)(4,"div",9),Xt(),O(5,"svg",10),yt(6,"circle",11)(7,"path",12),M()(),re(),O(8,"input",13),Ar("ngModelChange",function(r){Ut(t);let i=pt();return kr(i.searchQuery,r)||(i.searchQuery=r),Wt(r)}),Yt("input",function(){Ut(t);let r=pt();return Wt(r.onSearch(r.searchQuery))})("keyup.enter",function(){Ut(t);let r=pt();return Wt(r.onSearch(r.searchQuery))}),M(),O(9,"div",14),qt(10,_T,4,0,"button",15)(11,yT,4,0,"button",16),M()()(),qt(12,bT,3,0,"ng-container",17)(13,FT,29,15,"ng-template",null,0,su),M(),O(15,"aside",18)(16,"div",19),qt(17,jT,58,14,"div",20)(18,HT,33,0,"div",21)(19,qT,8,11,"div",22),M()()()}if(o&2){let t=n.ngIf,e=fr(14),r=pt();G(8),Er("ngModel",r.searchQuery),G(2),ct("ngIf",r.searchQuery),G(),ct("ngIf",r.searchQuery),G(),ct("ngIf",t.status==="loading")("ngIfElse",e),G(4),Be("fullscreen",r.isFullscreen),G(),ct("ngIf",t.selectedName&&!r.hideHeader),G(),ct("ngIf",!t.selectedId),G(),ct("ngIf",t.selectedId)}}function YT(o,n){if(o&1&&(O(0,"div",195)(1,"span",191),V(2,"Thumbnail"),M(),O(3,"a",196),V(4," View Thumbnail \u2192 "),M()()),o&2){let t=pt(3);G(3),ct("href",t.templateMetadata.thumbnail,ea)}}function XT(o,n){if(o&1&&(O(0,"div",195)(1,"span",191),V(2,"Screenshot"),M(),O(3,"a",196),V(4," View Screenshot \u2192 "),M()()),o&2){let t=pt(3);G(3),ct("href",t.templateMetadata.screenshotUrl,ea)}}function QT(o,n){if(o&1&&(O(0,"div",189)(1,"div",190)(2,"span",191),V(3,"Type"),M(),O(4,"span",192),V(5),M()(),O(6,"div",190)(7,"span",191),V(8,"Category"),M(),O(9,"span",192),V(10),M()(),O(11,"div",190)(12,"span",191),V(13,"Created By"),M(),O(14,"span",192),V(15),M()(),O(16,"div",190)(17,"span",191),V(18,"Created Date"),M(),O(19,"span",192),V(20),on(21,"date"),M()(),O(22,"div",190)(23,"span",191),V(24,"Last Edited"),M(),O(25,"span",192),V(26),on(27,"date"),M()(),O(28,"div",190)(29,"span",191),V(30,"Active"),M(),O(31,"span",192)(32,"span",193),V(33),M()()(),O(34,"div",190)(35,"span",191),V(36,"Drag & Drop"),M(),O(37,"span",192),V(38),M()(),O(39,"div",190)(40,"span",191),V(41,"Responsive"),M(),O(42,"span",192),V(43),M()(),O(44,"div",190)(45,"span",191),V(46,"Folder ID"),M(),O(47,"span",192),V(48),M()(),O(49,"div",190)(50,"span",191),V(51,"Source"),M(),O(52,"span",192),V(53),M()(),qt(54,YT,5,1,"div",194)(55,XT,5,1,"div",194),M()),o&2){let t=pt(2);G(5),ae(t.templateMetadata.type||"N/A"),G(5),ae(t.templateMetadata.category),G(5),ae(t.templateMetadata.createdBy||"N/A"),G(5),ae(au(21,14,t.templateMetadata.dateCreated,"short")),G(6),ae(au(27,17,t.templateMetadata.dateEdited,"short")),G(6),Be("active",t.templateMetadata.active),G(),Ke(" ",t.templateMetadata.active?"Yes":"No"," "),G(5),ae(t.templateMetadata.dragAndDrop?"Yes":"No"),G(5),ae(t.templateMetadata.responsive?"Yes":"No"),G(5),ae(t.templateMetadata.folderId),G(5),ae(t.templateMetadata.source),G(),ct("ngIf",t.templateMetadata.thumbnail),G(),ct("ngIf",t.templateMetadata.screenshotUrl)}}function JT(o,n){if(o&1){let t=xe();O(0,"div",184),Yt("click",function(){Ut(t);let r=pt();return Wt(r.toggleInfoBanner())}),O(1,"div",185),Yt("click",function(r){return Ut(t),Wt(r.stopPropagation())}),O(2,"div",186)(3,"h3"),V(4,"Template Information"),M(),O(5,"button",187),Yt("click",function(){Ut(t);let r=pt();return Wt(r.toggleInfoBanner())}),Xt(),O(6,"svg",10),yt(7,"line",25)(8,"line",26),M()()(),qt(9,QT,56,20,"div",188),M()()}if(o&2){let t=pt();G(9),ct("ngIf",t.templateMetadata)}}var RC=(()=>{class o{constructor(){this.svc=ye(Ps),this.router=ye(jn),this.sanitizer=ye(uf),this.http=ye(xs),this.cache=ye(Cc),this.cdr=ye(qr),this.snackBar=ye(Os),this.templateState=ye(Ms),this.categorySubject=new Wr("all"),this.state$=this.svc.state$,this.items$=zy([this.state$,this.categorySubject]).pipe(eo(([t,e])=>{let r=t.items;return e!=="all"&&(r=t.items.filter(i=>{let s=(i.source||"").toLowerCase().trim();switch(e){case"ai-generated":return s==="ai generated"||s==="ai-generated";case"visual-editor":return s==="visual editor"||s==="visual-editor";case"esp":return s==="mailchimp";default:return!0}})),r})),this.status$=this.state$.pipe(eo(t=>t.status)),this.error$=this.state$.pipe(eo(t=>t.error)),this.selectedId$=this.state$.pipe(eo(t=>t.selectedId)),this.selectedName$=this.state$.pipe(eo(t=>t.selectedName)),this.searchQuery="",this.selectedCategory="all",this.categoryDropdownOpen=!1,this.lastClickTime=0,this.lastClickedId="",this.userInitiatedSelection=!1,this.isInitialLoad=!0,this.isFullscreen=!1,this.hideHeader=!1,this.viewMode="desktop",this.loading=!1,this.allowScripts=!1,this.safeSrcdoc=null,this.showInfoBanner=!1,this.templateMetadata=null,this.destroy$=new Ur,this.isDeleting=!1,this.inflightRequests=new Map}ngOnInit(){this.selectedId$.pipe(gn(this.destroy$),_s()).subscribe(e=>{e?this.loadTemplateContent(e):(this.safeSrcdoc=null,this.runButtonItemId=void 0,this.cdr.markForCheck())});let t=this.svc.snapshot;t.searchQuery&&(this.searchQuery=t.searchQuery),this.svc.search(this.searchQuery),setTimeout(()=>{this.scrollToTop(),this.isInitialLoad=!1},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.fetchSub?.unsubscribe(),this.loadingTimer&&clearTimeout(this.loadingTimer),this.inflightRequests.forEach(t=>t.unsubscribe()),this.inflightRequests.clear()}toggleCategoryDropdown(){this.categoryDropdownOpen=!this.categoryDropdownOpen}selectCategory(t){this.selectedCategory=t,this.categorySubject.next(t),this.categoryDropdownOpen=!1,this.cdr.markForCheck()}getCategoryLabel(){switch(this.selectedCategory){case"all":return"All";case"ai-generated":return"AI Generated";case"visual-editor":return"Visual Editor";case"esp":return"ESP";default:return"All"}}getCategoryIcon(){switch(this.selectedCategory){case"all":return"apps";case"ai-generated":return"auto_awesome";case"visual-editor":return"design_services";case"esp":return"email";default:return"apps"}}onDocumentClick(t){!t.target.closest(".category-filter-wrapper")&&this.categoryDropdownOpen&&(this.categoryDropdownOpen=!1,this.cdr.markForCheck())}onSearch(t){this.searchQuery=t,this.svc.search(t),setTimeout(()=>this.scrollToTop(),100)}onSelect(t){let e=this.svc.snapshot.selectedId;e&&e!==t.id&&(this.runButtonItemId=void 0),this.svc.select(t.id,t.name),this.userInitiatedSelection=!0;try{localStorage.setItem("lastTemplateId",t.id),localStorage.setItem("lastTemplateName",t.name||"")}catch{}this.cdr.markForCheck()}onRunTests(t){let e=this.svc.snapshot.items.find(r=>r.id===t);if(e)if(this.svc.select(t,e.name),e.content)this.templateState.initializeOriginalTemplate(t,e.content),this.router.navigate(["/qa",t]);else{let r=this.cache.get(t)||this.cache.getPersisted(t);r?(this.templateState.initializeOriginalTemplate(t,r),this.router.navigate(["/qa",t])):this.http.get(`/api/templates/${t}/raw`,{responseType:"text",withCredentials:!0}).subscribe({next:i=>{this.templateState.initializeOriginalTemplate(t,i),this.router.navigate(["/qa",t])},error:i=>{this.snackBar.open("Failed to load template","Close",{duration:3e3,panelClass:["error-snackbar"]})}})}else this.router.navigate(["/qa",t])}onClick(t){let e=Date.now();this.lastClickedId===t.id&&e-this.lastClickTime<500||e-this.lastClickTime<200||(this.lastClickTime=e,this.lastClickedId=t.id,this.onSelect(t))}onAction(t,e){e.stopPropagation(),e.preventDefault(),this.onRunTests(t.id)}trackById(t,e){return e.id}showRunButton(t){let e=this.svc.snapshot.selectedId;t===e&&(this.runButtonItemId=t,this.cdr.markForCheck())}refresh(){let t=this.svc.snapshot.selectedId;t&&(this.cache.clear(t),sessionStorage.removeItem(`metadata-${t}`),this.loadTemplateContent(t))}toggleFullscreen(){let t=document.querySelector(".preview-root");t&&(this.isFullscreen?document.exitFullscreen&&document.exitFullscreen():t.requestFullscreen&&t.requestFullscreen(),this.isFullscreen=!this.isFullscreen,this.cdr.markForCheck())}changeViewMode(t){this.viewMode=t,this.cdr.markForCheck()}toggleInfoBanner(){this.showInfoBanner=!this.showInfoBanner,this.cdr.markForCheck()}deleteTemplate(){if(this.isDeleting)return;let t=this.svc.snapshot.selectedId,e=this.svc.snapshot.selectedName;!t||!confirm(`Are you sure you want to delete "${e}"?

This action cannot be undone and will permanently remove the template from Mailchimp.`)||(this.isDeleting=!0,this.safeSrcdoc=null,this.templateMetadata=null,this.runButtonItemId=void 0,this.loading=!1,this.cdr.markForCheck(),this.cache.clearTemplate(t),this.svc.deleteTemplate(t).subscribe({next:i=>{this.isDeleting=!1,this.snackBar.open(`"${e}" deleted successfully`,"Close",{duration:4e3,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"})},error:i=>{this.isDeleting=!1,this.snackBar.open(`Failed to delete template: ${i?.error?.message||i?.message||"Unknown error"}`,"Close",{duration:6e3,panelClass:["error-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"}),this.svc.search(this.searchQuery)}}))}scrollToItem(t){if(!this.scrollContainer)return;let r=this.scrollContainer.nativeElement.querySelector(`[data-item-id="${t}"]`);r&&r.scrollIntoView({behavior:"smooth",block:"nearest"})}scrollToTop(){this.scrollContainer&&this.scrollContainer.nativeElement.scrollTo({top:0,behavior:"instant"})}scrollToBottom(){if(this.scrollContainer){let t=this.scrollContainer.nativeElement;t.scrollTo({top:t.scrollHeight,behavior:"smooth"})}}loadTemplateContent(t){if(this.previewError=void 0,this.runButtonItemId=void 0,this.templateMetadata=null,this.safeSrcdoc=null,this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=void 0),!t){this.loading=!1,this.cdr.markForCheck();return}this.loading=!0,this.cdr.markForCheck();let e=this.cache.get(t)||this.cache.getPersisted(t);if(e){let i=sessionStorage.getItem(`metadata-${t}`);i?(this.templateMetadata=JSON.parse(i),this.cdr.markForCheck()):this.http.get(`/api/templates/${t}`,{responseType:"json",withCredentials:!0}).subscribe({next:l=>{this.templateMetadata={type:l.type,templateType:l.templateType,category:l.category||"N/A",thumbnail:l.thumbnail,dateCreated:l.dateCreated,dateEdited:l.dateEdited,createdBy:l.createdBy,active:l.active,dragAndDrop:l.dragAndDrop,responsive:l.responsive,folderId:l.folderId||"N/A",screenshotUrl:l.screenshotUrl,source:l.source},sessionStorage.setItem(`metadata-${t}`,JSON.stringify(this.templateMetadata)),this.cdr.markForCheck()},error:l=>{}});let a=this.ensureDoc(e),s=this.stripDangerousBits(a);this.safeSrcdoc=this.sanitizer.bypassSecurityTrustHtml(s),this.cdr.markForCheck(),this.loadingTimer=setTimeout(()=>{this.svc.snapshot.selectedId===t&&(this.loading=!1,this.showRunButton(t),this.cdr.markForCheck())},100);return}if(this.inflightRequests.has(t)){this.loading=!0,this.cdr.markForCheck();return}this.loading=!0,this.safeSrcdoc=null,this.cdr.markForCheck();let r=this.http.get(`/api/templates/${t}`,{responseType:"json",withCredentials:!0}).subscribe({next:i=>{if(this.templateMetadata={type:i.type,templateType:i.templateType,category:i.category||"N/A",thumbnail:i.thumbnail,dateCreated:i.dateCreated,dateEdited:i.dateEdited,createdBy:i.createdBy,active:i.active,dragAndDrop:i.dragAndDrop,responsive:i.responsive,folderId:i.folderId||"N/A",screenshotUrl:i.screenshotUrl,source:i.source},sessionStorage.setItem(`metadata-${t}`,JSON.stringify(this.templateMetadata)),this.inflightRequests.delete(t),this.svc.snapshot.selectedId!==t){this.loading=!1,this.cdr.markForCheck();return}let s=i.html||"";this.cache.set(t,s);let l=this.ensureDoc(s),c=this.stripDangerousBits(l);this.safeSrcdoc=this.sanitizer.bypassSecurityTrustHtml(c),this.loadingTimer=setTimeout(()=>{this.svc.snapshot.selectedId===t&&(this.loading=!1,this.showRunButton(t),this.cdr.markForCheck())},100),this.cdr.markForCheck()},error:i=>{this.inflightRequests.delete(t),this.loading=!1,this.previewError=i?.message||"Failed to load preview.",this.cdr.markForCheck()},complete:()=>{this.inflightRequests.delete(t)}});this.inflightRequests.set(t,r)}onIframeLoad(){this.loading=!1,this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=void 0);let t=this.svc.snapshot.selectedId;t&&this.safeSrcdoc&&this.showRunButton(t),this.cdr.markForCheck()}ensureDoc(t){let e=String(t||"");return/<body[\s>]/i.test(e)||/<\/html>/i.test(e)?e:["<!doctype html><html><head>",'<meta charset="utf-8">','<meta name="viewport" content="width=device-width,initial-scale=1">',"<style>html,body{margin:0;padding:0}</style>","</head><body>",e,"</body></html>"].join("")}stripDangerousBits(t){try{let e=new DOMParser().parseFromString(t,"text/html");return e.querySelectorAll("script, iframe, base").forEach(r=>r.remove()),e.querySelectorAll("*").forEach(r=>{for(let i=r.attributes.length-1;i>=0;i--){let a=r.attributes.item(i);a&&/^on/i.test(a.name)&&r.removeAttribute(a.name)}}),`<!doctype html>
`+e.documentElement.outerHTML}catch{return t.replace(/<script[\s\S]*?<\/script>/gi,"").replace(/<base[\s\S]*?>/gi,"").replace(/<iframe[\s\S]*?<\/iframe>/gi,"")}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-templates-page"]],viewQuery:function(e,r){if(e&1&&Wo(gT,5),e&2){let i;Gr(i=Kr())&&(r.scrollContainer=i.first)}},hostBindings:function(e,r){e&1&&Yt("click",function(a){return r.onDocumentClick(a)},!1,ru)},standalone:!0,features:[cn],decls:7,vars:19,consts:[["listTpl",""],["scrollContainer",""],["safeIframe",""],["class","layout",4,"ngIf"],["class","info-modal-backdrop",3,"click",4,"ngIf"],[1,"layout"],[1,"left"],[1,"search-bar-container"],[1,"search-wrapper"],[1,"search-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search templates...",1,"search-input",3,"ngModelChange","input","keyup.enter","ngModel"],[1,"search-actions"],["class","search-btn",3,"click",4,"ngIf"],["class","clear-btn",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"right"],[1,"preview-root"],["class","preview-header",4,"ngIf"],["class","modern-placeholder",4,"ngIf"],["class","preview-container",4,"ngIf"],[1,"search-btn",3,"click"],[1,"clear-btn",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"loading"],["diameter","40"],[1,"modern-list-wrapper"],[1,"list-header"],[1,"count-badge"],["d","M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"],[1,"count-number"],[1,"count-label"],[1,"category-filter-wrapper"],[1,"category-filter-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"category-icon"],["cx","12","cy","12","r","3",4,"ngIf"],["d","M12 2v20M2 12h20",4,"ngIf"],["d","m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",4,"ngIf"],["d","M12 3c7.2 0 9 1.8 9 9s-1.8 9-9 9-9-1.8-9-9 1.8-9 9-9Z",4,"ngIf"],["d","M12 15V9M15 12H9",4,"ngIf"],["x","3","y","4","width","18","height","18","rx","2",4,"ngIf"],["points","22,6 12,13 2,6",4,"ngIf"],[1,"category-label"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"dropdown-arrow"],["points","6 9 12 15 18 9"],["class","category-dropdown",4,"ngIf"],[1,"scroll-container"],[1,"tpl-list"],["class","template-item",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","error",4,"ngIf"],["cx","12","cy","12","r","3"],["d","M12 2v20M2 12h20"],["d","m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"],["d","M12 3c7.2 0 9 1.8 9 9s-1.8 9-9 9-9-1.8-9-9 1.8-9 9-9Z"],["d","M12 15V9M15 12H9"],["x","3","y","4","width","18","height","18","rx","2"],["points","22,6 12,13 2,6"],[1,"category-dropdown"],[1,"category-option",3,"click"],["class","check-mark",4,"ngIf"],[1,"check-mark"],[1,"template-item",3,"click"],[1,"item-wrapper"],[1,"item-icon"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["cx","9","cy","9","r","2"],["d","m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"],[1,"item-content"],[1,"name"],["mat-raised-button","","color","primary","class","run-btn","aria-label","QA Check",3,"click",4,"ngIf"],["class","selection-indicator",4,"ngIf"],["mat-raised-button","","color","primary","aria-label","QA Check",1,"run-btn",3,"click"],[1,"selection-indicator"],[1,"error"],[1,"preview-header"],[1,"header-content"],[1,"header-left"],[1,"template-title"],[1,"template-meta"],[1,"template-id"],[1,"header-actions"],[1,"action-buttons"],["title","Template Info",1,"action-btn","info-btn",3,"click"],["cx","12","cy","12","r","10"],["x1","12","y1","16","x2","12","y2","12"],["cx","12","cy","8","r","0.7","fill","currentColor"],["title","Delete Template",1,"action-btn","delete-btn",3,"click","disabled"],["viewBox","0 0 24 24","fill","none","stroke","currentColor"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["title","Refresh Preview",1,"action-btn","refresh-btn",3,"click"],["d","M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"],["d","M21 3v5h-5"],["d","M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"],["d","M3 21v-5h5"],["title","Toggle Fullscreen",1,"action-btn","fullscreen-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",4,"ngIf"],[1,"view-mode-toggle"],["title","Desktop View",1,"mode-btn",3,"click"],["x","2","y","3","width","20","height","14","rx","2","ry","2"],["x1","8","y1","21","x2","16","y2","21"],["x1","12","y1","17","x2","12","y2","21"],["title","Tablet View",1,"mode-btn",3,"click"],["x","4","y","2","width","16","height","20","rx","2","ry","2"],["x1","12","y1","18","x2","12.01","y2","18"],["title","Mobile View",1,"mode-btn",3,"click"],["x","5","y","2","width","14","height","20","rx","2","ry","2"],["d","M8 3H5a2 2 0 0 0-2 2v3"],["d","M21 8V5a2 2 0 0 0-2-2h-3"],["d","M3 16v3a2 2 0 0 0 2 2h3"],["d","M16 21h3a2 2 0 0 0 2-2v-3"],["d","M8 3v3a2 2 0 0 1-2 2H3"],["d","M21 8h-3a2 2 0 0 1-2-2V3"],["d","M3 16h3a2 2 0 0 1 2 2v3"],["d","M16 21v-3a2 2 0 0 1 2-2h3"],[1,"modern-placeholder"],[1,"placeholder-background"],[1,"floating-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"grid-pattern"],[1,"placeholder-content"],[1,"placeholder-icon-container"],[1,"icon-backdrop"],[1,"icon-ring"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"placeholder-icon"],["d","m15 10 4.553-2.276A1 1 0 0 1 21 8.618v6.764a1 1 0 0 1-1.447.894L15 14"],["x","3","y","6","width","12","height","12","rx","2"],[1,"placeholder-text"],[1,"feature-pills"],[1,"pill"],["d","M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"],["d","M13 2L3 14h9l-1 8 10-12h-9l1-8z"],[1,"preview-container"],["class","advanced-loader",4,"ngIf"],[1,"iframe-wrapper",3,"ngClass"],[1,"iframe-container"],["class","preview-frame","sandbox","allow-same-origin allow-forms allow-scripts","referrerpolicy","no-referrer",3,"load",4,"ngIf","ngIfElse"],["class","premium-error",4,"ngIf"],[1,"advanced-loader"],[1,"loader-background"],[1,"neural-network"],[1,"node","node-1"],[1,"node","node-2"],[1,"node","node-3"],[1,"node","node-4"],[1,"connection","connection-1"],[1,"connection","connection-2"],[1,"connection","connection-3"],[1,"loader-content"],[1,"loader-spinner"],[1,"spinner-outer"],[1,"spinner-inner"],[1,"spinner-core"],[1,"loader-text"],[1,"progress-indicator"],[1,"progress-bar"],[1,"progress-fill"],["sandbox","allow-same-origin allow-forms allow-scripts","referrerpolicy","no-referrer",1,"preview-frame",3,"load"],["class","preview-frame","sandbox","allow-same-origin allow-forms","referrerpolicy","no-referrer",3,"load",4,"ngIf"],["sandbox","allow-same-origin allow-forms","referrerpolicy","no-referrer",1,"preview-frame",3,"load"],[1,"premium-error"],[1,"error-background"],[1,"error-pattern"],[1,"error-content"],[1,"error-icon-container"],[1,"error-icon-backdrop"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"error-icon"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"error-text"],[1,"error-details"],[1,"error-actions"],[1,"retry-btn",3,"click"],[1,"support-btn"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],[1,"info-modal-backdrop",3,"click"],[1,"info-modal-content",3,"click"],[1,"info-modal-header"],[1,"close-btn",3,"click"],["class","info-grid",4,"ngIf"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"status-badge"],["class","info-item full-width",4,"ngIf"],[1,"info-item","full-width"],["target","_blank",1,"info-link",3,"href"]],template:function(e,r){if(e&1&&(qt(0,$T,20,10,"div",3),on(1,"async"),on(2,"async"),on(3,"async"),on(4,"async"),on(5,"async"),qt(6,JT,10,1,"div",4)),e&2){let i;ct("ngIf",Qy(13,mT,un(1,2,r.status$),(i=un(2,4,r.items$))!==null&&i!==void 0?i:of(12,hT),un(3,6,r.selectedId$),un(4,8,r.selectedName$),un(5,10,r.error$))),G(6),ct("ngIf",r.showInfoBanner)}},dependencies:[Tn,na,ki,qn,Cs,df,Ii,yo,bo,Co,Nb,Lb,Db,yr,ro,Cr,br,ci,xo,ib],styles:['[_ngcontent-%COMP%]:root{--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--accent-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--glass-bg: rgba(255, 255, 255, .15);--glass-border: rgba(255, 255, 255, .3);--dark-glass: rgba(0, 0, 0, .05);--shadow-soft: 0 8px 32px rgba(0, 0, 0, .1);--shadow-medium: 0 16px 64px rgba(0, 0, 0, .15);--shadow-strong: 0 24px 80px rgba(0, 0, 0, .25);--border-radius: 16px;--border-radius-lg: 24px;--animation-fast: .2s cubic-bezier(.4, 0, .2, 1);--animation-smooth: .4s cubic-bezier(.4, 0, .2, 1);--animation-bounce: .6s cubic-bezier(.68, -.55, .265, 1.55)}[_nghost-%COMP%]{display:block;position:relative}.layout[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 74px);gap:0;overflow:hidden;padding:0;position:relative}.left[_ngcontent-%COMP%]{width:450px;min-width:450px;flex-shrink:0;height:100%;display:flex;flex-direction:column;overflow:hidden;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-right:2px solid #e2e8f0}.right[_ngcontent-%COMP%]{flex:1;height:100%;overflow:hidden;background:linear-gradient(135deg,#f8fafc,#e2e8f0)}.loading[_ngcontent-%COMP%]{padding:24px;display:flex;justify-content:center;align-items:center;flex:1}.error[_ngcontent-%COMP%]{margin:.75rem 1.5rem;padding:1rem 1.25rem;color:#dc2626;background:#dc262614;border:2px solid rgba(220,38,38,.2);border-radius:12px;font-weight:600;font-size:.9375rem;box-shadow:0 2px 8px #dc26261a}.search-bar-container[_ngcontent-%COMP%]{flex-shrink:0;padding:.75rem 1rem .1rem}.search-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#fff;border:2px solid #e2e8f0;border-radius:12px;box-shadow:0 4px 12px #00000014;transition:all var(--animation-fast)}.search-wrapper[_ngcontent-%COMP%]:hover{border-color:#c7d2fe;box-shadow:0 6px 20px #6366f126}.search-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#6366f1;box-shadow:0 0 0 3px #6366f11a}.search-icon[_ngcontent-%COMP%]{padding:.875rem 1rem;color:#64748b;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;padding:.875rem .5rem;font-size:.9375rem;font-weight:500;color:#1e293b;background:transparent}.search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.search-actions[_ngcontent-%COMP%]{padding:.5rem}.search-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{background:#6366f1;border:none;cursor:pointer;padding:.375rem;border-radius:6px;color:#fff;transition:all var(--animation-fast);margin-right:.25rem}.search-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background:#4f46e5}.search-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.375rem;border-radius:6px;color:#64748b;transition:all var(--animation-fast)}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#ef4444}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.modern-list-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0;flex:1;padding:.5rem .75rem 0rem;overflow:hidden}.list-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-shrink:0;margin-top:2px;margin-bottom:.2rem;animation:_ngcontent-%COMP%_slideInDown .4s ease}.count-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.875rem 1.25rem;background:linear-gradient(135deg,#fff,#f8f9ff);border:2px solid #e2e8f0;border-radius:12px;box-shadow:0 4px 12px #00000014;flex-shrink:0;flex:1}.count-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#6366f1;flex-shrink:0}.count-badge[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;color:#1e293b}.count-badge[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b}.category-filter-wrapper[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.category-filter-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.125rem;background:linear-gradient(135deg,#6d28d9,#8b5cf6);color:#fff;border:none;border-radius:12px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #6d28d940;white-space:nowrap}.category-filter-btn[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5;flex-shrink:0}.category-filter-btn[_ngcontent-%COMP%]   .category-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}.category-filter-btn[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{width:14px;height:14px;stroke-width:3;transition:transform .3s ease;margin-left:.125rem}.category-filter-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5b21b6,#7c3aed);box-shadow:0 6px 20px #6d28d959;transform:translateY(-2px)}.category-filter-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.category-filter-btn.open[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}.category-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;min-width:200px;background:#fff;border-radius:12px;box-shadow:0 12px 36px #00000026,0 0 0 1px #0000000d;z-index:1000;overflow:hidden;animation:_ngcontent-%COMP%_dropdownFadeIn .2s ease}@keyframes _ngcontent-%COMP%_dropdownFadeIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.category-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%;padding:.875rem 1rem;background:#fff;border:none;border-bottom:1px solid #f1f5f9;font-size:.875rem;font-weight:500;color:#475569;cursor:pointer;transition:all .2s ease;position:relative}.category-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#94a3b8;transition:color .2s ease}.category-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:left}.category-option[_ngcontent-%COMP%]   .check-mark[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#6d28d9}.category-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-option[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#faf5ff,#f3e8ff);color:#6d28d9}.category-option[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{color:#6d28d9}.category-option.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#faf5ff,#f3e8ff);color:#6d28d9;font-weight:600}.category-option.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6d28d9}.scroll-container[_ngcontent-%COMP%]{flex:1;max-height:100%;min-height:0;border:2px solid #e2e8f0;border-radius:12px;background:#f8fafc;box-shadow:0 4px 12px #00000014;overflow-y:scroll!important;overflow-x:hidden!important;scrollbar-width:auto;scrollbar-color:#6366f1 #e2e8f0}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:14px;background:transparent}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e2e8f0;border-radius:7px;margin:4px 0}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6366f1;border-radius:7px;border:3px solid #f8fafc;min-height:50px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#4f46e5;border-color:#e2e8f0}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background:#4338ca}.tpl-list[_ngcontent-%COMP%]{height:100%!important;overflow:visible!important;padding:.75rem!important}.template-item[_ngcontent-%COMP%]{border-radius:12px!important;margin:0 0 .75rem!important;padding:0!important;cursor:pointer;transition:all .3s ease;background:#fff;border:2px solid #e2e8f0!important;box-shadow:0 2px 8px #0000000f;min-height:72px}.template-item[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.template-item[_ngcontent-%COMP%]:hover{border-color:#c7d2fe!important;transform:translate(4px);box-shadow:0 6px 20px #6366f126}.template-item.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9ff,#f0f2ff);border-color:#6366f1!important;box-shadow:0 6px 20px #6366f133}.template-item[_ngcontent-%COMP%]:focus-visible{outline:3px solid #6366f1!important;outline-offset:2px}.template-item.mat-list-item[_ngcontent-%COMP%]{height:auto!important}.template-item.mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%], .template-item.mat-list-item[_ngcontent-%COMP%]   .mdc-list-item__content[_ngcontent-%COMP%]{padding:0!important;height:100%!important}.item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem;position:relative}.item-icon[_ngcontent-%COMP%]{width:44px;height:44px;min-width:44px;background:linear-gradient(135deg,#f0f0ff,#e8e8ff);border:2px solid #e0e7ff;border-radius:12px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.item-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px;color:#6366f1}.item-content[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.75rem;min-width:0}.name[_ngcontent-%COMP%]{flex:1;font-size:.9375rem;font-weight:700;color:#1e293b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.run-btn[_ngcontent-%COMP%]{flex-shrink:0;border-radius:10px!important;padding:.625rem 1.125rem!important;font-size:.8125rem!important;font-weight:700!important;background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;box-shadow:0 4px 12px #10b9814d!important}.run-btn[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #10b98166!important}.run-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px!important;width:18px!important;height:18px!important}.selection-indicator[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:60%;background:linear-gradient(180deg,#6366f1,#8b5cf6);border-radius:0 4px 4px 0;animation:_ngcontent-%COMP%_slideInLeft .3s ease}.template-item[_ngcontent-%COMP%]:hover   .item-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e0e7ff,#c7d2fe);transform:scale(1.05) rotate(3deg)}.template-item[_ngcontent-%COMP%]:hover   .name[_ngcontent-%COMP%]{color:#6366f1}.template-item.selected[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6)}.template-item.selected[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff}.template-item.selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#6366f1}.preview-root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:linear-gradient(135deg,#f8fafc,#e2e8f0);overflow:hidden;position:relative;z-index:1;transition:all var(--animation-smooth)}.preview-root[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(120,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgba(120,219,255,.2) 0%,transparent 50%);pointer-events:none;animation:_ngcontent-%COMP%_gradient-shift 15s ease infinite}.preview-root.fullscreen[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999}.preview-header[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#6d28d9,#5b21b6);padding:clamp(.75rem,2vw,1rem) clamp(1rem,3vw,1.5rem);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.2);overflow:hidden;box-shadow:0 4px 24px #0000001a;min-height:auto;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;gap:clamp(.5rem,2vw,.75rem);max-width:1400px;margin:0 auto}.preview-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;flex:1;width:100%;flex-wrap:wrap}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{margin:0;font-size:clamp(1.25rem,4vw,1.5rem);font-weight:800;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.3);letter-spacing:-.02em;text-align:center;word-break:break-word;padding-bottom:.2rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap;justify-content:center}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#ffffff40;border:1px solid rgba(255,255,255,.4);border-radius:24px;font-size:clamp(.75rem,2.5vw,.875rem);font-weight:700;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #00000026;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background:#10b981;border-radius:50%;box-shadow:0 0 0 2px #10b98166;animation:_ngcontent-%COMP%_pulse-status 2s infinite;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%]{font-size:clamp(.75rem,2vw,.8125rem);color:#fff;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,.3);opacity:.95;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:linear-gradient(135deg,#fbbf24,#f59e0b);border:1px solid #d97706;border-radius:24px;font-size:clamp(.75rem,2.5vw,.875rem);font-weight:700;color:#78350f;box-shadow:0 2px 8px #f59e0b4d;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;stroke-width:2.5;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;flex-shrink:0;width:100%;flex-wrap:wrap}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1rem;border:1px solid rgba(255,255,255,.35);background:#fff3;color:#fff;border-radius:10px;font-size:clamp(.75rem,2.5vw,.875rem);font-weight:700;cursor:pointer;transition:all var(--animation-fast);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #0000001a;white-space:nowrap;min-width:auto}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;box-shadow:0 6px 16px #0003}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.refresh-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin-refresh .6s ease}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]{display:flex;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:12px;padding:4px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);flex-wrap:nowrap;overflow:hidden}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .75rem;border:none;background:transparent;color:#ffffffd9;border-radius:8px;font-size:clamp(.7rem,2vw,.8125rem);font-weight:600;cursor:pointer;transition:all var(--animation-fast);white-space:nowrap;min-width:auto}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#fff3}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn.active[_ngcontent-%COMP%]{color:#fff;background:#ffffff59;box-shadow:0 2px 8px #00000026}.modern-placeholder[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;padding:1rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]{position:absolute;inset:0}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;background:var(--accent-gradient);border-radius:50%;opacity:.12;filter:blur(40px);animation:_ngcontent-%COMP%_float-shapes 12s ease-in-out infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:clamp(100px,20vw,200px);height:clamp(100px,20vw,200px);top:15%;left:8%;animation-delay:0s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:clamp(75px,15vw,150px);height:clamp(75px,15vw,150px);top:55%;right:12%;animation-delay:-3s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:clamp(125px,25vw,250px);height:clamp(125px,25vw,250px);bottom:18%;left:18%;animation-delay:-6s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-4[_ngcontent-%COMP%]{width:clamp(90px,18vw,180px);height:clamp(90px,18vw,180px);top:8%;right:25%;animation-delay:-9s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .grid-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(99,102,241,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(99,102,241,.03) 1px,transparent 1px);background-size:clamp(25px,5vw,50px) clamp(25px,5vw,50px);animation:_ngcontent-%COMP%_grid-move 20s linear infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:min(90vw,560px);padding:clamp(1rem,4vw,2rem);animation:_ngcontent-%COMP%_fadeInUp var(--animation-bounce)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]{position:relative;margin:0 auto clamp(1.5rem,4vw,2.5rem);width:clamp(80px,20vw,140px);height:clamp(80px,20vw,140px)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--success-gradient);border-radius:50%;opacity:.12;animation:_ngcontent-%COMP%_pulse-backdrop 3s ease-in-out infinite;filter:blur(20px)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-ring[_ngcontent-%COMP%]{position:absolute;inset:-10px;border:2px solid rgba(99,102,241,.2);border-radius:50%;animation:_ngcontent-%COMP%_rotate-ring 8s linear infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-ring[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;width:clamp(6px,2vw,8px);height:clamp(6px,2vw,8px);background:#6366f1;border-radius:50%;transform:translate(-50%,-50%);box-shadow:0 0 12px #6366f199}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#6366f1;stroke-width:1.5;animation:_ngcontent-%COMP%_float-icon 4s ease-in-out infinite;filter:drop-shadow(0 4px 12px rgba(99,102,241,.2))}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{margin-bottom:clamp(1.5rem,4vw,2.5rem)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1.75rem,5vw,2.5rem);font-weight:900;background:linear-gradient(135deg,#1f2937,#6366f1);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0 0 clamp(.75rem,3vw,1.25rem) 0;letter-spacing:-.03em;line-height:1.2}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(1rem,3vw,1.25rem);color:#64748b;line-height:1.7;margin:0;font-weight:500}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:clamp(.75rem,3vw,1.25rem);flex-wrap:wrap}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:clamp(.75rem,2vw,.875rem) clamp(1rem,3vw,1.5rem);background:#fff;border:2px solid #e2e8f0;border-radius:50px;font-size:clamp(.875rem,2.5vw,.9375rem);font-weight:700;color:#475569;box-shadow:var(--shadow-soft);transition:all var(--animation-smooth);animation:_ngcontent-%COMP%_slideInUp var(--animation-smooth);animation-fill-mode:both;cursor:default;white-space:nowrap}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(1){animation-delay:.15s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(2){animation-delay:.25s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(3){animation-delay:.35s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(14px,4vw,18px);height:clamp(14px,4vw,18px);stroke-width:2.5;transition:all var(--animation-fast);flex-shrink:0}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-medium);color:#6366f1;background:linear-gradient(135deg,#fff,#f8f9ff)}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg)}.preview-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative;z-index:1;margin:0;background:#fff;border-radius:0;box-shadow:none;overflow:hidden;animation:_ngcontent-%COMP%_scaleIn var(--animation-smooth)}.advanced-loader[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffffffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:.08}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{position:absolute;width:clamp(6px,2vw,10px);height:clamp(6px,2vw,10px);background:#6366f1;border-radius:50%;box-shadow:0 0 20px #6366f180;animation:_ngcontent-%COMP%_node-pulse 2s ease-in-out infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-1[_ngcontent-%COMP%]{top:25%;left:25%;animation-delay:0s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-2[_ngcontent-%COMP%]{top:25%;right:25%;animation-delay:.5s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-3[_ngcontent-%COMP%]{bottom:25%;left:25%;animation-delay:1s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-4[_ngcontent-%COMP%]{bottom:25%;right:25%;animation-delay:1.5s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection[_ngcontent-%COMP%]{position:absolute;height:clamp(2px,.5vw,3px);background:linear-gradient(90deg,transparent,#6366f1,transparent);animation:_ngcontent-%COMP%_connection-flow 3s ease-in-out infinite;box-shadow:0 0 10px #6366f14d}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-1[_ngcontent-%COMP%]{top:25%;left:25%;right:25%;animation-delay:0s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-2[_ngcontent-%COMP%]{bottom:25%;left:25%;right:25%;animation-delay:1s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-3[_ngcontent-%COMP%]{top:25%;bottom:25%;left:25%;width:clamp(2px,.5vw,3px);height:auto;background:linear-gradient(180deg,transparent,#6366f1,transparent);animation-delay:2s}.advanced-loader[_ngcontent-%COMP%]   .loader-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:90vw;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{position:relative;width:clamp(50px,12vw,80px);height:clamp(50px,12vw,80px);margin:clamp(1rem,2vw,1rem) auto clamp(1.5rem,4vw,2.5rem)}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{position:absolute;border:clamp(2px,.5vw,3px) solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin-loader 1.2s linear infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%]{width:100%;height:100%;border-top-color:#6366f1;border-right-color:#6366f1;box-shadow:0 0 20px #6366f14d}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%]{width:70%;height:70%;top:15%;left:15%;border-top-color:#8b5cf6;border-left-color:#8b5cf6;animation:_ngcontent-%COMP%_spin-loader 1.2s linear infinite reverse;animation-delay:-.4s;box-shadow:0 0 15px #8b5cf64d}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{width:40%;height:40%;top:30%;left:30%;border-top-color:#06b6d4;border-bottom-color:#06b6d4;animation:_ngcontent-%COMP%_spin-loader 1.2s linear infinite;animation-delay:-.8s;box-shadow:0 0 10px #06b6d44d}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:clamp(1.25rem,4vw,1.5rem);font-weight:800;color:#1f2937;margin:0 0 clamp(.5rem,2vw,.75rem) 0;letter-spacing:-.02em}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(.875rem,3vw,1rem);color:#6b7280;margin:0 0 clamp(1.5rem,4vw,2rem) 0;font-weight:500}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:min(90vw,350px);margin:0 auto}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:clamp(6px,1.5vw,8px);background:#e5e7eb;border-radius:4px;overflow:hidden;box-shadow:inset 0 2px 4px #0000000f}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(135deg,#4facfe,#00f2fe);border-radius:4px;width:0%;animation:_ngcontent-%COMP%_progress-flow 2.5s ease-in-out infinite;box-shadow:0 0 10px #4facfe80}.iframe-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;background:#fff;display:flex;align-items:center;justify-content:center;padding:0}.iframe-wrapper[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:opacity .3s cubic-bezier(.4,0,.2,1);box-shadow:none;border-radius:0;overflow:hidden;background:#fff;opacity:1}.iframe-wrapper.loading[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{opacity:0}.iframe-wrapper[_ngcontent-%COMP%]   .preview-frame[_ngcontent-%COMP%]{width:100%;height:100%;border:none;border-radius:0!important;background:#fff;transition:all var(--animation-smooth)}.iframe-wrapper.desktop-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100%;height:100%}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(768px,85vw);height:100%;box-shadow:0 8px 32px #0000001f;border-radius:12px}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(375px,50vw);height:100%;box-shadow:0 8px 32px #0000001f;border-radius:12px}.premium-error[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:50;padding:1rem}.premium-error[_ngcontent-%COMP%]   .error-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#fef2f2,#fff7f7)}.premium-error[_ngcontent-%COMP%]   .error-background[_ngcontent-%COMP%]   .error-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:radial-gradient(circle at 2px 2px,rgba(239,68,68,.08) 2px,transparent 0);background-size:clamp(12px,3vw,24px) clamp(12px,3vw,24px);animation:_ngcontent-%COMP%_pattern-shift 20s linear infinite}.premium-error[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:min(90vw,480px);padding:clamp(1.5rem,4vw,2.5rem);animation:_ngcontent-%COMP%_bounceIn var(--animation-bounce)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]{position:relative;margin:0 auto clamp(1.5rem,4vw,2rem);width:clamp(60px,15vw,100px);height:clamp(60px,15vw,100px)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]   .error-icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--accent-gradient);border-radius:50%;opacity:.15;animation:_ngcontent-%COMP%_error-pulse 2s ease-in-out infinite;filter:blur(20px)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#ef4444;stroke-width:2;animation:_ngcontent-%COMP%_shake-error .5s ease-in-out;filter:drop-shadow(0 4px 12px rgba(239,68,68,.3))}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{margin-bottom:clamp(1.5rem,4vw,2.5rem)}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:clamp(1.25rem,4vw,1.75rem);font-weight:800;color:#dc2626;margin:0 0 clamp(.75rem,2vw,1rem) 0;letter-spacing:-.02em}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(1rem,3vw,1.125rem);color:#7f1d1d;margin:0 0 clamp(.5rem,2vw,.75rem) 0;font-weight:600}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{font-size:clamp(.875rem,2.5vw,1rem);color:#991b1b;opacity:.9;font-weight:500}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:clamp(.75rem,3vw,1.25rem);flex-wrap:wrap}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:clamp(.75rem,2vw,.875rem) clamp(1.25rem,3vw,1.75rem);border:none;border-radius:10px;font-size:clamp(.875rem,2.5vw,.9375rem);font-weight:700;cursor:pointer;transition:all var(--animation-fast);position:relative;overflow:hidden;white-space:nowrap}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:before, .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#fff3;transform:translate(-100%);transition:transform var(--animation-smooth)}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(14px,4vw,18px);height:clamp(14px,4vw,18px);position:relative;z-index:1;flex-shrink:0}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover:before, .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:hover:before{transform:translate(0)}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 16px #ef44444d}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 32px #ef444466}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]{background:#fff;color:#ef4444;border:2px solid #ef4444;box-shadow:0 2px 8px #ef44441a}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff;transform:translateY(-3px);box-shadow:0 12px 32px #ef44444d}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.4)}50%{opacity:1;transform:scale(1.08)}70%{transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translateY(-50%) translate(-10px)}to{opacity:1;transform:translateY(-50%) translate(0)}}@keyframes _ngcontent-%COMP%_spin-loader{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_spin-refresh{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_progress-flow{0%{width:0%;opacity:.5}50%{width:75%;opacity:1}to{width:100%;opacity:.8}}@keyframes _ngcontent-%COMP%_node-pulse{0%,to{opacity:.3;transform:scale(1);box-shadow:0 0 20px #6366f14d}50%{opacity:1;transform:scale(1.8);box-shadow:0 0 30px #6366f199}}@keyframes _ngcontent-%COMP%_connection-flow{0%,to{opacity:.3}50%{opacity:1}}@keyframes _ngcontent-%COMP%_gradient-shift{0%,to{opacity:1}50%{opacity:.8}}@keyframes _ngcontent-%COMP%_grid-move{0%{transform:translate(0)}to{transform:translate(50px,50px)}}@keyframes _ngcontent-%COMP%_float-shapes{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-40px,-40px) rotate(120deg)}66%{transform:translate(40px,40px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_float-icon{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(5deg)}}@keyframes _ngcontent-%COMP%_rotate-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-backdrop{0%,to{transform:scale(1);opacity:.12}50%{transform:scale(1.15);opacity:.25}}@keyframes _ngcontent-%COMP%_pulse-status{0%,to{opacity:1;transform:scale(1);box-shadow:0 0 0 3px #10b98166}50%{opacity:.6;transform:scale(1.3);box-shadow:0 0 0 6px #10b9811a}}@keyframes _ngcontent-%COMP%_error-pulse{0%,to{transform:scale(1);opacity:.15}50%{transform:scale(1.25);opacity:.35}}@keyframes _ngcontent-%COMP%_shake-error{0%,to{transform:translate(0) rotate(0)}10%,30%,50%,70%,90%{transform:translate(-6px) rotate(-2deg)}20%,40%,60%,80%{transform:translate(6px) rotate(2deg)}}@keyframes _ngcontent-%COMP%_pattern-shift{0%{transform:translate(0) translateY(0)}to{transform:translate(24px) translateY(24px)}}@media (max-width: 1200px){.layout[_ngcontent-%COMP%]{height:calc(100vh - 10px)}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:.875rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(768px,90vw)}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(375px,60vw)}}@media (max-width: 1024px){.left[_ngcontent-%COMP%]{width:380px;min-width:380px}.layout[_ngcontent-%COMP%]{height:calc(100vh - 10px)}.preview-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.875rem}.preview-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.75rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{order:2;width:100%;justify-content:center}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{order:3;width:100%;justify-content:center;flex-wrap:wrap;gap:.75rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:.875rem}}@media (max-width: 1021px){.run-btn[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important}.run-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.run-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0!important}}@media (max-width: 768px){.layout[_ngcontent-%COMP%]{flex-direction:row;height:100vh}.left[_ngcontent-%COMP%]{width:45%;min-width:300px;height:100%;max-height:none;border-right:none;border-bottom:2px solid #e2e8f0;overflow:hidden}.right[_ngcontent-%COMP%]{width:55%;flex:none;height:100%}.list-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}.count-badge[_ngcontent-%COMP%], .category-filter-wrapper[_ngcontent-%COMP%]{width:100%}.category-filter-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.category-dropdown[_ngcontent-%COMP%]{left:0;right:0;min-width:unset}.scroll-container[_ngcontent-%COMP%]{min-height:750px}.modern-list-wrapper[_ngcontent-%COMP%]{padding:.625rem}.count-badge[_ngcontent-%COMP%]{padding:.75rem 1rem;margin-bottom:.875rem}.count-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.count-badge[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{font-size:1.125rem}.count-badge[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{font-size:.8125rem}.tpl-list[_ngcontent-%COMP%]{padding:.625rem!important}.template-item[_ngcontent-%COMP%]{margin-bottom:.625rem!important;min-height:64px}.item-wrapper[_ngcontent-%COMP%]{padding:.875rem 1rem;gap:.875rem}.item-icon[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px}.item-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.name[_ngcontent-%COMP%]{font-size:.875rem}.run-btn[_ngcontent-%COMP%]{padding:.5rem .875rem!important;font-size:.75rem!important}.run-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.run-btn[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important;width:100%!important;height:100%!important}.run-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .run-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0!important;font-size:18px!important;width:18px!important;height:18px!important}.preview-root[_ngcontent-%COMP%]{height:100%}.preview-header[_ngcontent-%COMP%]{padding:clamp(.5rem,1.5vw,.75rem) clamp(.75rem,2vw,1rem);min-height:auto}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:clamp(1rem,3.5vw,1.25rem);text-align:center;line-height:1.2;margin:0}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:clamp(.25rem,1vw,.375rem);flex-wrap:wrap;justify-content:center}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:clamp(.625rem,2vw,.75rem);padding:clamp(.25rem,1vw,.375rem) clamp(.5rem,2vw,.75rem);border-radius:clamp(12px,3vw,16px)}.preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:clamp(.375rem,1.5vw,.5rem) clamp(.5rem,2vw,.75rem);font-size:clamp(.625rem,2vw,.75rem)}.preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{padding:clamp(.25rem,1vw,.375rem) clamp(.375rem,1.5vw,.5rem);font-size:clamp(.6rem,1.8vw,.7rem)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%], .iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:95vw;box-shadow:0 4px 16px #0000001a;border-radius:8px}}@media (max-width: 635px){.layout[_ngcontent-%COMP%]{flex-direction:column;height:auto;min-height:100vh;overflow-y:auto;overflow-x:hidden;position:relative}.left[_ngcontent-%COMP%]{width:100%;min-width:auto;height:100vh;max-height:100vh;border-right:none;border-bottom:2px solid #e2e8f0;overflow:hidden;flex-shrink:0;position:relative;z-index:1}.right[_ngcontent-%COMP%]{width:100%;height:100vh;min-height:100vh;overflow:hidden;flex-shrink:0;position:relative;z-index:0}.scroll-container[_ngcontent-%COMP%]{min-height:0;max-height:100%;overflow-y:auto!important;overflow-x:hidden!important}}@media (max-width: 480px){.layout[_ngcontent-%COMP%]{flex-direction:column;height:auto;min-height:100vh;overflow-y:auto;overflow-x:hidden;position:relative}.left[_ngcontent-%COMP%]{width:100%;min-width:auto;height:100vh;max-height:100vh;border-right:none;border-bottom:2px solid #e2e8f0;overflow:hidden;flex-shrink:0;position:relative;z-index:1}.right[_ngcontent-%COMP%]{width:100%;height:100vh;min-height:100vh;overflow:hidden;flex-shrink:0;position:relative;z-index:0}.scroll-container[_ngcontent-%COMP%]{min-height:0;max-height:100%;overflow-y:auto!important;overflow-x:hidden!important;scrollbar-width:auto;scrollbar-color:#6366f1 #e2e8f0}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e2e8f0;border-radius:6px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6366f1;border-radius:6px;border:2px solid #f8fafc}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#4f46e5}.count-badge[_ngcontent-%COMP%]{padding:.625rem .875rem;gap:.625rem}.count-badge[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{font-size:1rem}.count-badge[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{font-size:.75rem}.category-filter-btn[_ngcontent-%COMP%]{padding:.625rem .875rem;font-size:.8125rem}.category-filter-btn[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:16px;height:16px}.category-filter-btn[_ngcontent-%COMP%]   .category-label[_ngcontent-%COMP%]{font-size:.8125rem}.category-filter-btn[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{width:12px;height:12px}.category-option[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.8125rem}.category-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.item-wrapper[_ngcontent-%COMP%]{gap:.75rem;padding:.75rem .875rem}.item-icon[_ngcontent-%COMP%]{width:36px;height:36px;min-width:36px}.item-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.template-item[_ngcontent-%COMP%]{margin-bottom:.5rem!important;min-height:60px}.preview-header[_ngcontent-%COMP%]{padding:clamp(.375rem,1vw,.5rem) clamp(.75rem,2vw,.875rem)}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:clamp(.875rem,3vw,1.125rem);line-height:1.1}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:clamp(.1875rem,.75vw,.25rem)}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:clamp(.5625rem,1.8vw,.6875rem);padding:clamp(.1875rem,.75vw,.25rem) clamp(.375rem,1.5vw,.625rem);border-radius:clamp(8px,2vw,12px)}.preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:clamp(.25rem,1vw,.375rem) clamp(.375rem,1.5vw,.625rem);border-radius:clamp(4px,1.5vw,6px)}.preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(10px,2.5vw,12px);height:clamp(10px,2.5vw,12px)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]{padding:clamp(1px,.3vw,2px);border-radius:clamp(4px,1.5vw,6px)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{padding:clamp(.1875rem,.75vw,.25rem) clamp(.25rem,1vw,.375rem);border-radius:clamp(3px,1vw,4px)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(6px,2vw,8px);height:clamp(6px,2vw,8px)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.5rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.75rem;width:auto;max-width:200px}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100vw;border-radius:0;box-shadow:none}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100vw;border-radius:4px}}@media (max-width: 768px) and (min-width: 636px){.left[_ngcontent-%COMP%]{width:45%;min-width:300px}.right[_ngcontent-%COMP%]{width:55%}}@media (max-height: 500px) and (orientation: landscape) and (min-width: 900px){.layout[_ngcontent-%COMP%]{flex-direction:row!important;height:100vh!important;overflow:hidden!important}.left[_ngcontent-%COMP%]{width:35%!important;min-width:280px!important;height:100vh!important;max-height:100vh!important;border-right:2px solid #e2e8f0!important;border-bottom:none!important}.list-header[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important;gap:.5rem!important}.category-filter-wrapper[_ngcontent-%COMP%]{width:100%!important}.category-filter-btn[_ngcontent-%COMP%]{width:100%!important;justify-content:center!important}.right[_ngcontent-%COMP%]{width:65%!important;height:100vh!important;max-height:100vh!important;overflow-y:auto!important;overflow-x:hidden!important}.preview-header[_ngcontent-%COMP%]{position:sticky!important;top:0!important;z-index:100!important;padding:.5rem .75rem}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column!important;justify-content:center!important;align-items:center!important;gap:.5rem!important}.preview-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex-direction:row!important;align-items:center!important;justify-content:center!important;gap:.75rem!important;width:100%!important}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{order:initial;width:auto!important;flex-wrap:nowrap!important;gap:.5rem}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{order:initial;width:100%!important;flex-wrap:wrap!important;gap:.5rem;justify-content:center!important}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:left;gap:2rem;max-width:90vw}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]{margin:0;flex-shrink:0}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{margin-bottom:1rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:left}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;text-align:left}}@media (max-height: 500px) and (orientation: landscape) and (max-width: 899px){.layout[_ngcontent-%COMP%]{flex-direction:column!important;height:auto!important;min-height:100vh!important;overflow-y:auto!important;overflow-x:hidden!important}.left[_ngcontent-%COMP%]{width:100%!important;min-width:auto!important;height:100vh!important;max-height:100vh!important;border-right:none!important;border-bottom:2px solid #e2e8f0!important}.list-header[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important;gap:.5rem!important}.category-filter-wrapper[_ngcontent-%COMP%]{width:100%!important}.category-filter-btn[_ngcontent-%COMP%]{width:100%!important;justify-content:center!important}.right[_ngcontent-%COMP%]{width:100%!important;height:100vh!important;min-height:100vh!important;overflow:hidden!important}.preview-header[_ngcontent-%COMP%]{padding:.5rem .75rem}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column!important;justify-content:center!important;align-items:center!important;gap:.5rem!important}.preview-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex-direction:row!important;align-items:center!important;justify-content:center!important;gap:.75rem!important;width:100%!important}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{order:initial;width:auto!important;flex-wrap:nowrap!important;gap:.5rem}.preview-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{order:initial;width:100%!important;flex-wrap:wrap!important;gap:.5rem;justify-content:center!important}.preview-header[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{justify-content:flex-start;gap:.5rem}.preview-header[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.75rem}}@media (prefers-color-scheme: dark){.layout[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b);border-color:#475569}.layout[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#334155)}.error[_ngcontent-%COMP%]{background:#dc262626;border-color:#dc262666;color:#fca5a5}.search-wrapper[_ngcontent-%COMP%]{background:#334155;border-color:#475569}.search-wrapper[_ngcontent-%COMP%]:hover{border-color:#8b5cf6}.search-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#a78bfa}.search-icon[_ngcontent-%COMP%]{color:#94a3b8}.search-input[_ngcontent-%COMP%]{color:#f1f5f9}.search-input[_ngcontent-%COMP%]::placeholder{color:#64748b}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{color:#94a3b8}.search-actions[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background:#1e293b;color:#f87171}.scroll-container[_ngcontent-%COMP%]{background:#334155;border-color:#475569;scrollbar-color:#8b5cf6 #1e293b}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e293b}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#8b5cf6,#a78bfa)}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#7c3aed,#9333ea)}.count-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#334155,#3d4a5c);border-color:#475569}.count-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#a78bfa}.count-badge[_ngcontent-%COMP%]   .count-number[_ngcontent-%COMP%]{color:#f1f5f9}.count-badge[_ngcontent-%COMP%]   .count-label[_ngcontent-%COMP%]{color:#94a3b8}.template-item[_ngcontent-%COMP%]{background:#334155;border-color:#475569!important}.template-item[_ngcontent-%COMP%]:hover{border-color:#8b5cf6!important;background:#3d4a5c}.template-item.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d4a5c,#4c5a6c);border-color:#8b5cf6!important}.name[_ngcontent-%COMP%]{color:#cbd5e1}.preview-root[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b)}.preview-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4c1d95,#3730a3)}.preview-container[_ngcontent-%COMP%]{background:#1e293b}.iframe-wrapper[_ngcontent-%COMP%]{background:#0f172a}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{background:#1e293bcc;border-color:#475569;color:#cbd5e1}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover{background:#6366f11a;border-color:#6366f1;color:#a5b4fc}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]{background:#0f172afa}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f1f5f9}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}.floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%], .neural-network[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .neural-network[_ngcontent-%COMP%]   .connection[_ngcontent-%COMP%], .grid-pattern[_ngcontent-%COMP%]{animation:none!important}}@media (prefers-contrast: high){.preview-header[_ngcontent-%COMP%]{background:#000;border-bottom:2px solid #fff}.template-title[_ngcontent-%COMP%], .template-meta[_ngcontent-%COMP%], .action-btn[_ngcontent-%COMP%], .mode-btn[_ngcontent-%COMP%]{color:#fff!important;border-color:#fff!important}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:#000;-webkit-background-clip:initial;-webkit-text-fill-color:initial;background-clip:initial;color:#000}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{background:#fff;border:2px solid #000;color:#000}.template-item[_ngcontent-%COMP%]{border:2px solid #000!important}.template-item.selected[_ngcontent-%COMP%]{background:#000!important;color:#fff!important}}.action-btn[_ngcontent-%COMP%], .mode-btn[_ngcontent-%COMP%], .loader-spinner[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%], .placeholder-icon[_ngcontent-%COMP%], .error-icon[_ngcontent-%COMP%], .template-item[_ngcontent-%COMP%]{will-change:transform;transform:translateZ(0);backface-visibility:hidden}@media print{.preview-root[_ngcontent-%COMP%]{height:auto;background:#fff}.preview-header[_ngcontent-%COMP%]{background:#6d28d9;color:#fff;-webkit-print-color-adjust:exact;print-color-adjust:exact}.modern-placeholder[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]{page-break-inside:avoid}.left[_ngcontent-%COMP%]{display:none}.right[_ngcontent-%COMP%]{width:100%}}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{padding:clamp(.5rem,1.5vw,.75rem) clamp(.75rem,2vw,1rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:clamp(.375rem,1vw,.5rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:clamp(1rem,3vw,1.25rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:clamp(.25rem,1vw,.375rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%], .preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:clamp(.625rem,2vw,.75rem);padding:clamp(.25rem,1vw,.375rem) clamp(.5rem,1.5vw,.75rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:clamp(.375rem,1vw,.5rem) clamp(.5rem,1.5vw,.75rem);font-size:clamp(.625rem,2vw,.75rem)}.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{padding:clamp(.25rem,1vw,.375rem) clamp(.375rem,1.5vw,.5rem);font-size:clamp(.6rem,1.8vw,.7rem)}@media (max-width: 768px){.preview-root.compact[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{padding:clamp(.375rem,1vw,.5rem) clamp(.5rem,1.5vw,.75rem)}}.info-btn.active[_ngcontent-%COMP%]{background:#fff6!important;border-color:#fff9!important;box-shadow:0 4px 16px #ffffff4d!important}.delete-btn[_ngcontent-%COMP%]:hover{background:#ef44444d!important;border-color:#ef444499!important;color:#fee2e2!important}.delete-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake-delete .3s ease}@keyframes _ngcontent-%COMP%_shake-delete{0%,to{transform:translate(0)}25%{transform:translate(-3px)}75%{transform:translate(3px)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.info-item[_ngcontent-%COMP%]:hover{background:#fff3;border-color:#ffffff59;transform:translateY(-2px)}.info-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#ffffffb3}.info-value[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#fff;word-break:break-word}.info-value[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;background:#ef444433;border:1px solid rgba(239,68,68,.4);border-radius:12px;font-size:.8125rem;font-weight:700;color:#fecaca}.info-value[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:#10b98133;border-color:#10b98166;color:#6ee7b7}.info-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#fff;text-decoration:none;font-weight:600;transition:all .2s ease;padding:.5rem 0}.info-link[_ngcontent-%COMP%]:hover{color:#93c5fd;transform:translate(4px)}@media (max-width: 1024px){.info-banner[_ngcontent-%COMP%]{padding:1.25rem}.info-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:.75rem}.info-item[_ngcontent-%COMP%]{padding:.875rem}}@media (max-width: 768px){.info-banner[_ngcontent-%COMP%]{padding:1rem}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:.625rem}.info-item[_ngcontent-%COMP%]{padding:.75rem}.info-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.info-label[_ngcontent-%COMP%]{font-size:.6875rem}.info-value[_ngcontent-%COMP%]{font-size:.875rem}}@media (max-width: 480px){.info-banner[_ngcontent-%COMP%]{padding:.875rem;margin-top:.75rem}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem}.info-item[_ngcontent-%COMP%]{padding:.625rem}.action-buttons[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .info-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media (prefers-color-scheme: dark){.info-banner[_ngcontent-%COMP%]{background:#1e293b99;border-color:#47556966}.info-item[_ngcontent-%COMP%]{background:#1e293b66;border-color:#4755694d}.info-item[_ngcontent-%COMP%]:hover{background:#33415580;border-color:#64748b66}.info-label[_ngcontent-%COMP%]{color:#e2e8f0b3}.info-value[_ngcontent-%COMP%]{color:#e2e8f0}.info-link[_ngcontent-%COMP%]{color:#93c5fd}.info-link[_ngcontent-%COMP%]:hover{color:#60a5fa}}.info-modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;background:#0009;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;padding:1.5rem;animation:_ngcontent-%COMP%_fadeIn .2s ease;overflow-y:auto}.info-modal-content[_ngcontent-%COMP%]{position:relative;z-index:10000;width:90%;max-width:900px;max-height:90vh;background:linear-gradient(135deg,#6d28d9,#5b21b6);border-radius:24px;box-shadow:0 24px 80px #00000080;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.34,1.56,.64,1);overflow:hidden;display:flex;flex-direction:column;margin:auto}.info-modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;border-bottom:1px solid rgba(255,255,255,.2);flex-shrink:0}.info-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:800;color:#fff;letter-spacing:-.02em}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.25);border-radius:10px;padding:.625rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#fff}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:rotate(90deg) scale(1.1);border-color:#fff6}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:active{transform:rotate(90deg) scale(.95)}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{padding:2rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;overflow-y:auto;overflow-x:hidden;flex:1;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.3) rgba(255,255,255,.1)}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:5px;margin:8px}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:5px}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:1rem;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .2s ease}.info-item[_ngcontent-%COMP%]:hover{background:#ffffff26;border-color:#ffffff59;transform:translateY(-2px)}.info-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(50px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.info-modal-content[_ngcontent-%COMP%]{max-width:95vw;max-height:90vh}.info-modal-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.info-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{padding:1.5rem;grid-template-columns:1fr 1fr;gap:.75rem}}@media (max-width: 480px){.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-height: 600px) and (orientation: landscape){.info-modal-backdrop[_ngcontent-%COMP%]{padding:1rem;align-items:center;overflow-y:auto}.info-modal-content[_ngcontent-%COMP%]{max-width:90vw;max-height:95vh;margin:auto}.info-modal-header[_ngcontent-%COMP%]{padding:.75rem 1.25rem}.info-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{padding:.5rem}.info-modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{padding:1rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.75rem}.info-item[_ngcontent-%COMP%]{padding:.75rem}}@media (max-height: 400px) and (orientation: landscape){.info-modal-content[_ngcontent-%COMP%]{max-height:98vh}.info-modal-header[_ngcontent-%COMP%]{padding:.5rem 1rem}.info-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.info-modal-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}.info-item[_ngcontent-%COMP%]{padding:.5rem .75rem}}'],data:{animation:[Jn("fadeInOut",[hl("in",$e({opacity:1})),hl("out",$e({opacity:0})),In("* => in",[$e({opacity:0}),En("300ms ease-in",$e({opacity:1}))]),In("in => out",[En("300ms ease-out",$e({opacity:0}))])]),Jn("bounceIn",[In(":enter",[$e({opacity:0,transform:"scale(0.3)"}),En("300ms ease-in",$e({opacity:1,transform:"scale(1.05)"})),En("100ms ease-out",$e({transform:"scale(1)"}))])])]},changeDetection:0})}}return o})();function ZT(o,n){if(o&1){let t=xe();O(0,"button",53),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.onEditOriginalTemplate())}),Xt(),O(1,"svg",22),yt(2,"path",37),M()()}}function t8(o,n){o&1&&(O(0,"div",21),Xt(),O(1,"svg",22),yt(2,"path",54),M()())}function e8(o,n){if(o&1){let t=xe();O(0,"button",55),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.onSkipToChat())}),Xt(),O(1,"svg",22),yt(2,"path",56),M()()}}function n8(o,n){o&1&&(O(0,"span",35)(1,"span",36),Xt(),O(2,"svg",22),yt(3,"path",57),M()(),re(),O(4,"span",38),V(5,"Run Test"),M(),yt(6,"span",39),M())}function r8(o,n){o&1&&(O(0,"span",58),yt(1,"span",59),O(2,"span",60),V(3,"Cancel"),M()())}function i8(o,n){if(o&1&&(O(0,"span",61),V(1),on(2,"async"),M()),o&2){let t,e=pt(2);G(),Ke(" ",(t=un(2,1,e.golden$))==null||t.failedEdits==null?null:t.failedEdits.length," ")}}function o8(o,n){o&1&&(O(0,"span",35)(1,"span",36),Xt(),O(2,"svg",22),yt(3,"path",62),M()(),re(),O(4,"span",38),V(5,"Generate Variants"),M(),yt(6,"span",63),M())}function a8(o,n){o&1&&(O(0,"span",58),yt(1,"span",59),O(2,"span",60),V(3,"Cancel"),M()())}function s8(o,n){if(o&1&&(O(0,"div",83)(1,"div",72),Xt(),O(2,"svg",22),yt(3,"path",84),M()(),re(),O(4,"div",74)(5,"span",75),V(6),M(),O(7,"span",76),V(8,"Failed"),M()()()),o&2){let t=pt(2).ngIf;G(6),ae((t.stats==null?null:t.stats.failed)||0)}}function l8(o,n){if(o&1&&(O(0,"div",85)(1,"div",72),Xt(),O(2,"svg",22),yt(3,"path",86),M()(),re(),O(4,"div",74)(5,"span",75),V(6),M(),O(7,"span",76),V(8,"Blocked"),M()()()),o&2){let t=pt(2).ngIf;G(6),ae((t.stats==null?null:t.stats.blocked)||0)}}function c8(o,n){o&1&&(O(0,"div",87)(1,"div",88),Xt(),O(2,"svg",22),yt(3,"path",78),M()(),re(),O(4,"h4"),V(5,"\u{1F389} Perfect Template!"),M(),O(6,"p"),V(7,"Your template is already optimized. No edits needed!"),M()()),o&2&&ct("@fadeIn",void 0)}function d8(o,n){if(o&1&&(O(0,"div",89)(1,"div",90)(2,"mat-icon"),V(3,"schedule"),M(),O(4,"span"),V(5,"Performance Metrics"),M()(),O(6,"div",91)(7,"div",92)(8,"span",93),V(9,"Total:"),M(),O(10,"span",94),V(11),M()(),O(12,"div",92)(13,"span",93),V(14,"Parsing:"),M(),O(15,"span",94),V(16),M()(),O(17,"div",92)(18,"span",93),V(19,"Processing:"),M(),O(20,"span",94),V(21),M()(),O(22,"div",92)(23,"span",93),V(24,"Verification:"),M(),O(25,"span",94),V(26),M()()()()),o&2){let t=pt(2).ngIf,e=pt(2);ct("@expandIn",void 0),G(11),ae(e.formatTime((t.timings==null?null:t.timings.total)||0)),G(5),ae(e.formatTime((t.timings==null?null:t.timings.parsing)||0)),G(5),ae(e.formatTime((t.timings==null?null:t.timings.processing)||0)),G(5),ae(e.formatTime((t.timings==null?null:t.timings.verification)||0))}}function u8(o,n){if(o&1){let t=xe();O(0,"div",65)(1,"div",66)(2,"div",67),Xt(),O(3,"svg",22),yt(4,"path",68),M()(),re(),O(5,"h4"),V(6,"QA Statistics"),M(),O(7,"button",69),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.toggleDebugInfo())}),O(8,"mat-icon"),V(9,"info"),M()()(),O(10,"div",70)(11,"div",71)(12,"div",72),Xt(),O(13,"svg",22),yt(14,"path",73),M()(),re(),O(15,"div",74)(16,"span",75),V(17),M(),O(18,"span",76),V(19,"Total"),M()()(),O(20,"div",77)(21,"div",72),Xt(),O(22,"svg",22),yt(23,"path",78),M()(),re(),O(24,"div",74)(25,"span",75),V(26),M(),O(27,"span",76),V(28,"Applied"),M()()(),qt(29,s8,9,1,"div",79)(30,l8,9,1,"div",80),M(),qt(31,c8,8,1,"div",81)(32,d8,27,5,"div",82),M()}if(o&2){let t=pt().ngIf,e=pt(2);ct("@slideIn",void 0),G(7),Be("active",e.showDebugInfo),G(10),ae((t.stats==null?null:t.stats.total)||0),G(9),ae((t.stats==null?null:t.stats.applied)||0),G(3),ct("ngIf",((t.stats==null?null:t.stats.failed)||0)>0),G(),ct("ngIf",((t.stats==null?null:t.stats.blocked)||0)>0),G(),ct("ngIf",((t.stats==null?null:t.stats.total)||0)===0),G(),ct("ngIf",e.showDebugInfo&&(t==null?null:t.timings))}}function p8(o,n){if(o&1&&(Rn(0),qt(1,u8,33,9,"div",64),Fn()),o&2){let t=n.ngIf;G(),ct("ngIf",t==null?null:t.stats)}}function f8(o,n){if(o&1&&(O(0,"span",109),V(1),M()),o&2){let t=pt().$implicit;G(),ae(t.reason)}}function g8(o,n){if(o&1&&yt(0,"span",110),o&2){let t=pt().$implicit,e=pt(4);ct("innerHTML",e.getHighlightedSentence(t),pl)}}function h8(o,n){if(o&1&&(O(0,"li",100)(1,"div",101)(2,"code",102),V(3),M(),Xt(),O(4,"svg",103),yt(5,"path",104),M(),re(),O(6,"code",105),V(7),M()(),O(8,"div",106),qt(9,f8,2,1,"span",107)(10,g8,1,1,"span",108),M()()),o&2){let t=n.$implicit;ct("@listAnimation",void 0),G(3),ae(t.before),G(4),ae(t.after),G(2),ct("ngIf",t.reason),G(),ct("ngIf",t.fullSentence)}}function m8(o,n){if(o&1&&(O(0,"div",96)(1,"div",66)(2,"div",67),Xt(),O(3,"svg",22),yt(4,"path",37),M()(),re(),O(5,"h4"),V(6,"Applied Edits"),M(),O(7,"span",97),V(8),M()(),O(9,"ul",98),qt(10,h8,11,5,"li",99),M()()),o&2){let t=pt().ngIf,e=pt(2);ct("@slideIn",void 0),G(8),ae((t.changes==null?null:t.changes.length)||0),G(2),ct("ngForOf",t.changes)("ngForTrackBy",e.trackByEdit)}}function v8(o,n){if(o&1&&(Rn(0),qt(1,m8,11,4,"div",95),Fn()),o&2){let t=n.ngIf;G(),ct("ngIf",t==null||t.changes==null?null:t.changes.length)}}function _8(o,n){if(o&1&&(O(0,"span",125),V(1),M()),o&2){let t=pt().$implicit;G(),ae(t.reason)}}function y8(o,n){if(o&1&&(O(0,"li",120)(1,"span",121),V(2,"\u26A0"),M(),O(3,"div",122)(4,"code",123),V(5),M(),qt(6,_8,2,1,"span",124),M()()),o&2){let t=n.$implicit;ct("@listAnimation",void 0),G(5),ae(t.text),G(),ct("ngIf",t.reason)}}function b8(o,n){if(o&1&&(O(0,"div",115)(1,"h5",116),Xt(),O(2,"svg",22),yt(3,"path",117),M(),V(4," Possible Issues "),M(),re(),O(5,"ul",118),qt(6,y8,7,3,"li",119),M()()),o&2){let t=pt(2).ngIf;G(6),ct("ngForOf",t.gibberish)}}function C8(o,n){if(o&1&&(O(0,"li",128)(1,"span",129),V(2,"\u2713"),M(),O(3,"span",130),V(4),M()()),o&2){let t=n.$implicit;ct("@listAnimation",void 0),G(4),ae(t)}}function x8(o,n){if(o&1&&(O(0,"div",115)(1,"h5",116),Xt(),O(2,"svg",22),yt(3,"path",126),M(),V(4," Improvements "),M(),re(),O(5,"ul",118),qt(6,C8,5,2,"li",127),M()()),o&2){let t=pt(2).ngIf;G(6),ct("ngForOf",t.suggestions)}}function O8(o,n){if(o&1&&(O(0,"div",113)(1,"div",66)(2,"div",67),Xt(),O(3,"svg",22),yt(4,"path",78),M()(),re(),O(5,"h4"),V(6,"AI Suggestions"),M()(),qt(7,b8,7,1,"div",114)(8,x8,7,1,"div",114),M()),o&2){let t=pt().ngIf;ct("@slideIn",void 0),G(7),ct("ngIf",t.gibberish==null?null:t.gibberish.length),G(),ct("ngIf",t.suggestions==null?null:t.suggestions.length)}}function P8(o,n){o&1&&(O(0,"div",131),yt(1,"div",132),O(2,"span"),V(3,"Analyzing suggestions..."),M()()),o&2&&ct("@pulse",void 0)}function M8(o,n){if(o&1&&(Rn(0),qt(1,O8,9,3,"div",111)(2,P8,4,1,"div",112),Fn()),o&2){let t=n.ngIf,e=pt(2);G(),ct("ngIf",(t==null||t.gibberish==null?null:t.gibberish.length)||(t==null||t.suggestions==null?null:t.suggestions.length)),G(),ct("ngIf",e.suggestionsLoading)}}function w8(o,n){if(o&1){let t=xe();O(0,"button",133),Yt("click",function(r){return Ut(t),pt(2).onBypassVariants(),Wt(r.stopPropagation())}),Xt(),O(1,"svg",22),yt(2,"path",56),M()()}}function S8(o,n){o&1&&(O(0,"div",134)(1,"div",135)(2,"div",136),yt(3,"div",137)(4,"div",137)(5,"div",137),M(),O(6,"div",138),Xt(),O(7,"svg",22),yt(8,"path",46),M()()(),re(),O(9,"div",139)(10,"h4"),V(11,"Generating Golden Template"),M(),O(12,"p"),V(13,"AI is optimizing your template for the best user experience"),M()()()),o&2&&ct("@fadeIn",void 0)}function T8(o,n){if(o&1&&yt(0,"app-html-preview",142),o&2){let t=pt().ngIf;ct("html",t.html)("loading",!1)("allowScripts",!0)}}function E8(o,n){if(o&1&&(Rn(0),qt(1,T8,1,3,"app-html-preview",141),Fn()),o&2){let t=n.ngIf;pt();let e=fr(4);G(),ct("ngIf",t==null?null:t.html)("ngIfElse",e)}}function k8(o,n){o&1&&(O(0,"div",143)(1,"div",144),Xt(),O(2,"svg",22),yt(3,"path",46),M()(),re(),O(4,"h4"),V(5,"No Golden Template Yet"),M(),O(6,"p"),V(7,'Click "Run Test" to generate the optimized Golden Template with AI improvements'),M(),O(8,"div",145),Xt(),O(9,"svg",22),yt(10,"path",146),M(),re(),O(11,"span"),V(12,"The Golden Template shows your template after AI optimization"),M()()()),o&2&&ct("@fadeIn",void 0)}function A8(o,n){if(o&1&&(Rn(0),qt(1,E8,2,2,"ng-container",140),on(2,"async"),qt(3,k8,13,1,"ng-template",null,1,su),Fn()),o&2){let t=fr(4),e=pt(2);G(),ct("ngIf",un(2,2,e.golden$))("ngIfElse",t)}}function I8(o,n){o&1&&yt(0,"div",162)}function D8(o,n){if(o&1&&(O(0,"div",157)(1,"span",158),V(2),M(),O(3,"div",159),yt(4,"div",160),M(),qt(5,I8,1,0,"div",161),M()),o&2){let t=pt().ngIf,e=pt(2);G(2),no("",t.items.length," / ",t.target||5,""),G(2),ni("width",t.items.length/(t.target||5)*100,"%"),G(),ct("ngIf",e.variantsGenerating)}}function L8(o,n){if(o&1&&(O(0,"span",182),V(1),M()),o&2){let t=pt().$implicit,e=pt(3);G(),ae(e.getFailedEditsCount(t))}}function N8(o,n){if(o&1&&(O(0,"div",189),V(1),M()),o&2){let t=pt().$implicit;G(),ae(t.reason)}}function R8(o,n){if(o&1&&(O(0,"li",183)(1,"div",184)(2,"code",185),V(3),M(),Xt(),O(4,"svg",186),yt(5,"path",104),M(),re(),O(6,"code",187),V(7),M()(),qt(8,N8,2,1,"div",188),M()),o&2){let t=n.$implicit;G(3),ae(t.before),G(4),ae(t.after),G(),ct("ngIf",t.reason)}}function F8(o,n){if(o&1&&(O(0,"li",193)(1,"span",194),V(2,"\u2713"),M(),O(3,"span"),V(4),M()()),o&2){let t=n.$implicit;G(4),ae(t)}}function V8(o,n){if(o&1&&(O(0,"div",190)(1,"div",66)(2,"div",67),Xt(),O(3,"svg",22),yt(4,"path",126),M()(),re(),O(5,"h4"),V(6,"Why This Helps"),M()(),O(7,"ul",191),qt(8,F8,5,1,"li",192),M()()),o&2){let t=pt().$implicit,e=pt(3);G(8),ct("ngForOf",t.why)("ngForTrackBy",e.trackByIndex)}}function z8(o,n){if(o&1){let t=xe();O(0,"div",163)(1,"div",164)(2,"div",165)(3,"span",166),V(4),M(),O(5,"div",167),Xt(),O(6,"svg",22),yt(7,"path",168),M(),V(8," Ready "),M()(),re(),O(9,"div",169),yt(10,"app-html-preview",170),M(),O(11,"div",171)(12,"button",172),Yt("click",function(){let r=Ut(t).$implicit,i=pt().ngIf,a=pt().ngIf,s=pt();return Wt(s.onUseVariant(a,i.runId,r.no))}),O(13,"span",173),Xt(),O(14,"svg",22),yt(15,"path",168),M(),re(),O(16,"span"),V(17,"Use This Template"),M()()()()(),O(18,"div",174)(19,"div",175)(20,"div",66)(21,"div",67),Xt(),O(22,"svg",22),yt(23,"path",176),M()(),re(),O(24,"h4"),V(25,"What Changed"),M(),O(26,"button",177),Yt("click",function(){let r=Ut(t).$implicit,i=pt().ngIf,a=pt(2);return Wt(a.onEditVariant(i.runId,r.no,r))}),O(27,"mat-icon"),V(28,"edit"),M(),qt(29,L8,2,1,"span",178),M()(),O(30,"ul",179),qt(31,R8,9,3,"li",180),M()(),qt(32,V8,9,2,"div",181),M()()}if(o&2){let t=n.$implicit,e=pt(3);ct("@variantAnimation",void 0),G(4),Ke("Variant ",t.no,""),G(6),ct("html",t.html)("loading",!1)("allowScripts",!0),G(16),Be("has-failed-edits",e.hasFailedEdits(t)),ct("matTooltip",e.getEditTooltip(t)),G(3),ct("ngIf",e.hasFailedEdits(t)),G(2),ct("ngForOf",t.changes)("ngForTrackBy",e.trackByEdit),G(),ct("ngIf",t.why==null?null:t.why.length)}}function j8(o,n){o&1&&(O(0,"div",195)(1,"div",196)(2,"div",197),yt(3,"div",198)(4,"div",199),M(),O(5,"div",200)(6,"div",201),yt(7,"div",202)(8,"div",202)(9,"div",203),M()(),yt(10,"div",204),M()()),o&2&&ct("@variantAnimation",void 0)}function H8(o,n){if(o&1&&(O(0,"section",147)(1,"div",148)(2,"div",149)(3,"div",150),Xt(),O(4,"svg",22),yt(5,"path",151),M()(),re(),O(6,"h3",13),V(7,"Generated Variants"),M(),yt(8,"div",152),M(),qt(9,D8,6,5,"div",153),M(),O(10,"div",154),qt(11,z8,33,12,"div",155)(12,j8,11,1,"div",156),M()()),o&2){let t=n.ngIf,e=pt(2);ct("@expandIn",void 0),G(9),ct("ngIf",e.variantsGenerating||(t==null||t.items==null?null:t.items.length)),G(2),ct("ngForOf",t.items)("ngForTrackBy",e.trackByIndex),G(),ct("ngForOf",e.getSkeletonArray(e.variantsGenerating?(t==null?null:t.target)||5:0,(t==null||t.items==null?null:t.items.length)||0))("ngForTrackBy",e.trackByIndex)}}function B8(o,n){if(o&1){let t=xe();O(0,"div",213)(1,"div",214)(2,"mat-icon"),V(3,"pending"),M(),O(4,"h3"),V(5,"No Tests Run Yet"),M()(),O(6,"button",215),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.closeVisualEditorModal())}),O(7,"mat-icon"),V(8,"close"),M()()()}}function U8(o,n){if(o&1&&(O(0,"span",217),V(1),on(2,"async"),M()),o&2){let t,e=pt(4);G(),Ke(" ",(t=un(2,1,e.golden$))==null||t.failedEdits==null?null:t.failedEdits.length," ")}}function W8(o,n){if(o&1){let t=xe();O(0,"div",213)(1,"div",214)(2,"mat-icon"),V(3,"warning"),M(),O(4,"h3"),V(5,"Failed Edits Detected"),M()(),qt(6,U8,3,3,"span",216),on(7,"async"),O(8,"button",215),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.closeVisualEditorModal())}),O(9,"mat-icon"),V(10,"close"),M()()()}if(o&2){let t,e=pt(3);G(6),ct("ngIf",(t=un(7,1,e.golden$))==null||t.failedEdits==null?null:t.failedEdits.length)}}function G8(o,n){if(o&1){let t=xe();O(0,"div",213)(1,"div",214)(2,"mat-icon"),V(3,"check_circle"),M(),O(4,"h3"),V(5),on(6,"async"),M()(),O(7,"button",215),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.closeVisualEditorModal())}),O(8,"mat-icon"),V(9,"close"),M()()()}if(o&2){let t,e=pt(3);G(5),ae(((t=un(6,1,e.golden$))==null||t.stats==null?null:t.stats.total)===0?"Perfect Template":"All Edits Applied")}}function K8(o,n){o&1&&(Rn(0),O(1,"div",218)(2,"mat-icon"),V(3,"info"),M(),O(4,"h4"),V(5,"Template Not Tested"),M(),O(6,"p"),V(7,`This template hasn't been tested yet. Click "Run Test" to check for issues and validate all edits.`),M(),O(8,"div",219)(9,"span"),V(10,'Click the "Run Test" button below to begin'),M(),O(11,"mat-icon"),V(12,"arrow_downward"),M()()(),Fn())}function q8(o,n){if(o&1&&(O(0,"li")(1,"code"),V(2),M()()),o&2){let t=n.$implicit;G(2),ae(t)}}function $8(o,n){if(o&1&&(O(0,"div",237)(1,"strong"),V(2,"Try searching for:"),M(),O(3,"ul"),qt(4,q8,3,1,"li",238),M()()),o&2){let t=pt(2).$implicit;G(4),ct("ngForOf",t.diagnostics==null||t.diagnostics.manualFixGuidance==null||t.diagnostics.manualFixGuidance.searchHints==null?null:t.diagnostics.manualFixGuidance.searchHints.slice(0,3))}}function Y8(o,n){o&1&&(O(0,"mat-icon",242),V(1,"arrow_forward"),M())}function X8(o,n){if(o&1&&(O(0,"span")(1,"code"),V(2),M(),V(3),qt(4,Y8,2,0,"mat-icon",241),M()),o&2){let t=n.$implicit,e=n.last;G(2),Ke("<",t.tag,">"),G(),Ke(' "',t.textContent,'" '),G(),ct("ngIf",!e)}}function Q8(o,n){if(o&1&&(O(0,"div",239)(1,"strong"),V(2,"Split across these elements:"),M(),O(3,"div",240),qt(4,X8,5,3,"span",238),M()()),o&2){let t=pt(2).$implicit;G(4),ct("ngForOf",t.diagnostics==null||t.diagnostics.manualFixGuidance==null?null:t.diagnostics.manualFixGuidance.affectedElements)}}function J8(o,n){if(o&1&&(O(0,"div",232)(1,"div",233)(2,"mat-icon"),V(3,"lightbulb"),M()(),O(4,"div",234)(5,"strong"),V(6,"How to Fix:"),M(),O(7,"p"),V(8),M(),qt(9,$8,5,1,"div",235)(10,Q8,5,1,"div",236),M()()),o&2){let t=pt().$implicit;G(8),ae(t.diagnostics==null||t.diagnostics.manualFixGuidance==null?null:t.diagnostics.manualFixGuidance.recommendation),G(),ct("ngIf",t.diagnostics==null||t.diagnostics.manualFixGuidance==null||t.diagnostics.manualFixGuidance.searchHints==null?null:t.diagnostics.manualFixGuidance.searchHints.length),G(),ct("ngIf",t.diagnostics==null||t.diagnostics.manualFixGuidance==null||t.diagnostics.manualFixGuidance.affectedElements==null?null:t.diagnostics.manualFixGuidance.affectedElements.length)}}function Z8(o,n){if(o&1){let t=xe();O(0,"div",243)(1,"button",244),Yt("click",function(r){return Ut(t),Wt(r.stopPropagation())}),O(2,"mat-icon"),V(3,"bug_report"),M(),O(4,"span"),V(5,"Show Diagnostics"),M()(),O(6,"div",245)(7,"div",246)(8,"span"),V(9,"Raw Occurrences:"),M(),O(10,"strong"),V(11),M()(),O(12,"div",246)(13,"span"),V(14,"Normalized:"),M(),O(15,"strong"),V(16),M()(),O(17,"div",246)(18,"span"),V(19,"Context Match:"),M(),O(20,"strong"),V(21),M()(),O(22,"div",246)(23,"span"),V(24,"Crosses Boundary:"),M(),O(25,"strong"),V(26),M()()()()}if(o&2){let t=pt().$implicit;G(11),ae(t.diagnostics.rawOccurrences||0),G(5),ae(t.diagnostics.normalizedOccurrences||0),G(5),ae(t.diagnostics.contextMatched?"\u2713 Yes":"\u2717 No"),G(5),ae(t.diagnostics.crossesBoundary?"\u2713 Yes":"\u2717 No")}}function tE(o,n){if(o&1&&(O(0,"li",224)(1,"div",225)(2,"mat-icon"),V(3),M(),O(4,"span"),V(5),M()(),O(6,"div",226)(7,"code",227),V(8),M(),O(9,"mat-icon",228),V(10,"arrow_forward"),M(),O(11,"code",229),V(12),M()(),qt(13,J8,11,3,"div",230)(14,Z8,27,4,"div",231),M()),o&2){let t=n.$implicit,e=pt(4);G(),vc(e.getStatusColor(t.status||"not_found")),G(2),ae(e.getStatusIcon(t.status||"not_found")),G(2),ae(e.getStatusLabel(t.status||"not_found")),G(3),Ke('"',t.find,'"'),G(4),Ke('"',t.replace,'"'),G(),ct("ngIf",t.diagnostics==null?null:t.diagnostics.manualFixGuidance),G(),ct("ngIf",e.showDebugInfo&&t.diagnostics)}}function eE(o,n){if(o&1&&(Rn(0),O(1,"div",220)(2,"mat-icon"),V(3,"info"),M(),O(4,"p"),V(5,"The following edits could not be applied automatically. Please use the Visual Editor to fix them manually."),M()(),O(6,"div",221)(7,"ul",222),qt(8,tE,15,8,"li",223),on(9,"async"),M()(),Fn()),o&2){let t,e=pt(3);G(8),ct("ngForOf",(t=un(9,1,e.golden$))==null?null:t.failedEdits)}}function nE(o,n){o&1&&(Rn(0),O(1,"h4"),V(2,"Perfect Template!"),M(),O(3,"p"),V(4,"Your template is already optimized and doesn't need any edits. You can still use the Visual Editor for additional customizations if needed."),M(),Fn())}function rE(o,n){o&1&&(Rn(0),O(1,"h4"),V(2,"All Edits Applied Successfully"),M(),O(3,"p"),V(4,"All automated edits have been applied successfully. You can use the Visual Editor for additional customizations if needed."),M(),Fn())}function iE(o,n){if(o&1&&(Rn(0),O(1,"div",247)(2,"mat-icon"),V(3,"check_circle"),M(),qt(4,nE,5,0,"ng-container",43),on(5,"async"),qt(6,rE,5,0,"ng-container",43),on(7,"async"),M(),Fn()),o&2){let t,e,r=pt(3);G(4),ct("ngIf",(((t=un(5,2,r.golden$))==null||t.stats==null?null:t.stats.total)||0)===0),G(2),ct("ngIf",(((e=un(7,4,r.golden$))==null||e.stats==null?null:e.stats.total)||0)>0)}}function oE(o,n){if(o&1){let t=xe();O(0,"button",248),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.navigateToVisualEditor())}),O(1,"mat-icon"),V(2,"edit"),M(),V(3," Open Visual Editor "),M()}}function aE(o,n){if(o&1){let t=xe();O(0,"button",248),Yt("click",function(){Ut(t);let r=pt(3);return r.closeVisualEditorModal(),Wt(r.onGenerateGolden(r.templateId))}),O(1,"mat-icon"),V(2,"play_arrow"),M(),V(3," Run Test Now "),M()}}function sE(o,n){if(o&1){let t=xe();O(0,"div",205)(1,"div",206),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.closeVisualEditorModal())}),M(),O(2,"div",207),qt(3,B8,9,0,"div",208)(4,W8,11,3,"div",208)(5,G8,10,3,"div",208),O(6,"div",209),qt(7,K8,13,0,"ng-container",43)(8,eE,10,3,"ng-container",43),on(9,"async"),qt(10,iE,8,6,"ng-container",43),M(),O(11,"div",210)(12,"button",211),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.closeVisualEditorModal())}),V(13,"Cancel"),M(),qt(14,oE,4,0,"button",212)(15,aE,4,0,"button",212),M()()()}if(o&2){let t,e=pt(2);G(2),ct("@modalContentAnimation",void 0),G(),ct("ngIf",e.visualEditorButtonColor==="orange"),G(),ct("ngIf",e.visualEditorButtonColor==="red"),G(),ct("ngIf",e.visualEditorButtonColor==="green"),G(2),ct("ngIf",e.visualEditorButtonColor==="orange"),G(),ct("ngIf",e.visualEditorButtonColor==="red"&&((t=un(9,9,e.golden$))==null||t.failedEdits==null?null:t.failedEdits.length)),G(2),ct("ngIf",e.visualEditorButtonColor==="green"),G(4),ct("ngIf",e.visualEditorButtonColor!=="orange"),G(),ct("ngIf",e.visualEditorButtonColor==="orange")}}function lE(o,n){if(o&1){let t=xe();O(0,"div",3)(1,"div",4),yt(2,"div",5)(3,"div",6)(4,"div",7),M(),O(5,"div",8)(6,"section",9)(7,"div",10),qt(8,ZT,3,0,"button",11)(9,t8,3,0,"div",12),O(10,"h3",13),V(11,"Original Template"),M(),yt(12,"div",14),qt(13,e8,3,0,"button",15),M(),O(14,"div",16)(15,"div",17)(16,"app-html-preview",18),Yt("iframeLoaded",function(){Ut(t);let r=pt();return Wt(r.onTemplatePreviewLoaded())}),M()()()(),O(17,"section",19)(18,"div",20)(19,"div",21),Xt(),O(20,"svg",22),yt(21,"path",23),M()(),re(),O(22,"h3",13),V(23,"AI Tools & Analysis"),M(),yt(24,"div",14),O(25,"button",24)(26,"mat-icon"),V(27,"info_outline"),M()(),O(28,"mat-menu",25,0)(30,"div",26),Yt("click",function(r){return Ut(t),Wt(r.stopPropagation())}),O(31,"h4"),V(32,"\u26A0\uFE0F Important Notice"),M(),O(33,"div",27)(34,"p"),V(35,"AI will make mistakes due to its unpredictable nature and text replacement using AI will only happen under manual supervision."),M()(),O(36,"div",27)(37,"p"),V(38,"Editing HTML using AI is astonishingly difficult due to the HTML complexity, poorly written HTML, and not following best practices."),M()(),O(39,"div",28),V(40," Always review AI changes before applying! and use editor if required. "),M()()()(),O(41,"div",29)(42,"div",30)(43,"button",31),Yt("click",function(){let r=Ut(t).ngIf,i=pt();return Wt(i.goldenLoading?i.cancelGolden():i.onGenerateGolden(r))}),qt(44,n8,7,0,"span",32)(45,r8,4,0,"span",33),M(),O(46,"button",34),Yt("click",function(r){return Ut(t),pt().openVisualEditorModal(),Wt(r.stopPropagation())}),O(47,"span",35)(48,"span",36),Xt(),O(49,"svg",22),yt(50,"path",37),M()(),re(),O(51,"span",38),V(52,"Failed Edits"),M(),yt(53,"span",39),M(),qt(54,i8,3,3,"span",40),on(55,"async"),M()(),O(56,"div",41)(57,"button",42),on(58,"async"),Yt("click",function(){let r=Ut(t).ngIf,i=pt();return Wt(i.variantsGenerating?i.cancelVariants():i.onGenerateVariants(r))}),qt(59,o8,7,0,"span",32)(60,a8,4,0,"span",33),M()(),qt(61,p8,2,1,"ng-container",43),on(62,"async"),qt(63,v8,2,1,"ng-container",43),on(64,"async"),qt(65,M8,3,2,"ng-container",43),on(66,"async"),M()(),O(67,"section",44),Yt("click",function(){Ut(t);let r=pt();return Wt(r.onGoldenTemplateClick())}),O(68,"div",10)(69,"div",45),Xt(),O(70,"svg",22),yt(71,"path",46),M()(),re(),O(72,"h3",13),V(73,"Golden Preview"),M(),yt(74,"div",47),qt(75,w8,3,0,"button",48),on(76,"async"),M(),O(77,"div",49),qt(78,S8,14,1,"div",50)(79,A8,5,4,"ng-container",43),M()()(),qt(80,H8,13,6,"section",51),on(81,"async"),qt(82,sE,16,11,"div",52),M()}if(o&2){let t,e,r,i=fr(29),a=pt();G(6),ct("@fadeInUp",void 0),G(2),ct("ngIf",!a.templateLoading),G(),ct("ngIf",a.templateLoading),G(4),ct("ngIf",a.templateId),G(3),ct("html",a.templateHtml)("loading",a.templateLoading)("allowScripts",!0),G(),ct("@fadeInUp",void 0),G(8),ct("matMenuTriggerFor",i),G(18),Be("loading",a.goldenLoading),G(),ct("ngIf",!a.goldenLoading),G(),ct("ngIf",a.goldenLoading),G(),Be("orange",a.visualEditorButtonColor==="orange")("red",a.visualEditorButtonColor==="red")("green",a.visualEditorButtonColor==="green"),G(8),ct("ngIf",(t=un(55,36,a.golden$))==null||t.failedEdits==null?null:t.failedEdits.length),G(3),Be("loading",a.variantsGenerating),ct("disabled",!a.variantsGenerating&&(a.goldenLoading||!((e=un(58,38,a.golden$))!=null&&e.html))),G(2),ct("ngIf",!a.variantsGenerating),G(),ct("ngIf",a.variantsGenerating),G(),ct("ngIf",un(62,40,a.golden$)),G(2),ct("ngIf",un(64,42,a.golden$)),G(2),ct("ngIf",un(66,44,a.suggestions$)),G(2),Be("shake-animation",a.shouldShake),ct("@fadeInUp",void 0),G(8),ct("ngIf",(r=un(76,46,a.golden$))==null?null:r.html),G(3),ct("ngIf",a.goldenLoading),G(),ct("ngIf",!a.goldenLoading),G(),ct("ngIf",un(81,48,a.variants$)),G(2),ct("ngIf",a.showVisualEditorModal)}}var FC=(()=>{class o{constructor(){this.ar=ye(Ai),this.qa=ye(Hb),this.router=ye(jn),this.http=ye(xs),this.templatesService=ye(Ps),this.previewCache=ye(Cc),this.cdr=ye(qr),this.snackBar=ye(Os),this.templateState=ye(Ms),this.GOLDEN_TIMEOUT=18e4,this.SUBJECTS_TIMEOUT=6e4,this.SUGGESTIONS_TIMEOUT=9e4,this.VARIANTS_START_TIMEOUT=6e4,this.VARIANTS_NEXT_TIMEOUT=12e4,this.VARIANTS_TOTAL_TIMEOUT=6e5,this.templateId=null,this.goldenAborted=!1,this.suggestionsAborted=!1,this.variantsAborted=!1,this.subscriptions=[],this.templateHtml="",this.templateLoading=!0,this.id$=this.ar.paramMap.pipe(eo(e=>e.get("id")),Uy(1)),this.goldenSubject=new Wr(null),this.golden$=this.goldenSubject.asObservable(),this.goldenLoading=!1,this.showVisualEditorModal=!1,this.visualEditorButtonColor="orange",this.shouldShake=!1,this.SHAKE_FLAG_KEY="qa_shake_animation",this.suggestionsSubject=new Wr(null),this.suggestions$=this.suggestionsSubject.asObservable(),this.suggestionsLoading=!1,this.variantsRunId=null,this.variantsSubject=new Wr(null),this.variants$=this.variantsSubject.asObservable(),this.variantsGenerating=!1,this.showDebugInfo=!1,this.trackByIndex=e=>e,this.trackByEdit=(e,r)=>r.before+"|"+r.after+"|"+(r.parent||""),this.trackByFailedEdit=(e,r)=>`${r.find}_${r.replace}_${e}`;let t=this.id$.subscribe(e=>vn(this,null,function*(){this.templateId=e;let r=yield this.qa.getGoldenCached(e),i=yield this.qa.getSuggestionsCached(e),a=yield this.qa.getVariantsRunCached(e);this.goldenSubject.next(r),this.suggestionsSubject.next(i);let s=a;if(a){a.items?.forEach((p,g)=>{});let u=a.items?.length||0;u>0&&u<a.target&&(s=Jo(Tr({},a),{target:u})),this.variantsSubject.next(s),this.variantsGenerating=!1}this.variantsRunId=s?.runId||null,r?.html&&(this.goldenLoading=!1,this.updateVisualEditorButtonColor(r.failedEdits)),i&&(this.suggestionsLoading=!1),this.variantsGenerating&&(this.variantsGenerating=!1),this.templateState.debugState(e);let l=`visual_editor_${e}_return_flag`;if(localStorage.getItem(l)==="true"&&this.templateState.hasEdits(e)){let u=this.templateState.getEditingContext(e),p=this.templateState.getCurrentTemplate(e);if(u?.type==="variant"&&p){let g=this.templateState.getTrueOriginalTemplate(e);g?(this.templateHtml=g,this.templateLoading=!1,localStorage.setItem(`template_state_${e}_original`,g)):yield this.loadOriginalTemplate(e),this.updateVariantInUI(u.runId,u.variantNo,p),localStorage.removeItem(l),this.cdr.markForCheck()}else if(u?.type==="original"&&p)this.templateHtml=p,this.templateLoading=!1,this.previewCache.set(e,p),yield this.handleVisualEditorReturn(e,p),localStorage.removeItem(l),this.cdr.markForCheck();else if(u?.type==="golden"&&p){yield this.handleVisualEditorReturn(e,p);let g=this.templateState.getTrueOriginalTemplate(e);g?(this.templateHtml=g,this.templateLoading=!1,localStorage.setItem(`template_state_${e}_original`,g)):yield this.loadOriginalTemplate(e),localStorage.removeItem(l),this.cdr.markForCheck()}else this.loadOriginalTemplate(e)}else{let u=this.templateState.getEditingContext(e),p=this.templateState.getOriginalTemplate(e);p?(this.templateHtml=p,this.templateLoading=!1,this.cdr.markForCheck()):this.loadOriginalTemplate(e)}this.cdr.markForCheck()}));this.subscriptions.push(t)}handleBeforeUnload(t){if(this.isGenerating()){let e=this.getLoadingStateMessage();t.preventDefault(),t.returnValue=e;return}}canDeactivate(){if(!this.isGenerating())return!0;let t=this.getLoadingStateMessage(),e=confirm(`${t}

Are you sure you want to leave? All progress will be lost.`);return e&&this.cleanupOnExit(),e}isGenerating(){return this.goldenLoading||this.variantsGenerating}getLoadingStateMessage(){return this.isGenerating()?"\u26A0\uFE0F Generation is in progress and will be lost if you leave.":""}cleanupOnExit(){this.goldenLoading&&(this.goldenAborted=!0,this.goldenLoading=!1,this.goldenSub&&(this.goldenSub.unsubscribe(),this.goldenSub=void 0)),this.variantsGenerating&&(this.variantsAborted=!0,this.variantsGenerating=!1),this.clearAllTimeouts(),this.templateId&&this.cleanupVisualEditorFlags(this.templateId)}cleanupVisualEditorFlags(t){let e=`visual_editor_${t}_snapshot_html`,r=`visual_editor_${t}_editing_mode`,i=`visual_editor_${t}_variant_meta`,a=`visual_editor_${t}_edited_html`,s=`visual_editor_${t}_return_flag`;localStorage.removeItem(e),localStorage.removeItem(r),localStorage.removeItem(i),localStorage.removeItem(s),sessionStorage.removeItem(e),sessionStorage.removeItem(r),sessionStorage.removeItem(i)}ngOnDestroy(){this.cleanupOnExit(),this.goldenSub&&this.goldenSub.unsubscribe(),this.suggestionsSub&&this.suggestionsSub.unsubscribe(),this.subscriptions.forEach(t=>t.unsubscribe())}clearAllTimeouts(){this.goldenTimeoutId&&clearTimeout(this.goldenTimeoutId),this.suggestionsTimeoutId&&clearTimeout(this.suggestionsTimeoutId),this.variantsTimeoutId&&clearTimeout(this.variantsTimeoutId),this.variantsTotalTimeoutId&&clearTimeout(this.variantsTotalTimeoutId)}getSkeletonArray(t,e){let r=t-e;return Array(Math.max(0,r)).fill(0)}onBypassVariants(){if(!this.templateId){this.showWarning("Template ID not found");return}let t=this.goldenSubject.value;if(!t?.html){this.showWarning("No golden template available to bypass with");return}let e={runId:`bypass-${this.templateId}`,target:1,items:[{no:1,html:t.html,changes:[],why:["Using Golden Template directly - variants generation bypassed"],artifacts:{usedIdeas:[]}}]};this.qa.clearChatForRun(e.runId,1),this.qa.clearSnapsForRun(e.runId),this.qa.clearValidLinks(e.runId),this.qa.clearGrammarCheck(e.runId,1),sessionStorage.removeItem(`template_modal_${e.runId}_1`);try{sessionStorage.setItem(`synthetic_run_${e.runId}`,JSON.stringify(e));let r={role:"assistant",text:`Hi! I'm here to help refine your email template. Here's what I can do:

\u2022 Design Ideas \u2013 Ask for layout, color, or content suggestions

\u2022 SEO Tips \u2013 Get recommendations for better deliverability and engagement

\u2022 QA Review \u2013 Get feedback on tone, clarity, and professional quality

\u2022 Content Strategy \u2013 Discuss improvements to structure and messaging

What would you like to improve?`,json:null,ts:Date.now()},i={html:t.html,messages:[r]};this.qa.saveChat(e.runId,1,i)}catch{}this.router.navigate(["/qa",this.templateId,"use",e.runId,1])}onSkipToChat(){if(!this.templateId){this.showWarning("Template ID not found");return}if(!this.templateHtml||this.templateLoading){this.showWarning("Template is still loading. Please wait...");return}let t={runId:`skip-${this.templateId}`,target:1,items:[{no:1,html:this.templateHtml,changes:[],why:["Original template - skipped generation"],artifacts:{usedIdeas:[]}}]};this.qa.clearChatForRun(t.runId,1),this.qa.clearSnapsForRun(t.runId),this.qa.clearValidLinks(t.runId),this.qa.clearGrammarCheck(t.runId,1),sessionStorage.removeItem(`template_modal_${t.runId}_1`);try{sessionStorage.setItem(`synthetic_run_${t.runId}`,JSON.stringify(t));let e={role:"assistant",text:`Hi! I'm here to help refine your email template. Here's what I can do:

\u2022 Design Ideas \u2013 Ask for layout, color, or content suggestions

\u2022 SEO Tips \u2013 Get recommendations for better deliverability and engagement

\u2022 QA Review \u2013 Get feedback on tone, clarity, and professional quality

\u2022 Content Strategy \u2013 Discuss improvements to structure and messaging

What would you like to improve?`,json:null,ts:Date.now()},r={html:this.templateHtml,messages:[e]};this.qa.saveChat(t.runId,1,r)}catch{}this.router.navigate(["/qa",this.templateId,"use",t.runId,1])}onGenerateGolden(t){if(this.goldenLoading)return;localStorage.removeItem(`visual_editor_${t}_golden_html`),localStorage.removeItem(`visual_editor_${t}_snapshot_html`),localStorage.removeItem(`visual_editor_${t}_editing_mode`),localStorage.removeItem(`visual_editor_${t}_failed_edits`),localStorage.removeItem(`visual_editor_${t}_original_stats`),this.goldenLoading=!0,this.goldenAborted=!1,this.cdr.markForCheck();let e=`${this.SHAKE_FLAG_KEY}_${t}`;sessionStorage.removeItem(e),this.goldenTimeoutId=window.setTimeout(()=>{this.handleGoldenTimeout()},this.GOLDEN_TIMEOUT),this.goldenSub=this.qa.generateGolden(t,!0).pipe(Zd(this.GOLDEN_TIMEOUT),nf({count:2,delay:3e3,resetOnSuccess:!0}),vs(r=>{throw r.name==="TimeoutError"?new Error("Golden template generation timed out. Please try again."):r})).subscribe({next:r=>{this.goldenAborted||(this.goldenTimeoutId&&(clearTimeout(this.goldenTimeoutId),this.goldenTimeoutId=void 0),this.goldenSubject.next(r),this.updateVisualEditorButtonColor(r.failedEdits),r.failedEdits&&r.failedEdits.length>0&&this.triggerShakeAnimationOnce(t),this.cdr.markForCheck())},error:r=>{if(this.goldenAborted)return;this.goldenTimeoutId&&(clearTimeout(this.goldenTimeoutId),this.goldenTimeoutId=void 0),this.goldenLoading=!1,this.goldenAborted=!0;let i=this.getErrorMessage(r,"golden template generation");this.showError(i),this.cdr.markForCheck()},complete:()=>{this.goldenAborted||(this.goldenLoading=!1,this.cdr.markForCheck())}})}handleGoldenTimeout(){this.goldenLoading=!1,this.goldenAborted=!0,this.showError("Golden template generation is taking longer than expected. The server might be busy. Please try again."),this.cdr.markForCheck()}cancelGolden(){this.goldenLoading&&(this.goldenAborted=!0,this.goldenLoading=!1,this.goldenSub&&(this.goldenSub.unsubscribe(),this.goldenSub=void 0),this.goldenTimeoutId&&(clearTimeout(this.goldenTimeoutId),this.goldenTimeoutId=void 0),this.cdr.markForCheck())}onAnalyzeSuggestions(t){this.suggestionsLoading||(this.suggestionsLoading=!0,this.suggestionsAborted=!1,this.cdr.markForCheck(),this.suggestionsTimeoutId=window.setTimeout(()=>{this.handleSuggestionsTimeout()},this.SUGGESTIONS_TIMEOUT),this.suggestionsSub=this.qa.generateSuggestions(t,!0).pipe(Zd(this.SUGGESTIONS_TIMEOUT),nf({count:2,delay:3e3,resetOnSuccess:!0}),vs(e=>{throw e.name==="TimeoutError"?new Error("Suggestions analysis timed out. Please try again."):e})).subscribe({next:e=>{this.suggestionsAborted||(this.suggestionsTimeoutId&&(clearTimeout(this.suggestionsTimeoutId),this.suggestionsTimeoutId=void 0),this.suggestionsSubject.next(e),this.showSuccess("Suggestions analysis complete!"),setTimeout(()=>{let r=document.querySelector(".col-2 .scrollable-content"),i=document.querySelector(".suggestions-panel");if(r&&i){let a=r.getBoundingClientRect(),l=i.getBoundingClientRect().top-a.top+r.scrollTop;r.scrollTo({top:l-20,behavior:"smooth"})}},300))},error:e=>{if(this.suggestionsAborted)return;this.suggestionsTimeoutId&&(clearTimeout(this.suggestionsTimeoutId),this.suggestionsTimeoutId=void 0),this.suggestionsLoading=!1,this.suggestionsAborted=!0;let r=this.getErrorMessage(e,"suggestions analysis");this.showError(r),this.cdr.markForCheck()},complete:()=>{this.suggestionsAborted||(this.suggestionsLoading=!1,this.cdr.markForCheck())}}))}handleSuggestionsTimeout(){this.suggestionsLoading=!1,this.suggestionsAborted=!0,this.showError("Suggestions analysis is taking longer than expected. Please try again."),this.cdr.markForCheck()}cancelSuggestions(){this.suggestionsLoading&&(this.suggestionsAborted=!0,this.suggestionsLoading=!1,this.suggestionsSub&&(this.suggestionsSub.unsubscribe(),this.suggestionsSub=void 0),this.suggestionsTimeoutId&&(clearTimeout(this.suggestionsTimeoutId),this.suggestionsTimeoutId=void 0),this.showWarning("Suggestions analysis cancelled."),this.cdr.markForCheck())}onGenerateVariants(t){return vn(this,null,function*(){if(this.variantsGenerating)return;let r=this.goldenSubject.value?.html||"";if(!r){this.showWarning("Please generate a golden template first.");return}this.variantsGenerating=!0,this.variantsAborted=!1,this.variantsSubject.next({runId:"initializing",target:5,items:[]}),this.cdr.markForCheck(),this.variantsTotalTimeoutId=window.setTimeout(()=>{this.handleVariantsTotalTimeout()},this.VARIANTS_TOTAL_TIMEOUT);let i=0,a=!1;try{let s=yield hc(this.qa.startVariants(t,r,5).pipe(Zd(this.VARIANTS_START_TIMEOUT),vs(u=>{throw u.name==="TimeoutError"?new Error("Failed to start variant generation. Please try again."):u})));if(this.variantsAborted){this.cleanupVariants();return}this.variantsRunId=s.runId;let l={runId:s.runId,target:s.target,items:[]};this.variantsSubject.next(l),this.qa.saveVariantsRun(t,l),this.showSuccess("Variant generation started!"),setTimeout(()=>{let u=document.querySelector(".variants-section");u&&u.scrollIntoView({behavior:"smooth",block:"start"})},300);for(let u=0;u<s.target;u++){if(this.variantsAborted){let p=this.variantsSubject.value;p&&(p.target=p.items.length,this.qa.saveVariantsRun(t,p)),this.cleanupVariants();return}i++;try{let p=yield hc(this.qa.nextVariant(s.runId).pipe(Zd(this.VARIANTS_NEXT_TIMEOUT),nf({count:1,delay:2e3}),vs(g=>{throw a||(a=!0,this.showWarning("Connection issue detected. Retrying... This is taking longer than usual.")),g.name==="TimeoutError"?new Error(`Variant ${u+1} generation timed out.`):g})));if(p?.done)break;l=Jo(Tr({},l),{items:[...l.items,p]}),this.variantsSubject.next(l),this.qa.saveVariantsRun(t,l)}catch{this.showWarning(`Variant ${u+1} failed, continuing with others...`);continue}}this.variantsTotalTimeoutId&&(clearTimeout(this.variantsTotalTimeoutId),this.variantsTotalTimeoutId=void 0),this.cdr.markForCheck();let c=l.items.length;this.showSuccess(`Successfully generated ${c} variant(s)!`)}catch(s){this.variantsAborted=!0;let l=this.getErrorMessage(s,"variant generation");this.showError(l)}finally{this.variantsGenerating=!1,this.cleanupVariants(),this.cdr.markForCheck()}})}handleVariantsTotalTimeout(){let t=this.variantsSubject.value;t&&this.templateId&&(t.target=t.items.length,this.variantsSubject.next(t),this.qa.saveVariantsRun(this.templateId,t)),this.variantsGenerating=!1,this.variantsAborted=!0,this.showError("Variant generation timed out. Partial results have been saved and are available to use."),this.cleanupVariants(),this.cdr.markForCheck()}cleanupVariants(){this.variantsTimeoutId&&(clearTimeout(this.variantsTimeoutId),this.variantsTimeoutId=void 0),this.variantsTotalTimeoutId&&(clearTimeout(this.variantsTotalTimeoutId),this.variantsTotalTimeoutId=void 0)}cancelVariants(){if(!this.variantsGenerating)return;this.variantsAborted=!0,this.variantsGenerating=!1;let t=this.variantsSubject.value;t&&this.templateId&&(t.target=t.items.length,this.variantsSubject.next(t),this.qa.saveVariantsRun(this.templateId,t)),this.cleanupVariants();let e=t?.items?.length||0;e>0?this.showWarning(`Variant generation cancelled. ${e} variant(s) generated and available to use.`):this.showWarning("Variant generation cancelled."),this.cdr.markForCheck()}getErrorMessage(t,e){return t?.message?.includes("timeout")||t?.name==="TimeoutError"?`${e} timed out. The server might be busy. Please try again.`:t?.status===0||t?.message?.includes("Http failure")?"Cannot connect to server. Please check if the backend is running.":t?.status===500?`Server error during ${e}. Please try again.`:t?.status===404?"Resource not found. Please refresh the page.":t?.message||`An error occurred during ${e}. Please try again.`}showError(t){this.snackBar.open(t,"Close",{duration:8e3,panelClass:["error-snackbar"],horizontalPosition:"center",verticalPosition:"top"})}showSuccess(t){this.snackBar.open(t,"Close",{duration:3e3,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"})}showWarning(t){this.snackBar.open(t,"Close",{duration:5e3,panelClass:["warning-snackbar"],horizontalPosition:"center",verticalPosition:"top"})}showInfo(t){this.snackBar.open(t,"Dismiss",{duration:6e3,panelClass:["info-snackbar"],horizontalPosition:"center",verticalPosition:"top"})}onTemplatePreviewLoaded(){this.templateLoading&&(this.templateLoading=!1,this.cdr.markForCheck())}loadOriginalTemplate(t){this.templateLoading=!0,this.templateHtml="";let e=setTimeout(()=>{this.templateLoading&&(console.warn("\u26A0\uFE0F Template loading timeout - forcing completion"),this.templateLoading=!1,this.cdr.markForCheck())},3e3),r=this.previewCache.get(t)||this.previewCache.getPersisted(t);if(r){clearTimeout(e),this.templateHtml=r,this.templateLoading=!1,this.templateState.initializeOriginalTemplate(t,r),this.cdr.markForCheck();return}let a=this.templatesService.snapshot.items.find(s=>s.id===t);if(a?.content){clearTimeout(e),this.templateHtml=a.content,this.templateLoading=!1,this.templateState.initializeOriginalTemplate(t,a.content),this.cdr.markForCheck();return}this.http.get(`/api/templates/${t}/raw`,{responseType:"text",withCredentials:!0}).subscribe({next:s=>{clearTimeout(e),this.templateHtml=s,this.templateLoading=!1,this.templateState.initializeOriginalTemplate(t,s),this.cdr.markForCheck()},error:s=>{clearTimeout(e),this.templateHtml="Failed to load template",this.templateLoading=!1,this.cdr.markForCheck()}})}onUseVariant(t,e,r){return vn(this,null,function*(){this.qa.clearChatForRun(e,r),this.qa.clearSnapsForRun(e),this.qa.clearValidLinks(e),this.qa.clearGrammarCheck(e,r),sessionStorage.removeItem(`template_modal_${e}_${r}`);try{let a=(yield this.qa.getVariantsRunById(e))?.items?.find(s=>s.no===r);if(a?.html){let s={role:"assistant",text:`Hi! I'm here to help refine your email template. Here's what I can do:

\u2022 Design Ideas \u2013 Ask for layout, color, or content suggestions

\u2022 SEO Tips \u2013 Get recommendations for better deliverability and engagement

\u2022 QA Review \u2013 Get feedback on tone, clarity, and professional quality

\u2022 Content Strategy \u2013 Discuss improvements to structure and messaging

What would you like to improve?`,json:null,ts:Date.now()},l={html:a.html,messages:[s]};this.qa.saveChat(e,r,l)}}catch{}this.router.navigate(["/qa",t,"use",e,r])})}toggleDebugInfo(){this.showDebugInfo=!this.showDebugInfo}getStatusIcon(t){return{applied:"check_circle",not_found:"search_off",blocked:"block",context_mismatch:"find_in_page",boundary_issue:"link_off",already_correct:"done_all"}[t]||"error"}getStatusColor(t){return{applied:"success",not_found:"error",blocked:"warn",context_mismatch:"warn",boundary_issue:"warn",already_correct:"info"}[t]||"error"}getStatusLabel(t){return{applied:"Applied",not_found:"Not Found",blocked:"Blocked",context_mismatch:"Context Mismatch",boundary_issue:"Boundary Issue",already_correct:"Already Correct"}[t]||"Unknown"}getFailureRecommendation(t){if(!t?.status)return"No diagnostic information available.";switch(t.status){case"not_found":return"The text may have been already corrected, or GPT hallucinated this error.";case"context_mismatch":return"The text exists but the surrounding context doesn't match. Manual review recommended.";case"boundary_issue":return"The text spans across interactive elements (links/buttons). Cannot be edited safely.";case"blocked":return"Blocked for safety reasons (contains URLs or merge tags).";default:return"Unknown issue. Please report this to developers."}}extractVisibleText(t){try{let e=document.createElement("div");return e.innerHTML=t,e.querySelectorAll("script, style").forEach(a=>a.remove()),e.textContent||e.innerText||""}catch{return t}}updateVisualEditorButtonColor(t){!t||t.length===0?this.visualEditorButtonColor="green":this.visualEditorButtonColor="red",this.cdr.markForCheck()}triggerShakeAnimationOnce(t){let e=`${this.SHAKE_FLAG_KEY}_${t}`;sessionStorage.getItem(e)!=="true"&&(sessionStorage.setItem(e,"true"),this.triggerShakeAnimation())}triggerShakeAnimation(){this.shouldShake=!0,this.cdr.markForCheck(),setTimeout(()=>{this.shouldShake=!1,this.cdr.markForCheck()},1e3)}onGoldenTemplateClick(){}openVisualEditorModal(){this.showVisualEditorModal=!0,this.cdr.markForCheck()}closeVisualEditorModal(){this.showVisualEditorModal=!1,this.cdr.markForCheck()}navigateToVisualEditor(){if(!this.templateId){this.showError("Template ID not found");return}let t=this.goldenSubject.value;if(!t?.html){this.showError("Golden template not found. Please generate golden template first.");return}let e=`visual_editor_${this.templateId}_golden_html`;localStorage.setItem(e,t.html);let r=`visual_editor_${this.templateId}_snapshot_html`;localStorage.setItem(r,t.html),localStorage.removeItem(`visual_editor_${this.templateId}_return_flag`),localStorage.removeItem(`visual_editor_${this.templateId}_edited_html`),localStorage.removeItem(`visual_editor_${this.templateId}_progress`),localStorage.removeItem(`template_state_${this.templateId}_editor_progress`);let i=`visual_editor_${this.templateId}_editing_mode`;localStorage.setItem(i,"golden");let a=localStorage.getItem(i);if(this.templateState.initializeGoldenForEditing(this.templateId,t.html),t.failedEdits&&t.failedEdits.length>0){let l=`visual_editor_${this.templateId}_failed_edits`;localStorage.setItem(l,JSON.stringify(t.failedEdits))}if(t.stats){let l=`visual_editor_${this.templateId}_original_stats`;localStorage.setItem(l,JSON.stringify(t.stats))}let s=`visual_editor_${this.templateId}_use_variant_meta`;sessionStorage.removeItem(s),this.closeVisualEditorModal(),this.router.navigate(["/visual-editor",this.templateId])}handleVisualEditorReturn(t,e){return vn(this,null,function*(){let r=this.templateState.getEditingContext(t),i=`visual_editor_${t}_editing_mode`,a=localStorage.getItem(i)||sessionStorage.getItem(i),s=`visual_editor_${t}_golden_html`,l=localStorage.getItem(s)||"",c=`visual_editor_${t}_snapshot_html`,u=localStorage.getItem(c)||"",p=`visual_editor_${t}_failed_edits`,g=localStorage.getItem(p),h=[];if(g)try{h=JSON.parse(g)}catch{}let y=`visual_editor_${t}_original_stats`,_=localStorage.getItem(y),x=null;if(_)try{x=JSON.parse(_)}catch{}if(a==="golden"||r?.type==="golden"){let w=this.goldenSubject.value,T=this.extractVisibleText(l),b=this.extractVisibleText(e),k=h.filter(N=>{let{find:j,replace:D}=N,W=j.toLowerCase(),q=T.toLowerCase(),J=b.toLowerCase(),I=q.includes(W);return!J.includes(W)&&I}),E=h.filter(N=>!k.includes(N)),L=k.length,R;x&&x.total?R={total:x.total,applied:x.total-E.length,failed:E.length,blocked:x.blocked||0}:R={total:h.length,applied:L,failed:E.length,blocked:0},localStorage.setItem(y,JSON.stringify(R));let z=Jo(Tr({},w),{html:e,failedEdits:E,stats:R});this.goldenSubject.next(z),this.qa.saveGoldenToCache(t,z),this.updateVisualEditorButtonColor(z.failedEdits)}this.cdr.markForCheck()})}updateVariantInUI(t,e,r){let i=this.variantsSubject.value;if(i&&i.runId===t){let a=i.items.findIndex(s=>s.no===e);if(a!==-1){let s=[...i.items];s[a]=Jo(Tr({},s[a]),{html:r});let l=Jo(Tr({},i),{items:s});this.variantsSubject.next(l),this.qa.saveVariantsRun(this.templateId,l),this.cdr.markForCheck()}}}onEditOriginalTemplate(){if(!this.templateId||!this.templateHtml||this.templateLoading)return;let t=`visual_editor_${this.templateId}_return_flag`,e=`visual_editor_${this.templateId}_edited_html`,r=`visual_editor_${this.templateId}_progress`,i=`visual_editor_${this.templateId}_failed_edits`;localStorage.removeItem(t),localStorage.removeItem(e),localStorage.removeItem(r),localStorage.removeItem(i),sessionStorage.removeItem(i);let a=`visual_editor_${this.templateId}_editing_mode`;localStorage.setItem(a,"original"),this.templateState.initializeOriginalTemplate(this.templateId,this.templateHtml);let s=`visual_editor_${this.templateId}_use_variant_meta`;sessionStorage.removeItem(s),this.router.navigate(["/visual-editor",this.templateId])}onEditVariant(t,e,r){if(!this.templateId||!r?.html)return;let i=`visual_editor_${this.templateId}_return_flag`,a=`visual_editor_${this.templateId}_edited_html`,s=`visual_editor_${this.templateId}_progress`,l=`visual_editor_${this.templateId}_failed_edits`;localStorage.removeItem(i),localStorage.removeItem(a),localStorage.removeItem(s),localStorage.removeItem(l),sessionStorage.removeItem(l);let c=`visual_editor_${this.templateId}_editing_mode`;if(localStorage.setItem(c,"variant"),this.templateState.initializeVariantForEditing(this.templateId,t,e,r.html),r.failedEdits&&r.failedEdits.length>0){localStorage.setItem(l,JSON.stringify(r.failedEdits));let g=localStorage.getItem(l)}let u=localStorage.getItem(l),p=`visual_editor_${this.templateId}_use_variant_meta`;sessionStorage.removeItem(p),this.router.navigate(["/visual-editor",this.templateId])}onEditGoldenTemplate(){let t=this.goldenSubject.value?.html;if(!this.templateId||!t)return;let e=`visual_editor_${this.templateId}_return_flag`,r=`visual_editor_${this.templateId}_edited_html`,i=`visual_editor_${this.templateId}_progress`;localStorage.removeItem(e),localStorage.removeItem(r),localStorage.removeItem(i),this.templateState.initializeGoldenForEditing(this.templateId,t);let a=`visual_editor_${this.templateId}_use_variant_meta`;sessionStorage.removeItem(a),this.router.navigate(["/visual-editor",this.templateId])}hasFailedEdits(t){return t?.failedEdits&&t.failedEdits.length>0}getFailedEditsCount(t){return t?.failedEdits?.length||0}getEditTooltip(t){let e=this.getFailedEditsCount(t);return e>0?`${e} failed edit${e>1?"s":""} detected - open editor`:"Edit in Visual Editor"}formatTime(t){return t<1e3?`${t}ms`:`${(t/1e3).toFixed(1)}s`}getHighlightedSentence(t){if(!t.fullSentence||t.highlightStart===void 0||t.highlightEnd===void 0)return t.find||"";if(t.highlightStart===-1||t.highlightEnd===-1)return t.fullSentence;let e=t.fullSentence.substring(0,t.highlightStart),r=t.fullSentence.substring(t.highlightStart,t.highlightEnd),i=t.fullSentence.substring(t.highlightEnd);return`${e}<span class="highlight-error">${r}</span>${i}`}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-qa-page"]],hostBindings:function(e,r){e&1&&Yt("beforeunload",function(a){return r.handleBeforeUnload(a)},!1,rf)},standalone:!0,features:[cn],decls:2,vars:3,consts:[["qaInfoMenu","matMenu"],["noGoldenYet",""],["class","qa-page-wrapper",4,"ngIf"],[1,"qa-page-wrapper"],[1,"page-background"],[1,"gradient-orb","orb-1"],[1,"gradient-orb","orb-2"],[1,"gradient-orb","orb-3"],[1,"qa-grid",2,"margin-top","2rem"],[1,"col","col-1","glass-card",2,"height","800px !important","min-height","800px !important","display","flex","flex-direction","column"],[1,"card-header"],["class","header-icon clickable-icon","matTooltip","Edit in Visual Editor","mat-icon-button","",3,"click",4,"ngIf"],["class","header-icon",4,"ngIf"],[1,"section-title"],[1,"title-underline"],["mat-icon-button","","class","skip-btn","matTooltip","Skip Golden & Variants Generation",3,"click",4,"ngIf"],[1,"card-content",2,"flex","1","overflow","hidden","min-height","0","display","flex","flex-direction","column"],[1,"template-preview-container",2,"flex","1","height","100%","min-height","500px","background","white","border-radius","8px","overflow","hidden"],[2,"flex","1","height","100%","min-height","500px",3,"iframeLoaded","html","loading","allowScripts"],[1,"col","col-2","glass-card",2,"height","800px !important","min-height","800px !important","display","flex","flex-direction","column"],[1,"card-header","sticky-header"],[1,"header-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"],["mat-icon-button","","matTooltip","Important Information",1,"qa-info-btn",3,"matMenuTriggerFor"],[1,"qa-info-menu"],[1,"qa-info-content",3,"click"],[1,"info-section"],[1,"info-note"],[1,"scrollable-content",2,"flex","1","overflow-y","auto","min-height","0"],[1,"actions-group"],["mat-raised-button","",1,"modern-btn","primary-btn",3,"click"],["class","btn-content",4,"ngIf"],["class","spinner-container",4,"ngIf"],["mat-raised-button","",1,"modern-btn","visual-editor-btn",3,"click"],[1,"btn-content"],[1,"btn-icon"],["d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"btn-text"],[1,"btn-shimmer"],["class","failed-edits-badge",4,"ngIf"],[1,"variants-action"],["mat-raised-button","",1,"modern-btn","accent-btn",3,"click","disabled"],[4,"ngIf"],[1,"col","col-3","glass-card",2,"height","800px !important","min-height","800px !important","display","flex","flex-direction","column","cursor","pointer",3,"click"],[1,"header-icon","golden-icon"],["d","M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"],[1,"title-underline","golden"],["mat-icon-button","","class","skip-btn","matTooltip","Bypass Variants - Use Golden Template",3,"click",4,"ngIf"],[1,"card-content","preview-content",2,"flex","1","overflow-y","auto","min-height","0","display","flex","flex-direction","column"],["class","golden-loading-state","style","flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2rem;",4,"ngIf"],["class","variants-section",4,"ngIf"],["class","visual-editor-modal",4,"ngIf"],["matTooltip","Edit in Visual Editor","mat-icon-button","",1,"header-icon","clickable-icon",3,"click"],["d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["mat-icon-button","","matTooltip","Skip Golden & Variants Generation",1,"skip-btn",3,"click"],["d","M13 17l5-5m0 0l-5-5m5 5H6"],["d","M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"],[1,"spinner-container"],[1,"modern-spinner"],[1,"btn-text-loading","cancel-text"],[1,"failed-edits-badge"],["d","M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"],[1,"btn-glow"],["class","info-panel stats-panel",4,"ngIf"],[1,"info-panel","stats-panel"],[1,"panel-header"],[1,"panel-icon"],["d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],["matTooltip","Toggle Performance Info",1,"debug-toggle-btn",3,"click"],[1,"stats-grid"],[1,"stat-card","total"],[1,"stat-icon"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","success"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["class","stat-card error",4,"ngIf"],["class","stat-card blocked",4,"ngIf"],["class","perfect-template-message",4,"ngIf"],["class","debug-section",4,"ngIf"],[1,"stat-card","error"],["d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-card","blocked"],["d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"],[1,"perfect-template-message"],[1,"perfect-icon"],[1,"debug-section"],[1,"debug-header"],[1,"timings-grid"],[1,"timing-item"],[1,"timing-label"],[1,"timing-value"],["class","info-panel edits-panel",4,"ngIf"],[1,"info-panel","edits-panel"],[1,"count-badge"],[1,"edits-list"],["class","edit-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"edit-item"],[1,"edit-change-row"],[1,"error-word"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"arrow-icon"],["d","M13 7l5 5m0 0l-5 5m5-5H6"],[1,"correction-word"],[1,"edit-info-row"],["class","reason-badge",4,"ngIf"],["class","context-text",3,"innerHTML",4,"ngIf"],[1,"reason-badge"],[1,"context-text",3,"innerHTML"],["class","info-panel suggestions-panel",4,"ngIf"],["class","loading-panel",4,"ngIf"],[1,"info-panel","suggestions-panel"],["class","suggestion-section",4,"ngIf"],[1,"suggestion-section"],[1,"section-subtitle"],["d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"suggestion-list"],["class","suggestion-item warning",4,"ngFor","ngForOf"],[1,"suggestion-item","warning"],[1,"warning-icon"],[1,"suggestion-content"],[1,"gibberish-text"],["class","suggestion-reason",4,"ngIf"],[1,"suggestion-reason"],["d","M13 10V3L4 14h7v7l9-11h-7z"],["class","suggestion-item success",4,"ngFor","ngForOf"],[1,"suggestion-item","success"],[1,"success-icon"],[1,"suggestion-text"],[1,"loading-panel"],[1,"loading-spinner"],["mat-icon-button","","matTooltip","Bypass Variants - Use Golden Template",1,"skip-btn",3,"click"],[1,"golden-loading-state",2,"flex","1","display","flex","flex-direction","column","justify-content","center","align-items","center","padding","2rem"],[1,"golden-loader"],[1,"golden-spinner"],[1,"spinner-ring"],[1,"golden-icon-container"],[1,"loading-text"],[4,"ngIf","ngIfElse"],["style","flex: 1; min-height: 0; height: 100%;",3,"html","loading","allowScripts",4,"ngIf","ngIfElse"],[2,"flex","1","min-height","0","height","100%",3,"html","loading","allowScripts"],[1,"empty-state","golden-empty",2,"flex","1","display","flex","flex-direction","column","justify-content","center","align-items","center","padding","2rem"],[1,"empty-icon-animated"],[1,"empty-hint"],["d","M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"],[1,"variants-section"],[1,"variants-header-main"],[1,"variants-title-group"],[1,"header-icon","variants-icon"],["d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"title-underline","variants"],["class","variants-progress",4,"ngIf"],[1,"variants-grid"],["class","variant-card glass-card",4,"ngFor","ngForOf","ngForTrackBy"],["class","variant-skeleton glass-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"variants-progress"],[1,"progress-text"],[1,"progress-bar-container"],[1,"progress-bar-fill"],["class","spinner-small",4,"ngIf"],[1,"spinner-small"],[1,"variant-card","glass-card"],[1,"variant-left"],[1,"variant-header"],[1,"variant-number"],[1,"variant-badge"],["d","M5 13l4 4L19 7"],[1,"variant-preview"],[3,"html","loading","allowScripts"],[1,"variant-actions"],["mat-raised-button","",1,"modern-btn","use-btn",3,"click"],[2,"display","flex","align-items","center","justify-content","center","gap","0.5rem"],[1,"variant-right"],[1,"info-panel","changes-panel"],["d","M8 7h12M8 12h12M8 17h12M3 7h.01M3 12h.01M3 17h.01"],[1,"variant-edit-btn",3,"click","matTooltip"],["class","edit-badge",4,"ngIf"],[1,"changes-list"],["class","change-item",4,"ngFor","ngForOf","ngForTrackBy"],["class","info-panel benefits-panel",4,"ngIf"],[1,"edit-badge"],[1,"change-item"],[1,"change-content"],[1,"change-before"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"change-arrow"],[1,"change-after"],["class","change-reason",4,"ngIf"],[1,"change-reason"],[1,"info-panel","benefits-panel"],[1,"benefits-list"],["class","benefit-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"benefit-item"],[1,"benefit-icon"],[1,"variant-skeleton","glass-card"],[1,"skeleton-content"],[1,"skeleton-header"],[1,"skeleton-title"],[1,"skeleton-badge"],[1,"skeleton-preview"],[1,"skeleton-lines"],[1,"skeleton-line"],[1,"skeleton-line","short"],[1,"skeleton-button"],[1,"visual-editor-modal"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],["class","modal-header",4,"ngIf"],[1,"modal-body"],[1,"modal-footer"],["mat-button","",3,"click"],["mat-raised-button","","class","primary",3,"click",4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["mat-icon-button","",1,"modal-close-btn",3,"click"],["class","failed-count-badge",4,"ngIf"],[1,"failed-count-badge"],[1,"info-state"],[1,"action-hint"],[1,"modal-message"],[1,"failed-edits-preview"],[1,"failed-edits-list"],["class","failed-edit-item",4,"ngFor","ngForOf"],[1,"failed-edit-item"],[1,"status-badge"],[1,"edit-preview"],[1,"preview-find"],[1,"arrow-icon"],[1,"preview-replace"],["class","manual-fix-guidance",4,"ngIf"],["class","debug-info",4,"ngIf"],[1,"manual-fix-guidance"],[1,"guidance-icon"],[1,"guidance-content"],["class","search-hints",4,"ngIf"],["class","affected-elements",4,"ngIf"],[1,"search-hints"],[4,"ngFor","ngForOf"],[1,"affected-elements"],[1,"element-chain"],["class","chain-arrow",4,"ngIf"],[1,"chain-arrow"],[1,"debug-info"],["mat-button","",1,"debug-toggle",3,"click"],[1,"debug-details"],[1,"debug-row"],[1,"success-state"],["mat-raised-button","",1,"primary",3,"click"]],template:function(e,r){e&1&&(qt(0,lE,83,50,"div",2),on(1,"async")),e&2&&ct("ngIf",un(1,1,r.id$))},dependencies:[Tn,ki,qn,Cs,Bb,yr,ro,li,ws,Cr,br,ci,oa,ia,la,aa,sa],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-height:100vh}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]     .card-content, [_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem!important;margin:0!important}[_nghost-%COMP%]     .scrollable-content, [_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem!important;margin:0!important}[_nghost-%COMP%]{--primary-purple: #6d28d9;--primary-purple-dark: #5b21b6;--accent-pink: #ec4899;--accent-blue: #3b82f6;--success-green: #10b981;--warning-orange: #f59e0b;--error-red: #ef4444;--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--gradient-golden: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);--glass-white: rgba(255, 255, 255, .9);--glass-border: rgba(255, 255, 255, .3);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .08);--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px;--transition-fast: .2s cubic-bezier(.4, 0, .2, 1);--transition-normal: .3s cubic-bezier(.4, 0, .2, 1);--transition-smooth: .4s cubic-bezier(.4, 0, .2, 1);display:block;min-height:100vh}.qa-page-wrapper[_ngcontent-%COMP%]{position:relative;min-height:100vh;padding:0 .8rem .5rem;overflow:hidden}.page-background[_ngcontent-%COMP%]{position:fixed;inset:64px 0 0;z-index:0;background:linear-gradient(135deg,#f8fafc,#e2e8f0);pointer-events:none}.page-background[_ngcontent-%COMP%]   .gradient-orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.4;animation:_ngcontent-%COMP%_float-orb 20s ease-in-out infinite}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-1[_ngcontent-%COMP%]{width:400px;height:400px;background:radial-gradient(circle,rgba(139,92,246,.4) 0%,transparent 70%);top:-100px;left:-100px;animation-delay:0s}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-2[_ngcontent-%COMP%]{width:500px;height:500px;background:radial-gradient(circle,rgba(236,72,153,.3) 0%,transparent 70%);top:40%;right:-150px;animation-delay:-7s}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-3[_ngcontent-%COMP%]{width:450px;height:450px;background:radial-gradient(circle,rgba(59,130,246,.35) 0%,transparent 70%);bottom:-100px;left:30%;animation-delay:-14s}.qa-grid[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:1fr 400px 1fr;gap:1.5rem;margin-bottom:2rem;margin-top:.2rem!important;align-items:start}.glass-card[_ngcontent-%COMP%]{background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:var(--glass-shadow);overflow:hidden;transition:all var(--transition-smooth);display:flex;flex-direction:column;height:fit-content}.glass-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 48px #0000001f}.col[_ngcontent-%COMP%]{min-height:0;display:flex;flex-direction:column}.col.col-2[_ngcontent-%COMP%]{position:relative;max-height:calc(100vh - 4rem);display:flex;flex-direction:column}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1.5rem;background:linear-gradient(135deg,#6d28d90d,#ec48990d);border-bottom:1px solid rgba(0,0,0,.05);position:relative;overflow:hidden;min-height:88px;flex-shrink:0}.card-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 3s infinite;will-change:transform}.card-header.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--gradient-primary);border-radius:var(--radius-md);box-shadow:0 4px 12px #6d28d94d;flex-shrink:0}.card-header[_ngcontent-%COMP%]   .header-icon.golden-icon[_ngcontent-%COMP%]{background:var(--gradient-golden);box-shadow:0 4px 12px #f59e0b4d}.card-header[_ngcontent-%COMP%]   .header-icon.variants-icon[_ngcontent-%COMP%]{background:var(--gradient-accent);box-shadow:0 4px 12px #ec48994d}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#fff;stroke-width:2.5}.card-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1.25rem;font-weight:700;background:linear-gradient(135deg,#1f2937 0%,var(--primary-purple) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em}.card-header[_ngcontent-%COMP%]   .title-underline[_ngcontent-%COMP%]{position:absolute;bottom:0;left:1.5rem;right:1.5rem;height:3px;background:var(--gradient-primary);border-radius:3px;transform:scaleX(0);transform-origin:left;animation:_ngcontent-%COMP%_expand-line .6s ease forwards;animation-delay:.2s}.card-header[_ngcontent-%COMP%]   .title-underline.golden[_ngcontent-%COMP%]{background:var(--gradient-golden)}.card-header[_ngcontent-%COMP%]   .title-underline.variants[_ngcontent-%COMP%]{background:var(--gradient-accent)}.card-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem;flex:1;min-height:0}.scrollable-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:0 1.5rem 1.5rem;min-height:0}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000008;border-radius:4px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6d28d94d;border-radius:4px;transition:background var(--transition-fast)}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6d28d980}.modern-btn[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;padding:.875rem 1.5rem;transition:all var(--transition-normal);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.625rem;min-height:48px}.modern-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modern-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .modern-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;position:relative;z-index:2}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5;transition:transform var(--transition-normal)}.modern-btn[_ngcontent-%COMP%]   .btn-shimmer[_ngcontent-%COMP%], .modern-btn[_ngcontent-%COMP%]   .btn-glow[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;transition:opacity var(--transition-normal)}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-shimmer[_ngcontent-%COMP%]{opacity:1;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer-btn 1.5s infinite}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-glow[_ngcontent-%COMP%]{opacity:.5}.modern-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.modern-btn.loading[_ngcontent-%COMP%]{pointer-events:none}.modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 16px #6d28d94d}.modern-btn.primary-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #6d28d966}.modern-btn.secondary-btn[_ngcontent-%COMP%]{background:#fff;color:var(--primary-purple);border:2px solid var(--primary-purple);box-shadow:0 2px 8px #6d28d91a}.modern-btn.secondary-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#6d28d90d,#ec48990d);box-shadow:0 6px 20px #6d28d933}.modern-btn.accent-btn[_ngcontent-%COMP%]{background:var(--gradient-accent);color:#fff;box-shadow:0 4px 16px #ec48994d}.modern-btn.accent-btn[_ngcontent-%COMP%]   .btn-glow[_ngcontent-%COMP%]{background:radial-gradient(circle,rgba(255,255,255,.4) 0%,transparent 70%);filter:blur(10px)}.modern-btn.accent-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #ec489966}.modern-btn.use-btn[_ngcontent-%COMP%]{background:var(--gradient-success);color:#fff;box-shadow:0 4px 12px #10b9814d;width:100%}.modern-btn.use-btn[_ngcontent-%COMP%]     .mat-button-wrapper{display:flex!important;flex-direction:row!important;align-items:center!important;justify-content:center!important;gap:.5rem!important}.modern-btn.use-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5;flex-shrink:0;margin:0!important}.modern-btn.use-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #10b98166}.modern-btn.use-btn[_ngcontent-%COMP%]:hover:not(:disabled)   svg[_ngcontent-%COMP%]{transform:scale(1.15)}.modern-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.spinner-small[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(109,40,217,.3);border-top-color:var(--primary-purple);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.btn-text-loading[_ngcontent-%COMP%]{font-size:.875rem}.actions-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1rem}.variants-action[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:2px dashed rgba(0,0,0,.06)}.info-panel[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:var(--radius-lg);padding:1.25rem;margin-top:22px;box-shadow:0 2px 12px #0000000a;transition:all var(--transition-normal)}.info-panel[_ngcontent-%COMP%]:hover{box-shadow:0 4px 20px #00000014;transform:translateY(-2px)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:2px solid rgba(0,0,0,.05)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .panel-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#6d28d91a,#ec48991a);border-radius:var(--radius-sm)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .panel-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--primary-purple);stroke-width:2.5}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1rem;font-weight:700;color:#1f2937}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;font-size:.75rem;font-weight:700;padding:.25rem .625rem;border-radius:12px;box-shadow:0 2px 8px #6d28d933}.subjects-panel[_ngcontent-%COMP%]   .chip-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.625rem}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:linear-gradient(135deg,#6d28d914,#ec489914);border:1px solid rgba(109,40,217,.2);padding:.5rem 1rem;border-radius:20px;font-size:.875rem;font-weight:600;color:#4c1d95;transition:all var(--transition-normal);cursor:default}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]   .chip-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:var(--gradient-primary);border-radius:50%;box-shadow:0 0 8px #6d28d980;animation:_ngcontent-%COMP%_pulse-dot 2s infinite}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6d28d926,#ec489926);transform:translateY(-2px);box-shadow:0 4px 12px #6d28d933}.edits-panel[_ngcontent-%COMP%]   .edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]{padding:.875rem;margin-bottom:.75rem;border-radius:8px;background:#f9fafb80;border:1px solid rgba(229,231,235,.6);transition:all .2s ease}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]:hover{background:#f9fafbe6;border-color:#d1d5dbcc;box-shadow:0 1px 3px #0000000d}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px dashed rgba(229,231,235,.8)}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]   .error-word[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.25rem .5rem;background:linear-gradient(135deg,#ef44441f,#dc26261f);border-radius:5px;color:#dc2626;font-weight:600;border:1px solid rgba(239,68,68,.25)}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{width:14px;height:14px;color:#9ca3af;stroke-width:2.5;flex-shrink:0}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]   .correction-word[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.25rem .5rem;background:linear-gradient(135deg,#10b9811f,#0596691f);border-radius:5px;color:#059669;font-weight:600;border:1px solid rgba(16,185,129,.25)}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.375rem;font-size:.8125rem;line-height:1.5}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]   .reason-badge[_ngcontent-%COMP%]{display:inline-block;padding:.125rem .5rem;background:#6b728014;border-radius:4px;color:#6b7280;font-style:italic;font-size:.75rem;align-self:flex-start}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]{color:#4b5563;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;word-wrap:break-word}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]     .highlight-error{background:linear-gradient(135deg,#ef444433,#dc262633);color:#dc2626;padding:.125rem .375rem;border-radius:3px;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;line-height:1.6;margin-bottom:.5rem;padding:.625rem .875rem;background:linear-gradient(135deg,#ef44440d,#dc26260d);border-radius:var(--radius-sm);overflow-x:auto;border-left:3px solid rgba(239,68,68,.4)}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;padding:0}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-before[_ngcontent-%COMP%]{color:#dc2626;font-weight:600;opacity:1}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-after[_ngcontent-%COMP%]{opacity:.5}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-find[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);padding:.125rem .375rem;border-radius:4px;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-sentence[_ngcontent-%COMP%]{color:#4b5563;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;font-size:.875rem;line-height:1.7;word-wrap:break-word;white-space:normal}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-sentence[_ngcontent-%COMP%]     .highlight-error{background:linear-gradient(135deg,#ef444440,#dc262640);color:#dc2626;padding:.125rem .375rem;border-radius:4px;font-weight:700;border-bottom:2px solid rgba(239,68,68,.6)}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:.625rem 0;padding:.625rem .875rem;background:linear-gradient(135deg,#10b98114,#05966914);border-radius:var(--radius-sm);font-weight:600;color:#065f46;border-left:3px solid rgba(16,185,129,.5)}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--success-green);stroke-width:2.5;flex-shrink:0}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#059669;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   .correction-text[_ngcontent-%COMP%]{color:#059669;font-weight:600;word-wrap:break-word;flex:1}.edits-panel[_ngcontent-%COMP%]   .edit-reason[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;font-style:italic}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-section[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px dashed rgba(0,0,0,.06)}.suggestions-panel[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 .875rem;font-size:.9375rem;font-weight:700;color:#374151}.suggestions-panel[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2.5}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.875rem;margin-bottom:.5rem;border-radius:var(--radius-md);transition:all var(--transition-normal)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b14,#fbbf2414);border:1px solid rgba(245,158,11,.2)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--gradient-golden);color:#fff;border-radius:50%;font-size:.875rem;font-weight:700;flex-shrink:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f59e0b1f,#fbbf241f);transform:translate(4px)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98114,#05966914);border:1px solid rgba(16,185,129,.2)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--gradient-success);color:#fff;border-radius:50%;font-size:.875rem;font-weight:700;flex-shrink:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#10b9811f,#0596691f);transform:translate(4px)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-content[_ngcontent-%COMP%]{flex:1}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .gibberish-text[_ngcontent-%COMP%]{display:block;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;background:#0000000d;padding:.375rem .625rem;border-radius:var(--radius-sm);margin-bottom:.375rem}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-reason[_ngcontent-%COMP%], .suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-text[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.6;color:#374151}.loading-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:2rem;background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px dashed rgba(109,40,217,.2);border-radius:var(--radius-lg);font-size:.9375rem;font-weight:600;color:#6b7280}.loading-panel[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid rgba(109,40,217,.2);border-top-color:var(--primary-purple);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;display:flex;align-items:center;justify-content:center;background:var(--gradient-golden);border-radius:50%;margin-bottom:1.5rem;box-shadow:0 8px 24px #f59e0b4d;animation:_ngcontent-%COMP%_float-icon 3s ease-in-out infinite}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:#fff;stroke-width:2}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;color:#1f2937}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#6b7280;line-height:1.6}.empty-state.golden-empty[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b08,#fbbf240d);border-radius:12px}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;align-items:center;justify-content:center;background:var(--gradient-golden);border-radius:50%;margin-bottom:2rem;box-shadow:0 12px 32px #f59e0b4d;animation:_ngcontent-%COMP%_pulse-glow 2s ease-in-out infinite;position:relative}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-4px;border-radius:50%;background:var(--gradient-golden);opacity:.3;filter:blur(8px);animation:_ngcontent-%COMP%_pulse-ring 2s ease-in-out infinite}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px;color:#fff;stroke-width:2;position:relative;z-index:1;animation:_ngcontent-%COMP%_sparkle-rotate 4s linear infinite}.empty-state.golden-empty[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.375rem;margin-bottom:.75rem}.empty-state.golden-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:380px;font-size:1rem;margin-bottom:2rem}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;background:#f59e0b1a;border:1px solid rgba(245,158,11,.2);border-radius:10px;max-width:420px}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#f59e0b;flex-shrink:0}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#92400e;text-align:left;line-height:1.5}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{transform:scale(1);box-shadow:0 12px 32px #f59e0b4d}50%{transform:scale(1.05);box-shadow:0 16px 40px #f59e0b66}}@keyframes _ngcontent-%COMP%_pulse-ring{0%,to{transform:scale(1);opacity:.3}50%{transform:scale(1.1);opacity:.1}}@keyframes _ngcontent-%COMP%_sparkle-rotate{0%,to{transform:rotate(0)}25%{transform:rotate(-10deg)}75%{transform:rotate(10deg)}}.variants-section[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:2rem}.variants-header-main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:var(--glass-shadow);margin-bottom:1.5rem}.variants-header-main[_ngcontent-%COMP%]   .variants-title-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1;position:relative}.variants-header-main[_ngcontent-%COMP%]   .variants-title-group[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:700;color:var(--primary-purple)}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:120px;height:8px;background:#6d28d91a;border-radius:4px;overflow:hidden}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar-fill[_ngcontent-%COMP%]{height:100%;background:var(--gradient-accent);border-radius:4px;transition:width var(--transition-smooth);box-shadow:0 0 10px #ec489980}.variants-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;grid-template-columns:1fr;align-items:stretch}.variant-card[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:1fr 420px!important;gap:1.5rem!important;padding:1.5rem!important;min-height:600px!important;align-items:start!important}.variant-left[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:100%!important;gap:1rem!important;justify-content:space-between!important}.variant-right[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:100%!important;gap:1rem!important}.variant-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-bottom:1rem;border-bottom:2px solid rgba(0,0,0,.05);flex-shrink:0!important;flex-wrap:nowrap!important}.variant-header[_ngcontent-%COMP%]   .variant-number[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;background:var(--gradient-accent);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;white-space:nowrap;flex-shrink:0}.variant-header[_ngcontent-%COMP%]   .variant-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .875rem;background:linear-gradient(135deg,#10b9811a,#0596691a);border:1px solid rgba(16,185,129,.3);border-radius:20px;font-size:.8125rem;font-weight:700;color:#065f46;white-space:nowrap;flex-shrink:0}.variant-header[_ngcontent-%COMP%]   .variant-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;stroke-width:3}.variant-preview[_ngcontent-%COMP%]{flex:1!important;min-height:350px!important;max-height:450px!important;background:#fff;border:2px solid rgba(0,0,0,.06);border-radius:var(--radius-lg);overflow:hidden}.variant-actions[_ngcontent-%COMP%]{flex-shrink:0!important;display:flex;justify-content:flex-end;gap:.75rem;margin-top:auto!important}.variant-actions[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5}.variant-right[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]{flex:1!important;min-height:200px!important;max-height:250px!important;overflow-y:auto!important;margin-top:0}.variant-right[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.changes-panel[_ngcontent-%COMP%]   .changes-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.changes-panel[_ngcontent-%COMP%]   .change-item[_ngcontent-%COMP%]{padding:.875rem 0;border-top:1px dashed rgba(0,0,0,.08)}.changes-panel[_ngcontent-%COMP%]   .change-item[_ngcontent-%COMP%]:first-child{border-top:none;padding-top:0}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;margin-bottom:.5rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.625rem;background:#00000005;border-radius:var(--radius-sm);flex-wrap:wrap}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;padding:0}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-before[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a);padding:.25rem .5rem;border-radius:4px;color:#991b1b;font-weight:600}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-after[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#0596691a);padding:.25rem .5rem;border-radius:4px;color:#065f46;font-weight:600}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-arrow[_ngcontent-%COMP%]{width:16px;height:16px;color:#9ca3af;flex-shrink:0}.changes-panel[_ngcontent-%COMP%]   .change-reason[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;font-style:italic}.benefits-panel[_ngcontent-%COMP%]{flex:1!important;display:flex!important;flex-direction:column!important}.benefits-panel[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;flex:1;display:flex!important;flex-direction:column!important;justify-content:flex-start!important}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.75rem;margin-bottom:.5rem;background:linear-gradient(135deg,#10b9810d,#0596690d);border-radius:var(--radius-md);font-size:.875rem;line-height:1.6;color:#374151;transition:all var(--transition-normal)}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:var(--gradient-success);color:#fff;border-radius:50%;font-size:.75rem;font-weight:700;flex-shrink:0}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#10b9811a,#0596691a)}.benefits-panel[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]{height:100%!important;display:flex!important;flex-direction:column!important;justify-content:flex-start!important}.variants-grid[_ngcontent-%COMP%] > .variant-card[_ngcontent-%COMP%]{height:auto!important;min-height:600px!important}.variant-skeleton[_ngcontent-%COMP%]{padding:1.5rem;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite;min-height:300px;contain:layout style paint;will-change:opacity,transform}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%], .variant-skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%], .variant-skeleton[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-shimmer 1.5s infinite;border-radius:6px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{height:20px;width:120px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:24px;width:60px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-preview[_ngcontent-%COMP%]{height:200px;background:#f8f8f8;border-radius:8px;display:flex;align-items:center;justify-content:center}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-lines[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:80%}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{height:12px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-shimmer 1.5s infinite;border-radius:6px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-line.short[_ngcontent-%COMP%]{width:60%}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{height:40px;width:100%;margin-top:1rem}@keyframes _ngcontent-%COMP%_float-orb{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-30px,-30px) rotate(120deg)}66%{transform:translate(30px,30px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(200%)}}@keyframes _ngcontent-%COMP%_shimmer-btn{0%{transform:translate(-100%)}to{transform:translate(200%)}}@keyframes _ngcontent-%COMP%_expand-line{0%{transform:scaleX(0)}to{transform:scaleX(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-dot{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}}@keyframes _ngcontent-%COMP%_float-icon{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_skeleton-shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.col-1[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%]{height:800px!important;min-height:800px!important;display:flex!important;flex-direction:column!important;overflow:hidden!important}.col-1[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-shrink:0!important;min-height:88px!important}.col-1[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1!important;overflow-y:auto!important;min-height:0!important;scrollbar-gutter:stable}[_nghost-%COMP%]     app-template-preview iframe, [_nghost-%COMP%]     app-html-preview iframe{height:700px!important;min-height:600px!important;width:100%!important}[_nghost-%COMP%]     app-template-preview .preview-container, [_nghost-%COMP%]     app-html-preview .preview-container, [_nghost-%COMP%]     app-template-preview .iframe-wrapper, [_nghost-%COMP%]     app-html-preview .iframe-wrapper{height:700px!important;min-height:600px!important;flex:1!important;display:flex!important;flex-direction:column!important}[_nghost-%COMP%]     .preview-root{height:700px!important;min-height:600px!important}[_nghost-%COMP%]     app-template-preview, [_nghost-%COMP%]     app-html-preview{margin-top:5px!important}[_nghost-%COMP%]     app-template-preview>*, [_nghost-%COMP%]     app-html-preview>*{margin-top:5px!important}[_nghost-%COMP%]     .preview-container, [_nghost-%COMP%]     .preview-root{margin-top:5px!important}[_nghost-%COMP%]   .col-2[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{margin-top:5px!important}[_nghost-%COMP%]   .col-2[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]{margin-top:5px!important}.col-2[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%], .variants-action[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{width:100%!important}.modern-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{justify-content:center!important;align-items:center!important;text-align:center!important;width:100%!important}.btn-text-loading[_ngcontent-%COMP%]{text-align:center!important;margin:0 auto!important}.modern-btn.loading[_ngcontent-%COMP%]{pointer-events:auto!important;cursor:pointer!important;opacity:1!important}.modern-btn[_ngcontent-%COMP%]:not(.loading)[disabled]{opacity:.6;cursor:not-allowed;pointer-events:none}@media (max-width: 1400px){.qa-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 360px 1fr}.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 380px}}@media (max-width: 1200px){.qa-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.25rem}.col.col-2[_ngcontent-%COMP%]{max-height:none}.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr}.variants-header-main[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.qa-grid[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%] > .glass-card[_ngcontent-%COMP%]{height:auto!important}}@media (max-width: 768px){.qa-page-wrapper[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{padding:1rem}.card-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:36px;height:36px}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.modern-btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem 1.25rem}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.variants-header-main[_ngcontent-%COMP%]{padding:1rem}.variants-header-main[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem!important}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media print{.page-background[_ngcontent-%COMP%], .btn-shimmer[_ngcontent-%COMP%], .btn-glow[_ngcontent-%COMP%], .title-underline[_ngcontent-%COMP%]{display:none!important}.glass-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #ddd}}@media (max-width: 1400px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 380px!important}}@media (max-width: 1199px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 340px!important}}@media (max-width: 991px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 280px!important}}@media (max-width: 768px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:1rem!important;min-height:auto!important}.variant-left[_ngcontent-%COMP%]{justify-content:flex-start!important}.variants-header-main[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:1rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]{width:33%;justify-content:space-between}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{flex:1;max-width:200px;margin:0 1rem}}@media (max-width: 480px){.variant-card[_ngcontent-%COMP%]{padding:1rem!important}.variant-header[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:.5rem}.variant-actions[_ngcontent-%COMP%]{justify-content:stretch}.variant-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{flex:1}.variants-progress[_ngcontent-%COMP%]{flex-direction:column!important;gap:.75rem!important}.variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:100%!important;max-width:none!important;margin:0!important}}.golden-loading-state[_ngcontent-%COMP%]   .golden-loader[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{position:absolute;border:3px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_golden-spin 2s linear infinite}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(1){width:80px;height:80px;border-top-color:#fbbf24;border-right-color:#fbbf24;animation-delay:0s}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(2){width:60px;height:60px;top:10px;left:10px;border-top-color:#f59e0b;border-left-color:#f59e0b;animation-delay:-.4s;animation-direction:reverse}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(3){width:40px;height:40px;top:20px;left:20px;border-top-color:#d97706;border-bottom-color:#d97706;animation-delay:-.8s}.golden-loading-state[_ngcontent-%COMP%]   .golden-icon-container[_ngcontent-%COMP%]{position:absolute;top:24px;left:24px;width:32px;height:32px;background:var(--gradient-golden);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #f59e0b66;z-index:10}.golden-loading-state[_ngcontent-%COMP%]   .golden-icon-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#fff;animation:_ngcontent-%COMP%_float-icon 2s ease-in-out infinite}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{text-align:center}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;background:var(--gradient-golden);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#6b7280;line-height:1.6}@keyframes _ngcontent-%COMP%_golden-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;align-items:center!important;width:100%!important;padding:0!important;margin:0!important}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{margin-right:.5rem!important}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .btn-text-loading[_ngcontent-%COMP%]{text-align:center!important;padding:0!important;margin:0!important}.accent-btn[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]{color:#fff!important;font-weight:600!important;text-shadow:0 1px 2px rgba(0,0,0,.1)!important}.accent-btn[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]:hover{color:#fff!important;text-shadow:0 1px 3px rgba(0,0,0,.2)!important}.secondary-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{justify-content:center!important;text-align:center!important}.secondary-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .btn-text-loading[_ngcontent-%COMP%]{text-align:center!important}.spinner-container[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important;gap:.625rem!important}.spinner-container[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%], .spinner-container[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]{flex-shrink:0}.secondary-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{border-color:#6d28d933!important;border-top-color:var(--primary-purple)!important}.primary-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%], .accent-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{border-color:#ffffff4d!important;border-top-color:#fff!important}  .error-snackbar{background-color:#ef4444!important;color:#fff!important;font-weight:600!important}  .error-snackbar .mat-simple-snackbar-action{color:#fff!important}  .success-snackbar{background-color:#10b981!important;color:#fff!important;font-weight:600!important}  .success-snackbar .mat-simple-snackbar-action{color:#fff!important}  .warning-snackbar{background-color:#f59e0b!important;color:#fff!important;font-weight:600!important}  .warning-snackbar .mat-simple-snackbar-action{color:#fff!important}  .info-snackbar{background-color:#3b82f6!important;color:#fff!important;font-weight:600!important}  .info-snackbar .mat-simple-snackbar-action{color:#fff!important}.cancel-text[_ngcontent-%COMP%]{color:#fff!important;cursor:pointer!important;font-weight:600!important;text-decoration:none!important;transition:color .15s ease!important}.cancel-text[_ngcontent-%COMP%]:hover{color:#fffc!important}.cancel-text[_ngcontent-%COMP%]:active{transform:scale(.98)}.skip-btn[_ngcontent-%COMP%]{margin-left:auto;width:44px;height:44px;background:var(--gradient-accent);color:#fff;border-radius:var(--radius-md);box-shadow:0 4px 12px #ec48994d;transition:all var(--transition-normal)}.skip-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5}.skip-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #ec489966;transform:translateY(-2px)}.skip-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1) translate(2px)}.skip-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}  .editable-preview-container ::selection{background:#6d28d94d;color:inherit}  .editable-preview-container ::-moz-selection{background:#6d28d94d;color:inherit}.editor-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px dashed rgba(109,40,217,.2);border-radius:var(--radius-lg)}.editor-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:64px;height:64px;color:var(--primary-purple);opacity:.5;margin-bottom:1rem;stroke-width:1.5}.editor-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:#6b7280}.edit-modal-footer[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]:active{animation:save-success .3s ease}.qa-info-btn[_ngcontent-%COMP%]{margin-left:auto;color:#6d28d9}.qa-info-btn[_ngcontent-%COMP%]:hover{background-color:#6d28d91a}  .qa-info-menu .mat-mdc-menu-panel{max-width:450px!important;border-radius:12px}.qa-info-content[_ngcontent-%COMP%]{padding:20px;max-width:430px}.qa-info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:600;color:#f59e0b}.qa-info-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{margin-bottom:14px}.qa-info-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:#475569}.qa-info-content[_ngcontent-%COMP%]   .info-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:16px;padding:12px;background:#fef3c7;border-radius:6px;font-size:13px;font-weight:500;color:#78350f}.qa-info-content[_ngcontent-%COMP%]   .info-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#f59e0b}@media (max-width: 768px){  .qa-info-menu .mat-mdc-menu-panel{max-width:calc(100vw - 32px)!important}.qa-info-content[_ngcontent-%COMP%]{max-width:100%;padding:16px}}.stats-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px solid rgba(109,40,217,.15)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto;width:36px;height:36px;min-width:36px;padding:0!important;border:2px solid rgba(109,40,217,.2);outline:none;cursor:pointer;color:#6b7280;background:transparent;border-radius:8px;transition:all var(--transition-normal);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;position:relative;z-index:1;transition:color .2s ease}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:6px;background:var(--gradient-primary);transform:scale(0);transition:transform .2s ease}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active:before{transform:scale(1)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active   mat-icon[_ngcontent-%COMP%]{color:#fff}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn.active[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;border-color:transparent}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:focus{outline:none;border-color:#6d28d966}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;margin-top:1rem}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:1rem;background:#fff;border:2px solid rgba(0,0,0,.06);border-radius:var(--radius-md);transition:all var(--transition-normal)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000014}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;line-height:1;letter-spacing:-.02em}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;opacity:.7}.stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d91a,#ec48991a)}.stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--primary-purple)}.stat-card.total[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--primary-purple)}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#0596691a)}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--success-green)}.stat-card.success[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--success-green)}.stat-card.error[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a)}.stat-card.error[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-red)}.stat-card.error[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--error-red)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#fbbf241a)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--warning-orange)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--warning-orange)}.perfect-template-message[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#10b98114,#05966914);border:2px solid rgba(16,185,129,.3);border-radius:12px;text-align:center}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#10b981,#059669);border-radius:50%;box-shadow:0 8px 24px #10b9814d;animation:_ngcontent-%COMP%_perfect-pulse 2s ease-in-out infinite}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;color:#fff;stroke-width:3}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;color:#065f46}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#047857;font-weight:500}@keyframes _ngcontent-%COMP%_perfect-pulse{0%,to{transform:scale(1);box-shadow:0 8px 24px #10b9814d}50%{transform:scale(1.05);box-shadow:0 12px 32px #10b98166}}.debug-section[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#00000005;border:1px dashed rgba(0,0,0,.1);border-radius:var(--radius-sm)}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-size:.875rem;font-weight:700;color:#374151}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--primary-purple)}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem .75rem;background:#fff;border-radius:6px;font-size:.8125rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%]{font-weight:600;color:#6b7280}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-purple);font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace}.failed-edits-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444408,#dc262608);border:2px solid rgba(239,68,68,.2)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-red)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .count-badge.error[_ngcontent-%COMP%]{background:var(--gradient-accent)}.failed-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1rem}.failed-edit-item[_ngcontent-%COMP%]{padding:1.25rem;background:#fff;border:2px solid rgba(239,68,68,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.failed-edit-item[_ngcontent-%COMP%]:hover{border-color:#ef44444d;box-shadow:0 4px 16px #ef44441a;transform:translate(4px)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.8125rem;font-weight:700;margin-bottom:1rem}.status-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.status-badge.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98126,#05966926);border:1px solid rgba(16,185,129,.3);color:#065f46}.status-badge.error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444426,#dc262626);border:1px solid rgba(239,68,68,.3);color:#991b1b}.status-badge.warn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b26,#fbbf2426);border:1px solid rgba(245,158,11,.3);color:#78350f}.status-badge.disabled[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9ca3af26,#6b728026);border:1px solid rgba(156,163,175,.3);color:#4b5563}.status-badge.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f626,#2563eb26);border:1px solid rgba(59,130,246,.3);color:#1e40af}.failed-edit-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.875rem}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;flex-wrap:wrap;padding:.875rem;background:#00000005;border-radius:var(--radius-sm)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#6b7280;flex-shrink:0}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;padding:.375rem .625rem;border-radius:6px;font-weight:600}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .text-find[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444426,#dc262626);color:#991b1b;border:1px solid rgba(239,68,68,.2)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .text-replace[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98126,#05966926);color:#065f46;border:1px solid rgba(16,185,129,.2)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .arrow-mini[_ngcontent-%COMP%]{width:16px;height:16px;color:#9ca3af;flex-shrink:0}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%], .failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.625rem;padding:.875rem;border-radius:var(--radius-sm);font-size:.875rem;line-height:1.6}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;flex-shrink:0;margin-top:2px}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444414,#dc262614);border:1px solid rgba(239,68,68,.2);color:#991b1b}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:var(--error-red)}.failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b14,#fbbf2414);border:1px solid rgba(245,158,11,.2);color:#78350f}.failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   .bulb-icon[_ngcontent-%COMP%]{color:var(--warning-orange)}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]{padding:.875rem;background:#00000005;border:1px dashed rgba(0,0,0,.1);border-radius:var(--radius-sm);font-size:.8125rem}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#6b7280;margin-bottom:.5rem}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;display:block;background:#fff;padding:.625rem;border-radius:6px;line-height:1.6;word-break:break-word}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]   .dim[_ngcontent-%COMP%]{opacity:.5}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);padding:.125rem .375rem;border-radius:4px;font-weight:600}.diagnostics-section[_ngcontent-%COMP%]{margin-top:.875rem;padding:1rem;background:linear-gradient(135deg,#6d28d908,#ec489908);border:1px dashed rgba(109,40,217,.2);border-radius:var(--radius-sm)}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-size:.875rem;font-weight:700;color:#374151}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--primary-purple)}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.625rem;background:#fff;border-radius:6px}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]   .diag-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.03em}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]   .diag-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:var(--primary-purple);font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.timings-grid[_ngcontent-%COMP%], .diagnostics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.edit-text[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important}.perfect-template-message[_ngcontent-%COMP%]{padding:1.25rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:50px;height:50px}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stat-card[_ngcontent-%COMP%]{padding:.875rem}.perfect-template-message[_ngcontent-%COMP%]{padding:1rem;margin-top:1rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-bottom:.75rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.375rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.debug-section[_ngcontent-%COMP%]{padding:.875rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.625rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{gap:.375rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{padding:.5rem .625rem;font-size:.75rem;min-width:0}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%], .debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-size:.75rem;white-space:nowrap}}@media (max-height: 600px) and (orientation: landscape){.perfect-template-message[_ngcontent-%COMP%]{padding:.875rem;margin-top:1rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-bottom:.5rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9375rem;margin-bottom:.25rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.debug-section[_ngcontent-%COMP%]{padding:.75rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.5rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{gap:.375rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{padding:.375rem .5rem;font-size:.75rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%], .debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-size:.6875rem}}.visual-editor-btn[_ngcontent-%COMP%]{position:relative;transition:all var(--transition-normal);width:100%!important}.visual-editor-btn.orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)!important;color:#fff!important;box-shadow:0 4px 16px #f59e0b4d}.visual-editor-btn.orange[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #f59e0b66;transform:translateY(-2px)}.visual-editor-btn.red[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)!important;color:#fff!important;box-shadow:0 4px 16px #ef44444d}.visual-editor-btn.red[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #ef444466;transform:translateY(-2px)}.visual-editor-btn.green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;box-shadow:0 4px 16px #10b9814d}.visual-editor-btn.green[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #10b98166;transform:translateY(-2px)}.visual-editor-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{position:absolute!important;inset:50% -100px auto auto!important;transform:translateY(-50%)!important;min-width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:#ffffff40;color:#fff;font-size:.75rem;font-weight:700;border-radius:12px;padding:0 8px;box-shadow:none;border:none;z-index:10;flex-shrink:0}@media (max-width: 1024px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-80px!important}}@media (max-width: 768px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-60px!important}}@media (max-width: 480px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-40px!important}}@keyframes _ngcontent-%COMP%_pulse-red{0%,to{box-shadow:0 4px 16px #ef44444d}50%{box-shadow:0 8px 32px #ef444499}}.shake-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_violent-shake 1s cubic-bezier(.36,.07,.19,.97)!important;animation-iteration-count:1!important}@keyframes _ngcontent-%COMP%_violent-shake{0%,to{transform:translate(0) rotate(0)}10%,30%,50%,70%,90%{transform:translate(-10px) rotate(-1deg)}20%,40%,60%,80%{transform:translate(10px) rotate(1deg)}}.visual-editor-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;padding:2rem;animation:none!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);cursor:pointer;animation:none!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{position:relative;z-index:10000;width:100%;max-width:800px;max-height:80vh;background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:0 20px 60px #0000004d;display:flex;flex-direction:column;overflow:hidden}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1.5rem 2rem;border-bottom:1px solid rgba(0,0,0,.08);flex-shrink:0;position:relative}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1f2937;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .failed-count-badge[_ngcontent-%COMP%]{position:static;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;font-size:.875rem;font-weight:700;padding:.25rem .75rem;border-radius:12px;box-shadow:0 2px 8px #ef44444d;margin-left:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]{color:#6b7280;flex-shrink:0;order:3!important;margin-left:auto}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#0000000d;color:#1f2937}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.info-state)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b0d,#fbbf240d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.info-state)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44440d,#dc26260d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--error-red)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#ef44441a;color:var(--error-red)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9810d,#0596690d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--success-green)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#10b9811a;color:var(--success-green)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0;max-height:60vh;min-height:0;display:flex;flex-direction:column}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]:has(.info-state), .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]:has(.success-state){overflow-y:hidden}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000008;border-radius:4px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6d28d94d;border-radius:4px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6d28d980}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1.25rem;background:linear-gradient(135deg,#3b82f614,#6d28d914);border:1px solid rgba(59,130,246,.2);border-radius:var(--radius-md);margin:1.5rem 1.5rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--accent-blue);font-size:24px;width:24px;height:24px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;line-height:1.6;color:#374151}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;border:2px solid rgba(239,68,68,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]:hover{border-color:#ef44444d;box-shadow:0 4px 16px #ef44441a;transform:translate(4px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:.75rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;flex-wrap:wrap}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000d;padding:.375rem .625rem;border-radius:6px;word-break:break-word}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .preview-find[_ngcontent-%COMP%]{color:#991b1b}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .preview-replace[_ngcontent-%COMP%]{color:#065f46}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:18px;width:18px;height:18px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .more-edits[_ngcontent-%COMP%]{margin-top:1rem;text-align:center;font-size:.875rem;font-weight:600;color:#6b7280;font-style:italic}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:2rem;border-top:2px dashed rgba(99,102,241,.2)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#6366f1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:700;color:#1f2937;flex:1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .count-badge.skipped-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;padding:.25rem .75rem;border-radius:12px;font-size:.8125rem;font-weight:700}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{margin:0 0 1.5rem;padding:.875rem 1rem;background:#6366f10d;border-left:3px solid #6366f1;border-radius:6px;font-size:.875rem;color:#4b5563;line-height:1.6}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;border:2px solid rgba(99,102,241,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]:hover{border-color:#6366f14d;box-shadow:0 4px 16px #6366f11a;transform:translate(4px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .status-badge.disabled[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .75rem;background:#6366f11a;border-radius:6px;font-size:.75rem;font-weight:600;color:#6366f1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .status-badge.disabled[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:.75rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;flex-wrap:wrap}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000d;padding:.375rem .625rem;border-radius:6px;word-break:break-word;color:#6b7280;font-style:italic}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:18px;width:18px;height:18px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.75rem;padding:.625rem .875rem;background:#6366f10d;border-radius:6px;font-size:.8125rem;color:#4b5563}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6366f1;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;text-align:center;min-height:300px;width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:72px;width:72px;height:72px;color:var(--success-green);margin-bottom:1.5rem;animation:_ngcontent-%COMP%_scaleIn .5s ease-out}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:#1f2937;letter-spacing:-.02em}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#6b7280;line-height:1.7;max-width:400px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center;width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:72px;width:72px;height:72px;color:#f59e0b;margin-bottom:1.5rem;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:#1f2937;letter-spacing:-.02em}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1rem;color:#6b7280;line-height:1.7;max-width:420px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.875rem 1.25rem;background:linear-gradient(135deg,#f59e0b1a,#fbbf241a);border:2px dashed rgba(245,158,11,.3);border-radius:12px;font-size:.9375rem;font-weight:600;color:#92400e}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#f59e0b;animation:_ngcontent-%COMP%_bounce 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.6}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem;padding:1.5rem 2rem;background:#f9fafbcc;border-top:1px solid rgba(0,0,0,.08);flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #6d28d966}@media (max-width: 768px){.visual-editor-modal[_ngcontent-%COMP%]{padding:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-height:95vh;max-width:100%;border-radius:var(--radius-lg)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{font-size:.8125rem;padding:.25rem .625rem;margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:70vh}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{padding:1.5rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:60px;width:60px;height:60px;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{padding:2rem 1rem;min-height:250px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:60px;width:60px;height:60px;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important;gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .5rem;max-width:100%;overflow-wrap:break-word;word-break:break-all}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.6875rem!important;padding:.3rem .6rem!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:1rem;font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem;gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem 1rem}}@media (max-height: 600px) and (orientation: landscape){.visual-editor-modal[_ngcontent-%COMP%]{padding:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-height:95vh;max-width:90%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .5rem;margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:calc(95vh - 120px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{padding:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:48px;width:48px;height:48px;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{font-size:.8125rem;padding:.625rem .875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{padding:1.5rem 1rem;min-height:200px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.75rem;padding:.3rem .5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]{font-size:.75rem;padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:.75rem;font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8125rem;padding:.5rem .875rem}}@media (max-width: 480px){.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-width:calc(100vw - 1rem)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.625rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.6875rem;gap:.375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.6875rem;padding:.3rem .4rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.625rem!important;padding:.25rem .5rem!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]{font-size:.75rem;padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:.875rem;font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{flex-direction:column-reverse}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.manual-fix-guidance[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:linear-gradient(135deg,#fef3c7,#fde68a);border-left:4px solid #f59e0b;border-radius:8px;display:flex;gap:.75rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-icon[_ngcontent-%COMP%]{flex-shrink:0}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b;font-size:24px;width:24px;height:24px}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]{flex:1}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#92400e;font-size:.875rem;margin-bottom:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#78350f;font-size:.875rem;line-height:1.6}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]{margin-top:.75rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.375rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;list-style:none}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.375rem 0;display:flex;align-items:center;gap:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2192";color:#f59e0b;font-weight:700}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000001a;padding:2px 6px;border-radius:4px;font-size:.75rem;color:#78350f}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid rgba(0,0,0,.1)}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-bottom:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#ffffff80;border-radius:6px;font-size:.8125rem;color:#78350f}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-weight:700;color:#92400e;background:none;padding:0}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   .chain-arrow[_ngcontent-%COMP%]{color:#f59e0b;font-size:16px;width:16px;height:16px}.debug-info[_ngcontent-%COMP%]{margin-top:1rem;padding:.75rem;background:#6d28d90d;border:1px dashed rgba(109,40,217,.2);border-radius:6px}.debug-info[_ngcontent-%COMP%]   .debug-toggle[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--primary-purple);padding:.375rem .75rem;min-height:auto}.debug-info[_ngcontent-%COMP%]   .debug-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:.375rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]{margin-top:.5rem;display:none;flex-direction:column;gap:.375rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.375rem .5rem;background:#fff;border-radius:4px;font-size:.75rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6b7280}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--primary-purple);font-family:SF Mono,Monaco,monospace}.debug-info.expanded[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]{display:flex}@media (max-width: 768px){.manual-fix-guidance[_ngcontent-%COMP%]{flex-direction:column}.manual-fix-guidance[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.manual-fix-guidance[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   .chain-arrow[_ngcontent-%COMP%]{transform:rotate(90deg)}.skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem}.skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]{padding:.875rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.75rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{padding:.25rem .5rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem .75rem}}@media (max-width: 480px){.skipped-edits-section[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch!important;gap:.5rem}.skipped-edits-section[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{display:none}}.header-icon.clickable-icon[_ngcontent-%COMP%]{cursor:pointer;background:linear-gradient(135deg,#8b5cf6,#6d28d9);border-radius:12px;padding:8px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;box-shadow:0 2px 8px #6d28d933}.header-icon.clickable-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff;transition:transform .3s ease}.header-icon.clickable-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 4px 16px #6d28d966}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover:before{left:100%}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:rotate(-5deg) scale(1.1)}.header-icon.clickable-icon[_ngcontent-%COMP%]:active{transform:translateY(0) scale(1)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;position:relative}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;min-width:0}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto;width:36px;height:36px;min-width:36px;padding:0!important;border:none;outline:none;cursor:pointer;background:linear-gradient(135deg,#8b5cf6,#6d28d9);color:#fff!important;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;justify-content:center;position:relative;overflow:visible}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;color:#fff!important;position:relative;z-index:1}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;min-width:18px;height:18px;padding:0 4px;background:#dc2626;color:#fff;font-size:11px;font-weight:700;border-radius:9px;display:flex;align-items:center;justify-content:center;z-index:2;border:2px solid white;box-shadow:0 2px 8px #00000040;line-height:1;animation:_ngcontent-%COMP%_badge-pulse 2s ease-in-out infinite}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]:before{content:"";display:inline-block}@keyframes _ngcontent-%COMP%_badge-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:8px;background:#ffffff4d;transform:scale(0);transition:transform .3s ease;z-index:0}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active:before{transform:scale(1)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 16px #6d28d980;background:linear-gradient(135deg,#9333ea,#7c3aed)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:hover   .edit-badge[_ngcontent-%COMP%]{animation:none;transform:scale(1.05)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active, .changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active   .edit-badge[_ngcontent-%COMP%]{transform:scale(.98)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #6d28d94d}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:before{background:#ffffff4d}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #ef444480;background:linear-gradient(135deg,#f87171,#ef4444)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44444d}@media (max-width: 768px){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:32px;height:32px;min-width:32px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-5px;right:-5px;min-width:16px;height:16px;padding:0 3px;font-size:10px;border-radius:8px}}@media (max-width: 480px){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:30px;height:30px;min-width:30px;border-radius:6px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-4px;right:-4px;min-width:14px;height:14px;padding:0 2px;font-size:9px;border-radius:7px;border-width:1.5px}}@media (max-height: 600px) and (orientation: landscape){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:28px;height:28px;min-width:28px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:15px;width:15px;height:15px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-4px;right:-4px;min-width:14px;height:14px;font-size:9px}}'],data:{animation:[Jn("fadeInUp",[In(":enter",[$e({opacity:0,transform:"translateY(30px)"}),En("0.5s cubic-bezier(0.4, 0, 0.2, 1)",$e({opacity:1,transform:"translateY(0)"}))])]),Jn("fadeInOut",[In(":enter",[$e({opacity:0}),En("0.3s ease-out",$e({opacity:1}))]),In(":leave",[En("0.3s ease-in",$e({opacity:0}))])]),Jn("fadeIn",[In(":enter",[$e({opacity:0}),En("0.4s ease-out",$e({opacity:1}))])]),Jn("slideIn",[In(":enter",[$e({opacity:0,transform:"translateX(-20px)"}),En("0.4s cubic-bezier(0.4, 0, 0.2, 1)",$e({opacity:1,transform:"translateX(0)"}))])]),Jn("expandIn",[In(":enter",[$e({opacity:0}),En("0.3s ease-out",$e({opacity:1}))])]),Jn("pulse",[In(":enter",[$e({opacity:0,transform:"scale(0.95)"}),En("0.3s ease-out",$e({opacity:1,transform:"scale(1)"}))])]),Jn("chipAnimation",[In(":enter",[$e({opacity:0,transform:"scale(0.8) translateY(10px)"}),En("0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",$e({opacity:1,transform:"scale(1) translateY(0)"}))])]),Jn("listAnimation",[In(":enter",[$e({opacity:0,transform:"translateX(-10px)"}),En("0.3s ease-out",$e({opacity:1,transform:"translateX(0)"}))])]),Jn("variantAnimation",[In(":enter",[$e({opacity:0}),En("0.3s ease-out",$e({opacity:1}))]),In(":leave",[En("0.15s ease-in",$e({opacity:0}))])]),Jn("modalContentAnimation",[In(":enter",[$e({opacity:0,transform:"scale(0.95)"}),En("200ms ease-out",$e({opacity:1,transform:"scale(1)"}))]),In(":leave",[En("150ms ease-in",$e({opacity:0,transform:"scale(0.95)"}))])])]},changeDetection:0})}}return o})();function cE(o,n){if(o&1&&(O(0,"div",45),Xt(),O(1,"svg",46),yt(2,"path",47),M(),re(),O(3,"span"),V(4),M()()),o&2){let t=pt(2);G(4),ae(t.errorMessage)}}function dE(o,n){o&1&&(O(0,"div",48),Xt(),O(1,"svg",49),yt(2,"path",50)(3,"path",51)(4,"path",52)(5,"path",53),M(),re(),O(6,"span"),V(7,"Sign in with Google"),M()())}function uE(o,n){o&1&&(O(0,"div",54),yt(1,"div",55),M())}function pE(o,n){if(o&1){let t=xe();O(0,"div",12)(1,"div",13)(2,"div",14),Xt(),O(3,"svg",15)(4,"defs")(5,"clipPath",16),yt(6,"rect",17),M(),O(7,"clipPath",18),yt(8,"rect",19),M()(),O(9,"g",20),yt(10,"path",21)(11,"circle",22)(12,"circle",23)(13,"circle",24)(14,"circle",25)(15,"circle",26)(16,"line",27)(17,"line",28)(18,"line",29)(19,"line",30),M(),O(20,"g",31),yt(21,"path",32)(22,"path",33),M(),yt(23,"circle",34)(24,"circle",35),M(),re(),O(25,"h1"),V(26,"Camply"),M()(),O(27,"div",36)(28,"h2"),V(29,"Glad You're Back"),M(),O(30,"p"),V(31,"Sign in to access your email campaigns"),M()(),qt(32,cE,5,1,"div",37),O(33,"div",38)(34,"label",39),V(35,"Organization Name"),M(),O(36,"input",40),Ar("ngModelChange",function(r){Ut(t);let i=pt();return kr(i.organizationSlug,r)||(i.organizationSlug=r),Wt(r)}),Yt("keyup.enter",function(){Ut(t);let r=pt();return Wt(r.onGoogleLogin())}),M(),O(37,"small",41),V(38,"Use lowercase letters, numbers, and hyphens only"),M()(),O(39,"button",42),Yt("click",function(){Ut(t);let r=pt();return Wt(r.onGoogleLogin())}),qt(40,dE,8,0,"div",43)(41,uE,2,0,"div",44),M()()()}if(o&2){let t=pt();G(32),ct("ngIf",t.errorMessage),G(4),Er("ngModel",t.organizationSlug),ct("disabled",t.isLoading),G(3),Be("loading",t.isLoading),ct("disabled",t.isLoading),G(),ct("ngIf",!t.isLoading),G(),ct("ngIf",t.isLoading)}}function fE(o,n){o&1&&(O(0,"div",56)(1,"div",57)(2,"div",58),Xt(),O(3,"svg",15)(4,"defs")(5,"clipPath",59),yt(6,"rect",17),M(),O(7,"clipPath",60),yt(8,"rect",19),M()(),O(9,"g",61),yt(10,"path",21)(11,"circle",22)(12,"circle",23)(13,"circle",24)(14,"circle",25)(15,"circle",26)(16,"line",27)(17,"line",28)(18,"line",29)(19,"line",30),M(),O(20,"g",62),yt(21,"path",32)(22,"path",33),M(),yt(23,"circle",34)(24,"circle",35),M(),re(),O(25,"h1",63),V(26,"Camply"),M()(),O(27,"div",64)(28,"h2"),V(29,"Transform Your Email Campaigns"),M(),O(30,"p"),V(31,"Professional email template testing and quality assurance powered by AI"),M()(),O(32,"div",65)(33,"div",66),Xt(),O(34,"svg",46),yt(35,"path",67),M(),re(),O(36,"span"),V(37,"AI-Powered Template Analysis"),M()(),O(38,"div",66),Xt(),O(39,"svg",46),yt(40,"path",68),M(),re(),O(41,"span"),V(42,"Instant Quality Checks"),M()(),O(43,"div",66),Xt(),O(44,"svg",46),yt(45,"path",69),M(),re(),O(46,"span"),V(47,"Variant Testing & Comparison"),M()()()()())}function gE(o,n){if(o&1&&(O(0,"div",45),Xt(),O(1,"svg",46),yt(2,"path",47),M(),re(),O(3,"span"),V(4),M()()),o&2){let t=pt(2);G(4),ae(t.errorMessage)}}function hE(o,n){o&1&&(O(0,"div",48),Xt(),O(1,"svg",49),yt(2,"path",50)(3,"path",51)(4,"path",52)(5,"path",53),M(),re(),O(6,"span"),V(7,"Sign in with Google"),M()())}function mE(o,n){o&1&&(O(0,"div",54),yt(1,"div",55),M())}function vE(o,n){if(o&1){let t=xe();O(0,"div",70)(1,"div",71)(2,"div",72)(3,"h2"),V(4,"Glad You're Back"),M(),O(5,"p"),V(6,"Sign in to access your email campaigns"),M()(),qt(7,gE,5,1,"div",37),O(8,"div",38)(9,"label",73),V(10,"Organization Name"),M(),O(11,"input",74),Ar("ngModelChange",function(r){Ut(t);let i=pt();return kr(i.organizationSlug,r)||(i.organizationSlug=r),Wt(r)}),Yt("keyup.enter",function(){Ut(t);let r=pt();return Wt(r.onGoogleLogin())}),M(),O(12,"small",41),V(13,"Use lowercase letters, numbers, and hyphens only"),M()(),O(14,"button",42),Yt("click",function(){Ut(t);let r=pt();return Wt(r.onGoogleLogin())}),qt(15,hE,8,0,"div",43)(16,mE,2,0,"div",44),M(),O(17,"div",75)(18,"span"),V(19,"Secured by Google"),M()(),O(20,"div",76)(21,"div",77),Xt(),O(22,"svg",46),yt(23,"path",78),M(),re(),O(24,"span"),V(25,"256-bit SSL Encryption"),M()(),O(26,"div",77),Xt(),O(27,"svg",46),yt(28,"path",79),M(),re(),O(29,"span"),V(30,"GDPR Compliant"),M()(),O(31,"div",77),Xt(),O(32,"svg",46),yt(33,"path",80),M(),re(),O(34,"span"),V(35,"Privacy Protected"),M()()()()()}if(o&2){let t=pt();G(7),ct("ngIf",t.errorMessage),G(4),Er("ngModel",t.organizationSlug),ct("disabled",t.isLoading),G(3),Be("loading",t.isLoading),ct("disabled",t.isLoading),G(),ct("ngIf",!t.isLoading),G(),ct("ngIf",t.isLoading)}}var VC=(()=>{class o{constructor(){this.authService=ye(gr),this.router=ye(jn),this.route=ye(Ai),this.isLoading=!1,this.errorMessage="",this.isLandscape=!1,this.organizationSlug=""}ngOnInit(){this.checkLandscape(),window.addEventListener("resize",this.checkLandscape.bind(this)),window.addEventListener("message",this.handleAuthMessage.bind(this)),this.authService.isAuthenticated$.subscribe(e=>{if(e){let r=this.route.snapshot.queryParams.returnUrl||"/";this.router.navigate([r],{replaceUrl:!0})}});let t=this.route.snapshot.queryParams.error;t&&(t==="pending_approval"?this.router.navigate(["/auth/pending"]):this.errorMessage=this.getErrorMessage(t))}ngOnDestroy(){window.removeEventListener("message",this.handleAuthMessage.bind(this)),window.removeEventListener("resize",this.checkLandscape.bind(this))}checkLandscape(){this.isLandscape=window.innerHeight<=600&&window.innerWidth<1024&&window.matchMedia("(orientation: landscape)").matches}handleAuthMessage(t){if(![window.location.origin,"http://localhost:3000"].includes(t.origin))return;let{type:r,user:i}=t.data;r==="AUTH_SUCCESS"?(this.authService.handleAuthSuccess(i),this.router.navigate(["/"],{replaceUrl:!0})):r==="AUTH_PENDING"?this.router.navigate(["/auth/pending"]):r==="AUTH_DEACTIVATED"&&(this.errorMessage="Your account has been deactivated. Please contact your administrator.")}onGoogleLogin(){let t=this.organizationSlug.trim().toLowerCase();if(!t||t===""){this.errorMessage="Please enter an organization name";return}if(t.length<2){this.errorMessage="Organization name must be at least 2 characters";return}if(!/^[a-z0-9-]+$/.test(t)){this.errorMessage="Organization name can only contain lowercase letters, numbers, and hyphens";return}this.isLoading=!0,this.errorMessage="",this.authService.loginWithGoogle(t),setTimeout(()=>{this.isLoading=!1},1e3)}getErrorMessage(t){return{google_auth_failed:"Google authentication failed. Please try again.",no_user:"Unable to create user account. Please try again.",callback_failed:"Authentication callback failed. Please try again.",pending_approval:"Your account is pending admin approval.",account_deactivated:"Your account has been deactivated. Contact your administrator.",authentication_failed:"Authentication failed. Please try again.",session_expired:"Your session has expired. Please sign in again.",access_denied:"Access denied. Contact your administrator.",org_required:"Organization name is required. Please enter your organization name.",invalid_org:"Invalid organization name format. Use only lowercase letters, numbers, and hyphens."}[t]||"An error occurred during authentication. Please try again."}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-auth-page"]],standalone:!0,features:[cn],decls:12,vars:3,consts:[[1,"auth-container"],[1,"background-effects"],[1,"floating-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"grid-pattern"],[1,"auth-content"],["class","auth-landscape-section",4,"ngIf"],["class","auth-branding",4,"ngIf"],["class","auth-form-section",4,"ngIf"],[1,"auth-landscape-section"],[1,"landscape-card"],[1,"landscape-header"],["viewBox","0 0 48 48","fill","none","xmlns","http://www.w3.org/2000/svg",1,"logo-icon"],["id","left-half-mobile"],["x","0","y","0","width","24","height","48"],["id","right-half-mobile"],["x","24","y","0","width","24","height","48"],["clip-path","url(#left-half-mobile)"],["d","M12 16 Q8 18 8 24 Q8 30 12 32","stroke","white","stroke-width","2","fill","none"],["cx","14","cy","20","r","1.2","fill","white"],["cx","12","cy","24","r","1.5","fill","white"],["cx","14","cy","28","r","1.2","fill","white"],["cx","18","cy","22","r","1","fill","white","opacity","0.7"],["cx","18","cy","26","r","1","fill","white","opacity","0.7"],["x1","14","y1","20","x2","18","y2","22","stroke","white","stroke-width","0.8","opacity","0.5"],["x1","12","y1","24","x2","18","y2","22","stroke","white","stroke-width","0.8","opacity","0.5"],["x1","12","y1","24","x2","18","y2","26","stroke","white","stroke-width","0.8","opacity","0.5"],["x1","14","y1","28","x2","18","y2","26","stroke","white","stroke-width","0.8","opacity","0.5"],["clip-path","url(#right-half-mobile)"],["d","M24 16 L40 16 L40 32 L24 32","stroke","white","stroke-width","2","fill","none"],["d","M24 16 L32 23 L40 16","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","24","cy","24","r","2","fill","white","opacity","0.3"],["cx","24","cy","24","r","1.2","fill","white"],[1,"landscape-welcome"],["class","error-alert",4,"ngIf"],[1,"form-group"],["for","org-slug-landscape"],["id","org-slug-landscape","type","text","placeholder","Enter your organization name",1,"org-input",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"input-hint"],[1,"google-btn",3,"click","disabled"],["class","google-btn-content",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"error-alert"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"google-btn-content"],["viewBox","0 0 24 24",1,"google-icon"],["fill","#4285F4","d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"],["fill","#34A853","d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"],["fill","#FBBC05","d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"],["fill","#EA4335","d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"],[1,"loading-spinner"],[1,"spinner"],[1,"auth-branding"],[1,"branding-content"],[1,"logo-container"],["id","left-half-desktop"],["id","right-half-desktop"],["clip-path","url(#left-half-desktop)"],["clip-path","url(#right-half-desktop)"],[1,"logo-text"],[1,"branding-text"],[1,"feature-list"],[1,"feature-item"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["d","M13 10V3L4 14h7v7l9-11h-7z"],["d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"auth-form-section"],[1,"auth-card"],[1,"auth-header"],["for","org-slug-desktop"],["id","org-slug-desktop","type","text","placeholder","Enter your organization name",1,"org-input",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"divider"],[1,"trust-indicators"],[1,"trust-item"],["d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],["d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],["d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"]],template:function(e,r){e&1&&(O(0,"div",0)(1,"div",1)(2,"div",2),yt(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),M(),yt(7,"div",7),M(),O(8,"div",8),qt(9,pE,42,8,"div",9)(10,fE,48,0,"div",10)(11,vE,36,8,"div",11),M()()),e&2&&(G(9),ct("ngIf",r.isLandscape),G(),ct("ngIf",!r.isLandscape),G(),ct("ngIf",!r.isLandscape))},dependencies:[Tn,qn,Ii,yo,bo,Co],styles:['[_ngcontent-%COMP%]:root{--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--accent-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--glass-bg: rgba(255, 255, 255, .15);--glass-border: rgba(255, 255, 255, .3);--shadow-soft: 0 8px 32px rgba(0, 0, 0, .1);--shadow-medium: 0 16px 64px rgba(0, 0, 0, .15);--animation-fast: .2s cubic-bezier(.4, 0, .2, 1);--animation-smooth: .4s cubic-bezier(.4, 0, .2, 1)}.auth-container[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:var(--primary-gradient);overflow:hidden;padding:1vh 0}.background-effects[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:0}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;background:var(--accent-gradient);border-radius:50%;opacity:.1;filter:blur(60px);animation:_ngcontent-%COMP%_float-shapes 15s ease-in-out infinite}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:10%;left:5%;animation-delay:0s}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;top:60%;right:10%;animation-delay:-5s}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:400px;height:400px;bottom:10%;left:15%;animation-delay:-10s}.background-effects[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-4[_ngcontent-%COMP%]{width:250px;height:250px;top:5%;right:20%;animation-delay:-7.5s}.background-effects[_ngcontent-%COMP%]   .grid-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(255,255,255,.05) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.05) 1px,transparent 1px);background-size:50px 50px;animation:_ngcontent-%COMP%_grid-move 30s linear infinite}.auth-content[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;width:100%;max-width:95vw;height:96vh;max-height:none;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px;box-shadow:var(--shadow-medium);overflow:hidden;animation:_ngcontent-%COMP%_slideInUp .6s cubic-bezier(.34,1.56,.64,1)}.auth-branding[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:4rem;position:relative;overflow:hidden}.auth-branding[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(255,255,255,.1) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none}.auth-branding[_ngcontent-%COMP%]   .branding-content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:500px}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:2rem}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:72px;height:72px;color:#fff;filter:drop-shadow(0 4px 12px rgba(0,0,0,.2))}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:900;color:#fff;margin:0;letter-spacing:-.02em}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]{margin-bottom:2rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:900;color:#fff;margin:0 0 .75rem;line-height:1.2;letter-spacing:-.03em}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem;color:#ffffffe6;line-height:1.5;margin:0;font-weight:500}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:.875rem 1rem;background:#ffffff26;border:1px solid rgba(255,255,255,.25);border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_slideInLeft .6s ease;animation-fill-mode:both}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.2s}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#fff;flex-shrink:0}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#fff}.auth-form-section[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:4rem;background:linear-gradient(135deg,#667eea,#764ba2);position:relative;overflow:hidden}.auth-form-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:linear-gradient(30deg,transparent 40%,rgba(255,255,255,.08) 40%,rgba(255,255,255,.08) 60%,transparent 60%),linear-gradient(150deg,transparent 40%,rgba(255,255,255,.08) 40%,rgba(255,255,255,.08) 60%,transparent 60%);background-size:100px 100px,70px 70px;background-position:0 0,35px 35px;animation:_ngcontent-%COMP%_triangleMove 20s linear infinite;pointer-events:none;opacity:.5;z-index:0}.auth-card[_ngcontent-%COMP%]{position:relative;z-index:1;width:100%;max-width:480px;padding:1.5rem 2.5rem;background:#fff;border-radius:16px;border:1px solid #e2e8f0;box-shadow:0 8px 32px #0003;animation:_ngcontent-%COMP%_fadeIn .8s ease;animation-delay:.3s;animation-fill-mode:both}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.75rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#1e293b;margin:0 0 .5rem;letter-spacing:-.02em}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;margin:0;font-weight:500}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.25rem;background:#ef44441a;border:2px solid rgba(239,68,68,.3);border-radius:12px;margin-bottom:1.5rem;animation:_ngcontent-%COMP%_shake .4s ease}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#ef4444;flex-shrink:0}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#dc2626}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem;width:100%}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:none}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1.25rem;background:#fff;border:2px solid #e2e8f0;border-radius:12px;font-size:.9375rem;color:#1e293b;transition:all var(--animation-smooth);box-sizing:border-box;font-weight:500;box-shadow:0 2px 8px #00000014}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;box-shadow:0 4px 12px #0000001a}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#fff;box-shadow:0 0 0 4px #667eea1a,0 4px 12px #0000001a}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;background:#f8fafc}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.auth-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#64748b;margin-top:.5rem;text-align:left;padding-left:.25rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{width:100%;padding:.875rem 1.5rem;margin-bottom:4px;background:#fff;border:2px solid #e2e8f0;border-radius:12px;cursor:pointer;transition:all var(--animation-smooth);position:relative;overflow:visible;box-shadow:0 2px 8px #00000014}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-8px;z-index:-1;pointer-events:auto}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#667eea,#764ba2);opacity:0;transition:opacity var(--animation-smooth);border-radius:12px}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 8px 24px #667eea40}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover:not(:disabled):before{opacity:.05}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:center;gap:1rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:22px;height:22px;flex-shrink:0}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;color:#1e293b}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid #e2e8f0;border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin:2rem 0;position:relative}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#e2e8f0}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8125rem;color:#94a3b8;font-weight:600;white-space:nowrap}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background:#f8fafc;border-radius:8px}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;color:#10b981;flex-shrink:0}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8125rem;color:#475569;font-weight:600}@keyframes _ngcontent-%COMP%_float-shapes{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-30px,-30px) rotate(120deg)}66%{transform:translate(30px,30px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_grid-move{0%{transform:translate(0)}to{transform:translate(50px,50px)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(60px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-4px)}20%,40%,60%,80%{transform:translate(4px)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-height: 600px) and (orientation: landscape) and (min-width: 1024px){.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]:nth-child(1), .auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]:nth-child(2){display:none}}@media (max-width: 1200px){.auth-content[_ngcontent-%COMP%]{max-width:1200px}.auth-branding[_ngcontent-%COMP%]{padding:3rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.25rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding:.875rem}.auth-form-section[_ngcontent-%COMP%]{padding:3rem}}@media (max-width: 1024px){.auth-content[_ngcontent-%COMP%]{flex-direction:column;height:auto;max-height:none;margin:1rem}.auth-branding[_ngcontent-%COMP%]{padding:2.5rem 2rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.auth-form-section[_ngcontent-%COMP%]{padding:2.5rem 2rem}.auth-card[_ngcontent-%COMP%]{max-width:500px}}@media (max-width: 1024px) and (min-width: 769px){.auth-content[_ngcontent-%COMP%]{height:auto;min-height:auto;overflow-y:auto}.auth-branding[_ngcontent-%COMP%]{padding:2rem;min-height:auto}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:48px;height:48px}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.5rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]{margin-bottom:1.5rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]{gap:.875rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding:.75rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.auth-form-section[_ngcontent-%COMP%]{padding:2rem}.auth-card[_ngcontent-%COMP%]{padding:1.75rem 1.5rem;max-width:500px}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:.875rem 1.125rem}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{display:none}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:1.25rem 0 0}}@media (max-width: 768px){.auth-content[_ngcontent-%COMP%]{border-radius:16px;flex-direction:column;height:auto;max-height:96vh;overflow-y:auto;overflow-x:hidden}.auth-branding[_ngcontent-%COMP%]{padding:1.5rem 1.25rem;min-height:auto}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{margin-bottom:1rem}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:36px;height:36px}.auth-branding[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.15rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]{margin-bottom:1.25rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem;margin-bottom:.5rem}.auth-branding[_ngcontent-%COMP%]   .branding-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem;line-height:1.4}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]{gap:.625rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{padding:.625rem .875rem}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.auth-branding[_ngcontent-%COMP%]   .feature-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.auth-form-section[_ngcontent-%COMP%]{padding:1.5rem 1.25rem}.auth-card[_ngcontent-%COMP%]{max-width:100%;width:100%;padding:1.5rem 1.25rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{margin-bottom:1.25rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem;margin-bottom:.4rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:.8rem 1rem;margin-bottom:.75rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]{gap:.75rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:20px;height:20px}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9375rem}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%], .auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 480px){.auth-container[_ngcontent-%COMP%]{padding:0;overflow:hidden}.auth-content[_ngcontent-%COMP%]{margin:0;border-radius:0;height:100vh;max-height:100vh;overflow:hidden}.auth-form-section[_ngcontent-%COMP%]{padding:1rem;overflow:hidden}.auth-card[_ngcontent-%COMP%]{padding:1.25rem 1rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{margin-bottom:1.25rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]:before{font-size:1.125rem;margin-bottom:1.25rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.375rem}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{padding:.75rem .875rem;margin-bottom:1rem}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.auth-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:.75rem 1rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]{gap:.625rem}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:18px;height:18px}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:1rem 0}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{display:none}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.625rem;color:#94a3b8;text-align:center;width:100%}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]{gap:.4375rem}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]{padding:.4375rem .625rem}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.6875rem}}@media (max-height: 600px) and (orientation: landscape) and (max-width: 1024px){.auth-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)!important}.auth-content[_ngcontent-%COMP%]{height:98vh;max-height:98vh;justify-content:center;align-items:center;background:transparent!important;-webkit-backdrop-filter:none!important;backdrop-filter:none!important;box-shadow:none!important;border-radius:0!important}.background-effects[_ngcontent-%COMP%]{display:block!important;opacity:1!important}.auth-landscape-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.landscape-card[_ngcontent-%COMP%]{background:#fffffffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:20px;padding:1rem 1.5rem;max-width:450px;width:85%;box-shadow:0 20px 60px #667eea4d,0 8px 24px #764ba233;border:1px solid rgba(255,255,255,.5);display:flex;flex-direction:column;align-items:center;text-align:center}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:64px;height:64px;color:#667eea;stroke-width:2.5}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]{margin-bottom:.875rem}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin:0 0 .25rem;letter-spacing:-.02em}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;margin:0;font-weight:400}.landscape-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:.875rem}.landscape-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .org-input[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:.9375rem}.landscape-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-hint[_ngcontent-%COMP%]{margin-top:.375rem;font-size:.6875rem}.landscape-card[_ngcontent-%COMP%]   .security-text[_ngcontent-%COMP%]{margin:.875rem 0 .625rem}.landscape-card[_ngcontent-%COMP%]   .security-features[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:0}.landscape-card[_ngcontent-%COMP%]   .security-features[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.8125rem}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.75rem 1rem;background:linear-gradient(135deg,#fee2e2,#fecaca);border:1px solid #fca5a5;border-radius:12px;margin-bottom:1rem;width:100%;box-shadow:0 4px 12px #ef44441a}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#dc2626;flex-shrink:0}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#991b1b;font-weight:500}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem 1.5rem;border:2px solid #e2e8f0;border-radius:12px;background:#fff;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);font-size:1rem;font-weight:600;box-shadow:0 4px 16px #0000000f}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#667eea;background:linear-gradient(135deg,#f8faff,#f0f4ff);transform:translateY(-2px);box-shadow:0 8px 24px #667eea33}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.875rem}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{width:22px;height:22px;flex-shrink:0}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1e293b;font-weight:600}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:22px;height:22px;border:2.5px solid #e2e8f0;border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin .6s linear infinite}}@media (max-height: 400px) and (orientation: landscape){.landscape-card[_ngcontent-%COMP%]{padding:1.25rem 1.75rem!important;max-width:420px!important}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]{margin-bottom:1rem!important}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:42px!important;height:42px!important}.landscape-card[_ngcontent-%COMP%]   .landscape-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem!important}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]{margin-bottom:1.25rem!important}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem!important;margin-bottom:.4rem!important}.landscape-card[_ngcontent-%COMP%]   .landscape-welcome[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem!important}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{padding:.75rem 1rem!important;margin-bottom:1rem!important}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px!important;height:18px!important}.landscape-card[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8125rem!important}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem!important;font-size:.9375rem!important}.landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%], .landscape-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px!important;height:20px!important}}@media (prefers-color-scheme: dark){.auth-form-section[_ngcontent-%COMP%]{background:#0f172a}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f1f5f9}.auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]   .google-btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f1f5f9}.auth-card[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#667eea;background:#1e293b}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{background:#334155}.auth-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#64748b}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]{background:#1e293b}.auth-card[_ngcontent-%COMP%]   .trust-indicators[_ngcontent-%COMP%]   .trust-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#cbd5e1}}@keyframes _ngcontent-%COMP%_triangleMove{0%{background-position:0 0,35px 35px}to{background-position:100px 100px,135px 135px}}']})}}return o})();var zC=(()=>{class o{constructor(){this.authService=ye(gr),this.router=ye(jn),this.route=ye(Ai)}ngOnInit(){if(this.route.snapshot.queryParams.success==="true")if(this.authService.handleAuthCallback(),window.opener)window.close();else{let e=sessionStorage.getItem("auth_return_url")||"/";sessionStorage.removeItem("auth_return_url"),this.router.navigate([e],{replaceUrl:!0})}else this.router.navigate(["/auth"],{queryParams:{error:"callback_failed"}})}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-auth-callback"]],standalone:!0,features:[cn],decls:5,vars:0,consts:[[2,"display","flex","align-items","center","justify-content","center","height","100vh","background","linear-gradient(135deg, #667eea 0%, #764ba2 100%)"],[2,"text-align","center","color","white"],[2,"width","48px","height","48px","border","4px solid rgba(255,255,255,0.3)","border-top-color","white","border-radius","50%","animation","spin 0.8s linear infinite","margin","0 auto 1rem"],[2,"font-size","1.125rem","font-weight","600"]],template:function(e,r){e&1&&(O(0,"div",0)(1,"div",1),yt(2,"div",2),O(3,"p",3),V(4,"Completing sign in..."),M()()())},styles:["@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return o})();var jC=(()=>{class o{constructor(t){this.router=t}closeWindow(){window.close()}static{this.\u0275fac=function(e){return new(e||o)(pn(jn))}}static{this.\u0275cmp=ln({type:o,selectors:[["app-pending-approval"]],standalone:!0,features:[cn],decls:20,vars:0,consts:[[1,"pending-container"],[1,"pending-card"],[1,"icon-container"],[1,"icon-backdrop"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"pending-icon"],["d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"message"],[1,"info-box"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"back-btn",3,"click"],["d","M10 19l-7-7m0 0l7-7m-7 7h18"]],template:function(e,r){e&1&&(O(0,"div",0)(1,"div",1)(2,"div",2),yt(3,"div",3),Xt(),O(4,"svg",4),yt(5,"path",5),M()(),re(),O(6,"h1"),V(7,"Pending Approval"),M(),O(8,"p",6),V(9,"Your account has been created and is awaiting administrator approval."),M(),O(10,"div",7),Xt(),O(11,"svg",8),yt(12,"path",9),M(),re(),O(13,"p"),V(14,"You'll receive access once an administrator reviews your request. This typically takes 1-2 business days."),M()(),O(15,"button",10),Yt("click",function(){return r.closeWindow()}),Xt(),O(16,"svg",8),yt(17,"path",11),M(),re(),O(18,"span"),V(19,"Back to Sign In"),M()()()())},dependencies:[Tn],styles:[".pending-container[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:2rem}.pending-card[_ngcontent-%COMP%]{max-width:500px;width:100%;background:#fff;border-radius:24px;padding:3rem 2rem;text-align:center;box-shadow:0 24px 80px #00000040;animation:_ngcontent-%COMP%_slideInScale .6s cubic-bezier(.34,1.56,.64,1)}.icon-container[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;margin:0 auto 2rem}.icon-container[_ngcontent-%COMP%]   .icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#fbbf24,#f59e0b);border-radius:50%;opacity:.15;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.icon-container[_ngcontent-%COMP%]   .pending-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#f59e0b;filter:drop-shadow(0 4px 12px rgba(245,158,11,.3));animation:_ngcontent-%COMP%_rotate 3s linear infinite}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#1e293b;margin:0 0 1rem;letter-spacing:-.02em}.message[_ngcontent-%COMP%]{font-size:1.125rem;color:#64748b;margin:0 0 2rem;line-height:1.6}.info-box[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;background:#f8fafc;border:2px solid #e2e8f0;border-radius:12px;margin-bottom:2rem;text-align:left}.info-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;color:#3b82f6;flex-shrink:0;margin-top:2px}.info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem;color:#475569;margin:0;line-height:1.6}.back-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.625rem;padding:.875rem 1.75rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 16px #667eea4d}.back-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.back-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #667eea66}.back-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@keyframes _ngcontent-%COMP%_slideInScale{0%{opacity:0;transform:translateY(30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:.15}50%{transform:scale(1.1);opacity:.25}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 640px){.pending-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}h1[_ngcontent-%COMP%]{font-size:1.75rem}.message[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return o})();var yE=["customHeader"],bE=(o,n,t)=>({"desktop-mode":o,"tablet-mode":n,"mobile-mode":t});function CE(o,n){o&1&&Yy(0)}function xE(o,n){if(o&1&&(Rn(0),qt(1,CE,1,0,"ng-container",6),Fn()),o&2){let t=pt();G(),ct("ngTemplateOutlet",t.customHeaderTemplate)}}function OE(o,n){if(o&1){let t=xe();O(0,"div",17)(1,"h3",18),V(2,"Generated Template"),M(),O(3,"input",19),Ar("ngModelChange",function(r){Ut(t);let i=pt(2);return kr(i.templateName,r)||(i.templateName=r),Wt(r)}),Yt("ngModelChange",function(r){Ut(t);let i=pt(2);return Wt(i.onTemplateNameChange(r))}),M()()}if(o&2){let t=pt(2);G(3),Er("ngModel",t.templateName)}}function PE(o,n){if(o&1&&(O(0,"h3",18),V(1),M()),o&2){let t=pt(2);G(),ae(t.templateName||"Live Preview")}}function ME(o,n){if(o&1&&(O(0,"button",20)(1,"mat-icon"),V(2,"more_vert"),M()()),o&2){pt();let t=fr(7);ct("matMenuTriggerFor",t)}}function wE(o,n){if(o&1){let t=xe();O(0,"button",14),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.toggleFullscreen())}),O(1,"mat-icon"),V(2),M(),O(3,"span"),V(4),M()()}if(o&2){let t=pt(2);G(2),ae(t.isFullscreen?"fullscreen_exit":"fullscreen"),G(2),ae(t.isFullscreen?"Exit Fullscreen":"Fullscreen")}}function SE(o,n){o&1&&yt(0,"mat-divider")}function TE(o,n){o&1&&(O(0,"div",21),V(1,"View Mode"),M())}function EE(o,n){o&1&&(O(0,"mat-icon",23),V(1,"check"),M())}function kE(o,n){if(o&1){let t=xe();O(0,"button",14),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.changeViewMode("desktop"))}),O(1,"mat-icon"),V(2,"computer"),M(),O(3,"span"),V(4,"Desktop"),M(),qt(5,EE,2,0,"mat-icon",22),M()}if(o&2){let t=pt(2);G(),Be("active-mode",t.viewMode==="desktop"),G(4),ct("ngIf",t.viewMode==="desktop")}}function AE(o,n){o&1&&(O(0,"mat-icon",23),V(1,"check"),M())}function IE(o,n){if(o&1){let t=xe();O(0,"button",14),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.changeViewMode("tablet"))}),O(1,"mat-icon"),V(2,"tablet_mac"),M(),O(3,"span"),V(4,"Tablet"),M(),qt(5,AE,2,0,"mat-icon",22),M()}if(o&2){let t=pt(2);G(),Be("active-mode",t.viewMode==="tablet"),G(4),ct("ngIf",t.viewMode==="tablet")}}function DE(o,n){o&1&&(O(0,"mat-icon",23),V(1,"check"),M())}function LE(o,n){if(o&1){let t=xe();O(0,"button",14),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.changeViewMode("mobile"))}),O(1,"mat-icon"),V(2,"phone_iphone"),M(),O(3,"span"),V(4,"Mobile"),M(),qt(5,DE,2,0,"mat-icon",22),M()}if(o&2){let t=pt(2);G(),Be("active-mode",t.viewMode==="mobile"),G(4),ct("ngIf",t.viewMode==="mobile")}}function NE(o,n){if(o&1&&(O(0,"span",35),V(1),M()),o&2){let t=pt(3);G(),Ke("ID: ",t.templateId,"")}}function RE(o,n){o&1&&(Xt(),O(0,"svg",29),yt(1,"path",38)(2,"path",39)(3,"path",40)(4,"path",41),M())}function FE(o,n){o&1&&(Xt(),O(0,"svg",29),yt(1,"path",42)(2,"path",43)(3,"path",44)(4,"path",45),M())}function VE(o,n){if(o&1){let t=xe();O(0,"button",36),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.toggleFullscreen())}),qt(1,RE,5,0,"svg",37)(2,FE,5,0,"svg",37),O(3,"span"),V(4,"Fullscreen"),M()()}if(o&2){let t=pt(3);G(),ct("ngIf",!t.isFullscreen),G(),ct("ngIf",t.isFullscreen)}}function zE(o,n){if(o&1){let t=xe();O(0,"div",46)(1,"button",47),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.changeViewMode("desktop"))}),Xt(),O(2,"svg",48),yt(3,"rect",49)(4,"line",50)(5,"line",51),M(),re(),O(6,"span"),V(7,"Desktop"),M()(),O(8,"button",47),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.changeViewMode("tablet"))}),Xt(),O(9,"svg",48),yt(10,"rect",52)(11,"line",53),M(),re(),O(12,"span"),V(13,"Tablet"),M()(),O(14,"button",47),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.changeViewMode("mobile"))}),Xt(),O(15,"svg",48),yt(16,"rect",54)(17,"line",53),M(),re(),O(18,"span"),V(19,"Mobile"),M()()()}if(o&2){let t=pt(3);G(),Be("active",t.viewMode==="desktop"),G(7),Be("active",t.viewMode==="tablet"),G(6),Be("active",t.viewMode==="mobile")}}function jE(o,n){if(o&1){let t=xe();O(0,"button",55),Yt("click",function(){Ut(t);let r=pt(3);return Wt(r.onRefresh())}),Xt(),O(1,"svg",29),yt(2,"path",56)(3,"path",57)(4,"path",58)(5,"path",59),M(),re(),O(6,"span"),V(7,"Refresh"),M()()}}function HE(o,n){if(o&1&&(Rn(0),O(1,"div",24)(2,"span",25),yt(3,"span",26),V(4," Live Preview "),M(),qt(5,NE,2,1,"span",27),O(6,"div",28),Xt(),O(7,"svg",29),yt(8,"path",30),M(),re(),O(9,"span"),V(10,"Optimized"),M()()(),O(11,"div",31),qt(12,VE,5,2,"button",32)(13,zE,20,6,"div",33)(14,jE,8,0,"button",34),M(),Fn()),o&2){let t=pt(2);G(5),ct("ngIf",t.templateId),G(7),ct("ngIf",t.allowFullscreen),G(),ct("ngIf",t.allowViewModes),G(),ct("ngIf",t.allowRefresh&&!t.isGeneratePage)}}function BE(o,n){if(o&1){let t=xe();O(0,"div",7)(1,"div",8)(2,"div",9),qt(3,OE,4,1,"div",10)(4,PE,2,1,"h3",11)(5,ME,3,1,"button",12),O(6,"mat-menu",13,0)(8,"button",14),Yt("click",function(){Ut(t);let r=pt();return Wt(r.onSaveTemplate())}),O(9,"mat-icon"),V(10,"save"),M(),O(11,"span"),V(12,"Save Template"),M()(),O(13,"button",14),Yt("click",function(){Ut(t);let r=pt();return Wt(r.onRunTests())}),O(14,"mat-icon"),V(15,"visibility"),M(),O(16,"span"),V(17,"QA Check"),M()(),yt(18,"mat-divider"),qt(19,wE,5,2,"button",15)(20,SE,1,0,"mat-divider",2)(21,TE,2,0,"div",16)(22,kE,6,3,"button",15)(23,IE,6,3,"button",15)(24,LE,6,3,"button",15),M(),qt(25,HE,15,4,"ng-container",2),M()()()}if(o&2){let t=pt();G(2),Be("generate-page-header",t.isGeneratePage),G(),ct("ngIf",t.isGeneratePage),G(),ct("ngIf",!t.isGeneratePage),G(),ct("ngIf",t.showGenerateActions&&t.isGeneratePage),G(14),ct("ngIf",t.allowFullscreen),G(),ct("ngIf",t.allowViewModes),G(),ct("ngIf",t.allowViewModes),G(),ct("ngIf",t.allowViewModes),G(),ct("ngIf",t.allowViewModes),G(),ct("ngIf",t.allowViewModes),G(),ct("ngIf",!t.isGeneratePage)}}function UE(o,n){o&1&&(Rn(0),O(1,"div",69)(2,"div",70),Xt(),O(3,"svg",48),yt(4,"circle",71)(5,"path",72)(6,"circle",73),M(),re(),yt(7,"div",74),M(),O(8,"h2"),V(9,"AI-Powered Generation"),M(),O(10,"p",75),V(11,"AI can make mistakes. Please review and verify all generated content carefully before use."),M(),O(12,"div",76)(13,"div",77),Xt(),O(14,"svg",48),yt(15,"path",78),M(),V(16," Always Verify "),M(),re(),O(17,"div",79),Xt(),O(18,"svg",48),yt(19,"rect",49)(20,"line",50)(21,"line",51),M(),V(22," Beta Feature "),M()()(),Fn())}function WE(o,n){o&1&&(Rn(0),O(1,"div",80),yt(2,"div",81)(3,"div",82),Xt(),O(4,"svg",83),yt(5,"path",84)(6,"rect",85),M()(),re(),O(7,"div",86)(8,"h2"),V(9,"Ready for Preview"),M()(),O(10,"div",87)(11,"div",88),Xt(),O(12,"svg",29),yt(13,"path",78),M(),V(14," Real-time Updates "),M(),re(),O(15,"div",88),Xt(),O(16,"svg",29),yt(17,"rect",49)(18,"line",50)(19,"line",51),M(),V(20," Multi-Device "),M(),re(),O(21,"div",88),Xt(),O(22,"svg",29),yt(23,"path",30),M(),V(24," Lightning Fast "),M()(),Fn())}function GE(o,n){if(o&1&&(O(0,"div",60)(1,"div",61)(2,"div",62),yt(3,"div",63)(4,"div",64)(5,"div",65)(6,"div",66),M(),yt(7,"div",67),M(),O(8,"div",68),qt(9,UE,23,0,"ng-container",2)(10,WE,25,0,"ng-container",2),M()()),o&2){let t=pt();G(9),ct("ngIf",t.isGeneratePage),G(),ct("ngIf",!t.isGeneratePage)}}function KE(o,n){o&1&&(O(0,"div",95)(1,"div",96)(2,"div",97),yt(3,"div",98)(4,"div",99)(5,"div",100)(6,"div",101)(7,"div",102)(8,"div",103)(9,"div",104),M()(),O(10,"div",105)(11,"div",106),yt(12,"div",107)(13,"div",108)(14,"div",109),M(),O(15,"div",110)(16,"h4"),V(17,"Rendering Preview"),M(),O(18,"p"),V(19,"Optimizing your template for the best experience"),M(),O(20,"div",111)(21,"div",112),yt(22,"div",113),M()()()()()),o&2&&ct("@fadeInOut",void 0)}function qE(o,n){if(o&1){let t=xe();O(0,"div",114)(1,"div",115),yt(2,"div",116),M(),O(3,"div",117)(4,"div",118),yt(5,"div",119),Xt(),O(6,"svg",120),yt(7,"path",121)(8,"line",122)(9,"line",123),M()(),re(),O(10,"div",124)(11,"h3"),V(12,"Preview Unavailable"),M(),O(13,"p"),V(14),M(),O(15,"div",125)(16,"span"),V(17,"This usually resolves quickly. Try refreshing the preview."),M()()(),O(18,"div",126)(19,"button",127),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.onRefresh())}),Xt(),O(20,"svg",29),yt(21,"path",56)(22,"path",57)(23,"path",58)(24,"path",59),M(),V(25," Try Again "),M(),re(),O(26,"button",128),Xt(),O(27,"svg",29),yt(28,"path",129),M(),V(29," Get Support "),M()()()()}if(o&2){let t=pt(2);ct("@bounceIn",void 0),G(14),ae(t.previewError)}}function $E(o,n){if(o&1){let t=xe();O(0,"div",89),qt(1,KE,23,1,"div",90),O(2,"div",91)(3,"div",92)(4,"iframe",93),Yt("load",function(){Ut(t);let r=pt();return Wt(r.onIframeLoad())}),M()()(),qt(5,qE,30,2,"div",94),M()}if(o&2){let t=pt();G(),ct("ngIf",t.loading),G(),ct("ngClass",sf(4,bE,t.viewMode==="desktop",t.viewMode==="tablet",t.viewMode==="mobile")),G(2),pr("srcdoc",t.safeSrcdoc,pl),G(),ct("ngIf",t.previewError)}}var HC=(()=>{class o{constructor(){this.sanitizer=ye(uf),this.cdr=ye(qr),this.html="",this.showHeader=!0,this.loading=!1,this.hideHeader=!1,this.allowRefresh=!0,this.allowFullscreen=!0,this.allowViewModes=!0,this.showGenerateActions=!1,this.isGeneratePage=!1,this.internalLoading=!1,this.saveTemplate=new ei,this.runTests=new ei,this.templateNameChange=new ei,this.refresh=new ei,this.viewMode="desktop",this.isFullscreen=!1,this.safeSrcdoc=null}ngOnChanges(t){t.html&&this.html&&this.setFromHtml(this.html)}changeViewMode(t){this.viewMode=t,this.cdr.markForCheck()}onSaveTemplate(){this.saveTemplate.emit()}onTemplateNameChange(t){this.templateNameChange.emit(t)}onRunTests(){this.runTests.emit()}toggleFullscreen(){let t=document.querySelector(".preview-root");if(t)if(!this.isFullscreen)t.requestFullscreen&&t.requestFullscreen().then(()=>{this.isFullscreen=!0,this.cdr.markForCheck(),setTimeout(()=>{let e=document.querySelector(".cdk-overlay-container");e&&document.fullscreenElement&&document.fullscreenElement.appendChild(e)},100)});else{let e=document.querySelector(".cdk-overlay-container");e&&e.parentElement!==document.body&&document.body.appendChild(e),document.exitFullscreen&&document.exitFullscreen().then(()=>{this.isFullscreen=!1,this.cdr.markForCheck()})}}onRefresh(){this.html&&this.setFromHtml(this.html),this.refresh.emit(),this.cdr.markForCheck()}onIframeLoad(){this.internalLoading=!1,this.cdr.markForCheck()}setFromHtml(t){let e=this.ensureDoc(t),r=this.stripDangerousBits(e);this.safeSrcdoc=this.sanitizer.bypassSecurityTrustHtml(r),this.internalLoading=!0,setTimeout(()=>{this.internalLoading&&(this.internalLoading=!1,this.cdr.markForCheck())},3e3)}ensureDoc(t){let e=String(t||"");return/<body[\s>]/i.test(e)||/<\/html>/i.test(e)?e:["<!doctype html><html><head>",'<meta charset="utf-8">','<meta name="viewport" content="width=device-width,initial-scale=1">',"<style>html,body{margin:0;padding:0}</style>","</head><body>",e,"</body></html>"].join("")}stripDangerousBits(t){try{let e=new DOMParser().parseFromString(t,"text/html");return e.querySelectorAll("script, iframe, base").forEach(r=>r.remove()),e.querySelectorAll("*").forEach(r=>{for(let i=r.attributes.length-1;i>=0;i--){let a=r.attributes.item(i);a&&/^on/i.test(a.name)&&r.removeAttribute(a.name)}}),`<!doctype html>
`+e.documentElement.outerHTML}catch{return t.replace(/<script[\s\S]*?<\/script>/gi,"").replace(/<base[\s\S]*?>/gi,"").replace(/<iframe[\s\S]*?<\/iframe>/gi,"")}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-template-preview-panel"]],contentQueries:function(e,r,i){if(e&1&&bs(i,yE,5),e&2){let a;Gr(a=Kr())&&(r.customHeaderTemplate=a.first)}},inputs:{html:"html",templateName:"templateName",templateId:"templateId",showHeader:"showHeader",loading:"loading",hideHeader:"hideHeader",allowRefresh:"allowRefresh",allowFullscreen:"allowFullscreen",allowViewModes:"allowViewModes",showGenerateActions:"showGenerateActions",isGeneratePage:"isGeneratePage"},outputs:{saveTemplate:"saveTemplate",runTests:"runTests",templateNameChange:"templateNameChange",refresh:"refresh"},standalone:!0,features:[ys,cn],decls:5,vars:6,consts:[["actionsMenu","matMenu"],[1,"preview-root"],[4,"ngIf"],["class","preview-header",4,"ngIf"],["class","modern-placeholder",4,"ngIf"],["class","preview-container",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"preview-header"],[1,"header-content"],[1,"header-row-unified"],["class","header-left-group",4,"ngIf"],["class","template-title",4,"ngIf"],["class","actions-menu-btn","mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],[1,"actions-dropdown-menu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["class","menu-section-label",4,"ngIf"],[1,"header-left-group"],[1,"template-title"],["type","text","placeholder","Template Name","maxlength","100",1,"template-name-input-compact",3,"ngModelChange","ngModel"],["mat-icon-button","",1,"actions-menu-btn",3,"matMenuTriggerFor"],[1,"menu-section-label"],["class","check-icon",4,"ngIf"],[1,"check-icon"],[1,"template-meta"],[1,"status-badge"],[1,"status-indicator"],["class","template-id",4,"ngIf"],[1,"performance-badge-inline"],["viewBox","0 0 24 24","fill","none","stroke","currentColor"],["d","M13 2L3 14h9l-1 8 10-12h-9l1-8z"],[1,"header-controls-regular"],["class","action-btn fullscreen-btn",3,"click",4,"ngIf"],["class","view-mode-toggle",4,"ngIf"],["class","action-btn refresh-btn",3,"click",4,"ngIf"],[1,"template-id"],[1,"action-btn","fullscreen-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",4,"ngIf"],["d","M8 3H5a2 2 0 0 0-2 2v3"],["d","M21 8V5a2 2 0 0 0-2-2h-3"],["d","M3 16v3a2 2 0 0 0 2 2h3"],["d","M16 21h3a2 2 0 0 0 2-2v-3"],["d","M8 3v3a2 2 0 0 1-2 2H3"],["d","M21 8h-3a2 2 0 0 1-2-2V3"],["d","M3 16h3a2 2 0 0 1 2 2v3"],["d","M16 21v-3a2 2 0 0 1 2-2h3"],[1,"view-mode-toggle"],[1,"mode-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x","2","y","3","width","20","height","14","rx","2","ry","2"],["x1","8","y1","21","x2","16","y2","21"],["x1","12","y1","17","x2","12","y2","21"],["x","4","y","2","width","16","height","20","rx","2","ry","2"],["x1","12","y1","18","x2","12.01","y2","18"],["x","5","y","2","width","14","height","20","rx","2","ry","2"],[1,"action-btn","refresh-btn",3,"click"],["d","M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"],["d","M21 3v5h-5"],["d","M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"],["d","M3 21v-5h5"],[1,"modern-placeholder"],[1,"placeholder-background"],[1,"floating-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"grid-pattern"],[1,"placeholder-content"],[1,"ai-warning-container"],[1,"floating-ai-icon"],["cx","12","cy","12","r","10"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["cx","12","cy","17","r","0.5","fill","currentColor","stroke","none"],[1,"pulse-ring"],[1,"warning-text"],[1,"info-badges"],[1,"badge","warning"],["d","M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"],[1,"badge","info"],[1,"placeholder-icon-container"],[1,"icon-backdrop"],[1,"icon-ring"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"placeholder-icon"],["d","m15 10 4.553-2.276A1 1 0 0 1 21 8.618v6.764a1 1 0 0 1-1.447.894L15 14"],["x","3","y","6","width","12","height","12","rx","2"],[1,"placeholder-text"],[1,"feature-pills"],[1,"pill"],[1,"preview-container"],["class","advanced-loader",4,"ngIf"],[1,"iframe-wrapper",3,"ngClass"],[1,"iframe-container"],["sandbox","allow-same-origin allow-forms","referrerpolicy","no-referrer",1,"preview-frame",3,"load"],["class","premium-error",4,"ngIf"],[1,"advanced-loader"],[1,"loader-background"],[1,"neural-network"],[1,"node","node-1"],[1,"node","node-2"],[1,"node","node-3"],[1,"node","node-4"],[1,"connection","connection-1"],[1,"connection","connection-2"],[1,"connection","connection-3"],[1,"loader-content"],[1,"loader-spinner"],[1,"spinner-outer"],[1,"spinner-inner"],[1,"spinner-core"],[1,"loader-text"],[1,"progress-indicator"],[1,"progress-bar"],[1,"progress-fill"],[1,"premium-error"],[1,"error-background"],[1,"error-pattern"],[1,"error-content"],[1,"error-icon-container"],[1,"error-icon-backdrop"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"error-icon"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"error-text"],[1,"error-details"],[1,"error-actions"],[1,"retry-btn",3,"click"],[1,"support-btn"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"]],template:function(e,r){e&1&&(O(0,"div",1),qt(1,xE,2,1,"ng-container",2)(2,BE,26,12,"div",3)(3,GE,11,2,"div",4)(4,$E,6,8,"div",5),M()),e&2&&(Be("fullscreen",r.isFullscreen),G(),ct("ngIf",r.customHeaderTemplate),G(),ct("ngIf",!r.customHeaderTemplate&&r.showHeader&&!r.hideHeader),G(),ct("ngIf",!r.html&&!r.loading),G(),ct("ngIf",r.html||r.loading))},dependencies:[Tn,na,qn,tb,yr,li,Cr,br,ci,Ii,yo,bo,gf,Co,Oo,Ss,la,aa,xc,sa,mf,hf],styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%;position:relative}.preview-root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:linear-gradient(135deg,#f8fafc,#e2e8f0);overflow:hidden;position:relative;transition:all .4s cubic-bezier(.4,0,.2,1)}.preview-root[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(120,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgba(120,219,255,.2) 0%,transparent 50%);pointer-events:none;animation:_ngcontent-%COMP%_gradient-shift 15s ease infinite}.preview-root.fullscreen[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999}.preview-header[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#6d28d9,#5b21b6);padding:1.5rem 2rem;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.2);overflow:hidden;box-shadow:0 4px 24px #0000001a;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;flex-direction:column;gap:1rem;max-width:1400px;margin:0 auto}.preview-header[_ngcontent-%COMP%]   .header-row-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:nowrap}@media (max-width: 1200px){.preview-header[_ngcontent-%COMP%]   .header-row-main[_ngcontent-%COMP%]{flex-wrap:wrap}}.preview-header[_ngcontent-%COMP%]   .header-row-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;flex-wrap:wrap}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:800;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.3);letter-spacing:-.02em;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#ffffff40;border:1px solid rgba(255,255,255,.4);border-radius:24px;font-size:.875rem;font-weight:700;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #00000026;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background:#10b981;border-radius:50%;box-shadow:0 0 0 2px #10b98166;animation:_ngcontent-%COMP%_pulse-status 2s infinite;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .template-id[_ngcontent-%COMP%]{font-size:.8125rem;color:#fff;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,.3);opacity:.95;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:linear-gradient(135deg,#fbbf24,#f59e0b);border:1px solid #d97706;border-radius:24px;font-size:.875rem;font-weight:700;color:#78350f;box-shadow:0 2px 8px #f59e0b4d;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;stroke-width:2.5;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1rem;border:1px solid rgba(255,255,255,.35);background:#fff3;color:#fff;border-radius:10px;font-size:.875rem;font-weight:700;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #0000001a;white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-2px);box-shadow:0 6px 16px #0003}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.preview-header[_ngcontent-%COMP%]   .action-btn.refresh-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin-refresh .6s ease}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]{display:flex;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:12px;padding:4px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .75rem;border:none;background:transparent;color:#ffffffd9;border-radius:8px;font-size:.8125rem;font-weight:600;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);white-space:nowrap}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;flex-shrink:0}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#fff3}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn.active[_ngcontent-%COMP%]{color:#fff;background:#ffffff59;box-shadow:0 2px 8px #00000026}.template-name-input-simple[_ngcontent-%COMP%]{width:200px;padding:.75rem 1.25rem;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:12px;color:#fff;font-size:.9375rem;font-weight:600;font-family:inherit;transition:all .2s}.template-name-input-simple[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.template-name-input-simple[_ngcontent-%COMP%]:focus{outline:none;background:#ffffff40;border-color:#ffffff80;box-shadow:0 0 0 3px #ffffff1a}.save-btn[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:.5rem!important;padding:.75rem 1.5rem!important;background:linear-gradient(135deg,#667eea,#764ba2)!important;color:#fff!important;border:none!important;border-radius:12px!important;font-weight:700!important;font-size:.9375rem!important;box-shadow:0 4px 16px #667eea4d!important;transition:all .3s!important;white-space:nowrap!important;cursor:pointer}.save-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;display:none}.save-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #667eea66!important}.save-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.run-tests-btn[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:.5rem!important;padding:.75rem 1.5rem!important;background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;border:none!important;border-radius:12px!important;font-weight:700!important;font-size:.9375rem!important;box-shadow:0 4px 16px #10b9814d!important;transition:all .3s!important;white-space:nowrap!important;cursor:pointer}.run-tests-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.run-tests-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px #10b98166!important}.run-tests-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.modern-placeholder[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;padding:2rem 1rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]{display:none}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:400px}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]{display:none}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;background:linear-gradient(135deg,#6d28d9,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0 0 1rem;letter-spacing:-.02em;line-height:1.2}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#64748b;line-height:1.6;margin:0;font-weight:500}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%], .modern-placeholder[_ngcontent-%COMP%]   .ai-warning-container[_ngcontent-%COMP%]   .floating-ai-icon[_ngcontent-%COMP%], .modern-placeholder[_ngcontent-%COMP%]   .ai-warning-container[_ngcontent-%COMP%]   .info-badges[_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative;margin:0;background:#fff;border-radius:0;box-shadow:none;overflow:hidden;animation:_ngcontent-%COMP%_scaleIn .4s cubic-bezier(.4,0,.2,1)}.advanced-loader[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;padding:1rem}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffffffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:.08}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;background:#6366f1;border-radius:50%;box-shadow:0 0 20px #6366f180;animation:_ngcontent-%COMP%_node-pulse 2s ease-in-out infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-1[_ngcontent-%COMP%]{top:25%;left:25%}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-2[_ngcontent-%COMP%]{top:25%;right:25%;animation-delay:.5s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-3[_ngcontent-%COMP%]{bottom:25%;left:25%;animation-delay:1s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .node.node-4[_ngcontent-%COMP%]{bottom:25%;right:25%;animation-delay:1.5s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection[_ngcontent-%COMP%]{position:absolute;height:3px;background:linear-gradient(90deg,transparent,#6366f1,transparent);animation:_ngcontent-%COMP%_connection-flow 3s ease-in-out infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-1[_ngcontent-%COMP%]{top:25%;left:25%;right:25%}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-2[_ngcontent-%COMP%]{bottom:25%;left:25%;right:25%;animation-delay:1s}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]   .neural-network[_ngcontent-%COMP%]   .connection.connection-3[_ngcontent-%COMP%]{top:25%;bottom:25%;left:25%;width:3px;height:auto;background:linear-gradient(180deg,transparent,#6366f1,transparent);animation-delay:2s}.advanced-loader[_ngcontent-%COMP%]   .loader-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;animation:_ngcontent-%COMP%_fadeIn .4s}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{position:relative;width:70px;height:70px;margin:0 auto 2rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{position:absolute;border:4px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin-loader 1.2s linear infinite}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%]{width:100%;height:100%;border-top-color:#6366f1;border-right-color:#6366f1;box-shadow:0 0 20px #6366f14d}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%]{width:70%;height:70%;top:15%;left:15%;border-top-color:#8b5cf6;border-left-color:#8b5cf6;animation-delay:-.4s;animation-direction:reverse;box-shadow:0 0 15px #8b5cf64d}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{width:40%;height:40%;top:30%;left:30%;border-top-color:#06b6d4;border-bottom-color:#06b6d4;animation-delay:-.8s;box-shadow:0 0 10px #06b6d44d}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#1f2937;margin:0 0 .75rem;letter-spacing:-.02em}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0 0 2rem;font-weight:500}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:350px;margin:0 auto}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden;box-shadow:inset 0 2px 4px #0000000f}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(135deg,#4facfe,#00f2fe);border-radius:4px;width:0%;animation:_ngcontent-%COMP%_progress-flow 2.5s ease-in-out infinite;box-shadow:0 0 10px #4facfe80}.iframe-wrapper[_ngcontent-%COMP%]{flex:1;position:relative;background:#fff;display:flex;align-items:center;justify-content:center;padding:0}.iframe-wrapper[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:all .4s cubic-bezier(.4,0,.2,1);box-shadow:none;border-radius:0;overflow:hidden;background:#fff}.iframe-wrapper[_ngcontent-%COMP%]   .preview-frame[_ngcontent-%COMP%]{width:100%;height:100%;border:none;border-radius:0;background:#fff;transition:all .4s cubic-bezier(.4,0,.2,1)}.iframe-wrapper.desktop-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100%;height:100%}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(768px,85vw);height:100%;box-shadow:0 8px 32px #0000001f;border-radius:12px}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(375px,50vw);height:100%;box-shadow:0 8px 32px #0000001f;border-radius:12px}.premium-error[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:50;padding:1rem}.premium-error[_ngcontent-%COMP%]   .error-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#fef2f2,#fff7f7)}.premium-error[_ngcontent-%COMP%]   .error-background[_ngcontent-%COMP%]   .error-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:radial-gradient(circle at 2px 2px,rgba(239,68,68,.08) 2px,transparent 0);background-size:24px 24px;animation:_ngcontent-%COMP%_pattern-shift 20s linear infinite}.premium-error[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;max-width:480px;padding:2.5rem;animation:_ngcontent-%COMP%_bounceIn .6s cubic-bezier(.68,-.55,.265,1.55)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]{position:relative;margin:0 auto 2rem;width:100px;height:100px}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]   .error-icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#f093fb,#f5576c);border-radius:50%;opacity:.15;animation:_ngcontent-%COMP%_error-pulse 2s ease-in-out infinite;filter:blur(20px)}.premium-error[_ngcontent-%COMP%]   .error-icon-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#ef4444;stroke-width:2;animation:_ngcontent-%COMP%_shake-error .5s ease-in-out;filter:drop-shadow(0 4px 12px rgba(239,68,68,.3))}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{margin-bottom:2.5rem}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;color:#dc2626;margin:0 0 1rem;letter-spacing:-.02em}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#7f1d1d;margin:0 0 .75rem;font-weight:600}.premium-error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{font-size:1rem;color:#991b1b;opacity:.9;font-weight:500}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.25rem;flex-wrap:wrap}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.75rem;border:none;border-radius:10px;font-size:.9375rem;font-weight:700;cursor:pointer;transition:all .3s;white-space:nowrap}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;box-shadow:0 4px 16px #ef44444d}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 32px #ef444466}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]{background:#fff;color:#ef4444;border:2px solid #ef4444;box-shadow:0 2px 8px #ef44441a}.premium-error[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .support-btn[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff;transform:translateY(-3px)}@keyframes _ngcontent-%COMP%_gradient-shift{0%,to{opacity:1}50%{opacity:.8}}@keyframes _ngcontent-%COMP%_grid-move{0%{transform:translate(0)}to{transform:translate(50px,50px)}}@keyframes _ngcontent-%COMP%_float-shapes{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-40px,-40px) rotate(120deg)}66%{transform:translate(40px,40px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_float-icon{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(5deg)}}@keyframes _ngcontent-%COMP%_rotate-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-backdrop{0%,to{transform:scale(1);opacity:.12}50%{transform:scale(1.15);opacity:.25}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse-status{0%,to{opacity:1;transform:scale(1);box-shadow:0 0 0 3px #10b98166}50%{opacity:.6;transform:scale(1.3);box-shadow:0 0 0 6px #10b9811a}}@keyframes _ngcontent-%COMP%_spin-refresh{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_node-pulse{0%,to{opacity:.3;transform:scale(1);box-shadow:0 0 20px #6366f14d}50%{opacity:1;transform:scale(1.8);box-shadow:0 0 30px #6366f199}}@keyframes _ngcontent-%COMP%_connection-flow{0%,to{opacity:.3}50%{opacity:1}}@keyframes _ngcontent-%COMP%_spin-loader{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_progress-flow{0%{width:0%}50%{width:75%}to{width:100%}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.4)}50%{opacity:1;transform:scale(1.08)}70%{transform:scale(.92)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_error-pulse{0%,to{transform:scale(1);opacity:.15}50%{transform:scale(1.25);opacity:.35}}@keyframes _ngcontent-%COMP%_shake-error{0%,to{transform:translate(0) rotate(0)}10%,30%,50%,70%,90%{transform:translate(-6px) rotate(-2deg)}20%,40%,60%,80%{transform:translate(6px) rotate(2deg)}}@keyframes _ngcontent-%COMP%_pattern-shift{0%{transform:translate(0) translateY(0)}to{transform:translate(24px) translateY(24px)}}@media (max-width: 1200px){.header-row-main[_ngcontent-%COMP%]{flex-wrap:wrap}.header-row-main[_ngcontent-%COMP%]   .template-name-input-simple[_ngcontent-%COMP%]{width:100%;max-width:300px}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(768px,90vw)}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:min(375px,60vw)}}@media (max-width: 1024px){.preview-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.preview-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:.875rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:.875rem}}@media (max-width: 768px){.preview-header[_ngcontent-%COMP%]{padding:1rem}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:1.25rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:.5rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem}.header-row-main[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;width:100%}.header-row-main[_ngcontent-%COMP%]   .template-name-input-simple[_ngcontent-%COMP%], .header-row-main[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%], .header-row-main[_ngcontent-%COMP%]   .run-tests-btn[_ngcontent-%COMP%], .header-row-main[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]   .template-name-input-simple[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]   .run-tests-btn[_ngcontent-%COMP%], .header-row-controls[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%], .view-mode-toggle[_ngcontent-%COMP%]{width:100%;justify-content:center}.view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.5rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.75rem;max-width:200px}.iframe-wrapper.mobile-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100vw;border-radius:0;box-shadow:none}.iframe-wrapper.tablet-mode[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{width:100vw;border-radius:4px}}@media (max-width: 480px){.preview-header[_ngcontent-%COMP%]{padding:.75rem}.preview-header[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{font-size:1rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{gap:.375rem}.preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .preview-header[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]   .performance-badge-inline[_ngcontent-%COMP%]{font-size:.6875rem;padding:.25rem .5rem}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.8125rem}.preview-header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]{padding:2px}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]{padding:.25rem .375rem}.preview-header[_ngcontent-%COMP%]   .view-mode-toggle[_ngcontent-%COMP%]   .mode-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:10px;height:10px}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:60px;height:60px;margin:0 auto 1.5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin:0 0 1rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:250px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:6px}}@media (max-width: 1024px){.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 2rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:300px}}@media (max-width: 768px){.advanced-loader[_ngcontent-%COMP%]{padding:.5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:65px;height:65px;margin:0 auto 1.25rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{border-width:3px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin:0 0 .5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin:0 0 1.25rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:280px}}@media (max-width: 480px),(max-height: 600px){.advanced-loader[_ngcontent-%COMP%]{padding:.5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:55px;height:55px;margin:0 auto 1rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{border-width:2px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin:0 0 .375rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem;margin:0 0 1rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:220px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:5px}}@media (max-height: 500px) and (orientation: landscape){.advanced-loader[_ngcontent-%COMP%]{padding:.5rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin:0 auto .75rem}.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-outer[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-inner[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]   .spinner-core[_ngcontent-%COMP%]{border-width:2px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9375rem;margin:0 0 .25rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;margin:0 0 .75rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:200px}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:4px}}@media (max-width: 360px){.advanced-loader[_ngcontent-%COMP%]   .loader-spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin:0 auto .875rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9375rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{max-width:180px}}@media (prefers-color-scheme: dark){.preview-root[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b)}.preview-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4c1d95,#3730a3)}.preview-container[_ngcontent-%COMP%]{background:#1e293b}.iframe-wrapper[_ngcontent-%COMP%]{background:#0f172a}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{background:#1e293bcc;border-color:#475569;color:#cbd5e1}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover{background:#6366f11a;border-color:#6366f1;color:#a5b4fc}.advanced-loader[_ngcontent-%COMP%]   .loader-background[_ngcontent-%COMP%]{background:#0f172afa}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f1f5f9}.advanced-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}.floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%], .neural-network[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%], .neural-network[_ngcontent-%COMP%]   .connection[_ngcontent-%COMP%], .grid-pattern[_ngcontent-%COMP%]{animation:none!important}}@media (prefers-contrast: high){.preview-header[_ngcontent-%COMP%]{background:#000;border-bottom:2px solid #fff}.template-title[_ngcontent-%COMP%], .template-meta[_ngcontent-%COMP%], .action-btn[_ngcontent-%COMP%], .mode-btn[_ngcontent-%COMP%]{color:#fff!important;border-color:#fff!important}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:#000;-webkit-background-clip:initial;-webkit-text-fill-color:initial;background-clip:initial;color:#000}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{background:#fff;border:2px solid #000;color:#000}}@media print{.preview-root[_ngcontent-%COMP%]{height:auto;background:#fff}.preview-header[_ngcontent-%COMP%]{background:#6d28d9;color:#fff;-webkit-print-color-adjust:exact;print-color-adjust:exact}.modern-placeholder[_ngcontent-%COMP%], .advanced-loader[_ngcontent-%COMP%], .premium-error[_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]{page-break-inside:avoid}}.ai-warning-container[_ngcontent-%COMP%]{text-align:center;max-width:600px;margin:0 auto;padding:2rem;animation:_ngcontent-%COMP%_fadeInScale .6s ease forwards;background:transparent!important}.floating-ai-icon[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;margin:0 auto 2.5rem;animation:_ngcontent-%COMP%_floatUpDown 3s ease-in-out infinite}.floating-ai-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;stroke:#6d28d9;filter:drop-shadow(0 10px 30px rgba(109,40,217,.3));position:relative;z-index:2}.floating-ai-icon[_ngcontent-%COMP%]   .pulse-ring[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:100%;height:100%;transform:translate(-50%,-50%);border-radius:50%;border:3px solid rgba(109,40,217,.4);animation:_ngcontent-%COMP%_pulseRing 2s ease-out infinite}.floating-ai-icon[_ngcontent-%COMP%]   .pulse-ring[_ngcontent-%COMP%]:before, .floating-ai-icon[_ngcontent-%COMP%]   .pulse-ring[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%;border:3px solid rgba(109,40,217,.3)}.floating-ai-icon[_ngcontent-%COMP%]   .pulse-ring[_ngcontent-%COMP%]:before{width:130%;height:130%;animation:_ngcontent-%COMP%_pulseRing 2s ease-out infinite .5s}.floating-ai-icon[_ngcontent-%COMP%]   .pulse-ring[_ngcontent-%COMP%]:after{width:160%;height:160%;animation:_ngcontent-%COMP%_pulseRing 2s ease-out infinite 1s}.ai-warning-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1.5rem,3.5vw,2rem);font-weight:800;background:linear-gradient(135deg,#6d28d9,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0 0 1rem;letter-spacing:-.02em;line-height:1.2}.warning-text[_ngcontent-%COMP%]{font-size:clamp(.9375rem,2vw,1.0625rem);line-height:1.6;color:#64748b;margin:0 0 2rem;font-weight:500;max-width:480px;margin-left:auto;margin-right:auto}.info-badges[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.6875rem 1.375rem;border-radius:50px;font-size:.875rem;font-weight:800;border:2.5px solid;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:default;letter-spacing:.01em}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0;stroke-width:2.5}.info-badges[_ngcontent-%COMP%]   .badge.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#fbbf241a);border-color:#f59e0b59;color:#d97706}.info-badges[_ngcontent-%COMP%]   .badge.warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);border-color:#f59e0b80;transform:translateY(-2px);box-shadow:0 8px 20px #f59e0b33}.info-badges[_ngcontent-%COMP%]   .badge.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#93c5fd1a);border-color:#3b82f659;color:#2563eb}.info-badges[_ngcontent-%COMP%]   .badge.info[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f633,#93c5fd33);border-color:#3b82f680;transform:translateY(-2px);box-shadow:0 8px 20px #3b82f633}@keyframes _ngcontent-%COMP%_floatUpDown{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_pulseRing{0%{opacity:1;transform:translate(-50%,-50%) scale(.8)}to{opacity:0;transform:translate(-50%,-50%) scale(1.4)}}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.ai-warning-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.floating-ai-icon[_ngcontent-%COMP%]{width:90px;height:90px;margin-bottom:2rem}.info-badges[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{justify-content:center;width:100%}}@media (max-width: 480px){.floating-ai-icon[_ngcontent-%COMP%]{width:70px;height:70px;margin-bottom:1.5rem}.warning-text[_ngcontent-%COMP%]{font-size:.9375rem;margin-bottom:2rem}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.625rem 1.25rem;font-size:.875rem}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}}@media (prefers-reduced-motion: reduce){.floating-ai-icon[_ngcontent-%COMP%], .pulse-ring[_ngcontent-%COMP%], .pulse-ring[_ngcontent-%COMP%]:before, .pulse-ring[_ngcontent-%COMP%]:after{animation:none!important}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]:hover{transform:none!important}.ai-warning-container[_ngcontent-%COMP%]{animation:none!important}}.header-row-unified[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;width:100%}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .header-left-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1;min-width:0}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .header-left-group[_ngcontent-%COMP%]   .template-title[_ngcontent-%COMP%]{margin:0;flex-shrink:0;display:none}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .template-name-input-compact[_ngcontent-%COMP%]{flex:1;min-width:150px;max-width:400px;padding:.75rem 1.25rem;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:12px;color:#fff;font-size:.9375rem;font-weight:600;font-family:inherit;transition:all .2s}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .template-name-input-compact[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .template-name-input-compact[_ngcontent-%COMP%]:focus{outline:none;background:#ffffff40;border-color:#ffffff80;box-shadow:0 0 0 3px #ffffff1a}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .actions-menu-btn[_ngcontent-%COMP%]{width:48px!important;height:48px!important;background:#fff3!important;border:1px solid rgba(255,255,255,.3)!important;border-radius:12px!important;color:#fff!important;transition:all .2s!important;flex-shrink:0;margin-left:auto}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .actions-menu-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.header-row-unified.generate-page-header[_ngcontent-%COMP%]   .actions-menu-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d!important;transform:scale(1.05)}  .actions-dropdown-menu .mat-mdc-menu-panel{background:#fff;border-radius:12px;box-shadow:0 12px 48px #0003;min-width:240px!important}  .actions-dropdown-menu .mat-mdc-menu-item{height:48px;font-size:.9375rem;font-weight:600;transition:all .2s;display:flex!important;align-items:center!important;padding:0 16px!important}  .actions-dropdown-menu .mat-mdc-menu-item mat-icon{margin-right:1rem;color:#6d28d9;flex-shrink:0}  .actions-dropdown-menu .mat-mdc-menu-item mat-icon.active-mode{color:#10b981}  .actions-dropdown-menu .mat-mdc-menu-item mat-icon.check-icon{position:absolute!important;right:16px!important;margin:0!important;color:#10b981;font-size:20px;width:20px;height:20px}  .actions-dropdown-menu .mat-mdc-menu-item span{flex:1;padding-right:32px}  .actions-dropdown-menu .mat-mdc-menu-item:hover{background:linear-gradient(135deg,#6d28d914,#ec489914)}  .actions-dropdown-menu .menu-section-label{padding:.5rem 1rem;font-size:.75rem;font-weight:800;text-transform:uppercase;letter-spacing:.05em;color:#94a3b8}  .actions-dropdown-menu .mat-divider{margin:.5rem 0;border-top-color:#e2e8f0}.header-controls-regular[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-left:auto}@media (min-width: 768px){.modern-placeholder[_ngcontent-%COMP%]{padding:1rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]{display:block;position:absolute;inset:0}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;background:linear-gradient(135deg,#f093fb,#f5576c);border-radius:50%;opacity:.12;filter:blur(40px);animation:_ngcontent-%COMP%_float-shapes 12s ease-in-out infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:200px;height:200px;top:15%;left:8%}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:150px;height:150px;top:55%;right:12%;animation-delay:-3s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:250px;height:250px;bottom:18%;left:18%;animation-delay:-6s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .floating-shapes[_ngcontent-%COMP%]   .shape.shape-4[_ngcontent-%COMP%]{width:180px;height:180px;top:8%;right:25%;animation-delay:-9s}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-background[_ngcontent-%COMP%]   .grid-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(99,102,241,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(99,102,241,.03) 1px,transparent 1px);background-size:50px 50px;animation:_ngcontent-%COMP%_grid-move 20s linear infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{max-width:560px;padding:2rem;animation:_ngcontent-%COMP%_fadeInUp .6s cubic-bezier(.68,-.55,.265,1.55)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]{display:block;position:relative;margin:0 auto 2.5rem;width:140px;height:140px}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#4facfe,#00f2fe);border-radius:50%;opacity:.12;animation:_ngcontent-%COMP%_pulse-backdrop 3s ease-in-out infinite;filter:blur(20px)}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-ring[_ngcontent-%COMP%]{position:absolute;inset:-10px;border:2px solid rgba(99,102,241,.2);border-radius:50%;animation:_ngcontent-%COMP%_rotate-ring 8s linear infinite}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .icon-ring[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;width:8px;height:8px;background:#6366f1;border-radius:50%;transform:translate(-50%,-50%);box-shadow:0 0 12px #6366f199}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-icon-container[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;color:#6366f1;stroke-width:1.5;animation:_ngcontent-%COMP%_float-icon 4s ease-in-out infinite;filter:drop-shadow(0 4px 12px rgba(99,102,241,.2))}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{margin-bottom:2.5rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1.25rem}.modern-placeholder[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.25rem;flex-wrap:wrap}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;background:#fff;border:2px solid #e2e8f0;border-radius:50px;font-size:.9375rem;font-weight:700;color:#475569;box-shadow:0 8px 32px #00000014;transition:all .4s cubic-bezier(.4,0,.2,1);animation:_ngcontent-%COMP%_slideInUp .4s cubic-bezier(.4,0,.2,1);animation-fill-mode:both;cursor:default;white-space:nowrap}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(1){animation-delay:.15s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(2){animation-delay:.25s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(3){animation-delay:.35s}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5;transition:all .2s;flex-shrink:0}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 16px 64px #00000026;border-color:#6366f1;color:#6366f1;background:linear-gradient(135deg,#fff,#f8f9ff)}.modern-placeholder[_ngcontent-%COMP%]   .feature-pills[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg)}.modern-placeholder[_ngcontent-%COMP%]   .ai-warning-container[_ngcontent-%COMP%]   .floating-ai-icon[_ngcontent-%COMP%]{display:block}.modern-placeholder[_ngcontent-%COMP%]   .ai-warning-container[_ngcontent-%COMP%]   .info-badges[_ngcontent-%COMP%]{display:flex}}'],data:{animation:[Jn("fadeInOut",[hl("in",$e({opacity:1})),In(":enter",[$e({opacity:0}),En(300,$e({opacity:1}))]),In(":leave",[En(300,$e({opacity:0}))])]),Jn("bounceIn",[In(":enter",[$e({opacity:0,transform:"scale(0.3)"}),En("300ms ease-in",$e({opacity:1,transform:"scale(1.05)"})),En("100ms ease-out",$e({transform:"scale(1)"}))])])]},changeDetection:0})}}return o})();var Vf=(()=>{class o{constructor(){this.http=ye(xs),this.db=ye(Aa)}kConversation(t){return`generate:conversation:${t}`}kCurrentConversationId(){return"generate:currentConversationId"}kConversationSession(t){return`generate_session:${t}`}startGeneration(t,e,r){console.log("\u{1F535} [SERVICE] startGeneration called:",{promptLength:t.length,imageCount:e?.length||0,conversationId:r});let i={prompt:t,images:e,conversationId:r};return this.http.post("/api/generate/start",i,{withCredentials:!0}).pipe(eu(a=>{console.log("\u{1F535} [SERVICE] startGeneration response:",{conversationId:a.conversationId,hasHtml:!!a.html,hasMjml:!!a.mjml}),this.setCurrentConversationId(a.conversationId)}))}continueConversation(t,e,r){console.log("\u{1F535} [SERVICE] continueConversation called:",{conversationId:t,messageLength:e.length,imageCount:r?.length||0});let i={message:e,images:r};return this.http.post(`/api/generate/continue/${t}`,i,{withCredentials:!0}).pipe(eu(a=>{console.log("\u{1F535} [SERVICE] continueConversation response:",{conversationId:a.conversationId,hasHtml:!!a.html,hasMjml:!!a.mjml})}))}chat(t,e,r,i,a){console.log("\u{1F535} [SERVICE] chat called:",{messageLength:t.length,historyLength:e.length,hasCurrentMjml:!!r,imageCount:i?.length||0,hasExtractedFileData:!!a,extractedFileDataLength:a?.length||0});let s={message:t,conversationHistory:e,currentMjml:r,images:i,extractedFileData:a};return this.http.post("/api/generate/chat",s,{withCredentials:!0}).pipe(eu(l=>{console.log("\u{1F535} [SERVICE] chat response:",{hasHtml:!!l.html,hasMjml:!!l.mjml,message:l.message})}))}getConversation(t){let e=this.getConversationCached(t);return console.log("\u{1F535} [SERVICE] getConversation called:",{conversationId:t,hasCachedData:!!e,cachedMessagesCount:e?.messages?.length||0}),e&&e.messages&&e.messages.length>0?(console.log("\u{1F535} [SERVICE] Returning cached conversation"),jm(e)):(console.log("\u{1F535} [SERVICE] No cache found, returning empty conversation"),jm({conversationId:t,messages:[],currentHtml:"",currentMjml:"",templateName:"Generated Template",status:"active",createdAt:new Date,updatedAt:new Date}))}getHistory(t=10,e=0){return this.http.get(`/api/generate/history?limit=${t}&offset=${e}`,{withCredentials:!0})}saveTemplate(t,e){let r=this.getConversationCached(t);if(!r||!r.currentHtml)throw new Error("No template to save");return console.log("\u{1F4BE} [SERVICE] Saving template:",{conversationId:t,templateName:e,hasHtml:!!r.currentHtml,hasMjml:!!r.currentMjml}),this.http.post(`/api/generate/save/${t}`,{templateName:e,html:r.currentHtml,mjml:r.currentMjml},{withCredentials:!0}).pipe(eu(i=>{r&&(r.templateName=e,r.status="saved",this.cacheConversation(t,r))}))}previewMjml(t){return this.http.post("/api/generate/preview",{mjml:t},{withCredentials:!0})}getStarter(){return this.http.get("/api/generate/starter",{withCredentials:!0})}getConversationCached(t){try{let e=this.kConversationSession(t),r=sessionStorage.getItem(e),i="sessionStorage";if(!r){let s=this.kConversation(t);r=localStorage.getItem(s),i="localStorage"}if(!r)return null;let a=JSON.parse(r);return!a.conversationId||!Array.isArray(a.messages)?(this.clearConversationCache(t),null):(a.createdAt=new Date(a.createdAt),a.updatedAt=new Date(a.updatedAt),a.messages=a.messages.map(s=>Jo(Tr({},s),{timestamp:new Date(s.timestamp),images:s.images||void 0})),a)}catch{try{this.clearConversationCache(t)}catch{}return null}}cacheConversation(t,e){try{let r=JSON.stringify(e);try{let i=this.kConversationSession(t);sessionStorage.setItem(i,r)}catch{this.clearOldConversations("session");try{sessionStorage.setItem(this.kConversationSession(t),r)}catch{}}try{let i=this.kConversation(t);localStorage.setItem(i,r)}catch{}}catch{}}updateConversationCache(t,e,r,i,a){console.log("\u{1F535} [SERVICE] updateConversationCache called:",{conversationId:t,messagesCount:e.length,hasHtml:!!r,hasMjml:!!i,templateName:a});try{let s=this.getConversationCached(t);if(s)console.log("\u{1F535} [SERVICE] Updating existing cache entry"),s.messages=e,s.currentHtml=r,s.currentMjml=i,a!==void 0&&(s.templateName=a),s.updatedAt=new Date,this.cacheConversation(t,s);else{console.log("\u{1F535} [SERVICE] Creating new cache entry");let l={conversationId:t,messages:e,currentHtml:r,currentMjml:i,templateName:a,status:"active",createdAt:new Date,updatedAt:new Date};this.cacheConversation(t,l)}}catch(s){console.error("\u{1F534} [SERVICE] updateConversationCache error:",s)}}getCurrentConversationId(){try{return sessionStorage.getItem(this.kCurrentConversationId())||localStorage.getItem(this.kCurrentConversationId())}catch{return null}}setCurrentConversationId(t){try{sessionStorage.setItem(this.kCurrentConversationId(),t),localStorage.setItem(this.kCurrentConversationId(),t)}catch{}}clearCurrentConversationId(){try{sessionStorage.removeItem(this.kCurrentConversationId()),localStorage.removeItem(this.kCurrentConversationId())}catch{}}clearConversationCache(t){try{sessionStorage.removeItem(this.kConversationSession(t)),localStorage.removeItem(this.kConversation(t))}catch{}}clearOldConversations(t="session"){try{let e=t==="session"?sessionStorage:localStorage,r=t==="session"?"generate_session:":"generate:conversation:",i=[];for(let a=0;a<e.length;a++){let s=e.key(a);s&&s.startsWith(r)&&i.push(s)}i.length>5&&i.slice(0,i.length-5).forEach(a=>{e.removeItem(a)})}catch{}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275prov=_o({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var YE=["messagesContainer"],XE=["messageInput"];function QE(o,n){if(o&1&&yt(0,"img",41),o&2){let t=n.$implicit;ct("src","data:"+t.mediaType+";base64,"+t.data,ea)("alt",t.fileName)}}function JE(o,n){if(o&1&&(O(0,"div",39),qt(1,QE,1,2,"img",40),M()),o&2){let t=pt().$implicit;G(),ct("ngForOf",t.images)}}function ZE(o,n){if(o&1&&(O(0,"div",32)(1,"div",33)(2,"div",34)(3,"span",35),V(4),M(),O(5,"span",36),V(6),on(7,"date"),M()(),qt(8,JE,2,1,"div",37),O(9,"div",38),V(10),M()()()),o&2){let t=n.$implicit;Be("user-msg",t.role==="user")("assistant-msg",t.role==="assistant"),G(),Be("user-bubble",t.role==="user"),G(3),ae(t.role==="user"?"You":"AI Assistant"),G(2),ae(au(7,10,t.timestamp,"short")),G(2),ct("ngIf",t.images&&t.images.length>0),G(2),Ke(" ",t.content," ")}}function t3(o,n){if(o&1){let t=xe();O(0,"div",46),yt(1,"img",41),O(2,"button",47),Yt("click",function(){let r=Ut(t).index,i=pt(2);return Wt(i.removeImage(r))}),O(3,"mat-icon"),V(4,"close"),M()()()}if(o&2){let t=n.$implicit,e=n.index;G(),ct("src",t,ea)("alt","Preview "+(e+1))}}function e3(o,n){if(o&1&&(O(0,"div",42)(1,"div",43)(2,"div",34)(3,"span",35),V(4,"Image Preview"),M()(),O(5,"div",44),qt(6,t3,5,2,"div",45),M()()()),o&2){let t=pt();G(6),ct("ngForOf",t.imagePreviewUrls)}}function n3(o,n){if(o&1){let t=xe();O(0,"div",42)(1,"div",48)(2,"div",34)(3,"span",35),V(4,"\u{1F4CE} Attached File"),M(),O(5,"button",49),Yt("click",function(){Ut(t);let r=pt();return Wt(r.removeAttachedFile())}),O(6,"mat-icon"),V(7,"close"),M()()(),O(8,"div",50)(9,"div",51)(10,"mat-icon",52),V(11),M()(),O(12,"div",53)(13,"span",54),V(14),M(),O(15,"span",55),V(16),M()()()()()}if(o&2){let t=pt();G(11),ae(t.getFileIcon(t.attachedFile.name)),G(3),ae(t.attachedFile.name),G(2),ae(t.formatFileSize(t.attachedFile.size))}}function r3(o,n){if(o&1&&(O(0,"div",56)(1,"div",57)(2,"div",34)(3,"span",35),V(4,"AI Assistant"),M()(),O(5,"div",38)(6,"div",58),yt(7,"span")(8,"span")(9,"span"),M(),O(10,"span",59),V(11),M()()()()),o&2){let t=pt();G(11),ae(t.isRegenerating?"Regenerating template...":"Generating template...")}}function i3(o,n){if(o&1){let t=xe();O(0,"div",69)(1,"input",70,3),Yt("change",function(r){Ut(t);let i=pt(2);return Wt(i.onFileSelected(r))}),M(),O(3,"div",71),Yt("click",function(){Ut(t);let r=fr(2);return Wt(r.click())})("dragover",function(r){Ut(t);let i=pt(2);return Wt(i.onDragOver(r))})("dragleave",function(r){Ut(t);let i=pt(2);return Wt(i.onDragLeave(r))})("drop",function(r){Ut(t);let i=pt(2);return Wt(i.onFileDrop(r))}),O(4,"mat-icon",72),V(5,"cloud_upload"),M(),O(6,"p",73),V(7,"Drag & drop your file here"),M(),O(8,"p",74),V(9,"or click to browse"),M(),O(10,"div",75)(11,"span",76),V(12,"Excel"),M(),O(13,"span",76),V(14,"CSV"),M(),O(15,"span",76),V(16,"Word"),M(),O(17,"span",76),V(18,"PDF"),M()()()()}if(o&2){let t=pt(2);G(3),Be("drag-over",t.isDragOver)}}function o3(o,n){o&1&&yt(0,"mat-spinner",86)}function a3(o,n){o&1&&(O(0,"mat-icon"),V(1,"auto_awesome"),M())}function s3(o,n){o&1&&yt(0,"mat-spinner",86)}function l3(o,n){o&1&&(O(0,"mat-icon"),V(1,"attach_file"),M())}function c3(o,n){if(o&1){let t=xe();O(0,"div",77)(1,"div",78)(2,"div",52)(3,"mat-icon"),V(4),M()(),O(5,"div",79)(6,"p",54),V(7),M(),O(8,"p",55),V(9),M()(),O(10,"button",80),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.removeUploadedFile())}),O(11,"mat-icon"),V(12,"delete"),M()()(),O(13,"div",81),Yt("click",function(r){return Ut(t),Wt(r.stopPropagation())}),O(14,"button",82),Yt("click",function(r){return Ut(t),pt(2).generatePromptFromFile(),Wt(r.stopPropagation())}),qt(15,o3,1,0,"mat-spinner",83)(16,a3,2,0,"mat-icon",84),O(17,"span"),V(18),M()(),O(19,"button",85),Yt("click",function(r){return Ut(t),pt(2).useFileInChat(),Wt(r.stopPropagation())}),qt(20,s3,1,0,"mat-spinner",83)(21,l3,2,0,"mat-icon",84),O(22,"span"),V(23),M()()()()}if(o&2){let t=pt(2);G(4),ae(t.getFileIcon(t.uploadedFile.name)),G(3),ae(t.uploadedFile.name),G(2),ae(t.formatFileSize(t.uploadedFile.size)),G(5),ct("disabled",t.isGeneratingPrompt||t.isAttachingFile),G(),ct("ngIf",t.isGeneratingPrompt),G(),ct("ngIf",!t.isGeneratingPrompt),G(2),ae(t.isGeneratingPrompt?"Generating...":"Generate Prompt (Recommended)"),G(),ct("disabled",t.isGeneratingPrompt||t.isAttachingFile),G(),ct("ngIf",t.isAttachingFile),G(),ct("ngIf",!t.isAttachingFile),G(2),ae(t.isAttachingFile?"Attaching...":"Attach Only")}}function d3(o,n){if(o&1){let t=xe();O(0,"div",87)(1,"div",88)(2,"h3"),V(3,"\u2728 Generated Prompt"),M(),O(4,"button",89),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.resetUpload())}),O(5,"mat-icon"),V(6,"refresh"),M()()(),O(7,"textarea",90),Ar("ngModelChange",function(r){Ut(t);let i=pt(2);return kr(i.generatedPrompt,r)||(i.generatedPrompt=r),Wt(r)}),V(8,"        "),M(),O(9,"div",91)(10,"button",92),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.resetUpload())}),O(11,"mat-icon"),V(12,"close"),M(),V(13," Cancel "),M(),O(14,"button",93),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.useGeneratedPrompt())}),O(15,"mat-icon"),V(16,"check"),M(),V(17," Use This Prompt "),M()()()}if(o&2){let t=pt(2);G(7),Er("ngModel",t.generatedPrompt)}}function u3(o,n){if(o&1){let t=xe();O(0,"div",60),Yt("click",function(){Ut(t);let r=pt();return Wt(r.closeCsvBanner())}),O(1,"div",61),Yt("click",function(r){return Ut(t),Wt(r.stopPropagation())}),O(2,"button",62),Yt("click",function(){Ut(t);let r=pt();return Wt(r.closeCsvBanner())}),O(3,"mat-icon"),V(4,"close"),M()(),O(5,"div",63)(6,"h2",64),V(7,"\u{1F4C4} Upload Document"),M(),O(8,"p",65),V(9,"Upload Excel, CSV, Word, or PDF to generate a smart email template prompt"),M(),qt(10,i3,19,2,"div",66)(11,c3,24,11,"div",67)(12,d3,18,1,"div",68),M()()()}if(o&2){let t=pt();G(10),ct("ngIf",!t.uploadedFile&&!t.generatedPrompt),G(),ct("ngIf",t.uploadedFile&&!t.generatedPrompt),G(),ct("ngIf",t.generatedPrompt)}}var BC=(()=>{class o{constructor(){this.generationService=ye(Vf),this.templatesService=ye(Ps),this.router=ye(jn),this.route=ye(Ai),this.location=ye(cf),this.snackBar=ye(Os),this.dialog=ye(Oc),this.destroy$=new Ur,this.previewCache=ye(Cc),this.scrollAnimation=null,this.templateState=ye(Ms),this.sentImages=[],this.cdr=ye(qr),this.viewMode="desktop",this.conversationId=null,this.messages$=new Wr([]),this.currentHtml$=new Wr(""),this.currentMjml$=new Wr(""),this.isGenerating$=new Wr(!1),this.isRegenerating=!1,this.justCreatedConversationId=null,this.userInput="",this.templateName="Generated Template",this.selectedImages=[],this.imagePreviewUrls=[],this.maxImages=2,this.maxSizeBytes=5*1024*1024,this.shouldAutoScroll=!0,this.isProgrammaticScroll=!1,this.showCsvBanner=!1,this.uploadedFile=null,this.generatedPrompt="",this.isGeneratingPrompt=!1,this.isAttachingFile=!1,this.isDragOver=!1,this.attachedFile=null,this.fileDataAlreadySent=!1}ngOnInit(){this.templateName="Generated Template",this.route.paramMap.pipe(gn(this.destroy$)).subscribe(t=>{let e=t.get("conversationId");if(e&&e!=="new")e!==this.justCreatedConversationId&&this.loadConversation(e);else if(e==="new"){let r=this.generateUUID();this.conversationId=r,this.justCreatedConversationId=r,this.isRegenerating=!1,this.initializeWelcome(),this.router.navigate(["/generate",r],{replaceUrl:!0})}})}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}changeViewMode(t){this.viewMode=t}openCsvBanner(){this.showCsvBanner=!0}closeCsvBanner(){this.showCsvBanner=!1,this.resetUpload()}onFileSelected(t){let e=t.target;if(e.files&&e.files.length>0){let r=e.files[0],i=1*1024*1024;if(r.size>i){this.snackBar.open(`File too large (${this.formatFileSize(r.size)}). Maximum size is 1MB.`,"Close",{duration:5e3,panelClass:["error-snackbar"]}),e.value="";return}this.uploadedFile=r,this.generatedPrompt=""}}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.isDragOver=!1}onFileDrop(t){if(t.preventDefault(),t.stopPropagation(),this.isDragOver=!1,t.dataTransfer?.files&&t.dataTransfer.files.length>0){let e=t.dataTransfer.files[0],r=1*1024*1024;if(e.size>r){this.snackBar.open(`File too large (${this.formatFileSize(e.size)}). Maximum size is 1MB.`,"Close",{duration:5e3,panelClass:["error-snackbar"]});return}let i=[".xlsx",".xls",".csv",".txt",".doc",".docx",".pdf"],a="."+e.name.split(".").pop()?.toLowerCase();i.includes(a)?(this.uploadedFile=e,this.generatedPrompt=""):this.snackBar.open("Please upload a valid file (Excel, CSV, TXT, Word, or PDF)","Close",{duration:4e3,panelClass:["error-snackbar"]})}}removeUploadedFile(){this.uploadedFile=null,this.generatedPrompt=""}resetUpload(){this.uploadedFile=null,this.generatedPrompt="",this.isGeneratingPrompt=!1}getFileIcon(t){switch(t.split(".").pop()?.toLowerCase()){case"xlsx":case"xls":return"table_chart";case"csv":return"grid_on";case"doc":case"docx":return"description";case"pdf":return"picture_as_pdf";default:return"insert_drive_file"}}formatFileSize(t){if(t===0)return"0 Bytes";let e=1024,r=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,i)*100)/100+" "+r[i]}generatePromptFromFile(){return vn(this,null,function*(){if(console.log("\u{1F534} generatePromptFromFile called",{hasFile:!!this.uploadedFile,isGenerating:this.isGeneratingPrompt}),!this.uploadedFile||this.isGeneratingPrompt){console.log("\u{1F534} generatePromptFromFile blocked");return}console.log("\u{1F534} generatePromptFromFile executing..."),this.isGeneratingPrompt=!0;try{let t=new FormData;t.append("file",this.uploadedFile);let e=yield fetch("/api/csv-to-prompt",{method:"POST",body:t});if(!e.ok)throw new Error("Failed to generate prompt");let r=yield e.json();this.generatedPrompt=r.prompt||r.message||"",this.snackBar.open("\u2728 Prompt generated successfully!","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch(t){console.error("Error generating prompt:",t),this.snackBar.open("Failed to generate prompt. Please try again.","Close",{duration:5e3,panelClass:["error-snackbar"]})}finally{this.isGeneratingPrompt=!1,console.log("\u{1F534} generatePromptFromFile finished")}})}useGeneratedPrompt(){this.generatedPrompt&&(this.userInput=this.generatedPrompt,this.closeCsvBanner(),setTimeout(()=>{this.messageInput?.nativeElement.focus()},100),this.snackBar.open("Prompt added! Click Send to generate your template.","Close",{duration:4e3,panelClass:["success-snackbar"]}))}useFileInChat(){return vn(this,null,function*(){if(console.log("\u{1F7E2} useFileInChat called",{hasFile:!!this.uploadedFile,isGenerating:this.isGeneratingPrompt,isAttaching:this.isAttachingFile}),!this.uploadedFile||this.isGeneratingPrompt||this.isAttachingFile){console.log("\u{1F7E2} useFileInChat blocked");return}console.log("\u{1F7E2} useFileInChat executing..."),this.isAttachingFile=!0,this.attachedFile=this.uploadedFile,this.closeCsvBanner(),this.shouldAutoScroll=!0,this.cdr.detectChanges(),setTimeout(()=>{this.scrollToBottom()},150),setTimeout(()=>{this.messageInput?.nativeElement.focus(),this.isAttachingFile=!1},600),console.log("\u{1F7E2} useFileInChat finished")})}removeAttachedFile(){this.attachedFile=null}ngAfterViewInit(){setTimeout(()=>{try{let t=this.messagesContainer?.nativeElement;t&&(t.addEventListener("wheel",()=>{this.scrollAnimation&&(cancelAnimationFrame(this.scrollAnimation),this.scrollAnimation=null)}),t.addEventListener("touchmove",()=>{this.scrollAnimation&&(cancelAnimationFrame(this.scrollAnimation),this.scrollAnimation=null)})),window.scrollTo(0,0),this.positionChatAtBottom()}catch{}},0)}positionChatAtBottom(){setTimeout(()=>{let t=this.messagesContainer?.nativeElement;t&&t.scrollHeight>0&&(t.style.scrollBehavior="auto",t.scrollTop=t.scrollHeight,this.shouldAutoScroll=!0,setTimeout(()=>{t.style.scrollBehavior="smooth"},50))},50)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.messages$.complete(),this.currentHtml$.complete(),this.currentMjml$.complete(),this.isGenerating$.complete()}handleBeforeUnload(t){if(this.isGenerating$.value){let e="\u26A0\uFE0F Your template is still being generated and will be lost if you leave.";t.preventDefault(),t.returnValue=e;return}}canDeactivate(){if(!this.isGenerating$.value)return!0;let t=confirm(`\u26A0\uFE0F Your template is still being generated and will be lost if you leave.

Are you sure you want to leave? All progress will be lost.`);return t&&this.isGenerating$.next(!1),t}initializeWelcome(){let t={role:"assistant",content:`\u{1F44B} Hi! I'm your email template generator. Describe the email template you'd like to create, and I'll generate it for you.

For example:
\u2022 "Create a welcome email for new subscribers"
\u2022 "Design a product launch announcement"
\u2022 "Make a monthly newsletter template"`,timestamp:new Date};this.messages$.next([t]),this.conversationId&&this.generationService.updateConversationCache(this.conversationId,[t],"","",this.templateName)}loadConversation(t){console.log("\u{1F535} [GENERATE PAGE] Loading conversation:",t),this.conversationId=t,this.isGenerating$.next(!0),this.fileDataAlreadySent=!1,this.generationService.getConversation(t).pipe(gn(this.destroy$)).subscribe({next:e=>{console.log("\u{1F535} [GENERATE PAGE] Conversation loaded:",{conversationId:e.conversationId,messagesCount:e.messages.length,hasHtml:!!e.currentHtml,templateName:e.templateName,status:e.status}),console.log("\u{1F535} [GENERATE PAGE] Messages history:",e.messages),this.messages$.next(e.messages),this.currentHtml$.next(e.currentHtml),this.templateName=e.templateName||"Generated Template",this.isRegenerating=!!e.currentHtml,this.isGenerating$.next(!1),this.shouldAutoScroll=!0,this.scrollToBottom()},error:e=>{e.status!==404&&this.snackBar.open("Failed to load conversation","Close",{duration:5e3,panelClass:["error-snackbar"]}),this.isGenerating$.next(!1),e.status!==404&&this.router.navigate(["/generate/new"],{replaceUrl:!0})}})}onEnterKey(t){t instanceof KeyboardEvent&&(t.shiftKey||(t.preventDefault(),this.onSend()))}onPaste(t){return vn(this,null,function*(){let e=t.clipboardData;if(!e)return;let i=Array.from(e.items).filter(l=>l.type.startsWith("image/"));if(i.length===0)return;if(t.preventDefault(),this.selectedImages.length>=this.maxImages){this.snackBar.open(`Maximum ${this.maxImages} images allowed. Remove existing images first.`,"Close",{duration:4e3,panelClass:["error-snackbar"]});return}let a=this.maxImages-this.selectedImages.length,s=i.slice(0,a);i.length>a&&this.snackBar.open(`Only ${a} image${a===1?"":"s"} added. Maximum ${this.maxImages} images allowed.`,"Close",{duration:4e3,panelClass:["info-snackbar"]});for(let l of s){let c=l.getAsFile();c&&(yield this.processImage(c))}s.length>0&&this.snackBar.open(`${s.length} image${s.length===1?"":"s"} pasted successfully`,"Close",{duration:2e3,panelClass:["success-snackbar"]})})}hasTemplate(){return!!this.currentHtml$.value}onSend(){return vn(this,null,function*(){let t=this.userInput.trim();if(console.log("\u{1F535} [GENERATE PAGE] onSend called:",{message:t.substring(0,50)+"...",conversationId:this.conversationId,currentMessagesCount:this.messages$.value.length,hasTemplate:!!this.currentHtml$.value,isGenerating:this.isGenerating$.value,hasAttachedFile:!!this.attachedFile}),!t&&!this.attachedFile||this.isGenerating$.value){console.log("\u{1F535} [GENERATE PAGE] onSend blocked - empty message/no file or already generating");return}let e=t||"Generate an email template based on the attached document data",r=yield Promise.all(this.selectedImages.map(l=>vn(this,null,function*(){return{data:yield this.fileToBase64(l),mediaType:l.type,fileName:l.name}}))),i=this.messages$.value,a={role:"user",content:e,timestamp:new Date,images:r.length>0?r:void 0};this.messages$.next([...i,a]),this.selectedImages.forEach(l=>{let c=l.originalSize||l.size,u=l.originalName||l.name;this.sentImages.push({name:u,size:c})}),this.isGenerating$.next(!0),this.shouldAutoScroll=!0,setTimeout(()=>this.scrollToBottom(),50);let s=this.attachedFile;if(this.userInput="",this.selectedImages=[],this.imagePreviewUrls=[],this.attachedFile=null,s&&!this.fileDataAlreadySent){console.log("\u{1F4CE} [GENERATE PAGE] Processing attached file before sending to chat:",s.name);try{let l=new FormData;l.append("file",s);let c=yield fetch("/api/csv-to-prompt/extract",{method:"POST",body:l,credentials:"include"});if(!c.ok)throw new Error("Failed to extract file data");let{extractedData:u}=yield c.json();console.log("\u{1F4CE} [GENERATE PAGE] File data extracted successfully, length:",u.length),this.fileDataAlreadySent=!0,this.sendChatMessage(e,r,u)}catch(l){console.error("\u{1F4CE} [GENERATE PAGE] Error extracting file data:",l),this.snackBar.open("Failed to process attached file","Close",{duration:4e3,panelClass:["error-snackbar"]}),this.isGenerating$.next(!1)}}else s&&this.fileDataAlreadySent?(console.log("\u{1F4CE} [GENERATE PAGE] File data already sent in conversation - skipping extraction to save tokens"),this.sendChatMessage(e,r)):this.sendChatMessage(e,r)})}sendChatMessage(t,e,r){return vn(this,null,function*(){console.log("\u{1F535} [GENERATE PAGE] sendChatMessage called:",{messageLength:t.length,imageCount:e.length,conversationId:this.conversationId,currentMessagesCount:this.messages$.value.length,hasCurrentMjml:!!this.currentHtml$.value,hasExtractedFileData:!!r,extractedFileDataLength:r?.length||0});let i=this.messages$.value.slice(0,-1);this.generationService.chat(t,i,this.currentMjml$.value||void 0,e,r).pipe(gn(this.destroy$)).subscribe({next:a=>{console.log("\u{1F535} [GENERATE PAGE] chat response received:",{hasHtml:!!a.html,hasMjml:!!a.mjml,message:a.message,hasErrors:a.hasErrors}),this.currentHtml$.next(a.html),this.currentMjml$.next(a.mjml);let s={role:"assistant",content:a.message||"\u2705 Template updated successfully!",timestamp:new Date},l=[...this.messages$.value,s];this.messages$.next(l),console.log("\u{1F535} [GENERATE PAGE] Saving conversation to cache:",{conversationId:this.conversationId,messagesCount:l.length,templateName:this.templateName}),this.conversationId&&this.generationService.updateConversationCache(this.conversationId,l,a.html,a.mjml||"",this.templateName),this.isRegenerating||(this.isRegenerating=!0),this.isGenerating$.next(!1),this.shouldAutoScroll=!0,setTimeout(()=>{this.scrollToBottom()},100),a.hasErrors&&this.snackBar.open("Template generated with warnings. Check console for details.","Close",{duration:5e3,panelClass:["info-snackbar"]})},error:a=>{this.isGenerating$.next(!1),this.snackBar.open(a.error?.message||"Failed to generate template","Close",{duration:5e3,panelClass:["error-snackbar"]})}})})}startNewConversation(t,e){return vn(this,null,function*(){console.log("\u{1F535} [GENERATE PAGE] startNewConversation called:",{messageLength:t.length,imageCount:e.length,conversationId:this.conversationId,isRegenerating:this.isRegenerating}),this.generationService.startGeneration(t,e,this.conversationId||void 0).pipe(gn(this.destroy$)).subscribe({next:r=>{console.log("\u{1F535} [GENERATE PAGE] startGeneration response received:",{conversationId:r.conversationId,hasHtml:!!r.html,hasMjml:!!r.mjml,message:r.message,hasErrors:r.hasErrors}),this.conversationId=r.conversationId,this.generationService.setCurrentConversationId(r.conversationId),this.currentHtml$.next(r.html);let i=this.isRegenerating?"\u2705 Template regenerated successfully!":"\u2705 Template generated successfully!",a={role:"assistant",content:r.message||i,timestamp:new Date},s=[...this.messages$.value,a];this.messages$.next(s),console.log("\u{1F535} [GENERATE PAGE] Saving conversation to cache:",{conversationId:r.conversationId,messagesCount:s.length,templateName:this.templateName}),this.generationService.updateConversationCache(r.conversationId,s,r.html,r.mjml||"",this.templateName),this.isGenerating$.next(!1),this.isRegenerating||(this.isRegenerating=!0),this.shouldAutoScroll=!0,setTimeout(()=>{this.scrollToBottom()},100),r.hasErrors&&this.snackBar.open("Template generated with warnings. Check console for details.","Close",{duration:5e3,panelClass:["info-snackbar"]})},error:r=>{this.isGenerating$.next(!1),this.snackBar.open(r.error?.message||"Failed to generate template","Close",{duration:5e3,panelClass:["error-snackbar"]}),this.isGenerating$.next(!1)}})})}continueConversation(t,e){return vn(this,null,function*(){this.conversationId&&this.generationService.continueConversation(this.conversationId,t,e).pipe(gn(this.destroy$)).subscribe({next:r=>{this.currentHtml$.next(r.html);let i=this.messages$.value;i.push({role:"assistant",content:"\u2705 Template updated successfully",timestamp:new Date}),this.messages$.next([...i]),this.generationService.updateConversationCache(this.conversationId,i,r.html,r.mjml||"",this.templateName),this.isGenerating$.next(!1),this.scrollToBottom(),r.hasErrors?this.snackBar.open("Template updated with warnings. Check console for details.","Close",{duration:5e3,panelClass:["info-snackbar"]}):this.snackBar.open("Template updated!","Close",{duration:3e3,panelClass:["success-snackbar"]})},error:r=>{this.snackBar.open(r.error?.message||"Failed to update template","Close",{duration:5e3,panelClass:["error-snackbar"]}),this.isGenerating$.next(!1)}})})}onRunTests(){if(!this.conversationId){this.snackBar.open("No template to test","Close",{duration:3e3,panelClass:["error-snackbar"]});return}if(!this.currentHtml$.value){this.snackBar.open("No template to save","Close",{duration:3e3,panelClass:["error-snackbar"]});return}let t=this.templateName?.trim();if(!t){this.snackBar.open("Please enter a template name before running tests","Close",{duration:4e3,horizontalPosition:"center",verticalPosition:"top"});return}this.generationService.saveTemplate(this.conversationId,t).pipe(gn(this.destroy$)).subscribe({next:e=>{this.snackBar.open("Template saved! Redirecting to QA...","Close",{duration:2e3,panelClass:["success-snackbar"]});let r=this.currentHtml$.value;r&&e.templateId&&this.templateState.initializeOriginalTemplate(e.templateId,r),this.router.navigate(["/qa",e.templateId])},error:e=>{this.snackBar.open("Failed to save template","Close",{duration:5e3,panelClass:["error-snackbar"]})}})}onTemplateNameChange(t){this.templateName=t,this.conversationId&&this.generationService.updateConversationCache(this.conversationId,this.messages$.value,this.currentHtml$.value,"",t)}onSaveTemplate(){if(!this.conversationId){this.snackBar.open("No template to save","Close",{duration:3e3,panelClass:["error-snackbar"]});return}let t=this.templateName?.trim();if(!t){this.snackBar.open("Please enter a template name","Close",{duration:4e3,horizontalPosition:"center",verticalPosition:"top"});return}this.generationService.saveTemplate(this.conversationId,t).pipe(gn(this.destroy$)).subscribe({next:e=>{this.templatesService.addTemplateToCache({id:e.templateId,name:e.templateName||t,content:this.currentHtml$.value,source:"ai-generated",templateType:"AI Generated"}),this.templatesService.select(e.templateId,e.templateName||t),this.router.navigate(["/"])},error:e=>{this.snackBar.open(e.error?.message||"Failed to save template","Close",{duration:5e3,panelClass:["error-snackbar"]})}})}onNewConversation(){let t=this.conversationId&&this.currentHtml$.value;console.log("\u{1F535} [GENERATE PAGE] onNewConversation called:",{conversationId:this.conversationId,hasTemplate:!!this.currentHtml$.value,hasActiveConversation:t,messagesCount:this.messages$.value.length}),t?(console.log("\u{1F535} [GENERATE PAGE] Opening confirmation dialog"),this.dialog.open(p3,{width:"500px",disableClose:!1,data:{hasTemplate:!0}}).afterClosed().subscribe(r=>{console.log("\u{1F535} [GENERATE PAGE] Dialog closed with result:",r),r==="save"?(console.log("\u{1F535} [GENERATE PAGE] User chose to save template"),this.onSaveTemplate()):r==="discard"?(console.log("\u{1F535} [GENERATE PAGE] User chose to discard and start new"),this.clearAndStartNew()):console.log("\u{1F535} [GENERATE PAGE] User cancelled - staying on current conversation")})):this.clearAndStartNew()}clearAndStartNew(){this.conversationId=null,this.generationService.clearCurrentConversationId(),this.messages$.next([]),this.currentHtml$.next(""),this.templateName="",this.userInput="",this.sentImages=[],this.router.navigate(["/generate/new"],{replaceUrl:!0}),this.initializeWelcome()}onRefreshPreview(){}scrollToBottom(){this.shouldAutoScroll&&(this.isProgrammaticScroll=!0,setTimeout(()=>{let t=this.messagesContainer?.nativeElement;t&&(this.smoothScrollTo(t.scrollHeight),setTimeout(()=>{t&&this.smoothScrollTo(t.scrollHeight),setTimeout(()=>{this.isProgrammaticScroll=!1},100)},50))},100))}smoothScrollTo(t){let e=this.messagesContainer?.nativeElement;if(!e)return;this.scrollAnimation&&cancelAnimationFrame(this.scrollAnimation);let r=e.scrollTop,i=t-r,a=400,s=null,l=c=>{s===null&&(s=c);let u=c-s,p=Math.min(u/a,1),g=1-Math.pow(1-p,3);e.scrollTop=r+i*g,p<1?this.scrollAnimation=requestAnimationFrame(l):this.scrollAnimation=null};this.scrollAnimation=requestAnimationFrame(l)}onScroll(t){if(this.isProgrammaticScroll)return;let e=t.target,r=e.scrollHeight-e.scrollTop<=e.clientHeight+50;this.shouldAutoScroll=r}onImageSelect(t){return vn(this,null,function*(){let e=t.target;if(!e.files||e.files.length===0)return;let r=Array.from(e.files);if(this.selectedImages.length+r.length>this.maxImages){this.snackBar.open(`Maximum ${this.maxImages} images allowed at a time`,"Close",{duration:4e3,panelClass:["error-snackbar"]}),e.value="";return}let{duplicates:i,newFiles:a}=this.checkDuplicateImages(r);if(i.length>0){let s=i.map(u=>`\u2022 ${u.name} (${(u.size/1024).toFixed(2)}KB)`).join(`
`),l=i.length===1?`\u26A0\uFE0F This image is already uploaded:

${s}

Would you like to upload it again?`:`\u26A0\uFE0F These images are already uploaded:

${s}

Would you like to upload them again?`;if(!confirm(l)){if(a.length>0)for(let u of a)yield this.processImage(u);e.value="";return}}for(let s of r)yield this.processImage(s);e.value=""})}checkDuplicateImages(t){let e=[],r=[];return t.forEach(i=>{this.sentImages.some(s=>{let l=s.name===i.name,c=s.size===i.size;return l&&c})?e.push(i):r.push(i)}),{duplicates:e,newFiles:r}}toggleFullscreen(){let t=document.querySelector(".preview-wrapper");t&&(document.fullscreenElement?document.exitFullscreen():t.requestFullscreen().then(()=>{setTimeout(()=>{let e=document.querySelector(".cdk-overlay-container")},100)}))}processImage(t){return vn(this,null,function*(){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type)){this.snackBar.open(`Invalid file type: ${t.name}. Please upload images only.`,"Close",{duration:4e3,panelClass:["error-snackbar"]});return}let r=t.name,i=t.size;try{let a=yield this.compressImage(t);if(a.size>this.maxSizeBytes){this.snackBar.open(`Image ${t.name} is too large even after compression. Please use a smaller image.`,"Close",{duration:4e3,panelClass:["error-snackbar"]});return}a.originalName=r,a.originalSize=i;let s=new FileReader;s.onload=l=>{let c=l.target?.result;this.selectedImages.push(a),this.imagePreviewUrls.push(c),setTimeout(()=>this.scrollToBottom(),100)},s.onerror=l=>{},s.readAsDataURL(a)}catch{this.snackBar.open(`Failed to process ${t.name}. Please try another image.`,"Close",{duration:4e3,panelClass:["error-snackbar"]})}})}compressImage(t){return vn(this,null,function*(){return new Promise((e,r)=>{let i=new FileReader;i.onload=a=>{let s=new Image;s.onload=()=>{let l=document.createElement("canvas"),c=s.width,u=s.height,p=2e3;(c>p||u>p)&&(c>u?(u=u/c*p,c=p):(c=c/u*p,u=p)),l.width=c,l.height=u,l.getContext("2d")?.drawImage(s,0,0,c,u),l.toBlob(h=>{if(h&&h.size<=this.maxSizeBytes){let y=new File([h],t.name,{type:"image/jpeg",lastModified:Date.now()});e(y)}else r(new Error("Compression failed - file still too large"))},"image/jpeg",.8)},s.onerror=()=>{r(new Error("Failed to load image"))},s.src=a.target?.result},i.onerror=()=>{r(new Error("Failed to read file"))},i.readAsDataURL(t)})})}removeImage(t){this.selectedImages.splice(t,1),this.imagePreviewUrls.splice(t,1)}triggerFileInput(){let t=document.getElementById("imageUploadInput");t&&t?.click()}fileToBase64(t){return new Promise((e,r)=>{let i=new FileReader;i.onload=()=>{let s=i.result.split(",")[1];e(s)},i.onerror=a=>{r(a)},i.readAsDataURL(t)})}trackByIndex(t){return t}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-generate-page"]],viewQuery:function(e,r){if(e&1&&(Wo(YE,5),Wo(XE,5)),e&2){let i;Gr(i=Kr())&&(r.messagesContainer=i.first),Gr(i=Kr())&&(r.messageInput=i.first)}},hostBindings:function(e,r){e&1&&Yt("beforeunload",function(a){return r.handleBeforeUnload(a)},!1,rf)},standalone:!0,features:[cn],decls:85,vars:38,consts:[["usageMenu","matMenu"],["messagesContainer",""],["messageInput",""],["fileInput",""],[1,"generate-layout"],[1,"preview-section"],[1,"preview-wrapper"],[3,"templateNameChange","saveTemplate","runTests","html","templateName","loading","showHeader","allowRefresh","allowFullscreen","allowViewModes","showGenerateActions","isGeneratePage"],[1,"chat-section"],[1,"chat-header"],[1,"header-content"],["matTooltip","Add Excel/CSV","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"header-icon","excel-icon",3,"click"],["fill","#217346","d","M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M12.9,14.5L15.8,19H14L12,15.6L10,19H8.2L11.1,14.5L8.2,10H10L12,13.4L14,10H15.8L12.9,14.5Z"],[1,"header-text"],["mat-icon-button","","matTooltip","Start New Conversation",1,"new-chat-btn",3,"click","disabled"],["mat-icon-button","","matTooltip","How to use",1,"usage-tips-btn",3,"matMenuTriggerFor"],[1,"usage-tips-menu"],[1,"usage-tips-content",3,"click"],[1,"tip-section"],[1,"example"],[1,"tip-note"],[1,"chat-messages",3,"scroll"],["class","chat-msg",3,"user-msg","assistant-msg",4,"ngFor","ngForOf","ngForTrackBy"],["class","chat-msg user-msg",4,"ngIf"],["class","chat-msg assistant-msg",4,"ngIf"],[1,"composer"],["type","file","id","imageUploadInput","accept","image/jpeg,image/jpg,image/png,image/gif,image/webp,image/svg+xml","multiple","",2,"display","none",3,"change"],[1,"composer-input-row"],["mat-icon-button","","matTooltipPosition","above","type","button",1,"add-image-btn",3,"click","disabled","matTooltip"],["rows","3",1,"message-input",3,"ngModelChange","keydown.enter","paste","ngModel"],["mat-raised-button","",1,"send-btn",3,"click","disabled"],["class","csv-banner-overlay",3,"click",4,"ngIf"],[1,"chat-msg"],[1,"bubble"],[1,"bubble-header"],[1,"role"],[1,"timestamp"],["class","message-images",4,"ngIf"],[1,"bubble-content"],[1,"message-images"],["class","message-image",3,"src","alt",4,"ngFor","ngForOf"],[1,"message-image",3,"src","alt"],[1,"chat-msg","user-msg"],[1,"bubble","user-bubble"],[1,"message-images","preview-mode"],["class","image-wrapper",4,"ngFor","ngForOf"],[1,"image-wrapper"],["type","button",1,"remove-preview-btn",3,"click"],[1,"bubble","user-bubble","file-attachment-bubble"],["mat-icon-button","","matTooltip","Remove attachment",1,"remove-attachment-btn-inline",3,"click"],[1,"file-attachment-content"],[1,"file-icon-wrapper"],[1,"file-icon"],[1,"file-info"],[1,"file-name"],[1,"file-size"],[1,"chat-msg","assistant-msg"],[1,"bubble","generating-bubble"],[1,"typing-indicator"],[1,"generating-text"],[1,"csv-banner-overlay",3,"click"],[1,"csv-banner-content",3,"click"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"banner-body"],[1,"banner-title"],[1,"banner-subtitle"],["class","upload-section",4,"ngIf"],["class","file-preview-section",4,"ngIf"],["class","prompt-section",4,"ngIf"],[1,"upload-section"],["type","file","accept",".xlsx,.xls,.csv,.doc,.docx,.pdf",2,"display","none",3,"change"],[1,"drop-zone",3,"click","dragover","dragleave","drop"],[1,"upload-icon"],[1,"drop-text"],[1,"drop-subtext"],[1,"supported-formats"],[1,"format-badge"],[1,"file-preview-section"],[1,"file-preview-card"],[1,"file-details"],["mat-icon-button","",1,"remove-file-btn",3,"click"],[1,"action-buttons",3,"click"],["mat-raised-button","","type","button",1,"generate-prompt-btn",3,"click","disabled"],["diameter","20",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","type","button",1,"use-in-chat-btn",3,"click","disabled"],["diameter","20"],[1,"prompt-section"],[1,"prompt-header"],["mat-icon-button","","matTooltip","Upload new file",3,"click"],["rows","10","placeholder","Edit your prompt here...",1,"prompt-textarea",3,"ngModelChange","ngModel"],[1,"prompt-actions"],["mat-stroked-button","",1,"cancel-btn",3,"click"],["mat-raised-button","",1,"use-prompt-btn",3,"click"]],template:function(e,r){if(e&1){let i=xe();O(0,"div",4)(1,"section",5)(2,"div",6)(3,"app-template-preview-panel",7),on(4,"async"),on(5,"async"),Ar("templateNameChange",function(s){return Ut(i),kr(r.templateName,s)||(r.templateName=s),Wt(s)}),Yt("saveTemplate",function(){return Ut(i),Wt(r.onSaveTemplate())})("runTests",function(){return Ut(i),Wt(r.onRunTests())}),M()()(),O(6,"section",8)(7,"div",9)(8,"div",10),Xt(),O(9,"svg",11),Yt("click",function(){return Ut(i),Wt(r.openCsvBanner())}),yt(10,"path",12),M(),re(),O(11,"div",13)(12,"h3"),V(13,"Template Generator"),M(),O(14,"p"),V(15,"Powered by AI"),M()()(),O(16,"button",14),on(17,"async"),Yt("click",function(){return Ut(i),Wt(r.onNewConversation())}),O(18,"mat-icon"),V(19,"add_circle"),M()(),O(20,"button",15)(21,"mat-icon"),V(22,"info_outline"),M()(),O(23,"mat-menu",16,0)(25,"div",17),Yt("click",function(s){return Ut(i),Wt(s.stopPropagation())}),O(26,"h4"),V(27,"\u{1F4A1} How to Use This Generator"),M(),O(28,"div",18)(29,"strong"),V(30,"Be Specific & Detailed"),M(),O(31,"p"),V(32,"Describe what you want clearly - layout, colors, content sections, and purpose. The more details, the better the result."),M()(),O(33,"div",18)(34,"strong"),V(35,"\u{1F4F8} Add Design References"),M(),O(36,"p"),V(37,"Upload images (max 2) for visual inspiration - colors, layout, style. We'll match the aesthetic while following your text instructions."),M()(),O(38,"div",18)(39,"strong"),V(40,"\u{1F516} Request Placeholders"),M(),O(41,"p"),V(42,"Ask for Mailchimp or other placeholders like "),O(43,"code"),V(44,"|*EMAIL*|"),M(),V(45,", "),O(46,"code"),V(47,"|*FNAME*|"),M(),V(48,", "),O(49,"code"),V(50,"|*COMPANY*|"),M(),V(51," - we'll add them where needed."),M()(),O(52,"div",18)(53,"strong"),V(54,"\u2728 Example Prompt:"),M(),O(55,"p",19),V(56,'"Create a product launch email with a hero image, bold headline, 3-column feature grid, and a centered CTA button. Use purple (#6d28d9) and white colors. Add |*FNAME*| placeholder in greeting."'),M()(),O(57,"div",20),V(58," All templates are mobile-first & responsive! "),M()()()(),O(59,"div",21,1),Yt("scroll",function(s){return Ut(i),Wt(r.onScroll(s))}),qt(61,ZE,11,13,"div",22),on(62,"async"),qt(63,e3,7,1,"div",23),on(64,"async"),qt(65,n3,17,3,"div",23)(66,r3,12,1,"div",24),on(67,"async"),M(),O(68,"div",25)(69,"input",26),Yt("change",function(s){return Ut(i),Wt(r.onImageSelect(s))}),M(),O(70,"div",27)(71,"button",28),on(72,"async"),Yt("click",function(){return Ut(i),Wt(r.triggerFileInput())}),O(73,"mat-icon"),V(74,"add_photo_alternate"),M()(),O(75,"textarea",29,2),Ar("ngModelChange",function(s){return Ut(i),kr(r.userInput,s)||(r.userInput=s),Wt(s)}),Yt("keydown.enter",function(s){return Ut(i),Wt(r.onEnterKey(s))})("paste",function(s){return Ut(i),Wt(r.onPaste(s))}),V(77,"    "),M(),O(78,"button",30),on(79,"async"),Yt("click",function(){return Ut(i),Wt(r.onSend())}),O(80,"mat-icon"),V(81,"send"),M(),O(82,"span"),V(83,"Send"),M()()()()()(),qt(84,u3,13,3,"div",31)}if(e&2){let i,a,s,l,c=fr(24);G(3),ct("html",un(4,22,r.currentHtml$)||""),Er("templateName",r.templateName),ct("loading",(i=un(5,24,r.isGenerating$))!==null&&i!==void 0?i:!1)("showHeader",!0)("allowRefresh",!1)("allowFullscreen",!0)("allowViewModes",!0)("showGenerateActions",!0)("isGeneratePage",!0),G(13),ct("disabled",(a=un(17,26,r.isGenerating$))!==null&&a!==void 0?a:!1),G(4),ct("matMenuTriggerFor",c),G(41),ct("ngForOf",un(62,28,r.messages$))("ngForTrackBy",r.trackByIndex),G(2),ct("ngIf",r.imagePreviewUrls.length>0&&!un(64,30,r.isGenerating$)),G(2),ct("ngIf",r.attachedFile),G(),ct("ngIf",un(67,32,r.isGenerating$)),G(3),pr("max",r.maxImages),G(2),ct("disabled",r.selectedImages.length>=r.maxImages||((s=un(72,34,r.isGenerating$))!==null&&s!==void 0?s:!1))("matTooltip",r.selectedImages.length>=r.maxImages?"Maximum 2 images":"Add design reference images"),G(4),Er("ngModel",r.userInput),G(3),ct("disabled",!r.userInput.trim()&&!r.attachedFile||((l=un(79,36,r.isGenerating$))!==null&&l!==void 0?l:!1)),G(6),ct("ngIf",r.showCsvBanner)}},dependencies:[Tn,ki,qn,Cs,df,Ii,yo,bo,Co,ci,xo,yr,ro,li,Cr,br,zb,Ss,Oo,oa,ia,la,aa,sa,ml,HC],styles:['[_nghost-%COMP%]{--primary-purple: #6d28d9;--primary-purple-dark: #5b21b6;--accent-pink: #ec4899;--accent-blue: #3b82f6;--success-green: #10b981;--warning-orange: #f59e0b;--error-red: #ef4444;--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--gradient-golden: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);--glass-white: rgba(255, 255, 255, .9);--glass-border: rgba(255, 255, 255, .3);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .08);--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px;--transition-fast: .2s cubic-bezier(.4, 0, .2, 1);--transition-normal: .3s cubic-bezier(.4, 0, .2, 1);--transition-smooth: .4s cubic-bezier(.4, 0, .2, 1);display:block;height:89vh;overflow:hidden}.add-image-btn.mat-mdc-icon-button[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: transparent !important;--mat-mdc-button-ripple-color: transparent !important}.add-image-btn[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]{display:none!important}.generate-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;width:100%;position:relative;overflow-y:auto;overflow-x:hidden;background:linear-gradient(135deg,#f8fafc,#e2e8f0)}.preview-section[_ngcontent-%COMP%]{flex:0 0 auto;height:auto;min-height:100vh;max-height:45vh;display:flex;flex-direction:column;overflow:auto;padding:.5rem;position:relative}.preview-section[_ngcontent-%COMP%]   app-template-preview-panel[_ngcontent-%COMP%]{flex:1;display:block;width:100%;height:100%;overflow:auto}.preview-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;overflow:auto;margin:0;border-radius:var(--radius-lg);background:#fff;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f,0 0 0 1px #0000000d}.preview-wrapper[_ngcontent-%COMP%]   app-template-preview-panel[_ngcontent-%COMP%]{flex:1;width:100%;height:100%;border-radius:var(--radius-lg);overflow:auto}.chat-section[_ngcontent-%COMP%]{flex:1 1 auto;min-height:400px;max-height:none;display:flex;flex-direction:column;background:#fff;overflow:hidden;margin:.5rem;margin-top:0;border-radius:var(--radius-lg);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f,0 0 0 1px #0000000d}.chat-header[_ngcontent-%COMP%]{flex:0 0 auto;min-height:60px;padding:.75rem 1rem;background:linear-gradient(135deg,#f8f9ff,#f0f2ff);border-bottom:2px solid #e2e8f0;border-radius:var(--radius-lg) var(--radius-lg) 0 0;display:flex;align-items:center;justify-content:space-between;gap:.5rem}.chat-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1;min-width:0}.chat-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:32px;height:32px;font-size:18px;display:flex;align-items:center;justify-content:center;background:var(--gradient-primary);color:#fff;border-radius:var(--radius-md);box-shadow:0 4px 12px #6d28d94d;flex-shrink:0}.chat-header[_ngcontent-%COMP%]   .header-icon.excel-icon[_ngcontent-%COMP%]{background:var(--gradient-primary);box-shadow:0 4px 12px #6d28d94d;cursor:pointer;transition:all .3s ease;padding:6px}.chat-header[_ngcontent-%COMP%]   .header-icon.excel-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 16px #6d28d966}.chat-header[_ngcontent-%COMP%]   .header-icon.excel-icon[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{min-width:0;flex:1}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.875rem;font-weight:800;color:#1e293b;letter-spacing:-.02em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.6875rem;color:#64748b;font-weight:600}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]{color:var(--primary-purple);transition:all var(--transition-fast);flex-shrink:0;width:32px!important;height:32px!important;min-width:32px!important;min-height:32px!important;padding:0!important;margin:0!important;display:flex!important;align-items:center!important;justify-content:center!important;border-radius:50%!important}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]     .mat-mdc-button-touch-target, .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]     .mat-mdc-button-touch-target{width:32px!important;height:32px!important}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;display:flex;align-items:center;justify-content:center;margin:0}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]:hover:not(:disabled), .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#6d28d91a;transform:scale(1.05)}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]:disabled, .chat-header[_ngcontent-%COMP%]   .usage-tips-btn[_ngcontent-%COMP%]:disabled{opacity:.4}.chat-messages[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;max-height:calc(100% - 220px);overflow-y:auto;overflow-x:hidden;padding:.75rem;display:flex;flex-direction:column;gap:.75rem;scroll-behavior:smooth;background:linear-gradient(135deg,#f8fafc80,#f1f5f980)}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000005;border-radius:3px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#6d28d94d,#ec48994d);border-radius:3px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#6d28d980,#ec489980)}.chat-msg[_ngcontent-%COMP%]{display:flex;animation:_ngcontent-%COMP%_messageSlideIn .3s ease forwards}.chat-msg.user-msg[_ngcontent-%COMP%]{justify-content:flex-end}.chat-msg.assistant-msg[_ngcontent-%COMP%]{justify-content:flex-start}.bubble[_ngcontent-%COMP%]{max-width:92%;padding:.75rem .875rem;border-radius:var(--radius-md);background:#fff;border:2px solid #e2e8f0;box-shadow:0 2px 8px #0000000f;transition:all var(--transition-normal)}.bubble[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.bubble.user-bubble[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d90d,#ec48990d);border-color:#6d28d933}.bubble.generating-bubble[_ngcontent-%COMP%]{border-color:#3b82f633;background:linear-gradient(135deg,#3b82f60d,#0ea5e90d)}.bubble-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.375rem}.bubble-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.625rem;font-weight:800;text-transform:uppercase;letter-spacing:.06em;color:var(--primary-purple)}.bubble-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:.5625rem;color:#94a3b8;font-weight:600}.bubble-content[_ngcontent-%COMP%]{font-size:.8125rem;line-height:1.5;color:#374151;white-space:pre-wrap;word-break:break-word}.typing-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;margin-right:.5rem}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:5px;height:5px;background:var(--accent-blue);border-radius:50%;animation:_ngcontent-%COMP%_typingBounce 1.4s infinite}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.generating-text[_ngcontent-%COMP%]{font-style:italic;color:#64748b;font-size:.75rem}.message-images[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.625rem;flex-wrap:wrap}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:var(--radius-md);border:2px solid rgba(0,0,0,.1);object-fit:cover;cursor:pointer;transition:all .2s}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #00000026}.message-images.preview-mode[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative;width:100px;height:100px}.message-images.preview-mode[_ngcontent-%COMP%]   .remove-preview-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;width:24px;height:24px;min-width:24px;padding:0;border:none;border-radius:50%;background:#ef4444;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;box-shadow:0 2px 6px #0000004d;z-index:10}.message-images.preview-mode[_ngcontent-%COMP%]   .remove-preview-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.message-images.preview-mode[_ngcontent-%COMP%]   .remove-preview-btn[_ngcontent-%COMP%]:hover{background:#dc2626;transform:scale(1.15)}.composer[_ngcontent-%COMP%]{flex:0 0 auto;padding:.625rem;background:linear-gradient(135deg,#ffffffe6,#6d28d905);border-top:2px solid #e2e8f0;min-height:100px;border-radius:0 0 var(--radius-lg) var(--radius-lg);display:flex;flex-direction:column;gap:0;position:relative}.composer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10;left:.625rem;right:.625rem;height:2px;background:var(--gradient-primary);border-radius:2px}.file-attachment-bubble[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf614,#a855f70d)!important;border:1px solid rgba(139,92,246,.3)!important}.file-attachment-bubble[_ngcontent-%COMP%]   .bubble-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.file-attachment-bubble[_ngcontent-%COMP%]   .bubble-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-weight:600;color:var(--primary-purple)}.remove-attachment-btn-inline[_ngcontent-%COMP%]{width:24px!important;height:24px!important;min-width:24px!important;padding:0!important;color:var(--text-secondary);transition:all .2s ease;background:transparent!important}.remove-attachment-btn-inline[_ngcontent-%COMP%]:hover{color:var(--text-primary);transform:scale(1.1);background:transparent!important}.remove-attachment-btn-inline[_ngcontent-%COMP%]     .mat-mdc-button-persistent-ripple{display:none!important}.remove-attachment-btn-inline[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.file-attachment-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem;background:#ffffff80;border-radius:8px}.file-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:linear-gradient(135deg,#8b5cf6,#a855f7);border-radius:8px;flex-shrink:0}.file-icon-wrapper[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{color:#fff;font-size:24px;width:24px;height:24px}.file-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem;min-width:0}.file-info[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.file-info[_ngcontent-%COMP%]   .file-size[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.composer-input-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;width:100%;padding-top:.5rem}.add-image-btn[_ngcontent-%COMP%]{flex-shrink:0;color:var(--primary-purple);transition:all var(--transition-fast);display:flex!important;align-items:center!important;justify-content:center!important;padding:0!important}.add-image-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0 auto!important;display:block!important}.add-image-btn[_ngcontent-%COMP%]     .mat-mdc-button-persistent-ripple{background-color:transparent!important;opacity:0!important}.add-image-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05)}.add-image-btn[_ngcontent-%COMP%]:hover:not(:disabled)     .mat-mdc-button-persistent-ripple{background-color:transparent!important}.add-image-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.message-input[_ngcontent-%COMP%]{flex:1;border:2px solid rgba(0,0,0,.08);border-radius:var(--radius-md);padding:.625rem .75rem;font-family:inherit;font-size:.8125rem;line-height:1.4;resize:none;min-height:38px;max-height:45px;transition:all var(--transition-normal);background:#fff;box-shadow:0 2px 8px #0000000a}.message-input[_ngcontent-%COMP%]::-webkit-resizer{display:none}.message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-purple);box-shadow:0 0 0 2px #6d28d91a}.message-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-size:.8125rem}.message-input[_ngcontent-%COMP%]:disabled{background:#f9fafb;cursor:not-allowed;opacity:.6}.send-btn[_ngcontent-%COMP%]{background:var(--gradient-primary)!important;color:#fff!important;border:none!important;border-radius:var(--radius-md)!important;font-weight:700!important;padding:.625rem .875rem!important;min-height:38px!important;min-width:38px!important;box-shadow:0 4px 12px #6d28d94d!important;display:flex!important;align-items:center!important;justify-content:center!important;gap:.375rem!important;transition:all var(--transition-normal)!important;position:relative!important;overflow:hidden!important;flex-shrink:0!important}.send-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left var(--transition-normal)}.send-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;transition:transform var(--transition-normal)}.send-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;font-size:.8125rem}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05);box-shadow:0 6px 20px #6d28d966!important}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{transform:translate(1px)}.send-btn[_ngcontent-%COMP%]:disabled{opacity:.6;transform:none!important;cursor:not-allowed}@keyframes _ngcontent-%COMP%_messageSlideIn{0%{opacity:0;transform:translateY(8px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_typingBounce{0%,60%,to{transform:translateY(0)}30%{transform:translateY(-5px)}}@media (min-width: 768px){.generate-layout[_ngcontent-%COMP%]{overflow-y:auto}.preview-section[_ngcontent-%COMP%]{flex:1 1 auto;min-height:100vh;max-height:none;padding:.75rem}.chat-section[_ngcontent-%COMP%]{flex:1 1 auto;min-height:400px;max-height:none;margin:.75rem;margin-top:0;display:flex;flex-direction:column}.chat-header[_ngcontent-%COMP%]{padding:1rem 1.25rem}.chat-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:36px;height:36px;font-size:20px}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]{width:36px!important;height:36px!important;min-width:36px!important}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.chat-messages[_ngcontent-%COMP%]{padding:1rem 1.25rem;gap:1rem}.bubble[_ngcontent-%COMP%]{max-width:88%;padding:.875rem 1rem}.bubble-header[_ngcontent-%COMP%]{margin-bottom:.5rem}.bubble-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.6875rem}.bubble-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:.625rem}.bubble-content[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.6}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.image-preview-item[_ngcontent-%COMP%]{width:50px;height:50px}.add-image-btn[_ngcontent-%COMP%]{width:36px!important;height:36px!important;min-width:36px!important}.add-image-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.file-attachment-container[_ngcontent-%COMP%]{padding:.5rem}.file-attachment-card[_ngcontent-%COMP%]{padding:.5rem .75rem}.file-attachment-card[_ngcontent-%COMP%]   .file-icon-wrapper[_ngcontent-%COMP%]{width:36px;height:36px}.file-attachment-card[_ngcontent-%COMP%]   .file-icon-wrapper[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.file-attachment-card[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:.8125rem}.file-attachment-card[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-size[_ngcontent-%COMP%]{font-size:.6875rem}.composer[_ngcontent-%COMP%]{padding:.875rem 1rem;gap:.75rem}.composer[_ngcontent-%COMP%]:before{left:1rem;right:1rem}.message-input[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.875rem;min-height:44px;max-height:48px}.message-input[_ngcontent-%COMP%]::placeholder{font-size:.875rem}.send-btn[_ngcontent-%COMP%]{padding:.75rem 1rem!important;min-height:44px!important;gap:.5rem!important}.send-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.send-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline}}@media (min-width: 1024px){.generate-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;gap:0;height:100vh;overflow:hidden}.preview-section[_ngcontent-%COMP%]{flex:1;min-height:unset;height:89vh;padding:.75rem;overflow:auto}.chat-section[_ngcontent-%COMP%]{flex:1;min-height:unset;height:86vh;margin:.75rem;margin-left:0;overflow:hidden}.chat-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.chat-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:24px}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]{width:40px!important;height:40px!important;min-width:40px!important}.chat-header[_ngcontent-%COMP%]   .new-chat-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.chat-messages[_ngcontent-%COMP%]{padding:1.5rem;gap:1.25rem}.bubble[_ngcontent-%COMP%]{max-width:85%;padding:1rem 1.25rem}.bubble-header[_ngcontent-%COMP%]{margin-bottom:.625rem}.bubble-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.75rem}.bubble-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:.6875rem}.bubble-content[_ngcontent-%COMP%]{font-size:.9375rem;line-height:1.7}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]{max-width:120px;max-height:120px}.image-preview-item[_ngcontent-%COMP%]{width:70px;height:70px}.add-image-btn[_ngcontent-%COMP%]{width:40px!important;height:40px!important;min-width:40px!important}.add-image-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.composer[_ngcontent-%COMP%]{padding:1rem 1.5rem;gap:1rem;max-height:180px}.composer[_ngcontent-%COMP%]:before{left:1.5rem;right:1.5rem}.message-input[_ngcontent-%COMP%]{padding:.875rem 1rem;font-size:.9375rem;min-height:48px;max-height:100px}.message-input[_ngcontent-%COMP%]::placeholder{font-size:.9375rem}.send-btn[_ngcontent-%COMP%]{padding:.875rem 1.5rem!important;min-height:48px!important;gap:.625rem!important}}@media (min-width: 1200px){.generate-layout[_ngcontent-%COMP%]{grid-template-columns:1fr 480px;height:100vh;overflow:hidden}.preview-section[_ngcontent-%COMP%]{height:89%;overflow:auto}.chat-section[_ngcontent-%COMP%]{height:85.5%;overflow:hidden}.chat-header[_ngcontent-%COMP%]{padding:1.5rem 2rem}.chat-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.chat-messages[_ngcontent-%COMP%]{padding:2rem 1.5rem;gap:1.5rem}.bubble[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.message-images[_ngcontent-%COMP%]   .message-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.image-preview-item[_ngcontent-%COMP%]{width:80px;height:80px}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.usage-tips-btn[_ngcontent-%COMP%]{color:#6d28d9}.usage-tips-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}  .usage-tips-menu .mat-mdc-menu-panel{max-width:400px!important;border-radius:12px}.usage-tips-content[_ngcontent-%COMP%]{padding:20px;max-width:380px}.usage-tips-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:600;color:#1a1a1a}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]{margin-bottom:14px}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#6d28d9;margin-bottom:4px}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;line-height:1.5;color:#666}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f1f5f9;padding:2px 6px;border-radius:3px;font-family:Courier New,monospace;font-size:12px;color:#6d28d9;font-weight:500}.usage-tips-content[_ngcontent-%COMP%]   .tip-section[_ngcontent-%COMP%]   .example[_ngcontent-%COMP%]{background:#f8fafc;padding:10px;border-radius:6px;border-left:3px solid #6d28d9;font-style:italic;color:#475569}.usage-tips-content[_ngcontent-%COMP%]   .tip-section.warning[_ngcontent-%COMP%]{background:#fef3c7;padding:10px;border-radius:6px;border-left:3px solid #f59e0b}.usage-tips-content[_ngcontent-%COMP%]   .tip-section.warning[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f59e0b}.usage-tips-content[_ngcontent-%COMP%]   .tip-section.warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#78350f}.usage-tips-content[_ngcontent-%COMP%]   .tip-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:16px;padding:10px;background:#f3e8ff;border-radius:6px;font-size:13px;font-weight:500;color:#6d28d9}.usage-tips-content[_ngcontent-%COMP%]   .tip-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}@media (max-width: 768px){  .usage-tips-menu .mat-mdc-menu-panel{max-width:calc(100vw - 32px)!important}.usage-tips-content[_ngcontent-%COMP%]{max-width:100%;padding:16px}}@media (max-width: 1023px){.ai-warning-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.ai-warning-container[_ngcontent-%COMP%]   .floating-ai-icon[_ngcontent-%COMP%], .ai-warning-container[_ngcontent-%COMP%]   .info-badges[_ngcontent-%COMP%]{display:none!important}.ai-warning-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.75rem}.ai-warning-container[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{font-size:.9375rem;margin-bottom:0}}@media (min-width: 1024px){.ai-warning-container[_ngcontent-%COMP%]   .floating-ai-icon[_ngcontent-%COMP%]{display:block!important}.ai-warning-container[_ngcontent-%COMP%]   .info-badges[_ngcontent-%COMP%]{display:flex!important}}@media (max-width: 1023px){.chat-section[_ngcontent-%COMP%]{min-height:50rem}}.csv-banner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:9999;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .3s ease}.csv-banner-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:800px;height:600px;max-height:90vh;background:linear-gradient(135deg,#60a5faf2,#3b82f6f2);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.3);border-radius:24px;box-shadow:0 25px 50px -12px #00000040,0 0 0 1px #ffffff1a inset;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .4s cubic-bezier(.34,1.56,.64,1);display:flex;flex-direction:column}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;z-index:10;background:#fff3;color:#fff;transition:all .3s ease}.close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:rotate(90deg)}.close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.banner-body[_ngcontent-%COMP%]{padding:1.5rem 2rem;color:#fff;flex:1;overflow-y:auto;display:flex;flex-direction:column}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(50px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.csv-banner-content[_ngcontent-%COMP%]{max-width:95%;height:500px;border-radius:16px}.banner-body[_ngcontent-%COMP%]{padding:2.5rem 1.5rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   .generate-prompt-btn[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .use-in-chat-btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.csv-banner-content[_ngcontent-%COMP%]{max-width:100%;height:90vh;max-height:95vh;border-radius:12px;margin:.5rem}.banner-body[_ngcontent-%COMP%]{padding:2rem 1rem;min-height:250px}.close-btn[_ngcontent-%COMP%]{top:.5rem;right:.5rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   .generate-prompt-btn[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .use-in-chat-btn[_ngcontent-%COMP%]{width:100%}}@media (max-height: 600px) and (orientation: landscape){.csv-banner-content[_ngcontent-%COMP%]{max-height:85vh}.banner-body[_ngcontent-%COMP%]{padding:1.5rem 2rem;min-height:200px}}.banner-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:0 0 .25rem;text-align:center}.banner-subtitle[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9;margin:0 0 1.5rem;text-align:center}.upload-section[_ngcontent-%COMP%]{margin:1rem 0}.drop-zone[_ngcontent-%COMP%]{border:2px dashed rgba(255,255,255,.5);border-radius:16px;padding:2rem 1.5rem;text-align:center;cursor:pointer;transition:all .3s ease;background:#ffffff1a}.drop-zone[_ngcontent-%COMP%]:hover{border-color:#fffc;background:#ffffff26;transform:translateY(-2px)}.drop-zone.drag-over[_ngcontent-%COMP%]{border-color:#fff;background:#fff3;transform:scale(1.02)}.upload-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;margin:0 auto 1rem;opacity:.9}.drop-text[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin:0 0 .5rem}.drop-subtext[_ngcontent-%COMP%]{font-size:.875rem;opacity:.8;margin:0 0 1.5rem}.supported-formats[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap}.format-badge[_ngcontent-%COMP%]{background:#fff3;padding:.375rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600}.file-preview-section[_ngcontent-%COMP%]{margin:2rem 0}.file-preview-card[_ngcontent-%COMP%]{background:#ffffff26;border-radius:12px;padding:1.5rem;display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.file-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:12px;padding:1rem;display:flex;align-items:center;justify-content:center}.file-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem}.file-details[_ngcontent-%COMP%]{flex:1;min-width:0}.file-name[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;margin:0 0 .25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-size[_ngcontent-%COMP%]{font-size:.875rem;opacity:.8;margin:0}.remove-file-btn[_ngcontent-%COMP%]{color:#fff}.remove-file-btn[_ngcontent-%COMP%]:hover{background:#fff3}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1.5rem}.generate-prompt-btn[_ngcontent-%COMP%], .use-in-chat-btn[_ngcontent-%COMP%]{flex:1;padding:.875rem 1.5rem;font-size:.95rem;font-weight:600;border-radius:12px;border:1px solid rgba(255,255,255,.3);background:#ffffff26;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);color:#fff;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;position:relative;overflow:hidden}.generate-prompt-btn[_ngcontent-%COMP%]     .mdc-button__label, .use-in-chat-btn[_ngcontent-%COMP%]     .mdc-button__label{display:flex!important;align-items:center!important;justify-content:center!important;gap:.5rem!important;flex-direction:row!important}.generate-prompt-btn[_ngcontent-%COMP%]:before, .use-in-chat-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#fff3,#ffffff0d);opacity:0;transition:opacity .3s ease;pointer-events:none;z-index:0}.generate-prompt-btn[_ngcontent-%COMP%]:hover:not([disabled]), .use-in-chat-btn[_ngcontent-%COMP%]:hover:not([disabled]){background:#ffffff40;border-color:#fff6;transform:translateY(-2px);box-shadow:0 8px 24px #00000026}.generate-prompt-btn[_ngcontent-%COMP%]:hover:not([disabled]):before, .use-in-chat-btn[_ngcontent-%COMP%]:hover:not([disabled]):before{opacity:1}.generate-prompt-btn[_ngcontent-%COMP%]:active:not([disabled]), .use-in-chat-btn[_ngcontent-%COMP%]:active:not([disabled]){transform:translateY(0)}.generate-prompt-btn[disabled][_ngcontent-%COMP%], .use-in-chat-btn[disabled][_ngcontent-%COMP%]{background:#ffffff14;border-color:#ffffff26;color:#fff6;cursor:not-allowed}.generate-prompt-btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%], .use-in-chat-btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.generate-prompt-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .use-in-chat-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem;display:inline-block;vertical-align:middle}.generate-prompt-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .use-in-chat-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap;vertical-align:middle}.prompt-section[_ngcontent-%COMP%]{margin:1rem 0 0}.prompt-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.prompt-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.15rem;font-weight:700}.prompt-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}.prompt-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff3}.prompt-textarea[_ngcontent-%COMP%]{width:100%;min-height:150px;max-height:250px;padding:.875rem;border:2px solid rgba(255,255,255,.3);border-radius:12px;background:#ffffff26;color:#fff;font-size:.9rem;line-height:1.5;resize:none;font-family:inherit;overflow-y:auto}.prompt-textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.prompt-textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:10px}.prompt-textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:10px}.prompt-textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#fff6}.prompt-textarea[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent}.prompt-textarea[_ngcontent-%COMP%]::-webkit-resizer{display:none}.prompt-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff;background:#fff3}.prompt-textarea[_ngcontent-%COMP%]::placeholder{color:#fff9}.prompt-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem;justify-content:flex-end}.cancel-btn[_ngcontent-%COMP%]{padding:.875rem 1.5rem;font-size:.95rem;font-weight:600;border-radius:12px;border:1px solid rgba(255,255,255,.3);background:#ffffff1a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);color:#fff;transition:all .3s cubic-bezier(.4,0,.2,1)}.cancel-btn[_ngcontent-%COMP%]:hover{background:#ffffff26;border-color:#fff6;transform:translateY(-2px)}.use-prompt-btn[_ngcontent-%COMP%]{padding:.875rem 1.5rem;font-size:.95rem;font-weight:600;border-radius:12px;border:1px solid rgba(255,255,255,.4);background:#fff3;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);color:#fff;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.use-prompt-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#fff3,#ffffff0d);opacity:0;transition:opacity .3s ease;pointer-events:none}.use-prompt-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px);box-shadow:0 8px 24px #00000026}.use-prompt-btn[_ngcontent-%COMP%]:hover:before{opacity:1}.use-prompt-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.25rem}@media (max-width: 768px){.banner-title[_ngcontent-%COMP%]{font-size:1.5rem}.drop-zone[_ngcontent-%COMP%]{padding:2rem 1rem}.upload-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem}}@media (max-width: 480px){.banner-title[_ngcontent-%COMP%]{font-size:1.25rem}.banner-subtitle[_ngcontent-%COMP%]{font-size:.875rem}.prompt-actions[_ngcontent-%COMP%]{flex-direction:column}.prompt-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})}}return o})(),p3=(()=>{class o{constructor(){this.dialogRef=ye(_f)}onSave(){this.dialogRef.close("save")}onDiscard(){this.dialogRef.close("discard")}onCancel(){this.dialogRef.close("cancel")}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["confirm-new-conversation-dialog"]],standalone:!0,features:[cn],decls:19,vars:0,consts:[[1,"confirm-dialog"],[1,"dialog-header"],[1,"warning-icon"],[1,"dialog-content"],[1,"dialog-actions"],["mat-button","",1,"cancel-btn",3,"click"],["mat-stroked-button","",1,"discard-btn",3,"click"],["mat-raised-button","",1,"save-btn",3,"click"]],template:function(e,r){e&1&&(O(0,"div",0)(1,"div",1)(2,"mat-icon",2),V(3,"warning"),M(),O(4,"h2"),V(5,"Start New Conversation?"),M()(),O(6,"div",3)(7,"p"),V(8,"You have an unsaved template in the current conversation."),M(),O(9,"p")(10,"strong"),V(11,"Would you like to save it before starting a new conversation?"),M()()(),O(12,"div",4)(13,"button",5),Yt("click",function(){return r.onCancel()}),V(14," Cancel "),M(),O(15,"button",6),Yt("click",function(){return r.onDiscard()}),V(16," Discard "),M(),O(17,"button",7),Yt("click",function(){return r.onSave()}),V(18," Save Template "),M()()())},dependencies:[Tn,ml,yr,ro,Cr,br],styles:[".confirm-dialog[_ngcontent-%COMP%]{padding:1.5rem}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.warning-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#f59e0b}h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#1e293b}.dialog-content[_ngcontent-%COMP%]{margin-bottom:2rem;line-height:1.6;color:#475569}.dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem}.cancel-btn[_ngcontent-%COMP%]{color:#64748b}.discard-btn[_ngcontent-%COMP%]{color:#ef4444;border-color:#ef4444}.discard-btn[_ngcontent-%COMP%]:hover{background-color:#fef2f2}.save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d9,#8b5cf6);color:#fff}.save-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5b21b6,#7c3aed)}"]})}}return o})();var wo=(o,n)=>vn(void 0,null,function*(){let t=ye(gr),e=ye(jn);try{if(yield t.checkAuthStatus())return!0;let i=n.url;return e.navigate(["/auth"],{queryParams:{returnUrl:i},replaceUrl:!0}),!1}catch{let i=n.url;return e.navigate(["/auth"],{queryParams:{returnUrl:i},replaceUrl:!0}),!1}});var UC=(o,n)=>{let t=ye(gr),e=ye(jn);return t.currentUser$.pipe(Zo(r=>r!==null),vo(1),eo(r=>r.orgRole==="admin"||r.orgRole==="super_admin"?!0:(e.navigate(["/"]),!1)))};var M1=o=>o.canDeactivate?o.canDeactivate():!0;var f3={4729:(o,n,t)=>{var e,r,i;(function(a){r=[t(5706),t(4193)],e=a,i=typeof e=="function"?e.apply(n,r):e,i!==void 0&&(o.exports=i)})(function(a,s){var l=Array.prototype.slice;function c(z,N,j){return j.length<=4?z.call(N,j[0],j[1],j[2],j[3]):z.apply(N,j)}function u(z,N){return l.call(z,N)}function p(z,N){return z==null?!1:(a.isArray(N)||(N=u(arguments,1)),a.all(N,function(j){return j in z}))}var g=function(){var z=!1,N=-1;function j(){N++,z=!0,a.defer(function(){z=!1})}return function(){return z||j(),N}}();function h(){this.registeredObjects=[],this.cidIndexes=[]}h.prototype={isRegistered:function(z){return z&&z.cid?this.registeredObjects[z.cid]:a.contains(this.registeredObjects,z)},register:function(z){return this.isRegistered(z)?!1:(z&&z.cid?(this.registeredObjects[z.cid]=z,this.cidIndexes.push(z.cid)):this.registeredObjects.push(z),!0)},unregister:function(z){if(this.isRegistered(z)){if(z&&z.cid)delete this.registeredObjects[z.cid],this.cidIndexes.splice(a.indexOf(this.cidIndexes,z.cid),1);else{var N=a.indexOf(this.registeredObjects,z);this.registeredObjects.splice(N,1)}return!0}return!1},get:function(){return a.map(this.cidIndexes,function(z){return this.registeredObjects[z]},this).concat(this.registeredObjects)}};function y(z,N,j,D){for(var W=0,q=N.length,J;W<q;W++)if(J=N[W],!!J){if(z==="on"){if(!D.objectRegistry.register(J))continue}else if(!D.objectRegistry.unregister(J))continue;a.isFunction(J[z])&&J[z]("all",j,D)}}function _(z,N){var j=N.type,D=N.undoTypes,W=!D[j]||D[j][z];a.isFunction(W)&&W(N.object,N.before,N.after,N.options)}function x(z,N,j,D,W){if(!(j.isCurrentlyUndoRedoing||z==="undo"&&j.pointer===-1||z==="redo"&&j.pointer===j.length-1)){j.isCurrentlyUndoRedoing=!0;var q,J,I=z==="undo";for(W?J=I&&j.pointer===j.length-1||!I&&j.pointer===-1?a.clone(j.models):l.apply(j.models,I?[0,j.pointer]:[j.pointer,j.length-1]):(q=j.at(I?j.pointer:j.pointer+1),J=D?j.where({magicFusionIndex:q.get("magicFusionIndex")}):[q]),j.pointer+=(I?-1:1)*J.length;q=I?J.pop():J.shift();)q[z]();j.isCurrentlyUndoRedoing=!1,N.trigger(z,N)}}function P(z,N){var j=z.condition,D=typeof j;return D==="function"?!!c(j,z,N):D==="boolean"?j:!0}function w(z,N,j,D){if(z.track&&!z.isCurrentlyUndoRedoing&&N in D&&P(D[N],j)){var W=c(D[N].on,D[N],j),q;if(p(W,"object","before","after")){if(W.type=N,W.magicFusionIndex=g(),W.undoTypes=D,z.pointer<z.length-1)for(var q=z.length-z.pointer-1;q--;)z.pop();z.pointer=z.length,z.add(W),z.length>z.maximumStackLength&&(z.shift(),z.pointer--)}}}var T={add:{undo:function(z,N,j,D){z.remove(j,D)},redo:function(z,N,j,D){D.index&&(D.at=D.index),z.add(j,D)},on:function(z,N,j){return{object:N,before:void 0,after:z,options:a.clone(j)}}},remove:{undo:function(z,N,j,D){"index"in D&&(D.at=D.index),z.add(N,D)},redo:function(z,N,j,D){z.remove(N,D)},on:function(z,N,j){return{object:N,before:z,after:void 0,options:a.clone(j)}}},change:{undo:function(z,N,j,D){a.isEmpty(N)?a.each(a.keys(j),z.unset,z):(z.set(N),D&&D.unsetData&&D.unsetData.before&&D.unsetData.before.length&&a.each(D.unsetData.before,z.unset,z))},redo:function(z,N,j,D){a.isEmpty(j)?a.each(a.keys(N),z.unset,z):(z.set(j),D&&D.unsetData&&D.unsetData.after&&D.unsetData.after.length&&a.each(D.unsetData.after,z.unset,z))},on:function(z,N){var j=z.changedAttributes(),D=a.keys(j),W=a.pick(z.previousAttributes(),D),q=a.keys(W),J=(N||(N={})).unsetData={after:[],before:[]};return D.length!=q.length&&(D.length>q.length?a.each(D,function(I){I in W||J.before.push(I)},this):a.each(q,function(I){I in j||J.after.push(I)})),{object:z,before:W,after:j,options:a.clone(N)}}},reset:{undo:function(z,N,j){z.reset(N)},redo:function(z,N,j){z.reset(j)},on:function(z,N){return{object:z,before:N.previousModels,after:a.clone(z.models)}}}};function b(){}b.prototype=T;function k(z,N,j,D){if(typeof N=="object")return a.each(N,function(W,q){z===2?k(z,W,j,D):k(z,q,W,j)});switch(z){case 0:p(j,"undo","redo","on")&&a.all(a.pick(j,"undo","redo","on"),a.isFunction)&&(D[N]=j);break;case 1:D[N]&&a.isObject(j)&&(D[N]=a.extend({},D[N],j));break;case 2:delete D[N];break}return this}var E=s.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(z){_("undo",this.attributes)},redo:function(z){_("redo",this.attributes)}}),L=s.Collection.extend({model:E,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(z){this.maximumStackLength=z}}),R=s.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(z){this.stack=new L,this.objectRegistry=new h,this.undoTypes=new b,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(N,j){this.stack.setMaxLength(j)},this),z&&z.track&&this.startTracking(),z&&z.register&&(a.isArray(z.register)||a.isArguments(z.register)?c(this.register,this,z.register):this.register(z.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(z){w(this.stack,z,u(arguments,1),this.undoTypes)},register:function(){y("on",arguments,this._addToStack,this)},unregister:function(){y("off",arguments,this._addToStack,this)},unregisterAll:function(){c(this.unregister,this,this.objectRegistry.get())},undo:function(z){x("undo",this,this.stack,z)},undoAll:function(){x("undo",this,this.stack,!1,!0)},redo:function(z){x("redo",this,this.stack,z)},redoAll:function(){x("redo",this,this.stack,!1,!0)},isAvailable:function(z){var N=this.stack,j=N.length;switch(z){case"undo":return j>0&&N.pointer>-1;case"redo":return j>0&&N.pointer<j-1;default:return!1}},merge:function(z){for(var N=a.isArray(z)?z:u(arguments),j;j=N.pop();)j instanceof R&&j.stack instanceof L&&(j.stack=this.stack)},addUndoType:function(z,N){k(0,z,N,this.undoTypes)},changeUndoType:function(z,N){k(1,z,N,this.undoTypes)},removeUndoType:function(z){k(2,z,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return a.extend(R,{defaults:function(z){a.extend(R.prototype.defaults,z)},addUndoType:function(z,N){k(0,z,N,T)},changeUndoType:function(z,N){k(1,z,N,T)},removeUndoType:function(z){k(2,z,void 0,T)}}),s.UndoManager=R})},4193:(o,n,t)=>{var e,r;(function(i){var a=typeof self=="object"&&self.self===self&&self||typeof t.g=="object"&&t.g.global===t.g&&t.g;if(1)e=[t(5706),t(7774),n],r=function(c,u,p){a.Backbone=i(a,p,c,u)}.apply(n,e),r!==void 0&&(o.exports=r);else var s,l})(function(i,a,s,l){var c=i.Backbone,u=Array.prototype.slice;a.VERSION="1.4.1",a.$=l,a.noConflict=function(){return i.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var p=a.Events={},g=/\s+/,h,y=function(K,ot,mt,At,Qt){var ht=0,kt;if(mt&&typeof mt=="object")for(At!==void 0&&("context"in Qt)&&Qt.context===void 0&&(Qt.context=At),kt=s.keys(mt);ht<kt.length;ht++)ot=y(K,ot,kt[ht],mt[kt[ht]],Qt);else if(mt&&g.test(mt))for(kt=mt.split(g);ht<kt.length;ht++)ot=K(ot,kt[ht],At,Qt);else ot=K(ot,mt,At,Qt);return ot};p.on=function(K,ot,mt){if(this._events=y(_,this._events||{},K,ot,{context:mt,ctx:this,listening:h}),h){var At=this._listeners||(this._listeners={});At[h.id]=h,h.interop=!1}return this},p.listenTo=function(K,ot,mt){if(!K)return this;var At=K._listenId||(K._listenId=s.uniqueId("l")),Qt=this._listeningTo||(this._listeningTo={}),ht=h=Qt[At];ht||(this._listenId||(this._listenId=s.uniqueId("l")),ht=h=Qt[At]=new k(this,K));var kt=x(K,ot,mt,this);if(h=void 0,kt)throw kt;return ht.interop&&ht.on(ot,mt),this};var _=function(K,ot,mt,At){if(mt){var Qt=K[ot]||(K[ot]=[]),ht=At.context,kt=At.ctx,Lt=At.listening;Lt&&Lt.count++,Qt.push({callback:mt,context:ht,ctx:ht||kt,listening:Lt})}return K},x=function(K,ot,mt,At){try{K.on(ot,mt,At)}catch(Qt){return Qt}};p.off=function(K,ot,mt){return this._events?(this._events=y(P,this._events,K,ot,{context:mt,listeners:this._listeners}),this):this},p.stopListening=function(K,ot,mt){var At=this._listeningTo;if(!At)return this;for(var Qt=K?[K._listenId]:s.keys(At),ht=0;ht<Qt.length;ht++){var kt=At[Qt[ht]];if(!kt)break;kt.obj.off(ot,mt,this),kt.interop&&kt.off(ot,mt)}return s.isEmpty(At)&&(this._listeningTo=void 0),this};var P=function(K,ot,mt,At){if(K){var Qt=At.context,ht=At.listeners,kt=0,Lt;if(!ot&&!Qt&&!mt){for(Lt=s.keys(ht);kt<Lt.length;kt++)ht[Lt[kt]].cleanup();return}for(Lt=ot?[ot]:s.keys(K);kt<Lt.length;kt++){ot=Lt[kt];var he=K[ot];if(!he)break;for(var Ye=[],De=0;De<he.length;De++){var dt=he[De];if(mt&&mt!==dt.callback&&mt!==dt.callback._callback||Qt&&Qt!==dt.context)Ye.push(dt);else{var Tt=dt.listening;Tt&&Tt.off(ot,mt)}}Ye.length?K[ot]=Ye:delete K[ot]}return K}};p.once=function(K,ot,mt){var At=y(w,{},K,ot,this.off.bind(this));return typeof K=="string"&&mt==null&&(ot=void 0),this.on(At,ot,mt)},p.listenToOnce=function(K,ot,mt){var At=y(w,{},ot,mt,this.stopListening.bind(this,K));return this.listenTo(K,At)};var w=function(K,ot,mt,At){if(mt){var Qt=K[ot]=s.once(function(){At(ot,Qt),mt.apply(this,arguments)});Qt._callback=mt}return K};p.trigger=function(K){if(!this._events)return this;for(var ot=Math.max(0,arguments.length-1),mt=Array(ot),At=0;At<ot;At++)mt[At]=arguments[At+1];return y(T,this._events,K,void 0,mt),this};var T=function(K,ot,mt,At){if(K){var Qt=K[ot],ht=K.all;Qt&&ht&&(ht=ht.slice()),Qt&&b(Qt,At),ht&&b(ht,[ot].concat(At))}return K},b=function(K,ot){var mt,At=-1,Qt=K.length,ht=ot[0],kt=ot[1],Lt=ot[2];switch(ot.length){case 0:for(;++At<Qt;)(mt=K[At]).callback.call(mt.ctx);return;case 1:for(;++At<Qt;)(mt=K[At]).callback.call(mt.ctx,ht);return;case 2:for(;++At<Qt;)(mt=K[At]).callback.call(mt.ctx,ht,kt);return;case 3:for(;++At<Qt;)(mt=K[At]).callback.call(mt.ctx,ht,kt,Lt);return;default:for(;++At<Qt;)(mt=K[At]).callback.apply(mt.ctx,ot);return}},k=function(K,ot){this.id=K._listenId,this.listener=K,this.obj=ot,this.interop=!0,this.count=0,this._events=void 0};k.prototype.on=p.on,k.prototype.off=function(K,ot){var mt;this.interop?(this._events=y(P,this._events,K,ot,{context:void 0,listeners:void 0}),mt=!this._events):(this.count--,mt=this.count===0),mt&&this.cleanup()},k.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},p.bind=p.on,p.unbind=p.off,s.extend(a,p);var E=a.Model=function(K,ot){var mt=K||{};ot||(ot={}),this.preinitialize.apply(this,arguments),this.cid=s.uniqueId(this.cidPrefix),this.attributes={},ot.collection&&(this.collection=ot.collection),ot.parse&&(mt=this.parse(mt,ot)||{});var At=s.result(this,"defaults");mt=s.defaults(s.extend({},At,mt),At),this.set(mt,ot),this.changed={},this.initialize.apply(this,arguments)};s.extend(E.prototype,p,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(K){return s.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(K){return this.attributes[K]},escape:function(K){return s.escape(this.get(K))},has:function(K){return this.get(K)!=null},matches:function(K){return!!s.iteratee(K,this)(this.attributes)},set:function(K,ot,mt){if(K==null)return this;var At;if(typeof K=="object"?(At=K,mt=ot):(At={})[K]=ot,mt||(mt={}),!this._validate(At,mt))return!1;var Qt=mt.unset,ht=mt.silent,kt=[],Lt=this._changing;this._changing=!0,Lt||(this._previousAttributes=s.clone(this.attributes),this.changed={});var he=this.attributes,Ye=this.changed,De=this._previousAttributes;for(var dt in At)ot=At[dt],s.isEqual(he[dt],ot)||kt.push(dt),s.isEqual(De[dt],ot)?delete Ye[dt]:Ye[dt]=ot,Qt?delete he[dt]:he[dt]=ot;if(this.idAttribute in At){var Tt=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Tt,mt)}if(!ht){kt.length&&(this._pending=mt);for(var it=0;it<kt.length;it++)this.trigger("change:"+kt[it],this,he[kt[it]],mt)}if(Lt)return this;if(!ht)for(;this._pending;)mt=this._pending,this._pending=!1,this.trigger("change",this,mt);return this._pending=!1,this._changing=!1,this},unset:function(K,ot){return this.set(K,void 0,s.extend({},ot,{unset:!0}))},clear:function(K){var ot={};for(var mt in this.attributes)ot[mt]=void 0;return this.set(ot,s.extend({},K,{unset:!0}))},hasChanged:function(K){return K==null?!s.isEmpty(this.changed):s.has(this.changed,K)},changedAttributes:function(K){if(!K)return this.hasChanged()?s.clone(this.changed):!1;var ot=this._changing?this._previousAttributes:this.attributes,mt={},At;for(var Qt in K){var ht=K[Qt];s.isEqual(ot[Qt],ht)||(mt[Qt]=ht,At=!0)}return At?mt:!1},previous:function(K){return K==null||!this._previousAttributes?null:this._previousAttributes[K]},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(K){K=s.extend({parse:!0},K);var ot=this,mt=K.success;return K.success=function(At){var Qt=K.parse?ot.parse(At,K):At;if(!ot.set(Qt,K))return!1;mt&&mt.call(K.context,ot,At,K),ot.trigger("sync",ot,At,K)},ce(this,K),this.sync("read",this,K)},save:function(K,ot,mt){var At;K==null||typeof K=="object"?(At=K,mt=ot):(At={})[K]=ot,mt=s.extend({validate:!0,parse:!0},mt);var Qt=mt.wait;if(At&&!Qt){if(!this.set(At,mt))return!1}else if(!this._validate(At,mt))return!1;var ht=this,kt=mt.success,Lt=this.attributes;mt.success=function(De){ht.attributes=Lt;var dt=mt.parse?ht.parse(De,mt):De;if(Qt&&(dt=s.extend({},At,dt)),dt&&!ht.set(dt,mt))return!1;kt&&kt.call(mt.context,ht,De,mt),ht.trigger("sync",ht,De,mt)},ce(this,mt),At&&Qt&&(this.attributes=s.extend({},Lt,At));var he=this.isNew()?"create":mt.patch?"patch":"update";he==="patch"&&!mt.attrs&&(mt.attrs=At);var Ye=this.sync(he,this,mt);return this.attributes=Lt,Ye},destroy:function(K){K=K?s.clone(K):{};var ot=this,mt=K.success,At=K.wait,Qt=function(){ot.stopListening(),ot.trigger("destroy",ot,ot.collection,K)};K.success=function(kt){At&&Qt(),mt&&mt.call(K.context,ot,kt,K),ot.isNew()||ot.trigger("sync",ot,kt,K)};var ht=!1;return this.isNew()?s.defer(K.success):(ce(this,K),ht=this.sync("delete",this,K)),At||Qt(),ht},url:function(){var K=s.result(this,"urlRoot")||s.result(this.collection,"url")||ge();if(this.isNew())return K;var ot=this.get(this.idAttribute);return K.replace(/[^\/]$/,"$&/")+encodeURIComponent(ot)},parse:function(K,ot){return K},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(K){return this._validate({},s.extend({},K,{validate:!0}))},_validate:function(K,ot){if(!ot.validate||!this.validate)return!0;K=s.extend({},this.attributes,K);var mt=this.validationError=this.validate(K,ot)||null;return mt?(this.trigger("invalid",this,mt,s.extend(ot,{validationError:mt})),!1):!0}});var L=a.Collection=function(K,ot){ot||(ot={}),this.preinitialize.apply(this,arguments),ot.model&&(this.model=ot.model),ot.comparator!==void 0&&(this.comparator=ot.comparator),this._reset(),this.initialize.apply(this,arguments),K&&this.reset(K,s.extend({silent:!0},ot))},R={add:!0,remove:!0,merge:!0},z={add:!0,remove:!1},N=function(K,ot,mt){mt=Math.min(Math.max(mt,0),K.length);var At=Array(K.length-mt),Qt=ot.length,ht;for(ht=0;ht<At.length;ht++)At[ht]=K[ht+mt];for(ht=0;ht<Qt;ht++)K[ht+mt]=ot[ht];for(ht=0;ht<At.length;ht++)K[ht+Qt+mt]=At[ht]};s.extend(L.prototype,p,{model:E,preinitialize:function(){},initialize:function(){},toJSON:function(K){return this.map(function(ot){return ot.toJSON(K)})},sync:function(){return a.sync.apply(this,arguments)},add:function(K,ot){return this.set(K,s.extend({merge:!1},ot,z))},remove:function(K,ot){ot=s.extend({},ot);var mt=!s.isArray(K);K=mt?[K]:K.slice();var At=this._removeModels(K,ot);return!ot.silent&&At.length&&(ot.changes={added:[],merged:[],removed:At},this.trigger("update",this,ot)),mt?At[0]:At},set:function(K,ot){if(K!=null){ot=s.extend({},R,ot),ot.parse&&!this._isModel(K)&&(K=this.parse(K,ot)||[]);var mt=!s.isArray(K);K=mt?[K]:K.slice();var At=ot.at;At!=null&&(At=+At),At>this.length&&(At=this.length),At<0&&(At+=this.length+1);var Qt=[],ht=[],kt=[],Lt=[],he={},Ye=ot.add,De=ot.merge,dt=ot.remove,Tt=!1,it=this.comparator&&At==null&&ot.sort!==!1,ne=s.isString(this.comparator)?this.comparator:null,Vt,de;for(de=0;de<K.length;de++){Vt=K[de];var Oe=this.get(Vt);if(Oe){if(De&&Vt!==Oe){var Pe=this._isModel(Vt)?Vt.attributes:Vt;ot.parse&&(Pe=Oe.parse(Pe,ot)),Oe.set(Pe,ot),kt.push(Oe),it&&!Tt&&(Tt=Oe.hasChanged(ne))}he[Oe.cid]||(he[Oe.cid]=!0,Qt.push(Oe)),K[de]=Oe}else Ye&&(Vt=K[de]=this._prepareModel(Vt,ot),Vt&&(ht.push(Vt),this._addReference(Vt,ot),he[Vt.cid]=!0,Qt.push(Vt)))}if(dt){for(de=0;de<this.length;de++)Vt=this.models[de],he[Vt.cid]||Lt.push(Vt);Lt.length&&this._removeModels(Lt,ot)}var ve=!1,Ae=!it&&Ye&&dt;if(Qt.length&&Ae?(ve=this.length!==Qt.length||s.some(this.models,function(Qe,Xe){return Qe!==Qt[Xe]}),this.models.length=0,N(this.models,Qt,0),this.length=this.models.length):ht.length&&(it&&(Tt=!0),N(this.models,ht,At??this.length),this.length=this.models.length),Tt&&this.sort({silent:!0}),!ot.silent){for(de=0;de<ht.length;de++)At!=null&&(ot.index=At+de),Vt=ht[de],Vt.trigger("add",Vt,this,ot);(Tt||ve)&&this.trigger("sort",this,ot),(ht.length||Lt.length||kt.length)&&(ot.changes={added:ht,removed:Lt,merged:kt},this.trigger("update",this,ot))}return mt?K[0]:K}},reset:function(K,ot){ot=ot?s.clone(ot):{};for(var mt=0;mt<this.models.length;mt++)this._removeReference(this.models[mt],ot);return ot.previousModels=this.models,this._reset(),K=this.add(K,s.extend({silent:!0},ot)),ot.silent||this.trigger("reset",this,ot),K},push:function(K,ot){return this.add(K,s.extend({at:this.length},ot))},pop:function(K){var ot=this.at(this.length-1);return this.remove(ot,K)},unshift:function(K,ot){return this.add(K,s.extend({at:0},ot))},shift:function(K){var ot=this.at(0);return this.remove(ot,K)},slice:function(){return u.apply(this.models,arguments)},get:function(K){if(K!=null)return this._byId[K]||this._byId[this.modelId(this._isModel(K)?K.attributes:K,K.idAttribute)]||K.cid&&this._byId[K.cid]},has:function(K){return this.get(K)!=null},at:function(K){return K<0&&(K+=this.length),this.models[K]},where:function(K,ot){return this[ot?"find":"filter"](K)},findWhere:function(K){return this.where(K,!0)},sort:function(K){var ot=this.comparator;if(!ot)throw new Error("Cannot sort a set without a comparator");K||(K={});var mt=ot.length;return s.isFunction(ot)&&(ot=ot.bind(this)),mt===1||s.isString(ot)?this.models=this.sortBy(ot):this.models.sort(ot),K.silent||this.trigger("sort",this,K),this},pluck:function(K){return this.map(K+"")},fetch:function(K){K=s.extend({parse:!0},K);var ot=K.success,mt=this;return K.success=function(At){var Qt=K.reset?"reset":"set";mt[Qt](At,K),ot&&ot.call(K.context,mt,At,K),mt.trigger("sync",mt,At,K)},ce(this,K),this.sync("read",this,K)},create:function(K,ot){ot=ot?s.clone(ot):{};var mt=ot.wait;if(K=this._prepareModel(K,ot),!K)return!1;mt||this.add(K,ot);var At=this,Qt=ot.success;return ot.success=function(ht,kt,Lt){mt&&At.add(ht,Lt),Qt&&Qt.call(Lt.context,ht,kt,Lt)},K.save(null,ot),K},parse:function(K,ot){return K},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(K,ot){return K[ot||this.model.prototype.idAttribute||"id"]},values:function(){return new D(this,W)},keys:function(){return new D(this,q)},entries:function(){return new D(this,J)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(K,ot){if(this._isModel(K))return K.collection||(K.collection=this),K;ot=ot?s.clone(ot):{},ot.collection=this;var mt;return this.model.prototype?mt=new this.model(K,ot):mt=this.model(K,ot),mt.validationError?(this.trigger("invalid",this,mt.validationError,ot),!1):mt},_removeModels:function(K,ot){for(var mt=[],At=0;At<K.length;At++){var Qt=this.get(K[At]);if(Qt){var ht=this.indexOf(Qt);this.models.splice(ht,1),this.length--,delete this._byId[Qt.cid];var kt=this.modelId(Qt.attributes,Qt.idAttribute);kt!=null&&delete this._byId[kt],ot.silent||(ot.index=ht,Qt.trigger("remove",Qt,this,ot)),mt.push(Qt),this._removeReference(Qt,ot)}}return mt},_isModel:function(K){return K instanceof E},_addReference:function(K,ot){this._byId[K.cid]=K;var mt=this.modelId(K.attributes,K.idAttribute);mt!=null&&(this._byId[mt]=K),K.on("all",this._onModelEvent,this)},_removeReference:function(K,ot){delete this._byId[K.cid];var mt=this.modelId(K.attributes,K.idAttribute);mt!=null&&delete this._byId[mt],this===K.collection&&delete K.collection,K.off("all",this._onModelEvent,this)},_onModelEvent:function(K,ot,mt,At){if(ot){if((K==="add"||K==="remove")&&mt!==this)return;if(K==="destroy"&&this.remove(ot,At),K==="changeId"){var Qt=this.modelId(ot.previousAttributes(),ot.idAttribute),ht=this.modelId(ot.attributes,ot.idAttribute);Qt!=null&&delete this._byId[Qt],ht!=null&&(this._byId[ht]=ot)}}this.trigger.apply(this,arguments)}});var j=typeof Symbol=="function"&&Symbol.iterator;j&&(L.prototype[j]=L.prototype.values);var D=function(K,ot){this._collection=K,this._kind=ot,this._index=0},W=1,q=2,J=3;j&&(D.prototype[j]=function(){return this}),D.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var K=this._collection.at(this._index);this._index++;var ot;if(this._kind===W)ot=K;else{var mt=this._collection.modelId(K.attributes,K.idAttribute);this._kind===q?ot=mt:ot=[mt,K]}return{value:ot,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var I=a.View=function(K){this.cid=s.uniqueId("view"),this.preinitialize.apply(this,arguments),s.extend(this,s.pick(K,et)),this._ensureElement(),this.initialize.apply(this,arguments)},Z=/^(\S+)\s*(.*)$/,et=["model","collection","el","id","attributes","className","tagName","events"];s.extend(I.prototype,p,{tagName:"div",$:function(K){return this.$el.find(K)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(K){return this.undelegateEvents(),this._setElement(K),this.delegateEvents(),this},_setElement:function(K){this.$el=K instanceof a.$?K:a.$(K),this.el=this.$el[0]},delegateEvents:function(K){if(K||(K=s.result(this,"events")),!K)return this;this.undelegateEvents();for(var ot in K){var mt=K[ot];if(s.isFunction(mt)||(mt=this[mt]),!!mt){var At=ot.match(Z);this.delegate(At[1],At[2],mt.bind(this))}}return this},delegate:function(K,ot,mt){return this.$el.on(K+".delegateEvents"+this.cid,ot,mt),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(K,ot,mt){return this.$el.off(K+".delegateEvents"+this.cid,ot,mt),this},_createElement:function(K){return document.createElement(K)},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"));else{var K=s.extend({},s.result(this,"attributes"));this.id&&(K.id=s.result(this,"id")),this.className&&(K.class=s.result(this,"className")),this.setElement(this._createElement(s.result(this,"tagName"))),this._setAttributes(K)}},_setAttributes:function(K){this.$el.attr(K)}});var ut=function(K,ot,mt,At){switch(ot){case 1:return function(){return K[mt](this[At])};case 2:return function(Qt){return K[mt](this[At],Qt)};case 3:return function(Qt,ht){return K[mt](this[At],Gt(Qt,this),ht)};case 4:return function(Qt,ht,kt){return K[mt](this[At],Gt(Qt,this),ht,kt)};default:return function(){var Qt=u.call(arguments);return Qt.unshift(this[At]),K[mt].apply(K,Qt)}}},Rt=function(K,ot,mt,At){s.each(mt,function(Qt,ht){ot[ht]&&(K.prototype[ht]=ut(ot,Qt,ht,At))})},Gt=function(K,ot){return s.isFunction(K)?K:s.isObject(K)&&!ot._isModel(K)?Pt(K):s.isString(K)?function(mt){return mt.get(K)}:K},Pt=function(K){var ot=s.matches(K);return function(mt){return ot(mt.attributes)}},_t={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},rt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s.each([[L,_t,"models"],[E,rt,"attributes"]],function(K){var ot=K[0],mt=K[1],At=K[2];ot.mixin=function(Qt){var ht=s.reduce(s.functions(Qt),function(kt,Lt){return kt[Lt]=0,kt},{});Rt(ot,Qt,ht,At)},Rt(ot,s,mt,At)}),a.sync=function(K,ot,mt){var At=ft[K];s.defaults(mt||(mt={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var Qt={type:At,dataType:"json"};if(mt.url||(Qt.url=s.result(ot,"url")||ge()),mt.data==null&&ot&&(K==="create"||K==="update"||K==="patch")&&(Qt.contentType="application/json",Qt.data=JSON.stringify(mt.attrs||ot.toJSON(mt))),mt.emulateJSON&&(Qt.contentType="application/x-www-form-urlencoded",Qt.data=Qt.data?{model:Qt.data}:{}),mt.emulateHTTP&&(At==="PUT"||At==="DELETE"||At==="PATCH")){Qt.type="POST",mt.emulateJSON&&(Qt.data._method=At);var ht=mt.beforeSend;mt.beforeSend=function(he){if(he.setRequestHeader("X-HTTP-Method-Override",At),ht)return ht.apply(this,arguments)}}Qt.type!=="GET"&&!mt.emulateJSON&&(Qt.processData=!1);var kt=mt.error;mt.error=function(he,Ye,De){mt.textStatus=Ye,mt.errorThrown=De,kt&&kt.call(mt.context,he,Ye,De)};var Lt=mt.xhr=a.ajax(s.extend(Qt,mt));return ot.trigger("request",ot,Lt,mt),Lt};var ft={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var wt=a.Router=function(K){K||(K={}),this.preinitialize.apply(this,arguments),K.routes&&(this.routes=K.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Et=/\((.*?)\)/g,Nt=/(\(\?)?:\w+/g,Ht=/\*\w+/g,It=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(wt.prototype,p,{preinitialize:function(){},initialize:function(){},route:function(K,ot,mt){s.isRegExp(K)||(K=this._routeToRegExp(K)),s.isFunction(ot)&&(mt=ot,ot=""),mt||(mt=this[ot]);var At=this;return a.history.route(K,function(Qt){var ht=At._extractParameters(K,Qt);At.execute(mt,ht,ot)!==!1&&(At.trigger.apply(At,["route:"+ot].concat(ht)),At.trigger("route",ot,ht),a.history.trigger("route",At,ot,ht))}),this},execute:function(K,ot,mt){K&&K.apply(this,ot)},navigate:function(K,ot){return a.history.navigate(K,ot),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var K,ot=s.keys(this.routes);(K=ot.pop())!=null;)this.route(K,this.routes[K])}},_routeToRegExp:function(K){return K=K.replace(It,"\\$&").replace(Et,"(?:$1)?").replace(Nt,function(ot,mt){return mt?ot:"([^/?]+)"}).replace(Ht,"([^?]*?)"),new RegExp("^"+K+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(K,ot){var mt=K.exec(ot).slice(1);return s.map(mt,function(At,Qt){return Qt===mt.length-1?At||null:At?decodeURIComponent(At):null})}});var at=a.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Kt=/^[#\/]|\s+$/g,le=/^\/+|\/+$/g,Ct=/#.*$/;at.started=!1,s.extend(at.prototype,p,{interval:50,atRoot:function(){var K=this.location.pathname.replace(/[^\/]$/,"$&/");return K===this.root&&!this.getSearch()},matchRoot:function(){var K=this.decodeFragment(this.location.pathname),ot=K.slice(0,this.root.length-1)+"/";return ot===this.root},decodeFragment:function(K){return decodeURI(K.replace(/%25/g,"%2525"))},getSearch:function(){var K=this.location.href.replace(/#.*/,"").match(/\?.+/);return K?K[0]:""},getHash:function(K){var ot=(K||this).location.href.match(/#(.*)$/);return ot?ot[1]:""},getPath:function(){var K=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return K.charAt(0)==="/"?K.slice(1):K},getFragment:function(K){return K==null&&(this._usePushState||!this._wantsHashChange?K=this.getPath():K=this.getHash()),K.replace(Kt,"")},start:function(K){if(at.started)throw new Error("Backbone.history has already been started");if(at.started=!0,this.options=s.extend({root:"/"},this.options,K),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(le,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var ot=this.root.slice(0,-1)||"/";return this.location.replace(ot+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var mt=document.body,At=mt.insertBefore(this.iframe,mt.firstChild).contentWindow;At.document.open(),At.document.close(),At.location.hash="#"+this.fragment}var Qt=window.addEventListener||function(ht,kt){return attachEvent("on"+ht,kt)};if(this._usePushState?Qt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Qt("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var K=window.removeEventListener||function(ot,mt){return detachEvent("on"+ot,mt)};this._usePushState?K("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&K("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),at.started=!1},route:function(K,ot){this.handlers.unshift({route:K,callback:ot})},checkUrl:function(K){var ot=this.getFragment();if(ot===this.fragment&&this.iframe&&(ot=this.getHash(this.iframe.contentWindow)),ot===this.fragment)return!1;this.iframe&&this.navigate(ot),this.loadUrl()},loadUrl:function(K){return this.matchRoot()?(K=this.fragment=this.getFragment(K),s.some(this.handlers,function(ot){if(ot.route.test(K))return ot.callback(K),!0})):!1},navigate:function(K,ot){if(!at.started)return!1;(!ot||ot===!0)&&(ot={trigger:!!ot}),K=this.getFragment(K||"");var mt=this.root;(K===""||K.charAt(0)==="?")&&(mt=mt.slice(0,-1)||"/");var At=mt+K;K=K.replace(Ct,"");var Qt=this.decodeFragment(K);if(this.fragment!==Qt){if(this.fragment=Qt,this._usePushState)this.history[ot.replace?"replaceState":"pushState"]({},document.title,At);else if(this._wantsHashChange){if(this._updateHash(this.location,K,ot.replace),this.iframe&&K!==this.getHash(this.iframe.contentWindow)){var ht=this.iframe.contentWindow;ot.replace||(ht.document.open(),ht.document.close()),this._updateHash(ht.location,K,ot.replace)}}else return this.location.assign(At);if(ot.trigger)return this.loadUrl(K)}},_updateHash:function(K,ot,mt){if(mt){var At=K.href.replace(/(javascript:|#).*$/,"");K.replace(At+"#"+ot)}else K.hash="#"+ot}}),a.history=new at;var oe=function(K,ot){var mt=this,At;return K&&s.has(K,"constructor")?At=K.constructor:At=function(){return mt.apply(this,arguments)},s.extend(At,mt,ot),At.prototype=s.create(mt.prototype,K),At.prototype.constructor=At,At.__super__=mt.prototype,At};E.extend=L.extend=wt.extend=I.extend=at.extend=oe;var ge=function(){throw new Error('A "url" property or function must be specified')},ce=function(K,ot){var mt=ot.error;ot.error=function(At){mt&&mt.call(ot.context,K,At,ot),K.trigger("error",K,At,ot)}};return a})},3640:(o,n,t)=>{(function(e){e(t(4408))})(function(e){e.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,a){return/^[;{}]$/.test(a)}}),e.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,a,s,l){return this.jsonMode?/^[\[,{]$/.test(a)||/^}/.test(s):a==";"&&l.lexical&&l.lexical.type==")"?!1:/^[;{}]$/.test(a)&&!/^;/.test(s)}});var r=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;e.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(i,a,s,l){var c=!1;return this.configuration=="html"&&(c=l.context?r.test(l.context.tagName):!1),!c&&(i=="tag"&&/>$/.test(a)&&l.context||/^</.test(s))}}),e.defineExtension("commentRange",function(i,a,s){var l=this,c=e.innerMode(l.getMode(),l.getTokenAt(a).state).mode;l.operation(function(){if(i)l.replaceRange(c.commentEnd,s),l.replaceRange(c.commentStart,a),a.line==s.line&&a.ch==s.ch&&l.setCursor(a.line,a.ch+c.commentStart.length);else{var u=l.getRange(a,s),p=u.indexOf(c.commentStart),g=u.lastIndexOf(c.commentEnd);p>-1&&g>-1&&g>p&&(u=u.substr(0,p)+u.substring(p+c.commentStart.length,g)+u.substr(g+c.commentEnd.length)),l.replaceRange(u,a,s)}})}),e.defineExtension("autoIndentRange",function(i,a){var s=this;this.operation(function(){for(var l=i.line;l<=a.line;l++)s.indentLine(l,"smart")})}),e.defineExtension("autoFormatRange",function(i,a){var s=this,l=s.getMode(),c=s.getRange(i,a).split(`
`),u=e.copyState(l,s.getTokenAt(i).state),p=s.getOption("tabSize"),g="",h=0,y=i.ch===0;function _(){g+=`
`,y=!0,++h}for(var x=0;x<c.length;++x){for(var P=new e.StringStream(c[x],p);!P.eol();){var w=e.innerMode(l,u),T=l.token(P,u),b=P.current();P.start=P.pos,(!y||/\S/.test(b))&&(g+=b,y=!1),!y&&w.mode.newlineAfterToken&&w.mode.newlineAfterToken(T,b,P.string.slice(P.pos)||c[x+1]||"",w.state)&&_()}!P.pos&&l.blankLine&&l.blankLine(u),!y&&x<c.length-1&&_()}s.operation(function(){s.replaceRange(g,i,a);for(var k=i.line+1,E=i.line+h;k<=E;++k)s.indentLine(k,"smart");s.setSelection(i,s.getCursor(!1))})})})},4408:function(o){(function(n,t){o.exports=t()})(this,function(){"use strict";var n=navigator.userAgent,t=navigator.platform,e=/gecko\/\d/i.test(n),r=/MSIE \d/.test(n),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),a=/Edge\/(\d+)/.exec(n),s=r||i||a,l=s&&(r?document.documentMode||6:+(a||i)[1]),c=!a&&/WebKit\//.test(n),u=c&&/Qt\/\d+\.\d+/.test(n),p=!a&&/Chrome\//.test(n),g=/Opera\//.test(n),h=/Apple Computer/.test(navigator.vendor),y=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),_=/PhantomJS/.test(n),x=h&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),P=/Android/.test(n),w=x||P||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),T=x||/Mac/.test(t),b=/\bCrOS\b/.test(n),k=/win/i.test(t),E=g&&n.match(/Version\/(\d*\.\d*)/);E&&(E=Number(E[1])),E&&E>=15&&(g=!1,c=!0);var L=T&&(u||g&&(E==null||E<12.11)),R=e||s&&l>=9;function z(d){return new RegExp("(^|\\s)"+d+"(?:$|\\s)\\s*")}var N=function(d,f){var v=d.className,m=z(f).exec(v);if(m){var C=v.slice(m.index+m[0].length);d.className=v.slice(0,m.index)+(C?m[1]+C:"")}};function j(d){for(var f=d.childNodes.length;f>0;--f)d.removeChild(d.firstChild);return d}function D(d,f){return j(d).appendChild(f)}function W(d,f,v,m){var C=document.createElement(d);if(v&&(C.className=v),m&&(C.style.cssText=m),typeof f=="string")C.appendChild(document.createTextNode(f));else if(f)for(var S=0;S<f.length;++S)C.appendChild(f[S]);return C}function q(d,f,v,m){var C=W(d,f,v,m);return C.setAttribute("role","presentation"),C}var J;document.createRange?J=function(d,f,v,m){var C=document.createRange();return C.setEnd(m||d,v),C.setStart(d,f),C}:J=function(d,f,v){var m=document.body.createTextRange();try{m.moveToElementText(d.parentNode)}catch{return m}return m.collapse(!0),m.moveEnd("character",v),m.moveStart("character",f),m};function I(d,f){if(f.nodeType==3&&(f=f.parentNode),d.contains)return d.contains(f);do if(f.nodeType==11&&(f=f.host),f==d)return!0;while(f=f.parentNode)}function Z(){var d;try{d=document.activeElement}catch{d=document.body||null}for(;d&&d.shadowRoot&&d.shadowRoot.activeElement;)d=d.shadowRoot.activeElement;return d}function et(d,f){var v=d.className;z(f).test(v)||(d.className+=(v?" ":"")+f)}function ut(d,f){for(var v=d.split(" "),m=0;m<v.length;m++)v[m]&&!z(v[m]).test(f)&&(f+=" "+v[m]);return f}var Rt=function(d){d.select()};x?Rt=function(d){d.selectionStart=0,d.selectionEnd=d.value.length}:s&&(Rt=function(d){try{d.select()}catch{}});function Gt(d){var f=Array.prototype.slice.call(arguments,1);return function(){return d.apply(null,f)}}function Pt(d,f,v){f||(f={});for(var m in d)d.hasOwnProperty(m)&&(v!==!1||!f.hasOwnProperty(m))&&(f[m]=d[m]);return f}function _t(d,f,v,m,C){f==null&&(f=d.search(/[^\s\u00a0]/),f==-1&&(f=d.length));for(var S=m||0,F=C||0;;){var B=d.indexOf("	",S);if(B<0||B>=f)return F+(f-S);F+=B-S,F+=v-F%v,S=B+1}}var rt=function(){this.id=null,this.f=null,this.time=0,this.handler=Gt(this.onTimeout,this)};rt.prototype.onTimeout=function(d){d.id=0,d.time<=+new Date?d.f():setTimeout(d.handler,d.time-+new Date)},rt.prototype.set=function(d,f){this.f=f;var v=+new Date+d;(!this.id||v<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,d),this.time=v)};function ft(d,f){for(var v=0;v<d.length;++v)if(d[v]==f)return v;return-1}var wt=50,Et={toString:function(){return"CodeMirror.Pass"}},Nt={scroll:!1},Ht={origin:"*mouse"},It={origin:"+move"};function at(d,f,v){for(var m=0,C=0;;){var S=d.indexOf("	",m);S==-1&&(S=d.length);var F=S-m;if(S==d.length||C+F>=f)return m+Math.min(F,f-C);if(C+=S-m,C+=v-C%v,m=S+1,C>=f)return m}}var Kt=[""];function le(d){for(;Kt.length<=d;)Kt.push(Ct(Kt)+" ");return Kt[d]}function Ct(d){return d[d.length-1]}function oe(d,f){for(var v=[],m=0;m<d.length;m++)v[m]=f(d[m],m);return v}function ge(d,f,v){for(var m=0,C=v(f);m<d.length&&v(d[m])<=C;)m++;d.splice(m,0,f)}function ce(){}function K(d,f){var v;return Object.create?v=Object.create(d):(ce.prototype=d,v=new ce),f&&Pt(f,v),v}var ot=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function mt(d){return/\w/.test(d)||d>"\x80"&&(d.toUpperCase()!=d.toLowerCase()||ot.test(d))}function At(d,f){return f?f.source.indexOf("\\w")>-1&&mt(d)?!0:f.test(d):mt(d)}function Qt(d){for(var f in d)if(d.hasOwnProperty(f)&&d[f])return!1;return!0}var ht=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function kt(d){return d.charCodeAt(0)>=768&&ht.test(d)}function Lt(d,f,v){for(;(v<0?f>0:f<d.length)&&kt(d.charAt(f));)f+=v;return f}function he(d,f,v){for(var m=f>v?-1:1;;){if(f==v)return f;var C=(f+v)/2,S=m<0?Math.ceil(C):Math.floor(C);if(S==f)return d(S)?f:v;d(S)?v=S:f=S+m}}function Ye(d,f,v,m){if(!d)return m(f,v,"ltr",0);for(var C=!1,S=0;S<d.length;++S){var F=d[S];(F.from<v&&F.to>f||f==v&&F.to==f)&&(m(Math.max(F.from,f),Math.min(F.to,v),F.level==1?"rtl":"ltr",S),C=!0)}C||m(f,v,"ltr")}var De=null;function dt(d,f,v){var m;De=null;for(var C=0;C<d.length;++C){var S=d[C];if(S.from<f&&S.to>f)return C;S.to==f&&(S.from!=S.to&&v=="before"?m=C:De=C),S.from==f&&(S.from!=S.to&&v!="before"?m=C:De=C)}return m??De}var Tt=function(){var d="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",f="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function v(Q){return Q<=247?d.charAt(Q):1424<=Q&&Q<=1524?"R":1536<=Q&&Q<=1785?f.charAt(Q-1536):1774<=Q&&Q<=2220?"r":8192<=Q&&Q<=8203?"w":Q==8204?"b":"L"}var m=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,C=/[stwN]/,S=/[LRr]/,F=/[Lb1n]/,B=/[1n]/;function $(Q,vt,Ot){this.level=Q,this.from=vt,this.to=Ot}return function(Q,vt){var Ot=vt=="ltr"?"L":"R";if(Q.length==0||vt=="ltr"&&!m.test(Q))return!1;for(var jt=Q.length,Ft=[],te=0;te<jt;++te)Ft.push(v(Q.charCodeAt(te)));for(var ue=0,me=Ot;ue<jt;++ue){var we=Ft[ue];we=="m"?Ft[ue]=me:me=we}for(var ke=0,Se=Ot;ke<jt;++ke){var Ie=Ft[ke];Ie=="1"&&Se=="r"?Ft[ke]="n":S.test(Ie)&&(Se=Ie,Ie=="r"&&(Ft[ke]="R"))}for(var qe=1,We=Ft[0];qe<jt-1;++qe){var an=Ft[qe];an=="+"&&We=="1"&&Ft[qe+1]=="1"?Ft[qe]="1":an==","&&We==Ft[qe+1]&&(We=="1"||We=="n")&&(Ft[qe]=We),We=an}for(var Un=0;Un<jt;++Un){var Fr=Ft[Un];if(Fr==",")Ft[Un]="N";else if(Fr=="%"){var ir=void 0;for(ir=Un+1;ir<jt&&Ft[ir]=="%";++ir);for(var Ei=Un&&Ft[Un-1]=="!"||ir<jt&&Ft[ir]=="1"?"1":"N",fi=Un;fi<ir;++fi)Ft[fi]=Ei;Un=ir-1}}for(var vr=0,gi=Ot;vr<jt;++vr){var Br=Ft[vr];gi=="L"&&Br=="1"?Ft[vr]="L":S.test(Br)&&(gi=Br)}for(var Sr=0;Sr<jt;++Sr)if(C.test(Ft[Sr])){var _r=void 0;for(_r=Sr+1;_r<jt&&C.test(Ft[_r]);++_r);for(var sr=(Sr?Ft[Sr-1]:Ot)=="L",hi=(_r<jt?Ft[_r]:Ot)=="L",fc=sr==hi?sr?"L":"R":Ot,ms=Sr;ms<_r;++ms)Ft[ms]=fc;Sr=_r-1}for(var ti=[],Qo,Vr=0;Vr<jt;)if(F.test(Ft[Vr])){var Vm=Vr;for(++Vr;Vr<jt&&F.test(Ft[Vr]);++Vr);ti.push(new $(0,Vm,Vr))}else{var Sa=Vr,dl=ti.length,ul=vt=="rtl"?1:0;for(++Vr;Vr<jt&&Ft[Vr]!="L";++Vr);for(var ai=Sa;ai<Vr;)if(B.test(Ft[ai])){Sa<ai&&(ti.splice(dl,0,new $(1,Sa,ai)),dl+=ul);var gc=ai;for(++ai;ai<Vr&&B.test(Ft[ai]);++ai);ti.splice(dl,0,new $(2,gc,ai)),dl+=ul,Sa=ai}else++ai;Sa<Vr&&ti.splice(dl,0,new $(1,Sa,Vr))}return vt=="ltr"&&(ti[0].level==1&&(Qo=Q.match(/^\s+/))&&(ti[0].from=Qo[0].length,ti.unshift(new $(0,0,Qo[0].length))),Ct(ti).level==1&&(Qo=Q.match(/\s+$/))&&(Ct(ti).to-=Qo[0].length,ti.push(new $(0,jt-Qo[0].length,jt)))),vt=="rtl"?ti.reverse():ti}}();function it(d,f){var v=d.order;return v==null&&(v=d.order=Tt(d.text,f)),v}var ne=[],Vt=function(d,f,v){if(d.addEventListener)d.addEventListener(f,v,!1);else if(d.attachEvent)d.attachEvent("on"+f,v);else{var m=d._handlers||(d._handlers={});m[f]=(m[f]||ne).concat(v)}};function de(d,f){return d._handlers&&d._handlers[f]||ne}function Oe(d,f,v){if(d.removeEventListener)d.removeEventListener(f,v,!1);else if(d.detachEvent)d.detachEvent("on"+f,v);else{var m=d._handlers,C=m&&m[f];if(C){var S=ft(C,v);S>-1&&(m[f]=C.slice(0,S).concat(C.slice(S+1)))}}}function Pe(d,f){var v=de(d,f);if(v.length)for(var m=Array.prototype.slice.call(arguments,2),C=0;C<v.length;++C)v[C].apply(null,m)}function ve(d,f,v){return typeof f=="string"&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}}),Pe(d,v||f.type,d,f),Kn(f)||f.codemirrorIgnore}function Ae(d){var f=d._handlers&&d._handlers.cursorActivity;if(f)for(var v=d.curOp.cursorActivityHandlers||(d.curOp.cursorActivityHandlers=[]),m=0;m<f.length;++m)ft(v,f[m])==-1&&v.push(f[m])}function Qe(d,f){return de(d,f).length>0}function Xe(d){d.prototype.on=function(f,v){Vt(this,f,v)},d.prototype.off=function(f,v){Oe(this,f,v)}}function Ze(d){d.preventDefault?d.preventDefault():d.returnValue=!1}function _n(d){d.stopPropagation?d.stopPropagation():d.cancelBubble=!0}function Kn(d){return d.defaultPrevented!=null?d.defaultPrevented:d.returnValue==!1}function lt(d){Ze(d),_n(d)}function Mt(d){return d.target||d.srcElement}function Dt(d){var f=d.which;return f==null&&(d.button&1?f=1:d.button&2?f=3:d.button&4&&(f=2)),T&&d.ctrlKey&&f==1&&(f=3),f}var ee=function(){if(s&&l<9)return!1;var d=W("div");return"draggable"in d||"dragDrop"in d}(),be;function Te(d){if(be==null){var f=W("span","\u200B");D(d,W("span",[f,document.createTextNode("x")])),d.firstChild.offsetHeight!=0&&(be=f.offsetWidth<=1&&f.offsetHeight>2&&!(s&&l<8))}var v=be?W("span","\u200B"):W("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return v.setAttribute("cm-text",""),v}var Le;function Pn(d){if(Le!=null)return Le;var f=D(d,document.createTextNode("A\u062EA")),v=J(f,0,1).getBoundingClientRect(),m=J(f,1,2).getBoundingClientRect();return j(d),!v||v.left==v.right?!1:Le=m.right-v.right<3}var On=`

b`.split(/\n/).length!=3?function(d){for(var f=0,v=[],m=d.length;f<=m;){var C=d.indexOf(`
`,f);C==-1&&(C=d.length);var S=d.slice(f,d.charAt(C-1)=="\r"?C-1:C),F=S.indexOf("\r");F!=-1?(v.push(S.slice(0,F)),f+=F+1):(v.push(S),f=C+1)}return v}:function(d){return d.split(/\r\n?|\n/)},rn=window.getSelection?function(d){try{return d.selectionStart!=d.selectionEnd}catch{return!1}}:function(d){var f;try{f=d.ownerDocument.selection.createRange()}catch{}return!f||f.parentElement()!=d?!1:f.compareEndPoints("StartToEnd",f)!=0},hr=function(){var d=W("div");return"oncopy"in d?!0:(d.setAttribute("oncopy","return;"),typeof d.oncopy=="function")}(),Mn=null;function fn(d){if(Mn!=null)return Mn;var f=D(d,W("span","x")),v=f.getBoundingClientRect(),m=J(f,0,1).getBoundingClientRect();return Mn=Math.abs(v.left-m.left)>1}var Or={},yn={};function sn(d,f){arguments.length>2&&(f.dependencies=Array.prototype.slice.call(arguments,2)),Or[d]=f}function wn(d,f){yn[d]=f}function Yn(d){if(typeof d=="string"&&yn.hasOwnProperty(d))d=yn[d];else if(d&&typeof d.name=="string"&&yn.hasOwnProperty(d.name)){var f=yn[d.name];typeof f=="string"&&(f={name:f}),d=K(f,d),d.name=f.name}else{if(typeof d=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(d))return Yn("application/xml");if(typeof d=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(d))return Yn("application/json")}return typeof d=="string"?{name:d}:d||{name:"null"}}function je(d,f){f=Yn(f);var v=Or[f.name];if(!v)return je(d,"text/plain");var m=v(d,f);if(Xn.hasOwnProperty(f.name)){var C=Xn[f.name];for(var S in C)C.hasOwnProperty(S)&&(m.hasOwnProperty(S)&&(m["_"+S]=m[S]),m[S]=C[S])}if(m.name=f.name,f.helperType&&(m.helperType=f.helperType),f.modeProps)for(var F in f.modeProps)m[F]=f.modeProps[F];return m}var Xn={};function Fe(d,f){var v=Xn.hasOwnProperty(d)?Xn[d]:Xn[d]={};Pt(f,v)}function Dn(d,f){if(f===!0)return f;if(d.copyState)return d.copyState(f);var v={};for(var m in f){var C=f[m];C instanceof Array&&(C=C.concat([])),v[m]=C}return v}function mn(d,f){for(var v;d.innerMode&&(v=d.innerMode(f),!(!v||v.mode==d));)f=v.state,d=v.mode;return v||{mode:d,state:f}}function A(d,f,v){return d.startState?d.startState(f,v):!0}var U=function(d,f,v){this.pos=this.start=0,this.string=d,this.tabSize=f||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=v};U.prototype.eol=function(){return this.pos>=this.string.length},U.prototype.sol=function(){return this.pos==this.lineStart},U.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},U.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},U.prototype.eat=function(d){var f=this.string.charAt(this.pos),v;if(typeof d=="string"?v=f==d:v=f&&(d.test?d.test(f):d(f)),v)return++this.pos,f},U.prototype.eatWhile=function(d){for(var f=this.pos;this.eat(d););return this.pos>f},U.prototype.eatSpace=function(){for(var d=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>d},U.prototype.skipToEnd=function(){this.pos=this.string.length},U.prototype.skipTo=function(d){var f=this.string.indexOf(d,this.pos);if(f>-1)return this.pos=f,!0},U.prototype.backUp=function(d){this.pos-=d},U.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=_t(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?_t(this.string,this.lineStart,this.tabSize):0)},U.prototype.indentation=function(){return _t(this.string,null,this.tabSize)-(this.lineStart?_t(this.string,this.lineStart,this.tabSize):0)},U.prototype.match=function(d,f,v){if(typeof d=="string"){var m=function(F){return v?F.toLowerCase():F},C=this.string.substr(this.pos,d.length);if(m(C)==m(d))return f!==!1&&(this.pos+=d.length),!0}else{var S=this.string.slice(this.pos).match(d);return S&&S.index>0?null:(S&&f!==!1&&(this.pos+=S[0].length),S)}},U.prototype.current=function(){return this.string.slice(this.start,this.pos)},U.prototype.hideFirstChars=function(d,f){this.lineStart+=d;try{return f()}finally{this.lineStart-=d}},U.prototype.lookAhead=function(d){var f=this.lineOracle;return f&&f.lookAhead(d)},U.prototype.baseToken=function(){var d=this.lineOracle;return d&&d.baseToken(this.pos)};function H(d,f){if(f-=d.first,f<0||f>=d.size)throw new Error("There is no line "+(f+d.first)+" in the document.");for(var v=d;!v.lines;)for(var m=0;;++m){var C=v.children[m],S=C.chunkSize();if(f<S){v=C;break}f-=S}return v.lines[f]}function gt(d,f,v){var m=[],C=f.line;return d.iter(f.line,v.line+1,function(S){var F=S.text;C==v.line&&(F=F.slice(0,v.ch)),C==f.line&&(F=F.slice(f.ch)),m.push(F),++C}),m}function $t(d,f,v){var m=[];return d.iter(f,v,function(C){m.push(C.text)}),m}function Ee(d,f){var v=f-d.height;if(v)for(var m=d;m;m=m.parent)m.height+=v}function Ve(d){if(d.parent==null)return null;for(var f=d.parent,v=ft(f.lines,d),m=f.parent;m;f=m,m=m.parent)for(var C=0;m.children[C]!=f;++C)v+=m.children[C].chunkSize();return v+f.first}function ze(d,f){var v=d.first;t:do{for(var m=0;m<d.children.length;++m){var C=d.children[m],S=C.height;if(f<S){d=C;continue t}f-=S,v+=C.chunkSize()}return v}while(!d.lines);for(var F=0;F<d.lines.length;++F){var B=d.lines[F],$=B.height;if(f<$)break;f-=$}return v+F}function Re(d,f){return f>=d.first&&f<d.first+d.size}function Y(d,f){return String(d.lineNumberFormatter(f+d.firstLineNumber))}function Jt(d,f,v){if(v===void 0&&(v=null),!(this instanceof Jt))return new Jt(d,f,v);this.line=d,this.ch=f,this.sticky=v}function Ne(d,f){return d.line-f.line||d.ch-f.ch}function Ln(d,f){return d.sticky==f.sticky&&Ne(d,f)==0}function nt(d){return Jt(d.line,d.ch)}function bt(d,f){return Ne(d,f)<0?f:d}function Zt(d,f){return Ne(d,f)<0?d:f}function pe(d,f){return Math.max(d.first,Math.min(f,d.first+d.size-1))}function fe(d,f){if(f.line<d.first)return Jt(d.first,0);var v=d.first+d.size-1;return f.line>v?Jt(v,H(d,v).text.length):nn(f,H(d,f.line).text.length)}function nn(d,f){var v=d.ch;return v==null||v>f?Jt(d.line,f):v<0?Jt(d.line,0):d}function dn(d,f){for(var v=[],m=0;m<f.length;m++)v[m]=fe(d,f[m]);return v}var Nn=function(d,f){this.state=d,this.lookAhead=f},Vn=function(d,f,v,m){this.state=f,this.doc=d,this.line=v,this.maxLookAhead=m||0,this.baseTokens=null,this.baseTokenPos=1};Vn.prototype.lookAhead=function(d){var f=this.doc.getLine(this.line+d);return f!=null&&d>this.maxLookAhead&&(this.maxLookAhead=d),f},Vn.prototype.baseToken=function(d){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=d;)this.baseTokenPos+=2;var f=this.baseTokens[this.baseTokenPos+1];return{type:f&&f.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-d}},Vn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Vn.fromSaved=function(d,f,v){return f instanceof Nn?new Vn(d,Dn(d.mode,f.state),v,f.lookAhead):new Vn(d,Dn(d.mode,f),v)},Vn.prototype.save=function(d){var f=d!==!1?Dn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Nn(f,this.maxLookAhead):f};function Ya(d,f,v,m){var C=[d.state.modeGen],S={};ya(d,f.text,d.doc.mode,v,function(Q,vt){return C.push(Q,vt)},S,m);for(var F=v.state,B=function(Q){v.baseTokens=C;var vt=d.state.overlays[Q],Ot=1,jt=0;v.state=!0,ya(d,f.text,vt.mode,v,function(Ft,te){for(var ue=Ot;jt<Ft;){var me=C[Ot];me>Ft&&C.splice(Ot,1,Ft,C[Ot+1],me),Ot+=2,jt=Math.min(Ft,me)}if(te)if(vt.opaque)C.splice(ue,Ot-ue,Ft,"overlay "+te),Ot=ue+2;else for(;ue<Ot;ue+=2){var we=C[ue+1];C[ue+1]=(we?we+" ":"")+"overlay "+te}},S),v.state=F,v.baseTokens=null,v.baseTokenPos=1},$=0;$<d.state.overlays.length;++$)B($);return{styles:C,classes:S.bgClass||S.textClass?S:null}}function Yi(d,f,v){if(!f.styles||f.styles[0]!=d.state.modeGen){var m=di(d,Ve(f)),C=f.text.length>d.options.maxHighlightLength&&Dn(d.doc.mode,m.state),S=Ya(d,f,m);C&&(m.state=C),f.stateAfter=m.save(!C),f.styles=S.styles,S.classes?f.styleClasses=S.classes:f.styleClasses&&(f.styleClasses=null),v===d.doc.highlightFrontier&&(d.doc.modeFrontier=Math.max(d.doc.modeFrontier,++d.doc.highlightFrontier))}return f.styles}function di(d,f,v){var m=d.doc,C=d.display;if(!m.mode.startState)return new Vn(m,!0,f);var S=Lo(d,f,v),F=S>m.first&&H(m,S-1).stateAfter,B=F?Vn.fromSaved(m,F,S):new Vn(m,A(m.mode),S);return m.iter(S,f,function($){Yo(d,$.text,B);var Q=B.line;$.stateAfter=Q==f-1||Q%5==0||Q>=C.viewFrom&&Q<C.viewTo?B.save():null,B.nextLine()}),v&&(m.modeFrontier=B.line),B}function Yo(d,f,v,m){var C=d.doc.mode,S=new U(f,d.options.tabSize,v);for(S.start=S.pos=m||0,f==""&&Qs(C,v.state);!S.eol();)Xa(C,S,v.state),S.start=S.pos}function Qs(d,f){if(d.blankLine)return d.blankLine(f);if(d.innerMode){var v=mn(d,f);if(v.mode.blankLine)return v.mode.blankLine(v.state)}}function Xa(d,f,v,m){for(var C=0;C<10;C++){m&&(m[0]=mn(d,v).mode);var S=d.token(f,v);if(f.pos>f.start)return S}throw new Error("Mode "+d.name+" failed to advance stream.")}var _a=function(d,f,v){this.start=d.start,this.end=d.pos,this.string=d.current(),this.type=f||null,this.state=v};function Js(d,f,v,m){var C=d.doc,S=C.mode,F;f=fe(C,f);var B=H(C,f.line),$=di(d,f.line,v),Q=new U(B.text,d.options.tabSize,$),vt;for(m&&(vt=[]);(m||Q.pos<f.ch)&&!Q.eol();)Q.start=Q.pos,F=Xa(S,Q,$.state),m&&vt.push(new _a(Q,F,Dn(C.mode,$.state)));return m?vt:new _a(Q,F,$.state)}function Qa(d,f){if(d)for(;;){var v=d.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!v)break;d=d.slice(0,v.index)+d.slice(v.index+v[0].length);var m=v[1]?"bgClass":"textClass";f[m]==null?f[m]=v[2]:new RegExp("(?:^|\\s)"+v[2]+"(?:$|\\s)").test(f[m])||(f[m]+=" "+v[2])}return d}function ya(d,f,v,m,C,S,F){var B=v.flattenSpans;B==null&&(B=d.options.flattenSpans);var $=0,Q=null,vt=new U(f,d.options.tabSize,m),Ot,jt=d.options.addModeClass&&[null];for(f==""&&Qa(Qs(v,m.state),S);!vt.eol();){if(vt.pos>d.options.maxHighlightLength?(B=!1,F&&Yo(d,f,m,vt.pos),vt.pos=f.length,Ot=null):Ot=Qa(Xa(v,vt,m.state,jt),S),jt){var Ft=jt[0].name;Ft&&(Ot="m-"+(Ot?Ft+" "+Ot:Ft))}if(!B||Q!=Ot){for(;$<vt.start;)$=Math.min(vt.start,$+5e3),C($,Q);Q=Ot}vt.start=vt.pos}for(;$<vt.pos;){var te=Math.min(vt.pos,$+5e3);C(te,Q),$=te}}function Lo(d,f,v){for(var m,C,S=d.doc,F=v?-1:f-(d.doc.mode.innerMode?1e3:100),B=f;B>F;--B){if(B<=S.first)return S.first;var $=H(S,B-1),Q=$.stateAfter;if(Q&&(!v||B+(Q instanceof Nn?Q.lookAhead:0)<=S.modeFrontier))return B;var vt=_t($.text,null,d.options.tabSize);(C==null||m>vt)&&(C=B-1,m=vt)}return C}function ba(d,f){if(d.modeFrontier=Math.min(d.modeFrontier,f),!(d.highlightFrontier<f-10)){for(var v=d.first,m=f-1;m>v;m--){var C=H(d,m).stateAfter;if(C&&(!(C instanceof Nn)||m+C.lookAhead<f)){v=m+1;break}}d.highlightFrontier=Math.min(d.highlightFrontier,v)}}var mr=!1,Pr=!1;function Ja(){mr=!0}function Zs(){Pr=!0}function No(d,f,v){this.marker=d,this.from=f,this.to=v}function Qr(d,f){if(d)for(var v=0;v<d.length;++v){var m=d[v];if(m.marker==f)return m}}function tl(d,f){for(var v,m=0;m<d.length;++m)d[m]!=f&&(v||(v=[])).push(d[m]);return v}function go(d,f,v){var m=v&&window.WeakSet&&(v.markedSpans||(v.markedSpans=new WeakSet));m&&m.has(d.markedSpans)?d.markedSpans.push(f):(d.markedSpans=d.markedSpans?d.markedSpans.concat([f]):[f],m&&m.add(d.markedSpans)),f.marker.attachLine(d)}function Mr(d,f,v){var m;if(d)for(var C=0;C<d.length;++C){var S=d[C],F=S.marker,B=S.from==null||(F.inclusiveLeft?S.from<=f:S.from<f);if(B||S.from==f&&F.type=="bookmark"&&(!v||!S.marker.insertLeft)){var $=S.to==null||(F.inclusiveRight?S.to>=f:S.to>f);(m||(m=[])).push(new No(F,S.from,$?null:S.to))}}return m}function Za(d,f,v){var m;if(d)for(var C=0;C<d.length;++C){var S=d[C],F=S.marker,B=S.to==null||(F.inclusiveRight?S.to>=f:S.to>f);if(B||S.from==f&&F.type=="bookmark"&&(!v||S.marker.insertLeft)){var $=S.from==null||(F.inclusiveLeft?S.from<=f:S.from<f);(m||(m=[])).push(new No(F,$?null:S.from-f,S.to==null?null:S.to-f))}}return m}function Xi(d,f){if(f.full)return null;var v=Re(d,f.from.line)&&H(d,f.from.line).markedSpans,m=Re(d,f.to.line)&&H(d,f.to.line).markedSpans;if(!v&&!m)return null;var C=f.from.ch,S=f.to.ch,F=Ne(f.from,f.to)==0,B=Mr(v,C,F),$=Za(m,S,F),Q=f.text.length==1,vt=Ct(f.text).length+(Q?C:0);if(B)for(var Ot=0;Ot<B.length;++Ot){var jt=B[Ot];if(jt.to==null){var Ft=Qr($,jt.marker);Ft?Q&&(jt.to=Ft.to==null?null:Ft.to+vt):jt.to=C}}if($)for(var te=0;te<$.length;++te){var ue=$[te];if(ue.to!=null&&(ue.to+=vt),ue.from==null){var me=Qr(B,ue.marker);me||(ue.from=vt,Q&&(B||(B=[])).push(ue))}else ue.from+=vt,Q&&(B||(B=[])).push(ue)}B&&(B=ho(B)),$&&$!=B&&($=ho($));var we=[B];if(!Q){var ke=f.text.length-2,Se;if(ke>0&&B)for(var Ie=0;Ie<B.length;++Ie)B[Ie].to==null&&(Se||(Se=[])).push(new No(B[Ie].marker,null,null));for(var qe=0;qe<ke;++qe)we.push(Se);we.push($)}return we}function ho(d){for(var f=0;f<d.length;++f){var v=d[f];v.from!=null&&v.from==v.to&&v.marker.clearWhenEmpty!==!1&&d.splice(f--,1)}return d.length?d:null}function ts(d,f,v){var m=null;if(d.iter(f.line,v.line+1,function(Ft){if(Ft.markedSpans)for(var te=0;te<Ft.markedSpans.length;++te){var ue=Ft.markedSpans[te].marker;ue.readOnly&&(!m||ft(m,ue)==-1)&&(m||(m=[])).push(ue)}}),!m)return null;for(var C=[{from:f,to:v}],S=0;S<m.length;++S)for(var F=m[S],B=F.find(0),$=0;$<C.length;++$){var Q=C[$];if(!(Ne(Q.to,B.from)<0||Ne(Q.from,B.to)>0)){var vt=[$,1],Ot=Ne(Q.from,B.from),jt=Ne(Q.to,B.to);(Ot<0||!F.inclusiveLeft&&!Ot)&&vt.push({from:Q.from,to:B.from}),(jt>0||!F.inclusiveRight&&!jt)&&vt.push({from:B.to,to:Q.to}),C.splice.apply(C,vt),$+=vt.length-3}}return C}function Qi(d){var f=d.markedSpans;if(f){for(var v=0;v<f.length;++v)f[v].marker.detachLine(d);d.markedSpans=null}}function Oi(d,f){if(f){for(var v=0;v<f.length;++v)f[v].marker.attachLine(d);d.markedSpans=f}}function Ca(d){return d.inclusiveLeft?-1:0}function Ro(d){return d.inclusiveRight?1:0}function xa(d,f){var v=d.lines.length-f.lines.length;if(v!=0)return v;var m=d.find(),C=f.find(),S=Ne(m.from,C.from)||Ca(d)-Ca(f);if(S)return-S;var F=Ne(m.to,C.to)||Ro(d)-Ro(f);return F||f.id-d.id}function Oa(d,f){var v=Pr&&d.markedSpans,m;if(v)for(var C=void 0,S=0;S<v.length;++S)C=v[S],C.marker.collapsed&&(f?C.from:C.to)==null&&(!m||xa(m,C.marker)<0)&&(m=C.marker);return m}function el(d){return Oa(d,!0)}function Ji(d){return Oa(d,!1)}function Ue(d,f){var v=Pr&&d.markedSpans,m;if(v)for(var C=0;C<v.length;++C){var S=v[C];S.marker.collapsed&&(S.from==null||S.from<f)&&(S.to==null||S.to>f)&&(!m||xa(m,S.marker)<0)&&(m=S.marker)}return m}function He(d,f,v,m,C){var S=H(d,f),F=Pr&&S.markedSpans;if(F)for(var B=0;B<F.length;++B){var $=F[B];if($.marker.collapsed){var Q=$.marker.find(0),vt=Ne(Q.from,v)||Ca($.marker)-Ca(C),Ot=Ne(Q.to,m)||Ro($.marker)-Ro(C);if(!(vt>=0&&Ot<=0||vt<=0&&Ot>=0)&&(vt<=0&&($.marker.inclusiveRight&&C.inclusiveLeft?Ne(Q.to,v)>=0:Ne(Q.to,v)>0)||vt>=0&&($.marker.inclusiveRight&&C.inclusiveLeft?Ne(Q.from,m)<=0:Ne(Q.from,m)<0)))return!0}}}function tn(d){for(var f;f=el(d);)d=f.find(-1,!0).line;return d}function Ge(d){for(var f;f=Ji(d);)d=f.find(1,!0).line;return d}function or(d){for(var f,v;f=Ji(d);)d=f.find(1,!0).line,(v||(v=[])).push(d);return v}function Pi(d,f){var v=H(d,f),m=tn(v);return v==m?f:Ve(m)}function Mi(d,f){if(f>d.lastLine())return f;var v=H(d,f),m;if(!Dr(d,v))return f;for(;m=Ji(v);)v=m.find(1,!0).line;return Ve(v)+1}function Dr(d,f){var v=Pr&&f.markedSpans;if(v){for(var m=void 0,C=0;C<v.length;++C)if(m=v[C],!!m.marker.collapsed){if(m.from==null)return!0;if(!m.marker.widgetNode&&m.from==0&&m.marker.inclusiveLeft&&Hr(d,f,m))return!0}}}function Hr(d,f,v){if(v.to==null){var m=v.marker.find(1,!0);return Hr(d,m.line,Qr(m.line.markedSpans,v.marker))}if(v.marker.inclusiveRight&&v.to==f.text.length)return!0;for(var C=void 0,S=0;S<f.markedSpans.length;++S)if(C=f.markedSpans[S],C.marker.collapsed&&!C.marker.widgetNode&&C.from==v.to&&(C.to==null||C.to!=v.from)&&(C.marker.inclusiveLeft||v.marker.inclusiveRight)&&Hr(d,f,C))return!0}function wi(d){d=tn(d);for(var f=0,v=d.parent,m=0;m<v.lines.length;++m){var C=v.lines[m];if(C==d)break;f+=C.height}for(var S=v.parent;S;v=S,S=v.parent)for(var F=0;F<S.children.length;++F){var B=S.children[F];if(B==v)break;f+=B.height}return f}function Fo(d){if(d.height==0)return 0;for(var f=d.text.length,v,m=d;v=el(m);){var C=v.find(0,!0);m=C.from.line,f+=C.from.ch-C.to.ch}for(m=d;v=Ji(m);){var S=v.find(0,!0);f-=m.text.length-S.from.ch,m=S.to.line,f+=m.text.length-S.to.ch}return f}function es(d){var f=d.display,v=d.doc;f.maxLine=H(v,v.first),f.maxLineLength=Fo(f.maxLine),f.maxLineChanged=!0,v.iter(function(m){var C=Fo(m);C>f.maxLineLength&&(f.maxLineLength=C,f.maxLine=m)})}var Lr=function(d,f,v){this.text=d,Oi(this,f),this.height=v?v(this):1};Lr.prototype.lineNo=function(){return Ve(this)},Xe(Lr);function bp(d,f,v,m){d.text=f,d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null),d.order!=null&&(d.order=null),Qi(d),Oi(d,v);var C=m?m(d):1;C!=d.height&&Ee(d,C)}function $l(d){d.parent=null,Qi(d)}var Cp={},Cd={};function xd(d,f){if(!d||/^\s*$/.test(d))return null;var v=f.addModeClass?Cd:Cp;return v[d]||(v[d]=d.replace(/\S+/g,"cm-$&"))}function Yl(d,f){var v=q("span",null,null,c?"padding-right: .1px":null),m={pre:q("pre",[v],"CodeMirror-line"),content:v,col:0,pos:0,cm:d,trailingSpace:!1,splitSpaces:d.getOption("lineWrapping")};f.measure={};for(var C=0;C<=(f.rest?f.rest.length:0);C++){var S=C?f.rest[C-1]:f.line,F=void 0;m.pos=0,m.addToken=Op,Pn(d.display.measure)&&(F=it(S,d.doc.direction))&&(m.addToken=Pp(m.addToken,F)),m.map=[];var B=f!=d.display.externalMeasured&&Ve(S);Mp(S,m,Yi(d,S,B)),S.styleClasses&&(S.styleClasses.bgClass&&(m.bgClass=ut(S.styleClasses.bgClass,m.bgClass||"")),S.styleClasses.textClass&&(m.textClass=ut(S.styleClasses.textClass,m.textClass||""))),m.map.length==0&&m.map.push(0,0,m.content.appendChild(Te(d.display.measure))),C==0?(f.measure.map=m.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(m.map),(f.measure.caches||(f.measure.caches=[])).push({}))}if(c){var $=m.content.lastChild;(/\bcm-tab\b/.test($.className)||$.querySelector&&$.querySelector(".cm-tab"))&&(m.content.className="cm-tab-wrap-hack")}return Pe(d,"renderLine",d,f.line,m.pre),m.pre.className&&(m.textClass=ut(m.pre.className,m.textClass||"")),m}function xp(d){var f=W("span","\u2022","cm-invalidchar");return f.title="\\u"+d.charCodeAt(0).toString(16),f.setAttribute("aria-label",f.title),f}function Op(d,f,v,m,C,S,F){if(f){var B=d.splitSpaces?Xl(f,d.trailingSpace):f,$=d.cm.state.specialChars,Q=!1,vt;if(!$.test(f))d.col+=f.length,vt=document.createTextNode(B),d.map.push(d.pos,d.pos+f.length,vt),s&&l<9&&(Q=!0),d.pos+=f.length;else{vt=document.createDocumentFragment();for(var Ot=0;;){$.lastIndex=Ot;var jt=$.exec(f),Ft=jt?jt.index-Ot:f.length-Ot;if(Ft){var te=document.createTextNode(B.slice(Ot,Ot+Ft));s&&l<9?vt.appendChild(W("span",[te])):vt.appendChild(te),d.map.push(d.pos,d.pos+Ft,te),d.col+=Ft,d.pos+=Ft}if(!jt)break;Ot+=Ft+1;var ue=void 0;if(jt[0]=="	"){var me=d.cm.options.tabSize,we=me-d.col%me;ue=vt.appendChild(W("span",le(we),"cm-tab")),ue.setAttribute("role","presentation"),ue.setAttribute("cm-text","	"),d.col+=we}else jt[0]=="\r"||jt[0]==`
`?(ue=vt.appendChild(W("span",jt[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),ue.setAttribute("cm-text",jt[0]),d.col+=1):(ue=d.cm.options.specialCharPlaceholder(jt[0]),ue.setAttribute("cm-text",jt[0]),s&&l<9?vt.appendChild(W("span",[ue])):vt.appendChild(ue),d.col+=1);d.map.push(d.pos,d.pos+1,ue),d.pos++}}if(d.trailingSpace=B.charCodeAt(f.length-1)==32,v||m||C||Q||S||F){var ke=v||"";m&&(ke+=m),C&&(ke+=C);var Se=W("span",[vt],ke,S);if(F)for(var Ie in F)F.hasOwnProperty(Ie)&&Ie!="style"&&Ie!="class"&&Se.setAttribute(Ie,F[Ie]);return d.content.appendChild(Se)}d.content.appendChild(vt)}}function Xl(d,f){if(d.length>1&&!/  /.test(d))return d;for(var v=f,m="",C=0;C<d.length;C++){var S=d.charAt(C);S==" "&&v&&(C==d.length-1||d.charCodeAt(C+1)==32)&&(S="\xA0"),m+=S,v=S==" "}return m}function Pp(d,f){return function(v,m,C,S,F,B,$){C=C?C+" cm-force-border":"cm-force-border";for(var Q=v.pos,vt=Q+m.length;;){for(var Ot=void 0,jt=0;jt<f.length&&(Ot=f[jt],!(Ot.to>Q&&Ot.from<=Q));jt++);if(Ot.to>=vt)return d(v,m,C,S,F,B,$);d(v,m.slice(0,Ot.to-Q),C,S,null,B,$),S=null,m=m.slice(Ot.to-Q),Q=Ot.to}}}function Od(d,f,v,m){var C=!m&&v.widgetNode;C&&d.map.push(d.pos,d.pos+f,C),!m&&d.cm.display.input.needsContentAttribute&&(C||(C=d.content.appendChild(document.createElement("span"))),C.setAttribute("cm-marker",v.id)),C&&(d.cm.display.input.setUneditable(C),d.content.appendChild(C)),d.pos+=f,d.trailingSpace=!1}function Mp(d,f,v){var m=d.markedSpans,C=d.text,S=0;if(!m){for(var F=1;F<v.length;F+=2)f.addToken(f,C.slice(S,S=v[F]),xd(v[F+1],f.cm.options));return}for(var B=C.length,$=0,Q=1,vt="",Ot,jt,Ft=0,te,ue,me,we,ke;;){if(Ft==$){te=ue=me=jt="",ke=null,we=null,Ft=1/0;for(var Se=[],Ie=void 0,qe=0;qe<m.length;++qe){var We=m[qe],an=We.marker;if(an.type=="bookmark"&&We.from==$&&an.widgetNode)Se.push(an);else if(We.from<=$&&(We.to==null||We.to>$||an.collapsed&&We.to==$&&We.from==$)){if(We.to!=null&&We.to!=$&&Ft>We.to&&(Ft=We.to,ue=""),an.className&&(te+=" "+an.className),an.css&&(jt=(jt?jt+";":"")+an.css),an.startStyle&&We.from==$&&(me+=" "+an.startStyle),an.endStyle&&We.to==Ft&&(Ie||(Ie=[])).push(an.endStyle,We.to),an.title&&((ke||(ke={})).title=an.title),an.attributes)for(var Un in an.attributes)(ke||(ke={}))[Un]=an.attributes[Un];an.collapsed&&(!we||xa(we.marker,an)<0)&&(we=We)}else We.from>$&&Ft>We.from&&(Ft=We.from)}if(Ie)for(var Fr=0;Fr<Ie.length;Fr+=2)Ie[Fr+1]==Ft&&(ue+=" "+Ie[Fr]);if(!we||we.from==$)for(var ir=0;ir<Se.length;++ir)Od(f,0,Se[ir]);if(we&&(we.from||0)==$){if(Od(f,(we.to==null?B+1:we.to)-$,we.marker,we.from==null),we.to==null)return;we.to==$&&(we=!1)}}if($>=B)break;for(var Ei=Math.min(B,Ft);;){if(vt){var fi=$+vt.length;if(!we){var vr=fi>Ei?vt.slice(0,Ei-$):vt;f.addToken(f,vr,Ot?Ot+te:te,me,$+vr.length==Ft?ue:"",jt,ke)}if(fi>=Ei){vt=vt.slice(Ei-$),$=Ei;break}$=fi,me=""}vt=C.slice(S,S=v[Q++]),Ot=xd(v[Q++],f.cm.options)}}}function Pd(d,f,v){this.line=f,this.rest=or(f),this.size=this.rest?Ve(Ct(this.rest))-v+1:1,this.node=this.text=null,this.hidden=Dr(d,f)}function Ql(d,f,v){for(var m=[],C,S=f;S<v;S=C){var F=new Pd(d.doc,H(d.doc,S),S);C=S+F.size,m.push(F)}return m}var Pa=null;function wp(d){Pa?Pa.ops.push(d):d.ownsGroup=Pa={ops:[d],delayedCallbacks:[]}}function om(d){var f=d.delayedCallbacks,v=0;do{for(;v<f.length;v++)f[v].call(null);for(var m=0;m<d.ops.length;m++){var C=d.ops[m];if(C.cursorActivityHandlers)for(;C.cursorActivityCalled<C.cursorActivityHandlers.length;)C.cursorActivityHandlers[C.cursorActivityCalled++].call(null,C.cm)}}while(v<f.length)}function Md(d,f){var v=d.ownsGroup;if(v)try{om(v)}finally{Pa=null,f(v)}}var ns=null;function ar(d,f){var v=de(d,f);if(v.length){var m=Array.prototype.slice.call(arguments,2),C;Pa?C=Pa.delayedCallbacks:ns?C=ns:(C=ns=[],setTimeout(rs,0));for(var S=function(B){C.push(function(){return v[B].apply(null,m)})},F=0;F<v.length;++F)S(F)}}function rs(){var d=ns;ns=null;for(var f=0;f<d.length;++f)d[f]()}function Xo(d,f,v,m){for(var C=0;C<f.changes.length;C++){var S=f.changes[C];S=="text"?Sd(d,f):S=="gutter"?os(d,f,v,m):S=="class"?Jl(d,f):S=="widget"&&Tp(d,f,m)}f.changes=null}function is(d){return d.node==d.text&&(d.node=W("div",null,null,"position: relative"),d.text.parentNode&&d.text.parentNode.replaceChild(d.node,d.text),d.node.appendChild(d.text),s&&l<8&&(d.node.style.zIndex=2)),d.node}function Sp(d,f){var v=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;if(v&&(v+=" CodeMirror-linebackground"),f.background)v?f.background.className=v:(f.background.parentNode.removeChild(f.background),f.background=null);else if(v){var m=is(f);f.background=m.insertBefore(W("div",null,v),m.firstChild),d.display.input.setUneditable(f.background)}}function wd(d,f){var v=d.display.externalMeasured;return v&&v.line==f.line?(d.display.externalMeasured=null,f.measure=v.measure,v.built):Yl(d,f)}function Sd(d,f){var v=f.text.className,m=wd(d,f);f.text==f.node&&(f.node=m.pre),f.text.parentNode.replaceChild(m.pre,f.text),f.text=m.pre,m.bgClass!=f.bgClass||m.textClass!=f.textClass?(f.bgClass=m.bgClass,f.textClass=m.textClass,Jl(d,f)):v&&(f.text.className=v)}function Jl(d,f){Sp(d,f),f.line.wrapClass?is(f).className=f.line.wrapClass:f.node!=f.text&&(f.node.className="");var v=f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass;f.text.className=v||""}function os(d,f,v,m){if(f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null),f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null),f.line.gutterClass){var C=is(f);f.gutterBackground=W("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(d.options.fixedGutter?m.fixedPos:-m.gutterTotalWidth)+"px; width: "+m.gutterTotalWidth+"px"),d.display.input.setUneditable(f.gutterBackground),C.insertBefore(f.gutterBackground,f.text)}var S=f.line.gutterMarkers;if(d.options.lineNumbers||S){var F=is(f),B=f.gutter=W("div",null,"CodeMirror-gutter-wrapper","left: "+(d.options.fixedGutter?m.fixedPos:-m.gutterTotalWidth)+"px");if(B.setAttribute("aria-hidden","true"),d.display.input.setUneditable(B),F.insertBefore(B,f.text),f.line.gutterClass&&(B.className+=" "+f.line.gutterClass),d.options.lineNumbers&&(!S||!S["CodeMirror-linenumbers"])&&(f.lineNumber=B.appendChild(W("div",Y(d.options,v),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+m.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+d.display.lineNumInnerWidth+"px"))),S)for(var $=0;$<d.display.gutterSpecs.length;++$){var Q=d.display.gutterSpecs[$].className,vt=S.hasOwnProperty(Q)&&S[Q];vt&&B.appendChild(W("div",[vt],"CodeMirror-gutter-elt","left: "+m.gutterLeft[Q]+"px; width: "+m.gutterWidth[Q]+"px"))}}}function Tp(d,f,v){f.alignable&&(f.alignable=null);for(var m=z("CodeMirror-linewidget"),C=f.node.firstChild,S=void 0;C;C=S)S=C.nextSibling,m.test(C.className)&&f.node.removeChild(C);as(d,f,v)}function Ep(d,f,v,m){var C=wd(d,f);return f.text=f.node=C.pre,C.bgClass&&(f.bgClass=C.bgClass),C.textClass&&(f.textClass=C.textClass),Jl(d,f),os(d,f,v,m),as(d,f,m),f.node}function as(d,f,v){if(Td(d,f.line,f,v,!0),f.rest)for(var m=0;m<f.rest.length;m++)Td(d,f.rest[m],f,v,!1)}function Td(d,f,v,m,C){if(f.widgets)for(var S=is(v),F=0,B=f.widgets;F<B.length;++F){var $=B[F],Q=W("div",[$.node],"CodeMirror-linewidget"+($.className?" "+$.className:""));$.handleMouseEvents||Q.setAttribute("cm-ignore-events","true"),kp($,Q,v,m),d.display.input.setUneditable(Q),C&&$.above?S.insertBefore(Q,v.gutter||v.text):S.appendChild(Q),ar($,"redraw")}}function kp(d,f,v,m){if(d.noHScroll){(v.alignable||(v.alignable=[])).push(f);var C=m.wrapperWidth;f.style.left=m.fixedPos+"px",d.coverGutter||(C-=m.gutterTotalWidth,f.style.paddingLeft=m.gutterTotalWidth+"px"),f.style.width=C+"px"}d.coverGutter&&(f.style.zIndex=5,f.style.position="relative",d.noHScroll||(f.style.marginLeft=-m.gutterTotalWidth+"px"))}function ss(d){if(d.height!=null)return d.height;var f=d.doc.cm;if(!f)return 0;if(!I(document.body,d.node)){var v="position: relative;";d.coverGutter&&(v+="margin-left: -"+f.display.gutters.offsetWidth+"px;"),d.noHScroll&&(v+="width: "+f.display.wrapper.clientWidth+"px;"),D(f.display.measure,W("div",[d.node],null,v))}return d.height=d.node.parentNode.offsetHeight}function mo(d,f){for(var v=Mt(f);v!=d.wrapper;v=v.parentNode)if(!v||v.nodeType==1&&v.getAttribute("cm-ignore-events")=="true"||v.parentNode==d.sizer&&v!=d.mover)return!0}function ls(d){return d.lineSpace.offsetTop}function nl(d){return d.mover.offsetHeight-d.lineSpace.offsetHeight}function Ap(d){if(d.cachedPaddingH)return d.cachedPaddingH;var f=D(d.measure,W("pre","x","CodeMirror-line-like")),v=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,m={left:parseInt(v.paddingLeft),right:parseInt(v.paddingRight)};return!isNaN(m.left)&&!isNaN(m.right)&&(d.cachedPaddingH=m),m}function Si(d){return wt-d.display.nativeBarWidth}function Ma(d){return d.display.scroller.clientWidth-Si(d)-d.display.barWidth}function X(d){return d.display.scroller.clientHeight-Si(d)-d.display.barHeight}function st(d,f,v){var m=d.options.lineWrapping,C=m&&Ma(d);if(!f.measure.heights||m&&f.measure.width!=C){var S=f.measure.heights=[];if(m){f.measure.width=C;for(var F=f.text.firstChild.getClientRects(),B=0;B<F.length-1;B++){var $=F[B],Q=F[B+1];Math.abs($.bottom-Q.bottom)>2&&S.push(($.bottom+Q.top)/2-v.top)}}S.push(v.bottom-v.top)}}function xt(d,f,v){if(d.line==f)return{map:d.measure.map,cache:d.measure.cache};for(var m=0;m<d.rest.length;m++)if(d.rest[m]==f)return{map:d.measure.maps[m],cache:d.measure.caches[m]};for(var C=0;C<d.rest.length;C++)if(Ve(d.rest[C])>v)return{map:d.measure.maps[C],cache:d.measure.caches[C],before:!0}}function St(d,f){f=tn(f);var v=Ve(f),m=d.display.externalMeasured=new Pd(d.doc,f,v);m.lineN=v;var C=m.built=Yl(d,m);return m.text=C.pre,D(d.display.lineMeasure,C.pre),m}function Bt(d,f,v,m){return Ce(d,se(d,f),v,m)}function zt(d,f){if(f>=d.display.viewFrom&&f<d.display.viewTo)return d.display.view[ol(d,f)];var v=d.display.externalMeasured;if(v&&f>=v.lineN&&f<v.lineN+v.size)return v}function se(d,f){var v=Ve(f),m=zt(d,v);m&&!m.text?m=null:m&&m.changes&&(Xo(d,m,v,dm(d)),d.curOp.forceUpdate=!0),m||(m=St(d,f));var C=xt(m,f,v);return{line:f,view:m,rect:null,map:C.map,cache:C.cache,before:C.before,hasHeights:!1}}function Ce(d,f,v,m,C){f.before&&(v=-1);var S=v+(m||""),F;return f.cache.hasOwnProperty(S)?F=f.cache[S]:(f.rect||(f.rect=f.view.text.getBoundingClientRect()),f.hasHeights||(st(d,f.view,f.rect),f.hasHeights=!0),F=Jr(d,f,v,m),F.bogus||(f.cache[S]=F)),{left:F.left,right:F.right,top:C?F.rtop:F.top,bottom:C?F.rbottom:F.bottom}}var en={left:0,right:0,top:0,bottom:0};function Je(d,f,v){for(var m,C,S,F,B,$,Q=0;Q<d.length;Q+=3)if(B=d[Q],$=d[Q+1],f<B?(C=0,S=1,F="left"):f<$?(C=f-B,S=C+1):(Q==d.length-3||f==$&&d[Q+3]>f)&&(S=$-B,C=S-1,f>=$&&(F="right")),C!=null){if(m=d[Q+2],B==$&&v==(m.insertLeft?"left":"right")&&(F=v),v=="left"&&C==0)for(;Q&&d[Q-2]==d[Q-3]&&d[Q-1].insertLeft;)m=d[(Q-=3)+2],F="left";if(v=="right"&&C==$-B)for(;Q<d.length-3&&d[Q+3]==d[Q+4]&&!d[Q+5].insertLeft;)m=d[(Q+=3)+2],F="right";break}return{node:m,start:C,end:S,collapse:F,coverStart:B,coverEnd:$}}function wr(d,f){var v=en;if(f=="left")for(var m=0;m<d.length&&(v=d[m]).left==v.right;m++);else for(var C=d.length-1;C>=0&&(v=d[C]).left==v.right;C--);return v}function Jr(d,f,v,m){var C=Je(f.map,v,m),S=C.node,F=C.start,B=C.end,$=C.collapse,Q;if(S.nodeType==3){for(var vt=0;vt<4;vt++){for(;F&&kt(f.line.text.charAt(C.coverStart+F));)--F;for(;C.coverStart+B<C.coverEnd&&kt(f.line.text.charAt(C.coverStart+B));)++B;if(s&&l<9&&F==0&&B==C.coverEnd-C.coverStart?Q=S.parentNode.getBoundingClientRect():Q=wr(J(S,F,B).getClientRects(),m),Q.left||Q.right||F==0)break;B=F,F=F-1,$="right"}s&&l<11&&(Q=Ip(d.display.measure,Q))}else{F>0&&($=m="right");var Ot;d.options.lineWrapping&&(Ot=S.getClientRects()).length>1?Q=Ot[m=="right"?Ot.length-1:0]:Q=S.getBoundingClientRect()}if(s&&l<9&&!F&&(!Q||!Q.left&&!Q.right)){var jt=S.parentNode.getClientRects()[0];jt?Q={left:jt.left,right:jt.left+tc(d.display),top:jt.top,bottom:jt.bottom}:Q=en}for(var Ft=Q.top-f.rect.top,te=Q.bottom-f.rect.top,ue=(Ft+te)/2,me=f.view.measure.heights,we=0;we<me.length-1&&!(ue<me[we]);we++);var ke=we?me[we-1]:0,Se=me[we],Ie={left:($=="right"?Q.right:Q.left)-f.rect.left,right:($=="left"?Q.left:Q.right)-f.rect.left,top:ke,bottom:Se};return!Q.left&&!Q.right&&(Ie.bogus=!0),d.options.singleCursorHeightPerLine||(Ie.rtop=Ft,Ie.rbottom=te),Ie}function Ip(d,f){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!fn(d))return f;var v=screen.logicalXDPI/screen.deviceXDPI,m=screen.logicalYDPI/screen.deviceYDPI;return{left:f.left*v,right:f.right*v,top:f.top*m,bottom:f.bottom*m}}function Ed(d){if(d.measure&&(d.measure.cache={},d.measure.heights=null,d.rest))for(var f=0;f<d.rest.length;f++)d.measure.caches[f]={}}function h_(d){d.display.externalMeasure=null,j(d.display.lineMeasure);for(var f=0;f<d.display.view.length;f++)Ed(d.display.view[f])}function kd(d){h_(d),d.display.cachedCharWidth=d.display.cachedTextHeight=d.display.cachedPaddingH=null,d.options.lineWrapping||(d.display.maxLineChanged=!0),d.display.lineNumChars=null}function m_(){return p&&P?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function v_(){return p&&P?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function am(d){var f=0;if(d.widgets)for(var v=0;v<d.widgets.length;++v)d.widgets[v].above&&(f+=ss(d.widgets[v]));return f}function Dp(d,f,v,m,C){if(!C){var S=am(f);v.top+=S,v.bottom+=S}if(m=="line")return v;m||(m="local");var F=wi(f);if(m=="local"?F+=ls(d.display):F-=d.display.viewOffset,m=="page"||m=="window"){var B=d.display.lineSpace.getBoundingClientRect();F+=B.top+(m=="window"?0:v_());var $=B.left+(m=="window"?0:m_());v.left+=$,v.right+=$}return v.top+=F,v.bottom+=F,v}function __(d,f,v){if(v=="div")return f;var m=f.left,C=f.top;if(v=="page")m-=m_(),C-=v_();else if(v=="local"||!v){var S=d.display.sizer.getBoundingClientRect();m+=S.left,C+=S.top}var F=d.display.lineSpace.getBoundingClientRect();return{left:m-F.left,top:C-F.top}}function Lp(d,f,v,m,C){return m||(m=H(d.doc,f.line)),Dp(d,m,Bt(d,m,f.ch,C),v)}function Vo(d,f,v,m,C,S){m=m||H(d.doc,f.line),C||(C=se(d,m));function F(te,ue){var me=Ce(d,C,te,ue?"right":"left",S);return ue?me.left=me.right:me.right=me.left,Dp(d,m,me,v)}var B=it(m,d.doc.direction),$=f.ch,Q=f.sticky;if($>=m.text.length?($=m.text.length,Q="before"):$<=0&&($=0,Q="after"),!B)return F(Q=="before"?$-1:$,Q=="before");function vt(te,ue,me){var we=B[ue],ke=we.level==1;return F(me?te-1:te,ke!=me)}var Ot=dt(B,$,Q),jt=De,Ft=vt($,Ot,Q=="before");return jt!=null&&(Ft.other=vt($,jt,Q!="before")),Ft}function y_(d,f){var v=0;f=fe(d.doc,f),d.options.lineWrapping||(v=tc(d.display)*f.ch);var m=H(d.doc,f.line),C=wi(m)+ls(d.display);return{left:v,right:v,top:C,bottom:C+m.height}}function sm(d,f,v,m,C){var S=Jt(d,f,v);return S.xRel=C,m&&(S.outside=m),S}function lm(d,f,v){var m=d.doc;if(v+=d.display.viewOffset,v<0)return sm(m.first,0,null,-1,-1);var C=ze(m,v),S=m.first+m.size-1;if(C>S)return sm(m.first+m.size-1,H(m,S).text.length,null,1,1);f<0&&(f=0);for(var F=H(m,C);;){var B=b9(d,F,C,f,v),$=Ue(F,B.ch+(B.xRel>0||B.outside>0?1:0));if(!$)return B;var Q=$.find(1);if(Q.line==C)return Q;F=H(m,C=Q.line)}}function b_(d,f,v,m){m-=am(f);var C=f.text.length,S=he(function(F){return Ce(d,v,F-1).bottom<=m},C,0);return C=he(function(F){return Ce(d,v,F).top>m},S,C),{begin:S,end:C}}function C_(d,f,v,m){v||(v=se(d,f));var C=Dp(d,f,Ce(d,v,m),"line").top;return b_(d,f,v,C)}function cm(d,f,v,m){return d.bottom<=v?!1:d.top>v?!0:(m?d.left:d.right)>f}function b9(d,f,v,m,C){C-=wi(f);var S=se(d,f),F=am(f),B=0,$=f.text.length,Q=!0,vt=it(f,d.doc.direction);if(vt){var Ot=(d.options.lineWrapping?x9:C9)(d,f,v,S,vt,m,C);Q=Ot.level!=1,B=Q?Ot.from:Ot.to-1,$=Q?Ot.to:Ot.from-1}var jt=null,Ft=null,te=he(function(qe){var We=Ce(d,S,qe);return We.top+=F,We.bottom+=F,cm(We,m,C,!1)?(We.top<=C&&We.left<=m&&(jt=qe,Ft=We),!0):!1},B,$),ue,me,we=!1;if(Ft){var ke=m-Ft.left<Ft.right-m,Se=ke==Q;te=jt+(Se?0:1),me=Se?"after":"before",ue=ke?Ft.left:Ft.right}else{!Q&&(te==$||te==B)&&te++,me=te==0?"after":te==f.text.length?"before":Ce(d,S,te-(Q?1:0)).bottom+F<=C==Q?"after":"before";var Ie=Vo(d,Jt(v,te,me),"line",f,S);ue=Ie.left,we=C<Ie.top?-1:C>=Ie.bottom?1:0}return te=Lt(f.text,te,1),sm(v,te,me,we,m-ue)}function C9(d,f,v,m,C,S,F){var B=he(function(Ot){var jt=C[Ot],Ft=jt.level!=1;return cm(Vo(d,Jt(v,Ft?jt.to:jt.from,Ft?"before":"after"),"line",f,m),S,F,!0)},0,C.length-1),$=C[B];if(B>0){var Q=$.level!=1,vt=Vo(d,Jt(v,Q?$.from:$.to,Q?"after":"before"),"line",f,m);cm(vt,S,F,!0)&&vt.top>F&&($=C[B-1])}return $}function x9(d,f,v,m,C,S,F){var B=b_(d,f,m,F),$=B.begin,Q=B.end;/\s/.test(f.text.charAt(Q-1))&&Q--;for(var vt=null,Ot=null,jt=0;jt<C.length;jt++){var Ft=C[jt];if(!(Ft.from>=Q||Ft.to<=$)){var te=Ft.level!=1,ue=Ce(d,m,te?Math.min(Q,Ft.to)-1:Math.max($,Ft.from)).right,me=ue<S?S-ue+1e9:ue-S;(!vt||Ot>me)&&(vt=Ft,Ot=me)}}return vt||(vt=C[C.length-1]),vt.from<$&&(vt={from:$,to:vt.to,level:vt.level}),vt.to>Q&&(vt={from:vt.from,to:Q,level:vt.level}),vt}var rl;function Zl(d){if(d.cachedTextHeight!=null)return d.cachedTextHeight;if(rl==null){rl=W("pre",null,"CodeMirror-line-like");for(var f=0;f<49;++f)rl.appendChild(document.createTextNode("x")),rl.appendChild(W("br"));rl.appendChild(document.createTextNode("x"))}D(d.measure,rl);var v=rl.offsetHeight/50;return v>3&&(d.cachedTextHeight=v),j(d.measure),v||1}function tc(d){if(d.cachedCharWidth!=null)return d.cachedCharWidth;var f=W("span","xxxxxxxxxx"),v=W("pre",[f],"CodeMirror-line-like");D(d.measure,v);var m=f.getBoundingClientRect(),C=(m.right-m.left)/10;return C>2&&(d.cachedCharWidth=C),C||10}function dm(d){for(var f=d.display,v={},m={},C=f.gutters.clientLeft,S=f.gutters.firstChild,F=0;S;S=S.nextSibling,++F){var B=d.display.gutterSpecs[F].className;v[B]=S.offsetLeft+S.clientLeft+C,m[B]=S.clientWidth}return{fixedPos:um(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:v,gutterWidth:m,wrapperWidth:f.wrapper.clientWidth}}function um(d){return d.scroller.getBoundingClientRect().left-d.sizer.getBoundingClientRect().left}function x_(d){var f=Zl(d.display),v=d.options.lineWrapping,m=v&&Math.max(5,d.display.scroller.clientWidth/tc(d.display)-3);return function(C){if(Dr(d.doc,C))return 0;var S=0;if(C.widgets)for(var F=0;F<C.widgets.length;F++)C.widgets[F].height&&(S+=C.widgets[F].height);return v?S+(Math.ceil(C.text.length/m)||1)*f:S+f}}function pm(d){var f=d.doc,v=x_(d);f.iter(function(m){var C=v(m);C!=m.height&&Ee(m,C)})}function il(d,f,v,m){var C=d.display;if(!v&&Mt(f).getAttribute("cm-not-content")=="true")return null;var S,F,B=C.lineSpace.getBoundingClientRect();try{S=f.clientX-B.left,F=f.clientY-B.top}catch{return null}var $=lm(d,S,F),Q;if(m&&$.xRel>0&&(Q=H(d.doc,$.line).text).length==$.ch){var vt=_t(Q,Q.length,d.options.tabSize)-Q.length;$=Jt($.line,Math.max(0,Math.round((S-Ap(d.display).left)/tc(d.display))-vt))}return $}function ol(d,f){if(f>=d.display.viewTo||(f-=d.display.viewFrom,f<0))return null;for(var v=d.display.view,m=0;m<v.length;m++)if(f-=v[m].size,f<0)return m}function ui(d,f,v,m){f==null&&(f=d.doc.first),v==null&&(v=d.doc.first+d.doc.size),m||(m=0);var C=d.display;if(m&&v<C.viewTo&&(C.updateLineNumbers==null||C.updateLineNumbers>f)&&(C.updateLineNumbers=f),d.curOp.viewChanged=!0,f>=C.viewTo)Pr&&Pi(d.doc,f)<C.viewTo&&ds(d);else if(v<=C.viewFrom)Pr&&Mi(d.doc,v+m)>C.viewFrom?ds(d):(C.viewFrom+=m,C.viewTo+=m);else if(f<=C.viewFrom&&v>=C.viewTo)ds(d);else if(f<=C.viewFrom){var S=Np(d,v,v+m,1);S?(C.view=C.view.slice(S.index),C.viewFrom=S.lineN,C.viewTo+=m):ds(d)}else if(v>=C.viewTo){var F=Np(d,f,f,-1);F?(C.view=C.view.slice(0,F.index),C.viewTo=F.lineN):ds(d)}else{var B=Np(d,f,f,-1),$=Np(d,v,v+m,1);B&&$?(C.view=C.view.slice(0,B.index).concat(Ql(d,B.lineN,$.lineN)).concat(C.view.slice($.index)),C.viewTo+=m):ds(d)}var Q=C.externalMeasured;Q&&(v<Q.lineN?Q.lineN+=m:f<Q.lineN+Q.size&&(C.externalMeasured=null))}function cs(d,f,v){d.curOp.viewChanged=!0;var m=d.display,C=d.display.externalMeasured;if(C&&f>=C.lineN&&f<C.lineN+C.size&&(m.externalMeasured=null),!(f<m.viewFrom||f>=m.viewTo)){var S=m.view[ol(d,f)];if(S.node!=null){var F=S.changes||(S.changes=[]);ft(F,v)==-1&&F.push(v)}}}function ds(d){d.display.viewFrom=d.display.viewTo=d.doc.first,d.display.view=[],d.display.viewOffset=0}function Np(d,f,v,m){var C=ol(d,f),S,F=d.display.view;if(!Pr||v==d.doc.first+d.doc.size)return{index:C,lineN:v};for(var B=d.display.viewFrom,$=0;$<C;$++)B+=F[$].size;if(B!=f){if(m>0){if(C==F.length-1)return null;S=B+F[C].size-f,C++}else S=B-f;f+=S,v+=S}for(;Pi(d.doc,v)!=v;){if(C==(m<0?0:F.length-1))return null;v+=m*F[C-(m<0?1:0)].size,C+=m}return{index:C,lineN:v}}function O9(d,f,v){var m=d.display,C=m.view;C.length==0||f>=m.viewTo||v<=m.viewFrom?(m.view=Ql(d,f,v),m.viewFrom=f):(m.viewFrom>f?m.view=Ql(d,f,m.viewFrom).concat(m.view):m.viewFrom<f&&(m.view=m.view.slice(ol(d,f))),m.viewFrom=f,m.viewTo<v?m.view=m.view.concat(Ql(d,m.viewTo,v)):m.viewTo>v&&(m.view=m.view.slice(0,ol(d,v)))),m.viewTo=v}function O_(d){for(var f=d.display.view,v=0,m=0;m<f.length;m++){var C=f[m];!C.hidden&&(!C.node||C.changes)&&++v}return v}function Ad(d){d.display.input.showSelection(d.display.input.prepareSelection())}function P_(d,f){f===void 0&&(f=!0);for(var v=d.doc,m={},C=m.cursors=document.createDocumentFragment(),S=m.selection=document.createDocumentFragment(),F=0;F<v.sel.ranges.length;F++)if(!(!f&&F==v.sel.primIndex)){var B=v.sel.ranges[F];if(!(B.from().line>=d.display.viewTo||B.to().line<d.display.viewFrom)){var $=B.empty();($||d.options.showCursorWhenSelecting)&&M_(d,B.head,C),$||P9(d,B,S)}}return m}function M_(d,f,v){var m=Vo(d,f,"div",null,null,!d.options.singleCursorHeightPerLine),C=v.appendChild(W("div","\xA0","CodeMirror-cursor"));if(C.style.left=m.left+"px",C.style.top=m.top+"px",C.style.height=Math.max(0,m.bottom-m.top)*d.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(d.getWrapperElement().className)){var S=Lp(d,f,"div",null,null);S.right-S.left>0&&(C.style.width=S.right-S.left+"px")}if(m.other){var F=v.appendChild(W("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));F.style.display="",F.style.left=m.other.left+"px",F.style.top=m.other.top+"px",F.style.height=(m.other.bottom-m.other.top)*.85+"px"}}function Rp(d,f){return d.top-f.top||d.left-f.left}function P9(d,f,v){var m=d.display,C=d.doc,S=document.createDocumentFragment(),F=Ap(d.display),B=F.left,$=Math.max(m.sizerWidth,Ma(d)-m.sizer.offsetLeft)-F.right,Q=C.direction=="ltr";function vt(Se,Ie,qe,We){Ie<0&&(Ie=0),Ie=Math.round(Ie),We=Math.round(We),S.appendChild(W("div",null,"CodeMirror-selected","position: absolute; left: "+Se+`px;
                             top: `+Ie+"px; width: "+(qe??$-Se)+`px;
                             height: `+(We-Ie)+"px"))}function Ot(Se,Ie,qe){var We=H(C,Se),an=We.text.length,Un,Fr;function ir(vr,gi){return Lp(d,Jt(Se,vr),"div",We,gi)}function Ei(vr,gi,Br){var Sr=C_(d,We,null,vr),_r=gi=="ltr"==(Br=="after")?"left":"right",sr=Br=="after"?Sr.begin:Sr.end-(/\s/.test(We.text.charAt(Sr.end-1))?2:1);return ir(sr,_r)[_r]}var fi=it(We,C.direction);return Ye(fi,Ie||0,qe??an,function(vr,gi,Br,Sr){var _r=Br=="ltr",sr=ir(vr,_r?"left":"right"),hi=ir(gi-1,_r?"right":"left"),fc=Ie==null&&vr==0,ms=qe==null&&gi==an,ti=Sr==0,Qo=!fi||Sr==fi.length-1;if(hi.top-sr.top<=3){var Vr=(Q?fc:ms)&&ti,Vm=(Q?ms:fc)&&Qo,Sa=Vr?B:(_r?sr:hi).left,dl=Vm?$:(_r?hi:sr).right;vt(Sa,sr.top,dl-Sa,sr.bottom)}else{var ul,ai,gc,zm;_r?(ul=Q&&fc&&ti?B:sr.left,ai=Q?$:Ei(vr,Br,"before"),gc=Q?B:Ei(gi,Br,"after"),zm=Q&&ms&&Qo?$:hi.right):(ul=Q?Ei(vr,Br,"before"):B,ai=!Q&&fc&&ti?$:sr.right,gc=!Q&&ms&&Qo?B:hi.left,zm=Q?Ei(gi,Br,"after"):$),vt(ul,sr.top,ai-ul,sr.bottom),sr.bottom<hi.top&&vt(B,sr.bottom,null,hi.top),vt(gc,hi.top,zm-gc,hi.bottom)}(!Un||Rp(sr,Un)<0)&&(Un=sr),Rp(hi,Un)<0&&(Un=hi),(!Fr||Rp(sr,Fr)<0)&&(Fr=sr),Rp(hi,Fr)<0&&(Fr=hi)}),{start:Un,end:Fr}}var jt=f.from(),Ft=f.to();if(jt.line==Ft.line)Ot(jt.line,jt.ch,Ft.ch);else{var te=H(C,jt.line),ue=H(C,Ft.line),me=tn(te)==tn(ue),we=Ot(jt.line,jt.ch,me?te.text.length+1:null).end,ke=Ot(Ft.line,me?0:null,Ft.ch).start;me&&(we.top<ke.top-2?(vt(we.right,we.top,null,we.bottom),vt(B,ke.top,ke.left,ke.bottom)):vt(we.right,we.top,ke.left-we.right,we.bottom)),we.bottom<ke.top&&vt(B,we.bottom,null,ke.top)}v.appendChild(S)}function fm(d){if(d.state.focused){var f=d.display;clearInterval(f.blinker);var v=!0;f.cursorDiv.style.visibility="",d.options.cursorBlinkRate>0?f.blinker=setInterval(function(){d.hasFocus()||ec(d),f.cursorDiv.style.visibility=(v=!v)?"":"hidden"},d.options.cursorBlinkRate):d.options.cursorBlinkRate<0&&(f.cursorDiv.style.visibility="hidden")}}function w_(d){d.hasFocus()||(d.display.input.focus(),d.state.focused||hm(d))}function gm(d){d.state.delayingBlurEvent=!0,setTimeout(function(){d.state.delayingBlurEvent&&(d.state.delayingBlurEvent=!1,d.state.focused&&ec(d))},100)}function hm(d,f){d.state.delayingBlurEvent&&!d.state.draggingText&&(d.state.delayingBlurEvent=!1),d.options.readOnly!="nocursor"&&(d.state.focused||(Pe(d,"focus",d,f),d.state.focused=!0,et(d.display.wrapper,"CodeMirror-focused"),!d.curOp&&d.display.selForContextMenu!=d.doc.sel&&(d.display.input.reset(),c&&setTimeout(function(){return d.display.input.reset(!0)},20)),d.display.input.receivedFocus()),fm(d))}function ec(d,f){d.state.delayingBlurEvent||(d.state.focused&&(Pe(d,"blur",d,f),d.state.focused=!1,N(d.display.wrapper,"CodeMirror-focused")),clearInterval(d.display.blinker),setTimeout(function(){d.state.focused||(d.display.shift=!1)},150))}function Fp(d){for(var f=d.display,v=f.lineDiv.offsetTop,m=Math.max(0,f.scroller.getBoundingClientRect().top),C=f.lineDiv.getBoundingClientRect().top,S=0,F=0;F<f.view.length;F++){var B=f.view[F],$=d.options.lineWrapping,Q=void 0,vt=0;if(!B.hidden){if(C+=B.line.height,s&&l<8){var Ot=B.node.offsetTop+B.node.offsetHeight;Q=Ot-v,v=Ot}else{var jt=B.node.getBoundingClientRect();Q=jt.bottom-jt.top,!$&&B.text.firstChild&&(vt=B.text.firstChild.getBoundingClientRect().right-jt.left-1)}var Ft=B.line.height-Q;if((Ft>.005||Ft<-.005)&&(C<m&&(S-=Ft),Ee(B.line,Q),S_(B.line),B.rest))for(var te=0;te<B.rest.length;te++)S_(B.rest[te]);if(vt>d.display.sizerWidth){var ue=Math.ceil(vt/tc(d.display));ue>d.display.maxLineLength&&(d.display.maxLineLength=ue,d.display.maxLine=B.line,d.display.maxLineChanged=!0)}}}Math.abs(S)>2&&(f.scroller.scrollTop+=S)}function S_(d){if(d.widgets)for(var f=0;f<d.widgets.length;++f){var v=d.widgets[f],m=v.node.parentNode;m&&(v.height=m.offsetHeight)}}function Vp(d,f,v){var m=v&&v.top!=null?Math.max(0,v.top):d.scroller.scrollTop;m=Math.floor(m-ls(d));var C=v&&v.bottom!=null?v.bottom:m+d.wrapper.clientHeight,S=ze(f,m),F=ze(f,C);if(v&&v.ensure){var B=v.ensure.from.line,$=v.ensure.to.line;B<S?(S=B,F=ze(f,wi(H(f,B))+d.wrapper.clientHeight)):Math.min($,f.lastLine())>=F&&(S=ze(f,wi(H(f,$))-d.wrapper.clientHeight),F=$)}return{from:S,to:Math.max(F,S+1)}}function M9(d,f){if(!ve(d,"scrollCursorIntoView")){var v=d.display,m=v.sizer.getBoundingClientRect(),C=null;if(f.top+m.top<0?C=!0:f.bottom+m.top>(window.innerHeight||document.documentElement.clientHeight)&&(C=!1),C!=null&&!_){var S=W("div","\u200B",null,`position: absolute;
                         top: `+(f.top-v.viewOffset-ls(d.display))+`px;
                         height: `+(f.bottom-f.top+Si(d)+v.barHeight)+`px;
                         left: `+f.left+"px; width: "+Math.max(2,f.right-f.left)+"px;");d.display.lineSpace.appendChild(S),S.scrollIntoView(C),d.display.lineSpace.removeChild(S)}}}function w9(d,f,v,m){m==null&&(m=0);var C;!d.options.lineWrapping&&f==v&&(v=f.sticky=="before"?Jt(f.line,f.ch+1,"before"):f,f=f.ch?Jt(f.line,f.sticky=="before"?f.ch-1:f.ch,"after"):f);for(var S=0;S<5;S++){var F=!1,B=Vo(d,f),$=!v||v==f?B:Vo(d,v);C={left:Math.min(B.left,$.left),top:Math.min(B.top,$.top)-m,right:Math.max(B.left,$.left),bottom:Math.max(B.bottom,$.bottom)+m};var Q=mm(d,C),vt=d.doc.scrollTop,Ot=d.doc.scrollLeft;if(Q.scrollTop!=null&&(Dd(d,Q.scrollTop),Math.abs(d.doc.scrollTop-vt)>1&&(F=!0)),Q.scrollLeft!=null&&(al(d,Q.scrollLeft),Math.abs(d.doc.scrollLeft-Ot)>1&&(F=!0)),!F)break}return C}function S9(d,f){var v=mm(d,f);v.scrollTop!=null&&Dd(d,v.scrollTop),v.scrollLeft!=null&&al(d,v.scrollLeft)}function mm(d,f){var v=d.display,m=Zl(d.display);f.top<0&&(f.top=0);var C=d.curOp&&d.curOp.scrollTop!=null?d.curOp.scrollTop:v.scroller.scrollTop,S=X(d),F={};f.bottom-f.top>S&&(f.bottom=f.top+S);var B=d.doc.height+nl(v),$=f.top<m,Q=f.bottom>B-m;if(f.top<C)F.scrollTop=$?0:f.top;else if(f.bottom>C+S){var vt=Math.min(f.top,(Q?B:f.bottom)-S);vt!=C&&(F.scrollTop=vt)}var Ot=d.options.fixedGutter?0:v.gutters.offsetWidth,jt=d.curOp&&d.curOp.scrollLeft!=null?d.curOp.scrollLeft:v.scroller.scrollLeft-Ot,Ft=Ma(d)-v.gutters.offsetWidth,te=f.right-f.left>Ft;return te&&(f.right=f.left+Ft),f.left<10?F.scrollLeft=0:f.left<jt?F.scrollLeft=Math.max(0,f.left+Ot-(te?0:10)):f.right>Ft+jt-3&&(F.scrollLeft=f.right+(te?0:10)-Ft),F}function vm(d,f){f!=null&&(zp(d),d.curOp.scrollTop=(d.curOp.scrollTop==null?d.doc.scrollTop:d.curOp.scrollTop)+f)}function nc(d){zp(d);var f=d.getCursor();d.curOp.scrollToPos={from:f,to:f,margin:d.options.cursorScrollMargin}}function Id(d,f,v){(f!=null||v!=null)&&zp(d),f!=null&&(d.curOp.scrollLeft=f),v!=null&&(d.curOp.scrollTop=v)}function T9(d,f){zp(d),d.curOp.scrollToPos=f}function zp(d){var f=d.curOp.scrollToPos;if(f){d.curOp.scrollToPos=null;var v=y_(d,f.from),m=y_(d,f.to);T_(d,v,m,f.margin)}}function T_(d,f,v,m){var C=mm(d,{left:Math.min(f.left,v.left),top:Math.min(f.top,v.top)-m,right:Math.max(f.right,v.right),bottom:Math.max(f.bottom,v.bottom)+m});Id(d,C.scrollLeft,C.scrollTop)}function Dd(d,f){Math.abs(d.doc.scrollTop-f)<2||(e||ym(d,{top:f}),E_(d,f,!0),e&&ym(d),Rd(d,100))}function E_(d,f,v){f=Math.max(0,Math.min(d.display.scroller.scrollHeight-d.display.scroller.clientHeight,f)),!(d.display.scroller.scrollTop==f&&!v)&&(d.doc.scrollTop=f,d.display.scrollbars.setScrollTop(f),d.display.scroller.scrollTop!=f&&(d.display.scroller.scrollTop=f))}function al(d,f,v,m){f=Math.max(0,Math.min(f,d.display.scroller.scrollWidth-d.display.scroller.clientWidth)),!((v?f==d.doc.scrollLeft:Math.abs(d.doc.scrollLeft-f)<2)&&!m)&&(d.doc.scrollLeft=f,L_(d),d.display.scroller.scrollLeft!=f&&(d.display.scroller.scrollLeft=f),d.display.scrollbars.setScrollLeft(f))}function Ld(d){var f=d.display,v=f.gutters.offsetWidth,m=Math.round(d.doc.height+nl(d.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:d.options.fixedGutter?v:0,docHeight:m,scrollHeight:m+Si(d)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:v}}var sl=function(d,f,v){this.cm=v;var m=this.vert=W("div",[W("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),C=this.horiz=W("div",[W("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");m.tabIndex=C.tabIndex=-1,d(m),d(C),Vt(m,"scroll",function(){m.clientHeight&&f(m.scrollTop,"vertical")}),Vt(C,"scroll",function(){C.clientWidth&&f(C.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&l<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};sl.prototype.update=function(d){var f=d.scrollWidth>d.clientWidth+1,v=d.scrollHeight>d.clientHeight+1,m=d.nativeBarWidth;if(v){this.vert.style.display="block",this.vert.style.bottom=f?m+"px":"0";var C=d.viewHeight-(f?m:0);this.vert.firstChild.style.height=Math.max(0,d.scrollHeight-d.clientHeight+C)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(f){this.horiz.style.display="block",this.horiz.style.right=v?m+"px":"0",this.horiz.style.left=d.barLeft+"px";var S=d.viewWidth-d.barLeft-(v?m:0);this.horiz.firstChild.style.width=Math.max(0,d.scrollWidth-d.clientWidth+S)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&d.clientHeight>0&&(m==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:v?m:0,bottom:f?m:0}},sl.prototype.setScrollLeft=function(d){this.horiz.scrollLeft!=d&&(this.horiz.scrollLeft=d),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},sl.prototype.setScrollTop=function(d){this.vert.scrollTop!=d&&(this.vert.scrollTop=d),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},sl.prototype.zeroWidthHack=function(){var d=T&&!y?"12px":"18px";this.horiz.style.height=this.vert.style.width=d,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new rt,this.disableVert=new rt},sl.prototype.enableZeroWidthBar=function(d,f,v){d.style.pointerEvents="auto";function m(){var C=d.getBoundingClientRect(),S=v=="vert"?document.elementFromPoint(C.right-1,(C.top+C.bottom)/2):document.elementFromPoint((C.right+C.left)/2,C.bottom-1);S!=d?d.style.pointerEvents="none":f.set(1e3,m)}f.set(1e3,m)},sl.prototype.clear=function(){var d=this.horiz.parentNode;d.removeChild(this.horiz),d.removeChild(this.vert)};var Nd=function(){};Nd.prototype.update=function(){return{bottom:0,right:0}},Nd.prototype.setScrollLeft=function(){},Nd.prototype.setScrollTop=function(){},Nd.prototype.clear=function(){};function rc(d,f){f||(f=Ld(d));var v=d.display.barWidth,m=d.display.barHeight;k_(d,f);for(var C=0;C<4&&v!=d.display.barWidth||m!=d.display.barHeight;C++)v!=d.display.barWidth&&d.options.lineWrapping&&Fp(d),k_(d,Ld(d)),v=d.display.barWidth,m=d.display.barHeight}function k_(d,f){var v=d.display,m=v.scrollbars.update(f);v.sizer.style.paddingRight=(v.barWidth=m.right)+"px",v.sizer.style.paddingBottom=(v.barHeight=m.bottom)+"px",v.heightForcer.style.borderBottom=m.bottom+"px solid transparent",m.right&&m.bottom?(v.scrollbarFiller.style.display="block",v.scrollbarFiller.style.height=m.bottom+"px",v.scrollbarFiller.style.width=m.right+"px"):v.scrollbarFiller.style.display="",m.bottom&&d.options.coverGutterNextToScrollbar&&d.options.fixedGutter?(v.gutterFiller.style.display="block",v.gutterFiller.style.height=m.bottom+"px",v.gutterFiller.style.width=f.gutterWidth+"px"):v.gutterFiller.style.display=""}var A_={native:sl,null:Nd};function I_(d){d.display.scrollbars&&(d.display.scrollbars.clear(),d.display.scrollbars.addClass&&N(d.display.wrapper,d.display.scrollbars.addClass)),d.display.scrollbars=new A_[d.options.scrollbarStyle](function(f){d.display.wrapper.insertBefore(f,d.display.scrollbarFiller),Vt(f,"mousedown",function(){d.state.focused&&setTimeout(function(){return d.display.input.focus()},0)}),f.setAttribute("cm-not-content","true")},function(f,v){v=="horizontal"?al(d,f):Dd(d,f)},d),d.display.scrollbars.addClass&&et(d.display.wrapper,d.display.scrollbars.addClass)}var E9=0;function ll(d){d.curOp={cm:d,viewChanged:!1,startHeight:d.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++E9,markArrays:null},wp(d.curOp)}function cl(d){var f=d.curOp;f&&Md(f,function(v){for(var m=0;m<v.ops.length;m++)v.ops[m].cm.curOp=null;k9(v)})}function k9(d){for(var f=d.ops,v=0;v<f.length;v++)A9(f[v]);for(var m=0;m<f.length;m++)I9(f[m]);for(var C=0;C<f.length;C++)D9(f[C]);for(var S=0;S<f.length;S++)L9(f[S]);for(var F=0;F<f.length;F++)N9(f[F])}function A9(d){var f=d.cm,v=f.display;F9(f),d.updateMaxLine&&es(f),d.mustUpdate=d.viewChanged||d.forceUpdate||d.scrollTop!=null||d.scrollToPos&&(d.scrollToPos.from.line<v.viewFrom||d.scrollToPos.to.line>=v.viewTo)||v.maxLineChanged&&f.options.lineWrapping,d.update=d.mustUpdate&&new jp(f,d.mustUpdate&&{top:d.scrollTop,ensure:d.scrollToPos},d.forceUpdate)}function I9(d){d.updatedDisplay=d.mustUpdate&&_m(d.cm,d.update)}function D9(d){var f=d.cm,v=f.display;d.updatedDisplay&&Fp(f),d.barMeasure=Ld(f),v.maxLineChanged&&!f.options.lineWrapping&&(d.adjustWidthTo=Bt(f,v.maxLine,v.maxLine.text.length).left+3,f.display.sizerWidth=d.adjustWidthTo,d.barMeasure.scrollWidth=Math.max(v.scroller.clientWidth,v.sizer.offsetLeft+d.adjustWidthTo+Si(f)+f.display.barWidth),d.maxScrollLeft=Math.max(0,v.sizer.offsetLeft+d.adjustWidthTo-Ma(f))),(d.updatedDisplay||d.selectionChanged)&&(d.preparedSelection=v.input.prepareSelection())}function L9(d){var f=d.cm;d.adjustWidthTo!=null&&(f.display.sizer.style.minWidth=d.adjustWidthTo+"px",d.maxScrollLeft<f.doc.scrollLeft&&al(f,Math.min(f.display.scroller.scrollLeft,d.maxScrollLeft),!0),f.display.maxLineChanged=!1);var v=d.focus&&d.focus==Z();d.preparedSelection&&f.display.input.showSelection(d.preparedSelection,v),(d.updatedDisplay||d.startHeight!=f.doc.height)&&rc(f,d.barMeasure),d.updatedDisplay&&Cm(f,d.barMeasure),d.selectionChanged&&fm(f),f.state.focused&&d.updateInput&&f.display.input.reset(d.typing),v&&w_(d.cm)}function N9(d){var f=d.cm,v=f.display,m=f.doc;if(d.updatedDisplay&&D_(f,d.update),v.wheelStartX!=null&&(d.scrollTop!=null||d.scrollLeft!=null||d.scrollToPos)&&(v.wheelStartX=v.wheelStartY=null),d.scrollTop!=null&&E_(f,d.scrollTop,d.forceScroll),d.scrollLeft!=null&&al(f,d.scrollLeft,!0,!0),d.scrollToPos){var C=w9(f,fe(m,d.scrollToPos.from),fe(m,d.scrollToPos.to),d.scrollToPos.margin);M9(f,C)}var S=d.maybeHiddenMarkers,F=d.maybeUnhiddenMarkers;if(S)for(var B=0;B<S.length;++B)S[B].lines.length||Pe(S[B],"hide");if(F)for(var $=0;$<F.length;++$)F[$].lines.length&&Pe(F[$],"unhide");v.wrapper.offsetHeight&&(m.scrollTop=f.display.scroller.scrollTop),d.changeObjs&&Pe(f,"changes",f,d.changeObjs),d.update&&d.update.finish()}function Ti(d,f){if(d.curOp)return f();ll(d);try{return f()}finally{cl(d)}}function Nr(d,f){return function(){if(d.curOp)return f.apply(d,arguments);ll(d);try{return f.apply(d,arguments)}finally{cl(d)}}}function oi(d){return function(){if(this.curOp)return d.apply(this,arguments);ll(this);try{return d.apply(this,arguments)}finally{cl(this)}}}function Rr(d){return function(){var f=this.cm;if(!f||f.curOp)return d.apply(this,arguments);ll(f);try{return d.apply(this,arguments)}finally{cl(f)}}}function Rd(d,f){d.doc.highlightFrontier<d.display.viewTo&&d.state.highlight.set(f,Gt(R9,d))}function R9(d){var f=d.doc;if(!(f.highlightFrontier>=d.display.viewTo)){var v=+new Date+d.options.workTime,m=di(d,f.highlightFrontier),C=[];f.iter(m.line,Math.min(f.first+f.size,d.display.viewTo+500),function(S){if(m.line>=d.display.viewFrom){var F=S.styles,B=S.text.length>d.options.maxHighlightLength?Dn(f.mode,m.state):null,$=Ya(d,S,m,!0);B&&(m.state=B),S.styles=$.styles;var Q=S.styleClasses,vt=$.classes;vt?S.styleClasses=vt:Q&&(S.styleClasses=null);for(var Ot=!F||F.length!=S.styles.length||Q!=vt&&(!Q||!vt||Q.bgClass!=vt.bgClass||Q.textClass!=vt.textClass),jt=0;!Ot&&jt<F.length;++jt)Ot=F[jt]!=S.styles[jt];Ot&&C.push(m.line),S.stateAfter=m.save(),m.nextLine()}else S.text.length<=d.options.maxHighlightLength&&Yo(d,S.text,m),S.stateAfter=m.line%5==0?m.save():null,m.nextLine();if(+new Date>v)return Rd(d,d.options.workDelay),!0}),f.highlightFrontier=m.line,f.modeFrontier=Math.max(f.modeFrontier,m.line),C.length&&Ti(d,function(){for(var S=0;S<C.length;S++)cs(d,C[S],"text")})}}var jp=function(d,f,v){var m=d.display;this.viewport=f,this.visible=Vp(m,d.doc,f),this.editorIsHidden=!m.wrapper.offsetWidth,this.wrapperHeight=m.wrapper.clientHeight,this.wrapperWidth=m.wrapper.clientWidth,this.oldDisplayWidth=Ma(d),this.force=v,this.dims=dm(d),this.events=[]};jp.prototype.signal=function(d,f){Qe(d,f)&&this.events.push(arguments)},jp.prototype.finish=function(){for(var d=0;d<this.events.length;d++)Pe.apply(null,this.events[d])};function F9(d){var f=d.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=Si(d)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=Si(d)+"px",f.scrollbarsClipped=!0)}function V9(d){if(d.hasFocus())return null;var f=Z();if(!f||!I(d.display.lineDiv,f))return null;var v={activeElt:f};if(window.getSelection){var m=window.getSelection();m.anchorNode&&m.extend&&I(d.display.lineDiv,m.anchorNode)&&(v.anchorNode=m.anchorNode,v.anchorOffset=m.anchorOffset,v.focusNode=m.focusNode,v.focusOffset=m.focusOffset)}return v}function z9(d){if(!(!d||!d.activeElt||d.activeElt==Z())&&(d.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(d.activeElt.nodeName)&&d.anchorNode&&I(document.body,d.anchorNode)&&I(document.body,d.focusNode))){var f=window.getSelection(),v=document.createRange();v.setEnd(d.anchorNode,d.anchorOffset),v.collapse(!1),f.removeAllRanges(),f.addRange(v),f.extend(d.focusNode,d.focusOffset)}}function _m(d,f){var v=d.display,m=d.doc;if(f.editorIsHidden)return ds(d),!1;if(!f.force&&f.visible.from>=v.viewFrom&&f.visible.to<=v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>=v.viewTo)&&v.renderedView==v.view&&O_(d)==0)return!1;N_(d)&&(ds(d),f.dims=dm(d));var C=m.first+m.size,S=Math.max(f.visible.from-d.options.viewportMargin,m.first),F=Math.min(C,f.visible.to+d.options.viewportMargin);v.viewFrom<S&&S-v.viewFrom<20&&(S=Math.max(m.first,v.viewFrom)),v.viewTo>F&&v.viewTo-F<20&&(F=Math.min(C,v.viewTo)),Pr&&(S=Pi(d.doc,S),F=Mi(d.doc,F));var B=S!=v.viewFrom||F!=v.viewTo||v.lastWrapHeight!=f.wrapperHeight||v.lastWrapWidth!=f.wrapperWidth;O9(d,S,F),v.viewOffset=wi(H(d.doc,v.viewFrom)),d.display.mover.style.top=v.viewOffset+"px";var $=O_(d);if(!B&&$==0&&!f.force&&v.renderedView==v.view&&(v.updateLineNumbers==null||v.updateLineNumbers>=v.viewTo))return!1;var Q=V9(d);return $>4&&(v.lineDiv.style.display="none"),j9(d,v.updateLineNumbers,f.dims),$>4&&(v.lineDiv.style.display=""),v.renderedView=v.view,z9(Q),j(v.cursorDiv),j(v.selectionDiv),v.gutters.style.height=v.sizer.style.minHeight=0,B&&(v.lastWrapHeight=f.wrapperHeight,v.lastWrapWidth=f.wrapperWidth,Rd(d,400)),v.updateLineNumbers=null,!0}function D_(d,f){for(var v=f.viewport,m=!0;;m=!1){if(!m||!d.options.lineWrapping||f.oldDisplayWidth==Ma(d)){if(v&&v.top!=null&&(v={top:Math.min(d.doc.height+nl(d.display)-X(d),v.top)}),f.visible=Vp(d.display,d.doc,v),f.visible.from>=d.display.viewFrom&&f.visible.to<=d.display.viewTo)break}else m&&(f.visible=Vp(d.display,d.doc,v));if(!_m(d,f))break;Fp(d);var C=Ld(d);Ad(d),rc(d,C),Cm(d,C),f.force=!1}f.signal(d,"update",d),(d.display.viewFrom!=d.display.reportedViewFrom||d.display.viewTo!=d.display.reportedViewTo)&&(f.signal(d,"viewportChange",d,d.display.viewFrom,d.display.viewTo),d.display.reportedViewFrom=d.display.viewFrom,d.display.reportedViewTo=d.display.viewTo)}function ym(d,f){var v=new jp(d,f);if(_m(d,v)){Fp(d),D_(d,v);var m=Ld(d);Ad(d),rc(d,m),Cm(d,m),v.finish()}}function j9(d,f,v){var m=d.display,C=d.options.lineNumbers,S=m.lineDiv,F=S.firstChild;function B(te){var ue=te.nextSibling;return c&&T&&d.display.currentWheelTarget==te?te.style.display="none":te.parentNode.removeChild(te),ue}for(var $=m.view,Q=m.viewFrom,vt=0;vt<$.length;vt++){var Ot=$[vt];if(!Ot.hidden)if(!Ot.node||Ot.node.parentNode!=S){var jt=Ep(d,Ot,Q,v);S.insertBefore(jt,F)}else{for(;F!=Ot.node;)F=B(F);var Ft=C&&f!=null&&f<=Q&&Ot.lineNumber;Ot.changes&&(ft(Ot.changes,"gutter")>-1&&(Ft=!1),Xo(d,Ot,Q,v)),Ft&&(j(Ot.lineNumber),Ot.lineNumber.appendChild(document.createTextNode(Y(d.options,Q)))),F=Ot.node.nextSibling}Q+=Ot.size}for(;F;)F=B(F)}function bm(d){var f=d.gutters.offsetWidth;d.sizer.style.marginLeft=f+"px",ar(d,"gutterChanged",d)}function Cm(d,f){d.display.sizer.style.minHeight=f.docHeight+"px",d.display.heightForcer.style.top=f.docHeight+"px",d.display.gutters.style.height=f.docHeight+d.display.barHeight+Si(d)+"px"}function L_(d){var f=d.display,v=f.view;if(!(!f.alignWidgets&&(!f.gutters.firstChild||!d.options.fixedGutter))){for(var m=um(f)-f.scroller.scrollLeft+d.doc.scrollLeft,C=f.gutters.offsetWidth,S=m+"px",F=0;F<v.length;F++)if(!v[F].hidden){d.options.fixedGutter&&(v[F].gutter&&(v[F].gutter.style.left=S),v[F].gutterBackground&&(v[F].gutterBackground.style.left=S));var B=v[F].alignable;if(B)for(var $=0;$<B.length;$++)B[$].style.left=S}d.options.fixedGutter&&(f.gutters.style.left=m+C+"px")}}function N_(d){if(!d.options.lineNumbers)return!1;var f=d.doc,v=Y(d.options,f.first+f.size-1),m=d.display;if(v.length!=m.lineNumChars){var C=m.measure.appendChild(W("div",[W("div",v)],"CodeMirror-linenumber CodeMirror-gutter-elt")),S=C.firstChild.offsetWidth,F=C.offsetWidth-S;return m.lineGutter.style.width="",m.lineNumInnerWidth=Math.max(S,m.lineGutter.offsetWidth-F)+1,m.lineNumWidth=m.lineNumInnerWidth+F,m.lineNumChars=m.lineNumInnerWidth?v.length:-1,m.lineGutter.style.width=m.lineNumWidth+"px",bm(d.display),!0}return!1}function xm(d,f){for(var v=[],m=!1,C=0;C<d.length;C++){var S=d[C],F=null;if(typeof S!="string"&&(F=S.style,S=S.className),S=="CodeMirror-linenumbers")if(f)m=!0;else continue;v.push({className:S,style:F})}return f&&!m&&v.push({className:"CodeMirror-linenumbers",style:null}),v}function R_(d){var f=d.gutters,v=d.gutterSpecs;j(f),d.lineGutter=null;for(var m=0;m<v.length;++m){var C=v[m],S=C.className,F=C.style,B=f.appendChild(W("div",null,"CodeMirror-gutter "+S));F&&(B.style.cssText=F),S=="CodeMirror-linenumbers"&&(d.lineGutter=B,B.style.width=(d.lineNumWidth||1)+"px")}f.style.display=v.length?"":"none",bm(d)}function Fd(d){R_(d.display),ui(d),L_(d)}function H9(d,f,v,m){var C=this;this.input=v,C.scrollbarFiller=W("div",null,"CodeMirror-scrollbar-filler"),C.scrollbarFiller.setAttribute("cm-not-content","true"),C.gutterFiller=W("div",null,"CodeMirror-gutter-filler"),C.gutterFiller.setAttribute("cm-not-content","true"),C.lineDiv=q("div",null,"CodeMirror-code"),C.selectionDiv=W("div",null,null,"position: relative; z-index: 1"),C.cursorDiv=W("div",null,"CodeMirror-cursors"),C.measure=W("div",null,"CodeMirror-measure"),C.lineMeasure=W("div",null,"CodeMirror-measure"),C.lineSpace=q("div",[C.measure,C.lineMeasure,C.selectionDiv,C.cursorDiv,C.lineDiv],null,"position: relative; outline: none");var S=q("div",[C.lineSpace],"CodeMirror-lines");C.mover=W("div",[S],null,"position: relative"),C.sizer=W("div",[C.mover],"CodeMirror-sizer"),C.sizerWidth=null,C.heightForcer=W("div",null,null,"position: absolute; height: "+wt+"px; width: 1px;"),C.gutters=W("div",null,"CodeMirror-gutters"),C.lineGutter=null,C.scroller=W("div",[C.sizer,C.heightForcer,C.gutters],"CodeMirror-scroll"),C.scroller.setAttribute("tabIndex","-1"),C.wrapper=W("div",[C.scrollbarFiller,C.gutterFiller,C.scroller],"CodeMirror"),C.wrapper.setAttribute("translate","no"),s&&l<8&&(C.gutters.style.zIndex=-1,C.scroller.style.paddingRight=0),!c&&!(e&&w)&&(C.scroller.draggable=!0),d&&(d.appendChild?d.appendChild(C.wrapper):d(C.wrapper)),C.viewFrom=C.viewTo=f.first,C.reportedViewFrom=C.reportedViewTo=f.first,C.view=[],C.renderedView=null,C.externalMeasured=null,C.viewOffset=0,C.lastWrapHeight=C.lastWrapWidth=0,C.updateLineNumbers=null,C.nativeBarWidth=C.barHeight=C.barWidth=0,C.scrollbarsClipped=!1,C.lineNumWidth=C.lineNumInnerWidth=C.lineNumChars=null,C.alignWidgets=!1,C.cachedCharWidth=C.cachedTextHeight=C.cachedPaddingH=null,C.maxLine=null,C.maxLineLength=0,C.maxLineChanged=!1,C.wheelDX=C.wheelDY=C.wheelStartX=C.wheelStartY=null,C.shift=!1,C.selForContextMenu=null,C.activeTouch=null,C.gutterSpecs=xm(m.gutters,m.lineNumbers),R_(C),v.init(C)}var Hp=0,Zi=null;s?Zi=-.53:e?Zi=15:p?Zi=-.7:h&&(Zi=-.3333333333333333);function F_(d){var f=d.wheelDeltaX,v=d.wheelDeltaY;return f==null&&d.detail&&d.axis==d.HORIZONTAL_AXIS&&(f=d.detail),v==null&&d.detail&&d.axis==d.VERTICAL_AXIS?v=d.detail:v==null&&(v=d.wheelDelta),{x:f,y:v}}function B9(d){var f=F_(d);return f.x*=Zi,f.y*=Zi,f}function V_(d,f){var v=F_(f),m=v.x,C=v.y,S=d.display,F=S.scroller,B=F.scrollWidth>F.clientWidth,$=F.scrollHeight>F.clientHeight;if(m&&B||C&&$){if(C&&T&&c){t:for(var Q=f.target,vt=S.view;Q!=F;Q=Q.parentNode)for(var Ot=0;Ot<vt.length;Ot++)if(vt[Ot].node==Q){d.display.currentWheelTarget=Q;break t}}if(m&&!e&&!g&&Zi!=null){C&&$&&Dd(d,Math.max(0,F.scrollTop+C*Zi)),al(d,Math.max(0,F.scrollLeft+m*Zi)),(!C||C&&$)&&Ze(f),S.wheelStartX=null;return}if(C&&Zi!=null){var jt=C*Zi,Ft=d.doc.scrollTop,te=Ft+S.wrapper.clientHeight;jt<0?Ft=Math.max(0,Ft+jt-50):te=Math.min(d.doc.height,te+jt+50),ym(d,{top:Ft,bottom:te})}Hp<20&&(S.wheelStartX==null?(S.wheelStartX=F.scrollLeft,S.wheelStartY=F.scrollTop,S.wheelDX=m,S.wheelDY=C,setTimeout(function(){if(S.wheelStartX!=null){var ue=F.scrollLeft-S.wheelStartX,me=F.scrollTop-S.wheelStartY,we=me&&S.wheelDY&&me/S.wheelDY||ue&&S.wheelDX&&ue/S.wheelDX;S.wheelStartX=S.wheelStartY=null,we&&(Zi=(Zi*Hp+we)/(Hp+1),++Hp)}},200)):(S.wheelDX+=m,S.wheelDY+=C))}}var to=function(d,f){this.ranges=d,this.primIndex=f};to.prototype.primary=function(){return this.ranges[this.primIndex]},to.prototype.equals=function(d){if(d==this)return!0;if(d.primIndex!=this.primIndex||d.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var v=this.ranges[f],m=d.ranges[f];if(!Ln(v.anchor,m.anchor)||!Ln(v.head,m.head))return!1}return!0},to.prototype.deepCopy=function(){for(var d=[],f=0;f<this.ranges.length;f++)d[f]=new An(nt(this.ranges[f].anchor),nt(this.ranges[f].head));return new to(d,this.primIndex)},to.prototype.somethingSelected=function(){for(var d=0;d<this.ranges.length;d++)if(!this.ranges[d].empty())return!0;return!1},to.prototype.contains=function(d,f){f||(f=d);for(var v=0;v<this.ranges.length;v++){var m=this.ranges[v];if(Ne(f,m.from())>=0&&Ne(d,m.to())<=0)return v}return-1};var An=function(d,f){this.anchor=d,this.head=f};An.prototype.from=function(){return Zt(this.anchor,this.head)},An.prototype.to=function(){return bt(this.anchor,this.head)},An.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function zo(d,f,v){var m=d&&d.options.selectionsMayTouch,C=f[v];f.sort(function(jt,Ft){return Ne(jt.from(),Ft.from())}),v=ft(f,C);for(var S=1;S<f.length;S++){var F=f[S],B=f[S-1],$=Ne(B.to(),F.from());if(m&&!F.empty()?$>0:$>=0){var Q=Zt(B.from(),F.from()),vt=bt(B.to(),F.to()),Ot=B.empty()?F.from()==F.head:B.from()==B.head;S<=v&&--v,f.splice(--S,2,new An(Ot?vt:Q,Ot?Q:vt))}}return new to(f,v)}function us(d,f){return new to([new An(d,f||d)],0)}function ps(d){return d.text?Jt(d.from.line+d.text.length-1,Ct(d.text).length+(d.text.length==1?d.from.ch:0)):d.to}function z_(d,f){if(Ne(d,f.from)<0)return d;if(Ne(d,f.to)<=0)return ps(f);var v=d.line+f.text.length-(f.to.line-f.from.line)-1,m=d.ch;return d.line==f.to.line&&(m+=ps(f).ch-f.to.ch),Jt(v,m)}function Om(d,f){for(var v=[],m=0;m<d.sel.ranges.length;m++){var C=d.sel.ranges[m];v.push(new An(z_(C.anchor,f),z_(C.head,f)))}return zo(d.cm,v,d.sel.primIndex)}function j_(d,f,v){return d.line==f.line?Jt(v.line,d.ch-f.ch+v.ch):Jt(v.line+(d.line-f.line),d.ch)}function U9(d,f,v){for(var m=[],C=Jt(d.first,0),S=C,F=0;F<f.length;F++){var B=f[F],$=j_(B.from,C,S),Q=j_(ps(B),C,S);if(C=B.to,S=Q,v=="around"){var vt=d.sel.ranges[F],Ot=Ne(vt.head,vt.anchor)<0;m[F]=new An(Ot?Q:$,Ot?$:Q)}else m[F]=new An($,$)}return new to(m,d.sel.primIndex)}function Pm(d){d.doc.mode=je(d.options,d.doc.modeOption),Vd(d)}function Vd(d){d.doc.iter(function(f){f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null)}),d.doc.modeFrontier=d.doc.highlightFrontier=d.doc.first,Rd(d,100),d.state.modeGen++,d.curOp&&ui(d)}function H_(d,f){return f.from.ch==0&&f.to.ch==0&&Ct(f.text)==""&&(!d.cm||d.cm.options.wholeLineUpdateBefore)}function Mm(d,f,v,m){function C(ke){return v?v[ke]:null}function S(ke,Se,Ie){bp(ke,Se,Ie,m),ar(ke,"change",ke,f)}function F(ke,Se){for(var Ie=[],qe=ke;qe<Se;++qe)Ie.push(new Lr(Q[qe],C(qe),m));return Ie}var B=f.from,$=f.to,Q=f.text,vt=H(d,B.line),Ot=H(d,$.line),jt=Ct(Q),Ft=C(Q.length-1),te=$.line-B.line;if(f.full)d.insert(0,F(0,Q.length)),d.remove(Q.length,d.size-Q.length);else if(H_(d,f)){var ue=F(0,Q.length-1);S(Ot,Ot.text,Ft),te&&d.remove(B.line,te),ue.length&&d.insert(B.line,ue)}else if(vt==Ot)if(Q.length==1)S(vt,vt.text.slice(0,B.ch)+jt+vt.text.slice($.ch),Ft);else{var me=F(1,Q.length-1);me.push(new Lr(jt+vt.text.slice($.ch),Ft,m)),S(vt,vt.text.slice(0,B.ch)+Q[0],C(0)),d.insert(B.line+1,me)}else if(Q.length==1)S(vt,vt.text.slice(0,B.ch)+Q[0]+Ot.text.slice($.ch),C(0)),d.remove(B.line+1,te);else{S(vt,vt.text.slice(0,B.ch)+Q[0],C(0)),S(Ot,jt+Ot.text.slice($.ch),Ft);var we=F(1,Q.length-1);te>1&&d.remove(B.line+1,te-1),d.insert(B.line+1,we)}ar(d,"change",d,f)}function fs(d,f,v){function m(C,S,F){if(C.linked)for(var B=0;B<C.linked.length;++B){var $=C.linked[B];if($.doc!=S){var Q=F&&$.sharedHist;v&&!Q||(f($.doc,Q),m($.doc,C,Q))}}}m(d,null,!0)}function B_(d,f){if(f.cm)throw new Error("This document is already in use.");d.doc=f,f.cm=d,pm(d),Pm(d),U_(d),d.options.direction=f.direction,d.options.lineWrapping||es(d),d.options.mode=f.modeOption,ui(d)}function U_(d){(d.doc.direction=="rtl"?et:N)(d.display.lineDiv,"CodeMirror-rtl")}function W9(d){Ti(d,function(){U_(d),ui(d)})}function Bp(d){this.done=[],this.undone=[],this.undoDepth=d?d.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=d?d.maxGeneration:1}function wm(d,f){var v={from:nt(f.from),to:ps(f),text:gt(d,f.from,f.to)};return K_(d,v,f.from.line,f.to.line+1),fs(d,function(m){return K_(m,v,f.from.line,f.to.line+1)},!0),v}function W_(d){for(;d.length;){var f=Ct(d);if(f.ranges)d.pop();else break}}function G9(d,f){if(f)return W_(d.done),Ct(d.done);if(d.done.length&&!Ct(d.done).ranges)return Ct(d.done);if(d.done.length>1&&!d.done[d.done.length-2].ranges)return d.done.pop(),Ct(d.done)}function G_(d,f,v,m){var C=d.history;C.undone.length=0;var S=+new Date,F,B;if((C.lastOp==m||C.lastOrigin==f.origin&&f.origin&&(f.origin.charAt(0)=="+"&&C.lastModTime>S-(d.cm?d.cm.options.historyEventDelay:500)||f.origin.charAt(0)=="*"))&&(F=G9(C,C.lastOp==m)))B=Ct(F.changes),Ne(f.from,f.to)==0&&Ne(f.from,B.to)==0?B.to=ps(f):F.changes.push(wm(d,f));else{var $=Ct(C.done);for((!$||!$.ranges)&&Up(d.sel,C.done),F={changes:[wm(d,f)],generation:C.generation},C.done.push(F);C.done.length>C.undoDepth;)C.done.shift(),C.done[0].ranges||C.done.shift()}C.done.push(v),C.generation=++C.maxGeneration,C.lastModTime=C.lastSelTime=S,C.lastOp=C.lastSelOp=m,C.lastOrigin=C.lastSelOrigin=f.origin,B||Pe(d,"historyAdded")}function K9(d,f,v,m){var C=f.charAt(0);return C=="*"||C=="+"&&v.ranges.length==m.ranges.length&&v.somethingSelected()==m.somethingSelected()&&new Date-d.history.lastSelTime<=(d.cm?d.cm.options.historyEventDelay:500)}function q9(d,f,v,m){var C=d.history,S=m&&m.origin;v==C.lastSelOp||S&&C.lastSelOrigin==S&&(C.lastModTime==C.lastSelTime&&C.lastOrigin==S||K9(d,S,Ct(C.done),f))?C.done[C.done.length-1]=f:Up(f,C.done),C.lastSelTime=+new Date,C.lastSelOrigin=S,C.lastSelOp=v,m&&m.clearRedo!==!1&&W_(C.undone)}function Up(d,f){var v=Ct(f);v&&v.ranges&&v.equals(d)||f.push(d)}function K_(d,f,v,m){var C=f["spans_"+d.id],S=0;d.iter(Math.max(d.first,v),Math.min(d.first+d.size,m),function(F){F.markedSpans&&((C||(C=f["spans_"+d.id]={}))[S]=F.markedSpans),++S})}function $9(d){if(!d)return null;for(var f,v=0;v<d.length;++v)d[v].marker.explicitlyCleared?f||(f=d.slice(0,v)):f&&f.push(d[v]);return f?f.length?f:null:d}function Y9(d,f){var v=f["spans_"+d.id];if(!v)return null;for(var m=[],C=0;C<f.text.length;++C)m.push($9(v[C]));return m}function q_(d,f){var v=Y9(d,f),m=Xi(d,f);if(!v)return m;if(!m)return v;for(var C=0;C<v.length;++C){var S=v[C],F=m[C];if(S&&F)t:for(var B=0;B<F.length;++B){for(var $=F[B],Q=0;Q<S.length;++Q)if(S[Q].marker==$.marker)continue t;S.push($)}else F&&(v[C]=F)}return v}function ic(d,f,v){for(var m=[],C=0;C<d.length;++C){var S=d[C];if(S.ranges){m.push(v?to.prototype.deepCopy.call(S):S);continue}var F=S.changes,B=[];m.push({changes:B});for(var $=0;$<F.length;++$){var Q=F[$],vt=void 0;if(B.push({from:Q.from,to:Q.to,text:Q.text}),f)for(var Ot in Q)(vt=Ot.match(/^spans_(\d+)$/))&&ft(f,Number(vt[1]))>-1&&(Ct(B)[Ot]=Q[Ot],delete Q[Ot])}}return m}function Sm(d,f,v,m){if(m){var C=d.anchor;if(v){var S=Ne(f,C)<0;S!=Ne(v,C)<0?(C=f,f=v):S!=Ne(f,v)<0&&(f=v)}return new An(C,f)}else return new An(v||f,f)}function Wp(d,f,v,m,C){C==null&&(C=d.cm&&(d.cm.display.shift||d.extend)),Zr(d,new to([Sm(d.sel.primary(),f,v,C)],0),m)}function $_(d,f,v){for(var m=[],C=d.cm&&(d.cm.display.shift||d.extend),S=0;S<d.sel.ranges.length;S++)m[S]=Sm(d.sel.ranges[S],f[S],null,C);var F=zo(d.cm,m,d.sel.primIndex);Zr(d,F,v)}function Tm(d,f,v,m){var C=d.sel.ranges.slice(0);C[f]=v,Zr(d,zo(d.cm,C,d.sel.primIndex),m)}function Y_(d,f,v,m){Zr(d,us(f,v),m)}function X9(d,f,v){var m={ranges:f.ranges,update:function(C){this.ranges=[];for(var S=0;S<C.length;S++)this.ranges[S]=new An(fe(d,C[S].anchor),fe(d,C[S].head))},origin:v&&v.origin};return Pe(d,"beforeSelectionChange",d,m),d.cm&&Pe(d.cm,"beforeSelectionChange",d.cm,m),m.ranges!=f.ranges?zo(d.cm,m.ranges,m.ranges.length-1):f}function X_(d,f,v){var m=d.history.done,C=Ct(m);C&&C.ranges?(m[m.length-1]=f,Gp(d,f,v)):Zr(d,f,v)}function Zr(d,f,v){Gp(d,f,v),q9(d,d.sel,d.cm?d.cm.curOp.id:NaN,v)}function Gp(d,f,v){(Qe(d,"beforeSelectionChange")||d.cm&&Qe(d.cm,"beforeSelectionChange"))&&(f=X9(d,f,v));var m=v&&v.bias||(Ne(f.primary().head,d.sel.primary().head)<0?-1:1);Q_(d,Z_(d,f,m,!0)),!(v&&v.scroll===!1)&&d.cm&&d.cm.getOption("readOnly")!="nocursor"&&nc(d.cm)}function Q_(d,f){f.equals(d.sel)||(d.sel=f,d.cm&&(d.cm.curOp.updateInput=1,d.cm.curOp.selectionChanged=!0,Ae(d.cm)),ar(d,"cursorActivity",d))}function J_(d){Q_(d,Z_(d,d.sel,null,!1))}function Z_(d,f,v,m){for(var C,S=0;S<f.ranges.length;S++){var F=f.ranges[S],B=f.ranges.length==d.sel.ranges.length&&d.sel.ranges[S],$=Kp(d,F.anchor,B&&B.anchor,v,m),Q=Kp(d,F.head,B&&B.head,v,m);(C||$!=F.anchor||Q!=F.head)&&(C||(C=f.ranges.slice(0,S)),C[S]=new An($,Q))}return C?zo(d.cm,C,f.primIndex):f}function oc(d,f,v,m,C){var S=H(d,f.line);if(S.markedSpans)for(var F=0;F<S.markedSpans.length;++F){var B=S.markedSpans[F],$=B.marker,Q="selectLeft"in $?!$.selectLeft:$.inclusiveLeft,vt="selectRight"in $?!$.selectRight:$.inclusiveRight;if((B.from==null||(Q?B.from<=f.ch:B.from<f.ch))&&(B.to==null||(vt?B.to>=f.ch:B.to>f.ch))){if(C&&(Pe($,"beforeCursorEnter"),$.explicitlyCleared))if(S.markedSpans){--F;continue}else break;if(!$.atomic)continue;if(v){var Ot=$.find(m<0?1:-1),jt=void 0;if((m<0?vt:Q)&&(Ot=ty(d,Ot,-m,Ot&&Ot.line==f.line?S:null)),Ot&&Ot.line==f.line&&(jt=Ne(Ot,v))&&(m<0?jt<0:jt>0))return oc(d,Ot,f,m,C)}var Ft=$.find(m<0?-1:1);return(m<0?Q:vt)&&(Ft=ty(d,Ft,m,Ft.line==f.line?S:null)),Ft?oc(d,Ft,f,m,C):null}}return f}function Kp(d,f,v,m,C){var S=m||1,F=oc(d,f,v,S,C)||!C&&oc(d,f,v,S,!0)||oc(d,f,v,-S,C)||!C&&oc(d,f,v,-S,!0);return F||(d.cantEdit=!0,Jt(d.first,0))}function ty(d,f,v,m){return v<0&&f.ch==0?f.line>d.first?fe(d,Jt(f.line-1)):null:v>0&&f.ch==(m||H(d,f.line)).text.length?f.line<d.first+d.size-1?Jt(f.line+1,0):null:new Jt(f.line,f.ch+v)}function ey(d){d.setSelection(Jt(d.firstLine(),0),Jt(d.lastLine()),Nt)}function ny(d,f,v){var m={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){return m.canceled=!0}};return v&&(m.update=function(C,S,F,B){C&&(m.from=fe(d,C)),S&&(m.to=fe(d,S)),F&&(m.text=F),B!==void 0&&(m.origin=B)}),Pe(d,"beforeChange",d,m),d.cm&&Pe(d.cm,"beforeChange",d.cm,m),m.canceled?(d.cm&&(d.cm.curOp.updateInput=2),null):{from:m.from,to:m.to,text:m.text,origin:m.origin}}function ac(d,f,v){if(d.cm){if(!d.cm.curOp)return Nr(d.cm,ac)(d,f,v);if(d.cm.state.suppressEdits)return}if(!((Qe(d,"beforeChange")||d.cm&&Qe(d.cm,"beforeChange"))&&(f=ny(d,f,!0),!f))){var m=mr&&!v&&ts(d,f.from,f.to);if(m)for(var C=m.length-1;C>=0;--C)ry(d,{from:m[C].from,to:m[C].to,text:C?[""]:f.text,origin:f.origin});else ry(d,f)}}function ry(d,f){if(!(f.text.length==1&&f.text[0]==""&&Ne(f.from,f.to)==0)){var v=Om(d,f);G_(d,f,v,d.cm?d.cm.curOp.id:NaN),zd(d,f,v,Xi(d,f));var m=[];fs(d,function(C,S){!S&&ft(m,C.history)==-1&&(sy(C.history,f),m.push(C.history)),zd(C,f,null,Xi(C,f))})}}function qp(d,f,v){var m=d.cm&&d.cm.state.suppressEdits;if(!(m&&!v)){for(var C=d.history,S,F=d.sel,B=f=="undo"?C.done:C.undone,$=f=="undo"?C.undone:C.done,Q=0;Q<B.length&&(S=B[Q],!(v?S.ranges&&!S.equals(d.sel):!S.ranges));Q++);if(Q!=B.length){for(C.lastOrigin=C.lastSelOrigin=null;;)if(S=B.pop(),S.ranges){if(Up(S,$),v&&!S.equals(d.sel)){Zr(d,S,{clearRedo:!1});return}F=S}else if(m){B.push(S);return}else break;var vt=[];Up(F,$),$.push({changes:vt,generation:C.generation}),C.generation=S.generation||++C.maxGeneration;for(var Ot=Qe(d,"beforeChange")||d.cm&&Qe(d.cm,"beforeChange"),jt=function(ue){var me=S.changes[ue];if(me.origin=f,Ot&&!ny(d,me,!1))return B.length=0,{};vt.push(wm(d,me));var we=ue?Om(d,me):Ct(B);zd(d,me,we,q_(d,me)),!ue&&d.cm&&d.cm.scrollIntoView({from:me.from,to:ps(me)});var ke=[];fs(d,function(Se,Ie){!Ie&&ft(ke,Se.history)==-1&&(sy(Se.history,me),ke.push(Se.history)),zd(Se,me,null,q_(Se,me))})},Ft=S.changes.length-1;Ft>=0;--Ft){var te=jt(Ft);if(te)return te.v}}}}function iy(d,f){if(f!=0&&(d.first+=f,d.sel=new to(oe(d.sel.ranges,function(C){return new An(Jt(C.anchor.line+f,C.anchor.ch),Jt(C.head.line+f,C.head.ch))}),d.sel.primIndex),d.cm)){ui(d.cm,d.first,d.first-f,f);for(var v=d.cm.display,m=v.viewFrom;m<v.viewTo;m++)cs(d.cm,m,"gutter")}}function zd(d,f,v,m){if(d.cm&&!d.cm.curOp)return Nr(d.cm,zd)(d,f,v,m);if(f.to.line<d.first){iy(d,f.text.length-1-(f.to.line-f.from.line));return}if(!(f.from.line>d.lastLine())){if(f.from.line<d.first){var C=f.text.length-1-(d.first-f.from.line);iy(d,C),f={from:Jt(d.first,0),to:Jt(f.to.line+C,f.to.ch),text:[Ct(f.text)],origin:f.origin}}var S=d.lastLine();f.to.line>S&&(f={from:f.from,to:Jt(S,H(d,S).text.length),text:[f.text[0]],origin:f.origin}),f.removed=gt(d,f.from,f.to),v||(v=Om(d,f)),d.cm?Q9(d.cm,f,m):Mm(d,f,m),Gp(d,v,Nt),d.cantEdit&&Kp(d,Jt(d.firstLine(),0))&&(d.cantEdit=!1)}}function Q9(d,f,v){var m=d.doc,C=d.display,S=f.from,F=f.to,B=!1,$=S.line;d.options.lineWrapping||($=Ve(tn(H(m,S.line))),m.iter($,F.line+1,function(Ft){if(Ft==C.maxLine)return B=!0,!0})),m.sel.contains(f.from,f.to)>-1&&Ae(d),Mm(m,f,v,x_(d)),d.options.lineWrapping||(m.iter($,S.line+f.text.length,function(Ft){var te=Fo(Ft);te>C.maxLineLength&&(C.maxLine=Ft,C.maxLineLength=te,C.maxLineChanged=!0,B=!1)}),B&&(d.curOp.updateMaxLine=!0)),ba(m,S.line),Rd(d,400);var Q=f.text.length-(F.line-S.line)-1;f.full?ui(d):S.line==F.line&&f.text.length==1&&!H_(d.doc,f)?cs(d,S.line,"text"):ui(d,S.line,F.line+1,Q);var vt=Qe(d,"changes"),Ot=Qe(d,"change");if(Ot||vt){var jt={from:S,to:F,text:f.text,removed:f.removed,origin:f.origin};Ot&&ar(d,"change",d,jt),vt&&(d.curOp.changeObjs||(d.curOp.changeObjs=[])).push(jt)}d.display.selForContextMenu=null}function sc(d,f,v,m,C){var S;m||(m=v),Ne(m,v)<0&&(S=[m,v],v=S[0],m=S[1]),typeof f=="string"&&(f=d.splitLines(f)),ac(d,{from:v,to:m,text:f,origin:C})}function oy(d,f,v,m){v<d.line?d.line+=m:f<d.line&&(d.line=f,d.ch=0)}function ay(d,f,v,m){for(var C=0;C<d.length;++C){var S=d[C],F=!0;if(S.ranges){S.copied||(S=d[C]=S.deepCopy(),S.copied=!0);for(var B=0;B<S.ranges.length;B++)oy(S.ranges[B].anchor,f,v,m),oy(S.ranges[B].head,f,v,m);continue}for(var $=0;$<S.changes.length;++$){var Q=S.changes[$];if(v<Q.from.line)Q.from=Jt(Q.from.line+m,Q.from.ch),Q.to=Jt(Q.to.line+m,Q.to.ch);else if(f<=Q.to.line){F=!1;break}}F||(d.splice(0,C+1),C=0)}}function sy(d,f){var v=f.from.line,m=f.to.line,C=f.text.length-(m-v)-1;ay(d.done,v,m,C),ay(d.undone,v,m,C)}function jd(d,f,v,m){var C=f,S=f;return typeof f=="number"?S=H(d,pe(d,f)):C=Ve(f),C==null?null:(m(S,C)&&d.cm&&cs(d.cm,C,v),S)}function Hd(d){this.lines=d,this.parent=null;for(var f=0,v=0;v<d.length;++v)d[v].parent=this,f+=d[v].height;this.height=f}Hd.prototype={chunkSize:function(){return this.lines.length},removeInner:function(d,f){for(var v=d,m=d+f;v<m;++v){var C=this.lines[v];this.height-=C.height,$l(C),ar(C,"delete")}this.lines.splice(d,f)},collapse:function(d){d.push.apply(d,this.lines)},insertInner:function(d,f,v){this.height+=v,this.lines=this.lines.slice(0,d).concat(f).concat(this.lines.slice(d));for(var m=0;m<f.length;++m)f[m].parent=this},iterN:function(d,f,v){for(var m=d+f;d<m;++d)if(v(this.lines[d]))return!0}};function Bd(d){this.children=d;for(var f=0,v=0,m=0;m<d.length;++m){var C=d[m];f+=C.chunkSize(),v+=C.height,C.parent=this}this.size=f,this.height=v,this.parent=null}Bd.prototype={chunkSize:function(){return this.size},removeInner:function(d,f){this.size-=f;for(var v=0;v<this.children.length;++v){var m=this.children[v],C=m.chunkSize();if(d<C){var S=Math.min(f,C-d),F=m.height;if(m.removeInner(d,S),this.height-=F-m.height,C==S&&(this.children.splice(v--,1),m.parent=null),(f-=S)==0)break;d=0}else d-=C}if(this.size-f<25&&(this.children.length>1||!(this.children[0]instanceof Hd))){var B=[];this.collapse(B),this.children=[new Hd(B)],this.children[0].parent=this}},collapse:function(d){for(var f=0;f<this.children.length;++f)this.children[f].collapse(d)},insertInner:function(d,f,v){this.size+=f.length,this.height+=v;for(var m=0;m<this.children.length;++m){var C=this.children[m],S=C.chunkSize();if(d<=S){if(C.insertInner(d,f,v),C.lines&&C.lines.length>50){for(var F=C.lines.length%25+25,B=F;B<C.lines.length;){var $=new Hd(C.lines.slice(B,B+=25));C.height-=$.height,this.children.splice(++m,0,$),$.parent=this}C.lines=C.lines.slice(0,F),this.maybeSpill()}break}d-=S}},maybeSpill:function(){if(!(this.children.length<=10)){var d=this;do{var f=d.children.splice(d.children.length-5,5),v=new Bd(f);if(d.parent){d.size-=v.size,d.height-=v.height;var C=ft(d.parent.children,d);d.parent.children.splice(C+1,0,v)}else{var m=new Bd(d.children);m.parent=d,d.children=[m,v],d=m}v.parent=d.parent}while(d.children.length>10);d.parent.maybeSpill()}},iterN:function(d,f,v){for(var m=0;m<this.children.length;++m){var C=this.children[m],S=C.chunkSize();if(d<S){var F=Math.min(f,S-d);if(C.iterN(d,F,v))return!0;if((f-=F)==0)break;d=0}else d-=S}}};var Ud=function(d,f,v){if(v)for(var m in v)v.hasOwnProperty(m)&&(this[m]=v[m]);this.doc=d,this.node=f};Ud.prototype.clear=function(){var d=this.doc.cm,f=this.line.widgets,v=this.line,m=Ve(v);if(!(m==null||!f)){for(var C=0;C<f.length;++C)f[C]==this&&f.splice(C--,1);f.length||(v.widgets=null);var S=ss(this);Ee(v,Math.max(0,v.height-S)),d&&(Ti(d,function(){ly(d,v,-S),cs(d,m,"widget")}),ar(d,"lineWidgetCleared",d,this,m))}},Ud.prototype.changed=function(){var d=this,f=this.height,v=this.doc.cm,m=this.line;this.height=null;var C=ss(this)-f;C&&(Dr(this.doc,m)||Ee(m,m.height+C),v&&Ti(v,function(){v.curOp.forceUpdate=!0,ly(v,m,C),ar(v,"lineWidgetChanged",v,d,Ve(m))}))},Xe(Ud);function ly(d,f,v){wi(f)<(d.curOp&&d.curOp.scrollTop||d.doc.scrollTop)&&vm(d,v)}function J9(d,f,v,m){var C=new Ud(d,v,m),S=d.cm;return S&&C.noHScroll&&(S.display.alignWidgets=!0),jd(d,f,"widget",function(F){var B=F.widgets||(F.widgets=[]);if(C.insertAt==null?B.push(C):B.splice(Math.min(B.length,Math.max(0,C.insertAt)),0,C),C.line=F,S&&!Dr(d,F)){var $=wi(F)<d.scrollTop;Ee(F,F.height+ss(C)),$&&vm(S,C.height),S.curOp.forceUpdate=!0}return!0}),S&&ar(S,"lineWidgetAdded",S,C,typeof f=="number"?f:Ve(f)),C}var cy=0,gs=function(d,f){this.lines=[],this.type=f,this.doc=d,this.id=++cy};gs.prototype.clear=function(){if(!this.explicitlyCleared){var d=this.doc.cm,f=d&&!d.curOp;if(f&&ll(d),Qe(this,"clear")){var v=this.find();v&&ar(this,"clear",v.from,v.to)}for(var m=null,C=null,S=0;S<this.lines.length;++S){var F=this.lines[S],B=Qr(F.markedSpans,this);d&&!this.collapsed?cs(d,Ve(F),"text"):d&&(B.to!=null&&(C=Ve(F)),B.from!=null&&(m=Ve(F))),F.markedSpans=tl(F.markedSpans,B),B.from==null&&this.collapsed&&!Dr(this.doc,F)&&d&&Ee(F,Zl(d.display))}if(d&&this.collapsed&&!d.options.lineWrapping)for(var $=0;$<this.lines.length;++$){var Q=tn(this.lines[$]),vt=Fo(Q);vt>d.display.maxLineLength&&(d.display.maxLine=Q,d.display.maxLineLength=vt,d.display.maxLineChanged=!0)}m!=null&&d&&this.collapsed&&ui(d,m,C+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,d&&J_(d.doc)),d&&ar(d,"markerCleared",d,this,m,C),f&&cl(d),this.parent&&this.parent.clear()}},gs.prototype.find=function(d,f){d==null&&this.type=="bookmark"&&(d=1);for(var v,m,C=0;C<this.lines.length;++C){var S=this.lines[C],F=Qr(S.markedSpans,this);if(F.from!=null&&(v=Jt(f?S:Ve(S),F.from),d==-1))return v;if(F.to!=null&&(m=Jt(f?S:Ve(S),F.to),d==1))return m}return v&&{from:v,to:m}},gs.prototype.changed=function(){var d=this,f=this.find(-1,!0),v=this,m=this.doc.cm;!f||!m||Ti(m,function(){var C=f.line,S=Ve(f.line),F=zt(m,S);if(F&&(Ed(F),m.curOp.selectionChanged=m.curOp.forceUpdate=!0),m.curOp.updateMaxLine=!0,!Dr(v.doc,C)&&v.height!=null){var B=v.height;v.height=null;var $=ss(v)-B;$&&Ee(C,C.height+$)}ar(m,"markerChanged",m,d)})},gs.prototype.attachLine=function(d){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(!f.maybeHiddenMarkers||ft(f.maybeHiddenMarkers,this)==-1)&&(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(d)},gs.prototype.detachLine=function(d){if(this.lines.splice(ft(this.lines,d),1),!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(f.maybeHiddenMarkers||(f.maybeHiddenMarkers=[])).push(this)}},Xe(gs);function lc(d,f,v,m,C){if(m&&m.shared)return Z9(d,f,v,m,C);if(d.cm&&!d.cm.curOp)return Nr(d.cm,lc)(d,f,v,m,C);var S=new gs(d,C),F=Ne(f,v);if(m&&Pt(m,S,!1),F>0||F==0&&S.clearWhenEmpty!==!1)return S;if(S.replacedWith&&(S.collapsed=!0,S.widgetNode=q("span",[S.replacedWith],"CodeMirror-widget"),m.handleMouseEvents||S.widgetNode.setAttribute("cm-ignore-events","true"),m.insertLeft&&(S.widgetNode.insertLeft=!0)),S.collapsed){if(He(d,f.line,f,v,S)||f.line!=v.line&&He(d,v.line,f,v,S))throw new Error("Inserting collapsed marker partially overlapping an existing one");Zs()}S.addToHistory&&G_(d,{from:f,to:v,origin:"markText"},d.sel,NaN);var B=f.line,$=d.cm,Q;if(d.iter(B,v.line+1,function(Ot){$&&S.collapsed&&!$.options.lineWrapping&&tn(Ot)==$.display.maxLine&&(Q=!0),S.collapsed&&B!=f.line&&Ee(Ot,0),go(Ot,new No(S,B==f.line?f.ch:null,B==v.line?v.ch:null),d.cm&&d.cm.curOp),++B}),S.collapsed&&d.iter(f.line,v.line+1,function(Ot){Dr(d,Ot)&&Ee(Ot,0)}),S.clearOnEnter&&Vt(S,"beforeCursorEnter",function(){return S.clear()}),S.readOnly&&(Ja(),(d.history.done.length||d.history.undone.length)&&d.clearHistory()),S.collapsed&&(S.id=++cy,S.atomic=!0),$){if(Q&&($.curOp.updateMaxLine=!0),S.collapsed)ui($,f.line,v.line+1);else if(S.className||S.startStyle||S.endStyle||S.css||S.attributes||S.title)for(var vt=f.line;vt<=v.line;vt++)cs($,vt,"text");S.atomic&&J_($.doc),ar($,"markerAdded",$,S)}return S}var Wd=function(d,f){this.markers=d,this.primary=f;for(var v=0;v<d.length;++v)d[v].parent=this};Wd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var d=0;d<this.markers.length;++d)this.markers[d].clear();ar(this,"clear")}},Wd.prototype.find=function(d,f){return this.primary.find(d,f)},Xe(Wd);function Z9(d,f,v,m,C){m=Pt(m),m.shared=!1;var S=[lc(d,f,v,m,C)],F=S[0],B=m.widgetNode;return fs(d,function($){B&&(m.widgetNode=B.cloneNode(!0)),S.push(lc($,fe($,f),fe($,v),m,C));for(var Q=0;Q<$.linked.length;++Q)if($.linked[Q].isParent)return;F=Ct(S)}),new Wd(S,F)}function dy(d){return d.findMarks(Jt(d.first,0),d.clipPos(Jt(d.lastLine())),function(f){return f.parent})}function t4(d,f){for(var v=0;v<f.length;v++){var m=f[v],C=m.find(),S=d.clipPos(C.from),F=d.clipPos(C.to);if(Ne(S,F)){var B=lc(d,S,F,m.primary,m.primary.type);m.markers.push(B),B.parent=m}}}function e4(d){for(var f=function(m){var C=d[m],S=[C.primary.doc];fs(C.primary.doc,function($){return S.push($)});for(var F=0;F<C.markers.length;F++){var B=C.markers[F];ft(S,B.doc)==-1&&(B.parent=null,C.markers.splice(F--,1))}},v=0;v<d.length;v++)f(v)}var n4=0,pi=function(d,f,v,m,C){if(!(this instanceof pi))return new pi(d,f,v,m,C);v==null&&(v=0),Bd.call(this,[new Hd([new Lr("",null)])]),this.first=v,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=v;var S=Jt(v,0);this.sel=us(S),this.history=new Bp(null),this.id=++n4,this.modeOption=f,this.lineSep=m,this.direction=C=="rtl"?"rtl":"ltr",this.extend=!1,typeof d=="string"&&(d=this.splitLines(d)),Mm(this,{from:S,to:S,text:d}),Zr(this,us(S),Nt)};pi.prototype=K(Bd.prototype,{constructor:pi,iter:function(d,f,v){v?this.iterN(d-this.first,f-d,v):this.iterN(this.first,this.first+this.size,d)},insert:function(d,f){for(var v=0,m=0;m<f.length;++m)v+=f[m].height;this.insertInner(d-this.first,f,v)},remove:function(d,f){this.removeInner(d-this.first,f)},getValue:function(d){var f=$t(this,this.first,this.first+this.size);return d===!1?f:f.join(d||this.lineSeparator())},setValue:Rr(function(d){var f=Jt(this.first,0),v=this.first+this.size-1;ac(this,{from:f,to:Jt(v,H(this,v).text.length),text:this.splitLines(d),origin:"setValue",full:!0},!0),this.cm&&Id(this.cm,0,0),Zr(this,us(f),Nt)}),replaceRange:function(d,f,v,m){f=fe(this,f),v=v?fe(this,v):f,sc(this,d,f,v,m)},getRange:function(d,f,v){var m=gt(this,fe(this,d),fe(this,f));return v===!1?m:v===""?m.join(""):m.join(v||this.lineSeparator())},getLine:function(d){var f=this.getLineHandle(d);return f&&f.text},getLineHandle:function(d){if(Re(this,d))return H(this,d)},getLineNumber:function(d){return Ve(d)},getLineHandleVisualStart:function(d){return typeof d=="number"&&(d=H(this,d)),tn(d)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(d){return fe(this,d)},getCursor:function(d){var f=this.sel.primary(),v;return d==null||d=="head"?v=f.head:d=="anchor"?v=f.anchor:d=="end"||d=="to"||d===!1?v=f.to():v=f.from(),v},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Rr(function(d,f,v){Y_(this,fe(this,typeof d=="number"?Jt(d,f||0):d),null,v)}),setSelection:Rr(function(d,f,v){Y_(this,fe(this,d),fe(this,f||d),v)}),extendSelection:Rr(function(d,f,v){Wp(this,fe(this,d),f&&fe(this,f),v)}),extendSelections:Rr(function(d,f){$_(this,dn(this,d),f)}),extendSelectionsBy:Rr(function(d,f){var v=oe(this.sel.ranges,d);$_(this,dn(this,v),f)}),setSelections:Rr(function(d,f,v){if(d.length){for(var m=[],C=0;C<d.length;C++)m[C]=new An(fe(this,d[C].anchor),fe(this,d[C].head||d[C].anchor));f==null&&(f=Math.min(d.length-1,this.sel.primIndex)),Zr(this,zo(this.cm,m,f),v)}}),addSelection:Rr(function(d,f,v){var m=this.sel.ranges.slice(0);m.push(new An(fe(this,d),fe(this,f||d))),Zr(this,zo(this.cm,m,m.length-1),v)}),getSelection:function(d){for(var f=this.sel.ranges,v,m=0;m<f.length;m++){var C=gt(this,f[m].from(),f[m].to());v=v?v.concat(C):C}return d===!1?v:v.join(d||this.lineSeparator())},getSelections:function(d){for(var f=[],v=this.sel.ranges,m=0;m<v.length;m++){var C=gt(this,v[m].from(),v[m].to());d!==!1&&(C=C.join(d||this.lineSeparator())),f[m]=C}return f},replaceSelection:function(d,f,v){for(var m=[],C=0;C<this.sel.ranges.length;C++)m[C]=d;this.replaceSelections(m,f,v||"+input")},replaceSelections:Rr(function(d,f,v){for(var m=[],C=this.sel,S=0;S<C.ranges.length;S++){var F=C.ranges[S];m[S]={from:F.from(),to:F.to(),text:this.splitLines(d[S]),origin:v}}for(var B=f&&f!="end"&&U9(this,m,f),$=m.length-1;$>=0;$--)ac(this,m[$]);B?X_(this,B):this.cm&&nc(this.cm)}),undo:Rr(function(){qp(this,"undo")}),redo:Rr(function(){qp(this,"redo")}),undoSelection:Rr(function(){qp(this,"undo",!0)}),redoSelection:Rr(function(){qp(this,"redo",!0)}),setExtending:function(d){this.extend=d},getExtending:function(){return this.extend},historySize:function(){for(var d=this.history,f=0,v=0,m=0;m<d.done.length;m++)d.done[m].ranges||++f;for(var C=0;C<d.undone.length;C++)d.undone[C].ranges||++v;return{undo:f,redo:v}},clearHistory:function(){var d=this;this.history=new Bp(this.history),fs(this,function(f){return f.history=d.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(d){return d&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(d){return this.history.generation==(d||this.cleanGeneration)},getHistory:function(){return{done:ic(this.history.done),undone:ic(this.history.undone)}},setHistory:function(d){var f=this.history=new Bp(this.history);f.done=ic(d.done.slice(0),null,!0),f.undone=ic(d.undone.slice(0),null,!0)},setGutterMarker:Rr(function(d,f,v){return jd(this,d,"gutter",function(m){var C=m.gutterMarkers||(m.gutterMarkers={});return C[f]=v,!v&&Qt(C)&&(m.gutterMarkers=null),!0})}),clearGutter:Rr(function(d){var f=this;this.iter(function(v){v.gutterMarkers&&v.gutterMarkers[d]&&jd(f,v,"gutter",function(){return v.gutterMarkers[d]=null,Qt(v.gutterMarkers)&&(v.gutterMarkers=null),!0})})}),lineInfo:function(d){var f;if(typeof d=="number"){if(!Re(this,d)||(f=d,d=H(this,d),!d))return null}else if(f=Ve(d),f==null)return null;return{line:f,handle:d,text:d.text,gutterMarkers:d.gutterMarkers,textClass:d.textClass,bgClass:d.bgClass,wrapClass:d.wrapClass,widgets:d.widgets}},addLineClass:Rr(function(d,f,v){return jd(this,d,f=="gutter"?"gutter":"class",function(m){var C=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass";if(!m[C])m[C]=v;else{if(z(v).test(m[C]))return!1;m[C]+=" "+v}return!0})}),removeLineClass:Rr(function(d,f,v){return jd(this,d,f=="gutter"?"gutter":"class",function(m){var C=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass",S=m[C];if(S)if(v==null)m[C]=null;else{var F=S.match(z(v));if(!F)return!1;var B=F.index+F[0].length;m[C]=S.slice(0,F.index)+(!F.index||B==S.length?"":" ")+S.slice(B)||null}else return!1;return!0})}),addLineWidget:Rr(function(d,f,v){return J9(this,d,f,v)}),removeLineWidget:function(d){d.clear()},markText:function(d,f,v){return lc(this,fe(this,d),fe(this,f),v,v&&v.type||"range")},setBookmark:function(d,f){var v={replacedWith:f&&(f.nodeType==null?f.widget:f),insertLeft:f&&f.insertLeft,clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};return d=fe(this,d),lc(this,d,d,v,"bookmark")},findMarksAt:function(d){d=fe(this,d);var f=[],v=H(this,d.line).markedSpans;if(v)for(var m=0;m<v.length;++m){var C=v[m];(C.from==null||C.from<=d.ch)&&(C.to==null||C.to>=d.ch)&&f.push(C.marker.parent||C.marker)}return f},findMarks:function(d,f,v){d=fe(this,d),f=fe(this,f);var m=[],C=d.line;return this.iter(d.line,f.line+1,function(S){var F=S.markedSpans;if(F)for(var B=0;B<F.length;B++){var $=F[B];!($.to!=null&&C==d.line&&d.ch>=$.to||$.from==null&&C!=d.line||$.from!=null&&C==f.line&&$.from>=f.ch)&&(!v||v($.marker))&&m.push($.marker.parent||$.marker)}++C}),m},getAllMarks:function(){var d=[];return this.iter(function(f){var v=f.markedSpans;if(v)for(var m=0;m<v.length;++m)v[m].from!=null&&d.push(v[m].marker)}),d},posFromIndex:function(d){var f,v=this.first,m=this.lineSeparator().length;return this.iter(function(C){var S=C.text.length+m;if(S>d)return f=d,!0;d-=S,++v}),fe(this,Jt(v,f))},indexFromPos:function(d){d=fe(this,d);var f=d.ch;if(d.line<this.first||d.ch<0)return 0;var v=this.lineSeparator().length;return this.iter(this.first,d.line,function(m){f+=m.text.length+v}),f},copy:function(d){var f=new pi($t(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return f.scrollTop=this.scrollTop,f.scrollLeft=this.scrollLeft,f.sel=this.sel,f.extend=!1,d&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory())),f},linkedDoc:function(d){d||(d={});var f=this.first,v=this.first+this.size;d.from!=null&&d.from>f&&(f=d.from),d.to!=null&&d.to<v&&(v=d.to);var m=new pi($t(this,f,v),d.mode||this.modeOption,f,this.lineSep,this.direction);return d.sharedHist&&(m.history=this.history),(this.linked||(this.linked=[])).push({doc:m,sharedHist:d.sharedHist}),m.linked=[{doc:this,isParent:!0,sharedHist:d.sharedHist}],t4(m,dy(this)),m},unlinkDoc:function(d){if(d instanceof Qn&&(d=d.doc),this.linked)for(var f=0;f<this.linked.length;++f){var v=this.linked[f];if(v.doc==d){this.linked.splice(f,1),d.unlinkDoc(this),e4(dy(this));break}}if(d.history==this.history){var m=[d.id];fs(d,function(C){return m.push(C.id)},!0),d.history=new Bp(null),d.history.done=ic(this.history.done,m),d.history.undone=ic(this.history.undone,m)}},iterLinkedDocs:function(d){fs(this,d)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(d){return this.lineSep?d.split(this.lineSep):On(d)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Rr(function(d){d!="rtl"&&(d="ltr"),d!=this.direction&&(this.direction=d,this.iter(function(f){return f.order=null}),this.cm&&W9(this.cm))})}),pi.prototype.eachLine=pi.prototype.iter;var uy=0;function r4(d){var f=this;if(py(f),!(ve(f,d)||mo(f.display,d))){Ze(d),s&&(uy=+new Date);var v=il(f,d,!0),m=d.dataTransfer.files;if(!(!v||f.isReadOnly()))if(m&&m.length&&window.FileReader&&window.File)for(var C=m.length,S=Array(C),F=0,B=function(){++F==C&&Nr(f,function(){v=fe(f.doc,v);var Ft={from:v,to:v,text:f.doc.splitLines(S.filter(function(te){return te!=null}).join(f.doc.lineSeparator())),origin:"paste"};ac(f.doc,Ft),X_(f.doc,us(fe(f.doc,v),fe(f.doc,ps(Ft))))})()},$=function(Ft,te){if(f.options.allowDropFileTypes&&ft(f.options.allowDropFileTypes,Ft.type)==-1){B();return}var ue=new FileReader;ue.onerror=function(){return B()},ue.onload=function(){var me=ue.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(me)){B();return}S[te]=me,B()},ue.readAsText(Ft)},Q=0;Q<m.length;Q++)$(m[Q],Q);else{if(f.state.draggingText&&f.doc.sel.contains(v)>-1){f.state.draggingText(d),setTimeout(function(){return f.display.input.focus()},20);return}try{var vt=d.dataTransfer.getData("Text");if(vt){var Ot;if(f.state.draggingText&&!f.state.draggingText.copy&&(Ot=f.listSelections()),Gp(f.doc,us(v,v)),Ot)for(var jt=0;jt<Ot.length;++jt)sc(f.doc,"",Ot[jt].anchor,Ot[jt].head,"drag");f.replaceSelection(vt,"around","paste"),f.display.input.focus()}}catch{}}}}function i4(d,f){if(s&&(!d.state.draggingText||+new Date-uy<100)){lt(f);return}if(!(ve(d,f)||mo(d.display,f))&&(f.dataTransfer.setData("Text",d.getSelection()),f.dataTransfer.effectAllowed="copyMove",f.dataTransfer.setDragImage&&!h)){var v=W("img",null,null,"position: fixed; left: 0; top: 0;");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",g&&(v.width=v.height=1,d.display.wrapper.appendChild(v),v._top=v.offsetTop),f.dataTransfer.setDragImage(v,0,0),g&&v.parentNode.removeChild(v)}}function o4(d,f){var v=il(d,f);if(v){var m=document.createDocumentFragment();M_(d,v,m),d.display.dragCursor||(d.display.dragCursor=W("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),d.display.lineSpace.insertBefore(d.display.dragCursor,d.display.cursorDiv)),D(d.display.dragCursor,m)}}function py(d){d.display.dragCursor&&(d.display.lineSpace.removeChild(d.display.dragCursor),d.display.dragCursor=null)}function fy(d){if(document.getElementsByClassName){for(var f=document.getElementsByClassName("CodeMirror"),v=[],m=0;m<f.length;m++){var C=f[m].CodeMirror;C&&v.push(C)}v.length&&v[0].operation(function(){for(var S=0;S<v.length;S++)d(v[S])})}}var gy=!1;function a4(){gy||(s4(),gy=!0)}function s4(){var d;Vt(window,"resize",function(){d==null&&(d=setTimeout(function(){d=null,fy(l4)},100))}),Vt(window,"blur",function(){return fy(ec)})}function l4(d){var f=d.display;f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.scrollbarsClipped=!1,d.setSize()}for(var hs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Gd=0;Gd<10;Gd++)hs[Gd+48]=hs[Gd+96]=String(Gd);for(var $p=65;$p<=90;$p++)hs[$p]=String.fromCharCode($p);for(var Kd=1;Kd<=12;Kd++)hs[Kd+111]=hs[Kd+63235]="F"+Kd;var wa={};wa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},wa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},wa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},wa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},wa.default=T?wa.macDefault:wa.pcDefault;function c4(d){var f=d.split(/-(?!$)/);d=f[f.length-1];for(var v,m,C,S,F=0;F<f.length-1;F++){var B=f[F];if(/^(cmd|meta|m)$/i.test(B))S=!0;else if(/^a(lt)?$/i.test(B))v=!0;else if(/^(c|ctrl|control)$/i.test(B))m=!0;else if(/^s(hift)?$/i.test(B))C=!0;else throw new Error("Unrecognized modifier name: "+B)}return v&&(d="Alt-"+d),m&&(d="Ctrl-"+d),S&&(d="Cmd-"+d),C&&(d="Shift-"+d),d}function d4(d){var f={};for(var v in d)if(d.hasOwnProperty(v)){var m=d[v];if(/^(name|fallthrough|(de|at)tach)$/.test(v))continue;if(m=="..."){delete d[v];continue}for(var C=oe(v.split(" "),c4),S=0;S<C.length;S++){var F=void 0,B=void 0;S==C.length-1?(B=C.join(" "),F=m):(B=C.slice(0,S+1).join(" "),F="...");var $=f[B];if(!$)f[B]=F;else if($!=F)throw new Error("Inconsistent bindings for "+B)}delete d[v]}for(var Q in f)d[Q]=f[Q];return d}function cc(d,f,v,m){f=Yp(f);var C=f.call?f.call(d,m):f[d];if(C===!1)return"nothing";if(C==="...")return"multi";if(C!=null&&v(C))return"handled";if(f.fallthrough){if(Object.prototype.toString.call(f.fallthrough)!="[object Array]")return cc(d,f.fallthrough,v,m);for(var S=0;S<f.fallthrough.length;S++){var F=cc(d,f.fallthrough[S],v,m);if(F)return F}}}function hy(d){var f=typeof d=="string"?d:hs[d.keyCode];return f=="Ctrl"||f=="Alt"||f=="Shift"||f=="Mod"}function my(d,f,v){var m=d;return f.altKey&&m!="Alt"&&(d="Alt-"+d),(L?f.metaKey:f.ctrlKey)&&m!="Ctrl"&&(d="Ctrl-"+d),(L?f.ctrlKey:f.metaKey)&&m!="Mod"&&(d="Cmd-"+d),!v&&f.shiftKey&&m!="Shift"&&(d="Shift-"+d),d}function vy(d,f){if(g&&d.keyCode==34&&d.char)return!1;var v=hs[d.keyCode];return v==null||d.altGraphKey?!1:(d.keyCode==3&&d.code&&(v=d.code),my(v,d,f))}function Yp(d){return typeof d=="string"?wa[d]:d}function dc(d,f){for(var v=d.doc.sel.ranges,m=[],C=0;C<v.length;C++){for(var S=f(v[C]);m.length&&Ne(S.from,Ct(m).to)<=0;){var F=m.pop();if(Ne(F.from,S.from)<0){S.from=F.from;break}}m.push(S)}Ti(d,function(){for(var B=m.length-1;B>=0;B--)sc(d.doc,"",m[B].from,m[B].to,"+delete");nc(d)})}function Em(d,f,v){var m=Lt(d.text,f+v,v);return m<0||m>d.text.length?null:m}function km(d,f,v){var m=Em(d,f.ch,v);return m==null?null:new Jt(f.line,m,v<0?"after":"before")}function Am(d,f,v,m,C){if(d){f.doc.direction=="rtl"&&(C=-C);var S=it(v,f.doc.direction);if(S){var F=C<0?Ct(S):S[0],B=C<0==(F.level==1),$=B?"after":"before",Q;if(F.level>0||f.doc.direction=="rtl"){var vt=se(f,v);Q=C<0?v.text.length-1:0;var Ot=Ce(f,vt,Q).top;Q=he(function(jt){return Ce(f,vt,jt).top==Ot},C<0==(F.level==1)?F.from:F.to-1,Q),$=="before"&&(Q=Em(v,Q,1))}else Q=C<0?F.to:F.from;return new Jt(m,Q,$)}}return new Jt(m,C<0?v.text.length:0,C<0?"before":"after")}function u4(d,f,v,m){var C=it(f,d.doc.direction);if(!C)return km(f,v,m);v.ch>=f.text.length?(v.ch=f.text.length,v.sticky="before"):v.ch<=0&&(v.ch=0,v.sticky="after");var S=dt(C,v.ch,v.sticky),F=C[S];if(d.doc.direction=="ltr"&&F.level%2==0&&(m>0?F.to>v.ch:F.from<v.ch))return km(f,v,m);var B=function(we,ke){return Em(f,we instanceof Jt?we.ch:we,ke)},$,Q=function(we){return d.options.lineWrapping?($=$||se(d,f),C_(d,f,$,we)):{begin:0,end:f.text.length}},vt=Q(v.sticky=="before"?B(v,-1):v.ch);if(d.doc.direction=="rtl"||F.level==1){var Ot=F.level==1==m<0,jt=B(v,Ot?1:-1);if(jt!=null&&(Ot?jt<=F.to&&jt<=vt.end:jt>=F.from&&jt>=vt.begin)){var Ft=Ot?"before":"after";return new Jt(v.line,jt,Ft)}}var te=function(we,ke,Se){for(var Ie=function(Un,Fr){return Fr?new Jt(v.line,B(Un,1),"before"):new Jt(v.line,Un,"after")};we>=0&&we<C.length;we+=ke){var qe=C[we],We=ke>0==(qe.level!=1),an=We?Se.begin:B(Se.end,-1);if(qe.from<=an&&an<qe.to||(an=We?qe.from:B(qe.to,-1),Se.begin<=an&&an<Se.end))return Ie(an,We)}},ue=te(S+m,m,vt);if(ue)return ue;var me=m>0?vt.end:B(vt.begin,-1);return me!=null&&!(m>0&&me==f.text.length)&&(ue=te(m>0?0:C.length-1,m,Q(me)),ue)?ue:null}var qd={selectAll:ey,singleSelection:function(d){return d.setSelection(d.getCursor("anchor"),d.getCursor("head"),Nt)},killLine:function(d){return dc(d,function(f){if(f.empty()){var v=H(d.doc,f.head.line).text.length;return f.head.ch==v&&f.head.line<d.lastLine()?{from:f.head,to:Jt(f.head.line+1,0)}:{from:f.head,to:Jt(f.head.line,v)}}else return{from:f.from(),to:f.to()}})},deleteLine:function(d){return dc(d,function(f){return{from:Jt(f.from().line,0),to:fe(d.doc,Jt(f.to().line+1,0))}})},delLineLeft:function(d){return dc(d,function(f){return{from:Jt(f.from().line,0),to:f.from()}})},delWrappedLineLeft:function(d){return dc(d,function(f){var v=d.charCoords(f.head,"div").top+5,m=d.coordsChar({left:0,top:v},"div");return{from:m,to:f.from()}})},delWrappedLineRight:function(d){return dc(d,function(f){var v=d.charCoords(f.head,"div").top+5,m=d.coordsChar({left:d.display.lineDiv.offsetWidth+100,top:v},"div");return{from:f.from(),to:m}})},undo:function(d){return d.undo()},redo:function(d){return d.redo()},undoSelection:function(d){return d.undoSelection()},redoSelection:function(d){return d.redoSelection()},goDocStart:function(d){return d.extendSelection(Jt(d.firstLine(),0))},goDocEnd:function(d){return d.extendSelection(Jt(d.lastLine()))},goLineStart:function(d){return d.extendSelectionsBy(function(f){return _y(d,f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(d){return d.extendSelectionsBy(function(f){return yy(d,f.head)},{origin:"+move",bias:1})},goLineEnd:function(d){return d.extendSelectionsBy(function(f){return p4(d,f.head.line)},{origin:"+move",bias:-1})},goLineRight:function(d){return d.extendSelectionsBy(function(f){var v=d.cursorCoords(f.head,"div").top+5;return d.coordsChar({left:d.display.lineDiv.offsetWidth+100,top:v},"div")},It)},goLineLeft:function(d){return d.extendSelectionsBy(function(f){var v=d.cursorCoords(f.head,"div").top+5;return d.coordsChar({left:0,top:v},"div")},It)},goLineLeftSmart:function(d){return d.extendSelectionsBy(function(f){var v=d.cursorCoords(f.head,"div").top+5,m=d.coordsChar({left:0,top:v},"div");return m.ch<d.getLine(m.line).search(/\S/)?yy(d,f.head):m},It)},goLineUp:function(d){return d.moveV(-1,"line")},goLineDown:function(d){return d.moveV(1,"line")},goPageUp:function(d){return d.moveV(-1,"page")},goPageDown:function(d){return d.moveV(1,"page")},goCharLeft:function(d){return d.moveH(-1,"char")},goCharRight:function(d){return d.moveH(1,"char")},goColumnLeft:function(d){return d.moveH(-1,"column")},goColumnRight:function(d){return d.moveH(1,"column")},goWordLeft:function(d){return d.moveH(-1,"word")},goGroupRight:function(d){return d.moveH(1,"group")},goGroupLeft:function(d){return d.moveH(-1,"group")},goWordRight:function(d){return d.moveH(1,"word")},delCharBefore:function(d){return d.deleteH(-1,"codepoint")},delCharAfter:function(d){return d.deleteH(1,"char")},delWordBefore:function(d){return d.deleteH(-1,"word")},delWordAfter:function(d){return d.deleteH(1,"word")},delGroupBefore:function(d){return d.deleteH(-1,"group")},delGroupAfter:function(d){return d.deleteH(1,"group")},indentAuto:function(d){return d.indentSelection("smart")},indentMore:function(d){return d.indentSelection("add")},indentLess:function(d){return d.indentSelection("subtract")},insertTab:function(d){return d.replaceSelection("	")},insertSoftTab:function(d){for(var f=[],v=d.listSelections(),m=d.options.tabSize,C=0;C<v.length;C++){var S=v[C].from(),F=_t(d.getLine(S.line),S.ch,m);f.push(le(m-F%m))}d.replaceSelections(f)},defaultTab:function(d){d.somethingSelected()?d.indentSelection("add"):d.execCommand("insertTab")},transposeChars:function(d){return Ti(d,function(){for(var f=d.listSelections(),v=[],m=0;m<f.length;m++)if(f[m].empty()){var C=f[m].head,S=H(d.doc,C.line).text;if(S){if(C.ch==S.length&&(C=new Jt(C.line,C.ch-1)),C.ch>0)C=new Jt(C.line,C.ch+1),d.replaceRange(S.charAt(C.ch-1)+S.charAt(C.ch-2),Jt(C.line,C.ch-2),C,"+transpose");else if(C.line>d.doc.first){var F=H(d.doc,C.line-1).text;F&&(C=new Jt(C.line,1),d.replaceRange(S.charAt(0)+d.doc.lineSeparator()+F.charAt(F.length-1),Jt(C.line-1,F.length-1),C,"+transpose"))}}v.push(new An(C,C))}d.setSelections(v)})},newlineAndIndent:function(d){return Ti(d,function(){for(var f=d.listSelections(),v=f.length-1;v>=0;v--)d.replaceRange(d.doc.lineSeparator(),f[v].anchor,f[v].head,"+input");f=d.listSelections();for(var m=0;m<f.length;m++)d.indentLine(f[m].from().line,null,!0);nc(d)})},openLine:function(d){return d.replaceSelection(`
`,"start")},toggleOverwrite:function(d){return d.toggleOverwrite()}};function _y(d,f){var v=H(d.doc,f),m=tn(v);return m!=v&&(f=Ve(m)),Am(!0,d,m,f,1)}function p4(d,f){var v=H(d.doc,f),m=Ge(v);return m!=v&&(f=Ve(m)),Am(!0,d,v,f,-1)}function yy(d,f){var v=_y(d,f.line),m=H(d.doc,v.line),C=it(m,d.doc.direction);if(!C||C[0].level==0){var S=Math.max(v.ch,m.text.search(/\S/)),F=f.line==v.line&&f.ch<=S&&f.ch;return Jt(v.line,F?0:S,v.sticky)}return v}function Xp(d,f,v){if(typeof f=="string"&&(f=qd[f],!f))return!1;d.display.input.ensurePolled();var m=d.display.shift,C=!1;try{d.isReadOnly()&&(d.state.suppressEdits=!0),v&&(d.display.shift=!1),C=f(d)!=Et}finally{d.display.shift=m,d.state.suppressEdits=!1}return C}function f4(d,f,v){for(var m=0;m<d.state.keyMaps.length;m++){var C=cc(f,d.state.keyMaps[m],v,d);if(C)return C}return d.options.extraKeys&&cc(f,d.options.extraKeys,v,d)||cc(f,d.options.keyMap,v,d)}var g4=new rt;function $d(d,f,v,m){var C=d.state.keySeq;if(C){if(hy(f))return"handled";if(/\'$/.test(f)?d.state.keySeq=null:g4.set(50,function(){d.state.keySeq==C&&(d.state.keySeq=null,d.display.input.reset())}),by(d,C+" "+f,v,m))return!0}return by(d,f,v,m)}function by(d,f,v,m){var C=f4(d,f,m);return C=="multi"&&(d.state.keySeq=f),C=="handled"&&ar(d,"keyHandled",d,f,v),(C=="handled"||C=="multi")&&(Ze(v),fm(d)),!!C}function Cy(d,f){var v=vy(f,!0);return v?f.shiftKey&&!d.state.keySeq?$d(d,"Shift-"+v,f,function(m){return Xp(d,m,!0)})||$d(d,v,f,function(m){if(typeof m=="string"?/^go[A-Z]/.test(m):m.motion)return Xp(d,m)}):$d(d,v,f,function(m){return Xp(d,m)}):!1}function h4(d,f,v){return $d(d,"'"+v+"'",f,function(m){return Xp(d,m,!0)})}var Im=null;function xy(d){var f=this;if(!(d.target&&d.target!=f.display.input.getField())&&(f.curOp.focus=Z(),!ve(f,d))){s&&l<11&&d.keyCode==27&&(d.returnValue=!1);var v=d.keyCode;f.display.shift=v==16||d.shiftKey;var m=Cy(f,d);g&&(Im=m?v:null,!m&&v==88&&!hr&&(T?d.metaKey:d.ctrlKey)&&f.replaceSelection("",null,"cut")),e&&!T&&!m&&v==46&&d.shiftKey&&!d.ctrlKey&&document.execCommand&&document.execCommand("cut"),v==18&&!/\bCodeMirror-crosshair\b/.test(f.display.lineDiv.className)&&m4(f)}}function m4(d){var f=d.display.lineDiv;et(f,"CodeMirror-crosshair");function v(m){(m.keyCode==18||!m.altKey)&&(N(f,"CodeMirror-crosshair"),Oe(document,"keyup",v),Oe(document,"mouseover",v))}Vt(document,"keyup",v),Vt(document,"mouseover",v)}function Oy(d){d.keyCode==16&&(this.doc.sel.shift=!1),ve(this,d)}function Py(d){var f=this;if(!(d.target&&d.target!=f.display.input.getField())&&!(mo(f.display,d)||ve(f,d)||d.ctrlKey&&!d.altKey||T&&d.metaKey)){var v=d.keyCode,m=d.charCode;if(g&&v==Im){Im=null,Ze(d);return}if(!(g&&(!d.which||d.which<10)&&Cy(f,d))){var C=String.fromCharCode(m??v);C!="\b"&&(h4(f,d,C)||f.display.input.onKeyPress(d))}}}var v4=400,Dm=function(d,f,v){this.time=d,this.pos=f,this.button=v};Dm.prototype.compare=function(d,f,v){return this.time+v4>d&&Ne(f,this.pos)==0&&v==this.button};var Yd,Xd;function _4(d,f){var v=+new Date;return Xd&&Xd.compare(v,d,f)?(Yd=Xd=null,"triple"):Yd&&Yd.compare(v,d,f)?(Xd=new Dm(v,d,f),Yd=null,"double"):(Yd=new Dm(v,d,f),Xd=null,"single")}function My(d){var f=this,v=f.display;if(!(ve(f,d)||v.activeTouch&&v.input.supportsTouch())){if(v.input.ensurePolled(),v.shift=d.shiftKey,mo(v,d)){c||(v.scroller.draggable=!1,setTimeout(function(){return v.scroller.draggable=!0},100));return}if(!Lm(f,d)){var m=il(f,d),C=Dt(d),S=m?_4(m,C):"single";window.focus(),C==1&&f.state.selectingText&&f.state.selectingText(d),!(m&&y4(f,C,m,S,d))&&(C==1?m?C4(f,m,S,d):Mt(d)==v.scroller&&Ze(d):C==2?(m&&Wp(f.doc,m),setTimeout(function(){return v.input.focus()},20)):C==3&&(R?f.display.input.onContextMenu(d):gm(f)))}}}function y4(d,f,v,m,C){var S="Click";return m=="double"?S="Double"+S:m=="triple"&&(S="Triple"+S),S=(f==1?"Left":f==2?"Middle":"Right")+S,$d(d,my(S,C),C,function(F){if(typeof F=="string"&&(F=qd[F]),!F)return!1;var B=!1;try{d.isReadOnly()&&(d.state.suppressEdits=!0),B=F(d,v)!=Et}finally{d.state.suppressEdits=!1}return B})}function b4(d,f,v){var m=d.getOption("configureMouse"),C=m?m(d,f,v):{};if(C.unit==null){var S=b?v.shiftKey&&v.metaKey:v.altKey;C.unit=S?"rectangle":f=="single"?"char":f=="double"?"word":"line"}return(C.extend==null||d.doc.extend)&&(C.extend=d.doc.extend||v.shiftKey),C.addNew==null&&(C.addNew=T?v.metaKey:v.ctrlKey),C.moveOnDrag==null&&(C.moveOnDrag=!(T?v.altKey:v.ctrlKey)),C}function C4(d,f,v,m){s?setTimeout(Gt(w_,d),0):d.curOp.focus=Z();var C=b4(d,v,m),S=d.doc.sel,F;d.options.dragDrop&&ee&&!d.isReadOnly()&&v=="single"&&(F=S.contains(f))>-1&&(Ne((F=S.ranges[F]).from(),f)<0||f.xRel>0)&&(Ne(F.to(),f)>0||f.xRel<0)?x4(d,m,f,C):O4(d,m,f,C)}function x4(d,f,v,m){var C=d.display,S=!1,F=Nr(d,function(Q){c&&(C.scroller.draggable=!1),d.state.draggingText=!1,d.state.delayingBlurEvent&&(d.hasFocus()?d.state.delayingBlurEvent=!1:gm(d)),Oe(C.wrapper.ownerDocument,"mouseup",F),Oe(C.wrapper.ownerDocument,"mousemove",B),Oe(C.scroller,"dragstart",$),Oe(C.scroller,"drop",F),S||(Ze(Q),m.addNew||Wp(d.doc,v,null,null,m.extend),c&&!h||s&&l==9?setTimeout(function(){C.wrapper.ownerDocument.body.focus({preventScroll:!0}),C.input.focus()},20):C.input.focus())}),B=function(Q){S=S||Math.abs(f.clientX-Q.clientX)+Math.abs(f.clientY-Q.clientY)>=10},$=function(){return S=!0};c&&(C.scroller.draggable=!0),d.state.draggingText=F,F.copy=!m.moveOnDrag,Vt(C.wrapper.ownerDocument,"mouseup",F),Vt(C.wrapper.ownerDocument,"mousemove",B),Vt(C.scroller,"dragstart",$),Vt(C.scroller,"drop",F),d.state.delayingBlurEvent=!0,setTimeout(function(){return C.input.focus()},20),C.scroller.dragDrop&&C.scroller.dragDrop()}function wy(d,f,v){if(v=="char")return new An(f,f);if(v=="word")return d.findWordAt(f);if(v=="line")return new An(Jt(f.line,0),fe(d.doc,Jt(f.line+1,0)));var m=v(d,f);return new An(m.from,m.to)}function O4(d,f,v,m){s&&gm(d);var C=d.display,S=d.doc;Ze(f);var F,B,$=S.sel,Q=$.ranges;if(m.addNew&&!m.extend?(B=S.sel.contains(v),B>-1?F=Q[B]:F=new An(v,v)):(F=S.sel.primary(),B=S.sel.primIndex),m.unit=="rectangle")m.addNew||(F=new An(v,v)),v=il(d,f,!0,!0),B=-1;else{var vt=wy(d,v,m.unit);m.extend?F=Sm(F,vt.anchor,vt.head,m.extend):F=vt}m.addNew?B==-1?(B=Q.length,Zr(S,zo(d,Q.concat([F]),B),{scroll:!1,origin:"*mouse"})):Q.length>1&&Q[B].empty()&&m.unit=="char"&&!m.extend?(Zr(S,zo(d,Q.slice(0,B).concat(Q.slice(B+1)),0),{scroll:!1,origin:"*mouse"}),$=S.sel):Tm(S,B,F,Ht):(B=0,Zr(S,new to([F],0),Ht),$=S.sel);var Ot=v;function jt(Se){if(Ne(Ot,Se)!=0)if(Ot=Se,m.unit=="rectangle"){for(var Ie=[],qe=d.options.tabSize,We=_t(H(S,v.line).text,v.ch,qe),an=_t(H(S,Se.line).text,Se.ch,qe),Un=Math.min(We,an),Fr=Math.max(We,an),ir=Math.min(v.line,Se.line),Ei=Math.min(d.lastLine(),Math.max(v.line,Se.line));ir<=Ei;ir++){var fi=H(S,ir).text,vr=at(fi,Un,qe);Un==Fr?Ie.push(new An(Jt(ir,vr),Jt(ir,vr))):fi.length>vr&&Ie.push(new An(Jt(ir,vr),Jt(ir,at(fi,Fr,qe))))}Ie.length||Ie.push(new An(v,v)),Zr(S,zo(d,$.ranges.slice(0,B).concat(Ie),B),{origin:"*mouse",scroll:!1}),d.scrollIntoView(Se)}else{var gi=F,Br=wy(d,Se,m.unit),Sr=gi.anchor,_r;Ne(Br.anchor,Sr)>0?(_r=Br.head,Sr=Zt(gi.from(),Br.anchor)):(_r=Br.anchor,Sr=bt(gi.to(),Br.head));var sr=$.ranges.slice(0);sr[B]=P4(d,new An(fe(S,Sr),_r)),Zr(S,zo(d,sr,B),Ht)}}var Ft=C.wrapper.getBoundingClientRect(),te=0;function ue(Se){var Ie=++te,qe=il(d,Se,!0,m.unit=="rectangle");if(qe)if(Ne(qe,Ot)!=0){d.curOp.focus=Z(),jt(qe);var We=Vp(C,S);(qe.line>=We.to||qe.line<We.from)&&setTimeout(Nr(d,function(){te==Ie&&ue(Se)}),150)}else{var an=Se.clientY<Ft.top?-20:Se.clientY>Ft.bottom?20:0;an&&setTimeout(Nr(d,function(){te==Ie&&(C.scroller.scrollTop+=an,ue(Se))}),50)}}function me(Se){d.state.selectingText=!1,te=1/0,Se&&(Ze(Se),C.input.focus()),Oe(C.wrapper.ownerDocument,"mousemove",we),Oe(C.wrapper.ownerDocument,"mouseup",ke),S.history.lastSelOrigin=null}var we=Nr(d,function(Se){Se.buttons===0||!Dt(Se)?me(Se):ue(Se)}),ke=Nr(d,me);d.state.selectingText=ke,Vt(C.wrapper.ownerDocument,"mousemove",we),Vt(C.wrapper.ownerDocument,"mouseup",ke)}function P4(d,f){var v=f.anchor,m=f.head,C=H(d.doc,v.line);if(Ne(v,m)==0&&v.sticky==m.sticky)return f;var S=it(C);if(!S)return f;var F=dt(S,v.ch,v.sticky),B=S[F];if(B.from!=v.ch&&B.to!=v.ch)return f;var $=F+(B.from==v.ch==(B.level!=1)?0:1);if($==0||$==S.length)return f;var Q;if(m.line!=v.line)Q=(m.line-v.line)*(d.doc.direction=="ltr"?1:-1)>0;else{var vt=dt(S,m.ch,m.sticky),Ot=vt-F||(m.ch-v.ch)*(B.level==1?-1:1);vt==$-1||vt==$?Q=Ot<0:Q=Ot>0}var jt=S[$+(Q?-1:0)],Ft=Q==(jt.level==1),te=Ft?jt.from:jt.to,ue=Ft?"after":"before";return v.ch==te&&v.sticky==ue?f:new An(new Jt(v.line,te,ue),m)}function Sy(d,f,v,m){var C,S;if(f.touches)C=f.touches[0].clientX,S=f.touches[0].clientY;else try{C=f.clientX,S=f.clientY}catch{return!1}if(C>=Math.floor(d.display.gutters.getBoundingClientRect().right))return!1;m&&Ze(f);var F=d.display,B=F.lineDiv.getBoundingClientRect();if(S>B.bottom||!Qe(d,v))return Kn(f);S-=B.top-F.viewOffset;for(var $=0;$<d.display.gutterSpecs.length;++$){var Q=F.gutters.childNodes[$];if(Q&&Q.getBoundingClientRect().right>=C){var vt=ze(d.doc,S),Ot=d.display.gutterSpecs[$];return Pe(d,v,d,vt,Ot.className,f),Kn(f)}}}function Lm(d,f){return Sy(d,f,"gutterClick",!0)}function Ty(d,f){mo(d.display,f)||M4(d,f)||ve(d,f,"contextmenu")||R||d.display.input.onContextMenu(f)}function M4(d,f){return Qe(d,"gutterContextMenu")?Sy(d,f,"gutterContextMenu",!1):!1}function Ey(d){d.display.wrapper.className=d.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+d.options.theme.replace(/(^|\s)\s*/g," cm-s-"),kd(d)}var uc={toString:function(){return"CodeMirror.Init"}},ky={},Qp={};function w4(d){var f=d.optionHandlers;function v(m,C,S,F){d.defaults[m]=C,S&&(f[m]=F?function(B,$,Q){Q!=uc&&S(B,$,Q)}:S)}d.defineOption=v,d.Init=uc,v("value","",function(m,C){return m.setValue(C)},!0),v("mode",null,function(m,C){m.doc.modeOption=C,Pm(m)},!0),v("indentUnit",2,Pm,!0),v("indentWithTabs",!1),v("smartIndent",!0),v("tabSize",4,function(m){Vd(m),kd(m),ui(m)},!0),v("lineSeparator",null,function(m,C){if(m.doc.lineSep=C,!!C){var S=[],F=m.doc.first;m.doc.iter(function($){for(var Q=0;;){var vt=$.text.indexOf(C,Q);if(vt==-1)break;Q=vt+C.length,S.push(Jt(F,vt))}F++});for(var B=S.length-1;B>=0;B--)sc(m.doc,C,S[B],Jt(S[B].line,S[B].ch+C.length))}}),v("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(m,C,S){m.state.specialChars=new RegExp(C.source+(C.test("	")?"":"|	"),"g"),S!=uc&&m.refresh()}),v("specialCharPlaceholder",xp,function(m){return m.refresh()},!0),v("electricChars",!0),v("inputStyle",w?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),v("spellcheck",!1,function(m,C){return m.getInputField().spellcheck=C},!0),v("autocorrect",!1,function(m,C){return m.getInputField().autocorrect=C},!0),v("autocapitalize",!1,function(m,C){return m.getInputField().autocapitalize=C},!0),v("rtlMoveVisually",!k),v("wholeLineUpdateBefore",!0),v("theme","default",function(m){Ey(m),Fd(m)},!0),v("keyMap","default",function(m,C,S){var F=Yp(C),B=S!=uc&&Yp(S);B&&B.detach&&B.detach(m,F),F.attach&&F.attach(m,B||null)}),v("extraKeys",null),v("configureMouse",null),v("lineWrapping",!1,T4,!0),v("gutters",[],function(m,C){m.display.gutterSpecs=xm(C,m.options.lineNumbers),Fd(m)},!0),v("fixedGutter",!0,function(m,C){m.display.gutters.style.left=C?um(m.display)+"px":"0",m.refresh()},!0),v("coverGutterNextToScrollbar",!1,function(m){return rc(m)},!0),v("scrollbarStyle","native",function(m){I_(m),rc(m),m.display.scrollbars.setScrollTop(m.doc.scrollTop),m.display.scrollbars.setScrollLeft(m.doc.scrollLeft)},!0),v("lineNumbers",!1,function(m,C){m.display.gutterSpecs=xm(m.options.gutters,C),Fd(m)},!0),v("firstLineNumber",1,Fd,!0),v("lineNumberFormatter",function(m){return m},Fd,!0),v("showCursorWhenSelecting",!1,Ad,!0),v("resetSelectionOnContextMenu",!0),v("lineWiseCopyCut",!0),v("pasteLinesPerSelection",!0),v("selectionsMayTouch",!1),v("readOnly",!1,function(m,C){C=="nocursor"&&(ec(m),m.display.input.blur()),m.display.input.readOnlyChanged(C)}),v("screenReaderLabel",null,function(m,C){C=C===""?null:C,m.display.input.screenReaderLabelChanged(C)}),v("disableInput",!1,function(m,C){C||m.display.input.reset()},!0),v("dragDrop",!0,S4),v("allowDropFileTypes",null),v("cursorBlinkRate",530),v("cursorScrollMargin",0),v("cursorHeight",1,Ad,!0),v("singleCursorHeightPerLine",!0,Ad,!0),v("workTime",100),v("workDelay",100),v("flattenSpans",!0,Vd,!0),v("addModeClass",!1,Vd,!0),v("pollInterval",100),v("undoDepth",200,function(m,C){return m.doc.history.undoDepth=C}),v("historyEventDelay",1250),v("viewportMargin",10,function(m){return m.refresh()},!0),v("maxHighlightLength",1e4,Vd,!0),v("moveInputWithCursor",!0,function(m,C){C||m.display.input.resetPosition()}),v("tabindex",null,function(m,C){return m.display.input.getField().tabIndex=C||""}),v("autofocus",null),v("direction","ltr",function(m,C){return m.doc.setDirection(C)},!0),v("phrases",null)}function S4(d,f,v){var m=v&&v!=uc;if(!f!=!m){var C=d.display.dragFunctions,S=f?Vt:Oe;S(d.display.scroller,"dragstart",C.start),S(d.display.scroller,"dragenter",C.enter),S(d.display.scroller,"dragover",C.over),S(d.display.scroller,"dragleave",C.leave),S(d.display.scroller,"drop",C.drop)}}function T4(d){d.options.lineWrapping?(et(d.display.wrapper,"CodeMirror-wrap"),d.display.sizer.style.minWidth="",d.display.sizerWidth=null):(N(d.display.wrapper,"CodeMirror-wrap"),es(d)),pm(d),ui(d),kd(d),setTimeout(function(){return rc(d)},100)}function Qn(d,f){var v=this;if(!(this instanceof Qn))return new Qn(d,f);this.options=f=f?Pt(f):{},Pt(ky,f,!1);var m=f.value;typeof m=="string"?m=new pi(m,f.mode,null,f.lineSeparator,f.direction):f.mode&&(m.modeOption=f.mode),this.doc=m;var C=new Qn.inputStyles[f.inputStyle](this),S=this.display=new H9(d,m,C,f);S.wrapper.CodeMirror=this,Ey(this),f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),I_(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new rt,keySeq:null,specialChars:null},f.autofocus&&!w&&S.input.focus(),s&&l<11&&setTimeout(function(){return v.display.input.reset(!0)},20),E4(this),a4(),ll(this),this.curOp.forceUpdate=!0,B_(this,m),f.autofocus&&!w||this.hasFocus()?setTimeout(function(){v.hasFocus()&&!v.state.focused&&hm(v)},20):ec(this);for(var F in Qp)Qp.hasOwnProperty(F)&&Qp[F](this,f[F],uc);N_(this),f.finishInit&&f.finishInit(this);for(var B=0;B<Nm.length;++B)Nm[B](this);cl(this),c&&f.lineWrapping&&getComputedStyle(S.lineDiv).textRendering=="optimizelegibility"&&(S.lineDiv.style.textRendering="auto")}Qn.defaults=ky,Qn.optionHandlers=Qp;function E4(d){var f=d.display;Vt(f.scroller,"mousedown",Nr(d,My)),s&&l<11?Vt(f.scroller,"dblclick",Nr(d,function($){if(!ve(d,$)){var Q=il(d,$);if(!(!Q||Lm(d,$)||mo(d.display,$))){Ze($);var vt=d.findWordAt(Q);Wp(d.doc,vt.anchor,vt.head)}}})):Vt(f.scroller,"dblclick",function($){return ve(d,$)||Ze($)}),Vt(f.scroller,"contextmenu",function($){return Ty(d,$)}),Vt(f.input.getField(),"contextmenu",function($){f.scroller.contains($.target)||Ty(d,$)});var v,m={end:0};function C(){f.activeTouch&&(v=setTimeout(function(){return f.activeTouch=null},1e3),m=f.activeTouch,m.end=+new Date)}function S($){if($.touches.length!=1)return!1;var Q=$.touches[0];return Q.radiusX<=1&&Q.radiusY<=1}function F($,Q){if(Q.left==null)return!0;var vt=Q.left-$.left,Ot=Q.top-$.top;return vt*vt+Ot*Ot>400}Vt(f.scroller,"touchstart",function($){if(!ve(d,$)&&!S($)&&!Lm(d,$)){f.input.ensurePolled(),clearTimeout(v);var Q=+new Date;f.activeTouch={start:Q,moved:!1,prev:Q-m.end<=300?m:null},$.touches.length==1&&(f.activeTouch.left=$.touches[0].pageX,f.activeTouch.top=$.touches[0].pageY)}}),Vt(f.scroller,"touchmove",function(){f.activeTouch&&(f.activeTouch.moved=!0)}),Vt(f.scroller,"touchend",function($){var Q=f.activeTouch;if(Q&&!mo(f,$)&&Q.left!=null&&!Q.moved&&new Date-Q.start<300){var vt=d.coordsChar(f.activeTouch,"page"),Ot;!Q.prev||F(Q,Q.prev)?Ot=new An(vt,vt):!Q.prev.prev||F(Q,Q.prev.prev)?Ot=d.findWordAt(vt):Ot=new An(Jt(vt.line,0),fe(d.doc,Jt(vt.line+1,0))),d.setSelection(Ot.anchor,Ot.head),d.focus(),Ze($)}C()}),Vt(f.scroller,"touchcancel",C),Vt(f.scroller,"scroll",function(){f.scroller.clientHeight&&(Dd(d,f.scroller.scrollTop),al(d,f.scroller.scrollLeft,!0),Pe(d,"scroll",d))}),Vt(f.scroller,"mousewheel",function($){return V_(d,$)}),Vt(f.scroller,"DOMMouseScroll",function($){return V_(d,$)}),Vt(f.wrapper,"scroll",function(){return f.wrapper.scrollTop=f.wrapper.scrollLeft=0}),f.dragFunctions={enter:function($){ve(d,$)||lt($)},over:function($){ve(d,$)||(o4(d,$),lt($))},start:function($){return i4(d,$)},drop:Nr(d,r4),leave:function($){ve(d,$)||py(d)}};var B=f.input.getField();Vt(B,"keyup",function($){return Oy.call(d,$)}),Vt(B,"keydown",Nr(d,xy)),Vt(B,"keypress",Nr(d,Py)),Vt(B,"focus",function($){return hm(d,$)}),Vt(B,"blur",function($){return ec(d,$)})}var Nm=[];Qn.defineInitHook=function(d){return Nm.push(d)};function Qd(d,f,v,m){var C=d.doc,S;v==null&&(v="add"),v=="smart"&&(C.mode.indent?S=di(d,f).state:v="prev");var F=d.options.tabSize,B=H(C,f),$=_t(B.text,null,F);B.stateAfter&&(B.stateAfter=null);var Q=B.text.match(/^\s*/)[0],vt;if(!m&&!/\S/.test(B.text))vt=0,v="not";else if(v=="smart"&&(vt=C.mode.indent(S,B.text.slice(Q.length),B.text),vt==Et||vt>150)){if(!m)return;v="prev"}v=="prev"?f>C.first?vt=_t(H(C,f-1).text,null,F):vt=0:v=="add"?vt=$+d.options.indentUnit:v=="subtract"?vt=$-d.options.indentUnit:typeof v=="number"&&(vt=$+v),vt=Math.max(0,vt);var Ot="",jt=0;if(d.options.indentWithTabs)for(var Ft=Math.floor(vt/F);Ft;--Ft)jt+=F,Ot+="	";if(jt<vt&&(Ot+=le(vt-jt)),Ot!=Q)return sc(C,Ot,Jt(f,0),Jt(f,Q.length),"+input"),B.stateAfter=null,!0;for(var te=0;te<C.sel.ranges.length;te++){var ue=C.sel.ranges[te];if(ue.head.line==f&&ue.head.ch<Q.length){var me=Jt(f,Q.length);Tm(C,te,new An(me,me));break}}}var jo=null;function Jp(d){jo=d}function Rm(d,f,v,m,C){var S=d.doc;d.display.shift=!1,m||(m=S.sel);var F=+new Date-200,B=C=="paste"||d.state.pasteIncoming>F,$=On(f),Q=null;if(B&&m.ranges.length>1)if(jo&&jo.text.join(`
`)==f){if(m.ranges.length%jo.text.length==0){Q=[];for(var vt=0;vt<jo.text.length;vt++)Q.push(S.splitLines(jo.text[vt]))}}else $.length==m.ranges.length&&d.options.pasteLinesPerSelection&&(Q=oe($,function(we){return[we]}));for(var Ot=d.curOp.updateInput,jt=m.ranges.length-1;jt>=0;jt--){var Ft=m.ranges[jt],te=Ft.from(),ue=Ft.to();Ft.empty()&&(v&&v>0?te=Jt(te.line,te.ch-v):d.state.overwrite&&!B?ue=Jt(ue.line,Math.min(H(S,ue.line).text.length,ue.ch+Ct($).length)):B&&jo&&jo.lineWise&&jo.text.join(`
`)==$.join(`
`)&&(te=ue=Jt(te.line,0)));var me={from:te,to:ue,text:Q?Q[jt%Q.length]:$,origin:C||(B?"paste":d.state.cutIncoming>F?"cut":"+input")};ac(d.doc,me),ar(d,"inputRead",d,me)}f&&!B&&Iy(d,f),nc(d),d.curOp.updateInput<2&&(d.curOp.updateInput=Ot),d.curOp.typing=!0,d.state.pasteIncoming=d.state.cutIncoming=-1}function Ay(d,f){var v=d.clipboardData&&d.clipboardData.getData("Text");if(v)return d.preventDefault(),!f.isReadOnly()&&!f.options.disableInput&&Ti(f,function(){return Rm(f,v,0,null,"paste")}),!0}function Iy(d,f){if(!(!d.options.electricChars||!d.options.smartIndent))for(var v=d.doc.sel,m=v.ranges.length-1;m>=0;m--){var C=v.ranges[m];if(!(C.head.ch>100||m&&v.ranges[m-1].head.line==C.head.line)){var S=d.getModeAt(C.head),F=!1;if(S.electricChars){for(var B=0;B<S.electricChars.length;B++)if(f.indexOf(S.electricChars.charAt(B))>-1){F=Qd(d,C.head.line,"smart");break}}else S.electricInput&&S.electricInput.test(H(d.doc,C.head.line).text.slice(0,C.head.ch))&&(F=Qd(d,C.head.line,"smart"));F&&ar(d,"electricInput",d,C.head.line)}}}function Dy(d){for(var f=[],v=[],m=0;m<d.doc.sel.ranges.length;m++){var C=d.doc.sel.ranges[m].head.line,S={anchor:Jt(C,0),head:Jt(C+1,0)};v.push(S),f.push(d.getRange(S.anchor,S.head))}return{text:f,ranges:v}}function Ly(d,f,v,m){d.setAttribute("autocorrect",v?"":"off"),d.setAttribute("autocapitalize",m?"":"off"),d.setAttribute("spellcheck",!!f)}function Ny(){var d=W("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),f=W("div",[d],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?d.style.width="1000px":d.setAttribute("wrap","off"),x&&(d.style.border="1px solid black"),Ly(d),f}function k4(d){var f=d.optionHandlers,v=d.helpers={};d.prototype={constructor:d,focus:function(){window.focus(),this.display.input.focus()},setOption:function(m,C){var S=this.options,F=S[m];S[m]==C&&m!="mode"||(S[m]=C,f.hasOwnProperty(m)&&Nr(this,f[m])(this,C,F),Pe(this,"optionChange",this,m))},getOption:function(m){return this.options[m]},getDoc:function(){return this.doc},addKeyMap:function(m,C){this.state.keyMaps[C?"push":"unshift"](Yp(m))},removeKeyMap:function(m){for(var C=this.state.keyMaps,S=0;S<C.length;++S)if(C[S]==m||C[S].name==m)return C.splice(S,1),!0},addOverlay:oi(function(m,C){var S=m.token?m:d.getMode(this.options,m);if(S.startState)throw new Error("Overlays may not be stateful.");ge(this.state.overlays,{mode:S,modeSpec:m,opaque:C&&C.opaque,priority:C&&C.priority||0},function(F){return F.priority}),this.state.modeGen++,ui(this)}),removeOverlay:oi(function(m){for(var C=this.state.overlays,S=0;S<C.length;++S){var F=C[S].modeSpec;if(F==m||typeof m=="string"&&F.name==m){C.splice(S,1),this.state.modeGen++,ui(this);return}}}),indentLine:oi(function(m,C,S){typeof C!="string"&&typeof C!="number"&&(C==null?C=this.options.smartIndent?"smart":"prev":C=C?"add":"subtract"),Re(this.doc,m)&&Qd(this,m,C,S)}),indentSelection:oi(function(m){for(var C=this.doc.sel.ranges,S=-1,F=0;F<C.length;F++){var B=C[F];if(B.empty())B.head.line>S&&(Qd(this,B.head.line,m,!0),S=B.head.line,F==this.doc.sel.primIndex&&nc(this));else{var $=B.from(),Q=B.to(),vt=Math.max(S,$.line);S=Math.min(this.lastLine(),Q.line-(Q.ch?0:1))+1;for(var Ot=vt;Ot<S;++Ot)Qd(this,Ot,m);var jt=this.doc.sel.ranges;$.ch==0&&C.length==jt.length&&jt[F].from().ch>0&&Tm(this.doc,F,new An($,jt[F].to()),Nt)}}}),getTokenAt:function(m,C){return Js(this,m,C)},getLineTokens:function(m,C){return Js(this,Jt(m),C,!0)},getTokenTypeAt:function(m){m=fe(this.doc,m);var C=Yi(this,H(this.doc,m.line)),S=0,F=(C.length-1)/2,B=m.ch,$;if(B==0)$=C[2];else for(;;){var Q=S+F>>1;if((Q?C[Q*2-1]:0)>=B)F=Q;else if(C[Q*2+1]<B)S=Q+1;else{$=C[Q*2+2];break}}var vt=$?$.indexOf("overlay "):-1;return vt<0?$:vt==0?null:$.slice(0,vt-1)},getModeAt:function(m){var C=this.doc.mode;return C.innerMode?d.innerMode(C,this.getTokenAt(m).state).mode:C},getHelper:function(m,C){return this.getHelpers(m,C)[0]},getHelpers:function(m,C){var S=[];if(!v.hasOwnProperty(C))return S;var F=v[C],B=this.getModeAt(m);if(typeof B[C]=="string")F[B[C]]&&S.push(F[B[C]]);else if(B[C])for(var $=0;$<B[C].length;$++){var Q=F[B[C][$]];Q&&S.push(Q)}else B.helperType&&F[B.helperType]?S.push(F[B.helperType]):F[B.name]&&S.push(F[B.name]);for(var vt=0;vt<F._global.length;vt++){var Ot=F._global[vt];Ot.pred(B,this)&&ft(S,Ot.val)==-1&&S.push(Ot.val)}return S},getStateAfter:function(m,C){var S=this.doc;return m=pe(S,m??S.first+S.size-1),di(this,m+1,C).state},cursorCoords:function(m,C){var S,F=this.doc.sel.primary();return m==null?S=F.head:typeof m=="object"?S=fe(this.doc,m):S=m?F.from():F.to(),Vo(this,S,C||"page")},charCoords:function(m,C){return Lp(this,fe(this.doc,m),C||"page")},coordsChar:function(m,C){return m=__(this,m,C||"page"),lm(this,m.left,m.top)},lineAtHeight:function(m,C){return m=__(this,{top:m,left:0},C||"page").top,ze(this.doc,m+this.display.viewOffset)},heightAtLine:function(m,C,S){var F=!1,B;if(typeof m=="number"){var $=this.doc.first+this.doc.size-1;m<this.doc.first?m=this.doc.first:m>$&&(m=$,F=!0),B=H(this.doc,m)}else B=m;return Dp(this,B,{top:0,left:0},C||"page",S||F).top+(F?this.doc.height-wi(B):0)},defaultTextHeight:function(){return Zl(this.display)},defaultCharWidth:function(){return tc(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(m,C,S,F,B){var $=this.display;m=Vo(this,fe(this.doc,m));var Q=m.bottom,vt=m.left;if(C.style.position="absolute",C.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(C),$.sizer.appendChild(C),F=="over")Q=m.top;else if(F=="above"||F=="near"){var Ot=Math.max($.wrapper.clientHeight,this.doc.height),jt=Math.max($.sizer.clientWidth,$.lineSpace.clientWidth);(F=="above"||m.bottom+C.offsetHeight>Ot)&&m.top>C.offsetHeight?Q=m.top-C.offsetHeight:m.bottom+C.offsetHeight<=Ot&&(Q=m.bottom),vt+C.offsetWidth>jt&&(vt=jt-C.offsetWidth)}C.style.top=Q+"px",C.style.left=C.style.right="",B=="right"?(vt=$.sizer.clientWidth-C.offsetWidth,C.style.right="0px"):(B=="left"?vt=0:B=="middle"&&(vt=($.sizer.clientWidth-C.offsetWidth)/2),C.style.left=vt+"px"),S&&S9(this,{left:vt,top:Q,right:vt+C.offsetWidth,bottom:Q+C.offsetHeight})},triggerOnKeyDown:oi(xy),triggerOnKeyPress:oi(Py),triggerOnKeyUp:Oy,triggerOnMouseDown:oi(My),execCommand:function(m){if(qd.hasOwnProperty(m))return qd[m].call(null,this)},triggerElectric:oi(function(m){Iy(this,m)}),findPosH:function(m,C,S,F){var B=1;C<0&&(B=-1,C=-C);for(var $=fe(this.doc,m),Q=0;Q<C&&($=Fm(this.doc,$,B,S,F),!$.hitSide);++Q);return $},moveH:oi(function(m,C){var S=this;this.extendSelectionsBy(function(F){return S.display.shift||S.doc.extend||F.empty()?Fm(S.doc,F.head,m,C,S.options.rtlMoveVisually):m<0?F.from():F.to()},It)}),deleteH:oi(function(m,C){var S=this.doc.sel,F=this.doc;S.somethingSelected()?F.replaceSelection("",null,"+delete"):dc(this,function(B){var $=Fm(F,B.head,m,C,!1);return m<0?{from:$,to:B.head}:{from:B.head,to:$}})}),findPosV:function(m,C,S,F){var B=1,$=F;C<0&&(B=-1,C=-C);for(var Q=fe(this.doc,m),vt=0;vt<C;++vt){var Ot=Vo(this,Q,"div");if($==null?$=Ot.left:Ot.left=$,Q=Ry(this,Ot,B,S),Q.hitSide)break}return Q},moveV:oi(function(m,C){var S=this,F=this.doc,B=[],$=!this.display.shift&&!F.extend&&F.sel.somethingSelected();if(F.extendSelectionsBy(function(vt){if($)return m<0?vt.from():vt.to();var Ot=Vo(S,vt.head,"div");vt.goalColumn!=null&&(Ot.left=vt.goalColumn),B.push(Ot.left);var jt=Ry(S,Ot,m,C);return C=="page"&&vt==F.sel.primary()&&vm(S,Lp(S,jt,"div").top-Ot.top),jt},It),B.length)for(var Q=0;Q<F.sel.ranges.length;Q++)F.sel.ranges[Q].goalColumn=B[Q]}),findWordAt:function(m){var C=this.doc,S=H(C,m.line).text,F=m.ch,B=m.ch;if(S){var $=this.getHelper(m,"wordChars");(m.sticky=="before"||B==S.length)&&F?--F:++B;for(var Q=S.charAt(F),vt=At(Q,$)?function(Ot){return At(Ot,$)}:/\s/.test(Q)?function(Ot){return/\s/.test(Ot)}:function(Ot){return!/\s/.test(Ot)&&!At(Ot)};F>0&&vt(S.charAt(F-1));)--F;for(;B<S.length&&vt(S.charAt(B));)++B}return new An(Jt(m.line,F),Jt(m.line,B))},toggleOverwrite:function(m){m!=null&&m==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?et(this.display.cursorDiv,"CodeMirror-overwrite"):N(this.display.cursorDiv,"CodeMirror-overwrite"),Pe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Z()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:oi(function(m,C){Id(this,m,C)}),getScrollInfo:function(){var m=this.display.scroller;return{left:m.scrollLeft,top:m.scrollTop,height:m.scrollHeight-Si(this)-this.display.barHeight,width:m.scrollWidth-Si(this)-this.display.barWidth,clientHeight:X(this),clientWidth:Ma(this)}},scrollIntoView:oi(function(m,C){m==null?(m={from:this.doc.sel.primary().head,to:null},C==null&&(C=this.options.cursorScrollMargin)):typeof m=="number"?m={from:Jt(m,0),to:null}:m.from==null&&(m={from:m,to:null}),m.to||(m.to=m.from),m.margin=C||0,m.from.line!=null?T9(this,m):T_(this,m.from,m.to,m.margin)}),setSize:oi(function(m,C){var S=this,F=function($){return typeof $=="number"||/^\d+$/.test(String($))?$+"px":$};m!=null&&(this.display.wrapper.style.width=F(m)),C!=null&&(this.display.wrapper.style.height=F(C)),this.options.lineWrapping&&h_(this);var B=this.display.viewFrom;this.doc.iter(B,this.display.viewTo,function($){if($.widgets){for(var Q=0;Q<$.widgets.length;Q++)if($.widgets[Q].noHScroll){cs(S,B,"widget");break}}++B}),this.curOp.forceUpdate=!0,Pe(this,"refresh",this)}),operation:function(m){return Ti(this,m)},startOperation:function(){return ll(this)},endOperation:function(){return cl(this)},refresh:oi(function(){var m=this.display.cachedTextHeight;ui(this),this.curOp.forceUpdate=!0,kd(this),Id(this,this.doc.scrollLeft,this.doc.scrollTop),bm(this.display),(m==null||Math.abs(m-Zl(this.display))>.5||this.options.lineWrapping)&&pm(this),Pe(this,"refresh",this)}),swapDoc:oi(function(m){var C=this.doc;return C.cm=null,this.state.selectingText&&this.state.selectingText(),B_(this,m),kd(this),this.display.input.reset(),Id(this,m.scrollLeft,m.scrollTop),this.curOp.forceScroll=!0,ar(this,"swapDoc",this,C),C}),phrase:function(m){var C=this.options.phrases;return C&&Object.prototype.hasOwnProperty.call(C,m)?C[m]:m},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Xe(d),d.registerHelper=function(m,C,S){v.hasOwnProperty(m)||(v[m]=d[m]={_global:[]}),v[m][C]=S},d.registerGlobalHelper=function(m,C,S,F){d.registerHelper(m,C,F),v[m]._global.push({pred:S,val:F})}}function Fm(d,f,v,m,C){var S=f,F=v,B=H(d,f.line),$=C&&d.direction=="rtl"?-v:v;function Q(){var ke=f.line+$;return ke<d.first||ke>=d.first+d.size?!1:(f=new Jt(ke,f.ch,f.sticky),B=H(d,ke))}function vt(ke){var Se;if(m=="codepoint"){var Ie=B.text.charCodeAt(f.ch+(v>0?0:-1));if(isNaN(Ie))Se=null;else{var qe=v>0?Ie>=55296&&Ie<56320:Ie>=56320&&Ie<57343;Se=new Jt(f.line,Math.max(0,Math.min(B.text.length,f.ch+v*(qe?2:1))),-v)}}else C?Se=u4(d.cm,B,f,v):Se=km(B,f,v);if(Se==null)if(!ke&&Q())f=Am(C,d.cm,B,f.line,$);else return!1;else f=Se;return!0}if(m=="char"||m=="codepoint")vt();else if(m=="column")vt(!0);else if(m=="word"||m=="group")for(var Ot=null,jt=m=="group",Ft=d.cm&&d.cm.getHelper(f,"wordChars"),te=!0;!(v<0&&!vt(!te));te=!1){var ue=B.text.charAt(f.ch)||`
`,me=At(ue,Ft)?"w":jt&&ue==`
`?"n":!jt||/\s/.test(ue)?null:"p";if(jt&&!te&&!me&&(me="s"),Ot&&Ot!=me){v<0&&(v=1,vt(),f.sticky="after");break}if(me&&(Ot=me),v>0&&!vt(!te))break}var we=Kp(d,f,S,F,!0);return Ln(S,we)&&(we.hitSide=!0),we}function Ry(d,f,v,m){var C=d.doc,S=f.left,F;if(m=="page"){var B=Math.min(d.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),$=Math.max(B-.5*Zl(d.display),3);F=(v>0?f.bottom:f.top)+v*$}else m=="line"&&(F=v>0?f.bottom+3:f.top-3);for(var Q;Q=lm(d,S,F),!!Q.outside;){if(v<0?F<=0:F>=C.height){Q.hitSide=!0;break}F+=v*5}return Q}var zn=function(d){this.cm=d,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new rt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};zn.prototype.init=function(d){var f=this,v=this,m=v.cm,C=v.div=d.lineDiv;C.contentEditable=!0,Ly(C,m.options.spellcheck,m.options.autocorrect,m.options.autocapitalize);function S(B){for(var $=B.target;$;$=$.parentNode){if($==C)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test($.className))break}return!1}Vt(C,"paste",function(B){!S(B)||ve(m,B)||Ay(B,m)||l<=11&&setTimeout(Nr(m,function(){return f.updateFromDOM()}),20)}),Vt(C,"compositionstart",function(B){f.composing={data:B.data,done:!1}}),Vt(C,"compositionupdate",function(B){f.composing||(f.composing={data:B.data,done:!1})}),Vt(C,"compositionend",function(B){f.composing&&(B.data!=f.composing.data&&f.readFromDOMSoon(),f.composing.done=!0)}),Vt(C,"touchstart",function(){return v.forceCompositionEnd()}),Vt(C,"input",function(){f.composing||f.readFromDOMSoon()});function F(B){if(!(!S(B)||ve(m,B))){if(m.somethingSelected())Jp({lineWise:!1,text:m.getSelections()}),B.type=="cut"&&m.replaceSelection("",null,"cut");else if(m.options.lineWiseCopyCut){var $=Dy(m);Jp({lineWise:!0,text:$.text}),B.type=="cut"&&m.operation(function(){m.setSelections($.ranges,0,Nt),m.replaceSelection("",null,"cut")})}else return;if(B.clipboardData){B.clipboardData.clearData();var Q=jo.text.join(`
`);if(B.clipboardData.setData("Text",Q),B.clipboardData.getData("Text")==Q){B.preventDefault();return}}var vt=Ny(),Ot=vt.firstChild;m.display.lineSpace.insertBefore(vt,m.display.lineSpace.firstChild),Ot.value=jo.text.join(`
`);var jt=Z();Rt(Ot),setTimeout(function(){m.display.lineSpace.removeChild(vt),jt.focus(),jt==C&&v.showPrimarySelection()},50)}}Vt(C,"copy",F),Vt(C,"cut",F)},zn.prototype.screenReaderLabelChanged=function(d){d?this.div.setAttribute("aria-label",d):this.div.removeAttribute("aria-label")},zn.prototype.prepareSelection=function(){var d=P_(this.cm,!1);return d.focus=Z()==this.div,d},zn.prototype.showSelection=function(d,f){!d||!this.cm.display.view.length||((d.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(d))},zn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},zn.prototype.showPrimarySelection=function(){var d=this.getSelection(),f=this.cm,v=f.doc.sel.primary(),m=v.from(),C=v.to();if(f.display.viewTo==f.display.viewFrom||m.line>=f.display.viewTo||C.line<f.display.viewFrom){d.removeAllRanges();return}var S=Zp(f,d.anchorNode,d.anchorOffset),F=Zp(f,d.focusNode,d.focusOffset);if(!(S&&!S.bad&&F&&!F.bad&&Ne(Zt(S,F),m)==0&&Ne(bt(S,F),C)==0)){var B=f.display.view,$=m.line>=f.display.viewFrom&&Fy(f,m)||{node:B[0].measure.map[2],offset:0},Q=C.line<f.display.viewTo&&Fy(f,C);if(!Q){var vt=B[B.length-1].measure,Ot=vt.maps?vt.maps[vt.maps.length-1]:vt.map;Q={node:Ot[Ot.length-1],offset:Ot[Ot.length-2]-Ot[Ot.length-3]}}if(!$||!Q){d.removeAllRanges();return}var jt=d.rangeCount&&d.getRangeAt(0),Ft;try{Ft=J($.node,$.offset,Q.offset,Q.node)}catch{}Ft&&(!e&&f.state.focused?(d.collapse($.node,$.offset),Ft.collapsed||(d.removeAllRanges(),d.addRange(Ft))):(d.removeAllRanges(),d.addRange(Ft)),jt&&d.anchorNode==null?d.addRange(jt):e&&this.startGracePeriod()),this.rememberSelection()}},zn.prototype.startGracePeriod=function(){var d=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){d.gracePeriod=!1,d.selectionChanged()&&d.cm.operation(function(){return d.cm.curOp.selectionChanged=!0})},20)},zn.prototype.showMultipleSelections=function(d){D(this.cm.display.cursorDiv,d.cursors),D(this.cm.display.selectionDiv,d.selection)},zn.prototype.rememberSelection=function(){var d=this.getSelection();this.lastAnchorNode=d.anchorNode,this.lastAnchorOffset=d.anchorOffset,this.lastFocusNode=d.focusNode,this.lastFocusOffset=d.focusOffset},zn.prototype.selectionInEditor=function(){var d=this.getSelection();if(!d.rangeCount)return!1;var f=d.getRangeAt(0).commonAncestorContainer;return I(this.div,f)},zn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Z()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},zn.prototype.blur=function(){this.div.blur()},zn.prototype.getField=function(){return this.div},zn.prototype.supportsTouch=function(){return!0},zn.prototype.receivedFocus=function(){var d=this,f=this;this.selectionInEditor()?setTimeout(function(){return d.pollSelection()},20):Ti(this.cm,function(){return f.cm.curOp.selectionChanged=!0});function v(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,v))}this.polling.set(this.cm.options.pollInterval,v)},zn.prototype.selectionChanged=function(){var d=this.getSelection();return d.anchorNode!=this.lastAnchorNode||d.anchorOffset!=this.lastAnchorOffset||d.focusNode!=this.lastFocusNode||d.focusOffset!=this.lastFocusOffset},zn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var d=this.getSelection(),f=this.cm;if(P&&p&&this.cm.display.gutterSpecs.length&&A4(d.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var v=Zp(f,d.anchorNode,d.anchorOffset),m=Zp(f,d.focusNode,d.focusOffset);v&&m&&Ti(f,function(){Zr(f.doc,us(v,m),Nt),(v.bad||m.bad)&&(f.curOp.selectionChanged=!0)})}}},zn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var d=this.cm,f=d.display,v=d.doc.sel.primary(),m=v.from(),C=v.to();if(m.ch==0&&m.line>d.firstLine()&&(m=Jt(m.line-1,H(d.doc,m.line-1).length)),C.ch==H(d.doc,C.line).text.length&&C.line<d.lastLine()&&(C=Jt(C.line+1,0)),m.line<f.viewFrom||C.line>f.viewTo-1)return!1;var S,F,B;m.line==f.viewFrom||(S=ol(d,m.line))==0?(F=Ve(f.view[0].line),B=f.view[0].node):(F=Ve(f.view[S].line),B=f.view[S-1].node.nextSibling);var $=ol(d,C.line),Q,vt;if($==f.view.length-1?(Q=f.viewTo-1,vt=f.lineDiv.lastChild):(Q=Ve(f.view[$+1].line)-1,vt=f.view[$+1].node.previousSibling),!B)return!1;for(var Ot=d.doc.splitLines(I4(d,B,vt,F,Q)),jt=gt(d.doc,Jt(F,0),Jt(Q,H(d.doc,Q).text.length));Ot.length>1&&jt.length>1;)if(Ct(Ot)==Ct(jt))Ot.pop(),jt.pop(),Q--;else if(Ot[0]==jt[0])Ot.shift(),jt.shift(),F++;else break;for(var Ft=0,te=0,ue=Ot[0],me=jt[0],we=Math.min(ue.length,me.length);Ft<we&&ue.charCodeAt(Ft)==me.charCodeAt(Ft);)++Ft;for(var ke=Ct(Ot),Se=Ct(jt),Ie=Math.min(ke.length-(Ot.length==1?Ft:0),Se.length-(jt.length==1?Ft:0));te<Ie&&ke.charCodeAt(ke.length-te-1)==Se.charCodeAt(Se.length-te-1);)++te;if(Ot.length==1&&jt.length==1&&F==m.line)for(;Ft&&Ft>m.ch&&ke.charCodeAt(ke.length-te-1)==Se.charCodeAt(Se.length-te-1);)Ft--,te++;Ot[Ot.length-1]=ke.slice(0,ke.length-te).replace(/^\u200b+/,""),Ot[0]=Ot[0].slice(Ft).replace(/\u200b+$/,"");var qe=Jt(F,Ft),We=Jt(Q,jt.length?Ct(jt).length-te:0);if(Ot.length>1||Ot[0]||Ne(qe,We))return sc(d.doc,Ot,qe,We,"+input"),!0},zn.prototype.ensurePolled=function(){this.forceCompositionEnd()},zn.prototype.reset=function(){this.forceCompositionEnd()},zn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},zn.prototype.readFromDOMSoon=function(){var d=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(d.readDOMTimeout=null,d.composing)if(d.composing.done)d.composing=null;else return;d.updateFromDOM()},80))},zn.prototype.updateFromDOM=function(){var d=this;(this.cm.isReadOnly()||!this.pollContent())&&Ti(this.cm,function(){return ui(d.cm)})},zn.prototype.setUneditable=function(d){d.contentEditable="false"},zn.prototype.onKeyPress=function(d){d.charCode==0||this.composing||(d.preventDefault(),this.cm.isReadOnly()||Nr(this.cm,Rm)(this.cm,String.fromCharCode(d.charCode==null?d.keyCode:d.charCode),0))},zn.prototype.readOnlyChanged=function(d){this.div.contentEditable=String(d!="nocursor")},zn.prototype.onContextMenu=function(){},zn.prototype.resetPosition=function(){},zn.prototype.needsContentAttribute=!0;function Fy(d,f){var v=zt(d,f.line);if(!v||v.hidden)return null;var m=H(d.doc,f.line),C=xt(v,m,f.line),S=it(m,d.doc.direction),F="left";if(S){var B=dt(S,f.ch);F=B%2?"right":"left"}var $=Je(C.map,f.ch,F);return $.offset=$.collapse=="right"?$.end:$.start,$}function A4(d){for(var f=d;f;f=f.parentNode)if(/CodeMirror-gutter-wrapper/.test(f.className))return!0;return!1}function pc(d,f){return f&&(d.bad=!0),d}function I4(d,f,v,m,C){var S="",F=!1,B=d.doc.lineSeparator(),$=!1;function Q(Ft){return function(te){return te.id==Ft}}function vt(){F&&(S+=B,$&&(S+=B),F=$=!1)}function Ot(Ft){Ft&&(vt(),S+=Ft)}function jt(Ft){if(Ft.nodeType==1){var te=Ft.getAttribute("cm-text");if(te){Ot(te);return}var ue=Ft.getAttribute("cm-marker"),me;if(ue){var we=d.findMarks(Jt(m,0),Jt(C+1,0),Q(+ue));we.length&&(me=we[0].find(0))&&Ot(gt(d.doc,me.from,me.to).join(B));return}if(Ft.getAttribute("contenteditable")=="false")return;var ke=/^(pre|div|p|li|table|br)$/i.test(Ft.nodeName);if(!/^br$/i.test(Ft.nodeName)&&Ft.textContent.length==0)return;ke&&vt();for(var Se=0;Se<Ft.childNodes.length;Se++)jt(Ft.childNodes[Se]);/^(pre|p)$/i.test(Ft.nodeName)&&($=!0),ke&&(F=!0)}else Ft.nodeType==3&&Ot(Ft.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;jt(f),f!=v;)f=f.nextSibling,$=!1;return S}function Zp(d,f,v){var m;if(f==d.display.lineDiv){if(m=d.display.lineDiv.childNodes[v],!m)return pc(d.clipPos(Jt(d.display.viewTo-1)),!0);f=null,v=0}else for(m=f;;m=m.parentNode){if(!m||m==d.display.lineDiv)return null;if(m.parentNode&&m.parentNode==d.display.lineDiv)break}for(var C=0;C<d.display.view.length;C++){var S=d.display.view[C];if(S.node==m)return D4(S,f,v)}}function D4(d,f,v){var m=d.text.firstChild,C=!1;if(!f||!I(m,f))return pc(Jt(Ve(d.line),0),!0);if(f==m&&(C=!0,f=m.childNodes[v],v=0,!f)){var S=d.rest?Ct(d.rest):d.line;return pc(Jt(Ve(S),S.text.length),C)}var F=f.nodeType==3?f:null,B=f;for(!F&&f.childNodes.length==1&&f.firstChild.nodeType==3&&(F=f.firstChild,v&&(v=F.nodeValue.length));B.parentNode!=m;)B=B.parentNode;var $=d.measure,Q=$.maps;function vt(me,we,ke){for(var Se=-1;Se<(Q?Q.length:0);Se++)for(var Ie=Se<0?$.map:Q[Se],qe=0;qe<Ie.length;qe+=3){var We=Ie[qe+2];if(We==me||We==we){var an=Ve(Se<0?d.line:d.rest[Se]),Un=Ie[qe]+ke;return(ke<0||We!=me)&&(Un=Ie[qe+(ke?1:0)]),Jt(an,Un)}}}var Ot=vt(F,B,v);if(Ot)return pc(Ot,C);for(var jt=B.nextSibling,Ft=F?F.nodeValue.length-v:0;jt;jt=jt.nextSibling){if(Ot=vt(jt,jt.firstChild,0),Ot)return pc(Jt(Ot.line,Ot.ch-Ft),C);Ft+=jt.textContent.length}for(var te=B.previousSibling,ue=v;te;te=te.previousSibling){if(Ot=vt(te,te.firstChild,-1),Ot)return pc(Jt(Ot.line,Ot.ch+ue),C);ue+=te.textContent.length}}var ur=function(d){this.cm=d,this.prevInput="",this.pollingFast=!1,this.polling=new rt,this.hasSelection=!1,this.composing=null};ur.prototype.init=function(d){var f=this,v=this,m=this.cm;this.createField(d);var C=this.textarea;d.wrapper.insertBefore(this.wrapper,d.wrapper.firstChild),x&&(C.style.width="0px"),Vt(C,"input",function(){s&&l>=9&&f.hasSelection&&(f.hasSelection=null),v.poll()}),Vt(C,"paste",function(F){ve(m,F)||Ay(F,m)||(m.state.pasteIncoming=+new Date,v.fastPoll())});function S(F){if(!ve(m,F)){if(m.somethingSelected())Jp({lineWise:!1,text:m.getSelections()});else if(m.options.lineWiseCopyCut){var B=Dy(m);Jp({lineWise:!0,text:B.text}),F.type=="cut"?m.setSelections(B.ranges,null,Nt):(v.prevInput="",C.value=B.text.join(`
`),Rt(C))}else return;F.type=="cut"&&(m.state.cutIncoming=+new Date)}}Vt(C,"cut",S),Vt(C,"copy",S),Vt(d.scroller,"paste",function(F){if(!(mo(d,F)||ve(m,F))){if(!C.dispatchEvent){m.state.pasteIncoming=+new Date,v.focus();return}var B=new Event("paste");B.clipboardData=F.clipboardData,C.dispatchEvent(B)}}),Vt(d.lineSpace,"selectstart",function(F){mo(d,F)||Ze(F)}),Vt(C,"compositionstart",function(){var F=m.getCursor("from");v.composing&&v.composing.range.clear(),v.composing={start:F,range:m.markText(F,m.getCursor("to"),{className:"CodeMirror-composing"})}}),Vt(C,"compositionend",function(){v.composing&&(v.poll(),v.composing.range.clear(),v.composing=null)})},ur.prototype.createField=function(d){this.wrapper=Ny(),this.textarea=this.wrapper.firstChild},ur.prototype.screenReaderLabelChanged=function(d){d?this.textarea.setAttribute("aria-label",d):this.textarea.removeAttribute("aria-label")},ur.prototype.prepareSelection=function(){var d=this.cm,f=d.display,v=d.doc,m=P_(d);if(d.options.moveInputWithCursor){var C=Vo(d,v.sel.primary().head,"div"),S=f.wrapper.getBoundingClientRect(),F=f.lineDiv.getBoundingClientRect();m.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,C.top+F.top-S.top)),m.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,C.left+F.left-S.left))}return m},ur.prototype.showSelection=function(d){var f=this.cm,v=f.display;D(v.cursorDiv,d.cursors),D(v.selectionDiv,d.selection),d.teTop!=null&&(this.wrapper.style.top=d.teTop+"px",this.wrapper.style.left=d.teLeft+"px")},ur.prototype.reset=function(d){if(!(this.contextMenuPending||this.composing)){var f=this.cm;if(f.somethingSelected()){this.prevInput="";var v=f.getSelection();this.textarea.value=v,f.state.focused&&Rt(this.textarea),s&&l>=9&&(this.hasSelection=v)}else d||(this.prevInput=this.textarea.value="",s&&l>=9&&(this.hasSelection=null))}},ur.prototype.getField=function(){return this.textarea},ur.prototype.supportsTouch=function(){return!1},ur.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!w||Z()!=this.textarea))try{this.textarea.focus()}catch{}},ur.prototype.blur=function(){this.textarea.blur()},ur.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ur.prototype.receivedFocus=function(){this.slowPoll()},ur.prototype.slowPoll=function(){var d=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){d.poll(),d.cm.state.focused&&d.slowPoll()})},ur.prototype.fastPoll=function(){var d=!1,f=this;f.pollingFast=!0;function v(){var m=f.poll();!m&&!d?(d=!0,f.polling.set(60,v)):(f.pollingFast=!1,f.slowPoll())}f.polling.set(20,v)},ur.prototype.poll=function(){var d=this,f=this.cm,v=this.textarea,m=this.prevInput;if(this.contextMenuPending||!f.state.focused||rn(v)&&!m&&!this.composing||f.isReadOnly()||f.options.disableInput||f.state.keySeq)return!1;var C=v.value;if(C==m&&!f.somethingSelected())return!1;if(s&&l>=9&&this.hasSelection===C||T&&/[\uf700-\uf7ff]/.test(C))return f.display.input.reset(),!1;if(f.doc.sel==f.display.selForContextMenu){var S=C.charCodeAt(0);if(S==8203&&!m&&(m="\u200B"),S==8666)return this.reset(),this.cm.execCommand("undo")}for(var F=0,B=Math.min(m.length,C.length);F<B&&m.charCodeAt(F)==C.charCodeAt(F);)++F;return Ti(f,function(){Rm(f,C.slice(F),m.length-F,null,d.composing?"*compose":null),C.length>1e3||C.indexOf(`
`)>-1?v.value=d.prevInput="":d.prevInput=C,d.composing&&(d.composing.range.clear(),d.composing.range=f.markText(d.composing.start,f.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ur.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ur.prototype.onKeyPress=function(){s&&l>=9&&(this.hasSelection=null),this.fastPoll()},ur.prototype.onContextMenu=function(d){var f=this,v=f.cm,m=v.display,C=f.textarea;f.contextMenuPending&&f.contextMenuPending();var S=il(v,d),F=m.scroller.scrollTop;if(!S||g)return;var B=v.options.resetSelectionOnContextMenu;B&&v.doc.sel.contains(S)==-1&&Nr(v,Zr)(v.doc,us(S),Nt);var $=C.style.cssText,Q=f.wrapper.style.cssText,vt=f.wrapper.offsetParent.getBoundingClientRect();f.wrapper.style.cssText="position: static",C.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(d.clientY-vt.top-5)+"px; left: "+(d.clientX-vt.left-5)+`px;
      z-index: 1000; background: `+(s?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Ot;c&&(Ot=window.scrollY),m.input.focus(),c&&window.scrollTo(null,Ot),m.input.reset(),v.somethingSelected()||(C.value=f.prevInput=" "),f.contextMenuPending=Ft,m.selForContextMenu=v.doc.sel,clearTimeout(m.detectingSelectAll);function jt(){if(C.selectionStart!=null){var ue=v.somethingSelected(),me="\u200B"+(ue?C.value:"");C.value="\u21DA",C.value=me,f.prevInput=ue?"":"\u200B",C.selectionStart=1,C.selectionEnd=me.length,m.selForContextMenu=v.doc.sel}}function Ft(){if(f.contextMenuPending==Ft&&(f.contextMenuPending=!1,f.wrapper.style.cssText=Q,C.style.cssText=$,s&&l<9&&m.scrollbars.setScrollTop(m.scroller.scrollTop=F),C.selectionStart!=null)){(!s||s&&l<9)&&jt();var ue=0,me=function(){m.selForContextMenu==v.doc.sel&&C.selectionStart==0&&C.selectionEnd>0&&f.prevInput=="\u200B"?Nr(v,ey)(v):ue++<10?m.detectingSelectAll=setTimeout(me,500):(m.selForContextMenu=null,m.input.reset())};m.detectingSelectAll=setTimeout(me,200)}}if(s&&l>=9&&jt(),R){lt(d);var te=function(){Oe(window,"mouseup",te),setTimeout(Ft,20)};Vt(window,"mouseup",te)}else setTimeout(Ft,50)},ur.prototype.readOnlyChanged=function(d){d||this.reset(),this.textarea.disabled=d=="nocursor",this.textarea.readOnly=!!d},ur.prototype.setUneditable=function(){},ur.prototype.needsContentAttribute=!1;function L4(d,f){if(f=f?Pt(f):{},f.value=d.value,!f.tabindex&&d.tabIndex&&(f.tabindex=d.tabIndex),!f.placeholder&&d.placeholder&&(f.placeholder=d.placeholder),f.autofocus==null){var v=Z();f.autofocus=v==d||d.getAttribute("autofocus")!=null&&v==document.body}function m(){d.value=B.getValue()}var C;if(d.form&&(Vt(d.form,"submit",m),!f.leaveSubmitMethodAlone)){var S=d.form;C=S.submit;try{var F=S.submit=function(){m(),S.submit=C,S.submit(),S.submit=F}}catch{}}f.finishInit=function($){$.save=m,$.getTextArea=function(){return d},$.toTextArea=function(){$.toTextArea=isNaN,m(),d.parentNode.removeChild($.getWrapperElement()),d.style.display="",d.form&&(Oe(d.form,"submit",m),!f.leaveSubmitMethodAlone&&typeof d.form.submit=="function"&&(d.form.submit=C))}},d.style.display="none";var B=Qn(function($){return d.parentNode.insertBefore($,d.nextSibling)},f);return B}function N4(d){d.off=Oe,d.on=Vt,d.wheelEventPixels=B9,d.Doc=pi,d.splitLines=On,d.countColumn=_t,d.findColumn=at,d.isWordChar=mt,d.Pass=Et,d.signal=Pe,d.Line=Lr,d.changeEnd=ps,d.scrollbarModel=A_,d.Pos=Jt,d.cmpPos=Ne,d.modes=Or,d.mimeModes=yn,d.resolveMode=Yn,d.getMode=je,d.modeExtensions=Xn,d.extendMode=Fe,d.copyState=Dn,d.startState=A,d.innerMode=mn,d.commands=qd,d.keyMap=wa,d.keyName=vy,d.isModifierKey=hy,d.lookupKey=cc,d.normalizeKeyMap=d4,d.StringStream=U,d.SharedTextMarker=Wd,d.TextMarker=gs,d.LineWidget=Ud,d.e_preventDefault=Ze,d.e_stopPropagation=_n,d.e_stop=lt,d.addClass=et,d.contains=I,d.rmClass=N,d.keyNames=hs}w4(Qn),k4(Qn);var R4="iter insert remove copy getEditor constructor".split(" ");for(var tf in pi.prototype)pi.prototype.hasOwnProperty(tf)&&ft(R4,tf)<0&&(Qn.prototype[tf]=function(d){return function(){return d.apply(this.doc,arguments)}}(pi.prototype[tf]));return Xe(pi),Qn.inputStyles={textarea:ur,contenteditable:zn},Qn.defineMode=function(d){!Qn.defaults.mode&&d!="null"&&(Qn.defaults.mode=d),sn.apply(this,arguments)},Qn.defineMIME=wn,Qn.defineMode("null",function(){return{token:function(d){return d.skipToEnd()}}}),Qn.defineMIME("text/plain","null"),Qn.defineExtension=function(d,f){Qn.prototype[d]=f},Qn.defineDocExtension=function(d,f){pi.prototype[d]=f},Qn.fromTextArea=L4,N4(Qn),Qn.version="5.63.0",Qn})},7389:(o,n,t)=>{(function(e){e(t(4408))})(function(e){"use strict";e.defineMode("css",function(j,D){var W=D.inline;D.propertyKeywords||(D=e.resolveMode("text/css"));var q=j.indentUnit,J=D.tokenHooks,I=D.documentTypes||{},Z=D.mediaTypes||{},et=D.mediaFeatures||{},ut=D.mediaValueKeywords||{},Rt=D.propertyKeywords||{},Gt=D.nonStandardPropertyKeywords||{},Pt=D.fontProperties||{},_t=D.counterDescriptors||{},rt=D.colorKeywords||{},ft=D.valueKeywords||{},wt=D.allowNested,Et=D.lineComment,Nt=D.supportsAtComponent===!0,Ht=j.highlightNonStandardPropertyKeywords!==!1,It,at;function Kt(ht,kt){return It=kt,ht}function le(ht,kt){var Lt=ht.next();if(J[Lt]){var he=J[Lt](ht,kt);if(he!==!1)return he}if(Lt=="@")return ht.eatWhile(/[\w\\\-]/),Kt("def",ht.current());if(Lt=="="||(Lt=="~"||Lt=="|")&&ht.eat("="))return Kt(null,"compare");if(Lt=='"'||Lt=="'")return kt.tokenize=Ct(Lt),kt.tokenize(ht,kt);if(Lt=="#")return ht.eatWhile(/[\w\\\-]/),Kt("atom","hash");if(Lt=="!")return ht.match(/^\s*\w*/),Kt("keyword","important");if(/\d/.test(Lt)||Lt=="."&&ht.eat(/\d/))return ht.eatWhile(/[\w.%]/),Kt("number","unit");if(Lt==="-"){if(/[\d.]/.test(ht.peek()))return ht.eatWhile(/[\w.%]/),Kt("number","unit");if(ht.match(/^-[\w\\\-]*/))return ht.eatWhile(/[\w\\\-]/),ht.match(/^\s*:/,!1)?Kt("variable-2","variable-definition"):Kt("variable-2","variable");if(ht.match(/^\w+-/))return Kt("meta","meta")}else return/[,+>*\/]/.test(Lt)?Kt(null,"select-op"):Lt=="."&&ht.match(/^-?[_a-z][_a-z0-9-]*/i)?Kt("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Lt)?Kt(null,Lt):ht.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(ht.current())&&(kt.tokenize=oe),Kt("variable callee","variable")):/[\w\\\-]/.test(Lt)?(ht.eatWhile(/[\w\\\-]/),Kt("property","word")):Kt(null,null)}function Ct(ht){return function(kt,Lt){for(var he=!1,Ye;(Ye=kt.next())!=null;){if(Ye==ht&&!he){ht==")"&&kt.backUp(1);break}he=!he&&Ye=="\\"}return(Ye==ht||!he&&ht!=")")&&(Lt.tokenize=null),Kt("string","string")}}function oe(ht,kt){return ht.next(),ht.match(/^\s*[\"\')]/,!1)?kt.tokenize=null:kt.tokenize=Ct(")"),Kt(null,"(")}function ge(ht,kt,Lt){this.type=ht,this.indent=kt,this.prev=Lt}function ce(ht,kt,Lt,he){return ht.context=new ge(Lt,kt.indentation()+(he===!1?0:q),ht.context),Lt}function K(ht){return ht.context.prev&&(ht.context=ht.context.prev),ht.context.type}function ot(ht,kt,Lt){return Qt[Lt.context.type](ht,kt,Lt)}function mt(ht,kt,Lt,he){for(var Ye=he||1;Ye>0;Ye--)Lt.context=Lt.context.prev;return ot(ht,kt,Lt)}function At(ht){var kt=ht.current().toLowerCase();ft.hasOwnProperty(kt)?at="atom":rt.hasOwnProperty(kt)?at="keyword":at="variable"}var Qt={};return Qt.top=function(ht,kt,Lt){if(ht=="{")return ce(Lt,kt,"block");if(ht=="}"&&Lt.context.prev)return K(Lt);if(Nt&&/@component/i.test(ht))return ce(Lt,kt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(ht))return ce(Lt,kt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(ht))return ce(Lt,kt,"atBlock");if(/^@(font-face|counter-style)/i.test(ht))return Lt.stateArg=ht,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(ht))return"keyframes";if(ht&&ht.charAt(0)=="@")return ce(Lt,kt,"at");if(ht=="hash")at="builtin";else if(ht=="word")at="tag";else{if(ht=="variable-definition")return"maybeprop";if(ht=="interpolation")return ce(Lt,kt,"interpolation");if(ht==":")return"pseudo";if(wt&&ht=="(")return ce(Lt,kt,"parens")}return Lt.context.type},Qt.block=function(ht,kt,Lt){if(ht=="word"){var he=kt.current().toLowerCase();return Rt.hasOwnProperty(he)?(at="property","maybeprop"):Gt.hasOwnProperty(he)?(at=Ht?"string-2":"property","maybeprop"):wt?(at=kt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(at+=" error","maybeprop")}else return ht=="meta"?"block":!wt&&(ht=="hash"||ht=="qualifier")?(at="error","block"):Qt.top(ht,kt,Lt)},Qt.maybeprop=function(ht,kt,Lt){return ht==":"?ce(Lt,kt,"prop"):ot(ht,kt,Lt)},Qt.prop=function(ht,kt,Lt){if(ht==";")return K(Lt);if(ht=="{"&&wt)return ce(Lt,kt,"propBlock");if(ht=="}"||ht=="{")return mt(ht,kt,Lt);if(ht=="(")return ce(Lt,kt,"parens");if(ht=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(kt.current()))at+=" error";else if(ht=="word")At(kt);else if(ht=="interpolation")return ce(Lt,kt,"interpolation");return"prop"},Qt.propBlock=function(ht,kt,Lt){return ht=="}"?K(Lt):ht=="word"?(at="property","maybeprop"):Lt.context.type},Qt.parens=function(ht,kt,Lt){return ht=="{"||ht=="}"?mt(ht,kt,Lt):ht==")"?K(Lt):ht=="("?ce(Lt,kt,"parens"):ht=="interpolation"?ce(Lt,kt,"interpolation"):(ht=="word"&&At(kt),"parens")},Qt.pseudo=function(ht,kt,Lt){return ht=="meta"?"pseudo":ht=="word"?(at="variable-3",Lt.context.type):ot(ht,kt,Lt)},Qt.documentTypes=function(ht,kt,Lt){return ht=="word"&&I.hasOwnProperty(kt.current())?(at="tag",Lt.context.type):Qt.atBlock(ht,kt,Lt)},Qt.atBlock=function(ht,kt,Lt){if(ht=="(")return ce(Lt,kt,"atBlock_parens");if(ht=="}"||ht==";")return mt(ht,kt,Lt);if(ht=="{")return K(Lt)&&ce(Lt,kt,wt?"block":"top");if(ht=="interpolation")return ce(Lt,kt,"interpolation");if(ht=="word"){var he=kt.current().toLowerCase();he=="only"||he=="not"||he=="and"||he=="or"?at="keyword":Z.hasOwnProperty(he)?at="attribute":et.hasOwnProperty(he)?at="property":ut.hasOwnProperty(he)?at="keyword":Rt.hasOwnProperty(he)?at="property":Gt.hasOwnProperty(he)?at=Ht?"string-2":"property":ft.hasOwnProperty(he)?at="atom":rt.hasOwnProperty(he)?at="keyword":at="error"}return Lt.context.type},Qt.atComponentBlock=function(ht,kt,Lt){return ht=="}"?mt(ht,kt,Lt):ht=="{"?K(Lt)&&ce(Lt,kt,wt?"block":"top",!1):(ht=="word"&&(at="error"),Lt.context.type)},Qt.atBlock_parens=function(ht,kt,Lt){return ht==")"?K(Lt):ht=="{"||ht=="}"?mt(ht,kt,Lt,2):Qt.atBlock(ht,kt,Lt)},Qt.restricted_atBlock_before=function(ht,kt,Lt){return ht=="{"?ce(Lt,kt,"restricted_atBlock"):ht=="word"&&Lt.stateArg=="@counter-style"?(at="variable","restricted_atBlock_before"):ot(ht,kt,Lt)},Qt.restricted_atBlock=function(ht,kt,Lt){return ht=="}"?(Lt.stateArg=null,K(Lt)):ht=="word"?(Lt.stateArg=="@font-face"&&!Pt.hasOwnProperty(kt.current().toLowerCase())||Lt.stateArg=="@counter-style"&&!_t.hasOwnProperty(kt.current().toLowerCase())?at="error":at="property","maybeprop"):"restricted_atBlock"},Qt.keyframes=function(ht,kt,Lt){return ht=="word"?(at="variable","keyframes"):ht=="{"?ce(Lt,kt,"top"):ot(ht,kt,Lt)},Qt.at=function(ht,kt,Lt){return ht==";"?K(Lt):ht=="{"||ht=="}"?mt(ht,kt,Lt):(ht=="word"?at="tag":ht=="hash"&&(at="builtin"),"at")},Qt.interpolation=function(ht,kt,Lt){return ht=="}"?K(Lt):ht=="{"||ht==";"?mt(ht,kt,Lt):(ht=="word"?at="variable":ht!="variable"&&ht!="("&&ht!=")"&&(at="error"),"interpolation")},{startState:function(ht){return{tokenize:null,state:W?"block":"top",stateArg:null,context:new ge(W?"block":"top",ht||0,null)}},token:function(ht,kt){if(!kt.tokenize&&ht.eatSpace())return null;var Lt=(kt.tokenize||le)(ht,kt);return Lt&&typeof Lt=="object"&&(It=Lt[1],Lt=Lt[0]),at=Lt,It!="comment"&&(kt.state=Qt[kt.state](It,ht,kt)),at},indent:function(ht,kt){var Lt=ht.context,he=kt&&kt.charAt(0),Ye=Lt.indent;return Lt.type=="prop"&&(he=="}"||he==")")&&(Lt=Lt.prev),Lt.prev&&(he=="}"&&(Lt.type=="block"||Lt.type=="top"||Lt.type=="interpolation"||Lt.type=="restricted_atBlock")?(Lt=Lt.prev,Ye=Lt.indent):(he==")"&&(Lt.type=="parens"||Lt.type=="atBlock_parens")||he=="{"&&(Lt.type=="at"||Lt.type=="atBlock"))&&(Ye=Math.max(0,Lt.indent-q))),Ye},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Et,fold:"brace"}});function r(j){for(var D={},W=0;W<j.length;++W)D[j[W].toLowerCase()]=!0;return D}var i=["domain","regexp","url","url-prefix"],a=r(i),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],l=r(s),c=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],u=r(c),p=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],g=r(p),h=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],y=r(h),_=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],x=r(_),P=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],w=r(P),T=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],b=r(T),k=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],E=r(k),L=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],R=r(L),z=i.concat(s).concat(c).concat(p).concat(h).concat(_).concat(k).concat(L);e.registerHelper("hintWords","css",z);function N(j,D){for(var W=!1,q;(q=j.next())!=null;){if(W&&q=="/"){D.tokenize=null;break}W=q=="*"}return["comment","comment"]}e.defineMIME("text/css",{documentTypes:a,mediaTypes:l,mediaFeatures:u,mediaValueKeywords:g,propertyKeywords:y,nonStandardPropertyKeywords:x,fontProperties:w,counterDescriptors:b,colorKeywords:E,valueKeywords:R,tokenHooks:{"/":function(j,D){return j.eat("*")?(D.tokenize=N,N(j,D)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:l,mediaFeatures:u,mediaValueKeywords:g,propertyKeywords:y,nonStandardPropertyKeywords:x,colorKeywords:E,valueKeywords:R,fontProperties:w,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(j,D){return j.eat("/")?(j.skipToEnd(),["comment","comment"]):j.eat("*")?(D.tokenize=N,N(j,D)):["operator","operator"]},":":function(j){return j.match(/^\s*\{/,!1)?[null,null]:!1},$:function(j){return j.match(/^[\w-]+/),j.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(j){return j.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:l,mediaFeatures:u,mediaValueKeywords:g,propertyKeywords:y,nonStandardPropertyKeywords:x,colorKeywords:E,valueKeywords:R,fontProperties:w,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(j,D){return j.eat("/")?(j.skipToEnd(),["comment","comment"]):j.eat("*")?(D.tokenize=N,N(j,D)):["operator","operator"]},"@":function(j){return j.eat("{")?[null,"interpolation"]:j.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(j.eatWhile(/[\w\\\-]/),j.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:a,mediaTypes:l,mediaFeatures:u,propertyKeywords:y,nonStandardPropertyKeywords:x,fontProperties:w,counterDescriptors:b,colorKeywords:E,valueKeywords:R,supportsAtComponent:!0,tokenHooks:{"/":function(j,D){return j.eat("*")?(D.tokenize=N,N(j,D)):!1}},name:"css",helperType:"gss"})})},8253:(o,n,t)=>{(function(e){e(t(4408),t(9701),t(6061),t(7389))})(function(e){"use strict";var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(g,h,y){var _=g.current(),x=_.search(h);return x>-1?g.backUp(_.length-x):_.match(/<\/?$/)&&(g.backUp(_.length),g.match(h,!1)||g.match(_)),y}var a={};function s(g){var h=a[g];return h||(a[g]=new RegExp("\\s+"+g+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function l(g,h){var y=g.match(s(h));return y?/^\s*(.*?)\s*$/.exec(y[2])[1]:""}function c(g,h){return new RegExp((h?"^":"")+"</s*"+g+"s*>","i")}function u(g,h){for(var y in g)for(var _=h[y]||(h[y]=[]),x=g[y],P=x.length-1;P>=0;P--)_.unshift(x[P])}function p(g,h){for(var y=0;y<g.length;y++){var _=g[y];if(!_[0]||_[1].test(l(h,_[0])))return _[2]}}e.defineMode("htmlmixed",function(g,h){var y=e.getMode(g,{name:"xml",htmlMode:!0,multilineTagIndentFactor:h.multilineTagIndentFactor,multilineTagIndentPastTag:h.multilineTagIndentPastTag,allowMissingTagName:h.allowMissingTagName}),_={},x=h&&h.tags,P=h&&h.scriptTypes;if(u(r,_),x&&u(x,_),P)for(var w=P.length-1;w>=0;w--)_.script.unshift(["type",P[w].matches,P[w].mode]);function T(b,k){var E=y.token(b,k.htmlState),L=/\btag\b/.test(E),R;if(L&&!/[<>\s\/]/.test(b.current())&&(R=k.htmlState.tagName&&k.htmlState.tagName.toLowerCase())&&_.hasOwnProperty(R))k.inTag=R+" ";else if(k.inTag&&L&&/>$/.test(b.current())){var z=/^([\S]+) (.*)/.exec(k.inTag);k.inTag=null;var N=b.current()==">"&&p(_[z[1]],z[2]),j=e.getMode(g,N),D=c(z[1],!0),W=c(z[1],!1);k.token=function(q,J){return q.match(D,!1)?(J.token=T,J.localState=J.localMode=null,null):i(q,W,J.localMode.token(q,J.localState))},k.localMode=j,k.localState=e.startState(j,y.indent(k.htmlState,"",""))}else k.inTag&&(k.inTag+=b.current(),b.eol()&&(k.inTag+=" "));return E}return{startState:function(){var b=e.startState(y);return{token:T,inTag:null,localMode:null,localState:null,htmlState:b}},copyState:function(b){var k;return b.localState&&(k=e.copyState(b.localMode,b.localState)),{token:b.token,inTag:b.inTag,localMode:b.localMode,localState:k,htmlState:e.copyState(y,b.htmlState)}},token:function(b,k){return k.token(b,k)},indent:function(b,k,E){return!b.localMode||/^\s*<\//.test(k)?y.indent(b.htmlState,k,E):b.localMode.indent?b.localMode.indent(b.localState,k,E):e.Pass},innerMode:function(b){return{state:b.localState||b.htmlState,mode:b.localMode||y}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")})},6061:(o,n,t)=>{(function(e){e(t(4408))})(function(e){"use strict";e.defineMode("javascript",function(r,i){var a=r.indentUnit,s=i.statementIndent,l=i.jsonld,c=i.json||l,u=i.trackScope!==!1,p=i.typescript,g=i.wordCharacters||/[\w$\xa1-\uffff]/,h=function(){function nt(Nn){return{type:Nn,style:"keyword"}}var bt=nt("keyword a"),Zt=nt("keyword b"),pe=nt("keyword c"),fe=nt("keyword d"),nn=nt("operator"),dn={type:"atom",style:"atom"};return{if:nt("if"),while:bt,with:bt,else:Zt,do:Zt,try:Zt,finally:Zt,return:fe,break:fe,continue:fe,new:nt("new"),delete:pe,void:pe,throw:pe,debugger:nt("debugger"),var:nt("var"),const:nt("var"),let:nt("var"),function:nt("function"),catch:nt("catch"),for:nt("for"),switch:nt("switch"),case:nt("case"),default:nt("default"),in:nn,typeof:nn,instanceof:nn,true:dn,false:dn,null:dn,undefined:dn,NaN:dn,Infinity:dn,this:nt("this"),class:nt("class"),super:nt("atom"),yield:pe,export:nt("export"),import:nt("import"),extends:pe,await:pe}}(),y=/[+\-*&%=<>!?|~^@]/,_=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function x(nt){for(var bt=!1,Zt,pe=!1;(Zt=nt.next())!=null;){if(!bt){if(Zt=="/"&&!pe)return;Zt=="["?pe=!0:pe&&Zt=="]"&&(pe=!1)}bt=!bt&&Zt=="\\"}}var P,w;function T(nt,bt,Zt){return P=nt,w=Zt,bt}function b(nt,bt){var Zt=nt.next();if(Zt=='"'||Zt=="'")return bt.tokenize=k(Zt),bt.tokenize(nt,bt);if(Zt=="."&&nt.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return T("number","number");if(Zt=="."&&nt.match(".."))return T("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Zt))return T(Zt);if(Zt=="="&&nt.eat(">"))return T("=>","operator");if(Zt=="0"&&nt.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return T("number","number");if(/\d/.test(Zt))return nt.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),T("number","number");if(Zt=="/")return nt.eat("*")?(bt.tokenize=E,E(nt,bt)):nt.eat("/")?(nt.skipToEnd(),T("comment","comment")):Ln(nt,bt,1)?(x(nt),nt.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),T("regexp","string-2")):(nt.eat("="),T("operator","operator",nt.current()));if(Zt=="`")return bt.tokenize=L,L(nt,bt);if(Zt=="#"&&nt.peek()=="!")return nt.skipToEnd(),T("meta","meta");if(Zt=="#"&&nt.eatWhile(g))return T("variable","property");if(Zt=="<"&&nt.match("!--")||Zt=="-"&&nt.match("->")&&!/\S/.test(nt.string.slice(0,nt.start)))return nt.skipToEnd(),T("comment","comment");if(y.test(Zt))return(Zt!=">"||!bt.lexical||bt.lexical.type!=">")&&(nt.eat("=")?(Zt=="!"||Zt=="=")&&nt.eat("="):/[<>*+\-|&?]/.test(Zt)&&(nt.eat(Zt),Zt==">"&&nt.eat(Zt))),Zt=="?"&&nt.eat(".")?T("."):T("operator","operator",nt.current());if(g.test(Zt)){nt.eatWhile(g);var pe=nt.current();if(bt.lastType!="."){if(h.propertyIsEnumerable(pe)){var fe=h[pe];return T(fe.type,fe.style,pe)}if(pe=="async"&&nt.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return T("async","keyword",pe)}return T("variable","variable",pe)}}function k(nt){return function(bt,Zt){var pe=!1,fe;if(l&&bt.peek()=="@"&&bt.match(_))return Zt.tokenize=b,T("jsonld-keyword","meta");for(;(fe=bt.next())!=null&&!(fe==nt&&!pe);)pe=!pe&&fe=="\\";return pe||(Zt.tokenize=b),T("string","string")}}function E(nt,bt){for(var Zt=!1,pe;pe=nt.next();){if(pe=="/"&&Zt){bt.tokenize=b;break}Zt=pe=="*"}return T("comment","comment")}function L(nt,bt){for(var Zt=!1,pe;(pe=nt.next())!=null;){if(!Zt&&(pe=="`"||pe=="$"&&nt.eat("{"))){bt.tokenize=b;break}Zt=!Zt&&pe=="\\"}return T("quasi","string-2",nt.current())}var R="([{}])";function z(nt,bt){bt.fatArrowAt&&(bt.fatArrowAt=null);var Zt=nt.string.indexOf("=>",nt.start);if(!(Zt<0)){if(p){var pe=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(nt.string.slice(nt.start,Zt));pe&&(Zt=pe.index)}for(var fe=0,nn=!1,dn=Zt-1;dn>=0;--dn){var Nn=nt.string.charAt(dn),Vn=R.indexOf(Nn);if(Vn>=0&&Vn<3){if(!fe){++dn;break}if(--fe==0){Nn=="("&&(nn=!0);break}}else if(Vn>=3&&Vn<6)++fe;else if(g.test(Nn))nn=!0;else if(/["'\/`]/.test(Nn))for(;;--dn){if(dn==0)return;var Ya=nt.string.charAt(dn-1);if(Ya==Nn&&nt.string.charAt(dn-2)!="\\"){dn--;break}}else if(nn&&!fe){++dn;break}}nn&&!fe&&(bt.fatArrowAt=dn)}}var N={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function j(nt,bt,Zt,pe,fe,nn){this.indented=nt,this.column=bt,this.type=Zt,this.prev=fe,this.info=nn,pe!=null&&(this.align=pe)}function D(nt,bt){if(!u)return!1;for(var Zt=nt.localVars;Zt;Zt=Zt.next)if(Zt.name==bt)return!0;for(var pe=nt.context;pe;pe=pe.prev)for(var Zt=pe.vars;Zt;Zt=Zt.next)if(Zt.name==bt)return!0}function W(nt,bt,Zt,pe,fe){var nn=nt.cc;for(q.state=nt,q.stream=fe,q.marked=null,q.cc=nn,q.style=bt,nt.lexical.hasOwnProperty("align")||(nt.lexical.align=!0);;){var dn=nn.length?nn.pop():c?Kt:It;if(dn(Zt,pe)){for(;nn.length&&nn[nn.length-1].lex;)nn.pop()();return q.marked?q.marked:Zt=="variable"&&D(nt,pe)?"variable-2":bt}}}var q={state:null,column:null,marked:null,cc:null};function J(){for(var nt=arguments.length-1;nt>=0;nt--)q.cc.push(arguments[nt])}function I(){return J.apply(null,arguments),!0}function Z(nt,bt){for(var Zt=bt;Zt;Zt=Zt.next)if(Zt.name==nt)return!0;return!1}function et(nt){var bt=q.state;if(q.marked="def",!!u){if(bt.context){if(bt.lexical.info=="var"&&bt.context&&bt.context.block){var Zt=ut(nt,bt.context);if(Zt!=null){bt.context=Zt;return}}else if(!Z(nt,bt.localVars)){bt.localVars=new Pt(nt,bt.localVars);return}}i.globalVars&&!Z(nt,bt.globalVars)&&(bt.globalVars=new Pt(nt,bt.globalVars))}}function ut(nt,bt){if(bt)if(bt.block){var Zt=ut(nt,bt.prev);return Zt?Zt==bt.prev?bt:new Gt(Zt,bt.vars,!0):null}else return Z(nt,bt.vars)?bt:new Gt(bt.prev,new Pt(nt,bt.vars),!1);else return null}function Rt(nt){return nt=="public"||nt=="private"||nt=="protected"||nt=="abstract"||nt=="readonly"}function Gt(nt,bt,Zt){this.prev=nt,this.vars=bt,this.block=Zt}function Pt(nt,bt){this.name=nt,this.next=bt}var _t=new Pt("this",new Pt("arguments",null));function rt(){q.state.context=new Gt(q.state.context,q.state.localVars,!1),q.state.localVars=_t}function ft(){q.state.context=new Gt(q.state.context,q.state.localVars,!0),q.state.localVars=null}function wt(){q.state.localVars=q.state.context.vars,q.state.context=q.state.context.prev}wt.lex=!0;function Et(nt,bt){var Zt=function(){var pe=q.state,fe=pe.indented;if(pe.lexical.type=="stat")fe=pe.lexical.indented;else for(var nn=pe.lexical;nn&&nn.type==")"&&nn.align;nn=nn.prev)fe=nn.indented;pe.lexical=new j(fe,q.stream.column(),nt,null,pe.lexical,bt)};return Zt.lex=!0,Zt}function Nt(){var nt=q.state;nt.lexical.prev&&(nt.lexical.type==")"&&(nt.indented=nt.lexical.indented),nt.lexical=nt.lexical.prev)}Nt.lex=!0;function Ht(nt){function bt(Zt){return Zt==nt?I():nt==";"||Zt=="}"||Zt==")"||Zt=="]"?J():I(bt)}return bt}function It(nt,bt){return nt=="var"?I(Et("vardef",bt),Te,Ht(";"),Nt):nt=="keyword a"?I(Et("form"),Ct,It,Nt):nt=="keyword b"?I(Et("form"),It,Nt):nt=="keyword d"?q.stream.match(/^\s*$/,!1)?I():I(Et("stat"),ge,Ht(";"),Nt):nt=="debugger"?I(Ht(";")):nt=="{"?I(Et("}"),ft,Vt,Nt,wt):nt==";"?I():nt=="if"?(q.state.lexical.info=="else"&&q.state.cc[q.state.cc.length-1]==Nt&&q.state.cc.pop()(),I(Et("form"),Ct,It,Nt,Mn)):nt=="function"?I(sn):nt=="for"?I(Et("form"),ft,fn,It,wt,Nt):nt=="class"||p&&bt=="interface"?(q.marked="keyword",I(Et("form",nt=="class"?nt:bt),Fe,Nt)):nt=="variable"?p&&bt=="declare"?(q.marked="keyword",I(It)):p&&(bt=="module"||bt=="enum"||bt=="type")&&q.stream.match(/^\s*\w/,!1)?(q.marked="keyword",bt=="enum"?I(Y):bt=="type"?I(Yn,Ht("operator"),Ae,Ht(";")):I(Et("form"),Le,Ht("{"),Et("}"),Vt,Nt,Nt)):p&&bt=="namespace"?(q.marked="keyword",I(Et("form"),Kt,It,Nt)):p&&bt=="abstract"?(q.marked="keyword",I(It)):I(Et("stat"),he):nt=="switch"?I(Et("form"),Ct,Ht("{"),Et("}","switch"),ft,Vt,Nt,Nt,wt):nt=="case"?I(Kt,Ht(":")):nt=="default"?I(Ht(":")):nt=="catch"?I(Et("form"),rt,at,It,Nt,wt):nt=="export"?I(Et("stat"),U,Nt):nt=="import"?I(Et("stat"),gt,Nt):nt=="async"?I(It):bt=="@"?I(Kt,It):J(Et("stat"),Kt,Ht(";"),Nt)}function at(nt){if(nt=="(")return I(je,Ht(")"))}function Kt(nt,bt){return oe(nt,bt,!1)}function le(nt,bt){return oe(nt,bt,!0)}function Ct(nt){return nt!="("?J():I(Et(")"),ge,Ht(")"),Nt)}function oe(nt,bt,Zt){if(q.state.fatArrowAt==q.stream.start){var pe=Zt?Qt:At;if(nt=="(")return I(rt,Et(")"),it(je,")"),Nt,Ht("=>"),pe,wt);if(nt=="variable")return J(rt,Le,Ht("=>"),pe,wt)}var fe=Zt?K:ce;return N.hasOwnProperty(nt)?I(fe):nt=="function"?I(sn,fe):nt=="class"||p&&bt=="interface"?(q.marked="keyword",I(Et("form"),Xn,Nt)):nt=="keyword c"||nt=="async"?I(Zt?le:Kt):nt=="("?I(Et(")"),ge,Ht(")"),Nt,fe):nt=="operator"||nt=="spread"?I(Zt?le:Kt):nt=="["?I(Et("]"),Re,Nt,fe):nt=="{"?ne(De,"}",null,fe):nt=="quasi"?J(ot,fe):nt=="new"?I(ht(Zt)):I()}function ge(nt){return nt.match(/[;\}\)\],]/)?J():J(Kt)}function ce(nt,bt){return nt==","?I(ge):K(nt,bt,!1)}function K(nt,bt,Zt){var pe=Zt==!1?ce:K,fe=Zt==!1?Kt:le;if(nt=="=>")return I(rt,Zt?Qt:At,wt);if(nt=="operator")return/\+\+|--/.test(bt)||p&&bt=="!"?I(pe):p&&bt=="<"&&q.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?I(Et(">"),it(Ae,">"),Nt,pe):bt=="?"?I(Kt,Ht(":"),fe):I(fe);if(nt=="quasi")return J(ot,pe);if(nt!=";"){if(nt=="(")return ne(le,")","call",pe);if(nt==".")return I(Ye,pe);if(nt=="[")return I(Et("]"),ge,Ht("]"),Nt,pe);if(p&&bt=="as")return q.marked="keyword",I(Ae,pe);if(nt=="regexp")return q.state.lastType=q.marked="operator",q.stream.backUp(q.stream.pos-q.stream.start-1),I(fe)}}function ot(nt,bt){return nt!="quasi"?J():bt.slice(bt.length-2)!="${"?I(ot):I(ge,mt)}function mt(nt){if(nt=="}")return q.marked="string-2",q.state.tokenize=L,I(ot)}function At(nt){return z(q.stream,q.state),J(nt=="{"?It:Kt)}function Qt(nt){return z(q.stream,q.state),J(nt=="{"?It:le)}function ht(nt){return function(bt){return bt=="."?I(nt?Lt:kt):bt=="variable"&&p?I(Dt,nt?K:ce):J(nt?le:Kt)}}function kt(nt,bt){if(bt=="target")return q.marked="keyword",I(ce)}function Lt(nt,bt){if(bt=="target")return q.marked="keyword",I(K)}function he(nt){return nt==":"?I(Nt,It):J(ce,Ht(";"),Nt)}function Ye(nt){if(nt=="variable")return q.marked="property",I()}function De(nt,bt){if(nt=="async")return q.marked="property",I(De);if(nt=="variable"||q.style=="keyword"){if(q.marked="property",bt=="get"||bt=="set")return I(dt);var Zt;return p&&q.state.fatArrowAt==q.stream.start&&(Zt=q.stream.match(/^\s*:\s*/,!1))&&(q.state.fatArrowAt=q.stream.pos+Zt[0].length),I(Tt)}else{if(nt=="number"||nt=="string")return q.marked=l?"property":q.style+" property",I(Tt);if(nt=="jsonld-keyword")return I(Tt);if(p&&Rt(bt))return q.marked="keyword",I(De);if(nt=="[")return I(Kt,de,Ht("]"),Tt);if(nt=="spread")return I(le,Tt);if(bt=="*")return q.marked="keyword",I(De);if(nt==":")return J(Tt)}}function dt(nt){return nt!="variable"?J(Tt):(q.marked="property",I(sn))}function Tt(nt){if(nt==":")return I(le);if(nt=="(")return J(sn)}function it(nt,bt,Zt){function pe(fe,nn){if(Zt?Zt.indexOf(fe)>-1:fe==","){var dn=q.state.lexical;return dn.info=="call"&&(dn.pos=(dn.pos||0)+1),I(function(Nn,Vn){return Nn==bt||Vn==bt?J():J(nt)},pe)}return fe==bt||nn==bt?I():Zt&&Zt.indexOf(";")>-1?J(nt):I(Ht(bt))}return function(fe,nn){return fe==bt||nn==bt?I():J(nt,pe)}}function ne(nt,bt,Zt){for(var pe=3;pe<arguments.length;pe++)q.cc.push(arguments[pe]);return I(Et(bt,Zt),it(nt,bt),Nt)}function Vt(nt){return nt=="}"?I():J(It,Vt)}function de(nt,bt){if(p){if(nt==":")return I(Ae);if(bt=="?")return I(de)}}function Oe(nt,bt){if(p&&(nt==":"||bt=="in"))return I(Ae)}function Pe(nt){if(p&&nt==":")return q.stream.match(/^\s*\w+\s+is\b/,!1)?I(Kt,ve,Ae):I(Ae)}function ve(nt,bt){if(bt=="is")return q.marked="keyword",I()}function Ae(nt,bt){if(bt=="keyof"||bt=="typeof"||bt=="infer"||bt=="readonly")return q.marked="keyword",I(bt=="typeof"?le:Ae);if(nt=="variable"||bt=="void")return q.marked="type",I(Mt);if(bt=="|"||bt=="&")return I(Ae);if(nt=="string"||nt=="number"||nt=="atom")return I(Mt);if(nt=="[")return I(Et("]"),it(Ae,"]",","),Nt,Mt);if(nt=="{")return I(Et("}"),Xe,Nt,Mt);if(nt=="(")return I(it(lt,")"),Qe,Mt);if(nt=="<")return I(it(Ae,">"),Ae);if(nt=="quasi")return J(_n,Mt)}function Qe(nt){if(nt=="=>")return I(Ae)}function Xe(nt){return nt.match(/[\}\)\]]/)?I():nt==","||nt==";"?I(Xe):J(Ze,Xe)}function Ze(nt,bt){if(nt=="variable"||q.style=="keyword")return q.marked="property",I(Ze);if(bt=="?"||nt=="number"||nt=="string")return I(Ze);if(nt==":")return I(Ae);if(nt=="[")return I(Ht("variable"),Oe,Ht("]"),Ze);if(nt=="(")return J(wn,Ze);if(!nt.match(/[;\}\)\],]/))return I()}function _n(nt,bt){return nt!="quasi"?J():bt.slice(bt.length-2)!="${"?I(_n):I(Ae,Kn)}function Kn(nt){if(nt=="}")return q.marked="string-2",q.state.tokenize=L,I(_n)}function lt(nt,bt){return nt=="variable"&&q.stream.match(/^\s*[?:]/,!1)||bt=="?"?I(lt):nt==":"?I(Ae):nt=="spread"?I(lt):J(Ae)}function Mt(nt,bt){if(bt=="<")return I(Et(">"),it(Ae,">"),Nt,Mt);if(bt=="|"||nt=="."||bt=="&")return I(Ae);if(nt=="[")return I(Ae,Ht("]"),Mt);if(bt=="extends"||bt=="implements")return q.marked="keyword",I(Ae);if(bt=="?")return I(Ae,Ht(":"),Ae)}function Dt(nt,bt){if(bt=="<")return I(Et(">"),it(Ae,">"),Nt,Mt)}function ee(){return J(Ae,be)}function be(nt,bt){if(bt=="=")return I(Ae)}function Te(nt,bt){return bt=="enum"?(q.marked="keyword",I(Y)):J(Le,de,rn,hr)}function Le(nt,bt){if(p&&Rt(bt))return q.marked="keyword",I(Le);if(nt=="variable")return et(bt),I();if(nt=="spread")return I(Le);if(nt=="[")return ne(On,"]");if(nt=="{")return ne(Pn,"}")}function Pn(nt,bt){return nt=="variable"&&!q.stream.match(/^\s*:/,!1)?(et(bt),I(rn)):(nt=="variable"&&(q.marked="property"),nt=="spread"?I(Le):nt=="}"?J():nt=="["?I(Kt,Ht("]"),Ht(":"),Pn):I(Ht(":"),Le,rn))}function On(){return J(Le,rn)}function rn(nt,bt){if(bt=="=")return I(le)}function hr(nt){if(nt==",")return I(Te)}function Mn(nt,bt){if(nt=="keyword b"&&bt=="else")return I(Et("form","else"),It,Nt)}function fn(nt,bt){if(bt=="await")return I(fn);if(nt=="(")return I(Et(")"),Or,Nt)}function Or(nt){return nt=="var"?I(Te,yn):nt=="variable"?I(yn):J(yn)}function yn(nt,bt){return nt==")"?I():nt==";"?I(yn):bt=="in"||bt=="of"?(q.marked="keyword",I(Kt,yn)):J(Kt,yn)}function sn(nt,bt){if(bt=="*")return q.marked="keyword",I(sn);if(nt=="variable")return et(bt),I(sn);if(nt=="(")return I(rt,Et(")"),it(je,")"),Nt,Pe,It,wt);if(p&&bt=="<")return I(Et(">"),it(ee,">"),Nt,sn)}function wn(nt,bt){if(bt=="*")return q.marked="keyword",I(wn);if(nt=="variable")return et(bt),I(wn);if(nt=="(")return I(rt,Et(")"),it(je,")"),Nt,Pe,wt);if(p&&bt=="<")return I(Et(">"),it(ee,">"),Nt,wn)}function Yn(nt,bt){if(nt=="keyword"||nt=="variable")return q.marked="type",I(Yn);if(bt=="<")return I(Et(">"),it(ee,">"),Nt)}function je(nt,bt){return bt=="@"&&I(Kt,je),nt=="spread"?I(je):p&&Rt(bt)?(q.marked="keyword",I(je)):p&&nt=="this"?I(de,rn):J(Le,de,rn)}function Xn(nt,bt){return nt=="variable"?Fe(nt,bt):Dn(nt,bt)}function Fe(nt,bt){if(nt=="variable")return et(bt),I(Dn)}function Dn(nt,bt){if(bt=="<")return I(Et(">"),it(ee,">"),Nt,Dn);if(bt=="extends"||bt=="implements"||p&&nt==",")return bt=="implements"&&(q.marked="keyword"),I(p?Ae:Kt,Dn);if(nt=="{")return I(Et("}"),mn,Nt)}function mn(nt,bt){if(nt=="async"||nt=="variable"&&(bt=="static"||bt=="get"||bt=="set"||p&&Rt(bt))&&q.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return q.marked="keyword",I(mn);if(nt=="variable"||q.style=="keyword")return q.marked="property",I(A,mn);if(nt=="number"||nt=="string")return I(A,mn);if(nt=="[")return I(Kt,de,Ht("]"),A,mn);if(bt=="*")return q.marked="keyword",I(mn);if(p&&nt=="(")return J(wn,mn);if(nt==";"||nt==",")return I(mn);if(nt=="}")return I();if(bt=="@")return I(Kt,mn)}function A(nt,bt){if(bt=="!"||bt=="?")return I(A);if(nt==":")return I(Ae,rn);if(bt=="=")return I(le);var Zt=q.state.lexical.prev,pe=Zt&&Zt.info=="interface";return J(pe?wn:sn)}function U(nt,bt){return bt=="*"?(q.marked="keyword",I(ze,Ht(";"))):bt=="default"?(q.marked="keyword",I(Kt,Ht(";"))):nt=="{"?I(it(H,"}"),ze,Ht(";")):J(It)}function H(nt,bt){if(bt=="as")return q.marked="keyword",I(Ht("variable"));if(nt=="variable")return J(le,H)}function gt(nt){return nt=="string"?I():nt=="("?J(Kt):nt=="."?J(ce):J($t,Ee,ze)}function $t(nt,bt){return nt=="{"?ne($t,"}"):(nt=="variable"&&et(bt),bt=="*"&&(q.marked="keyword"),I(Ve))}function Ee(nt){if(nt==",")return I($t,Ee)}function Ve(nt,bt){if(bt=="as")return q.marked="keyword",I($t)}function ze(nt,bt){if(bt=="from")return q.marked="keyword",I(Kt)}function Re(nt){return nt=="]"?I():J(it(le,"]"))}function Y(){return J(Et("form"),Le,Ht("{"),Et("}"),it(Jt,"}"),Nt,Nt)}function Jt(){return J(Le,rn)}function Ne(nt,bt){return nt.lastType=="operator"||nt.lastType==","||y.test(bt.charAt(0))||/[,.]/.test(bt.charAt(0))}function Ln(nt,bt,Zt){return bt.tokenize==b&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(bt.lastType)||bt.lastType=="quasi"&&/\{\s*$/.test(nt.string.slice(0,nt.pos-(Zt||0)))}return{startState:function(nt){var bt={tokenize:b,lastType:"sof",cc:[],lexical:new j((nt||0)-a,0,"block",!1),localVars:i.localVars,context:i.localVars&&new Gt(null,null,!1),indented:nt||0};return i.globalVars&&typeof i.globalVars=="object"&&(bt.globalVars=i.globalVars),bt},token:function(nt,bt){if(nt.sol()&&(bt.lexical.hasOwnProperty("align")||(bt.lexical.align=!1),bt.indented=nt.indentation(),z(nt,bt)),bt.tokenize!=E&&nt.eatSpace())return null;var Zt=bt.tokenize(nt,bt);return P=="comment"?Zt:(bt.lastType=P=="operator"&&(w=="++"||w=="--")?"incdec":P,W(bt,Zt,P,w,nt))},indent:function(nt,bt){if(nt.tokenize==E||nt.tokenize==L)return e.Pass;if(nt.tokenize!=b)return 0;var Zt=bt&&bt.charAt(0),pe=nt.lexical,fe;if(!/^\s*else\b/.test(bt))for(var nn=nt.cc.length-1;nn>=0;--nn){var dn=nt.cc[nn];if(dn==Nt)pe=pe.prev;else if(dn!=Mn&&dn!=wt)break}for(;(pe.type=="stat"||pe.type=="form")&&(Zt=="}"||(fe=nt.cc[nt.cc.length-1])&&(fe==ce||fe==K)&&!/^[,\.=+\-*:?[\(]/.test(bt));)pe=pe.prev;s&&pe.type==")"&&pe.prev.type=="stat"&&(pe=pe.prev);var Nn=pe.type,Vn=Zt==Nn;return Nn=="vardef"?pe.indented+(nt.lastType=="operator"||nt.lastType==","?pe.info.length+1:0):Nn=="form"&&Zt=="{"?pe.indented:Nn=="form"?pe.indented+a:Nn=="stat"?pe.indented+(Ne(nt,bt)?s||a:0):pe.info=="switch"&&!Vn&&i.doubleIndentSwitch!=!1?pe.indented+(/^(?:case|default)\b/.test(bt)?a:2*a):pe.align?pe.column+(Vn?0:1):pe.indented+(Vn?0:a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:c?null:"/*",blockCommentEnd:c?null:"*/",blockCommentContinue:c?null:" * ",lineComment:c?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:c?"json":"javascript",jsonldMode:l,jsonMode:c,expressionAllowed:Ln,skipExpression:function(nt){W(nt,"atom","atom","true",new e.StringStream("",2,null))}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},9701:(o,n,t)=>{(function(e){e(t(4408))})(function(e){"use strict";var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(a,s){var l=a.indentUnit,c={},u=s.htmlMode?r:i;for(var p in u)c[p]=u[p];for(var p in s)c[p]=s[p];var g,h;function y(I,Z){function et(Gt){return Z.tokenize=Gt,Gt(I,Z)}var ut=I.next();if(ut=="<")return I.eat("!")?I.eat("[")?I.match("CDATA[")?et(P("atom","]]>")):null:I.match("--")?et(P("comment","-->")):I.match("DOCTYPE",!0,!0)?(I.eatWhile(/[\w\._\-]/),et(w(1))):null:I.eat("?")?(I.eatWhile(/[\w\._\-]/),Z.tokenize=P("meta","?>"),"meta"):(g=I.eat("/")?"closeTag":"openTag",Z.tokenize=_,"tag bracket");if(ut=="&"){var Rt;return I.eat("#")?I.eat("x")?Rt=I.eatWhile(/[a-fA-F\d]/)&&I.eat(";"):Rt=I.eatWhile(/[\d]/)&&I.eat(";"):Rt=I.eatWhile(/[\w\.\-:]/)&&I.eat(";"),Rt?"atom":"error"}else return I.eatWhile(/[^&<]/),null}y.isInText=!0;function _(I,Z){var et=I.next();if(et==">"||et=="/"&&I.eat(">"))return Z.tokenize=y,g=et==">"?"endTag":"selfcloseTag","tag bracket";if(et=="=")return g="equals",null;if(et=="<"){Z.tokenize=y,Z.state=L,Z.tagName=Z.tagStart=null;var ut=Z.tokenize(I,Z);return ut?ut+" tag error":"tag error"}else return/[\'\"]/.test(et)?(Z.tokenize=x(et),Z.stringStartCol=I.column(),Z.tokenize(I,Z)):(I.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function x(I){var Z=function(et,ut){for(;!et.eol();)if(et.next()==I){ut.tokenize=_;break}return"string"};return Z.isInAttribute=!0,Z}function P(I,Z){return function(et,ut){for(;!et.eol();){if(et.match(Z)){ut.tokenize=y;break}et.next()}return I}}function w(I){return function(Z,et){for(var ut;(ut=Z.next())!=null;){if(ut=="<")return et.tokenize=w(I+1),et.tokenize(Z,et);if(ut==">")if(I==1){et.tokenize=y;break}else return et.tokenize=w(I-1),et.tokenize(Z,et)}return"meta"}}function T(I){return I&&I.toLowerCase()}function b(I,Z,et){this.prev=I.context,this.tagName=Z||"",this.indent=I.indented,this.startOfLine=et,(c.doNotIndent.hasOwnProperty(Z)||I.context&&I.context.noIndent)&&(this.noIndent=!0)}function k(I){I.context&&(I.context=I.context.prev)}function E(I,Z){for(var et;;){if(!I.context||(et=I.context.tagName,!c.contextGrabbers.hasOwnProperty(T(et))||!c.contextGrabbers[T(et)].hasOwnProperty(T(Z))))return;k(I)}}function L(I,Z,et){return I=="openTag"?(et.tagStart=Z.column(),R):I=="closeTag"?z:L}function R(I,Z,et){return I=="word"?(et.tagName=Z.current(),h="tag",D):c.allowMissingTagName&&I=="endTag"?(h="tag bracket",D(I,Z,et)):(h="error",R)}function z(I,Z,et){if(I=="word"){var ut=Z.current();return et.context&&et.context.tagName!=ut&&c.implicitlyClosed.hasOwnProperty(T(et.context.tagName))&&k(et),et.context&&et.context.tagName==ut||c.matchClosing===!1?(h="tag",N):(h="tag error",j)}else return c.allowMissingTagName&&I=="endTag"?(h="tag bracket",N(I,Z,et)):(h="error",j)}function N(I,Z,et){return I!="endTag"?(h="error",N):(k(et),L)}function j(I,Z,et){return h="error",N(I,Z,et)}function D(I,Z,et){if(I=="word")return h="attribute",W;if(I=="endTag"||I=="selfcloseTag"){var ut=et.tagName,Rt=et.tagStart;return et.tagName=et.tagStart=null,I=="selfcloseTag"||c.autoSelfClosers.hasOwnProperty(T(ut))?E(et,ut):(E(et,ut),et.context=new b(et,ut,Rt==et.indented)),L}return h="error",D}function W(I,Z,et){return I=="equals"?q:(c.allowMissing||(h="error"),D(I,Z,et))}function q(I,Z,et){return I=="string"?J:I=="word"&&c.allowUnquoted?(h="string",D):(h="error",D(I,Z,et))}function J(I,Z,et){return I=="string"?J:D(I,Z,et)}return{startState:function(I){var Z={tokenize:y,state:L,indented:I||0,tagName:null,tagStart:null,context:null};return I!=null&&(Z.baseIndent=I),Z},token:function(I,Z){if(!Z.tagName&&I.sol()&&(Z.indented=I.indentation()),I.eatSpace())return null;g=null;var et=Z.tokenize(I,Z);return(et||g)&&et!="comment"&&(h=null,Z.state=Z.state(g||et,I,Z),h&&(et=h=="error"?et+" error":h)),et},indent:function(I,Z,et){var ut=I.context;if(I.tokenize.isInAttribute)return I.tagStart==I.indented?I.stringStartCol+1:I.indented+l;if(ut&&ut.noIndent)return e.Pass;if(I.tokenize!=_&&I.tokenize!=y)return et?et.match(/^(\s*)/)[0].length:0;if(I.tagName)return c.multilineTagIndentPastTag!==!1?I.tagStart+I.tagName.length+2:I.tagStart+l*(c.multilineTagIndentFactor||1);if(c.alignCDATA&&/<!\[CDATA\[/.test(Z))return 0;var Rt=Z&&/^<(\/)?([\w_:\.-]*)/.exec(Z);if(Rt&&Rt[1])for(;ut;)if(ut.tagName==Rt[2]){ut=ut.prev;break}else if(c.implicitlyClosed.hasOwnProperty(T(ut.tagName)))ut=ut.prev;else break;else if(Rt)for(;ut;){var Gt=c.contextGrabbers[T(ut.tagName)];if(Gt&&Gt.hasOwnProperty(T(Rt[2])))ut=ut.prev;else break}for(;ut&&ut.prev&&!ut.startOfLine;)ut=ut.prev;return ut?ut.indent+l:I.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:c.htmlMode?"html":"xml",helperType:c.htmlMode?"html":"xml",skipAttribute:function(I){I.state==q&&(I.state=D)},xmlCurrentTag:function(I){return I.tagName?{name:I.tagName,close:I.type=="closeTag"}:null},xmlCurrentContext:function(I){for(var Z=[],et=I.context;et;et=et.prev)Z.push(et.tagName);return Z.reverse()}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},7058:(o,n,t)=>{t.d(n,{A:()=>a});var e=t(9156),r=function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(u[g]=p[g])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(l,c);function u(){this.constructor=l}l.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),i=function(s){r(l,s);function l(c,u,p){var g=s.call(this,u,p)||this;return g._module=c,g}return Object.defineProperty(l.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),l}(e.Kx);let a=i},179:(o,n,t)=>{t.d(n,{A:()=>s,F:()=>i});var e=t(7058),r=function(){var l=function(c,u){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&(p[h]=g[h])},l(c,u)};return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");l(c,u);function p(){this.constructor=c}c.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}}(),i=function(l){return l.Select="select",l.Hover="hover",l.Spacing="spacing",l.Target="target",l.Resize="resize",l}(i||{}),a=function(l){r(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(c.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"component",{get:function(){var u,p=this.get("component");return p||((u=this.get("componentView"))===null||u===void 0?void 0:u.model)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"componentView",{get:function(){var u,p=this.get("componentView");return p||((u=this.get("component"))===null||u===void 0?void 0:u.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"el",{get:function(){var u;return(u=this.componentView)===null||u===void 0?void 0:u.el},enumerable:!1,configurable:!0}),c.prototype.getBoxRect=function(u){var p=this,g=p.el,h=p.em,y=h.Canvas.getCanvasView(),_=this.get("boxRect");return _||(g&&y?y.getElBoxRect(g,u):{x:0,y:0,width:0,height:0})},c.prototype.getStyle=function(u){u===void 0&&(u={});var p=u.boxRect||this.getBoxRect(u),g=p.width,h=p.height,y=p.x,_=p.y;return{width:"".concat(g,"px"),height:"".concat(h,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(y,"px ").concat(_,"px")}},c.prototype.isType=function(u){return this.type===u},c}(e.A);let s=a},1738:(o,n,t)=>{t.d(n,{A:()=>r});var e=function(i){return i.run="command:run",i.runCommand="command:run:",i.runBeforeCommand="command:run:before:",i.abort="command:abort:",i.stop="command:stop",i.stopCommand="command:stop:",i.stopBeforeCommand="command:stop:before:",i.call="command:call",i.callCommand="command:call:",i}(e||{});let r=e},9484:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});let e={run:function(r){r.Components.clear(),r.Css.clear()}}},9516:(o,n,t)=>{t.r(n),t.d(n,{default:()=>a});var e=t(5706),r=t(9966),i=t(6294);let a={run:function(s){(0,e.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=s,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(s){this.toggleMove(),this.disableDragger()},onKeyUp:function(s){(0,i.Ch)(s)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(s){this.toggleDragger(1,s)},disableDragger:function(s){this.toggleDragger(0,s)},toggleDragger:function(s,l){var c=this,u=c.canvasModel,p=c.em,g=this.dragger,h=s?"add":"remove";this.getCanvas().classList[h]("".concat(this.ppfx,"is__grabbing")),g||(g=new r.A({getPosition:function(){return{x:u.get("x"),y:u.get("y")}},setPosition:function(y){var _=y.x,x=y.y;u.set({x:_,y:x})},onStart:function(y,_){p.trigger("canvas:move:start",_)},onDrag:function(y,_){p.trigger("canvas:move",_)},onEnd:function(y,_){p.trigger("canvas:move:end",_)}}),this.dragger=g),s?g.start(l):g.stop()},toggleMove:function(s){var l=this.ppfx,c=s?"add":"remove",u=s?"on":"off",p={on:i.on,off:i.AU},g=this.getCanvas(),h=["".concat(l,"is__grab")];!s&&h.push("".concat(l,"is__grabbing")),h.forEach(function(y){return g.classList[c](y)}),p[u](document,"keyup",this.onKeyUp),p[u](g,"mousedown",this.enableDragger),p[u](document,"mouseup",this.disableDragger)}}},9946:(o,n,t)=>{t.r(n),t.d(n,{default:()=>c,defineCommand:()=>s});var e=t(9156),r=t(1738),i=function(){var u=function(p,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(h[_]=y[_])},u(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");u(p,g);function h(){this.constructor=p}p.prototype=g===null?Object.create(g):(h.prototype=g.prototype,new h)}}(),a=function(){return a=Object.assign||function(u){for(var p,g=1,h=arguments.length;g<h;g++){p=arguments[g];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(u[y]=p[y])}return u},a.apply(this,arguments)};function s(u){return u}var l=function(u){i(p,u);function p(g){var h=u.call(this,0)||this;h.config=g||{},h.em=h.config.em||{};var y=h.config.stylePrefix;return h.pfx=y,h.ppfx=h.config.pStylePrefix,h.hoverClass="".concat(y,"hover"),h.badgeClass="".concat(y,"badge"),h.plhClass="".concat(y,"placeholder"),h.freezClass="".concat(h.ppfx,"freezed"),h.canvas=h.em.Canvas,h.init(h.config),h}return p.prototype.onFrameScroll=function(g){},p.prototype.getCanvas=function(){return this.canvas.getElement()},p.prototype.getCanvasBody=function(){return this.canvas.getBody()},p.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},p.prototype.offset=function(g){var h=g.getBoundingClientRect();return{top:h.top+g.ownerDocument.body.scrollTop,left:h.left+g.ownerDocument.body.scrollLeft}},p.prototype.init=function(g){},p.prototype.callRun=function(g,h){h===void 0&&(h={});var y=this.id;if(g.trigger("".concat(r.A.runBeforeCommand).concat(y),{options:h}),h.abort){g.trigger("".concat(r.A.abort).concat(y),{options:h});return}var _=h.sender||g,x=this.run(g,_,h),P={id:y,result:x,options:h},w=a(a({},P),{type:"run"});return this.noStop||(g.Commands.active[y]=x),g.trigger("".concat(r.A.runCommand).concat(y),P),g.trigger("".concat(r.A.callCommand).concat(y),w),g.trigger(r.A.run,P),g.trigger(r.A.call,w),x},p.prototype.callStop=function(g,h){h===void 0&&(h={});var y=this.id,_=h.sender||g;g.trigger("".concat(r.A.stopBeforeCommand).concat(y),{options:h});var x=this.stop(g,_,h),P={id:y,result:x,options:h},w=a(a({},P),{type:"stop"});return delete g.Commands.active[y],g.trigger("".concat(r.A.stopCommand).concat(y),P),g.trigger("".concat(r.A.callCommand).concat(y),w),g.trigger(r.A.stop,P),g.trigger(r.A.call,w),x},p.prototype.stopCommand=function(g){this.em.Commands.stop(this.id,g)},p.prototype.run=function(g,h,y){},p.prototype.stop=function(g,h,y){},p}(e.Kx);let c=l},7801:(o,n,t)=>{t.r(n),t.d(n,{default:()=>a});var e=t(5706),r=function(s,l,c){if(c||arguments.length===2)for(var u=0,p=l.length,g;u<p;u++)(g||!(u in l))&&(g||(g=Array.prototype.slice.call(l,0,u)),g[u]=l[u]);return s.concat(g||Array.prototype.slice.call(l))},i={run:function(s,l,c){var u=this;c===void 0&&(c={});var p=[],g=c.component||s.getSelectedAll();return g=(0,e.isArray)(g)?r([],g,!0):[g],g.filter(Boolean).forEach(function(h){var y,_;if(!h.get("removable"))return u.em.logWarning("The element is not removable",{component:h});p.push(h);var x=((_=(y=h.delegate)===null||y===void 0?void 0:y.remove)===null||_===void 0?void 0:_.call(y,h))||h;x.remove()}),s.selectRemove(p),p}};let a=i},4864:(o,n,t)=>{t.r(n),t.d(n,{default:()=>l});var e=t(5706),r=t(9966),i=t(1166),a=function(){return a=Object.assign||function(c){for(var u,p=1,g=arguments.length;p<g;p++){u=arguments[p];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(c[h]=u[h])}return c},a.apply(this,arguments)},s="dmode";let l={run:function(c,u,p){var g=this,h,y;if(p===void 0&&(p={}),(0,e.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget"),!p.target)throw new Error("Target option is required");var _=a({doc:(h=p.target.getEl())===null||h===void 0?void 0:h.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){var P;return(P=g.guidesStatic)!==null&&P!==void 0?P:[]},guidesTarget:function(){var P;return(P=g.guidesTarget)!==null&&P!==void 0?P:[]}},(y=p.dragger)!==null&&y!==void 0?y:{});this.setupGuides(),this.opts=p,this.editor=c,this.em=c.getModel(),this.target=p.target,this.isTran=p.mode=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var x=this.dragger;return x?x.setOptions(_):(x=new r.A(_),this.dragger=x),p.event&&x.start(p.event),this.toggleDrag(!0),this.em.trigger("".concat(s,":start"),this.getEventOpts()),x},getEventOpts:function(){var c,u,p=(u=(c=this.guidesTarget)===null||c===void 0?void 0:c.filter(function(g){return g.active}))!==null&&u!==void 0?u:[];return{mode:this.opts.mode,component:this.target,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic,guidesMatched:this.getGuidesMatched(p),command:this}},stop:function(){this.toggleDrag()},setupGuides:function(){var c;((c=this.guides)!==null&&c!==void 0?c:[]).forEach(function(u){var p,g=u.guide;(p=g?.parentNode)===null||p===void 0||p.removeChild(g)}),this.guides=[]},getGuidesContainer:function(){var c=this,u,p,g,h,y=this.guidesEl;if(!y){var _=this,x=_.editor,P=_.em,w=_.opts,T=(u=x.getConfig().stylePrefix)!==null&&u!==void 0?u:"",b=document.createElement("div"),k=document.createElement("div"),E='<div class="'.concat(T,"guide-info__line ").concat(T,`danger-bg">
        <div class="`).concat(T,"guide-info__content ").concat(T,`danger-color"></div>
      </div>`);y=document.createElement("div"),y.className="".concat(T,"guides"),b.className="".concat(T,"guide-info ").concat(T,"guide-info__x"),k.className="".concat(T,"guide-info ").concat(T,"guide-info__y"),b.innerHTML=E,k.innerHTML=E,y.appendChild(b),y.appendChild(k),(p=x.Canvas.getGlobalToolsEl())===null||p===void 0||p.appendChild(y),this.guidesEl=y,this.elGuideInfoX=b,this.elGuideInfoY=k,this.elGuideInfoContentX=(g=b.querySelector(".".concat(T,"guide-info__content")))!==null&&g!==void 0?g:void 0,this.elGuideInfoContentY=(h=k.querySelector(".".concat(T,"guide-info__content")))!==null&&h!==void 0?h:void 0,P.on("canvas:update frame:scroll",(0,e.debounce)(function(){var L;c.updateGuides(),w.debug&&((L=c.guides)===null||L===void 0||L.forEach(function(R){return c.renderGuide(R)}))},200))}return y},getGuidesStatic:function(){var c=this,u=[],p=this.target.getEl(),g=p?.parentElement;return g?((0,e.each)(g.children,function(h){return u=u.concat(p!==h?c.getElementGuides(h):[])}),u.concat(this.getElementGuides(g))):[]},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(c){var u=this,p,g,h,y=(p=c??this.guides)!==null&&p!==void 0?p:[];y.forEach(function(_){var x=_.origin,P=g===x?h:u.getElementPos(x);g=x,h=P,(0,e.each)(u.getGuidePosUpdate(_,P),function(w,T){_[T]=w}),_.originRect=P})},getGuidePosUpdate:function(c,u){var p={},g=u.top,h=u.height,y=u.left,_=u.width;switch(c.type){case"t":p.y=g;break;case"b":p.y=g+h;break;case"l":p.x=y;break;case"r":p.x=y+_;break;case"x":p.x=y+_/2;break;case"y":p.y=g+h/2;break}return p},renderGuide:function(c){var u,p;if(!this.opts.skipGuidesRender){var g=(u=c.guide)!==null&&u!==void 0?u:document.createElement("div"),h="px",y=c.active?2:1;if(g.style.cssText="position: absolute; background-color: ".concat(c.active?"green":"red",";"),!g.children.length){var _=document.createElement("div");_.style.cssText="position: absolute; color: red; padding: 5px; top: 0; left: 0;",g.appendChild(_)}return c.y?(g.style.width="100%",g.style.height="".concat(y).concat(h),g.style.top="".concat(c.y).concat(h),g.style.left="0"):(g.style.width="".concat(y).concat(h),g.style.height="100%",g.style.left="".concat(c.x).concat(h),g.style.top="0".concat(h)),!c.guide&&((p=this.guidesContainer)===null||p===void 0||p.appendChild(g)),g}},getElementPos:function(c){return this.editor.Canvas.getElementPos(c,{noScroll:1})},getElementGuides:function(c){var u=this,p=this.opts,g=c,h=this.getElementPos(c),y=(0,i.getComponentModel)(c),_=(0,i.getComponentView)(c),x=h.top,P=h.height,w=h.left,T=h.width,b=[{type:"t",y:x},{type:"b",y:x+P},{type:"l",x:w},{type:"r",x:w+T},{type:"x",x:w+T/2},{type:"y",y:x+P/2}],k=b.map(function(E){var L=p.debug?u.renderGuide(E):void 0;return a(a({},E),{component:y,componentView:_,componentEl:g,origin:g,componentElRect:h,originRect:h,guideEl:L,guide:L})});return k.forEach(function(E){var L;return(L=u.guides)===null||L===void 0?void 0:L.push(E)}),k},getTranslate:function(c,u){u===void 0&&(u="x");var p=0;return(c||"").split(" ").forEach(function(g){var h=g.trim(),y="translate".concat(u.toUpperCase(),"(");h.indexOf(y)===0&&(p=parseFloat(h.replace(y,"")))}),p},setTranslate:function(c,u,p){var g="translate".concat(u.toUpperCase(),"("),h="".concat(g).concat(p,")"),y=(c||"").split(" ").map(function(_){var x=_.trim();return x.indexOf(g)===0&&(_=h),_}).join(" ");return y.indexOf(g)<0&&(y+=" ".concat(h)),y},getPosition:function(){var c=this,u=c.target,p=c.isTran,g=u.getStyle(),h=g.transform,y=g.left,_=g.top,x=0,P=0;return p&&h?(x=this.getTranslate(h),P=this.getTranslate(h,"y")):(x=parseFloat(y??"0"),P=parseFloat(_??"0")),{x,y:P}},setPosition:function(c){var u,p,g=c.x,h=c.y,y=c.end,_=c.position,x=c.width,P=c.height,w=this,T=w.target,b=w.isTran,k=w.em,E=w.opts,L="px",R=!y,z="".concat(parseInt("".concat(g),10)).concat(L),N="".concat(parseInt("".concat(h),10)).concat(L),j={};if(b){var D=(p=(u=T.getStyle())===null||u===void 0?void 0:u.transform)!==null&&p!==void 0?p:"";D=this.setTranslate(D,"x",z),D=this.setTranslate(D,"y",N),j={transform:D,__p:R}}else{var W={position:_,width:x,height:P},q={left:z,top:N,__p:R};(0,e.keys)(W).forEach(function(J){var I=W[J];I&&(q[J]=I)}),j=q}E.addStyle?E.addStyle({component:T,styles:j,partial:!y}):T.addStyle(j,{avoidStore:!y}),k.Styles.__emitCmpStyleUpdate(j,{components:k.getSelected()})},_getDragData:function(){var c=this.target;return{target:c,parent:c.parent(),index:c.index()}},onStart:function(c){var u,p=this,g=p.target,h=p.editor,y=p.isTran,_=p.opts,x=h.Canvas,P=g.getStyle(),w="absolute",T=[w,"relative"];if((u=_.onStart)===null||u===void 0||u.call(_,this._getDragData()),!y){if(P.position!==w){var b=x.offset(g.getEl()),k=b.left,E=b.top,L=b.width,R=b.height,z=g.parent(),N=null;do{var j=z?.getStyle(),D=j?.position;D&&(N=T.indexOf(D)>=0?z:null),z=z?.parent()}while(z&&!N);if(_.center){var W=x.getMouseRelativeCanvas(c),q=W.x,J=W.y;k=q,E=J}else if(N){var I=x.offset(N.getEl());k=k-I.left,E=E-I.top}this.setPosition({x:k,y:E,width:"".concat(L,"px"),height:"".concat(R,"px"),position:w})}this.guidesStatic=this.getGuidesStatic()}},onDrag:function(c){var u=this,p,g,h=this,y=h.guidesTarget,_=h.opts;this.updateGuides(y),_.debug&&y?.forEach(function(x){return u.renderGuide(x)}),_.guidesInfo&&this.renderGuideInfo((p=y?.filter(function(x){return x.active}))!==null&&p!==void 0?p:[]),(g=_.onDrag)===null||g===void 0||g.call(_,this._getDragData()),this.opts.event=c,this.em.trigger("".concat(s,":move"),this.getEventOpts())},onEnd:function(c,u,p){var g,h=this,y=h.editor,_=h.opts,x=h.id;(g=_.onEnd)===null||g===void 0||g.call(_,c,p,a(a({event:c},p),this._getDragData())),y.stopCommand("".concat(x)),this.hideGuidesInfo(),this.em.trigger("".concat(s,":end"),this.getEventOpts())},hideGuidesInfo:function(){var c=this;["X","Y"].forEach(function(u){var p=c["elGuideInfo".concat(u)];p&&(p.style.display="none")})},renderGuideInfo:function(c){var u=this;c===void 0&&(c=[]),this.hideGuidesInfo();var p=this.getGuidesMatched(c);p.forEach(function(g){u.opts.skipGuidesRender||u.renderSingleGuideInfo(g),u.em.trigger("".concat(s,":active"),a(a({},u.getEventOpts()),g))})},renderSingleGuideInfo:function(c){var u=c.posFirst,p=c.posSecond,g=c.size,h=c.sizeRaw,y=c.guide,_=c.elGuideInfo,x=c.elGuideInfoCnt,P=(0,e.isUndefined)(y.x)?"y":"x",w=P==="y",T=_.style;T.display="",T[w?"top":"left"]="".concat(u,"px"),T[w?"left":"top"]="".concat(p,"px"),T[w?"width":"height"]="".concat(g,"px"),x.innerHTML="".concat(Math.round(h),"px")},getGuidesMatched:function(c){var u=this;c===void 0&&(c=[]);var p=this.guidesStatic,g=p===void 0?[]:p;return c.map(function(h){var y=h.origin,_=h.x,x=u.getElementPos(y),P=(0,e.isUndefined)(_)?"y":"x",w=P==="y",T=x[w?"left":"top"],b=x.rect[w?"left":"top"],k=w?T+x.width:T+x.height,E=w?b+x.rect.width:b+x.rect.height,L=g.filter(function(wt){var Et,Nt={l:["r","x"],r:["l","x"],x:["l","r"],t:["b","y"],b:["t","y"],y:["t","b"]};return wt.type===h.type||((Et=Nt[h.type])===null||Et===void 0?void 0:Et.includes(wt.type))}).map(function(wt){var Et=wt.originRect,Nt=Et.left,Ht=Et.width,It=Et.top,at=Et.height,Kt=w?Nt:It,le=w?Nt+Ht:It+at;return{gap:le<T?T-le:Kt-k,guide:wt}}).filter(function(wt){return wt.gap>0}).sort(function(wt,Et){return wt.gap-Et.gap}).map(function(wt){return wt.guide}).filter(function(wt){switch(h.type){case"l":case"r":case"x":return Math.abs(wt.x-h.x)<1;case"t":case"b":case"y":return Math.abs(wt.y-h.y)<1;default:return!1}}),R=L[0];if(R){var z=R.originRect,N=z.left,j=z.width,D=z.top,W=z.height,q=z.rect,J=w?N<x.left:D<x.top,I=w?N:D,Z=w?q.left:q.top,et=w?N+j:D+W,ut=w?q.left+q.width:q.top+q.height,Rt=w?h.y:h.x,Gt=J?et:k,Pt=J?T-et:I-k,_t=J?b-ut:Z-E,rt=u["elGuideInfo".concat(P.toUpperCase())],ft=u["elGuideInfoContent".concat(P.toUpperCase())];return{guide:h,guidesStatic:g,matched:R,posFirst:Rt,posSecond:Gt,size:Pt,sizeRaw:_t,elGuideInfo:rt,elGuideInfoCnt:ft}}else return null}).filter(Boolean)},toggleDrag:function(c){var u=this,p=u.ppfx,g=u.editor,h=c?"add":"remove",y=["".concat(p,"is__grabbing")],_=g.Canvas,x=_.getBody();y.forEach(function(P){return x.classList[h](P)}),_[c?"startAutoscroll":"stopAutoscroll"]()},editor:void 0,em:void 0,opts:void 0,target:void 0}},6134:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});let e={run:function(r){if(r.Canvas.hasFocus()){var i=[];r.getSelectedAll().forEach(function(a){var s=a.components(),l=s&&s.filter(function(c){return c.get("selectable")})[0];l&&i.push(l)}),i.length&&r.select(i)}}}},914:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});let e={run:function(r,i,a){if(a===void 0&&(a={}),!(!r.Canvas.hasFocus()&&!a.force)){var s=[];r.getSelectedAll().forEach(function(l){for(var c=l.parent();c&&!c.get("selectable");)c=c.parent();c&&s.push(c)}),s.length&&r.select(s)}}}},5547:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});let e={run:function(r){if(r.Canvas.hasFocus()){var i=[];r.getSelectedAll().forEach(function(a){var s=a.parent();if(s){var l=s.components().length,c=0,u=0,p;do c++,u=a.index()+c,p=u<=l?s.getChildAt(u):null;while(p&&!p.get("selectable"));i.push(p||a)}}),i.length&&r.select(i)}}}},8655:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});let e={run:function(r){if(r.Canvas.hasFocus()){var i=[];r.getSelectedAll().forEach(function(a){var s=a.parent();if(s){var l=0,c=0,u;do l++,c=a.index()-l,u=c>=0?s.getChildAt(c):null;while(u&&!u.get("selectable"));i.push(u||a)}}),i.length&&r.select(i)}}}},7640:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(5706);let r={run:function(i,a,s){s===void 0&&(s={});var l=s.target,c=[];if(!l.get("styles"))return c;var u=l.get("type"),p=i.Pages.getAllWrappers(),g=(0,e.flatten)(p.map(function(y){return y.findType(u)})).length;if(!g){var h=i.CssComposer.getAll();c=h.filter(function(y){return y.get("group")==="cmp:".concat(u)}),h.remove(c)}return c}}},5837:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=function(i,a,s){if(s||arguments.length===2)for(var l=0,c=a.length,u;l<c;l++)(u||!(l in a))&&(u||(u=Array.prototype.slice.call(a,0,l)),u[l]=a[l]);return i.concat(u||Array.prototype.slice.call(a))};let r={run:function(i){var a=i.getModel(),s=e([],i.getSelectedAll(),!0).map(function(l){var c,u;return((u=(c=l.delegate)===null||c===void 0?void 0:c.copy)===null||u===void 0?void 0:u.call(c,l))||l}).filter(Boolean);s.length&&a.set("clipboard",s)}}},6477:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(6294);let r={run:function(i,a,s){var l=this;s===void 0&&(s={}),a&&a.set&&a.set("active",0);var c=i.getConfig(),u=i.Modal,p=c.stylePrefix;if(this.cm=i.CodeManager||null,!this.editors){var g=this.buildEditor("htmlmixed","hopscotch","HTML"),h=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=g.model,this.cssEditor=h.model;var y=(0,e.a_)("div",{class:"".concat(p,"export-dl")});y.appendChild(g.el),y.appendChild(h.el),this.editors=y}u.open({title:c.textViewCode,content:this.editors}).getModel().once("change:open",function(){return i.stopCommand("".concat(l.id))}),this.htmlEditor.setContent(i.getHtml(s.optsHtml)),this.cssEditor.setContent(i.getCss(s.optsCss))},stop:function(i){var a=i.Modal;a&&a.close()},buildEditor:function(i,a,s){var l=this.em.CodeManager,c=l.createViewer({label:s,codeName:i,theme:a}),u=new l.EditorView({model:c,config:l.getConfig()}).render().el;return{model:c,el:u}}}},1772:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(5706);let r={isEnabled:function(){var i=document;return!!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement)},enable:function(i){var a="";return i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?(a="webkit",i.webkitRequestFullscreen()):i.mozRequestFullScreen?(a="moz",i.mozRequestFullScreen()):i.msRequestFullscreen&&i.msRequestFullscreen(),a},disable:function(){var i=document;this.isEnabled()&&(i.exitFullscreen?i.exitFullscreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.msExitFullscreen&&i.msExitFullscreen())},fsChanged:function(i){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(i||"","fullscreenchange"),this.fsChanged))},run:function(i,a,s){s===void 0&&(s={}),this.sender=a;var l=s.target,c=(0,e.isElement)(l)?l:document.querySelector(l),u=this.enable(c||i.getContainer());this.fsChanged=this.fsChanged.bind(this,u),document.addEventListener(u+"fullscreenchange",this.fsChanged)},stop:function(i,a){a&&a.set&&a.set("active",!1),this.disable()}}},741:(o,n,t)=>{t.r(n),t.d(n,{default:()=>l});var e=t(5706),r=t(7774),i=t(6294),a=t(9317),s=t(1406);let l=(0,e.extend)({},s.default,a.default,{init:function(c){a.default.init.apply(this,arguments),(0,e.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=c,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];a.default.enable.apply(this,c),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var p=this.$wrapper;p.css("cursor","move"),p.on("mousedown",this.initSorter),p.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(c){var u=(0,r.default)(c.target).data("model"),p=u.get("draggable");p&&(this.cacheEl=null,this.startSelectPosition(c.target,this.frameEl.contentDocument),this.sorter.draggable=p,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,i.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(c){var u=c.get("draggable");if(u){this.cacheEl=null;var p=c.view.el;this.startSelectPosition(p,this.frameEl.contentDocument),this.sorter.draggable=u,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(c){this.cacheEl=null;var u=c[c.length-1],p=this.em.getCurrentFrame(),g=u.getEl(p?.model),h=g.ownerDocument,y=c.map(function(_){var x;return(x=_?.view)===null||x===void 0?void 0:x.el});this.startSelectPosition(y,h,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(c,u){},rollback:function(c,u){var p=c.which||c.keyCode;(p==27||u)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,r.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,r.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];a.default.stop.apply(this,c),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var p=this.$wrapper;p.css("cursor","").unbind().removeClass(this.noSelClass)}})},2924:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=t(5706),r=t(6294);let i={open:function(a){var s=this,l=this,c=l.editor,u=l.title,p=l.config,g=l.am,h=p.custom;if((0,e.isFunction)(h.open))return h.open(g.__customData());var y=c.Modal;y.open({title:u,content:a}).onceClose(function(){return c.stopCommand(s.id)})},close:function(){var a=this.config.custom;if((0,e.isFunction)(a.close))return a.close(this.am.__customData());var s=this.editor.Modal;s&&s.close()},run:function(a,s,l){l===void 0&&(l={});var c=a.AssetManager,u=c.getConfig(),p=l.types,g=p===void 0?[]:p,h=l.accept,y=l.select;if(this.title=l.modalTitle||a.t("assetManager.modalTitle")||"",this.editor=a,this.config=u,this.am=c,c.setTarget(l.target),c.onClick(l.onClick),c.onDblClick(l.onDblClick),c.onSelect(l.onSelect),c.__behaviour({select:y,types:g,options:l}),u.custom)this.rendered=this.rendered||(0,r.a_)("div"),this.rendered.className="".concat(u.stylePrefix,"custom-wrp"),c.__behaviour({container:this.rendered}),c.__trgCustom();else{if(!this.rendered||g){var _=c.getAll().filter(function(P){return P});g&&g.length&&(_=_.filter(function(P){return g.indexOf(P.get("type"))!==-1})),c.render(_),this.rendered=c.getContainer()}if(h){var x=this.rendered.querySelector("input#".concat(u.stylePrefix,"uploadFile"));x&&x.setAttribute("accept",h)}}return this.open(this.rendered),this},stop:function(a){this.editor=a,this.close(this.rendered)}}},3963:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=t(5706),r=t(6294);let i={open:function(){var a=this,s=a.container,l=a.editor,c=a.bm,u=a.config,p=u.custom,g=u.appendTo;if((0,e.isFunction)(p.open))return p.open(c.__customData());if(this.firstRender&&!g){var h="views-container",y=l.Panels,_=y.getPanel(h)||y.addPanel({id:h});_.set("appendContent",s).trigger("change:appendContent"),p||s.appendChild(c.render())}s&&(s.style.display="block")},close:function(){var a=this,s=a.container,l=a.config,c=l.custom;if((0,e.isFunction)(c.close))return c.close(this.bm.__customData());s&&(s.style.display="none")},run:function(a){var s=a.Blocks;this.config=s.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,r.a_)("div"),this.editor=a,this.bm=s;var l=this.container;s.__behaviour({container:l}),this.config.custom&&s.__trgCustom(),this.open()},stop:function(){this.close()}}},1479:(o,n,t)=>{t.r(n),t.d(n,{default:()=>e});let e={run:function(r){var i=r.LayerManager,a=r.Panels,s=i.getConfig();if(!s.appendTo){if(!this.layers){var l="views-container",c=document.createElement("div"),u=a.getPanel(l)||a.addPanel({id:l});s.custom?i.__trgCustom({container:c}):c.appendChild(i.render()),u.set("appendContent",c).trigger("change:appendContent"),this.layers=c}this.layers.style.display="block"}},stop:function(){var r=this.layers;r&&(r.style.display="none")}}},3473:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(7774);let r={run:function(i,a){if(this.sender=a,!this.$cnt){var s=i.getConfig(),l=i.Panels,c=i.DeviceManager,u=i.SelectorManager,p=i.StyleManager,g="change:appendContent",h=(0,e.default)("<div></div>"),y=(0,e.default)("<div></div>"),_=(0,e.default)("<div></div>"),x=(0,e.default)("<div></div>");if(this.$cnt=h,this.$cntInner=y,y.append(_),y.append(x),h.append(y),c&&s.showDevices){var P=l.addPanel({id:"devices-c"}),w=c.render();P.set("appendContent",w).trigger(g)}var T=u.getConfig();T.custom?u.__trgCustom({container:_.get(0)}):T.appendTo||_.append(u.render([])),this.sm=p;var b=p.getConfig(),k=b.stylePrefix;this.$header=(0,e.default)('<div class="'.concat(k,'header">').concat(i.t("styleManager.empty"),"</div>")),h.append(this.$header),b.custom?p.__trgCustom({container:x.get(0)}):b.appendTo||x.append(p.render());var E="views-container",L=l.getPanel(E)||l.addPanel({id:E});L.set("appendContent",h).trigger(g);var R=i.getModel();this.listenTo(R,p.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var i=this,a=i.sender,s=i.sm,l=i.$cntInner,c=i.$header;a&&a.get&&!a.get("active")||!s||(s.getSelected()?(l?.show(),c?.hide()):(l?.hide(),c?.show()))},stop:function(){var i,a;(i=this.$cntInner)===null||i===void 0||i.hide(),(a=this.$header)===null||a===void 0||a.hide()}}},5054:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(7774);let r={run:function(i,a){this.sender=a;var s=i.getModel(),l=i.Config,c=l.stylePrefix,u=i.TraitManager,p=u.getConfig(),g;if(!p.appendTo){if(!this.$cn){this.$cn=(0,e.default)("<div></div>"),this.$cn2=(0,e.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,e.default)("<div>").append('<div class="'.concat(p.stylePrefix,'header">').concat(s.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),p.custom?u.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(c,'traits-label">').concat(s.t("traitManager.label"),"</div>")),this.$cn2.append(u.render()));var h=i.Panels;h.getPanel("views-container")?g=h.getPanel("views-container"):g=h.addPanel({id:"views-container"}),g?.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=i.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var i=this.sender;i&&i.get&&!i.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},6979:(o,n,t)=>{t.r(n),t.d(n,{default:()=>r});var e=t(5706);let r={run:function(a,s,l){l===void 0&&(l={});var c=a.getModel(),u=c.get("clipboard"),p=a.getSelected();u?.length&&p&&(a.getSelectedAll().forEach(function(g){var h,y,_,x=((y=(h=g.delegate)===null||h===void 0?void 0:h.copy)===null||y===void 0?void 0:y.call(h,g))||g,P=x.collection,w;if(P){var T=x.index()+1,b={at:T,action:l.action||"paste-component"};(0,e.contains)(u,x)&&x.get("copyable")?w=P.add(x.clone(),b):w=i(a,u,x.parent(),b)}else{var k=(_=c.Pages.getSelected())===null||_===void 0?void 0:_.getMainComponent(),b={at:k?.components().length||0,action:l.action||"paste-component"};w=i(a,u,k,b)}w=(0,e.isArray)(w)?w:[w],w.forEach(function(E){return a.trigger("component:paste",E)})}),p.emitUpdate())}};function i(a,s,l,c){var u=s.filter(function(g){return g.get("copyable")}),p=u.filter(function(g){return a.Components.canMove(l,g).result});return l.components().add(p.map(function(g){return g.clone()}),c)}},4457:(o,n,t)=>{t.r(n),t.d(n,{default:()=>a});var e=t(5706),r=function(s,l,c){if(c||arguments.length===2)for(var u=0,p=l.length,g;u<p;u++)(g||!(u in l))&&(g||(g=Array.prototype.slice.call(l,0,u)),g[u]=l[u]);return s.concat(g||Array.prototype.slice.call(l))},i="core:component-outline";let a={getPanels:function(s){return this.panels||(this.panels=s.Panels.getPanels()),this.panels},preventDrag:function(s){s.abort=1},tglEffects:function(s){var l=this.em,c=s?"on":"off";if(l){var u=l.Canvas,p=u.getBody(),g=u.getToolbarEl();g&&(g.style.display=s?"none":"");var h=p.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,e.each)(h,function(y){return y.style.pointerEvents=s?"all":""}),l[c]("run:tlb-move:before",this.preventDrag)}},run:function(s,l){var c=this;this.sender=l,this.selected=r([],s.getSelectedAll(),!0),s.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=s.Commands.isActive(i)),this.shouldRunSwVisibility&&s.stopCommand(i),s.getModel().stopDefault();var u=this.getPanels(s),p=s.Canvas.getElement(),g=s.getEl(),h=s.Config.stylePrefix;if(!this.helper){var y=document.createElement("span");y.className="".concat(h,"off-prv fa fa-eye-slash"),g.appendChild(y),y.onclick=function(){return c.stopCommand()},this.helper=y}this.helper.style.display="inline-block",u.forEach(function(x){return x.set("visible",!1)});var _=p.style;_.width="100%",_.height="100%",_.top="0",_.left="0",_.padding="0",_.margin="0",s.refresh(),this.tglEffects(1)},stop:function(s){var l=this,c=l.sender,u=c===void 0?{}:c,p=l.selected;u.set&&u.set("active",0);var g=this.getPanels(s);this.shouldRunSwVisibility&&(s.runCommand(i),this.shouldRunSwVisibility=!1),s.getModel().runDefault(),g.forEach(function(y){return y.set("visible",!0)});var h=s.Canvas.getElement();h.setAttribute("style",""),p&&s.select(p),delete this.selected,this.helper&&(this.helper.style.display="none"),s.refresh(),this.tglEffects()}}},5493:(o,n,t)=>{t.r(n),t.d(n,{ConvertUnitsToPx:()=>s,default:()=>l});var e=t(2225),r=t(1166),i=function(){return i=Object.assign||function(c){for(var u,p=1,g=arguments.length;p<g;p++){u=arguments[p];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(c[h]=u[h])}return c},i.apply(this,arguments)},a=function(c,u){var p={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&u.indexOf(g)<0&&(p[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,g=Object.getOwnPropertySymbols(c);h<g.length;h++)u.indexOf(g[h])<0&&Object.prototype.propertyIsEnumerable.call(c,g[h])&&(p[g[h]]=c[g[h]]);return p},s=function(c){return c.pt="pt",c.pc="pc",c.in="in",c.cm="cm",c.mm="mm",c.vw="vw",c.vh="vh",c.vmin="vmin",c.vmax="vmax",c.svw="svw",c.lvw="lvw",c.dvw="dvw",c.svh="svh",c.lvh="lvh",c.dvh="dvh",c.perc="%",c}(s||{});let l={run:function(c,u,p){var g=this,h=c.Canvas,y=c.Utils,_=c.em,x=h.getCanvasView(),P=_.config.stylePrefix||"",w="".concat(P,"resizing"),T=p.onStart,b=T===void 0?function(){}:T,k=p.onMove,E=k===void 0?function(){}:k,L=p.onEnd,R=L===void 0?function(){}:L,z=p.updateTarget,N=z===void 0?function(){}:z,j=p.el,D=p.componentView,W=p.component,q=p.skipPositionUpdate,J=a(p,["onStart","onMove","onEnd","updateTarget","el","componentView","component","skipPositionUpdate"]),I=j||D?.el||W.getEl(),Z={component:W,el:I},et,ut,Rt=function(_t,rt,ft){var wt=ft.docs;wt&&wt.forEach(function(Et){var Nt=Et.body,Ht=Nt.className||"";Nt.className=(_t=="add"?"".concat(Ht," ").concat(w):Ht.replace(w,"")).trim()})},Gt=i(i({appendTo:h.getResizerEl(),prefix:c.getConfig().stylePrefix,posFetcher:x.getElementPos.bind(x),mousePosFetcher:h.getMouseRelativePos.bind(h),docs:[document],updateOnMove:!0,skipUnitAdjustments:!0,onStart:function(_t,rt){var ft;b(_t,rt);var wt=rt.el,Et=rt.config,Nt=rt.resizer,Ht=Et.keyHeight,It=Et.keyWidth,at=Et.currentUnit,Kt=Et.keepAutoHeight,le=Et.keepAutoWidth;Rt("add",_t,rt),et=_.Styles.getModelToStyle(W),ut=getComputedStyle(wt);var Ct=et.getStyle(),oe=i({},Nt.startDim),ge=Ct[It];Et.autoWidth=le&&ge==="auto",isNaN(parseFloat(ge))&&(ge=ut[It]);var ce=Ct[Ht];Et.autoHeight=Kt&&ce==="auto",isNaN(parseFloat(ce))&&(ce=ut[Ht]);var K=parseFloat(ge),ot=parseFloat(ce),mt=(0,r.getUnitFromValue)(ge),At=(0,r.getUnitFromValue)(ce);at&&(Et.unitWidth=mt,Et.unitHeight=At);var Qt=i(i({},Z),{event:_t,rect:oe,model:et,modelWidth:{value:ge,property:It,number:K,unit:mt},modelHeight:{value:ce,property:Ht,number:ot,unit:At}});c.trigger(e.I.resizeStart,Qt),c.trigger(e.I.resize,i(i({},Qt),{type:"start"})),(ft=p.afterStart)===null||ft===void 0||ft.call(p)},onMove:function(_t,rt){E(_t,rt);var ft=rt.resizer,wt=i(i({},Z),{event:_t,delta:ft.delta,pointer:ft.currentPos,rect:ft.rectDim});c.trigger(e.I.resizeStart,wt),c.trigger(e.I.resize,i(i({},wt),{type:"move"}))},onEnd:function(_t,rt){var ft;R(_t,rt),Rt("remove",_t,rt);var wt=rt.resizer,Et=i(i({},Z),{event:_t,rect:wt.rectDim,moved:wt.moved});c.trigger(e.I.resizeEnd,Et),c.trigger(e.I.resize,i(i({},Z),{type:"end"})),(ft=p.afterEnd)===null||ft===void 0||ft.call(p)},updateTarget:function(_t,rt,ft){var wt;if(N(_t,rt,ft),!!et){var Et=ft.store,Nt=ft.selectedHandler,Ht=ft.config,It=ft.resizer,at=ft.event,Kt=Ht.keyHeight,le=Ht.keyWidth,Ct=Ht.autoHeight,oe=Ht.autoWidth,ge=Ht.unitWidth,ce=Ht.unitHeight,K=["tc","bc"].indexOf(Nt)>=0,ot=["cl","cr"].indexOf(Nt)>=0,mt=!Et,At={};if(!K){var Qt=((wt=h.getBody())===null||wt===void 0?void 0:wt.offsetWidth)||0,ht=rt.w<Qt?rt.w:Qt;At[le]=oe?"auto":g.convertPxToUnit({el:I,elComputedStyle:ut,valuePx:ht,unit:ge})}ot||(At[Kt]=Ct?"auto":g.convertPxToUnit({el:I,elComputedStyle:ut,valuePx:rt.h,unit:ce,isHeight:!0})),!q&&_.getDragMode(W)&&(At.top="".concat(rt.t,"px"),At.left="".concat(rt.l,"px"));var kt=!1,Lt=function(Ye){kt=!0;var De=i(i({},Ye||At),{__p:mt});et.addStyle(De,{avoidStore:mt}),_.Styles.__emitCmpStyleUpdate(De,{components:W})},he=i(i({},Z),{rect:rt,partial:mt,event:at,style:At,updateStyle:Lt,convertPxToUnit:function(Ye){return g.convertPxToUnit(i({el:I,elComputedStyle:ut},Ye))},delta:It.delta,pointer:It.currentPos});c.trigger(e.I.resizeUpdate,he),!kt&&Lt()}}},J),p.options),Pt=this.canvasResizer;return Pt||(this.canvasResizer=new y.Resizer(Gt),Pt=this.canvasResizer),Pt.setOptions(Gt,!0),Pt.blur(),Pt.focus(I),Pt},stop:function(){var c;(c=this.canvasResizer)===null||c===void 0||c.blur()},convertPxToUnit:function(c){var u=c.el,p=c.valuePx,g=c.unit,h=c.dpi,y=h===void 0?96:h,_=c.roundDecimals,x=_===void 0?3:_,P=c.isHeight,w=c.elComputedStyle,T=u.ownerDocument.defaultView,b=T?.innerWidth||1,k=window.innerHeight||1,E=p,L=g;switch(g){case s.pt:E=p*(72/y);break;case s.pc:E=p*(6/y);break;case s.in:E=p/y;break;case s.cm:E=p/(y/2.54);break;case s.mm:E=p/(y/25.4);break;case s.vw:E=p/b*100;break;case s.vh:E=p/k*100;break;case s.vmin:{var R=Math.min(b,k);E=p/R*100;break}case s.vmax:{var z=Math.max(b,k);E=p/z*100;break}case s.perc:{var N=u.parentElement,j=u.offsetParent,D=w?.position==="absolute"?j:N,W=D?.offsetWidth||1,q=D?.offsetHeight||1,J=P?q:W;E=p/J*100;break}case s.svw:case s.lvw:case s.dvw:E=p/b*100;break;case s.svh:case s.lvh:case s.dvh:E=p/k*100;break;default:L="px"}return"".concat(+E.toFixed(x)).concat(L)}}},9317:(o,n,t)=>{t.r(n),t.d(n,{default:()=>z});var e=t(5706),r=t(179),i=t(9156),a=function(){var N=function(j,D){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,q){W.__proto__=q}||function(W,q){for(var J in q)Object.prototype.hasOwnProperty.call(q,J)&&(W[J]=q[J])},N(j,D)};return function(j,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");N(j,D);function W(){this.constructor=j}j.prototype=D===null?Object.create(D):(W.prototype=D.prototype,new W)}}(),s=function(N){a(j,N);function j(){return N!==null&&N.apply(this,arguments)||this}return j.prototype.defaults=function(){return{command:"",attributes:{}}},j}(i.Kx);let l=s;var c=function(){var N=function(j,D){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,q){W.__proto__=q}||function(W,q){for(var J in q)Object.prototype.hasOwnProperty.call(q,J)&&(W[J]=q[J])},N(j,D)};return function(j,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");N(j,D);function W(){this.constructor=j}j.prototype=D===null?Object.create(D):(W.prototype=D.prototype,new W)}}(),u=function(N){c(j,N);function j(){return N!==null&&N.apply(this,arguments)||this}return j}(i.pM);let p=u;u.prototype.model=l;var g=t(2225),h=t(8242),y=function(){var N=function(j,D){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,q){W.__proto__=q}||function(W,q){for(var J in q)Object.prototype.hasOwnProperty.call(q,J)&&(W[J]=q[J])},N(j,D)};return function(j,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");N(j,D);function W(){this.constructor=j}j.prototype=D===null?Object.create(D):(W.prototype=D.prototype,new W)}}(),_=function(){return _=Object.assign||function(N){for(var j,D=1,W=arguments.length;D<W;D++){j=arguments[D];for(var q in j)Object.prototype.hasOwnProperty.call(j,q)&&(N[q]=j[q])}return N},_.apply(this,arguments)},x=function(N){y(j,N);function j(D){var W=N.call(this,D)||this;return W.em=D.config.em,W}return j.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},j.prototype.attributes=function(){return this.model.get("attributes")},j.prototype.handleClick=function(D){D.preventDefault(),D.stopPropagation();var W=this.em,q=W.Canvas.getFrameEl().getBoundingClientRect(),J=q.left,I=q.top,Z=_(_({},D),{clientX:D.clientX-J,clientY:D.clientY-I});W.trigger("toolbar:run:before",{event:Z}),this.execCommand(Z)},j.prototype.execCommand=function(D){var W=this,q=W.em,J=W.model,I={event:D},Z=J.get("command"),et=q.Editor;(0,e.isFunction)(Z)&&Z(et,null,I),(0,e.isString)(Z)&&et.runCommand(Z,I)},j.prototype.render=function(){var D=this,W=D.em,q=D.$el,J=D.model,I=J.get("id"),Z=J.get("label"),et=W.getConfig().stylePrefix;return q.addClass("".concat(et,"toolbar-item")),I&&q.addClass("".concat(et,"toolbar-item__").concat(I)),Z&&q.append(Z),this},j}(i.Ss);let P=x;var w=function(){var N=function(j,D){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,q){W.__proto__=q}||function(W,q){for(var J in q)Object.prototype.hasOwnProperty.call(q,J)&&(W[J]=q[J])},N(j,D)};return function(j,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");N(j,D);function W(){this.constructor=j}j.prototype=D===null?Object.create(D):(W.prototype=D.prototype,new W)}}(),T=function(N){w(j,N);function j(D){var W=N.call(this,D)||this,q=D.em;return W.em=q,W.config={em:q},W.listenTo(W.collection,"reset",W.render),W}return j.prototype.onRender=function(){var D=this.em.config.stylePrefix;this.el.className="".concat(D,"toolbar-items")},j}(h.A);let b=T;T.prototype.itemView=P;var k=t(6294),E=t(1166),L=function(){return L=Object.assign||function(N){for(var j,D=1,W=arguments.length;D<W;D++){j=arguments[D];for(var q in j)Object.prototype.hasOwnProperty.call(j,q)&&(N[q]=j[q])}return N},L.apply(this,arguments)},R;let z={activeResizer:!1,init:function(){this.onSelect=(0,e.debounce)(this.onSelect,0),(0,e.bindAll)(this,"onHover","onOut","onClick","onCanvasScroll","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),R=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(N){var j=this,D=this,W=D.em,q=D.canvas,J=q.getCanvasView().el,I=W.getConfig().listenToEl,Z=W.getContainer().parentNode,et=N?"on":"off",ut={on:k.on,off:k.AU},Rt=g.I.update;!I.length&&Z&&I.push(Z);var Gt=function(Pt,_t,rt){ut[et](rt,"scroll",j.onCanvasScroll,!0),ut[et](_t,"mouseover",j.onHover),ut[et](_t,"mouseleave",j.onOut),ut[et](_t,"click",j.onClick),ut[et](Pt,"scroll",j.onFrameScroll,!0),ut[et](Pt,"resize",j.onFrameResize)};ut[et](window,"resize",this.onFrameUpdated),ut[et](I,"scroll",this.onContainerChange),W[et]("component:toggled ".concat(Rt," undo redo"),this.onSelect,this),W[et]("change:componentHovered",this.onHovered,this),W[et]("".concat(g.I.resize," styleable:change ").concat(g.I.input),this.updateGlobalPos,this),W[et]("".concat(Rt,":toolbar"),this._upToolbar,this),W[et]("frame:updated",this.onFrameUpdated,this),W[et]("canvas:updateTools",this.onFrameUpdated,this),W[et](W.Canvas.events.refresh,this.updateAttached,this),W.Canvas.getFrames().forEach(function(Pt){var _t=Pt.view,rt=_t?.getWindow();rt&&Gt(rt,_t?.getBody(),J)})},onHover:function(N){N.stopPropagation();var j=this.em,D=N.target,W=(0,E.getComponentView)(D),q=W?.frameView,J=W?.model;if(!J)for(var I=D.parentNode;!J&&I&&!(0,k.ZQ)(I);)J=(0,E.getComponentModel)(I),I=I.parentNode;this.currentDoc=D.ownerDocument,j.setHovered(J,{useValid:!0}),q&&j.setCurrentFrame(q)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(N,j){var D=this,W,q={};j?(W=j.views)===null||W===void 0||W.forEach(function(J){var I=J.el,Z=D.getElementPos(I);q={el:I,pos:Z,component:j,view:J},I.ownerDocument===D.currentDoc&&(D.elHovered=q),D.updateToolsLocal(q)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(J){var I=J.view,Z=I&&I.getToolsEl();Z&&D.toggleToolsEl(0,0,{el:Z})}))},onSelect:function(){var N=this.em,j=N.getSelected(),D=N.getCurrentFrame(),W=j&&j.getView(D?.model),q=W?.el,J={};if(q&&(0,k.zN)(q)){var I=this.getElementPos(q);J={el:q,pos:I,component:j,view:W}}this.elSelected=J,this.updateToolsGlobal(),this.updateLocalPos(J),this.initResize(j)},updateGlobalPos:function(){var N=this.getElSelected();N.el&&(N.pos=this.getElementPos(N.el),this.updateToolsGlobal())},updateLocalPos:function(N){var j=this.getElHovered();j.el&&(j.pos=this.getElementPos(j.el),this.updateToolsLocal(N))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(N,j,D){D===void 0&&(D={});var W=D.el||this.canvas.getToolsEl(j);return W&&(W.style.display=N?"":"none"),W||{}},showElementOffset:function(N,j,D){D===void 0&&(D={}),R&&this.editor.runCommand("show-offset",{el:N,elPos:j,view:D.view,force:1,top:0,left:0})},hideElementOffset:function(N){this.editor.stopCommand("show-offset",{view:N})},showFixedElementOffset:function(N,j){this.editor.runCommand("show-offset",{el:N,elPos:j,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(N){this.canvas.getHighlighter(N).style.opacity=0},onClick:function(N){N.stopPropagation(),N.preventDefault();var j=this.em;if(j.get("_cmpDrag"))return j.set("_cmpDrag");var D=N.target,W=(0,E.getComponentModel)(D);if(!W)for(var q=D.parentNode;!W&&q&&!(0,k.ZQ)(q);)W=(0,E.getComponentModel)(q),q=q.parentNode;if(W){if(j.isEditing()&&(!W.get("textable")&&W.isChildOf("text")||j.getEditing()!==W))return;this.select(W,N)}},select:function(N,j){if(N){var D=this.em;D.setSelected(N,{event:j,useValid:!0}),this.initResize(D.getSelected())}},updateBadge:function(N,j,D){D===void 0&&(D={});var W=this.canvas,q=(0,E.getComponentModel)(N),J=this.getBadge(D),I=J.style;if(!q||!q.get("badgable")){I.display="none";return}if(!D.posOnly){var Z=this.canvas.getConfig(),et=q.getIcon(),ut=Z.pStylePrefix||"",Rt="".concat(ut,"badge"),Gt=Z.customBadgeLabel,Pt="".concat(et?'<div class="'.concat(Rt,'__icon">').concat(et,"</div>"):"",`
        <div class="`).concat(Rt,'__name">').concat(q.getName(),"</div>");J.innerHTML=Gt?Gt(q):Pt}var _t="px";I.display="block";var rt=W.getTargetToElementFixed(N,J,{pos:j}),ft=rt.top,wt=D.leftOff<0?-D.leftOff:0;I.top=ft+_t,I.left=wt+_t},showHighlighter:function(N){this.canvas.getHighlighter(N).style.opacity=""},initResize:function(N){var j=this,D,W=this,q=W.em,J=W.canvas,I=q.Editor,Z=!(0,e.isElement)(N)&&(0,k.GW)(N)?N:q.getSelected(),et=(D=Z?.get)===null||D===void 0?void 0:D.call(Z,"resizable"),ut=r.F.Resize,Rt=J.hasCustomSpot(ut);J.removeSpots({type:ut});var Gt={component:Z,hasCustomResize:Rt,resizable:et};Z&&q.trigger(g.I.resizeInit,Gt);var Pt=Gt.resizable;if(Z&&Pt){J.addSpot({type:ut,component:Z});var _t=(0,e.isElement)(N)?N:Z.getEl(),rt=(0,E.isObject)(Pt)?Pt:{};if(Rt||!_t||this.activeResizer)return;this.resizer=I.runCommand("resize",L(L({},rt),{el:_t,component:Z,force:!0,afterStart:function(){R=!1,j.activeResizer=!0},afterEnd:function(){R=!0,j.activeResizer=!1}}))}else{if(Rt)return;I.stopCommand("resize"),this.resizer=null}},updateToolbar:function(N){var j=this.canvas,D=this.config.em,W=N===D?D.getSelected():N,q=j.getToolbarEl(),J=q.style,I=W.get("toolbar"),Z=D.config.showToolbar,et=!j.hasCustomSpot(r.F.Select);if(W&&Z&&I&&I.length&&et){if(J.display="",!this.toolbar){q.innerHTML="",this.toolbar=new p(I);var ut=new b({collection:this.toolbar,em:D});q.appendChild(ut.render().el)}this.toolbar.reset(I),J.top="-100px",J.left="0"}else J.display="none"},updateToolbarPos:function(N){var j="px",D=this.canvas.getToolbarEl().style;D.top="".concat(N.top).concat(j),D.left="".concat(N.left).concat(j),D.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(N){return N===void 0&&(N={}),this.canvas.getBadgeEl(N.view)},onCanvasScroll:function(N){this.onFrameScroll(N),this.onContainerChange()},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(N){return N&&N.get("status")==="selected"},updateToolsLocal:function(N){var j=this.em.getConfig(),D=N||this.getElHovered(),W=D.el,q=D.pos,J=D.view,I=D.component;if(!W){this.lastHovered=0;return}var Z=I.get("hoverable"),et=this.lastHovered!==W,ut=et?{}:{posOnly:1},Rt=this.canvas.hasCustomSpot(r.F.Hover);et&&Z&&(this.lastHovered=W,Rt?this.hideHighlighter(J):this.showHighlighter(J),this.showElementOffset(W,q,{view:J})),this.isCompSelected(I)&&(this.hideHighlighter(J),!j.showOffsetsSelected&&this.hideElementOffset(J));var Gt="px",Pt=this.toggleToolsEl(1,J),_t=Pt.style,rt=this.canvas.canvasRectOffset(W,q),ft=rt.top,wt=rt.left;!Rt&&this.updateBadge(W,q,L(L({},ut),{view:J,topOff:ft,leftOff:wt})),_t.top=ft+Gt,_t.left=wt+Gt,_t.width=q.width+Gt,_t.height=q.height+Gt,this._trgToolUp("local",{component:I,el:Pt,top:ft,left:wt,width:q.width,height:q.height})},_upToolbar:(0,e.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(N,j){j===void 0&&(j={}),this.em.trigger("canvas:tools:update",L({type:N},j))},updateToolsGlobal:function(N){N===void 0&&(N={});var j=this.getElSelected(),D=j.el,W=j.pos,q=j.component;if(!D){this.toggleToolsEl(),this.lastSelected=0;return}var J=this.canvas,I=this.lastSelected!==D;(I||N.force)&&(this.lastSelected=D,this.updateToolbar(q));var Z="px",et=this.toggleToolsEl(1),ut=et.style,Rt=J.getTargetToElementFixed(D,J.getToolbarEl(),{pos:W}),Gt=Rt.canvasOffsetTop,Pt=Rt.canvasOffsetLeft;ut.top=Gt+Z,ut.left=Pt+Z,ut.width=W.width+Z,ut.height=W.height+Z,this.updateToolbarPos({top:Rt.top,left:Rt.left}),this._trgToolUp("global",{component:q,el:et,top:Gt,left:Pt,width:W.width,height:W.height})},updateAttached:(0,e.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,e.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(N){return this.canvas.getCanvasView().getElementPos(N,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(N){N&&N.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(N){(0,E.hasWin)()&&(this.editor=N&&N.get("Editor"),this.enable())},stop:function(N,j,D){if(D===void 0&&(D={}),!!(0,E.hasWin)()){var W=this,q=W.em,J=W.editor;this.onHovered(),this.stopSelectComponent(),!D.preserveSelected&&q.setSelected(),this.toggleToolsEl(),this.updateAttached.cancel(),J&&J.stopCommand("resize")}}}},1406:(o,n,t)=>{t.r(n),t.d(n,{default:()=>a});var e=t(7774),r=t(1447),i=t(8433);let a={startSelectPosition:function(s,l,c){c===void 0&&(c={}),this.isPointed=!1;var u=this.em.Utils,p=s[0].ownerDocument.body;u&&(this.sorter=new u.ComponentSorter({em:this.em,treeClass:r.A,containerContext:{container:p,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:l,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:i.A.BothDirections,nested:!0}})),c.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=c.onStart),s&&s.length>0&&this.sorter.startSort(s.map(function(g){return{element:g}}))},getOffsetDim:function(){var s=this.offset(this.canvas.getFrameEl()),l=this.offset(this.canvas.getElement()),c=s.top-l.top,u=s.left-l.left;return{top:c,left:u}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,e.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,e.default)(this.cDim[this.posIndex][5]).parent():(0,e.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(s,l,c){var u=s||0,p=l||"before",g=c.length,h=g!==0&&p=="after"&&u==g;return g!==0&&(!h&&!c[u][4]||c[u-1]&&!c[u-1][4]||h&&!c[u-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},9395:(o,n,t)=>{t.r(n),t.d(n,{default:()=>s});var e=t(5706),r=t(179),i=t(7774),a=function(){return a=Object.assign||function(l){for(var c,u=1,p=arguments.length;u<p;u++){c=arguments[u];for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(l[g]=c[g])}return l},a.apply(this,arguments)};let s={getOffsetMethod:function(l){var c=l||"";return"get"+c+"OffsetViewerEl"},run:function(l,c,u){var p=this.canvas,g=u||{},h=g.state||"",y=l.getConfig(),_=this.em.getZoomDecimal(),x=g.el;if(!y.showOffsets||!(x instanceof HTMLElement)||!y.showOffsetsSelected&&h=="Fixed"){l.stopCommand("".concat(this.id),u);return}if(!p.hasCustomSpot(r.F.Spacing)){var P=a({},g.elPos||p.getElementPos(x));(0,e.isUndefined)(g.top)||(P.top=g.top),(0,e.isUndefined)(g.left)||(P.left=g.left);var w=window.getComputedStyle(x),T=this.ppfx,b=h+"State",k=this.getOffsetMethod(h),E=p[k](u.view);E.style.opacity="";var L=this["marginT"+h],R=this["marginB"+h],z=this["marginL"+h],N=this["marginR"+h],j=this["padT"+h],D=this["padB"+h],W=this["padL"+h],q=this["padR"+h];if(E.childNodes.length&&(this[b]="1",L=E.querySelector("[data-offset-m-t]"),R=E.querySelector("[data-offset-m-b]"),z=E.querySelector("[data-offset-m-l]"),N=E.querySelector("[data-offset-m-r]"),j=E.querySelector("[data-offset-p-t]"),D=E.querySelector("[data-offset-p-b]"),W=E.querySelector("[data-offset-p-l]"),q=E.querySelector("[data-offset-p-r]")),!this[b]){var J=h.toLowerCase(),I=J+"margin-v",Z=J+"padding-v",et=(0,i.default)('<div class="'.concat(T,'marginName">')).get(0),ut=(0,i.default)('<div class="'.concat(T,'paddingName">')).get(0),Rt=T+I+"-el",Gt=T+Z+"-el",Pt="".concat(Rt," ").concat(T+I),_t="".concat(Gt," ").concat(T+Z);L=(0,i.default)('<div class="'.concat(Pt,'-top"></div>')).get(0),R=(0,i.default)('<div class="'.concat(Pt,'-bottom"></div>')).get(0),z=(0,i.default)('<div class="'.concat(Pt,'-left"></div>')).get(0),N=(0,i.default)('<div class="'.concat(Pt,'-right"></div>')).get(0),j=(0,i.default)('<div class="'.concat(_t,'-top"></div>')).get(0),D=(0,i.default)('<div class="'.concat(_t,'-bottom"></div>')).get(0),W=(0,i.default)('<div class="'.concat(_t,'-left"></div>')).get(0),q=(0,i.default)('<div class="'.concat(_t,'-right"></div>')).get(0),this["marginT"+h]=L,this["marginB"+h]=R,this["marginL"+h]=z,this["marginR"+h]=N,this["padT"+h]=j,this["padB"+h]=D,this["padL"+h]=W,this["padR"+h]=q,et.appendChild(L),et.appendChild(R),et.appendChild(z),et.appendChild(N),ut.appendChild(j),ut.appendChild(D),ut.appendChild(W),ut.appendChild(q),E.appendChild(et),E.appendChild(ut),this[b]="1"}var rt="px",ft=parseFloat(w.marginLeft.replace(rt,""))*_,wt=parseFloat(w.marginRight.replace(rt,""))*_,Et=parseFloat(w.marginTop.replace(rt,""))*_,Nt=parseFloat(w.marginBottom.replace(rt,""))*_,Ht=L.style,It=R.style,at=z.style,Kt=N.style,le=j.style,Ct=D.style,oe=W.style,ge=q.style,ce=parseFloat(P.left),K=parseFloat(w.width)*_+rt;Ht.height=Et+rt,Ht.width=K,Ht.top=P.top-Et+rt,Ht.left=ce+rt,It.height=Nt+rt,It.width=K,It.top=P.top+P.height+rt,It.left=ce+rt;var ot=P.height+Et+Nt+rt,mt=P.top-Et+rt;at.height=ot,at.width=ft+rt,at.top=mt,at.left=ce-ft+rt,Kt.height=ot,Kt.width=wt+rt,Kt.top=mt,Kt.left=ce+P.width+rt;var At=parseFloat(w.paddingTop)*_;le.height=At+rt;var Qt=parseFloat(w.paddingBottom)*_;Ct.height=Qt+rt;var ht=P.height-Qt-At+rt,kt=P.top+At+rt;oe.height=ht,oe.width=parseFloat(w.paddingLeft)*_+rt,oe.top=kt;var Lt=parseFloat(w.paddingRight)*_;ge.height=ht,ge.width=Lt+rt,ge.top=kt}},stop:function(l,c,u){u===void 0&&(u={});var p=u||{},g=p.state||"",h=this.getOffsetMethod(g),y=u.view,_=this.canvas,x=_[h](y);x.style.opacity=0}}},7285:(o,n,t)=>{t.r(n),t.d(n,{default:()=>i});var e=t(5706),r=t(1166);let i={init:function(){(0,e.bindAll)(this,"_onFramesChange")},run:function(a){this.toggleVis(a,!0)},stop:function(a){this.toggleVis(a,!1)},toggleVis:function(a,s){if(s===void 0&&(s=!0),!a.Commands.isActive("preview")){var l=a.Canvas,c=s?"on":"off",u=l.getModel();u[c]("change:frames",this._onFramesChange),this.handleFrames(l.getFrames(),s)}},handleFrames:function(a,s){var l=this;a.forEach(function(c){var u;!((u=c.view)===null||u===void 0)&&u.loaded&&l._upFrame(c,s),c.__ol||(c.on("loaded",function(){return l._upFrame(c)}),c.__ol=!0)})},_onFramesChange:function(a,s){this.handleFrames(s)},_upFrame:function(a,s){var l,c=this,u=c.ppfx,p=c.em,g=c.id,h=(0,r.isDef)(s)?s:p.Commands.isActive(g),y=h?"add":"remove",_="".concat(u,"dashed");(l=a.view)===null||l===void 0||l.getBody().classList[y](_)}}},9156:(o,n,t)=>{t.d(n,{Kx:()=>l,Ss:()=>u,e2:()=>s,lK:()=>g,pM:()=>c,x2:()=>p});var e=t(4193),r=t.n(e),i=function(){var y=function(_,x){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,w){P.__proto__=w}||function(P,w){for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&(P[T]=w[T])},y(_,x)};return function(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");y(_,x);function P(){this.constructor=_}_.prototype=x===null?Object.create(x):(P.prototype=x.prototype,new P)}}(),a=function(){return a=Object.assign||function(y){for(var _,x=1,P=arguments.length;x<P;x++){_=arguments[x];for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(y[w]=_[w])}return y},a.apply(this,arguments)},s="add remove reset change",l=function(y){i(_,y);function _(){return y!==null&&y.apply(this,arguments)||this}return _}(r().Model),c=function(y){i(_,y);function _(){return y!==null&&y.apply(this,arguments)||this}return _}(r().Collection),u=function(y){i(_,y);function _(){return y!==null&&y.apply(this,arguments)||this}return _}(r().View),p=function(y){return y.Screen="screen",y.World="world",y}(p||{}),g={x:0,y:0},h=a(a({},g),{width:0,height:0})},2225:(o,n,t)=>{t.d(n,{I:()=>r,t:()=>e});var e=function(i){return i.remove="component:remove",i.add="component:add",i.move="component:move",i}(e||{}),r=function(i){return i.add="component:add",i.remove="component:remove",i.removeBefore="component:remove:before",i.removed="component:removed",i.create="component:create",i.update="component:update",i.updateInside="component:update-inside",i.styleUpdate="component:styleUpdate",i.styleUpdateProperty="component:styleUpdate:",i.select="component:select",i.selectBefore="component:select:before",i.mount="component:mount",i.scriptMount="component:script:mount",i.scriptMountBefore="component:script:mount:before",i.scriptUnmount="component:script:unmount",i.render="component:render",i.input="component:input",i.resize="component:resize",i.resizeStart="component:resize:start",i.resizeMove="component:resize:move",i.resizeEnd="component:resize:end",i.resizeUpdate="component:resize:update",i.resizeInit="component:resize:init",i.symbolMainAdd="symbol:main:add",i.symbolMainUpdate="symbol:main:update",i.symbolMainUpdateDeep="symbol:main:update-deep",i.symbolMainRemove="symbol:main:remove",i.symbolMain="symbol:main",i.symbolInstanceAdd="symbol:instance:add",i.symbolInstanceRemove="symbol:instance:remove",i.symbolInstance="symbol:instance",i.symbol="symbol",i}(r||{})},8242:(o,n,t)=>{t.d(n,{A:()=>s});var e=t(5706),r=t(9156),i=function(){var l=function(c,u){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&(p[h]=g[h])},l(c,u)};return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");l(c,u);function p(){this.constructor=c}c.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}}(),a=function(l){i(c,l);function c(u,p,g){u===void 0&&(u={}),g===void 0&&(g=!1);var h=l.call(this,u)||this;return h.itemsView="",h.itemType="type",h.reuseView=!1,h.config=p||u.config||{},g&&h.listenTo(h.collection,"add",h.addTo),h.items=[],h}return c.prototype.addTo=function(u){this.add(u)},c.prototype.itemViewNotFound=function(u){var p=this,g=p.config,h=p.ns,y=g.em,_="".concat(h?"[".concat(h,"]: "):"","'").concat(u,"' type not found");y&&y.logWarning(_)},c.prototype.add=function(u,p){var g=this,h=g.config,y=g.reuseView,_=g.items,x=this.itemsView||{},P=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],w=p||null,T=this.itemView,b=u.get(this.itemType),k;x[b]?T=x[b]:b&&!x[b]&&!(0,e.includes)(P,b)&&this.itemViewNotFound(b),u.view&&y?k=u.view:k=new T({model:u,config:h},h),_&&_.push(k);var E=k.render().el;w?w.appendChild(E):this.$el.append(E)},c.prototype.render=function(){var u=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(p){this.add(p,u)},this),this.$el.append(u),this.onRender(),this},c.prototype.onRender=function(){},c.prototype.onRemoveBefore=function(u,p){},c.prototype.onRemove=function(u,p){},c.prototype.remove=function(u){u===void 0&&(u={});var p=this.items;return this.onRemoveBefore(p,u),this.clearItems(),l.prototype.remove.call(this),this.onRemove(p,u),this},c.prototype.clearItems=function(){var u=this.items||[]},c}(r.Ss);let s=a;a.prototype.itemView=""},9966:(o,n,t)=>{t.d(n,{A:()=>c});var e=t(5706),r=t(6294),i=function(){return i=Object.assign||function(u){for(var p,g=1,h=arguments.length;g<h;g++){p=arguments[g];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(u[y]=p[y])}return u},i.apply(this,arguments)},a=function(){return{x:0,y:0}},s=["x","y"],l=function(){function u(p){return p===void 0&&(p={}),this.opts={snapGuides:{x:5,y:5},snapOffset:5,scale:1},(0,e.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(p),this.delta=a(),this.lastScroll=a(),this.lastScrollDiff=a(),this.startPointer=a(),this.startPosition=a(),this.globScrollDiff=a(),this.currentPointer=a(),this.position=a(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return u.prototype.setOptions=function(p){p===void 0&&(p={}),this.opts=i(i({},this.opts),p)},u.prototype.toggleDrag=function(p){var g=this.getDocumentEl(),h=this.getContainerEl(),y=this.getWindowEl(),_=p?"on":"off",x={on:r.on,off:r.AU};x[_](h,"mousemove dragover",this.drag),x[_](g,"mouseup dragend touchend",this.stop),x[_](g,"keydown",this.keyHandle),x[_](y,"scroll",this.handleScroll)},u.prototype.handleScroll=function(){var p=this,g=p.lastScroll,h=p.delta,y=this.getScrollInfo(),_={x:y.x-g.x,y:y.y-g.y};this.move(h.x+_.x,h.y+_.y),this.lastScrollDiff=_},u.prototype.start=function(p){var g=this.opts,h=g.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(p),this.guidesStatic=(0,e.result)(g,"guidesStatic")||[],this.guidesTarget=(0,e.result)(g,"guidesTarget")||[],(0,e.isFunction)(h)&&h(p,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=a(),this.globScrollDiff=a(),this.drag(p)},u.prototype.drag=function(p){var g=this,h=this,y=h.opts,_=h.lastScrollDiff,x=h.globScrollDiff,P=y.onDrag,w=this.startPointer,T=this.getPointerPos(p),b={x:x.x+_.x,y:x.y+_.y};this.globScrollDiff=b;var k={x:T.x-w.x+b.x,y:T.y-w.y+b.y};this.lastScrollDiff=a();var E=function(D){s.forEach(function(W){return D[W]=D[W]*(0,e.result)(y,"scale")}),g.delta=D,g.move(D.x,D.y),(0,e.isFunction)(P)&&P(p,g)},L=i({},k);if(this.currentPointer=T,this.lastScroll=this.getScrollInfo(),E(k),this.guidesTarget.length){var R=this.snapGuides(L),z=R.newDelta,N=R.trgX,j=R.trgY;(N||j)&&E(z)}p.which===0&&this.stop(p)},u.prototype.snapGuides=function(p){var g=this,h=i({},p),y=this,_=y.trgX,x=y.trgY;return this.guidesTarget.forEach(function(P){P.x&&g.trgX||P.y&&g.trgY||(P.active=!1,g.guidesStatic.forEach(function(w){if(!(P.y&&w.x||P.x&&w.y)){var T=P.y&&w.y,b=T?"y":"x",k=P[b],E=w[b],L=p[b],R=T?x:_;if(g.isPointIn(k,E,{axis:b})&&(0,e.isUndefined)(R)){var z=L-(k-E);g.setGuideLock(P,z)}}}))}),_=this.trgX,x=this.trgY,s.forEach(function(P){var w=P.toUpperCase(),T=g["trg".concat(w)];T&&!g.isPointIn(p[P],T.lock,{axis:P})&&(g.setGuideLock(T,null),T=null),T&&!(0,e.isUndefined)(T.lock)&&(h[P]=T.lock)}),{newDelta:h,trgX:this.trgX,trgY:this.trgY}},u.prototype.isPointIn=function(p,g,h){var y,_=h===void 0?{}:h,x=_.offset,P=_.axis,w=this.opts,T=w.snapGuides,b=T===void 0?{}:T,k=w.snapOffset,E=k===void 0?0:k,L=P==="x"?b.x:P==="y"?b.y:void 0,R=L===0?0:(y=x??L)!==null&&y!==void 0?y:E;return R===0?!1:p>=g&&p<=g+R||p<=g&&p>=g-R},u.prototype.setGuideLock=function(p,g){var h=(0,e.isUndefined)(p.x)?"Y":"X",y="trg".concat(h);return g!==null?(p.active=!0,p.lock=g,this[y]=p):(delete p.active,delete p.lock,delete this[y]),p},u.prototype.stop=function(p,g){g===void 0&&(g={});var h=this.delta,y=!!g.cancel,_=y?0:h.x,x=y?0:h.y;this.toggleDrag(),this.move(_,x,!0);var P=this.opts.onEnd;(0,e.isFunction)(P)&&P(p,this,{cancelled:y})},u.prototype.keyHandle=function(p){(0,r.v$)(p)&&this.stop(p,{cancel:!0})},u.prototype.move=function(p,g,h){var y=this,_=y.el,x=y.opts,P=this.startPosition;if(P){var w=x.setPosition,T=P.x+p,b=P.y+g;this.position={x:T,y:b,end:h},(0,e.isFunction)(w)&&w(this.position),_&&(_.style.left="".concat(T,"px"),_.style.top="".concat(b,"px"))}},u.prototype.getContainerEl=function(){var p=this.opts.container;return p?[p]:this.getDocumentEl()},u.prototype.getWindowEl=function(){var p=this.getContainerEl();return p.map(function(g){var h=g.ownerDocument||g;return h.defaultView||h.parentWindow})},u.prototype.getDocumentEl=function(p){var g=this.opts.doc;if(p=p||this.el,!this.docs.length){var h=[document];p&&h.push(p.ownerDocument),g&&h.push(g),this.docs=h}return this.docs},u.prototype.getPointerPos=function(p){var g=this.opts.getPointerPosition,h=(0,r.G2)(p);return g?g(p):{x:h.clientX,y:h.clientY}},u.prototype.getStartPosition=function(){var p=this,g=p.el,h=p.opts,y=h.getPosition,_=a();return(0,e.isFunction)(y)?_=y():g&&(_={x:parseFloat(g.style.left),y:parseFloat(g.style.top)}),_},u.prototype.getScrollInfo=function(){var p=this.opts.doc,g=p&&p.body;return{y:g?g.scrollTop:0,x:g?g.scrollLeft:0}},u.prototype.detectAxisLock=function(p,g){var h=p,y=g,_=Math.abs(h),x=Math.abs(y);if(y>=_||y<=-_)return"x";if(h>x||h<-x)return"y"},u}();let c=l},7774:(o,n,t)=>{t.r(n),t.d(n,{default:()=>Kn});var e=typeof document<"u"?document:null,r=typeof window<"u"?window:null,i=Array.prototype,a=i.filter,s=i.indexOf,l=i.map,c=i.push,u=i.reverse,p=i.slice,g=i.splice,h=/^#[\w-]*$/,y=/^\.[\w-]*$/,_=/<.+>/,x=/^\w+$/;function P(lt,Mt){return Mt===void 0&&(Mt=e),y.test(lt)?Mt.getElementsByClassName(lt.slice(1)):x.test(lt)?Mt.getElementsByTagName(lt):Mt.querySelectorAll(lt)}function w(lt,Mt){if(Mt===void 0&&(Mt=e),!!lt){if(lt.__cash)return lt;var Dt=lt;if(W(lt)){if(Mt.__cash&&(Mt=Mt[0]),Dt=h.test(lt)?Mt.getElementById(lt.slice(1)):_.test(lt)?Qe(lt):P(lt,Mt),!Dt)return}else if(D(lt))return this.ready(lt);(Dt.nodeType||Dt===r)&&(Dt=[Dt]),this.length=Dt.length;for(var ee=0,be=this.length;ee<be;ee++)this[ee]=Dt[ee]}}function T(lt,Mt){return new w(lt,Mt)}var b=T.fn=T.prototype=w.prototype={constructor:T,__cash:!0,length:0,splice:g};b.get=function(lt){return lt===void 0?p.call(this):this[lt<0?lt+this.length:lt]},b.eq=function(lt){return T(this.get(lt))},b.first=function(){return this.eq(0)},b.last=function(){return this.eq(-1)},b.map=function(lt){return T(l.call(this,function(Mt,Dt){return lt.call(Mt,Dt,Mt)}))},b.slice=function(){return T(p.apply(this,arguments))};var k=/(?:^\w|[A-Z]|\b\w)/g,E=/[\s-_]+/g;function L(lt){return lt.replace(k,function(Mt,Dt){return Mt[Dt?"toUpperCase":"toLowerCase"]()}).replace(E,"")}T.camelCase=L;function R(lt,Mt){for(var Dt=0,ee=lt.length;Dt<ee&&Mt.call(lt[Dt],lt[Dt],Dt,lt)!==!1;Dt++);}T.each=R,b.each=function(lt){return R(this,function(Mt,Dt){return lt.call(Mt,Dt,Mt)}),this},b.removeProp=function(lt){return this.each(function(Mt,Dt){delete Dt[lt]})};function z(lt){lt===void 0&&(lt=this);for(var Mt=arguments,Dt=Mt.length,ee=Dt<2?0:1;ee<Dt;ee++)for(var be in Mt[ee])lt[be]=Mt[ee][be];return lt}T.extend=b.extend=z;var N=1;T.guid=N;function j(lt,Mt){var Dt=lt&&(lt.matches||lt.webkitMatchesSelector||lt.mozMatchesSelector||lt.msMatchesSelector||lt.oMatchesSelector);return!!Dt&&Dt.call(lt,Mt)}T.matches=j;function D(lt){return typeof lt=="function"}T.isFunction=D;function W(lt){return typeof lt=="string"}T.isString=W;function q(lt){return!isNaN(parseFloat(lt))&&isFinite(lt)}T.isNumeric=q;var J=Array.isArray;T.isArray=J,b.prop=function(lt,Mt){if(lt){if(W(lt))return arguments.length<2?this[0]&&this[0][lt]:this.each(function(ee,be){be[lt]=Mt});for(var Dt in lt)this.prop(Dt,lt[Dt]);return this}};function I(lt){return W(lt)?function(Mt,Dt){return j(Dt,lt)}:lt.__cash?function(Mt,Dt){return lt.is(Dt)}:function(Mt,Dt,ee){return Dt===ee}}b.filter=function(lt){if(!lt)return T();var Mt=D(lt)?lt:I(lt);return T(a.call(this,function(Dt,ee){return Mt.call(Dt,ee,Dt,lt)}))};var Z=/\S+/g;function et(lt){return W(lt)?lt.match(Z)||[]:[]}b.hasClass=function(lt){var Mt=et(lt),Dt=!1;return Mt.length&&this.each(function(ee,be){return Dt=be.classList.contains(Mt[0]),!Dt}),Dt},b.removeAttr=function(lt){var Mt=et(lt);return Mt.length?this.each(function(Dt,ee){R(Mt,function(be){ee.removeAttribute(be)})}):this},b.attr=function(lt,Mt){if(lt){if(W(lt)){if(arguments.length<2){if(!this[0])return;var Dt=this[0].getAttribute(lt);return Dt===null?void 0:Dt}return Mt===null?this.removeAttr(lt):this.each(function(be,Te){Te.setAttribute(lt,Mt)})}for(var ee in lt)this.attr(ee,lt[ee]);return this}},b.toggleClass=function(lt,Mt){var Dt=et(lt),ee=Mt!==void 0;return Dt.length?this.each(function(be,Te){R(Dt,function(Le){ee?Mt?Te.classList.add(Le):Te.classList.remove(Le):Te.classList.toggle(Le)})}):this},b.addClass=function(lt){return this.toggleClass(lt,!0)},b.removeClass=function(lt){return arguments.length?this.toggleClass(lt,!1):this.attr("class","")};function ut(lt){return lt.filter(function(Mt,Dt,ee){return ee.indexOf(Mt)===Dt})}T.unique=ut,b.add=function(lt,Mt){return T(ut(this.get().concat(T(lt,Mt).get())))};function Rt(lt,Mt,Dt){if(lt.nodeType===1){var ee=r.getComputedStyle(lt,null);return Mt?Dt?ee.getPropertyValue(Mt):ee[Mt]:ee}}function Gt(lt,Mt){return parseInt(Rt(lt,Mt),10)||0}var Pt=/^--/;function _t(lt){return Pt.test(lt)}var rt={},ft=e&&e.createElement("div"),wt=ft?ft.style:{},Et=["webkit","moz","ms","o"];function Nt(lt,Mt){if(Mt===void 0&&(Mt=_t(lt)),Mt)return lt;if(!rt[lt]){var Dt=L(lt),ee=""+Dt.charAt(0).toUpperCase()+Dt.slice(1),be=(Dt+" "+Et.join(ee+" ")+ee).split(" ");R(be,function(Te){if(Te in wt)return rt[lt]=Te,!1})}return rt[lt]}T.prefixedProp=Nt;var Ht={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function It(lt,Mt,Dt){return Dt===void 0&&(Dt=_t(lt)),!Dt&&!Ht[lt]&&q(Mt)?Mt+"px":Mt}b.css=function(lt,Mt){if(W(lt)){var Dt=_t(lt);return lt=Nt(lt,Dt),arguments.length<2?this[0]&&Rt(this[0],lt,Dt):lt?(Mt=It(lt,Mt,Dt),this.each(function(be,Te){Te.nodeType===1&&(Dt?Te.style.setProperty(lt,Mt):Te.style[lt]=Mt)})):this}for(var ee in lt)this.css(ee,lt[ee]);return this};var at="__cashData",Kt=/^data-(.*)/;T.hasData=function(lt){return at in lt};function le(lt){return lt[at]=lt[at]||{}}function Ct(lt,Mt){var Dt=le(lt);if(Mt){if(!(Mt in Dt)){var ee=lt.dataset?lt.dataset[Mt]||lt.dataset[L(Mt)]:T(lt).attr("data-"+Mt);if(ee!==void 0){try{ee=JSON.parse(ee)}catch{}Dt[Mt]=ee}}return Dt[Mt]}return Dt}function oe(lt,Mt){Mt===void 0?delete lt[at]:delete le(lt)[Mt]}function ge(lt,Mt,Dt){le(lt)[Mt]=Dt}b.data=function(lt,Mt){var Dt=this;if(!lt)return this[0]?(R(this[0].attributes,function(be){var Te=be.name.match(Kt);Te&&Dt.data(Te[1])}),Ct(this[0])):void 0;if(W(lt))return Mt===void 0?this[0]&&Ct(this[0],lt):this.each(function(be,Te){return ge(Te,lt,Mt)});for(var ee in lt)this.data(ee,lt[ee]);return this},b.removeData=function(lt){return this.each(function(Mt,Dt){return oe(Dt,lt)})};function ce(lt,Mt){return Gt(lt,"border"+(Mt?"Left":"Top")+"Width")+Gt(lt,"padding"+(Mt?"Left":"Top"))+Gt(lt,"padding"+(Mt?"Right":"Bottom"))+Gt(lt,"border"+(Mt?"Right":"Bottom")+"Width")}R(["Width","Height"],function(lt){b["inner"+lt]=function(){if(this[0])return this[0]===r?r["inner"+lt]:this[0]["client"+lt]}}),R(["width","height"],function(lt,Mt){b[lt]=function(Dt){return this[0]?arguments.length?(Dt=parseInt(Dt,10),this.each(function(ee,be){if(be.nodeType===1){var Te=Rt(be,"boxSizing");be.style[lt]=It(lt,Dt+(Te==="border-box"?ce(be,!Mt):0))}})):this[0]===r?this[0][L("outer-"+lt)]:this[0].getBoundingClientRect()[lt]-ce(this[0],!Mt):Dt===void 0?void 0:this}}),R(["Width","Height"],function(lt,Mt){b["outer"+lt]=function(Dt){if(this[0])return this[0]===r?r["outer"+lt]:this[0]["offset"+lt]+(Dt?Gt(this[0],"margin"+(Mt?"Top":"Left"))+Gt(this[0],"margin"+(Mt?"Bottom":"Right")):0)}});function K(lt,Mt){for(var Dt=0,ee=Mt.length;Dt<ee;Dt++)if(lt.indexOf(Mt[Dt])<0)return!1;return!0}function ot(lt,Mt,Dt){R(lt[Dt],function(ee){var be=ee[0],Te=ee[1];Mt.removeEventListener(Dt,Te)}),delete lt[Dt]}var mt="__cashEvents",At=".";function Qt(lt){return lt[mt]=lt[mt]||{}}function ht(lt,Mt,Dt,ee){ee.guid=ee.guid||N++;var be=Qt(lt);be[Mt]=be[Mt]||[],be[Mt].push([Dt,ee]),lt.addEventListener(Mt,ee)}function kt(lt){var Mt=lt.split(At);return[Mt[0],Mt.slice(1).sort()]}function Lt(lt,Mt,Dt,ee){var be=Qt(lt);if(Mt){var Te=be[Mt];if(!Te)return;ee&&(ee.guid=ee.guid||N++),be[Mt]=Te.filter(function(Le){var Pn=Le[0],On=Le[1];if(ee&&On.guid!==ee.guid||!K(Pn,Dt))return!0;lt.removeEventListener(Mt,On)})}else if(!Dt||!Dt.length)for(Mt in be)ot(be,lt,Mt);else for(Mt in be)Lt(lt,Mt,Dt,ee)}b.off=function(lt,Mt){var Dt=this;return lt===void 0?this.each(function(ee,be){return Lt(be)}):R(et(lt),function(ee){var be=kt(ee),Te=be[0],Le=be[1];Dt.each(function(Pn,On){return Lt(On,Te,Le,Mt)})}),this},b.on=function(lt,Mt,Dt,ee){var be=this;if(!W(lt)){for(var Te in lt)this.on(Te,Mt,lt[Te]);return this}return D(Mt)&&(Dt=Mt,Mt=!1),R(et(lt),function(Le){var Pn=kt(Le),On=Pn[0],rn=Pn[1];be.each(function(hr,Mn){var fn=function Or(yn){if(!(yn.namespace&&!K(rn,yn.namespace.split(At)))){var sn=Mn;if(Mt){for(var wn=yn.target;!j(wn,Mt);)if(wn===Mn||(wn=wn.parentNode,!wn))return;sn=wn}yn.namespace=yn.namespace||"";var Yn=Dt.call(sn,yn,yn.data);ee&&Lt(Mn,On,rn,Or),Yn===!1&&(yn.preventDefault(),yn.stopPropagation())}};fn.guid=Dt.guid=Dt.guid||N++,ht(Mn,On,rn,fn)})}),this},b.one=function(lt,Mt,Dt){return this.on(lt,Mt,Dt,!0)},b.ready=function(lt){var Mt=function(){return lt(T)};return e.readyState!=="loading"?setTimeout(Mt):e.addEventListener("DOMContentLoaded",Mt),this},b.trigger=function(lt,Mt){var Dt=lt;if(W(lt)){var ee=kt(lt),be=ee[0],Te=ee[1];Dt=e.createEvent("HTMLEvents"),Dt.initEvent(be,!0,!0),Dt.namespace=Te.join(At)}return Dt.data=Mt,this.each(function(Le,Pn){Pn.dispatchEvent(Dt)})};function he(lt){var Mt=[];return R(lt.options,function(Dt){Dt.selected&&!Dt.disabled&&!Dt.parentNode.disabled&&Mt.push(Dt.value)}),Mt}function Ye(lt){return lt.selectedIndex<0?null:lt.options[lt.selectedIndex].value}var De=/select-one/i,dt=/select-multiple/i;function Tt(lt){var Mt=lt.type;return De.test(Mt)?Ye(lt):dt.test(Mt)?he(lt):lt.value}var it=/%20/g;function ne(lt,Mt){return"&"+encodeURIComponent(lt)+"="+encodeURIComponent(Mt).replace(it,"+")}var Vt=/file|reset|submit|button|image/i,de=/radio|checkbox/i;b.serialize=function(){var lt="";return this.each(function(Mt,Dt){R(Dt.elements||[Dt],function(ee){if(!(ee.disabled||!ee.name||ee.tagName==="FIELDSET")&&!Vt.test(ee.type)&&!(de.test(ee.type)&&!ee.checked)){var be=Tt(ee);if(be!==void 0){var Te=J(be)?be:[be];R(Te,function(Le){lt+=ne(ee.name,Le)})}}})}),lt.substr(1)},b.val=function(lt){return lt===void 0?this[0]&&Tt(this[0]):this.each(function(Mt,Dt){var ee=dt.test(Dt.type),be=lt===null?ee?[]:"":lt;ee&&J(be)?R(Dt.options,function(Te){Te.selected=be.indexOf(Te.value)>=0}):Dt.value=be})},b.clone=function(){return this.map(function(lt,Mt){return Mt.cloneNode(!0)})},b.detach=function(){return this.each(function(lt,Mt){Mt.parentNode&&Mt.parentNode.removeChild(Mt)})};var Oe=/^\s*<(\w+)[^>]*>/,Pe=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,ve;function Ae(){if(!ve){var lt=e.createElement("table"),Mt=e.createElement("tr");ve={"*":e.createElement("div"),tr:e.createElement("tbody"),td:Mt,th:Mt,thead:lt,tbody:lt,tfoot:lt}}}function Qe(lt){if(Ae(),!W(lt))return[];if(Pe.test(lt))return[e.createElement(RegExp.$1)];var Mt=Oe.test(lt)&&RegExp.$1,Dt=ve[Mt]||ve["*"];return Dt.innerHTML=lt,T(Dt.childNodes).detach().get()}T.parseHTML=Qe,b.empty=function(){var lt=this[0];if(lt)for(;lt.firstChild;)lt.removeChild(lt.firstChild);return this};function Xe(lt,Mt,Dt){Dt?lt.insertBefore(Mt,lt.childNodes[0]):lt.appendChild(Mt)}function Ze(lt,Mt,Dt){if(Mt!==void 0){var ee=W(Mt);!ee&&Mt.length?R(Mt,function(be){return Ze(lt,be,Dt)}):R(lt,ee?function(be){be.insertAdjacentHTML(Dt?"afterbegin":"beforeend",Mt)}:function(be,Te){return Xe(be,Te?Mt.cloneNode(!0):Mt,Dt)})}}b.append=function(){var lt=this;return R(arguments,function(Mt){Ze(lt,Mt)}),this},b.appendTo=function(lt){return Ze(T(lt),this),this},b.html=function(lt){if(lt===void 0)return this[0]&&this[0].innerHTML;var Mt=lt.nodeType?lt[0].outerHTML:lt;return this.each(function(Dt,ee){ee.innerHTML=Mt})},b.insertAfter=function(lt){var Mt=this;return T(lt).each(function(Dt,ee){var be=ee.parentNode;Mt.each(function(Te,Le){be.insertBefore(Dt?Le.cloneNode(!0):Le,ee.nextSibling)})}),this},b.after=function(){var lt=this;return R(u.apply(arguments),function(Mt){u.apply(T(Mt).slice()).insertAfter(lt)}),this},b.insertBefore=function(lt){var Mt=this;return T(lt).each(function(Dt,ee){var be=ee.parentNode;Mt.each(function(Te,Le){be.insertBefore(Dt?Le.cloneNode(!0):Le,ee)})}),this},b.before=function(){var lt=this;return R(arguments,function(Mt){T(Mt).insertBefore(lt)}),this},b.prepend=function(){var lt=this;return R(arguments,function(Mt){Ze(lt,Mt,!0)}),this},b.prependTo=function(lt){return Ze(T(lt),u.apply(this.slice()),!0),this},b.remove=function(){return this.detach().off()},b.replaceWith=function(lt){var Mt=this;return this.each(function(Dt,ee){var be=ee.parentNode;if(be){var Te=Dt?T(lt).clone():T(lt);if(!Te[0])return Mt.remove(),!1;be.replaceChild(Te[0],ee),T(Te[0]).after(Te.slice(1))}})},b.replaceAll=function(lt){return T(lt).replaceWith(this),this},b.text=function(lt){return lt===void 0?this[0]?this[0].textContent:"":this.each(function(Mt,Dt){Dt.textContent=lt})};var _n=e&&e.documentElement;b.offset=function(){var lt=this[0];if(lt){var Mt=lt.getBoundingClientRect();return{top:Mt.top+r.pageYOffset-_n.clientTop,left:Mt.left+r.pageXOffset-_n.clientLeft}}},b.offsetParent=function(){return T(this[0]&&this[0].offsetParent)},b.position=function(){var lt=this[0];if(lt)return{left:lt.offsetLeft,top:lt.offsetTop}},b.children=function(lt){var Mt=[];return this.each(function(Dt,ee){c.apply(Mt,ee.children)}),Mt=T(ut(Mt)),lt?Mt.filter(function(Dt,ee){return j(ee,lt)}):Mt},b.contents=function(){var lt=[];return this.each(function(Mt,Dt){c.apply(lt,Dt.tagName==="IFRAME"?[Dt.contentDocument]:Dt.childNodes)}),T(lt.length&&ut(lt))},b.find=function(lt){for(var Mt=[],Dt=0,ee=this.length;Dt<ee;Dt++){var be=P(lt,this[Dt]);be.length&&c.apply(Mt,be)}return T(Mt.length&&ut(Mt))},b.has=function(lt){var Mt=W(lt)?function(Dt,ee){return!!P(lt,ee).length}:function(Dt,ee){return ee.contains(lt)};return this.filter(Mt)},b.is=function(lt){if(!lt||!this[0])return!1;var Mt=I(lt),Dt=!1;return this.each(function(ee,be){return Dt=Mt(ee,be,lt),!Dt}),Dt},b.next=function(){return T(this[0]&&this[0].nextElementSibling)},b.not=function(lt){if(!lt||!this[0])return this;var Mt=I(lt);return this.filter(function(Dt,ee){return!Mt(Dt,ee,lt)})},b.parent=function(){var lt=[];return this.each(function(Mt,Dt){Dt&&Dt.parentNode&&lt.push(Dt.parentNode)}),T(ut(lt))},b.index=function(lt){var Mt=lt?T(lt)[0]:this[0],Dt=lt?this:T(Mt).parent().children();return s.call(Dt,Mt)},b.closest=function(lt){return!lt||!this[0]?T():this.is(lt)?this.filter(lt):this.parent().closest(lt)},b.parents=function(lt){var Mt=[],Dt;return this.each(function(ee,be){for(Dt=be;Dt&&Dt.parentNode&&Dt!==e.body.parentNode;)Dt=Dt.parentNode,(!lt||lt&&j(Dt,lt))&&Mt.push(Dt)}),T(ut(Mt))},b.prev=function(){return T(this[0]&&this[0].previousElementSibling)},b.siblings=function(){var lt=this[0];return this.parent().children().filter(function(Mt,Dt){return Dt!==lt})};let Kn=T},6294:(o,n,t)=>{t.d(n,{AU:()=>Pt,BC:()=>w,C8:()=>N,Ch:()=>W,Ci:()=>I,D8:()=>l,G2:()=>q,GW:()=>z,GZ:()=>b,I6:()=>g,LJ:()=>ut,Sc:()=>P,X6:()=>h,Xy:()=>j,YZ:()=>u,ZQ:()=>c,_I:()=>_t,a_:()=>T,af:()=>E,bG:()=>x,cx:()=>p,ir:()=>L,kk:()=>Rt,on:()=>Gt,rp:()=>et,v$:()=>J,yL:()=>k,zN:()=>y});var e=t(5706),r=function(rt,ft,wt){if(wt||arguments.length===2)for(var Et=0,Nt=ft.length,Ht;Et<Nt;Et++)(Ht||!(Et in ft))&&(Ht||(Ht=Array.prototype.slice.call(ft,0,Et)),Ht[Et]=ft[Et]);return rt.concat(Ht||Array.prototype.slice.call(ft))},i="tag",a="attributes",s="children",l="transitionend oTransitionEnd transitionend webkitTransitionEnd",c=function(rt){return rt?.nodeType===Node.DOCUMENT_NODE},u=function(rt){var ft=rt&&rt.parentNode;ft&&ft.removeChild(rt)};function p(){for(var rt=[],ft=0;ft<arguments.length;ft++)rt[ft]=arguments[ft];var wt=Array.isArray(rt[0])?rt[0]:r([],rt,!0);return wt.filter(Boolean).join(" ")}var g=function(rt,ft){return rt.querySelectorAll(ft)},h=function(rt,ft){return ft===void 0&&(ft={}),rt&&rt.setAttribute&&(0,e.each)(ft,function(wt,Et){return rt.setAttribute(Et,wt)})},y=function(rt){var ft;return rt&&!!(rt.offsetWidth||rt.offsetHeight||!((ft=rt.getClientRects)===null||ft===void 0)&&ft.call(rt).length)},_=function(rt){for(;rt.firstChild;)rt.removeChild(rt.firstChild)},x=function(rt,ft){var wt;(wt=rt.parentNode)===null||wt===void 0||wt.replaceChild(ft,rt)},P=function(rt,ft,wt){var Et=rt.childNodes,Nt=Et.length,Ht=(0,e.isUndefined)(wt)?Nt:wt;(0,e.isString)(ft)&&(rt.insertAdjacentHTML("beforeEnd",ft),ft=rt.lastChild,rt.removeChild(ft)),Ht>=Nt?rt.appendChild(ft):rt.insertBefore(ft,Et[Ht])},w=function(rt,ft){return P(rt,ft)},T=function(rt,ft,wt){ft===void 0&&(ft={});var Et=document.createElement(rt);return ft&&(0,e.each)(ft,function(Nt,Ht){return Et.setAttribute(Ht,Nt)}),wt&&((0,e.isString)(wt)?Et.innerHTML=wt:Et.appendChild(wt)),Et},b=function(rt){return document.createTextNode(rt)},k=function(rt,ft){var wt,Et=rt.type;try{wt=new window[ft](Et,rt)}catch{wt=document.createEvent(ft),wt.initEvent(Et,!0,!0)}return wt._parentEvent=rt,Et.indexOf("key")===0&&(wt.keyCodeVal=rt.keyCode,["keyCode","which"].forEach(function(Nt){Object.defineProperty(wt,Nt,{get:function(){return this.keyCodeVal}})})),wt},E=function(rt,ft){ft===void 0&&(ft=[]);var wt=Array.isArray(ft)?ft:[ft];wt.forEach(function(Et){var Nt=Et[i]||"div",Ht=Et[a]||{},It=document.createElement(Nt);(0,e.each)(Ht,function(at,Kt){It.setAttribute(Kt,at)}),rt.appendChild(It)})},L=function(rt){return rt?.nodeType===Node.TEXT_NODE},R=function(rt){return rt?.nodeType===Node.COMMENT_NODE},z=function(rt){return rt&&!L(rt)&&!R(rt)},N=function(rt){var ft={top:0,left:0,width:0,height:0};if(!rt)return ft;var wt;if(L(rt)){var Et=document.createRange();Et.selectNode(rt),wt=Et.getBoundingClientRect(),Et.detach()}return wt||(rt.getBoundingClientRect?rt.getBoundingClientRect():ft)},j=function(rt){var ft=rt?.ownerDocument||document,wt=ft.documentElement,Et=ft.defaultView||window;return{x:(Et.pageXOffset||wt.scrollLeft||0)-(wt.clientLeft||0),y:(Et.pageYOffset||wt.scrollTop||0)-(wt.clientTop||0)}},D=function(rt){return rt.which||rt.keyCode},W=function(rt){return String.fromCharCode(D(rt))},q=function(rt){return rt.touches&&rt.touches[0]?rt.touches[0]:rt},J=function(rt){return D(rt)===27},I=function(rt){return D(rt)===13},Z=function(rt){return rt.ctrlKey},et=function(rt){return Z(rt)||rt.metaKey},ut=function(rt){if(!rt)return"";var ft=rt.name,wt=rt.publicId,Et=rt.systemId,Nt=wt?' PUBLIC "'.concat(wt,'"'):"",Ht=!wt&&Et?' SYSTEM "'.concat(Et,'"'):"";return"<!DOCTYPE ".concat(ft).concat(Nt).concat(Ht,">")},Rt=function(rt){rt===void 0&&(rt={});var ft=[];return(0,e.each)(rt,function(wt,Et){return ft.push("".concat(Et,'="').concat(wt,'"'))}),ft.join(" ")},Gt=function(rt,ft,wt,Et){var Nt=ft.split(/\s+/),Ht=(0,e.isArray)(rt)?rt:[rt];Nt.forEach(function(It){Ht.forEach(function(at){return at?.addEventListener(It,wt,Et)})})},Pt=function(rt,ft,wt,Et){var Nt=ft.split(/\s+/),Ht=(0,e.isArray)(rt)?rt:[rt];Nt.forEach(function(It){Ht.forEach(function(at){return at?.removeEventListener(It,wt,Et)})})},_t=function(rt){var ft=rt.replace(/-([a-zA-Z0-9])/g,function(wt,Et){return Et.toUpperCase()});return ft}},1166:(o,n,t)=>{t.r(n),t.d(n,{appendStyles:()=>R,buildBase64UrlFromSvg:()=>le,camelCase:()=>D,capitalize:()=>ft,createId:()=>Kt,deepMerge:()=>Gt,escape:()=>Z,escapeAltQuoteAttrValue:()=>Rt,escapeAttrValue:()=>ut,escapeNodeContent:()=>et,find:()=>I,get:()=>g,getComponentModel:()=>It,getComponentView:()=>Ht,getElement:()=>J,getGlobal:()=>T,getModel:()=>Pt,getUiClass:()=>L,getUnitFromValue:()=>N,getViewEl:()=>Et,hasDnd:()=>q,hasWin:()=>w,isBultInMethod:()=>y,isComponent:()=>Nt,isDef:()=>P,isEmptyObj:()=>rt,isObject:()=>_t,isRule:()=>wt,matches:()=>E,normalizeFloat:()=>W,normalizeKey:()=>_,serialize:()=>h,setViewEl:()=>at,shallowDiff:()=>z,stringToPath:()=>u,toLowerCase:()=>b,upFirst:()=>j,wait:()=>x});var e=t(5706),r=t(6294),i=function(){return i=Object.assign||function(Ct){for(var oe,ge=1,ce=arguments.length;ge<ce;ge++){oe=arguments[ge];for(var K in oe)Object.prototype.hasOwnProperty.call(oe,K)&&(Ct[K]=oe[K])}return Ct},i.apply(this,arguments)},a=function(Ct,oe,ge){if(ge||arguments.length===2)for(var ce=0,K=oe.length,ot;ce<K;ce++)(ot||!(ce in oe))&&(ot||(ot=Array.prototype.slice.call(oe,0,ce)),ot[ce]=oe[ce]);return Ct.concat(ot||Array.prototype.slice.call(oe))},s={},l=/\\(\\)?/g,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=function(Ct){var oe=[];return Ct.charCodeAt(0)===46&&oe.push(""),Ct.replace(c,function(ge,ce,K,ot){return oe.push(K?ot.replace(l,"$1"):ce||ge),""}),oe};function p(Ct,oe){return(0,e.isArray)(Ct)?Ct:oe.hasOwnProperty(Ct)?[Ct]:u(Ct)}var g=function(Ct,oe,ge){for(var ce,K=p(oe,Ct),ot=K.length,mt=0;Ct!=null&&mt<ot;)Ct=Ct["".concat(K[mt++])];return(ce=mt&&mt==ot?Ct:void 0)!==null&&ce!==void 0?ce:ge},h=function(Ct){return JSON.parse(JSON.stringify(Ct))},y=function(Ct){return(0,e.isFunction)(s[Ct])},_=function(Ct){return y(Ct)?"_".concat(Ct):Ct},x=function(Ct){return Ct===void 0&&(Ct=0),new Promise(function(oe){return setTimeout(oe,Ct)})},P=function(Ct){return typeof Ct<"u"},w=function(){return typeof window<"u"},T=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:t.g},b=function(Ct){return(Ct||"").toLowerCase()},k=w()?window.Element.prototype:{},E=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.msMatchesSelector,L=function(Ct,oe){var ge=Ct.getConfig(),ce=ge.stylePrefix,K=ge.customUI;return[K&&"".concat(ce,"cui"),oe].filter(function(ot){return ot}).join(" ")},R=function(Ct,oe){oe===void 0&&(oe={});var ge=(0,e.isArray)(Ct)?a([],Ct,!0):[Ct];if(ge.length){var ce=ge.shift();if(ce&&(!oe.unique||!document.querySelector('link[href="'.concat(ce,'"]')))){var K=document.head,ot=document.createElement("link");ot.href=ce,ot.rel="stylesheet",oe.prepand?K.insertBefore(ot,K.firstChild):K.appendChild(ot)}R(ge)}},z=function(Ct,oe){var ge={},ce=(0,e.keys)(oe);for(var K in Ct)if(Ct.hasOwnProperty(K)){var ot=Ct[K],mt=oe[K];ce.indexOf(K)>=0?ot!==mt&&(ge[K]=mt):ge[K]=null}for(var K in oe)oe.hasOwnProperty(K)&&(0,e.isUndefined)(Ct[K])&&(ge[K]=oe[K]);return ge},N=function(Ct){return Ct.replace(parseFloat(Ct),"")},j=function(Ct){return Ct[0].toUpperCase()+Ct.toLowerCase().slice(1)},D=function(Ct){return Ct.replace(/-./g,function(oe){return oe[1].toUpperCase()})},W=function(Ct,oe,ge){oe===void 0&&(oe=1),ge===void 0&&(ge=0);var ce=0;if(isNaN(Ct))return ge;if(Ct=parseFloat(Ct),Math.floor(Ct)!==Ct){var K=oe.toString().split(".")[1];ce=K?K.length:0}return ce?parseFloat(Ct.toFixed(ce)):Ct},q=function(Ct){return"draggable"in document.createElement("i")&&(Ct?Ct.config.nativeDnD:!0)},J=function(Ct){if((0,e.isElement)(Ct)||(0,r.ir)(Ct))return Ct;if(Ct&&Ct.getEl)return Ct.getEl()},I=function(Ct,oe){var ge=null;return Ct.some(function(ce,K){return oe(ce,K,Ct)?(ge=ce,1):0}),ge},Z=function(Ct){return Ct===void 0&&(Ct=""),"".concat(Ct).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},et=function(Ct){return Ct===void 0&&(Ct=""),"".concat(Ct).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},ut=function(Ct){return Ct===void 0&&(Ct=""),"".concat(Ct).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},Rt=function(Ct){return Ct===void 0&&(Ct=""),"".concat(Ct).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;")},Gt=function(){for(var Ct=[],oe=0;oe<arguments.length;oe++)Ct[oe]=arguments[oe];for(var ge=i({},Ct[0]),ce=1;ce<Ct.length;ce++){var K=i({},Ct[ce]);for(var ot in K){var mt=ge[ot],At=K[ot];_t(mt)&&_t(At)?ge[ot]=Gt(mt,At):ge[ot]=At}}return ge},Pt=function(Ct,oe){var ge;return!oe&&Ct&&Ct.__cashData?ge=Ct.__cashData.model:oe&&(0,e.isElement)(Ct)&&(ge=oe(Ct).data("model")),ge},_t=function(Ct){return Ct&&!Array.isArray(Ct)&&typeof Ct=="object"},rt=function(Ct){return Object.keys(Ct).length<=0},ft=function(Ct){return Ct===void 0&&(Ct=""),Ct&&Ct.charAt(0).toUpperCase()+Ct.substring(1)},wt=function(Ct){return Ct&&Ct.toCSS},Et=function(Ct){return Ct?.__gjsv},Nt=function(Ct){return!!Ct?.toHTML},Ht=function(Ct){return Et(Ct)},It=function(Ct){var oe;return(oe=Ht(Ct))===null||oe===void 0?void 0:oe.model},at=function(Ct,oe){Ct.__gjsv=oe},Kt=function(Ct){Ct===void 0&&(Ct=16);for(var oe="",ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ce=ge.length,K=0;K<Ct;K++)oe+=ge.charAt(Math.floor(Math.random()*ce));return oe},le=function(Ct){if(Ct&&Ct.substr(0,4)==="<svg"){var oe="";return w()?oe=window.btoa(Ct):typeof Buffer<"u"&&(oe=Buffer.from(Ct,"utf8").toString("base64")),oe?"data:image/svg+xml;base64,".concat(oe):Ct}return Ct}},6756:(o,n,t)=>{t.d(n,{h:()=>i});var e=t(3178),r=function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(u[g]=p[g])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(l,c);function u(){this.constructor=l}l.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),i=function(s){r(l,s);function l(){var c=s!==null&&s.apply(this,arguments)||this;return c.displayCache=new Map,c}return l.prototype.getChildren=function(){return this.getDisplayedChildren()},l.prototype.getDisplayedChildren=function(){var c=this,u=this.model.components(),p=u.filter(function(g){return c.isChildDisplayed(g)});return p.map(function(g){return new c.constructor(g)})},l.prototype.isChildDisplayed=function(c){if(this.displayCache.has(c))return this.displayCache.get(c);var u=c.getEl(),p=a(u);return this.displayCache.set(c,p),p},l.prototype.getParent=function(){var c=this.model.parent();return c?new this.constructor(c):null},l.prototype.addChildAt=function(c,u,p){var g,h,y,_,x,P,w,T;p===void 0&&(p={action:"add-component"});var b=((h=(g=this.model)===null||g===void 0?void 0:g.isInstanceOf)===null||h===void 0?void 0:h.call(g,"text"))&&((_=(y=c?.model)===null||y===void 0?void 0:y.get)===null||_===void 0?void 0:_.call(y,"textable"));if(b)return(T=(w=(P=(x=this.model)===null||x===void 0?void 0:x.getView)===null||P===void 0?void 0:P.call(x))===null||w===void 0?void 0:w.insertComponent)===null||T===void 0?void 0:T.call(w,c?.model,{action:p.action});var k=this.model.components().add(c.model,{at:this.getRealIndex(u),action:p.action});return new this.constructor(k)},l.prototype.removeChildAt=function(c,u){u===void 0&&(u={temporary:!1});var p=this.model.components().at(this.getRealIndex(c));p&&this.model.components().remove(p,u)},l.prototype.indexOfChild=function(c){return this.getDisplayIndex(c)},l.prototype.getDisplayIndex=function(c){var u=this.getDisplayedChildren();return u?u.findIndex(function(p){return p.model===c.model}):-1},l.prototype.getRealIndex=function(c){if(c===-1)return-1;for(var u=0,p=this.model.components(),g=0;g<p.length;g++){var h=p.at(g),y=this.isChildDisplayed(h);if(y&&u++,u===c+1)return g}return-1},l.prototype.canMove=function(c,u){return this.model.em.Components.canMove(this.model,c.model,this.getRealIndex(u)).result},l.prototype.equals=function(c){return!!c?._model&&this._model.getId()===c._model.getId()},l.prototype.restNodeState=function(){this.clearState();var c=this.model;this.setContentEditable(!1),c.em.getEditing()===c&&this.disableEditing()},l.prototype.setContentEditable=function(c){this.element&&this.isTextNode()&&(this.element.contentEditable=c?"true":"false")},l.prototype.disableEditing=function(){var c,u;(u=(c=this.view)===null||c===void 0?void 0:c.disableEditing)===null||u===void 0||u.call(c)},l.prototype.clearState=function(){var c,u;(u=(c=this.model).set)===null||u===void 0||u.call(c,"status","")},l.prototype.setSelectedParentState=function(){var c,u;(u=(c=this.model).set)===null||u===void 0||u.call(c,"status","selected-parent")},l.prototype.isTextNode=function(){var c,u;return(u=(c=this.model).isInstanceOf)===null||u===void 0?void 0:u.call(c,"text")},l.prototype.isTextable=function(){var c,u;return(u=(c=this.model).get)===null||u===void 0?void 0:u.call(c,"textable")},l}(e.$);function a(s){return s?typeof s=="object"&&s.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(s).display!=="none"&&s.offsetWidth>0&&s.offsetHeight>0:!1}},1447:(o,n,t)=>{t.d(n,{A:()=>a});var e=t(6756),r=function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(u[g]=p[g])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(l,c);function u(){this.constructor=l}l.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),i=function(s){r(l,s);function l(){var c=s!==null&&s.apply(this,arguments)||this;return c._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},c}return Object.defineProperty(l.prototype,"view",{get:function(){var c,u;return(u=(c=this.model).getView)===null||u===void 0?void 0:u.call(c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"element",{get:function(){var c,u;return(u=(c=this.model).getEl)===null||u===void 0?void 0:u.call(c)},enumerable:!1,configurable:!0}),l}(e.h);let a=i},3178:(o,n,t)=>{t.d(n,{$:()=>e});var e=function(){function r(i,a){a===void 0&&(a={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=i,this._dragSource=a}return Object.defineProperty(r.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropArea",{get:function(){var i,a;return this.getParent()?(a=this.nodeDimensions)===null||a===void 0?void 0:a.getDropArea(this._dropAreaConfig):(i=this.nodeDimensions)===null||i===void 0?void 0:i.clone()},enumerable:!1,configurable:!0}),r.prototype.isWithinDropBounds=function(i,a){return!!this.dropArea&&this.dropArea.isWithinBounds(i,a)},r.prototype.equals=function(i){return!!i?._model&&this._model===i._model},r.prototype.adjustDimensions=function(i){var a,s;i.topDifference===0&&i.leftDifference===0||((a=this.nodeDimensions)===null||a===void 0||a.adjustDimensions(i),(s=this.childrenDimensions)===null||s===void 0||s.forEach(function(l){return l.adjustDimensions(i)}))},r}()},8433:(o,n,t)=>{t.d(n,{A:()=>e});var e=function(r){return r.Vertical="Vertical",r.Horizontal="Horizontal",r.BothDirections="BothDirections",r}(e||{})},585:(o,n,t)=>{var e={"./CanvasClear":9484,"./CanvasClear.ts":9484,"./CanvasMove":9516,"./CanvasMove.ts":9516,"./CommandAbstract":9946,"./CommandAbstract.ts":9946,"./ComponentDelete":7801,"./ComponentDelete.ts":7801,"./ComponentDrag":4864,"./ComponentDrag.ts":4864,"./ComponentEnter":6134,"./ComponentEnter.ts":6134,"./ComponentExit":914,"./ComponentExit.ts":914,"./ComponentNext":5547,"./ComponentNext.ts":5547,"./ComponentPrev":8655,"./ComponentPrev.ts":8655,"./ComponentStyleClear":7640,"./ComponentStyleClear.ts":7640,"./CopyComponent":5837,"./CopyComponent.ts":5837,"./ExportTemplate":6477,"./ExportTemplate.ts":6477,"./Fullscreen":1772,"./Fullscreen.ts":1772,"./MoveComponent":741,"./MoveComponent.ts":741,"./OpenAssets":2924,"./OpenAssets.ts":2924,"./OpenBlocks":3963,"./OpenBlocks.ts":3963,"./OpenLayers":1479,"./OpenLayers.ts":1479,"./OpenStyleManager":3473,"./OpenStyleManager.ts":3473,"./OpenTraitManager":5054,"./OpenTraitManager.ts":5054,"./PasteComponent":6979,"./PasteComponent.ts":6979,"./Preview":4457,"./Preview.ts":4457,"./Resize":5493,"./Resize.ts":5493,"./SelectComponent":9317,"./SelectComponent.ts":9317,"./SelectPosition":1406,"./SelectPosition.ts":1406,"./ShowOffset":9395,"./ShowOffset.ts":9395,"./SwitchVisibility":7285,"./SwitchVisibility.ts":7285};function r(a){var s=i(a);return t(s)}function i(a){if(!t.o(e,a)){var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}return e[a]}r.keys=function(){return Object.keys(e)},r.resolve=i,o.exports=r,r.id=585},5706:(o,n,t)=>{t.r(n),t.d(n,{VERSION:()=>r,after:()=>ho,all:()=>Fo,allKeys:()=>ve,any:()=>es,assign:()=>fn,before:()=>ts,bind:()=>ba,bindAll:()=>Ja,chain:()=>Js,chunk:()=>mo,clone:()=>Yn,collect:()=>or,compact:()=>Sp,compose:()=>Xi,constant:()=>ce,contains:()=>Lr,countBy:()=>Mp,create:()=>wn,debounce:()=>go,default:()=>Ma,defaults:()=>Or,defer:()=>Qr,delay:()=>No,detect:()=>He,difference:()=>Sd,drop:()=>Xo,each:()=>Ge,escape:()=>pe,every:()=>Fo,extend:()=>Mn,extendOwn:()=>fn,filter:()=>Hr,find:()=>He,findIndex:()=>Ro,findKey:()=>Oi,findLastIndex:()=>xa,findWhere:()=>tn,first:()=>rs,flatten:()=>wd,foldl:()=>Mi,foldr:()=>Dr,forEach:()=>Ge,functions:()=>rn,get:()=>mn,groupBy:()=>Pp,has:()=>A,head:()=>rs,identity:()=>U,include:()=>Lr,includes:()=>Lr,indexBy:()=>Od,indexOf:()=>Ji,initial:()=>ar,inject:()=>Mi,intersection:()=>Ep,invert:()=>On,invoke:()=>bp,isArguments:()=>Ct,isArray:()=>at,isArrayBuffer:()=>Gt,isBoolean:()=>D,isDataView:()=>It,isDate:()=>Z,isElement:()=>W,isEmpty:()=>dt,isEqual:()=>Pe,isError:()=>ut,isFinite:()=>oe,isFunction:()=>rt,isMap:()=>Dt,isMatch:()=>Tt,isNaN:()=>ge,isNull:()=>N,isNumber:()=>I,isObject:()=>z,isRegExp:()=>et,isSet:()=>be,isString:()=>J,isSymbol:()=>Rt,isTypedArray:()=>kt,isUndefined:()=>j,isWeakMap:()=>ee,isWeakSet:()=>Te,iteratee:()=>Ve,keys:()=>De,last:()=>is,lastIndexOf:()=>Ue,map:()=>or,mapObject:()=>Re,matcher:()=>H,matches:()=>H,max:()=>Cd,memoize:()=>Zs,methods:()=>rn,min:()=>xd,mixin:()=>nl,negate:()=>Za,noop:()=>Y,now:()=>nt,object:()=>kp,omit:()=>ns,once:()=>Qi,pairs:()=>Pn,partial:()=>Lo,partition:()=>Pd,pick:()=>Md,pluck:()=>$l,property:()=>gt,propertyOf:()=>Jt,random:()=>Ln,range:()=>ss,reduce:()=>Mi,reduceRight:()=>Dr,reject:()=>wi,rest:()=>Xo,restArguments:()=>R,result:()=>Qs,sample:()=>Yl,select:()=>Hr,shuffle:()=>xp,size:()=>wp,some:()=>es,sortBy:()=>Op,sortedIndex:()=>Oa,tail:()=>Xo,take:()=>rs,tap:()=>je,template:()=>Yo,templateSettings:()=>dn,throttle:()=>tl,times:()=>Ne,toArray:()=>Pa,toPath:()=>Xn,transpose:()=>as,unescape:()=>nn,union:()=>Tp,uniq:()=>os,unique:()=>os,uniqueId:()=>_a,unzip:()=>as,values:()=>Le,where:()=>Cp,without:()=>Jl,wrap:()=>Mr,zip:()=>Td});var e={};t.r(e),t.d(e,{VERSION:()=>r,after:()=>ho,all:()=>Fo,allKeys:()=>ve,any:()=>es,assign:()=>fn,before:()=>ts,bind:()=>ba,bindAll:()=>Ja,chain:()=>Js,chunk:()=>mo,clone:()=>Yn,collect:()=>or,compact:()=>Sp,compose:()=>Xi,constant:()=>ce,contains:()=>Lr,countBy:()=>Mp,create:()=>wn,debounce:()=>go,default:()=>Ap,defaults:()=>Or,defer:()=>Qr,delay:()=>No,detect:()=>He,difference:()=>Sd,drop:()=>Xo,each:()=>Ge,escape:()=>pe,every:()=>Fo,extend:()=>Mn,extendOwn:()=>fn,filter:()=>Hr,find:()=>He,findIndex:()=>Ro,findKey:()=>Oi,findLastIndex:()=>xa,findWhere:()=>tn,first:()=>rs,flatten:()=>wd,foldl:()=>Mi,foldr:()=>Dr,forEach:()=>Ge,functions:()=>rn,get:()=>mn,groupBy:()=>Pp,has:()=>A,head:()=>rs,identity:()=>U,include:()=>Lr,includes:()=>Lr,indexBy:()=>Od,indexOf:()=>Ji,initial:()=>ar,inject:()=>Mi,intersection:()=>Ep,invert:()=>On,invoke:()=>bp,isArguments:()=>Ct,isArray:()=>at,isArrayBuffer:()=>Gt,isBoolean:()=>D,isDataView:()=>It,isDate:()=>Z,isElement:()=>W,isEmpty:()=>dt,isEqual:()=>Pe,isError:()=>ut,isFinite:()=>oe,isFunction:()=>rt,isMap:()=>Dt,isMatch:()=>Tt,isNaN:()=>ge,isNull:()=>N,isNumber:()=>I,isObject:()=>z,isRegExp:()=>et,isSet:()=>be,isString:()=>J,isSymbol:()=>Rt,isTypedArray:()=>kt,isUndefined:()=>j,isWeakMap:()=>ee,isWeakSet:()=>Te,iteratee:()=>Ve,keys:()=>De,last:()=>is,lastIndexOf:()=>Ue,map:()=>or,mapObject:()=>Re,matcher:()=>H,matches:()=>H,max:()=>Cd,memoize:()=>Zs,methods:()=>rn,min:()=>xd,mixin:()=>nl,negate:()=>Za,noop:()=>Y,now:()=>nt,object:()=>kp,omit:()=>ns,once:()=>Qi,pairs:()=>Pn,partial:()=>Lo,partition:()=>Pd,pick:()=>Md,pluck:()=>$l,property:()=>gt,propertyOf:()=>Jt,random:()=>Ln,range:()=>ss,reduce:()=>Mi,reduceRight:()=>Dr,reject:()=>wi,rest:()=>Xo,restArguments:()=>R,result:()=>Qs,sample:()=>Yl,select:()=>Hr,shuffle:()=>xp,size:()=>wp,some:()=>es,sortBy:()=>Op,sortedIndex:()=>Oa,tail:()=>Xo,take:()=>rs,tap:()=>je,template:()=>Yo,templateSettings:()=>dn,throttle:()=>tl,times:()=>Ne,toArray:()=>Pa,toPath:()=>Xn,transpose:()=>as,unescape:()=>nn,union:()=>Tp,uniq:()=>os,unique:()=>os,uniqueId:()=>_a,unzip:()=>as,values:()=>Le,where:()=>Cp,without:()=>Jl,wrap:()=>Mr,zip:()=>Td});var r="1.13.1",i=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,s=Object.prototype,l=typeof Symbol<"u"?Symbol.prototype:null,c=a.push,u=a.slice,p=s.toString,g=s.hasOwnProperty,h=typeof ArrayBuffer<"u",y=typeof DataView<"u",_=Array.isArray,x=Object.keys,P=Object.create,w=h&&ArrayBuffer.isView,T=isNaN,b=isFinite,k=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],L=Math.pow(2,53)-1;function R(X,st){return st=st==null?X.length-1:+st,function(){for(var xt=Math.max(arguments.length-st,0),St=Array(xt),Bt=0;Bt<xt;Bt++)St[Bt]=arguments[Bt+st];switch(st){case 0:return X.call(this,St);case 1:return X.call(this,arguments[0],St);case 2:return X.call(this,arguments[0],arguments[1],St)}var zt=Array(st+1);for(Bt=0;Bt<st;Bt++)zt[Bt]=arguments[Bt];return zt[st]=St,X.apply(this,zt)}}function z(X){var st=typeof X;return st==="function"||st==="object"&&!!X}function N(X){return X===null}function j(X){return X===void 0}function D(X){return X===!0||X===!1||p.call(X)==="[object Boolean]"}function W(X){return!!(X&&X.nodeType===1)}function q(X){var st="[object "+X+"]";return function(xt){return p.call(xt)===st}}let J=q("String"),I=q("Number"),Z=q("Date"),et=q("RegExp"),ut=q("Error"),Rt=q("Symbol"),Gt=q("ArrayBuffer");var Pt=q("Function"),_t=i.document&&i.document.childNodes;typeof Int8Array!="object"&&typeof _t!="function"&&(Pt=function(X){return typeof X=="function"||!1});let rt=Pt,ft=q("Object");var wt=y&&ft(new DataView(new ArrayBuffer(8))),Et=typeof Map<"u"&&ft(new Map),Nt=q("DataView");function Ht(X){return X!=null&&rt(X.getInt8)&&Gt(X.buffer)}let It=wt?Ht:Nt,at=_||q("Array");function Kt(X,st){return X!=null&&g.call(X,st)}var le=q("Arguments");(function(){le(arguments)||(le=function(X){return Kt(X,"callee")})})();let Ct=le;function oe(X){return!Rt(X)&&b(X)&&!isNaN(parseFloat(X))}function ge(X){return I(X)&&T(X)}function ce(X){return function(){return X}}function K(X){return function(st){var xt=X(st);return typeof xt=="number"&&xt>=0&&xt<=L}}function ot(X){return function(st){return st?.[X]}}let mt=ot("byteLength"),At=K(mt);var Qt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function ht(X){return w?w(X)&&!It(X):At(X)&&Qt.test(p.call(X))}let kt=h?ht:ce(!1),Lt=ot("length");function he(X){for(var st={},xt=X.length,St=0;St<xt;++St)st[X[St]]=!0;return{contains:function(Bt){return st[Bt]},push:function(Bt){return st[Bt]=!0,X.push(Bt)}}}function Ye(X,st){st=he(st);var xt=E.length,St=X.constructor,Bt=rt(St)&&St.prototype||s,zt="constructor";for(Kt(X,zt)&&!st.contains(zt)&&st.push(zt);xt--;)zt=E[xt],zt in X&&X[zt]!==Bt[zt]&&!st.contains(zt)&&st.push(zt)}function De(X){if(!z(X))return[];if(x)return x(X);var st=[];for(var xt in X)Kt(X,xt)&&st.push(xt);return k&&Ye(X,st),st}function dt(X){if(X==null)return!0;var st=Lt(X);return typeof st=="number"&&(at(X)||J(X)||Ct(X))?st===0:Lt(De(X))===0}function Tt(X,st){var xt=De(st),St=xt.length;if(X==null)return!St;for(var Bt=Object(X),zt=0;zt<St;zt++){var se=xt[zt];if(st[se]!==Bt[se]||!(se in Bt))return!1}return!0}function it(X){if(X instanceof it)return X;if(!(this instanceof it))return new it(X);this._wrapped=X}it.VERSION=r,it.prototype.value=function(){return this._wrapped},it.prototype.valueOf=it.prototype.toJSON=it.prototype.value,it.prototype.toString=function(){return String(this._wrapped)};function ne(X){return new Uint8Array(X.buffer||X,X.byteOffset||0,mt(X))}var Vt="[object DataView]";function de(X,st,xt,St){if(X===st)return X!==0||1/X===1/st;if(X==null||st==null)return!1;if(X!==X)return st!==st;var Bt=typeof X;return Bt!=="function"&&Bt!=="object"&&typeof st!="object"?!1:Oe(X,st,xt,St)}function Oe(X,st,xt,St){X instanceof it&&(X=X._wrapped),st instanceof it&&(st=st._wrapped);var Bt=p.call(X);if(Bt!==p.call(st))return!1;if(wt&&Bt=="[object Object]"&&It(X)){if(!It(st))return!1;Bt=Vt}switch(Bt){case"[object RegExp]":case"[object String]":return""+X==""+st;case"[object Number]":return+X!=+X?+st!=+st:+X==0?1/+X===1/st:+X==+st;case"[object Date]":case"[object Boolean]":return+X==+st;case"[object Symbol]":return l.valueOf.call(X)===l.valueOf.call(st);case"[object ArrayBuffer]":case Vt:return Oe(ne(X),ne(st),xt,St)}var zt=Bt==="[object Array]";if(!zt&&kt(X)){var se=mt(X);if(se!==mt(st))return!1;if(X.buffer===st.buffer&&X.byteOffset===st.byteOffset)return!0;zt=!0}if(!zt){if(typeof X!="object"||typeof st!="object")return!1;var Ce=X.constructor,en=st.constructor;if(Ce!==en&&!(rt(Ce)&&Ce instanceof Ce&&rt(en)&&en instanceof en)&&"constructor"in X&&"constructor"in st)return!1}xt=xt||[],St=St||[];for(var Je=xt.length;Je--;)if(xt[Je]===X)return St[Je]===st;if(xt.push(X),St.push(st),zt){if(Je=X.length,Je!==st.length)return!1;for(;Je--;)if(!de(X[Je],st[Je],xt,St))return!1}else{var wr=De(X),Jr;if(Je=wr.length,De(st).length!==Je)return!1;for(;Je--;)if(Jr=wr[Je],!(Kt(st,Jr)&&de(X[Jr],st[Jr],xt,St)))return!1}return xt.pop(),St.pop(),!0}function Pe(X,st){return de(X,st)}function ve(X){if(!z(X))return[];var st=[];for(var xt in X)st.push(xt);return k&&Ye(X,st),st}function Ae(X){var st=Lt(X);return function(xt){if(xt==null)return!1;var St=ve(xt);if(Lt(St))return!1;for(var Bt=0;Bt<st;Bt++)if(!rt(xt[X[Bt]]))return!1;return X!==lt||!rt(xt[Qe])}}var Qe="forEach",Xe="has",Ze=["clear","delete"],_n=["get",Xe,"set"],Kn=Ze.concat(Qe,_n),lt=Ze.concat(_n),Mt=["add"].concat(Ze,Qe,Xe);let Dt=Et?Ae(Kn):q("Map"),ee=Et?Ae(lt):q("WeakMap"),be=Et?Ae(Mt):q("Set"),Te=q("WeakSet");function Le(X){for(var st=De(X),xt=st.length,St=Array(xt),Bt=0;Bt<xt;Bt++)St[Bt]=X[st[Bt]];return St}function Pn(X){for(var st=De(X),xt=st.length,St=Array(xt),Bt=0;Bt<xt;Bt++)St[Bt]=[st[Bt],X[st[Bt]]];return St}function On(X){for(var st={},xt=De(X),St=0,Bt=xt.length;St<Bt;St++)st[X[xt[St]]]=xt[St];return st}function rn(X){var st=[];for(var xt in X)rt(X[xt])&&st.push(xt);return st.sort()}function hr(X,st){return function(xt){var St=arguments.length;if(st&&(xt=Object(xt)),St<2||xt==null)return xt;for(var Bt=1;Bt<St;Bt++)for(var zt=arguments[Bt],se=X(zt),Ce=se.length,en=0;en<Ce;en++){var Je=se[en];(!st||xt[Je]===void 0)&&(xt[Je]=zt[Je])}return xt}}let Mn=hr(ve),fn=hr(De),Or=hr(ve,!0);function yn(){return function(){}}function sn(X){if(!z(X))return{};if(P)return P(X);var st=yn();st.prototype=X;var xt=new st;return st.prototype=null,xt}function wn(X,st){var xt=sn(X);return st&&fn(xt,st),xt}function Yn(X){return z(X)?at(X)?X.slice():Mn({},X):X}function je(X,st){return st(X),X}function Xn(X){return at(X)?X:[X]}it.toPath=Xn;function Fe(X){return it.toPath(X)}function Dn(X,st){for(var xt=st.length,St=0;St<xt;St++){if(X==null)return;X=X[st[St]]}return xt?X:void 0}function mn(X,st,xt){var St=Dn(X,Fe(st));return j(St)?xt:St}function A(X,st){st=Fe(st);for(var xt=st.length,St=0;St<xt;St++){var Bt=st[St];if(!Kt(X,Bt))return!1;X=X[Bt]}return!!xt}function U(X){return X}function H(X){return X=fn({},X),function(st){return Tt(st,X)}}function gt(X){return X=Fe(X),function(st){return Dn(st,X)}}function $t(X,st,xt){if(st===void 0)return X;switch(xt??3){case 1:return function(St){return X.call(st,St)};case 3:return function(St,Bt,zt){return X.call(st,St,Bt,zt)};case 4:return function(St,Bt,zt,se){return X.call(st,St,Bt,zt,se)}}return function(){return X.apply(st,arguments)}}function Ee(X,st,xt){return X==null?U:rt(X)?$t(X,st,xt):z(X)&&!at(X)?H(X):gt(X)}function Ve(X,st){return Ee(X,st,1/0)}it.iteratee=Ve;function ze(X,st,xt){return it.iteratee!==Ve?it.iteratee(X,st):Ee(X,st,xt)}function Re(X,st,xt){st=ze(st,xt);for(var St=De(X),Bt=St.length,zt={},se=0;se<Bt;se++){var Ce=St[se];zt[Ce]=st(X[Ce],Ce,X)}return zt}function Y(){}function Jt(X){return X==null?Y:function(st){return mn(X,st)}}function Ne(X,st,xt){var St=Array(Math.max(0,X));st=$t(st,xt,1);for(var Bt=0;Bt<X;Bt++)St[Bt]=st(Bt);return St}function Ln(X,st){return st==null&&(st=X,X=0),X+Math.floor(Math.random()*(st-X+1))}let nt=Date.now||function(){return new Date().getTime()};function bt(X){var st=function(zt){return X[zt]},xt="(?:"+De(X).join("|")+")",St=RegExp(xt),Bt=RegExp(xt,"g");return function(zt){return zt=zt==null?"":""+zt,St.test(zt)?zt.replace(Bt,st):zt}}let Zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},pe=bt(Zt),fe=On(Zt),nn=bt(fe),dn=it.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Nn=/(.)^/,Vn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ya=/\\|'|\r|\n|\u2028|\u2029/g;function Yi(X){return"\\"+Vn[X]}var di=/^\s*(\w|\$)+\s*$/;function Yo(X,st,xt){!st&&xt&&(st=xt),st=Or({},st,it.templateSettings);var St=RegExp([(st.escape||Nn).source,(st.interpolate||Nn).source,(st.evaluate||Nn).source].join("|")+"|$","g"),Bt=0,zt="__p+='";X.replace(St,function(Je,wr,Jr,Ip,Ed){return zt+=X.slice(Bt,Ed).replace(Ya,Yi),Bt=Ed+Je.length,wr?zt+=`'+
((__t=(`+wr+`))==null?'':_.escape(__t))+
'`:Jr?zt+=`'+
((__t=(`+Jr+`))==null?'':__t)+
'`:Ip&&(zt+=`';
`+Ip+`
__p+='`),Je}),zt+=`';
`;var se=st.variable;if(se){if(!di.test(se))throw new Error("variable is not a bare identifier: "+se)}else zt=`with(obj||{}){
`+zt+`}
`,se="obj";zt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+zt+`return __p;
`;var Ce;try{Ce=new Function(se,"_",zt)}catch(Je){throw Je.source=zt,Je}var en=function(Je){return Ce.call(this,Je,it)};return en.source="function("+se+`){
`+zt+"}",en}function Qs(X,st,xt){st=Fe(st);var St=st.length;if(!St)return rt(xt)?xt.call(X):xt;for(var Bt=0;Bt<St;Bt++){var zt=X?.[st[Bt]];zt===void 0&&(zt=xt,Bt=St),X=rt(zt)?zt.call(X):zt}return X}var Xa=0;function _a(X){var st=++Xa+"";return X?X+st:st}function Js(X){var st=it(X);return st._chain=!0,st}function Qa(X,st,xt,St,Bt){if(!(St instanceof st))return X.apply(xt,Bt);var zt=sn(X.prototype),se=X.apply(zt,Bt);return z(se)?se:zt}var ya=R(function(X,st){var xt=ya.placeholder,St=function(){for(var Bt=0,zt=st.length,se=Array(zt),Ce=0;Ce<zt;Ce++)se[Ce]=st[Ce]===xt?arguments[Bt++]:st[Ce];for(;Bt<arguments.length;)se.push(arguments[Bt++]);return Qa(X,St,this,this,se)};return St});ya.placeholder=it;let Lo=ya,ba=R(function(X,st,xt){if(!rt(X))throw new TypeError("Bind must be called on a function");var St=R(function(Bt){return Qa(X,St,st,this,xt.concat(Bt))});return St}),mr=K(Lt);function Pr(X,st,xt,St){if(St=St||[],!st&&st!==0)st=1/0;else if(st<=0)return St.concat(X);for(var Bt=St.length,zt=0,se=Lt(X);zt<se;zt++){var Ce=X[zt];if(mr(Ce)&&(at(Ce)||Ct(Ce)))if(st>1)Pr(Ce,st-1,xt,St),Bt=St.length;else for(var en=0,Je=Ce.length;en<Je;)St[Bt++]=Ce[en++];else xt||(St[Bt++]=Ce)}return St}let Ja=R(function(X,st){st=Pr(st,!1,!1);var xt=st.length;if(xt<1)throw new Error("bindAll must be passed function names");for(;xt--;){var St=st[xt];X[St]=ba(X[St],X)}return X});function Zs(X,st){var xt=function(St){var Bt=xt.cache,zt=""+(st?st.apply(this,arguments):St);return Kt(Bt,zt)||(Bt[zt]=X.apply(this,arguments)),Bt[zt]};return xt.cache={},xt}let No=R(function(X,st,xt){return setTimeout(function(){return X.apply(null,xt)},st)}),Qr=Lo(No,it,1);function tl(X,st,xt){var St,Bt,zt,se,Ce=0;xt||(xt={});var en=function(){Ce=xt.leading===!1?0:nt(),St=null,se=X.apply(Bt,zt),St||(Bt=zt=null)},Je=function(){var wr=nt();!Ce&&xt.leading===!1&&(Ce=wr);var Jr=st-(wr-Ce);return Bt=this,zt=arguments,Jr<=0||Jr>st?(St&&(clearTimeout(St),St=null),Ce=wr,se=X.apply(Bt,zt),St||(Bt=zt=null)):!St&&xt.trailing!==!1&&(St=setTimeout(en,Jr)),se};return Je.cancel=function(){clearTimeout(St),Ce=0,St=Bt=zt=null},Je}function go(X,st,xt){var St,Bt,zt,se,Ce,en=function(){var wr=nt()-Bt;st>wr?St=setTimeout(en,st-wr):(St=null,xt||(se=X.apply(Ce,zt)),St||(zt=Ce=null))},Je=R(function(wr){return Ce=this,zt=wr,Bt=nt(),St||(St=setTimeout(en,st),xt&&(se=X.apply(Ce,zt))),se});return Je.cancel=function(){clearTimeout(St),St=zt=Ce=null},Je}function Mr(X,st){return Lo(st,X)}function Za(X){return function(){return!X.apply(this,arguments)}}function Xi(){var X=arguments,st=X.length-1;return function(){for(var xt=st,St=X[st].apply(this,arguments);xt--;)St=X[xt].call(this,St);return St}}function ho(X,st){return function(){if(--X<1)return st.apply(this,arguments)}}function ts(X,st){var xt;return function(){return--X>0&&(xt=st.apply(this,arguments)),X<=1&&(st=null),xt}}let Qi=Lo(ts,2);function Oi(X,st,xt){st=ze(st,xt);for(var St=De(X),Bt,zt=0,se=St.length;zt<se;zt++)if(Bt=St[zt],st(X[Bt],Bt,X))return Bt}function Ca(X){return function(st,xt,St){xt=ze(xt,St);for(var Bt=Lt(st),zt=X>0?0:Bt-1;zt>=0&&zt<Bt;zt+=X)if(xt(st[zt],zt,st))return zt;return-1}}let Ro=Ca(1),xa=Ca(-1);function Oa(X,st,xt,St){xt=ze(xt,St,1);for(var Bt=xt(st),zt=0,se=Lt(X);zt<se;){var Ce=Math.floor((zt+se)/2);xt(X[Ce])<Bt?zt=Ce+1:se=Ce}return zt}function el(X,st,xt){return function(St,Bt,zt){var se=0,Ce=Lt(St);if(typeof zt=="number")X>0?se=zt>=0?zt:Math.max(zt+Ce,se):Ce=zt>=0?Math.min(zt+1,Ce):zt+Ce+1;else if(xt&&zt&&Ce)return zt=xt(St,Bt),St[zt]===Bt?zt:-1;if(Bt!==Bt)return zt=st(u.call(St,se,Ce),ge),zt>=0?zt+se:-1;for(zt=X>0?se:Ce-1;zt>=0&&zt<Ce;zt+=X)if(St[zt]===Bt)return zt;return-1}}let Ji=el(1,Ro,Oa),Ue=el(-1,xa);function He(X,st,xt){var St=mr(X)?Ro:Oi,Bt=St(X,st,xt);if(Bt!==void 0&&Bt!==-1)return X[Bt]}function tn(X,st){return He(X,H(st))}function Ge(X,st,xt){st=$t(st,xt);var St,Bt;if(mr(X))for(St=0,Bt=X.length;St<Bt;St++)st(X[St],St,X);else{var zt=De(X);for(St=0,Bt=zt.length;St<Bt;St++)st(X[zt[St]],zt[St],X)}return X}function or(X,st,xt){st=ze(st,xt);for(var St=!mr(X)&&De(X),Bt=(St||X).length,zt=Array(Bt),se=0;se<Bt;se++){var Ce=St?St[se]:se;zt[se]=st(X[Ce],Ce,X)}return zt}function Pi(X){var st=function(xt,St,Bt,zt){var se=!mr(xt)&&De(xt),Ce=(se||xt).length,en=X>0?0:Ce-1;for(zt||(Bt=xt[se?se[en]:en],en+=X);en>=0&&en<Ce;en+=X){var Je=se?se[en]:en;Bt=St(Bt,xt[Je],Je,xt)}return Bt};return function(xt,St,Bt,zt){var se=arguments.length>=3;return st(xt,$t(St,zt,4),Bt,se)}}let Mi=Pi(1),Dr=Pi(-1);function Hr(X,st,xt){var St=[];return st=ze(st,xt),Ge(X,function(Bt,zt,se){st(Bt,zt,se)&&St.push(Bt)}),St}function wi(X,st,xt){return Hr(X,Za(ze(st)),xt)}function Fo(X,st,xt){st=ze(st,xt);for(var St=!mr(X)&&De(X),Bt=(St||X).length,zt=0;zt<Bt;zt++){var se=St?St[zt]:zt;if(!st(X[se],se,X))return!1}return!0}function es(X,st,xt){st=ze(st,xt);for(var St=!mr(X)&&De(X),Bt=(St||X).length,zt=0;zt<Bt;zt++){var se=St?St[zt]:zt;if(st(X[se],se,X))return!0}return!1}function Lr(X,st,xt,St){return mr(X)||(X=Le(X)),(typeof xt!="number"||St)&&(xt=0),Ji(X,st,xt)>=0}let bp=R(function(X,st,xt){var St,Bt;return rt(st)?Bt=st:(st=Fe(st),St=st.slice(0,-1),st=st[st.length-1]),or(X,function(zt){var se=Bt;if(!se){if(St&&St.length&&(zt=Dn(zt,St)),zt==null)return;se=zt[st]}return se==null?se:se.apply(zt,xt)})});function $l(X,st){return or(X,gt(st))}function Cp(X,st){return Hr(X,H(st))}function Cd(X,st,xt){var St=-1/0,Bt=-1/0,zt,se;if(st==null||typeof st=="number"&&typeof X[0]!="object"&&X!=null){X=mr(X)?X:Le(X);for(var Ce=0,en=X.length;Ce<en;Ce++)zt=X[Ce],zt!=null&&zt>St&&(St=zt)}else st=ze(st,xt),Ge(X,function(Je,wr,Jr){se=st(Je,wr,Jr),(se>Bt||se===-1/0&&St===-1/0)&&(St=Je,Bt=se)});return St}function xd(X,st,xt){var St=1/0,Bt=1/0,zt,se;if(st==null||typeof st=="number"&&typeof X[0]!="object"&&X!=null){X=mr(X)?X:Le(X);for(var Ce=0,en=X.length;Ce<en;Ce++)zt=X[Ce],zt!=null&&zt<St&&(St=zt)}else st=ze(st,xt),Ge(X,function(Je,wr,Jr){se=st(Je,wr,Jr),(se<Bt||se===1/0&&St===1/0)&&(St=Je,Bt=se)});return St}function Yl(X,st,xt){if(st==null||xt)return mr(X)||(X=Le(X)),X[Ln(X.length-1)];var St=mr(X)?Yn(X):Le(X),Bt=Lt(St);st=Math.max(Math.min(st,Bt),0);for(var zt=Bt-1,se=0;se<st;se++){var Ce=Ln(se,zt),en=St[se];St[se]=St[Ce],St[Ce]=en}return St.slice(0,st)}function xp(X){return Yl(X,1/0)}function Op(X,st,xt){var St=0;return st=ze(st,xt),$l(or(X,function(Bt,zt,se){return{value:Bt,index:St++,criteria:st(Bt,zt,se)}}).sort(function(Bt,zt){var se=Bt.criteria,Ce=zt.criteria;if(se!==Ce){if(se>Ce||se===void 0)return 1;if(se<Ce||Ce===void 0)return-1}return Bt.index-zt.index}),"value")}function Xl(X,st){return function(xt,St,Bt){var zt=st?[[],[]]:{};return St=ze(St,Bt),Ge(xt,function(se,Ce){var en=St(se,Ce,xt);X(zt,se,en)}),zt}}let Pp=Xl(function(X,st,xt){Kt(X,xt)?X[xt].push(st):X[xt]=[st]}),Od=Xl(function(X,st,xt){X[xt]=st}),Mp=Xl(function(X,st,xt){Kt(X,xt)?X[xt]++:X[xt]=1}),Pd=Xl(function(X,st,xt){X[xt?0:1].push(st)},!0);var Ql=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Pa(X){return X?at(X)?u.call(X):J(X)?X.match(Ql):mr(X)?or(X,U):Le(X):[]}function wp(X){return X==null?0:mr(X)?X.length:De(X).length}function om(X,st,xt){return st in xt}let Md=R(function(X,st){var xt={},St=st[0];if(X==null)return xt;rt(St)?(st.length>1&&(St=$t(St,st[1])),st=ve(X)):(St=om,st=Pr(st,!1,!1),X=Object(X));for(var Bt=0,zt=st.length;Bt<zt;Bt++){var se=st[Bt],Ce=X[se];St(Ce,se,X)&&(xt[se]=Ce)}return xt}),ns=R(function(X,st){var xt=st[0],St;return rt(xt)?(xt=Za(xt),st.length>1&&(St=st[1])):(st=or(Pr(st,!1,!1),String),xt=function(Bt,zt){return!Lr(st,zt)}),Md(X,xt,St)});function ar(X,st,xt){return u.call(X,0,Math.max(0,X.length-(st==null||xt?1:st)))}function rs(X,st,xt){return X==null||X.length<1?st==null||xt?void 0:[]:st==null||xt?X[0]:ar(X,X.length-st)}function Xo(X,st,xt){return u.call(X,st==null||xt?1:st)}function is(X,st,xt){return X==null||X.length<1?st==null||xt?void 0:[]:st==null||xt?X[X.length-1]:Xo(X,Math.max(0,X.length-st))}function Sp(X){return Hr(X,Boolean)}function wd(X,st){return Pr(X,st,!1)}let Sd=R(function(X,st){return st=Pr(st,!0,!0),Hr(X,function(xt){return!Lr(st,xt)})}),Jl=R(function(X,st){return Sd(X,st)});function os(X,st,xt,St){D(st)||(St=xt,xt=st,st=!1),xt!=null&&(xt=ze(xt,St));for(var Bt=[],zt=[],se=0,Ce=Lt(X);se<Ce;se++){var en=X[se],Je=xt?xt(en,se,X):en;st&&!xt?((!se||zt!==Je)&&Bt.push(en),zt=Je):xt?Lr(zt,Je)||(zt.push(Je),Bt.push(en)):Lr(Bt,en)||Bt.push(en)}return Bt}let Tp=R(function(X){return os(Pr(X,!0,!0))});function Ep(X){for(var st=[],xt=arguments.length,St=0,Bt=Lt(X);St<Bt;St++){var zt=X[St];if(!Lr(st,zt)){var se;for(se=1;se<xt&&Lr(arguments[se],zt);se++);se===xt&&st.push(zt)}}return st}function as(X){for(var st=X&&Cd(X,Lt).length||0,xt=Array(st),St=0;St<st;St++)xt[St]=$l(X,St);return xt}let Td=R(as);function kp(X,st){for(var xt={},St=0,Bt=Lt(X);St<Bt;St++)st?xt[X[St]]=st[St]:xt[X[St][0]]=X[St][1];return xt}function ss(X,st,xt){st==null&&(st=X||0,X=0),xt||(xt=st<X?-1:1);for(var St=Math.max(Math.ceil((st-X)/xt),0),Bt=Array(St),zt=0;zt<St;zt++,X+=xt)Bt[zt]=X;return Bt}function mo(X,st){if(st==null||st<1)return[];for(var xt=[],St=0,Bt=X.length;St<Bt;)xt.push(u.call(X,St,St+=st));return xt}function ls(X,st){return X._chain?it(st).chain():st}function nl(X){return Ge(rn(X),function(st){var xt=it[st]=X[st];it.prototype[st]=function(){var St=[this._wrapped];return c.apply(St,arguments),ls(this,xt.apply(it,St))}}),it}Ge(["pop","push","reverse","shift","sort","splice","unshift"],function(X){var st=a[X];it.prototype[X]=function(){var xt=this._wrapped;return xt!=null&&(st.apply(xt,arguments),(X==="shift"||X==="splice")&&xt.length===0&&delete xt[0]),ls(this,xt)}}),Ge(["concat","join","slice"],function(X){var st=a[X];it.prototype[X]=function(){var xt=this._wrapped;return xt!=null&&(xt=st.apply(xt,arguments)),ls(this,xt)}});let Ap=it;var Si=nl(e);Si._=Si;let Ma=Si}},WC={};function Cn(o){var n=WC[o];if(n!==void 0)return n.exports;var t=WC[o]={exports:{}};return f3[o].call(t.exports,t,t.exports,Cn),t.exports}Cn.n=o=>{var n=o&&o.__esModule?()=>o.default:()=>o;return Cn.d(n,{a:n}),n};Cn.d=(o,n)=>{for(var t in n)Cn.o(n,t)&&!Cn.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})};Cn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();Cn.o=(o,n)=>Object.prototype.hasOwnProperty.call(o,n);Cn.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var ih={};Cn.d(ih,{Ay:()=>qz,I0:()=>Z2,nu:()=>J2});var tt=Cn(5706),ie=Cn(1166);function Vi(o){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var e=o.raw;return e.reduce(function(r,i,a){var s=n[a-1],l=e[a-1];return Array.isArray(s)?s=s.join(""):l&&l.slice(-1)==="$"?r=r.slice(0,-1):s=(0,ie.escape)(s),r+s+i})}var g3=function(){return{stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0}},h3=g3,j0=Cn(4193),m3=Cn.n(j0),jr=Cn(7774),v3=function(o){var n=o.$;if(n&&n.prototype&&n.prototype.constructor.name!=="jQuery"){var t=n.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var i=this.get(0);return i&&i.focus(),this},t.bind=function(i,a){return this.on(i,a)},t.unbind=function(i,a){if((0,tt.isObject)(i)){for(var s in i)i.hasOwnProperty(s)&&this.off(s,i[s]);return this}else return this.off(i,a)},t.click=function(i){return i?this.on("click",i):this.trigger("click")},t.change=function(i){return i?this.on("change",i):this.trigger("change")},t.keydown=function(i){return i?this.on("keydown",i):this.trigger("keydown")},t.delegate=function(i,a,s,l){return l||(l=s),this.on(a,i,function(c){c.data=s,l(c)})},t.scrollLeft=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var a=i instanceof Window?i:null;return a?a.pageXOffset:i.scrollLeft||0},t.scrollTop=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var a=i instanceof Window?i:null;return a?a.pageYOffset:i.scrollTop||0};var e=n.prototype.offset;t.offset=function(i){var a,s;return i&&(a=i.top,s=i.left),typeof a<"u"&&this.css("top","".concat(a,"px")),typeof s<"u"&&this.css("left","".concat(s,"px")),e.call(this)},n.map=function(i,a){for(var s=[],l=0;l<i.length;l++)s.push(a(i[l],l));return s};var r=Array.prototype.indexOf;n.inArray=function(i,a,s){return a==null?-1:r.call(a,i,s)},n.Event=function(i,a){if(!(this instanceof n.Event))return new n.Event(i,a);this.type=i,this.isDefaultPrevented=function(){return!1}}}},_e=Cn(9156),dO=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_3=function(o){dO(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(_e.Kx),y3=function(o){dO(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.getByComponent=function(t){var e=this;return this.filter(function(r){return e.getComponent(r)===t})[0]},n.prototype.addComponent=function(t,e){var r=this,i=((0,tt.isArray)(t)?t:[t]).filter(function(a){return!r.hasComponent(a)}).map(function(a){return new _3({component:a})})[0];return this.push(i,e)},n.prototype.getComponent=function(t){return t.get("component")},n.prototype.hasComponent=function(t){var e=this.getByComponent(t);return e&&this.contains(e)},n.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},n.prototype.allComponents=function(){var t=this;return this.map(function(e){return t.getComponent(e)}).filter(function(e){return e})},n.prototype.removeComponent=function(t,e){var r=this,i=((0,tt.isArray)(t)?t:[t]).map(function(a){return r.getByComponent(a)});return this.remove(i,e)},n}(_e.pM),b3=y3,C3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),l0=function(){return l0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},l0.apply(this,arguments)},x3=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},uO=function(){function o(n,t,e){this.debounced=[],this.collections=[],this.cls=[],this.events={},this._em=n,this._name=t;var r=this.name.charAt(0).toLowerCase()+this.name.slice(1),i=(0,tt.isUndefined)(n.config[r])?n.config[this.name]:n.config[r],a=i===!0?{}:i||{};a.pStylePrefix=n.config.pStylePrefix||"",!(0,tt.isUndefined)(i)&&!i&&(a._disable=1),a.em=n,this._config=(0,ie.deepMerge)(e||{},a)}return Object.defineProperty(o.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),o.prototype.render=function(n){},o.prototype.postLoad=function(n){},o.prototype.onInit=function(){},Object.defineProperty(o.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(n){return n?this.config[n]:this.config},o.prototype.__logWarn=function(n,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(n),t)},o.prototype.destroy=function(){this.__destroy()},o.prototype.__destroy=function(){var n,t,e;(n=this.view)===null||n===void 0||n.remove(),(t=this.state)===null||t===void 0||t.stopListening(),(e=this.state)===null||e===void 0||e.clear(),this.debounced.forEach(function(r){return r.cancel()}),this.collections.forEach(function(r){r.stopListening(),r.reset()})},o.prototype.__appendTo=function(){var n=this.getConfig().appendTo;if(n){var t=(0,tt.isElement)(n)?n:document.querySelector(n);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},o}(),Hi=uO,za=function(o){C3(n,o);function n(t,e,r,i,a,s){s===void 0&&(s={});var l=o.call(this,t,e,a)||this;return l.cls=[],l.private=!1,l.all=r,i&&(l.events=i),!s.skipListen&&l.__initListen(),l}return n.prototype.postLoad=function(t){},n.prototype.render=function(t){},n.prototype.getProjectData=function(t){var e={},r=this.storageKey;return r&&(e[r]=t||this.getAll()),e},n.prototype.loadProjectData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=e.all,i=e.onResult,a=e.reset,s=this.storageKey,l={action:"load"},c=r||this.all,u=t[s];if(typeof u=="string")try{u=JSON.parse(u)}catch{this.__logWarn("Data parsing failed",{input:u})}return a&&u&&c.reset(void 0,l),i?u&&i(u,l):u&&(0,ie.isDef)(u.length)&&c.reset(u,l),u},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.all;return e&&e.reset(void 0,t),this},n.prototype.getAll=function(){return x3([],this.all.models,!0)},n.prototype.getAllMap=function(){return this.getAll().reduce(function(t,e){return t[e.get(e.idAttribute)]=e,t},{})},n.prototype.__initListen=function(t){t===void 0&&(t={});var e=this,r=e.all,i=e.em,a=e.events;r&&i&&r.on("add",function(s,l,c){return i.trigger(a.add,s,c)}).on("remove",function(s,l,c){return i.trigger(a.remove,s,c)}).on("change",function(s,l){return i.trigger(a.update,s,s.changedAttributes(),l)}).on("all",this.__catchAllEvent,this),this.cls=[r].concat(t.collections||[]),(t.propagate||[]).forEach(function(s){var l=s.entity,c=s.event;l.on("all",function(u,p,g,h){var y=h||g,_=l0({event:u},y);[i,r].map(function(x){return x.trigger(c,p,_)})})})},n.prototype.__remove=function(t,e){var r=this;e===void 0&&(e={});var i=this.em,a=(0,tt.isString)(t)?this.get(t):t,s=function(){return a&&r.all.remove(a,e),a};return!e.silent&&i?.trigger(this.events.removeBefore,a,s,e),!e.abort&&s()},n.prototype.__catchAllEvent=function(t,e,r,i){var a=this,s=a.em,l=a.events,c=i||r;s&&l.all&&s.trigger(l.all,{event:t,model:e,options:c}),this.__onAllEvent()},n.prototype.__appendTo=function(t){var e=this.config.appendTo;if(e){var r=(0,tt.isElement)(e)?e:document.querySelector(e);if(!r)return this.__logWarn('"appendTo" element not found');r.appendChild(this.render(t))}},n.prototype.__onAllEvent=function(){},n.prototype._createId=function(t){t===void 0&&(t=16);var e=this.getAll(),r=e.length+t,i=this.getAllMap(),a;do a=(0,ie.createId)(r);while(i[a]);return a},n.prototype.__listenAdd=function(t,e){var r=this;t.on("add",function(i,a,s){return r.em.trigger(e,i,s)})},n.prototype.__listenRemove=function(t,e){var r=this;t.on("remove",function(i,a,s){return r.em.trigger(e,i,s)})},n.prototype.__listenUpdate=function(t,e){var r=this;t.on("change",function(i,a){return r.em.trigger(e,i,i.changedAttributes(),a)})},n.prototype.__destroy=function(){var t;this.cls.forEach(function(e){e.stopListening(),e.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},n}(uO),O3=function(){return{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0}},P3=O3,Ns=Cn(7058),pO=function(o){return o.add="device:add",o.addBefore="device:add:before",o.remove="device:remove",o.removeBefore="device:remove:before",o.select="device:select",o.selectBefore="device:select:before",o.update="device:update",o.all="device",o}(pO||{}),fO=pO,gO=function(o){return o.add="page:add",o.addBefore="page:add:before",o.remove="page:remove",o.removeBefore="page:remove:before",o.select="page:select",o.selectBefore="page:select:before",o.update="page:update",o.all="page",o}(gO||{}),c0=gO,M3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w3=function(o){M3(n,o);function n(t,e,r){return o.call(this,e,{module:t,modelConstructor:r})||this}return n.prototype.add=function(t,e){var r=this,i,a=(0,tt.isArray)(t)?t:(0,tt.isUndefined)(t)?void 0:[t];return a=(i=a?.map(function(s){return s instanceof r.newModel?s:new r.newModel(r.module,s)}))!==null&&i!==void 0?i:[void 0],o.prototype.add.call(this,(0,tt.isArray)(t)?a:a[0],e)},n.prototype.preinitialize=function(t,e){this.newModel=e.modelConstructor,this.module=e.module},n}(_e.pM),oh=w3,H0=function(o){return o.dragEnter="canvas:dragenter",o.dragOver="canvas:dragover",o.dragEnd="canvas:dragend",o.dragData="canvas:dragdata",o.drop="canvas:drop",o.spot="canvas:spot",o.spotAdd="canvas:spot:add",o.spotUpdate="canvas:spot:update",o.spotRemove="canvas:spot:remove",o.coords="canvas:coords",o.zoom="canvas:zoom",o.pointer="canvas:pointer",o.refresh="canvas:refresh",o.frameLoad="canvas:frame:load",o.frameLoadHead="canvas:frame:load:head",o.frameLoadBody="canvas:frame:load:body",o.frameUnload="canvas:frame:unload",o}(H0||{}),Pu=H0,S3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),d0=function(){return d0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},d0.apply(this,arguments)},GC=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},KC="__aw",qC="__ah",$C=function(o,n){var t,e=o.get(n),r=(t=o.view)===null||t===void 0?void 0:t.el[n==="width"?"offsetWidth":"offsetHeight"];return(0,tt.isNumber)(e)?e:(0,tt.isString)(e)&&e.endsWith("px")?parseFloat(e):r||0},T3=function(o){S3(n,o);function n(t,e){var r=o.call(this,t,e)||this,i=r.em,a=r.attributes,s=a.styles,l=a.component,c=i.Components,u=c.getConfig(),p=i.Css.getAll(),g={},h={em:i,config:u,frame:r,idMap:g};if(!(0,ie.isComponent)(l)){var y=(0,ie.isObject)(l)?l:{components:l};!y.type&&(y.type="wrapper");var _=c.getType("wrapper").model;r.set("component",new _(y,h))}if(!s)r.set("styles",p);else if(!(0,ie.isObject)(s)){var x=s;(0,tt.keys)(g).length&&(x=(0,tt.isString)(x)?i.Parser.parseCss(x):x,i.Css.checkId(x,{idMap:g})),p.add(x),r.set("styles",p)}return!e.width&&r.set(KC,1),!e.height&&r.set(qC,1),!r.id&&r.set("id",(0,ie.createId)()),r}return n.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(n.prototype,"width",{get:function(){return $C(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return $C(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){var t=this.refFrame;return t?.getComponent()||this.getComponent()},enumerable:!1,configurable:!0}),n.prototype.initRefs=function(){var t=this.refFrame;if((0,tt.isString)(t)){var e=this.module.framesById[t];e&&this.set({refFrame:e},{silent:!0})}},n.prototype.getBoxRect=function(){var t=this.attributes,e=t.x,r=t.y,i=this,a=i.width,s=i.height;return{x:e,y:r,width:a,height:s}},n.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},n.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},n.prototype.getComponent=function(){return this.get("component")},n.prototype.getStyles=function(){return this.get("styles")},n.prototype.disable=function(){this.trigger("disable")},n.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var e=this.collection;return e&&e.remove(this)},n.prototype.getHead=function(){return GC([],this.head,!0)},n.prototype.setHead=function(t){return this.set("head",GC([],t,!0))},n.prototype.addHeadItem=function(t){this.head.push(t)},n.prototype.getHeadByAttr=function(t,e,r){return this.head.filter(function(i){return i.attributes&&i.attributes[t]==e&&(!r||r===i.tag)})[0]},n.prototype.removeHeadByAttr=function(t,e,r){var i=this.getHeadByAttr(t,e,r),a=this.head.indexOf(i);a>=0&&this.head.splice(a,1)},n.prototype.addLink=function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},n.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},n.prototype.addScript=function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},n.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},n.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},n.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",d0({frame:this},t))},n.prototype._emitUnload=function(){this._emitWithEditor(Pu.frameUnload,{frame:this})},n.prototype._emitWithEditor=function(t,e){[this.em,this].forEach(function(r){return r?.trigger(t,e)})},n.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=Ns.A.prototype.toJSON.call(this,t),r=(0,tt.result)(this,"defaults");return t.fromUndo&&delete e.component,delete e.styles,delete e.changesCount,e[KC]&&delete e.width,e[qC]&&delete e.height,e.refFrame&&(e.refFrame=e.refFrame.id,delete e.component),(0,tt.forEach)(e,function(i,a){a.indexOf("_")===0&&delete e[a]}),(0,tt.forEach)(r,function(i,a){e[a]===i&&delete e[a]}),(0,tt.forEach)(["attributes","head"],function(i){(0,tt.isEmpty)(e[i])&&delete e[i]}),e},n}(Ns.A),hO=T3,E3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),k3=function(o){E3(n,o);function n(t,e){e===void 0&&(e=[]);var r=o.call(this,t,e,hO)||this;return r.loadedItems=0,r.itemsToLoad=0,(0,tt.bindAll)(r,"itemLoaded"),r.on("add",r.onAdd),r.on("reset",r.onReset),r.on("remove",r.onRemove),r.forEach(function(i){return r.onAdd(i)}),r}return n.prototype.onAdd=function(t){this.module.framesById[t.id]=t},n.prototype.onReset=function(t,e){var r=this,i=e?.previousModels||[];i.map(function(a){return r.onRemove(a)})},n.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},n.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},n.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},n.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},n.prototype.listenToLoadItems=function(t){var e=this;this.forEach(function(r){return r[t?"on":"off"]("loaded",e.itemLoaded)})},n}(oh),mO=k3,A3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),I3=function(o){A3(n,o);function n(t){var e=this,r=t.em,i=t.config,a=i.scripts,s=i.styles;return e=o.call(this,t,{scripts:a,styles:s})||this,e.set("frames",new mO(t)),e.on("change:zoom",e.onZoomChange),e.on("change:x change:y",e.onCoordsChange),e.on("change:pointer change:pointerScreen",e.onPointerChange),e.listenTo(r,"change:device ".concat(fO.update),e.updateDevice),e.listenTo(r,c0.select,e._pageUpdated),e}return n.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:_e.lK,pointerScreen:_e.lK}},Object.defineProperty(n.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),n.prototype.init=function(){var t=this.em,e=t.Pages._initPage();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},n.prototype._pageUpdated=function(t,e){var r=this.em;r.setSelected(),r.get("readyCanvas")&&r.stopDefault(),e?.getFrames().map(function(i){i.disable(),i._emitUnload()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},n.prototype.updateDevice=function(t){t===void 0&&(t={});var e=this.em,r=e.getDeviceModel(),i=t.frame||e.getCurrentFrameModel();if(i&&r){var a=r.attributes,s=a.width,l=a.height,c=a.minHeight;i.set({width:s,height:l,minHeight:c},{noUndo:1})}},n.prototype.onZoomChange=function(t,e,r){var i=this,a=i.em,s=i.module,l=this.get("zoom");l<1&&this.set("zoom",1),a.trigger(s.events.zoom,{options:r})},n.prototype.onCoordsChange=function(){var t=this,e=t.em,r=t.module;e.trigger(r.events.coords)},n.prototype.onPointerChange=function(){var t=this,e=t.em,r=t.module;e.trigger(r.events.pointer)},n.prototype.getPointerCoords=function(t){t===void 0&&(t=_e.x2.World);var e=this.attributes,r=e.pointer,i=e.pointerScreen;return t===_e.x2.World?r:i},n}(Ns.A),D3=I3,To=Cn(179),kn=Cn(2225),L3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),N3=function(o){L3(n,o);function n(t,e){e===void 0&&(e=[]);var r=o.call(this,t,e,To.A)||this;r.on("add",r.onAdd),r.on("change",r.onChange),r.on("remove",r.onRemove);var i=r.em;r.refreshDbn=(0,tt.debounce)(function(){return r.refresh()},0);var a="".concat(kn.I.resize," styleable:change ").concat(kn.I.input," ").concat(kn.I.update," frame:updated undo redo");return r.listenTo(i,a,function(){return r.refreshDbn()}),r}return Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),n.prototype.refresh=function(){var t=this,e=t.em,r=t.events;e.trigger(r.spot)},n.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},n.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},n.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},n.prototype.__trgEvent=function(t,e){var r=this.module,i=r.em;i.trigger(t,e),this.refreshDbn()},n}(oh),R3=N3,F3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),V3=function(o){F3(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"module",{get:function(){var t,e;return(e=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&e!==void 0?e:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),n.prototype.preinitialize=function(t){this.className=""},n}(_e.Ss),ko=V3,Me=Cn(6294),z3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),j3=function(o){z3(n,o);function n(t,e){t===void 0&&(t={}),e===void 0&&(e=!1);var r=o.call(this,t)||this;return r.itemsView="",r.itemType="type",r.reuseView=!1,r.viewCollection=[],e&&r.listenTo(r.collection,"add",r.addTo),r}return n.prototype.addTo=function(t){this.add(t)},n.prototype.itemViewNotFound=function(t){},n.prototype.add=function(t,e){var r=this,i=r.reuseView,a=r.viewCollection,s=e||null,l=t.get(this.itemType),c;t.view&&i?c=t.view:c=this.renderView(t,l),a.push(c);var u=c.render().el;s?s.appendChild(u):this.$el.append(u)},n.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(r){return t.add(r,e)}),this.$el.append(e),this.onRender(),this},n.prototype.onRender=function(){},n.prototype.onRemoveBefore=function(t,e){},n.prototype.onRemove=function(t,e){},n.prototype.remove=function(t){t===void 0&&(t={});var e=this.viewCollection;return this.onRemoveBefore(e,t),this.clearItems(),_e.Ss.prototype.remove.apply(this,t),this.onRemove(e,t),this},n.prototype.clearItems=function(){var t=this.viewCollection||[]},n}(ko),H3=j3,Lu=function(o){return o.mount="css:mount",o.mountBefore="css:mount:before",o}(Lu||{}),B3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),U3=function(o){B3(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.config=t.config||{};var r=e.model;return e.listenTo(r,"change",e.render),e.listenTo(r,"destroy remove",e.remove),e.listenTo(r.get("selectors"),"change",e.render),r.setView(e),e}return Object.defineProperty(n.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.model.em},enumerable:!1,configurable:!0}),n.prototype.remove=function(){return o.prototype.remove.call(this),this.model.removeView(this),this},n.prototype.updateStyles=function(){this.render()},n.prototype.tagName=function(){return"style"},n.prototype.render=function(){var t=this,e=t.model,r=t.el,i=t.em,a=e.get("important"),s=e.toCSS({important:a}),l={rule:e,ruleView:this,css:s};return i?.trigger(Lu.mountBefore,l),r.innerHTML=l.css,i?.trigger(Lu.mount,l),this},n}(_e.Ss),B0=U3,W3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),G3=function(o){W3(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this},n}(B0),K3=G3,q3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w1=function(o,n){return"".concat(o).concat(n?"-".concat(parseFloat(n)):"")},$3=function(o){q3(n,o);function n(t){var e=o.call(this,t)||this;(0,tt.bindAll)(e,"sortRules");var r=t.config||{};e.atRules={},e.config=r,e.em=r.em,e.pfx=r.stylePrefix||"",e.className=e.pfx+"rules";var i=e.collection;return e.listenTo(i,"add",e.addTo),e.listenTo(i,"reset",e.render),e}return n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){if(this.renderStarted){var r=e||null,i=this.config,a={model:t,config:i},s,l;if(t.get("atRuleType")==="keyframes"){var c=t.getAtRule(),u=this.atRules[c];if(!u){var p=document.createElement("style");u=document.createTextNode(""),p.appendChild(document.createTextNode("".concat(c,"{"))),p.appendChild(u),p.appendChild(document.createTextNode("}")),this.atRules[c]=u,s=p}l=new K3(a),u.appendData(l.render().el.textContent)}else l=new B0(a),s=l.render().el;var g=this.className,h=t.get("mediaText"),y=w1(g),_=y;if(h&&(_=w1(g,this.getMediaWidth(h))),s){var x=r||this.el,P=void 0;try{P=x.querySelector("#".concat(_))}catch{}P||(P=x.querySelector("#".concat(y))),P?.appendChild(s)}return s}},n.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},n.prototype.sortRules=function(t,e){var r=this.em,i=(r.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!i)return 0;var a=i?t:e,s=i?e:t;return a-s},n.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var e=this,r=e.em,i=e.$el,a=e.collection,s=this.className,l=document.createDocumentFragment();i.empty();var c=r.Devices.getAll().pluck("priority").sort(this.sortRules);return c.every(function(u){return u})&&c.unshift(0),c.forEach(function(u){return l.appendChild((0,Me.a_)("div",{id:w1(s,u)}))}),a.each(function(u){return t.addToCollection(u,l)}),i.append(l),i.attr("class",s),this},n}(_e.Ss),u0=$3,vO="text/html",Y3=vO,X3=function(o,n){n===void 0&&(n={});var t=new DOMParser,e=n.htmlType||Y3,r=e===vO,i=r?o:"<div>".concat(o,"</div>"),a=t.parseFromString(i,e),s;if(r){if(n.asDocument)return a;var l=a.head,c=a.body,u=l.querySelectorAll("script");(0,tt.each)(u,function(g){return c.appendChild(g)});var p=[];(0,tt.each)(l.children,function(g){return p.push(g)}),(0,tt.each)(p,function(g,h){return c.insertBefore(g,c.children[h])}),s=c}else s=a.firstChild;return s},Al=function(o){return o.html="parse:html",o.htmlRoot="parse:html:root",o.htmlBefore="parse:html:before",o.css="parse:css",o.cssBefore="parse:css:before",o.all="parse",o}(Al||{});var $o=function(){return $o=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},$o.apply(this,arguments)},Q3="data-gjs-",J3=function(o,n){return n===void 0&&(n={}),{compTypes:[],modelAttrStart:Q3,getPropAttribute:function(t,e){var r=t.replace(this.modelAttrStart,""),i=e?.length||0,a=e?.substring(0,1),s=e?.substring(i-1),l=e==="true"?!0:e==="false"?!1:e;try{l=a=="{"&&s=="}"||a=="["&&s=="]"?JSON.parse(l):l}catch{}return{name:r,value:l}},splitPropsFromAttr:function(t){var e=this;t===void 0&&(t={});var r={},i={};return(0,tt.each)(t,function(a,s){if(s.indexOf(e.modelAttrStart)===0){var l=e.getPropAttribute(s,a);r[l.name]=l.value}else i[s]=a}),{props:r,attrs:i}},parseStyle:function(t){for(var e={};t.indexOf("/*")>=0;){var r=t.indexOf("/*"),i=t.indexOf("*/"),a=i>-1?i+2:void 0;t=t.replace(t.slice(r,a),"")}for(var s=t.split(";"),l=0,c=s.length;l<c;l++){var u=s[l].trim();if(u){var p=u.split(":"),g=p[0].trim(),h=p.slice(1).join(":").trim();e[g]?((0,tt.isArray)(e[g])||(e[g]=[e[g]]),e[g].push(h)):e[g]=h}}return e},parseClass:function(t){for(var e=[],r=t.split(" "),i=0,a=r.length;i<a;i++){var s=r[i].trim();s&&e.push(s)}return e},parseNodeAttr:function(t,e){for(var r,i,a=e||{},s=t.attributes||[],l=s.length,c=!!(!((r=n?.optionsHtml)===null||r===void 0)&&r.convertDataGjsAttributesHyphens),u=c&&!!a.type&&(0,tt.result)((i=o?.Components.getType(a.type))===null||i===void 0?void 0:i.model.prototype,"defaults")||{},p=0;p<l;p++){var g=s[p].nodeName,h=s[p].nodeValue;if(g=="style")a.style=this.parseStyle(h);else if(g=="class")a.classes=this.parseClass(h);else{if(g=="contenteditable")continue;if(g.indexOf(this.modelAttrStart)===0){var y=this.getPropAttribute(g,h),_=y.name;if(c&&!(_ in u)){var x=(0,Me._I)(_);_=x in u?x:_}a[_]=y.value}else h===""&&t[g]===!0&&(h=!0),a.attributes||(a.attributes={}),a.attributes[g]=h}}return a},detectNode:function(t,e){var r;e===void 0&&(e={});var i=this.compTypes,a={};if(i){var s=(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"".concat(this.modelAttrStart,"type"));if(s)a={type:s};else for(var l=0;l<i.length;l++){var c=i[l],u=c.model.isComponent(t,e);if(u){typeof u!="object"&&(u={type:c.id}),a=u;break}}}return a},parseNode:function(t,e){var r;e===void 0&&(e={});var i=((r=t.content)===null||r===void 0?void 0:r.childNodes)||t.childNodes,a=i.length,s=this.detectNode(t,e);if(!s.tagName){var l=t.tagName||"",c=t.namespaceURI||"";s.tagName=l&&c==="http://www.w3.org/1999/xhtml"?l.toLowerCase():l}if(s=this.parseNodeAttr(t,s),!a&&"".concat(t.outerHTML).slice(-2)==="/>"&&(s.void=!0),a&&!s.components&&!e.skipChildren){var u=i[0];a===1&&u.nodeType===3?(!s.type&&(s.type="text"),s.components={type:"textnode",content:u.nodeValue}):s.components=this.parseNodes(t,$o($o({},e),{inSvg:e.inSvg||s.type==="svg"}))}var p=s.components;if(!s.type&&p?.length){for(var g=n.textTypes,h=g===void 0?[]:g,y=n.textTags,_=y===void 0?[]:y,x=!0,P=!1,w=0;w<p.length;w++){var T=p[w],b=T.type;if(!h.includes(b)&&!_.includes(T.tagName)){x=!1;break}b==="textnode"&&(P=!0)}x&&P&&(s.type="text")}return s},parseNodes:function(t,e){var r;e===void 0&&(e={});for(var i=[],a=((r=t.content)===null||r===void 0?void 0:r.childNodes)||t.childNodes,s=a.length,l=0;l<s;l++){var c=a[l],u=i[i.length-1],p=this.parseNode(c,e);if(p.type==="textnode"){if(u?.type==="textnode"){u.content+=p.content;continue}if(!e.keepEmptyTextNodes){var g=c.nodeValue||"",h=l===0||l===s-1,y=g.includes(`
`);if(g!=" "&&!g.trim()&&(h||y))continue}}!p.tagName&&(0,tt.isUndefined)(p.content)||i.push(p)}return i},parse:function(t,e,r){var i,a,s;r===void 0&&(r={});var l=o?.get("Config")||{},c=o?.Parser,u={html:[]},p=$o($o($o({},n.optionsHtml),{htmlType:((i=n.optionsHtml)===null||i===void 0?void 0:i.htmlType)||n.htmlType}),r),g=$o($o({},p),{asDocument:this.__checkAsDocument(t,p)}),h=$o($o({},n),g),y=g.preParser,_=g.asDocument,x={input:(0,tt.isFunction)(y)?y(t,{editor:o?.getEditor()}):t};c?.__emitEvent(Al.htmlBefore,x);var P=x.input,w=(0,tt.isFunction)(h.parserHtml)?h.parserHtml(P,g):X3(P,g),T=w,b=w;_&&(T=b.documentElement,u.doctype=(0,Me.LJ)(b.doctype));var k=T.querySelectorAll("script"),E=k.length,L=(0,tt.isUndefined)(l.allowScripts)?g.allowScripts:l.allowScripts;if(!L)for(;E--;)(a=k[E].parentNode)===null||a===void 0||a.removeChild(k[E]);if((!g.allowUnsafeAttr||!g.allowUnsafeAttrValue)&&this.__sanitizeNode(T,g),e){for(var R=T.querySelectorAll("style"),z=R.length,N="";z--;)N=R[z].innerHTML+N,(s=R[z].parentNode)===null||s===void 0||s.removeChild(R[z]);N&&(u.css=e.parse(N))}c?.__emitEvent(Al.htmlRoot,{input:P,root:T});var j=[];if(_)u.head=this.parseNode(b.head,h),u.root=this.parseNodeAttr(T),j=this.parseNode(b.body,h);else{var D=this.parseNodes(T,h);j=D.length===1&&!h.returnArray?D[0]:D}return u.html=j,c?.__emitEvent(Al.html,{input:P,output:u,options:g}),u},__sanitizeNode:function(t,e){var r=this,i=t.attributes||[],a=t.childNodes||[],s=[];(0,tt.each)(i,function(l){var c=l.nodeName||"",u=l.nodeValue||"";!e.allowUnsafeAttr&&c.startsWith("on")&&s.push(c),!e.allowUnsafeAttrValue&&u.startsWith("javascript:")&&s.push(c)}),s.map(function(l){return t.removeAttribute(l)}),(0,tt.each)(a,function(l){return r.__sanitizeNode(l,e)})},__checkAsDocument:function(t,e){if((0,ie.isDef)(e.asDocument))return e.asDocument;if((0,tt.isFunction)(e.detectDocument))return!!e.detectDocument(t);if(e.detectDocument)return t.toLowerCase().trim().startsWith("<!doctype")}}},_O=J3,Il=function(o){return o.add="data:add",o.addBefore="data:add:before",o.remove="data:remove",o.removeBefore="data:remove:before",o.update="data:update",o.path="data:path",o.pathSource="data:pathSource:",o.all="data",o}(Il||{});var p0="data-collection",Mu="data-collection-item",Ac="dataResolver",YC=function(){function o(n,t,e){this.operator=n,this.statements=t,this.opts=e}return o.prototype.evaluate=function(){var n=this,t=this.statements.map(function(e){var r=new yO({condition:e},n.opts);return r.evaluate()});return this.operator.evaluate(t)},o}(),ah=function(){function o(n,t){this.operationString=n,this.em=t.em}return o.prototype.getOperations=function(){return h6(this.operationsEnum)},o}(),Z3=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),U0=function(o){return o.equals="equals",o.isTruthy="isTruthy",o.isFalsy="isFalsy",o.isDefined="isDefined",o.isNull="isNull",o.isUndefined="isUndefined",o.isArray="isArray",o.isObject="isObject",o.isString="isString",o.isNumber="isNumber",o.isBoolean="isBoolean",o.isDefaultValue="isDefaultValue",o}(U0||{}),t6=function(o){Z3(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.operationsEnum=U0,t}return n.prototype.evaluate=function(t,e){var r;switch(this.operationString){case"equals":return t===e;case"isTruthy":return!!t;case"isFalsy":return!t;case"isDefined":return t!=null;case"isNull":return t===null;case"isUndefined":return t===void 0;case"isArray":return Array.isArray(t);case"isObject":return typeof t=="object"&&t!==null;case"isString":return typeof t=="string";case"isNumber":return typeof t=="number";case"isBoolean":return typeof t=="boolean";case"isDefaultValue":return t instanceof Jc&&t.get("defaultValue")===e;default:return(r=this.em)===null||r===void 0||r.logWarning("Unsupported generic operation: ".concat(this.operationString)),!1}},n}(ah),e6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yu=function(o){return o.and="and",o.or="or",o.xor="xor",o}(yu||{}),n6=function(o){e6(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.operationsEnum=yu,t}return n.prototype.evaluate=function(t){if(!t?.length)return!1;switch(this.operationString){case yu.and:return t.every(Boolean);case yu.or:return t.some(Boolean);case yu.xor:return t.filter(Boolean).length===1;default:return this.em.logWarning("Unsupported boolean operation: ".concat(this.operationString)),!1}},n}(ah),r6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ks=function(o){return o.greaterThan=">",o.lessThan="<",o.greaterThanOrEqual=">=",o.lessThanOrEqual="<=",o.equals="=",o.notEquals="!=",o}(ks||{}),i6=function(o){r6(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.operationsEnum=ks,t}return n.prototype.evaluate=function(t,e){if(typeof t!="number")return!1;switch(this.operationString){case ks.greaterThan:return t>e;case ks.lessThan:return t<e;case ks.greaterThanOrEqual:return t>=e;case ks.lessThanOrEqual:return t<=e;case ks.equals:return t===e;case ks.notEquals:return t!==e;default:return this.em.logWarning("Unsupported number operation: ".concat(this.operationString)),!1}},n}(ah),o6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ua=function(o){return o.contains="contains",o.startsWith="startsWith",o.endsWith="endsWith",o.matchesRegex="matchesRegex",o.equalsIgnoreCase="equalsIgnoreCase",o.trimEquals="trimEquals",o}(ua||{}),a6=function(o){o6(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.operationsEnum=ua,t}return n.prototype.evaluate=function(t,e){if(typeof t!="string")return!1;switch(this.operationString){case ua.contains:return t.includes(e);case ua.startsWith:return t.startsWith(e);case ua.endsWith:return t.endsWith(e);case ua.matchesRegex:return e||this.em.logWarning("Regex pattern must be provided."),new RegExp(e??"").test(t);case ua.equalsIgnoreCase:return t.toLowerCase()===e.toLowerCase();case ua.trimEquals:return t.trim()===e.trim();default:return this.em.logWarning("Unsupported string operation: ".concat(this.operationString)),!1}},n}(ah),s6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yO=function(o){s6(n,o);function n(t,e){var r,i=o.call(this,t)||this;return i.collectionsStateMap={},i.em=e.em,i.collectionsStateMap=(r=e.collectionsStateMap)!==null&&r!==void 0?r:{},i}return n.prototype.evaluate=function(){var t=this.get("condition");if(!t||(0,tt.isBoolean)(t))return!!t;var e=this.getOperator();return e?e.evaluate(this.getResolvedLeftValue(),this.getResolvedRightValue()):!1},n.prototype.getDependentDataVariables=function(){var t=this.get("condition");return t?this.extractDataVariables(t):[]},n.prototype.getOperations=function(){var t=this.getOperator();return!t||t instanceof YC?[]:t.getOperations()},n.prototype.updateCollectionStateMap=function(t){this.collectionsStateMap=t},n.prototype.getOperator=function(){var t={em:this.em,collectionsStateMap:this.collectionsStateMap},e=this.get("condition");if(!(!e||(0,tt.isBoolean)(e))){var r;if(this.isLogicGroup(e)){var i=e.logicalOperator,a=e.statements,s=new n6(i,t);r=new YC(s,a,t)}if(this.isExpression(e)){var l=e.left,s=e.operator,c=ng(l,t);r=this.resolveOperator(c,s)}return r}},n.prototype.resolveOperator=function(t,e){var r=this.em;if(this.isOperatorInEnum(e,U0))return new t6(e,{em:r});if(typeof t=="number")return new i6(e,{em:r});if(typeof t=="string")return new a6(e,{em:r})},n.prototype.extractDataVariables=function(t){var e=this,r=[];return this.isExpression(t)?(Ll(t.left)&&r.push(t.left),Ll(t.right)&&r.push(t.right)):this.isLogicGroup(t)&&t.statements.forEach(function(i){return r.push.apply(r,e.extractDataVariables(i))}),r},n.prototype.isLogicGroup=function(t){return t&&typeof t.logicalOperator<"u"&&Array.isArray(t.statements)},n.prototype.isExpression=function(t){return t&&typeof t.left<"u"&&typeof t.operator=="string"},n.prototype.isOperatorInEnum=function(t,e){return Object.values(e).includes(t)},n.prototype.resolveExpressionSide=function(t){var e=this.get("condition"),r=this,i=r.em,a=r.collectionsStateMap;if(!e||typeof e=="boolean")return e;if(e&&typeof e=="object"&&t in e){var s=e[t];return ng(s,{em:i,collectionsStateMap:a})}},n.prototype.getResolvedLeftValue=function(){return this.resolveExpressionSide("left")},n.prototype.getResolvedRightValue=function(){return this.resolveExpressionSide("right")},n.prototype.toJSON=function(t){var e=this.get("condition");if(typeof e=="object"){var r=JSON.parse(JSON.stringify(e));return r}return e},n}(_e.Kx),l6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rs="data-condition",c6="data-condition-evaluation-changed",Yf="data-condition-output-changed",bO=function(o){l6(n,o);function n(t,e){var r,i=o.call(this,t,e)||this;i.collectionsStateMap={},i.resolverListeners=[],i._previousEvaluationResult=null,i.em=e.em,i.collectionsStateMap=(r=e.collectionsStateMap)!==null&&r!==void 0?r:{};var a=t.condition,s=a===void 0?{}:a,l=new yO({condition:s},{em:i.em});return i._conditionEvaluator=l,i.listenToDataVariables(),i.listenToPropsChange(),i}return n.prototype.defaults=function(){return{type:Rs,condition:{left:"",operator:ua.equalsIgnoreCase,right:""},ifTrue:{},ifFalse:{}}},n.prototype.getCondition=function(){return this._conditionEvaluator.get("condition")},n.prototype.getIfTrue=function(){return this.get("ifTrue")},n.prototype.getIfFalse=function(){return this.get("ifFalse")},n.prototype.getOperations=function(){return this._conditionEvaluator.getOperations()},n.prototype.setCondition=function(t){this.set("condition",t),this._conditionEvaluator.set("condition",t),this.trigger(Yf,this.getDataValue())},n.prototype.setIfTrue=function(t){this.set("ifTrue",t)},n.prototype.setIfFalse=function(t){this.set("ifFalse",t)},n.prototype.isTrue=function(){return this._conditionEvaluator.evaluate()},n.prototype.getDataValue=function(t){t===void 0&&(t=!1);var e=this,r=e.em,i=e.collectionsStateMap,a={em:r,collectionsStateMap:i},s=this.getIfTrue(),l=this.getIfFalse(),c=this.isTrue();return t?c?s:l:ng(c?s:l,a)},n.prototype.resolvesFromCollection=function(){return!1},n.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this._conditionEvaluator.updateCollectionStateMap(t),this.listenToDataVariables(),this.emitConditionEvaluationChange()},n.prototype.listenToPropsChange=function(){var t=this;this.on("change:condition",this.handleConditionChange.bind(this)),this.on("change:condition change:ifTrue change:ifFalse",function(){t.listenToDataVariables()})},n.prototype.handleConditionChange=function(){this.setCondition(this.get("condition"))},n.prototype.listenToDataVariables=function(){this.cleanupListeners(),this.setupConditionDataVariableListeners(),this.setupOutputDataVariableListeners()},n.prototype.setupConditionDataVariableListeners=function(){var t=this;this._conditionEvaluator.getDependentDataVariables().forEach(function(e){t.addListener(e,function(){t.emitConditionEvaluationChange()})})},n.prototype.setupOutputDataVariableListeners=function(){var t=this.isTrue();this.setupOutputVariableListener(this.getIfTrue(),t),this.setupOutputVariableListener(this.getIfFalse(),!t)},n.prototype.setupOutputVariableListener=function(t,e){var r=this;Ll(t)&&this.addListener(t,function(){e&&r.trigger(Yf,t)})},n.prototype.addListener=function(t,e){var r=new zu({em:this.em,resolver:new Jc(t,{em:this.em,collectionsStateMap:this.collectionsStateMap}),onUpdate:e});this.resolverListeners.push(r)},n.prototype.emitConditionEvaluationChange=function(){var t=this.isTrue();this._previousEvaluationResult!==t&&(this._previousEvaluationResult=t,this.trigger(c6,t),this.emitOutputValueChange())},n.prototype.emitOutputValueChange=function(){var t=this.getDataValue();this.trigger(Yf,t)},n.prototype.cleanupListeners=function(){this.resolverListeners.forEach(function(t){return t.destroy()}),this.resolverListeners=[]},n.prototype.toJSON=function(){var t=this.getIfTrue(),e=this.getIfFalse();return{type:Rs,condition:this._conditionEvaluator.toJSON(),ifTrue:t,ifFalse:e}},n}(_e.Kx),W0="data-condition-true-content",G0="data-condition-false-content",Ni=function(){return Ni=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ni.apply(this,arguments)},CO=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},El=function(o){return(0,tt.isArray)(o.get(yi))},eg=function(o){return!!o.get(Ri)},pa=function(o){return!!(El(o)||eg(o))},Dl=function(o){var n=o.parent();return pa(o)&&(!n||!pa(n))};var hu=function(o){o.__symbReady||(o.on("change",o.__upSymbProps),o.__symbReady=!0)},Eo=function(o){var n=o.get(Ri);if(n&&(0,tt.isString)(n)){var t=o.__getAllById()[n];t?(n=t,o.set(Ri,t)):n=0}return n||void 0},ji=function(o){var n=o?.get(yi);return n&&(0,tt.isArray)(n)&&(n.forEach(function(t,e){t&&(0,tt.isString)(t)&&(n[e]=o.__getAllById()[t])}),n=n.filter(function(t){return t&&!(0,tt.isString)(t)})),n||void 0},Nu=function(o,n){n===void 0&&(n="");var t=o?.get(Nc),e=n.split(":")[0],r=n!==e?[n,e]:[n];return t===!0||(0,tt.isArray)(t)&&r.some(function(i){return t.indexOf(i)>=0})},Ra=function(o,n){n===void 0&&(n={});var t=[],e=n.changed;if(n.fromInstance||n.noPropagate||n.fromUndo||e&&Nu(o,e))return t;var r=ji(o)||[],i=Eo(o),a=i?CO([i],ji(i)||[],!0):r;return t=a.filter(function(s){return s!==o}).filter(function(s){return!(e&&Nu(s,e))}),t},Ru=function(o,n){for(var t=o,e=o.parent(n);e&&pa(e);)t=e,e=e.parent(n);return t},sh=function(o,n){n===void 0&&(n={});var t=Eo(o),e=t&&ji(t);!n.skipRefs&&e&&t.set(yi,e.filter(function(r){return r!==o})),o.set(Ri,0),o.components().forEach(function(r){return sh(r,n)})},wu=function(o,n,t,e){e===void 0&&(e={});var r=Eo(o),i=ji(o);!r&&!i||o.em.log(n,{model:o,toUp:t,context:"symbols",opts:e})},d6=function(o,n){n===void 0&&(n={});var t=o.changedAttributes();if(t){var e=o.dataResolverWatchers.getProps(t);if(u6(e),!(0,ie.isEmptyObj)(e)){var r=Ra(o,n);e=XC(e,o),wu(o,"props",r,{opts:n,changed:e}),r.forEach(function(i){var a=XC(e,i);i.set(a,Ni({fromInstance:o},n))})}}},u6=function(o){var n,t,e=["status","open",yi,Ri,Nc];e.forEach(function(r){return delete o[r]}),(n=o.attributes)===null||n===void 0||delete n.id,(0,ie.isEmptyObj)((t=o.attributes)!==null&&t!==void 0?t:{})&&delete o.attributes},XC=function(o,n){var t=Ni({},o);return(0,tt.keys)(o).forEach(function(e){p6(o,e,n)||delete t[e]}),t},p6=function(o,n,t){var e=function(){var r;if(n==="attributes"){var i=o.attributes;return Object.values(i).some(function(a){return!!a?.collectionId})}return!!(!((r=o[n])===null||r===void 0)&&r.collectionId)}();return!Nu(t,n)||e},f6=function(o,n){n===void 0&&(n={});var t=Ra(o,n);wu(o,"classes",t,{opts:n}),t.forEach(function(e){e.set("classes",o.get("classes"),{fromInstance:o})}),o.__changesUp(n)},xO=function(o,n,t,e){var r=e||t||{},i=r.fromInstance,a=r.fromUndo,s={fromInstance:i,fromUndo:a},l=n.opt.temporary;if(e)if(e.add){var h=[],y=!!ji(o),u=Ra(o,Ni(Ni({},s),{changed:"components:add"}));if(u.length){var _=Eo(n);h=ji(_||n)||[],h=CO([],h,!0),h.push(_||n)}!l&&wu(o,"add",u,{opts:e,addedInstances:h.map(function(R){return R.cid}),added:n.cid}),u.forEach(function(R){var z=Ru(R),N=h.filter(function(D){var W=Ru(D,{prev:1});return z&&W&&W===z})[0],j=N||n.clone({symbol:!0,symbolInv:y});R.append(j,Ni({fromInstance:o},e))})}else{var x=Eo(n);if(x&&!e.temporary&&x.set(yi,ji(x).filter(function(L){return L!==n})),!Dl(n)&&!e.skipRefsUp){var P="components:remove",w=e.index,T=n.parent(),b=Ni({fromInstance:n},e),k=Dl(n),E=function(R){var z=R.parent();z&&!Nu(z,P)&&R.remove(b)},u=Nu(T,P)?[]:Ra(n,s);k&&(u=T&&Ra(T,Ni(Ni({},s),{changed:P})),E=function(R){var z=R.components().at(w);z&&z.remove(Ni({fromInstance:T},b))}),!l&&wu(o,"remove",u,{opts:e,removed:n.cid,isSymbNested:k}),u.forEach(E)}}else{var c=n,u=Ra(o,Ni(Ni({},s),{changed:"components:reset"})),p=c.models,g=new Set;wu(o,"reset",u,{components:p}),u.forEach(function(L){var R=L.components(),z=p.map(function(N,j){return o.get(Ac)?N.clone({symbol:pa(N)}):!pa(N)||g.has(N)?(g.add(N),N.clone({symbol:!0})):R.at(j)});R.reset(z,Ni({fromInstance:o},t))})}o.__changesUp(r)};function f0(o){return typeof o=="object"&&[uo,Rs].includes(o?.type)}function Ll(o){return o?.type===uo}function ng(o,n){return f0(o)?(Ll(o)&&Jc.resolveDataResolver(o,n),PO(o,n)):o}function OO(o,n){var t,e=o.type,r;switch(e){case uo:r=new Jc(o,n);break;case Rs:{r=new bO(o,n);break}default:(t=n.em)===null||t===void 0||t.logWarning("Unsupported resolver type: ".concat(e));return}return r}function PO(o,n){var t=OO(o,n);return t?.getDataValue()}var g6=function(o){return!!o&&[Mu,W0,G0].includes(o)};function h6(o){return Object.keys(o).filter(function(n){return isNaN(Number(n))}).map(function(n){return o[n]})}function m6(o){var n=o.collectionsStateMap;if(!n)return!1;var t=Object.keys(n);if(!t.length)return!1;var e=Eo(o);if(!e||e===o)return!1;var r=e.collectionsStateMap,i=Object.keys(r),a=i.every(function(s){return t.includes(s)});return a}function v6(o){var n=Eo(o);return n?n.getId():""}function _6(o){var n=m6(o),t=n?v6(o):null;return{shouldSync:n,itemId:t}}var y6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rg=function(){return rg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},rg.apply(this,arguments)},uo="data-variable",b6=function(o){y6(n,o);function n(t,e){var r=o.call(this,t,e)||this;return r.em=e.em,r.collectionsStateMap=e.collectionsStateMap,r}return n.prototype.defaults=function(){return{type:uo,defaultValue:"",path:"",collectionId:void 0,variableType:void 0,asPlainText:void 0}},Object.defineProperty(n.prototype,"path",{get:function(){var t;return(t=this.get("path"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultValue",{get:function(){var t;return(t=this.get("defaultValue"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"collectionId",{get:function(){return this.get("collectionId")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"variableType",{get:function(){return this.get("variableType")},enumerable:!1,configurable:!0}),n.prototype.resolvesFromCollection=function(){return!!this.collectionId},n.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this.trigger("change")},n.prototype.getResolverPath=function(){var t;if(this.resolvesFromCollection()){var e=this.resolveCollectionVariable();return Ll(e)?(t=e.path)!==null&&t!==void 0?t:"":!1}return this.path},n.prototype.toJSON=function(t){var e=this.defaults(),r=o.prototype.toJSON.call(this,t),i=Object.fromEntries(Object.entries(r).filter(function(a){var s=a[0],l=a[1];return l!==e[s]}));return rg(rg({},i),{type:uo})},n.prototype.getDataValue=function(){var t={em:this.em,collectionsStateMap:this.collectionsStateMap};return n.resolveDataResolver({path:this.path,defaultValue:this.defaultValue,collectionId:this.collectionId,variableType:this.variableType},t)},n.resolveDataSourceVariable=function(t,e){var r,i;return e.em.DataSources.getValue((r=t.path)!==null&&r!==void 0?r:"",(i=t.defaultValue)!==null&&i!==void 0?i:"")},n.resolveDataResolver=function(t,e){var r,i,a,s;if(t.collectionId){var l=n.resolveCollectionVariable(t,e);return Ll(l)?n.resolveDataSourceVariable({path:(r=l.path)!==null&&r!==void 0?r:"",defaultValue:(i=t.defaultValue)!==null&&i!==void 0?i:""},{em:e.em}):l}return n.resolveDataSourceVariable({path:(a=t.path)!==null&&a!==void 0?a:"",defaultValue:(s=t.defaultValue)!==null&&s!==void 0?s:""},{em:e.em})},n.prototype.resolveCollectionVariable=function(){var t=this,e=t.em,r=t.collectionsStateMap;return n.resolveCollectionVariable(this.attributes,{em:e,collectionsStateMap:r})},n.resolveCollectionVariable=function(t,e){var r=t.collectionId,i=r===void 0?"":r,a=t.variableType,s=t.path,l=t.defaultValue,c=l===void 0?"":l,u=e.em,p=e.collectionsStateMap;if(!p)return c;var g=p[i];return g?a?a==="currentItem"?n.resolveCurrentItem(g,s,i,u):g[a]:(u.logError("Missing collection variable type for collection: ".concat(i)),c):c},n.resolveCurrentItem=function(t,e,r,i){var a=t.currentItem;if(!a)return i.logError("Current item is missing for collection: ".concat(r)),"";if(a.type===uo){var s=a.path?"".concat(a.path,".").concat(e):e;return{type:uo,path:s}}return e&&!a[e]?(i.logError("Path not found in current item: ".concat(e," for collection: ").concat(r)),""):e?a[e]:a},n}(_e.Kx),Jc=b6,C6=function(){function o(n){var t=this;this.listeners=[],this.model=new _e.Kx,this.onChange=function(){var e=t.resolver.getDataValue();t.onUpdate(e)},this.em=n.em,this.resolver=n.resolver,this.onUpdate=n.onUpdate,this.listenToResolver()}return o.prototype.createListener=function(n,t,e){return e===void 0&&(e=this.onChange),{obj:n,event:t,callback:e}},o.prototype.listenToResolver=function(){var n=this,t=n.resolver,e=n.model;this.removeListeners();var r=[],i=t.attributes.type;switch(i){case uo:r=this.listenToDataVariable(t);break;case Rs:r=this.listenToConditionalVariable(t);break}r.forEach(function(a){return e.listenTo(a.obj,a.event,a.callback)}),this.listeners=r},o.prototype.listenToConditionalVariable=function(n){return[{obj:n,event:Yf,callback:this.onChange}]},o.prototype.listenToDataVariable=function(n){var t=this,e=this.em,r=[],i=function(){t.listenToResolver(),t.onChange()};r.push(this.createListener(n,"change",i));var a=n.getResolverPath();if(!a)return r;var s=(0,ie.stringToPath)(a||"").join("."),l=e.DataSources.fromPath(a),c=l[0],u=l[1];return c&&r.push(this.createListener(c.records,"add remove reset",i)),u&&r.push(this.createListener(u,"change")),r.push(this.createListener(e.DataSources.all,"add remove reset",i),this.createListener(e,"".concat(Il.path,":").concat(s))),r},o.prototype.removeListeners=function(){var n=this;this.listeners.forEach(function(t){return n.model.stopListening(t.obj,t.event,t.callback)}),this.listeners=[]},o.prototype.destroy=function(){this.removeListeners()},o}(),zu=C6,ig=function(){return ig=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ig.apply(this,arguments)},S1=function(){function o(n,t,e){this.model=n,this.updateFn=t,this.resolverListeners={},this.em=e.em}return o.prototype.bindModel=function(n){this.model=n},o.prototype.setDataValues=function(n,t){t===void 0&&(t={});var e=t.skipWatcherUpdates||t.fromDataSource;return e||this.removeListeners(),this.addDataValues(n,t)},o.prototype.addDataValues=function(n,t){if(t===void 0&&(t={}),!n)return{};var e=this.evaluateValues(n),r=t.skipWatcherUpdates||t.fromDataSource;return r||this.updateListeners(n),e},o.prototype.onCollectionsStateMapUpdate=function(){var n=this,t=this.getValuesResolvingFromCollections();if(t.length){t.forEach(function(r){return n.resolverListeners[r].resolver.updateCollectionsStateMap(n.collectionsStateMap)});var e=this.addDataValues(this.getValuesOrResolver(Object.fromEntries(t.map(function(r){return[r,""]}))));Object.entries(e).forEach(function(r){var i=r[0],a=r[1];return n.updateFn(n.model,i,a)})}},Object.defineProperty(o.prototype,"collectionsStateMap",{get:function(){var n,t=this.model;return(n=t?.collectionsStateMap)!==null&&n!==void 0?n:{}},enumerable:!1,configurable:!0}),o.prototype.updateListeners=function(n){var t=this,e=this,r=e.em,i=e.collectionsStateMap;this.removeListeners(Object.keys(n));for(var a=Object.keys(n),s=function(u){var p=a[u],g=n[p];if(!f0(g))return"continue";var h=OO(g,{em:r,collectionsStateMap:i});l.resolverListeners[p]=new zu({em:r,resolver:h,onUpdate:function(y){return t.updateFn(t.model,p,y)}})},l=this,c=0;c<a.length;c++)s(c)},o.prototype.evaluateValues=function(n){for(var t=this,e=t.em,r=t.collectionsStateMap,i=ig({},n),a=Object.keys(n),s=0;s<a.length;s++){var l=a[s],c=n[l];f0(c)&&(i[l]=PO(c,{em:e,collectionsStateMap:r}))}return i},o.prototype.removeListeners=function(n){var t=this,e=n||Object.keys(this.resolverListeners);return e.forEach(function(r){var i,a;t.resolverListeners[r]&&((a=(i=t.resolverListeners[r]).destroy)===null||a===void 0||a.call(i),delete t.resolverListeners[r])}),e},o.prototype.getValuesOrResolver=function(n){if(!n)return{};for(var t=ig({},n),e=Object.keys(t),r=0;r<e.length;r++){var i=e[r],a=this.resolverListeners[i];a&&(t[i]=a.resolver.toJSON())}return t},o.prototype.getAllDataResolvers=function(){for(var n={},t=Object.keys(this.resolverListeners),e=0;e<t.length;e++){var r=t[e];n[r]=this.resolverListeners[r].resolver.toJSON()}return n},o.prototype.getValuesResolvingFromCollections=function(){var n=this,t=Object.keys(this.resolverListeners).filter(function(e){return n.resolverListeners[e].resolver.resolvesFromCollection()});return t},o.prototype.destroy=function(){this.removeListeners()},o}(),ao=function(){return ao=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ao.apply(this,arguments)},x6=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Xf={fromDataSource:!0,avoidStore:!0},Ic="__data_values",O6=function(){function o(n,t){var e=this;this.model=n,this.options=t,this.onPropertyUpdate=function(r,i,a){r?.set(i,a,Xf)},this.onAttributeUpdate=function(r,i,a){var s;e.isComponent(r)&&r?.addAttributes((s={},s[i]=a,s),Xf)},this.onStyleUpdate=function(r,i,a){var s;r?.addStyle((s={},s[i]=a,s),ao(ao({},Xf),{partial:!0,avoidStore:!0}))},this.propertyWatcher=new S1(n,this.onPropertyUpdate,t),this.attributeWatcher=new S1(n,this.onAttributeUpdate,t),this.styleWatcher=new S1(n,this.onStyleUpdate,t)}return o.prototype.bindModel=function(n){this.model=n,this.watchers.forEach(function(t){return t.bindModel(n)}),this.updateSymbolOverride()},o.prototype.addProps=function(n,t){var e;t===void 0&&(t={});var r=(e=n[Ic])!==null&&e!==void 0?e:{},i=this.filterProps(n),a=ao(ao({},n),this.propertyWatcher.addDataValues(ao(ao({},i),r.props),t));this.shouldProcessProp("attributes",n,r)&&(a.attributes=this.processAttributes(n,r,t)),this.shouldProcessProp("style",n,r)&&(a.style=this.processStyles(n,r,t));var s=t.skipWatcherUpdates||t.fromDataSource;return s||(this.updateSymbolOverride(),a[Ic]={props:this.propertyWatcher.getAllDataResolvers(),style:this.styleWatcher.getAllDataResolvers(),attributes:this.attributeWatcher.getAllDataResolvers()}),a},o.prototype.getProps=function(n){var t=this.getValueOrResolver("props",n),e=ao({},t);return delete e[Ic],(0,tt.isEmpty)(n.attributes)||(e.attributes=this.getValueOrResolver("attributes",n.attributes)),(0,tt.isObject)(n.style)&&!(0,tt.isEmpty)(n.style)&&(e.style=this.getValueOrResolver("styles",n.style)),e},o.prototype.getValueOrResolver=function(n,t){var e;switch(n){case"props":e=this.propertyWatcher;break;case"styles":e=this.styleWatcher;break;case"attributes":e=this.attributeWatcher;break;default:{var r=this.options.em;return r?.logError("Invalid target '".concat(n,"'. Must be 'props', 'styles', or 'attributes'.")),{}}}return t?e.getValuesOrResolver(t):e.getAllDataResolvers()},o.prototype.removeAttributes=function(n){this.attributeWatcher.removeListeners(n),this.updateSymbolOverride()},o.prototype.disableStyles=function(){this.styleWatcher.removeListeners(),this.styleWatcher.destroy()},o.prototype.onCollectionsStateMapUpdate=function(){this.watchers.forEach(function(n){return n.onCollectionsStateMapUpdate()})},o.prototype.destroy=function(){this.watchers.forEach(function(n){return n.destroy()})},Object.defineProperty(o.prototype,"watchers",{get:function(){return[this.propertyWatcher,this.styleWatcher,this.attributeWatcher]},enumerable:!1,configurable:!0}),o.prototype.isComponent=function(n){return n instanceof lr},o.prototype.shouldProcessProp=function(n,t,e){var r=n==="attributes"?this.attributeWatcher:this.styleWatcher,i=e[n],a=!!t[n],s=i&&Object.keys(i).length>0,l=i&&Object.keys(r.getAllDataResolvers()).length>0;return a||s||l},o.prototype.updateSymbolOverride=function(){var n,t=this.model;if(this.isComponent(t)){var e=!!Object.keys((n=t?.collectionsStateMap)!==null&&n!==void 0?n:{}).length;if(e){var r=this.propertyWatcher.getValuesResolvingFromCollections(),i=this.attributeWatcher.getValuesResolvingFromCollections(),a=x6(["locked","layerable",Ic],r,!0),s=Object.keys(i).length;s&&a.push("attributes");var l=Ra(t);l.forEach(function(c){c.setSymbolOverride(a,{fromDataSource:!0})}),t.setSymbolOverride(a,{fromDataSource:!0})}}},o.prototype.filterProps=function(n){var t=["components","dataResolver",Ic],e=Object.fromEntries(Object.entries(n).filter(function(r){var i=r[0];return!t.includes(i)}));return e},o.prototype.processAttributes=function(n,t,e){var r;return e===void 0&&(e={}),this.attributeWatcher.setDataValues(ao(ao({},n.attributes),(r=t.attributes)!==null&&r!==void 0?r:{}),e)},o.prototype.processStyles=function(n,t,e){var r;return e===void 0&&(e={}),typeof n=="string"?(this.styleWatcher.removeListeners(),n):this.styleWatcher.setDataValues(ao(ao({},n.style),(r=t.style)!==null&&r!==void 0?r:{}),e)},o}(),P6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$r=function(){return $r=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},$r.apply(this,arguments)},M6=_O(),g0=function(o){return(0,tt.isArray)(o)?o[o.length-1]:o},w6=function(o){P6(n,o);function n(t,e){e===void 0&&(e={});var r=this,i=e.em,a=new O6(void 0,{em:i});return r=o.call(this,t,$r($r({},e),{dataResolverWatchers:a}))||this,r.views=[],r.collectionsStateMap={},a.bindModel(r),r.dataResolverWatchers=a,r.em=e.em,r.opt=e,r}return n.prototype.get=function(t,e){return e?.skipResolve?this.dataResolverWatchers.getValueOrResolver("props")[t]:o.prototype.get.call(this,t)},n.prototype.set=function(t,e,r){var i,a,s={skipWatcherUpdates:!1,fromDataSource:!1},l,c;typeof t=="object"?(l=t,c=e||s):typeof t=="string"?(l=(i={},i[t]=e,i),c=r||s):(l={},c=s),this.dataResolverWatchers=(a=this.dataResolverWatchers)!==null&&a!==void 0?a:c.dataResolverWatchers;var u=this.dataResolverWatchers.addProps(l,c);return o.prototype.set.call(this,u,c)},n.prototype.parseStyle=function(t){return M6.parseStyle(t)},n.prototype.extendStyle=function(t){return $r($r({},this.getStyle("",{skipResolve:!0})),t)},n.prototype.getStyle=function(t,e){e===void 0&&(e={});var r=this.get("style"),i=(0,tt.isString)(r)?this.parseStyle(r):(0,tt.isObject)(r)?$r({},r):{};delete i.__p;var a=!t||t===""||(0,tt.isObject)(t);if(!e.skipResolve)return a?i:i[t];var s=this.dataResolverWatchers.getValueOrResolver("styles",i);return a?s:s[t]},n.prototype.setStyle=function(t,e){var r=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,tt.isString)(t)&&(t=this.parseStyle(t));var i=this.getStyle("",{skipResolve:!0});e.partial||e.avoidStore?(e.avoidStore=!0,t.__p=!0):delete t.__p;var a=$r({},t),s=$r({},a);(0,tt.keys)(s).forEach(function(p){if(s[p]===""){delete s[p];return}});var l=this.dataResolverWatchers.addProps({style:s},e);this.set(l,e),s=l.style;var c=Object.keys((0,ie.shallowDiff)(i,a)),u=c.reduce(function(p,g){var h;return $r($r({},p),(h={},h[g]=s[g],h))},{});return delete u.__p,(0,tt.keys)(u).forEach(function(p){var g=r.em;e.noEvent||(r.trigger("change:style:".concat(p)),g&&(g.trigger("styleable:change",r,p,e),g.trigger("styleable:change:".concat(p),r,p,e)))}),s},n.prototype.getView=function(t){var e=this,r=e.views,i=e.em,a=t||i?.getCurrentFrameModel();return a?r.find(function(s){return s.frameView===a.view}):r[0]},n.prototype.setView=function(t){var e=this.views;!e.includes(t)&&e.push(t)},n.prototype.removeView=function(t){var e=this.views;e.splice(e.indexOf(t),1)},n.prototype.updateView=function(){this.views.forEach(function(t){return t.updateStyles()})},n.prototype.addStyle=function(t,e,r){var i;e===void 0&&(e=""),r===void 0&&(r={}),typeof t=="string"?t=(i={},i[t]=e,i):r=e||{},r.addStyle=t,t=this.extendStyle(t),this.setStyle(t,r)},n.prototype.removeStyle=function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},n.prototype.styleToString=function(t){t===void 0&&(t={});var e=[],r=t.style||this.getStyle(t),i=t.important,a=function(l){var c=(0,tt.isArray)(i)?i.indexOf(l)>=0:i,u=l.substring(0,2),p=u==="__";if(p)return"continue";var g=r[l],h=(0,tt.isArray)(g)?g:[g];h.forEach(function(y){var _="".concat(y).concat(c?" !important":"");_&&e.push("".concat(l,":").concat(_,";"))})};for(var s in r)a(s);return e.join("")},n.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},n.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},n.prototype.onCollectionsStateMapUpdate=function(t){this.collectionsStateMap=t,this.dataResolverWatchers.onCollectionsStateMapUpdate()},n.prototype.clone=function(t,e){var r=this.dataResolverWatchers.getProps(this.attributes),i=$r($r({},r),t),a=$r($r({},this.opt),e),s=this.constructor;return new s(i,a)},n.prototype.toJSON=function(t,e){if(t?.fromUndo)return $r({},o.prototype.toJSON.call(this,t));var r=$r($r({},this.attributes),e),i=this.dataResolverWatchers.getProps(r);return i},n}(_e.Kx),MO=w6,S6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),co=function(){return co=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},co.apply(this,arguments)},Qf=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},T1=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Lc=function(o,n){if(n===void 0&&(n=[]),!o)return[];var t=(0,tt.isArray)(o)||(0,tt.isFunction)(o.map)?o:[o];return t.map(function(e){n.push(e.getId()),Lc(e.components().models,n)}),n},wO=function(o,n,t){n===void 0&&(n={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var e=t.visitedCmps,r=t.updateOptions||{},i=(0,tt.isArray)(o)?o:[o];return i.map(function(a){var s=a.attributes,l=s===void 0?{}:s,c=a.components,u=a.tagName,p=a.style,g=l.id,h=l.draggable,y=Qf(l,["id","draggable"]),_=a;if(g){if(e[g])e[g].push(_),g=lr.getNewId(n),_.attributes.id=g;else if(e[g]=[],n[g]){_=n[g];var x=r.onAttributes,P=r.onStyle,w=_;u&&w.set({tagName:u},co(co({},t),{silent:!0})),x?x({item:a,component:w,attributes:y,options:t}):(0,tt.keys)(y).length&&w.addAttributes(y,co({},t)),P?P({item:a,component:w,style:p,options:t}):(0,tt.keys)(p).length&&w.addStyle(p,t)}}var T=(0,tt.isFunction)(_.components)?_:null;if(c){var b=wO(c,n,t);T?T.components().reset(b,t):_.components=b}else T&&T.components().reset([],t);return _})},T6=function(o){S6(n,o);function n(t,e){var r=o.call(this,t,e)||this;r.opt=e,r.listenTo(r,"add",r.onAdd),r.listenTo(r,"remove",r.removeChildren),r.listenTo(r,"reset",r.resetChildren);var i=e.em,a=e.config;return r.config=a,r.em=i,r.domc=e.domc||i?.Components,r}return Object.defineProperty(n.prototype,"events",{get:function(){var t;return(t=this.domc)===null||t===void 0?void 0:t.events},enumerable:!1,configurable:!0}),n.prototype.resetChildren=function(t,e){var r=this;e===void 0&&(e={});var i=this,a=e.previousModels||[],s=a.filter(function(u){return!t.get(u.cid)}),l=Lc(t),c=Lc(a).filter(function(u){return l.indexOf(u)>=0});e.keepIds=(e.keepIds||[]).concat(c),s.forEach(function(u){return r.removeChildren(u,i,e)}),t.each(function(u){return r.onAdd(u)})},n.prototype.resetFromString=function(t,e){var r,i;t===void 0&&(t=""),e===void 0&&(e={}),e.keepIds=Lc(this);var a=this,s=a.domc,l=a.em,c=a.parent,u=l?.Css,p=s?.allById()||{},g=this.parseString(t,e),h=wO(g,p,e),y=e.visitedCmps,_=y===void 0?{}:y;Object.keys(_).forEach(function(x){var P=_[x];if(P.length){var w=u?.getRules("#".concat(x))||[];w.length&&P.forEach(function(T){w.forEach(function(b){var k=b.clone();k.set("selectors",["#".concat(T.attributes.id)]),u.getAll().add(k)})})}}),this.reset(h,e),l?.trigger("component:content",c,e,t),(i=(r=c).__checkInnerChilds)===null||i===void 0||i.call(r)},n.prototype.removeChildren=function(t,e,r){var i=this;if(r===void 0&&(r={}),!!t){var a=this,s=a.domc,l=a.em,c=r.temporary||r.fromUndo;if(t.prevColl=this,!c){var u=t.getId(),p=l.Selectors.getAll(),g=l.Css.getAll(),h=(r.keepIds||[]).indexOf(u)<0,y=s?s.allById():{};delete y[u];var _=h?g.remove(g.filter(function(T){return T.getSelectors().getFullString()==="#".concat(u)}),r):[];p.remove(_.map(function(T){return T.getSelectors().at(0)})),t.opt.temporary||(l.Commands.run("core:component-style-clear",{target:t}),t.views.forEach(function(T){T.scriptContainer&&t.emitWithEditor(kn.I.scriptUnmount,{component:t,view:T,el:T.el})}),t.removed(),t.trigger("removed"),l.trigger(kn.I.remove,t),s&&eg(t)&&Dl(t)&&s.symbols.__trgEvent(s.events.symbolInstanceRemove,{component:t},!0));var x=t.components();x.forEach(function(T){xO(T,T,x,co(co({},r),{skipRefsUp:!0})),i.removeChildren(T,e,r)})}var P=t.components();if(l.stopListening(P),l.stopListening(t),l.stopListening(t.get("classes")),t.__postRemove(),!t.opt.temporary){var w=function(T){T.emitWithEditor(kn.I.removed,T,{removeOptions:r}),T.components().forEach(function(b){return w(b)})};w(t)}}},n.prototype.model=function(t,e){var r=e.collection.opt,i=r.em,a,s=i.Components.componentTypes;e.em=i,e.config=r.config,e.componentTypes=s,e.domc=r.domc;for(var l=0;l<s.length;l++){var c=s[l].id;if(c==t.type){a=s[l].model;break}}return a||(a=s[s.length-1].model,i&&t.type&&i.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new a(t,e)},n.prototype.parseString=function(t,e){e===void 0&&(e={});var r=this,i=r.em,a=r.domc,s=r.parent,l=s?.is("wrapper"),c=e.asDocument&&l,u=i.Css,p=i.Parser.parseHtml(t,co({asDocument:c},e.parserOptions)),g=p.html;if(l&&p.doctype){var h=s,y=p.html||{},_=y.components,x=_===void 0?[]:_,P=Qf(y,["components"]),w=p.head||{},T=w.components,b=Qf(w,["components"]);g=x,h.set(P,e),h.head.set(b,e),h.head.components(T,e),h.docEl.set(p.root,e),h.set({doctype:p.doctype})}if(lr.checkId(g,p.css,a.componentsById,e),p.css&&u&&!e.temporary){var k=e.at,E=Qf(e,["at"]);u.addCollection(p.css,co(co({},E),{extend:1}))}return g},n.prototype.add=function(t,e){var r=this;if(e===void 0&&(e={}),t!=null){e.keepIds=T1(T1([],e.keepIds||[],!0),Lc(e.previousModels),!0),(0,tt.isString)(t)?t=this.parseString(t,e):(0,tt.isArray)(t)&&(t=T1([],t,!0),t.forEach(function(a,s){if((0,tt.isString)(a)){var l=r.parseString(a,e);t[s]=(0,tt.isArray)(l)&&!l.length?null:l}}));var i=((0,tt.isArray)(t)?t:[t]).filter(Boolean).map(function(a){return r.processDef(a)});return t=(0,tt.isArray)(t)?(0,tt.flatten)(i,1):i[0],o.prototype.add.call(this,t,e)}},n.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var e=this,r=e.em,i=e.config,a=i===void 0?{}:i,s=a.processor,l=t;if(s){l=co({},l);var c=s(l);c&&((0,tt.each)(l,function(x,P){return delete l[P]}),(0,tt.extend)(l,c))}if(l.$$typeof&&typeof l.props=="object"){l=co({},l),l.props=co({},l.props);var u=r.Components,p=r.Parser,g=p.parserHtml;(0,tt.each)(l,function(x,P){(0,tt.includes)(["props","type"],P)||delete l[P]});var h=l.props,y=h.children;delete h.children,delete l.props;var _=g.splitPropsFromAttr(h);l.attributes=_.attrs,y&&(l.components=y),l.type?u.getType(l.type)||(l.tagName=l.type,delete l.type):l.type="textnode",(0,tt.extend)(l,_.props)}return l},n.prototype.onAdd=function(t,e,r){r===void 0&&(r={});var i=this,a=i.domc,s=i.em,l=t.getStyle(),c=s&&s.getConfig().avoidInlineStyle;if(a&&a.Component.ensureInList(t),!(0,tt.isEmpty)(l)&&!c&&s&&s.getConfig().forceClass&&!r.temporary){var u=t.cid;s.Css.setClassRule(u,l),t.setStyle({}),t.addClass(u)}if(t.__postAdd({recursive:!0}),s&&!r.temporary){var p=function(g){s.trigger(kn.I.add,g,r),g.components().forEach(function(h){return p(h)})};p(t),a&&eg(t)&&Dl(t)&&a.symbols.__trgEvent(a.events.symbolInstanceAdd,{component:t},!0)}},n}(_e.pM),Fu=T6,E6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zf=1,E1=2,SO=function(o){E6(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t,e)||this,i=e.config,a=i===void 0?{}:i,s=r.get("name"),l=r.get("label");s?l||r.set("label",s):r.set("name",l);var c=r.get("name"),u=a.escapeName,p=u?u(c):n.escapeName(c);return r.set("name",p),r.em=e.em,r}return n.prototype.defaults=function(){return{name:"",label:"",type:zf,active:!0,private:!1,protected:!1,_undo:!0}},n.prototype.isId=function(){return this.get("type")===E1},n.prototype.isClass=function(){return this.get("type")===zf},n.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.escape,r=this.get("name"),i="";switch(this.get("type")){case zf:i=".";break;case E1:i="#";break}return i+(e?e(r):r)},n.prototype.toString=function(){return this.getFullName()},n.prototype.getName=function(){return this.get("name")||""},n.prototype.getLabel=function(){return this.get("label")||""},n.prototype.setLabel=function(t){return this.set("label",t)},n.prototype.getActive=function(){return!!this.get("active")},n.prototype.setActive=function(t){return this.set("active",t)},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=this.em,r=_e.Kx.prototype.toJSON.call(this,[t]),i=(0,tt.result)(this,"defaults");if(e?.getConfig().avoidDefaults){(0,tt.forEach)(i,function(s,l){r[l]===s&&delete r[l]}),r.label===r.name&&delete r.label;var a=(0,tt.keys)(r).length;a===1&&r.name&&(r=r.name),a===2&&r.name&&r.type&&(r=this.getFullName())}return r},n.escapeName=function(t){return"".concat(t).trim().replace(/\s+/g,"-")},n.TYPE_CLASS=zf,n.TYPE_ID=E1,n}(_e.Kx),Ci=SO;SO.prototype.idAttribute="name";var k6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),TO=function(o,n){return o.reduce(function(t,e,r){return t.concat(TO(o.slice(r+1),"".concat(n).concat(e)))},[n])},EO=function(o){k6(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||Ci.TYPE_CLASS)},n.prototype.getStyleable=function(){return(0,tt.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},n.prototype.getValid=function(t){var e=t===void 0?{}:t,r=e.noDisabled;return(0,tt.filter)(this.models,function(i){return!i.get("private")}).filter(function(i){return r?i.get("active"):1})},n.prototype.getFullString=function(t,e){e===void 0&&(e={});var r=[],i=t||this;return i.forEach(function(a){return r.push(a.getFullName(e))}),e.sort&&r.sort(),r.join("").trim()},n.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.combination,r=t.array,i=[],a=this.map(function(s){return s.getFullName(t)}).sort();return e?a.forEach(function(s,l){i=i.concat(TO(a.slice(l+1),s))}):i=a,r?i:e?i.join(","):i.join("")},n}(_e.pM),Ls=EO;EO.prototype.model=Ci;var A6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),QC=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},I6=function(o){A6(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},n.prototype.getId=function(){return this.get("id")},n.prototype.getLabel=function(){return this.get("label")},n}(_e.Kx),ju=I6;function kO(o){var n=new Set,t=new Map,e={items:[]};o.forEach(function(i){var a=i.category;if(a){n.add(a);var s=t.get(a);s?s.push(i):t.set(a,[i])}else e.items.push(i)});var r=Array.from(n).map(function(i){return{category:i,items:t.get(i)||[]}});return QC(QC([],r,!0),[e],!1)}var D6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),JC="category",AO=function(o){D6(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initCategory=function(t){var e=t.get(JC),r=e instanceof ju;if(e&&!r){(0,tt.isString)(e)?e={id:e,label:e}:(0,ie.isObject)(e)&&!e.id&&(e.id=e.label);var i=this.getCategories().add(e);return t.set(JC,i,{silent:!0}),i}else if(r){var i=e;return this.getCategories().add(i),i}},n}(_e.pM),L6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),IO=function(o){L6(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t,e)||this,i=e.events,a=e.em,s=i?.update;return a&&s&&r.on("change",function(l,c){return a.trigger(s,{category:l,changes:l.changedAttributes(),options:c})}),r}return n.prototype.add=function(t,e){var r=(0,tt.isArray)(t)?t:[t];return r.forEach(function(i){return i&&(i.id=(0,ie.normalizeKey)("".concat(i.id)))}),o.prototype.add.call(this,t,e)},n.prototype.get=function(t){return o.prototype.get.call(this,(0,tt.isString)(t)?(0,ie.normalizeKey)(t):t)},n}(_e.pM),og=IO;IO.prototype.model=ju;var K0=function(o){return o.select="trait:select",o.value="trait:value",o.categoryUpdate="trait:category:update",o.custom="trait:custom",o.all="trait",o}(K0||{}),h0=K0,N6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ag=function(){return ag=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ag.apply(this,arguments)},R6=function(o){N6(n,o);function n(t,e){var r=o.call(this,t)||this,i=r.attributes,a=i.target,s=i.name;return!r.get("id")&&r.set("id",s),a&&r.setTarget(a),r.em=e,r}return n.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"category",{get:function(){var t=this.get("category");return t instanceof ju?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),n.prototype.setTarget=function(t){if(t){var e=this.attributes,r=e.name,i=e.changeProp,a=e.value,s=e.getValue;this.target=t,this.unset("target");var l=i?"change:".concat(r):"change:attributes:".concat(r);this.listenTo(t,l,this.targetUpdated);var c=a||(s?void 0:this.getValue());!(0,tt.isUndefined)(c)&&this.set({value:c},{silent:!0})}},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(t){var e;t===void 0&&(t={});var r=t.locale,i=r===void 0?!0:r,a=this.getId(),s=this.get("label")||this.getName();return i&&((e=this.em)===null||e===void 0?void 0:e.t("traitManager.traits.labels.".concat(a)))||s},n.prototype.getValue=function(t){return this.getTargetValue(t)},n.prototype.setValue=function(t,e){var r=this;e===void 0&&(e={});var i=this,a=i.component,s=i.em,l=e.partial,c={},u=this.attributes.setValue;if(u){u({value:t,component:a,editor:s?.getEditor(),trait:this,partial:!!l,options:e,emitUpdate:function(){return r.targetUpdated()}});return}l&&(c.avoidStore=!0),this.setTargetValue(t,c)},n.prototype.getDefault=function(){return this.get("default")},n.prototype.getOptions=function(){return this.get("options")||[]},n.prototype.getOption=function(t){var e=this,r=(0,ie.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(i){return e.getOptionId(i)===r})[0]},n.prototype.getOptionId=function(t){return t.id||t.value},n.prototype.getOptionLabel=function(t,e){var r;e===void 0&&(e={});var i=e.locale,a=i===void 0?!0:i,s=(0,tt.isString)(t)?this.getOption(t):t,l=this.getOptionId(s),c=s.label||s.name||l,u=this.getName();return a&&((r=this.em)===null||r===void 0?void 0:r.t("traitManager.traits.options.".concat(u,".").concat(l)))||c},n.prototype.getCategoryLabel=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.category,a=t.locale,s=a===void 0?!0:a,l=i?.getId(),c=i?.getLabel();return s&&r?.t("traitManager.categories.".concat(l))||c||""},n.prototype.runCommand=function(){var t=this.em,e=this.attributes.command;if(e&&t)return(0,tt.isString)(e)?t.Commands.run(e):e(t.Editor,this)},n.prototype.props=function(){return this.attributes},n.prototype.targetUpdated=function(){var t=this,e=t.component,r=t.em,i=this.getTargetValue({useType:!0});this.set({value:i},{fromTarget:1});var a={trait:this,component:e,value:i};e.trigger(h0.value,a),r?.trigger(h0.value,a),r?.trigger("trait:update",a)},n.prototype.getTargetValue=function(t){var e;t===void 0&&(t={});var r=this,i=r.component,a=r.em,s=this.getName(),l=this.get("getValue"),c,u=t.skipResolve;if(l?c=l({editor:a?.getEditor(),trait:this,component:i}):this.changeProp?(c=i.get(s),u&&(c=i.dataResolverWatchers.getValueOrResolver("props",(e={},e[s]=c,e))[s])):c=i.getAttributes({skipResolve:u})[s],t.useType){var p=this.getType();if(p==="checkbox"){var g=this.attributes,h=g.valueTrue,y=g.valueFalse;!(0,tt.isUndefined)(h)&&h===c?c=!0:!(0,tt.isUndefined)(y)&&y===c&&(c=!1)}}return(0,tt.isUndefined)(c)?"":c},n.prototype.setTargetValue=function(t,e){var r;e===void 0&&(e={});var i=this,a=i.component,s=i.attributes,l=this.getName();if(!(0,tt.isUndefined)(t)){var c=t;if(t==="false"?c=!1:t==="true"&&(c=!0),this.getType()==="checkbox"){var u=s.valueTrue,p=s.valueFalse;c&&!(0,tt.isUndefined)(u)&&(c=u),!c&&!(0,tt.isUndefined)(p)&&(c=p)}var g=(r={},r[l]=c,r);g.__p=e.avoidStore?null:void 0,this.changeProp?a.set(g,e):a.addAttributes(g,e)}},n.prototype.setValueFromInput=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r={});var i={value:t};this.set(i,ag(ag({},r),{avoidStore:1})),e&&(this.set("value","",r),this.set(i,r))},n.prototype.getInitValue=function(){var t=this.component,e=this.getName(),r;if(t){var i=t.get("attributes");r=this.changeProp?t.get(e):i[e]}return r||this.get("value")||this.get("default")},n}(_e.Kx),sg=R6,F6=function(){function o(n){n===void 0&&(n={}),this.config=n}return o.prototype.build=function(n,t){return(0,tt.isString)(n)?this.buildFromString(n,t):new sg(n,t)},o.prototype.buildFromString=function(n,t){var e={name:n,type:"text"};switch(n){case"target":e.type="select",e.default=!1,e.options=this.config.optionsTarget;break}return new sg(e,t)},o}(),V6=F6,z6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),j6=function(o){z6(n,o);function n(t,e){var r=o.call(this,t)||this;r.categories=new og;var i=e.em;r.em=i,r.categories=new og([],{em:i,events:{update:h0.categoryUpdate}}),r.on("add",r.handleAdd),r.on("reset",r.handleReset);var a=r.module,s=a?.getConfig();return r.tf=new V6(s),r}return Object.defineProperty(n.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),n.prototype.getCategories=function(){return this.categories},n.prototype.handleReset=function(t,e){var r=e===void 0?{}:e,i=r.previousModels,a=i===void 0?[]:i;a.forEach(function(s){return s.trigger("remove")})},n.prototype.handleAdd=function(t){t.em=this.em;var e=this.target;e&&(t.target=e),this.initCategory(t)},n.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(e){return e.setTarget(t)})},n.prototype.add=function(t,e){if(t!=null){var r=this,i=r.target,a=r.em;if((0,tt.isArray)(t)){for(var s=[],l=0,c=t.length;l<c;l++){var u=t[l];s[l]=u instanceof sg?u:this.tf.build(u,a),s[l].setTarget(i)}return o.prototype.add.call(this,s,e)}var p=t instanceof sg?t:this.tf.build(t,a);return p.setTarget(i),o.prototype.add.call(this,p,e)}},n}(AO),lg=j6,H6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wn=function(){return Wn=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Wn.apply(this,arguments)},B6=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},Ko=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},ZC=function(o){return o.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Ol=function(o){return!!o?.getConfig().avoidInlineStyle},q0="component:drag",yi="__symbols",Ri="__symbol",Nc="__symbol_ovrd",Jf=kn.I.update,m0=kn.I.updateInside,U6=function(o){H6(n,o);function n(t,e){t===void 0&&(t={});var r=this,i=e.em;r=o.call(this,t,e)||this,(0,tt.bindAll)(r,"__upSymbProps","__upSymbCls","__upSymbComps","syncOnComponentChange");var a=r.parent(),s=a?.attributes,l=r.get("propagate");if(l&&r.set("propagate",(0,tt.isArray)(l)?l:[l]),s&&s.propagate&&!l){var c={},u=s.propagate;u.forEach(function(P){return c[P]=a.get(P)}),c.propagate=u,r.set(Wn(Wn({},c),t))}e&&e.config&&e.config.voidElements.indexOf(r.get("tagName"))>=0&&r.set("void",!0),e.em=i,r.opt=e,r.em=i,r.config=e.config||{};var p=Wn(Wn({},(0,tt.result)(r,"defaults").attributes||{}),r.get("attributes")||{}),g=r.dataResolverWatchers.getValueOrResolver("attributes",p);if(r.setAttributes(g),r.ccid=n.createId(r,e),r.preInit(),r.initClasses(),r.initComponents(),r.initTraits(),r.initToolbar(),r.initScriptProps(),r.listenTo(r,"change:script",r.scriptUpdated),r.listenTo(r,"change:tagName",r.tagUpdated),r.listenTo(r,"change:attributes",r.attrUpdated),r.listenTo(r,"change:attributes:id",r._idUpdated),r.on("change:toolbar",r.__emitUpdateTlb),r.on("change",r.__onChange),r.on(m0,r.__propToParent),r.set("status",""),r.views=[],["classes","traits","components"].forEach(function(P){var w="add remove reset ".concat(P!=="components"?"change":"");r.listenTo(r.get(P),w.trim(),function(){for(var T=[],b=0;b<arguments.length;b++)T[b]=arguments[b];return r.emitUpdate.apply(r,Ko([P],T,!1))})}),!e.temporary){var h=i&&i.Css,y=r.attributes,_=y.styles,x=y.type;_&&h&&h.addCollection(_,{avoidUpdateStyle:!0},{group:"cmp:".concat(x)}),r._moveInlineStyleToRule(),r.__postAdd(),r.init(),pa(r)&&hu(r),i?.trigger(kn.I.create,r,e)}return Ol(i)&&r.dataResolverWatchers.disableStyles(),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},t[Ri]=0,t[yi]=0,t[Nc]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){var t;return(t=this.frame)===null||t===void 0?void 0:t.getPage()},enumerable:!1,configurable:!0}),n.prototype.getType=function(){return this.get("type")||"default"},n.prototype.preInit=function(){},n.prototype.init=function(){},n.prototype.updated=function(t,e,r){},n.prototype.removed=function(){},n.prototype.onCollectionsStateMapUpdate=function(t){var e;o.prototype.onCollectionsStateMapUpdate.call(this,t),(e=this._getStyleRule())===null||e===void 0||e.onCollectionsStateMapUpdate(t);var r=this.components();r.forEach(function(i){return i.onCollectionsStateMapUpdate(t)})},n.prototype.syncComponentsCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.listenTo(this.components(),"add remove reset",this.syncOnComponentChange),this.components().forEach(function(t){return t.syncComponentsCollectionState()})},n.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.collectionsStateMap={},this.components().forEach(function(t){return t.stopSyncComponentCollectionState()})},n.prototype.syncOnComponentChange=function(t,e,r){var i=this;if(!(!this.collectionsStateMap||!Object.keys(this.collectionsStateMap).length)){var a=r||e||{};if(r)if(a.add){var l=t;l.syncComponentsCollectionState(),l.onCollectionsStateMapUpdate(this.collectionsStateMap)}else{var c=t;c.stopSyncComponentCollectionState()}else{var s=a.previousModels||[];s.forEach(function(u){return u.stopSyncComponentCollectionState()}),this.components().forEach(function(u){u.syncComponentsCollectionState(),u.onCollectionsStateMapUpdate(i.collectionsStateMap)})}}},n.prototype.__postAdd=function(t){t===void 0&&(t={});var e=this.em,r=e?.UndoManager,i=this.components();r&&!this.__hasUm&&(r.add(i),r.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&i.map(function(a){return a.__postAdd(t)})},n.prototype.__postRemove=function(){var t=this.em,e=t?.UndoManager;e&&(e.remove(this.components()),e.remove(this.getSelectors()),delete this.__hasUm)},n.prototype.__onChange=function(t,e){var r=this,i=this.changedAttributes()||{};(0,tt.keys)(i).forEach(function(a){return r.emitUpdate(a)}),["status","open","toolbar","traits"].forEach(function(a){return delete i[a]}),(0,ie.isEmptyObj)(i)||(this.__changesUp(e),this.__propSelfToParent({component:this,changed:i,options:e}))},n.prototype.__onStyleChange=function(t){var e=this,r=this.em;if(r){var i=(0,tt.keys)(t),a={style:t};this.emitWithEditor(kn.I.styleUpdate,this,a),i.forEach(function(p){return e.emitWithEditor("".concat(kn.I.styleUpdateProperty).concat(p),e,a)});var s=this.collectionsStateMap,l=Object.keys(s);if(l.length){var c=l.every(function(p){return s[p].currentIndex===s[p].startIndex});if(c){var u=Ra(this);u.forEach(function(p){var g=p.collectionsStateMap,h=Object.keys(g),y=h.every(function(_){return l.includes(_)});y&&p.addStyle(t)})}}}},n.prototype.__changesUp=function(t){var e=this,r=e.em,i=e.frame;[i,r].forEach(function(a){return a&&a.changesUp(t)})},n.prototype.__propSelfToParent=function(t){this.trigger(Jf,t),this.__propToParent(t)},n.prototype.__propToParent=function(t){var e=this.parent();e&&e.trigger(m0,t)},n.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},n.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},n.prototype.__upSymbProps=function(t,e){e===void 0&&(e={}),d6(this,e)},n.prototype.__upSymbCls=function(t,e,r){r===void 0&&(r={}),f6(this,r)},n.prototype.__upSymbComps=function(t,e,r){xO(this,t,e,r)},n.prototype.__onDestroy=function(){},n.prototype.is=function(t){return this.get("type")==t},n.prototype.props=function(){return this.attributes},n.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},n.prototype.setDragMode=function(t){return this.set("dmode",t)},n.prototype.getDragMode=function(){return this.get("dmode")||""},n.prototype.setSymbolOverride=function(t,e){var r,i;e===void 0&&(e={}),this.set((r={},r[Nc]=(i=(0,tt.isString)(t)?[t]:t)!==null&&i!==void 0?i:0,r),e)},n.prototype.getSymbolOverride=function(){return this.get(Nc)},n.prototype.find=function(t){var e,r=[],i=(e=this.view)===null||e===void 0?void 0:e.$el.find(t);return i?.each(function(a){var s=i.eq(a),l=s.data("model");l&&r.push(l)}),r},n.prototype.findType=function(t){var e=[],r=function(i){return i.forEach(function(a){a.is(t)&&e.push(a),r(a.components())})};return r(this.components()),e},n.prototype.findFirstType=function(t){return this.findType(t).at(0)},n.prototype.closest=function(t){var e,r=(e=this.view)===null||e===void 0?void 0:e.$el.closest(t);return r?.length?r.data("model"):void 0},n.prototype.closestType=function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},n.prototype.contains=function(t){var e=!1;if(!t)return e;var r=function(i){!e&&i.forEach(function(a){a===t&&(e=!0),!e&&r(a.components())})};return r(this.components()),e},n.prototype.tagUpdated=function(){this.trigger("rerender")},n.prototype.replaceWith=function(t,e){e===void 0&&(e={});var r=this.collection,i=r.indexOf(this);r.remove(this);var a=r.add(t,Wn(Wn({},e),{at:i}));return(0,tt.isArray)(a)?a:[a]},n.prototype.attrUpdated=function(t,e,r){var i=this;r===void 0&&(r={});var a=this.get("attributes"),s=a.class;s&&this.setClass(s),delete a.class;var l=a.style;l&&this.setStyle(l,r),delete a.style;var c=Wn({},this.previous("attributes")),u=(0,ie.shallowDiff)(c,this.get("attributes"));(0,tt.keys)(u).forEach(function(p){var g,h="attributes:".concat(p);i.trigger("change:".concat(h),i,u[p],r),(g=i.em)===null||g===void 0||g.trigger("".concat(Jf,":").concat(h),i,u[p],r)})},n.prototype.setAttributes=function(t,e){return e===void 0&&(e={skipWatcherUpdates:!1,fromDataSource:!1}),this.set("attributes",Wn({},t),e),this},n.prototype.addAttributes=function(t,e){e===void 0&&(e={});var r=this.dataResolverWatchers.getValueOrResolver("attributes",this.getAttributes({noClass:!0,noStyle:!0}));return this.setAttributes(Wn(Wn({},r),t),e)},n.prototype.removeAttributes=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var r=Array.isArray(t)?t:[t],i=this.getAttributes();return r.map(function(a){return delete i[a]}),this.setAttributes(i,e)},n.prototype.getStyle=function(t,e){var r=this.em,i=(0,tt.isString)(t),a=i?t:"",s=i?e:t,l=!!s?.skipResolve;if(Ol(r)&&!s?.inline){var c=r.get("state"),u=r.Css,p=u.getIdRule(this.getId(),Wn({state:c},s));return this.rule=p,p?p.getStyle(a,{skipResolve:l}):{}}return o.prototype.getStyle.call(this,a,{skipResolve:l})},n.prototype.setStyle=function(t,e){var r=this;t===void 0&&(t={}),e===void 0&&(e={});var i=this,a=i.opt,s=i.em;if(Ol(s)&&!a.temporary&&!e.inline){var l=this.get("style")||{};t=(0,tt.isString)(t)?this.parseStyle(t):t,t=Wn(Wn({},l),t);var c=s.get("state"),u=s.Css,p=this.getStyle(Wn(Wn({},e),{skipResolve:!0}));this.rule=u.setIdRule(this.getId(),t,Wn({state:c},e));var g=(0,ie.shallowDiff)(p,t);this.set("style","",{silent:!0}),(0,tt.keys)(g).forEach(function(h){return r.trigger("change:style:".concat(h))})}else t=o.prototype.setStyle.apply(this,arguments);return a.temporary||this.__onStyleChange(e.addStyle||t),t},n.prototype.getAttributes=function(t){t===void 0&&(t={});var e=this.em,r=[],i=Wn({},this.get("attributes")),a=t?.skipResolve?this.dataResolverWatchers.getValueOrResolver("attributes",i):i,s=e?.Selectors,l=this.getId();if(t.noClass?delete a.class:(this.classes.forEach(function(p){return r.push((0,tt.isString)(p)?p:p.getName())}),r.length&&(a.class=r.join(" "))),!t.noStyle){var c=this.getStyle({inline:!0});(0,ie.isObject)(c)&&!(0,ie.isEmptyObj)(c)&&(a.style=this.styleToString({inline:!0}))}if(!(0,tt.has)(a,"id")){var u=!1;(Ol(e)||!(0,tt.isEmpty)(this.getStyle()))&&(u=!!s?.get(l,s.Selector.TYPE_ID)),(pa(this)||this.get("script-export")||this.get("script"))&&(u=!0),u&&(a.id=l)}return a},n.prototype.addClass=function(t){var e=this.em.Selectors.addClass(t);return this.classes.add(e)},n.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},n.prototype.removeClass=function(t){var e=[];t=(0,tt.isArray)(t)?t:[t];var r=this.classes,i=Ci.TYPE_CLASS;return t.forEach(function(a){var s=a.split(" ");s.forEach(function(l){var c=r.where({name:l,type:i})[0];c&&e.push(r.remove(c))})}),e},n.prototype.getClasses=function(){var t=this.getAttributes(),e=t.class;return e?e.split(" "):[]},n.prototype.initClasses=function(t,e,r){r===void 0&&(r={});var i="change:classes",a=this.get("attributes")||{},s=a.class,l=B6(a,["class"]),c=[this,i,this.initClasses],u=this.get("classes")||s||[],p=(0,tt.isString)(u)?u.split(" "):u;this.stopListening.apply(this,c);var g=this.normalizeClasses(p),h=new Ls([]);return this.set("classes",h,r),h.add(g),h.on("add remove reset",this.__upSymbCls),s&&g.length&&this.set("attributes",l),this.listenTo.apply(this,c),this},n.prototype.initComponents=function(){var t="change:components",e=[this,t,this.initComponents];this.stopListening.apply(this,e);var r=new Fu([],this.opt);r.parent=this;var i=this.get("components"),a=!this.opt.avoidChildren;return this.set("components",r),a&&i&&r.add((0,tt.isFunction)(i)?i(this):i,this.opt),r.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this},n.prototype.initTraits=function(t){var e=this,r=this.em,i="change:traits";this.off(i,this.initTraits),this.__loadTraits();var a=Wn({},this.get("attributes")),s=this.traits;s.each(function(c){var u=c.getName(),p=c.getInitValue();c.changeProp?(0,tt.isUndefined)(e.get(u))&&e.set(u,p):u&&p&&(a[u]=p)});var l=this.dataResolverWatchers.getValueOrResolver("attributes",a);return s.length&&this.setAttributes(l),this.on(i,this.initTraits),t&&r&&r.trigger("component:toggled"),this},n.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var r=this.previous(t)||[],i=this.get(t)||[],a=r.map(function(l){return"change:".concat(l)}).join(" "),s=i.map(function(l){return"change:".concat(l)}).join(" ");a&&this.off(a,this.__scriptPropsChange),s&&this.on(s,this.__scriptPropsChange),this.on.apply(this,e)}},n.prototype.__scriptPropsChange=function(t,e,r){r===void 0&&(r={}),!r.avoidStore&&this.trigger("rerender")},n.prototype.append=function(t,e){e===void 0&&(e={});var r=(0,tt.isArray)(t)?Ko([],t,!0):[t],i=r.map(function(s){return(0,tt.isString)(s)||s.collection&&s.collection.remove(s,{temporary:!0}),s}),a=this.components().add(i,Wn({action:kn.t.add},e));return a},n.prototype.components=function(t,e){e===void 0&&(e={});var r=this.get("components");return(0,tt.isUndefined)(t)?r:(r.reset(void 0,e),t?this.append(t,e):[])},n.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},n.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},n.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},n.prototype.parent=function(t){t===void 0&&(t={});var e=this.collection||t.prev&&this.prevColl;return e?e.parent:void 0},n.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},n.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},n.prototype.initToolbar=function(){var t=this.em,e=this,r=t&&t.getConfig().stylePrefix||"";if(!e.get("toolbar")&&t){var i=[];e.collection&&i.push({label:t.getIcon("arrowUp"),command:function(a){return a.runCommand("core:component-exit",{force:1})}}),e.get("draggable")&&i.push({attributes:{class:"".concat(r,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),e.get("copyable")&&i.push({label:t.getIcon("copy"),command:"tlb-clone"}),e.get("removable")&&i.push({label:t.getIcon("delete"),command:"tlb-delete"}),e.set("toolbar",i)}},n.prototype.__loadTraits=function(t,e){e===void 0&&(e={});var r=t||this.traits;if(!(r instanceof lg)){r=(0,tt.isFunction)(r)?r(this):r;var i=new lg([],this.opt);i.setTarget(this),r.length&&i.add(r),this.set({traits:i},e)}return this},n.prototype.getTraits=function(){return this.__loadTraits(),Ko([],this.traits.models,!0)},n.prototype.setTraits=function(t){var e=(0,tt.isArray)(t)?t:[t];return this.set({traits:e}),this.getTraits()},n.prototype.getTrait=function(t){return this.getTraits().filter(function(e){return e.get("id")===t||e.get("name")===t})[0]||null},n.prototype.updateTrait=function(t,e){var r,i=this.getTrait(t);return i&&i.set(e),(r=this.em)===null||r===void 0||r.trigger("component:toggled"),this},n.prototype.getTraitIndex=function(t){var e=this.getTrait(t);return e?this.traits.indexOf(e):-1},n.prototype.removeTrait=function(t){var e=this,r,i=(0,tt.isArray)(t)?t:[t],a=i.map(function(c){return e.getTrait(c)}),s=this.traits,l=a.length?s.remove(a):[];return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,tt.isArray)(l)?l:[l]},n.prototype.addTrait=function(t,e){var r;e===void 0&&(e={}),this.__loadTraits();var i=this.traits.add(t,e);return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,tt.isArray)(i)?i:[i]},n.prototype.normalizeClasses=function(t){var e=[],r=this.em,i=r?.Selectors;return i?t.models?Ko([],t.models,!0):(t.forEach(function(a){return e.push(i.add(a))}),e):[]},n.prototype.clone=function(t){var e;t===void 0&&(t={});var r=this.em,i=this.dataResolverWatchers.getProps(this.attributes),a=Wn({},this.opt),s=this.getId(),l=r?.Css;i.components=[],i.classes=[],i.traits=[],Dl(this)&&(t.symbol=!0),this.get("components").each(function(x,P){i.components[P]=x.clone(Wn(Wn({},t),{_inner:1}))}),this.get("traits").each(function(x,P){i.traits[P]=x.clone()}),this.get("classes").each(function(x,P){i.classes[P]=x.get("name")}),i.status="",a.collection=null,a.forCloning=!0;var c=new this.constructor(i,a),u="#".concat(c.getId()),p=l?l.getRules("#".concat(s)):[];p.forEach(function(x){var P=x.clone();P.set("selectors",[u]),l.getAll().add(P)}),c.set(yi,0);var g=Eo(this),h=ji(this);if(!t.symbol&&(g||h))c.set(Ri,0),c.set(yi,0);else if(g){var y=(e=ji(g))!==null&&e!==void 0?e:[];g.set(yi,Ko(Ko([],y,!0),[c],!1)),hu(c)}else t.symbol&&(El(this)?(this.set(yi,Ko(Ko([],h,!0),[c],!1)),c.set(Ri,this),hu(c)):t.symbolInv?(this.set(yi,[c]),c.set(Ri,this),[this,c].map(function(x){return hu(x)})):(c.set(yi,[this]),[this,c].map(function(x){return hu(x)}),this.set(Ri,c)));var _="component:clone";return r&&r.trigger(_,c),this.trigger(_,c),c},n.prototype.getName=function(t){t===void 0&&(t={});var e=this.em,r=this.attributes,i=r.type,a=r.tagName,s=r.name,l=i||a,c=i?"":a,u="domComponents.names.",p=s&&e?.t("".concat(u).concat(s)),g=c&&e?.t("".concat(u).concat(c)),h=e&&(e.t("".concat(u).concat(i))||e.t("".concat(u).concat(a))),y=this.get("custom-name");return(t.noCustom?"":y)||p||s||g||(0,ie.capitalize)(c)||h||(0,ie.capitalize)(l)},n.prototype.setName=function(t,e){e===void 0&&(e={}),this.set("custom-name",t,e)},n.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},n.prototype.toHTML=function(t){t===void 0&&(t={});var e=t.tag,r=e||this.get("tagName");delete t.tag;var i=this.__attrToString(t),a=i?" ".concat(i):"",s=this.getInnerHTML(t),l=!s&&this.get("void"),c="<".concat(r).concat(a).concat(l?"/":"",">").concat(s);return!l&&(c+="</".concat(r,">")),c},n.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},n.prototype.__innerHTML=function(t){t===void 0&&(t={});var e=this.components();return e.length?e.map(function(r){return r.toHTML(t)}).join(""):this.content},n.prototype.__attrToString=function(t){t===void 0&&(t={});var e=[],r=t.attributes,i=this.getAttrToHTML(t);if(r&&((0,tt.isFunction)(r)?i=r(this,i)||{}:(0,ie.isObject)(r)&&(i=r)),t.withProps){var a=this.toJSON();(0,tt.forEach)(a,function(p,g){var h=["classes","attributes","components"];g[0]!=="_"&&h.indexOf(g)<0&&(i["data-gjs-".concat(g)]=(0,tt.isArray)(p)||(0,ie.isObject)(p)?JSON.stringify(p):(0,tt.isBoolean)(p)?"".concat(p):p)})}for(var s in i){var l=i[s];if(!(0,tt.isUndefined)(l)&&l!==null)if((0,tt.isBoolean)(l))l&&e.push(s);else{var c="";if(t.altQuoteAttr&&(0,tt.isString)(l)&&l.indexOf('"')>=0)c="'".concat((0,ie.escapeAltQuoteAttrValue)(l),"'");else{var u=(0,tt.isString)(l)?(0,ie.escapeAttrValue)(l):l;c='"'.concat(u,'"')}e.push("".concat(s,"=").concat(c))}}return e.join(" ")},n.prototype.getAttrToHTML=function(t){var e=this.getAttributes();return Ol(this.em)&&t?.keepInlineStyle!==!0&&delete e.style,e},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=o.prototype.toJSON.call(this,t,{attributes:this.getAttributes()});if(delete e.dataResolverWatchers,delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,delete e._undoexc,delete e.delegate,this.collectionsStateMap&&Object.getOwnPropertyNames(this.collectionsStateMap).length>0&&(delete e[Ri],delete e[Nc],delete e[yi],delete e.attributes.id),!t.fromUndo){var r=e[Ri],i=e[yi];i&&(0,tt.isArray)(i)&&(e[yi]=i.filter(function(a){return a}).map(function(a){return a.getId?a.getId():a})),r&&!(0,tt.isString)(r)&&(e[Ri]=r.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(e),e},n.prototype.getChangedProps=function(t){var e=t||j0.Model.prototype.toJSON.apply(this),r=(0,tt.result)(this,"defaults");return(0,tt.forEach)(r,function(i,a){["type"].indexOf(a)===-1&&e[a]===i&&delete e[a]}),(0,tt.isEmpty)(e.type)&&delete e.type,(0,tt.forEach)(["attributes","style"],function(i){(0,tt.isEmpty)(r[i])&&(0,tt.isEmpty)(e[i])&&delete e[i]}),(0,tt.forEach)(["classes","components"],function(i){(!e[i]||(0,tt.isEmpty)(r[i])&&!e[i].length)&&delete e[i]}),e},n.prototype.getId=function(){var t=this.get("attributes")||{},e=_6(this),r=e.shouldSync,i=e.itemId;return r&&(t.id=i),t.id||this.ccid||this.cid},n.prototype.setId=function(t,e){return this.addAttributes({id:t},e),this},n.prototype.getEl=function(t){var e=this.getView(t);return e&&e.el},n.prototype.getView=function(t){var e=this,r=e.view,i=e.views,a=e.em,s=t||a?.getCurrentFrameModel();return s&&(r=i.filter(function(l){return l.frameView===s.view})[0]),r},n.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),e=t?.model;return this.getView(e)},n.prototype.__getScriptProps=function(){var t=this.props(),e=this.get("script-props")||[];return e.reduce(function(r,i){return r[i]=t[i],r},{})},n.prototype.getScriptString=function(t){var e=this,r=t||this.get("script")||"";if(!r)return r;if(this.get("script-props"))r=r.toString().trim();else{if((0,tt.isFunction)(r)){var i=r.toString().trim();i=i.slice(i.indexOf("{")+1,i.lastIndexOf("}")),r=i.trim()}var a=this.em.getConfig(),s=ZC(a.tagVarStart||"{[ "),l=ZC(a.tagVarEnd||" ]}"),c=new RegExp("".concat(s,"([\\w\\d-]*)").concat(l),"g");r=r.replace(c,function(u,p){e.scriptUpdated();var g=e.attributes[p]||"";return(0,tt.isArray)(g)||typeof g=="object"?JSON.stringify(g):g})}return r},n.prototype.emitUpdate=function(t){for(var e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=this.em,s=Jf+(t?":".concat(t):""),l=t&&this.get(t);t&&this.updated.apply(this,Ko([t,l,t&&this.previous(t)],r,!1)),this.trigger.apply(this,Ko([s],r,!1)),a&&a.trigger.apply(a,Ko([s,this],r,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(e={},e[t]=l,e),options:r[2]||r[1]||{}})},n.prototype.emitWithEditor=function(t,e,r){[this.em,this].forEach(function(i){return i?.trigger(t,e,r)})},n.prototype.onAll=function(t){return(0,tt.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},n.prototype.forEachChild=function(t){(0,tt.isFunction)(t)&&this.components().forEach(function(e){t(e),e.forEachChild(t)})},n.prototype.remove=function(t){var e=this;t===void 0&&(t={});var r=this.em,i=this.collection,a=function(){i&&i.remove(e,Wn({action:kn.t.remove},t)),i||(e.components("",t),e.components().removeChildren(e,void 0,t))},s=Wn({},t);return[this,r].map(function(l){return l.trigger(kn.I.removeBefore,e,a,s)}),!s.abort&&a(),this},n.prototype.destroy=function(t){return this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.dataResolverWatchers.destroy(),this.__onDestroy(),o.prototype.destroy.call(this,t)},n.prototype.move=function(t,e){if(e===void 0&&(e={}),t){var r=e.at,i=this.index(),a=t===this.parent(),s=i===r||i===r-1;if(!a||!s){a&&r&&r>i&&(e.at=r-1);var l=kn.t.move;this.remove({action:l,temporary:1}),t.append(this,Wn({action:l},e)),this.emitUpdate()}}return this},n.prototype.isInstanceOf=function(t){var e,r,i=(r=(e=this.em)===null||e===void 0?void 0:e.Components.getType(t))===null||r===void 0?void 0:r.model;if(!i)return!1;var a=this.constructor.typeExtends;return this instanceof i||a.has(t)},n.prototype.isChildOf=function(t){for(var e=(0,tt.isString)(t),r=this.parent();r;){if(e){if(r.isInstanceOf(t))return!0}else if(r===t)return!0;r=r.parent()}return!1},n.prototype.resetId=function(t){t===void 0&&(t={});var e=this.em,r=this.getId();if(!r)return this;var i=n.createId(this);this.setId(i);var a=e?.Css.getIdRule(r),s=a?.get("selectors").at(0);return s?.set("name",i),this},n.prototype._getStyleRule=function(t){var e=t===void 0?{}:t,r=e.id,i=this.em,a=r||this.getId();return i?.Css.getIdRule(a)},n.prototype._getStyleSelector=function(t){var e=this._getStyleRule(t);return e?.get("selectors").at(0)},n.prototype._moveInlineStyleToRule=function(){var t=this.get("style"),e=(0,tt.isString)(t)&&t.length>0||(0,ie.isObject)(t)&&Object.keys(t).length>0;Ol(this.em)&&e&&this.addStyle((0,ie.isObject)(t)?this.dataResolverWatchers.getValueOrResolver("styles",t):t,{avoidStore:!0,noUndo:!0})},n.prototype._idUpdated=function(t,e,r){if(r===void 0&&(r={}),!r.idUpdate){var i=this.ccid,a=(this.get("attributes")||{}).id,s=(this.previous("attributes")||{}).id||i,l=n.getList(this);if(l[a]||!a&&s)return this.setId(s,{idUpdate:!0});delete l[s],l[a]=this,this.ccid=a;var c=this._getStyleSelector({id:s});c&&c.set({name:a,label:a})}},n.getDefaults=function(){return(0,tt.result)(this.prototype,"defaults")},n.isComponent=function(t,e){return{tagName:(0,ie.toLowerCase)(t.tagName)}},n.ensureInList=function(t){var e=n.getList(t),r=t.getId(),i=e[r];if(!i)e[r]=t;else if(i!==t){var a=n.getIncrementId(r,e);t.setId(a),e[a]=t}t.components().forEach(function(s){return n.ensureInList(s)})},n.createId=function(t,e){e===void 0&&(e={});var r=n.getList(t),i=e.idMap,a=i===void 0?{}:i,s=t.get("attributes").id,l;return s?(l=n.getIncrementId(s,r,e),t.setId(l),s!==l&&(a[s]=l)):l=n.getNewId(r),r[l]=t,l},n.getNewId=function(t){for(var e=Object.keys(t).length,r=e.toString().length+2,i=(Math.random()+1.1).toString(36).slice(-r),a="i".concat(i);t[a];)a=n.getNewId(t);return a},n.getIncrementId=function(t,e,r){r===void 0&&(r={});var i=r.keepIds,a=i===void 0?[]:i,s=1,l=t;if(a.indexOf(t)<0)for(;e[l];)s++,l="".concat(t,"-").concat(s);return l},n.getList=function(t){var e,r=t.em,i=r?.Components;return(e=i?.componentsById)!==null&&e!==void 0?e:{}},n.checkId=function(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r={}),i===void 0&&(i={});var a=(0,tt.isArray)(t)?t:[t],s=i.keepIds,l=s===void 0?[]:s,c=i.idMap,u=c===void 0?{}:c;a.forEach(function(p){p.attributes;var g=p.attributes,h=g===void 0?{}:g,y=p.components,_=h.id;if(_&&r[_]&&l.indexOf(_)<0){var x=n.getIncrementId(_,r);u[_]=x,h.id=x,(0,tt.isArray)(e)&&e.forEach(function(P){var w=P.selectors;w.forEach(function(T,b){T==="#".concat(_)&&(w[b]="#".concat(x))})})}y&&n.checkId(y,e,r,i)})},n.typeExtends=new Set,n}(MO),lr=U6,W6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cg=function(){return cg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},cg.apply(this,arguments)},Yc="head",G6=["title","style","base","link","meta","script","noscript"],K6=function(o){W6(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return cg(cg({},o.prototype.defaults),{type:Yc,tagName:Yc,draggable:!1,highlightable:!1,droppable:function(t){var e=t.tagName;return!e||G6.includes((0,ie.toLowerCase)(e))}})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===Yc},n}(lr),q6=K6,$6=function(){function o(n,t){n===void 0&&(n=50);var e;this.dragging=!1,this.lastMaxHeight=0,this.zoom=1,this.rectIsInScrollIframe=!1,this.autoscrollLimit=n,this.lastMaxHeight=(e=t?.lastMaxHeight)!==null&&e!==void 0?e:0,this.onScroll=t?.onScroll,this.rectIsInScrollIframe=!!t?.rectIsInScrollIframe,(0,tt.bindAll)(this,"start","autoscroll","updateClientY","stop")}return o.prototype.start=function(n,t,e){var r=this;this.eventEl=n,this.scrollEl=t,this.lastMaxHeight=e?.lastMaxHeight||Number.POSITIVE_INFINITY,this.zoom=e?.zoom||1,this.ignoredElement=e?.ignoredElement,setTimeout(function(){r.toggleAutoscrollFx(!0),requestAnimationFrame(r.autoscroll)},0)},o.prototype.autoscroll=function(){var n=this,t,e,r=this.scrollEl;if(!(!this.dragging||!r)){if(this.lastClientY===void 0){setTimeout(function(){requestAnimationFrame(n.autoscroll)},50);return}var i=(t=this.lastClientY)!==null&&t!==void 0?t:0,a=this.autoscrollLimit,s=this.getEventElHeight(),l=s-a,c=0;i<a&&(c+=i-a),i>l&&(c+=i-l);var u=this.getElScrollTop(r);c=Math.min(c,this.lastMaxHeight-u),c=Math.max(c,-u),c!==0&&(r.scrollBy({top:c,behavior:"auto"}),(e=this.onScroll)===null||e===void 0||e.call(this)),requestAnimationFrame(this.autoscroll)}},o.prototype.getEventElHeight=function(){var n=this.eventEl;if(!n)return 0;var t=n.getBoundingClientRect();return t.height},o.prototype.updateClientY=function(n){var t=n.target;if(!(this.ignoredElement&&this.ignoredElement.contains(t))){var e=this.scrollEl;n.preventDefault();var r=this.rectIsInScrollIframe?0:this.getElScrollTop(e);this.lastClientY=(0,Me.G2)(n).clientY*this.zoom-r}},o.prototype.getElScrollTop=function(n){return(n instanceof HTMLElement?n.scrollTop:n?.scrollY)||0},o.prototype.toggleAutoscrollFx=function(n){this.dragging=n;var t=this.eventEl;if(t){var e=n?"on":"off",r={on:Me.on,off:Me.AU};r[e](t,"mousemove dragover",this.updateClientY),r[e](t,"mouseup",this.stop)}},o.prototype.stop=function(){this.toggleAutoscrollFx(!1),this.lastClientY=void 0,this.ignoredElement=void 0},o}(),DO=$6,Y6=Cn(1447),X6=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Q6=function(o){X6(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.canMove=function(t,e){var r=this,i=this.getRealIndex(e),a=t._dragSource,s=a.model,l=a.content,c=a.dragDef,u=!s||!this.isSourceSameSymbol(s),p=((0,tt.isFunction)(l)?c:l)||t.model;return Array.isArray(p)?u&&p.every(function(g,h){return r.canMoveSingleContent(g,i+h)}):u&&this.canMoveSingleContent(p,i)},n.prototype.canMoveSingleContent=function(t,e){return this.model.em.Components.canMove(this.model,t,e).result},n.prototype.addChildAt=function(t,e){var r=t._dragSource,i=r.content,a=this.isTextNode()&&t.isTextable(),s=(0,tt.isFunction)(i)?i():i;return Array.isArray(s)?this.addMultipleChildren(s,e,a):this.addSingleChild(s,e,a)},n.prototype.addSingleChild=function(t,e,r){var i,a,s,l,c;return r?c=(l=(s=(a=(i=this.model)===null||i===void 0?void 0:i.getView)===null||a===void 0?void 0:a.call(i))===null||s===void 0?void 0:s.insertComponent)===null||l===void 0?void 0:l.call(s,t,{action:"add-component"}):c=this.model.components().add(t,{at:this.getRealIndex(e),action:"add-component"}),new this.constructor(c)},n.prototype.addMultipleChildren=function(t,e,r){var i=this,a;return t.forEach(function(s,l){a=i.addSingleChild(s,e+l,r)}),a},n.prototype.isSourceSameSymbol=function(t){if(pa(this.model)){var e=Ru(this.model),r=El(e)?e:Eo(e);if(r===t)return!0}return!1},Object.defineProperty(n.prototype,"content",{set:function(t){this._dragSource.content=t},enumerable:!1,configurable:!0}),n}(Y6.A),LO=Q6,Nl=Cn(8433),v0=function(){return v0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},v0.apply(this,arguments)},J6=function(){function o(n,t){var e=this;this.em=n,this.canvas=n.Canvas;var r=t||this.canvas.getFrames().map(function(a){return a.getComponent().getEl()}),i=Array.isArray(r)?r:[r];this.el=i[0],this.counter=0,(0,tt.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),i.forEach(function(a){return e.toggleEffects(a,!0)})}return o.prototype.toggleEffects=function(n,t){var e={on:Me.on,off:Me.AU},r=t?"on":"off";e[r](n,"dragenter",this.handleDragEnter),e[r](n,"dragover",this.handleDragOver),e[r](n,"drop",this.handleDrop),e[r](n,"dragleave",this.handleDragLeave)},o.prototype.__customTglEff=function(n){var t,e=n?Me.on:Me.AU,r=this.el.ownerDocument,i=(t=r.defaultView)===null||t===void 0?void 0:t.frameElement,a=function(s){return{legacyOnStartSort:function(){(0,Me.on)(i,"pointermove",s.onMove)},legacyOnEnd:function(){(0,Me.AU)(i,"pointermove",s.onMove)},customTarget:function(l){var c=l.event;return r.elementFromPoint(c.clientX,c.clientY)}}};this.getSorterOptions=n?a:void 0,e(i,"pointerenter",this.handleDragEnter),e(i,"pointermove",this.handleDragOver),e(document,"pointerup",this.handleDrop),e(i,"pointerout",this.handleDragLeave)},o.prototype.startCustom=function(){this.__customTglEff(!0)},o.prototype.endCustom=function(n){this.over?this.endDrop(n):this.__customTglEff(!1)},o.prototype.endDrop=function(n,t){var e=this,r=e.em,i=e.dragStop;this.counter=0,i&&i(n||!this.over),this.__customTglEff(!1),r.trigger("canvas:dragend",t)},o.prototype.handleDragLeave=function(n){this.updateCounter(-1,n)},o.prototype.updateCounter=function(n,t){this.counter+=n,this.counter===0&&this.endDrop(!0,t)},o.prototype.handleDragEnter=function(n){var t=this,e,r,i=this,a=i.em,s=i.canvas,l=n.dataTransfer,c=a.get("dragSource");if(!(!c?.content&&!s.getConfig().allowExternalDrop)&&(this.updateCounter(1,n),!this.over)){this.over=!0;var u=a.Utils,p=c?.content||"<br>",g;if(a.stopDefault(),a.inAbsoluteMode()){var h=a.Components.getWrapper(),y=h.append({})[0],_=a.Commands.run("core:component-drag",{event:n,guidesInfo:1,center:1,target:y,onEnd:function(E,L,R){var z=R.cancelled,N;if(!z&&p){N=h.append(p)[0];var j=s.getOffset(),D=y.getStyle(),W=D.top,q=D.left,J=D.position,I=(0,Me.Xy)(E.target),Z=parseInt("".concat(parseFloat(q)+I.x-j.left),10),et=parseInt("".concat(parseFloat(W)+I.y-j.top),10);N.addStyle({left:Z+"px",top:et+"px",position:J})}t.handleDragEnd(N,l),y.remove()}});g=function(E){return _.stop(n,{cancel:E})},this.setAbsoluteDragContent=function(E){return p=E}}else{var x=new u.ComponentSorter({em:a,treeClass:LO,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:s.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:Nl.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),P=(e=this.getSorterOptions)===null||e===void 0?void 0:e.call(this,x);P&&(x.eventHandlers.legacyOnStartSort=P.legacyOnStart,x.eventHandlers.legacyOnEnd=P.legacyOnEnd,x.containerContext.customTarget=P.customTarget);var w=a.Components.getShallowWrapper(),T=w?.append(p,{temporary:!0})[0],b=T?.getEl(),k=[{element:b,dragSource:v0({model:T},c)}];x.startSort(k),this.sorter=x,this.draggedNode=(r=x.sourceNodes)===null||r===void 0?void 0:r[0],g=function(E){E?x.cancelDrag():x.endDrag()}}this.dragStop=g,a.trigger("canvas:dragenter",l,p)}},o.prototype.handleDragEnd=function(n,t){var e=this.em;this.over=!1,n&&(e.set("dragResult",n),e.trigger("canvas:drop",t,n)),e.runDefault({preserveSelected:1})},o.prototype.handleDragOver=function(n){n.preventDefault(),this.em.trigger("canvas:dragover",n)},o.prototype.handleDrop=function(n){var t;n.preventDefault();var e=n.dataTransfer,r=this.getContentByData(e).content||"";this.draggedNode&&(this.draggedNode.content=r),(t=this.setAbsoluteDragContent)===null||t===void 0||t.call(this,r),this.endDrop(!r,n)},o.prototype.getContentByData=function(n){var t=this.em,e=n?.types||[],r=n?.files||[],i=t.get("dragSource"),a=n?.getData("text")||"";if(r.length){a=[];for(var s=0;s<r.length;s++){var l=r[s],c=l.type.split("/")[0];c=="image"&&a.push({type:c,file:l,attributes:{alt:l.name}})}}else if(i?.content)a=i.content;else if((0,tt.indexOf)(e,"text/html")>=0)a=n&&n.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,tt.indexOf)(e,"text/uri-list")>=0)a={type:"link",attributes:{href:a},content:a};else if((0,tt.indexOf)(e,"text/json")>=0){var u=n&&n.getData("text/json");u&&(a=JSON.parse(u))}else e.length===1&&e[0]==="text/plain"&&(a="<div>".concat(a,"</div>"));var p={content:a,setContent:function(g){p.content=g}};return t.trigger("canvas:dragdata",n,p),p},o}(),Z6=J6,tk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),So=function(){return So=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},So.apply(this,arguments)},ek=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},nk=function(o){tk(n,o);function n(t,e){var r=o.call(this,{model:t})||this;r.dragging=!1,r.loaded=!1,r.lastMaxHeight=0,r.tools={},(0,tt.bindAll)(r,"startAutoscroll","stopAutoscroll","_emitUpdate");var i=r.el;r.module._config=So(So({},r.config||{}),{frameView:r}),r.frameWrapView=e,r.showGlobalTools=(0,tt.debounce)(r.showGlobalTools.bind(r),50);var a=r.getCanvasModel();return r.listenTo(t,"change:head",r.updateHead),r.listenTo(a,"change:styles",r.renderStyles),t.view=r,(0,ie.setViewEl)(i,r),r.autoScroller=new DO(r.config.autoscrollLimit,{rectIsInScrollIframe:!0,onScroll:function(){var s=r.getGlobalToolsEl();s.style.opacity="0",r.showGlobalTools(),r.em.Canvas.spots.refreshDbn()}}),r}return Object.defineProperty(n.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),n.prototype.getBoxRect=function(){var t=this,e=t.el,r=t.module,i=r.getCanvasView(),a=r.getCoords(),s=e.getBoundingClientRect(),l=i.getCanvasOffset(),c=i.getViewportDelta(),u=r.getZoomMultiplier(),p=(s.x-l.left-c.x-a.x)*u,g=(s.y-l.top-c.y-a.y)*u,h=s.width*u,y=s.height*u;return{x:p,y:g,width:h,height:y}},n.prototype.updateHead=function(){var t=this.model,e=this.getHead(),r=[],i=[],a=t.head,s=t.previous("head"),l=function(u){return u===void 0&&(u={}),Object.keys(u).sort().map(function(p){return"[".concat(p,'="').concat(u[p],'"]')}).join("")},c=function(u,p,g){u.forEach(function(h){var y=h.tag,_=h.attributes,x=p.some(function(P){return P.tag===y&&l(P.attributes)===l(_)});!x&&g.push(h)})};c(a,s,i),c(s,a,r),r.forEach(function(u){var p,g=e.querySelector("".concat(u.tag).concat(l(u.attributes)));(p=g?.parentNode)===null||p===void 0||p.removeChild(g)}),(0,Me.af)(e,i)},n.prototype.getEl=function(){return this.el},n.prototype.getCanvasModel=function(){var t;return(t=this===null||this===void 0?void 0:this.em.Canvas)===null||t===void 0?void 0:t.getModel()},n.prototype.getWindow=function(){return this.getEl().contentWindow},n.prototype.getDoc=function(){return this.getEl().contentDocument},n.prototype.getHead=function(){return this.getDoc().querySelector("head")},n.prototype.getBody=function(){return this.getDoc().querySelector("body")},n.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},n.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,Me.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},n.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},n.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},n.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},n.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},n.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},n.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},n.prototype.getOffsetRect=function(){var t=this.el,e=this.getBody(),r=e.scrollTop,i=e.scrollLeft,a=t.offsetHeight,s=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:a,width:s,scrollTop:r,scrollLeft:i,scrollBottom:r+a,scrollRight:i+s}},n.prototype._getTool=function(t){var e=this.tools,r=this.getToolsEl();return e[t]||(e[t]=r.querySelector(t)),e[t]},n.prototype.remove=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),ko.prototype.remove.apply(this,e),this},n.prototype.startAutoscroll=function(){this.autoScroller.start(this.el,this.getWindow(),{lastMaxHeight:this.getWrapper().offsetHeight-this.el.offsetHeight,zoom:this.em.getZoomDecimal(),ignoredElement:this.em.Canvas.getSpotsEl()})},n.prototype.stopAutoscroll=function(){this.autoScroller.stop()},n.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},n.prototype.render=function(){var t=this,e=t.$el,r=t.ppfx,i=t.em;return e.attr({class:"".concat(r,"frame")}),this.renderScripts(),i.trigger("frame:render",this),this},n.prototype.renderScripts=function(){var t=this,e=this,r=e.el,i=e.model,a=e.em,s="frame:load",l={el:r,model:i,view:this},c=this.getCanvasModel(),u=function(p){var g;if(p.length>0){var h=p.shift(),y=(0,Me.a_)("script",So({type:"text/javascript"},(0,tt.isString)(h)?{src:h}:h));(g=r.contentDocument)===null||g===void 0||g.head.appendChild(y),y.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?u(p):y.onerror=y.onload=u.bind(null,p)}else a?.trigger(Pu.frameLoadHead,l),t.renderBody(),a?.trigger(Pu.frameLoadBody,l),a?.trigger(s,l)};r.onload=function(){var p=t.config.frameContent;if(p){var g=t.getDoc();g.open(),g.write(p),g.close()}l.window=t.getWindow(),a?.trigger("".concat(s,":before"),l),a?.trigger(Pu.frameLoad,l),t.renderHead(),u(ek([],c.get("scripts"),!0))}},n.prototype.renderStyles=function(t){t===void 0&&(t={});var e=this.getHead(),r=this.getCanvasModel(),i=function(p){return p===void 0&&(p=[]),p.map(function(g){return{tag:"link",attributes:So({rel:"stylesheet"},(0,tt.isString)(g)?{href:g}:g)}})},a=i(t.prev||r.previous("styles")),s=i(r?.get("styles")),l=[],c=[],u=function(p,g,h){p.forEach(function(y){var _=y.attributes.href,x=g.some(function(P){return P.attributes.href===_});!x&&h.push(y)})};u(s,a,c),u(a,s,l),l.forEach(function(p){var g,h=e.querySelector('link[href="'.concat(p.attributes.href,'"]'));(g=h?.parentNode)===null||g===void 0||g.removeChild(h)}),(0,Me.af)(e,c)},n.prototype.renderHead=function(){var t,e=this,r=e.model,i=e.em,a=r.root,s=(t=i?.Components)===null||t===void 0?void 0:t.getType(Yc).view;s&&(this.headView=new s({el:this.getHead(),model:a.head,config:So(So({},a.config),{frameView:this})}).render())},n.prototype.renderBody=function(){var t=this,e,r=this,i=r.config,a=r.em,s=r.model,l=r.ppfx,c=this.getBody(),u=this.getWindow(),p=s.hasAutoHeight(),g=a.config;u._isEditor=!0,this.renderStyles({prev:[]});var h="#ffca6f";(0,Me.BC)(c,`<style>
      `.concat(g.baseCss||i.frameStyle||"",`

      `).concat(p?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(p?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(l,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(l,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(l,`selected-parent {
        outline: 2px solid `).concat(h,` !important
      }

      .`).concat(l,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(l,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(l,`no-pointer {
        pointer-events: none;
      }

      .`).concat(l,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(l,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(l,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(l,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(l,`is__grabbing,
      .`).concat(l,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(g.canvasCss||"",`
      `).concat(g.protectedCss||"",`
    </style>`));var y=s.root,_=(((e=a?.Components)===null||e===void 0?void 0:e.getType("wrapper"))||{}).view;_&&((0,tt.isFunction)(i.customRenderer)?i.customRenderer({editor:a.Editor,frame:s,window:u,frameView:this,onMount:function(x){t.wrapper=x,t._onRootMount(x)}}):(this.wrapper=new _({model:y,config:So(So({},y.config),{em:a,frameView:this})}).render(),this._onRootMount(this.wrapper)))},n.prototype._onRootMount=function(t){var e=this,r,i=this,a=i.config,s=i.em,l=i.model,c=this.getDoc(),u=c.body;(0,Me.BC)(u,t.el),(0,Me.BC)(u,new u0({collection:l.getStyles(),config:So(So({},s.Css.getConfig()),{frameView:this})}).render().el),(0,Me.BC)(u,this.getJsContainer()),(0,Me.on)(u,"click",function(p){var g;return p&&((g=p.target)===null||g===void 0?void 0:g.tagName)=="A"&&p.preventDefault()}),(0,Me.on)(u,"submit",function(p){return p&&p.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!a.infiniteCanvas}}].forEach(function(p){return p.event.split(" ").forEach(function(g){c.addEventListener(g,function(h){return e.el.dispatchEvent((0,Me.yL)(h,p.class))},p.opts)})}),this._toggleEffects(!0),(0,ie.hasDnd)(s)&&(this.droppable=new Z6(s,(r=this.wrapper)===null||r===void 0?void 0:r.el)),this.loaded=!0,l.trigger("loaded")},n.prototype._toggleEffects=function(t){var e=t?Me.on:Me.AU,r=this.getWindow();r&&e(r,"".concat(Me.D8," resize"),this._emitUpdate)},n.prototype._emitUpdate=function(){this.model._emitUpdated()},n}(ko),rk=nk,NO=Cn(9966),ik=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rc=function(){return Rc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Rc.apply(this,arguments)},ok=function(o){ik(n,o);function n(t,e){var r=o.call(this,{model:t})||this;(0,tt.bindAll)(r,"onScroll","frameLoaded","updateOffset","remove","startDrag");var i=Rc(Rc({},t.config),{frameWrapView:r});return r.cv=e,r.frame=new rk(t,r),r.classAnim="".concat(r.ppfx,"frame-wrapper--anim"),r.updateOffset=(0,tt.debounce)(r.updateOffset.bind(r),0),r.updateSize=(0,tt.debounce)(r.updateSize.bind(r),0),r.listenTo(t,"loaded",r.frameLoaded),r.listenTo(t,"change:x change:y",r.updatePos),r.listenTo(t,"change:width change:height",r.updateSize),r.listenTo(t,"destroy remove",r.remove),r.updatePos(),r.setupDragger(),r}return n.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},n.prototype.setupDragger=function(){var t=this,e=this,r=e.module,i=e.model,a,s,l,c=function(u){r.toggleFramesEvents(u)};this.dragger=new NO.A({onStart:function(){var u=i.attributes,p=u.x,g=u.y;l=t.em.getZoomMultiplier(),a=p,s=g,c(!1)},onEnd:function(){return c(!0)},setPosition:function(u){i.set({x:a+u.x*l,y:s+u.y*l})}})},n.prototype.startDrag=function(t){var e;t&&((e=this.dragger)===null||e===void 0||e.start(t))},n.prototype.__clear=function(t){var e=this.frame;e&&e.remove(t),(0,Me.YZ)(this.elTools)},n.prototype.remove=function(t){var e=this,r;return(r=this.sizeObserver)===null||r===void 0||r.disconnect(),this.__clear(t),ko.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(i){return e[i]=0}),this},n.prototype.updateOffset=function(){var t,e=this,r=e.em,i=e.$el,a=e.frame;!r||r.destroyed||(r.runDefault({preserveSelected:1}),i.removeClass(this.classAnim),(t=a?.model)===null||t===void 0||t._emitUpdated())},n.prototype.updatePos=function(t){var e=this,r=e.model,i=e.el,a=r.attributes,s=a.x,l=a.y,c=i.style;this.frame.rect=void 0,c.left=isNaN(s)?s:"".concat(s,"px"),c.top=isNaN(l)?l:"".concat(l,"px"),t&&this.updateOffset()},n.prototype.updateSize=function(){this.updateDim()},n.prototype.updateDim=function(){var t=this,e=t.em,r=t.el,i=t.$el,a=t.model,s=t.classAnim,l=t.frame;if(l){l.rect=void 0,i.addClass(s);var c=this.__handleSize(),u=c.noChanges,p=c.width,g=c.height;((0,tt.isNull)(p)||(0,tt.isNull)(g))&&a.set(Rc(Rc({},p?{}:{width:r.offsetWidth}),g?{}:{height:r.offsetHeight}),{silent:1}),e.stopDefault({preserveSelected:1}),u?this.updateOffset():setTimeout(this.updateOffset,350)}},n.prototype.onScroll=function(){var t=this,e=t.frame,r=t.em;r.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},n.prototype.frameLoaded=function(){var t=this,e=t.frame,r=t.config;e.getWindow().onscroll=this.onScroll,this.updateDim()},n.prototype.__handleSize=function(){var t,e="px",r=this,i=r.model,a=r.el,s=a.style,l=i.attributes,c=l.width,u=l.height,p=s.width||"",g=s.height||"",h=c||"",y=u||"",_=p==h&&g==y,x=(0,tt.isNumber)(h)?"".concat(h).concat(e):h,P=(0,tt.isNumber)(y)?"".concat(y).concat(e):y;if(s.width=x,(t=this.sizeObserver)===null||t===void 0||t.disconnect(),i.hasAutoHeight()){var w=this.frame.el,T=w.contentDocument;if(T){var b=new ResizeObserver(function(){requestAnimationFrame(function(){var k=parseFloat(i.get("minHeight"))||0,E=Math.max(T.body.scrollHeight,k);s.height="".concat(E,"px")})});b.observe(T.body),this.sizeObserver=b}}else s.height=P,delete this.sizeObserver;return{noChanges:_,width:c,height:u,newW:h,newH:y}},n.prototype.render=function(){var t=this,e=t.frame,r=t.$el,i=t.ppfx,a=t.cv,s=t.model,l=t.el,c=s.attributes.onRender;this.__clear(),this.__handleSize(),e.render(),r.empty().attr({class:"".concat(i,"frame-wrapper")}).append(`
      <div class="`.concat(i,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(i,`frame-wrapper__name" data-action-move>
          `).concat(s.get("name")||"",`
        </div>
        <div class="`).concat(i,`frame-wrapper__top-r">
          <div class="`).concat(i,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(i,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(i,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(i,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(e.el);var u=(0,Me.a_)("div",{class:"".concat(i,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(i,`highlighter" data-hl></div>
      <div class="`).concat(i,`badge" data-badge></div>
      <div class="`).concat(i,`placeholder">
        <div class="`).concat(i,`placeholder-int"></div>
      </div>
      <div class="`).concat(i,`ghost"></div>
      <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(i,`resizer"></div>
      <div class="`).concat(i,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(i,`offset-fixed-v"></div>
    `));this.elTools=u;var p=a?.toolsWrapper;return p&&p.appendChild(u),c&&c({el:l,elTop:l.querySelector("[data-frame-top]"),elRight:l.querySelector("[data-frame-right]"),elBottom:l.querySelector("[data-frame-bottom]"),elLeft:l.querySelector("[data-frame-left]"),frame:s,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},n}(ko),ak=ok,sk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lk=function(o){sk(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,!0)||this;return r.listenTo(r.collection,"reset",r.render),r.canvasView=e.canvasView,r._module=e.module,r}return n.prototype.onRemoveBefore=function(t,e){e===void 0&&(e={}),t.forEach(function(r){return r.remove(e)})},n.prototype.onRender=function(){var t=this,e=t.$el,r=t.ppfx;e.attr({class:"".concat(r,"frames")})},n.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(e){return e.remove()}),this.viewCollection=[]},n.prototype.renderView=function(t,e){return new ak(t,this.canvasView)},n}(H3),ck=lk,dk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dg=function(){return dg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},dg.apply(this,arguments)},uk=function(o){dk(n,o);function n(t){var e=o.call(this,{model:t})||this;e.ready=!1,(0,tt.bindAll)(e,"clearOff","onKeyPress","onWheel","onPointer");var r=e,i=r.em,a=r.pfx,s=r.ppfx,l=e.module.events;return e.className="".concat(a,"canvas ").concat(s,"no-touch-actions").concat(i.config.customUI?"":" ".concat(a,"canvas-bg")),e.clsUnscale="".concat(a,"unscale"),e._initFrames(),e.listenTo(i,l.refresh,e.clearOff),e.listenTo(i,"component:selected",e.checkSelected),e.listenTo(i,"".concat(l.coords," ").concat(l.zoom),e.updateFrames),e.listenTo(t,"change:frames",e._onFramesUpdate),e.toggleListeners(!0),e}return n.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},n.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},n.prototype._initFrames=function(){var t=this,e=t.frames,r=t.model,i=t.config,a=t.em,s=r.frames;a.set("readyCanvas",0),s.once("loaded:all",function(){return a.set("readyCanvas",1)}),e?.remove(),this.frames=new ck({collection:s},dg(dg({},i),{canvasView:this}))},n.prototype.checkSelected=function(t,e){var r;e===void 0&&(e={});var i=e.scroll,a=this.em.getCurrentFrame();i&&((r=t.views)===null||r===void 0||r.forEach(function(s){s.frameView===a&&s.scrollIntoView(i)}))},n.prototype.remove=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return clearTimeout(this.timerZoom),(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,ko.prototype.remove.apply(this,e),this.toggleListeners(!1),this},n.prototype.preventDefault=function(t){var e;t&&(t.preventDefault(),(e=t._parentEvent)===null||e===void 0||e.preventDefault())},n.prototype.toggleListeners=function(t){var e=this,r=e.el,i=e.config,a=t?Me.on:Me.AU;a(document,"keypress",this.onKeyPress),a(window,"scroll resize",this.clearOff),a(r,"wheel",this.onWheel,{passive:!i.infiniteCanvas}),a(r,"pointermove",this.onPointer)},n.prototype.screenToWorld=function(t,e){var r=this.module,i=r.getCoords(),a=r.getZoomMultiplier(),s=this.getViewportDelta();return{x:(t-i.x-s.x)*a,y:(e-i.y-s.y)*a}},n.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var e=this.getCanvasOffset(),r=(0,Me.Xy)(),i={x:t.clientX-e.left+r.x,y:t.clientY-e.top+r.y};if(t._parentEvent){var a=t.target.getBoundingClientRect(),s=this.module.getZoomDecimal();i.x=a.left-e.left+r.x+t.clientX*s,i.y=a.top-e.top+r.y+t.clientY*s}this.model.set({pointerScreen:i,pointer:this.screenToWorld(i.x,i.y)})}},n.prototype.onKeyPress=function(t){var e=this.em,r=(0,Me.Ch)(t);r===" "&&e.getZoomDecimal()!==1&&!e.Canvas.isInputFocused()&&(this.preventDefault(t),e.Editor.runCommand("core:canvas-move"))},n.prototype.onWheel=function(t){var e=this,r=e.module,i=e.config;if(i.infiniteCanvas){this.preventDefault(t);var a=t.deltaX,s=t.deltaY,l=r.getZoomDecimal(),c=(0,Me.rp)(t),u=r.getCoords();if(c){var p=l-s*l*.01;r.setZoom(p*100);var g=this.model.getPointerCoords(_e.x2.Screen),h=this.getCanvasOffset(),y=g.x-h.width/2,_=g.y-h.height/2,x=p/l,P=y-(y-u.x)*x,w=_-(_-u.y)*x;r.setCoords(P,w)}else this.onPointer(t),r.setCoords(u.x-a,u.y-s)}},n.prototype.updateFrames=function(t){var e=this.em,r=this.toolsWrapper,i={preserveSelected:1};this.updateFramesArea(),this.clearOff(),r.style.display="none",e.trigger("canvas:update",t),clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){e.stopDefault(i),e.runDefault(i),r.style.display=""},300)},n.prototype.updateFramesArea=function(){var t=this,e=t.framesArea,r=t.model,i=t.module,a=t.cvStyle,s=t.clsUnscale,l=i.getZoomMultiplier();if(e){var c=r.attributes,u=c.x,p=c.y,g=i.getZoomDecimal();e.style.transform="scale(".concat(g,") translate(").concat(u*l,"px, ").concat(p*l,"px)")}a&&(a.innerHTML=`
        .`.concat(s," { scale: ").concat(l,` }
      `))},n.prototype.fitViewport=function(t){var e,r,i;t===void 0&&(t={});var a=this,s=a.em,l=a.module,c=a.model;this.clearOff();var u=this.getCanvasOffset(),p=t.el,g=p&&((e=(0,ie.getComponentView)(p))===null||e===void 0?void 0:e.frameView),h=g?g.model:t.frame||s.getCurrentFrameModel()||c.frames.at(0),y=h.attributes,_=y.x,x=y.y,P={x:_??0,y:x??0,width:h.width,height:h.height};if(p){var w=this.getElBoxRect(p);P.x=P.x+w.x,P.y=P.y+w.y,P.width=w.width,P.height=w.height}var T=t.ignoreHeight,b=(r=t.gap)!==null&&r!==void 0?r:0,k=(0,tt.isNumber)(b),E=k?b:b.x,L=k?b:b.y,R=P.width+E*2,z=P.height+L*2,N=u.width,j=u.height,D=N/R,W=j/z,q=T?D:Math.min(D,W),J=q*100,I=(i=(0,tt.isFunction)(t.zoom)?t.zoom(J):t.zoom)!==null&&i!==void 0?i:J;l.setZoom(I,{from:"fitViewport"});var Z=-P.x+(h.width>=N?N/2-R/2:-E),et=-P.y+j/2-z/2,ut=l.getZoomDecimal(),Rt={x:(Z+E)*ut,y:(et+L)*ut};if(T){var Gt=l.getZoomMultiplier(),Pt=j*Gt,_t=Pt-j,rt=_t/2;Rt.y=(-P.y+L)*ut-rt/Gt}l.setCoords(Rt.x,Rt.y)},n.prototype.isElInViewport=function(t){var e=(0,ie.getElement)(t),r=(0,Me.C8)(e),i=this.getFrameOffset(e),a=r.top,s=r.left;return a>=0&&s>=0&&a<=i.height&&s<=i.width},n.prototype.offset=function(t,e){e===void 0&&(e={});var r=e.noScroll,i=(0,Me.C8)(t),a=r?{x:0,y:0}:(0,Me.Xy)(t);return{top:i.top+a.y,left:i.left+a.x,width:i.width,height:i.height}},n.prototype.getRectToScreen=function(t){var e,r,i,a,s=this.getCanvasScroll(),l=this.module.getZoomDecimal(),c=this.module.getCoords(),u=this.getViewportDelta(),p=((e=t.x)!==null&&e!==void 0?e:0)*l-s.scrollLeft+c.x+u.x||0,g=((r=t.y)!==null&&r!==void 0?r:0)*l-s.scrollTop+c.y+u.y||0;return{x:p,y:g,width:((i=t.width)!==null&&i!==void 0?i:0)*l,height:((a=t.height)!==null&&a!==void 0?a:0)*l}},n.prototype.getElBoxRect=function(t,e){var r,i,a;e===void 0&&(e={});var s=this.module,l=(0,Me.C8)(t),c=l.width,u=l.height,p=l.left,g=l.top,h=(r=(0,ie.getComponentView)(t))===null||r===void 0?void 0:r.frameView,y=h?.getBoxRect(),_=s.getZoomMultiplier(),x=(i=y?.x)!==null&&i!==void 0?i:0,P=(a=y?.y)!==null&&a!==void 0?a:0,w=this.el,T=(0,Me.Xy)(),b=p+x+(w.scrollLeft+T.x)*_,k=g+P+(w.scrollTop+T.y)*_,E={x:b,y:k,width:c,height:u};return e.local&&(E.x=p,E.y=g),e.toScreen?this.getRectToScreen(E):E},n.prototype.getViewportRect=function(t){t===void 0&&(t={});var e=this.getCanvasOffset(),r=e.top,i=e.left,a=e.width,s=e.height,l=this.module;if(t.toWorld){var c=l.getZoomMultiplier(),u=l.getCoords(),p=this.getViewportDelta(),g=-u.x-p.x||0,h=-u.y-p.y||0;return{x:g*c,y:h*c,width:a*c,height:s*c}}else return{x:i,y:r,width:a,height:s}},n.prototype.getViewportDelta=function(t){t===void 0&&(t={});var e=this.module.getZoomMultiplier(),r=this.getCanvasOffset(),i=r.width,a=r.height,s=i*e,l=a*e,c=s-i,u=l-a;return{x:c/2/e,y:u/2/e}},n.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},n.prototype.getFrameOffset=function(t){var e;if(!this.frmOff||t){var r=(e=this.frame)===null||e===void 0?void 0:e.el,i=t?.ownerDocument.defaultView,a=i?i.frameElement:r;this.frmOff=this.offset(a||r)}return this.frmOff},n.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},n.prototype.getElementPos=function(t,e){e===void 0&&(e={});var r=this.module.getZoomDecimal(),i=this.getFrameOffset(t),a=this.el,s=this.getCanvasOffset(),l=this.offset(t,e),c=e.avoidFrameOffset?0:i.top,u=e.avoidFrameOffset?0:i.left,p=e.avoidFrameZoom?l.top:l.top*r,g=e.avoidFrameZoom?l.left:l.left*r,h=e.avoidFrameOffset?p:p+c-s.top+a.scrollTop,y=e.avoidFrameOffset?g:g+u-s.left+a.scrollLeft,_=e.avoidFrameZoom?l.height:l.height*r,x=e.avoidFrameZoom?l.width:l.width*r;return{top:h,left:y,height:_,width:x,zoom:r,rect:l}},n.prototype.getElementOffsets=function(t){if(!t||(0,Me.ir)(t))return{};var e={},r=window.getComputedStyle(t),i=this.module.getZoomDecimal(),a=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return a.forEach(function(s){e[s]=parseFloat(r[s])*i}),e},n.prototype.getPosition=function(t){var e;t===void 0&&(t={});var r=(e=this.frame)===null||e===void 0?void 0:e.el.contentDocument;if(!r)return{top:0,left:0,width:0,height:0};var i=r.body,a=this.module.getZoomDecimal(),s=this.getFrameOffset(),l=this.getCanvasOffset(),c=t.noScroll;return{top:s.top+(c?0:i.scrollTop)*a-l.top,left:s.left+(c?0:i.scrollLeft)*a-l.left,width:l.width,height:l.height}},n.prototype.getCanvasScroll=function(){return this.config.scrollableCanvas?{scrollTop:this.el.scrollTop,scrollLeft:this.el.scrollLeft}:{scrollTop:0,scrollLeft:0}},n.prototype.updateScript=function(t){var e=t.model,r=e.getId(),i={component:e,view:t,el:t.el};if(!t.scriptContainer){t.scriptContainer=(0,Me.a_)("div",{"data-id":r});var a=this.getJsContainer();a?.appendChild(t.scriptContainer)}t.el.id=r,t.scriptContainer.innerHTML="";var s=document.createElement("script"),l=e.getScriptString(),c=e.get("script-props")?l:`function(){
`.concat(l,`
;}`),u=JSON.stringify(e.__getScriptProps());s.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(r,`');
        if (!item) return;
        var script = (`).concat(c,`).bind(item);
        script(`).concat(u,`, { el: item });
      }, 1);`),setTimeout(function(){e.emitWithEditor(kn.I.scriptMountBefore,i);var p=t.scriptContainer;p?.appendChild(s),e.emitWithEditor(kn.I.scriptMount,i)},0)},n.prototype.getJsContainer=function(t){var e=this.getFrameView(t);return e?.getJsContainer()},n.prototype.getFrameView=function(t){return t?.frameView||this.em.getCurrentFrame()},n.prototype._renderFrames=function(){if(this.ready){var t=this,e=t.model,r=t.frames,i=t.em,a=t.framesArea,s=e.frames;s.listenToLoad(),r.render();var l=s.at(0),c=l?.view;i.setCurrentFrame(c),a?.appendChild(r.el),this.frame=c,this.updateFramesArea()}},n.prototype.renderFrames=function(){this._renderFrames()},n.prototype.render=function(){var t=this,e=t.el,r=t.$el,i=t.ppfx,a=t.config,s=t.em;r.html(this.template());var l=r.find("[data-frames]");this.framesArea=l.get(0);var c=r.find("[data-tools]");return this.toolsWrapper=c.get(0),c.append(`
      <div class="`.concat(i,"tools ").concat(i,`tools-gl" style="pointer-events:none">
        <div class="`).concat(i,`placeholder">
          <div class="`).concat(i,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(i,`tools" style="pointer-events:none">
        `).concat(a.extHl?'<div class="'.concat(i,'highlighter-sel"></div>'):"",`
        <div class="`).concat(i,`badge"></div>
        <div class="`).concat(i,`ghost"></div>
        <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(i,`resizer"></div>
        <div class="`).concat(i,`offset-v"></div>
        <div class="`).concat(i,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=e.querySelector("#".concat(i,"tools")),this.hlEl=e.querySelector(".".concat(i,"highlighter")),this.badgeEl=e.querySelector(".".concat(i,"badge")),this.placerEl=e.querySelector(".".concat(i,"placeholder")),this.ghostEl=e.querySelector(".".concat(i,"ghost")),this.toolbarEl=e.querySelector(".".concat(i,"toolbar")),this.resizerEl=e.querySelector(".".concat(i,"resizer")),this.offsetEl=e.querySelector(".".concat(i,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(i,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(i,"tools-gl")),this.spotsEl=e.querySelector("[data-spots]"),this.cvStyle=e.querySelector("[data-canvas-style]"),e.className=(0,ie.getUiClass)(s,this.className),a.scrollableCanvas===!0&&(e.style.overflow="auto"),this.ready=!0,this._renderFrames(),this},n}(ko),pk=uk,fk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pl=function(){return Pl=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Pl.apply(this,arguments)},gk=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},hk=function(o){fk(n,o);function n(t){var e=o.call(this,t,"Canvas",P3())||this;return e.events=H0,e.framesById={},e.canvas=new D3(e),e.spots=new R3(e),e.model=e.canvas,e.startAutoscroll=e.startAutoscroll.bind(e),e.stopAutoscroll=e.stopAutoscroll.bind(e),e.autoScroller=new DO,e}return n.prototype.getCanvasView=function(){return this.canvasView},n.prototype.postLoad=function(){this.model.init()},n.prototype.getModel=function(){return this.canvas},n.prototype.getElement=function(){return this.getCanvasView().el},n.prototype.getFrame=function(t){return this.getFrames()[t||0]},n.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t?.el},n.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},n.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t?.getWindow()},n.prototype.getDocument=function(){var t=this.getFrameEl();return t?.contentDocument},n.prototype.getBody=function(){var t=this.getDocument();return t?.body},n.prototype._getLocalEl=function(t,e,r){var i=t,a=e?.frameView;return i=a?a[r]():i,i},n.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},n.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},n.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},n.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},n.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},n.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},n.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},n.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},n.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},n.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},n.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},n.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new pk(this.canvas),this.canvasView.render().el},n.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},n.prototype.offset=function(t){return this.getCanvasView().offset(t)},n.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},n.prototype.getElementPos=function(t,e){return this.getCanvasView().getElementPos(t,e)},n.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},n.prototype.getRect=function(){var t,e=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},r=e.top,i=r===void 0?0:r,a=e.left,s=a===void 0?0:a;return Pl(Pl({},this.getCanvasView().getCanvasOffset()),{topScroll:i,leftScroll:s})},n.prototype.getTargetToElementDim=function(t,e,r){r===void 0&&(r={});var i=r||{},a=this.getCanvasView().getPosition();if(a){var s=i.elPos||this.getCanvasView().getElementPos(e),l=r.toRight||0,c=i.targetHeight||t.offsetHeight,u=i.targetWidth||t.offsetWidth,p=i.event||null,g=s.top-c,h=s.left;h+=l?s.width:0,h=l?h-u:h;var y=h<a.left?a.left:h,_=g<a.top?a.top:g;_=_>s.top+s.height?s.top+s.height:_;var x={top:_,left:y,elementTop:s.top,elementLeft:s.left,elementWidth:s.width,elementHeight:s.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:a.top,canvasLeft:a.left,canvasWidth:a.width,canvasHeight:a.height};return p&&this.em&&this.em.trigger(p,x),x}},n.prototype.canvasRectOffset=function(t,e,r){var i=this;r===void 0&&(r={});var a=function(l){var c=l.defaultView;return c?.frameElement},s=function(l,c,u){c===void 0&&(c=1);var p=i.em.getZoomDecimal(),g=c?"top":"left",h=l.ownerDocument,y=r.offset?a(h):{},_=y.offsetTop,x=_===void 0?0:_,P=y.offsetLeft,w=P===void 0?0:P,T=h.body||{},b=T.scrollTop,k=b===void 0?0:b,E=T.scrollLeft,L=E===void 0?0:E,R=c?k:L,z=c?x:w;return u[g]-(R-z)*p};return{top:s(t,1,e),left:s(t,0,e)}},n.prototype.getTargetToElementFixed=function(t,e,r){r===void 0&&(r={});var i=r.pos||this.getElementPos(t,{noScroll:!0}),a=r.canvasOff||this.canvasRectOffset(t,i),s=e.offsetHeight||0,l=e.offsetWidth||0,c=this.getCanvasView(),u=c.getCanvasScroll(),p=u.scrollTop,g=u.scrollLeft,h=c.getPosition(),y=r.event,_=i.width-l,x=-s,P=(0,tt.isUndefined)(r.left)?_:r.left,w=Math.max(-i.left+g,0);P=Math.max(P,w);var T=i.width-l;P=Math.min(P,T);var b=h.width+g-l-i.left;P=Math.min(P,b);var k=a.top<s+p,E=x;if(k){var L=i.height+s,R=L<h.height;if(R)E=E+L;else{var z=-a.top+p;E=z<i.height?z:i.height}}var N={top:E,left:P,canvasOffsetTop:a.top,canvasOffsetLeft:a.left,elRect:i,canvasOffset:a,canvasRect:h,targetWidth:l,targetHeight:s};return y&&this.em.trigger(y,N),N},n.prototype.getMouseRelativePos=function(t,e){e===void 0&&(e={});var r=e.subWinOffset,i=t.target,a=i.nodeType===Node.DOCUMENT_NODE?i:i.ownerDocument,s=a.defaultView||a.parentWindow,l=s.frameElement,c=r?s.pageYOffset:0,u=r?s.pageXOffset:0,p=this.getZoomMultiplier(),g=0,h=0;if(l){var y=l.getBoundingClientRect();g=y.top||0,h=y.left||0}return{y:(t.clientY+g-c)*p,x:(t.clientX+h-u)*p}},n.prototype.getMouseRelativeCanvas=function(t,e){var r,i=this.getZoomDecimal(),a=this.getCanvasView(),s=(r=a.getPosition(e))!==null&&r!==void 0?r:{top:0,left:0},l=a.getCanvasScroll(),c={top:s.top+l.scrollTop,left:s.left+l.scrollLeft},u=c.top,p=c.left;return{y:t.clientY*i+u,x:t.clientX*i+p}},n.prototype.startDrag=function(t){this.em.set("dragSource",t)},n.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},n.prototype.hasFocus=function(){return this.getDocument().hasFocus()},n.prototype.isInputFocused=function(){var t=this.getDocument(),e=this.getFrameEl(),r=gk(["body"],this.config.notTextable,!0),i=e&&document.activeElement===e,a=i?t&&t.activeElement:document.activeElement;return a&&!r.some(function(s){return a.matches(s)})},n.prototype.scrollTo=function(t,e){e===void 0&&(e={});var r=(0,ie.getElement)(t),i=r&&(0,ie.getViewEl)(r);i&&i.scrollIntoView(e)},n.prototype.startAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();if(e&&e.startAutoscroll(),this.config.scrollableCanvas){var r=this.getCanvasView().el;this.autoScroller.start(r,r,{zoom:this.em.getZoomDecimal(),ignoredElement:this.getSpotsEl()})}},n.prototype.stopAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll(),this.config.scrollableCanvas&&this.autoScroller.stop()},n.prototype.setZoom=function(t,e){return e===void 0&&(e={}),this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t,e),this},n.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},n.prototype.setCoords=function(t,e,r){var i;r===void 0&&(r={});var a=t||t===0,s=e||e===0,l={x:this.canvas.get("x"),y:this.canvas.get("y")};if(a&&(l.x=parseFloat("".concat(t))),s&&(l.y=parseFloat("".concat(e))),r.toWorld){var c=(i=this.canvasView)===null||i===void 0?void 0:i.getViewportDelta();c&&(a&&(l.x=l.x-c.x),s&&(l.y=l.y-c.y))}return this.canvas.set(l),this},n.prototype.getCoords=function(){var t=this.canvas.attributes,e=t.x,r=t.y;return{x:e,y:r}},n.prototype.getPointer=function(t){var e=this.canvas.attributes,r=e.pointer,i=e.pointerScreen;return t?i:r},n.prototype.getZoomDecimal=function(){return this.getZoom()/100},n.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},n.prototype.fitViewport=function(t){var e;(e=this.canvasView)===null||e===void 0||e.fitViewport(t)},n.prototype.toggleFramesEvents=function(t){var e=this.getFramesEl().style;e.pointerEvents=t?"":"none"},n.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},n.prototype.addFrame=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.canvas.frames.add(new hO(this,Pl({},t)),e)},n.prototype.getLastDragResult=function(){return this.em.get("dragResult")},n.prototype.addSpot=function(t,e){var r;e===void 0&&(e={});var i=t,a=this.getSpots(i);if(a.length){var s=a[0];return s.set(i),s}var l=i.componentView||((r=i.component)===null||r===void 0?void 0:r.view),c=new To.A(this,Pl(Pl({},i),{id:i.id||"cs_".concat(i.type,"_").concat(l?.cid),type:i.type||""}));return this.spots.add(c,e),c},n.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},n.prototype.removeSpots=function(t){t===void 0&&(t={});var e=(0,tt.isArray)(t)?t:this.getSpots(t),r=this.spots.remove(e);return r},n.prototype.hasCustomSpot=function(t){var e=this.config.customSpots;return!!(e===!0||e&&t&&e[t])},n.prototype.getWorldRectToScreen=function(t){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.getRectToScreen(t)},n.prototype.refresh=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.events,a=e.canvasView;a?.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),r.trigger("canvas:updateTools")),r.set("canvasOffset",this.getOffset()),r.trigger(i.refresh,t)},n.prototype.refreshSpots=function(){this.spots.refresh()},n.prototype.destroy=function(){var t=this,e;this.canvas.stopListening(),(e=this.canvasView)===null||e===void 0||e.remove(),["model","droppable"].forEach(function(r){return t[r]={}})},n}(Hi),mk=hk,vk=function(){return{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}},_k=vk,yk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ug=function(){return ug=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ug.apply(this,arguments)},bk=function(o){yk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return ug(ug({},o.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){var t=this.content,e=this.parent();return e?.is("script")?t:this.__escapeContent(t)},n.prototype.__escapeContent=function(t){return(0,ie.escapeNodeContent)(t)},n.isComponent=function(t){var e;if(t.nodeType===3)return{type:"textnode",content:(e=t.textContent)!==null&&e!==void 0?e:""}},n}(lr),RO=bk,Ck=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_0=function(){return _0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},_0.apply(this,arguments)},xk=function(o){Ck(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return _0({},o.prototype.defaults)},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},n.isComponent=function(t){var e;if(t.nodeType==8)return{type:"comment",content:(e=t.textContent)!==null&&e!==void 0?e:""}},n}(RO),Ok=xk,Pk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pg=function(){return pg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},pg.apply(this,arguments)},k1="iframe",Mk=function(o){Pk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return pg(pg({},o.prototype.defaults),{type:k1,tagName:k1,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===k1},n}(lr),wk=Mk,Sk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fg=function(){return fg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},fg.apply(this,arguments)},tx='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',Tk=function(o){Sk(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,e)||this,i=r.get("attributes").src;return i&&(0,ie.buildBase64UrlFromSvg)((0,tt.result)(r,"defaults").src)!==i&&r.set("src",i,{silent:!0}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return fg(fg({},o.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(tx,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(tx,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),n.prototype.initToolbar=function(){o.prototype.initToolbar.call(this);var t=this.em;if(t){var e=t.Commands,r="image-editor";if(e.has(r)){for(var i=!1,a=this.get("toolbar"),s=0;s<a.length;s++)if(a[s].command==="image-editor"){i=!0;break}i||(a.push({attributes:{class:"fa fa-pencil"},command:r}),this.set("toolbar",a))}}},n.prototype.getAttrToHTML=function(){var t=o.prototype.getAttrToHTML.call(this),e=this.getSrcResult();return e&&(t.src=e),t},n.prototype.getSrcResult=function(t){t===void 0&&(t={});var e=this.get(t.fallback?"fallback":"src")||"",r=e;return e&&e.substr(0,4)==="<svg"&&(r=(0,ie.buildBase64UrlFromSvg)(e)),r},n.prototype.isDefaultSrc=function(){var t=this.get("src"),e=(0,tt.result)(this,"defaults").src;return t===e||t===(0,ie.buildBase64UrlFromSvg)(e)},n.prototype.toJSON=function(t){var e=o.prototype.toJSON.call(this,t),r=e.attributes;return r&&e.src===r.src&&delete e.src,e},n.prototype.parseUri=function(t){var e={},r=function(i){i===void 0&&(i="");for(var a={},s=i.substring(1).split("&"),l=0;l<s.length;l++){var c=s[l].split("="),u=decodeURIComponent(c[0]);u&&(a[u]=decodeURIComponent(c[1]||""))}return a};if((0,ie.hasWin)())e=document.createElement("a"),e.href=t;else if(typeof URL<"u")try{e=new URL(t)}catch{}return{hostname:e.hostname||"",pathname:e.pathname||"",protocol:e.protocol||"",search:e.search||"",hash:e.hash||"",port:e.port||"",query:r(e.search)}},n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)==="img"},n}(lr),$0=Tk,Ek=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gg=function(){return gg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},gg.apply(this,arguments)},kk=function(o){Ek(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,e)||this;return r.__checkInnerChilds(),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return gg(gg({},o.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var e=function(r){r.isInstanceOf("textnode")||r.set({locked:!0,layerable:!1})};(0,tt.isFunction)(t)?this.forEachChild(function(r){t(r)&&e(r)}):this.forEachChild(e)}},n}(lr),Y0=kk,Ak=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hg=function(){return hg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},hg.apply(this,arguments)},A1="label",Ik=function(o){Ak(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return hg(hg({},o.prototype.defaults),{type:A1,tagName:A1,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===A1},n}(Y0),Dk=Ik,Lk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mg=function(){return mg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},mg.apply(this,arguments)},ex="link",Nk=function(o){Lk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return mg(mg({},o.prototype.defaults),{type:ex,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t,e){e===void 0&&(e={});var r;if((0,ie.toLowerCase)(t.tagName)==="a"){var i=e.textTags||[];r={type:ex,editable:!1};var a=t.childNodes,s=a.length;s||delete r.editable,(0,tt.forEach)(a,function(l){var c=l.tagName;(l.nodeType==3&&l.textContent.trim()!==""||c&&i.indexOf((0,ie.toLowerCase)(c))>=0)&&delete r.editable})}return r},n}(Y0),Rk=Nk,Fk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vg=function(){return vg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},vg.apply(this,arguments)},Vk=function(o){Fk(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,e)||this;return r.get("src")?r.parseFromSrc():r.updateSrc(),r.listenTo(r,"change:address change:zoom change:mapType",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var t=o.prototype.defaults;return vg(vg({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),n.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},n.prototype.getMapUrl=function(){var t=this.get("address"),e=this.get("zoom"),r=this.get("mapType");t=t?"&q="+t:"",e=e?"&z="+e:"",r=r?"&t="+r:"";var i=this.get("mapUrl")+"?"+t+e+r;return i+="&output=embed",i},n.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),e=t.query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)},n.isComponent=function(t){if((0,ie.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},n}($0),zk=Vk,jk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_g=function(){return _g=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},_g.apply(this,arguments)},I1="script",Hk=function(o){jk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return _g(_g({},o.prototype.defaults),{type:I1,tagName:I1,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===I1},n}(lr),Bk=Hk,Uk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yg=function(){return yg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},yg.apply(this,arguments)},D1="svg",Wk=function(o){Uk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return yg(yg({},o.prototype.defaults),{type:D1,tagName:D1,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),n.prototype.getName=function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t},n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===D1},n}(lr),FO=Wk,Gk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bg=function(){return bg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},bg.apply(this,arguments)},Kk=function(o){Gk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return bg(bg({},o.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t,e){return e===void 0&&(e={}),!!e.inSvg},n}(FO),qk=Kk,$k=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cg=function(){return Cg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Cg.apply(this,arguments)},L1="table",Yk=function(o){$k(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,e)||this,i=r.get("components");return!i.length&&i.add({type:"tbody"}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Cg(Cg({},o.prototype.defaults),{type:L1,tagName:L1,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===L1},n}(lr),Xk=Yk,Qk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xg=function(){return xg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},xg.apply(this,arguments)},N1="tbody",Jk=function(o){Qk(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,e)||this,i=r.get("components"),a=r.get("columns"),s=r.get("rows");if(!i.length){for(var l=[];s--;){for(var c=[],u=a;u--;)c.push({type:"cell",classes:["cell"]});l.push({type:"row",classes:["row"],components:c})}i.add(l)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return xg(xg({},o.prototype.defaults),{type:N1,tagName:N1,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===N1},n}(lr),X0=Jk,Zk=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Og=function(){return Og=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Og.apply(this,arguments)},t7=function(o){Zk(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Og(Og({},o.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return["td","th"].indexOf((0,ie.toLowerCase)(t.tagName))>=0},n}(lr),e7=t7,n7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pg=function(){return Pg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Pg.apply(this,arguments)},R1="tfoot",r7=function(o){n7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Pg(Pg({},o.prototype.defaults),{type:R1,tagName:R1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===R1},n}(X0),i7=r7,o7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mg=function(){return Mg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Mg.apply(this,arguments)},F1="thead",a7=function(o){o7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Mg(Mg({},o.prototype.defaults),{type:F1,tagName:F1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===F1},n}(X0),s7=a7,l7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wg=function(){return wg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},wg.apply(this,arguments)},nx="tr",c7=function(o){l7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return wg(wg({},o.prototype.defaults),{tagName:nx,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===nx},n}(lr),d7=c7,u7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sg=function(){return Sg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Sg.apply(this,arguments)},V1="video",Tc="yt",Ec="vi",kc="ytnc",rx="so",z1=function(o){return o&&o!=="0"},p7=function(o){u7(n,o);function n(t,e){t===void 0&&(t={});var r=o.call(this,t,e)||this;return r.get("src")&&r.parseFromSrc(),r.updatePropsFromAttr(),r.updateTraits(),r.on("change:provider",r.updateTraits),r.on("change:videoId change:provider",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Sg(Sg({},o.prototype.defaults),{type:V1,tagName:V1,videoId:"",void:!1,provider:rx,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:!1,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),n.prototype.updatePropsFromAttr=function(){if(this.get("provider")===rx){var t=this.get("attributes"),e=t.controls,r=t.autoplay,i=t.loop,a=t.muted,s={};(0,ie.isDef)(e)&&(s.controls=!!e),(0,ie.isDef)(r)&&(s.autoplay=!!r),(0,ie.isDef)(i)&&(s.loop=!!i),(0,ie.isDef)(a)&&(s.muted=!!a),(0,ie.isEmptyObj)(s)||this.set(s)}},n.prototype.updateTraits=function(){var t=this.em,e=this.get("provider"),r="iframe",i;switch(e){case Tc:case kc:i=this.getYoutubeTraits();break;case Ec:i=this.getVimeoTraits();break;default:r="video",i=this.getSourceTraits()}this.set({tagName:r},{silent:!0}),this.set({traits:i}),t.get("ready")&&t.trigger("component:toggled")},n.prototype.parseFromSrc=function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),r=e.query;switch(t){case Tc:case kc:case Ec:this.set("videoId",e.pathname.split("/").pop()),r.list&&this.set("list",r.list),z1(r.autoplay)&&this.set("autoplay",!0),z1(r.loop)&&this.set("loop",!0),parseInt(r.controls)===0&&this.set("controls",!1),z1(r.color)&&this.set("color",r.color),r.rel==="0"&&this.set("rel",0),r.modestbranding==="1"&&this.set("modestbranding",1),r.muted==="1"&&this.set("muted",!0);break;default:}},n.prototype.updateSrc=function(){var t=this.get("provider"),e="";switch(t){case Tc:e=this.getYoutubeSrc();break;case kc:e=this.getYoutubeNoCookieSrc();break;case Ec:e=this.getVimeoSrc();break}this.set({src:e})},n.prototype.getAttrToHTML=function(){var t=o.prototype.getAttrToHTML.call(this),e=this.get("provider");switch(e){case Tc:case kc:case Ec:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls"),t.muted=!!this.get("muted")}return t},n.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Tc,name:"Youtube"},{value:kc,name:"Youtube (no cookie)"},{value:Ec,name:"Vimeo"}]}},n.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),this.getMutedTrait()]},n.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0},this.getMutedTrait()]},n.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getMutedTrait()]},n.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},n.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},n.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},n.prototype.getMutedTrait=function(){return{type:"checkbox",label:"Muted",name:"muted",changeProp:!0}},n.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),e=this.get("ytUrl"),r=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=r?"&list=".concat(r):"",e+=this.get("autoplay")?"&autoplay=1":"",e+=this.get("muted")?"&mute=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",e+=this.get("rel")?"":"&rel=0",e+=this.get("modestbranding")?"&modestbranding=1":"",e},n.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},n.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1":"",t+=this.get("muted")?"&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},n.isComponent=function(t){var e=t.tagName,r=t.src,i=/youtube\.com\/embed/.test(r),a=/youtube-nocookie\.com\/embed/.test(r),s=/player\.vimeo\.com\/video/.test(r),l=i||a||s;if((0,ie.toLowerCase)(e)==V1||(0,ie.toLowerCase)(e)=="iframe"&&l){var c={type:"video"};return r&&(c.src=r),l&&(i?c.provider=Tc:a?c.provider=kc:s&&(c.provider=Ec)),c}},n}($0),f7=p7,g7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fc=function(){return Fc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Fc.apply(this,arguments)},h7=function(o){g7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Fc(Fc({},o.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),n.prototype.preInit=function(){var t,e,r=this,i=r.opt,a=r.attributes,s=(t=this.em)===null||t===void 0?void 0:t.Components,l=(e=s?.getType(Yc))===null||e===void 0?void 0:e.model,c=s?.getType("default").model;if(l){var u=a.head,p=a.docEl;this.set({head:u&&u instanceof lr?u:new l(Fc({},u),i),docEl:p&&p instanceof lr?p:new c(Fc({tagName:"html"},p),i)},{silent:!0})}},Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),n.prototype.clone=function(t){var e=o.prototype.clone.call(this,t);return e.set("head",this.get("head").clone(t)),e.set("docEl",this.get("docEl").clone(t)),e},n.prototype.toHTML=function(t){t===void 0&&(t={});var e=this.doctype,r=(0,tt.isUndefined)(t.asDocument)?!!e:t.asDocument,i=this,a=i.head,s=i.docEl,l=o.prototype.toHTML.call(this,t),c=r&&a?.toHTML(t)||"",u=r&&(0,Me.kk)(s?.getAttrToHTML())||"",p=u?" ".concat(u):"";return r?"".concat(e,"<html").concat(p,">").concat(c).concat(l,"</html>"):l},n.prototype.__postAdd=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&e?.add(this),o.prototype.__postAdd.call(this)},n.prototype.__postRemove=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return e?.remove(this),o.prototype.__postRemove.call(this)},n.isComponent=function(){return!1},n}(lr),m7=h7,v7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_7=function(o){v7(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.compView=$n,t}return n.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},n.prototype.removeChildren=function(t,e,r){var i=this;r===void 0&&(r={}),t.views.forEach(function(s){if(s){var l=s.childrenView,c=s.scriptContainer;l&&l.stopListening(),(0,Me.YZ)(c),s.remove.apply(s)}});var a=t.components();a.forEach(function(s){return i.removeChildren(s,e,r)})},n.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},n.prototype.addToCollection=function(t,e,r){for(var i=this,a=i.config,s=i.opts,l=i.em,c=a.frameView,u=c?.model&&t.getView(c.model),p=s.componentTypes||l?.Components.getTypes(),g=t.get("type")||"default",h=this.compView,y=0;y<p.length;y++)if(p[y].id==g){h=p[y].view;break}var _=u||new h({model:t,config:a,componentTypes:p}),x;try{x=_.render().el}catch(b){x=document.createTextNode(""),l.logError(b)}if(e)e.appendChild(x);else{var P=this.parentEl,w=P.childNodes;if((0,tt.isUndefined)(r))P.appendChild(x);else{var T=w.length==r;T&&r--,T||!w.length?P.appendChild(x):P.insertBefore(x,w[r])}}return t.opt.temporary||l?.trigger(kn.I.mount,t),x},n.prototype.resetChildren=function(t,e){var r=this;e===void 0&&(e={});var i=e.previousModels;e.skipDomReset||(this.parentEl.innerHTML=""),i?.forEach(function(a){return r.removeChildren(a,r.collection)}),t.each(function(a){return r.addToCollection(a)})},n.prototype.render=function(t){var e=this,r=this.el,i=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(a){return e.addToCollection(a,i)}),r.innerHTML="",r.appendChild(i),this},n}(_e.Ss),VO=_7,y7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),da=function(){return da=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},da.apply(this,arguments)},b7=function(o){y7(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.rendered=!1,t}return n.prototype.className=function(){return this.getClasses()},n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.preinitialize=function(t){t===void 0&&(t={}),this.opts=t},n.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,r=t.config||{},i=r.em,a=e.opt||{},s=this,l=s.$el,c=s.el;this.opts=t,this.modelOpt=a,this.config=r,this.em=i,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status change:locked",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),l.data("model",e),(0,ie.setViewEl)(c,this),e.view=this,this.frameView&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=da(da({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!a.temporary&&this.init(this._clbObj())},Object.defineProperty(n.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"createDoc",{get:function(){var t,e,r=((t=this.frameView)===null||t===void 0?void 0:t.getDoc())||document;return!((e=this.opts.config)===null||e===void 0)&&e.useFrameDoc?r:document},enumerable:!1,configurable:!0}),n.prototype.__isDraggable=function(){var t=this,e=t.model,r=t.config,i=e.attributes.draggable;return r.draggableComponents&&i},n.prototype._clbObj=function(){var t=this,e=t.em,r=t.model,i=t.el;return{editor:e?.getEditor(),model:r,el:i}},n.prototype.init=function(t){},n.prototype.removed=function(t){},n.prototype.onRender=function(t){},n.prototype.onActive=function(t){},n.prototype.onDisable=function(t){},n.prototype.remove=function(){var t;o.prototype.remove.call(this);var e=this,r=e.model,i=e.$el,a=r.views,s=this.frameView||{};return r.components().forEach(function(l){var c=l.getView(s.model);c?.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),a.splice(a.indexOf(this),1),this.removed(this._clbObj()),i.data({model:"",collection:"",view:""}),this},n.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault();var e=this.em.getSelectedAll(),r=e.includes(this.model)?e:[this.model];this.em.Commands.run("tlb-move",{target:r,event:t})},n.prototype.initClasses=function(){var t=this.model,e=t.classes,r="change:classes";e instanceof Ls&&(this.stopListening(t,r,this.initClasses),this.listenTo(t,r,this.initClasses),this.listenTo(e,"add remove change reset",this.updateClasses),e.length&&this.importClasses())},n.prototype.initComponents=function(t){t===void 0&&(t={});var e=this,r=e.model,i=e.$el,a=e.childrenView,s="change:components",l=r.get("components"),c=[r,s,this.initComponents];l instanceof Fu&&(i.data("collection",l),a&&a.remove(),this.stopListening.apply(this,c),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,c))},n.prototype.handleChange=function(){var t=this.model,e=(0,tt.keys)(t.changed);if(!(e.length===1&&e[0]==="status")){t.emitUpdate();for(var r in t.changed)t.emitUpdate(r)}},n.prototype.importClasses=function(){var t=this,e=t.em,r=t.model,i=e.Selectors;i&&r.classes.forEach(function(a){return i.add(a.getName())})},n.prototype.updateStatus=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.el,a=e.ppfx,s=e.model,l=r?.Canvas,c=l?.config.extHl,u=s.get("status"),p="".concat(a,"selected"),g="".concat(p,"-parent"),h="".concat(a,"freezed"),y="".concat(a,"hovered"),_="".concat(a,"no-pointer"),x="".concat(a,"pointer-init"),P=[p,g,h,y,_,x],w=c&&!t.noExtHl?"":p;this.$el.removeClass(P.join(" "));var T=i.getAttribute("class")||"",b=[T],k=!l?.hasCustomSpot(To.F.Select),E=!l?.hasCustomSpot(To.F.Target);switch(u){case"selected":k&&b.push(w);break;case"selected-parent":E&&b.push(g);break;case"freezed":b.push(h);break;case"freezed-selected":b.push(h),k&&b.push(w);break;case"hovered":!t.avoidHover&&b.push(y);break}(0,tt.isBoolean)(s.locked)&&b.push(s.locked?_:x);var L=b.filter(Boolean).join(" ");L&&i.setAttribute("class",L)},n.prototype.updateHighlight=function(){var t=this.model,e=t.get("textable"),r=t.get("highlightable")&&(e||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",r?!0:"")},n.prototype.updateStyle=function(t,e,r){r===void 0&&(r={});var i=this,a=i.model,s=i.em;if(Ol(s)&&!r.inline){var l=this.__cmpStyleOpts,c=a.getStyle(da({inline:!0},l));!(0,tt.isEmpty)(c)&&a.setStyle(c,l)}else this.setAttribute("style",a.styleToString(r))},n.prototype.updateStyles=function(){this.updateStyle()},n.prototype.updateClasses=function(){var t,e,r=((e=(t=this.model.classes).pluck)===null||e===void 0?void 0:e.call(t,"name").join(" "))||"";this.setAttribute("class",r),this.updateStatus(),this.onAttrUpdate()},n.prototype.setAttribute=function(t,e){var r=this.$el;e?r.attr(t,e):r.removeAttr(t)},n.prototype.getClasses=function(){return this.model.getClasses().join(" ")},n.prototype.updateAttributes=function(){var t=[],e=this,r=e.model,i=e.$el,a=e.el,s=r.attributes,l=s.textable,c=s.type,u=da(da({id:r.getId(),"data-gjs-type":c||"default"},this.__isDraggable()&&{draggable:!0}),l&&{contenteditable:"false"});this.__clearAttributes(),this.updateStyle(),this.updateHighlight();var p=da(da({},u),r.getAttributes());(0,tt.keys)(p).forEach(function(g){return p[g]===!1&&delete p[g]}),i.attr(p)},n.prototype.__clearAttributes=function(){var t=this,e=t.el,r=t.$el,i=[];(0,tt.each)(e.attributes,function(a){return i.push(a.nodeName)}),i.forEach(function(a){return r.removeAttr(a)})},n.prototype.updateContent=function(){var t=this.model.content,e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},n.prototype.prevDef=function(t){t.preventDefault()},n.prototype.updateScript=function(){var t=this,e=t.model,r=t.em;e.get("script")&&r?.Canvas.getCanvasView().updateScript(this)},n.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},n.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},e=this.el,r=0,i=0,a=function(s){var l=s.offsetParent;l?(r+=l.offsetTop,i+=l.offsetLeft,a(l)):(t.top=e.offsetTop+r,t.left=e.offsetLeft+i,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)};return a(e),t},n.prototype.isInViewport=function(){var t=this,e=t.el,r=t.em,i=t.frameView,a=r.Canvas.getCanvasView(),s=a.getElBoxRect(e,{local:!0}),l=i.el,c=l.clientHeight,u=l.clientWidth,p=s.y,g=s.x,h=p+s.height,y=g+s.width,_=p>=0&&p<c,x=h>0&&h<c,P=y>=0&&y<u,w=g>0&&g<=u,T=(_||x)&&(P||w);return T},n.prototype.scrollIntoView=function(t){var e;t===void 0&&(t={});var r=this.isInViewport();if(!r||t.force){var i=this.el;if(t.behavior!=="smooth"){var a=this.getOffsetRect();(e=i.ownerDocument.defaultView)===null||e===void 0||e.scrollTo(0,a.top)}else i.scrollIntoView(da({behavior:"smooth",block:"nearest"},t))}},n.prototype.reset=function(){var t=this,e=t.el,r=t.model;t.scriptContainer&&r.emitWithEditor(kn.I.scriptUnmount,{component:r,view:t,el:e}),this.el="",this._ensureElement(),this._setData(),(0,Me.bG)(e,this.el),this.render()},n.prototype._setData=function(){var t=this,e=t.model,r=t.el,i=e.components(),a=this;this.$el.data({model:e,collection:i,view:a}),(0,ie.setViewEl)(r,this)},n.prototype._createElement=function(t){return this.createDoc.createElement(t)},n.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new VO({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var r=Array.prototype.slice.call(e.el.childNodes),i=0,a=r.length;i<a;i++)t.appendChild(r.shift())},n.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},n.prototype.onAttrUpdate=function(){},n.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,ie.setViewEl)(this.el,this),this.postRender(),this)},n.prototype.postRender=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,r=t.el;this.onRender(this._clbObj()),e.emitWithEditor(kn.I.render,{component:e,view:this,el:r}),this.rendered=!0}},n.getEvents=function(){return(0,tt.result)(this.prototype,"events")},n}(_e.Ss),$n=b7,C7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),x7=function(o){C7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype._setAttributes=function(){},n.prototype.renderAttributes=function(){},n.prototype.updateStatus=function(){},n.prototype.updateClasses=function(){},n.prototype.setAttribute=function(){},n.prototype.updateAttributes=function(){},n.prototype.initClasses=function(){},n.prototype.initComponents=function(){},n.prototype.delegateEvents=function(){return this},n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var t=this,e=t.model,r=t.el;return e.opt.temporary?this:(r.textContent=e.content,this)},n}($n),zO=x7,O7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),P7=function(o){O7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createComment(this.model.content)},n}(zO),M7=P7,w7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S7=function(o){w7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.initialize=function(t){o.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},n.prototype.updateSrc=function(){var t=(0,Me.I6)(this.el,"iframe")[0];t&&(0,Me.X6)(t,{src:this.__getSrc()})},n.prototype.render=function(){o.prototype.render.call(this);var t=(0,Me.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},n.prototype.__getSrc=function(){return this.model.getAttributes().src||""},n}($n),T7=S7,E7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),k7=function(o){E7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"img"},n.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},n.prototype.initialize=function(t){o.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},n.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,r=t.em,i=e.get("file");if(i&&r){var a=r.Assets.FileUploader();a?.uploadFile({dataTransfer:{files:[i]}},function(s){var l=s&&s.data&&s.data[0],c=l&&((0,tt.isString)(l)?l:l.src);c&&e.set({src:c})},{componentView:this,file:i}),e.set("file","")}}},n.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},n.prototype.updateClasses=function(){o.prototype.updateClasses.call(this);var t=this,e=t.el,r=t.classEmpty,i=t.model,a=i.getSrcResult()&&!i.isDefaultSrc(),s=a?"remove":"add";e.classList[s](r)},n.prototype.onActive=function(t){t?.stopPropagation();var e=this,r=e.em,i=e.model,a=r?.Assets;a&&i.get("editable")&&a.open({select:function(s,l){i.set({src:s.getSrc()}),l&&a.close()},target:i,types:["image"],accept:"image/*"})},n.prototype.onError=function(){var t=this,e=t.model,r=t.el,i=e.getSrcResult({fallback:!0});i&&(r.srcset&&(r.srcset=""),r.src=i)},n.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},n.prototype.noDrag=function(t){return t.preventDefault(),!1},n.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,e=t.$el,r=t.model,i=e.attr("class")||"";return!r.get("src")&&e.attr("class","".concat(i," ").concat(this.classEmpty).trim()),this.postRender(),this},n}($n),Q0=k7,A7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ml=function(){return Ml=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ml.apply(this,arguments)},jf=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?i(u.value):r(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},Hf=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],r=0}finally{e=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},I7=function(o){A7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},n.prototype.initialize=function(t){o.prototype.initialize.call(this,t),(0,tt.bindAll)(this,"disableEditing","onDisable");var e=this.model,r=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=r?.RichTextEditor},n.prototype.updateContentText=function(t,e,r){r===void 0&&(r={}),!r.fromDisable&&this.disableEditing()},n.prototype.canActivate=function(){var t=this,e=t.model,r=t.rteEnabled,i=t.em,a=i?.getEditing(),s=a===e,l=!0,c=!1,u;if((r||!e.get("editable")||s||(c=e.isChildOf("text")))&&(l=!1,c&&!e.get("textable"))){for(var p=e.parent();p&&!p.isInstanceOf("text");)p=p.parent();p&&p.get("editable")?u=p:l=!0}return{result:l,delegate:u}},n.prototype.onActive=function(t){return jf(this,void 0,void 0,function(){var e,r,i,a,s,l,c,u,p,g,h,y;return Hf(this,function(_){switch(_.label){case 0:return e=this,r=e.rte,i=e.em,a=this.canActivate(),s=a.result,l=a.delegate,s?((y=t?.stopPropagation)===null||y===void 0||y.call(t),c=this,[4,this.getContent()]):(l&&((h=t?.stopPropagation)===null||h===void 0||h.call(t),i.setSelected(l),l.trigger("active",t)),[2]);case 1:if(c.lastContent=_.sent(),!r)return[3,5];_.label=2;case 2:return _.trys.push([2,4,,5]),u=this,p=this,[4,r.enable(u,this.activeRte,{event:t,view:u})];case 3:return p.activeRte=_.sent(),[3,5];case 4:return g=_.sent(),i.logError(g),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},n.prototype.onDisable=function(t){this.disableEditing(t)},n.prototype.disableEditing=function(){return jf(this,arguments,void 0,function(t){var e,r,i,a,s,l,c,u,p;return t===void 0&&(t={}),Hf(this,function(g){switch(g.label){case 0:return e=this,r=e.model,i=e.rte,a=e.activeRte,s=e.em,l=r&&r.get("editable"),i?(c={},[4,this.getContent()]):[3,7];case 1:u=g.sent(),g.label=2;case 2:return g.trys.push([2,4,,5]),[4,i.disable(this,a,t)];case 3:return c=g.sent(),[3,5];case 4:return p=g.sent(),s.logError(p),[3,5];case 5:return l&&(u!==this.lastContent||c.forceSync)?[4,this.syncContent(Ml(Ml({},t),{content:u}))]:[3,7];case 6:g.sent(),this.lastContent="",g.label=7;case 7:return this.toggleEvents(),[2]}})})},n.prototype.getContent=function(){return jf(this,void 0,void 0,function(){var t,e,r,i;return Hf(this,function(a){switch(a.label){case 0:return t=this,e=t.rte,r=t.activeRte,i="",e?[4,e.getContent(this,r)]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return[2,i]}})})},n.prototype.syncContent=function(){return jf(this,arguments,void 0,function(t){var e,r,i,a,s,l,c,u,p;return t===void 0&&(t={}),Hf(this,function(g){switch(g.label){case 0:return e=this,r=e.model,i=e.rte,a=e.rteEnabled,!a&&!t.force?[2]:(p=t.content)!==null&&p!==void 0?(l=p,[3,3]):[3,1];case 1:return[4,this.getContent()];case 2:l=g.sent(),g.label=3;case 3:return s=l,c=r.components(),u=Ml({fromDisable:1},t),r.set("content","",u),i?.customRte&&!i.customRte.parseContent?(c.length&&c.reset(void 0,Ml(Ml({},t),{keepIds:Lc(c)})),r.set("content",s,u)):c.resetFromString(s,t),[2]}})})},n.prototype.insertComponent=function(t,e){var r;e===void 0&&(e={});var i=this,a=i.model,s=i.el,l=s.ownerDocument,c=l.getSelection();if(c?.rangeCount){var u=c.getRangeAt(0),p=u.startContainer,g=u.startOffset,h=(0,ie.getComponentModel)(p),y=[];if(h&&(!((r=h.is)===null||r===void 0)&&r.call(h,"textnode"))){var _=h.collection;_.forEach(function(w){if(w===h){var T="textnode",b=e.useDomContent?p.textContent||"":w.content;y.push({type:T,content:b.slice(0,g)}),y.push(t),y.push({type:T,content:b.slice(g)})}else y.push(w)});var x=y.filter(Boolean),P=x.indexOf(t);return _.reset(x,e),_.at(P)}}return a.append(t,e)},n.prototype.onInput=function(){var t=this.model,e=[kn.I.update,kn.I.input];e.forEach(function(r){return t.emitWithEditor(r,t)})},n.prototype.disablePropagation=function(t){t.stopPropagation()},n.prototype.toggleEvents=function(t){var e=this,r=e.em,i=e.model,a=e.$el,s={on:Me.on,off:Me.AU},l=t?"on":"off";r.setEditing(t?this:!1),this.rteEnabled=!!t;var c=[this.el.ownerDocument,document];if(s.off(c,"mousedown",this.onDisable),s[l](c,"mousedown",this.onDisable),r[l]("toolbar:run:before",this.onDisable),i&&(i[l]("removed",this.onDisable),i.trigger("rte:".concat(t?"enable":"disable"))),a?.off("mousedown",this.disablePropagation),a&&a[l]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var u=this.el;u;)u.draggable=!t,u=u.parentNode,u&&u.tagName=="BODY"&&(u=0)},n}($n),jO=I7,D7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),L7=function(o){D7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.render=function(){return o.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},n}(jO),HO=L7,N7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),R7=function(o){N7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(HO),F7=R7,V7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),z7=function(o){V7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(t){o.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},n.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},n.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},n.prototype.render=function(){return o.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},n}(Q0),j7=z7,H7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),B7=function(o){H7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"script"},n.prototype.events=function(){return{}},n}($n),U7=B7,W7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),G7=function(o){W7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},n}($n),ix=G7,K7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),q7=function(o){K7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}($n),$7=q7,Y7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),X7=function(o){Y7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}($n),Q7=X7,J7=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Z7=function(o){J7(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}($n),tA=Z7,eA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nA=function(o){eA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}($n),rA=nA,iA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oA=function(o){iA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}($n),aA=oA,sA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lA=function(o){sA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return{}},n}($n),cA=lA,dA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uA=function(o){dA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(){$n.prototype.initialize.apply(this,arguments);var t=this.model,e=["loop","autoplay","controls","color","rel","modestbranding","poster","muted"],r=e.map(function(i){return"change:".concat(i)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,r,this.updateVideo)},n.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},n.prototype.updateSrc=function(){var t=this,e=t.model,r=t.videoEl;if(r){var i=e.get("provider"),a=e.get("src");switch(i){case"yt":a=e.getYoutubeSrc();break;case"ytnc":a=e.getYoutubeNoCookieSrc();break;case"vi":a=e.getVimeoSrc();break}r.src=a}},n.prototype.updateVideo=function(){var t=this,e=t.model,r=t.videoEl,i=e.get("provider");switch(i){case"yt":case"ytnc":case"vi":e.trigger("change:videoId");break;default:if(r){var a=r;a.loop=e.get("loop"),a.autoplay=e.get("autoplay"),a.controls=e.get("controls"),a.poster=e.get("poster"),a.muted=e.get("muted")}}},n.prototype.renderByProvider=function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},n.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},n.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},n.prototype.render=function(){$n.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},n}(Q0),pA=uA,fA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gA=function(o){fA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n}($n),hA=gA,mA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tg=function(){return Tg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Tg.apply(this,arguments)},vA=function(o){mA(n,o);function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=o.apply(this,t)||this;r.refreshDbn=(0,tt.debounce)(function(){return r.refresh()},0);var i=r.events;return r.on(i.update,r.onUpdate),r.on(i.updateInside,r.onUpdateDeep),r}return n.prototype.removeChildren=function(t,e,r){var i;r===void 0&&(r={}),o.prototype.removeChildren.call(this,t,e,r),(i=ji(t))===null||i===void 0||i.forEach(function(a){return sh(a,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:t})},n.prototype.onAdd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.onAdd.apply(this,t);var r=t[0];this.__trgEvent(this.events.symbolMainAdd,{component:r})},n.prototype.onUpdate=function(t){this.__trgEvent(this.events.symbolMainUpdate,t)},n.prototype.onUpdateDeep=function(t){this.__trgEvent(this.events.symbolMainUpdateDeep,t)},n.prototype.refresh=function(){var t=this,e=t.em,r=t.events;e.trigger(r.symbol)},n.prototype.__trgEvent=function(t,e,r){r===void 0&&(r=!1);var i=this,a=i.em,s=i.events,l=r?s.symbolInstance:s.symbolMain;a.trigger(t,e),a.trigger(l,Tg(Tg({},e),{event:t})),this.refreshDbn()},n}(Fu),_A=vA,yA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vc=function(){return Vc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Vc.apply(this,arguments)},BO=function(o){yA(n,o);function n(t,e){var r=o.call(this,t,e)||this;return r.dataResolver=r.initializeDataResolver(t,e),r.listenToPropsChange(),r}return n.prototype.initializeDataResolver=function(t,e){var r,i=(r=t.dataResolver)!==null&&r!==void 0?r:{type:t.type},a=this.createResolverInstance(i,Vc(Vc({},e),{collectionsStateMap:this.collectionsStateMap}));return a},n.prototype.getDataResolver=function(){return this.get("dataResolver")},n.prototype.setDataResolver=function(t){return this.set("dataResolver",t)},n.prototype.onCollectionsStateMapUpdate=function(t){this.dataResolver.updateCollectionsStateMap(t),o.prototype.onCollectionsStateMapUpdate.call(this,t)},n.prototype.listenToPropsChange=function(){var t=this;this.listenTo(this.dataResolver,"change",function(){t.__changesUp({m:t})}.bind(this)),this.on("change:dataResolver",function(){t.dataResolver.set(t.get("dataResolver"))})},n.prototype.removePropsListeners=function(){this.stopListening(this.dataResolver),this.off("change:dataResolver"),this.off("change:".concat(this.collectionsStateMap))},n.prototype.destroy=function(t){return this.removePropsListeners(),o.prototype.destroy.call(this,t)},n.prototype.toJSON=function(t){var e=o.prototype.toJSON.call(this,t),r=this.dataResolver.toJSON();return delete r.type,Vc(Vc({},e),{dataResolver:r})},n}(lr),bA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Eg=function(){return Eg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Eg.apply(this,arguments)},CA=function(o){bA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Eg(Eg({},o.prototype.defaults),{type:uo,dataResolver:{},droppable:!1})},enumerable:!1,configurable:!0}),n.prototype.getPath=function(){return this.dataResolver.get("path")},n.prototype.getCollectionId=function(){return this.dataResolver.get("collectionId")},n.prototype.getVariableType=function(){return this.dataResolver.get("variableType")},n.prototype.getDefaultValue=function(){return this.dataResolver.get("defaultValue")},n.prototype.getDataValue=function(){return this.dataResolver.getDataValue()},n.prototype.resolvesFromCollection=function(){return this.dataResolver.resolvesFromCollection()},n.prototype.getInnerHTML=function(){return this.getDataValue()},n.prototype.setPath=function(t){this.dataResolver.set("path",t)},n.prototype.setDefaultValue=function(t){this.dataResolver.set("defaultValue",t)},n.prototype.resetDataSourcePath=function(t){this.set("dataResolver",{path:t,collectionId:void 0,variableType:void 0})},n.prototype.createResolverInstance=function(t,e){return new Jc(t,e)},n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===uo},n}(BO),xA=CA,OA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PA=function(o){OA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initialize=function(t){var e=this;t===void 0&&(t={}),o.prototype.initialize.call(this,t),this.dataResolverListener=new zu({em:this.em,resolver:this.model.dataResolver,onUpdate:function(){return e.postRender()}})},n.prototype.remove=function(){return this.dataResolverListener.destroy(),o.prototype.remove.call(this)},n.prototype.postRender=function(){var t=this.model,e=t.getDataResolver(),r=!!e.asPlainText;r?this.el.textContent=t.getDataValue():this.el.innerHTML=t.getDataValue(),o.prototype.postRender.call(this)},n}($n),MA=PA,wA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),SA=function(o){wA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initialize=function(t){t===void 0&&(t={}),o.prototype.initialize.call(this,t),this.postRender=this.postRender.bind(this),this.listenTo(this.model.components(),"reset",this.postRender),this.dataResolverListener=new zu({em:this.em,resolver:this.model.dataResolver,onUpdate:this.postRender})},n.prototype.renderDataResolver=function(){var t=this.model.getIfTrueContent(),e=this.model.getIfFalseContent(),r=t?.getEl(),i=e?.getEl(),a=this.model.isTrue();r&&(r.style.display=a?"":"none"),i&&(i.style.display=a?"none":"")},n.prototype.postRender=function(){this.renderDataResolver(),o.prototype.postRender.call(this)},n.prototype.remove=function(){return this.stopListening(this.model.components(),"reset",this.postRender),this.dataResolverListener.destroy(),o.prototype.remove.call(this)},n}($n),TA=SA,EA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kg=function(){return kg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},kg.apply(this,arguments)},kA=function(o){EA(n,o);function n(t,e){e===void 0&&(e={});var r,i=o.call(this,t,e)||this;return i.mutable=(r=t.mutable)!==null&&r!==void 0?r:!0,i.on("change",i.handleChange),i}return Object.defineProperty(n.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),n.prototype.handleChange=function(t,e){var r=this,i=this.changedAttributes();(0,tt.keys)(i).forEach(function(a){return r.triggerChange(a,e)})},n.prototype.getPath=function(t,e){e===void 0&&(e={});var r=this,i=r.dataSource,a=r.id,s=r.index,l=i.id,c=t?".".concat(t):"";return"".concat(l,".").concat(e.useIndex?s:a).concat(c)},n.prototype.getPaths=function(t){return[this.getPath(t),this.getPath(t,{useIndex:!0})]},n.prototype.triggerChange=function(t,e){e===void 0&&(e={});var r=this,i=r.dataSource,a=r.em,s=this.getPaths(t),l={dataSource:i,dataRecord:this,path:s[0],options:e};a.trigger(Il.path,l),a.trigger("".concat(Il.pathSource,":").concat(i.id),l),s.forEach(function(c){return a.trigger("".concat(Il.path,":").concat(c),kg(kg({},l),{path:c}))})},n.prototype.set=function(t,e,r){var i=this,a,s;if(!this.isNew()&&this.attributes.mutable===!1)throw new Error("Cannot modify immutable record");var l=(s=(a=this.dataSource)===null||a===void 0?void 0:a.transformers)===null||s===void 0?void 0:s.onRecordSetValue,c=function(x,P,w){w===void 0&&(w={});var T=w?.avoidTransformers||!l?P:l({id:i.id,key:x,value:P});o.prototype.set.call(i,x,T,w),o.prototype.set.call(i,{__p:w.partial?!0:void 0},w)};if(typeof t=="object"&&t!==null)for(var u=t,p=0,g=Object.entries(u);p<g.length;p++){var h=g[p],y=h[0],_=h[1];c(y,_,e)}else c(t,e,r);return this},n}(_e.Kx),AA=kA,IA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),UO=function(o){IA(n,o);function n(t,e){var r=o.call(this,t,e)||this;return r.dataSource=e.dataSource,r}return n}(_e.pM),ox=UO;UO.prototype.model=AA;var DA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ag=function(){return Ag=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ag.apply(this,arguments)},LA=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},NA=function(o){DA(n,o);function n(t,e){var r=o.call(this,Ag(Ag({},t),{records:[]}),e)||this,i=t.records,a=t.transformers;return r.transformers=a||{},i instanceof ox||r.set({records:new ox(i,{dataSource:r})}),r.listenTo(r.records,"add",r.onAdd),r.listenTo(r.records,_e.e2,r.handleChanges),r}return n.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(n.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),n.prototype.onAdd=function(t){t.triggerChange()},n.prototype.addRecord=function(t,e){return this.records.add(t,e)},n.prototype.getRecord=function(t){return this.records.get(t)},n.prototype.getRecords=function(){var t=this;return LA([],this.records.models,!0).map(function(e){return t.getRecord(e.id)})},n.prototype.removeRecord=function(t,e){var r=this.getRecord(t);if(r?.mutable===!1&&!e?.dangerously)throw new Error("Cannot remove immutable record");return this.records.remove(t,e)},n.prototype.setRecords=function(t){var e=this;this.records.reset([],{silent:!0}),t.forEach(function(r){e.records.add(r)})},n.prototype.handleChanges=function(t,e,r){this.em.changesUp(r||e)},n}(_e.Kx),WO=NA,RA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vi=function(){return vi=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},vi.apply(this,arguments)},j1={avoidStore:!0,partial:!0},FA=function(o){RA(n,o);function n(t,e){var r=this;if(e.forCloning)return r=o.call(this,t,e)||this;var i=vi(vi({},t),{droppable:!1}),a=r=o.call(this,i,e)||this;return r.rebuildChildrenFromCollection=r.rebuildChildrenFromCollection.bind(r),r.listenToPropsChange(),r.rebuildChildrenFromCollection(),a}return Object.defineProperty(n.prototype,"defaults",{get:function(){return vi(vi({},o.prototype.defaults),{droppable:!1,dataResolver:{},type:p0,components:[{type:Mu}]})},enumerable:!1,configurable:!0}),n.prototype.getDataResolver=function(){return this.get("dataResolver")},n.prototype.getItemsCount=function(){var t,e,r=this.getDataSourceItems(),i=zA(r),a=Math.max(0,(t=this.getConfigStartIndex())!==null&&t!==void 0?t:0),s=(e=this.getConfigEndIndex())!==null&&e!==void 0?e:Number.MAX_VALUE,l=Math.min(i-1,s),c=l-a+1;return Math.max(0,c)},n.prototype.getConfigStartIndex=function(){return this.dataResolver.startIndex},n.prototype.getConfigEndIndex=function(){return this.dataResolver.endIndex},n.prototype.getDataSource=function(){var t;return(t=this.dataResolver)===null||t===void 0?void 0:t.dataSource},n.prototype.getCollectionId=function(){var t;return(t=this.dataResolver)===null||t===void 0?void 0:t.collectionId},n.prototype.getCollectionItemComponents=function(){return this.firstChild.components()},n.prototype.setDataResolver=function(t){return this.set("dataResolver",t)},n.prototype.setCollectionId=function(t){this.updateCollectionConfig({collectionId:t})},n.prototype.setStartIndex=function(t){if(t<0){this.em.logError("Start index should be greater than or equal to 0");return}this.updateCollectionConfig({startIndex:t})},n.prototype.setEndIndex=function(t){this.updateCollectionConfig({endIndex:t})},n.prototype.setDataSource=function(t){this.set(Ac,vi(vi({},this.dataResolver),{dataSource:t}))},n.prototype.setCollectionItemComponents=function(t){this.firstChild.components(t)},Object.defineProperty(n.prototype,"firstChild",{get:function(){return this.components().at(0)},enumerable:!1,configurable:!0}),n.prototype.updateCollectionConfig=function(t){this.set(Ac,vi(vi({},this.dataResolver),t))},n.prototype.getDataSourceItems=function(){var t=BA(this.dataResolver.dataSource,this.em);if((0,tt.isArray)(t))return t;var e=vi({},t);return delete e.__p,e},Object.defineProperty(n.prototype,"dataResolver",{get:function(){return this.get(Ac)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"collectionDataSource",{get:function(){return this.dataResolver.dataSource},enumerable:!1,configurable:!0}),n.prototype.listenToDataSource=function(){var t,e=this.em,r=(t=this.collectionDataSource)===null||t===void 0?void 0:t.path;r&&(this.dataSourceWatcher=new zu({em:e,resolver:new Jc({type:uo,path:r},{em:e,collectionsStateMap:this.collectionsStateMap}),onUpdate:this.rebuildChildrenFromCollection}))},n.prototype.rebuildChildrenFromCollection=function(){this.components().reset(this.getCollectionItems(),Xf)},n.prototype.getCollectionItems=function(){var t,e=this.ensureFirstChild(),r=e.getStyle().display,i=!r||r==="none",a=i?"":r;e.addStyle({display:"none"},j1);var s=[e],l=HA(this.dataResolver,this.em);if(!l)return s;var c=this.collectionId,u=this.getDataSourceItems(),p=this.resolveCollectionConfig(u),g=p.startIndex,h=p.endIndex,y=this.hasDuplicateCollectionId();if(y)return this.em.logError('The collection ID "'.concat(c,'" already exists in the parent collection state. Overriding it is not allowed.')),s;for(var _=g;_<=h;_++){var x=_===g,P=(0,tt.isArray)(u)?_:Object.keys(u)[_],w=this.getCollectionsStateMapForItem(u,P);if(x){(t=ji(e))===null||t===void 0||t.forEach(function(b){return sh(b)}),ax(e,w),e.addStyle({display:a},j1);continue}var T=e.clone({symbol:!0,symbolInv:!0});T.set({locked:!0,layerable:!1},j1),ax(T,w),s.push(T)}return s},n.prototype.getCollectionsStateMapForItem=function(t,e){var r,i=this.resolveCollectionConfig(t),a=i.startIndex,s=i.endIndex,l=i.totalItems,c=this.collectionId,u=t[e],p=this.collectionsStateMap,g=typeof e=="string"?Object.keys(t).indexOf(e):e,h=g-a,y=l-(1+h),_={collectionId:c,currentIndex:g,currentItem:u,currentKey:e,startIndex:a,endIndex:s,totalItems:l,remainingItems:y},x=vi(vi({},p),(r={},r[c]=_,r));return x},n.prototype.hasDuplicateCollectionId=function(){var t=this.collectionId,e=this.collectionsStateMap;return!!e[t]},n.prototype.resolveCollectionConfig=function(t){var e,r,i=Array.isArray(t),a=i?t.length:Object.keys(t).length,s=(e=this.getConfigStartIndex())!==null&&e!==void 0?e:0,l=(r=this.getConfigEndIndex())!==null&&r!==void 0?r:Number.MAX_VALUE,c=Math.min(a-1,l),u=0;return a>0&&(u=Math.max(0,c-s+1)),{startIndex:s,endIndex:c,totalItems:u,isArray:i}},n.prototype.ensureFirstChild=function(){var t=this.em.Components.getType(Mu).model;return this.firstChild||new t({type:Mu},this.opt)},n.prototype.listenToPropsChange=function(){var t=this;this.on("change:".concat(Ac),function(){t.rebuildChildrenFromCollection(),t.listenToDataSource()}),this.listenToDataSource()},n.prototype.removePropsListeners=function(){var t;this.off("change:".concat(Ac)),(t=this.dataSourceWatcher)===null||t===void 0||t.destroy()},n.prototype.onCollectionsStateMapUpdate=function(t){var e=this;o.prototype.onCollectionsStateMapUpdate.call(this,t);var r=this.getDataSourceItems(),i=this.resolveCollectionConfig(r).startIndex,a=this.components();a.forEach(function(s,l){var c=e.getCollectionsStateMapForItem(r,i+l);s.onCollectionsStateMapUpdate(c)})},n.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.onCollectionsStateMapUpdate({})},n.prototype.syncOnComponentChange=function(t,e,r){var i=this.collectionsStateMap;this.collectionsStateMap={},o.prototype.syncOnComponentChange.call(this,t,e,r),this.collectionsStateMap=i,this.onCollectionsStateMapUpdate(i)},Object.defineProperty(n.prototype,"collectionId",{get:function(){return this.getDataResolver().collectionId},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===p0},n.prototype.toJSON=function(t){var e,r=o.prototype.toJSON.call(this,t);delete r.droppable,delete r[Ri],(e=r.attributes)===null||e===void 0||delete e.id;var i=this.firstChild;return vi(vi({},r),{components:[i]})},n.prototype.destroy=function(t){return this.removePropsListeners(),o.prototype.destroy.call(this,t)},n}(lr),VA=FA;function zA(o){return(0,tt.isArray)(o)?o.length:Object.keys(o).length}function ax(o,n){o.setSymbolOverride(["locked","layerable",Ic]),o.syncComponentsCollectionState(),o.onCollectionsStateMapUpdate(n)}function jA(o,n,t){return o?!0:(t.logError('The "'.concat(n,'" property is required in the collection definition.')),!1)}function HA(o,n){for(var t=[{property:o?.collectionId,propertyPath:"dataResolver.collectionId"},{property:o?.dataSource,propertyPath:"dataResolver.dataSource"}],e=0,r=t;e<r.length;e++){var i=r[e].propertyPath;if(!jA(o,i,n))return[]}var a=o?.startIndex;return a!==void 0&&(a<0||!Number.isInteger(a))&&n.logError("Invalid startIndex: ".concat(a,". It must be a non-negative integer.")),!0}function BA(o,n){switch(!0){case((0,ie.isObject)(o)&&o instanceof WO):{var t=o.get("id");return sx(t,n)}case Ll(o):{var e=o.path;if(!e)return[];var r=e.split(".").length===1;return r?sx(e,n):n.DataSources.getValue(e,[])}default:return[]}}function sx(o,n){var t=n.DataSources.getValue(o,[]),e=Object.keys(t);return e.map(function(r){return{type:uo,path:o+"."+r}})}var UA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WA=function(o){UA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}($n),GA=WA,KA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ig=function(){return Ig=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ig.apply(this,arguments)},qA=function(o){KA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Ig(Ig({},o.prototype.defaults),{droppable:!1,type:Rs,dataResolver:{condition:{left:"",operator:ua.equalsIgnoreCase,right:""}},components:[{type:W0},{type:G0}]})},enumerable:!1,configurable:!0}),n.prototype.isTrue=function(){return this.dataResolver.isTrue()},n.prototype.getCondition=function(){return this.dataResolver.getCondition()},n.prototype.getIfTrueContent=function(){return this.components().at(0)},n.prototype.getIfFalseContent=function(){return this.components().at(1)},n.prototype.getOutputContent=function(){return this.isTrue()?this.getIfTrueContent():this.getIfFalseContent()},n.prototype.setCondition=function(t){this.dataResolver.setCondition(t)},n.prototype.setIfTrueComponents=function(t){this.setComponentsAtIndex(0,t)},n.prototype.setIfFalseComponents=function(t){this.setComponentsAtIndex(1,t)},n.prototype.getInnerHTML=function(t){var e,r;return(r=(e=this.getOutputContent())===null||e===void 0?void 0:e.getInnerHTML(t))!==null&&r!==void 0?r:""},n.prototype.createResolverInstance=function(t,e){return new bO(t,e)},n.prototype.setComponentsAtIndex=function(t,e){var r=this.components().at(t);r?.components(e)},n.isComponent=function(t){return(0,ie.toLowerCase)(t.tagName)===Rs},n}(BO),$A=qA,YA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dg=function(){return Dg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Dg.apply(this,arguments)},XA=function(o){YA(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Dg(Dg({},o.prototype.defaults),{removable:!1,draggable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return g6((0,ie.toLowerCase)(t.tagName))},n}(lr),H1=XA,QA=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yr=function(){return Yr=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Yr.apply(this,arguments)},JA=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},ZA=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},bu=function(o){return o[o.InvalidSource=0]="InvalidSource",o[o.SourceReject=1]="SourceReject",o[o.TargetReject=2]="TargetReject",o}(bu||{}),tI=function(o){QA(n,o);function n(t){var e=o.call(this,t,"DomComponents",new Fu(void 0,{em:t}),kn.I,_k())||this;e.componentTypes=[{id:Mu,model:H1,view:$n},{id:W0,model:H1,view:$n},{id:G0,model:H1,view:$n},{id:p0,model:VA,view:GA},{id:Rs,model:$A,view:TA},{id:uo,model:xA,view:MA},{id:"cell",model:e7,view:Q7},{id:"row",model:d7,view:aA},{id:"table",model:Xk,view:cA},{id:"thead",model:s7,view:rA},{id:"tbody",model:X0,view:$7},{id:"tfoot",model:i7,view:tA},{id:"map",model:zk,view:j7},{id:"link",model:Rk,view:HO},{id:"label",model:Dk,view:F7},{id:"video",model:f7,view:pA},{id:"image",model:$0,view:Q0},{id:"script",model:Bk,view:U7},{id:"svg-in",model:qk,view:ix},{id:"svg",model:FO,view:ix},{id:"iframe",model:wk,view:T7},{id:"comment",model:Ok,view:M7},{id:"textnode",model:RO,view:zO},{id:Yc,model:q6,view:$n},{id:"wrapper",model:m7,view:hA},{id:"text",model:Y0,view:jO},{id:"default",model:lr,view:$n}],e.componentsById={},e.Component=lr,e.Components=Fu,e.ComponentView=$n,e.ComponentsView=VO,e.storageKey="components",e.keySymbols="symbols",e.events=kn.I;var r=e.config;e.symbols=new _A([],{em:t,config:r,domc:e}),t&&(e.config.components=t.config.components||e.config.components);var i=e.config.pStylePrefix;if(i&&(e.config.stylePrefix=i+e.config.stylePrefix),t){t.get("Parser").compTypes=e.componentTypes,t.on("change:componentHovered",e.componentHovered,e);var a=t.get("selected");t.listenTo(a,"add",function(s,l,c){return e.selectAdd(a.getComponent(s),c)}),t.listenTo(a,"remove",function(s,l,c){return e.selectRemove(a.getComponent(s),c)})}return e}return n.prototype.postLoad=function(){var t=this,e=t.em,r=t.symbols,i=e.UndoManager;i.add(r)},n.prototype.load=function(t){var e=this,r=this.loadProjectData(t,{onResult:function(i){var a=e.getWrapper();if(a||(e.em.Pages.add({},{select:!0}),a=e.getWrapper()),(0,tt.isArray)(i))i.length&&a.components(i);else{var s=i.components,l=s===void 0?[]:s,c=JA(i,["components"]);a.set(c),a.components(l)}}});return this.symbols.reset(t[this.keySymbols]||[]),r},n.prototype.store=function(){var t;return t={},t[this.keySymbols]=this.symbols,t},n.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),e=t?.getMainFrame();return e?.getComponent()},n.prototype.getWrapper=function(){return this.getComponent()},n.prototype.getComponents=function(){var t=this.getWrapper();return t?.components()},n.prototype.addComponent=function(t,e){return e===void 0&&(e={}),this.getComponents().add(t,e)},n.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.getComponents();return e?.filter(Boolean).forEach(function(r){return r.remove(t)}),this},n.prototype.setComponents=function(t,e){e===void 0&&(e={}),this.clear(e).addComponent(t,e)},n.prototype.addType=function(t,e){var r=this.em,i=e.model,a=i===void 0?{}:i,s=e.view,l=s===void 0?{}:s,c=e.isComponent,u=e.extend,p=e.extendView,g=e.extendFn,h=g===void 0?[]:g,y=e.extendFnView,_=y===void 0?[]:y,x=e.block,P=this.getType(t),w=this.getType(u),T=this.getType(p),b=w||P||this.getType("default"),k=b.model,E=T?T.view:b.view,L=function(W,q,J){return W.reduce(function(I,Z){var et=q[Z],ut=J.prototype[Z];return et&&ut&&(I[Z]=function(){for(var Rt=[],Gt=0;Gt<arguments.length;Gt++)Rt[Gt]=arguments[Gt];ut.bind(this).apply(void 0,Rt),et.bind(this).apply(void 0,Rt)}),I},{})};if(typeof a=="object"){var R={defaults:a.defaults};delete a.defaults;var z=new Set(k.typeExtends);z.add(k.getDefaults().type),e.model=k.extend(Yr(Yr({},a),L(h,a,k)),{typeExtends:z,isComponent:P&&!w&&!c?k.isComponent:c||function(){return 0}}),Object.defineProperty(e.model.prototype,"defaults",{get:function(){return Yr(Yr({},(0,tt.result)(k.prototype,"defaults")||{}),(0,tt.result)(R,"defaults")||{})}})}if(typeof l=="object"&&(e.view=E.extend(Yr(Yr({},l),L(_,l,E)))),P?(P.model=e.model,P.view=e.view):(e.id=t,this.componentTypes.unshift(e)),x){var N={id:t,label:t,content:{type:t}},j=x===!0?N:Yr(Yr({},N),x);r.Blocks.add(j.id||t,j)}var D="component:type:".concat(P?"update":"add");return r?.trigger(D,P||e),this},n.prototype.getType=function(t){for(var e=this.componentTypes,r=0;r<e.length;r++){var i=e[r].id;if(i==t)return e[r]}},n.prototype.removeType=function(t){var e=this.componentTypes,r=this.getType(t);if(r){var i=e.indexOf(r);return e.splice(i,1),r}},n.prototype.getTypes=function(){return this.componentTypes},n.prototype.selectAdd=function(t,e){var r=this;e===void 0&&(e={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(i){return r.em.trigger(i,t,e)}))},n.prototype.selectRemove=function(t,e){var r=this;if(e===void 0&&(e={}),t){var i=this.em;t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(a){return r.em.trigger(a,t,e)})}},n.prototype.componentHovered=function(){var t=this.em,e=t.get("componentHovered"),r=t.previous("componentHovered"),i="hovered";r&&r.get("status")==i&&r.set({status:"",state:""}),e&&(0,tt.isEmpty)(e.get("status"))&&e.set("status",i)},n.prototype.getShallowWrapper=function(){var t=this,e=t.shallow,r=t.em;if(!e&&r){var i=r.shallow;if(!i)return;var a=i.Components;if(a.componentTypes=this.componentTypes,e=a.getWrapper(),e){var s=[Jf,m0].join(" ");e.on(s,(0,tt.debounce)(function(){return e?.components("")},100))}this.shallow=e}return e},n.prototype.isComponent=function(t){return(0,ie.isComponent)(t)},n.prototype.addSymbol=function(t){if(!((0,tt.isSymbol)(t)&&!Dl(t))){var e=t.clone({symbol:!0});return El(e)&&this.symbols.add(e),this.em.trigger("component:toggled"),e}},n.prototype.getSymbols=function(){return ZA([],this.symbols.models,!0)},n.prototype.detachSymbol=function(t){eg(t)&&sh(t)},n.prototype.getSymbolInfo=function(t,e){e===void 0&&(e={});var r=El(t),i=Eo(t),a=!!i,s=ji(r?t:i)||[],l=i||(r?t:void 0),c=Ra(t,{changed:e.withChanges}),u=r||a,p=u&&Dl(t);return{isSymbol:u,isMain:r,isInstance:a,isRoot:p,main:l,instances:s,relatives:c||[]}},n.prototype.canMove=function(t,e,r){var i={result:!1,reason:bu.InvalidSource,target:t,source:null};if(!e||!t)return i;if(pa(t)&&e instanceof lr&&pa(e)){var a=Ru(t),s=El(a)?a:Eo(a),l=Ru(e),c=El(l)?l:Eo(l),u=s===c,p=a!==l;if(u&&p)return Yr(Yr({},i),{reason:bu.TargetReject})}var g=(0,ie.isComponent)(e)?e:null;if(!g){var h=this.getShallowWrapper();g=h?.append(e,{temporary:!0})[0]||null}if(i.source=g,!g)return i;var y=g.get("draggable");if((0,tt.isFunction)(y))y=!!y(g,t,r);else{var _=t.getEl();y=(0,tt.isArray)(y)?y.join(","):y,y=(0,tt.isString)(y)?_?.matches(y):y}if(!y)return Yr(Yr({},i),{reason:bu.SourceReject});var x=t.get("droppable");if((0,tt.isFunction)(x))x=!!x(g,t,r);else if(x===!1&&t.isInstanceOf("text")&&g.get("textable"))x=!0;else{var _=g.getEl();x=(0,tt.isArray)(x)?x.join(","):x,x=(0,tt.isString)(x)?_?.matches(x):x}var P=[t].concat(t.parents()).indexOf(g)>-1;return!x||P?Yr(Yr({},i),{reason:bu.TargetReject}):Yr(Yr({},i),{result:!0})},n.prototype.allById=function(){return this.componentsById},n.prototype.getById=function(t){return this.componentsById[t]||null},n.prototype.destroy=function(){var t,e=this.allById();Object.keys(e).forEach(function(r){return e[r]&&e[r].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(r){return r={}})},n}(za),eI=tI,nI=function(){return{stylePrefix:"css-",rules:[]}},rI=nI,iI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oI=Number.MAX_VALUE,aI=function(o){var n=/(-?\d*\.?\d+)\w{0,}/.exec(o);return n?n[0]:""},sI=function(o){iI(n,o);function n(){var t=o.call(this)||this;return(0,tt.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return n.prototype.buildFromModel=function(t,e){var r=this;e===void 0&&(e={});var i="",a=this.em,s=a&&a.getConfig().avoidInlineStyle,l=t.styleToString(),c=t.classes;this.ids.push("#".concat(t.getId())),c.forEach(function(p){return r.compCls.push(p.getFullName())}),!s&&l&&(i="#".concat(t.getId(),"{").concat(l,"}"));var u=t.components();return u.forEach(function(p){return i+=r.buildFromModel(p,e)}),i},n.prototype.build=function(t,e){var r=this;e===void 0&&(e={});var i=e.json,a=e.em,s=e.cssc||a?.Css;this.em=a,this.compCls=[],this.ids=[],this.model=t;var l=[],c=t?this.buildFromModel(t,e):"",u=(0,tt.isUndefined)(e.clearStyles)&&a?a.getConfig().clearStyles:e.clearStyles;if(s){var p=e.rules||s.getAll(),g={},h=[];e.onlyMatched&&t&&(0,ie.hasWin)()&&(p=this.matchedRules(t,p)),p.forEach(function(y){var _=y.getAtRule();if(_){var x=g[_];x?x.push(y):g[_]=[y];return}var P=r.buildFromRule(y,h,e);i?l.push(P):c+=P}),this.sortMediaObject(g).forEach(function(y){var _="",x=y.key,P=y.value;P.forEach(function(w){var T=r.buildFromRule(w,h,e);w.get("singleAtRule")?c+="".concat(x,"{").concat(T,"}"):_+=T,i&&l.push(T)}),_&&(c+="".concat(x,"{").concat(_,"}"))}),a&&u&&p.remove&&p.remove(h)}return i?l.filter(function(y){return y}):c},n.prototype.buildFromRule=function(t,e,r){var i=this,a;r===void 0&&(r={});var s="",l=this.model,c=t.selectorsToString({skipAdd:1}),u=t.get("selectorsAdd"),p=t.get("singleAtRule"),g;if((a=t.get("selectors"))===null||a===void 0||a.forEach(function(y){var _=y.getFullName();(i.compCls.indexOf(_)>=0||i.ids.indexOf(_)>=0||r.keepUnusedStyles)&&(g=1)}),c&&g||u||p||!l){var h=t.getDeclaration();h&&(r.json?s=t:s+=h)}else e.push(t);return s},n.prototype.matchedRules=function(t,e){var r=this,i=t.getEl(),a=[];return e.forEach(function(s){try{s.selectorsToString().split(",").some(function(l){return i?.matches(r.__cleanSelector(l))})&&a.push(s)}catch{}}),t.components().forEach(function(s){a=a.concat(r.matchedRules(s,e))}),a=a.filter(function(s,l){return a.indexOf(s)===l}),a},n.prototype.getQueryLength=function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):oI},n.prototype.sortMediaObject=function(t){var e=this;t===void 0&&(t={});var r=[];return(0,tt.each)(t,function(i,a){return r.push({key:a,value:i})}),r.sort(function(i,a){var s=[i.key,a.key].every(function(u){return u.indexOf("min-width")!==-1}),l=s?i.key:a.key,c=s?a.key:i.key;return e.getQueryLength(l)-e.getQueryLength(c)})},n.prototype.sortRules=function(t,e){var r=function(l){return l.get("mediaText")||""},i=[r(t),r(e)].every(function(l){return l.indexOf("min-width")!==-1}),a=r(i?t:e),s=r(i?e:t);return this.getQueryLength(a)-this.getQueryLength(s)},n.prototype.__cleanSelector=function(t){return t.split(" ").map(function(e){return e.split(":")[0]}).join(" ")},n}(_e.Kx),lI=sI,cI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),y0=function(){return y0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},y0.apply(this,arguments)},dI=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},B1=((0,ie.hasWin)()?window:{}).CSS,uI=function(o){cI(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t,{em:e.em})||this;return r.views=[],r.config=t||{},r.opt=e,r.em=e.em,r.ensureSelectors(null,null,{}),r.on("change",r.__onChange),r.setStyle(r.get("style"),{skipWatcherUpdates:!0}),r}return n.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},n.prototype.__onChange=function(t,e){var r=this.em,i=this.changedAttributes();i&&!(0,ie.isEmptyObj)(i)&&r?.changesUp(e)},n.prototype.clone=function(){var t=this.get("selectors").map(function(e){return e.clone()});return o.prototype.clone.call(this,{selectors:t})},n.prototype.ensureSelectors=function(t,e,r){var i=this.em,a=i?.Selectors,s=[this,"change:selectors",this.ensureSelectors],l=this.getSelectors();if(this.stopListening.apply(this,s),l.models&&(l=dI([],l.models,!0)),l=(0,tt.isString)(l)?[l]:l,Array.isArray(l)){var c=l.filter(function(u){return u}).map(function(u){return a?a.add(u):u});l=new Ls(c)}this.set("selectors",l,r),this.listenTo.apply(this,s)},n.prototype.getAtRule=function(){var t=this.get("atRuleType"),e=this.get("mediaText"),r=t?"@".concat(t):e?"@media":"";return r+(e&&r?" ".concat(e):"")},n.prototype.selectorsToString=function(t){t===void 0&&(t={});var e=[],r=this.get("state"),i=this.get("selectorsAdd"),a={escape:function(c){return B1&&B1.escape?B1.escape(c):c}},s=this.getSelectors().getFullString(0,a),l=r&&!t.skipState?":".concat(r):"";return s&&e.push("".concat(s).concat(l)),i&&!t.skipAdd&&e.push(i),e.join(", ")},n.prototype.getDeclaration=function(t){t===void 0&&(t={});var e="",r=this.attributes.important,i=this.selectorsToString(t),a=this.styleToString(y0({important:r},t)),s=this.get("singleAtRule");return(i||s)&&(a||t.allowEmpty)&&(e=s?a:"".concat(i,"{").concat(a,"}")),e},n.prototype.getDevice=function(){var t=this.em,e=this.attributes,r=e.atRuleType,i=e.mediaText,a=t?.Devices.getDevices()||[],s=a.filter(function(l){return l.getWidthMedia()===""})[0];return r!=="media"||!i?s||null:a.filter(function(l){return l.getWidthMedia()===aI(i)})[0]||null},n.prototype.getState=function(){var t=this.em,e=this.get("state"),r=t?.Selectors.getStates()||[];return r.filter(function(i){return i.getName()===e})[0]||null},n.prototype.getComponent=function(){var t,e=this.getSelectors(),r=e.length==1&&e.at(0),i=r&&r.isId()&&r.get("name");return i&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(i))||null},n.prototype.toCSS=function(t){t===void 0&&(t={});var e="",r=this.getAtRule(),i=this.getDeclaration(t);return(i||t.allowEmpty)&&(e=i),r&&e&&(e="".concat(r,"{").concat(e,"}")),e},n.prototype.toJSON=function(t){var e,r=o.prototype.toJSON.call(this,t);if(!((e=this.em)===null||e===void 0)&&e.getConfig().avoidDefaults){var i=this.defaults();(0,tt.forEach)(i,function(a,s){r[s]===a&&delete r[s]}),delete r.style.__p,(0,tt.isEmpty)(r.selectors)&&delete r.selectors,(0,tt.isEmpty)(r.style)&&delete r.style}return r},n.prototype.compare=function(t,e,r,i){var a;i===void 0&&(i={});var s=e||"",l=r||"",c=i.selectorsAdd||"",u=i.atRuleType||"",p=!(0,tt.isArray)(t)&&!t.models?[t]:t.models||t;l&&!u&&(u="media");var g=p.map(function(x){return x.getFullName()}),h=(a=this.get("selectors"))===null||a===void 0?void 0:a.map(function(x){return x.getFullName()}),y=g.slice().sort(),_=h.slice().sort();return!(g.length!==h.length||!y.every(function(x,P){return x===_[P]})||this.get("state")!==s||this.get("mediaText")!==l||this.get("selectorsAdd")!==c||this.get("atRuleType")!==u)},n}(MO),b0=uI,pI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GO=function(o){pI(n,o);function n(t,e){var r=o.call(this,t)||this;return r.editor=e?.em,setTimeout(function(){r.on("remove",r.onRemove),r.on("add",r.onAdd)}),r}return n.prototype.toJSON=function(t){var e=_e.pM.prototype.toJSON.call(this,t);return e.filter(function(r){return r.style&&!r.shallow})},n.prototype.onAdd=function(t,e,r){t.ensureSelectors(t,e,r)},n.prototype.onRemove=function(t){var e=this.editor;e.stopListening(t),e.UndoManager.remove(t)},n.prototype.add=function(t,e){return e===void 0&&(e={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,_e.pM.prototype.add.apply(this,[t,e])},n}(_e.pM),lx=GO;GO.prototype.model=b0;var fI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wl=function(){return wl=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},wl.apply(this,arguments)},gI=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},hI=function(o){fI(n,o);function n(t){var e=o.call(this,t,"CssComposer",null,Lu,rI())||this;e.classes={CssRule:b0,CssRules:lx,CssRuleView:B0,CssRulesView:u0},e.events=Lu,e.Selectors=Ls,e.storageKey="styles";var r=e.config,i=r.pStylePrefix;return i&&(r.stylePrefix=i+r.stylePrefix),r.rules=e.em.config.style||r.rules||"",e.rules=new lx([],r),e}return n.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},n.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},n.prototype.add=function(t,e,r,i,a){i===void 0&&(i={}),a===void 0&&(a={});var s=e||"",l=r||"",c=wl({},i),u=this.get(t,s,l,c);return u&&u.config&&!u.config.singleAtRule||(c.state=s,c.mediaText=l,c.selectors=[],l&&!c.atRuleType&&(c.atRuleType="media"),u=new b0(c,this.config),u.get("selectors").add(t,a),this.rules.add(u,a)),u},n.prototype.get=function(t,e,r,i){var a=t;if((0,tt.isString)(t)){var s=this.em.Selectors,l=t.split(",")[0].trim(),c=this.em.Parser.parserCss.checkNode({selectors:l})[0];a=s.get(c.selectors)}return this.rules.find(function(u){return u.compare(a,e,r,i)})||null},n.prototype.getAll=function(){return this.rules},n.prototype.addCollection=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=this.em,a=[];(0,tt.isString)(t)&&(t=i.Parser.parseCss(t));for(var s=t instanceof Array?t:[t],l=0,c=s.length;l<c;l++){var u=s[l]||{};if(u.selectors){var p=i?.Selectors;p||console.warn("Selector Manager not found");for(var g=u.selectors,h=g instanceof Array?g:[g],y=[],_=0,x=h.length;_<x;_++){var P=p.add(h[_]);y.push(P)}var w=this.get(y,u.state,u.mediaText,u),T=this.add(y,u.state,u.mediaText,u,e),b=!w||!e.avoidUpdateStyle,k=u.style||{};if((0,ie.isObject)(r)&&T.set(r,e),b){var E=e.extend?wl(wl({},T.getStyle("",{skipResolve:!0})),k):k;T.setStyle(E,e)}a.push(T)}}return a},n.prototype.addRules=function(t){return this.addCollection(t)},n.prototype.setRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=r.atRuleType,a=r.atRuleParams,s=this.em.Parser.parserCss.checkNode({selectors:t,style:e})[0],l=s.state,c=s.selectorsAdd,u=this.em.Selectors,p=u.add(s.selectors),g=this.add(p,l,a,{selectorsAdd:c,atRule:i});return r.addStyles?g.addStyle(e,r):g.setStyle(e,r),g},n.prototype.getRule=function(t,e){e===void 0&&(e={});var r=this.em,i=r.Selectors,a=r.Parser.parserCss.checkNode({selectors:t})[0],s=i.get(a.selectors),l=a.state,c=a.selectorsAdd,u=e.atRuleType,p=e.atRuleParams;return s?this.get(s,l,p,{selectorsAdd:c,atRuleType:u}):void 0},n.prototype.getRules=function(t){var e=this.getAll();if(!t)return gI([],e.models,!0);var r={sort:!0},i=(0,tt.isString)(t)?t.split(",").map(function(s){return s.trim()}):t,a=e.filter(function(s){return i.indexOf(s.getSelectors().getFullString(null,r))>=0});return a},n.prototype.setIdRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=r.addOpts,a=i===void 0?{}:i,s=r.mediaText,l=r.state||"",c=(0,tt.isUndefined)(s)?this.em.getCurrentMedia():s,u=this.em.Selectors,p=u.add({name:t,type:Ci.TYPE_ID},a),g=this.add(p,l,c,{},a);return g.setStyle(e,wl(wl({},r),a)),g},n.prototype.getIdRule=function(t,e){e===void 0&&(e={});var r=e.mediaText,i=e.state||"",a=(0,tt.isUndefined)(r)?this.em.getCurrentMedia():r,s=this.em.Selectors.get(t,Ci.TYPE_ID);return s&&this.get(s,i,a)},n.prototype.setClassRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=r.state||"",a=r.mediaText||this.em.getCurrentMedia(),s=this.em.Selectors,l=s.add({name:t,type:Ci.TYPE_CLASS}),c=this.add(l,i,a);return c.setStyle(e,r),c},n.prototype.getClassRule=function(t,e){e===void 0&&(e={});var r=e.state||"",i=e.mediaText||this.em.getCurrentMedia(),a=this.em.Selectors.get(t,Ci.TYPE_CLASS);return a&&this.get(a,r,i)},n.prototype.remove=function(t,e){var r=(0,tt.isString)(t)?this.getRules(t):t,i=this.getAll().remove(r,e);return(0,tt.isArray)(i)?i:[i]},n.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},n.prototype.getComponentRules=function(t,e){e===void 0&&(e={});var r=e.state,i=e.mediaText,a=e.current;a&&(r=this.em.get("state")||"",i=this.em.getCurrentMedia());var s=t.getId(),l=this.getAll().filter(function(c){return!(0,tt.isUndefined)(r)&&c.get("state")!==r||!(0,tt.isUndefined)(i)&&c.get("mediaText")!==i?!1:c.getSelectorsString()==="#".concat(s)});return l},n.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new u0({collection:this.rules,config:this.config}),this.rulesView.render().el},n.prototype.checkId=function(t,e){e===void 0&&(e={});var r=e.idMap,i=r===void 0?{}:r,a=[];if(!Object.keys(i).length)return a;var s=Array.isArray(t)?t:[t];return s.forEach(function(l){var c=l.selectors;if(c&&c.length==1){var u=c[0];if((0,tt.isString)(u)){if(u[0]==="#"){var p=u.substring(1),g=i[p];p&&g&&(c[0]="#".concat(g),a.push(l))}}else if(u.name&&u.type===Ci.TYPE_ID){var g=i[u.name];g&&(u.name=g,a.push(l))}}}),a},n.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},n}(za),mI=hI,vI=function(){return{appendTo:"",blocks:[],appendOnClick:!1,custom:!1}},_I=vI,yI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bI=function(o){yI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(n.prototype,"category",{get:function(){var t=this.get("category");return t instanceof ju?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.id},n.prototype.getLabel=function(){return this.get("label")},n.prototype.getMedia=function(){return this.get("media")},n.prototype.getContent=function(){return this.get("content")},n.prototype.getDragDef=function(){return this.get("dragDef")},n.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,tt.isFunction)(t?.get)?t.get("label"):t?.label?t?.label:t},n}(_e.Kx),KO=bI,CI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qO=function(o){CI(n,o);function n(t,e){var r=o.call(this,t)||this;return r.em=e.em,r.on("add",r.handleAdd),r}return n.prototype.getCategories=function(){return this.em.Blocks.getCategories()},n.prototype.handleAdd=function(t){this.initCategory(t)},n}(AO),Bf=qO;qO.prototype.model=KO;var Zf=function(o){return o.add="block:add",o.remove="block:remove",o.removeBefore="block:remove:before",o.update="block:update",o.dragStart="block:drag:start",o.drag="block:drag",o.dragEnd="block:drag:stop",o.categoryUpdate="block:category:update",o.custom="block:custom",o.all="block",o}(Zf||{});var xI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zc=function(){return zc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},zc.apply(this,arguments)},OI=function(o){xI(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t)||this,i=r.model;return r.em=e.em,r.config=e,r.endDrag=r.endDrag.bind(r),r.ppfx=e.pStylePrefix||"",r.listenTo(i,"destroy remove",r.remove),r.listenTo(i,"change",r.render),r}return n.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.handleClick=function(t){var e,r,i=this,a=i.config,s=i.model,l=i.em,c=s.get("onClick")||a.appendOnClick;if(l.trigger("block:click",s,t),c){if((0,tt.isFunction)(c))return c(s,l?.getEditor(),{event:t})}else return;var u=(e=a.getSorter)===null||e===void 0?void 0:e.call(a);if(u){var p=s.get("content"),g=this.getTempDropModel(p),h=(r=g.view)===null||r===void 0?void 0:r.el,y=h?[{element:h,dragSource:{content:p}}]:[],_=l.getSelected(),x,P,w,T=0;if(_)if(P=u.validTarget(_.getEl(),y,T),P)x=_;else{var b=_.parent();b&&(P=u.validTarget(b.getEl(),y,T),P&&(x=b,w=b.components().indexOf(_)+1))}if(!x){var k=l.getWrapper();P=u.validTarget(k.getEl(),y,T),P&&(x=k)}var E=x&&x.append(p,{at:w})[0];E&&l.setSelected(E,{scroll:!0})}},n.prototype.startDrag=function(t){var e,r=this,i=r.config,a=r.em,s=r.model,l=s.get("disable");if(!(t.button!==0||!i.getSorter||this.el.draggable||l)){a.refreshCanvas();var c=i.getSorter();c.__currentBlock=s;var u=this.model.get("content"),p=this.getTempDropModel(u),g=(e=p.view)===null||e===void 0?void 0:e.el,h=g?[{element:g,dragSource:{content:u}}]:[];c.startSort(h),(0,Me.on)(document,"mouseup",this.endDrag)}},n.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},n.prototype.handleDrag=function(t){this.__getModule().__drag(t)},n.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},n.prototype.endDrag=function(){var t,e;(0,Me.AU)(document,"mouseup",this.endDrag);var r=(e=(t=this.config).getSorter)===null||e===void 0?void 0:e.call(t);r&&r.endDrag()},n.prototype.getTempDropModel=function(t){var e,r=this.em.Components.getComponents(),i={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},a=r.add(t,zc(zc({},i),{temporary:!0})),s=r.remove(a,zc(zc({},i),{temporary:!0}));return s=s instanceof Array?s[0]:s,(e=s.view)===null||e===void 0||e.$el.data("model",s),s},n.prototype.render=function(){var t,e=this,r=e.em,i=e.el,a=e.$el,s=e.ppfx,l=e.model,c=l.get("disable"),u=l.get("attributes")||{},p=u.class||"",g="".concat(s,"block"),h=r&&r.t("blockManager.labels.".concat(l.id))||l.get("label"),y=l.get("render"),_=l.get("media"),x=c?"".concat(g,"--disable"):"".concat(s,"four-color-h");a.attr(u),i.className="".concat(p," ").concat(g," ").concat(s,"one-bg ").concat(x).trim(),i.innerHTML=`
      `.concat(_?'<div class="'.concat(g,'__media">').concat(_,"</div>"):"",`
      <div class="`).concat(g,'-label">').concat(h,`</div>
    `),i.title=u.title||((t=i.textContent)===null||t===void 0?void 0:t.trim()),i.setAttribute("draggable","".concat(!!((0,ie.hasDnd)(r)&&!c)));var P=y&&y({el:i,model:l,className:g,prefix:s});return P&&(i.innerHTML=P),this},n}(_e.Ss),PI=OI,MI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wI=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},SI=function(o){MI(n,o);function n(t,e,r){var i=o.call(this,t)||this;i.config=e;var a=e.pStylePrefix||"";return i.em=e.em,i.catName=r,i.pfx=a,i.caretR="fa fa-caret-right",i.caretD="fa fa-caret-down",i.iconClass="".concat(a,"caret-icon"),i.activeClass="".concat(a,"open"),i.className="".concat(a).concat(r,"-category"),i.listenTo(i.model,"change:open",i.updateVisibility),i.model.view=i,i}return n.prototype.events=function(){return{"click [data-title]":"toggle"}},n.prototype.template=function(t){var e=t.pfx,r=t.label,i=t.catName;return Vi(cx||(cx=wI([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),e,e,r,e,i)},n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},n.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},n.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},n.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},n.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},n.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},n.prototype.append=function(t){this.getTypeEl().appendChild(t)},n.prototype.render=function(){var t=this,e=t.em,r=t.el,i=t.$el,a=t.model,s=t.pfx,l=t.catName,c=e.t("".concat(l,"Manager.categories.").concat(a.id))||a.get("label");return r.innerHTML=this.template({pfx:s,label:c,catName:l}),i.addClass(this.className),i.css({order:a.get("order")}),this.updateVisibility(),this},n}(_e.Ss),$O=SI,cx,TI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lg=function(){return Lg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Lg.apply(this,arguments)},EI=function(o){TI(n,o);function n(t,e){var r=o.call(this,t)||this;r.renderedCategories=new Map,(0,tt.bindAll)(r,"getSorter","onDrag","onDrop","onMove"),r.config=e||{},r.categories=t.categories||"";var i=r.config.pStylePrefix||"";r.ppfx=i,r.noCatClass="".concat(i,"blocks-no-cat"),r.blockContClass="".concat(i,"blocks-c"),r.catsClass="".concat(i,"block-categories");var a=r.collection;return r.listenTo(a,"add",r.addTo),r.listenTo(a,"reset",r.render),r.em=r.config.em,r.em&&(r.config.getSorter=r.getSorter),r}return n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=Lg(Lg({},this.config),t)},n.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var e=t.Utils,r=t.Canvas;this.sorter=new e.ComponentSorter({em:t,treeClass:LO,containerContext:{container:r.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:r.getPlacerEl(),document:r.getBody().ownerDocument},dragBehavior:{dragDirection:Nl.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},n.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},n.prototype.onMove=function(t){this.__getModule().__drag(t)},n.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},n.prototype.addTo=function(t){this.add(t)},n.prototype.add=function(t,e){var r=this,i=r.config,a=r.renderedCategories,s=t.get("attributes"),l=new PI({model:t,attributes:s},i),c=l.render().el,u=t.parent.initCategory(t);if(u&&this.categories&&!i.ignoreCategories){var p=u.getId(),g=this.getCategoriesEl(),h=a.get(p);!h&&g&&(h=new $O({model:u},i,"block").render(),a.set(p,h),g.appendChild(h.el)),h?.append(c);return}e?e.appendChild(c):this.append(c)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},n.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},n.prototype.append=function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},n.prototype.render=function(){var t=this,e=this.ppfx,r=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(a){return t.add(a,r)}),this.append(r);var i="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(i),this.rendered=!0,this},n}(_e.Ss),dx=EI,kI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),As=function(){return As=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},As.apply(this,arguments)},AI=function(o){kI(n,o);function n(t){var e=o.call(this,t,"BlockManager",new Bf([],{em:t}),Zf,_I())||this;return e.events=Zf,e.Block=KO,e.Blocks=Bf,e.Category=ju,e.Categories=og,e.storageKey="",e.blocks=e.all,e.blocksVisible=new Bf(e.blocks.models,{em:t}),e.categories=new og([],{em:t,events:{update:Zf.categoryUpdate}}),e.__onAllEvent=(0,tt.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.onInit=function(){var t=this,e=t.config,r=t.blocks,i=t.blocksVisible;r.on("add",function(a){return i.add(a)}),r.on("remove",function(a){return i.remove(a)}),r.on("reset",function(a){return i.reset(a.models)}),r.add(e.blocks||[])},n.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:e.container,dragStart:function(r,i){return t.startDrag(r,i)},drag:function(r){return t.__drag(r)},dragStop:function(r){return t.endDrag(r)}}},n.prototype.__startDrag=function(t,e){var r=this,i=r.em,a=r.events,s=r.blocks,l=t.getContent?t.getContent():t;this._dragBlock=t,i.set({dragResult:null,dragSource:{content:l,dragDef:t.getDragDef()}}),[i,s].map(function(c){return c.trigger(a.dragStart,t,e)})},n.prototype.__drag=function(t){var e=this,r=e.em,i=e.events,a=e.blocks,s=this._dragBlock;[r,a].map(function(l){return l.trigger(i.drag,s,t)})},n.prototype.__endDrag=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.events,a=e.blocks,s=this._dragBlock,l=t.component||r.get("dragResult");if(delete this._dragBlock,l&&s){var c="activeOnRender",u=l.get&&l.get(c),p=s.get("activate")||u,g=s.get("select"),h=(0,tt.isArray)(l)?l[0]:l,y=g||p&&g!==!1;y?r.setSelected(h,{activate:p}):p&&h.trigger("active"),p&&u&&h.unset(c),s.get("resetId")&&h.onAll(function(_){return _.resetId()})}r.set({dragResult:null,dragSource:void 0}),s&&[r,a].map(function(_){return _.trigger(i.dragEnd,l,s)})},n.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},n.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=As(As({},this._bhv||{}),t)},n.prototype.__getBehaviour=function(){return this._bhv||{}},n.prototype.startDrag=function(t,e){this.__startDrag(t,e),this.__getFrameViews().forEach(function(r){var i;return(i=r.droppable)===null||i===void 0?void 0:i.startCustom()})},n.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(e){var r;return(r=e.droppable)===null||r===void 0?void 0:r.endCustom(t)}),this.__endDrag()},n.prototype.postRender=function(){var t=this,e=t.categories,r=t.config,i=t.em,a=this.blocksVisible;this.blocksView=new dx({collection:a,categories:e},As(As({},r),{em:i})),this.__appendTo(a.models),this.__trgCustom()},n.prototype.add=function(t,e,r){r===void 0&&(r={});var i=e||{};return i.id=t,this.blocks.add(i,r)},n.prototype.get=function(t){return this.blocks.get(t)},n.prototype.getAll=function(){return this.blocks},n.prototype.getAllVisible=function(){return this.blocksVisible},n.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},n.prototype.getCategories=function(){return this.categories},n.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},n.prototype.getDragBlock=function(){return this._dragBlock},n.prototype.getBlocksByCategory=function(t){return kO(t||this.getAll().models)},n.prototype.render=function(t,e){e===void 0&&(e={});var r=this,i=r.categories,a=r.config,s=r.em,l=t||this.getAll().models;if(e.external){var c=new Bf(l,{em:s});return new dx({collection:c,categories:i},As(As({em:s},a),e)).render().el}return this.blocksView&&(this.blocksView.updateConfig(e),this.blocksView.collection.reset(l),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},n.prototype.destroy=function(){var t,e=[this.blocks,this.blocksVisible,this.categories];e.map(function(r){return r.stopListening()}),e.map(function(r){return r.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},n}(za),II=AI,DI=function(){return{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1}},LI=DI,NI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YO=function(o){NI(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",label:""}},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(){return this.get("label")||this.getName()},n}(_e.Kx),U1=YO;YO.prototype.idAttribute="name";var RI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),FI=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},ux="contentEditable",VI=function(o){RI(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this,r=t.config||{};return e.config=r,e.module=t.module,e.coll=t.coll||null,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.em=r.em,e.listenTo(e.model,"change:active",e.updateStatus),e}return n.prototype.template=function(){var t=this,e=t.pfx,r=t.model,i=t.config,a=r.get("label")||"";return Vi(px||(px=FI([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),e,e,e,a,e,e,i.iconTagRemove)},n.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},n.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},n.prototype.startEditTag=function(){var t=this.em,e=this.getInputEl();e[ux]="true",e.focus(),t?.setEditing(!0)},n.prototype.endEditTag=function(){var t=this,e=t.model,r=t.em,i=this.getInputEl(),a=i.textContent||"",s=r?.Selectors;i[ux]="false",r?.setEditing(!1),s&&s.rename(e,a)!==e&&(i.innerText=e.getLabel())},n.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},n.prototype.removeTag=function(){this.module.removeSelected(this.model)},n.prototype.updateStatus=function(){var t=this,e=t.model,r=t.$el,i=t.config,a=i.iconTagOn,s=i.iconTagOff,l=r.find("[data-tag-status]");e.get("active")?(l.html(a),r.removeClass("opac50")):(l.html(s),r.addClass("opac50"))},n.prototype.render=function(){var t=this,e=t.pfx,r=t.ppfx,i=t.$el,a=t.model,s="".concat(e,"tag"),l=["".concat(s," ").concat(r,"three-bg")];return a.get("protected")&&l.push("".concat(s,"-protected")),i.html(this.template()),i.attr("class",l.join(" ")),this.updateStatus(),this},n}(_e.Ss),zI=VI,px,jI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mu=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},HI=function(o){jI(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.className=e.pfx+"tags",e.stateInputId=e.pfx+"states",e.stateInputC=e.pfx+"input-c",e.states=e.config.states||[];var r=e.config.em,i=e.collection;e.target=r;var a=r.Selectors;e.module=a,e.em=r,e.componentChanged=(0,tt.debounce)(e.componentChanged.bind(e),0),e.checkSync=(0,tt.debounce)(e.checkSync.bind(e),0);var s=kn.I.update,l="".concat(s,":classes"),c="component:toggled ".concat(l),u="".concat(l," ").concat(s,":attributes:id change:state");return e.listenTo(r,c,e.componentChanged),e.listenTo(r,"styleManager:update",e.componentChanged),e.listenTo(r,u,e.__handleStateChange),e.listenTo(r,"styleable:change change:device",e.checkSync),e.listenTo(i,"add",e.addNew),e.listenTo(i,"reset",e.renderClasses),e.listenTo(i,"remove",e.tagRemoved),e.listenTo(a.getAll(),a.events.state,(0,tt.debounce)(function(){return e.renderStates()},0)),e.delegateEvents(),e}return n.prototype.template=function(t){var e=t.labelInfo,r=t.labelHead,i=t.iconSync,a=t.iconAdd,s=t.pfx,l=t.ppfx;return Vi(fx||(fx=mu([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),s,s,s,s,r,s,s,s,l,l,l,s,l,l,s,l,s,s,s,s,s,a,s,s,i,s,s,e,s)},n.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},n.prototype.syncStyle=function(){var t=this.em,e=this.getTarget(),r=t.Css,i={noDisabled:1},a=this.getCommonSelectors({opts:i}),s=t.get("state"),l=t.getCurrentMedia(),c=[],u=r.get(a,s,l)||r.add(a,s,l),p;this.getTargets().forEach(function(g){var h=r.getIdRule(g.getId(),{state:s,mediaText:l});p=h.getStyle(),h.setStyle({}),c.push(h)}),p&&u.addStyle(p),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:e,selectors:a,mediaText:l,rule:u,ruleComponents:c,state:s})},n.prototype.tagRemoved=function(t){this.updateStateVis()},n.prototype.addNew=function(t){this.addToClasses(t)},n.prototype.startNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(e=this.$input)===null||e===void 0||e.show().focus()},n.prototype.endNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(e=this.$input)===null||e===void 0||e.hide().val("")},n.prototype.onInputKeyUp=function(t){var e;t.keyCode===13?(t.preventDefault(),this.addNewTag((e=this.$input)===null||e===void 0?void 0:e.val())):t.keyCode===27&&this.endNewTag()},n.prototype.checkStates=function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},n.prototype.componentChanged=function(t){var e=t===void 0?{}:t,r=e.targets;this.updateSelection(r)},n.prototype.updateSelection=function(t){var e=t||this.getTargets();e=(0,tt.isArray)(e)?e:[e];var r=[];return e&&e.length&&(r=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:r})),this.collection.reset(r),this.updateStateVis(e),this.module.__trgCustom(),r},n.prototype.getCommonSelectors=function(t){var e=t===void 0?{}:t,r=e.targets,i=e.opts,a=i===void 0?{}:i,s=r||this.getTargets();return this.module.__getCommonSelectors(s,a)},n.prototype._commonSelectors=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.module).__common.apply(t,e)},n.prototype.checkSync=function(){var t=this,e=t.$btnSyncEl,r=t.config,i=t.collection,a=this.getTarget(),s;if(a&&r.componentFirst&&i.length){var l=a.getStyle();s=!(0,tt.isEmpty)(l)}e&&e[s?"show":"hide"]()},n.prototype.getTarget=function(){return this.target.getSelected()},n.prototype.getTargets=function(){return this.target.getSelectedAll()},n.prototype.updateStateVis=function(t){var e=this.em,r=e&&e.getConfig().avoidInlineStyle,i=this.collection.length||r?"":"none";this.getStatesC().css("display",i),this.updateSelector(t)},n.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},n.prototype.updateSelector=function(t){var e=this,r=this.el.querySelector("[data-selected]"),i=[],a=t||this.getTargets();a=(0,tt.isArray)(a)?a:[a],a.forEach(function(s){return i.push(e.__getName(s))}),r&&(r.innerHTML=i.join(", ")),this.checkStates()},n.prototype.__getName=function(t){var e=this,r=e.pfx,i=e.config,a=e.em,s=i.selectedName,l=i.componentFirst,c;if((0,tt.isString)(t))c=Vi(gx||(gx=mu(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),r,t);else{var u=t?.getSelectors();if(!u)return"";var p=u.getStyleable(),g=a.get("state"),h=t.getId?Vi(hx||(hx=mu(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),r,t.getName(),r,t.getId()):"";c=this.collection.getFullString(p),c=c?Vi(mx||(mx=mu(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),r,c):t.get("selectorsAdd")||h,c=l&&h?h:c,c+=g?Vi(vx||(vx=mu(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),r,g):"",c=s?s({result:c,state:g,target:t}):c}return c&&'<span class="'.concat(r,'sel">').concat(c,"</span>")},n.prototype.stateChanged=function(t){var e=this.em,r=t.target.value;e.set("state",r)},n.prototype.addNewTag=function(t){var e=t.trim();e&&(this.module.addSelected({label:e}),this.endNewTag())},n.prototype.addToClasses=function(t,e){var r=e,i=this.getClasses(),a=new zI({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return r?r.appendChild(a):i.append(a),a},n.prototype.renderClasses=function(){var t=this,e=document.createDocumentFragment(),r=this.getClasses();r.empty(),this.collection.each(function(i){return t.addToClasses(i,e)}),r.append(e)},n.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},n.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},n.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},n.prototype.renderStates=function(){var t=this,e=t.module,r=t.em,i=r.t("selectorManager.emptyState"),a=e.getStates().map(function(l){var c=r.t("selectorManager.states.".concat(l.id))||l.getLabel()||l.id;return'<option value="'.concat(l.id,'">').concat(c,"</option>")}).join(""),s=this.getStates();s&&s.html('<option value="">'.concat(i,"</option>").concat(a)),this.checkStates()},n.prototype.render=function(){var t=this,e=t.em,r=t.pfx,i=t.ppfx,a=t.config,s=t.$el,l=t.el,c=a.render,u=a.iconSync,p=a.iconAdd,g={iconSync:u,iconAdd:p,labelHead:e.t("selectorManager.label"),labelInfo:e.t("selectorManager.selected"),ppfx:i,pfx:r,el:l};s.html(this.template(g));var h=c&&c(g);return h&&h!==l&&s.empty().append(h),this.$input=s.find("[data-input]"),this.$addBtn=s.find("[data-add]"),this.$classes=s.find("#"+r+"tags-c"),this.$btnSyncEl=s.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),s.attr("class","".concat(this.className," ").concat(i,"one-bg ").concat(i,"two-color")),this},n}(_e.Ss),BI=HI,fx,gx,hx,mx,vx,UI=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Su=function(){return Su=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Su.apply(this,arguments)},W1=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},_x=function(o){return(0,tt.isString)(o)&&o[0]=="#"},yx=function(o){return(0,tt.isString)(o)&&o[0]=="."},XO="selector",Hu="".concat(XO,":"),WI="".concat(Hu,"add"),GI="".concat(Hu,"update"),QO="".concat(Hu,"remove"),KI="".concat(QO,":before"),qI="".concat(Hu,"custom"),JO="".concat(Hu,"state"),$I={all:XO,update:GI,add:WI,remove:QO,removeBefore:KI,state:JO,custom:qI},YI=function(o){UI(n,o);function n(t){var e=o.call(this,t,"SelectorManager",new Ls([]),$I,LI(),{skipListen:!0})||this;e.Selector=Ci,e.Selectors=Ls,e.storageKey="",(0,tt.bindAll)(e,"__updateSelectedByComponents");var r=e.config,i=r.pStylePrefix;i&&(r.stylePrefix=i+r.stylePrefix),e.all=new Ls(r.selectors),e.selected=new Ls([],{em:t,config:r}),e.states=new _e.pM(r.states.map(function(l){return new U1(l)}),{model:U1}),e.model=new _e.Kx({cFirst:r.componentFirst,_undo:!0}),e.__update=(0,tt.debounce)(function(){return e.__trgCustom()},0),e.__initListen({collections:[e.states,e.selected],propagate:[{entity:e.states,event:e.events.state}]}),t.on("change:state",function(l,c){return t.trigger(JO,c)}),e.model.on("change:cFirst",function(l,c){return t.trigger("selector:type",c)});var a="".concat(kn.I.update,":classes");t.on("component:toggled ".concat(a),e.__updateSelectedByComponents);var s="component:toggled ".concat(a," change:device styleManager:update selector:state selector:type style:target");return e.model.listenTo(t,s,function(){return e.__update()}),e}return n.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},n.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?W1([],this.all.models,!0):this.all:[]},n.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},n.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},n.prototype.select=function(t,e){e===void 0&&(e={});var r=Array.isArray(t)?t:[t],i=this.em.Styles.select(r,e);this.selected.reset(this.__getCommonSelectors(i));var a=this.selectorTags,s=i.filter(function(l){return l}).map(function(l){return(0,ie.isComponent)(l)||(0,ie.isRule)(l)&&!l.get("selectorsAdd")?l:l.getSelectorsString()});return a&&a.componentChanged({targets:s}),this},n.prototype.addSelector=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=Su({},e);(0,tt.isObject)(t)?i=t:i.name=t,_x(i.name)?(i.name=i.name.substr(1),i.type=Ci.TYPE_ID):yx(i.name)&&(i.name=i.name.substr(1)),i.label&&!i.name&&(i.name=this.escapeName(i.label));var a=i.name,s=this.getConfig(),l=this,c=l.all,u=l.em,p=a?this.get(a,i.type):c.where(i)[0];if(!p){var g=i instanceof Ci?i:new Ci(i,Su(Su({},r),{config:s,em:u}));return c.add(g,r)}return p},n.prototype.getSelector=function(t,e){return e===void 0&&(e=Ci.TYPE_CLASS),_x(t)?(t=t.substr(1),e=Ci.TYPE_ID):yx(t)&&(t=t.substr(1)),this.all.where({name:t,type:e})[0]},n.prototype.add=function(t,e){var r=this;e===void 0&&(e={});var i=(0,tt.isString)(t)?{}:e;return(0,tt.isArray)(t)?t.map(function(a){return r.addSelector(a,e,i)}):this.addSelector(t,e,i)},n.prototype.addClass=function(t){var e=this,r=[];return(0,tt.isString)(t)&&(t=t.trim().split(" ").filter(Boolean)),t.forEach(function(i){return r.push(e.addSelector(i))}),r},n.prototype.get=function(t,e){var r=this;if((0,tt.isArray)(t)){var i=[],a=t.map(function(s){return r.getSelector(s)}).filter(Boolean);return a.forEach(function(s){return i.indexOf(s)<0&&i.push(s)}),i}else return this.getSelector(t,e)},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.rename=function(t,e,r){var i=this.escapeName(e),a=this.get(i);return a||t.set({name:i,label:e},r)},n.prototype.setState=function(t){return this.em.setState(t),this},n.prototype.getState=function(){return this.em.getState()},n.prototype.getStates=function(){return W1([],this.states.models,!0)},n.prototype.setStates=function(t,e){return this.states.reset(t.map(function(r){return new U1(r)}),e)},n.prototype.getSelected=function(){return this.__getCommon()},n.prototype.getSelectedAll=function(){return W1([],this.selected.models,!0)},n.prototype.addSelected=function(t){var e=this.add(t);this.em.getSelectedAll().forEach(function(r){r.getSelectors().add(e)})},n.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},n.prototype.duplicateSelected=function(t,e){var r=this;e===void 0&&(e={});var i=this.em,a=this.getSelected();if(!(a.indexOf(t)<0)){var s=this.getState(),l=i.getCurrentMedia(),c=i.Css.get(a,s,l),u=c?.getStyle();if(i.getSelectedAll().forEach(function(g){var h=g.getSelectors();if(h.includes(t)){var y=e.suffix||" copy",_=t.getLabel(),x=r.addSelector("".concat(_).concat(y)),P=h.indexOf(t);h.remove(t),h.add(x,{at:P})}}),u){var p=i.Css.add(this.getSelected(),s,l);p.setStyle(u)}}},n.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},n.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},n.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},n.prototype.escapeName=function(t){var e=this.getConfig().escapeName;return e?e(t):Ci.escapeName(t)},n.prototype.render=function(t){var e=this.selectorTags,r=this.getConfig(),i=e?.el;return this.selected.reset(t),this.selectorTags=new BI({el:i,collection:this.selected,module:this,config:r}),this.selectorTags.render().el},n.prototype.destroy=function(){var t=this,e=t.selectorTags,r=t.model;r.stopListening(),this.__update.cancel(),this.__destroy(),e?.remove(),this.selectorTags=void 0},n.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},n.prototype.__getCommonSelectors=function(t,e){e===void 0&&(e={});var r=t.map(function(i){return i.getSelectors&&i.getSelectors().getValid(e)}).filter(Boolean);return this.__common.apply(this,r)},n.prototype.__common=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?e.length===1?e[0]:e.length===2?e[0].filter(function(i){return e[1].indexOf(i)>=0}):e.slice(1).reduce(function(i,a){return t.__common(i,a)},e[0]):[]},n.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},n}(za),XI=YI,QI=function(){return{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1,convertDataGjsAttributesHyphens:!1}}},JI=QI,qo,lo={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},Xc=(qo={},qo[lo.MEDIA_RULE]="media",qo[lo.FONT_FACE_RULE]="font-face",qo[lo.PAGE_RULE]="page",qo[lo.KEYFRAMES_RULE]="keyframes",qo[lo.COUNTER_STYLE_RULE]="counter-style",qo[lo.SUPPORTS_RULE]="supports",qo[lo.DOCUMENT_RULE]="document",qo[lo.FONT_FEATURE_VALUES_RULE]="font-feature-values",qo[lo.VIEWPORT_RULE]="viewport",qo),ZO=(0,tt.keys)(Xc),J0=[lo.FONT_FACE_RULE,lo.PAGE_RULE,lo.COUNTER_STYLE_RULE,lo.VIEWPORT_RULE],ZI=ZO.filter(function(o){return J0.indexOf(Number(o))<0}).map(function(o){return Xc[o]}).concat(["container","layer"]),tD=J0.map(function(o){return Xc[o]}),t2=function(o){o===void 0&&(o="");for(var n=[],t=[],e=o.split(","),r=0,i=e.length;r<i;r++){var a=e[r].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(a)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(a)){var s=a.split(".").filter(Boolean);t.push(s)}else n.push(a)}return{result:t,add:n}},eD=function(o){for(var n=o.style,t={},e=0,r=n.length;e<r;e++){var i=n[e],a=n.getPropertyValue(i),s=n.getPropertyPriority(i);t[i]="".concat(a).concat(s?" !".concat(s):"")}return t},bx=function(o){var n=o.conditionText||o.media&&o.media.mediaText||o.name||o.selectorText||"";return n.trim()},C0=function(o,n,t){n===void 0&&(n={}),t===void 0&&(t={});var e={},r=o.length,i=o[r-1],a=i?i.split(/:(.+)/):[],s=a[1],l=t.atRule,c=t.selectorsAdd,u=t.mediaText,p=tD.indexOf(l)>=0;return p&&(e.singleAtRule=!0),l&&(e.atRuleType=l),c&&(e.selectorsAdd=c),u&&(e.mediaText=u),s&&(o[r-1]=a[0],e.state=s,a.splice(a.length-1,1)),e.selectors=o,e.style=n,e},Cx=function(o){var n=o.cssText,t=n===void 0?"":n;return ZI.find(function(e){return t.indexOf("@".concat(e))===0})},e2=function(o){for(var n=[],t=o.cssRules||[],e=0,r=t.length;e<r;e++){var i=t[e],a=i.type,s=!1,l="",c="",u=i.selectorText||i.keyText||"",p=J0.indexOf(a)>=0;if(p)s=!0,l=Xc[a],c=bx(i);else if(ZO.indexOf("".concat(a))>=0||!a&&Cx(i)){var g=e2(i),h=Xc[a]||Cx(i);c=bx(i);for(var y=0,_=g.length;y<_;y++){var x=g[y];c&&(x.mediaText=c),x.atRuleType=h}n=n.concat(g)}if(!(!u&&!p)){for(var P=eD(i),w=t2(u),T=w.add,b=w.result,k=void 0,E=0,L=b.length;E<L;E++){var R=C0(b[E],P,{atRule:Xc[a]});n.push(R),k=R}if(T.length){var z=T.join(", ");if(k)k.selectorsAdd=z;else{var R={selectors:[],selectorsAdd:z,style:P};s&&(R.singleAtRule=s),l&&(R.atRuleType=l),c&&(R.mediaText=c),n.push(R)}}}}return n},nD=function(o){var n=document.createElement("style");n.innerHTML=o,document.head.appendChild(n);var t=n.sheet;return document.head.removeChild(n),t?e2(t):[]},rD=function(o,n){return n===void 0&&(n={}),{parse:function(t,e){var r=this;e===void 0&&(e={});var i=[],a=n.parserCss,s=o?.Editor,l=[],c,u=o?.Parser,p={input:t};u?.__emitEvent(Al.cssBefore,p);var g=p.input;try{l=a?a(g,s):nD(g)}catch(h){if(c=h,e.throwOnError)throw h}return l.forEach(function(h){return i=i.concat(r.checkNode(h))}),u?.__emitEvent(Al.css,{input:g,output:i,nodes:l,error:c}),i},checkNode:function(t){var e=t.selectors,r=t.style,i=[t];if((0,tt.isString)(e)){var a=[],s=t,l=t2(e),c=l.result,u=l.add.join(", "),p={atRule:s.atRule,mediaText:s.params};if(c.length?c.forEach(function(h){a.push(C0(h,r,p))}):a.push(C0([],r,p)),u){var g=a[a.length-1];g.selectorsAdd=u}i=a}return i}}},iD=rD,oD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),x0=function(){return x0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},x0.apply(this,arguments)},aD=function(o){oD(n,o);function n(t){var e=o.call(this,t,"Parser",JI())||this;e.events=Al;var r=e.config;return e.parserCss=iD(t,r),e.parserHtml=_O(t,r),e}return n.prototype.parseHtml=function(t,e){e===void 0&&(e={});var r=this,i=r.em,a=r.parserHtml;return a.compTypes=i.Components.getTypes()||[],a.parse(t,this.parserCss,e)},n.prototype.parseCss=function(t){return this.parserCss.parse(t)},n.prototype.__emitEvent=function(t,e){var r=this,i=r.em,a=r.events;i.trigger(t,e),i.trigger(a.all,x0({event:t},e))},n.prototype.destroy=function(){},n}(Hi),sD=aD,lD=function(){return{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(o){return o},onLoad:function(o){return o},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(o){return o},onLoad:function(o){return o}}}}},cD=lD,xx=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?i(u.value):r(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},Ox=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],r=0}finally{e=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},dD=function(){function o(){}return o.prototype.store=function(n){return xx(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),Ox(this,function(r){return this.hasLocal(e,!0)&&localStorage.setItem(e.key,JSON.stringify(t)),[2,t]})})},o.prototype.load=function(){return xx(this,arguments,void 0,function(n){var t;return n===void 0&&(n={}),Ox(this,function(e){return t={},this.hasLocal(n,!0)&&(t=JSON.parse(localStorage.getItem(n.key)||"{}")),[2,t]})})},o.prototype.hasLocal=function(n,t){if(n===void 0&&(n={}),n.checkLocal&&(!(0,ie.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},o}(),uD=dD;function Rl(o){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Rl(o)}function pD(o){var n=this.constructor;return this.then(function(t){return n.resolve(o()).then(function(){return t})},function(t){return n.resolve(o()).then(function(){return n.reject(t)})})}var fD=pD;function gD(o){var n=this;return new n(function(t,e){if(!(o&&typeof o.length<"u"))return e(new TypeError(Rl(o)+" "+o+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(o);if(r.length===0)return t([]);var i=r.length;function a(l,c){if(c&&(Rl(c)==="object"||typeof c=="function")){var u=c.then;if(typeof u=="function"){u.call(c,function(p){a(l,p)},function(p){r[l]={status:"rejected",reason:p},--i===0&&t(r)});return}}r[l]={status:"fulfilled",value:c},--i===0&&t(r)}for(var s=0;s<r.length;s++)a(s,r[s])})}var hD=gD;function n2(o,n){this.name="AggregateError",this.errors=o,this.message=n||""}n2.prototype=Error.prototype;function mD(o){var n=this;return new n(function(t,e){if(!(o&&typeof o.length<"u"))return e(new TypeError("Promise.any accepts an array"));var r=Array.prototype.slice.call(o);if(r.length===0)return e();for(var i=[],a=0;a<r.length;a++)try{n.resolve(r[a]).then(t).catch(function(s){i.push(s),i.length===r.length&&e(new n2(i,"All promises were rejected"))})}catch(s){e(s)}})}var vD=mD,_D=setTimeout;function r2(o){return!!(o&&typeof o.length<"u")}function yD(){}function bD(o,n){return function(){o.apply(n,arguments)}}function cr(o){if(!(this instanceof cr))throw new TypeError("Promises must be constructed via new");if(typeof o!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],o2(o,this)}function i2(o,n){for(;o._state===3;)o=o._value;if(o._state===0){o._deferreds.push(n);return}o._handled=!0,cr._immediateFn(function(){var t=o._state===1?n.onFulfilled:n.onRejected;if(t===null){(o._state===1?O0:Vu)(n.promise,o._value);return}var e;try{e=t(o._value)}catch(r){Vu(n.promise,r);return}O0(n.promise,e)})}function O0(o,n){try{if(n===o)throw new TypeError("A promise cannot be resolved with itself.");if(n&&(Rl(n)==="object"||typeof n=="function")){var t=n.then;if(n instanceof cr){o._state=3,o._value=n,P0(o);return}else if(typeof t=="function"){o2(bD(t,n),o);return}}o._state=1,o._value=n,P0(o)}catch(e){Vu(o,e)}}function Vu(o,n){o._state=2,o._value=n,P0(o)}function P0(o){o._state===2&&o._deferreds.length===0&&cr._immediateFn(function(){o._handled||cr._unhandledRejectionFn(o._value)});for(var n=0,t=o._deferreds.length;n<t;n++)i2(o,o._deferreds[n]);o._deferreds=null}function CD(o,n,t){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof n=="function"?n:null,this.promise=t}function o2(o,n){var t=!1;try{o(function(e){t||(t=!0,O0(n,e))},function(e){t||(t=!0,Vu(n,e))})}catch(e){if(t)return;t=!0,Vu(n,e)}}cr.prototype.catch=function(o){return this.then(null,o)};cr.prototype.then=function(o,n){var t=new this.constructor(yD);return i2(this,new CD(o,n,t)),t};cr.prototype.finally=fD;cr.all=function(o){return new cr(function(n,t){if(!r2(o))return t(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(o);if(e.length===0)return n([]);var r=e.length;function i(s,l){try{if(l&&(Rl(l)==="object"||typeof l=="function")){var c=l.then;if(typeof c=="function"){c.call(l,function(u){i(s,u)},t);return}}e[s]=l,--r===0&&n(e)}catch(u){t(u)}}for(var a=0;a<e.length;a++)i(a,e[a])})};cr.any=vD;cr.allSettled=hD;cr.resolve=function(o){return o&&Rl(o)==="object"&&o.constructor===cr?o:new cr(function(n){n(o)})};cr.reject=function(o){return new cr(function(n,t){t(o)})};cr.race=function(o){return new cr(function(n,t){if(!r2(o))return t(new TypeError("Promise.race accepts an array"));for(var e=0,r=o.length;e<r;e++)cr.resolve(o[e]).then(n,t)})};cr._immediateFn=typeof setImmediate=="function"&&function(o){setImmediate(o)}||function(o){_D(o,0)};cr._unhandledRejectionFn=function(n){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};var M0=cr;(0,ie.hasWin)()&&(window.Promise=window.Promise||M0);var a2=typeof fetch=="function"?fetch.bind():function(o,n){return new M0(function(t,e){var r=new XMLHttpRequest;r.open(n.method||"get",o),r.withCredentials=n.credentials=="include";for(var i in n.headers||{})r.setRequestHeader(i,n.headers[i]);r.onload=function(a){return t({status:r.status,statusText:r.statusText,text:function(){return M0.resolve(r.responseText)}})},r.onerror=e,r.upload&&n.onProgress&&(r.upload.onprogress=n.onProgress),n.body?r.send(n.body):r.send()})},Ng=function(){return Ng=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ng.apply(this,arguments)},Px=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?i(u.value):r(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},Mx=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],r=0}finally{e=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},xD=function(){function o(){}return o.prototype.store=function(n){return Px(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),Mx(this,function(r){switch(r.label){case 0:return[4,this.request(e.urlStore,this.__props(e,t),e)];case 1:return[2,r.sent()]}})})},o.prototype.load=function(){return Px(this,arguments,void 0,function(n){return n===void 0&&(n={}),Mx(this,function(t){switch(t.label){case 0:return[4,this.request(n.urlLoad,this.__props(n),n)];case 1:return[2,t.sent()]}})})},o.prototype.request=function(n,t,e){return t===void 0&&(t={}),e===void 0&&(e={}),a2(n,t).then(function(r){var i=r.text(),a=(r.status/200|0)===1;return a?i:i.then(Promise.reject)}).then(function(r){var i=r&&(0,tt.isString)(r);return e.contentTypeJson&&i?JSON.parse(r):r})},o.prototype.__props=function(n,t){n===void 0&&(n={});var e=n.contentTypeJson,r=n.headers||{},i=n.fetchOptions||{},a="X-Requested-With",s="Content-Type",l;if((0,tt.isUndefined)(r[a])&&(r[a]="XMLHttpRequest"),(0,tt.isUndefined)(r[s])&&e&&(r[s]="application/json; charset=utf-8"),t)if(e)l=JSON.stringify(t);else{l=new FormData;for(var c in t)l.append(c,t[c])}var u={method:l?"POST":"GET",credentials:n.credentials,headers:r,body:l};return Ng(Ng({},u),(0,tt.isFunction)(i)?i(u):i)},o}(),OD=xD,s2=function(o){return o.start="storage:start",o.startStore="storage:start:store",o.startLoad="storage:start:load",o.load="storage:load",o.store="storage:store",o.after="storage:after",o.afterStore="storage:after:store",o.afterLoad="storage:after:load",o.end="storage:end",o.endStore="storage:end:store",o.endLoad="storage:end:load",o.error="storage:error",o.errorStore="storage:error:store",o.errorLoad="storage:error:load",o}(s2||{}),mi=s2,PD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jc=function(){return jc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},jc.apply(this,arguments)},G1=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?i(u.value):r(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},K1=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],r=0}finally{e=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Uf="local",wx="remote",MD=function(o){PD(n,o);function n(t){var e=o.call(this,t,"StorageManager",cD())||this;e.storages={},e.events=mi;var r=e.config;return r._disable&&(r.type=void 0),e.storages={},e.add(Uf,new uD),e.add(wx,new OD),e.setCurrent(r.type),e}return n.prototype.isAutosave=function(){return!!this.config.autosave},n.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},n.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},n.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},n.prototype.add=function(t,e){return this.storages[t]=e,this},n.prototype.get=function(t){return this.storages[t]},n.prototype.getStorages=function(){return this.storages},n.prototype.getCurrent=function(){return this.config.currentStorage},n.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},n.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},n.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},n.prototype.store=function(t){return G1(this,arguments,void 0,function(e,r){var i,a,s,l,c,u;return r===void 0&&(r={}),K1(this,function(p){switch(p.label){case 0:i=this.getCurrentStorage(),a=jc(jc({},this.getCurrentOptions()),r),s=this.getRecoveryStorage(),l=this.getCurrentOptions(Uf),p.label=1;case 1:return p.trys.push([1,5,,9]),[4,this.__exec(i,a,e)];case 2:return p.sent(),c=s,c?[4,this.__exec(s,l,{})]:[3,4];case 3:c=p.sent(),p.label=4;case 4:return[3,9];case 5:return u=p.sent(),s?[4,this.__exec(s,l,e)]:[3,7];case 6:return p.sent(),[3,8];case 7:throw u;case 8:return[3,9];case 9:return[2,e]}})})},n.prototype.load=function(){return G1(this,arguments,void 0,function(t){var e,r,i,a,s,l;return t===void 0&&(t={}),K1(this,function(c){switch(c.label){case 0:return e=this.getCurrentStorage(),r=jc(jc({},this.getCurrentOptions()),t),i=this.getRecoveryStorage(),i?[4,this.__exec(i,this.getCurrentOptions(Uf))]:[3,5];case 1:if(s=c.sent(),(0,tt.isEmpty)(s))return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return c.sent(),a=s,[3,5];case 4:return l=c.sent(),[3,5];case 5:return a?[3,7]:[4,this.__exec(e,r)];case 6:a=c.sent(),c.label=7;case 7:return[2,a||{}]}})})},n.prototype.__askRecovery=function(){var t=this.em,e=this.getRecovery();return new Promise(function(r,i){(0,tt.isFunction)(e)?e(r,i,t?.getEditor()):confirm(t?.t("storageManager.recover"))?r(null):i()})},n.prototype.getRecovery=function(){return this.config.recovery},n.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===wx&&this.get(Uf)},n.prototype.__exec=function(t,e,r){return G1(this,void 0,void 0,function(){var i,a,s,l,c,u,p,g,h,y,_,x,P,w;return K1(this,function(T){switch(T.label){case 0:if(i=r?"store":"load",a=this.getConfig(),s=a.onStore,l=a.onLoad,!t)return[2,r||{}];this.onStart(i,r),T.label=1;case 1:return T.trys.push([1,14,,15]),u=(w=this.em)===null||w===void 0?void 0:w.getEditor(),p=void 0,r?(h=s,h?[4,s(r,u)]:[3,3]):[3,7];case 2:h=T.sent(),T.label=3;case 3:return g=h||r,y=e.onStore,y?[4,e.onStore(g,u)]:[3,5];case 4:y=T.sent(),T.label=5;case 5:return g=y||g,[4,t.store(g,e)];case 6:return p=T.sent(),c=r,[3,13];case 7:return[4,t.load(e)];case 8:return p=T.sent(),c=this.__clearKeys(p),_=e.onLoad,_?[4,e.onLoad(c,u)]:[3,10];case 9:_=T.sent(),T.label=10;case 10:return c=_||c,x=l,x?[4,l(c,u)]:[3,12];case 11:x=T.sent(),T.label=12;case 12:c=x||c,T.label=13;case 13:return this.onAfter(i,c,p),this.onEnd(i,c,p),[3,15];case 14:throw P=T.sent(),this.onError(i,P),P;case 15:return[2,c]}})})},n.prototype.__clearKeys=function(t){t===void 0&&(t={});var e=this.getConfig(),r=new RegExp("^".concat(e.id)),i={};for(var a in t){var s=a.replace(r,"");i[s]=t[a]}return i},n.prototype.getCurrentOptions=function(t){var e=this.getConfig(),r=t||this.getCurrent();return e.options[r]||{}},n.prototype.onStart=function(t,e){var r=this.em;if(r){var i=t==="load"?mi.startLoad:mi.startStore;r.trigger(mi.start,t,e),r.trigger(i,e)}},n.prototype.onAfter=function(t,e,r){var i=this.em;if(i){var a=t==="load"?mi.afterLoad:mi.afterStore;i.trigger(mi.after),i.trigger(a,e,r);var s=t==="load"?mi.load:mi.store;i.trigger(s,e,r)}},n.prototype.onEnd=function(t,e,r){var i=this.em;if(i){var a=t==="load"?mi.endLoad:mi.endStore;i.trigger(mi.end,t,e,r),i.trigger(a,e,r)}},n.prototype.onError=function(t,e){var r=this.em;if(r){var i=t==="load"?mi.errorLoad:mi.errorStore;r.trigger(mi.error,e,t),r.trigger(i,e),this.onEnd(t,e)}},n.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},n.prototype.destroy=function(){this.storages={}},n}(Hi),wD=MD,SD=function(){return{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1}},TD=SD,ED=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tu=function(){return Tu=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Tu.apply(this,arguments)},l2=function(o){ED(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.events={},e.appendInput=!0;var r=t.config,i=r===void 0?{}:r,a=e,s=a.model,l=a.eventCapture,c=s.target,u=s.attributes.type;e.config=i,e.em=i.em,e.pfx=i.stylePrefix||"",e.ppfx=i.pStylePrefix||"",e.target=c,e.className=e.pfx+"trait",e.clsField="".concat(e.ppfx,"field ").concat(e.ppfx,"field-").concat(u);var p=[["change:value",e.onValueChange],["remove",e.removeView]];return p.forEach(function(g){var h=g[0],y=g[1];s.off(h,y),e.listenTo(s,h,y)}),s.view=e,e.listenTo(s,"change:label",e.render),e.listenTo(s,"change:placeholder",e.rerender),e.events={},l.forEach(function(g){return e.events[g]="onChange"}),e.delegateEvents(),e.init(),e}return n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.templateLabel=function(t){var e=this.ppfx,r=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(r,'">').concat(r,"</div>")},n.prototype.templateInput=function(t){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},n.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},n.prototype.removeView=function(){this.remove(),this.removed()},n.prototype.init=function(){},n.prototype.removed=function(){},n.prototype.onRender=function(t){},n.prototype.onUpdate=function(t){},n.prototype.onEvent=function(t){},n.prototype.onChange=function(t){var e=this.getInputElem();e&&!(0,tt.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(Tu(Tu({},this.getClbOpts()),{event:t}))},n.prototype.getValueForTarget=function(){return this.model.get("value")},n.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.value=t)},n.prototype.onValueChange=function(t,e,r){r===void 0&&(r={});var i=this.model,a=this.getValueForTarget();r.fromTarget?(this.setInputValue(a),this.postUpdate()):i.setValue(a,r)},n.prototype.renderLabel=function(){var t=this,e=t.$el,r=t.target,i=this.getLabel(),a=this.templateLabel(r);this.createLabel&&(a=this.createLabel({label:i,component:r,trait:this})||""),e.find("[data-label]").append(a)},n.prototype.getLabel=function(){var t=this.em,e=this.model.attributes,r=e.label,i=e.name;return t.t("traitManager.traits.labels.".concat(i))||(0,ie.capitalize)(r||i).replace(/-/g," ")},n.prototype.getComponent=function(){return this.target},n.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.em,r=t.model,i=r,a=r.attributes.name,s=i.get("placeholder")||i.get("default")||"",l=i.get("type")||"text",c=i.get("min"),u=i.get("max"),p=this.getModelValue(),g=(0,jr.default)('<input type="'.concat(l,'">')),h=e.t("traitManager.traits.attributes.".concat(a))||{};g.attr(Tu({placeholder:s},h)),(0,tt.isUndefined)(p)||(i.set({value:p},{silent:!0}),g.prop("value",p)),c&&g.prop("min",c),u&&g.prop("max",u),this.$input=g}return this.$input.get(0)},n.prototype.getInputElem=function(){var t=this,e=t.input,r=t.$input;return e||r&&r.get&&r.get(0)||this.getElInput()},n.prototype.getModelValue=function(){return this.model.getValue()},n.prototype.getElInput=function(){return this.elInput},n.prototype.renderField=function(){var t=this,e=t.$el,r=t.appendInput,i=t.model,a=e.find("[data-input]"),s=a[a.length-1],l=i.el;l||(l=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,tt.isString)(l)?(s.innerHTML=l,this.elInput=s.firstChild):(r?s.appendChild(l):s.insertBefore(l,s.firstChild),this.elInput=l),i.el=this.elInput},n.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},n.prototype.rerender=function(){delete this.model.el,this.render()},n.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},n.prototype.render=function(){var t=this,e=t.$el,r=t.pfx,i=t.ppfx,a=t.model,s=a.attributes,l=s.type,c=s.id,u=this.hasLabel&&this.hasLabel(),p="".concat(r,"trait");delete this.$input;var g='<div class="'.concat(p," ").concat(p,"--").concat(l,`">
      `).concat(u?'<div class="'.concat(i,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(i,"field-wrp ").concat(i,"field-wrp--").concat(l,`" data-input>
        `).concat(this.templateInput?(0,tt.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return e.empty().append(g),u&&this.renderLabel(),this.renderField(),this.el.className="".concat(p,"__wrp ").concat(p,"__wrp-").concat(c),this.postUpdate(),this.onRender(this.getClbOpts()),this},n}(_e.Ss),Va=l2;l2.prototype.eventCapture=["change"];var kD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),c2=function(o){kD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.onChange=function(){this.handleClick()},n.prototype.handleClick=function(){this.model.runCommand()},n.prototype.renderLabel=function(){this.model.get("label")&&Va.prototype.renderLabel.apply(this)},n.prototype.getInputEl=function(){var t=this,e=t.model,r=t.ppfx,i=e.props(),a=i.labelButton,s=i.text,l=i.full,c=a||s,u="".concat(r,"btn"),p='<button type="button" class="'.concat(u,"-prim").concat(l?" ".concat(u,"--full"):"",'">').concat(c,"</button>");return p},n}(Va),AD=c2;c2.prototype.eventCapture=["click button"];var ID=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),DD=function(o){ID(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.appendInput=!1,t}return n.prototype.templateInput=function(){var t=this,e=t.ppfx,r=t.clsField;return'<label class="'.concat(r,`" data-input>
    <i class="`).concat(e,`chk-icon"></i>
  </label>`)},n.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},n.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.checked=!!t)},n.prototype.getInputEl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=!this.$input,i=Va.prototype.getInputEl.apply(this,t);if(r){var a=void 0,s=void 0,l=this,c=l.model,u=l.target,p=c.attributes.valueFalse,g=c.getName();c.changeProp?(a=u.get(g),s=a):(s=u.get("attributes")[g],a=!!(s||s==="")),!(0,tt.isUndefined)(p)&&s===p&&(a=!1),i.checked=a}return i},n}(Va),LD=DD;function ND(o,n){"use strict";if(!(0,ie.hasWin)())return;var t={beforeShow:h,move:h,change:h,show:h,hide:h,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},e=[],r=!!/msie/i.exec(window.navigator.userAgent),i=function(){function dt(ne,Vt){return!!~(""+ne).indexOf(Vt)}var Tt=document.createElement("div"),it=Tt.style;return it.cssText="background-color:rgba(0,0,0,.5)",dt(it.backgroundColor,"rgba")||dt(it.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var dt="";if(r)for(var Tt=1;Tt<=6;Tt++)dt+="<div class='sp-"+Tt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",dt,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(dt,Tt,it,ne){for(var Vt=[],de=0;de<dt.length;de++){var Oe=dt[de];if(Oe){var Pe=D(Oe),ve=Pe.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";ve+=D.equals(Tt,Oe)?" sp-thumb-active":"";var Ae=Pe.toString(ne.preferredFormat||"rgb"),Qe=i?"background-color:"+Pe.toRgbString():"filter:"+Pe.toFilter();Vt.push('<span title="'+Ae+'" data-color="'+Pe.toRgbString()+'" class="'+ve+'"><span class="sp-thumb-inner" style="'+Qe+';"></span></span>')}else{var Xe="sp-clear-display";Vt.push(o("<div />").append(o('<span data-color="" style="background-color:transparent;" class="'+Xe+'"></span>').attr("title",ne.noColorSelectedText)).html())}}return"<div class='sp-cf "+it+"'>"+Vt.join("")+"</div>"}function c(){for(var dt=0;dt<e.length;dt++)e[dt]&&e[dt].hide()}function u(dt,Tt){var it=o.extend({},t,dt);return it.callbacks={move:_(it.move,Tt),change:_(it.change,Tt),show:_(it.show,Tt),hide:_(it.hide,Tt),beforeShow:_(it.beforeShow,Tt)},it}function p(dt,Tt){var it=u(Tt,dt),ne=it.flat,Vt=it.showSelectionPalette,de=it.localStorageKey,Oe=it.theme,Pe=it.callbacks,ve=P(Oi,10),Ae=!1,Qe=!1,Xe=!0,Ze=0,_n=0,Kn=0,lt=0,Mt=0,Dt=0,ee=0,be=0,Te=0,Le=0,Pn=0,On=1,rn=[],hr=[],Mn={},fn=it.selectionPalette.slice(0),Or=it.maxSelectionSize,yn="sp-dragging",sn=null,wn=dt.ownerDocument,Yn=wn.body,je=o(dt),Xn=!1,Fe=o(s,wn).addClass(Oe),Dn=Fe.find(".sp-picker-container"),mn=Fe.find(".sp-color"),A=Fe.find(".sp-dragger"),U=Fe.find(".sp-hue"),H=Fe.find(".sp-slider"),gt=Fe.find(".sp-alpha-inner"),$t=Fe.find(".sp-alpha"),Ee=Fe.find(".sp-alpha-handle"),Ve=Fe.find(".sp-input"),ze=Fe.find(".sp-palette"),Re=Fe.find(".sp-initial"),Y=Fe.find(".sp-cancel"),Jt=Fe.find(".sp-clear"),Ne=Fe.find(".sp-choose"),Ln=Fe.find(".sp-palette-toggle"),nt=je.is("input"),bt=nt&&je.attr("type")==="color"&&w(),Zt=nt&&!ne,pe=Zt?o(a).addClass(Oe).addClass(it.className).addClass(it.replacerClassName):o([]),fe=Zt?pe:je,nn=pe.find(".sp-preview-inner"),dn=it.color||nt&&je.val(),Nn=!1,Vn=it.preferredFormat,Ya=!it.showButtons||it.clickoutFiresChange,Yi=!dn,di=it.allowEmpty&&!bt;function Yo(){if(it.showPaletteOnly&&(it.showPalette=!0),Ln.text(it.showPaletteOnly?it.togglePaletteMoreText:it.togglePaletteLessText),it.palette){rn=it.palette.slice(0),hr=o.isArray(rn[0])?rn:[rn],Mn={};for(var Ue=0;Ue<hr.length;Ue++)for(var He=0;He<hr[Ue].length;He++){var tn=D(hr[Ue][He]).toRgbString();Mn[tn]=!0}}Fe.toggleClass("sp-flat",ne),Fe.toggleClass("sp-input-disabled",!it.showInput),Fe.toggleClass("sp-alpha-enabled",it.showAlpha),Fe.toggleClass("sp-clear-enabled",di),Fe.toggleClass("sp-buttons-disabled",!it.showButtons),Fe.toggleClass("sp-palette-buttons-disabled",!it.togglePaletteOnly),Fe.toggleClass("sp-palette-disabled",!it.showPalette),Fe.toggleClass("sp-palette-only",it.showPaletteOnly),Fe.toggleClass("sp-initial-disabled",!it.showInitial),Fe.addClass(it.className).addClass(it.containerClassName),Oi()}function Qs(){if(r&&Fe.find("*:not(input)").attr("unselectable","on"),Yo(),Zt&&je.after(pe).hide(),di||Jt.hide(),ne)je.after(Fe).hide();else{var Ue=it.appendTo==="parent"?je.parent():o(it.appendTo);Ue.length!==1&&(Ue=o("body")),Ue.append(Fe)}Xa(),fe.bind("click.spectrum touchstart.spectrum",function(Ge){Xn||Pr(),Ge.stopPropagation(),o(Ge.target).is("input")||Ge.preventDefault()}),(je.is(":disabled")||it.disabled===!0)&&Oa(),Fe.click(y),Ve.change(mr),Ve.bind("paste",function(){setTimeout(mr,1)}),Ve.keydown(function(Ge){Ge.keyCode==13&&mr()}),Y.text(it.cancelText),Y.bind("click.spectrum",function(Ge){Ge.stopPropagation(),Ge.preventDefault(),tl(),Qr()}),Jt.attr("title",it.clearText),Jt.bind("click.spectrum",function(Ge){Ge.stopPropagation(),Ge.preventDefault(),Yi=!0,Xi(),ne&&Qi(!0)}),Ne.text(it.chooseText),Ne.bind("click.spectrum",function(Ge){Ge.stopPropagation(),Ge.preventDefault(),r&&Ve.is(":focus")&&Ve.trigger("change"),Za()&&(Qi(!0),Qr())}),Ln.text(it.showPaletteOnly?it.togglePaletteMoreText:it.togglePaletteLessText),Ln.bind("click.spectrum",function(Ge){Ge.stopPropagation(),Ge.preventDefault(),it.showPaletteOnly=!it.showPaletteOnly,!it.showPaletteOnly&&!ne&&Fe.css("left","-="+(Dn.outerWidth(!0)+5)),Yo()}),x($t,function(Ge,or,Pi){On=Ge/Dt,Yi=!1,Pi.shiftKey&&(On=Math.round(On*10)/10),Xi()},Lo,ba),x(U,function(Ge,or){Te=parseFloat(or/lt),Yi=!1,it.showAlpha||(On=1),Xi()},Lo,ba),x(mn,function(Ge,or,Pi){if(!Pi.shiftKey)sn=null;else if(!sn){var Mi=Le*Ze,Dr=_n-Pn*_n,Hr=Math.abs(Ge-Mi)>Math.abs(or-Dr);sn=Hr?"x":"y"}var wi=!sn||sn==="x",Fo=!sn||sn==="y";wi&&(Le=parseFloat(Ge/Ze)),Fo&&(Pn=parseFloat((_n-or)/_n)),Yi=!1,it.showAlpha||(On=1),Xi()},Lo,ba),dn?(go(dn),ho(),Vn=it.preferredFormat||D(dn).getFormat(),_a(dn)):ho(),ne&&Ja();function He(Ge){return Ge.data&&Ge.data.ignore?(go(o(Ge.target).closest(".sp-thumb-el").data("color")),Xi()):(go(o(Ge.target).closest(".sp-thumb-el").data("color")),Xi(),it.hideAfterPaletteSelect&&(Qi(!0),Qr())),!1}var tn=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ze.delegate(".sp-thumb-el",tn,He),Re.delegate(".sp-thumb-el:nth-child(1)",tn,{ignore:!0},He)}function Xa(){if(de&&window.localStorage){try{var Ue=window.localStorage[de].split(",#");Ue.length>1&&(delete window.localStorage[de],o.each(Ue,function(He,tn){_a(tn)}))}catch{}try{fn=window.localStorage[de].split(";")}catch{}}}function _a(Ue){if(Vt){var He=D(Ue).toRgbString();if(!Mn[He]&&o.inArray(He,fn)===-1)for(fn.push(He);fn.length>Or;)fn.shift();if(de&&window.localStorage)try{window.localStorage[de]=fn.join(";")}catch{}}}function Js(){var Ue=[];if(it.showPalette)for(var He=0;He<fn.length;He++){var tn=D(fn[He]).toRgbString();Mn[tn]||Ue.push(fn[He])}return Ue.reverse().slice(0,it.maxSelectionSize)}function Qa(){var Ue=Mr(),He=o.map(hr,function(tn,Ge){return l(tn,Ue,"sp-palette-row sp-palette-row-"+Ge,it)});Xa(),fn&&He.push(l(Js(),Ue,"sp-palette-row sp-palette-row-selection",it)),ze.html(He.join(""))}function ya(){if(it.showInitial){var Ue=Nn,He=Mr();Re.html(l([Ue,He],He,"sp-palette-row-initial",it))}}function Lo(){(_n<=0||Ze<=0||lt<=0)&&Oi(),Qe=!0,Fe.addClass(yn),sn=null,je.trigger("dragstart.spectrum",[Mr()])}function ba(){Qe=!1,Fe.removeClass(yn),je.trigger("dragstop.spectrum",[Mr()])}function mr(){var Ue=Ve.val();if((Ue===null||Ue==="")&&di)go(null),Qi(!0);else{var He=D(Ue);He.isValid()?(go(He),Qi(!0)):Ve.addClass("sp-validation-error")}}function Pr(){Ae?Qr():Ja()}function Ja(){var Ue=o.Event("beforeShow.spectrum");if(Ae){Oi();return}if(je.trigger("beforeShow.spectrum",[Mr()]),!(Pe.beforeShow(Mr())===!1||Ue.isDefaultPrevented())){c(),Ae=!0;var He=o(wn);He.bind("keydown.spectrum",Zs),He.bind("click.spectrum",No),o(window).bind("resize.spectrum",ve),pe.addClass("sp-active"),Fe.removeClass("sp-hidden"),Oi(),ho(),Nn=Mr(),ya(),Pe.show(Nn),je.trigger("show.spectrum",[Nn])}}function Zs(Ue){Ue.keyCode===27&&Qr()}function No(Ue){Ue.button!=2&&(Qe||(Ya?Qi(!0):tl(),Qr()))}function Qr(){!Ae||ne||(Ae=!1,o(wn).unbind("keydown.spectrum",Zs),o(wn).unbind("click.spectrum",No),o(window).unbind("resize.spectrum",ve),pe.removeClass("sp-active"),Fe.addClass("sp-hidden"),Pe.hide(Mr()),je.trigger("hide.spectrum",[Mr()]))}function tl(){go(Nn,!0)}function go(Ue,He){if(D.equals(Ue,Mr())){ho();return}var tn,Ge;!Ue&&di?Yi=!0:(Yi=!1,Xe=!Ue,tn=D(Ue),Ge=tn.toHsv(),Te=Ge.h%360/360,Le=Ge.s,Pn=Ge.v,On=Ge.a),ho(),tn&&tn.isValid()&&!He&&(Vn=it.preferredFormat||tn.getFormat())}function Mr(Ue){return Ue=Ue||{},di&&Yi?null:D.fromRatio({h:Te,s:Le,v:Pn,a:Math.round(On*100)/100},{format:Ue.format||Vn})}function Za(){return!Ve.hasClass("sp-validation-error")}function Xi(){ho(),Pe.move(Mr()),je.trigger("move.spectrum",[Mr()])}function ho(){Ve.removeClass("sp-validation-error"),ts();var Ue=D.fromRatio({h:Te,s:1,v:1});mn.css("background-color",Ue.toHexString());var He=Vn;On<1&&!(On===0&&He==="name")&&(He==="hex"||He==="hex3"||He==="hex6"||He==="name")&&(He="rgb");var tn=Mr({format:He}),Ge="";if(nn.removeClass("sp-clear-display"),nn.css("background-color","transparent"),!tn&&di)nn.addClass("sp-clear-display");else{var or=tn.toHexString(),Pi=tn.toRgbString();if(i||tn.alpha===1?nn.css("background-color",Pi):(nn.css("background-color","transparent"),nn.css("filter",tn.toFilter())),it.showAlpha){var Mi=tn.toRgb();Mi.a=0;var Dr=D(Mi).toRgbString(),Hr="linear-gradient(left, "+Dr+", "+or+")";r?gt.css("filter",D(Dr).toFilter({gradientType:1},or)):(gt.css("background","-webkit-"+Hr),gt.css("background","-moz-"+Hr),gt.css("background","-ms-"+Hr),gt.css("background","linear-gradient(to right, "+Dr+", "+or+")"))}Ge=tn.toString(He)}it.showInput&&Ve.val(Ge),it.showPalette&&Qa(),ya()}function ts(){var Ue=Le,He=Pn;if(di&&Yi)Ee.hide(),H.hide(),A.hide();else{Ee.show(),H.show(),A.show();var tn=Ue*Ze,Ge=_n-He*_n;tn=Math.max(-Kn,Math.min(Ze-Kn,tn-Kn)),Ge=Math.max(-Kn,Math.min(_n-Kn,Ge-Kn)),A.css({top:Ge+"px",left:tn+"px"});var or=On*Dt;Ee.css({left:or-ee/2+"px"});var Pi=Te*lt;H.css({top:Pi-be+"px"})}}function Qi(Ue){var He=Mr(),tn="",Ge=Xe?!0:!D.equals(He,Nn);He&&(tn=He.toString(Vn),!Ae&&_a(He)),nt&&je.val(tn),Ue&&Ge&&(Pe.change(He),je.trigger("change",[He]))}function Oi(){Ae&&(Ze=mn.width(),_n=mn.height(),Kn=A.height(),Mt=U.width(),lt=U.height(),be=H.height(),Dt=$t.width(),ee=Ee.width(),ne||(Fe.css("position","absolute"),it.offset?Fe.offset(it.offset):Fe.offset(g(Fe,fe))),ts(),it.showPalette&&Qa(),je.trigger("reflow.spectrum"))}function Ca(){je.show(),fe.unbind("click.spectrum touchstart.spectrum"),Fe.remove(),pe.remove(),e[Ji.id]=null}function Ro(Ue,He){if(Ue===n)return o.extend({},it);if(He===n)return it[Ue];it[Ue]=He,Ue==="preferredFormat"&&(Vn=it.preferredFormat),Yo()}function xa(){Xn=!1,je.attr("disabled",!1),fe.removeClass("sp-disabled")}function Oa(){Qr(),Xn=!0,je.attr("disabled",!0),fe.addClass("sp-disabled")}function el(Ue){it.offset=Ue,Oi()}Qs();var Ji={show:Ja,hide:Qr,toggle:Pr,reflow:Oi,option:Ro,enable:xa,disable:Oa,offset:el,set:function(Ue){go(Ue),Qi()},get:Mr,destroy:Ca,container:Fe};return Ji.id=e.push(Ji)-1,Ji}function g(dt,Tt){for(var it=Tt[0],ne=dt[0],Vt=ne.parentElement,de=it.getBoundingClientRect(),Oe=ne.offsetWidth,Pe=ne.offsetHeight,ve={top:0,left:0,width:it.offsetWidth,height:it.offsetHeight};it&&(ve.top+=it.offsetTop-it.scrollTop,ve.left+=it.offsetLeft-it.scrollLeft,!(it===Vt||!Vt.contains(it.offsetParent)));)it=it.offsetParent;return de.right+Oe>window.innerWidth-window.scrollX&&de.right-Oe>0&&(ve.left-=Oe-ve.width),de.bottom+Pe<window.innerHeight-window.scrollY?ve.top+=ve.height:ve.top-=Pe,ve}function h(){}function y(dt){dt.stopPropagation()}function _(dt,Tt){var it=Array.prototype.slice,ne=it.call(arguments,2);return function(){return dt.apply(Tt,ne.concat(it.call(arguments)))}}function x(dt,Tt,it,ne){Tt=Tt||function(){},it=it||function(){},ne=ne||function(){};var Vt=document,de=!1,Oe={},Pe=0,ve=0,Ae="ontouchstart"in window,Qe={};Qe.selectstart=Xe,Qe.dragstart=Xe,Qe["touchmove mousemove"]=Ze,Qe["touchend mouseup"]=Kn;function Xe(lt){lt.stopPropagation&&lt.stopPropagation(),lt.preventDefault&&lt.preventDefault(),lt.returnValue=!1}function Ze(lt){if(de){if(r&&Vt.documentMode<9&&!lt.button)return Kn();var Mt=lt&&lt.touches&&lt.touches[0],Dt=Mt&&Mt.pageX||lt.pageX,ee=Mt&&Mt.pageY||lt.pageY,be=Math.max(0,Math.min(Dt-Oe.left,ve)),Te=Math.max(0,Math.min(ee-Oe.top,Pe));Ae&&Xe(lt),Tt.apply(dt,[be,Te,lt])}}function _n(lt){var Mt=lt.which?lt.which==3:lt.button==2;!Mt&&!de&&it.apply(dt,arguments)!==!1&&(de=!0,Pe=o(dt).height(),ve=o(dt).width(),Oe=o(dt).offset(),o(Vt).bind(Qe),o(Vt.body).addClass("sp-dragging"),Ze(lt),Xe(lt))}function Kn(){de&&(o(Vt).unbind(Qe),o(Vt.body).removeClass("sp-dragging"),setTimeout(function(){ne.apply(dt,arguments)},0)),de=!1}o(dt).bind("touchstart mousedown",_n)}function P(dt,Tt,it){var ne;return function(){var Vt=this,de=arguments,Oe=function(){ne=null,dt.apply(Vt,de)};it&&clearTimeout(ne),(it||!ne)&&(ne=setTimeout(Oe,Tt))}}function w(){return o.fn.spectrum.inputTypeColorSupport()}var T="spectrum.id";o.fn.spectrum=function(dt,Tt){if(typeof dt=="string"){var it=this,ne=Array.prototype.slice.call(arguments,1);return this.each(function(){var Vt=e[o(this).data(T)];if(Vt){var de=Vt[dt];if(!de)throw new Error("Spectrum: no such method: '"+dt+"'");dt=="get"?it=Vt.get():dt=="container"?it=Vt.container:dt=="option"?it=Vt.option.apply(Vt,ne):dt=="destroy"?(Vt.destroy(),o(this).removeData(T)):de.apply(Vt,ne)}}),it}return this.spectrum("destroy").each(function(){var Vt=o.extend({},dt,o(this).data()),de=p(this,Vt);o(this).data(T,de.id)})},o.fn.spectrum.load=!0,o.fn.spectrum.loadOpts={},o.fn.spectrum.draggable=x,o.fn.spectrum.defaults=t,o.fn.spectrum.inputTypeColorSupport=function dt(){if(typeof dt._cachedResult>"u"){var Tt=o("<input type='color'/>")[0];dt._cachedResult=Tt.type==="color"&&Tt.value!==""}return dt._cachedResult},o.spectrum={},o.spectrum.localization={},o.spectrum.palettes={},o.fn.spectrum.processNativeColorInputs=function(){var dt=o("input[type=color]");dt.length&&!w()&&dt.spectrum({preferredFormat:"hex6"})};var b=/^[\s,#]+/,k=/\s+$/,E=0,L=Math,R=L.round,z=L.min,N=L.max,j=L.random,D=function(dt,Tt){if(dt=dt||"",Tt=Tt||{},dt instanceof D)return dt;if(!(this instanceof D))return new D(dt,Tt);var it=W(dt);this._originalInput=dt,this._r=it.r,this._g=it.g,this._b=it.b,this._a=it.a,this._roundA=R(100*this._a)/100,this._format=Tt.format||it.format,this._gradientType=Tt.gradientType,this._r<1&&(this._r=R(this._r)),this._g<1&&(this._g=R(this._g)),this._b<1&&(this._b=R(this._b)),this._ok=it.ok,this._tc_id=E++};D.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var dt=this.toRgb();return(dt.r*299+dt.g*587+dt.b*114)/1e3},setAlpha:function(dt){return this._a=ce(dt),this._roundA=R(100*this._a)/100,this},toHsv:function(){var dt=Z(this._r,this._g,this._b);return{h:dt.h*360,s:dt.s,v:dt.v,a:this._a}},toHsvString:function(){var dt=Z(this._r,this._g,this._b),Tt=R(dt.h*360),it=R(dt.s*100),ne=R(dt.v*100);return this._a==1?"hsv("+Tt+", "+it+"%, "+ne+"%)":"hsva("+Tt+", "+it+"%, "+ne+"%, "+this._roundA+")"},toHsl:function(){var dt=J(this._r,this._g,this._b);return{h:dt.h*360,s:dt.s,l:dt.l,a:this._a}},toHslString:function(){var dt=J(this._r,this._g,this._b),Tt=R(dt.h*360),it=R(dt.s*100),ne=R(dt.l*100);return this._a==1?"hsl("+Tt+", "+it+"%, "+ne+"%)":"hsla("+Tt+", "+it+"%, "+ne+"%, "+this._roundA+")"},toHex:function(dt){return ut(this._r,this._g,this._b,dt)},toHexString:function(dt){return"#"+this.toHex(dt)},toHex8:function(){return Rt(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:R(this._r),g:R(this._g),b:R(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+R(this._r)+", "+R(this._g)+", "+R(this._b)+")":"rgba("+R(this._r)+", "+R(this._g)+", "+R(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:R(K(this._r,255)*100)+"%",g:R(K(this._g,255)*100)+"%",b:R(K(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+R(K(this._r,255)*100)+"%, "+R(K(this._g,255)*100)+"%, "+R(K(this._b,255)*100)+"%)":"rgba("+R(K(this._r,255)*100)+"%, "+R(K(this._g,255)*100)+"%, "+R(K(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:oe[ut(this._r,this._g,this._b,!0)]||!1},toFilter:function(dt){var Tt="#"+Rt(this._r,this._g,this._b,this._a),it=Tt,ne=this._gradientType?"GradientType = 1, ":"";if(dt){var Vt=D(dt);it=Vt.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+ne+"startColorstr="+Tt+",endColorstr="+it+")"},toString:function(dt){var Tt=!!dt;dt=dt||this._format;var it=!1,ne=this._a<1&&this._a>=0,Vt=!Tt&&ne&&(dt==="hex"||dt==="hex6"||dt==="hex3"||dt==="name");return Vt?dt==="name"&&this._a===0?this.toName():this.toRgbString():(dt==="rgb"&&(it=this.toRgbString()),dt==="prgb"&&(it=this.toPercentageRgbString()),(dt==="hex"||dt==="hex6")&&(it=this.toHexString()),dt==="hex3"&&(it=this.toHexString(!0)),dt==="hex8"&&(it=this.toHex8String()),dt==="name"&&(it=this.toName()),dt==="hsl"&&(it=this.toHslString()),dt==="hsv"&&(it=this.toHsvString()),it||this.toHexString())},_applyModification:function(dt,Tt){var it=dt.apply(null,[this].concat([].slice.call(Tt)));return this._r=it._r,this._g=it._g,this._b=it._b,this.setAlpha(it._a),this},lighten:function(){return this._applyModification(rt,arguments)},brighten:function(){return this._applyModification(ft,arguments)},darken:function(){return this._applyModification(wt,arguments)},desaturate:function(){return this._applyModification(Gt,arguments)},saturate:function(){return this._applyModification(Pt,arguments)},greyscale:function(){return this._applyModification(_t,arguments)},spin:function(){return this._applyModification(Et,arguments)},_applyCombination:function(dt,Tt){return dt.apply(null,[this].concat([].slice.call(Tt)))},analogous:function(){return this._applyCombination(Kt,arguments)},complement:function(){return this._applyCombination(Nt,arguments)},monochromatic:function(){return this._applyCombination(le,arguments)},splitcomplement:function(){return this._applyCombination(at,arguments)},triad:function(){return this._applyCombination(Ht,arguments)},tetrad:function(){return this._applyCombination(It,arguments)}},D.fromRatio=function(dt,Tt){if(typeof dt=="object"){var it={};for(var ne in dt)dt.hasOwnProperty(ne)&&(ne==="a"?it[ne]=dt[ne]:it[ne]=kt(dt[ne]));dt=it}return D(dt,Tt)};function W(dt){var Tt={r:0,g:0,b:0},it=1,ne=!1,Vt=!1;return typeof dt=="string"&&(dt=De(dt)),typeof dt=="object"&&(dt.hasOwnProperty("r")&&dt.hasOwnProperty("g")&&dt.hasOwnProperty("b")?(Tt=q(dt.r,dt.g,dt.b),ne=!0,Vt=String(dt.r).substr(-1)==="%"?"prgb":"rgb"):dt.hasOwnProperty("h")&&dt.hasOwnProperty("s")&&dt.hasOwnProperty("v")?(dt.s=kt(dt.s),dt.v=kt(dt.v),Tt=et(dt.h,dt.s,dt.v),ne=!0,Vt="hsv"):dt.hasOwnProperty("h")&&dt.hasOwnProperty("s")&&dt.hasOwnProperty("l")&&(dt.s=kt(dt.s),dt.l=kt(dt.l),Tt=I(dt.h,dt.s,dt.l),ne=!0,Vt="hsl"),dt.hasOwnProperty("a")&&(it=dt.a)),it=ce(it),{ok:ne,format:dt.format||Vt,r:z(255,N(Tt.r,0)),g:z(255,N(Tt.g,0)),b:z(255,N(Tt.b,0)),a:it}}function q(dt,Tt,it){return{r:K(dt,255)*255,g:K(Tt,255)*255,b:K(it,255)*255}}function J(dt,Tt,it){dt=K(dt,255),Tt=K(Tt,255),it=K(it,255);var ne=N(dt,Tt,it),Vt=z(dt,Tt,it),de,Oe,Pe=(ne+Vt)/2;if(ne==Vt)de=Oe=0;else{var ve=ne-Vt;switch(Oe=Pe>.5?ve/(2-ne-Vt):ve/(ne+Vt),ne){case dt:de=(Tt-it)/ve+(Tt<it?6:0);break;case Tt:de=(it-dt)/ve+2;break;case it:de=(dt-Tt)/ve+4;break}de/=6}return{h:de,s:Oe,l:Pe}}function I(dt,Tt,it){var ne,Vt,de;dt=K(dt,360),Tt=K(Tt,100),it=K(it,100);function Oe(Ae,Qe,Xe){return Xe<0&&(Xe+=1),Xe>1&&(Xe-=1),Xe<1/6?Ae+(Qe-Ae)*6*Xe:Xe<1/2?Qe:Xe<2/3?Ae+(Qe-Ae)*(2/3-Xe)*6:Ae}if(Tt===0)ne=Vt=de=it;else{var Pe=it<.5?it*(1+Tt):it+Tt-it*Tt,ve=2*it-Pe;ne=Oe(ve,Pe,dt+1/3),Vt=Oe(ve,Pe,dt),de=Oe(ve,Pe,dt-1/3)}return{r:ne*255,g:Vt*255,b:de*255}}function Z(dt,Tt,it){dt=K(dt,255),Tt=K(Tt,255),it=K(it,255);var ne=N(dt,Tt,it),Vt=z(dt,Tt,it),de,Oe,Pe=ne,ve=ne-Vt;if(Oe=ne===0?0:ve/ne,ne==Vt)de=0;else{switch(ne){case dt:de=(Tt-it)/ve+(Tt<it?6:0);break;case Tt:de=(it-dt)/ve+2;break;case it:de=(dt-Tt)/ve+4;break}de/=6}return{h:de,s:Oe,v:Pe}}function et(dt,Tt,it){dt=K(dt,360)*6,Tt=K(Tt,100),it=K(it,100);var ne=L.floor(dt),Vt=dt-ne,de=it*(1-Tt),Oe=it*(1-Vt*Tt),Pe=it*(1-(1-Vt)*Tt),ve=ne%6,Ae=[it,Oe,de,de,Pe,it][ve],Qe=[Pe,it,it,Oe,de,de][ve],Xe=[de,de,Pe,it,it,Oe][ve];return{r:Ae*255,g:Qe*255,b:Xe*255}}function ut(dt,Tt,it,ne){var Vt=[ht(R(dt).toString(16)),ht(R(Tt).toString(16)),ht(R(it).toString(16))];return ne&&Vt[0].charAt(0)==Vt[0].charAt(1)&&Vt[1].charAt(0)==Vt[1].charAt(1)&&Vt[2].charAt(0)==Vt[2].charAt(1)?Vt[0].charAt(0)+Vt[1].charAt(0)+Vt[2].charAt(0):Vt.join("")}function Rt(dt,Tt,it,ne){var Vt=[ht(Lt(ne)),ht(R(dt).toString(16)),ht(R(Tt).toString(16)),ht(R(it).toString(16))];return Vt.join("")}D.equals=function(dt,Tt){return!dt||!Tt?!1:D(dt).toRgbString()==D(Tt).toRgbString()},D.random=function(){return D.fromRatio({r:j(),g:j(),b:j()})};function Gt(dt,Tt){Tt=Tt===0?0:Tt||10;var it=D(dt).toHsl();return it.s-=Tt/100,it.s=ot(it.s),D(it)}function Pt(dt,Tt){Tt=Tt===0?0:Tt||10;var it=D(dt).toHsl();return it.s+=Tt/100,it.s=ot(it.s),D(it)}function _t(dt){return D(dt).desaturate(100)}function rt(dt,Tt){Tt=Tt===0?0:Tt||10;var it=D(dt).toHsl();return it.l+=Tt/100,it.l=ot(it.l),D(it)}function ft(dt,Tt){Tt=Tt===0?0:Tt||10;var it=D(dt).toRgb();return it.r=N(0,z(255,it.r-R(255*-(Tt/100)))),it.g=N(0,z(255,it.g-R(255*-(Tt/100)))),it.b=N(0,z(255,it.b-R(255*-(Tt/100)))),D(it)}function wt(dt,Tt){Tt=Tt===0?0:Tt||10;var it=D(dt).toHsl();return it.l-=Tt/100,it.l=ot(it.l),D(it)}function Et(dt,Tt){var it=D(dt).toHsl(),ne=(R(it.h)+Tt)%360;return it.h=ne<0?360+ne:ne,D(it)}function Nt(dt){var Tt=D(dt).toHsl();return Tt.h=(Tt.h+180)%360,D(Tt)}function Ht(dt){var Tt=D(dt).toHsl(),it=Tt.h;return[D(dt),D({h:(it+120)%360,s:Tt.s,l:Tt.l}),D({h:(it+240)%360,s:Tt.s,l:Tt.l})]}function It(dt){var Tt=D(dt).toHsl(),it=Tt.h;return[D(dt),D({h:(it+90)%360,s:Tt.s,l:Tt.l}),D({h:(it+180)%360,s:Tt.s,l:Tt.l}),D({h:(it+270)%360,s:Tt.s,l:Tt.l})]}function at(dt){var Tt=D(dt).toHsl(),it=Tt.h;return[D(dt),D({h:(it+72)%360,s:Tt.s,l:Tt.l}),D({h:(it+216)%360,s:Tt.s,l:Tt.l})]}function Kt(dt,Tt,it){Tt=Tt||6,it=it||30;var ne=D(dt).toHsl(),Vt=360/it,de=[D(dt)];for(ne.h=(ne.h-(Vt*Tt>>1)+720)%360;--Tt;)ne.h=(ne.h+Vt)%360,de.push(D(ne));return de}function le(dt,Tt){Tt=Tt||6;for(var it=D(dt).toHsv(),ne=it.h,Vt=it.s,de=it.v,Oe=[],Pe=1/Tt;Tt--;)Oe.push(D({h:ne,s:Vt,v:de})),de=(de+Pe)%1;return Oe}D.mix=function(dt,Tt,it){it=it===0?0:it||50;var ne=D(dt).toRgb(),Vt=D(Tt).toRgb(),de=it/100,Oe=de*2-1,Pe=Vt.a-ne.a,ve;Oe*Pe==-1?ve=Oe:ve=(Oe+Pe)/(1+Oe*Pe),ve=(ve+1)/2;var Ae=1-ve,Qe={r:Vt.r*ve+ne.r*Ae,g:Vt.g*ve+ne.g*Ae,b:Vt.b*ve+ne.b*Ae,a:Vt.a*de+ne.a*(1-de)};return D(Qe)},D.readability=function(dt,Tt){var it=D(dt),ne=D(Tt),Vt=it.toRgb(),de=ne.toRgb(),Oe=it.getBrightness(),Pe=ne.getBrightness(),ve=Math.max(Vt.r,de.r)-Math.min(Vt.r,de.r)+Math.max(Vt.g,de.g)-Math.min(Vt.g,de.g)+Math.max(Vt.b,de.b)-Math.min(Vt.b,de.b);return{brightness:Math.abs(Oe-Pe),color:ve}},D.isReadable=function(dt,Tt){var it=D.readability(dt,Tt);return it.brightness>125&&it.color>500},D.mostReadable=function(dt,Tt){for(var it=null,ne=0,Vt=!1,de=0;de<Tt.length;de++){var Oe=D.readability(dt,Tt[de]),Pe=Oe.brightness>125&&Oe.color>500,ve=3*(Oe.brightness/125)+Oe.color/500;(Pe&&!Vt||Pe&&Vt&&ve>ne||!Pe&&!Vt&&ve>ne)&&(Vt=Pe,ne=ve,it=D(Tt[de]))}return it};var Ct=D.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},oe=D.hexNames=ge(Ct);function ge(dt){var Tt={};for(var it in dt)dt.hasOwnProperty(it)&&(Tt[dt[it]]=it);return Tt}function ce(dt){return dt=parseFloat(dt),(isNaN(dt)||dt<0||dt>1)&&(dt=1),dt}function K(dt,Tt){At(dt)&&(dt="100%");var it=Qt(dt);return dt=z(Tt,N(0,parseFloat(dt))),it&&(dt=parseInt(dt*Tt,10)/100),L.abs(dt-Tt)<1e-6?1:dt%Tt/parseFloat(Tt)}function ot(dt){return z(1,N(0,dt))}function mt(dt){return parseInt(dt,16)}function At(dt){return typeof dt=="string"&&dt.indexOf(".")!=-1&&parseFloat(dt)===1}function Qt(dt){return typeof dt=="string"&&dt.indexOf("%")!=-1}function ht(dt){return dt.length==1?"0"+dt:""+dt}function kt(dt){return dt<=1&&(dt=dt*100+"%"),dt}function Lt(dt){return Math.round(parseFloat(dt)*255).toString(16)}function he(dt){return mt(dt)/255}var Ye=function(){var dt="[-\\+]?\\d+%?",Tt="[-\\+]?\\d*\\.\\d+%?",it="(?:"+Tt+")|(?:"+dt+")",ne="[\\s|\\(]+("+it+")[,|\\s]+("+it+")[,|\\s]+("+it+")\\s*\\)?",Vt="[\\s|\\(]+("+it+")[,|\\s]+("+it+")[,|\\s]+("+it+")[,|\\s]+("+it+")\\s*\\)?";return{rgb:new RegExp("rgb"+ne),rgba:new RegExp("rgba"+Vt),hsl:new RegExp("hsl"+ne),hsla:new RegExp("hsla"+Vt),hsv:new RegExp("hsv"+ne),hsva:new RegExp("hsva"+Vt),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function De(dt){dt=dt.replace(b,"").replace(k,"").toLowerCase();var Tt=!1;if(Ct[dt])dt=Ct[dt],Tt=!0;else if(dt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var it;return(it=Ye.rgb.exec(dt))?{r:it[1],g:it[2],b:it[3]}:(it=Ye.rgba.exec(dt))?{r:it[1],g:it[2],b:it[3],a:it[4]}:(it=Ye.hsl.exec(dt))?{h:it[1],s:it[2],l:it[3]}:(it=Ye.hsla.exec(dt))?{h:it[1],s:it[2],l:it[3],a:it[4]}:(it=Ye.hsv.exec(dt))?{h:it[1],s:it[2],v:it[3]}:(it=Ye.hsva.exec(dt))?{h:it[1],s:it[2],v:it[3],a:it[4]}:(it=Ye.hex8.exec(dt))?{a:he(it[1]),r:mt(it[2]),g:mt(it[3]),b:mt(it[4]),format:Tt?"name":"hex8"}:(it=Ye.hex6.exec(dt))?{r:mt(it[1]),g:mt(it[2]),b:mt(it[3]),format:Tt?"name":"hex"}:(it=Ye.hex3.exec(dt))?{r:mt(it[1]+""+it[1]),g:mt(it[2]+""+it[2]),b:mt(it[3]+""+it[3]),format:Tt?"name":"hex"}:!1}window.tinycolor=D,o(function(){o.fn.spectrum.load&&o.fn.spectrum.processNativeColorInputs()})}var RD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),d2=function(o){RD(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this,r=t.ppfx||"";return e.opts=t,e.ppfx=r,e.em=t.target||{},!t.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return n.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},n.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.setValue=function(t,e){var r=this.model,i=t||r.get("defaults"),a=this.getInputEl();a&&(a.value=i)},n.prototype.handleModelChange=function(t,e,r){this.setValue(e,r)},n.prototype.handleChange=function(t){t.stopPropagation();var e=this.getInputEl().value;this.__onInputChange(e),this.elementUpdated()},n.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},n.prototype.getInputEl=function(){if(!this.inputEl){var t=this,e=t.model,r=t.opts,i=r.type||"text",a=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=(0,jr.default)('<input type="'.concat(i,'" placeholder="').concat(a,'">'))}return this.inputEl.get(0)},n.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},n}(_e.Ss),Rg=d2;d2.prototype.events={change:"handleChange"};var FD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Eu=function(){return Eu=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Eu.apply(this,arguments)};jr.default&&ND(jr.default);var Wf=function(o){var n=o.getFormat()==="name"&&o.toName(),t=o.getAlpha()==1?o.toHexString():o.toRgbString();return n||t.replace(/ /g,"")},VD=function(o){FD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},n.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.remove=function(){return o.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},n.prototype.handleChange=function(t){t.stopPropagation();var e=t.target.value;(0,tt.isUndefined)(e)||this.__onInputChange(e)},n.prototype.__onInputChange=function(t){var e=this,r=e.model,i=e.opts,a=i.onChange,s=t,l=this.getColorEl();if(l){l.spectrum("set",s);var c=l.spectrum("get"),u=s&&Wf(c);u&&(s=u)}a?a(s):r.set({value:s},{fromInput:1})},n.prototype.setValue=function(t,e){e===void 0&&(e={});var r=this.model,i=(0,tt.isUndefined)(e.def)?r.get("defaults"):e.def,a=(0,tt.isUndefined)(t)?(0,tt.isUndefined)(i)?"":i:t,s=this.getInputEl(),l=this.getColorEl(),c=a!="none"?a:"";s.value=a,l.get(0).style.backgroundColor=c,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(l.spectrum("set",c),this.noneColor=a=="none",this.movedColor=c)},n.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var e=this,r=e.em,i=e.model,a=e.opts,s=this.ppfx,l=a.onChange,c=(0,jr.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),u=c.get(0).style,p=r&&r.getConfig&&r.getConfig().colorPicker||{};this.movedColor="";var g=!1,h;this.$el.find("[data-colorp-c]").append(c);var y=function(_,x){x===void 0&&(x=!0),l?l(_,!x):(x&&i.setValueFromInput(0,!1),i.setValueFromInput(_,x))};c.spectrum(Eu(Eu(Eu({color:i.getValue()||!1,containerClassName:"".concat(s,"one-bg ").concat(s,"two-color ").concat(s,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F",palette:[]},p),i.get("colorPicker")||{}),{move:function(_){var x=Wf(_);t.movedColor=x,u.backgroundColor=x,y(x,!1)},change:function(_){g=!0;var x=Wf(_);u.backgroundColor=x,y(x),t.noneColor=!1},show:function(_){g=!1,t.movedColor="",h=l?i.getValue({noDefault:!0}):Wf(_)},hide:function(){!g&&(h||l)&&(t.noneColor&&(h=""),u.backgroundColor=h,c.spectrum("set",h),y(h,!1))}})),r&&r.on&&this.listenTo(r,"component:selected",function(){t.movedColor&&y(t.movedColor),g=!0,t.movedColor="",c.spectrum("hide")}),this.colorEl=c}return this.colorEl},n.prototype.render=function(){return Rg.prototype.render.call(this),this.getColorEl(),this},n}(Rg),u2=VD,zD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jD=function(o){zD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.getInputEl=function(){if(!this.input){var t=this.model,e=this.getModelValue(),r=new u2({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),i=r.render();i.setValue(e,{fromTarget:1}),this.input=i.el}return this.input},n}(Va),HD=jD,BD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),p2=function(o){BD(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;return(0,tt.bindAll)(e,"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return n.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},n.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},n.prototype.setValue=function(t,e){var r=e||{},i=this.validateInputValue(t,{deepCheck:1}),a={value:i.value,unit:""};(i.unit||i.force)&&(a.unit=i.unit),this.model.set(a,r),r.silent&&this.handleModelChange()},n.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},n.prototype.handleUnitChange=function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},n.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},n.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var r=['<option value="" disabled hidden>-</option>'];e.forEach(function(a){var s=a==t.get("unit")?"selected":"";r.push("<option ".concat(s,">").concat(a,"</option>"))});var i=document.createElement("div");i.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(r.join(""),"</select>"),this.unitEl=i.firstChild}}return this.unitEl},n.prototype.upArrowClick=function(){var t=this.model,e=t.get("step"),r=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(r+e)),this.elementUpdated()},n.prototype.downArrowClick=function(){var t=this.model,e=t.get("step"),r=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(r-e)),this.elementUpdated()},n.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var e=this.model.get("value")||0;e=this.normalizeValue(e),this.current={y:t.pageY,val:e},(0,Me.on)(this.doc,"mousemove",this.moveIncrement),(0,Me.on)(this.doc,"mouseup",this.upIncrement)},n.prototype.moveIncrement=function(t){this.moved=!0;var e=this.model,r=e.get("step"),i=this.current,a=this.normalizeValue(i.val+(i.y-t.pageY)*r),s=this.validateInputValue(a),l=s.value,c=s.unit;return this.prValue=l,e.set({value:l,unit:c},{avoidStore:1}),!1},n.prototype.upIncrement=function(){var t=this.model,e=t.get("step");if((0,Me.AU)(this.doc,"mouseup",this.upIncrement),(0,Me.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var r=this.prValue-e;t.set("value",r,{avoidStore:1}).set("value",r+e),this.elementUpdated()}},n.prototype.normalizeValue=function(t,e){e===void 0&&(e=0);var r=this.model,i=r.get("step"),a=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var s=i.toString().split(".")[1];a=s?s.length:0}return a?parseFloat(t.toFixed(a)):t},n.prototype.validateInputValue=function(t,e){e===void 0&&(e={});var r=0,i=e||{},a=this.model,s="",l=(0,tt.isUndefined)(t)?s:t,c=e.units||a.get("units")||[],u=a.get("unit")||c.length&&c[0]||"",p=(0,tt.isUndefined)(e.max)?a.get("max"):e.max,g=(0,tt.isUndefined)(e.min)?a.get("min"):e.min,h=!!a.get("limitlessMax"),y=!!a.get("limitlessMin");if(i.deepCheck){var _=a.get("fixedValues")||[];if(l===""&&(u=""),l){var x=new RegExp("^"+_.join("|"),"g");if(_.length&&x.test(l))l=l.match(x)[0],u="",r=1;else{var P=l+"";l+="",l=parseFloat(l.replace(",",".")),l=isNaN(l)?s:l;var w=P.replace(l,"");(0,tt.indexOf)(c,w)>=0&&(u=w)}}}return!isNaN(l)&&l!==""&&(!h&&!(0,tt.isUndefined)(p)&&p!==""&&(l=l>p?p:l),!y&&!(0,tt.isUndefined)(g)&&g!==""&&(l=l<g?g:l)),{force:r,value:l,unit:u}},n.prototype.render=function(){Rg.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},n}(Rg),f2=p2;p2.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var UD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WD=function(o){UD(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.getValueForTarget=function(){var t=this.model,e=t.attributes,r=e.value,i=e.unit;return!(0,tt.isUndefined)(r)&&r!==""?r+i:t.get("default")},n.prototype.getInputEl=function(){if(!this.input){var t=this,e=t.ppfx,r=t.model,i=this.getModelValue(),a=new f2({contClass:"".concat(e,"field-int"),type:"number",model:r,ppfx:e});a.render(),this.$input=a.inputEl,this.$unit=a.unitEl,r.set("value",i,{fromTarget:!0}),this.$input.val(i),this.input=a.el}return this.input},n}(Va),GD=WD,KD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qD=function(o){KD(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;return e.listenTo(e.model,"change:options",e.rerender),e}return n.prototype.templateInput=function(){var t=this,e=t.ppfx,r=t.clsField;return'<div class="'.concat(r,`">
      <div data-input></div>
      <div class="`).concat(e,`sel-arrow">
        <div class="`).concat(e,`d-s-arrow"></div>
      </div>
    </div>`)},n.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.model,r=t.em,i=e.get("name"),a=e.get("options")||[],s=[],l="<select>";a.forEach(function(p){var g="",h,y,_;(0,tt.isString)(p)?(h=p,y=p):(h=p.name||p.label||p.value,y="".concat((0,tt.isUndefined)(p.value)?p.id:p.value).replace(/"/g,"&quot;"),_=p.style?p.style.replace(/"/g,"&quot;"):"",g+=_?' style="'.concat(_,'"'):"");var x=r.t("traitManager.traits.options.".concat(i,".").concat(y))||h;l+='<option value="'.concat(y,'"').concat(g,">").concat(x,"</option>"),s.push(y)}),l+="</select>",this.$input=(0,jr.default)(l);var c=e.getTargetValue(),u=s.indexOf(c)>=0?c:e.get("default");!(0,tt.isUndefined)(u)&&this.$input.val(u)}return this.$input.get(0)},n}(Va),$D=qD,YD=Cn(8242),XD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sx="data-categories",Tx="data-no-categories",g2=function(o){XD(n,o);function n(t,e){var r=o.call(this,t)||this;r.reuseView=!0,r.renderedCategories=new Map,r.itemsView=e;var i=t.config||{};r.config=i;var a=t.editor;r.em=a;var s=i.pStylePrefix||"";return r.ppfx=s,r.pfx=s+i.stylePrefix||"",r.className="".concat(r.pfx,"traits"),r.traitContClass="".concat(s,"traits-c"),r.classNoCat="".concat(s,"traits-empty-c"),r.catsClass="".concat(s,"trait-categories"),r.collection=new lg([],{em:a}),r.listenTo(a,"component:toggled",r.updatedCollection),r.updatedCollection(),r}return n.prototype.updatedCollection=function(){var t=this,e=t.ppfx,r=t.em,i=r.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=i?.traits||new lg([],{em:r}),this.render()},n.prototype.add=function(t,e){var r=this,i=r.config,a=r.renderedCategories,s=this.itemView,l=t.get(this.itemType);this.itemsView&&this.itemsView[l]&&(s=this.itemsView[l]);var c=new s({config:i,model:t,attributes:t.get("attributes")}),u=c.render().el,p=t.parent.initCategory(t);if(p){var g=p.getId(),h=this.getCategoriesEl(),y=a.get(g);!y&&h&&(y=new $O({model:p},i,"trait").render(),a.set(g,y),h.appendChild(y.el)),y?.append(u);return}e?e.appendChild(u):this.append(u)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(Sx,"]"))),this.catsEl},n.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(Tx,"]"))),this.traitsEl},n.prototype.append=function(t){var e=this.getTraitsEl();e?.appendChild(t)},n.prototype.render=function(){var t=this,e=this,r=e.el,i=e.ppfx,a=e.catsClass,s=e.traitContClass,l=e.classNoCat,c=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,r.innerHTML=`
      <div class="`.concat(a,'" ').concat(Sx,`></div>
      <div class="`).concat(l," ").concat(s,'" ').concat(Tx,`></div>
    `),this.collection.forEach(function(p){return t.add(p,c)}),this.append(c);var u="".concat(s,"s ").concat(i,"one-bg ").concat(i,"two-color");return this.$el.addClass(u),this.rendered=!0,this},n}(YD.A),Ex=g2;g2.prototype.itemView=Va;var QD=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),JD=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},ZD=function(o){QD(n,o);function n(t){var e=o.call(this,t,"TraitManager",TD())||this;e.TraitsView=Ex,e.events=K0,e.state=new _e.Kx({traits:[]}),e.types={text:Va,number:GD,select:$D,checkbox:LD,color:HD,button:AD};var r=e,i=r.state,a=r.config,s=r.events,l=a.pStylePrefix;l&&(a.stylePrefix="".concat(l).concat(a.stylePrefix)),(0,tt.bindAll)(e,"__onSelect");var c=(0,tt.debounce)(function(){return e.__upSel()},0),u=(0,tt.debounce)(function(){return e.__onUp()},0);return i.listenTo(t,"component:toggled",c),i.listenTo(t,s.value,u),i.on("change:traits",e.__onSelect),e.debounced=[c,u],e}return n.prototype.select=function(t){var e=t?.getTraits()||[];this.state.set({component:t,traits:e}),this.__trgCustom()},n.prototype.getCategories=function(){var t,e=this.getComponent(),r=((t=e?.traits.categories)===null||t===void 0?void 0:t.models)||[];return JD([],r,!0)},n.prototype.getTraits=function(){return this.getCurrent()},n.prototype.getTraitsByCategory=function(t){return kO(t||this.getTraits())},n.prototype.getComponent=function(){return this.state.attributes.component},n.prototype.addType=function(t,e){var r=this.getType("text");this.types[t]=r.extend(e)},n.prototype.getType=function(t){return this.getTypes()[t]},n.prototype.getTypes=function(){return this.types},n.prototype.getTraitsViewer=function(){return this.view},n.prototype.getCurrent=function(){return this.state.get("traits")||[]},n.prototype.render=function(){var t=this.view,e=this.em;return t=new Ex({el:t?.el,collection:[],editor:e,config:this.getConfig()},this.getTypes()),this.view=t,t.el},n.prototype.postRender=function(){this.__appendTo()},n.prototype.__onSelect=function(){var t=this,e=t.em,r=t.events,i=t.state,a=i.attributes,s=a.component,l=a.traits;e.trigger(r.select,{component:s,traits:l})},n.prototype.__trgCustom=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.events,a=e.__ctn;this.__ctn=a||t.container,r.trigger(i.custom,this.__customData())},n.prototype.__customData=function(){return{container:this.__ctn}},n.prototype.__upSel=function(){this.select(this.em.getSelected())},n.prototype.__onUp=function(){this.select(this.getComponent())},n}(Hi),tL=ZD,eL=function(){return{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}}},nL=eL,rL=Cn(6756),iL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oL=function(o){iL(n,o);function n(){var t=o!==null&&o.apply(this,arguments)||this;return t._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},t}return Object.defineProperty(n.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){var t;return(t=this.model.viewLayer)===null||t===void 0?void 0:t.el},enumerable:!1,configurable:!0}),n}(rL.h),aL=oL,sL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lL=function(o){sL(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.items=[],e.opt=t;var r=t.config||{};e.config=r,e.module=t.module,e.parentView=t.parentView;var i=r.stylePrefix||"",a=r.pStylePrefix||"",s=e.collection;e.listenTo(s,"add",e.addTo),e.listenTo(s,"reset resetNavigator",e.render),e.listenTo(s,"remove",e.removeChildren),e.className="".concat(i,"layers");var l=r.em;if(r.sortable&&!e.opt.sorter){var c=l.Utils,u=r.sortContainer||e.el,p=e.createPlaceholder(i);e.opt.sorter=new c.ComponentSorter({em:l,treeClass:aL,containerContext:{container:u,containerSel:".".concat(e.className),itemSel:".".concat(i,"layer"),pfx:r.pStylePrefix,document,placeholderElement:p},dragBehavior:{dragDirection:Nl.A.Vertical,nested:!0}})}return e.$el.data("collection",s),t.parent&&e.$el.data("model",t.parent),e}return n.prototype.createPlaceholder=function(t){var e=document.createElement("div"),r=document.createElement("div");return this.el.parentNode,e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",r.className=t+"placeholder-int",e.appendChild(r),e},n.prototype.removeChildren=function(t){var e=t.viewLayer;e&&(e.remove(),delete t.viewLayer)},n.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},n.prototype.addToCollection=function(t,e,r){var i=this,a=i.parentView,s=i.opt,l=i.config,c=i.el,u=s.ItemView,p=s.opened,g=s.module,h=s.level,y=s.sorter,_=t.viewLayer||new u({ItemView:u,level:h,model:t,parentView:a,config:l,sorter:y,opened:p,module:g}),x=_.render().el;if(e)e.appendChild(x);else{var P=c,w=P.childNodes;if((0,tt.isUndefined)(r))P.appendChild(x);else{var T=w.length==r;T&&r--,T||!w.length?P.appendChild(x):P.insertBefore(x,w[r])}}return this.items.push(_),x},n.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _e.Ss.prototype.remove.apply(this,t),this.items.map(function(r){return r.remove()}),this},n.prototype.render=function(){var t=this,e=this,r=e.el,i=e.module,a=document.createDocumentFragment();return r.innerHTML="",this.collection.map(function(s){return i.__getLayerFromComponent(s)}).forEach(function(s){return t.addToCollection(s,a)}),r.appendChild(a),r.className=this.className,this},n}(_e.Ss),cL=lL,q1=Cn(9946),dL=function(){return{stylePrefix:"com-",defaults:{},strict:!0,defaultOptions:{}}},uL=dL,pL=Cn(1738),fL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fg=function(){return Fg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Fg.apply(this,arguments)},kx=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Ax=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],h2={preserveSelected:1},m2=function(o){return function(n){return o.trigger("".concat(q0,":start"),n)}},v2=function(o){return function(n){return o.trigger(q0,n)}},_2=function(o,n,t){return t===void 0&&(t={}),function(e,r,i){setTimeout(function(){n.forEach(function(a){return a.set("status",a.get("selectable")?"selected":"")}),o.setSelected(n),n[0].emitUpdate()}),o.trigger("".concat(q0,":end"),i),setTimeout(function(){return o.runDefault(h2)}),(t.altMode||i.cancelled)&&o.set("_cmpDrag",1)}},gL=function(o){fL(n,o);function n(t){var e=o.call(this,t,"Commands",uL())||this;e.CommandAbstract=q1.default,e.defaultCommands={},e.commands={},e.active={},e.events=pL.A;var r=e.config,i=r.pStylePrefix,a=e.defaultCommands;i&&(r.stylePrefix=i+r.stylePrefix),Object.keys(r.defaults).forEach(function(l){var c=r.defaults[l];c.id&&e.add(c.id,c)}),a["tlb-delete"]={run:function(l){return l.runCommand("core:component-delete")}},a["tlb-clone"]={run:function(l){l.runCommand("core:copy"),l.runCommand("core:paste",{action:"clone-component"})}},a["tlb-move"]={run:function(l,c,u){var p,g;u===void 0&&(u={});var h,y=l.getModel(),_=u.event,x=u.target,P=Array.isArray(x)?x:x?[x]:kx([],l.getSelectedAll(),!0),w=P.map(function(W){var q,J;return((J=(q=W.delegate)===null||q===void 0?void 0:q.move)===null||J===void 0?void 0:J.call(q,W))||W}).filter(Boolean),T=w[w.length-1],b=_?.type==="dragstart",k=["absolute","translate"];if(!T?.get("draggable"))return y.logWarning("The element is not draggable");var E=u.mode||T.get("dmode")||y.get("dmode"),L=function(){return y.stopDefault(h2)},R=(0,tt.includes)(k,E);w.forEach(function(W){return W.trigger("disable",{fromMove:!0})}),b?setTimeout(L,0):L();var z=m2(y),N=v2(y),j=_2(y,w,{altMode:R});if(R)h=l.runCommand("core:component-drag",{guidesInfo:1,mode:E,target:T,onStart:z,onDrag:N,onEnd:j,event:_});else{b&&((p=_?.dataTransfer)===null||p===void 0||p.setDragImage((g=T.view)===null||g===void 0?void 0:g.el,0,0));var D=l.Commands.get("move-comp");D.onStart=z,D.onDrag=N,D.onEndMoveFromModel=j,D.initSorterFromModels(w)}w.filter(function(W){return W.get("selectable")}).forEach(function(W){return W.set("status","freezed-selected")})}},a["core:undo"]=function(l){return l.UndoManager.undo()},a["core:redo"]=function(l){return l.UndoManager.redo()},Ax.forEach(function(l){var c=l[2],u=Cn(585)("./".concat(l[1])).default,p="core:".concat(l[0]);a[p]=u,c&&(a[c]=u,["run","stop"].forEach(function(g){t.on("".concat(g,":").concat(c),function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];return t.trigger.apply(t,kx(["".concat(g,":").concat(p)],h,!1))})}))}),r.model=t.Canvas;for(var s in a)e.add(s,a[s]);return e}return n.prototype.add=function(t,e){var r=(0,tt.isFunction)(e)?{run:e}:e;return r.stop||(r.noStop=!0),delete r.initialize,r.id=t,this.commands[t]=q1.default.extend(r),this},n.prototype.get=function(t){var e=this.commands[t];return(0,tt.isFunction)(e)?(e=new e(this.config),this.commands[t]=e):e||this.em.logWarning("'".concat(t,"' command not found")),e},n.prototype.extend=function(t,e){e===void 0&&(e={});var r=this.get(t);if(r){var i=Fg(Fg({},r.constructor.prototype),e);this.add(t,i);var a=Ax.filter(function(s){return"core:".concat(s[0])===t&&s[2]})[0];a&&this.add(a[2],i)}return this},n.prototype.has=function(t){return!!this.commands[t]},n.prototype.getAll=function(){return this.commands},n.prototype.run=function(t,e){return e===void 0&&(e={}),this.runCommand(this.get(t),e)},n.prototype.stop=function(t,e){return e===void 0&&(e={}),this.stopCommand(this.get(t),e)},n.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},n.prototype.getActive=function(){return this.active},n.prototype.runCommand=function(t,e){var r,i;e===void 0&&(e={});var a;if(t?.run){var s=this,l=s.em,c=s.config,u=t.id,p=l.Editor;if(!this.isActive(u)||e.force||!c.strict){var g=(i=(r=c.defaultOptions)===null||r===void 0?void 0:r[u])===null||i===void 0?void 0:i.run;(0,tt.isFunction)(g)&&(e=g(e)),a=p&&t.callRun(p,e)}}return a},n.prototype.stopCommand=function(t,e){var r,i;e===void 0&&(e={});var a;if(t?.run){var s=this,l=s.em,c=s.config,u=t.id,p=l.Editor;if(this.isActive(u)||e.force||!c.strict){var g=(i=(r=c.defaultOptions)===null||r===void 0?void 0:r[u])===null||i===void 0?void 0:i.stop;(0,tt.isFunction)(g)&&(e=g(e)),a=t.callStop(p,e)}}return a},n.prototype.create=function(t){t.stop||(t.noStop=!0);var e=q1.default.extend(t);return new e(this.config)},n.prototype.__onRun=function(t,e){var r=this,i=r.em,a=r.events;i.on("".concat(a.runCommand).concat(t),e)},n.prototype.__onStop=function(t,e){var r=this,i=r.em,a=r.events;i.on("".concat(a.stopCommand).concat(t),e)},n.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},n}(Hi),hL=gL,mL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w0=function(){return w0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},w0.apply(this,arguments)},Ix="contentEditable",Gf="data-toggle-move",vL=function(o){mL(n,o);function n(t){var e=o.call(this,t)||this;(0,tt.bindAll)(e,"__render"),e.opt=t,e.module=t.module,e.config=t.config||{},e.sorter=t.sorter||"",e.parentView=t.parentView;var r=e,i=r.model,a=r.pfx,s=r.ppfx,l=i.get("type")||"default";return e.className="".concat(a,"layer ").concat(a,"layer__t-").concat(l," no-select ").concat(s,"two-color"),e.inputNameCls="".concat(s,"layer-name"),e.clsTitleC="".concat(a,"layer-title-c"),e.clsTitle="".concat(a,"layer-title"),e.clsCaret="".concat(a,"layer-caret"),e.clsCount="".concat(a,"layer-count"),e.clsMove="".concat(a,"layer-move"),e.clsChildren="".concat(a,"layer-children"),e.clsNoChild="".concat(a,"layer-no-chld"),e.clsEdit="".concat(e.inputNameCls,"--edit"),e.clsNoEdit="".concat(e.inputNameCls,"--no-edit"),e.initComponent(),e}return n.prototype.events=function(){var t;return t={},t["mousedown [".concat(Gf,"]")]="startSort",t["touchstart [".concat(Gf,"]")]="startSort",t["click [data-toggle-visible]"]="toggleVisibility",t["click [data-toggle-open]"]="toggleOpening",t["click [data-toggle-select]"]="handleSelect",t["mouseover [data-toggle-select]"]="handleHover",t["mouseout [data-toggle-select]"]="handleHoverOut",t["dblclick [data-name]"]="handleEdit",t["keydown [data-name]"]="handleEditKey",t["focusout [data-name]"]="handleEditEnd",t},n.prototype.template=function(t){var e=this,r=e.pfx,i=e.ppfx,a=e.config,s=e.clsNoEdit,l=e.module,c=e.opt,u=e.em,p=a.hidable,g=l.getComponents(t).length,h=g?"":this.clsNoChild,y="".concat(this.clsTitle," ").concat(h),_="".concat(this.clsTitleC),x="".concat(this.inputNameCls," ").concat(s," ").concat(i,"no-app"),P=c.level||0,w="".concat(P*10,"px"),T=t.getName(),b=t.getIcon(),k="".concat(r,"layer"),E=(u?.getConfig()).icons,L=E,R=L.move,z=L.eye,N=L.eyeOff,j=L.chevron;return`
      <div class="`.concat(r,"layer-item ").concat(i,`one-bg" data-toggle-select>
        <div class="`).concat(r,`layer-item-left">
          `).concat(p?'<i class="'.concat(r,`layer-vis" data-toggle-visible>
                <i class="`).concat(r,'layer-vis-on">').concat(z,`</i>
                <i class="`).concat(r,'layer-vis-off">').concat(N,`</i>
              </i>`):"",`
          <div class="`).concat(_,`">
            <div class="`).concat(y,'" style="padding-left: ').concat(w,`">
              <div class="`).concat(r,'layer-title-inn" title="').concat(T,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(j,`</i>
                  `).concat(b?'<span class="'.concat(k,'__icon">').concat(b,"</span>"):"",`
                <span class="`).concat(x,'" data-name>').concat(T,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(r,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(g||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Gf,">").concat(R||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),n.prototype.initComponent=function(){var t=this,e=this,r=e.model,i=e.config,a=i.onInit,s=r.components();this.listenTo(s,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(l){return t.listenTo(r,l[0],l[1])}),this.$el.data("model",r),this.$el.data("collection",s),r.viewLayer=this,a.bind(this)({component:r,render:this.__render,listenTo:this.listenTo})},n.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},n.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},n.prototype.updateVisibility=function(){var t=this,e=t.pfx,r=t.model,i=t.module,a="".concat(e,"layer-hidden"),s=!i.isVisible(r),l=s?"addClass":"removeClass";this.$el[l](a),this.getVisibilityEl()[l]("".concat(e,"layer-off"))},n.prototype.updateMove=function(){var t=this,e=t.model,r=t.config,i=this.getItemContainer().find("[".concat(Gf,"]"))[0];if(i){var a=e.get("draggable")&&r.sortable;i.style.display=a?"":"none"}},n.prototype.toggleVisibility=function(t){t?.stopImmediatePropagation();var e=this,r=e.module,i=e.model;r.setVisible(i,!r.isVisible(i))},n.prototype.handleEdit=function(t){t?.stopPropagation();var e=this,r=e.em,i=e.$el,a=e.clsNoEdit,s=e.clsEdit,l=this.getInputName();l[Ix]="true",l.focus(),document.execCommand("selectAll",!1),r.setEditing(!0),i.find(".".concat(this.inputNameCls)).removeClass(a).addClass(s)},n.prototype.handleEditKey=function(t){t.stopPropagation(),((0,Me.v$)(t)||(0,Me.Ci)(t))&&this.handleEditEnd(t)},n.prototype.handleEditEnd=function(t){t?.stopPropagation();var e=this,r=e.em,i=e.$el,a=e.clsNoEdit,s=e.clsEdit,l=e.model,c=this.getInputName(),u=c.textContent;c.scrollLeft=0,c[Ix]="false",l.setName(u),r.setEditing(!1),i.find(".".concat(this.inputNameCls)).addClass(a).removeClass(s),this.updateName()},n.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},n.prototype.updateOpening=function(){var t=this,e=t.$el,r=t.model,i=t.pfx,a="open",s="".concat(i,"layer-open"),l=this.getCaret();this.module.isOpen(r)?(e.addClass(a),l.addClass(s)):(e.removeClass(a),l.removeClass(s))},n.prototype.toggleOpening=function(t){var e=this,r=e.model,i=e.module;t?.stopImmediatePropagation(),r.get("components").length&&i.setOpen(r,!i.isOpen(r))},n.prototype.handleSelect=function(t){t?.stopPropagation();var e=this,r=e.module,i=e.model;r.setLayerData(i,{selected:!0},{event:t})},n.prototype.handleHover=function(t){t?.stopPropagation();var e=this,r=e.module,i=e.model;r.setLayerData(i,{hovered:!0})},n.prototype.handleHoverOut=function(t){t?.stopPropagation();var e=this,r=e.module,i=e.model;r.setLayerData(i,{hovered:!1})},n.prototype.startSort=function(t){var e,r,i;t.stopPropagation();var a=this,s=a.em,l=a.sorter,c=a.model;if(!(t.button&&t.button!==0)&&l){var u=((r=(e=c.delegate)===null||e===void 0?void 0:e.move)===null||r===void 0?void 0:r.call(e,c))||c;l.eventHandlers=w0({legacyOnStartSort:m2(s),legacyOnMoveClb:v2(s),legacyOnEndMove:_2(s,[u])},l.eventHandlers);var p=((i=u.viewLayer)===null||i===void 0?void 0:i.el)||t.target;l.startSort([{element:p}])}},n.prototype.updateStatus=function(){$n.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},n.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},n.prototype.checkChildren=function(){var t=this,e=t.model,r=t.clsNoChild,i=t.module,a=i.getComponents(e).length,s=this.getItemContainer(),l=s.find(".".concat(this.clsTitle)),c=s.find("[data-count]");l[a?"removeClass":"addClass"](r),c.html("".concat(a||"")),!a&&i.setOpen(e,!1)},n.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},n.prototype.setRoot=function(t){var e,r=(0,tt.isString)(t)?(e=this.em.getWrapper())===null||e===void 0?void 0:e.find(t)[0]:t;r&&(this.stopListening(),this.model=r,this.initComponent(),this._rendered&&this.render())},n.prototype.updateLayerable=function(){var t=this.parentView,e=t||this;e.render()},n.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},n.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _e.Ss.prototype.remove.apply(this,t),delete this.model.viewLayer,this.__clearItems(),this},n.prototype.render=function(){var t=this,e=t.model,r=t.config,i=t.pfx,a=t.ppfx,s=t.opt,l=t.sorter;this.__clearItems();var c=s.opened,u=s.module,p=s.ItemView,g=!u.__isLayerable(e),h=this.$el.empty(),y=s.level+1;delete this.inputName,this.items=new cL({ItemView:p,collection:e.get("components"),config:r,sorter:l,opened:c,parentView:this,parent:e,level:y,module:u});var _=this.items.render().$el;return!r.showWrapper&&y===1?h.append(_):(h.html(this.template(e)),h.find(".".concat(this.clsChildren)).append(_)),!u.isVisible(e)&&(this.className+=" ".concat(i,"hide")),g&&(this.className+=" ".concat(a,"hidden")),h.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},n.prototype.__render=function(){var t=this,e=t.model,r=t.config,i=t.el,a=r.onRender,s={component:e,el:i};a.bind(this)(s),this.em.trigger("layer:render",s)},n}(_e.Ss),_L=vL,yL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S0=function(){return S0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},S0.apply(this,arguments)},y2="layer",Z0="".concat(y2,":"),b2="".concat(Z0,"root"),C2="".concat(Z0,"component"),bL="".concat(Z0,"custom"),CL={all:y2,root:b2,component:C2,custom:bL},$1={mediaText:""},xL=["open","status","locked","custom-name","components","classes"].map(function(o){return"".concat(kn.I.update,":").concat(o)}).join(" "),OL=function(o){return o===void 0&&(o={}),(o.display||"").trim().indexOf("none")===0},PL=function(o){yL(n,o);function n(t){var e=o.call(this,t,"LayerManager",nL())||this;return e.events=CL,(0,tt.bindAll)(e,"componentChanged","__onRootChange","__onComponent"),e.model=new Ns.A(e,{opened:{}}),e.config.stylePrefix=e.config.pStylePrefix,e}return n.prototype.onLoad=function(){var t=this,e=this,r=e.em,i=e.config,a=e.model;a.listenTo(r,"component:selected",this.componentChanged),a.on("change:root",this.__onRootChange),a.listenTo(r,xL,this.__onComponent),this.componentChanged(),a.listenToOnce(r,"load",function(){t.setRoot(i.root),t.__appendTo()})},n.prototype.setRoot=function(t){var e=this.em.getWrapper(),r=(0,ie.isComponent)(t)?t:e;t&&(0,tt.isString)(t)&&(0,ie.hasWin)()&&(r=e.find(t)[0]||e);var i=this.__getLayerFromComponent(r);return this.model.set("root",i),i},n.prototype.getRoot=function(){return this.model.get("root")},n.prototype.getComponents=function(t){var e=this;return t.components().map(function(r){return e.__getLayerFromComponent(r)}).filter(function(r){return e.__isLayerable(r)})},n.prototype.setOpen=function(t,e){t.set("open",e)},n.prototype.isOpen=function(t){return!!t.get("open")},n.prototype.setVisible=function(t,e){var r="__prev-display",i=t.getStyle($1),a=i.display;if(e){var s=t.get(r);delete i.display,s&&(i.display=s,t.unset(r))}else a&&t.set(r,a),i.display="none";t.setStyle(i,$1),this.updateLayer(t),this.em.trigger("component:toggled")},n.prototype.isVisible=function(t){return!OL(t.getStyle($1))},n.prototype.setLocked=function(t,e){t.set("locked",e)},n.prototype.isLocked=function(t){return!!t.get("locked")},n.prototype.setName=function(t,e){t.set("custom-name",e)},n.prototype.getName=function(t){return t.getName()},n.prototype.getLayerData=function(t){var e=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:e==="selected",hovered:e==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},n.prototype.setLayerData=function(t,e,r){var i;r===void 0&&(r={});var a=this,s=a.em,l=a.config,c=e.open,u=e.selected,p=e.hovered,g=e.visible,h=e.locked,y=e.name,_=S0({fromLayers:!0},r);if((0,ie.isDef)(c)&&this.setOpen(t,c),(0,ie.isDef)(u))if(u){s.setSelected(t,_);var x=l.scrollCanvas;x&&((i=t.views)===null||i===void 0||i.forEach(function(P){return P.scrollIntoView(x)}))}else s.removeSelected(t,_);(0,ie.isDef)(p)&&l.showHover&&(p?s.setHovered(t,_):s.setHovered(null,_)),(0,ie.isDef)(g)&&g!==this.isVisible(t)&&this.setVisible(t,g),(0,ie.isDef)(h)&&this.setLocked(t,h),(0,ie.isDef)(y)&&this.setName(t,y)},n.prototype.componentChanged=function(t,e){var r;if(e===void 0&&(e={}),!e.fromLayers){var i=this,a=i.em,s=i.config,l=s.scrollLayers,c=this.model.get("opened"),u=a.getSelected(),p=u?.parent();for(var g in c)c[g].set("open",!1),delete c[g];for(;p;)p.set("open",!0),c[p.cid]=p,p=p.parent();if(u&&l){var h=(r=u.viewLayer)===null||r===void 0?void 0:r.el;h?.scrollIntoView(l)}}},n.prototype.getAll=function(){return this.view},n.prototype.render=function(){var t,e,r=this,i=r.config,a=r.model,s=_L.extend(i.extend);return this.view=new s({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:s,level:0,config:i,opened:a.get("opened"),model:this.getRoot(),module:this}),(e=this.view)===null||e===void 0?void 0:e.render().el},n.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},n.prototype.__onRootChange=function(){var t,e=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(e),this.em.trigger(b2,e),this.__trgCustom()},n.prototype.__getLayerFromComponent=function(t){var e,r;return((r=(e=t.delegate)===null||e===void 0?void 0:e.layer)===null||r===void 0?void 0:r.call(e,t))||t},n.prototype.__onComponent=function(t){this.updateLayer(t)},n.prototype.__isLayerable=function(t){var e=t.tagName,r=this.config.hideTextnode,i=!r||!t.isInstanceOf("textnode")&&e!=="br";return i&&t.get("layerable")},n.prototype.__trgCustom=function(t){var e=this,r=e.__ctn,i=e.em,a=e.events;this.__ctn=r||t?.container,i.trigger(a.custom,{container:this.__ctn,root:this.getRoot()})},n.prototype.updateLayer=function(t,e){this.em.trigger(C2,t,e)},n}(Hi),ML=PL,wL=function(){return{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""}},SL=wL,TL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),x2=function(o){TL(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.getDefaults=function(){return(0,tt.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{type:"",src:""}},n.prototype.getType=function(){return this.get("type")},n.prototype.getSrc=function(){return this.get("src")||""},n.prototype.getFilename=function(){return this.getSrc().split("/").pop().split("?").shift()},n.prototype.getExtension=function(){return this.getFilename().split(".").pop()},n}(_e.Kx),T0=x2;x2.prototype.idAttribute="src";var EL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vg=function(){return Vg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Vg.apply(this,arguments)},kL=function(o){EL(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Vg(Vg({},T0.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},n}(T0),AL=kL,IL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),DL=function(o){IL(n,o);function n(t){var e=o.call(this,t)||this;e.options=t,e.collection=t.collection;var r=t.config||{};e.config=r,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.em=r.em,e.className=e.pfx+"asset",e.listenTo(e.model,"destroy remove",e.remove),e.model.view=e;var i=e.init&&e.init.bind(e);return i&&i(t),e}return n.prototype.__getBhv=function(){var t=this.em,e=t?.Assets;return e?.__getBehaviour()||{}},n.prototype.template=function(t,e){var r=this.pfx;return`
      <div class="`.concat(r,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(r,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(r,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},n.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,tt.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},n.prototype.getPreview=function(){return""},n.prototype.getInfo=function(){return""},n.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},n}(_e.Ss),LL=DL,NL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dx=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},O2=function(o){NL(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.getPreview=function(){var t=this,e=t.pfx,r=t.ppfx,i=t.model,a=i.get("src");return Vi(Lx||(Lx=Dx([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),e,a,e,r)},n.prototype.getInfo=function(){var t=this,e=t.pfx,r=t.model,i=r.get("name"),a=r.get("width"),s=r.get("height"),l=r.get("unitDim"),c=a&&s?"".concat(a,"x").concat(s).concat(l):"";return i=i||r.getFilename(),Vi(Nx||(Nx=Dx([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),e,i,e,c)},n.prototype.init=function(t){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},n.prototype.onClick=function(){var t=this,e=t.model,r=t.pfx,i=this.__getBhv().select,a=this.config.onClick,s=this.collection;s.trigger("deselectAll"),this.$el.addClass(r+"highlight"),(0,tt.isFunction)(i)?i(e,!1):(0,tt.isFunction)(a)?a(e):this.updateTarget(s.target)},n.prototype.onDblClick=function(){var t=this,e=t.em,r=t.model,i=this.__getBhv().select,a=this.config.onDblClick,s=this.collection,l=s.target,c=s.onSelect;(0,tt.isFunction)(i)?i(r,!0):(0,tt.isFunction)(a)?a(r):(this.updateTarget(l),e?.Modal.close()),(0,tt.isFunction)(c)&&c(r)},n.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},n}(LL),RL=O2;O2.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var Lx,Nx,zg=function(){return zg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},zg.apply(this,arguments)},FL={types:[],initialize:function(o,n){var t=this;n===void 0&&(n={});var e=n.em;this.em=e,this.opts=n,this.model=function(i,a){i===void 0&&(i={}),a===void 0&&(a={});var s,l,c;if(i&&i.type){var u=t.getBaseType();c=t.getType(i.type),s=c?c.model:u.model,l=c?c.view:u.view}else{var p=t.recognizeType(i);c=p.type,s=c.model,l=c.view,i=p.attributes}var g=new s(i,zg(zg({},a),{em:e}));return g.typeView=l,t.model.prototype=s.prototype,g};var r=this.init&&this.init.bind(this);r&&r()},recognizeType:function(o){for(var n=this.getTypes(),t=0;t<n.length;t++){var e=n[t],r=e.isType(o);if(r=typeof r=="boolean"&&r?{type:e.id}:r,r)return{type:e,attributes:r}}return{type:this.getBaseType(),attributes:o}},getBaseType:function(){var o=this.getTypes();return o[o.length-1]},getTypes:function(){return this.types},getType:function(o){for(var n=this.getTypes(),t=0;t<n.length;t++){var e=n[t];if(e.id===o)return e}},addType:function(o,n){var t=this.getType(o),e=this.getBaseType(),r=t?t.model:e.model,i=t?t.view:e.view,a=n.model,s=n.view,l=n.isType;a=a instanceof _e.Kx||(0,tt.isFunction)(a)?a:r.extend(a||{}),s=s instanceof _e.Ss||(0,tt.isFunction)(s)?s:i.extend(s||{}),this.extendViewApi&&!n.model&&!n.view&&(s=s.extend(n)),t?(t.model=a,t.view=s,t.isType=l||t.isType):(n.id=o,n.model=a,n.view=s,n.isType=l||function(c){if(c&&c.type==o)return!0},this.getTypes().unshift(n))}},P2=FL,VL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zL=_e.pM.extend(P2),M2=function(o){VL(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(zL),Y1=M2;M2.prototype.types=[{id:"image",model:AL,view:RL,isType:function(o){return typeof o=="string"?{type:"image",src:o}:o}}];var w2=function(o){return o.add="asset:add",o.remove="asset:remove",o.removeBefore="asset:remove:before",o.update="asset:update",o.open="asset:open",o.close="asset:close",o.uploadStart="asset:upload:start",o.uploadEnd="asset:upload:end",o.uploadError="asset:upload:error",o.uploadResponse="asset:upload:response",o.custom="asset:custom",o.all="asset",o}(w2||{}),Rx=w2,jL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S2=function(o){jL(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.options=t,e.config=t.config,e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.em=e.config.em;var r=e.collection;return e.listenTo(r,"reset",e.renderAssets),e.listenTo(r,"add",e.addToAsset),e.listenTo(r,"remove",e.removedAsset),e.listenTo(r,"deselectAll",e.deselectAll),e}return n.prototype.template=function(t){var e=t.pfx,r=t.ppfx,i=t.em,a="";return this.config.showUrlInput&&(a=`
          <form class="`.concat(e,`add-asset">
            <div class="`).concat(r,"field ").concat(e,`add-field">
              <input placeholder="`).concat(i?.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(r,'btn-prim">').concat(i?.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(e,`assets-cont">
      <div class="`).concat(e,`assets-header">
        `).concat(a,`
      </div>
      <div class="`).concat(e,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},n.prototype.handleSubmit=function(t){t.preventDefault();var e=this.getAddInput(),r=e&&e.value.trim(),i=this.config.handleAdd;if(r){e.value="";var a=this.getAssetsEl();a&&(a.scrollTop=0),i?i.bind(this)(r):this.options.globalCollection.add(r,{at:0})}},n.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},n.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},n.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},n.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},n.prototype.addAsset=function(t,e){e===void 0&&(e=null);var r=e,i=this.collection,a=this.config,s=new t.typeView({model:t,collection:i,config:a}).render().el;if(r)r.appendChild(s);else{var l=this.getAssetsEl();l&&l.insertBefore(s,l.firstChild)}return s},n.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var r=this.config.noAssets;r&&e.append(r)}},n.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},n.prototype.renderAssets=function(){var t=this,e=document.createDocumentFragment(),r=this.$el.find(".".concat(this.pfx,"assets"));r.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(i){return t.addAsset(i,e)}),r.append(e)},n.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},n}(_e.Ss),HL=S2;S2.prototype.events={submit:"handleSubmit"};var BL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),UL=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},WL=function(o){BL(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.options=t;var r=t.config||{};e.module=t.module,e.config=r,e.em=e.config.em,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.target=e.options.globalCollection||{},e.uploadId=e.pfx+"uploadFile",e.disabled=r.disableUpload!==void 0?r.disableUpload:!r.upload&&!r.embedAsBase64,e.multiUpload=r.multiUpload!==void 0?r.multiUpload:!0;var i=r.uploadFile;return i?e.uploadFile=i.bind(e):!r.upload&&r.embedAsBase64&&(e.uploadFile=n.embedAsBase64),e.delegateEvents(),e}return n.prototype.template=function(t){var e=t.pfx,r=t.title,i=t.uploadId,a=t.disabled,s=t.multiUpload;return Vi(Fx||(Fx=UL([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),e,r,i,a?"disabled":"",s?"multiple":"")},n.prototype.events=function(){return{"change [data-input]":"uploadFile"}},n.prototype.onUploadStart=function(){var t=this.module;t?.__propEv(t.events.uploadStart)},n.prototype.onUploadEnd=function(t){var e=this,r=e.$el,i=e.module;i?.__propEv(i.events.uploadEnd,t);var a=r.find("input");a&&a.val("")},n.prototype.onUploadError=function(t){var e=this.module;console.error(t),this.onUploadEnd(t),e?.__propEv(e.events.uploadError,t)},n.prototype.onUploadResponse=function(t,e){var r=this,i=r.module,a=r.config,s=r.target,l;try{l=typeof t=="string"?JSON.parse(t):t}catch{l=t}i?.__propEv(i.events.uploadResponse,l),a.autoAdd&&s&&s.add(l.data,{at:0}),this.onUploadEnd(t),e?.(l)},n.prototype.uploadFile=function(t,e,r){var i=this,a,s=t.dataTransfer?t.dataTransfer.files:(a=t.target)===null||a===void 0?void 0:a.files,l=this.config,c=l.beforeUpload,u=c&&c(s);if(u!==!1){var p=new FormData,g=l.params,h=l.customFetch,y=l.fetchOptions;for(var _ in g)p.append(_,g[_]);if(this.multiUpload)for(var x=0;x<s.length;x++)p.append("".concat(l.uploadName).concat(l.multiUploadSuffix),s[x]);else s.length&&p.append(l.uploadName,s[0]);var P=l.upload,w=l.headers,T="X-Requested-With";if(typeof w[T]>"u"&&(w[T]="XMLHttpRequest"),P){this.onUploadStart();var b={method:"post",credentials:l.credentials||"include",headers:w,body:p},k=y?.(b)||b,E=h?h(P,k):a2(P,k).then(function(L){return(L.status/200|0)==1?L.text():L.text().then(function(R){return Promise.reject(R)})});return E.then(function(L){return i.onUploadResponse(L,e)}).catch(function(L){return i.onUploadError(L)})}}},n.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var e=this.uploadForm;"draggable"in e&&(this.uploadForm.ondragover=function(){return e.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return e.className="",!1},this.uploadForm.ondrop=function(r){e.className="",r.preventDefault(),t.uploadFile(r)})}},n.prototype.initDropzone=function(t){var e=this,r=0,i=this.config,a=t.model,s=t.el,l=a.Editor,c=a.Canvas.getBody(),u=this.ppfx,p="".concat(u,"dropzone-active"),g="".concat(u,"dropzone"),h=function(){s.className=s.className.replace(p,"").trim(),r=0},y=function(){return r||(s.className+=" ".concat(p),r=1),!1},_=function(){return h(),!1},x=function(P){if(h(),P.preventDefault(),P.stopPropagation(),e.uploadFile(P),i.openAssetsOnDrop&&l){var w=l.getSelected();l.runCommand("open-assets",{target:w,onSelect:function(){l.Modal.close(),l.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(g,'">').concat(i.dropzoneContent,"</div>")),h(),"draggable"in s&&[s,c].forEach(function(P){P.ondragover=y,P.ondragleave=_,P.ondrop=x})},n.prototype.render=function(){var t=this,e=t.$el,r=t.pfx,i=t.em;return e.html(this.template({title:i&&i.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:r})),this.initDrop(),e.attr("class",r+"file-uploader"),this},n.embedAsBase64=function(t,e){var r=this,i=t.dataTransfer?t.dataTransfer.files:t.target.files,a={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var s=[],l=/^(.+)\/(.+)$/,c=function(h){var y=new Promise(function(_,x){var P=new FileReader;P.addEventListener("load",function(w){var T,b=h.name,k=l.exec(h.type);if(k?T=k[1]:T=h.type,T==="image"){var E={src:P.result,name:b,type:T,height:0,width:0},L=new Image;L.addEventListener("error",function(R){x(R)}),L.addEventListener("load",function(){E.height=L.height,E.width=L.width,_(E)}),L.src=E.src}else _(T?{src:P.result,name:b,type:T}:P.result)}),P.addEventListener("error",function(w){x(w)}),P.addEventListener("abort",function(w){x("Aborted")}),P.readAsDataURL(h)});s.push(y)},u=0,p=i;u<p.length;u++){var g=p[u];c(g)}return Promise.all(s).then(function(h){a.data=h,r.onUploadResponse(a,e)},function(h){r.onUploadError(h)})},n}(_e.Ss),GL=WL,Fx,KL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hc=function(){return Hc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Hc.apply(this,arguments)},Vx=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},vu="open-assets",qL=function(o){KL(n,o);function n(t){var e=o.call(this,t,"AssetManager",new Y1([],t),Rx,SL())||this;e.storageKey="assets",e.Asset=T0,e.Assets=Y1,e.events=Rx;var r=e,i=r.all,a=r.config;e.assetsVis=new Y1([]);var s=a.pStylePrefix;return s&&(a.stylePrefix="".concat(s).concat(a.stylePrefix)),i.on("add",function(l){return e.getAllVisible().add(l)}),i.on("remove",function(l){return e.getAllVisible().remove(l)}),e.__onAllEvent=(0,tt.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.open=function(t){t===void 0&&(t={});var e=this.em.Commands;e.run(vu,Hc({types:["image"],select:function(){}},t))},n.prototype.close=function(){var t=this.em.Commands;t.stop(vu)},n.prototype.isOpen=function(){var t=this.em.Commands;return!!t?.isActive(vu)},n.prototype.add=function(t,e){return e===void 0&&(e={}),typeof e.at>"u"&&(e.at=0),this.all.add(t,e)},n.prototype.get=function(t){return this.all.where({src:t})[0]||null},n.prototype.getAll=function(){return this.all},n.prototype.getAllVisible=function(){return this.assetsVis},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){return this.loadProjectData(t)},n.prototype.getContainer=function(){var t,e=this.__getBehaviour();return e.container||((t=this.am)===null||t===void 0?void 0:t.el)},n.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},n.prototype.render=function(t){if(!this.getConfig().custom){var e=t||this.getAll().models;if(!this.am){var r=this.__viewParams();r.fu=this.FileUploader(),this.am=new HL(Hc({},r)),this.am.render()}return this.assetsVis.reset(e),this.getContainer()}},n.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},n.prototype.addType=function(t,e){this.getAll().addType(t,e)},n.prototype.getType=function(t){return this.getAll().getType(t)},n.prototype.getTypes=function(){return this.getAll().getTypes()},n.prototype.AssetsView=function(){return this.am},n.prototype.FileUploader=function(){return this.fu||(this.fu=new GL(this.__viewParams())),this.fu},n.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var e=this,r=e.em,i=e.events;r.Commands.__onRun(vu,function(){return t.__propEv(i.open)}),r.Commands.__onStop(vu,function(){return t.__propEv(i.close)})},n.prototype.postRender=function(t){var e;this.config.dropzone&&((e=this.fu)===null||e===void 0||e.initDropzone(t))},n.prototype.setTarget=function(t){this.assetsVis.target=t},n.prototype.onSelect=function(t){this.assetsVis.onSelect=t},n.prototype.onClick=function(t){this.config.onClick=t},n.prototype.onDblClick=function(t){this.config.onDblClick=t},n.prototype.__propEv=function(t){for(var e,r,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];(e=this.em).trigger.apply(e,Vx([t],i,!1)),(r=this.getAll()).trigger.apply(r,Vx([t],i,!1))},n.prototype.__trgCustom=function(){var t=this.__getBehaviour(),e=this.getConfig().custom;!t.container&&!e.open||this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:e.types||[],container:e.container,close:function(){return t.close()},remove:function(r,i){return t.remove(r,i)},select:function(r,i){var a=t.add(r);(0,tt.isFunction)(e.select)&&e.select(a,i)},options:e.options||{}}},n.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=Hc(Hc({},this._bhv||{}),t)},n.prototype.__getBehaviour=function(t){return t===void 0&&(t={}),this._bhv||{}},n.prototype.destroy=function(){var t,e;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(e=this.am)===null||e===void 0||e.remove(),this._bhv={}},n}(za),$L=qL,YL=function(){return{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}},XL=YL,QL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),JL=function(o){QL(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},n.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var e=["width","height","widthMedia"];e.forEach(function(r){return t.checkUnit(r)})},n.prototype.checkUnit=function(t){var e=this.get(t)||"",r=(parseFloat(e)||0).toString()===e.toString();r&&this.set(t,"".concat(e,"px"))},n.prototype.getName=function(){return this.get("name")||this.get("id")},n.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},n}(_e.Kx),T2=JL,ZL=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),E2=function(o){ZL(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(_e.pM),zx=E2;E2.prototype.model=T2;var tN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eN=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},nN=function(o){tN(n,o);function n(t){var e=o.call(this,t)||this;return e.config=t.config||{},e.em=e.config.em,e.ppfx=e.config.pStylePrefix||"",e.listenTo(e.em,"change:device",e.updateSelect),e}return n.prototype.template=function(t){var e=t.ppfx,r=t.label;return Vi(jx||(jx=eN([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),e,r,e,e,e,e,e,e,e)},n.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},n.prototype.startAdd=function(){},n.prototype.updateDevice=function(){var t=this.em;if(t){var e=this.devicesEl;t.set("device",e?e.val():"")}},n.prototype.updateSelect=function(){var t=this,e=t.em,r=t.devicesEl;if(e&&e.getDeviceModel&&r){var i=e.getDeviceModel();r.val(i?i.get("id"):"")}},n.prototype.getOptions=function(){var t=this,e=t.collection,r=t.em,i="";return e.forEach(function(a){var s=a.attributes,l=s.name,c=s.id,u=r&&r.t&&r.t("deviceManager.devices.".concat(c))||l;i+='<option value="'.concat(c||l,'">').concat(u,"</option>")}),i},n.prototype.render=function(){var t=this,e=t.em,r=t.ppfx,i=t.$el,a=t.el,s=e&&e.t&&e.t("deviceManager.device");return i.html(this.template({ppfx:r,label:s})),this.devicesEl=i.find(".".concat(r,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),a.className="".concat(r,"devices-c"),this},n}(_e.Ss),rN=nN,jx,iN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ku=function(){return ku=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ku.apply(this,arguments)},oN=function(o){iN(n,o);function n(t){var e,r=o.call(this,t,"DeviceManager",new zx,fO,XL())||this;return r.Device=T2,r.Devices=zx,r.storageKey="",r.devices=r.all,(e=r.config.devices)===null||e===void 0||e.forEach(function(i){return r.add(i,{silent:!0})}),r.select(r.config.default||r.devices.at(0)),t.on("change:device",r._onSelect,r),r}return n.prototype._onSelect=function(t,e,r){var i=this,a=i.em,s=i.events,l=t.previous("device"),c=this.get(e),u=s.select;a.trigger(u,c,this.get(l)),this.__catchAllEvent(u,c,r)},n.prototype.add=function(t,e){e===void 0&&(e={});var r,i=e;if((0,tt.isString)(t)){var a=e;i=arguments[2]||{},r=ku(ku({},i),{id:t,name:i.name||t,width:a})}else r=t;return r.id||(r.id=r.name||this._createId()),this.devices.add(r,i)},n.prototype.get=function(t){var e=this.getAll().filter(function(r){return r.get("name")===t})[0];return e||this.devices.get(t)||null},n.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},n.prototype.getDevices=function(){return this.devices.models},n.prototype.select=function(t,e){e===void 0&&(e={});var r=(0,tt.isString)(t)?this.get(t):t;return r&&this.em.set("device",r.get("id"),e),this},n.prototype.getSelected=function(){return this.get(this.em.get("device"))},n.prototype.getAll=function(){return this.devices},n.prototype.render=function(){var t,e=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new rN({collection:this.devices,config:ku({em:e},this.config)}),this.view.render().el},n.prototype.destroy=function(){this.__destroy()},n}(za),aN=oN,sN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lN=function(o){sN(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t,e)||this,i=e.em,a={};r.em=i,t.frames||(a.component=t.component,a.styles=t.styles,["component","styles"].map(function(c){return r.unset(c)}));var s=t.frames||[a],l=new mO(i.Canvas,s);return l.page=r,r.set("frames",l),!r.getId()&&r.set("id",i?.Pages._createId()),i?.UndoManager.add(l),r}return n.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},n.prototype.onRemove=function(){this.getFrames().reset()},n.prototype.getFrames=function(){return this.get("frames")},n.prototype.getId=function(){return this.id},n.prototype.getName=function(){return this.get("name")},n.prototype.setName=function(t){return this.set({name:t})},n.prototype.getAllFrames=function(){return this.getFrames().models||[]},n.prototype.getMainFrame=function(){return this.getFrames().at(0)},n.prototype.getMainComponent=function(){var t=this.getMainFrame();return t?.getComponent()},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=_e.Kx.prototype.toJSON.call(this,t),r=(0,tt.result)(this,"defaults");return(0,tt.forEach)(e,function(i,a){a.indexOf("_")===0&&delete e[a]}),(0,tt.forEach)(r,function(i,a){e[a]===i&&delete e[a]}),e},n}(_e.Kx),E0=lN,cN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jg=function(){return jg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},jg.apply(this,arguments)},dN=function(o){cN(n,o);function n(t,e){var r=o.call(this,t)||this;return r.on("reset",r.onReset),r.on("remove",r.onRemove),r.model=function(i,a){return a===void 0&&(a={}),new E0(i,jg(jg({},a),{em:e}))},r}return n.prototype.onReset=function(t,e){var r=this,i;(i=e?.previousModels)===null||i===void 0||i.map(function(a){return r.onRemove(a,r,e)})},n.prototype.onRemove=function(t,e,r){r===void 0&&(r={}),!(r.fromUndo||r.temporary)&&t?.onRemove()},n}(_e.pM),uN=dN,pN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bc=function(){return Bc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Bc.apply(this,arguments)},fN=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},gN=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Hx="change:selected",Bx="main",hN=function(o){pN(n,o);function n(t){var e=o.call(this,t,"PageManager",new uN([],t),c0)||this;e.events=c0,e.storageKey="pages",(0,tt.bindAll)(e,"_onPageChange");var r=new Ns.A(e,{_undo:!0});return e.model=r,e.pages.on("reset",e.__onReset,e),e.pages.on("all",e.__onChange,e),r.on(Hx,e._onPageChange),e}return Object.defineProperty(n.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),n.prototype.getAll=function(){return gN([],this.all.models,!0)},n.prototype.__onChange=function(t,e,r,i){var a=this,s=a.em,l=a.events,c=i||r;s.trigger(l.all,{event:t,page:e,options:c})},n.prototype.__onReset=function(){var t=this.pages.at(0);t&&this.select(t)},n.prototype.onLoad=function(){var t,e=this,r=e.pages,i=e.config,a=e.em,s={silent:!0},l=((t=i.pages)===null||t===void 0?void 0:t.map(function(u){return new E0(u,{em:a,config:i})}))||[];r.add(l,s);var c=r.length?this._initPage():this.add({type:Bx},s);c&&this.select(c,s)},n.prototype._onPageChange=function(t,e,r){var i=this,a=i.em,s=i.events,l=a.Layers,c=e.getMainComponent();l&&c&&l.setRoot(c),a.trigger(s.select,e,t.previous("selected")),this.__onChange(Hx,e,r)},n.prototype.postLoad=function(){var t=this,e=t.em,r=t.model,i=t.pages,a=e.UndoManager;a.add(r),a.add(i),i.on("add remove reset change",function(s,l,c){return e.changesUp(c||l)})},n.prototype.add=function(t,e){var r=this;e===void 0&&(e={});var i=this,a=i.em,s=i.events;t.id=t.id||this._createId();var l=function(){var c=r.pages.add(new E0(t,{em:r.em,config:r.config}),e);return e.select&&r.select(c),c};return!e.silent&&a.trigger(s.addBefore,t,l,e),e.abort?void 0:l()},n.prototype.remove=function(t,e){var r=this;e===void 0&&(e={});var i=this,a=i.em,s=i.events,l=(0,tt.isString)(t)?this.get(t):t,c=function(){return l&&r.pages.remove(l,e),l};return!e.silent&&a.trigger(s.removeBefore,l,c,e),!e.abort&&c()},n.prototype.move=function(t,e){e===void 0&&(e={});var r=this.pages,i=(0,tt.isString)(t)?this.get(t):t,a=e.at,s=a===void 0?0:a,l=fN(e,["at"]);if(i){var c=r.indexOf(i),u=c===s;if(!(s<0||s>=r.length||u))return this.remove(i,Bc(Bc({},l),{temporary:!0})),r.add(i,Bc(Bc({},l),{at:s})),i}},n.prototype.get=function(t){return this.pages.filter(function(e){return e.get(e.idAttribute)===t})[0]},n.prototype.getMain=function(){var t=this.pages;return t.filter(function(e){return e.get("type")===Bx})[0]||t.at(0)},n.prototype.getAllWrappers=function(){var t=this.getAll();return(0,tt.unique)((0,tt.flatten)(t.map(function(e){return e.getAllFrames().map(function(r){return r.getComponent()})})))},n.prototype.select=function(t,e){e===void 0&&(e={});var r=this,i=r.em,a=r.model,s=r.events,l=(0,tt.isString)(t)?this.get(t):t;return l&&(i.trigger(s.selectBefore,l,e),a.set("selected",l,e)),this},n.prototype.getSelected=function(){return this.model.get("selected")},n.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(e){return t[e]=0})},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){var e=this,r=this.loadProjectData(t,{all:this.pages,reset:!0,onResult:function(i,a){i.forEach(function(s){return e.add(s,a)}),e.__onReset()}});return this.pages.forEach(function(i){return i.getFrames().initRefs()}),r},n.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},n.prototype._createId=function(){var t=this.getAll(),e=t.length+16,r=this.getAllMap(),i;do i=(0,ie.createId)(e);while(r[i]);return i},n}(za),mN=hN,X1={placeholder:"eg. Text here"},vN={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:X1,alt:X1,title:X1,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}},_N=function(){return{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:vN},messagesAdd:void 0}},yN=_N,k2=function(o){return o.add="i18n:add",o.update="i18n:update",o.locale="i18n:locale",o}(k2||{}),bN=k2,CN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xN=function(o){CN(n,o);function n(t){var e=o.call(this,t,"I18n",yN())||this;e.events=bN;var r=e.config.messagesAdd;return r&&e.addMessages(r),e.config.detectLocale&&(e.config.locale=e._localLang()),e}return n.prototype.setLocale=function(t){var e=this,r=e.em,i=e.config,a=e.events;return r.trigger(a.locale,{value:t,valuePrev:i.locale}),i.locale=t,this},n.prototype.getLocale=function(){return this.config.locale},n.prototype.getMessages=function(t,e){e===void 0&&(e={});var r=this.config.messages;return t&&!r[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?r[t]:r},n.prototype.setMessages=function(t){var e=this,r=e.em,i=e.config,a=e.events;return i.messages=t,r.trigger(a.update,t),this},n.prototype.addMessages=function(t){var e=this,r=e.em,i=e.events,a=e.config,s=a.messages;return r.trigger(i.add,t),this.setMessages((0,ie.deepMerge)(s,t)),this},n.prototype.t=function(t,e){e===void 0&&(e={});var r=this.config,i=e.params||{},a=e.l||this.getLocale(),s=e.lFlb||r.localeFallback,l=this._getMsg(t,a,e);return l||(l=this._getMsg(t,s,e)),!l&&this._debug("'".concat(t,"' i18n key not found in '").concat(a,"' lang"),e),l=l&&(0,tt.isString)(l)?this._addParams(l,i):l,l},n.prototype._localLang=function(){var t=(0,ie.hasWin)()&&window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},n.prototype._addParams=function(t,e){var r=new RegExp("{([\\w\\d-]*)}","g");return t.replace(r,function(i,a){return e[a]||""}).trim()},n.prototype._getMsg=function(t,e,r){r===void 0&&(r={});var i=this.getMessages(e,r);if(i){var a=i[t];return!a&&t.indexOf(".")>0&&(a=t.split(".").reduce(function(s,l){if(!(0,tt.isUndefined)(s))return s[l]},i)),a}},n.prototype._debug=function(t,e){e===void 0&&(e={});var r=this,i=r.em,a=r.config;(e.debug||a.debug)&&i&&i.logWarning(t)},n.prototype.destroy=function(){},n}(Hi),ON=xN,Sl=function(){return Sl=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Sl.apply(this,arguments)},PN=function(o,n){n===void 0&&(n={});var t=n.prefix||"",e=document.createElement("i");return e.className=t+"resizer-h "+t+"resizer-h-"+o,e.setAttribute("data-"+t+"handler",o),e},MN=function(o,n){var t=n||window,e=o.getBoundingClientRect();return{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,width:e.width,height:e.height}},wN=function(){function o(n){n===void 0&&(n={}),this.moved=!1,this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=Sl({},this.defOpts),this.setOptions(n),(0,tt.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return o.prototype.getConfig=function(){return this.opts},o.prototype.setOptions=function(n,t){n===void 0&&(n={}),this.opts=Sl(Sl({},t?this.defOpts:this.opts),n),this.setup()},o.prototype.setup=function(){var n=this.opts,t=n.prefix||"",e=n.appendTo||document.body,r=this.container;for(r||(r=document.createElement("div"),r.className="".concat(t,"resizer-c"),e.appendChild(r),this.container=r);r.firstChild;)r.removeChild(r.firstChild);var i={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(l){return i[l]=n[l]?PN(l,n):null});for(var a in i){var s=i[a];s&&r.appendChild(s)}this.handlers=i,this.mousePosFetcher=n.mousePosFetcher,this.updateTarget=n.updateTarget,this.posFetcher=n.posFetcher,this.onStart=n.onStart,this.onMove=n.onMove,this.onEnd=n.onEnd,this.onUpdateContainer=n.onUpdateContainer},o.prototype.toggleFrames=function(n){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,tt.each)(t,function(e){return e.style.pointerEvents=n?"none":""})}},o.prototype.isHandler=function(n){var t=this.handlers;for(var e in t)if(t[e]===n)return!0;return!1},o.prototype.getFocusedEl=function(){return this.el},o.prototype.getParentEl=function(){var n;return(n=this.el)===null||n===void 0?void 0:n.parentElement},o.prototype.getDocumentEl=function(){return this.opts.docs||[this.el.ownerDocument,document]},o.prototype.getElementPos=function(n,t){t===void 0&&(t={});var e=this.posFetcher;return e?e(n,t):MN(n)},o.prototype.focus=function(n){n&&n===this.el||(this.el=n,this.updateContainer({forceShow:!0}),(0,Me.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},o.prototype.blur=function(){this.container.style.display="none",this.el&&((0,Me.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},o.prototype.start=function(n){var t,e=this,r=e.el,i=e.opts,a=i===void 0?{}:i;if(this.moved=!1,!(n.button!==0||!r)){n.preventDefault(),n.stopPropagation(),(t=this.selectedHandler)===null||t===void 0||t.setPointerCapture(n.pointerId);var s=this.getParentEl(),l=this,c=a,u=this.mousePosFetcher,p="data-"+c.prefix+"handler",g=this.getElementPos(r,{avoidFrameZoom:!0,avoidFrameOffset:!0}),h=this.getElementPos(s),y=n.target;this.handlerAttr=y.getAttribute(p),this.clickedHandler=y,this.startDim={t:g.top,l:g.left,w:g.width,h:g.height},this.rectDim={t:g.top,l:g.left,w:g.width,h:g.height},this.startPos=u?u(n):{x:n.clientX,y:n.clientY},this.parentDim={t:h.top,l:h.left,w:h.width,h:h.height};var _=this.getDocumentEl();this.docs=_,(0,Me.on)(_,"pointermove",this.move),(0,Me.on)(_,"keydown",this.handleKeyDown),(0,Me.on)(_,"pointerup",this.stop),(0,tt.isFunction)(this.onStart)&&this.onStart(n,{docs:_,config:c,el:r,resizer:l}),this.toggleFrames(!0),!c.updateOnMove&&this.move(n)}},o.prototype.move=function(n){var t,e;this.moved=!0;var r=this.el,i=this.opts,a=this.docs||this.getDocumentEl(),s=((t=this.mousePosFetcher)===null||t===void 0?void 0:t.call(this,n))||{x:n.clientX,y:n.clientY};this.currentPos=s,this.delta={x:s.x-this.startPos.x,y:s.y-this.startPos.y},this.keys={shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey},this.rectDim=this.calc(this),this.updateRect(!1,n),(e=this.onMove)===null||e===void 0||e.call(this,n,{docs:a,config:i,el:r,resizer:this})},o.prototype.stop=function(n){var t,e,r=this.el,i=this.opts,a=this.docs||this.getDocumentEl();(0,Me.AU)(a,"pointermove",this.move),(0,Me.AU)(a,"keydown",this.handleKeyDown),(0,Me.AU)(a,"pointerup",this.stop),(this.moved||!i.updateOnMove)&&this.updateRect(!0,n),n.pointerId&&((t=this.selectedHandler)===null||t===void 0||t.releasePointerCapture(n.pointerId)),this.toggleFrames(),(e=this.onEnd)===null||e===void 0||e.call(this,n,{docs:a,config:i,el:r,resizer:this}),this.moved=!1,delete this.docs},o.prototype.updateRect=function(n,t){var e=this.el,r=this,i=this.opts,a=this.rectDim,s=this.updateTarget,l=this.getSelectedHandler(),c=i.unitHeight,u=i.unitWidth,p=i.keyWidth,g=i.keyHeight;if((0,tt.isFunction)(s))s(e,a,{store:n,selectedHandler:l,resizer:r,config:i,event:t});else{var h=e.style;h[p]=a.w+u,h[g]=a.h+c}this.updateContainer()},o.prototype.updateContainer=function(n){var t;n===void 0&&(n={});var e=this,r=e.opts,i=e.container,a=e.el,s=i.style;!r.avoidContainerUpdate&&a&&n.forceShow&&(s.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:i,resizer:this,opts:Sl(Sl({},r),n)})},o.prototype.getSelectedHandler=function(){var n=this.handlers;if(this.selectedHandler){for(var t in n)if(n[t]===this.selectedHandler)return t}},o.prototype.handleKeyDown=function(n){n.keyCode===27&&(this.rectDim=this.startDim,this.stop(n))},o.prototype.handleMouseDown=function(n){var t=n.target;this.isHandler(t)?(this.selectedHandler=t,this.start(n)):t!==this.el&&(delete this.selectedHandler,this.blur())},o.prototype.calc=function(n){var t,e=this.opts||{},r=e.step,i=this.startDim,a=e.minDim,s=e.maxDim,l=n.delta.x,c=n.delta.y,u=this.parentDim.w,p=this.parentDim.h,g=e.unitWidth,h=e.unitHeight,y=e.skipUnitAdjustments,_=this.getParentRect(),x=g==="%"&&!y,P=h==="%"&&!y,w=x?i.w/100*u:i.w,T=P?i.h/100*p:i.h,b={t:i.t-_.top,l:i.l-_.left,w,h:T};if(n){var k=n.handlerAttr;~k.indexOf("r")&&(t=x?(0,ie.normalizeFloat)((w+l*r)/u*100,.01):(0,ie.normalizeFloat)(w+l*r,r),t=Math.max(a,t),s&&(t=Math.min(s,t)),b.w=t),~k.indexOf("b")&&(t=P?(0,ie.normalizeFloat)((T+c*r)/p*100,.01):(0,ie.normalizeFloat)(T+c*r,r),t=Math.max(a,t),s&&(t=Math.min(s,t)),b.h=t),~k.indexOf("l")&&(t=x?(0,ie.normalizeFloat)((w-l*r)/u*100,.01):(0,ie.normalizeFloat)(w-l*r,r),t=Math.max(a,t),s&&(t=Math.min(s,t)),b.w=t),~k.indexOf("t")&&(t=P?(0,ie.normalizeFloat)((T-c*r)/p*100,.01):(0,ie.normalizeFloat)(T-c*r,r),t=Math.max(a,t),s&&(t=Math.min(s,t)),b.h=t);var E=e.ratioDefault?!n.keys.shift:n.keys.shift;if(k.indexOf("c")<0&&E){var L=i.w/i.h;b.w/b.h>L?b.h=Math.round(b.w/L):b.w=Math.round(b.h*L)}~k.indexOf("l")&&(b.l+=i.w-b.w),~k.indexOf("t")&&(b.t+=i.h-b.h);for(var R in b){var z=R;b[z]=parseInt("".concat(b[z]),10)}return b}},o.prototype.getParentRect=function(){var n={left:0,top:0,width:0,height:0},t=this.el;if(!t)return n;var e=t.offsetParent;return e&&e.tagName!=="BODY"&&(n=this.getElementPos(e)),n},o}(),SN=wN,so=function(){return so=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},so.apply(this,arguments)};function TN(o,n,t){for(var e={index:0,placement:"before"},r=0,i=0,a=0,s=0,l=0,c=0,u=0,p,g=0,h=o.length;g<h;g++){p=o[g];var y=p.top,_=p.left,x=p.height,P=p.width;if(a=_+P,u=y+x,l=_+P/2,c=y+x/2,!(i&&_>i||s&&c>=s||r&&a<r))if(e.index=g,!p.dir)t<u&&(s=u),n<l?(i=l,e.placement="before"):(r=l,e.placement="after");else if(t<c){e.placement="before";break}else e.placement="after"}return e}function Ux(o){var n=o.getBoundingClientRect();return{top:n.top+document.body.scrollTop,left:n.left+document.body.scrollLeft}}function tv(o,n){return ie.matches.call(o,n)}function EN(o,n){var t=k0(o),e=k0(n),r=e.filter(function(l){return t.includes(l)}),i=r[0];if(!i)return o.model.index()-n.model.index();var a=e[e.indexOf(i)-1],s=t[t.indexOf(i)-1];return s.index()-a.index()}function k0(o){return o?[o].concat(k0(o.parent())):[]}function kN(o,n){if(o)for(var t=o.parentNode;t&&t.nodeType===1;){if(tv(t,n))return t;t=t.parentNode}}function AN(o,n){if((0,Me.ir)(o))return!1;var t=o.style||{},e=(0,jr.default)(o),r=(0,jr.default)(n);if(t.overflow&&t.overflow!=="visible")return!1;var i=e.css("float");return i&&i!=="none"||r.css("display")==="flex"&&r.css("flex-direction")!=="column"||!IN(t.position)?!1:DN(o)||LN(e)}function IN(o){switch(o){case"static":case"relative":case"":return!0;default:return!1}}function DN(o){var n=["TR","TBODY","THEAD","TFOOT"];return n.includes(o.tagName)}function LN(o){var n=o.css("display"),t=["block","list-item","table","flex","grid"];return t.includes(n)}function NN(o){var n={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:Nl.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},t=so(so(so({},n),o),{containerContext:so(so({},n.containerContext),o.containerContext),positionOptions:so(so({},n.positionOptions),o.positionOptions),dragBehavior:so(so({},n.dragBehavior),o.dragBehavior),eventHandlers:so(so({},n.eventHandlers),o.eventHandlers)});return t}var A2=function(){function o(n){this.timeout=null,this.threshold=n}return o.prototype.updateArgs=function(n){this.lastArgs=n},o.prototype.execute=function(n){var t=this;this.timeout||(this.timeout=setTimeout(function(){t.lastArgs&&n(t.lastArgs),t.timeout=null},this.threshold))},o.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},o}(),A0=function(){return A0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},A0.apply(this,arguments)},RN=function(){function o(n){this.top=n.top,this.left=n.left,this.height=n.height,this.width=n.width,this.offsets=n.offsets,this.dir=n.dir}return o.prototype.calculateDimensionDifference=function(n){var t=n.top-this.top,e=n.left-this.left;return{topDifference:t,leftDifference:e}},o.prototype.adjustDimensions=function(n){return this.top+=n.topDifference,this.left+=n.leftDifference,this},o.prototype.determinePlacement=function(n,t){var e=this.left+this.width/2,r=this.top+this.height/2;return this.dir?t<r?"before":"after":n<e?"before":"after"},o.prototype.equals=function(n){return n?this.top===n.top&&this.left===n.left&&this.height===n.height&&this.width===n.width&&this.dir===n.dir&&JSON.stringify(this.offsets)===JSON.stringify(n.offsets):!1},o.prototype.clone=function(){return new o({top:this.top,left:this.left,height:this.height,width:this.width,offsets:A0({},this.offsets),dir:this.dir})},o.prototype.getDropArea=function(n){var t=this.clone(),e=this.adjustDropDimension(this.width,this.left,n),r=e.newSize,i=e.newPosition;t.width=r,t.left=i;var a=this.adjustDropDimension(this.height,this.top,n),s=a.newSize,l=a.newPosition;return t.height=s,t.top=l,t},o.prototype.adjustDropDimension=function(n,t,e){var r=e.ratio,i=e.minUndroppableDimension,a=e.maxUndroppableDimension,s=n*(1-r)/2;s=Math.max(s,i),s=Math.min(s,a);var l=n-s*2,c=t+s;return{newSize:l,newPosition:c}},o.prototype.isWithinBounds=function(n,t){return n>=this.left&&n<=this.left+this.width&&t>=this.top&&t<=this.top+this.height},o}(),FN=RN,VN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zN=function(o){VN(n,o);function n(t){var e=o.call(this)||this;return e.sourceNodes=[],e.containerOffset={top:0,left:0},e.moveThreshold=20,e.treeClass=t.treeClass,e.em=t.em,e.containerContext=t.containerContext,e.positionOptions=t.positionOptions,e.dragDirection=t.dragDirection,e.eventHandlers=t.eventHandlers,(0,tt.bindAll)(e,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),e.restLastMoveData(),e.rateLimiter=new A2(e.moveThreshold),e}return n.prototype.startSort=function(t){this.sourceNodes=t,this.bindDragEventHandlers()},n.prototype.bindDragEventHandlers=function(){(0,Me.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,Me.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,Me.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},n.prototype.recalculateTargetOnScroll=function(){var t=this.lastMoveData.mouseEvent;t&&this.onMove(t)},n.prototype.onMove=function(t){this.rateLimiter.updateArgs(t),this.rateLimiter.execute(this.handleMove.bind(this))},n.prototype.handleMove=function(t){var e,r,i,a,s,l,c;this.adjustForScroll();var u=this.lastMoveData.targetNode;(r=(e=this.eventHandlers).onMouseMove)===null||r===void 0||r.call(e,t),this.cacheContainerPosition();var p=this.getMousePositionRelativeToContainer(t.clientX,t.clientY),g=p.mouseXRelative,h=p.mouseYRelative,y=this.getMouseTargetElement(t),_=this.getFirstElementWithAModel(y),x=_?(i=(0,jr.default)(_))===null||i===void 0?void 0:i.data("model"):void 0,P=x?this.getOrCreateHoveredNode(x):void 0,w=P?this.getIndexInParent(P,P.nodeDimensions,g,h):0,T=P?this.getValidParent(P,0,g,h):void 0,b=!T?.equals(u);if(b&&((s=(a=this.eventHandlers).onTargetChange)===null||s===void 0||s.call(a,u,T)),!T||!P){this.triggerLegacyOnMoveCallback(t,0),this.triggerMoveEvent(g,h),this.restLastMoveData();return}var k=this.getDropPosition(T,g,h),E=k.index,L=k.placement,R=k.placeholderDimensions,z=!R.equals(this.lastMoveData.placeholderDimensions)||L!==this.lastMoveData.placement;z&&((c=(l=this.eventHandlers).onPlaceholderPositionChange)===null||c===void 0||c.call(l,R,L)),this.lastMoveData={targetNode:T,hoveredNode:P,mouseEvent:t,index:E,hoveredIndex:w,placement:L,placeholderDimensions:R},this.triggerMoveEvent(g,h),this.triggerLegacyOnMoveCallback(t,E)},n.prototype.adjustForScroll=function(){var t,e,r=this.lastMoveData.targetNode;if(r?.element){var i=this.getDim(r?.element),a=(t=r.nodeDimensions)===null||t===void 0?void 0:t.calculateDimensionDifference(i);a&&r.adjustDimensions(a)}var s=this.lastMoveData.hoveredNode;if(s?.element){var i=this.getDim(s?.element),a=(e=s.nodeDimensions)===null||e===void 0?void 0:e.calculateDimensionDifference(i);a&&s.adjustDimensions(a)}},n.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},n.prototype.triggerLegacyOnMoveCallback=function(t,e){var r,i,a,s,l=(r=this.sourceNodes[0])===null||r===void 0?void 0:r.model;(a=(i=this.eventHandlers).legacyOnMoveClb)===null||a===void 0||a.call(i,{event:t,target:l,parent:(s=this.lastMoveData.targetNode)===null||s===void 0?void 0:s.model,index:e})},n.prototype.triggerMoveEvent=function(t,e){var r,i=this.lastMoveData,a=i.targetNode,s=i.placement,l=i.index,c=l?l+(s==="after"?-1:0):0;this.em.trigger("sorter:drag",{target:a?.element||null,targetModel:(r=this.lastMoveData.targetNode)===null||r===void 0?void 0:r.model,sourceModel:this.sourceNodes[0].model,dims:a?.childrenDimensions||[],pos:{index:c,indexEl:c,placement:s},x:t,y:e})},n.prototype.getDropPosition=function(t,e,r){var i,a=t.nodeDimensions,s=t.childrenDimensions,l=t.getChildren(),c=l&&l.length>0;a=a||this.getDim(t.element),t.nodeDimensions=a,s=s||this.getChildrenDim(t),t.childrenDimensions=s;var u=a.clone(),p=0,g="inside";return c&&(i=TN(s,e,r),p=i.index,g=i.placement,u=s[p].clone(),p=p+(g=="after"?1:0)),{index:p,placement:g,placeholderDimensions:u}},n.prototype.getOrCreateHoveredNode=function(t){var e=this.lastMoveData.hoveredNode,r=new this.treeClass(t),i=r.equals(e),a=i?e:r;return a.nodeDimensions=i?e.nodeDimensions:this.getDim(r.element),a},n.prototype.getMouseTargetElement=function(t){var e=this.containerContext.customTarget,r=this.containerContext.document.elementFromPoint(t.clientX,t.clientY),i=e?e({event:t}):r;return i},n.prototype.onDragStart=function(t){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(t)},n.prototype.endDrag=function(){this.dropDragged()},n.prototype.cancelDrag=function(){var t,e,r=this.lastMoveData.targetNode;(e=(t=this.eventHandlers).onTargetChange)===null||e===void 0||e.call(t,r,void 0),this.finalizeMove()},n.prototype.finalizeMove=function(){var t,e,r,i;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),(e=(t=this.eventHandlers).onEnd)===null||e===void 0||e.call(t),(i=(r=this.eventHandlers).legacyOnEnd)===null||i===void 0||i.call(r),this.restLastMoveData(),this.rateLimiter.clearTimeout()},n.prototype.dropDragged=function(){var t,e,r=this.lastMoveData,i=r.targetNode,a=r.index;(e=(t=this.eventHandlers).onDrop)===null||e===void 0||e.call(t,i,this.sourceNodes,a),this.finalizeMove()},n.prototype.triggerOnDragEndEvent=function(){var t=this.lastMoveData.targetNode,e=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:t?t.getChildren():null,modelToDrop:e?.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(r){return r.element}),srcModel:e?.model,trg:t?.element,trgModel:t?.model,draggable:!0,droppable:!0},dst:t?.element,srcEl:e?.element})},n.prototype.getFirstElementWithAModel=function(t){for(var e=function(r){return(0,jr.default)(r).data("model")!==void 0};t&&this.containerContext.container.contains(t);){if(e(t))return t;t=t.parentElement}return null},n.prototype.getValidParent=function(t,e,r,i){var a,s;if(t){var l=this.lastMoveData,c=l.targetNode,u=l.hoveredNode,p=l.hoveredIndex,g=l.mouseEvent,h=t.equals(u);t.nodeDimensions=h?u.nodeDimensions:this.getDim(t.element);var y=this.getIndexInParent(t,t.nodeDimensions,r,i),_=y===p,x=t.isWithinDropBounds(r,i),P=h&&_&&x===t.isWithinDropBounds((a=g?.clientX)!==null&&a!==void 0?a:0,(s=g?.clientY)!==null&&s!==void 0?s:0);if(P&&c)return c;if(!x)return this.handleParentTraversal(t,r,i);var w=this.sourceNodes.some(function(T){return t.canMove(T,e)});return this.triggerDragValidation(w,t),w?t:this.handleParentTraversal(t,r,i)}},n.prototype.handleParentTraversal=function(t,e,r){var i=t.getParent();if(i){var a=this.getIndexInParent(t,t.nodeDimensions,e,r);if(a!==void 0)return this.getValidParent(i,a,e,r)}},n.prototype.getIndexInParent=function(t,e,r,i){var a=t.getParent();if(a){var s=a?.indexOfChild(t);return e.dir=this.getDirection(t.element,a.element),s=s+(e.determinePlacement(r,i)=="after"?1:0),s}},n.prototype.triggerDragValidation=function(t,e){var r=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:t,src:r?.element,srcModel:r?.model,trg:e.element,trgModel:e.model}),r},n.prototype.cleanupEventListeners=function(){var t=this.containerContext.container;(0,Me.AU)(t,"dragstart",this.onDragStart),(0,Me.AU)(t,"mousemove dragover",this.onMove),(0,Me.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},n.prototype.getDirection=function(t,e){var r;return this.dragDirection===Nl.A.Vertical?r=!0:this.dragDirection===Nl.A.Horizontal?r=!1:r=AN(t,e),r},n.prototype.getChildrenDim=function(t){var e=this,r=[],i=t.element;if(!i)return[];var a=t.getChildren();return!a||a.length===0?[]:((0,tt.each)(a,function(s,l){var c=s.element;if(c&&!(!(0,Me.ir)(c)&&!tv(c,e.containerContext.itemSel))){var u=e.getDim(c);u.dir=e.getDirection(c,i),r.push(u)}}),r)},n.prototype.getMousePositionRelativeToContainer=function(t,e){var r=e-this.containerOffset.top+this.containerContext.container.scrollTop,i=t-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var a=this.em.Canvas.getMouseRelativeCanvas({clientX:t,clientY:e},{noScroll:1});i=a.x,r=a.y}return{mouseXRelative:i,mouseYRelative:r}},n.prototype.cacheContainerPosition=function(){var t=this.containerContext.container,e=Ux(t),r=this.positionOptions.windowMargin?Math.abs(e.top):e.top,i=this.positionOptions.windowMargin?Math.abs(e.left):e.left;this.containerOffset={top:r,left:i}},n.prototype.getDim=function(t){var e=this.em,r=this.positionOptions.relative,i=this.positionOptions.windowMargin,a=e?.Canvas,s=a?a.getElementOffsets(t):{},l,c,u,p;if(this.positionOptions.canvasRelative&&this.em){var g=a.getElementPos(t,{noScroll:1});l=g.top,c=g.left,u=g.height,p=g.width}else{var h=Ux(t);l=r?t.offsetTop:h.top-(i?-1:1)*this.containerOffset.top,c=r?t.offsetLeft:h.left-(i?-1:1)*this.containerOffset.left,u=t.offsetHeight,p=t.offsetWidth}return new FN({top:l,left:c,height:u,width:p,offsets:s})},n}(_e.Ss),jN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),HN=function(o){jN(n,o);function n(t){var e=o.call(this)||this;return e.pfx=t.pfx||"",e.allowNesting=t.allowNesting||!1,e.container=t.container,e.setElement(t.el),e.offset={top:t.offset.top||0,left:t.offset.left||0},e.moveLimiter=new A2(100),e}return n.prototype.show=function(){this.el.style.display="block"},n.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},n.prototype.move=function(t,e){var r=this,i={elementDimension:t,placement:e};this.moveLimiter.updateArgs(i),this.moveLimiter.execute(function(a){var s=a.elementDimension,l=a.placement;r._move(s,l)})},n.prototype._move=function(t,e){var r=0,i="px",a=0,s=0,l="",c="";this.setOrientationForDimension(t);var u=t.top,p=t.left,g=t.height,h=t.width,y=t.dir,_=t.offsets;if(e==="inside"){if(this.setOrientation("horizontal"),!this.allowNesting){this.hide();return}var x=5,P=_?.paddingTop||x,w=_?.paddingLeft||x,T=_?.borderTopWidth||0,b=_?.borderLeftWidth||0,k=_?.borderRightWidth||0,E=b+k;a=u+P+T,s=p+w+b,l=Math.max(h-w*2-E,1)+"px",c="auto"}else y?(l=h+i,c="auto",a=e==="before"?u-r:u+g-r,s=p):(l="auto",c=g-r*2+i,a=u+r,s=e==="before"?p-r:p+h-r,this.setOrientation("vertical"));this.updateStyles(a,s,l,c),this.adjustOffset()},n.prototype.setOrientationForDimension=function(t){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),t&&!t.dir&&this.setOrientation("vertical")},n.prototype.setOrientation=function(t){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(t)},n.prototype.updateStyles=function(t,e,r,i){this.el.style.top=t+"px",this.el.style.left=e+"px",r&&(this.el.style.width=r),i&&(this.el.style.height=i)},n.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},n}(_e.Ss),Uc=function(){return Uc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Uc.apply(this,arguments)},BN=function(){function o(n){var t=NN(n);(0,tt.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=t.containerContext,this.positionOptions=t.positionOptions,this.dragBehavior=t.dragBehavior,this.eventHandlers=Uc(Uc({},t.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=n.em,this.treeClass=n.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new zN({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return o.prototype.startSort=function(n){var t,e,r,i,a,s,l,c=this.getSourceNodes(n),u=c.sourceNodes,p=c.sourcesWithModel;this.sourceNodes=u,this.dropLocationDeterminer.startSort(u),this.bindDragEventHandlers(),(e=(t=this.eventHandlers).onStartSort)===null||e===void 0||e.call(t,this.sourceNodes,this.containerContext.container);var g=(r=this.sourceNodes[0])===null||r===void 0?void 0:r.model;(a=(i=this.eventHandlers).legacyOnStartSort)===null||a===void 0||a.call(i,{sorter:this,target:g,parent:g&&((s=g.parent)===null||s===void 0?void 0:s.call(g)),index:g&&((l=g.index)===null||l===void 0?void 0:l.call(g))}),this.em.trigger("sorter:drag:start",n[0],p[0])},o.prototype.validTarget=function(n,t,e){if(!n)return!1;var r=(0,jr.default)(n).data("model");if(!r)return!1;var i=new this.treeClass(r),a=this.getSourceNodes(t).sourceNodes,s=a.some(function(l){return i.canMove(l,e)});return s},o.prototype.getSourceNodes=function(n){var t=this,e=n.filter(function(s){return!!s.dragSource||t.findValidSourceElement(s.element)}),r=e.map(function(s){var l,c;return{model:((l=s.dragSource)===null||l===void 0?void 0:l.model)||((c=(0,jr.default)(s.element))===null||c===void 0?void 0:c.data("model")),content:s.dragSource}}),i=r.sort(function(s,l){return EN(s.model,l.model)}),a=i.map(function(s){return new t.treeClass(s.model,s.content)});return{sourceNodes:a,sourcesWithModel:r}},o.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},o.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},o.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},o.prototype.handlePlaceholderMove=function(n,t){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(n,t)},o.prototype.createPlaceholder=function(){return new HN({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},o.prototype.ensurePlaceholderElement=function(){var n=this.placeholder.el,t=this.containerContext.container;n.ownerDocument.contains(n)||t.append(this.placeholder.el)},o.prototype.updateOffset=function(){var n,t=((n=this.em)===null||n===void 0?void 0:n.get("canvasOffset"))||{};this.positionOptions.offsetTop=t.top,this.positionOptions.offsetLeft=t.left},o.prototype.findValidSourceElement=function(n){return n&&!tv(n,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(n=kN(n,this.containerContext.itemSel)),n},o.prototype.bindDragEventHandlers=function(){(0,Me.on)(this.containerContext.document,"keydown",this.rollback)},o.prototype.updatePlaceholderPosition=function(n,t){this.placeholder.move(n,t)},o.prototype.cleanupEventListeners=function(){(0,Me.AU)(this.containerContext.document,"keydown",this.rollback)},o.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},o.prototype.rollback=function(n){(0,Me.AU)(this.containerContext.document,"keydown",this.rollback);var t="Escape";n.key===t&&this.cancelDrag()},o.prototype.triggerNullOnEndMove=function(n){var t,e,r,i,a,s=(t=this.sourceNodes)===null||t===void 0?void 0:t[0].model,l={target:s,parent:s&&((e=s.parent)===null||e===void 0?void 0:e.call(s)),index:s&&((r=s.index)===null||r===void 0?void 0:r.call(s))};(a=(i=this.eventHandlers).legacyOnEndMove)===null||a===void 0||a.call(i,null,this,Uc(Uc({},l),{cancelled:n}))},o}(),I2=BN,UN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wc=function(){return Wc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Wc.apply(this,arguments)},WN=To.F.Target,Q1={id:"sorter-target",type:WN},GN=function(o){UN(n,o);function n(t){var e=t.em,r=t.treeClass,i=t.containerContext,a=t.dragBehavior,s=t.positionOptions,l=s===void 0?{}:s,c=t.eventHandlers,u=c===void 0?{}:c,p=o.call(this,{em:e,treeClass:r,containerContext:i,positionOptions:l,dragBehavior:a,eventHandlers:Wc(Wc({},u),{onStartSort:function(g,h){var y;(y=u.onStartSort)===null||y===void 0||y.call(u,g,h),p.onStartSort()},onDrop:function(g,h,y){var _;(_=u.onDrop)===null||_===void 0||_.call(u,g,h,y),p.onDrop(g,h,y)},onTargetChange:function(g,h){var y;(y=u.onTargetChange)===null||y===void 0||y.call(u,g,h),p.onTargetChange(g,h)},onMouseMove:function(g){var h;(h=u.onMouseMove)===null||h===void 0||h.call(u,g),p.onMouseMove(g)}})})||this;return p.targetIsText=!1,p.onMouseMove=function(g){var h,y=p.targetIsText&&((h=p.sourceNodes)===null||h===void 0?void 0:h.some(function(_){return _.isTextable()}));y&&p.updateTextViewCursorPosition(g)},p.onDrop=function(g,h,y){var _=typeof y=="number"?y:-1;if(g&&h.length>0){var x=p.handleNodeAddition(g,h,_);x.length===0&&p.triggerNullOnEndMove(!1)}else p.triggerNullOnEndMove(!0);g?.restNodeState(),p.placeholder.hide()},p.onTargetChange=function(g,h){var y;g?.restNodeState();var _=p.em.Canvas;if(!h){p.placeholder.hide(),_.removeSpots(Q1);return}h?.setSelectedParentState(),p.targetIsText=h.isTextNode();var x=p.targetIsText&&((y=p.sourceNodes)===null||y===void 0?void 0:y.some(function(b){return b.isTextable()}));x?(h.setContentEditable(!0),p.placeholder.hide()):p.placeholder.show();var P=To.F.Select,w=To.F.Hover,T=To.F.Spacing;[P,w,T].forEach(function(b){return _.removeSpots({type:b})}),_.addSpot(Wc(Wc({},Q1),{component:h.model}))},(0,tt.bindAll)(p,"handleScrollEvent"),p}return n.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},n.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),o.prototype.bindDragEventHandlers.call(this)},n.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),o.prototype.cleanupEventListeners.call(this)},n.prototype.handleScrollEvent=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=(t=e?.[0])===null||t===void 0?void 0:t.frame,a=this.em.Canvas.getCanvasView().frame===i;a&&this.recalculateTargetOnScroll()},n.prototype.handleNodeAddition=function(t,e,r){var i=this;return e.reduce(function(a,s){if(!t.canMove(s,r))return a;if(i.isPositionChanged(t,s,r)){var l=i.moveNode(t,s,r),c=l.index,u=l.addedNode;a.push(u),r=c}return r++,a},[])},n.prototype.isPositionChanged=function(t,e,r){var i=e.getParent(),a=i?i.indexOfChild(e):-1;i?.model.cid===t.model.cid&&a<r&&r--;var s=i?.model.cid===t.model.cid,l=a===r,c=this.targetIsText&&e.isTextable();return!(s&&l&&!c)},n.prototype.moveNode=function(t,e,r){var i=e.getParent();if(i){var a=i.indexOfChild(e);i.removeChildAt(a,{temporary:!0}),i.model.cid===t.model.cid&&a<r&&r--}var s=t.addChildAt(e,r,{action:"move-component"});return s&&this.triggerEndMoveEvent(s),{addedNode:s,index:r}},n.prototype.triggerEndMoveEvent=function(t){var e,r,i,a,s,l;(r=(e=this.eventHandlers).legacyOnEndMove)===null||r===void 0||r.call(e,t.model,this,{target:t.model,parent:t.model&&((a=(i=t.model).parent)===null||a===void 0?void 0:a.call(i)),index:t.model&&((l=(s=t.model).index)===null||l===void 0?void 0:l.call(s))})},n.prototype.finalizeMove=function(){var t,e;(t=this.em)===null||t===void 0||t.Canvas.removeSpots(Q1),(e=this.sourceNodes)===null||e===void 0||e.forEach(function(r){return r.restNodeState()}),this.setAutoCanvasScroll(!1),o.prototype.finalizeMove.call(this)},n.prototype.updateTextViewCursorPosition=function(t){var e=this.em;if(e){var r=e.Canvas,i=r.getDocument(),a=null,s=(0,Me.G2)(t);if(i.caretPositionFromPoint){var l=i.caretPositionFromPoint(s.clientX,s.clientY);l&&(a=i.createRange(),a.setStart(l.offsetNode,l.offset))}else i.caretRangeFromPoint?a=i.caretRangeFromPoint(s.clientX,s.clientY):t.rangeParent&&(a=i.createRange(),a.setStart(t.rangeParent,t.rangeOffset));var c=r.getWindow().getSelection();r.getFrameEl().focus(),c?.removeAllRanges(),a&&c?.addRange(a)}},n.prototype.setAutoCanvasScroll=function(t){var e=this.em,r=e?.Canvas;r&&(t?r.startAutoscroll():r.stopAutoscroll())},n}(I2),Wx=GN,KN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hg=function(){return Hg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Hg.apply(this,arguments)},qN=function(o){KN(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{values:{}}},n.prototype.initialize=function(){var t=this.collection;this.prop=t?.prop},n.prototype.getId=function(){return this.cid},n.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},n.prototype.getValues=function(t){t===void 0&&(t={});var e=this.get("values");return t.camelCase?Object.keys(e).reduce(function(r,i){return r[(0,ie.camelCase)(i)]=e[i],r},{}):e},n.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},n.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},n.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},n.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},n.prototype.move=function(t){var e;return(e=this.prop)===null||e===void 0?void 0:e.moveLayer(this,t)},n.prototype.getStylePreview=function(t){var e;return t===void 0&&(t={}),(e=this.prop)===null||e===void 0?void 0:e.getStylePreview(this,t)},n.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},n.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",Hg(Hg({},this.getValues()),t))},n}(_e.Kx),Cu=qN,$N=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),D2=function(o){$N(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initialize=function(t,e){e===void 0&&(e={}),this.prop=e.prop},n}(_e.pM),tg=D2;D2.prototype.model=Cu;var YN=Cn(3178),XN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),QN=function(o){XN(n,o);function n(t){return o.call(this,t)||this}return n.prototype.getChildren=function(){return this.model instanceof tg?this.model.models.map(function(t){return new n(t)}):null},n.prototype.getParent=function(){var t=this.model instanceof Cu?this.model.collection:null;return t?new n(t):null},n.prototype.addChildAt=function(t,e){if(this.model instanceof Cu)throw Error("Cannot add a layer model to another layer model");var r=this.model.add(t.model,{at:e});return new n(r)},n.prototype.removeChildAt=function(t){if(this.model instanceof Cu)throw Error("Cannot remove a layer model from another layer model");var e=this.model.at(t);e&&this.model.remove(e)},n.prototype.indexOfChild=function(t){return!(t.model instanceof Cu)||!(this.model instanceof tg)?-1:this.model.indexOf(t.model)},n.prototype.canMove=function(t,e){return this.model instanceof tg&&!!t.model},Object.defineProperty(n.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){var t;return(t=this.view)===null||t===void 0?void 0:t.el},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),n}(YN.$),JN=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),I0=function(){return I0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},I0.apply(this,arguments)},ZN=function(o){JN(n,o);function n(t){var e=t.em,r=t.containerContext,i=t.dragBehavior,a=t.positionOptions,s=a===void 0?{}:a,l=t.eventHandlers,c=l===void 0?{}:l,u=o.call(this,{em:e,treeClass:QN,containerContext:r,positionOptions:s,dragBehavior:i,eventHandlers:I0({onStartSort:function(p,g){var h;(h=c.onStartSort)===null||h===void 0||h.call(c,p,g),u.onLayerStartSort(p)},onDrop:function(p,g,h){var y;(y=c.onDrop)===null||y===void 0||y.call(c,p,g,h),u.onLayerDrop(p,g,h)},onEnd:function(){u.placeholder.hide()}},c)})||this;return u.onLayerStartSort=function(p){u.em.clearSelection();var g=p[0];u.em.trigger("sorter:drag:start",g?.element,g?.model),u.placeholder.show()},u.onLayerDrop=function(p,g,h){if(p){h=typeof h=="number"?h:-1;for(var y=0;y<g.length;y++){var _=g[y];if(p.canMove(_,y)){var x=_.getParent(),P=-1;x&&(P=x.indexOfChild(_),x.removeChildAt(P)),h=P<h?h-1:h,p.addChildAt(_,h)}}u.placeholder.hide()}},u}return n}(I2),tR=ZN,eR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),D0=function(){return D0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},D0.apply(this,arguments)},nR=function(o){eR(n,o);function n(t){var e=o.call(this,t,"Utils")||this;return e.Sorter=Wx,e.Resizer=SN,e.Dragger=NO.A,e.ComponentSorter=Wx,e.StyleManagerSorter=tR,e.helpers=D0({},ie),e}return n.prototype.destroy=function(){},n}(Hi),rR=nR,zi,po={},bi={16:!1,18:!1,17:!1,91:!1},L2="all",Fl={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},N2={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},ev=function(o){return N2[o]||o.toUpperCase().charCodeAt(0)},Qc=[];for(zi=1;zi<20;zi++)N2["f"+zi]=111+zi;function Au(o,n){for(var t=o.length;t--;)if(o[t]===n)return t;return-1}function iR(o,n){if(o.length!=n.length)return!1;for(var t=0;t<o.length;t++)if(o[t]!==n[t])return!1;return!0}var oR={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function aR(o){for(zi in bi)bi[zi]=o[oR[zi]]}function sR(o){var n,t,e,r,i,a;if(n=o.keyCode,Au(Qc,n)==-1&&Qc.push(n),(n==93||n==224)&&(n=91),n in bi){bi[n]=!0;for(e in Fl)Fl[e]==n&&(xi[e]=!0);return}if(aR(o),!!xi.filter.call(this,o)&&n in po){for(a=nv(),r=0;r<po[n].length;r++)if(t=po[n][r],t.scope==a||t.scope=="all"){i=t.mods.length>0;for(e in bi)(!bi[e]&&Au(t.mods,+e)>-1||bi[e]&&Au(t.mods,+e)==-1)&&(i=!1);(t.mods.length==0&&!bi[16]&&!bi[18]&&!bi[17]&&!bi[91]||i)&&t.method(o,t)===!1&&(o.preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation&&o.stopPropagation(),o.cancelBubble&&(o.cancelBubble=!0))}}}function lR(o){var n=o.keyCode,t,e=Au(Qc,n);if(e>=0&&Qc.splice(e,1),(n==93||n==224)&&(n=91),n in bi){bi[n]=!1;for(t in Fl)Fl[t]==n&&(xi[t]=!1)}}function cR(){for(zi in bi)bi[zi]=!1;for(zi in Fl)xi[zi]=!1}function xi(o,n,t){var e,r;e=R2(o),t===void 0&&(t=n,n="all");for(var i=0;i<e.length;i++)r=[],o=e[i].split("+"),o.length>1&&(r=F2(o),o=[o[o.length-1]]),o=o[0],o=ev(o),o in po||(po[o]=[]),po[o].push({shortcut:e[i],scope:n,method:t,key:e[i],mods:r})}function dR(o,n){var t,e,r=[],i,a,s;for(t=R2(o),a=0;a<t.length;a++){if(e=t[a].split("+"),e.length>1&&(r=F2(e)),o=e[e.length-1],o=ev(o),n===void 0&&(n=nv()),!po[o])return;for(i=0;i<po[o].length;i++)s=po[o][i],s.scope===n&&iR(s.mods,r)&&(po[o][i]={})}}function uR(o){return typeof o=="string"&&(o=ev(o)),Au(Qc,o)!=-1}function pR(){return Qc.slice(0)}function fR(o){var n=(o.target||o.srcElement).tagName;return!(n=="INPUT"||n=="SELECT"||n=="TEXTAREA")}for(zi in Fl)xi[zi]=!1;function gR(o){L2=o||"all"}function nv(){return L2||"all"}function hR(o){var n,t,e;for(n in po)for(t=po[n],e=0;e<t.length;)t[e].scope===o?t.splice(e,1):e++}function R2(o){var n;return o=o.replace(/\s/g,""),n=o.split(","),n[n.length-1]==""&&(n[n.length-2]+=","),n}function F2(o){for(var n=o.slice(0,o.length-1),t=0;t<n.length;t++)n[t]=Fl[n[t]];return n}function J1(o,n,t){o.addEventListener?o.addEventListener(n,t,!1):o.attachEvent&&o.attachEvent("on"+n,function(){t(window.event)})}xi.setScope=gR;xi.getScope=nv;xi.deleteScope=hR;xi.filter=fR;xi.isPressed=uR;xi.getPressedKeyCodes=pR;xi.unbind=dR;xi.handlers=po;xi.init=function(o){J1(o.document,"keydown",function(n){sR(n)}),J1(o.document,"keyup",lR),J1(o,"focus",cR)};var xu=xi,mR=function(){return{defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}}},vR=mR,_R=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gx=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))};(0,ie.hasWin)()&&xu.init(window);var yR=function(o){_R(n,o);function n(t){var e=o.call(this,t,"Keymaps",vR())||this;return e.keymaster=xu,e.keymaps={},e}return n.prototype.onLoad=function(){if(!this.em.isHeadless){var t=this.config.defaults;for(var e in t){var r=t[e];this.add(e,r.keys,r.handler,r.opts||{})}}},n.prototype.add=function(t,e,r,i){i===void 0&&(i={});var a=this.em,s=a.Commands,l=a.getEditor(),c=a.Canvas,u={id:t,keys:e,handler:r},p=this.keymaps[t];return p&&this.remove(t),this.keymaps[t]=u,xu(e,function(g,h){var y,_={event:g,h},x=(0,tt.isString)(r)?s.get(r):r,P=!a.isEditing()&&!l.Canvas.isInputFocused();if(P||i.force){i.prevent&&((y=c.getCanvasView())===null||y===void 0||y.preventDefault(g)),(0,tt.isFunction)(x)?x(l,0,_):s.runCommand(x,_);var w=[t,h.shortcut,g];a.trigger.apply(a,Gx(["keymap:emit"],w,!1)),a.trigger.apply(a,Gx(["keymap:emit:".concat(t)],w,!1))}},void 0),a.trigger("keymap:add",u),u},n.prototype.get=function(t){return this.keymaps[t]},n.prototype.getAll=function(){return this.keymaps},n.prototype.remove=function(t){var e=this.em,r=this.get(t);if(r)return delete this.keymaps[t],r.keys.split(", ").forEach(function(i){xu.unbind(i.trim())}),e?.trigger("keymap:remove",r),r},n.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(e){return t.remove(e)}),xu.handlers={},this},n.prototype.destroy=function(){this.removeAll(),this.keymaps={}},n}(Hi),bR=yR,CR=function(){return{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}}},xR=CR,OR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PR=function(o){OR(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},n.prototype.open=function(){this.set("open",!0)},n.prototype.close=function(){this.set("open",!1)},n}(Ns.A),MR=PR,wR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bg=function(){return Bg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Bg.apply(this,arguments)},SR=function(o){wR(n,o);function n(t){var e=o.call(this,t)||this,r=e.model;return e.listenTo(r,"change:open",e.updateOpen),e.listenTo(r,"change:title",e.updateTitle),e.listenTo(r,"change:content",e.updateContent),e}return n.prototype.template=function(t){var e=t.pfx,r=t.ppfx,i=t.content,a=t.title;return'<div class="'.concat(e,"dialog ").concat(r,"one-bg ").concat(r,`two-color">
      <div class="`).concat(e,`header">
        <div class="`).concat(e,'title">').concat(a,`</div>
        <div class="`).concat(e,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(e,`content">
        <div id="`).concat(e,'c">').concat(i,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(e,'collector" style="display: none"></div>')},n.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},n.prototype.onClick=function(t){var e=this.config.backdrop;e&&t.target===this.el&&this.hide()},n.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},n.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},n.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},n.prototype.updateContent=function(){var t=this.getContent(),e=t.children(),r=this.getCollector(),i=this.model.get("content");e.length&&r.append(e),t.empty().append(i)},n.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},n.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},n.prototype.hide=function(){this.model.close()},n.prototype.show=function(){this.model.open()},n.prototype.updateAttr=function(t){var e=this,r=e.pfx,i=e.$el,a=e.el,s=[].slice.call(a.attributes).map(function(l){return l.name});i.removeAttr(s.join(" ")),i.attr(Bg(Bg({},t||{}),{class:"".concat(r,"container ").concat(t&&t.class||"").trim()}))},n.prototype.render=function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this},n}(ko),TR=SR,ER=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kR=function(o){ER(n,o);function n(t){var e=o.call(this,t,"Modal",xR())||this;return e.model=new MR(e),e.model.on("change:open",function(r,i){t.trigger("modal:".concat(i?"open":"close"))}),e.model.on("change",(0,tt.debounce)(function(){var r=e._evData(),i=e.config.custom;(0,tt.isFunction)(i)&&i(r),t.trigger("modal",r)},0)),e}return n.prototype._evData=function(){var t=this,e=this.getTitle(),r=this.getContent(),i=this.model.attributes,a=i.open,s=i.attributes;return{open:a,attributes:s,title:(0,tt.isString)(e)?(0,Me.GZ)(e):e,content:(0,tt.isString)(r)?(0,Me.GZ)(r):r.get?r.get(0):r,close:function(){t.close()}}},n.prototype.postRender=function(t){var e=t.model.config.el||t.el,r=this.render();r&&e?.appendChild(r)},n.prototype.open=function(t){t===void 0&&(t={});var e=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",e),this.model.open(),this.modal&&this.modal.updateAttr(e),this},n.prototype.close=function(){return this.model.close(),this},n.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},n.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},n.prototype.isOpen=function(){return!!this.model.get("open")},n.prototype.setTitle=function(t){return this.model.set("title",t),this},n.prototype.getTitle=function(){return this.model.get("title")},n.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},n.prototype.getContent=function(){return this.model.get("content")},n.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},n.prototype.getModel=function(){return this.model},n.prototype.render=function(){var t;if(!this.config.custom){var e=TR.extend(this.config.extend),r=this.modal&&this.modal.el;return this.modal=new e({el:r,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},n.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},n}(Hi),AR=kR,Kx="sw-visibility",qx="export-template",$x="open-sm",Yx="open-tm",Xx="open-layers",Qx="open-blocks",Z1="fullscreen",t0="preview",IR=function(){return{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:Kx,className:"fa fa-square-o",command:"core:component-outline",context:Kx,attributes:{title:"View components"}},{id:t0,className:"fa fa-eye",command:t0,context:t0,attributes:{title:"Preview"}},{id:Z1,className:"fa fa-arrows-alt",command:Z1,context:Z1,attributes:{title:"Fullscreen"}},{id:qx,className:"fa fa-code",command:qx,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:$x,className:"fa fa-paint-brush",command:$x,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:Yx,className:"fa fa-cog",command:Yx,togglable:!1,attributes:{title:"Settings"}},{id:Xx,className:"fa fa-bars",command:Xx,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:Qx,className:"fa fa-th-large",command:Qx,togglable:!1,attributes:{title:"Open Blocks"}}]}]}},DR=IR,LR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),NR=function(o){LR(n,o);function n(t,e){var r=o.call(this,t,e)||this;return r.get("buttons").length&&r.set("buttons",new j2(r.module,r.get("buttons"))),r}return n.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(n.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),n}(Ns.A),V2=NR,RR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),z2=function(o){RR(n,o);function n(t,e){return o.call(this,t,e,V2)||this}return n.prototype.deactivateAllExceptOne=function(t,e){this.forEach(function(r,i){r!==t&&(r.set("active",!1),e&&r.get("buttons").length&&r.get("buttons").deactivateAllExceptOne(t,e))})},n.prototype.deactivateAll=function(t,e){var r=t||"";this.forEach(function(i){i.get("context")==r&&i!==e&&i.set("active",!1,{fromCollection:!0})})},n.prototype.disableAllButtons=function(t){var e=t||"";this.forEach(function(r,i){r.get("context")==e&&r.set("disable",!0)})},n.prototype.disableAllButtonsExceptOne=function(t,e){this.forEach(function(r,i){r!==t&&(r.set("disable",!0),e&&r.get("buttons").length&&r.get("buttons").disableAllButtonsExceptOne(t,e))})},n}(oh),j2=z2;z2.prototype.model=V2;var FR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),VR=function(o){FR(n,o);function n(t,e){var r=o.call(this,t,e)||this,i=r.get("buttons")||[];return r.buttons=new j2(t,i),r}return n.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(n.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),n}(Ns.A),H2=VR,zR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),B2=function(o){zR(n,o);function n(t,e){return o.call(this,t,e,H2)||this}return n}(oh),jR=B2;B2.prototype.model=H2;var HR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gc=function(){return Gc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Gc.apply(this,arguments)},BR=function(o){HR(n,o);function n(t){var e=o.call(this,t)||this,r=e,i=r.model,a=r.em,s=r.pfx,l=r.ppfx,c=i.className,u=i.attributes,p=u.command,g=u.listen;if(e.id=s+i.get("id"),e.activeCls="".concat(s,"active ").concat(l,"four-color"),e.disableCls="".concat(l,"disabled"),e.btnsVisCls="".concat(s,"visible"),e.className=s+"btn"+(c?" "+c:""),e.listenTo(i,"change",e.render),e.listenTo(i,"change:active updateActive",e.updateActive),e.listenTo(i,"checkActive",e.checkActive),e.listenTo(i,"change:bntsVis",e.updateBtnsVis),e.listenTo(i,"change:attributes",e.updateAttributes),e.listenTo(i,"change:className",e.updateClassName),e.listenTo(i,"change:disable",e.updateDisable),a&&(0,tt.isString)(p)&&g){var h={fromListen:!0};e.listenTo(a,"run:".concat(p),function(){return i.set("active",!0,h)}),e.listenTo(a,"stop:".concat(p),function(){return i.set("active",!1,h)})}return a&&a.get&&(e.commands=a.get("Commands")),e}return n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.events=function(){return{click:"clicked"}},n.prototype.updateClassName=function(){var t=this,e=t.model,r=t.pfx,i=e.className,a=e.get("attributes").class,s="".concat(a||""," ").concat(r,"btn ").concat(i||"");this.$el.attr("class",s.trim())},n.prototype.updateAttributes=function(){var t=this,e=t.em,r=t.model,i=t.$el,a=r.get("attributes")||{},s=e&&e.t&&e.t("panels.buttons.titles.".concat(r.id));i.attr(a),s&&i.attr({title:s}),this.updateClassName()},n.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},n.prototype.updateActive=function(t,e,r){var i;r===void 0&&(r={});var a=this,s=a.model,l=a.commands,c=a.$el,u=a.activeCls,p=r.fromCollection,g=r.fromListen,h=s.get("context"),y=s.get("options"),_=s.command,x={};_&&(l&&(0,tt.isString)(_)?x=l.get(_)||{}:(0,tt.isFunction)(_)?x=l.create({run:_}):_!==null&&(0,tt.isObject)(_)&&(x=l.create(_)),s.active?(!p&&((i=s.collection)===null||i===void 0||i.deactivateAll(h,s)),s.set("active",!0,{silent:!0}).trigger("checkActive"),!g&&l.runCommand(x,Gc(Gc({},y),{sender:s})),x.noStop&&s.set("active",!1)):(c.removeClass(u),!g&&l.stopCommand(x,Gc(Gc({},y),{sender:s,force:1}))))},n.prototype.updateDisable=function(){var t=this,e=t.disableCls,r=t.model,i=r.disable;this.$el[i?"addClass":"removeClass"](e)},n.prototype.checkActive=function(){var t=this,e=t.model,r=t.$el,i=t.activeCls;e.active?r.addClass(i):r.removeClass(i)},n.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},n.prototype.toggleActive=function(){var t=this,e=t.model,r=t.em,i=e.active,a=e.togglable;i&&!a||(e.active=!i,i?e.runDefaultCommand&&r.runDefault():e.stopDefaultCommand&&r.stopDefault())},n.prototype.render=function(){var t=this.model,e=t.get("label"),r=this.$el;return!t.get("el")&&r.empty(),this.updateAttributes(),e&&r.append(e),this.checkActive(),this.updateDisable(),this},n}(ko),UR=BR,WR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GR=function(o){WR(n,o);function n(t){var e=o.call(this,{collection:t})||this;return e.listenTo(e.collection,"add",e.addTo),e.listenTo(e.collection,"reset remove",e.render),e.className=e.pfx+"buttons",e}return n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){var r=e||null,i=t.get("el"),a=new UR({el:i,model:t}),s=a.render().el;return r?r.appendChild(s):this.$el.append(s),s},n.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(r){return t.addToCollection(r,e)}),this.$el.append(e),this.$el.attr("class",(0,tt.result)(this,"className")),this},n}(ko),KR=GR,qR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),L0=function(){return L0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},L0.apply(this,arguments)},$R=function(o){qR(n,o);function n(t){var e=o.call(this,{model:t,el:t.get("el")})||this;return e.className=e.pfx+"panel",e.id=e.pfx+t.get("id"),e.listenTo(t,"change:appendContent",e.appendContent),e.listenTo(t,"change:content",e.updateContent),e.listenTo(t,"change:visible",e.toggleVisible),t.view=e,e}return n.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},n.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},n.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},n.prototype.attributes=function(){return this.model.get("attributes")},n.prototype.initResize=function(){var t=this.em,e=t?.Editor,r=this.model.get("resizable");if(e&&r){var i=r===!0?[!0,!0,!0,!0]:r,a=i.length,s=void 0,l=void 0,c=void 0,u=!1;if(a==2){var p=i;s=p[0],c=p[0],l=p[1],u=p[1]}else if(a==4){var p=i;s=p[0],l=p[1],c=p[2],u=p[3]}var g=new e.Utils.Resizer(L0({tc:s,cr:l,bc:c,cl:u,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:e.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(h,y){var _=y.target,x=h.style,P=g.getConfig(),w=P.keyWidth,T=P.keyHeight,b=h.getBoundingClientRect(),k=_=="container",E=x[w],L=x[T],R=E&&!k?parseFloat(E):b.width,z=L&&!k?parseFloat(L):b.height;return{left:0,top:0,width:R,height:z}}},r&&typeof r!="boolean"?r:{}));g.blur=function(){},g.focus(this.el)}},n.prototype.render=function(){var t=this.model.buttons,e=this.$el,r=this.ppfx,i="".concat(this.className," ").concat(this.id," ").concat(r,"one-bg ").concat(r,"two-color");if(e.addClass(i),this.toggleVisible(),t.length){var a=new KR(t);e.append(a.render().el)}return e.append(this.model.get("content")),this},n}(ko),YR=$R,XR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),QR=function(o){XR(n,o);function n(t){var e=o.call(this,{collection:t})||this;return e.listenTo(t,"add",e.addTo),e.listenTo(t,"reset",e.render),e.listenTo(t,"remove",e.onRemove),e.className=e.pfx+"panels",e}return n.prototype.onRemove=function(t){var e=t.view;e&&e.remove()},n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){var r=e||null,i=t.get("el"),a=new YR(t),s=a.render().el,l=t.get("appendTo");if(!i)if(l){var c=document.querySelector(l);c?.appendChild(s)}else r?r.appendChild(s):this.$el.append(s);return a.initResize(),s},n.prototype.render=function(){var t=this,e=this.$el,r=document.createDocumentFragment();return e.empty(),this.collection.each(function(i){return t.addToCollection(i,r)}),e.append(r),e.attr("class",this.className),this},n}(ko),JR=QR,ZR=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tF=function(o){ZR(n,o);function n(t){var e=o.call(this,t,"Panels",DR())||this;return e.panels=new jR(e,e.config.defaults),e}return n.prototype.getPanels=function(){return this.panels},n.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},n.prototype.addPanel=function(t){return this.panels.add(t)},n.prototype.removePanel=function(t){return this.panels.remove(t)},n.prototype.getPanel=function(t){var e=this.panels.where({id:t});return e.length?e[0]:null},n.prototype.addButton=function(t,e){var r=this.getPanel(t);return r?r.buttons.add(e):null},n.prototype.removeButton=function(t,e){var r=this.getPanel(t);return r&&r.buttons.remove(e)},n.prototype.getButton=function(t,e){var r=this.getPanel(t);if(r){var i=r.buttons.where({id:e});return i.length?i[0]:null}return null},n.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new JR(this.panels),this.PanelsViewObj.render().el},n.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("active")&&e.trigger("updateActive")})})},n.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("disable")&&e.trigger("change:disable")})})},n.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},n}(Hi),eF=tF,nF=function(){return{stylePrefix:"cm-",optsCodeViewer:{}}},rF=nF,iF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oF=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},aF=function(o){iF(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.build=function(t,e){e===void 0&&(e={});var r=e.em,i=oF(e,["em"]),a=i;if(e.cleanId&&r){var s=r.Css.getAll(),l=s.toJSON().map(function(c){var u=c.selectors,p=u&&u.length===1&&u.models[0];return p&&p.isId()&&p.get("name")}).filter(Boolean);a.attributes||(a.attributes=function(c,u){var p=u.id;return p&&p[0]==="i"&&!c.get("script")&&!c.get("script-export")&&!c.get("attributes").id&&l.indexOf(p)<0&&delete u.id,u})}return t.toHTML(a)},n}(_e.Kx),sF=aF,lF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cF=function(o){lF(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.build=function(t){var e=this,r=t.toJSON();return this.beforeEach(r),(0,tt.each)(r,function(i,a){var s=r[a];if(s instanceof _e.Kx)r[a]=e.build(s);else if(s instanceof _e.pM){var l=s;r[a]=[],l.length&&l.forEach(function(c,u){r[a][u]=e.build(c)})}}),r},n.prototype.beforeEach=function(t){delete t.status},n}(_e.Kx),dF=cF,uF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function pF(o){var n,t=((n=o.toString().match(/\{([\s\S]*)\}/m))===null||n===void 0?void 0:n[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var fF=function(o){uF(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.mapModel=function(t){var e,r=this,i="",a=t.get("script-export")||t.get("script"),s=t.get("type"),l=t.get("components"),c=t.getId();if(a){var u=t.get("attributes");u=(0,tt.extend)({},u,{id:c}),t.set("attributes",u,{silent:!0});var p=t.getScriptString(a),g=t.get("script-props");if(t.get("scriptUpdated")&&!g)this.mapJs[s+"-"+c]={ids:[c],code:p};else{var h=void 0,y=this.mapJs[s];if(g&&(h=t.__getScriptProps()),y)y.ids.push(c),h&&(y.props[c]=h);else{var _={ids:[c],code:p};h&&(_.props=(e={},e[c]=h,e)),this.mapJs[s]=_}}}return l.forEach(function(x){i+=r.mapModel(x)}),i},n.prototype.build=function(t){this.mapJs={},this.mapModel(t);var e="";for(var r in this.mapJs){var i=this.mapJs[r];if(i.code)if(i.props){if(pF(i.code))continue;e+=`
          var props = `.concat(JSON.stringify(i.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(i.code,`.bind(el))(props[el.id]);
          }`)}else{var a="#"+i.ids.join(", #");e+=`
          var items = document.querySelectorAll('`.concat(a,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(i.code,`
}.bind(items[i]))();
          }`)}}return e},n}(_e.Kx),gF=fF,hF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),N0=function(){return N0=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},N0.apply(this,arguments)},Iu;(0,ie.hasWin)()&&(Iu=Cn(4408),Cn(8253),Cn(7389),Cn(3640));var U2=function(o){hF(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},n.prototype.init=function(t){return(0,tt.bindAll)(this,"onChange"),this.editor=Iu.fromTextArea(t,N0({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},n.prototype.onChange=function(){this.trigger("update",this)},n.prototype.getEditor=function(){return this.editor},n.prototype.getElement=function(){return this.element},n.prototype.setElement=function(t){return this.element=t,this},n.prototype.refresh=function(){return this.getEditor().refresh(),this},n.prototype.focus=function(){return this.getEditor().focus(),this},n.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},n.prototype.setContent=function(t,e){var r=this;e===void 0&&(e={});var i=this.editor;if(i){i.setValue(t);var a=this.get("autoFormat"),s=i.autoFormatRange&&(a===!0||Array.isArray(a)&&a.includes(this.get("codeName")));s&&(Iu.commands.selectAll(i),i.autoFormatRange(i.getCursor(!0),i.getCursor(!1)),Iu.commands.goDocStart(i)),!e.noRefresh&&setTimeout(function(){return r.refresh()})}},n}(_e.Kx),mF=U2;U2.prototype.CodeMirror=Iu;var vF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_F=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},yF=function(o){vF(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.template=function(t){var e=t.pfx,r=t.codeName,i=t.label;return Vi(Jx||(Jx=_F([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),e,e,r,e,i,e)},n.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},n.prototype.render=function(){var t,e,r=this,i=r.model,a=r.pfx,s=r.$el,l=i.toJSON(),c=i.get("input")||((e=(t=i).getElement)===null||e===void 0?void 0:e.call(t));return l.pfx=a,s.html(this.template(l)),s.attr("class","".concat(a,"editor-c")),s.find("#".concat(a,"code")).append(c),this},n}(_e.Ss),bF=yF,Jx,CF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ug=function(){return Ug=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ug.apply(this,arguments)},xF="CodeMirror",OF=function(o){CF(n,o);function n(t){var e=o.call(this,t,"CodeManager",rF())||this;e.EditorView=bF;var r=e.config,i=r.pStylePrefix;return i&&(r.stylePrefix=i+r.stylePrefix),e.generators={},e.viewers={},e.defGenerators={html:new sF,css:new lI,json:new dF,js:new gF},e.defViewers={CodeMirror:new mF},e.loadDefaultGenerators().loadDefaultViewers(),e}return n.prototype.addGenerator=function(t,e){return this.generators[t]=e,this},n.prototype.getGenerator=function(t){return this.generators[t]},n.prototype.getGenerators=function(){return this.generators},n.prototype.addViewer=function(t,e){return this.viewers[t]=e,this},n.prototype.getViewer=function(t){return this.viewers[t]},n.prototype.getViewers=function(){return this.viewers},n.prototype.createViewer=function(t){t===void 0&&(t={});var e=(0,tt.isUndefined)(t.type)?xF:t.type,r=this.getViewer(e)&&this.getViewer(e).clone(),i=document.createElement("div"),a=document.createElement("textarea");return i.appendChild(a),r.set(Ug(Ug({},this.config.optsCodeViewer),t)),r.init(a),r.setElement(i),r},n.prototype.updateViewer=function(t,e){t.setContent(e)},n.prototype.getCode=function(t,e,r){r===void 0&&(r={}),r.em=this.em;var i=this.getGenerator(e);return i?i.build(t,r):""},n.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},n.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},n.prototype.destroy=function(){},n}(Hi),PF=OF,MF=Cn(4729),wF=Cn.n(MF),SF=function(){return{maximumStackLength:500,trackSelection:!0}},TF=SF,Fi=function(o){return o.update="update",o.undo="undo",o.redo="redo",o.load="load",o.projectLoad="project:load",o.projectLoaded="project:loaded",o.projectGet="project:get",o.log="log",o.telemetryInit="telemetry:init",o.destroy="destroy",o.destroyed="destroyed",o}(Fi||{});var EF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),La=function(){return La=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},La.apply(this,arguments)},kF=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Kf=function(o){return o.avoidStore||o.noUndo||o.partial},Zx=function(o){return Object.keys(o.changedAttributes())},qf=new WeakMap,AF=function(o){EF(n,o);function n(t){var e=o.call(this,t,"UndoManager",TF())||this;e.config._disable&&(e.config.maximumStackLength=0);var r=!0;return e.um=new(wF())(La({track:!0,register:[]},e.config)),e.um.changeUndoType("change",{condition:function(i){var a=i.get("_undo");if(a){var s=i.get("_undoexc");if((0,tt.isArray)(s)&&Zx(i).some(function(l){return s.indexOf(l)>=0}))return!1;if((0,tt.isBoolean)(a)||(0,tt.isArray)(a)&&Zx(i).some(function(l){return a.indexOf(l)>=0}))return!0}return!1},on:function(i,a,s){var l=qf.get(i);l||(l=i.previousAttributes(),qf.set(i,l));var c=s||a||{};if(c.noUndo&&setTimeout(function(){qf.delete(i)}),!Kf(c)){var u=i.toJSON({fromUndo:r}),p={object:i,before:l,after:u};return qf.delete(i),(0,tt.isEmpty)(u)?void 0:p}}}),e.um.changeUndoType("add",{on:function(i,a,s){if(s===void 0&&(s={}),!(Kf(s)||!e.isRegistered(a)))return{object:a,before:void 0,after:i,options:La(La({},s),{fromUndo:r})}}}),e.um.changeUndoType("remove",{on:function(i,a,s){if(s===void 0&&(s={}),!(Kf(s)||!e.isRegistered(a)))return{object:a,before:i,after:void 0,options:La(La({},s),{fromUndo:r})}}}),e.um.changeUndoType("reset",{undo:function(i,a){i.reset(a,{fromUndo:r})},redo:function(i,a,s){i.reset(s,{fromUndo:r})},on:function(i,a){if(a===void 0&&(a={}),!(Kf(a)||!e.isRegistered(i)))return{object:i,before:a.previousModels,after:kF([],i.models,!0),options:La(La({},a),{fromUndo:r})}}}),e.um.on("undo redo",function(){t.getSelectedAll().map(function(i){return i.trigger("rerender:layer")})}),[Fi.undo,Fi.redo].forEach(function(i){return e.um.on(i,function(){return t.trigger(i)})}),e}return n.prototype.postLoad=function(){var t=this,e=t.config,r=t.em;e.trackSelection&&r&&this.add(r.get("selected"))},n.prototype.add=function(t){return this.um.register(t),this},n.prototype.remove=function(t){return this.um.unregister(t),this},n.prototype.removeAll=function(){return this.um.unregisterAll(),this},n.prototype.start=function(){return this.um.startTracking(),this},n.prototype.stop=function(){return this.um.stopTracking(),this},n.prototype.undo=function(t){t===void 0&&(t=!0);var e=this,r=e.em,i=e.um;return!r.isEditing()&&i.undo(t),this},n.prototype.undoAll=function(){return this.um.undoAll(),this},n.prototype.redo=function(t){t===void 0&&(t=!0);var e=this,r=e.em,i=e.um;return!r.isEditing()&&i.redo(t),this},n.prototype.redoAll=function(){return this.um.redoAll(),this},n.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},n.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},n.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},n.prototype.getStack=function(){return this.um.stack},n.prototype.getStackGroup=function(){var t=[],e=[];return this.getStack().forEach(function(r){var i=r.get("magicFusionIndex");e.indexOf(i)<0&&(e.push(i),t.push(r))}),t},n.prototype.skip=function(t){var e=!!this.um.isTracking();e&&this.stop(),t(),e&&this.start()},n.prototype.getGroupedStack=function(){var t={},e=this.getStack(),r=function(i,a){var s=i.attributes,l=s.type,c=s.after,u=s.before,p=s.object,g=s.options,h=g===void 0?{}:g;return{index:a,type:l,after:c,before:u,object:p,options:h}};return e.forEach(function(i,a){var s=i.get("magicFusionIndex"),l=r(i,a);t[s]?t[s].push(l):t[s]=[l]}),Object.keys(t).map(function(i){var a=t[i];return{index:a[a.length-1].index,actions:a,labels:(0,tt.unique)(a.reduce(function(s,l){var c,u=(c=l.options)===null||c===void 0?void 0:c.action;return u&&s.push(u),s},[]))}})},n.prototype.goToGroup=function(t){var e=this;if(t){var r=this.getPointer(),i=t.index-r;(0,tt.times)(Math.abs(i),function(){e[i<0?"undo":"redo"](!1)})}},n.prototype.getPointer=function(){return this.getStack().pointer},n.prototype.clear=function(){return this.um.clear(),this},n.prototype.getInstance=function(){return this.um},n.prototype.destroy=function(){this.clear().removeAll()},n}(Hi),IF=AF,DF=function(){return{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1}},LF=DF,Kc=function(){return Kc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Kc.apply(this,arguments)},R0=function(o){return o[o.ACTIVE=1]="ACTIVE",o[o.INACTIVE=0]="INACTIVE",o[o.DISABLED=-1]="DISABLED",o}(R0||{}),e0="_rte",kl={ACTIVE:1,INACTIVE:0,DISABLED:-1},$f=function(o,n){n===void 0&&(n="A");var t=o.selection()||{},e=t.anchorNode,r=t.focusNode,i=e?.parentNode,a=r?.parentNode;return i?.nodeName==n||a?.nodeName==n},Wg="data-selectme",_u={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(o){return o.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(o){return o.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(o){return o.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(o){return o.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(o){return o&&o.selection()&&$f(o)?kl.ACTIVE:kl.INACTIVE},result:function(o){$f(o)?o.exec("unlink"):o.insertHTML('<a href="" '.concat(Wg,">").concat(o.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(o){return o?.selection()&&$f(o,"SPAN")?kl.DISABLED:kl.INACTIVE},result:function(o){!$f(o,"SPAN")&&o.insertHTML("<span ".concat(Wg,">").concat(o.selection(),"</span>"),{select:!0})}}},NF=function(){function o(n,t,e){e===void 0&&(e={});var r=this;if(this.em=n,this.settings=e,t[e0])return t[e0];t[e0]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var i=(e.actions||[]).map(function(u){var p=u;return(0,tt.isString)(u)?p=Kc({},_u[u]):_u[u.name]&&(p=Kc(Kc({},_u[u.name]),u)),p}),a=i.length?i:Object.keys(_u).map(function(u){return _u[u]});e.classes=Kc({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},e.classes);var s=e.classes,l=e.actionbar;if(this.actionbar=l,this.classes=s,this.actions=a,!l){if(!this.isCustom(e.module)){var c=e.actionbarContainer;l=document.createElement("div"),l.className=s.actionbar,c?.appendChild(l),this.actionbar=l}a.forEach(function(u){return r.addAction(u)})}return e.styleWithCSS&&this.exec("styleWithCSS"),this}return o.prototype.isCustom=function(n){var t=n||this.em.RichTextEditor;return!!(t?.config.custom||t?.customRte)},o.prototype.destroy=function(){},o.prototype.setEl=function(n){this.el=n,this.doc=n.ownerDocument},o.prototype.updateActiveActions=function(){var n=this,t=this.getActions();t.forEach(function(e){var r=e.update,i=e.btn,a=n.classes,s=a.active,l=a.inactive,c=a.disabled,u=e.state,p=e.name,g=n.doc,h=R0.INACTIVE;if(i&&(i.className=i.className.replace(s,"").trim(),i.className=i.className.replace(l,"").trim(),i.className=i.className.replace(c,"").trim()),u){var y=u(n,g);if(h=y,i)switch(y){case kl.ACTIVE:i.className+=" ".concat(s);break;case kl.INACTIVE:i.className+=" ".concat(l);break;case kl.DISABLED:i.className+=" ".concat(c);break}}else g.queryCommandSupported(p)&&g.queryCommandState(p)&&(i&&(i.className+=" ".concat(s)),h=R0.ACTIVE);e.currentState=h,r?.(n,e)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},o.prototype.enable=function(n){return this.enabled?this:this.__toggleEffects(!0,n)},o.prototype.disable=function(){return this.__toggleEffects(!1)},o.prototype.__toggleEffects=function(n,t){n===void 0&&(n=!1),t===void 0&&(t={});var e=n?Me.on:Me.AU,r=this,i=r.el,a=r.doc,s=this.actionbarEl();if(s&&(s.style.display=n?"":"none"),i.contentEditable="".concat(!!n),e(i,"mouseup keyup",this.updateActiveActions),e(a,"keydown",this.__onKeydown),e(a,"paste",this.__onPaste),this.enabled=n,n){var l=t.event;if(this.syncActions(),this.updateActiveActions(),l){var c=null;if(a.caretRangeFromPoint){var u=(0,Me.G2)(l);c=a.caretRangeFromPoint(u.clientX,u.clientY)}else l.rangeParent&&(c=a.createRange(),c.setStart(l.rangeParent,l.rangeOffset));var p=a.getSelection();p?.removeAllRanges(),c&&p?.addRange(c)}i.focus()}return this},o.prototype.__onKeydown=function(n){var t=this.em,e=t.RichTextEditor.getConfig().onKeydown;if(e)return e({ev:n,rte:this,editor:t.getEditor()});var r=this.doc,i=["insertOrderedList","insertUnorderedList"];n.key==="Enter"&&!i.some(function(a){return r.queryCommandState(a)})&&(r.execCommand("insertLineBreak"),n.preventDefault())},o.prototype.__onPaste=function(n){var t=this.em,e=t.RichTextEditor.getConfig().onPaste;if(e)return e({ev:n,rte:this,editor:t.getEditor()});var r=n.clipboardData,i=r.getData("text"),a=r.getData("text/html");if(i&&!a){n.preventDefault();var s=i.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,s)}},o.prototype.syncActions=function(){var n=this;this.getActions().forEach(function(t){if(n.actionbar&&(!t.state||t.state&&t.state(n,n.doc)>=0)){var e=t.event||"click",r=t.btn;r&&(r["on".concat(e)]=function(){t.result(n,t),n.updateActiveActions()})}})},o.prototype.addAction=function(n,t){t===void 0&&(t={});var e=t.sync,r=this.actionbarEl();if(r){var i=n.icon,a=n.attributes,s=a===void 0?{}:a,l=document.createElement("span");l.className=this.classes.button,n.btn=l;for(var c in s)l.setAttribute(c,s[c]);typeof i=="string"?l.innerHTML=i:l.appendChild(i),r.appendChild(l)}e&&(this.actions.push(n),this.syncActions())},o.prototype.getActions=function(){return this.actions},o.prototype.selection=function(){return this.doc.getSelection()},o.prototype.exec=function(n,t){this.doc.execCommand(n,!1,t)},o.prototype.actionbarEl=function(){return this.actionbar},o.prototype.insertHTML=function(n,t){var e=t===void 0?{}:t,r=e.select,i=this,a=i.em,s=i.doc,l=i.el,c=s.getSelection();if(c&&c.rangeCount){var u=(0,ie.getComponentModel)(l)||a.getSelected(),p=s.createElement("div"),g=c.getRangeAt(0);g.deleteContents(),(0,tt.isString)(n)?p.innerHTML=n:n&&p.appendChild(n),Array.prototype.slice.call(p.childNodes).forEach(function(h){g.insertNode(h)}),c.removeAllRanges(),c.addRange(g),l.focus(),r&&u&&(u.once("rte:disable",function(){var h=u.find("[".concat(Wg,"]"))[0];h&&(a.setSelected(h),h.removeAttributes(Wg))}),u.trigger("disable"))}},o}(),RF=NF,FF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gg=function(){return Gg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Gg.apply(this,arguments)},n0=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?i(u.value):r(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},r0=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],r=0}finally{e=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},VF=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},i0="".concat(Pu.refresh," frame:scroll ").concat(kn.I.update),zF="rte:enable",jF="rte:disable",HF="rte:custom",BF={enable:zF,disable:jF,custom:HF},UF=function(o){FF(n,o);function n(t){var e=o.call(this,t,"RichTextEditor",LF())||this;e.events=BF;var r=e.config,i=r.pStylePrefix;i&&(r.stylePrefix=i+r.stylePrefix),e.pfx=r.stylePrefix,e.actions=r.actions||[];var a=new _e.Kx;return e.model=a,a.on("change:currentView",e.__trgCustom,e),e.__dbdTrgCustom=(0,tt.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.onLoad=function(){if((0,ie.hasWin)()){var t=this.config,e=t.pStylePrefix,r=t.custom,i=(0,Me.a_)("div",{class:(0,Me.cx)("".concat(e,"rte-toolbar"),!r&&"".concat(e,"one-bg ").concat(e,"rte-toolbar-ui"))});this.toolbar=i,this.initRte((0,Me.a_)("div")),(0,Me.on)(i,"mousedown",function(a){return a.stopPropagation()})}},n.prototype.__trgCustom=function(){var t=this,e=t.model,r=t.em,i=t.events;r.trigger(i.custom,{enabled:!!e.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},n.prototype.destroy=function(){var t,e,r;(t=this.globalRte)===null||t===void 0||t.destroy(),(r=(e=this.customRte)===null||e===void 0?void 0:e.destroy)===null||r===void 0||r.call(e),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,Me.YZ)(this.toolbar)},n.prototype.postRender=function(t){var e=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),e.getToolsEl().appendChild(this.toolbar)},n.prototype.initRte=function(t){var e=this.globalRte,r=this,i=r.em,a=r.pfx,s=r.actionbar,l=r.config,c=this.actions||VF([],l.actions,!0),u={actionbar:"".concat(a,"actionbar"),button:"".concat(a,"action"),active:"".concat(a,"active"),inactive:"".concat(a,"inactive"),disabled:"".concat(a,"disabled")};return e?(e.em=i,e.setEl(t)):(e=new RF(i,t,{classes:u,actions:c,actionbar:s,actionbarContainer:this.toolbar,module:this}),this.globalRte=e),e.actionbar&&(this.actionbar=e.actionbar),e.actions&&(this.actions=e.actions),e},n.prototype.add=function(t,e){var r;e===void 0&&(e={}),e.name=t,(r=this.globalRte)===null||r===void 0||r.addAction(e,{sync:!0})},n.prototype.get=function(t){var e,r;return(e=this.globalRte)===null||e===void 0||e.getActions().forEach(function(i){i.name==t&&(r=i)}),r},n.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},n.prototype.remove=function(t){var e,r=this.getAll(),i=this.get(t);if(i){var a=i.btn,s=r.indexOf(i);(e=a?.parentNode)===null||e===void 0||e.removeChild(a),r.splice(s,1)}return i},n.prototype.run=function(t){var e=this.globalRte,r=(0,tt.isString)(t)?this.get(t):t;e&&r&&(r.result(e,r),e.updateActiveActions())},n.prototype.getToolbarEl=function(){return this.toolbar},n.prototype.updatePosition=function(){var t=this,e=t.em,r=t.toolbar,i="px",a=e.Canvas,s=r.style,l=a.getTargetToElementFixed(this.lastEl,r,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(c){var u=l[c];(0,ie.isDef)(u)&&(s[c]=(0,tt.isString)(u)?u:(u||0)+i)})},n.prototype.enable=function(t,e,r){return n0(this,void 0,void 0,function(){var i,a,s,l,c;return r0(this,function(u){switch(u.label){case 0:return this.lastEl=t.el,i=this,a=i.customRte,s=i.em,l=t.getChildrenContainer(),this.toolbar.style.display="",[4,a?a.enable(l,e,r):this.initRte(l).enable(r)];case 1:return c=u.sent(),s&&(setTimeout(this.updatePosition.bind(this),0),s.off(i0,this.updatePosition,this),s.on(i0,this.updatePosition,this),s.trigger("rte:enable",t,c)),this.model.set({currentView:t}),[2,c]}})})},n.prototype.getContent=function(t,e){return n0(this,void 0,void 0,function(){var r,i;return r0(this,function(a){switch(a.label){case 0:return r=this.customRte,i=t.getChildrenContainer(),r&&e&&(0,tt.isFunction)(r.getContent)?[4,r.getContent(i,e,{view:t})]:[3,2];case 1:return[2,a.sent()];case 2:return[2,i.innerHTML]}})})},n.prototype.hideToolbar=function(){var t=this.toolbar.style,e="-1000px";t.top=e,t.left=e,t.display="none"},n.prototype.disable=function(t,e){return n0(this,arguments,void 0,function(r,i,a){var s,l,c,u;return a===void 0&&(a={}),r0(this,function(p){switch(p.label){case 0:return s={},l=this.em,c=this.customRte,c?[4,c.disable(r.getChildrenContainer(),i,Gg(Gg({},a),{view:r}))]:[3,2];case 1:return u=p.sent(),u&&(s=u),[3,3];case 2:i&&i.disable(),p.label=3;case 3:return this.hideToolbar(),l&&(l.off(i0,this.updatePosition,this),!a.fromMove&&l.trigger("rte:disable",r,i)),this.model.unset("currentView"),[2,s]}})})},n}(Hi),WF=UF,GF=function(){return{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]}},KF=GF,qF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_i=function(){return _i=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},_i.apply(this,arguments)},$F=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},tO=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},rv=function(o){qF(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.getDefaults=function(){return(0,tt.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.em=e.em;var r=this.getId()||"",i=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(i||r).replace(/ /g,"-"));var a=this.get("property");!this.get("id")&&this.set("id",a),!i&&this.set("name",(0,ie.capitalize)(a).replace(/-/g," ")),this.on("change",this.__upTargets),n.callInit(this,t,e)},n.prototype.__getParentProp=function(){var t,e;return(e=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||e===void 0?void 0:e.parentProp},n.prototype.__upTargets=function(t,e){var r,i=this;e===void 0&&(e={});var a=this.em,s=a.Styles,l=this.getName(),c=e.__clear,u=c?"":this.__getFullValue(e),p=this.__getParentProp(),g=this.changedAttributes(),h=(0,tt.keys)(g).reduce(function(T,b){return T[b]=i.previous(b),T},{}),y=tO(tO([],(0,tt.keys)(this.__getClearProps()),!0),["__p"],!1),_=(0,tt.keys)(g),x=!e.__up&&!p&&(c||y.some(function(T){return _.indexOf(T)>=0})),P=this.get("onChange"),w={property:this,from:h,to:g,value:u,opts:e};s.__trgEv(s.events.propertyUpdate,w),P&&P(w),x&&this.__upTargetsStyle((r={},r[l]=u,r),e)},n.prototype.__upTargetsStyle=function(t,e){var r,i=(r=this.em)===null||r===void 0?void 0:r.get("StyleManager");i?.addStyleTargets(_i(_i({},t),{__p:!!e.avoidStore}),e)},n.prototype._up=function(t,e){e===void 0&&(e={}),e.noTarget&&(e.__up=!0);var r=e.partial,i=$F(e,["partial"]);return t.__p=!!(i.avoidStore||r),this.set(t,_i(_i({},i),{avoidStore:t.__p}))},n.prototype.up=function(t,e){e===void 0&&(e={}),this.set(t,_i(_i({},e),{__up:!0}))},n.prototype.init=function(){},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("property")},n.prototype.getLabel=function(t){var e;t===void 0&&(t={});var r=t.locale,i=r===void 0?!0:r,a=this.getId(),s=this.get("name")||this.get("label");return i&&((e=this.em)===null||e===void 0?void 0:e.t("styleManager.properties.".concat(a)))||s},n.prototype.getValue=function(t){t===void 0&&(t={});var e=t.noDefault,r=this.get("value");return!this.hasValue()&&!e?this.getDefaultValue():r},n.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,r=e&&this.getParentTarget(),i=this.get("value");return!(0,tt.isUndefined)(i)&&i!==""&&!r},n.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},n.prototype.getStyle=function(t){var e;t===void 0&&(t={});var r=this.getName(),i=t.camelCase?(0,ie.camelCase)(r):r;return e={},e[i]=this.__getFullValue(t),e},n.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,tt.isUndefined)(t)?this.get("defaults"):t)},n.prototype.upValue=function(t,e){e===void 0&&(e={});var r=t===null||t===""?this.__getClearProps():this.__parseValue(t,e);return this._up(r,e)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),_i(_i({},t),{__clear:!0})),this},n.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},n.prototype.getParent=function(){return this.__getParentProp()},n.prototype.isFull=function(){return!!this.get("full")},n.prototype.__parseValue=function(t,e){return this.parseValue(t,e)},n.prototype.__getClearProps=function(){return{value:"",important:!1}},n.prototype.setValue=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r={});var i=this.parseValue(t),a=!e;!a&&this.set({value:void 0},{avoidStore:a,silent:!0}),this.set(i,_i({avoidStore:a},r))},n.prototype.setValueFromInput=function(t,e,r){r===void 0&&(r={}),this.setValue(t,e,_i(_i({},r),{fromInput:1}))},n.prototype.parseValue=function(t,e){e===void 0&&(e={});var r={value:t},i="!important",a=this.get("functionName")||"";if((0,tt.isString)(t)&&t.indexOf(i)!==-1&&(r.value=t.replace(i,"").trim(),r.important=!0),!a&&!e.complete)return r;var s=[],l="".concat(r.value).trim(),c=l.indexOf("(")+1,u=a||l.substring(0,c-1);if(u&&(r.functionName=u),!a||l.indexOf("".concat(a,"("))===0){var p=l.lastIndexOf(")");s.push(c),p>=0&&s.push(p),r.value=String.prototype.substring.apply(l,s)}if(e.numeric){var g=parseFloat(r.value);r.unit=r.value.replace(g,""),r.value=g}return r},n.prototype.__getFullValue=function(t){var e=t===void 0?{}:t,r=e.withDefault;return!this.hasValue()&&r?this.getDefaultValue():this.getFullValue()},n.prototype.getFullValue=function(t,e){e===void 0&&(e={});var r=this.get("functionName"),i=this.getDefaultValue(),a=(0,tt.isUndefined)(t)?this.get("value"):t,s=this.hasValue();if(a&&i&&a===i)return i;if(r&&s){var l=r==="url"?"'".concat(a.replace(/'|"/g,""),"'"):a;a="".concat(r,"(").concat(l,")")}return s&&this.get("important")&&!e.skipImportant&&(a="".concat(a," !important")),a||""},n.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},n.prototype.getParentTarget=function(){return this.get("parentTarget")||null},n.prototype.__parseFn=function(t){t===void 0&&(t="");var e=t.indexOf("(")+1,r=t.lastIndexOf(")");return{name:t.substring(0,e-1).trim(),value:String.prototype.substring.apply(t,[e,r>=0?r:void 0]).trim()}},n.prototype.__checkVisibility=function(t){var e=t.target,r=t.component,i=t.sector,a=t.sectors,s=r||e;if(!s)return!1;var l=this.getId(),c=this.getName(),u=this.attributes,p=u.requires,g=u.requiresParent,h=u.toRequire,y=u.isVisible,_=s.get("unstylable"),x=s.get("stylable-require"),P=s.get("stylable");if((0,tt.isFunction)(y))return!!y({property:this,sector:i,target:e,component:r});if((0,tt.isArray)(P)&&(P=P.indexOf(c)>=0),(0,tt.isArray)(_)&&(P=_.indexOf(c)<0),h&&(P=!e||x&&(x.indexOf(l)>=0||x.indexOf(c)>=0)),a&&p){var w=(0,tt.keys)(p);a.forEach(function(E){E.getProperties().forEach(function(L){if((0,tt.includes)(w,L.id)){var R=p[L.id];P=P&&(0,tt.includes)(R,L.get("value"))}})})}if(g){var T=r&&r.parent(),b=T&&T.getEl();if(b){var k=(0,ie.hasWin)()?window.getComputedStyle(b):{};(0,tt.each)(g,function(E,L){P=P&&k[L]&&(0,tt.includes)(E,k[L])})}else P=!1}return!!P},n}(_e.Kx),tr=rv;rv.callParentInit=function(o,n,t,e){e===void 0&&(e={}),o.prototype.initialize.apply(n,[t,_i(_i({},e),{skipInit:1})])};rv.callInit=function(o,n,t){t===void 0&&(t={}),!t.skipInit&&o.init(n,t)};var YF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qc=function(){return qc=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},qc.apply(this,arguments)},eO=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},W2=function(o){return o==="integer"||o==="number"},XF=function(o){YF(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return qc(qc({},tr.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),tr.callParentInit(tr,this,t,e);var r=this.em,i=new ov(this.get("properties")||[],{em:r,parentProp:this});this.set("properties",i,{silent:!0}),this.listenTo(i,"change",this.__upProperties),tr.callInit(this,t,e)},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),n.prototype.getProperties=function(){return eO([],this.get("properties").models,!0)},n.prototype.getProperty=function(t){return this.properties.filter(function(e){return e.getId()===t||e.getName()===t})[0]},n.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},n.prototype.isDetached=function(){return!!this.get("detached")},n.prototype.getValues=function(t){var e=t===void 0?{}:t,r=e.byName;return this.getProperties().reduce(function(i,a){var s=r?a.getName():a.getId();return i[s]="".concat(a.__getFullValue()),i},{})},n.prototype.getSeparator=function(){return this.getSplitSeparator()},n.prototype.getJoin=function(){return this.__getJoin()},n.prototype.getStyleFromProps=function(t){var e;t===void 0&&(t={});var r=this.getName(),i=this.__getJoin(),a=this.get("toStyle"),s=this.getValues(),l={};if(a)l=a(s,{join:i,name:r,property:this});else if(s=this.getValues({byName:!0}),this.isDetached())l=s;else{var c=this.getProperties().map(function(u){return u.__getFullValue({withDefault:1})}).filter(Boolean).join(i);l=(e={},e[r]=c,e)}return this.isDetached()?l[r]="":(l[r]=l[r]||"",l=qc(qc({},l),this.getProperties().reduce(function(u,p){return u[p.getName()]="",u},{}))),t.camelCase?Object.keys(l).reduce(function(u,p){return u[(0,ie.camelCase)(p)]=l[p],u},{}):l},n.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},n.prototype.__upProperties=function(t,e){if(e===void 0&&(e={}),!(e.__up||e.__clearIn)){var r=this.__getParentProp();if(r)return r.__upProperties(this,e);this.__upTargetsStyleProps(e,t)}},n.prototype.__upTargetsStyleProps=function(t,e){var r;t===void 0&&(t={});var i=this.getStyleFromProps();if(this.isDetached()&&e){var a=e.getName();i=(r={},r[a]=i[a],r)}this.__upTargetsStyle(i,t)},n.prototype._up=function(t,e){return e===void 0&&(e={}),this.__setProperties(this.__getSplitValue(t.value),e),tr.prototype._up.call(this,t,e),this},n.prototype.getStyle=function(t){return this.getStyleFromProps(t)},n.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var e=this.getStyleFromProps()[this.getName()]||"";return g0(e)},n.prototype.__getJoin=function(){var t=this.get("join");return(0,tt.isString)(t)?t:this.get("separator")},n.prototype.__styleHasProps=function(t){t===void 0&&(t={});var e=this.getName(),r=this.getProperties(),i=r.map(function(s){return s.getName()}),a=eO([e],i,!0);return a.some(function(s){return!(0,tt.isUndefined)(t[s])&&t[s]!==""})},n.prototype.__splitValue=function(t,e){return g0(t).split(e).map(function(r){return r.trim()}).filter(Boolean)},n.prototype.__splitStyleName=function(t,e,r){var i=t[e];return this.__splitValue(i||"",r)},n.prototype.__getSplitValue=function(t,e){t===void 0&&(t="");var r=e===void 0?{}:e,i=r.byName,a=this.getProperties(),s=a.length===4&&a.every(function(u){return W2(u.getType())}),l=this.__splitValue(t,this.getSplitSeparator()),c={};return a.forEach(function(u,p){var g=l[p],h=(0,tt.isUndefined)(g)?"":g;if(s){var y=l.length;h=l[p]||l[p%y+(y!=1&&y%2?1:0)]||h}var _=i?u.getName():u.getId();c[_]=h||""}),c},n.prototype.__getPropsFromStyle=function(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!this.__styleHasProps(t))return null;var r=e.byName,i=this.getName(),a=this.getProperties(),s=this.getSplitSeparator(),l=this.get("fromStyle"),c=l?l(t,{property:this,name:i,separator:s}):{};if(!l){var u=t[i];c=this.__getSplitValue(u||"",{byName:r}),a.forEach(function(p){var g=t[p.getName()],h=r?p.getName():p.getId();!(0,tt.isUndefined)(g)&&g!==""&&(c[h]=g)})}return c},n.prototype.__setProperties=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.getProperties().forEach(function(i){var a=t[i.getId()];i.__getFullValue()!==a&&i.upValue(a,e)});var r=(0,tt.keys)(t).map(function(i){return t[i]}).join(" ");this.set("value",r,{silent:!0})},n.prototype.clear=function(){var t=this;return this.getProperties().map(function(e){return e.clear({__clearIn:!t.isDetached()})}),tr.prototype.clear.call(this),this},n.prototype.hasValue=function(t){return this.getProperties().some(function(e){return e.hasValue(t)})},n.prototype.getFullValue=function(){return this.__getFullValue()},n.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},n}(tr),Dc=XF,QF=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Li=function(){return Li=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Li.apply(this,arguments)},JF=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},ZF=/,(?![^\(]*\))/,tV=/\s(?![^(]*\))/,eV=function(o){QF(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Li(Li({},Dc.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Dc.callParentInit(Dc,this,t,e);var r=this.get("layers"),i=new tg(r,{prop:this});i.property=this,i.properties=this.get("properties"),this.set("layers",i,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(i,"add remove",this.__upLayers),Dc.callInit(this,t,e)},Object.defineProperty(n.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),n.prototype.getLayers=function(){return this.layers.models},n.prototype.hasLayers=function(){return this.getLayers().length>0},n.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers.at(t)||void 0},n.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},n.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},n.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e&&this.selectLayer(e)},n.prototype.moveLayer=function(t,e){e===void 0&&(e=0);var r=this.layers,i=t?t.getIndex():-1;i>=0&&(0,tt.isNumber)(e)&&e>=0&&e<r.length&&i!==e&&(this.removeLayer(t),r.add(t,{at:e}))},n.prototype.addLayer=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r={};this.getProperties().forEach(function(a){var s=a.getId(),l=t[s];r[s]=(0,tt.isUndefined)(l)?a.getDefaultValue():l});var i=this.layers.push({values:r},e);return i},n.prototype.removeLayer=function(t){return this.layers.remove(t)},n.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e?this.removeLayer(e):null},n.prototype.getLayerLabel=function(t){var e="";if(t){var r=this.get("layerLabel"),i=t.getValues(),a=t.getIndex();if(r)e=r(t,{index:a,values:i,property:this});else{var s=[];this.getProperties().map(function(l){s.push(i[l.getId()])}),e=s.filter(Boolean).join(" ")}}return e},n.prototype.getStyleFromLayer=function(t,e){var r;e===void 0&&(e={});var i=this.__getJoin(),a=this.__getJoinLayers(),s=this.get("toStyle"),l=this.getName(),c=t.getValues(),u;if(s)u=s(c,{join:i,joinLayers:a,name:l,layer:t,property:this});else{var p=this.getProperties().map(function(g){var h=g.getName(),y=c[g.getId()],_=(0,tt.isUndefined)(y)?g.getDefaultValue():y;if(e.number&&W2(g.getType())){var x=g.parseValue(y,e.number);_="".concat(x.value).concat(x.unit)}return{name:h,value:_}});u=this.isDetached()?p.reduce(function(g,h){return g[h.name]=h.value,g},{}):(r={},r[this.getName()]=p.map(function(g){return g.value}).join(i),r)}return e.camelCase?Object.keys(u).reduce(function(g,h){return g[(0,ie.camelCase)(h)]=u[h],g},{}):u},n.prototype.getStylePreview=function(t,e){e===void 0&&(e={});var r={},i=this.get("preview");return i&&(r=this.getStyleFromLayer(t,e)),r},n.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,tt.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},n.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},n.prototype.__upProperties=function(t,e){var r;e===void 0&&(e={});var i=this.getSelectedLayer();i&&(i.upValues((r={},r[t.getId()]=t.__getFullValue(),r)),!e.__up&&this.__upTargetsStyleProps(e))},n.prototype.__upLayers=function(t,e,r){this.__upTargetsStyleProps(r||e)},n.prototype.__upTargets=function(t,e){if(e===void 0&&(e={}),!e.__select)return tr.prototype.__upTargets.call(this,t,e)},n.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},n.prototype.__upTargetsStyle=function(t,e){return tr.prototype.__upTargetsStyle.call(this,t,e)},n.prototype.__upSelected=function(t,e){var r=t===void 0?{}:t,i=r.noEvent;e===void 0&&(e={});var a=this.em.Styles,s=this.getSelectedLayer(),l=s?.getValues();l&&this.getProperties().forEach(function(c){var u,p=(u=l[c.getId()])!==null&&u!==void 0?u:"";c.__getFullValue()!==p&&c.upValue(p,Li(Li({},e),{__up:!0}))}),!i&&a.__trgEv(a.events.layerSelect,{property:this})},n.prototype._up=function(t,e){e===void 0&&(e={});var r=t.__layers,i=r===void 0?[]:r,a=JF(t,["__layers"]);return!this.isDetached()&&this.__setLayers(i),this.__upSelected({noEvent:!0},e),tr.prototype._up.call(this,a,e),this},n.prototype.__setLayers=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var r=this.layers,i=t.map(function(a){return{values:a}});r.length===i.length?i.map(function(a,s){var l;return(l=r.at(s))===null||l===void 0?void 0:l.upValues(a.values)}):r.reset(i),this.set({isEmptyValue:!!e.isEmptyValue}),this.__upSelected({noEvent:!0})},n.prototype.__parseValue=function(t){var e=this,r=this.parseValue(t);return r.__layers=t.split(ZF).map(function(i){return i.trim()}).map(function(i){return e.__parseLayer(i)}).filter(Boolean),r},n.prototype.__parseLayer=function(t){var e=this.get("parseLayer"),r=t.split(tV),i=this.getProperties();return e?e({value:t,values:r}):i.reduce(function(a,s,l){var c=r[l];return a[s.getId()]=(0,tt.isUndefined)(c)?s.getDefaultValue():c,a},{})},n.prototype.__getLayersFromStyle=function(t){var e=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var r=this.getName(),i=this.getProperties(),a=this.getLayerSeparator(),s=this.attributes.fromStyle,l=s?s(t,{property:this,name:r,separatorLayers:a}):[];if(!s){var c=this.__splitStyleName(t,r,a).map(function(u){return u.split(e.getSplitSeparator())}).map(function(u){var p={};return i.forEach(function(g,h){var y=u[h];p[g.getId()]=(0,tt.isUndefined)(y)?g.getDefaultValue():y}),p});i.forEach(function(u){var p=u.getId();e.__splitStyleName(t,u.getName(),a).map(function(g){var h;return h={},h[p]=g||u.getDefaultValue(),h}).forEach(function(g,h){c[h]=c[h]?Li(Li({},c[h]),g):g})}),l=c}return(0,tt.isArray)(l)?l:[l]},n.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},n.prototype.getStyleFromLayers=function(t){var e=this;t===void 0&&(t={});var r={},i=this.getName(),a=this.getLayers(),s=this.getProperties(),l=a.map(function(u){return e.getStyleFromLayer(u,t)});if(l.forEach(function(u){(0,tt.keys)(u).map(function(p){r[p]||(r[p]=[]),r[p].push(u[p])})}),(0,tt.keys)(r).map(function(u){r[u]=r[u].join(e.__getJoinLayers())}),this.isDetached())r[i]="",!a.length&&s.map(function(u){r[u.getName()]=""});else{var c=s.reduce(function(u,p){return u[p.getName()]="",u},{});r[i]=r[i]||"",r=Li(Li({},r),c)}return Li(Li({},r),t.__clear?{}:this.getEmptyValueStyle())},n.prototype.isEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.getEmptyValueStyle({force:!0}),r=(0,tt.keys)(e);return!!r.length&&r.every(function(i){return e[i]===t[i]})},n.prototype.getEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.attributes.emptyValue;if(e&&(!this.hasLayers()||t.force)){var r=this.getName(),i=this.getProperties(),a=(0,tt.isString)(e)?e:e({property:this});if((0,tt.isString)(a)){var s={};return this.isDetached()?i.map(function(l){s[l.getName()]=a}):s[r]=a,s}else return a}else return{}},n.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),e=this.get("layerSeparator");return t||((0,tt.isString)(e)?e:t)},n.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return g0(t[this.getName()])},n.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,r=e&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!r},n.prototype.clear=function(t){return t===void 0&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(Li(Li({},t),{__clear:!0})),tr.prototype.clear.call(this),this},n.prototype.__canClearProp=function(){return!1},n.prototype.__getLayers=function(){return this.layers},n}(Dc),nV=eV,rV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kg=function(){return Kg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Kg.apply(this,arguments)},iV=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},oV=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},o0="data-clear-style",aV=function(o){rV(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this;(0,tt.bindAll)(e,"__change","__updateStyle");var r=t.config||{},i=r.em;e.config=r,e.em=i,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.__destroyFn=e.destroy?e.destroy.bind(e):function(){};var a=e.model;a.view=e,e.onValueChange=(0,tt.debounce)(e.onValueChange.bind(e),10),e.updateStatus=(0,tt.debounce)(e.updateStatus.bind(e),0),e.listenTo(a,"destroy remove",e.remove),e.listenTo(a,"change:visible",e.updateVisibility),e.listenTo(a,"change:name change:className change:full",e.render),e.listenTo(a,"change:value",e.onValueChange),e.listenTo(a,"change:parentTarget",e.updateStatus),e.listenTo(i,"change:device",e.onValueChange);var s=e.init&&e.init.bind(e);return s&&s(),e}return n.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat(o0,"]")]="clear",t},n.prototype.template=function(t){var e=this,r=e.pfx,i=e.ppfx;return`
      <div class="`.concat(r,`label" data-sm-label></div>
      <div class="`).concat(i,`fields" data-sm-fields></div>
    `)},n.prototype.templateLabel=function(t){var e=this,r=e.pfx,i=e.em,a=t.parent,s=t.attributes,l=s.icon,c=l===void 0?"":l,u=s.info,p=u===void 0?"":u,g=i?.getConfig().icons,h=g?.close||"";return`
      <span class="`.concat(r,"icon ").concat(c,'" title="').concat(p,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(a?"":'<div class="'.concat(r,'clear" style="display: none" ').concat(o0,">").concat(h,"</div>"),`
    `)},n.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},n.prototype.remove=function(){var t=this;return _e.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(e){return t[e]=null}),this.__destroyFn(this._getClbOpts()),this},n.prototype.updateStatus=function(){var t,e=this,r=e.model,i=e.pfx,a=e.ppfx,s=e.config,l="".concat(a,"four-color"),c="".concat(a,"color-warn"),u=this.$el.children(".".concat(i,"label")),p=this.getClearEl(),g=p?p.style:{};u.removeClass("".concat(l," ").concat(c)),g.display="none",r.hasValue({noParent:!0})&&s.highlightChanged?(u.addClass(l),s.clearProperties&&(g.display="")):r.hasValue()&&s.highlightComputed&&u.addClass(c),(t=this.parent)===null||t===void 0||t.updateStatus()},n.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},n.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(o0,"]"))),this.clearEl},n.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},n.prototype.onValueChange=function(t,e,r){r===void 0&&(r={}),this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},n.prototype.setValue=function(t){var e=this.model,r=(0,tt.isUndefined)(t)||t===""?e.getDefaultValue():t;if(this.update)return this.__update(r);this.__setValueInput(r)},n.prototype.__setValueInput=function(t){var e=this.getInputEl();e&&(e.value=t)},n.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},n.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},n.prototype.__update=function(t){var e=this.update&&this.update.bind(this);e&&e(Kg(Kg({},this._getClbOpts()),{value:t}))},n.prototype.__change=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.emit&&this.emit.bind(this);r&&r.apply(void 0,oV([this._getClbOpts()],t,!1))},n.prototype.__updateStyle=function(t,e){e===void 0&&(e={});var r=e.complete,i=e.partial,a=iV(e,["complete","partial"]),s=this.model,l=r!==!1&&i!==!0;(0,ie.isObject)(t)?s.__upTargetsStyle(t,{avoidStore:!l}):s.upValue(t,{partial:!l})},n.prototype._getClbOpts=function(){var t=this,e=t.model,r=t.el,i=t.createdEl;return{el:r,createdEl:i,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}},n.prototype.render=function(){this.clearCached();var t=this,e=t.pfx,r=t.model,i=t.el,a=t.$el,s=r.getName(),l=r.getType(),c=r.get("className")||"",u="".concat(e,"property"),p=l==="number"?"".concat(e).concat(l," ").concat(e,"integer"):"".concat(e).concat(l);this.createdEl&&this.__destroyFn(this._getClbOpts()),a.empty().append(this.template(r)),a.find("[data-sm-label]").append(this.templateLabel(r));var g=this.create&&this.create.bind(this);this.createdEl=g&&g(this._getClbOpts()),a.find("[data-sm-fields]").append(this.createdEl||this.templateInput(r)),i.className="".concat(u," ").concat(p," ").concat(u,"__").concat(s," ").concat(c).trim(),i.className+=r.isFull()?" ".concat(u,"--full"):"";var h=this.onRender&&this.onRender.bind(this);return h&&h(),this.setValue(r.getValue()),this},n.prototype.onRender=function(){},n}(_e.Ss),Fa=aV,sV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lV=function(o){sV(n,o);function n(t){var e=o.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.properties=[],e.parent=t.parent;var r=e.collection;return e.listenTo(r,"add",e.addTo),e.listenTo(r,"reset",e.render),e}return n.prototype.addTo=function(t,e,r){this.add(t,null,r)},n.prototype.add=function(t,e,r){r===void 0&&(r={});var i=this,a=i.parent,s=i.config,l=e||this.el,c=new t.typeView({model:t,config:s});a&&(c.parent=a),c.render();var u=c.el;this.properties.push(c),(0,Me.Sc)(l,u,r.at)},n.prototype.remove=function(){return _e.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},n.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},n.prototype.render=function(){var t=this,e=this,r=e.$el,i=e.pfx;this.clearItems();var a=document.createDocumentFragment();return this.collection.forEach(function(s){return t.add(s,a)}),r.empty(),r.append(a),r.attr("class","".concat(i,"properties")),this},n}(_e.Ss),iv=lV,cV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qg=function(){return qg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},qg.apply(this,arguments)},dV=function(o){cV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},n.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),Fa.prototype.remove.apply(this,arguments),this},n.prototype.onValueChange=function(){},n.prototype.onRender=function(){var t=this.pfx,e=this.model,r=e.get("properties");if(r.length&&!this.props){var i=e.isDetached(),a=new iv({config:qg(qg({},this.config),{highlightComputed:i,highlightChanged:i}),collection:r,parent:this});a.render(),this.$el.find("#".concat(t,"input-holder")).append(a.el),this.props=a}},n.prototype.clearCached=function(){Fa.prototype.clearCached.apply(this,arguments),delete this.props},n}(Fa),Ou=dV,uV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pV=function(o){uV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},n.prototype.template=function(){var t=this,e=t.pfx,r=t.ppfx,i=t.em,a=i?.getConfig().icons,s=a?.close||"",l=a?.move||"";return`
      <div class="`.concat(e,`label-wrp">
        <div id="`).concat(e,'move" class="').concat(r,`no-touch-actions" data-move-layer>
          `).concat(l,`
        </div>
        <div id="`).concat(e,`label" data-label></div>
        <div id="`).concat(e,'preview-box" class="').concat(e,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(e,'preview" class="').concat(e,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(e,'close-layer" class="').concat(e,`btn-close" data-close-layer>
          `).concat(s,`
        </div>
      </div>
      <div id="`).concat(e,`inputs" data-properties></div>
    `)},n.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,r=t.config||{};this.em=r.em,this.config=r,this.sorter=t.sorter,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.propertyView=t.propertyView;var i=this.propertyView.model;this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:values",this.updateLabel),this.listenTo(i,"change:selectedLayer",this.updateVisibility),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},n.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort([{element:this.el}])},n.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},n.prototype.select=function(){this.model.select()},n.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},n.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},n.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},n.prototype.updateLabel=function(){var t=this.model,e=t.getLabel();if(this.getLabelEl().innerHTML=e,t.hasPreview()){var r=this.getPreviewEl(),i=t.getStylePreview({number:{min:-3,max:3}}),a=(0,tt.keys)(i).map(function(s){return"".concat(s,":").concat(i[s])}).join(";");r.setAttribute("style",a)}},n.prototype.updateVisibility=function(){var t,e=this,r=e.pfx,i=e.model,a=e.propertyView,s=this.getPropertiesWrapper(),l=i.isSelected();s.style.display=l?"":"none",this.$el[l?"addClass":"removeClass"]("".concat(r,"active")),l&&s.appendChild((t=a.props)===null||t===void 0?void 0:t.el)},n.prototype.render=function(){var t=this,e=t.el,r=t.pfx,i=t.model;return e.innerHTML=this.template(),e.className="".concat(r,"layer"),i.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},n}(_e.Ss),fV=pV,gV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hV=function(o){gV(n,o);function n(t){var e=o.call(this,t)||this,r=e.collection,i=t.config||{},a=i.em,s=i.stylePrefix||"",l=i.pStylePrefix||"";e.config=i,e.pfx=s,e.ppfx=l,e.propertyView=t.propertyView,e.className="".concat(s,"layers ").concat(l,"field"),e.listenTo(r,"add",e.addTo),e.listenTo(r,"reset",e.reset),e.items=[];var c=e.createPlaceholder(i.pStylePrefix);e.$el.append(c);var u=a?.Utils;return e.sorter=u?new u.StyleManagerSorter({em:a,containerContext:{container:e.el,containerSel:".".concat(s,"layers"),itemSel:".".concat(s,"layer"),pfx:i.pStylePrefix,document,placeholderElement:c},dragBehavior:{dragDirection:Nl.A.Vertical,nested:!1}}):void 0,r.view=e,e.$el.data("model",r),e.$el.data("collection",r),e}return n.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},n.prototype.addToCollection=function(t,e,r){var i=e||null,a=this,s=a.propertyView,l=a.config,c=a.sorter,u=a.$el,p=new fV({model:t,config:l,sorter:c,propertyView:s}),g=p.render().el;if(this.items.push(p),i)i.appendChild(g);else if(typeof r<"u"){var h="before";u.children().length===r&&(r--,h="after"),r<0?u.append(g):u.children().eq(r)[h](g)}else u.append(g);return g},n.prototype.reset=function(t,e){this.clearItems(),this.render()},n.prototype.remove=function(){return this.clearItems(),_e.Ss.prototype.remove.apply(this,arguments),this},n.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},n.prototype.render=function(){var t=this,e=this.$el,r=document.createDocumentFragment();return e.empty(),this.collection.forEach(function(i){return t.addToCollection(i,r)}),e.append(r),e.attr("class",this.className),this},n.prototype.createPlaceholder=function(t){var e=document.createElement("div"),r=document.createElement("div");return this.el.parentNode,e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",r.className=t+"placeholder-int",e.appendChild(r),e},n}(_e.Ss),mV=hV,vV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$c=function(){return $c=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},$c.apply(this,arguments)},_V=function(o){vV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return $c($c({},Ou.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},n.prototype.templateInput=function(){var t=this,e=t.pfx,r=t.em,i=r?.getConfig().icons,a=i?.plus||"+";return`
      <div class="`.concat(e,"field ").concat(e,`stack">
        <button type="button" id="`).concat(e,`add" data-add-layer>
          `).concat(a,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},n.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},n.prototype.addLayer=function(){this.model.addLayer({},{at:0})},n.prototype.setValue=function(){},n.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),Ou.prototype.remove.apply(this,arguments),this},n.prototype.clearCached=function(){Ou.prototype.clearCached.apply(this,arguments),delete this.layersView},n.prototype.onRender=function(){var t=this,e=t.model,r=t.el,i=t.config,a=e.get("properties");if(a.length&&!this.props){var s=new iv({config:$c($c({},i),{highlightComputed:!1,highlightChanged:!1}),collection:a,parent:this});s.render();var l=new mV({collection:e.layers,config:i,propertyView:this});l.render();var c=r.querySelector("[data-layers-wrapper]");c.appendChild(l.el),this.props=s,this.layersView=l}},n}(Ou),yV=_V,bV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$g=function(){return $g=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},$g.apply(this,arguments)},CV=function(o){bV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return $g($g({},Fa.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},n.prototype.templateInput=function(){var t,e=this,r=e.pfx,i=e.em,a=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,s=a?.close;return`
      <div class="`.concat(r,"field ").concat(r,`file">
        <div id='`).concat(r,`input-holder'>
          <div class="`).concat(r,`btn-c">
            <button class="`).concat(r,'btn" id="').concat(r,`images" type="button" data-open-assets>
              `).concat(i.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(r,'preview-box" class="').concat(r,`preview-file" data-preview-box>
          <div id="`).concat(r,'preview-file" class="').concat(r,`preview-file-cnt" data-preview></div>
          <div id="`).concat(r,'close" class="').concat(r,'preview-file-close" data-clear-asset>').concat(s,`</div>
        </div>
      </div>
    `)},n.prototype.__setValueInput=function(t){var e=this,r=e.model,i=e.el,a=r.getDefaultValue(),s=i.querySelector("[data-preview-box]"),l=i.querySelector("[data-preview]");s.style.display=!t||t===a?"none":"",l.style.backgroundImage=t||r.getDefaultValue()},n.prototype.openAssetManager=function(){var t=this,e,r=(e=this.em)===null||e===void 0?void 0:e.Assets;r?.open({select:function(i,a){var s=(0,tt.isString)(i)?i:i.get("src");t.model.upValue(s,{partial:!a}),a&&r.close()},types:["image"],accept:"image/*"})},n}(Fa),xV=CV,OV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PV=function(o){OV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(t){return""},n.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},n.prototype.setValue=function(t){},n.prototype.onRender=function(){var t=this,e=t.ppfx,r=t.model,i=t.el;if(!this.inputInst){var a=r.input;a.ppfx=e,a.render();var s=i.querySelector(".".concat(e,"fields"));s.appendChild(a.el),this.input=a.inputEl.get(0),this.inputInst=a}},n.prototype.clearCached=function(){Fa.prototype.clearCached.apply(this,arguments),this.inputInst=null},n}(Fa),Na=PV,MV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wV=function(o){MV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.setValue=function(t){var e;(e=this.inputInst)===null||e===void 0||e.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},n.prototype.remove=function(){var t=this;Na.prototype.remove.apply(this,arguments);var e=this.inputInst;return e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(r){return t[r]=null}),this},n.prototype.__handleChange=function(t,e){this.model.upValue(t,{partial:e})},n.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this,r=e.ppfx,i=e.model,a=e.em,s=e.el,l=new u2({target:a,model:i,ppfx:r,onChange:this.__handleChange}),c=l.render();s.querySelector(".".concat(r,"fields")).appendChild(c.el),this.input=(t=c.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=c}},n}(Na),SV=wV,TV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yg=function(){return Yg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Yg.apply(this,arguments)},nO=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},EV=function(o){TV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Yg(Yg({},tr.getDefaults()),{options:[],full:0})},n.prototype.getOptions=function(){var t=this.attributes,e=t.options,r=t.list;return(e&&e.length?e:r)||[]},n.prototype.getOption=function(t){var e=this,r=(0,ie.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(i){return e.getOptionId(i)===r})[0]||null},n.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},n.prototype.addOption=function(t){if(t){var e=this.getOptions();this.setOptions(nO(nO([],e,!0),[t],!1))}return this},n.prototype.getOptionId=function(t){return(0,ie.isDef)(t.id)?t.id:t.value},n.prototype.getOptionLabel=function(t,e){var r;e===void 0&&(e={});var i=e.locale,a=i===void 0?!0:i,s=((0,tt.isString)(t)?this.getOption(t):t)||{},l=this.getOptionId(s),c=s.label||s.name||l,u=e.property||this.getId();return a&&((r=this.em)===null||r===void 0?void 0:r.t("styleManager.options.".concat(u,".").concat(l)))||c},n.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];tr.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},n.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},n}(tr),F0=EV,kV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),AV=function(o){kV(n,o);function n(t){var e=o.call(this,t)||this;return e.listenTo(e.model,"change:options",e.updateOptions),e}return n.prototype.templateInput=function(){var t=this,e=t.pfx,r=t.ppfx;return`
      <div class="`.concat(r,"field ").concat(r,`select">
        <span id="`).concat(e,`input-holder"></span>
        <div class="`).concat(r,`sel-arrow">
          <div class="`).concat(r,`d-s-arrow"></div>
        </div>
      </div>
    `)},n.prototype.updateOptions=function(){delete this.input,this.onRender()},n.prototype.onRender=function(){var t=this.pfx,e=this.model,r=e.getOptions();if(!this.input){var i=[];r.forEach(function(s){var l=e.getOptionId(s),c=e.getOptionLabel(l),u=s.style?s.style.replace(/"/g,"&quot;"):"",p=u?'style="'.concat(u,'"'):"",g=l.replace(/"/g,"&quot;");i.push('<option value="'.concat(g,'" ').concat(p,">").concat(c,"</option>"))});var a=this.el.querySelector("#".concat(t,"input-holder"));a.innerHTML="<select>".concat(i.join(""),"</select>"),this.input=a.firstChild}},n.prototype.__setValueInput=function(t){var e=this.model,r=this.getInputEl(),i=e.getOptions()[0],a=i?e.getOptionId(i):"";r&&(r.value=t||a)},n}(Fa),G2=AV,IV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xg=function(){return Xg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Xg.apply(this,arguments)},DV=function(o){IV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Xg(Xg({},F0.getDefaults()),{full:1})},n}(F0),LV=DV,NV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),RV=function(o){NV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},n.prototype.onRender=function(){var t=this,e=t.pfx,r=t.ppfx,i=this.model,a="".concat(r,"radio-item-label"),s=i.getName(),l=i.getOptions(),c="".concat(e,"radio ").concat(e,"radio-").concat(s),u=i.cid;if(!this.input){var p=[];l.forEach(function(h){var y=h.className?"".concat(h.className," ").concat(e,"icon ").concat(a):"",_=i.getOptionId(h),x="".concat(s,"-").concat(_,"-").concat(u),P=y?"":i.getOptionLabel(_),w=h.title?'title="'.concat(h.title,'"'):"",T=i.getValue()===_?"checked":"";p.push(`
          <div class="`.concat(r,`radio-item">
            <input type="radio" class="`).concat(c,'" id="').concat(x,'" name="').concat(s,"-").concat(u,'" value="').concat(_,'" ').concat(T,`/>
            <label class="`).concat(y||a,'" ').concat(w,' for="').concat(x,'">').concat(P,`</label>
          </div>
        `))});var g=this.el.querySelector(".".concat(r,"field"));g.innerHTML='<div class="'.concat(r,'radio-items">').concat(p.join(""),"</div>"),this.input=g.firstChild}},n.prototype.__setValueInput=function(t){var e,r=this.model,i=t||r.getDefaultValue(),a=(e=this.getInputEl())===null||e===void 0?void 0:e.querySelector('[value="'.concat(i,'"]'));a&&(a.checked=!0)},n}(G2),FV=RV,VV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tl=function(){return Tl=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Tl.apply(this,arguments)},zV=function(o){VV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Tl(Tl({},tr.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},n.prototype.getUnits=function(){return this.get("units")||[]},n.prototype.getUnit=function(){return this.get("unit")},n.prototype.getMin=function(){return this.get("min")},n.prototype.getMax=function(){return this.get("max")},n.prototype.getStep=function(){return this.get("step")},n.prototype.upUnit=function(t,e){return e===void 0&&(e={}),this._up({unit:t},e)},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),tr.callParentInit(tr,this,t,e);var r=this.get("unit"),i=this.getUnits();this.input=(0,ie.hasWin)()?new f2({model:this}):void 0,i.length&&!r&&this.set("unit",i[0],{silent:!0}),tr.callInit(this,t,e)},n.prototype.__getClearProps=function(){return Tl(Tl({},tr.prototype.__getClearProps()),{unit:""})},n.prototype.parseValue=function(t,e){e===void 0&&(e={});var r=tr.prototype.parseValue.apply(this,arguments),i=this.input.validateInputValue(r.value,Tl({deepCheck:1},e)),a=i.value,s=i.unit;return r.value=a,r.unit=s,r},n.prototype.getFullValue=function(){var t=this.get("value"),e=this.get("unit"),r=(0,tt.isUndefined)(t)?"":"".concat(t),i=!(0,tt.isUndefined)(e)&&r?e:"",a="".concat(r).concat(i);return tr.prototype.getFullValue.apply(this,[a])},n}(tr),Qg=zV,jV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jg=function(){return Jg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Jg.apply(this,arguments)},HV=function(o){jV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.defaults=function(){return Jg(Jg({},Qg.getDefaults()),{showInput:1})},n}(Qg),BV=HV,UV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zg=function(){return Zg=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Zg.apply(this,arguments)},WV=function(o){UV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.events=function(){return Zg(Zg({},Na.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},n.prototype.templateInput=function(t){var e=this.ppfx;return`
      <div class="`.concat(e,"field ").concat(e,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},n.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},n.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},n.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},n.prototype.setValue=function(t){var e=this.model,r=e.parseValue(t);this.getSliderEl().value=t===""?e.getDefaultValue():parseFloat(r.value),Na.prototype.setValue.apply(this,arguments)},n.prototype.onRender=function(){Na.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},n.prototype.clearCached=function(){Na.prototype.clearCached.apply(this,arguments),delete this.slider},n}(Na),GV=WV,KV=_e.pM.extend(P2),qV=KV.extend({extendViewApi:1,init:function(){var o=this,n=o.opts,t=o.em,e=n.module||t?.get("StyleManager");e&&(e.__listenAdd(this,e.events.propertyAdd),e.__listenRemove(this,e.events.propertyRemove))},types:[{id:"stack",model:nV,view:yV,isType:function(o){if(o&&o.type=="stack")return o}},{id:"composite",model:Dc,view:Ou,isType:function(o){if(o&&o.type=="composite")return o}},{id:"file",model:tr,view:xV,isType:function(o){if(o&&o.type=="file")return o}},{id:"color",model:tr,view:SV,isType:function(o){if(o&&o.type=="color")return o}},{id:"select",model:F0,view:G2,isType:function(o){if(o&&o.type=="select")return o}},{id:"radio",model:LV,view:FV,isType:function(o){if(o&&o.type=="radio")return o}},{id:"slider",model:BV,view:GV,isType:function(o){if(o&&o.type=="slider")return o}},{id:"integer",model:Qg,view:Na,isType:function(o){if(o&&o.type=="integer")return o}},{id:"number",model:Qg,view:Na,isType:function(o){if(o&&o.type=="number")return o}},{id:"base",model:tr,view:Fa,isType:function(o){return o.type="base",o}}]}),ov=qV,$V=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),th=function(){return th=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},th.apply(this,arguments)},YV=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},XV=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},QV=function(o){$V(n,o);function n(t,e){e===void 0&&(e={});var r=o.call(this,t)||this,i=e.em;r.em=i;var a=t||{},s=r.buildProperties(a.buildProps),l=r.get("name")||"",c=[];!r.get("id")&&r.set("id",l.replace(/ /g,"_").toLowerCase()),s?c=r.extendProperties(s):c=r.get("properties").map(function(p){return(0,tt.isString)(p)?r.buildProperties(p)[0]:p}).filter(Boolean),c=c.map(function(p){return r.checkExtend(p)});var u=new ov(c,{em:i});return u.sector=r,r.set("properties",u),r}return n.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.get("id")},n.prototype.getName=function(){var t,e=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(e)))||this.get("name")},n.prototype.setName=function(t){return this.set("name",t)},n.prototype.isOpen=function(){return!!this.get("open")},n.prototype.setOpen=function(t){return this.set("open",t)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.getProperties=function(t){t===void 0&&(t={});var e=this.properties,r=e.models?XV([],e.models,!0):e;return r.filter(function(i){var a=!0;if(t.withValue&&(a=i.hasValue({noParent:!0})),t.withParentValue){var s=i.hasValue({noParent:!0});a=!s&&i.hasValue()}return a})},n.prototype.getProperty=function(t){return this.getProperties().filter(function(e){return e.get("id")===t})[0]||void 0},n.prototype.addProperty=function(t,e){return this.properties.add(this.checkExtend(t),e)},n.prototype.extendProperties=function(t,e,r){r===void 0&&(r=!1);for(var i=t.length,a=e||this.get("properties"),s=this.get("extendBuilded"),l=[],c=0,u=a.length;c<u;c++){for(var p=a[c],g=0,h=0;h<i;h++){var y=t[h];if(p.property==y.property||p.id==y.property){var _=p.properties;_&&_.length&&(p.properties=this.extendProperties(y.properties||[],_,1)),t[h]=s?(0,tt.extend)(y,p):p,l[h]=t[h],g=1;continue}}g||(t.push(p),l.push(p))}return r?l.filter(function(x){return x}):t},n.prototype.checkExtend=function(t){var e=((0,tt.isString)(t)?{extend:t}:t)||{},r=e.extend,i=YV(e,["extend"]);return r?th(th({},this.buildProperties([r])[0]||{}),i):t},n.prototype.buildProperties=function(t){var e,r=t||[];if(!r.length)return[];var i=(e=this.em)===null||e===void 0?void 0:e.Styles.builtIn;return i?.build(r)},n}(_e.Kx),K2=QV,JV=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eh=function(){return eh=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},eh.apply(this,arguments)},ZV=function(o){JV(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.initialize=function(t,e){e===void 0&&(e={});var r=e.module,i=e.em;this.em=i,this.module=r,this.listenTo(this,"reset",this.onReset)},n.prototype.model=function(t,e){e===void 0&&(e={});var r=e.collection.em;return new K2(t,eh(eh({},e),{em:r}))},n.prototype.onReset=function(t,e){e===void 0&&(e={});var r=e.previousModels||[];r.forEach(function(i){return i.get("properties").reset()})},n}(_e.pM),tz=ZV,Is=function(){return Is=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Is.apply(this,arguments)},ez=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},xl=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},zr=function(o){return o.map(function(n){return{id:n}})},nz=function(){function o(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var n=", sans-serif",t=["flex-start","flex-end","center"],e=xl(xl([],t,!0),["baseline","stretch"],!1);this.optsBgSize=zr(["auto","cover","contain"]),this.optsBgAttach=zr(["scroll","fixed","local"]),this.optsBgRepeat=zr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=zr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=zr(["visible","hidden","scroll","auto"]),this.optsDir=zr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=zr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=zr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=zr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=zr(["none","left","right"]),this.optsPos=zr(["static","relative","absolute","fixed"]),this.optsTextAlign=zr(["left","center","right","justify"]),this.optsFlexAlign=zr(e),this.optsJustCont=zr(xl(xl([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=zr(xl(xl([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=zr(xl(["auto"],e,!0)),this.optsTransitProp=zr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=zr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=zr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+n,"Arial Black, Gadget"+n,"Brush Script MT"+n,"Comic Sans MS, cursive"+n,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+n,"Impact, Charcoal"+n,"Lucida Sans Unicode, Lucida Grande"+n,"Tahoma, Geneva"+n,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+n,"Verdana, Geneva"+n].map(function(r){return{id:r,label:r.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return o.prototype.__sub=function(n){var t=this;return function(){return n.map(function(e){if((0,tt.isString)(e))return t.get(e);var r=e.extend,i=ez(e,["extend"]);return Is(Is({},t.get(r)),i)})}},o.prototype.init=function(){var n=this,t=this,e=t.fixedValues,r=t.requireFlex,i=t.typeNumber;this.props={};var a=[["text-shadow-h",{type:i,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:e},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:r},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:i,default:"0",requiresParent:r}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:r},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:r},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(s,l){var c=l.values,u=c["box-shadow-h"],p=c["box-shadow-v"],g=c["box-shadow-blur"],h=c["box-shadow-spread"];return"".concat(u," ").concat(p," ").concat(g," ").concat(h)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(s,l){var c=l.values,u=c["text-shadow-h"],p=c["text-shadow-v"],g=c["text-shadow-blur"];return"".concat(u," ").concat(p," ").concat(g)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(s,l){var c=l.values,u=c["background-repeat-sub"]||"",p=c["background-position-sub"]||"",g=c["background-attachment-sub"]||"",h=c["background-size-sub"]||"";return[u,p,g,h].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(s,l){var c=l.property,u=l.name,p=s[u]||"",g=c.getLayerSeparator();return p?p.split(g).map(function(h){var y=c.__parseFn(h),_=y.name,x=y.value;return{"transform-type":_,"transform-value":x}}):[]},toStyle:function(s,l){var c,u=l.name;return c={},c[u]="".concat(s["transform-type"],"(").concat(s["transform-value"],")"),c},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(s){var l=s.property,c=s.to;if(c.value){var u=l.getOption(),p=Is({},u.propValue||{}),g=l.getParent().getProperty("transform-value"),h=g.getUnit();(!h||p?.units.indexOf(h)<0)&&(p.unit=p?.units[0]||""),g.up(p)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return a.forEach(function(s){var l=s[0],c=s[1],u=s[2];n.add(l,c||{},{from:u})}),this},o.prototype.add=function(n,t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=e.from||"",i=this.props[r||n]||{},a=Is(Is(Is({},i),{property:n}),t);return a.properties&&(0,tt.isFunction)(a.properties)&&(a.properties=a.properties()),this.props[n]=a,a},o.prototype.get=function(n){return this.props[n]},o.prototype.build=function(n){var t=this,e=[],r=(0,tt.isString)(n)?[n]:n;return r.forEach(function(i){e.push(t.get(i)||{property:i})}),e},o}(),rz=nz,iz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oz=function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},az=function(o){iz(n,o);function n(t){var e=o.call(this,t)||this,r=t.config||{},i=e.model,a=r.em;return e.config=r,e.em=a,e.pfx=r.stylePrefix||"",e.listenTo(i,"destroy remove",e.remove),e.listenTo(i,"change:open",e.updateOpen),e.listenTo(i,"change:visible",e.updateVisibility),e}return n.prototype.template=function(t){var e,r=t.pfx,i=t.label,a=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,s=a?.caret||"",l="".concat(r,"sector-");return Vi(rO||(rO=oz([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),l,l,s,l,i)},n.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},n.prototype.updateOpen=function(){var t=this,e=t.$el,r=t.model,i=t.pfx,a=r.isOpen();e[a?"addClass":"removeClass"]("".concat(i,"open")),this.getPropertiesEl().style.display=a?"":"none"},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.getPropertiesEl=function(){var t=this,e=t.$el,r=t.pfx;return e.find(".".concat(r,"properties")).get(0)},n.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},n.prototype.renderProperties=function(){var t=this,e=t.model,r=t.config,i=e.get("properties");if(i){var a=new iv({collection:i,config:r});this.$el.append(a.render().el)}},n.prototype.render=function(){var t=this,e=t.pfx,r=t.model,i=t.$el,a=r.getId(),s=r.getName();return i.html(this.template({pfx:e,label:s})),this.renderProperties(),i.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(a," no-select")),this.updateOpen(),this},n}(_e.Ss),sz=az,rO,lz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cz=function(o){lz(n,o);function n(t){t===void 0&&(t={});var e=o.call(this,t)||this,r=t.module,i=t.config,a=e.collection;return e.pfx=i?.stylePrefix||"",e.ppfx=i?.pStylePrefix||"",e.config=i,e.module=r,e.listenTo(a,"add",e.addTo),e.listenTo(a,"reset",e.render),e}return n.prototype.remove=function(){var t=this;return _e.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(e){return t[e]={}}),this},n.prototype.addTo=function(t,e,r){r===void 0&&(r={}),this.addToCollection(t,null,r)},n.prototype.addToCollection=function(t,e,r){r===void 0&&(r={});var i=this,a=i.config,s=i.el,l=e||s,c=new sz({model:t,config:a}).render().el;return(0,Me.Sc)(l,c,r.at),c},n.prototype.render=function(){var t=this,e=this,r=e.$el,i=e.pfx,a=e.ppfx;r.empty();var s=document.createDocumentFragment();return this.collection.each(function(l){return t.addToCollection(l,s)}),r.append(s),r.addClass("".concat(i,"sectors ").concat(a,"one-bg ").concat(a,"two-color")),this},n}(_e.Ss),dz=cz,uz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ds=function(){return Ds=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Ds.apply(this,arguments)},iO=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},q2="style",Bu="".concat(q2,":"),av="".concat(Bu,"sector"),pz="".concat(av,":add"),fz="".concat(av,":remove"),gz="".concat(av,":update"),sv="".concat(Bu,"property"),hz="".concat(sv,":add"),mz="".concat(sv,":remove"),vz="".concat(sv,":update"),$2="".concat(Bu,"layer:select"),V0="".concat(Bu,"target"),_z="".concat(Bu,"custom"),oO=function(o){return o||o===0},yz={all:q2,sectorAdd:pz,sectorRemove:fz,sectorUpdate:gz,propertyAdd:hz,propertyRemove:mz,propertyUpdate:vz,layerSelect:$2,target:V0,custom:_z},bz=function(o){uz(n,o);function n(t){var e=o.call(this,t,"StyleManager",new tz([],{em:t}),yz,KF())||this;e.Sector=K2,e.storageKey="",(0,tt.bindAll)(e,"__clearStateTarget");var r=e.config,i=r.pStylePrefix;i&&(r.stylePrefix=i+r.stylePrefix),e.builtIn=new rz,e.properties=new ov([],{em:t,module:e}),e.sectors=e.all;var a=new _e.Kx({targets:[]});e.model=a;var s=kn.I.update,l="component:toggled ".concat(s,":classes change:state change:device frame:resized selector:type");e.upAll=(0,tt.debounce)(function(){return e.__upSel()},0),a.listenTo(t,l,e.upAll),a.listenTo(t,"component:toggled",e.__clearStateTarget);var c=(0,tt.debounce)(function(){e.__upProps(),e.__trgCustom()},0);a.listenTo(t,"styleable:change undo redo",c);var u=(0,tt.debounce)(function(){return e.__trgCustom()},0);return a.listenTo(t,"".concat($2," ").concat(V0),u),a.on("change:lastTarget",function(){return t.trigger(V0,e.getSelected())}),e}return n.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},n.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},n.prototype.__trgEv=function(t){for(var e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];(e=this.em).trigger.apply(e,iO([t],r,!1))},n.prototype.__clearStateTarget=function(){var t=this,e=this.em,r=this.__getStateTarget();r&&e?.skip(function(){e.Css.remove(r),t.model.set({stateTarget:null})})},n.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},n.prototype.postRender=function(){this.__appendTo()},n.prototype.addSector=function(t,e,r){r===void 0&&(r={});var i=this.getSector(t);return i||(e.id=t,i=this.sectors.add(e,r)),i},n.prototype.getSector=function(t,e){e===void 0&&(e={});var r=this.sectors.where({id:t})[0];return!r&&e.warn&&this._logNoSector(t),r||null},n.prototype.getSectors=function(t){t===void 0&&(t={});var e=this.sectors,r=e&&e.models?t.array?iO([],e.models,!0):e:[];return t.visible?r.filter(function(i){return i.isVisible()}):r},n.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},n.prototype.addProperty=function(t,e,r){r===void 0&&(r={});var i=this.getSector(t,{warn:!0}),a;return i&&(a=i.addProperty(e,r)),a},n.prototype.getProperty=function(t,e){var r=this.getSector(t,{warn:!0}),i;return r&&(i=r.properties.filter(function(a){return a.get("property")===e||a.get("id")===e})[0]),i},n.prototype.getProperties=function(t){var e,r=this.getSector(t,{warn:!0});return r&&(e=r.properties),e},n.prototype.removeProperty=function(t,e){var r=this.getProperties(t);return r?r.remove(this.getProperty(t,e)):null},n.prototype.select=function(t,e){var r=this;e===void 0&&(e={});var i=this.em,a=(0,tt.isArray)(t)?t:[t],s=e.stylable,l=i.Css,c=[];a.filter(Boolean).forEach(function(_){var x=_;if((0,tt.isString)(_)){var P=l.getRule(_)||l.setRule(_);!(0,tt.isUndefined)(s)&&P.set({stylable:s}),x=P}c.push(x)});var u=e.component||c.filter(function(_){return(0,ie.isComponent)(_)}).reverse()[0];c=c.map(function(_){return r.getModelToStyle(_)});var p=i.getState(),g=c.slice().reverse()[0],h=this.getParentRules(g,{state:p,component:u}),y=this.__getStateTarget();return i.skip(function(){var _;if(p&&(!((_=g?.getState)===null||_===void 0)&&_.call(g))){var x=g.getStyle();y?y.setStyle(x):y=l.getAll().add({selectors:"gjs-selected",style:x,shallow:!0,important:!0})}else y&&(l.remove(y),y=void 0)}),this.model.set({targets:c,lastTarget:g,lastTargetParents:h,stateTarget:y,component:u}),this.__upProps(e),c},n.prototype.getSelected=function(){return this.model.get("lastTarget")},n.prototype.getSelectedAll=function(){return this.model.get("targets")},n.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},n.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},n.prototype.addStyleTargets=function(t,e){this.getSelectedAll().map(function(a){return a.addStyle(t,e)});var r=this.getSelected();r&&this.__emitCmpStyleUpdate(t);var i=this.__getStateTarget();r&&i?.setStyle(r.getStyle(),e)},n.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},n.prototype.getBuiltInAll=function(){return this.builtIn.props},n.prototype.addBuiltIn=function(t,e){return this.builtIn.add(t,e)},n.prototype.getModelToStyle=function(t,e){e===void 0&&(e={});var r=this.em,i=e.skipAdd;if(r&&t?.toHTML){var a=r.getConfig(),s=r.UndoManager,l=r.Css,c=r.Selectors,u=c?c.getConfig():{},p=a.devicePreviewMode?"":r.get("state"),g=t.get("classes"),h=g.getStyleable(),y=h.length,_=!u.componentFirst||e.useClasses,x={noCount:1},P={state:p,addOpts:x};s.skip(function(){var w;if(y&&_){var T=r.getCurrentMedia();w=l.get(h,p,T),!w&&!i&&(w=l.add(h,p,T,{},x))}else if(a.avoidInlineStyle){var b=t.getId();w=l.getIdRule(b,P),!w&&!i&&(w=l.setIdRule(b,{},P)),t.is("wrapper")&&w.set("wrapper",1,x)}w&&(t=w)})}return t},n.prototype.getParentRules=function(t,e){var r=e===void 0?{}:e,i=r.state,a=r.component,s=this.em,l=[];if(s&&t){var c=a,u=s.Css,p=s.CodeManager.getGenerator("css"),g=t.toHTML?t:t.getComponent(),h={array:!0},y=[],_=[],x=[],P=[],w=[],T=function(R){return R.length?u.getRules().filter(function(z){var N=z.getSelectors().map(function(j){return j.getFullName()});return N.length===0?!1:N.every(function(j){return R.indexOf(j)>=0})}):[]},b=function(R){return R?u.getRules().filter(function(z){return z.selectorsToString()===R}):[]};if(g)y=u.getRules("#".concat(g.getId())),_=b(g.get("tagName")),P=c?T(c.getSelectors().getFullName(h)):[],w=P.concat(_).concat(y);else{y=c?u.getRules("#".concat(c.getId())):[],_=b(c?.get("tagName")||"");var k=c?.getSelectors().getFullName(h)||[],E=k.filter(function(R){return t.getSelectors().getFullName(h).findIndex(function(z){return z===R})===-1});x=T(E.concat(t.getSelectors().getFullName(h))),w=_.concat(y).concat(x)}var L=w.filter(function(R){return(0,tt.isUndefined)(i)?1:R.get("state")===i}).sort(p.sortRules).reverse();l=L.slice(L.indexOf(t)+1)}return l},n.prototype.addType=function(t,e){this.properties.addType(t,e)},n.prototype.getType=function(t){return this.properties.getType(t)},n.prototype.getTypes=function(){return this.properties.getTypes()},n.prototype.createType=function(t,e){var r=e===void 0?{}:e,i=r.model,a=i===void 0?{}:i,s=r.view,l=s===void 0?{}:s,c=this.config,u=this.getType(t);if(u)return new u.view(Ds({model:new u.model(a),config:c},l))},n.prototype.render=function(){var t=this,e=t.config,r=t.em,i=t.SectView,a=i&&i.el;return this.SectView=new dz({el:a,em:r,config:e,module:this,collection:this.sectors}),this.SectView.render().el},n.prototype._logNoSector=function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},n.prototype.__emitCmpStyleUpdate=function(t,e){e===void 0&&(e={});var r=this.em;if(!t.__p){var i=this.getSelectedAll(),a=e.components||r.getSelectedAll(),s=Array.isArray(a)?a:[a],l=Ds({},t);delete l.__p,s.forEach(function(c){return!i.includes(c)&&c.__onStyleChange(l)})}},n.prototype.__upProps=function(t){var e=this;t===void 0&&(t={});var r=this.getSelected();if(r){var i=this.sectors,a=this.model.get("component"),s=this.getSelectedParents(),l=r.getStyle(),c=s.map(function(u){return{target:u,style:u.getStyle()}});i.map(function(u){u.getProperties().map(function(p){e.__upProp(p,l,c,t)})}),i.forEach(function(u){var p=u.getProperties();p.forEach(function(h){var y=h.__checkVisibility({target:r,sector:u,component:a,sectors:i.models});h.set("visible",y)});var g=p.some(function(h){return h.isVisible()});u.set("visible",g)})}},n.prototype.__upProp=function(t,e,r,i){var a=this,s=t.getName(),l=e[s],c=oO(l),u=t.getType()==="stack",p=t.getType()==="composite",g=Ds(Ds({},i),{__up:!0}),h=!p&&!u,y=t,_=t,x=u?y.__getLayersFromStyle(e):[],P=p?_.__getPropsFromStyle(e):{},w=c?l:null,T=null;if(u&&x===null||p&&P===null){var b=u?"__getLayersFromStyle":"__getPropsFromStyle",k=r.filter(function(N){return y[b](N.style)!==null})[0];if(k){w=k.style[s],T=k.target;var E=y[b](k.style);u?x=E:P=E}}else if(!c){w=null;var k=r.filter(function(j){return oO(j.style[s])})[0];k&&(w=k.style[s],T=k.target)}if(t.__setParentTarget(T),h&&t.__getFullValue()!==w&&t.upValue(w,g),u&&y.__setLayers(x||[],{isEmptyValue:y.isEmptyValueStyle(e)}),p){var L=_.getProperties();if(_.isDetached()){var R=_.__getPropsFromStyle(e,{byName:!0})||{},z=r.map(function(N){return Ds(Ds({},N),{style:_.__getPropsFromStyle(N.style,{byName:!0})||{}})});L.map(function(N){return a.__upProp(N,R,z,i)})}else _.__setProperties(P||{},g),_.getProperties().map(function(N){return N.__setParentTarget(T)})}},n.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(e){e.reset(),e.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},n}(za),Cz=bz,xz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nh=function(){return nh=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},nh.apply(this,arguments)},Oz=function(o){xz(n,o);function n(t,e){var r=o.call(this,t,e)||this;return r.em=e,r.model=function(i,a){return a===void 0&&(a={}),new WO(i,nh(nh({},a),{em:e}))},r}return n}(_e.pM),Pz=Oz,Mz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wz=function(o){Mz(n,o);function n(t){var e=o.call(this,t,"DataSources",new Pz([],t),Il)||this;return e.storageKey="dataSources",e.events=Il,Object.assign(e,j0.Events),e}return n.prototype.destroy=function(){},n.prototype.add=function(t,e){e===void 0&&(e={});var r=this.all;return t.id=t.id||this._createId(),r.add(t,e)},n.prototype.get=function(t){return this.all.get(t)},n.prototype.getValue=function(t,e){return(0,ie.get)(this.getContext(),t,e)},n.prototype.getContext=function(){return this.all.reduce(function(t,e){return t[e.id]=e.records.reduce(function(r,i,a){var s=i;return r[s.id||a]=s.attributes,r},{}),t},{})},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.fromPath=function(t){var e=[],r=(0,ie.stringToPath)(t||""),i=r[0],a=r[1],s=r.slice(2),l=this.get(i),c=l?.records.get(a);return l&&e.push(l),c&&(e.push(c),s.length&&e.push(s.join("."))),e},n.prototype.store=function(){var t,e=[];return this.all.forEach(function(r){var i=r.get("skipFromStorage");i||e.push({id:r.id,name:r.get("name"),records:r.records.toJSON(),skipFromStorage:i})}),t={},t[this.storageKey]=e,t},n.prototype.load=function(t){return this.loadProjectData(t)},n.prototype.postLoad=function(){var t=this,e=t.em,r=t.all;e.listenTo(r,_e.e2,function(i,a,s){return e.changesUp(s||a)}),this.em.UndoManager.add(r)},n}(za),Y2=wz,Sz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xr=function(){return Xr=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Xr.apply(this,arguments)},a0=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?i(u.value):r(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},s0=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],r=0}finally{e=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Tz=function(o,n){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(o);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(o,e[r])&&(t[e[r]]=o[e[r]]);return t},Ez=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))};m3().$=jr.default;var kz=[rR,ON,bR,IF,wD,aN,sD,Cz,XI,AR,PF,eF,WF,tL,ML,mk,hL,II,Y2],Az=[Y2,$L,mI,mN,eI];v3({$:jr.default});var aO={debug:console.log,info:console.info,warning:console.warn,error:console.error},Iz=function(o){Sz(n,o);function n(t){t===void 0&&(t={});var e=o.call(this)||this;e.Model=_e.Kx,e.Collection=_e.pM,e.events=Fi,e.__skip=!1,e.defaultRunning=!1,e.loadTriggered=!1,e.destroyed=!1,e._isStoring=!1,e._config=t;var r=e.config;e.set("Config",t),e.set("modules",[]),e.set("toLoad",[]),e.set("storables",[]),e.set("selected",new b3),e.set("dmode",r.dragMode);var i=r.el,a=r.log,s=a===!0?(0,tt.keys)(aO):(0,tt.isArray)(a)?a:[];return(0,tt.bindAll)(e,"initBaseColorPicker"),i&&r.fromElement&&(r.components=i.innerHTML),e.attrsOrig=i?(0,tt.toArray)(i.attributes).reduce(function(l,c){return l[c.nodeName]=c.nodeValue,l},{}):"",r.components&&!r.pageManager&&(r.pageManager={pages:[{component:r.components}]}),kz.forEach(function(l){return e.loadModule(l)}),Az.forEach(function(l){return e.loadStorableModule(l)}),e.on("change:componentHovered",e.componentHovered,e),e.on("change:changesCount",e.updateChanges,e),e.on("change:readyLoad change:readyCanvas",e._checkReady,e),s.forEach(function(l){return e.listenLog(l)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(l){var c=l.from,u=l.to;e.listenTo(e,c,function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];e.trigger.apply(e,Ez([u],p,!1)),e.logWarning("The event '".concat(c,"' is deprecated, replace it with '").concat(u,"'"))})}),e}return n.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(n.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),n.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},n.prototype.getContainer=function(){return this.config.el},n.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),aO[t])},Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"version",{get:function(){var t;return((t=this.config.grapesjs)===null||t===void 0?void 0:t.version)||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isHeadless",{get:function(){return!!this.config.headless},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isShallow",{get:function(){return!!this.get("isShallow")},enumerable:!1,configurable:!0}),n.prototype.initModules=function(){this.modules.forEach(function(t){return t.onInit()})},n.prototype.getConfig=function(t){var e=this.config;return(0,tt.isUndefined)(t)?e:e[t]},n.prototype.loadOnStart=function(){var t=this,e=this.config,r=e.projectData,i=e.headless,a={initial:!0},s=this.Storage;this.toLoad.reverse().forEach(function(u){return u.onLoad()});var l=function(){t.modules.forEach(function(u){return u.postLoad&&u.postLoad(t)}),t.set("readyLoad",1)};i?(r&&this.loadData(r,a),l()):this._storageTimeout=setTimeout(function(){return a0(t,void 0,void 0,function(){var u;return s0(this,function(p){switch(p.label){case 0:return r?(this.loadData(r,a),[3,5]):[3,1];case 1:if(!s?.canAutoload())return[3,5];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,this.load({},a)];case 3:return p.sent(),[3,5];case 4:return u=p.sent(),this.logError(u),[3,5];case 5:return l(),[2]}})})});var c=new n({noticeOnUnload:!1,storageManager:!1,undoManager:!1});c.set({isShallow:!0}),c.Pages.onLoad(),c.Canvas.postLoad(),this.set("shallow",c)},n.prototype.updateChanges=function(t,e,r){var i=this,a=this.Storage,s=this.getDirtyCount();r.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return i.trigger(Fi.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=s?function(){return!0}:null),a.isAutosave()&&s>=a.getStepsBeforeSave()&&this.store().catch(function(l){return i.logError(l)})},n.prototype.loadModule=function(t){var e=new t(this);return this.set(e.name,e),e.onLoad&&this.toLoad.push(e),this.modules.push(e),e},n.prototype.loadStorableModule=function(t){var e=this.loadModule(t);return this.storables.push(e),e},n.prototype.init=function(t,e){e===void 0&&(e={}),this.destroyed&&(this.initialize(e),this.destroyed=!1),this.set("Editor",t)},n.prototype.getEditor=function(){return this.get("Editor")},n.prototype.handleUpdates=function(t,e,r){var i=this;r===void 0&&(r={}),!(this.__skip||!this.loadTriggered||r.temporary||r.noCount||r.avoidStore||r.partial)&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var a=i.getDirtyCount()||0,s=r.unset,l=Tz(r,["unset"]);i.set("changesCount",a+1,l)},0))},n.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},n.prototype.componentHovered=function(t,e,r){var i=this.previous("componentHovered");i&&this.trigger("component:unhovered",i,r),e&&this.trigger("component:hovered",e,r)},n.prototype.getSelected=function(){return this.selected.lastComponent()},n.prototype.getSelectedAll=function(){return this.selected.allComponents()},n.prototype.setSelected=function(t,e){var r=this;e===void 0&&(e={});var i=e.event,a=i&&(i.ctrlKey||i.metaKey),s=(i||{}).shiftKey,l=((0,tt.isArray)(t)?t:[t]).map(function(g){var h,y;return((y=(h=g?.delegate)===null||h===void 0?void 0:h.select)===null||y===void 0?void 0:y.call(h,g))||g}).filter(Boolean),c=this.getSelectedAll(),u=this.getConfig().multipleSelection,p=(0,tt.isArray)(t);(p||!t)&&this.removeSelected(c.filter(function(g){return!(0,tt.contains)(l,g)})),l.forEach(function(g){if(g&&(r.trigger(kn.I.selectBefore,g,e),!g.get("selectable")||e.abort))if(e.useValid){for(var h=g.parent();h&&!h.get("selectable");)h=h.parent();g=h}else return;if(a&&u)return r.toggleSelected(g);if(s&&u){if(r.isEditing())return;r.clearSelection(r.Canvas.getWindow());var y=g.collection,_=g.index(),x,P;if(r.getSelectedAll().forEach(function(w){var T=w.collection,b=w.index();T===y&&(b<_?x=(0,tt.isUndefined)(x)?b:Math.max(x,b):b>_&&(P=(0,tt.isUndefined)(P)?b:Math.min(P,b)))}),!(0,tt.isUndefined)(x))for(;x!==_;)r.addSelected(y.at(x),e),x++;if(!(0,tt.isUndefined)(P))for(;P!==_;)r.addSelected(y.at(P),e),P--;return r.addSelected(g,e)}!p&&r.removeSelected(c.filter(function(w){return w!==g})),r.addSelected(g,e)})},n.prototype.addSelected=function(t,e){var r=this;e===void 0&&(e={});var i=(0,tt.isArray)(t)?t:[t];i.forEach(function(a){var s=r.selected;if(!(!a||!a.get("selectable")||a.parents().some(function(u){return s.hasComponent(u)}))){e.forceChange&&r.removeSelected(a,e);var l=s.allComponents().filter(function(u){return(0,tt.contains)(u.parents(),a)});if(l.forEach(function(u){return r.removeSelected(u,e)}),s.addComponent(a,e),r.trigger(kn.I.select,a,e),r.Canvas.addSpot({type:To.F.Select,component:a}),e.activate){var c=a.getView();c?.rendered?c.onActive(e.event):a.once(kn.I.render,function(u){var p=u.view;return p.onActive(e.event)})}}})},n.prototype.removeSelected=function(t,e){var r=this;e===void 0&&(e={}),this.selected.removeComponent(t,e);var i=(0,tt.isArray)(t)?t:[t];i.forEach(function(a){return r.Canvas.removeSpots({type:To.F.Select,component:a})})},n.prototype.toggleSelected=function(t,e){var r=this;e===void 0&&(e={});var i=(0,tt.isArray)(t)?t:[t];i.forEach(function(a){r.selected.hasComponent(a)?r.removeSelected(a,e):r.addSelected(a,e)})},n.prototype.setHovered=function(t,e){var r=this;e===void 0&&(e={});var i=function(l,c){var u=r,p=u.config,g=u.Canvas,h=r.getHovered(),y=r.getSelectedAll(),_=To.F.Hover,x=To.F.Spacing;r.set("componentHovered",l||null,c),h&&(g.removeSpots({type:_,component:h}),g.removeSpots({type:x,component:h})),l&&(g.addSpot({type:_,component:l}),(!y.includes(l)||p.showOffsetsSelected)&&g.addSpot({type:x,component:l}))};if(!t)return i();var a="component:hover";if(e.forceChange&&i(),this.trigger("".concat(a,":before"),t,e),!t.get("hoverable"))if(e.useValid&&!e.abort){for(var s=t.parent();s&&!s.get("hoverable");)s=s.parent();t=s}else return;e.abort||(i(t,e),this.trigger(a,t,e))},n.prototype.getHovered=function(){return this.get("componentHovered")},n.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.Components.setComponents(t,e)},n.prototype.getComponents=function(){var t=this.Components,e=this.CodeManager;if(!(!t||!e)){var r=t.getComponents();return e.getCode(r,"json")}},n.prototype.setStyle=function(t,e){e===void 0&&(e={});var r=this.Css;return r.clear(e),r.getAll().add(t,e),this},n.prototype.addStyle=function(t,e){e===void 0&&(e={});var r=this.getStyle().add(t,e);return(0,tt.isArray)(r)?r:[r]},n.prototype.getStyle=function(){return this.Css.getAll()},n.prototype.setState=function(t){return this.set("state",t),this},n.prototype.getState=function(){return this.get("state")||""},n.prototype.getHtml=function(t){t===void 0&&(t={});var e=this.config,r=e.optsHtml,i=e.jsInHtml?this.getJs(t):"",a=t.component||this.Components.getComponent(),s=a?this.CodeManager.getCode(a,"html",Xr(Xr({},r),t)):"";return s+=i?"<script>".concat(i,"<\/script>"):"",s},n.prototype.getCss=function(t){t===void 0&&(t={});var e=this.config,r=e.optsCss,i=t.avoidProtected,a=(0,tt.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,s=this.Css,l=t.component||this.Components.getComponent(),c=i?"":e.protectedCss,u=l&&this.CodeManager.getCode(l,"css",Xr(Xr({cssc:s,keepUnusedStyles:a},r),t));return l?t.json?u:c+u:""},n.prototype.getJs=function(t){t===void 0&&(t={});var e=t.component||this.Components.getWrapper();return e?this.CodeManager.getCode(e,"js").trim():""},n.prototype.store=function(t){return a0(this,void 0,void 0,function(){var e,r=this;return s0(this,function(i){switch(i.label){case 0:return this._isStoring?[2]:(this._isStoring=!0,setTimeout(function(){r.clearDirtyCount()},1),e=this.storeData(),[4,this.Storage.store(e,t)]);case 1:return i.sent(),setTimeout(function(){r._isStoring=!1},1),[2,e]}})})},n.prototype.load=function(t){return a0(this,arguments,void 0,function(e,r){var i;return r===void 0&&(r={}),s0(this,function(a){switch(a.label){case 0:return[4,this.Storage.load(e)];case 1:return i=a.sent(),this.loadData(i,r),[4,(0,ie.wait)()];case 2:return a.sent(),r.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,i]}})})},n.prototype.storeData=function(){var t={},e=this.getEditing();e&&e.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(i){t=Xr(Xr({},t),i.store(1))});var r=JSON.parse(JSON.stringify(t));return this.trigger(Fi.projectGet,{project:r}),r},n.prototype.loadData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r={project:t,options:e,initial:!!e.initial},i=!1;return(0,ie.isEmptyObj)(t)||(this.storables.forEach(function(a){return a.clear()}),this.storables.forEach(function(a){return a.load(t)}),i=!0),this.trigger(Fi.projectLoad,Xr(Xr({},r),{loaded:i})),i&&this.trigger(Fi.projectLoaded,r),t},n.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},n.prototype.runDefault=function(t){t===void 0&&(t={});var e=this.Commands.get(this.config.defaultCommand);!e||this.defaultRunning||(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=!0)},n.prototype.stopDefault=function(t){t===void 0&&(t={});var e=this.Commands;if(e){var r=e.get(this.config.defaultCommand);!r||!this.defaultRunning||(r.stop(this,this,t),this.defaultRunning=!1)}},n.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.Canvas.refresh({spots:t.tools})},n.prototype.clearSelection=function(t){var e,r=t||window;(e=r.getSelection())===null||e===void 0||e.removeAllRanges()},n.prototype.getCurrentMedia=function(){var t=this.config,e=this.getDeviceModel(),r=t.mediaCondition,i=t.devicePreviewMode,a=e&&e.get("widthMedia");return e&&a&&!i?"(".concat(r,": ").concat(a,")"):""},n.prototype.getWrapper=function(){return this.Components.getWrapper()},n.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},n.prototype.getCurrentFrame=function(){return this.get("currentFrame")},n.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},n.prototype.getIcon=function(t){var e=this.config.icons||{};return e[t]||""},n.prototype.getDirtyCount=function(){return this.get("changesCount")},n.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},n.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},n.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},n.prototype.setDragMode=function(t){return this.set("dmode",t)},n.prototype.getDragMode=function(t){var e=t?.getDragMode()||this.get("dmode");return e||""},n.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.get("I18n");return r?.t.apply(r,t)},n.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},n.prototype.destroyAll=function(){var t=this,e=this,r=e.config,i=e.view;this.trigger(Fi.destroy);var a=this.getEditor(),s=(r.grapesjs||{}).editors,l=s===void 0?[]:s,c=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),c?.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(u){return u.destroy()}),i?.remove&&i.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(u){return t[u]={}}),l.splice(l.indexOf(a),1),(0,ie.hasWin)()&&(0,jr.default)(r.el).empty().attr(this.attrsOrig),this.trigger(Fi.destroyed)},n.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},n.prototype.setEditing=function(t){return this.set("editing",t),this},n.prototype.isEditing=function(){return!!this.get("editing")},n.prototype.log=function(t,e){e===void 0&&(e={});var r=Fi.log,i=e.ns,a=e.level,s=a===void 0?"debug":a;if(this.trigger(r,t,e),s&&this.trigger("".concat(r,":").concat(s),t,e),i){var l="".concat(r,"-").concat(i);this.trigger(l,t,e),s&&this.trigger("".concat(l,":").concat(s),t,e)}},n.prototype.logInfo=function(t,e){this.log(t,Xr(Xr({},e),{level:"info"}))},n.prototype.logWarning=function(t,e){this.log(t,Xr(Xr({},e),{level:"warning"}))},n.prototype.logError=function(t,e){this.log(t,Xr(Xr({},e),{level:"error"}))},n.prototype.initBaseColorPicker=function(t,e){e===void 0&&(e={});var r=this.config,i=r.colorPicker,a=i===void 0?{}:i,s=r.el,l=r.stylePrefix;return(0,jr.default)(t).spectrum(Xr(Xr({containerClassName:"".concat(l,"one-bg ").concat(l,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F"},e),a))},n.prototype.skip=function(t){this.__skip=!0;var e=this.UndoManager;e?e.skip(t):t(),this.__skip=!1},n.prototype.data=function(t,e,r){var i="_gjs-data";if(t[i]||(t[i]={}),(0,tt.isUndefined)(r))return t[i][e];t[i][e]=r},n}(_e.Kx),Dz=Iz;function Lz(){return window.location.hostname}var Nz=function(){var o=function(n,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},o(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rz=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?i(u.value):r(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},Fz=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],r=0}finally{e=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Vz=function(o){Nz(n,o);function n(t){var e=o.call(this,{model:t})||this,r=t.Panels,i=t.UndoManager;return t.view=e,t.once("change:ready",function(){r.active(),r.disableButtons(),t.getConfig().telemetry&&e.sendTelemetryData().catch(function(){}),setTimeout(function(){t.trigger(Fi.load,t.Editor),t.loadTriggered=!0,i.clear(),t.clearDirtyCount()})}),e}return n.prototype.render=function(){var t=this,e=this,r=e.$el,i=e.model,a=i.Panels,s=i.Canvas,l=i.config,c=i.modules,u=l.stylePrefix,p=["".concat(u,"editor")];!l.customUI&&p.push("".concat(u,"one-bg ").concat(u,"two-color"));var g=(0,jr.default)(l.el||"body ".concat(l.container));l.cssIcons&&(0,ie.appendStyles)(l.cssIcons,{unique:!0,prepand:!0}),r.empty(),l.width&&g.css("width",l.width),l.height&&g.css("height",l.height),r.append(s.render()),r.append(a.render());var h=i.shallow,y=h.Canvas.render();return y.style.display="none",r.append(y),r.attr("class",p.join(" ")),g.addClass("".concat(u,"editor-cont")).empty().append(r),c.forEach(function(_){var x;return(x=_.postRender)===null||x===void 0?void 0:x.call(_,t)}),this},n.prototype.sendTelemetryData=function(){return Rz(this,void 0,void 0,function(){var t,e,r,i,a,s,l,c;return Fz(this,function(u){switch(u.label){case 0:return t=Lz(),t==="localhost"||t.includes("localhost")?[2]:(e="gjs_telemetry_sent_",r=this.model.version,i="".concat(e).concat(r),sessionStorage.getItem(i)?[2]:(a="https://app.grapesjs.com",[4,fetch("".concat(a,"/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:t,version:r})})]));case 1:return s=u.sent(),s.ok?[3,3]:(l=Error.bind,c="Failed to send telemetry data ".concat,[4,s.text()]);case 2:throw new(l.apply(Error,[void 0,c.apply("Failed to send telemetry data ",[u.sent()])]));case 3:return sessionStorage.setItem(i,"true"),Object.keys(sessionStorage).forEach(function(p){p.startsWith(e)&&p!==i&&sessionStorage.removeItem(p)}),this.trigger(Fi.telemetryInit),[2]}})})},n}(_e.Ss),zz=Vz,Du=function(){return Du=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},Du.apply(this,arguments)},sO=function(o,n,t,e){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{c(e.next(u))}catch(p){a(p)}}function l(u){try{c(e.throw(u))}catch(p){a(p)}}function c(u){u.done?i(u.value):r(u.value).then(s,l)}c((e=e.apply(o,n||[])).next())})},lO=function(o,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(o,t)}catch(u){c=[6,u],r=0}finally{e=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},jz=function(o,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return o.concat(i||Array.prototype.slice.call(n))},Hz=function(){function o(n,t){n===void 0&&(n={}),t===void 0&&(t={});var e;this.events=Fi,this.html=Vi;var r=h3();this.config=Du(Du(Du({},r),n),{pStylePrefix:(e=n.stylePrefix)!==null&&e!==void 0?e:r.stylePrefix}),this.em=new Dz(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(o.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(n){return this.em.getConfig(n)},o.prototype.getHtml=function(n){return this.em.getHtml(n)},o.prototype.getCss=function(n){return this.em.getCss(n)},o.prototype.getJs=function(n){return this.em.getJs(n)},o.prototype.getComponents=function(){return this.Components.getComponents()},o.prototype.getWrapper=function(){return this.Components.getWrapper()},o.prototype.setComponents=function(n,t){return t===void 0&&(t={}),this.em.setComponents(n,t),this},o.prototype.addComponents=function(n,t){return this.getWrapper().append(n,t)},o.prototype.getStyle=function(){return this.em.Css.getAll()},o.prototype.setStyle=function(n,t){return t===void 0&&(t={}),this.em.setStyle(n,t),this},o.prototype.addStyle=function(n,t){return t===void 0&&(t={}),this.em.addStyle(n,t)},o.prototype.getSelected=function(){return this.em.getSelected()},o.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},o.prototype.getSelectedToStyle=function(){var n=this.em.getSelected();if(n)return this.StyleManager.getModelToStyle(n)},o.prototype.select=function(n,t){return this.em.setSelected(n,t),this},o.prototype.selectAdd=function(n){return this.em.addSelected(n),this},o.prototype.selectRemove=function(n){return this.em.removeSelected(n),this},o.prototype.selectToggle=function(n){return this.em.toggleSelected(n),this},o.prototype.getEditing=function(){return this.em.getEditing()},o.prototype.setDevice=function(n){return this.em.set("device",n),this},o.prototype.getDevice=function(){return this.em.get("device")},o.prototype.runCommand=function(n,t){return t===void 0&&(t={}),this.Commands.run(n,t)},o.prototype.stopCommand=function(n,t){return t===void 0&&(t={}),this.Commands.stop(n,t)},o.prototype.store=function(n){return sO(this,void 0,void 0,function(){return lO(this,function(t){switch(t.label){case 0:return[4,this.em.store(n)];case 1:return[2,t.sent()]}})})},o.prototype.load=function(n){return sO(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),lO(this,function(r){switch(r.label){case 0:return[4,this.em.load(t,e)];case 1:return[2,r.sent()]}})})},o.prototype.getProjectData=function(){return this.em.storeData()},o.prototype.loadProjectData=function(n,t){return t===void 0&&(t={}),this.em.loadData(n,t)},o.prototype.storeData=function(){return this.em.storeData()},o.prototype.loadData=function(n){return this.em.loadData(n)},o.prototype.getContainer=function(){return this.config.el},o.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},o.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},o.prototype.refresh=function(n){this.em.refreshCanvas(n)},o.prototype.setCustomRte=function(n){this.RichTextEditor.customRte=n},o.prototype.setCustomParserCss=function(n){return this.Parser.getConfig().parserCss=n,this},o.prototype.setDragMode=function(n){return this.em.setDragMode(n),this},o.prototype.log=function(n,t){return t===void 0&&(t={}),this.em.log(n,t),this},o.prototype.t=function(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(n=this.em).t.apply(n,t)},o.prototype.on=function(n,t){return this.em.on(n,t),this},o.prototype.once=function(n,t){return this.em.once(n,t),this},o.prototype.off=function(n,t){return this.em.off(n,t),this},o.prototype.trigger=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.em.trigger.apply(this.em,jz([n],t,!0)),this},o.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},o.prototype.getEl=function(){var n;return(n=this.editorView)===null||n===void 0?void 0:n.el},o.prototype.getModel=function(){return this.em},o.prototype.render=function(){var n;return(n=this.editorView)===null||n===void 0||n.remove(),this.editorView=new zz(this.em),this.editorView.render().el},o.prototype.onReady=function(n){this.em.get("ready")?n(this):this.em.on("load",n)},o}(),Bz=Hz,Uz=function(o,n){var t=n.get(o);if(!t){var e=(0,ie.getGlobal)()[o];t=e?.default||e}return t},X2=function(o,n){return(0,tt.isString)(o)?Uz(o,n):o?.default||o},Q2=function(o,n){o.getModel().logWarning("Plugin ".concat(n," not found"),{context:"plugins",plugin:n})},Wz=function(){function o(){this.plugins={}}return o.prototype.add=function(n,t){var e=this.get(n);return e||(this.plugins[n]=t,t)},o.prototype.get=function(n){return this.plugins[n]},o.prototype.getAll=function(){return this.plugins},o}(),Gz=Wz,Kz=function(){var o=function(){for(var t,e=window.navigator.userAgent,r=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],i=0;i<r.length;i++){var a=r[i];if(t=a[1].exec(e),t)break}return!!t};if((0,ie.hasWin)()&&o()){var n=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),n.apply(document.implementation,[t])}}},rh=function(){return rh=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},rh.apply(this,arguments)};Kz();var z0=new Gz,cO=[],J2=function(o,n){var t=X2(o,z0);return function(e){t?t(e,n||{}):Q2(e,o)}},Z2={$:jr.default,editors:cO,plugins:z0,usePlugin:J2,version:"0.22.13",init:function(o){o===void 0&&(o={});var n=o.headless,t=o.container;if(!t&&!n)throw new Error("'container' is required");var e=rh(rh({autorender:!0,plugins:[],pluginsOpts:{}},o),{grapesjs:this,el:n?void 0:(0,tt.isElement)(t)?t:document.querySelector(t)}),r=new Bz(e,{$:jr.default}),i=r.getModel();return i.initModules(),e.plugins.forEach(function(a){var s=X2(a,z0),l=e.pluginsOpts[a]||{};s?s(r,l):Q2(r,a)}),i.loadOnStart(),e.autorender&&!n&&r.render(),cO.push(r),r}},qz=Z2,tP=ih.Ay,dJ=ih.I0,uJ=ih.nu;var nP=V4(eP());var $z=["editorContainer"];function Yz(o,n){o&1&&(O(0,"div",16),yt(1,"mat-progress-spinner",17),O(2,"p"),V(3,"Loading Visual Editor..."),M()())}function Xz(o,n){if(o&1){let t=xe();O(0,"div",31)(1,"div",32)(2,"input",33,1),Yt("change",function(r){Ut(t);let i=pt(2);return Wt(i.onFileSelected(r))}),M(),O(4,"div",34),Yt("click",function(){Ut(t);let r=fr(3);return Wt(r.click())}),O(5,"div",35)(6,"mat-icon"),V(7,"cloud_upload"),M()(),O(8,"h3"),V(9,"Drop your HTML file here"),M(),O(10,"p"),V(11,"or click to browse"),M(),O(12,"div",36)(13,"span",37),V(14,".html"),M(),O(15,"span",37),V(16,".htm"),M()()()()()}}function Qz(o,n){if(o&1){let t=xe();O(0,"div",38)(1,"textarea",39),Ar("ngModelChange",function(r){Ut(t);let i=pt(2);return kr(i.importHtmlCode,r)||(i.importHtmlCode=r),Wt(r)}),M()()}if(o&2){let t=pt(2);G(),Er("ngModel",t.importHtmlCode)}}function Jz(o,n){if(o&1){let t=xe();O(0,"button",8),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.importHTML())}),O(1,"mat-icon"),V(2,"check"),M(),V(3," Import Code "),M()}if(o&2){let t=pt(2);ct("disabled",t.importMethod==="paste"&&!t.importHtmlCode.trim())}}function Zz(o,n){if(o&1){let t=xe();O(0,"div",18)(1,"div",19),Yt("click",function(){Ut(t);let r=pt();return Wt(r.closeImportModal())}),M(),O(2,"div",20)(3,"div",21)(4,"h2")(5,"mat-icon"),V(6,"file_upload"),M(),V(7," Import HTML "),M(),O(8,"button",22),Yt("click",function(){Ut(t);let r=pt();return Wt(r.closeImportModal())}),O(9,"mat-icon"),V(10,"close"),M()()(),O(11,"div",23)(12,"button",24),Yt("click",function(){Ut(t);let r=pt();return Wt(r.setImportMethod("file"))}),O(13,"mat-icon"),V(14,"upload_file"),M(),O(15,"span"),V(16,"Upload File"),M()(),O(17,"button",24),Yt("click",function(){Ut(t);let r=pt();return Wt(r.setImportMethod("paste"))}),O(18,"mat-icon"),V(19,"content_paste"),M(),O(20,"span"),V(21,"Paste Code"),M()()(),O(22,"div",25),qt(23,Xz,17,0,"div",26)(24,Qz,2,1,"div",27),M(),O(25,"div",28)(26,"button",29),Yt("click",function(){Ut(t);let r=pt();return Wt(r.closeImportModal())}),V(27,"Cancel"),M(),qt(28,Jz,4,1,"button",30),M()()()}if(o&2){let t=pt();G(12),Be("active",t.importMethod==="file"),G(5),Be("active",t.importMethod==="paste"),G(6),ct("ngIf",t.importMethod==="file"),G(),ct("ngIf",t.importMethod==="paste"),G(4),ct("ngIf",t.importMethod==="paste")}}function tj(o,n){if(o&1&&(O(0,"div",46),V(1),M()),o&2){let t=pt(2);G(),Ke(" ",t.getPendingEditsCount()," ")}}function ej(o,n){o&1&&(O(0,"div",47)(1,"mat-icon"),V(2,"open_with"),M()())}function nj(o,n){o&1&&(O(0,"mat-icon"),V(1,"autorenew"),M())}function rj(o,n){o&1&&(O(0,"mat-icon"),V(1,"check_circle"),M())}function ij(o,n){if(o&1&&(O(0,"div",65)(1,"mat-icon"),V(2,"info"),M(),V(3),M()),o&2){let t=pt().$implicit;G(3),Ke(" ",t.reason," ")}}function oj(o,n){if(o&1){let t=xe();O(0,"div",55)(1,"div",56),qt(2,nj,2,0,"mat-icon",57)(3,rj,2,0,"mat-icon",57),M(),O(4,"div",58)(5,"div",59)(6,"span",60),V(7,"Find:"),M(),O(8,"code",61),Yt("click",function(r){let i=Ut(t).$implicit,a=pt(3);return Wt(a.searchAndReplaceText(i.find||"",i.replace||"",r))}),V(9),M()(),O(10,"div",62)(11,"span",60),V(12,"Replace:"),M(),O(13,"code",63),Yt("click",function(r){let i=Ut(t).$implicit,a=pt(3);return Wt(a.copyTextToClipboard(i.replace||"",r))}),V(14),M()(),qt(15,ij,4,1,"div",64),M()()}if(o&2){let t=n.$implicit,e=n.index,r=pt(3);Be("applied",r.isEditApplied(e)),G(),Be("pending",!r.isEditApplied(e))("success",r.isEditApplied(e))("failed",!1),G(),ct("ngIf",!r.isEditApplied(e)),G(),ct("ngIf",r.isEditApplied(e)),G(6),Ke(" ",t.find," "),G(5),Ke(" ",t.replace," "),G(),ct("ngIf",t.reason)}}function aj(o,n){o&1&&(O(0,"div",66)(1,"mat-icon"),V(2,"check_circle"),M(),O(3,"p"),V(4,"All edits applied!"),M()())}function sj(o,n){if(o&1){let t=xe();O(0,"div",48)(1,"div",49),Yt("mousedown",function(r){Ut(t);let i=pt(2);return Wt(i.onModalHeaderMouseDown(r))}),O(2,"h3")(3,"mat-icon"),V(4,"report_problem"),M(),V(5," Failed Edits "),M(),O(6,"span",50),V(7),M()(),O(8,"div",51),qt(9,oj,16,13,"div",52)(10,aj,5,0,"div",53),M(),O(11,"div",54)(12,"button",29),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.closeWidget())}),O(13,"mat-icon"),V(14,"close"),M(),V(15," Close "),M()()()}if(o&2){let t=pt(2);ni("left",t.modalPosition.x,"px")("top",t.modalPosition.y,"px"),Be("modal-dragging",t.isModalDragging)("modal-drag-enabled",t.modalDragEnabled),ct("@slideIn",void 0),G(),Be("draggable-header",t.modalDragEnabled),G(6),Ke("",t.getPendingEditsCount()," pending"),G(2),ct("ngForOf",t.failedEdits),G(),ct("ngIf",t.getPendingEditsCount()===0)}}function lj(o,n){if(o&1){let t=xe();O(0,"div",40)(1,"div",41),Yt("mousedown",function(r){Ut(t);let i=pt();return Wt(i.onButtonMouseDown(r))})("click",function(r){Ut(t);let i=pt();return Wt(i.onButtonClick(r))})("touchstart",function(r){Ut(t);let i=pt();return Wt(i.onTouchStart(r))})("touchmove",function(r){Ut(t);let i=pt();return Wt(i.onTouchMove(r))})("touchend",function(r){Ut(t);let i=pt();return Wt(i.onTouchEnd(r))}),O(2,"mat-icon",42),V(3),M(),qt(4,tj,2,1,"div",43)(5,ej,3,0,"div",44),M(),qt(6,sj,16,14,"div",45),M()}if(o&2){let t=pt();ni("left",t.widgetPosition.x,"px")("top",t.widgetPosition.y,"px"),Be("modal-drag-enabled",t.modalDragEnabled),G(),Be("open",t.isWidgetOpen)("pulse-animate",!t.hasShownPulseAnimation)("drag-enabled",t.dragEnabled),G(2),ae(t.isWidgetOpen?"close":"add"),G(),ct("ngIf",t.getPendingEditsCount()>0&&!t.isWidgetOpen),G(),ct("ngIf",t.dragEnabled&&!t.isDragging),G(),ct("ngIf",t.isWidgetOpen)}}function cj(o,n){if(o&1&&(O(0,"span",83),V(1),M()),o&2){let t=pt(2);G(),Ke(" ",t.newTemplateName.length," / 100 characters ")}}function dj(o,n){o&1&&(O(0,"span",84),V(1," Minimum 3 characters required "),M())}function uj(o,n){o&1&&(O(0,"div",85),V(1," \u26A0 Name must be at least 3 characters "),M())}function pj(o,n){o&1&&(O(0,"mat-icon"),V(1,"save"),M())}function fj(o,n){o&1&&yt(0,"mat-spinner",86)}function gj(o,n){if(o&1){let t=xe();O(0,"div",67)(1,"div",68)(2,"div",69)(3,"div",70)(4,"h2"),V(5,"\u{1F4DD} Name Your Template"),M(),O(6,"p"),V(7,"Give your template a memorable name before saving"),M()(),O(8,"div",71)(9,"div",72)(10,"label",73),V(11,"Template Name"),M(),O(12,"input",74),Ar("ngModelChange",function(r){Ut(t);let i=pt();return kr(i.newTemplateName,r)||(i.newTemplateName=r),Wt(r)}),Yt("keyup.enter",function(){Ut(t);let r=pt();return Wt(r.isValidName()&&r.confirmTemplateName())}),M(),O(13,"div",75),qt(14,cj,2,1,"span",76)(15,dj,2,0,"span",77),M(),qt(16,uj,2,0,"div",78),M()(),O(17,"div",79)(18,"button",80),Yt("click",function(){Ut(t);let r=pt();return Wt(r.cancelNameDialog())}),V(19," Cancel "),M(),O(20,"button",81),Yt("click",function(){Ut(t);let r=pt();return Wt(r.confirmTemplateName())}),qt(21,pj,2,0,"mat-icon",57)(22,fj,1,0,"mat-spinner",82),V(23),M()()()()()}if(o&2){let t=pt();ct("@slideIn",void 0),G(12),Er("ngModel",t.newTemplateName),G(2),ct("ngIf",t.newTemplateName.length>0),G(),ct("ngIf",t.newTemplateName.length===0),G(),ct("ngIf",t.newTemplateName.length>0&&t.newTemplateName.trim().length<3),G(2),ct("disabled",t.isSavingTemplate),G(2),ct("disabled",!t.isValidName()||t.isSavingTemplate),G(),ct("ngIf",!t.isSavingTemplate),G(),ct("ngIf",t.isSavingTemplate),G(),Ke(" ",t.isSavingTemplate?"Saving...":"Save & Continue"," ")}}var cv=(()=>{class o{constructor(){this.router=ye(jn),this.cacheService=ye(jb),this.authService=ye(gr),this.route=ye(Ai),this.http=ye(xs),this.cdr=ye(qr),this.templateState=ye(Ms),this.AUTO_SAVE_DELAY=300,this.overlays=[],this.overlayContainer=null,this.showNameDialog=!1,this.newTemplateName="",this.isSavingTemplate=!1,this.failedEdits=[],this.showFloatingWidget=!1,this.isWidgetOpen=!1,this.hasShownPulseAnimation=!1,this.widgetPosition={x:20,y:100},this.isDragging=!1,this.dragEnabled=!1,this.dragOffset={x:0,y:0},this.isModalDragging=!1,this.modalDragEnabled=!1,this.modalPosition={x:0,y:0},this.modalDragOffset={x:0,y:0},this.lastButtonClickTime=0,this.lastModalClickTime=0,this.DOUBLE_CLICK_THRESHOLD=500,this.WIDGET_POSITION_KEY="visual_editor_widget_position",this.APPLIED_EDITS_KEY="visual_editor_applied_edits",this.PULSE_SHOWN_KEY="visual_editor_pulse_shown",this.loading=!0,this.showImportModal=!1,this.importHtmlCode="",this.importMethod="paste",this.EDITOR_CACHE_KEY="visual-editor-content",this.templateId=null,this.originalGoldenHtml=""}ngOnInit(){this.route.paramMap.subscribe(t=>{if(this.templateId=t.get("id"),!this.templateId){let e="visual_editor_temp_id",r=localStorage.getItem(e);r||(r="temp_"+Date.now()+"_"+Math.random().toString(36).substring(2,9),localStorage.setItem(e,r)),this.templateId=r}this.templateId&&(this.loadGoldenHtml(this.templateId),this.loadFailedEdits(this.templateId),setTimeout(()=>{this.loadFailedEdits(this.templateId),this.cdr.markForCheck()},100))}),this.restoreWidgetPosition()}ngAfterViewInit(){document.getElementById("gjs")?(this.initGrapesJS(),setTimeout(()=>{this.removeAllHighlights()},3e3),this.periodicSaveInterval=setInterval(()=>{this.editor&&this.templateId&&this.autoSave()},1e4),document.addEventListener("visibilitychange",()=>{document.hidden&&this.editor&&this.templateId&&this.autoSave()}),window.addEventListener("beforeunload",()=>{this.editor&&this.templateId&&this.autoSave()})):(this.loading=!1,this.cdr.markForCheck())}ngOnDestroy(){this.autoSave(!0),this.periodicSaveInterval&&clearInterval(this.periodicSaveInterval),this.autoSaveTimer&&clearTimeout(this.autoSaveTimer),document.body.classList.remove("validation-modal-open"),document.body.style.overflow="auto",this.editor&&this.editor.destroy()}onTouchStart(t){this.longPressTimer=setTimeout(()=>{this.dragEnabled=!0,this.isDragging=!0;let e=t.touches[0],i=t.currentTarget.getBoundingClientRect();this.dragOffset={x:e.clientX-i.left,y:e.clientY-i.top},"vibrate"in navigator&&navigator.vibrate(50)},500)}onTouchMove(t){if(!this.isDragging){clearTimeout(this.longPressTimer);return}t.preventDefault();let e=t.touches[0],r=window.innerWidth,i=window.innerHeight,a=60,s=e.clientX-this.dragOffset.x,l=e.clientY-this.dragOffset.y;s=Math.max(0,Math.min(s,r-a)),l=Math.max(0,Math.min(l,i-a)),this.widgetPosition={x:s,y:l},this.cdr.markForCheck()}onTouchEnd(t){clearTimeout(this.longPressTimer),this.isDragging&&(this.isDragging=!1,this.dragEnabled=!1,this.saveWidgetPosition())}promptTemplateName(){return new Promise(t=>{this.newTemplateName="",this.showNameDialog=!0,this.cdr.markForCheck(),window.__templateNameResolve=t})}cancelNameDialog(){this.showNameDialog=!1,this.newTemplateName="",window.__templateNameResolve&&(window.__templateNameResolve(null),delete window.__templateNameResolve)}confirmTemplateName(){let t=this.newTemplateName.trim();if(!this.isValidName()){this.showToast("Please enter a valid template name (3-100 characters)","error");return}this.showNameDialog=!1,window.__templateNameResolve&&(window.__templateNameResolve(t),delete window.__templateNameResolve)}isValidName(){let t=this.newTemplateName?.trim();return!!(t&&t.length>=3&&t.length<=100)}saveNewTemplate(t,e){return vn(this,null,function*(){this.isSavingTemplate=!0;try{let r="Unknown User";try{if("user$"in this.authService){let s=yield hc(this.authService.user$);r=s?.displayName||s?.name||s?.email||"Unknown User"}else if("currentUser"in this.authService){let s=this.authService.currentUser;r=s?.displayName||s?.name||s?.email||"Unknown User"}else{let s=localStorage.getItem("currentUser")||sessionStorage.getItem("currentUser");if(s){let l=JSON.parse(s);r=l?.displayName||l?.name||l?.email||"Unknown User"}}}catch{}let i={name:t,content:e,type:"Visual editor",category:"N/A",createdBy:r,createdDate:new Date().toISOString(),lastEdited:new Date().toISOString(),active:!0,dragDrop:!0,responsive:"N/A",folderId:"N/A",source:"Visual Editor"},a=yield hc(this.http.post("/api/templates",i,{withCredentials:!0}));return this.showToast("Template saved successfully!","success"),a.id||a.templateId||a._id}catch{return this.showToast("Failed to save template. Please try again.","error"),null}finally{this.isSavingTemplate=!1}})}loadGoldenHtml(t){let e=localStorage.getItem(`visual_editor_${t}_editing_mode`),r=localStorage.getItem(`visual_editor_${t}_variant_meta`);if(e==="variant"&&r)try{let a=JSON.parse(r),{runId:s,no:l}=a,c=`visual_editor_variant_${s}_${l}_html`,u=localStorage.getItem(c);if(u){this.originalGoldenHtml=u;return}}catch{}let i=this.templateState.getTemplateForEditor(t);i?this.originalGoldenHtml=i:this.originalGoldenHtml=""}initGrapesJS(){try{let t=setTimeout(()=>{this.loading&&(this.loading=!1,this.cdr.markForCheck())},5e3);this.editor=tP.init({container:"#gjs",fromElement:!1,height:"calc(100vh - 80px)",width:"100%",storageManager:!1,plugins:[nP.default],pluginsOpts:{"grapesjs-preset-newsletter":{modalLabelImport:"Paste HTML",modalLabelExport:"Copy HTML",codeViewerTheme:"material",importPlaceholder:"<table>...</table>"}}}),this.editor.on("load",()=>{clearTimeout(t);try{let i=this.editor.Panels;i.removeButton("options","export-template"),i.removeButton("options","gjs-open-import-webpage"),i.removeButton("views","open-code")}catch{}this.setupCodeEditor();let e=`visual_editor_${this.templateId}_progress`;if(localStorage.getItem(e))this.restoreProgress(),setTimeout(()=>{this.autoSave()},500);else if(this.originalGoldenHtml)try{this.editor.setComponents(this.originalGoldenHtml),setTimeout(()=>{this.autoSave()},500)}catch{}else this.templateId&&(this.restoreProgress(),setTimeout(()=>{this.autoSave()},500));this.loading=!1}),this.editor.on("update",()=>{this.autoSave()}),this.editor.on("component:add",()=>{this.autoSave()}),this.editor.on("component:remove",()=>{this.autoSave()}),this.editor.on("component:update",()=>{this.autoSave()}),this.editor.on("style:update",()=>{this.autoSave()})}catch{this.loading=!1}}setupCodeEditor(){try{let t=this.editor.Panels;this.editor.Commands.add("custom-edit-code",{run:e=>{this.openCodeEditor(e)},stop:e=>{}}),t.addButton("options",{id:"custom-code-edit",className:"fa fa-code",command:e=>{this.openCodeEditor(e)},attributes:{title:"Edit HTML/CSS Code","data-tooltip":"Edit Code"}})}catch{}}openCodeEditor(t){try{let e=t.Modal,r=t.getHtml(),a=`<style>
${t.getCss()}
</style>

${r}`;e.setTitle("Edit HTML & CSS Code"),e.setContent(`
        <div style="padding: 20px; display: flex; flex-direction: column; height: 600px;">
          <div style="margin-bottom: 15px; color: #64748b; font-size: 14px; font-weight: 500;">
            \u270F\uFE0F Edit your template code below
          </div>
          <textarea id="gjs-code-editor" style="flex: 1; width: 100%; font-family: 'Courier New', Consolas, monospace; font-size: 14px; line-height: 1.6; padding: 20px; border: 2px solid #e2e8f0; border-radius: 10px; resize: none; background: #0f172a; color: #e2e8f0; outline: none;">${a}</textarea>
          <div style="margin-top: 20px; display: flex; gap: 12px; justify-content: flex-end;">
            <button id="apply-code-btn" style="background: #10b981; color: white; border: none; padding: 14px 28px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 15px; box-shadow: 0 2px 8px rgba(16,185,129,0.3);">
              \u2713 Apply Changes
            </button>
            <button id="cancel-code-btn" style="background: #ef4444; color: white; border: none; padding: 14px 28px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 15px; box-shadow: 0 2px 8px rgba(239,68,68,0.3);">
              \u2715 Close
            </button>
          </div>
        </div>
      `),e.open(),setTimeout(()=>{let s=document.getElementById("apply-code-btn"),l=document.getElementById("cancel-code-btn"),c=document.getElementById("gjs-code-editor");s&&(s.onclick=()=>{c&&(t.setComponents(c.value),s.textContent="\u2713 Applied!",s.style.background="#6d28d9",setTimeout(()=>{s.textContent="\u2713 Apply Changes",s.style.background="#10b981"},1500))}),l&&(l.onclick=()=>e.close())},100)}catch{}}openImportModal(){this.showImportModal=!0,this.importHtmlCode=""}closeImportModal(){this.showImportModal=!1,this.importHtmlCode=""}importHTML(){!this.editor||!this.importHtmlCode.trim()||(this.editor.setComponents(this.importHtmlCode),this.closeImportModal())}onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0];if(!r.name.endsWith(".html")&&!r.name.endsWith(".htm")){this.showToast("\u26A0\uFE0F Please select a valid HTML file (.html or .htm)");return}let i=new FileReader;i.onload=a=>{let s=a.target?.result;s&&this.editor&&(this.editor.setComponents(s),this.closeImportModal(),this.showToast("\u2705 HTML file imported successfully!"))},i.onerror=()=>{this.showToast("\u274C Failed to read file. Please try again.")},i.readAsText(r)}setImportMethod(t){this.importMethod=t,this.importHtmlCode=""}goBack(){let t=localStorage.getItem(`visual_editor_${this.templateId}_editing_mode`),e=localStorage.getItem(`visual_editor_${this.templateId}_variant_meta`);if(t==="variant"&&e)try{let r=JSON.parse(e),{runId:i,no:a}=r,s=this.editor?.getHtml()||"",l=this.editor?.getCss()||"";s=this.cleanHtmlFromOverlays(s);let c=`<style>${l}</style>${s}`;sessionStorage.setItem("visual_editor_edited_html",c),sessionStorage.setItem("visual_editor_return_use_variant","true"),localStorage.removeItem(`visual_editor_variant_${i}_${a}_html`),localStorage.removeItem(`visual_editor_variant_${i}_${a}_snapshot`),localStorage.removeItem(`visual_editor_${this.templateId}_editing_mode`),localStorage.removeItem(`visual_editor_${this.templateId}_variant_meta`),localStorage.removeItem(`visual_editor_${this.templateId}_failed_edits`);let u=this.templateId;this.router.navigate(["/qa",u,"use",i,a]);return}catch{}this.router.navigate(["/"])}saveTemplate(){return vn(this,null,function*(){if(!this.editor)return;this.removeAllHighlights(),yield new Promise(i=>setTimeout(i,100));let t=this.editor.getHtml(),e=this.editor.getCss();t=this.cleanHtmlFromOverlays(t);let r=`<style>${e}</style>${t}`})}exportHTML(){return vn(this,null,function*(){if(!this.editor)return;this.removeAllHighlights(),yield new Promise(l=>setTimeout(l,100));let t=this.editor.getHtml(),e=this.editor.getCss();t=this.cleanHtmlFromOverlays(t);let r=`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>${e}</style>
</head>
<body>
  ${t}
</body>
</html>`,i=new Blob([r],{type:"text/html"}),a=window.URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download="email-template.html",s.click(),window.URL.revokeObjectURL(a)})}autoSave(t=!1){if(!(!this.editor||!this.templateId)){if(t){try{if(!this.editor||typeof this.editor.getHtml!="function"||typeof this.editor.getWrapper!="function")return;try{if(!this.editor.getWrapper())return}catch{return}let e=this.editor.getHtml(),r=this.editor.getCss();if(!e||e.trim()==="")return;e=this.cleanHtmlFromOverlays(e),this.templateState.saveEditorProgress(this.templateId,e,r);let i={html:e,css:r,templateId:this.templateId,savedAt:new Date().toISOString()},a=`visual_editor_${this.templateId}_progress`;localStorage.setItem(a,JSON.stringify(i))}catch{}return}this.autoSaveTimer&&clearTimeout(this.autoSaveTimer),this.autoSaveTimer=setTimeout(()=>{try{if(!this.editor||typeof this.editor.getHtml!="function"||typeof this.editor.getWrapper!="function")return;try{if(!this.editor.getWrapper())return}catch{return}let e=this.editor.getHtml(),r=this.editor.getCss();if(!e||e.trim()==="")return;e=this.cleanHtmlFromOverlays(e),this.templateState.saveEditorProgress(this.templateId,e,r);let i={html:e,css:r,templateId:this.templateId,savedAt:new Date().toISOString()},a=`visual_editor_${this.templateId}_progress`;localStorage.setItem(a,JSON.stringify(i))}catch{}},this.AUTO_SAVE_DELAY)}}restoreProgress(){if(this.templateId)try{let t=`visual_editor_${this.templateId}_progress`,e=localStorage.getItem(t);for(let r=0;r<localStorage.length;r++){let i=localStorage.key(r);if(i&&i.includes(this.templateId)){let a=localStorage.getItem(i)}}if(e){let r=JSON.parse(e);r&&this.editor&&(r.html&&this.editor.setComponents(r.html),r.css&&this.editor.setStyle(r.css))}}catch{}}clearProgress(){if(!this.templateId)return;let t=`visual_editor_${this.templateId}_progress`;localStorage.removeItem(t)}loadFailedEdits(t){let e=`visual_editor_${t}_editing_mode`;if(localStorage.getItem(e)==="original"){this.showFloatingWidget=!1,this.failedEdits=[];return}let i=`visual_editor_${t}_failed_edits`,a=localStorage.getItem(i)||sessionStorage.getItem(i);if(!a){this.showFloatingWidget=!1;return}try{if(this.failedEdits=JSON.parse(a),this.failedEdits.length>0){this.showFloatingWidget=!0;let s=`${this.PULSE_SHOWN_KEY}_${t}`;sessionStorage.getItem(s)?this.hasShownPulseAnimation=!0:(this.hasShownPulseAnimation=!1,sessionStorage.setItem(s,"true")),this.cdr.markForCheck()}else this.showFloatingWidget=!1}catch{this.showFloatingWidget=!1}}restoreWidgetPosition(){let t=localStorage.getItem(this.WIDGET_POSITION_KEY);if(t)try{let e=JSON.parse(t);this.widgetPosition=e}catch{this.widgetPosition={x:20,y:100}}else this.widgetPosition={x:20,y:100}}saveWidgetPosition(){localStorage.setItem(this.WIDGET_POSITION_KEY,JSON.stringify(this.widgetPosition))}onButtonMouseDown(t){let e=Date.now(),r=e-this.lastButtonClickTime;if(r<this.DOUBLE_CLICK_THRESHOLD&&r>0){t.stopPropagation(),t.preventDefault(),this.dragEnabled=!0,this.isDragging=!0,this.isWidgetOpen&&(this.isWidgetOpen=!1);let a=t.currentTarget.getBoundingClientRect();this.dragOffset={x:t.clientX-a.left,y:t.clientY-a.top},this.lastButtonClickTime=0}else this.lastButtonClickTime=e}onButtonClick(t){if(this.isDragging||this.dragEnabled)return;Date.now()-this.lastButtonClickTime<this.DOUBLE_CLICK_THRESHOLD&&this.lastButtonClickTime>0?(this.isWidgetOpen=!this.isWidgetOpen,this.isWidgetOpen&&(this.modalPosition={x:this.widgetPosition.x,y:this.widgetPosition.y+70}),this.isWidgetOpen&&!this.hasShownPulseAnimation&&(this.hasShownPulseAnimation=!0),this.cdr.markForCheck()):(this.isWidgetOpen=!this.isWidgetOpen,this.isWidgetOpen&&(this.modalPosition={x:this.widgetPosition.x,y:this.widgetPosition.y+70}),this.isWidgetOpen&&!this.hasShownPulseAnimation&&(this.hasShownPulseAnimation=!0))}closeWidget(){this.isWidgetOpen=!1}onDragStart(t){this.isDragging&&(t.preventDefault(),t.stopPropagation())}onDragMove(t){if(!this.isDragging||!this.dragEnabled)return;t.preventDefault();let e=window.innerWidth,r=window.innerHeight,i=60,a=t.clientX-this.dragOffset.x,s=t.clientY-this.dragOffset.y;a=Math.max(0,Math.min(a,e-i)),s=Math.max(0,Math.min(s,r-i));let l={x:a,y:s};this.widgetPosition=l,this.isWidgetOpen&&(this.modalPosition={x:a,y:s+70}),this.cdr.markForCheck()}onDragEnd(t){this.isDragging&&(t.stopPropagation(),t.preventDefault(),this.isDragging=!1,this.dragEnabled=!1,this.saveWidgetPosition())}onDocumentMouseMove(t){this.isDragging&&this.dragEnabled&&this.onDragMove(t),this.isModalDragging&&this.modalDragEnabled&&this.onModalDragMove(t)}onDocumentMouseUp(t){this.isDragging&&this.onDragEnd(t),this.isModalDragging&&this.onModalDragEnd(t)}onModalHeaderMouseDown(t){let e=Date.now(),r=e-this.lastModalClickTime;if(r<this.DOUBLE_CLICK_THRESHOLD&&r>0){t.stopPropagation(),t.preventDefault(),this.modalDragEnabled=!0,this.isModalDragging=!0;let i=t.target.closest(".widget-dropdown");if(!i)return;let a=i.getBoundingClientRect();this.modalDragOffset={x:t.clientX-a.left,y:t.clientY-a.top},this.modalPosition={x:a.left,y:a.top},this.lastModalClickTime=0,this.cdr.markForCheck()}else this.lastModalClickTime=e}onModalDragStart(t){}onModalDragMove(t){if(!this.isModalDragging||!this.modalDragEnabled)return;t.stopPropagation(),t.preventDefault();let e=window.innerWidth,r=window.innerHeight,i=t.clientX-this.modalDragOffset.x,a=t.clientY-this.modalDragOffset.y;i=Math.max(0,Math.min(i,e-400)),a=Math.max(0,Math.min(a,r-500));let s={x:i,y:a};this.modalPosition=s,this.widgetPosition={x:i,y:a-70},this.cdr.markForCheck()}onModalDragEnd(t){this.isModalDragging&&(t.stopPropagation(),t.preventDefault(),this.isModalDragging=!1,this.saveWidgetPosition())}applySuggestion(t){if(!this.editor){this.showToast("Editor not initialized","error");return}let e=this.failedEdits[t];if(!e||!e.find){this.showToast("Invalid edit data","error");return}let r=document.querySelector(".gjs-frame");if(!r||!r.contentDocument){this.showToast("Editor iframe not found","error");return}this.clearHighlights(r.contentDocument),this.highlightMatches(r.contentDocument,e.find,e.replace)}highlightMatches(t,e,r){let i=t.body;this.overlayContainer=t.createElement("div"),this.overlayContainer.id="ai-overlay-container",this.overlayContainer.setAttribute("data-gjs-type","temporary-overlay"),this.overlayContainer.setAttribute("data-gjs-removable","false"),this.overlayContainer.setAttribute("data-gjs-draggable","false"),this.overlayContainer.setAttribute("data-gjs-editable","false"),this.overlayContainer.setAttribute("data-gjs-selectable","false"),this.overlayContainer.setAttribute("data-gjs-hoverable","false"),this.overlayContainer.setAttribute("data-gjs-copyable","false"),this.overlayContainer.style.cssText=`
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
    `,i.appendChild(this.overlayContainer);let a=this.findAllTextMatches(i,e);if(a.length===0){this.showToast(`\u274C "${e}" not found`,"error"),this.clearHighlights(t);return}a.forEach((s,l)=>{this.createSimpleOverlay(t,s,l+1)}),this.showToast(`\u{1F50D} Found ${a.length} match(es)

Find: "${this.truncateText(e,30)}"
Replace with: "${this.truncateText(r,30)}"

Use Ctrl+F to find and replace manually`,"info"),this.overlays.length>0&&this.overlays[0].overlayElement.scrollIntoView({behavior:"smooth",block:"center"})}createSimpleOverlay(t,e,r){if(!this.overlayContainer)return;let i=e.getBoundingClientRect(),a=t.body.getBoundingClientRect(),s=t.documentElement.scrollTop||t.body.scrollTop,l=t.createElement("div");l.style.cssText=`
      position: absolute;
      left: ${i.left-a.left}px;
      top: ${i.top-a.top+s}px;
      width: ${i.width}px;
      height: ${i.height}px;
      background: rgba(255, 235, 59, 0.4);
      border: 2px solid #ffd700;
      border-radius: 4px;
      pointer-events: none;
      box-sizing: border-box;
    `;let c=t.createElement("div");c.textContent=r.toString(),c.style.cssText=`
      position: absolute;
      left: ${i.left-a.left+i.width+4}px;
      top: ${i.top-a.top+s-12}px;
      background: #667eea;
      color: white;
      font-size: 11px;
      font-weight: bold;
      padding: 3px 7px;
      border-radius: 12px;
      pointer-events: none;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      z-index: 10000;
    `,this.overlayContainer.appendChild(l),this.overlayContainer.appendChild(c),this.overlays.push({id:`overlay-${r}`,range:e.cloneRange(),rect:i,overlayElement:l,badgeElement:c,matchNumber:r,searchText:"",replaceText:""})}findAllTextMatches(t,e){let r=[],i=e.toLowerCase(),a=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:l=>{let c=l.parentElement;if(!c)return NodeFilter.FILTER_REJECT;let u=c.tagName.toLowerCase();return u==="script"||u==="style"||u==="noscript"||c.id==="ai-overlay-container"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),s;for(;s=a.nextNode();){let c=(s.textContent||"").toLowerCase(),u=0,p;for(;(p=c.indexOf(i,u))!==-1;){let g=document.createRange();g.setStart(s,p),g.setEnd(s,p+e.length),r.push(g),u=p+e.length}}return r}clearHighlights(t){let e=t.getElementById("ai-overlay-container");e&&e.remove(),this.overlays=[],this.overlayContainer=null}onCheckPreview(){return vn(this,null,function*(){if(!this.editor||!this.templateId)return;this.removeAllHighlights();let t=this.editor.Canvas.getFrameEl();if(t&&t.contentDocument&&t.contentDocument.body.offsetHeight,yield new Promise(a=>setTimeout(a,300)),this.templateId.startsWith("temp_")){let a=this.editor.getHtml(),s=this.editor.getCss();a=this.cleanHtmlFromOverlays(a);let l=`<style>${s}</style>${a}`,c=yield this.promptTemplateName();if(!c)return;let u=yield this.saveNewTemplate(c,l);if(!u)return;this.templateId=u,localStorage.removeItem("visual_editor_temp_id")}this.removeAllHighlights(),yield new Promise(a=>setTimeout(a,100));try{let a=this.editor.getHtml(),s=this.editor.getCss();if(a=this.cleanHtmlFromOverlays(a),a&&a.trim()){this.templateState.saveEditorProgress(this.templateId,a,s);let l={html:a,css:s,templateId:this.templateId,savedAt:new Date().toISOString()};localStorage.setItem(`visual_editor_${this.templateId}_progress`,JSON.stringify(l))}}catch{}let e=localStorage.getItem(`visual_editor_${this.templateId}_editing_mode`),r=`visual_editor_${this.templateId}_variant_meta`,i=localStorage.getItem(r);if(e==="variant"&&i)try{let a=JSON.parse(i),{runId:s,no:l}=a,c=this.editor.getHtml(),u=this.editor.getCss();c=this.cleanHtmlFromOverlays(c);let p=`<style>${u}</style>${c}`;sessionStorage.setItem("visual_editor_edited_html",p),sessionStorage.setItem("visual_editor_return_use_variant","true"),yield this.router.navigate(["/qa",this.templateId,"use",s,l],{replaceUrl:!1,skipLocationChange:!1})}catch{let s=`visual_editor_${this.templateId}_return_flag`;localStorage.setItem(s,"true"),this.router.navigate(["/qa",this.templateId])}else{let a=this.editor.getHtml(),s=this.editor.getCss();a=this.cleanHtmlFromOverlays(a);let l=`<style>${s}</style>${a}`,c=localStorage.getItem(`template_state_${this.templateId}_editing_context`);if(c)try{let p=JSON.parse(c);p.type==="golden"?localStorage.setItem(`visual_editor_${this.templateId}_golden_html`,l):p.type==="original"&&localStorage.setItem(`template_state_${this.templateId}_edited`,l)}catch{}let u=`visual_editor_${this.templateId}_return_flag`;localStorage.setItem(u,"true"),this.router.navigate(["/qa",this.templateId])}})}copyTextToClipboard(t,e){e&&e.stopPropagation(),navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>{this.showToast(`Copied: "${this.truncateText(t,30)}"`,"success")}).catch(r=>{this.fallbackCopyTextToClipboard(t)}):this.fallbackCopyTextToClipboard(t)}fallbackCopyTextToClipboard(t){let e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.top="-9999px",e.style.left="-9999px",e.style.opacity="0",e.setAttribute("readonly",""),document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")?this.showToast(`Copied: "${this.truncateText(t,30)}"`,"success"):this.showToast("Copy failed. Please try again.","error")}catch{this.showToast("Copy failed. Please try again.","error")}finally{document.body.removeChild(e)}}removeAllHighlights(){try{let t=document.querySelector("iframe#gjs");if(t||(t=document.querySelector(".gjs-frame")),t||(t=document.querySelector("iframe")),t&&t.contentDocument){let e=t.contentDocument,r=e.getElementById("ai-overlay-container");r&&r.remove();let i=e.querySelectorAll('span[data-ai-highlight="true"]');i.length>0&&(i.forEach(a=>{let s=e.createTextNode(a.textContent||"");a.parentNode?.replaceChild(s,a)}),e.body.normalize()),this.overlays=[],this.overlayContainer=null}}catch{}}cleanHtmlFromOverlays(t){if(!t)return t;let e=t.replace(/<div[^>]*id=["']ai-overlay-container["'][^>]*>[\s\S]*?<\/div>/gi,"");return e=e.replace(/<span[^>]*data-ai-highlight=["']true["'][^>]*>(.*?)<\/span>/gi,"$1"),e=e.replace(/background:\s*rgba\(255,\s*235,\s*59,\s*0\.4\);?/gi,""),e=e.replace(/background-color:\s*rgba\(255,\s*235,\s*59,\s*0\.4\);?/gi,""),e=e.replace(/<[^>]*data-gjs-type=["']temporary-overlay["'][^>]*>[\s\S]*?<\/[^>]+>/gi,""),e}searchAndReplaceText(t,e,r){r&&r.stopPropagation();try{let i=document.querySelector("iframe#gjs");if(i||(i=document.querySelector(".gjs-frame")),i||(i=document.querySelector("iframe")),!i||!i.contentDocument){this.showToast("Editor not ready","warning");return}let a=i.contentDocument,s=a.body;a.querySelectorAll('span[data-ai-highlight="true"]').forEach(g=>{let h=a.createTextNode(g.textContent||"");g.parentNode?.replaceChild(h,g)});let c=a.createTreeWalker(s,NodeFilter.SHOW_TEXT,null),u,p=!1;for(;u=c.nextNode();){let g=u.textContent||"",h=t.toLowerCase();if(g.toLowerCase().includes(h)){let y=u.parentElement;if(y){y.scrollIntoView({behavior:"smooth",block:"center"});let _=a.createRange(),x=g.toLowerCase().indexOf(h);_.setStart(u,x),_.setEnd(u,x+t.length);let P=a.createElement("span");P.setAttribute("data-ai-highlight","true"),P.style.cssText="background-color: yellow !important; color: black !important; padding: 2px; cursor: pointer; transition: all 0.2s;",P.title=`Click to replace with: ${e}`,P.addEventListener("click",w=>{w.stopPropagation();let T=a.createTextNode(e);if(P.parentNode?.replaceChild(T,P),T.parentNode&&T.parentNode.normalize(),this.showToast(`\u2713 Replaced with "${this.truncateText(e,25)}"`,"success"),this.editor&&this.templateId){let b=this.editor.getHtml(),k=this.editor.getCss();this.templateState.saveEditorProgress(this.templateId,b,k)}}),P.addEventListener("mouseenter",()=>{P.style.cssText="background-color: #4ade80 !important; color: white !important; padding: 2px; cursor: pointer; transform: scale(1.05); box-shadow: 0 0 8px rgba(74, 222, 128, 0.5);"}),P.addEventListener("mouseleave",()=>{P.style.cssText="background-color: yellow !important; color: black !important; padding: 2px; cursor: pointer; transition: all 0.2s;"});try{_.surroundContents(P),p=!0,this.showToast(`Found "${this.truncateText(t,25)}" - Click to replace`,"success");break}catch{}}}}p||this.showToast("Not found","warning")}catch{}}searchTextInPage(t,e){e&&e.stopPropagation();try{let r=document.querySelector("iframe#gjs");if(r||(r=document.querySelector(".gjs-frame")),r||(r=document.querySelector("iframe")),!r||!r.contentWindow||!r.contentDocument){this.showToast("Editor not ready","warning");return}let i=r.contentDocument,a=i.body,l=(a.innerText||a.textContent||"").toLowerCase(),c=t.toLowerCase();if(l.includes(c)){let u=i.createTreeWalker(a,NodeFilter.SHOW_TEXT,null),p,g=!1;for(;p=u.nextNode();){let h=p.textContent||"";if(h.toLowerCase().includes(c)){let y=p.parentElement;if(y){y.scrollIntoView({behavior:"smooth",block:"center"});let _=i.createRange(),x=h.toLowerCase().indexOf(c);_.setStart(p,x),_.setEnd(p,x+t.length);let P=i.createElement("span");P.style.cssText=`
                background-color: yellow !important;
                color: black !important;
                padding: 2px 4px;
                border-radius: 3px;
                box-shadow: 0 0 0 3px rgba(255, 235, 59, 0.5);
                font-weight: bold;
              `;try{_.surroundContents(P),setTimeout(()=>{if(P.parentNode){let w=i.createTextNode(P.textContent||"");P.parentNode.replaceChild(w,P)}},5e3)}catch{let T=i.getSelection();T&&(T.removeAllRanges(),T.addRange(_))}g=!0,this.showToast(`Found "${this.truncateText(t,30)}"`,"success");break}}}g||this.showToast("Found in content but could not highlight","warning")}else navigator.clipboard.writeText(t).then(()=>{this.showToast("Not found. Copied - try Ctrl+F","warning")}).catch(()=>{this.showToast("Not found","warning")})}catch{this.showToast("Press Ctrl+F to search","info")}}makeTextCopyable(t,e){t.style.cursor="pointer",t.title="Click to copy",t.addEventListener("click",r=>{r.stopPropagation(),this.copyTextToClipboard(e)})}showToast(t,e="info"){let r=document.createElement("div"),i="",a="";switch(e){case"success":i="\u2713",a="#10b981";break;case"error":i="\u2715",a="#ef4444";break;case"warning":i="\u26A0",a="#f59e0b";break;case"info":i="\u2139",a="#3b82f6";break}r.style.cssText=`
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: ${a};
      color: white;
      padding: 16px 20px;
      border-radius: 10px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      z-index: 10000;
      font-weight: 600;
      font-size: 14px;
      max-width: 400px;
      white-space: pre-line;
      display: flex;
      align-items: center;
      gap: 10px;
    `,r.innerHTML=`
      <span style="font-size: 18px; line-height: 1; display: flex; align-items: center; flex-shrink: 0;">${i}</span>
      <span style="line-height: 1.4;">${t}</span>
    `,document.body.appendChild(r),setTimeout(()=>{r.remove()},e==="info"?1e4:3e3)}truncateText(t,e){return t.length<=e?t:t.substring(0,e)+"..."}isEditApplied(t){if(!this.templateId)return!1;let e=`${this.APPLIED_EDITS_KEY}_${this.templateId}`,r=sessionStorage.getItem(e);if(!r)return!1;try{return JSON.parse(r).includes(t)}catch{return!1}}getPendingEditsCount(){return this.failedEdits.filter((t,e)=>!this.isEditApplied(e)).length}selectText(t){let e=t.target;if(window.getSelection&&document.createRange){let r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r?.removeAllRanges(),r?.addRange(i)}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-visual-editor"]],viewQuery:function(e,r){if(e&1&&Wo($z,5),e&2){let i;Gr(i=Kr())&&(r.editorContainer=i.first)}},hostBindings:function(e,r){e&1&&Yt("mousemove",function(a){return r.onDocumentMouseMove(a)},!1,ru)("mouseup",function(a){return r.onDocumentMouseUp(a)},!1,ru)},standalone:!0,features:[cn],decls:36,vars:7,consts:[["editorContainer",""],["fileInput",""],[1,"visual-editor-page"],[1,"editor-header"],["mat-button","",1,"back-btn",3,"click"],[1,"header-title"],[1,"header-actions"],["mat-stroked-button","",1,"action-btn",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","",1,"action-btn","primary",3,"click"],["class","loading-container",4,"ngIf"],[1,"editor-wrapper"],["id","gjs",1,"grapesjs-editor"],["class","import-modal",4,"ngIf"],["class","floating-widget-container",3,"modal-drag-enabled","left","top",4,"ngIf"],["class","name-dialog-overlay",4,"ngIf"],[1,"loading-container"],["diameter","48","mode","indeterminate"],[1,"import-modal"],[1,"modal-backdrop",3,"click"],[1,"modal-content"],[1,"modal-header"],["mat-icon-button","",3,"click"],[1,"import-tabs"],[1,"tab-btn",3,"click"],[1,"modal-body"],["class","file-upload-container",4,"ngIf"],["class","paste-code-container",4,"ngIf"],[1,"modal-footer"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"file-upload-container"],[1,"upload-area"],["type","file","accept",".html,.htm",2,"display","none",3,"change"],[1,"upload-content",3,"click"],[1,"upload-icon"],[1,"file-types"],[1,"file-badge"],[1,"paste-code-container"],["placeholder","Paste your HTML code here...","rows","15",3,"ngModelChange","ngModel"],[1,"floating-widget-container"],[1,"floating-button",3,"mousedown","click","touchstart","touchmove","touchend"],[1,"widget-icon"],["class","count-badge",4,"ngIf"],["class","drag-indicator",4,"ngIf"],["class","widget-dropdown",3,"modal-dragging","modal-drag-enabled","left","top",4,"ngIf"],[1,"count-badge"],[1,"drag-indicator"],[1,"widget-dropdown"],[1,"dropdown-header",3,"mousedown"],[1,"edit-count"],[1,"dropdown-content"],["class","suggestion-item",3,"applied",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"dropdown-footer"],[1,"suggestion-item"],[1,"status-indicator"],[4,"ngIf"],[1,"suggestion-content"],[1,"text-block","find-text"],[1,"label"],["title","Click to find and replace",1,"searchable",3,"click"],[1,"text-block","replace-text"],["title","Click to copy",1,"copyable",3,"click"],["class","reason",4,"ngIf"],[1,"reason"],[1,"empty-state"],[1,"name-dialog-overlay"],[1,"name-dialog-container"],[1,"name-dialog-content"],[1,"dialog-header"],[1,"dialog-body"],[1,"template-name-field"],[1,"field-label"],["type","text","placeholder","e.g., Welcome Email, Newsletter Template","maxlength","100","autofocus","",1,"template-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"field-hint"],["class","char-count",4,"ngIf"],["class","hint-text",4,"ngIf"],["class","field-error",4,"ngIf"],[1,"dialog-actions"],["mat-button","",1,"cancel-btn",3,"click","disabled"],["mat-raised-button","","color","primary",1,"save-btn",3,"click","disabled"],["diameter","20","class","spinner-inline",4,"ngIf"],[1,"char-count"],[1,"hint-text"],[1,"field-error"],["diameter","20",1,"spinner-inline"]],template:function(e,r){if(e&1){let i=xe();O(0,"div",2)(1,"div",3)(2,"button",4),Yt("click",function(){return Ut(i),Wt(r.goBack())}),O(3,"mat-icon"),V(4,"arrow_back"),M(),O(5,"span"),V(6,"Back to Dashboard"),M()(),O(7,"div",5)(8,"mat-icon"),V(9,"design_services"),M(),O(10,"h1"),V(11,"Visual Template Editor"),M()(),O(12,"div",6)(13,"button",7),Yt("click",function(){return Ut(i),Wt(r.openImportModal())}),O(14,"mat-icon"),V(15,"file_upload"),M(),V(16," Import HTML "),M(),O(17,"button",7),Yt("click",function(){return Ut(i),Wt(r.saveTemplate())}),O(18,"mat-icon"),V(19,"save"),M(),V(20," Save "),M(),O(21,"button",8),Yt("click",function(){return Ut(i),Wt(r.onCheckPreview())}),O(22,"mat-icon"),V(23,"preview"),M(),V(24,` Check Preview
`),M(),O(25,"button",9),Yt("click",function(){return Ut(i),Wt(r.exportHTML())}),O(26,"mat-icon"),V(27,"file_download"),M(),V(28," Export HTML "),M()()(),qt(29,Yz,4,0,"div",10),O(30,"div",11),yt(31,"div",12,0),M(),qt(33,Zz,29,7,"div",13)(34,lj,7,16,"div",14)(35,gj,24,10,"div",15),M()}e&2&&(G(21),ct("disabled",r.loading),G(8),ct("ngIf",r.loading),G(),Be("hidden",r.loading),G(3),ct("ngIf",r.showImportModal),G(),ct("ngIf",r.showFloatingWidget),G(),ct("ngIf",r.showNameDialog))},dependencies:[Tn,ki,qn,Ii,yo,bo,gf,Co,yr,ro,li,Cr,br,ci,xo,Oo,Ss],styles:[`@charset "UTF-8";.visual-editor-page{display:flex;flex-direction:column;height:100vh;width:100%;background:#f8fafc;overflow:hidden}.editor-header{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;background:#fff;border-bottom:1px solid #e2e8f0;box-shadow:0 1px 3px #0000000d;z-index:100;flex-shrink:0}.back-btn{display:flex;align-items:center;gap:.5rem;color:#64748b}.back-btn:hover{color:#6d28d9}.header-title{display:flex;align-items:center;gap:.75rem}.header-title mat-icon{color:#f59e0b;font-size:28px;width:28px;height:28px}.header-title h1{margin:0;font-size:1.25rem;font-weight:600;color:#1e293b}.header-actions{display:flex;gap:.75rem}.action-btn{display:flex;align-items:center;gap:.5rem}.action-btn.primary{background:#6d28d9;color:#fff}.action-btn.primary:hover{background:#5b21b6}.loading-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:calc(100vh - 80px);gap:1rem}.loading-container p{color:#64748b;font-size:1rem}.editor-wrapper{flex:1;overflow:hidden;position:relative;min-height:0;height:100%}.editor-wrapper.hidden{display:none}.grapesjs-editor{height:100%;width:100%}.import-modal{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center}.modal-backdrop{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content{position:relative;background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;width:90%;max-width:700px;max-height:80vh;display:flex;flex-direction:column;overflow:hidden}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;border-bottom:1px solid #e2e8f0}.modal-header h2{margin:0;font-size:1.25rem;font-weight:600;color:#1e293b;display:flex;align-items:center;gap:.5rem}.modal-header h2 mat-icon{color:#6d28d9}.import-tabs{display:flex;border-bottom:2px solid #e2e8f0;background:#f8fafc}.import-tabs .tab-btn{flex:1;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;background:transparent;border:none;color:#64748b;font-size:.9375rem;font-weight:500;cursor:pointer;transition:all .3s ease;position:relative}.import-tabs .tab-btn mat-icon{font-size:20px;width:20px;height:20px}.import-tabs .tab-btn:hover{background:#6d28d90d;color:#6d28d9}.import-tabs .tab-btn.active{color:#6d28d9;background:#fff}.import-tabs .tab-btn.active:after{content:"";position:absolute;bottom:-2px;left:0;right:0;height:2px;background:linear-gradient(90deg,#8b5cf6,#6d28d9)}.modal-body{flex:1;padding:1.5rem;overflow-y:auto;min-height:350px}.modal-body textarea{width:100%;min-height:300px;padding:1rem;border:2px solid #e2e8f0;border-radius:8px;font-family:Courier New,monospace;font-size:.875rem;resize:vertical}.modal-body textarea:focus{outline:none;border-color:#6d28d9}.modal-body textarea::placeholder{color:#94a3b8}.file-upload-container{height:100%;display:flex;align-items:center;justify-content:center}.upload-area{width:100%;min-height:300px;display:flex;align-items:center;justify-content:center}.upload-content{width:100%;max-width:400px;padding:3rem 2rem;border:3px dashed #cbd5e1;border-radius:16px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);text-align:center;cursor:pointer;transition:all .3s ease}.upload-content:hover{border-color:#6d28d9;background:linear-gradient(135deg,#faf5ff,#f3e8ff);transform:translateY(-4px);box-shadow:0 8px 24px #6d28d926}.upload-content:hover .upload-icon mat-icon{transform:scale(1.1);color:#6d28d9}.upload-content:active{transform:translateY(-2px)}.upload-icon{margin-bottom:1rem}.upload-icon mat-icon{font-size:64px;width:64px;height:64px;color:#94a3b8;transition:all .3s ease}.upload-content h3{margin:0 0 .5rem;font-size:1.125rem;font-weight:600;color:#1e293b}.upload-content p{margin:0 0 1.5rem;font-size:.875rem;color:#64748b}.file-types{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap}.file-badge{display:inline-block;padding:.25rem .75rem;background:#fff;border:1px solid #e2e8f0;border-radius:6px;font-size:.75rem;font-weight:600;color:#6d28d9;font-family:Courier New,monospace}.paste-code-container{height:100%}.modal-footer{display:flex;gap:.75rem;justify-content:flex-end;padding:1.5rem;border-top:1px solid #e2e8f0}.modal-footer .primary{background:#6d28d9;color:#fff}.modal-footer .primary:hover:not(:disabled){background:#5b21b6}.modal-footer .primary:disabled{opacity:.5;cursor:not-allowed}.check-preview-btn{background:linear-gradient(135deg,#8b5cf6,#6d28d9)!important;color:#fff!important;box-shadow:0 4px 12px #6d28d94d;transition:all .3s ease}.check-preview-btn mat-icon{margin-right:.5rem}.check-preview-btn:hover:not(:disabled){box-shadow:0 6px 20px #6d28d966;transform:translateY(-2px)}.check-preview-btn:active:not(:disabled){transform:translateY(0)}.check-preview-btn:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.header-actions{display:flex;gap:12px;align-items:center}.floating-widget-container{position:fixed;z-index:999;pointer-events:none;transition:left .1s ease-out,top .1s ease-out}.floating-widget-container.modal-drag-enabled{transition:none}.floating-widget-container>*{pointer-events:auto}.floating-button{position:relative;width:60px;height:60px;background:linear-gradient(135deg,#3b82f6,#2563eb);border-radius:50%;box-shadow:0 4px 20px #3b82f666;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-user-select:none;user-select:none}.floating-button:hover{transform:scale(1.1);box-shadow:0 6px 28px #3b82f680}.floating-button:active{transform:scale(.95)}.floating-button.open{background:linear-gradient(135deg,#ef4444,#dc2626);box-shadow:0 4px 20px #ef444466}.floating-button.open .widget-icon{transform:rotate(90deg)}.floating-button.drag-enabled{cursor:move!important;box-shadow:0 6px 28px #3b82f699;transform:scale(1.05)}.floating-button.drag-enabled .widget-icon{opacity:.3}.floating-button.pulse-animate{animation:pulse-attention 2s ease-in-out infinite}.floating-button .widget-icon{color:#fff;font-size:28px;width:28px;height:28px;transition:transform .3s ease,opacity .3s ease}.floating-button .count-badge{position:absolute;top:-4px;right:-4px;min-width:24px;height:24px;background:linear-gradient(135deg,#f59e0b,#d97706);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;padding:0 6px;box-shadow:0 2px 8px #f59e0b66;animation:badge-pop .4s cubic-bezier(.34,1.56,.64,1)}.floating-button .drag-indicator{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;z-index:10}.floating-button .drag-indicator mat-icon{font-size:32px;width:32px;height:32px;color:#fff;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3));animation:pulse-drag 1s ease-in-out infinite}@keyframes pulse-drag{0%,to{transform:scale(1);opacity:.8}50%{transform:scale(1.2);opacity:1}}@keyframes pulse-modal-drag{0%,to{transform:scale(1);opacity:.6}50%{transform:scale(1.15);opacity:1}}.widget-dropdown{position:fixed;top:70px;left:0;width:380px;max-height:400px;background:#fff;border-radius:16px;box-shadow:0 12px 48px #0003;display:flex;flex-direction:column;overflow:hidden;border:1px solid rgba(0,0,0,.08);transition:box-shadow .3s ease}.widget-dropdown.modal-drag-enabled{box-shadow:0 16px 64px #6366f14d;border:2px solid rgba(99,102,241,.4);cursor:move}.widget-dropdown.modal-dragging{cursor:grabbing!important;box-shadow:0 20px 80px #6366f180;transform:scale(1.02);z-index:999}.widget-dropdown .dropdown-header{display:flex;align-items:center;justify-content:space-between;position:relative;cursor:move;padding:16px 20px;background:linear-gradient(135deg,#3b82f614,#2563eb14);border-bottom:1px solid rgba(0,0,0,.06)}.widget-dropdown .dropdown-header.draggable-header{background:linear-gradient(135deg,#6366f10d,#8b5cf60d);border-bottom:2px solid rgba(99,102,241,.2)}.widget-dropdown .dropdown-header h3{margin:0;font-size:16px;font-weight:600;color:#1e293b;display:flex;align-items:center;gap:8px}.widget-dropdown .dropdown-header h3 mat-icon{color:#f59e0b;font-size:20px;width:20px;height:20px}.widget-dropdown .dropdown-header .edit-count{font-size:12px;font-weight:700;color:#fff;background:linear-gradient(135deg,#3b82f6,#2563eb);padding:4px 12px;border-radius:12px;box-shadow:0 2px 8px #3b82f64d}.widget-dropdown .dropdown-content{flex:1;overflow-y:auto;padding:12px}.widget-dropdown .dropdown-content::-webkit-scrollbar{width:6px}.widget-dropdown .dropdown-content::-webkit-scrollbar-track{background:#00000008}.widget-dropdown .dropdown-content::-webkit-scrollbar-thumb{background:#3b82f64d;border-radius:3px}.widget-dropdown .dropdown-content::-webkit-scrollbar-thumb:hover{background:#3b82f680}.widget-dropdown .dropdown-footer{padding:12px 16px;border-top:1px solid rgba(0,0,0,.06);display:flex;justify-content:flex-end}.widget-dropdown .dropdown-footer button{color:#64748b}.widget-dropdown .dropdown-footer button mat-icon{margin-right:4px}.widget-dropdown .dropdown-footer button:hover{color:#ef4444;background:#ef444414}.suggestion-item{display:flex;align-items:flex-start;gap:12px;padding:14px;background:#fff;border:2px solid rgba(0,0,0,.08);border-radius:12px;margin-bottom:10px;transition:all .3s ease}.suggestion-item:last-child{margin-bottom:0}.suggestion-item:hover:not(.applied){border-color:#3b82f64d;box-shadow:0 4px 16px #3b82f61a;transform:translate(4px)}.suggestion-item.applied{opacity:.6;background:#10b98108;border-color:#10b98133}.suggestion-item.selected{border-color:#f59e0b;background:#f59e0b0d}.suggestion-item .status-indicator{flex-shrink:0;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.suggestion-item .status-indicator mat-icon{font-size:18px;width:18px;height:18px}.suggestion-item .status-indicator.pending{background:linear-gradient(135deg,#f59e0b26,#fbbf2426);border:2px solid rgba(245,158,11,.3)}.suggestion-item .status-indicator.pending mat-icon{color:#f59e0b}.suggestion-item .status-indicator.success{background:linear-gradient(135deg,#10b98126,#05966926);border:2px solid rgba(16,185,129,.3)}.suggestion-item .status-indicator.success mat-icon{color:#10b981}.suggestion-item .status-indicator.failed{background:linear-gradient(135deg,#ef444426,#dc262626);border:2px solid rgba(239,68,68,.3)}.suggestion-item .status-indicator.failed mat-icon{color:#ef4444}.suggestion-item .suggestion-content{flex:1;display:flex;flex-direction:column;gap:8px;min-width:0;overflow:visible}.suggestion-item .suggestion-content .text-block{display:flex;flex-direction:column;gap:4px}.suggestion-item .suggestion-content .text-block .label{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#64748b}.suggestion-item .suggestion-content .text-block code{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:13px;padding:8px 10px;border-radius:8px;display:block;word-break:break-word;cursor:text;transition:all .2s ease}.suggestion-item .suggestion-content .text-block code:hover{box-shadow:0 0 0 2px #3b82f633}.suggestion-item .suggestion-content .text-block.find-text code{background:linear-gradient(135deg,#ef44441a,#dc26261a);border:1px solid rgba(239,68,68,.2);color:#991b1b}.suggestion-item .suggestion-content .text-block.replace-text code{background:linear-gradient(135deg,#10b9811a,#0596691a);border:1px solid rgba(16,185,129,.2);color:#065f46}.suggestion-item .suggestion-content .reason{display:flex;align-items:center;gap:8px;font-size:12px;color:#64748b;font-style:italic;padding:8px 12px;background:#00000005;border-radius:6px;overflow:visible}.suggestion-item .suggestion-content .reason mat-icon{font-size:16px;width:16px;height:16px;color:#3b82f6;flex-shrink:0}.suggestion-item .apply-btn{flex-shrink:0;width:36px;height:36px;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border-radius:50%;box-shadow:0 2px 8px #10b9814d;transition:all .3s ease}.suggestion-item .apply-btn mat-icon{font-size:20px;width:20px;height:20px}.suggestion-item .apply-btn:hover{transform:scale(1.1);box-shadow:0 4px 16px #10b98166}.suggestion-item .apply-btn:active{transform:scale(.95)}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}.empty-state mat-icon{font-size:64px;width:64px;height:64px;color:#10b981;margin-bottom:12px}.empty-state p{margin:0;font-size:16px;font-weight:600;color:#64748b}@keyframes pulse-attention{0%,to{box-shadow:0 4px 20px #3b82f666;transform:scale(1)}50%{box-shadow:0 8px 40px #3b82f6cc,0 0 0 12px #3b82f633;transform:scale(1.05)}}@keyframes badge-pop{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}@media (max-width: 768px){.floating-button{width:50px;height:50px}.floating-button .widget-icon{font-size:24px;width:24px;height:24px}.floating-button .count-badge{min-width:20px;height:20px;font-size:11px}.widget-dropdown{width:320px;max-height:350px}.widget-dropdown .dropdown-header h3{font-size:14px}.widget-dropdown .suggestion-item{padding:12px;gap:10px}.widget-dropdown .suggestion-item .status-indicator{width:28px;height:28px}.widget-dropdown .suggestion-item .status-indicator mat-icon{font-size:16px;width:16px;height:16px}.widget-dropdown .suggestion-item .suggestion-content .text-block code{font-size:12px;padding:6px 8px}.widget-dropdown .suggestion-item .apply-btn{width:32px;height:32px}.widget-dropdown .suggestion-item .apply-btn mat-icon{font-size:18px;width:18px;height:18px}}@media (max-width: 480px){.floating-button{width:44px;height:44px}.floating-button .widget-icon{font-size:20px;width:20px;height:20px}.floating-button .count-badge{min-width:18px;height:18px;font-size:10px}.widget-dropdown{width:calc(100vw - 32px);max-width:280px;max-height:300px}.modal-content{width:95%;max-height:90vh}.modal-header{padding:1rem}.modal-header h2{font-size:1rem}.modal-header h2 mat-icon{font-size:18px;width:18px;height:18px}.import-tabs .tab-btn{padding:.75rem;font-size:.8125rem;flex-direction:column;gap:.25rem}.import-tabs .tab-btn span{font-size:.75rem}.modal-body{padding:1rem}.modal-body textarea{min-height:200px;font-size:.8125rem}.upload-content{padding:2rem 1rem}.upload-content h3{font-size:1rem}.upload-content p{font-size:.8125rem}.upload-icon mat-icon{font-size:48px;width:48px;height:48px}.modal-footer{padding:1rem;flex-wrap:wrap}.modal-footer button{flex:1;min-width:100px}}@media (prefers-reduced-motion: reduce){.floating-button.pulse-animate{animation:none}.status-indicator.pending mat-icon{animation:none}*{animation-duration:.01ms!important;transition-duration:.01ms!important}}::ng-deep .match-number-badge{position:absolute;top:-8px;right:-8px;min-width:18px;height:18px;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;padding:2px 4px;box-shadow:0 2px 6px #ef444480;z-index:10;pointer-events:none}@keyframes slideInRight{0%{opacity:0;transform:translate(100px)}to{opacity:1;transform:translate(0)}}@keyframes slideOutRight{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:translate(100px)}}.custom-toast{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;letter-spacing:.3px}::ng-deep .ai-highlight{background:#ffeb3b66!important;border:2px solid #ffd700;border-radius:4px;padding:2px 4px;box-sizing:border-box}.copyable{cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease}.copyable:hover{background:#a855f71a!important;transform:scale(1.02)}.copyable:active{transform:scale(.98)}.searchable{cursor:text;-webkit-user-select:text;user-select:text;transition:all .2s ease}.searchable:hover{background:#3b82f626!important;transform:scale(1.02);box-shadow:0 0 0 2px #3b82f64d}.searchable:active{transform:scale(.98)}.name-dialog-overlay{position:fixed;inset:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px}.name-dialog-container{background:#fff;border-radius:16px;box-shadow:0 24px 48px #0003;max-width:500px;width:100%;animation:slideInUp .3s cubic-bezier(.4,0,.2,1)}@keyframes slideInUp{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.name-dialog-content{padding:32px}.dialog-header{margin-bottom:24px}.dialog-header h2{margin:0 0 8px;font-size:24px;font-weight:600;color:#1e293b}.dialog-header p{margin:0;font-size:14px;color:#64748b}.dialog-body{margin-bottom:24px}.dialog-body .template-name-field{width:100%}.dialog-body .template-name-field .field-label{display:block;font-size:14px;font-weight:500;color:#64748b;margin-bottom:8px}.dialog-body .template-name-field .template-input{width:100%;font-size:16px;padding:16px;border:2px solid #e2e8f0;border-radius:8px;background:#f8fafc;outline:none;transition:all .2s ease;font-family:inherit}.dialog-body .template-name-field .template-input::placeholder{color:#94a3b8}.dialog-body .template-name-field .template-input:focus{border-color:#667eea;background:#fff;box-shadow:0 0 0 3px #667eea1a}.dialog-body .template-name-field .template-input:hover:not(:focus){border-color:#cbd5e1}.dialog-body .template-name-field .field-hint{margin-top:8px;font-size:12px}.dialog-body .template-name-field .field-hint .char-count{color:#64748b}.dialog-body .template-name-field .field-hint .hint-text{color:#94a3b8}.dialog-body .template-name-field .field-error{margin-top:8px;font-size:12px;color:#ef4444;font-weight:500}.dialog-actions{display:flex;gap:12px;justify-content:flex-end}.dialog-actions button{min-width:120px;height:44px;font-weight:600}.dialog-actions button[mat-raised-button]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.dialog-actions button[mat-raised-button]:hover:not(:disabled){background:linear-gradient(135deg,#5568d3,#6a3f91);transform:translateY(-2px);box-shadow:0 8px 16px #667eea4d}.dialog-actions button[mat-raised-button]:disabled{opacity:.6;cursor:not-allowed}.dialog-actions button[mat-button]{color:#64748b}.dialog-actions button[mat-button]:hover:not(:disabled){background:#f1f5f9}@media (max-width: 600px){.name-dialog-container{max-width:100%;margin:20px}.name-dialog-content{padding:24px}.dialog-actions{flex-direction:column-reverse}.dialog-actions button{width:100%}}
`],encapsulation:2,data:{animation:[Jn("slideIn",[In(":enter",[$e({opacity:0,transform:"translateY(-20px) scale(0.95)"}),En("300ms cubic-bezier(0.4, 0, 0.2, 1)",$e({opacity:1,transform:"translateY(0) scale(1)"}))]),In(":leave",[En("200ms cubic-bezier(0.4, 0, 0.2, 1)",$e({opacity:0,transform:"translateY(-20px) scale(0.95)"}))])])]}})}}return o})();var rP=(()=>{class o{canDeactivate(t){return t.canDeactivate?t.canDeactivate():!0}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275prov=_o({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var hj=["*"];var mj=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],vj=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],_j=new ta("MAT_CARD_CONFIG"),iP=(()=>{class o{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(e){return new(e||o)(pn(_j,8))}}static{this.\u0275cmp=ln({type:o,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,r){e&2&&Be("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[cn],ngContentSelectors:hj,decls:1,vars:0,template:function(e,r){e&1&&(fl(),Uo(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return o})(),oP=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275dir=Ta({type:o,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return o})();var aP=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275dir=Ta({type:o,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return o})();var sP=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[cn],ngContentSelectors:vj,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,r){e&1&&(fl(mj),Uo(0),O(1,"div",0),Uo(2,1),M(),Uo(3,2))},encapsulation:2,changeDetection:0})}}return o})();var Zc=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=Bo({type:o})}static{this.\u0275inj=Ho({imports:[Di,Tn,Di]})}}return o})();var Oj=["trigger"],Pj=["panel"],Mj=[[["mat-select-trigger"]],"*"],wj=["mat-select-trigger","*"];function Sj(o,n){if(o&1&&(O(0,"span",4),V(1),M()),o&2){let t=pt();G(),ae(t.placeholder)}}function Tj(o,n){o&1&&Uo(0)}function Ej(o,n){if(o&1&&(O(0,"span",11),V(1),M()),o&2){let t=pt(2);G(),ae(t.triggerValue)}}function kj(o,n){if(o&1&&(O(0,"span",10),qt(1,Tj,1,0)(2,Ej,2,1),M()),o&2){let t=pt();G(),ou(1,t.customTrigger?1:2)}}function Aj(o,n){if(o&1){let t=xe();O(0,"div",12,1),Yt("@transformPanel.done",function(r){Ut(t);let i=pt();return Wt(i._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){Ut(t);let i=pt();return Wt(i._handleKeydown(r))}),Uo(2,1),M()}if(o&2){let t=pt();$y("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),ct("ngClass",t.panelClass)("@transformPanel","showing"),pr("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}var Ij={transformPanelWrap:Jn("transformPanelWrap",[In("* => void",gb("@transformPanel",[fb()],{optional:!0}))]),transformPanel:Jn("transformPanel",[hl("void",$e({opacity:0,transform:"scale(1, 0.8)"})),In("void => showing",En("120ms cubic-bezier(0, 0, 0.2, 1)",$e({opacity:1,transform:"scale(1, 1)"}))),In("* => void",En("100ms linear",$e({opacity:0})))])};var pP=0,gP=new ta("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let o=ye(qm);return()=>o.scrollStrategies.reposition()}});function Dj(o){return()=>o.scrollStrategies.reposition()}var Lj=new ta("MAT_SELECT_CONFIG"),Nj={provide:gP,deps:[qm],useFactory:Dj},Rj=new ta("MatSelectTrigger"),dv=class{constructor(n,t){this.source=n,this.value=t}},lh=(()=>{class o{_scrollOptionIntoView(t){let e=this.options.toArray()[t];if(e){let r=this.panel.nativeElement,i=kb(t,this.options,this.optionGroups),a=e._getHostElement();t===0&&i===1?r.scrollTop=0:r.scrollTop=Ab(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new dv(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(hb.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._selectionModel,this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,e,r,i,a,s,l,c,u,p,g,h,y,_){this._viewportRuler=t,this._changeDetectorRef=e,this._elementRef=a,this._dir=s,this._parentFormField=u,this.ngControl=p,this._liveAnnouncer=y,this._defaultOptions=_,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(x,P)=>x===P,this._uid=`mat-select-${pP++}`,this._triggerAriaLabelledBy=null,this._destroy=new Ur,this.stateChanges=new Ur,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${pP++}`,this._panelDoneAnimatingStream=new Ur,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Ur,this.optionSelectionChanges=jy(()=>{let x=this.options;return x?x.changes.pipe(Bm(x),tu(()=>ef(...x.map(P=>P.onSelectionChange)))):this._initialized.pipe(tu(()=>this.optionSelectionChanges))}),this.openedChange=new ei,this._openedStream=this.openedChange.pipe(Zo(x=>x),eo(()=>{})),this._closedStream=this.openedChange.pipe(Zo(x=>!x),eo(()=>{})),this.selectionChange=new ei,this.valueChange=new ei,this._trackedModal=null,this._skipPredicate=x=>this.panelOpen?!1:x.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),_?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=_.typeaheadDebounceInterval),this._errorStateTracker=new wb(i,p,c,l,this.stateChanges),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(g)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Ib(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(_s(),gn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(gn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(gn(this._destroy)).subscribe(t=>{t.added.forEach(e=>e.select()),t.removed.forEach(e=>e.deselect())}),this.options.changes.pipe(Bm(null),gn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let t=this._getTriggerAriaLabelledby(),e=this.ngControl;if(t!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}e&&(this._previousControl!==e.control&&(this._previousControl!==void 0&&e.disabled!==null&&e.disabled!==this.disabled&&(this.disabled=e.disabled),this._previousControl=e.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let e=`${this.id}-panel`;this._trackedModal&&Gm(this._trackedModal,"aria-owns",e),Cb(t,"aria-owns",e),this._trackedModal=t}_clearFromModal(){if(!this._trackedModal)return;let t=`${this.id}-panel`;Gm(this._trackedModal,"aria-owns",t),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let t=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){let e=t.keyCode,r=e===40||e===38||e===37||e===39,i=e===13||e===32,a=this._keyManager;if(!a.isTyping()&&i&&!Wm(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){let s=this.selected;a.onKeydown(t);let l=this.selected;l&&s!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(t){let e=this._keyManager,r=t.keyCode,i=r===40||r===38,a=e.isTyping();if(i&&t.altKey)t.preventDefault(),this.close();else if(!a&&(r===13||r===32)&&e.activeItem&&!Wm(t))t.preventDefault(),e.activeItem._selectViaInteraction();else if(!a&&this._multiple&&r===65&&t.ctrlKey){t.preventDefault();let s=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(s?l.select():l.deselect())})}else{let s=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==s&&e.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(vo(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(e=>e.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(e=>this._selectOptionByValue(e)),this._sortValues();else{let e=this._selectOptionByValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){let e=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return r.value!=null&&this._compareWith(r.value,t)}catch{return!1}});return e&&this._selectionModel.select(e),e}_assignValue(t){return t!==this._value||this._multiple&&Array.isArray(t)?(this.options&&this._setSelectionByValue(t),this._value=t,!0):!1}_getOverlayWidth(t){return this.panelWidth==="auto"?(t instanceof $m?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new xb(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let t=ef(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(gn(t)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),ef(...this.options.map(e=>e._stateChanges)).pipe(gn(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,e){let r=this._selectionModel.isSelected(t);t.value==null&&!this._multiple?(t.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(t.value)):(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let t=this.options.toArray();this._selectionModel.sort((e,r)=>this.sortComparator?this.sortComparator(e,r,t):t.indexOf(e)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let e;this.multiple?e=this.selected.map(r=>r.value):e=this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let e=0;e<this.options.length;e++)if(!this.options.get(e).disabled){t=e;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),e=t?t+" ":"";return this.ariaLabelledby?e+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),e=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(e){return new(e||o)(pn(Rb),pn(qr),pn(ka),pn(Sb),pn(Ea),pn(Mb,8),pn(vb,8),pn(_b,8),pn(Wb,8),pn(mb,10),Wy("tabindex"),pn(gP),pn(Ob),pn(Lj,8))}}static{this.\u0275cmp=ln({type:o,selectors:[["mat-select"]],contentQueries:function(e,r,i){if(e&1&&(bs(i,Rj,5),bs(i,bc,5),bs(i,Eb,5)),e&2){let a;Gr(a=Kr())&&(r.customTrigger=a.first),Gr(a=Kr())&&(r.options=a),Gr(a=Kr())&&(r.optionGroups=a)}},viewQuery:function(e,r){if(e&1&&(Wo(Oj,5),Wo(Pj,5),Wo(Ym,5)),e&2){let i;Gr(i=Kr())&&(r.trigger=i.first),Gr(i=Kr())&&(r.panel=i.first),Gr(i=Kr())&&(r._overlayDir=i.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,r){e&1&&Yt("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),e&2&&(pr("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Be("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[si.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[si.HasDecoratorInputTransform,"disabled","disabled",gl],disableRipple:[si.HasDecoratorInputTransform,"disableRipple","disableRipple",gl],tabIndex:[si.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>t==null?0:_c(t)],hideSingleSelectionIndicator:[si.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",gl],placeholder:"placeholder",required:[si.HasDecoratorInputTransform,"required","required",gl],multiple:[si.HasDecoratorInputTransform,"multiple","multiple",gl],disableOptionCentering:[si.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",gl],compareWith:"compareWith",value:"value",ariaLabel:[si.None,"aria-label","ariaLabel"],ariaLabelledby:[si.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[si.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",_c],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Xy([{provide:Ub,useExisting:o},{provide:Tb,useExisting:o}]),iu,ys,cn],ngContentSelectors:wj,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(e,r){if(e&1){let i=xe();fl(Mj),O(0,"div",2,0),Yt("click",function(){return Ut(i),Wt(r.open())}),O(3,"div",3),qt(4,Sj,2,1,"span",4)(5,kj,3,1),M(),O(6,"div",5)(7,"div",6),Xt(),O(8,"svg",7),yt(9,"path",8),M()()()(),qt(10,Aj,3,9,"ng-template",9),Yt("backdropClick",function(){return Ut(i),Wt(r.close())})("attach",function(){return Ut(i),Wt(r._onAttached())})("detach",function(){return Ut(i),Wt(r.close())})}if(e&2){let i=fr(1);G(3),pr("id",r._valueId),G(),ou(4,r.empty?4:5),G(6),ct("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[$m,Ym,na],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Ij.transformPanel]},changeDetection:0})}}return o})();var ch=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=Bo({type:o})}static{this.\u0275inj=Ho({providers:[Nj],imports:[Tn,Vb,Km,Di,Fb,Oo,Km,Di]})}}return o})();function Vj(o,n){if(o&1&&(O(0,"div",4),Xt(),O(1,"svg",5),yt(2,"path",6),M(),re(),O(3,"span",7),V(4," Showing "),O(5,"strong"),V(6),M(),V(7," to "),O(8,"strong"),V(9),M(),V(10," of "),O(11,"strong"),V(12),M()()()),o&2){let t=pt();G(6),ae(t.startItem),G(3),ae(t.endItem),G(3),ae(t.totalItems)}}function zj(o,n){if(o&1){let t=xe();O(0,"button",18),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.goToFirstPage())}),Xt(),O(1,"svg",5),yt(2,"path",19),M(),re(),O(3,"span",12),V(4),M()()}if(o&2){let t=pt(2);ct("disabled",t.isFirstPage),pr("aria-label",t.config.firstLabel),G(4),ae(t.config.firstLabel)}}function jj(o,n){if(o&1&&(O(0,"span"),V(1),M()),o&2){let t=pt().$implicit;G(),ae(t)}}function Hj(o,n){o&1&&(O(0,"span",23),V(1,"..."),M())}function Bj(o,n){if(o&1){let t=xe();O(0,"button",20),Yt("click",function(){let r=Ut(t).$implicit,i=pt(2);return Wt(i.goToPage(r))}),qt(1,jj,2,1,"span",21)(2,Hj,2,0,"span",22),M()}if(o&2){let t=n.$implicit,e=pt(2);Be("active",t===e.currentPage)("ellipsis",t===-1),ct("disabled",t===-1),pr("aria-label","Page "+t),G(),ct("ngIf",t!==-1),G(),ct("ngIf",t===-1)}}function Uj(o,n){if(o&1){let t=xe();O(0,"button",24),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.goToLastPage())}),O(1,"span",12),V(2),M(),Xt(),O(3,"svg",5),yt(4,"path",25),M()()}if(o&2){let t=pt(2);ct("disabled",t.isLastPage),pr("aria-label",t.config.lastLabel),G(2),ae(t.config.lastLabel)}}function Wj(o,n){if(o&1){let t=xe();O(0,"div",8),qt(1,zj,5,3,"button",9),O(2,"button",10),Yt("click",function(){Ut(t);let r=pt();return Wt(r.goToPreviousPage())}),Xt(),O(3,"svg",5),yt(4,"path",11),M(),re(),O(5,"span",12),V(6),M()(),O(7,"div",13),qt(8,Bj,3,8,"button",14),M(),O(9,"button",15),Yt("click",function(){Ut(t);let r=pt();return Wt(r.goToNextPage())}),O(10,"span",12),V(11),M(),Xt(),O(12,"svg",5),yt(13,"path",16),M()(),qt(14,Uj,5,3,"button",17),M()}if(o&2){let t=pt();G(),ct("ngIf",t.config.showFirstLastButtons),G(),ct("disabled",!t.hasPreviousPage),pr("aria-label",t.config.previousLabel),G(4),ae(t.config.previousLabel),G(2),ct("ngForOf",t.visiblePages),G(),ct("disabled",!t.hasNextPage),pr("aria-label",t.config.nextLabel),G(2),ae(t.config.nextLabel),G(3),ct("ngIf",t.config.showFirstLastButtons)}}function Gj(o,n){if(o&1&&(O(0,"mat-option",32),V(1),M()),o&2){let t=n.$implicit;ct("value",t),G(),Ke(" ",t," ")}}function Kj(o,n){if(o&1){let t=xe();O(0,"div",26)(1,"label",27),Xt(),O(2,"svg",5),yt(3,"path",28),M(),re(),O(4,"span"),V(5,"Per page:"),M()(),O(6,"mat-form-field",29)(7,"mat-select",30),Yt("selectionChange",function(r){Ut(t);let i=pt();return Wt(i.onPageSizeChange(r.value))}),qt(8,Gj,2,2,"mat-option",31),M()()()}if(o&2){let t=pt();G(7),ct("value",t.pageSize),G(),ct("ngForOf",t.config.pageSizeOptions)}}var dh=(()=>{class o{constructor(){this.totalItems=0,this.currentPage=1,this.pageSize=25,this.loading=!1,this.config={pageSizeOptions:[10,25,50,100],showFirstLastButtons:!0,showPageSizeSelector:!0,showPageInfo:!0,maxVisiblePages:7,previousLabel:"Previous",nextLabel:"Next",firstLabel:"First",lastLabel:"Last"},this.pageChange=new ei,this.pageSizeChange=new ei,this.totalPages=0,this.visiblePages=[],this.startItem=0,this.endItem=0,this.defaultConfig={pageSizeOptions:[10,25,50,100],showFirstLastButtons:!0,showPageSizeSelector:!0,showPageInfo:!0,maxVisiblePages:7,previousLabel:"Previous",nextLabel:"Next",firstLabel:"First",lastLabel:"Last"}}ngOnChanges(t){this.config=Tr(Tr({},this.defaultConfig),this.config),this.calculatePagination()}calculatePagination(){this.totalPages=Math.ceil(this.totalItems/this.pageSize),this.currentPage>this.totalPages&&this.totalPages>0&&(this.currentPage=this.totalPages),this.currentPage<1&&(this.currentPage=1),this.visiblePages=this.calculateVisiblePages(),this.startItem=this.totalItems===0?0:(this.currentPage-1)*this.pageSize+1,this.endItem=Math.min(this.currentPage*this.pageSize,this.totalItems)}calculateVisiblePages(){let t=this.config.maxVisiblePages||7,e=[];if(this.totalPages<=t)for(let r=1;r<=this.totalPages;r++)e.push(r);else{let r=Math.floor(t/2),i=Math.max(1,this.currentPage-r),a=Math.min(this.totalPages,i+t-1);a-i<t-1&&(i=Math.max(1,a-t+1)),i>1&&(e.push(1),i>2&&e.push(-1));for(let s=i;s<=a;s++)e.push(s);a<this.totalPages&&(a<this.totalPages-1&&e.push(-1),e.push(this.totalPages))}return e}goToPage(t){t<1||t>this.totalPages||t===this.currentPage||(this.currentPage=t,this.calculatePagination(),this.emitPageChange())}goToFirstPage(){this.goToPage(1)}goToLastPage(){this.goToPage(this.totalPages)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToNextPage(){this.goToPage(this.currentPage+1)}onPageSizeChange(t){if(t===this.pageSize)return;this.pageSize=t;let e=(this.currentPage-1)*this.pageSize;this.currentPage=Math.floor(e/t)+1,this.calculatePagination(),this.pageSizeChange.emit(this.pageSize),this.emitPageChange()}emitPageChange(){let t={page:this.currentPage,pageSize:this.pageSize,offset:(this.currentPage-1)*this.pageSize};this.pageChange.emit(t)}get hasPreviousPage(){return this.currentPage>1}get hasNextPage(){return this.currentPage<this.totalPages}get isFirstPage(){return this.currentPage===1}get isLastPage(){return this.currentPage===this.totalPages}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-pagination"]],inputs:{totalItems:"totalItems",currentPage:"currentPage",pageSize:"pageSize",loading:"loading",config:"config"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[ys,cn],decls:4,vars:3,consts:[[1,"pagination-wrapper"],["class","pagination-info",4,"ngIf"],["class","pagination-controls",4,"ngIf"],["class","page-size-selector",4,"ngIf"],[1,"pagination-info"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"info-text"],[1,"pagination-controls"],["class","pagination-btn first-btn",3,"disabled","click",4,"ngIf"],[1,"pagination-btn","prev-btn",3,"click","disabled"],["d","M15 19l-7-7 7-7"],[1,"btn-label"],[1,"page-numbers"],["class","page-number-btn",3,"active","ellipsis","disabled","click",4,"ngFor","ngForOf"],[1,"pagination-btn","next-btn",3,"click","disabled"],["d","M9 5l7 7-7 7"],["class","pagination-btn last-btn",3,"disabled","click",4,"ngIf"],[1,"pagination-btn","first-btn",3,"click","disabled"],["d","M11 19l-7-7 7-7m8 14l-7-7 7-7"],[1,"page-number-btn",3,"click","disabled"],[4,"ngIf"],["class","ellipsis-dots",4,"ngIf"],[1,"ellipsis-dots"],[1,"pagination-btn","last-btn",3,"click","disabled"],["d","M13 5l7 7-7 7M5 5l7 7-7 7"],[1,"page-size-selector"],[1,"selector-label"],["d","M4 6h16M4 12h16M4 18h16"],["appearance","outline",1,"page-size-mat-select"],["panelClass","pagination-select-panel",3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,r){e&1&&(O(0,"div",0),qt(1,Vj,13,3,"div",1)(2,Wj,15,9,"div",2)(3,Kj,9,2,"div",3),M()),e&2&&(G(),ct("ngIf",r.config.showPageInfo&&r.totalItems>0),G(),ct("ngIf",r.totalPages>0),G(),ct("ngIf",r.config.showPageSizeSelector&&r.config.pageSizeOptions&&r.config.pageSizeOptions.length>0))},dependencies:[Tn,ki,qn,Ii,Oo,vf,ch,lh,bc],styles:["[_nghost-%COMP%]{display:block;width:100%}.pagination-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1.5rem;padding:1.5rem;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:16px;border:1px solid rgba(139,92,246,.1);box-shadow:0 4px 24px #8b5cf614,0 2px 8px #0000000a;position:relative;transition:all .3s cubic-bezier(.4,0,.2,1);flex-wrap:wrap}.pagination-wrapper.loading[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}@media (max-width: 1024px){.pagination-wrapper[_ngcontent-%COMP%]{gap:1rem;padding:1rem}}@media (max-width: 768px){.pagination-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}}.pagination-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#64748b;font-size:.875rem;font-weight:500}.pagination-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#8b5cf6;flex-shrink:0}.pagination-info[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{white-space:nowrap}.pagination-info[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1e293b;font-weight:600}@media (max-width: 768px){.pagination-info[_ngcontent-%COMP%]{justify-content:center;order:3}}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1;justify-content:center}@media (max-width: 768px){.pagination-controls[_ngcontent-%COMP%]{order:1;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none}.pagination-controls[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}}.pagination-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1rem;background:linear-gradient(135deg,#8b5cf60d,#ec48990d);border:1.5px solid rgba(139,92,246,.2);border-radius:10px;color:#8b5cf6;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);white-space:nowrap;-webkit-user-select:none;user-select:none;box-sizing:border-box}.pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;transition:transform .2s ease}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#8b5cf626,#ec489926);border-color:#8b5cf666;box-shadow:0 4px 12px #8b5cf633}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled)   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.pagination-btn[_ngcontent-%COMP%]:active:not(:disabled){box-shadow:0 2px 6px #8b5cf626}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed;background:#94a3b80d;border-color:#94a3b833;color:#94a3b8}.pagination-btn[_ngcontent-%COMP%]:focus{outline:none}.pagination-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid rgba(139,92,246,.5);outline-offset:2px}@media (max-width: 640px){.pagination-btn[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.pagination-btn.first-btn[_ngcontent-%COMP%], .pagination-btn.last-btn[_ngcontent-%COMP%]{display:none}}.page-numbers[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;margin:0 .5rem}@media (max-width: 640px){.page-numbers[_ngcontent-%COMP%]{margin:0 .25rem;gap:.25rem}}.page-number-btn[_ngcontent-%COMP%]{min-width:40px;height:40px;display:flex;align-items:center;justify-content:center;padding:.5rem;background:#fffc;border:1.5px solid rgba(139,92,246,.15);border-radius:10px;color:#64748b;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);-webkit-user-select:none;user-select:none;box-sizing:border-box;position:relative}@media (max-width: 640px){.page-number-btn[_ngcontent-%COMP%]{min-width:36px;height:36px;font-size:.8125rem}}.page-number-btn[_ngcontent-%COMP%]:hover:not(:disabled):not(.active):not(.ellipsis){background:linear-gradient(135deg,#8b5cf61a,#ec48991a);border-color:#8b5cf64d;color:#8b5cf6;box-shadow:0 4px 12px #8b5cf626}.page-number-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);border-color:#8b5cf6;color:#fff;box-shadow:0 4px 16px #8b5cf64d,0 2px 8px #8b5cf633;font-weight:700}.page-number-btn.active[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#9333ea,#a855f7)}.page-number-btn.ellipsis[_ngcontent-%COMP%]{cursor:default;border-color:transparent;background:transparent;color:#94a3b8;pointer-events:none}.page-number-btn.ellipsis[_ngcontent-%COMP%]   .ellipsis-dots[_ngcontent-%COMP%]{letter-spacing:2px;font-weight:700}.page-number-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.page-number-btn[_ngcontent-%COMP%]:focus{outline:none}.page-number-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid rgba(139,92,246,.5);outline-offset:2px}.page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}@media (max-width: 768px){.page-size-selector[_ngcontent-%COMP%]{order:2;justify-content:center}}.page-size-selector[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#64748b;font-size:.875rem;font-weight:600;cursor:pointer;-webkit-user-select:none;user-select:none}.page-size-selector[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;color:#3b82f6}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]{width:70px;margin:0}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{min-height:auto;padding:0;border:none}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{padding:0;background:#fff;border-radius:8px}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-flex{height:36px;align-items:center;padding:0 .5rem 0 .75rem;background:#fff;border:1.5px solid rgba(59,130,246,.2);border-radius:8px;transition:all .2s ease}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-flex:hover{border-color:#3b82f666;box-shadow:0 2px 8px #3b82f626}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-focus-overlay{display:none}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mdc-notched-outline{display:none}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-select{padding:0;font-size:.875rem;font-weight:600}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-value{color:#1e293b;font-size:.875rem;font-weight:600}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-trigger{height:36px;min-height:36px}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-arrow-wrapper{height:20px;padding-left:.25rem}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #3b82f6}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow svg{display:none}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-focused .mat-mdc-form-field-flex{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.page-size-selector[_ngcontent-%COMP%]   .page-size-mat-select[_ngcontent-%COMP%]     .mat-form-field-disabled .mat-mdc-form-field-flex{opacity:.5;cursor:not-allowed}.pagination-loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffc;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border-radius:16px;display:flex;align-items:center;justify-content:center;z-index:10}.loading-spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid rgba(139,92,246,.2);border-top-color:#8b5cf6;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 640px){.pagination-wrapper[_ngcontent-%COMP%]{padding:1rem .75rem;gap:.75rem}.pagination-controls[_ngcontent-%COMP%]{gap:.375rem}.pagination-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.8125rem}.pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.page-size-selector[_ngcontent-%COMP%]{padding:.5rem .75rem;gap:.5rem}.page-size-selector[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.pagination-btn[_ngcontent-%COMP%]:focus-visible, .page-number-btn[_ngcontent-%COMP%]:focus-visible, .page-size-select[_ngcontent-%COMP%]:focus-visible{outline:2px solid #8b5cf6;outline-offset:2px}  .pagination-select-panel{margin-top:8px;border-radius:12px;box-shadow:0 8px 32px #8b5cf626!important;border:1px solid rgba(139,92,246,.1);overflow:hidden}  .pagination-select-panel .mat-mdc-option{min-height:44px;padding:0 1rem;font-size:.875rem;font-weight:600;color:#64748b;transition:all .2s ease}  .pagination-select-panel .mat-mdc-option:hover{background:linear-gradient(135deg,#8b5cf614,#ec489914);color:#8b5cf6}  .pagination-select-panel .mat-mdc-option.mat-mdc-option-active,   .pagination-select-panel .mat-mdc-option.mdc-list-item--selected{background:linear-gradient(135deg,#8b5cf626,#ec489926);color:#8b5cf6;font-weight:700}  .pagination-select-panel .mat-mdc-option.mat-mdc-option-active .mdc-list-item__primary-text,   .pagination-select-panel .mat-mdc-option.mdc-list-item--selected .mdc-list-item__primary-text{color:#8b5cf6}"]})}}return o})();var qj=o=>["/organization/campaigns",o];function $j(o,n){o&1&&(O(0,"div",8)(1,"div",9),yt(2,"mat-spinner",10),O(3,"p",11),V(4,"Loading organization dashboard..."),M()()())}function Yj(o,n){if(o&1&&(O(0,"div",12)(1,"div",13)(2,"div",14),Xt(),O(3,"svg",15),yt(4,"path",16),M()(),re(),O(5,"h2"),V(6),M(),O(7,"p"),V(8,"Please try refreshing the page or contact support"),M()()()),o&2){let t=pt();G(6),ae(t.error)}}function Xj(o,n){if(o&1){let t=xe();O(0,"div")(1,"div",26),V(2),M(),O(3,"div",46),Xt(),O(4,"svg",15),yt(5,"path",47),M(),re(),O(6,"span"),V(7),M()(),O(8,"button",48),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.viewAudienceList())}),Xt(),O(9,"svg",15),yt(10,"path",49),M(),V(11," View Audience "),M()()}if(o&2){let t=pt(2);G(2),ae(t.audienceData.stats.totalSubscribers),G(5),Ke("+",t.audienceData.stats.newLast30Days," last 30 days")}}function Qj(o,n){if(o&1){let t=xe();O(0,"div",50)(1,"div",51),Xt(),O(2,"svg",15),yt(3,"path",52),M()(),re(),O(4,"p",53),V(5,"No audience configured"),M(),O(6,"p",54),V(7,"Link or create a Mailchimp audience list"),M(),O(8,"button",55),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.setupAudience())}),Xt(),O(9,"svg",15),yt(10,"path",56),M(),V(11),M()()}if(o&2){let t=pt(2);G(8),ct("disabled",t.settingUpAudience),G(3),Ke(" ",t.settingUpAudience?"Setting up...":"Setup Audience"," ")}}function Jj(o,n){if(o&1){let t=xe();O(0,"div",57)(1,"div",20)(2,"div",58)(3,"div",59),Xt(),O(4,"svg",15),yt(5,"path",60),M()(),re(),O(6,"h3",23),V(7,"Audience Insights"),M(),yt(8,"div",61),M(),O(9,"button",62),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.refreshData())}),O(10,"mat-icon"),V(11,"refresh"),M()()(),O(12,"div",25)(13,"div",63)(14,"div",64)(15,"div",65),Xt(),O(16,"svg",15),yt(17,"path",66),M()(),re(),O(18,"div",67)(19,"span",68),V(20),M(),O(21,"span",40),V(22,"Subscribed"),M()()(),O(23,"div",69)(24,"div",65),Xt(),O(25,"svg",15),yt(26,"path",70),M()(),re(),O(27,"div",67)(28,"span",68),V(29),M(),O(30,"span",40),V(31,"Unsubscribed"),M()()(),O(32,"div",71)(33,"div",65),Xt(),O(34,"svg",15),yt(35,"path",72)(36,"path",73),M()(),re(),O(37,"div",67)(38,"span",68),V(39),M(),O(40,"span",40),V(41,"Avg. Open Rate"),M()()(),O(42,"div",74)(43,"div",65),Xt(),O(44,"svg",15),yt(45,"path",75),M()(),re(),O(46,"div",67)(47,"span",68),V(48),M(),O(49,"span",40),V(50,"Avg. Click Rate"),M()()()()()()}if(o&2){let t=pt(2);G(9),ct("disabled",t.loading),G(11),ae(t.audienceData.stats.subscribed),G(9),ae(t.audienceData.stats.unsubscribed),G(10),ae(t.formatPercent(t.audienceData.stats.openRate)),G(9),ae(t.formatPercent(t.audienceData.stats.clickRate))}}function Zj(o,n){if(o&1&&(O(0,"p",98),V(1),M()),o&2){let t=pt().$implicit;G(),ae(t.subject)}}function tH(o,n){if(o&1&&(O(0,"div",99)(1,"span",100),Xt(),O(2,"svg",15),yt(3,"path",72)(4,"path",73),M(),V(5),M(),re(),O(6,"span",101),Xt(),O(7,"svg",15),yt(8,"path",75),M(),V(9),M()()),o&2){let t=pt().$implicit,e=pt(3);G(5),Ke(" ",e.formatPercent(t.metrics.openRate)," "),G(4),Ke(" ",e.formatPercent(t.metrics.clickRate)," ")}}function eH(o,n){if(o&1&&(O(0,"button",102),Xt(),O(1,"svg",15),yt(2,"path",60),M(),V(3," View Report "),M()),o&2){let t=pt().$implicit;ct("routerLink",af(1,qj,t._id))}}function nH(o,n){if(o&1){let t=xe();O(0,"div",83)(1,"div",84)(2,"div",85)(3,"h4",86),V(4),M(),qt(5,Zj,2,1,"p",87),O(6,"div",88)(7,"span",89),Xt(),O(8,"svg",15),yt(9,"path",35),M(),V(10),M(),re(),O(11,"span",90),V(12,"\u2022"),M(),O(13,"span",89),Xt(),O(14,"svg",15),yt(15,"path",91),M(),V(16),M()()(),re(),O(17,"div",92)(18,"span",93),V(19),M(),qt(20,tH,10,2,"div",94)(21,eH,4,3,"button",95),O(22,"button",96),Yt("click",function(r){let i=Ut(t).$implicit;return pt(3).refreshCampaignMetrics(i._id),Wt(r.stopPropagation())}),Xt(),O(23,"svg",15),yt(24,"path",97),M()()()()()}if(o&2){let t=n.$implicit,e=pt(3);G(4),ae(t.name),G(),ct("ngIf",t.subject),G(5),Ke(" ",t.recipientsCount," recipients "),G(6),Ke(" ",e.formatDate(t.createdAt)," "),G(2),ct("ngClass",e.getStatusClass(t.status)),G(),Ke(" ",t.status," "),G(),ct("ngIf",t.status==="sent"),G(),ct("ngIf",t.status==="sent"),G(),Be("spinning",e.syncingCampaigns.has(t._id)),ct("disabled",e.syncingCampaigns.has(t._id))}}function rH(o,n){if(o&1){let t=xe();O(0,"app-pagination",103),Yt("pageChange",function(r){Ut(t);let i=pt(3);return Wt(i.onCampaignPageChange(r))}),M()}if(o&2){let t=pt(3);ct("currentPage",t.campaignsCurrentPage)("pageSize",t.campaignsPageSize)("totalItems",t.campaignsTotalItems)}}function iH(o,n){if(o&1&&(O(0,"div",76)(1,"div",20)(2,"div",77),Xt(),O(3,"svg",15),yt(4,"path",78),M()(),re(),O(5,"h3",23),V(6,"Recent Campaigns"),M(),yt(7,"div",79),M(),O(8,"div",25)(9,"div",80),qt(10,nH,25,11,"div",81),M(),qt(11,rH,1,3,"app-pagination",82),M()()),o&2){let t=pt(2);G(10),ct("ngForOf",t.paginatedCampaigns),G(),ct("ngIf",t.campaignsTotalItems>5)}}function oH(o,n){o&1&&(O(0,"div",104)(1,"div",105),Xt(),O(2,"svg",15),yt(3,"path",22),M()(),re(),O(4,"h2"),V(5,"No campaigns yet"),M(),O(6,"p"),V(7,"Create your first email campaign to get started"),M()())}function aH(o,n){if(o&1&&(O(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21),Xt(),O(5,"svg",15),yt(6,"path",22),M()(),re(),O(7,"h3",23),V(8,"Campaigns"),M(),yt(9,"div",24),M(),O(10,"div",25)(11,"div",26),V(12),M(),O(13,"div",27)(14,"div",28),yt(15,"div",29),O(16,"span",30),V(17),M(),O(18,"span",31),V(19,"Draft"),M()(),O(20,"div",32),yt(21,"div",29),O(22,"span",30),V(23),M(),O(24,"span",31),V(25,"Scheduled"),M()(),O(26,"div",33),yt(27,"div",29),O(28,"span",30),V(29),M(),O(30,"span",31),V(31,"Sent"),M()()()()(),O(32,"div",34)(33,"div",20)(34,"div",21),Xt(),O(35,"svg",15),yt(36,"path",35),M()(),re(),O(37,"h3",23),V(38,"Subscribers"),M(),yt(39,"div",24),M(),O(40,"div",25),qt(41,Xj,12,2,"div",36)(42,Qj,12,2,"div",37),M()(),O(43,"div",38)(44,"div",20)(45,"div",21),Xt(),O(46,"svg",15),yt(47,"path",39),M()(),re(),O(48,"h3",23),V(49,"Templates"),M(),yt(50,"div",24),M(),O(51,"div",25)(52,"div",26),V(53),M(),O(54,"div",40),V(55,"Email templates created"),M()()(),O(56,"div",41)(57,"div",20)(58,"div",21),Xt(),O(59,"svg",15),yt(60,"path",42),M()(),re(),O(61,"h3",23),V(62,"Team"),M(),yt(63,"div",24),M(),O(64,"div",25)(65,"div",26),V(66),M(),O(67,"div",40),V(68,"Team members"),M()()()(),qt(69,Jj,51,5,"div",43)(70,iH,12,2,"div",44)(71,oH,8,0,"div",45),M()),o&2){let t=pt();G(12),ae(t.dashboardData.stats.campaigns.total),G(5),ae(t.dashboardData.stats.campaigns.draft),G(6),ae(t.dashboardData.stats.campaigns.scheduled),G(6),ae(t.dashboardData.stats.campaigns.sent),G(12),ct("ngIf",t.audienceData),G(),ct("ngIf",!t.audienceData),G(11),ae(t.dashboardData.stats.templates),G(13),ae(t.dashboardData.stats.members),G(3),ct("ngIf",t.audienceData),G(),ct("ngIf",t.dashboardData.recentCampaigns.length>0),G(),ct("ngIf",t.dashboardData.recentCampaigns.length===0&&!t.audienceData)}}var mP=(()=>{class o{constructor(){this.orgService=ye(Pc),this.authService=ye(gr),this.route=ye(Ai),this.router=ye(jn),this.snackBar=ye(Os),this.destroy$=new Ur,this.loading=!0,this.error=null,this.dashboardData=null,this.audienceData=null,this.organizationId=null,this.syncingCampaigns=new Set,this.settingUpAudience=!1,this.campaignsCurrentPage=1,this.campaignsPageSize=5,this.campaignsTotalItems=0,this.paginatedCampaigns=[],this.isInitialized=!1}ngOnInit(){if(this.isInitialized){console.warn("\u26A0\uFE0F Organization page already initialized, skipping...");return}this.isInitialized=!0,console.log("\u{1F3E2} Organization page initializing..."),this.authService.currentUser$.pipe(vo(1)).subscribe(t=>{if(t?.organizationId){console.log("\u{1F464} User org:",t.organizationId);let e=typeof t.organizationId=="string"?t.organizationId:t.organizationId?._id;e?(this.organizationId=e,this.loadDashboardData()):(console.warn("\u26A0\uFE0F Could not extract organization ID"),this.error="Invalid organization data",this.loading=!1)}else console.warn("\u26A0\uFE0F User has no organization"),this.error="You are not a member of any organization",this.loading=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadDashboardData(){this.organizationId&&(this.loading=!0,console.log(`\u{1F4CA} Loading dashboard for org: ${this.organizationId}`),Hm({dashboard:this.orgService.getDashboard(this.organizationId),audience:this.orgService.getAudienceStats(this.organizationId)}).pipe(gn(this.destroy$)).subscribe({next:({dashboard:t,audience:e})=>{console.log("\u2705 Dashboard data loaded:",t),console.log("\u2705 Audience data loaded:",e),this.dashboardData=t,this.audienceData=e,this.loading=!1,this.updateCampaignsPagination()},error:t=>{console.error("\u274C Failed to load data:",t),this.error="Failed to load dashboard data",this.loading=!1}}))}updateCampaignsPagination(){if(!this.dashboardData?.recentCampaigns){this.paginatedCampaigns=[],this.campaignsTotalItems=0;return}let t=this.dashboardData.recentCampaigns;this.campaignsTotalItems=t.length;let e=(this.campaignsCurrentPage-1)*this.campaignsPageSize,r=e+this.campaignsPageSize;this.paginatedCampaigns=t.slice(e,r)}onCampaignPageChange(t){this.campaignsCurrentPage=t.page,this.campaignsPageSize=t.pageSize,this.updateCampaignsPagination()}refreshData(){this.organizationId&&(this.loading=!0,console.log(`\uFFFD Refreshing dashboard data for org: ${this.organizationId}`),Hm({dashboard:this.orgService.getDashboard(this.organizationId,!0),audience:this.orgService.getAudienceStats(this.organizationId,void 0,!0)}).pipe(gn(this.destroy$)).subscribe({next:({dashboard:t,audience:e})=>{console.log("\u2705 Dashboard refreshed:",t),console.log("\u2705 Audience refreshed:",e),this.dashboardData=t,this.audienceData=e,this.loading=!1,this.snackBar.open("\u2705 Data refreshed!","Close",{duration:2e3,horizontalPosition:"center",verticalPosition:"top"})},error:t=>{console.error("\u274C Failed to refresh data:",t),this.error="Failed to refresh data",this.loading=!1}}))}getStatusClass(t){return{draft:"status-draft",scheduled:"status-scheduled",sent:"status-sent",sending:"status-sending",paused:"status-paused",canceled:"status-canceled"}[t]||"status-default"}formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatPercent(t){return t.toFixed(1)+"%"}refreshCampaignMetrics(t){this.organizationId&&(console.log(`\u{1F504} Refreshing metrics for campaign ${t}`),this.syncingCampaigns.add(t),this.orgService.syncCampaignMetrics(this.organizationId,t).pipe(gn(this.destroy$)).subscribe({next:e=>{if(console.log("\u2705 Metrics synced:",e),this.dashboardData?.recentCampaigns){let r=this.dashboardData.recentCampaigns.findIndex(i=>i._id===t);r!==-1&&e.campaign&&(this.dashboardData.recentCampaigns[r].metrics=e.campaign.metrics,this.dashboardData.recentCampaigns[r].status=e.campaign.status)}this.syncingCampaigns.delete(t)},error:e=>{console.error("\u274C Failed to sync metrics:",e),this.syncingCampaigns.delete(t)}}))}viewAudienceList(){this.router.navigate(["/organization/audience"])}setupAudience(){this.organizationId&&(this.settingUpAudience=!0,console.log(`\u{1F527} Setting up audience for org: ${this.organizationId}`),this.orgService.setupAudience(this.organizationId).pipe(gn(this.destroy$)).subscribe({next:t=>{console.log("\u2705 Audience setup complete:",t),this.settingUpAudience=!1,this.snackBar.open("\u2705 Audience setup complete!","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["success-snackbar"]}),this.refreshData()},error:t=>{console.error("\u274C Failed to setup audience:",t),this.settingUpAudience=!1;let e=t.error?.message||t.message||"Failed to setup audience";e.includes("sender email")?this.snackBar.open("\u26A0\uFE0F Please configure sender email and name in Organization Settings before setting up audience","Got it",{duration:8e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]}):this.snackBar.open(`\u274C ${e}`,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]})}}))}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-organization-page"]],standalone:!0,features:[cn],decls:8,vars:3,consts:[[1,"organization-page-wrapper"],[1,"page-background"],[1,"gradient-orb","orb-1"],[1,"gradient-orb","orb-2"],[1,"gradient-orb","orb-3"],["class","loading-container glass-card",4,"ngIf"],["class","error-container glass-card",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"loading-container","glass-card"],[1,"loading-content"],["diameter","60","color","primary"],[1,"loading-text"],[1,"error-container","glass-card"],[1,"error-content"],[1,"error-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"dashboard-content"],[1,"stats-grid"],[1,"stat-card","glass-card","campaigns-card"],[1,"card-header"],[1,"header-icon"],["d","M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"],[1,"section-title"],[1,"title-underline"],[1,"card-content"],[1,"stat-number"],[1,"stat-breakdown"],[1,"breakdown-item","draft"],[1,"breakdown-dot"],[1,"breakdown-count"],[1,"breakdown-label"],[1,"breakdown-item","scheduled"],[1,"breakdown-item","sent"],[1,"stat-card","glass-card","subscribers-card"],["d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[4,"ngIf"],["class","no-audience-state",4,"ngIf"],[1,"stat-card","glass-card","templates-card"],["d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"stat-label"],[1,"stat-card","glass-card","team-card"],["d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],["class","section-card glass-card audience-insights",4,"ngIf"],["class","section-card glass-card recent-campaigns",4,"ngIf"],["class","empty-state glass-card",4,"ngIf"],[1,"stat-growth"],["d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],["matTooltip","View all subscribers",1,"modern-btn","primary-btn","view-audience-btn",3,"click"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],[1,"no-audience-state"],[1,"no-audience-icon"],["d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"no-audience-title"],[1,"no-audience-desc"],[1,"modern-btn","accent-btn","setup-audience-btn",3,"click","disabled"],["d","M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"section-card","glass-card","audience-insights"],[1,"header-left"],[1,"header-icon","golden-icon"],["d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"title-underline","golden"],["mat-icon-button","","matTooltip","Refresh page",1,"refresh-button",3,"click","disabled"],[1,"insights-stats-grid"],[1,"stat-card-mini","primary"],[1,"stat-icon"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-content"],[1,"stat-value"],[1,"stat-card-mini","warning"],["d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"],[1,"stat-card-mini","info"],["d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"stat-card-mini","success"],["d","M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"],[1,"section-card","glass-card","recent-campaigns"],[1,"header-icon","variants-icon"],["d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"title-underline","variants"],[1,"campaigns-list"],["class","campaign-item",4,"ngFor","ngForOf"],[3,"currentPage","pageSize","totalItems","pageChange",4,"ngIf"],[1,"campaign-item"],[1,"campaign-main"],[1,"campaign-info"],[1,"campaign-name"],["class","campaign-subject",4,"ngIf"],[1,"campaign-meta"],[1,"meta-item"],[1,"separator"],["d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"campaign-actions"],[1,"status-badge",3,"ngClass"],["class","metrics",4,"ngIf"],["class","modern-btn small-btn primary-btn","matTooltip","View detailed campaign report",3,"routerLink",4,"ngIf"],["matTooltip","Refresh metrics from Mailchimp",1,"icon-btn","refresh-btn",3,"click","disabled"],["d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"campaign-subject"],[1,"metrics"],[1,"metric-badge","open"],[1,"metric-badge","click"],["matTooltip","View detailed campaign report",1,"modern-btn","small-btn","primary-btn",3,"routerLink"],[3,"pageChange","currentPage","pageSize","totalItems"],[1,"empty-state","glass-card"],[1,"empty-icon"]],template:function(e,r){e&1&&(O(0,"div",0)(1,"div",1),yt(2,"div",2)(3,"div",3)(4,"div",4),M(),qt(5,$j,5,0,"div",5)(6,Yj,9,1,"div",6)(7,aH,72,11,"div",7),M()),e&2&&(G(5),ct("ngIf",r.loading),G(),ct("ngIf",r.error&&!r.loading),G(),ct("ngIf",r.dashboardData&&!r.loading))},dependencies:[Tn,na,ki,qn,lb,Zc,ci,xo,Cr,br,yr,li,ws,oa,ia,dh],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-height:100vh}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]     .card-content, [_nghost-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem!important;margin:0!important}[_nghost-%COMP%]     .scrollable-content, [_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem!important;margin:0!important}[_nghost-%COMP%]{--primary-purple: #6d28d9;--primary-purple-dark: #5b21b6;--accent-pink: #ec4899;--accent-blue: #3b82f6;--success-green: #10b981;--warning-orange: #f59e0b;--error-red: #ef4444;--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--gradient-golden: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);--glass-white: rgba(255, 255, 255, .9);--glass-border: rgba(255, 255, 255, .3);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .08);--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px;--transition-fast: .2s cubic-bezier(.4, 0, .2, 1);--transition-normal: .3s cubic-bezier(.4, 0, .2, 1);--transition-smooth: .4s cubic-bezier(.4, 0, .2, 1);display:block;min-height:100vh}.organization-page-wrapper[_ngcontent-%COMP%]{position:relative;min-height:100vh;padding:0;overflow-y:auto;overflow-x:hidden}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{position:relative;z-index:10;max-width:600px;margin:4rem auto;padding:3rem}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem;text-align:center}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#6b7280;margin:0;font-weight:500}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:80px;height:80px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#fee2e2,#fecaca);border-radius:50%}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:var(--error-red);stroke-width:2.5}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#1f2937;font-weight:700}.dashboard-content[_ngcontent-%COMP%]{position:relative;z-index:1;max-width:100%;margin:0;padding:.5rem}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:1rem}.dashboard-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{background:var(--glass-white);border:1px solid var(--glass-border);border-radius:var(--radius-md);box-shadow:var(--glass-shadow);transition:all var(--transition-fast)}.dashboard-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff;transform:translateY(-2px);box-shadow:0 12px 40px #0000001f}.dashboard-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:var(--primary-purple);animation:_ngcontent-%COMP%_spin .5s ease-in-out}.dashboard-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem;position:relative;z-index:1}.stat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:320px}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;align-items:center;flex:1;justify-content:center}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:3rem;font-weight:800;background:linear-gradient(135deg,var(--primary-purple) 0%,var(--accent-pink) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1;margin-bottom:1rem;text-align:center}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;font-weight:500}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-growth[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--success-green);font-size:.9375rem;font-weight:600;margin-bottom:1.25rem}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-growth[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:.5rem;width:100%;justify-content:center}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .75rem;background:#00000005;border-radius:var(--radius-md);transition:all var(--transition-fast);white-space:nowrap}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:hover{background:#0000000a}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-dot[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-count[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;min-width:auto}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;font-weight:500}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item.draft[_ngcontent-%COMP%]   .breakdown-dot[_ngcontent-%COMP%]{background:#9ca3af}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item.draft[_ngcontent-%COMP%]   .breakdown-count[_ngcontent-%COMP%]{color:#4b5563}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item.scheduled[_ngcontent-%COMP%]   .breakdown-dot[_ngcontent-%COMP%]{background:var(--warning-orange)}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item.scheduled[_ngcontent-%COMP%]   .breakdown-count[_ngcontent-%COMP%]{color:var(--warning-orange)}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item.sent[_ngcontent-%COMP%]   .breakdown-dot[_ngcontent-%COMP%]{background:var(--success-green)}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .stat-breakdown[_ngcontent-%COMP%]   .breakdown-item.sent[_ngcontent-%COMP%]   .breakdown-count[_ngcontent-%COMP%]{color:var(--success-green)}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .no-audience-state[_ngcontent-%COMP%]{text-align:center;padding:1.5rem 0}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .no-audience-state[_ngcontent-%COMP%]   .no-audience-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border-radius:50%}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .no-audience-state[_ngcontent-%COMP%]   .no-audience-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:#9ca3af;stroke-width:2}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .no-audience-state[_ngcontent-%COMP%]   .no-audience-title[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1rem;font-weight:600;color:#374151}.stat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .no-audience-state[_ngcontent-%COMP%]   .no-audience-desc[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:.875rem;color:#9ca3af}.modern-btn[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;padding:.875rem 1.5rem;transition:all var(--transition-normal);border:none;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;justify-content:center;width:100%}.modern-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5}.modern-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff4d;transform:translate(-50%,-50%);transition:width .6s,height .6s}.modern-btn[_ngcontent-%COMP%]:hover:before{width:300px;height:300px}.modern-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 12px #6d28d94d}.modern-btn.primary-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #6d28d966;transform:translateY(-2px)}.modern-btn.accent-btn[_ngcontent-%COMP%]{background:var(--gradient-accent);color:#fff;box-shadow:0 4px 12px #ec48994d}.modern-btn.accent-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #ec489966;transform:translateY(-2px)}.modern-btn.small-btn[_ngcontent-%COMP%]{padding:.625rem 1.25rem;font-size:.875rem;width:auto}.icon-btn[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border:none;background:#6d28d91a;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition-fast)}.icon-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:var(--primary-purple);stroke-width:2.5}.icon-btn[_ngcontent-%COMP%]:hover{background:#6d28d926;transform:scale(1.05)}.icon-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.icon-btn.spinning[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.icon-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.section-card[_ngcontent-%COMP%]{margin-bottom:1.5rem;position:relative;z-index:1}.audience-insights[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative}.audience-insights[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.audience-insights[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{position:absolute;right:1.5rem;background:var(--glass-white);border:1px solid var(--glass-border);border-radius:var(--radius-md);box-shadow:var(--glass-shadow);transition:all var(--transition-fast)}.audience-insights[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff;transform:translateY(-2px);box-shadow:0 12px 40px #0000001f}.audience-insights[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:var(--primary-purple);animation:_ngcontent-%COMP%_spin .5s ease-in-out}.audience-insights[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.audience-insights[_ngcontent-%COMP%]   .insights-stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem;padding-top:1rem}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]{padding:1.25rem;border-radius:var(--radius-md);display:flex;align-items:center;gap:1rem;transition:all var(--transition-normal);border:2px solid transparent}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0000001a}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;flex-shrink:0}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;color:#fff;stroke-width:2.5}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;line-height:1}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;opacity:.8}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf61a,#6d28d91a)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--gradient-primary)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.primary[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--primary-purple)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.primary[_ngcontent-%COMP%]:hover{border-color:#6d28d94d}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#0596691a)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.success[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--success-green)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.success[_ngcontent-%COMP%]:hover{border-color:#10b9814d}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#d977061a)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--gradient-golden)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.warning[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--warning-orange)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.warning[_ngcontent-%COMP%]:hover{border-color:#f59e0b4d}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#2563eb1a)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--accent-blue)}.audience-insights[_ngcontent-%COMP%]   .stat-card-mini.info[_ngcontent-%COMP%]:hover{border-color:#3b82f64d}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]{padding:1.5rem 0;border-bottom:1px solid rgba(0,0,0,.06);transition:all var(--transition-fast)}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]:hover{background:#6d28d905;margin:0 -1.5rem;padding:1.5rem;border-radius:var(--radius-md)}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:2rem;flex-wrap:wrap}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]{flex:1;min-width:250px}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]   .campaign-name[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;font-weight:600;color:#1f2937}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]   .campaign-subject[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:.9375rem;color:#6b7280;font-style:italic}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap;font-size:.875rem;color:#9ca3af}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;stroke-width:2.5}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-info[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#d1d5db}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:var(--radius-md);font-size:.8125rem;font-weight:600;text-transform:capitalize;display:inline-flex;align-items:center;line-height:1}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .status-badge.status-draft[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3f4f6,#e5e7eb);color:#4b5563}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .status-badge.status-scheduled[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .status-badge.status-sent[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0);color:#065f46}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .status-badge.status-sending[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]{display:flex;gap:.75rem}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .875rem;background:#00000008;border-radius:var(--radius-md);font-size:.875rem;font-weight:600;transition:all var(--transition-fast)}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;stroke-width:2.5}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric-badge.open[_ngcontent-%COMP%]{color:var(--accent-blue)}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric-badge.open[_ngcontent-%COMP%]:hover{background:#3b82f61a}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric-badge.click[_ngcontent-%COMP%]{color:var(--success-green)}.recent-campaigns[_ngcontent-%COMP%]   .campaigns-list[_ngcontent-%COMP%]   .campaign-item[_ngcontent-%COMP%]   .campaign-actions[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]   .metric-badge.click[_ngcontent-%COMP%]:hover{background:#10b9811a}.empty-state[_ngcontent-%COMP%]{padding:4rem 2rem;text-align:center;position:relative;z-index:1}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 1.5rem;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border-radius:50%}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:50px;height:50px;color:#9ca3af;stroke-width:2}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:#1f2937}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#6b7280}@keyframes _ngcontent-%COMP%_expand-line{0%{transform:scaleX(0);transform-origin:left}to{transform:scaleX(1);transform-origin:left}}@media (max-width: 768px){.organization-page-wrapper[_ngcontent-%COMP%]{padding:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.dashboard-header[_ngcontent-%COMP%]   .org-metadata[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.dashboard-header[_ngcontent-%COMP%]   .org-metadata[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:none}}.page-background[_ngcontent-%COMP%]{position:fixed;inset:64px 0 0;z-index:0;background:linear-gradient(135deg,#f8fafc,#e2e8f0);pointer-events:none}.page-background[_ngcontent-%COMP%]   .gradient-orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.4;animation:_ngcontent-%COMP%_float-orb 20s ease-in-out infinite}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-1[_ngcontent-%COMP%]{width:400px;height:400px;background:radial-gradient(circle,rgba(139,92,246,.4) 0%,transparent 70%);top:-100px;left:-100px;animation-delay:0s}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-2[_ngcontent-%COMP%]{width:500px;height:500px;background:radial-gradient(circle,rgba(236,72,153,.3) 0%,transparent 70%);top:40%;right:-150px;animation-delay:-7s}.page-background[_ngcontent-%COMP%]   .gradient-orb.orb-3[_ngcontent-%COMP%]{width:450px;height:450px;background:radial-gradient(circle,rgba(59,130,246,.35) 0%,transparent 70%);bottom:-100px;left:30%;animation-delay:-14s}.qa-grid[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:1fr 400px 1fr;gap:1.5rem;margin-bottom:2rem;margin-top:.2rem!important;align-items:start}.glass-card[_ngcontent-%COMP%]{background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:var(--glass-shadow);overflow:hidden;transition:all var(--transition-smooth);display:flex;flex-direction:column;height:fit-content}.glass-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 48px #0000001f}.col[_ngcontent-%COMP%]{min-height:0;display:flex;flex-direction:column}.col.col-2[_ngcontent-%COMP%]{position:relative;max-height:calc(100vh - 4rem);display:flex;flex-direction:column}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:1.5rem;background:transparent;border-bottom:1px solid rgba(0,0,0,.05);position:relative;overflow:visible;min-height:88px;flex-shrink:0;margin:0 -1px;width:calc(100% + 2px)}.card-header[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#6d28d90d,#ec48990d);z-index:-1;border-radius:var(--radius-md) var(--radius-md) 0 0}.card-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 3s infinite;will-change:transform}.card-header.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--gradient-primary);border-radius:var(--radius-md);box-shadow:0 4px 12px #6d28d94d;flex-shrink:0}.card-header[_ngcontent-%COMP%]   .header-icon.golden-icon[_ngcontent-%COMP%]{background:var(--gradient-golden);box-shadow:0 4px 12px #f59e0b4d}.card-header[_ngcontent-%COMP%]   .header-icon.variants-icon[_ngcontent-%COMP%]{background:var(--gradient-accent);box-shadow:0 4px 12px #ec48994d}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#fff;stroke-width:2.5}.card-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{flex:none;margin:0;font-size:1.25rem;font-weight:700;background:linear-gradient(135deg,#1f2937 0%,var(--primary-purple) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em}.card-header[_ngcontent-%COMP%]   .title-underline[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:3px;background:var(--gradient-primary);border-radius:3px;transform:scaleX(0);transform-origin:left;animation:_ngcontent-%COMP%_expand-line .6s ease forwards;animation-delay:.2s}.card-header[_ngcontent-%COMP%]   .title-underline.golden[_ngcontent-%COMP%]{background:var(--gradient-golden)}.card-header[_ngcontent-%COMP%]   .title-underline.variants[_ngcontent-%COMP%]{background:var(--gradient-accent)}.card-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem;flex:1;min-height:0}.scrollable-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:0 1.5rem 1.5rem;min-height:0}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000008;border-radius:4px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6d28d94d;border-radius:4px;transition:background var(--transition-fast)}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6d28d980}.modern-btn[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;padding:.875rem 1.5rem;transition:all var(--transition-normal);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.625rem;min-height:48px}.modern-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modern-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .modern-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;position:relative;z-index:2}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5;transition:transform var(--transition-normal)}.modern-btn[_ngcontent-%COMP%]   .btn-shimmer[_ngcontent-%COMP%], .modern-btn[_ngcontent-%COMP%]   .btn-glow[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;transition:opacity var(--transition-normal)}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-shimmer[_ngcontent-%COMP%]{opacity:1;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer-btn 1.5s infinite}.modern-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-glow[_ngcontent-%COMP%]{opacity:.5}.modern-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.modern-btn.loading[_ngcontent-%COMP%]{pointer-events:none}.modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 16px #6d28d94d}.modern-btn.primary-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #6d28d966}.modern-btn.secondary-btn[_ngcontent-%COMP%]{background:#fff;color:var(--primary-purple);border:2px solid var(--primary-purple);box-shadow:0 2px 8px #6d28d91a}.modern-btn.secondary-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#6d28d90d,#ec48990d);box-shadow:0 6px 20px #6d28d933}.modern-btn.accent-btn[_ngcontent-%COMP%]{background:var(--gradient-accent);color:#fff;box-shadow:0 4px 16px #ec48994d}.modern-btn.accent-btn[_ngcontent-%COMP%]   .btn-glow[_ngcontent-%COMP%]{background:radial-gradient(circle,rgba(255,255,255,.4) 0%,transparent 70%);filter:blur(10px)}.modern-btn.accent-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #ec489966}.modern-btn.use-btn[_ngcontent-%COMP%]{background:var(--gradient-success);color:#fff;box-shadow:0 4px 12px #10b9814d;width:100%}.modern-btn.use-btn[_ngcontent-%COMP%]     .mat-button-wrapper{display:flex!important;flex-direction:row!important;align-items:center!important;justify-content:center!important;gap:.5rem!important}.modern-btn.use-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5;flex-shrink:0;margin:0!important}.modern-btn.use-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #10b98166}.modern-btn.use-btn[_ngcontent-%COMP%]:hover:not(:disabled)   svg[_ngcontent-%COMP%]{transform:scale(1.15)}.modern-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.spinner-small[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(109,40,217,.3);border-top-color:var(--primary-purple);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.btn-text-loading[_ngcontent-%COMP%]{font-size:.875rem}.actions-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1rem}.variants-action[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:2px dashed rgba(0,0,0,.06)}.info-panel[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:var(--radius-lg);padding:1.25rem;margin-top:22px;box-shadow:0 2px 12px #0000000a;transition:all var(--transition-normal)}.info-panel[_ngcontent-%COMP%]:hover{box-shadow:0 4px 20px #00000014;transform:translateY(-2px)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:2px solid rgba(0,0,0,.05)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .panel-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#6d28d91a,#ec48991a);border-radius:var(--radius-sm)}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .panel-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--primary-purple);stroke-width:2.5}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1rem;font-weight:700;color:#1f2937}.info-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;font-size:.75rem;font-weight:700;padding:.25rem .625rem;border-radius:12px;box-shadow:0 2px 8px #6d28d933}.subjects-panel[_ngcontent-%COMP%]   .chip-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.625rem}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:linear-gradient(135deg,#6d28d914,#ec489914);border:1px solid rgba(109,40,217,.2);padding:.5rem 1rem;border-radius:20px;font-size:.875rem;font-weight:600;color:#4c1d95;transition:all var(--transition-normal);cursor:default}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]   .chip-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:var(--gradient-primary);border-radius:50%;box-shadow:0 0 8px #6d28d980;animation:_ngcontent-%COMP%_pulse-dot 2s infinite}.subjects-panel[_ngcontent-%COMP%]   .modern-chip[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6d28d926,#ec489926);transform:translateY(-2px);box-shadow:0 4px 12px #6d28d933}.edits-panel[_ngcontent-%COMP%]   .edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]{padding:.875rem;margin-bottom:.75rem;border-radius:8px;background:#f9fafb80;border:1px solid rgba(229,231,235,.6);transition:all .2s ease}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]:hover{background:#f9fafbe6;border-color:#d1d5dbcc;box-shadow:0 1px 3px #0000000d}.edits-panel[_ngcontent-%COMP%]   .edit-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;margin-bottom:.75rem;padding-bottom:.75rem;border-bottom:1px dashed rgba(229,231,235,.8)}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]   .error-word[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.25rem .5rem;background:linear-gradient(135deg,#ef44441f,#dc26261f);border-radius:5px;color:#dc2626;font-weight:600;border:1px solid rgba(239,68,68,.25)}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{width:14px;height:14px;color:#9ca3af;stroke-width:2.5;flex-shrink:0}.edits-panel[_ngcontent-%COMP%]   .edit-change-row[_ngcontent-%COMP%]   .correction-word[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.25rem .5rem;background:linear-gradient(135deg,#10b9811f,#0596691f);border-radius:5px;color:#059669;font-weight:600;border:1px solid rgba(16,185,129,.25)}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.375rem;font-size:.8125rem;line-height:1.5}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]   .reason-badge[_ngcontent-%COMP%]{display:inline-block;padding:.125rem .5rem;background:#6b728014;border-radius:4px;color:#6b7280;font-style:italic;font-size:.75rem;align-self:flex-start}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]{color:#4b5563;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;word-wrap:break-word}.edits-panel[_ngcontent-%COMP%]   .edit-info-row[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]     .highlight-error{background:linear-gradient(135deg,#ef444433,#dc262633);color:#dc2626;padding:.125rem .375rem;border-radius:3px;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;line-height:1.6;margin-bottom:.5rem;padding:.625rem .875rem;background:linear-gradient(135deg,#ef44440d,#dc26260d);border-radius:var(--radius-sm);overflow-x:auto;border-left:3px solid rgba(239,68,68,.4)}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;padding:0}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-before[_ngcontent-%COMP%]{color:#dc2626;font-weight:600;opacity:1}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-after[_ngcontent-%COMP%]{opacity:.5}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-find[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);padding:.125rem .375rem;border-radius:4px;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-sentence[_ngcontent-%COMP%]{color:#4b5563;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;font-size:.875rem;line-height:1.7;word-wrap:break-word;white-space:normal}.edits-panel[_ngcontent-%COMP%]   .edit-context[_ngcontent-%COMP%]   .context-sentence[_ngcontent-%COMP%]     .highlight-error{background:linear-gradient(135deg,#ef444440,#dc262640);color:#dc2626;padding:.125rem .375rem;border-radius:4px;font-weight:700;border-bottom:2px solid rgba(239,68,68,.6)}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:.625rem 0;padding:.625rem .875rem;background:linear-gradient(135deg,#10b98114,#05966914);border-radius:var(--radius-sm);font-weight:600;color:#065f46;border-left:3px solid rgba(16,185,129,.5)}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--success-green);stroke-width:2.5;flex-shrink:0}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#059669;font-weight:600}.edits-panel[_ngcontent-%COMP%]   .edit-replace[_ngcontent-%COMP%]   .correction-text[_ngcontent-%COMP%]{color:#059669;font-weight:600;word-wrap:break-word;flex:1}.edits-panel[_ngcontent-%COMP%]   .edit-reason[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;font-style:italic}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-section[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px dashed rgba(0,0,0,.06)}.suggestions-panel[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 .875rem;font-size:.9375rem;font-weight:700;color:#374151}.suggestions-panel[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2.5}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.875rem;margin-bottom:.5rem;border-radius:var(--radius-md);transition:all var(--transition-normal)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b14,#fbbf2414);border:1px solid rgba(245,158,11,.2)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--gradient-golden);color:#fff;border-radius:50%;font-size:.875rem;font-weight:700;flex-shrink:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f59e0b1f,#fbbf241f);transform:translate(4px)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98114,#05966914);border:1px solid rgba(16,185,129,.2)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--gradient-success);color:#fff;border-radius:50%;font-size:.875rem;font-weight:700;flex-shrink:0}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item.success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#10b9811f,#0596691f);transform:translate(4px)}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-content[_ngcontent-%COMP%]{flex:1}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .gibberish-text[_ngcontent-%COMP%]{display:block;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;background:#0000000d;padding:.375rem .625rem;border-radius:var(--radius-sm);margin-bottom:.375rem}.suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-reason[_ngcontent-%COMP%], .suggestions-panel[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-text[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.6;color:#374151}.loading-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:2rem;background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px dashed rgba(109,40,217,.2);border-radius:var(--radius-lg);font-size:.9375rem;font-weight:600;color:#6b7280}.loading-panel[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid rgba(109,40,217,.2);border-top-color:var(--primary-purple);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;display:flex;align-items:center;justify-content:center;background:var(--gradient-golden);border-radius:50%;margin-bottom:1.5rem;box-shadow:0 8px 24px #f59e0b4d;animation:_ngcontent-%COMP%_float-icon 3s ease-in-out infinite}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:#fff;stroke-width:2}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;color:#1f2937}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#6b7280;line-height:1.6}.empty-state.golden-empty[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b08,#fbbf240d);border-radius:12px}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;align-items:center;justify-content:center;background:var(--gradient-golden);border-radius:50%;margin-bottom:2rem;box-shadow:0 12px 32px #f59e0b4d;animation:_ngcontent-%COMP%_pulse-glow 2s ease-in-out infinite;position:relative}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-4px;border-radius:50%;background:var(--gradient-golden);opacity:.3;filter:blur(8px);animation:_ngcontent-%COMP%_pulse-ring 2s ease-in-out infinite}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-icon-animated[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px;color:#fff;stroke-width:2;position:relative;z-index:1;animation:_ngcontent-%COMP%_sparkle-rotate 4s linear infinite}.empty-state.golden-empty[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.375rem;margin-bottom:.75rem}.empty-state.golden-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:380px;font-size:1rem;margin-bottom:2rem}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;background:#f59e0b1a;border:1px solid rgba(245,158,11,.2);border-radius:10px;max-width:420px}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#f59e0b;flex-shrink:0}.empty-state.golden-empty[_ngcontent-%COMP%]   .empty-hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#92400e;text-align:left;line-height:1.5}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{transform:scale(1);box-shadow:0 12px 32px #f59e0b4d}50%{transform:scale(1.05);box-shadow:0 16px 40px #f59e0b66}}@keyframes _ngcontent-%COMP%_pulse-ring{0%,to{transform:scale(1);opacity:.3}50%{transform:scale(1.1);opacity:.1}}@keyframes _ngcontent-%COMP%_sparkle-rotate{0%,to{transform:rotate(0)}25%{transform:rotate(-10deg)}75%{transform:rotate(10deg)}}.variants-section[_ngcontent-%COMP%]{position:relative;z-index:1;margin-top:2rem}.variants-header-main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:var(--glass-shadow);margin-bottom:1.5rem}.variants-header-main[_ngcontent-%COMP%]   .variants-title-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1;position:relative}.variants-header-main[_ngcontent-%COMP%]   .variants-title-group[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:700;color:var(--primary-purple)}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:120px;height:8px;background:#6d28d91a;border-radius:4px;overflow:hidden}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar-fill[_ngcontent-%COMP%]{height:100%;background:var(--gradient-accent);border-radius:4px;transition:width var(--transition-smooth);box-shadow:0 0 10px #ec489980}.variants-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;grid-template-columns:1fr;align-items:stretch}.variant-card[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:1fr 420px!important;gap:1.5rem!important;padding:1.5rem!important;min-height:600px!important;align-items:start!important}.variant-left[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:100%!important;gap:1rem!important;justify-content:space-between!important}.variant-right[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:100%!important;gap:1rem!important}.variant-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-bottom:1rem;border-bottom:2px solid rgba(0,0,0,.05);flex-shrink:0!important;flex-wrap:nowrap!important}.variant-header[_ngcontent-%COMP%]   .variant-number[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;background:var(--gradient-accent);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;white-space:nowrap;flex-shrink:0}.variant-header[_ngcontent-%COMP%]   .variant-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.375rem .875rem;background:linear-gradient(135deg,#10b9811a,#0596691a);border:1px solid rgba(16,185,129,.3);border-radius:20px;font-size:.8125rem;font-weight:700;color:#065f46;white-space:nowrap;flex-shrink:0}.variant-header[_ngcontent-%COMP%]   .variant-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;stroke-width:3}.variant-preview[_ngcontent-%COMP%]{flex:1!important;min-height:350px!important;max-height:450px!important;background:#fff;border:2px solid rgba(0,0,0,.06);border-radius:var(--radius-lg);overflow:hidden}.variant-actions[_ngcontent-%COMP%]{flex-shrink:0!important;display:flex;justify-content:flex-end;gap:.75rem;margin-top:auto!important}.variant-actions[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke-width:2.5}.variant-right[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]{flex:1!important;min-height:200px!important;max-height:250px!important;overflow-y:auto!important;margin-top:0}.variant-right[_ngcontent-%COMP%]   .info-panel[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.changes-panel[_ngcontent-%COMP%]   .changes-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.changes-panel[_ngcontent-%COMP%]   .change-item[_ngcontent-%COMP%]{padding:.875rem 0;border-top:1px dashed rgba(0,0,0,.08)}.changes-panel[_ngcontent-%COMP%]   .change-item[_ngcontent-%COMP%]:first-child{border-top:none;padding-top:0}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;margin-bottom:.5rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace;font-size:.8125rem;padding:.625rem;background:#00000005;border-radius:var(--radius-sm);flex-wrap:wrap}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;padding:0}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-before[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a);padding:.25rem .5rem;border-radius:4px;color:#991b1b;font-weight:600}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-after[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#0596691a);padding:.25rem .5rem;border-radius:4px;color:#065f46;font-weight:600}.changes-panel[_ngcontent-%COMP%]   .change-content[_ngcontent-%COMP%]   .change-arrow[_ngcontent-%COMP%]{width:16px;height:16px;color:#9ca3af;flex-shrink:0}.changes-panel[_ngcontent-%COMP%]   .change-reason[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;font-style:italic}.benefits-panel[_ngcontent-%COMP%]{flex:1!important;display:flex!important;flex-direction:column!important}.benefits-panel[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;flex:1;display:flex!important;flex-direction:column!important;justify-content:flex-start!important}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.75rem;margin-bottom:.5rem;background:linear-gradient(135deg,#10b9810d,#0596690d);border-radius:var(--radius-md);font-size:.875rem;line-height:1.6;color:#374151;transition:all var(--transition-normal)}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:var(--gradient-success);color:#fff;border-radius:50%;font-size:.75rem;font-weight:700;flex-shrink:0}.benefits-panel[_ngcontent-%COMP%]   .benefit-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#10b9811a,#0596691a)}.benefits-panel[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]{height:100%!important;display:flex!important;flex-direction:column!important;justify-content:flex-start!important}.variants-grid[_ngcontent-%COMP%] > .variant-card[_ngcontent-%COMP%]{height:auto!important;min-height:600px!important}.variant-skeleton[_ngcontent-%COMP%]{padding:1.5rem;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite;min-height:300px;contain:layout style paint;will-change:opacity,transform}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%], .variant-skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%], .variant-skeleton[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-shimmer 1.5s infinite;border-radius:6px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{height:20px;width:120px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{height:24px;width:60px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-preview[_ngcontent-%COMP%]{height:200px;background:#f8f8f8;border-radius:8px;display:flex;align-items:center;justify-content:center}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-lines[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:80%}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{height:12px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-shimmer 1.5s infinite;border-radius:6px}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-line.short[_ngcontent-%COMP%]{width:60%}.variant-skeleton[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{height:40px;width:100%;margin-top:1rem}@keyframes _ngcontent-%COMP%_float-orb{0%,to{transform:translate(0) rotate(0)}33%{transform:translate(-30px,-30px) rotate(120deg)}66%{transform:translate(30px,30px) rotate(240deg)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(200%)}}@keyframes _ngcontent-%COMP%_shimmer-btn{0%{transform:translate(-100%)}to{transform:translate(200%)}}@keyframes _ngcontent-%COMP%_expand-line{0%{transform:scaleX(0)}to{transform:scaleX(1)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-dot{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}}@keyframes _ngcontent-%COMP%_float-icon{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_skeleton-shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.col-1[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%]{height:800px!important;min-height:800px!important;display:flex!important;flex-direction:column!important;overflow:hidden!important}.col-1[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-shrink:0!important;min-height:88px!important}.col-1[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1!important;overflow-y:auto!important;min-height:0!important;scrollbar-gutter:stable}[_nghost-%COMP%]     app-template-preview iframe, [_nghost-%COMP%]     app-html-preview iframe{height:700px!important;min-height:600px!important;width:100%!important}[_nghost-%COMP%]     app-template-preview .preview-container, [_nghost-%COMP%]     app-html-preview .preview-container, [_nghost-%COMP%]     app-template-preview .iframe-wrapper, [_nghost-%COMP%]     app-html-preview .iframe-wrapper{height:700px!important;min-height:600px!important;flex:1!important;display:flex!important;flex-direction:column!important}[_nghost-%COMP%]     .preview-root{height:700px!important;min-height:600px!important}[_nghost-%COMP%]     app-template-preview, [_nghost-%COMP%]     app-html-preview{margin-top:5px!important}[_nghost-%COMP%]     app-template-preview>*, [_nghost-%COMP%]     app-html-preview>*{margin-top:5px!important}[_nghost-%COMP%]     .preview-container, [_nghost-%COMP%]     .preview-root{margin-top:5px!important}[_nghost-%COMP%]   .col-2[_ngcontent-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{margin-top:5px!important}[_nghost-%COMP%]   .col-2[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]{margin-top:5px!important}.col-2[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%], .variants-action[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{width:100%!important}.modern-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{justify-content:center!important;align-items:center!important;text-align:center!important;width:100%!important}.btn-text-loading[_ngcontent-%COMP%]{text-align:center!important;margin:0 auto!important}.modern-btn.loading[_ngcontent-%COMP%]{pointer-events:auto!important;cursor:pointer!important;opacity:1!important}.modern-btn[_ngcontent-%COMP%]:not(.loading)[disabled]{opacity:.6;cursor:not-allowed;pointer-events:none}@media (max-width: 1400px){.qa-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 360px 1fr}.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 380px}}@media (max-width: 1200px){.qa-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.25rem}.col.col-2[_ngcontent-%COMP%]{max-height:none}.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr}.variants-header-main[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.qa-grid[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%] > .glass-card[_ngcontent-%COMP%]{height:auto!important}}@media (max-width: 768px){.qa-page-wrapper[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{padding:1rem}.card-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:36px;height:36px}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.modern-btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem 1.25rem}.modern-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.variants-header-main[_ngcontent-%COMP%]{padding:1rem}.variants-header-main[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem!important}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media print{.page-background[_ngcontent-%COMP%], .btn-shimmer[_ngcontent-%COMP%], .btn-glow[_ngcontent-%COMP%], .title-underline[_ngcontent-%COMP%]{display:none!important}.glass-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #ddd}}@media (max-width: 1400px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 380px!important}}@media (max-width: 1199px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 340px!important}}@media (max-width: 991px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr 280px!important}}@media (max-width: 768px){.variant-card[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:1rem!important;min-height:auto!important}.variant-left[_ngcontent-%COMP%]{justify-content:flex-start!important}.variants-header-main[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:1rem}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]{width:33%;justify-content:space-between}.variants-header-main[_ngcontent-%COMP%]   .variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{flex:1;max-width:200px;margin:0 1rem}}@media (max-width: 480px){.variant-card[_ngcontent-%COMP%]{padding:1rem!important}.variant-header[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:.5rem}.variant-actions[_ngcontent-%COMP%]{justify-content:stretch}.variant-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{flex:1}.variants-progress[_ngcontent-%COMP%]{flex-direction:column!important;gap:.75rem!important}.variants-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:100%!important;max-width:none!important;margin:0!important}}.golden-loading-state[_ngcontent-%COMP%]   .golden-loader[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{position:absolute;border:3px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_golden-spin 2s linear infinite}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(1){width:80px;height:80px;border-top-color:#fbbf24;border-right-color:#fbbf24;animation-delay:0s}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(2){width:60px;height:60px;top:10px;left:10px;border-top-color:#f59e0b;border-left-color:#f59e0b;animation-delay:-.4s;animation-direction:reverse}.golden-loading-state[_ngcontent-%COMP%]   .golden-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(3){width:40px;height:40px;top:20px;left:20px;border-top-color:#d97706;border-bottom-color:#d97706;animation-delay:-.8s}.golden-loading-state[_ngcontent-%COMP%]   .golden-icon-container[_ngcontent-%COMP%]{position:absolute;top:24px;left:24px;width:32px;height:32px;background:var(--gradient-golden);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #f59e0b66;z-index:10}.golden-loading-state[_ngcontent-%COMP%]   .golden-icon-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#fff;animation:_ngcontent-%COMP%_float-icon 2s ease-in-out infinite}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{text-align:center}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;background:var(--gradient-golden);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.golden-loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#6b7280;line-height:1.6}@keyframes _ngcontent-%COMP%_golden-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;align-items:center!important;width:100%!important;padding:0!important;margin:0!important}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{margin-right:.5rem!important}.secondary-btn.loading[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .btn-text-loading[_ngcontent-%COMP%]{text-align:center!important;padding:0!important;margin:0!important}.accent-btn[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]{color:#fff!important;font-weight:600!important;text-shadow:0 1px 2px rgba(0,0,0,.1)!important}.accent-btn[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]:hover{color:#fff!important;text-shadow:0 1px 3px rgba(0,0,0,.2)!important}.secondary-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{justify-content:center!important;text-align:center!important}.secondary-btn[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]   .btn-text-loading[_ngcontent-%COMP%]{text-align:center!important}.spinner-container[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important;gap:.625rem!important}.spinner-container[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%], .spinner-container[_ngcontent-%COMP%]   .cancel-text[_ngcontent-%COMP%]{flex-shrink:0}.secondary-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{border-color:#6d28d933!important;border-top-color:var(--primary-purple)!important}.primary-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%], .accent-btn[_ngcontent-%COMP%]   .modern-spinner[_ngcontent-%COMP%]{border-color:#ffffff4d!important;border-top-color:#fff!important}  .error-snackbar{background-color:#ef4444!important;color:#fff!important;font-weight:600!important}  .error-snackbar .mat-simple-snackbar-action{color:#fff!important}  .success-snackbar{background-color:#10b981!important;color:#fff!important;font-weight:600!important}  .success-snackbar .mat-simple-snackbar-action{color:#fff!important}  .warning-snackbar{background-color:#f59e0b!important;color:#fff!important;font-weight:600!important}  .warning-snackbar .mat-simple-snackbar-action{color:#fff!important}  .info-snackbar{background-color:#3b82f6!important;color:#fff!important;font-weight:600!important}  .info-snackbar .mat-simple-snackbar-action{color:#fff!important}.cancel-text[_ngcontent-%COMP%]{color:#fff!important;cursor:pointer!important;font-weight:600!important;text-decoration:none!important;transition:color .15s ease!important}.cancel-text[_ngcontent-%COMP%]:hover{color:#fffc!important}.cancel-text[_ngcontent-%COMP%]:active{transform:scale(.98)}.skip-btn[_ngcontent-%COMP%]{margin-left:auto;width:44px;height:44px;background:var(--gradient-accent);color:#fff;border-radius:var(--radius-md);box-shadow:0 4px 12px #ec48994d;transition:all var(--transition-normal)}.skip-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5}.skip-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #ec489966;transform:translateY(-2px)}.skip-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1) translate(2px)}.skip-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}  .editable-preview-container ::selection{background:#6d28d94d;color:inherit}  .editable-preview-container ::-moz-selection{background:#6d28d94d;color:inherit}.editor-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px dashed rgba(109,40,217,.2);border-radius:var(--radius-lg)}.editor-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:64px;height:64px;color:var(--primary-purple);opacity:.5;margin-bottom:1rem;stroke-width:1.5}.editor-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:#6b7280}.edit-modal-footer[_ngcontent-%COMP%]   .primary-btn[_ngcontent-%COMP%]:active{animation:save-success .3s ease}.qa-info-btn[_ngcontent-%COMP%]{margin-left:auto;color:#6d28d9}.qa-info-btn[_ngcontent-%COMP%]:hover{background-color:#6d28d91a}  .qa-info-menu .mat-mdc-menu-panel{max-width:450px!important;border-radius:12px}.qa-info-content[_ngcontent-%COMP%]{padding:20px;max-width:430px}.qa-info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:600;color:#f59e0b}.qa-info-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{margin-bottom:14px}.qa-info-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:#475569}.qa-info-content[_ngcontent-%COMP%]   .info-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:16px;padding:12px;background:#fef3c7;border-radius:6px;font-size:13px;font-weight:500;color:#78350f}.qa-info-content[_ngcontent-%COMP%]   .info-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#f59e0b}@media (max-width: 768px){  .qa-info-menu .mat-mdc-menu-panel{max-width:calc(100vw - 32px)!important}.qa-info-content[_ngcontent-%COMP%]{max-width:100%;padding:16px}}.stats-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d908,#ec489908);border:2px solid rgba(109,40,217,.15)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto;width:36px;height:36px;min-width:36px;padding:0!important;border:2px solid rgba(109,40,217,.2);outline:none;cursor:pointer;color:#6b7280;background:transparent;border-radius:8px;transition:all var(--transition-normal);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;position:relative;z-index:1;transition:color .2s ease}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:6px;background:var(--gradient-primary);transform:scale(0);transition:transform .2s ease}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active:before{transform:scale(1)}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:active   mat-icon[_ngcontent-%COMP%]{color:#fff}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn.active[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;border-color:transparent}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.stats-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .debug-toggle-btn[_ngcontent-%COMP%]:focus{outline:none;border-color:#6d28d966}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;margin-top:1rem}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:1rem;background:#fff;border:2px solid rgba(0,0,0,.06);border-radius:var(--radius-md);transition:all var(--transition-normal)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000014}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke-width:2.5}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;line-height:1;letter-spacing:-.02em}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;opacity:.7}.stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d91a,#ec48991a)}.stat-card.total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--primary-purple)}.stat-card.total[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--primary-purple)}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#0596691a)}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--success-green)}.stat-card.success[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--success-green)}.stat-card.error[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a)}.stat-card.error[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-red)}.stat-card.error[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--error-red)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#fbbf241a)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--warning-orange)}.stat-card.blocked[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:var(--warning-orange)}.perfect-template-message[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#10b98114,#05966914);border:2px solid rgba(16,185,129,.3);border-radius:12px;text-align:center}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#10b981,#059669);border-radius:50%;box-shadow:0 8px 24px #10b9814d;animation:_ngcontent-%COMP%_perfect-pulse 2s ease-in-out infinite}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;color:#fff;stroke-width:3}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:700;color:#065f46}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:#047857;font-weight:500}@keyframes _ngcontent-%COMP%_perfect-pulse{0%,to{transform:scale(1);box-shadow:0 8px 24px #10b9814d}50%{transform:scale(1.05);box-shadow:0 12px 32px #10b98166}}.debug-section[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#00000005;border:1px dashed rgba(0,0,0,.1);border-radius:var(--radius-sm)}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-size:.875rem;font-weight:700;color:#374151}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--primary-purple)}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem .75rem;background:#fff;border-radius:6px;font-size:.8125rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%]{font-weight:600;color:#6b7280}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-purple);font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace}.failed-edits-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444408,#dc262608);border:2px solid rgba(239,68,68,.2)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--error-red)}.failed-edits-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .count-badge.error[_ngcontent-%COMP%]{background:var(--gradient-accent)}.failed-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1rem}.failed-edit-item[_ngcontent-%COMP%]{padding:1.25rem;background:#fff;border:2px solid rgba(239,68,68,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.failed-edit-item[_ngcontent-%COMP%]:hover{border-color:#ef44444d;box-shadow:0 4px 16px #ef44441a;transform:translate(4px)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.8125rem;font-weight:700}.status-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.status-badge.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98126,#05966926);border:1px solid rgba(16,185,129,.3);color:#065f46}.status-badge.error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444426,#dc262626);border:1px solid rgba(239,68,68,.3);color:#991b1b}.status-badge.warn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b26,#fbbf2426);border:1px solid rgba(245,158,11,.3);color:#78350f}.status-badge.disabled[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9ca3af26,#6b728026);border:1px solid rgba(156,163,175,.3);color:#4b5563}.status-badge.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f626,#2563eb26);border:1px solid rgba(59,130,246,.3);color:#1e40af}.failed-edit-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.875rem}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;flex-wrap:wrap;padding:.875rem;background:#00000005;border-radius:var(--radius-sm)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#6b7280;flex-shrink:0}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;padding:.375rem .625rem;border-radius:6px;font-weight:600}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .text-find[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444426,#dc262626);color:#991b1b;border:1px solid rgba(239,68,68,.2)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .text-replace[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b98126,#05966926);color:#065f46;border:1px solid rgba(16,185,129,.2)}.failed-edit-content[_ngcontent-%COMP%]   .edit-text[_ngcontent-%COMP%]   .arrow-mini[_ngcontent-%COMP%]{width:16px;height:16px;color:#9ca3af;flex-shrink:0}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%], .failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.625rem;padding:.875rem;border-radius:var(--radius-sm);font-size:.875rem;line-height:1.6}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;flex-shrink:0;margin-top:2px}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444414,#dc262614);border:1px solid rgba(239,68,68,.2);color:#991b1b}.failed-edit-content[_ngcontent-%COMP%]   .failure-reason[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:var(--error-red)}.failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b14,#fbbf2414);border:1px solid rgba(245,158,11,.2);color:#78350f}.failed-edit-content[_ngcontent-%COMP%]   .recommendation[_ngcontent-%COMP%]   .bulb-icon[_ngcontent-%COMP%]{color:var(--warning-orange)}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]{padding:.875rem;background:#00000005;border:1px dashed rgba(0,0,0,.1);border-radius:var(--radius-sm);font-size:.8125rem}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#6b7280;margin-bottom:.5rem}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;display:block;background:#fff;padding:.625rem;border-radius:6px;line-height:1.6;word-break:break-word}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]   .dim[_ngcontent-%COMP%]{opacity:.5}.failed-edit-content[_ngcontent-%COMP%]   .context-preview[_ngcontent-%COMP%]   .context-text[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b33,#fbbf2433);padding:.125rem .375rem;border-radius:4px;font-weight:600}.diagnostics-section[_ngcontent-%COMP%]{margin-top:.875rem;padding:1rem;background:linear-gradient(135deg,#6d28d908,#ec489908);border:1px dashed rgba(109,40,217,.2);border-radius:var(--radius-sm)}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-size:.875rem;font-weight:700;color:#374151}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--primary-purple)}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.625rem;background:#fff;border-radius:6px}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]   .diag-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.03em}.diagnostics-section[_ngcontent-%COMP%]   .diagnostics-grid[_ngcontent-%COMP%]   .diag-item[_ngcontent-%COMP%]   .diag-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:var(--primary-purple);font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.timings-grid[_ngcontent-%COMP%], .diagnostics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.edit-text[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important}.perfect-template-message[_ngcontent-%COMP%]{padding:1.25rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:50px;height:50px}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stat-card[_ngcontent-%COMP%]{padding:.875rem}.perfect-template-message[_ngcontent-%COMP%]{padding:1rem;margin-top:1rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-bottom:.75rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.375rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.debug-section[_ngcontent-%COMP%]{padding:.875rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.625rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{gap:.375rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{padding:.5rem .625rem;font-size:.75rem;min-width:0}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%], .debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-size:.75rem;white-space:nowrap}}@media (max-height: 600px) and (orientation: landscape){.perfect-template-message[_ngcontent-%COMP%]{padding:.875rem;margin-top:1rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-bottom:.5rem}.perfect-template-message[_ngcontent-%COMP%]   .perfect-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.perfect-template-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9375rem;margin-bottom:.25rem}.perfect-template-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem}.debug-section[_ngcontent-%COMP%]{padding:.75rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.5rem}.debug-section[_ngcontent-%COMP%]   .debug-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]{gap:.375rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]{padding:.375rem .5rem;font-size:.75rem}.debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-label[_ngcontent-%COMP%], .debug-section[_ngcontent-%COMP%]   .timings-grid[_ngcontent-%COMP%]   .timing-item[_ngcontent-%COMP%]   .timing-value[_ngcontent-%COMP%]{font-size:.6875rem}}.visual-editor-btn[_ngcontent-%COMP%]{position:relative;transition:all var(--transition-normal);width:100%!important}.visual-editor-btn.orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)!important;color:#fff!important;box-shadow:0 4px 16px #f59e0b4d}.visual-editor-btn.orange[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #f59e0b66;transform:translateY(-2px)}.visual-editor-btn.red[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)!important;color:#fff!important;box-shadow:0 4px 16px #ef44444d}.visual-editor-btn.red[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #ef444466;transform:translateY(-2px)}.visual-editor-btn.green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;box-shadow:0 4px 16px #10b9814d}.visual-editor-btn.green[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 24px #10b98166;transform:translateY(-2px)}.visual-editor-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{position:absolute!important;inset:50% -100px auto auto!important;transform:translateY(-50%)!important;min-width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:#ffffff40;color:#fff;font-size:.75rem;font-weight:700;border-radius:12px;padding:0 8px;box-shadow:none;border:none;z-index:10;flex-shrink:0}@media (max-width: 1024px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-80px!important}}@media (max-width: 768px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-60px!important}}@media (max-width: 480px){.visual-editor-btn[_ngcontent-%COMP%]   .failed-edits-badge[_ngcontent-%COMP%]{right:-40px!important}}@keyframes _ngcontent-%COMP%_pulse-red{0%,to{box-shadow:0 4px 16px #ef44444d}50%{box-shadow:0 8px 32px #ef444499}}.shake-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_violent-shake 1s cubic-bezier(.36,.07,.19,.97)!important;animation-iteration-count:1!important}@keyframes _ngcontent-%COMP%_violent-shake{0%,to{transform:translate(0) rotate(0)}10%,30%,50%,70%,90%{transform:translate(-10px) rotate(-1deg)}20%,40%,60%,80%{transform:translate(10px) rotate(1deg)}}.visual-editor-modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;padding:2rem;animation:none!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);cursor:pointer;animation:none!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{position:relative;z-index:10000;width:100%;max-width:800px;max-height:80vh;background:var(--glass-white);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--radius-xl);box-shadow:0 20px 60px #0000004d;display:flex;flex-direction:column;overflow:hidden}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1.5rem 2rem;border-bottom:1px solid rgba(0,0,0,.08);flex-shrink:0;position:relative}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1f2937;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .failed-count-badge[_ngcontent-%COMP%]{position:static;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;font-size:.875rem;font-weight:700;padding:.25rem .75rem;border-radius:12px;box-shadow:0 2px 8px #ef44444d;margin-left:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]{color:#6b7280;flex-shrink:0;order:3!important;margin-left:auto}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#0000000d;color:#1f2937}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.info-state)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b0d,#fbbf240d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.info-state)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44440d,#dc26260d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--error-red)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.failed-edits-preview)   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#ef44441a;color:var(--error-red)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9810d,#0596690d)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--success-green)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]:has(.success-state)   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:#10b9811a;color:var(--success-green)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0;max-height:60vh;min-height:0;display:flex;flex-direction:column}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]:has(.info-state), .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]:has(.success-state){overflow-y:hidden}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#00000008;border-radius:4px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6d28d94d;border-radius:4px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6d28d980}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1.25rem;background:linear-gradient(135deg,#3b82f614,#6d28d914);border:1px solid rgba(59,130,246,.2);border-radius:var(--radius-md);margin:1.5rem 1.5rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--accent-blue);font-size:24px;width:24px;height:24px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;line-height:1.6;color:#374151}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;border:2px solid rgba(239,68,68,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]:hover{border-color:#ef44444d;box-shadow:0 4px 16px #ef44441a;transform:translate(4px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:.75rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;flex-wrap:wrap}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000d;padding:.375rem .625rem;border-radius:6px;word-break:break-word}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .preview-find[_ngcontent-%COMP%]{color:#991b1b}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .preview-replace[_ngcontent-%COMP%]{color:#065f46}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:18px;width:18px;height:18px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .more-edits[_ngcontent-%COMP%]{margin-top:1rem;text-align:center;font-size:.875rem;font-weight:600;color:#6b7280;font-style:italic}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:2rem;border-top:2px dashed rgba(99,102,241,.2)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#6366f1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:700;color:#1f2937;flex:1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .count-badge.skipped-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;padding:.25rem .75rem;border-radius:12px;font-size:.8125rem;font-weight:700}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{margin:0 0 1.5rem;padding:.875rem 1rem;background:#6366f10d;border-left:3px solid #6366f1;border-radius:6px;font-size:.875rem;color:#4b5563;line-height:1.6}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;border:2px solid rgba(99,102,241,.15);border-radius:var(--radius-md);transition:all var(--transition-normal)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]:hover{border-color:#6366f14d;box-shadow:0 4px 16px #6366f11a;transform:translate(4px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .status-badge.disabled[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .75rem;background:#6366f11a;border-radius:6px;font-size:.75rem;font-weight:600;color:#6366f1}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .status-badge.disabled[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:.75rem;font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,monospace;font-size:.8125rem;flex-wrap:wrap}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000000d;padding:.375rem .625rem;border-radius:6px;word-break:break-word;color:#6b7280;font-style:italic}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:18px;width:18px;height:18px;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.75rem;padding:.625rem .875rem;background:#6366f10d;border-radius:6px;font-size:.8125rem;color:#4b5563}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6366f1;flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;text-align:center;min-height:300px;width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:72px;width:72px;height:72px;color:var(--success-green);margin-bottom:1.5rem;animation:_ngcontent-%COMP%_scaleIn .5s ease-out}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:#1f2937;letter-spacing:-.02em}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#6b7280;line-height:1.7;max-width:400px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center;width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:72px;width:72px;height:72px;color:#f59e0b;margin-bottom:1.5rem;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;font-weight:700;color:#1f2937;letter-spacing:-.02em}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1rem;color:#6b7280;line-height:1.7;max-width:420px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;padding:.875rem 1.25rem;background:linear-gradient(135deg,#f59e0b1a,#fbbf241a);border:2px dashed rgba(245,158,11,.3);border-radius:12px;font-size:.9375rem;font-weight:600;color:#92400e}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#f59e0b;animation:_ngcontent-%COMP%_bounce 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.6}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem;padding:1.5rem 2rem;background:#f9fafbcc;border-top:1px solid rgba(0,0,0,.08);flex-shrink:0}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.primary[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #6d28d966}@media (max-width: 768px){.visual-editor-modal[_ngcontent-%COMP%]{padding:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-height:95vh;max-width:100%;border-radius:var(--radius-lg)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1rem 1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{font-size:.8125rem;padding:.25rem .625rem;margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:70vh}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{padding:1.5rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:60px;width:60px;height:60px;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{font-size:.875rem;padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{padding:2rem 1rem;min-height:250px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:60px;width:60px;height:60px;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important;gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .5rem;max-width:100%;overflow-wrap:break-word;word-break:break-all}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.6875rem!important;padding:.3rem .6rem!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:1rem;font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.25rem;gap:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem 1rem}}@media (max-height: 600px) and (orientation: landscape){.visual-editor-modal[_ngcontent-%COMP%]{padding:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-height:95vh;max-width:90%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .5rem;margin-right:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:calc(95vh - 120px)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]{padding:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:48px;width:48px;height:48px;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{font-size:.8125rem;padding:.625rem .875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]{padding:1.5rem 1rem;min-height:200px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.75rem;padding:.3rem .5rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]{font-size:.75rem;padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.875rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:.75rem;font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:.75rem 1rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8125rem;padding:.5rem .875rem}}@media (max-width: 480px){.visual-editor-modal[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{max-width:calc(100vw - 1rem)}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .info-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edits-list[_ngcontent-%COMP%]{gap:.625rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]{padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.6875rem;gap:.375rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.6875rem;padding:.3rem .4rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .failed-edit-item[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.625rem!important;padding:.25rem .5rem!important}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]{font-size:.75rem;padding:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .failed-edits-preview[_ngcontent-%COMP%]   .how-to-fix[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{padding:.875rem;font-size:.8125rem}.visual-editor-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{flex-direction:column-reverse}.visual-editor-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.manual-fix-guidance[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:linear-gradient(135deg,#fef3c7,#fde68a);border-left:4px solid #f59e0b;border-radius:8px;display:flex;gap:.75rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-icon[_ngcontent-%COMP%]{flex-shrink:0}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b;font-size:24px;width:24px;height:24px}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]{flex:1}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#92400e;font-size:.875rem;margin-bottom:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#78350f;font-size:.875rem;line-height:1.6}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]{margin-top:.75rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.8125rem;margin-bottom:.375rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;list-style:none}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.375rem 0;display:flex;align-items:center;gap:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2192";color:#f59e0b;font-weight:700}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .search-hints[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0000001a;padding:2px 6px;border-radius:4px;font-size:.75rem;color:#78350f}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid rgba(0,0,0,.1)}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-bottom:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#ffffff80;border-radius:6px;font-size:.8125rem;color:#78350f}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-weight:700;color:#92400e;background:none;padding:0}.manual-fix-guidance[_ngcontent-%COMP%]   .guidance-content[_ngcontent-%COMP%]   .affected-elements[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   .chain-arrow[_ngcontent-%COMP%]{color:#f59e0b;font-size:16px;width:16px;height:16px}.debug-info[_ngcontent-%COMP%]{margin-top:1rem;padding:.75rem;background:#6d28d90d;border:1px dashed rgba(109,40,217,.2);border-radius:6px}.debug-info[_ngcontent-%COMP%]   .debug-toggle[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--primary-purple);padding:.375rem .75rem;min-height:auto}.debug-info[_ngcontent-%COMP%]   .debug-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:.375rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]{margin-top:.5rem;display:none;flex-direction:column;gap:.375rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.375rem .5rem;background:#fff;border-radius:4px;font-size:.75rem}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6b7280}.debug-info[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]   .debug-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--primary-purple);font-family:SF Mono,Monaco,monospace}.debug-info.expanded[_ngcontent-%COMP%]   .debug-details[_ngcontent-%COMP%]{display:flex}@media (max-width: 768px){.manual-fix-guidance[_ngcontent-%COMP%]{flex-direction:column}.manual-fix-guidance[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.manual-fix-guidance[_ngcontent-%COMP%]   .element-chain[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   .chain-arrow[_ngcontent-%COMP%]{transform:rotate(90deg)}.skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem}.skipped-edits-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]{padding:.875rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{font-size:.75rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{padding:.25rem .5rem}.skipped-edits-section[_ngcontent-%COMP%]   .skipped-edit-item[_ngcontent-%COMP%]   .skip-reason[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem .75rem}}@media (max-width: 480px){.skipped-edits-section[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch!important;gap:.5rem}.skipped-edits-section[_ngcontent-%COMP%]   .edit-preview[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{display:none}}.header-icon.clickable-icon[_ngcontent-%COMP%]{cursor:pointer;background:linear-gradient(135deg,#8b5cf6,#6d28d9);border-radius:12px;padding:8px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;box-shadow:0 2px 8px #6d28d933}.header-icon.clickable-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff;transition:transform .3s ease}.header-icon.clickable-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 4px 16px #6d28d966}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover:before{left:100%}.header-icon.clickable-icon[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:rotate(-5deg) scale(1.1)}.header-icon.clickable-icon[_ngcontent-%COMP%]:active{transform:translateY(0) scale(1)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;position:relative}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;min-width:0}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto;width:36px;height:36px;min-width:36px;padding:0!important;border:none;outline:none;cursor:pointer;background:linear-gradient(135deg,#8b5cf6,#6d28d9);color:#fff!important;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;justify-content:center;position:relative;overflow:visible}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;color:#fff!important;position:relative;z-index:1}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;min-width:18px;height:18px;padding:0 4px;background:#dc2626;color:#fff;font-size:11px;font-weight:700;border-radius:9px;display:flex;align-items:center;justify-content:center;z-index:2;border:2px solid white;box-shadow:0 2px 8px #00000040;line-height:1;animation:_ngcontent-%COMP%_badge-pulse 2s ease-in-out infinite}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]:before{content:"";display:inline-block}@keyframes _ngcontent-%COMP%_badge-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:8px;background:#ffffff4d;transform:scale(0);transition:transform .3s ease;z-index:0}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active:before{transform:scale(1)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 16px #6d28d980;background:linear-gradient(135deg,#9333ea,#7c3aed)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:hover   .edit-badge[_ngcontent-%COMP%]{animation:none;transform:scale(1.05)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active, .changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:active   .edit-badge[_ngcontent-%COMP%]{transform:scale(.98)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #6d28d94d}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:before{background:#ffffff4d}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #ef444480;background:linear-gradient(135deg,#f87171,#ef4444)}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn.has-failed-edits[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44444d}@media (max-width: 768px){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:32px;height:32px;min-width:32px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-5px;right:-5px;min-width:16px;height:16px;padding:0 3px;font-size:10px;border-radius:8px}}@media (max-width: 480px){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:30px;height:30px;min-width:30px;border-radius:6px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-4px;right:-4px;min-width:14px;height:14px;padding:0 2px;font-size:9px;border-radius:7px;border-width:1.5px}}@media (max-height: 600px) and (orientation: landscape){.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]{width:28px;height:28px;min-width:28px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:15px;width:15px;height:15px}.changes-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .variant-edit-btn[_ngcontent-%COMP%]   .edit-badge[_ngcontent-%COMP%]{top:-4px;right:-4px;min-width:14px;height:14px;font-size:9px}}']})}}return o})();function Ku(o){return o+.5|0}var Fs=(o,n,t)=>Math.max(Math.min(o,t),n);function Wu(o){return Fs(Ku(o*2.55),0,255)}function Vs(o){return Fs(Ku(o*255),0,255)}function ja(o){return Fs(Ku(o/2.55)/100,0,1)}function vP(o){return Fs(Ku(o*100),0,100)}var Ao={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pv=[..."0123456789ABCDEF"],sH=o=>pv[o&15],lH=o=>pv[(o&240)>>4]+pv[o&15],uh=o=>(o&240)>>4===(o&15),cH=o=>uh(o.r)&&uh(o.g)&&uh(o.b)&&uh(o.a);function dH(o){var n=o.length,t;return o[0]==="#"&&(n===4||n===5?t={r:255&Ao[o[1]]*17,g:255&Ao[o[2]]*17,b:255&Ao[o[3]]*17,a:n===5?Ao[o[4]]*17:255}:(n===7||n===9)&&(t={r:Ao[o[1]]<<4|Ao[o[2]],g:Ao[o[3]]<<4|Ao[o[4]],b:Ao[o[5]]<<4|Ao[o[6]],a:n===9?Ao[o[7]]<<4|Ao[o[8]]:255})),t}var uH=(o,n)=>o<255?n(o):"";function pH(o){var n=cH(o)?sH:lH;return o?"#"+n(o.r)+n(o.g)+n(o.b)+uH(o.a,n):void 0}var fH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function CP(o,n,t){let e=n*Math.min(t,1-t),r=(i,a=(i+o/30)%12)=>t-e*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function gH(o,n,t){let e=(r,i=(r+o/60)%6)=>t-t*n*Math.max(Math.min(i,4-i,1),0);return[e(5),e(3),e(1)]}function hH(o,n,t){let e=CP(o,1,.5),r;for(n+t>1&&(r=1/(n+t),n*=r,t*=r),r=0;r<3;r++)e[r]*=1-n-t,e[r]+=n;return e}function mH(o,n,t,e,r){return o===r?(n-t)/e+(n<t?6:0):n===r?(t-o)/e+2:(o-n)/e+4}function fv(o){let t=o.r/255,e=o.g/255,r=o.b/255,i=Math.max(t,e,r),a=Math.min(t,e,r),s=(i+a)/2,l,c,u;return i!==a&&(u=i-a,c=s>.5?u/(2-i-a):u/(i+a),l=mH(t,e,r,u,i),l=l*60+.5),[l|0,c||0,s]}function gv(o,n,t,e){return(Array.isArray(n)?o(n[0],n[1],n[2]):o(n,t,e)).map(Vs)}function hv(o,n,t){return gv(CP,o,n,t)}function vH(o,n,t){return gv(hH,o,n,t)}function _H(o,n,t){return gv(gH,o,n,t)}function xP(o){return(o%360+360)%360}function yH(o){let n=fH.exec(o),t=255,e;if(!n)return;n[5]!==e&&(t=n[6]?Wu(+n[5]):Vs(+n[5]));let r=xP(+n[2]),i=+n[3]/100,a=+n[4]/100;return n[1]==="hwb"?e=vH(r,i,a):n[1]==="hsv"?e=_H(r,i,a):e=hv(r,i,a),{r:e[0],g:e[1],b:e[2],a:t}}function bH(o,n){var t=fv(o);t[0]=xP(t[0]+n),t=hv(t),o.r=t[0],o.g=t[1],o.b=t[2]}function CH(o){if(!o)return;let n=fv(o),t=n[0],e=vP(n[1]),r=vP(n[2]);return o.a<255?`hsla(${t}, ${e}%, ${r}%, ${ja(o.a)})`:`hsl(${t}, ${e}%, ${r}%)`}var _P={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function xH(){let o={},n=Object.keys(yP),t=Object.keys(_P),e,r,i,a,s;for(e=0;e<n.length;e++){for(a=s=n[e],r=0;r<t.length;r++)i=t[r],s=s.replace(i,_P[i]);i=parseInt(yP[a],16),o[s]=[i>>16&255,i>>8&255,i&255]}return o}var ph;function OH(o){ph||(ph=xH(),ph.transparent=[0,0,0,0]);let n=ph[o.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}var PH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function MH(o){let n=PH.exec(o),t=255,e,r,i;if(n){if(n[7]!==e){let a=+n[7];t=n[8]?Wu(a):Fs(a*255,0,255)}return e=+n[1],r=+n[3],i=+n[5],e=255&(n[2]?Wu(e):Fs(e,0,255)),r=255&(n[4]?Wu(r):Fs(r,0,255)),i=255&(n[6]?Wu(i):Fs(i,0,255)),{r:e,g:r,b:i,a:t}}}function wH(o){return o&&(o.a<255?`rgba(${o.r}, ${o.g}, ${o.b}, ${ja(o.a)})`:`rgb(${o.r}, ${o.g}, ${o.b})`)}var uv=o=>o<=.0031308?o*12.92:Math.pow(o,1/2.4)*1.055-.055,td=o=>o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4);function SH(o,n,t){let e=td(ja(o.r)),r=td(ja(o.g)),i=td(ja(o.b));return{r:Vs(uv(e+t*(td(ja(n.r))-e))),g:Vs(uv(r+t*(td(ja(n.g))-r))),b:Vs(uv(i+t*(td(ja(n.b))-i))),a:o.a+t*(n.a-o.a)}}function fh(o,n,t){if(o){let e=fv(o);e[n]=Math.max(0,Math.min(e[n]+e[n]*t,n===0?360:1)),e=hv(e),o.r=e[0],o.g=e[1],o.b=e[2]}}function OP(o,n){return o&&Object.assign(n||{},o)}function bP(o){var n={r:0,g:0,b:0,a:255};return Array.isArray(o)?o.length>=3&&(n={r:o[0],g:o[1],b:o[2],a:255},o.length>3&&(n.a=Vs(o[3]))):(n=OP(o,{r:0,g:0,b:0,a:1}),n.a=Vs(n.a)),n}function TH(o){return o.charAt(0)==="r"?MH(o):yH(o)}var Gu=class o{constructor(n){if(n instanceof o)return n;let t=typeof n,e;t==="object"?e=bP(n):t==="string"&&(e=dH(n)||OH(n)||TH(n)),this._rgb=e,this._valid=!!e}get valid(){return this._valid}get rgb(){var n=OP(this._rgb);return n&&(n.a=ja(n.a)),n}set rgb(n){this._rgb=bP(n)}rgbString(){return this._valid?wH(this._rgb):void 0}hexString(){return this._valid?pH(this._rgb):void 0}hslString(){return this._valid?CH(this._rgb):void 0}mix(n,t){if(n){let e=this.rgb,r=n.rgb,i,a=t===i?.5:t,s=2*a-1,l=e.a-r.a,c=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;i=1-c,e.r=255&c*e.r+i*r.r+.5,e.g=255&c*e.g+i*r.g+.5,e.b=255&c*e.b+i*r.b+.5,e.a=a*e.a+(1-a)*r.a,this.rgb=e}return this}interpolate(n,t){return n&&(this._rgb=SH(this._rgb,n._rgb,t)),this}clone(){return new o(this.rgb)}alpha(n){return this._rgb.a=Vs(n),this}clearer(n){let t=this._rgb;return t.a*=1-n,this}greyscale(){let n=this._rgb,t=Ku(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=t,this}opaquer(n){let t=this._rgb;return t.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return fh(this._rgb,2,n),this}darken(n){return fh(this._rgb,2,-n),this}saturate(n){return fh(this._rgb,1,n),this}desaturate(n){return fh(this._rgb,1,-n),this}rotate(n){return bH(this._rgb,n),this}};function ga(){}var LP=(()=>{let o=0;return()=>o++})();function Hn(o){return o==null}function er(o){if(Array.isArray&&Array.isArray(o))return!0;let n=Object.prototype.toString.call(o);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function xn(o){return o!==null&&Object.prototype.toString.call(o)==="[object Object]"}function dr(o){return(typeof o=="number"||o instanceof Number)&&isFinite(+o)}function Gi(o,n){return dr(o)?o:n}function hn(o,n){return typeof o>"u"?n:o}var NP=(o,n)=>typeof o=="string"&&o.endsWith("%")?parseFloat(o)/100*n:+o;function Gn(o,n,t){if(o&&typeof o.call=="function")return o.apply(t,n)}function Bn(o,n,t,e){let r,i,a;if(er(o))if(i=o.length,e)for(r=i-1;r>=0;r--)n.call(t,o[r],r);else for(r=0;r<i;r++)n.call(t,o[r],r);else if(xn(o))for(a=Object.keys(o),i=a.length,r=0;r<i;r++)n.call(t,o[a[r]],a[r])}function Yu(o,n){let t,e,r,i;if(!o||!n||o.length!==n.length)return!1;for(t=0,e=o.length;t<e;++t)if(r=o[t],i=n[t],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function vh(o){if(er(o))return o.map(vh);if(xn(o)){let n=Object.create(null),t=Object.keys(o),e=t.length,r=0;for(;r<e;++r)n[t[r]]=vh(o[t[r]]);return n}return o}function RP(o){return["__proto__","prototype","constructor"].indexOf(o)===-1}function EH(o,n,t,e){if(!RP(o))return;let r=n[o],i=t[o];xn(r)&&xn(i)?nd(r,i,e):n[o]=vh(i)}function nd(o,n,t){let e=er(n)?n:[n],r=e.length;if(!xn(o))return o;t=t||{};let i=t.merger||EH,a;for(let s=0;s<r;++s){if(a=e[s],!xn(a))continue;let l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)i(l[c],o,a,t)}return o}function id(o,n){return nd(o,n,{merger:kH})}function kH(o,n,t){if(!RP(o))return;let e=n[o],r=t[o];xn(e)&&xn(r)?id(e,r):Object.prototype.hasOwnProperty.call(n,o)||(n[o]=vh(r))}var PP={"":o=>o,x:o=>o.x,y:o=>o.y};function AH(o){let n=o.split("."),t=[],e="";for(let r of n)e+=r,e.endsWith("\\")?e=e.slice(0,-1)+".":(t.push(e),e="");return t}function IH(o){let n=AH(o);return t=>{for(let e of n){if(e==="")break;t=t&&t[e]}return t}}function Xu(o,n){return(PP[n]||(PP[n]=IH(n)))(o)}function Ch(o){return o.charAt(0).toUpperCase()+o.slice(1)}var Qu=o=>typeof o<"u",Ha=o=>typeof o=="function",yv=(o,n)=>{if(o.size!==n.size)return!1;for(let t of o)if(!n.has(t))return!1;return!0};function FP(o){return o.type==="mouseup"||o.type==="click"||o.type==="contextmenu"}var xr=Math.PI,Wi=2*xr,DH=Wi+xr,_h=Number.POSITIVE_INFINITY,LH=xr/180,Ui=xr/2,Vl=xr/4,MP=xr*2/3,Ba=Math.log10,jl=Math.sign;function od(o,n,t){return Math.abs(o-n)<t}function bv(o){let n=Math.round(o);o=od(o,n,o/1e3)?n:o;let t=Math.pow(10,Math.floor(Ba(o))),e=o/t;return(e<=1?1:e<=2?2:e<=5?5:10)*t}function VP(o){let n=[],t=Math.sqrt(o),e;for(e=1;e<t;e++)o%e===0&&(n.push(e),n.push(o/e));return t===(t|0)&&n.push(t),n.sort((r,i)=>r-i).pop(),n}function NH(o){return typeof o=="symbol"||typeof o=="object"&&o!==null&&!(Symbol.toPrimitive in o||"toString"in o||"valueOf"in o)}function ad(o){return!NH(o)&&!isNaN(parseFloat(o))&&isFinite(o)}function zP(o,n){let t=Math.round(o);return t-n<=o&&t+n>=o}function Cv(o,n,t){let e,r,i;for(e=0,r=o.length;e<r;e++)i=o[e][t],isNaN(i)||(n.min=Math.min(n.min,i),n.max=Math.max(n.max,i))}function Ua(o){return o*(xr/180)}function xh(o){return o*(180/xr)}function xv(o){if(!dr(o))return;let n=1,t=0;for(;Math.round(o*n)/n!==o;)n*=10,t++;return t}function jP(o,n){let t=n.x-o.x,e=n.y-o.y,r=Math.sqrt(t*t+e*e),i=Math.atan2(e,t);return i<-.5*xr&&(i+=Wi),{angle:i,distance:r}}function yh(o,n){return Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2))}function RH(o,n){return(o-n+DH)%Wi-xr}function Bi(o){return(o%Wi+Wi)%Wi}function Ov(o,n,t,e){let r=Bi(o),i=Bi(n),a=Bi(t),s=Bi(i-r),l=Bi(a-r),c=Bi(r-i),u=Bi(r-a);return r===i||r===a||e&&i===a||s>l&&c<u}function fo(o,n,t){return Math.max(n,Math.min(t,o))}function HP(o){return fo(o,-32768,32767)}function Bl(o,n,t,e=1e-6){return o>=Math.min(n,t)-e&&o<=Math.max(n,t)+e}function Oh(o,n,t){t=t||(a=>o[a]<n);let e=o.length-1,r=0,i;for(;e-r>1;)i=r+e>>1,t(i)?r=i:e=i;return{lo:r,hi:e}}var js=(o,n,t,e)=>Oh(o,t,e?r=>{let i=o[r][n];return i<t||i===t&&o[r+1][n]===t}:r=>o[r][n]<t),BP=(o,n,t)=>Oh(o,t,e=>o[e][n]>=t);function UP(o,n,t){let e=0,r=o.length;for(;e<r&&o[e]<n;)e++;for(;r>e&&o[r-1]>t;)r--;return e>0||r<o.length?o.slice(e,r):o}var WP=["push","pop","shift","splice","unshift"];function GP(o,n){if(o._chartjs){o._chartjs.listeners.push(n);return}Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),WP.forEach(t=>{let e="_onData"+Ch(t),r=o[t];Object.defineProperty(o,t,{configurable:!0,enumerable:!1,value(...i){let a=r.apply(this,i);return o._chartjs.listeners.forEach(s=>{typeof s[e]=="function"&&s[e](...i)}),a}})})}function Pv(o,n){let t=o._chartjs;if(!t)return;let e=t.listeners,r=e.indexOf(n);r!==-1&&e.splice(r,1),!(e.length>0)&&(WP.forEach(i=>{delete o[i]}),delete o._chartjs)}function KP(o){let n=new Set(o);return n.size===o.length?o:Array.from(n)}var Mv=function(){return typeof window>"u"?function(o){return o()}:window.requestAnimationFrame}();function wv(o,n){let t=[],e=!1;return function(...r){t=r,e||(e=!0,Mv.call(window,()=>{e=!1,o.apply(n,t)}))}}function qP(o,n){let t;return function(...e){return n?(clearTimeout(t),t=setTimeout(o,n,e)):o.apply(this,e),n}}var Ph=o=>o==="start"?"left":o==="end"?"right":"center",ri=(o,n,t)=>o==="start"?n:o==="end"?t:(n+t)/2,$P=(o,n,t,e)=>o===(e?"left":"right")?t:o==="center"?(n+t)/2:n;function YP(o,n,t){let e=n.length,r=0,i=e;if(o._sorted){let{iScale:a,vScale:s,_parsed:l}=o,c=o.dataset&&o.dataset.options?o.dataset.options.spanGaps:null,u=a.axis,{min:p,max:g,minDefined:h,maxDefined:y}=a.getUserBounds();if(h){if(r=Math.min(js(l,u,p).lo,t?e:js(n,u,a.getPixelForValue(p)).lo),c){let _=l.slice(0,r+1).reverse().findIndex(x=>!Hn(x[s.axis]));r-=Math.max(0,_)}r=fo(r,0,e-1)}if(y){let _=Math.max(js(l,a.axis,g,!0).hi+1,t?0:js(n,u,a.getPixelForValue(g),!0).hi+1);if(c){let x=l.slice(_-1).findIndex(P=>!Hn(P[s.axis]));_+=Math.max(0,x)}i=fo(_,r,e)-r}else i=e-r}return{start:r,count:i}}function XP(o){let{xScale:n,yScale:t,_scaleRanges:e}=o,r={xmin:n.min,xmax:n.max,ymin:t.min,ymax:t.max};if(!e)return o._scaleRanges=r,!0;let i=e.xmin!==n.min||e.xmax!==n.max||e.ymin!==t.min||e.ymax!==t.max;return Object.assign(e,r),i}var gh=o=>o===0||o===1,wP=(o,n,t)=>-(Math.pow(2,10*(o-=1))*Math.sin((o-n)*Wi/t)),SP=(o,n,t)=>Math.pow(2,-10*o)*Math.sin((o-n)*Wi/t)+1,ed={linear:o=>o,easeInQuad:o=>o*o,easeOutQuad:o=>-o*(o-2),easeInOutQuad:o=>(o/=.5)<1?.5*o*o:-.5*(--o*(o-2)-1),easeInCubic:o=>o*o*o,easeOutCubic:o=>(o-=1)*o*o+1,easeInOutCubic:o=>(o/=.5)<1?.5*o*o*o:.5*((o-=2)*o*o+2),easeInQuart:o=>o*o*o*o,easeOutQuart:o=>-((o-=1)*o*o*o-1),easeInOutQuart:o=>(o/=.5)<1?.5*o*o*o*o:-.5*((o-=2)*o*o*o-2),easeInQuint:o=>o*o*o*o*o,easeOutQuint:o=>(o-=1)*o*o*o*o+1,easeInOutQuint:o=>(o/=.5)<1?.5*o*o*o*o*o:.5*((o-=2)*o*o*o*o+2),easeInSine:o=>-Math.cos(o*Ui)+1,easeOutSine:o=>Math.sin(o*Ui),easeInOutSine:o=>-.5*(Math.cos(xr*o)-1),easeInExpo:o=>o===0?0:Math.pow(2,10*(o-1)),easeOutExpo:o=>o===1?1:-Math.pow(2,-10*o)+1,easeInOutExpo:o=>gh(o)?o:o<.5?.5*Math.pow(2,10*(o*2-1)):.5*(-Math.pow(2,-10*(o*2-1))+2),easeInCirc:o=>o>=1?o:-(Math.sqrt(1-o*o)-1),easeOutCirc:o=>Math.sqrt(1-(o-=1)*o),easeInOutCirc:o=>(o/=.5)<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(o-=2)*o)+1),easeInElastic:o=>gh(o)?o:wP(o,.075,.3),easeOutElastic:o=>gh(o)?o:SP(o,.075,.3),easeInOutElastic(o){return gh(o)?o:o<.5?.5*wP(o*2,.1125,.45):.5+.5*SP(o*2-1,.1125,.45)},easeInBack(o){return o*o*((1.70158+1)*o-1.70158)},easeOutBack(o){return(o-=1)*o*((1.70158+1)*o+1.70158)+1},easeInOutBack(o){let n=1.70158;return(o/=.5)<1?.5*(o*o*(((n*=1.525)+1)*o-n)):.5*((o-=2)*o*(((n*=1.525)+1)*o+n)+2)},easeInBounce:o=>1-ed.easeOutBounce(1-o),easeOutBounce(o){return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375},easeInOutBounce:o=>o<.5?ed.easeInBounce(o*2)*.5:ed.easeOutBounce(o*2-1)*.5+.5};function Sv(o){if(o&&typeof o=="object"){let n=o.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function Tv(o){return Sv(o)?o:new Gu(o)}function mv(o){return Sv(o)?o:new Gu(o).saturate(.5).darken(.1).hexString()}var FH=["x","y","borderWidth","radius","tension"],VH=["color","borderColor","backgroundColor"];function zH(o){o.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),o.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"}),o.set("animations",{colors:{type:"color",properties:VH},numbers:{type:"number",properties:FH}}),o.describe("animations",{_fallback:"animation"}),o.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}})}function jH(o){o.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var TP=new Map;function HH(o,n){n=n||{};let t=o+JSON.stringify(n),e=TP.get(t);return e||(e=new Intl.NumberFormat(o,n),TP.set(t,e)),e}function Mh(o,n,t){return HH(n,t).format(o)}var QP={values(o){return er(o)?o:""+o},numeric(o,n,t){if(o===0)return"0";let e=this.chart.options.locale,r,i=o;if(t.length>1){let c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),i=BH(o,t)}let a=Ba(Math.abs(i)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:r,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),Mh(o,e,l)},logarithmic(o,n,t){if(o===0)return"0";let e=t[n].significand||o/Math.pow(10,Math.floor(Ba(o)));return[1,2,3,5,10,15].includes(e)||n>.8*t.length?QP.numeric.call(this,o,n,t):""}};function BH(o,n){let t=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(t)>=1&&o!==Math.floor(o)&&(t=o-Math.floor(o)),t}var Ju={formatters:QP};function UH(o){o.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ju.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),o.route("scale.ticks","color","","color"),o.route("scale.grid","color","","borderColor"),o.route("scale.border","color","","borderColor"),o.route("scale.title","color","","color"),o.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"&&n!=="dash"}),o.describe("scales",{_fallback:"scale"}),o.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"})}var Bs=Object.create(null),wh=Object.create(null);function qu(o,n){if(!n)return o;let t=n.split(".");for(let e=0,r=t.length;e<r;++e){let i=t[e];o=o[i]||(o[i]=Object.create(null))}return o}function vv(o,n,t){return typeof n=="string"?nd(qu(o,n),t):nd(qu(o,""),n)}var _v=class{constructor(n,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,r)=>mv(r.backgroundColor),this.hoverBorderColor=(e,r)=>mv(r.borderColor),this.hoverColor=(e,r)=>mv(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(t)}set(n,t){return vv(this,n,t)}get(n){return qu(this,n)}describe(n,t){return vv(wh,n,t)}override(n,t){return vv(Bs,n,t)}route(n,t,e,r){let i=qu(this,n),a=qu(this,e),s="_"+t;Object.defineProperties(i,{[s]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[s],c=a[r];return xn(l)?Object.assign({},c,l):hn(l,c)},set(l){this[s]=l}}})}apply(n){n.forEach(t=>t(this))}},nr=new _v({_scriptable:o=>!o.startsWith("on"),_indexable:o=>o!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[zH,jH,UH]);function WH(o){return!o||Hn(o.size)||Hn(o.family)?null:(o.style?o.style+" ":"")+(o.weight?o.weight+" ":"")+o.size+"px "+o.family}function $u(o,n,t,e,r){let i=n[r];return i||(i=n[r]=o.measureText(r).width,t.push(r)),i>e&&(e=i),e}function JP(o,n,t,e){e=e||{};let r=e.data=e.data||{},i=e.garbageCollect=e.garbageCollect||[];e.font!==n&&(r=e.data={},i=e.garbageCollect=[],e.font=n),o.save(),o.font=n;let a=0,s=t.length,l,c,u,p,g;for(l=0;l<s;l++)if(p=t[l],p!=null&&!er(p))a=$u(o,r,i,a,p);else if(er(p))for(c=0,u=p.length;c<u;c++)g=p[c],g!=null&&!er(g)&&(a=$u(o,r,i,a,g));o.restore();let h=i.length/2;if(h>t.length){for(l=0;l<h;l++)delete r[i[l]];i.splice(0,h)}return a}function Us(o,n,t){let e=o.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((n-r)*e)/e+r}function Ev(o,n){!n&&!o||(n=n||o.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,o.width,o.height),n.restore())}function Sh(o,n,t,e){kv(o,n,t,e,null)}function kv(o,n,t,e,r){let i,a,s,l,c,u,p,g,h=n.pointStyle,y=n.rotation,_=n.radius,x=(y||0)*LH;if(h&&typeof h=="object"&&(i=h.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){o.save(),o.translate(t,e),o.rotate(x),o.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),o.restore();return}if(!(isNaN(_)||_<=0)){switch(o.beginPath(),h){default:r?o.ellipse(t,e,r/2,_,0,0,Wi):o.arc(t,e,_,0,Wi),o.closePath();break;case"triangle":u=r?r/2:_,o.moveTo(t+Math.sin(x)*u,e-Math.cos(x)*_),x+=MP,o.lineTo(t+Math.sin(x)*u,e-Math.cos(x)*_),x+=MP,o.lineTo(t+Math.sin(x)*u,e-Math.cos(x)*_),o.closePath();break;case"rectRounded":c=_*.516,l=_-c,a=Math.cos(x+Vl)*l,p=Math.cos(x+Vl)*(r?r/2-c:l),s=Math.sin(x+Vl)*l,g=Math.sin(x+Vl)*(r?r/2-c:l),o.arc(t-p,e-s,c,x-xr,x-Ui),o.arc(t+g,e-a,c,x-Ui,x),o.arc(t+p,e+s,c,x,x+Ui),o.arc(t-g,e+a,c,x+Ui,x+xr),o.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*_,u=r?r/2:l,o.rect(t-u,e-l,2*u,2*l);break}x+=Vl;case"rectRot":p=Math.cos(x)*(r?r/2:_),a=Math.cos(x)*_,s=Math.sin(x)*_,g=Math.sin(x)*(r?r/2:_),o.moveTo(t-p,e-s),o.lineTo(t+g,e-a),o.lineTo(t+p,e+s),o.lineTo(t-g,e+a),o.closePath();break;case"crossRot":x+=Vl;case"cross":p=Math.cos(x)*(r?r/2:_),a=Math.cos(x)*_,s=Math.sin(x)*_,g=Math.sin(x)*(r?r/2:_),o.moveTo(t-p,e-s),o.lineTo(t+p,e+s),o.moveTo(t+g,e-a),o.lineTo(t-g,e+a);break;case"star":p=Math.cos(x)*(r?r/2:_),a=Math.cos(x)*_,s=Math.sin(x)*_,g=Math.sin(x)*(r?r/2:_),o.moveTo(t-p,e-s),o.lineTo(t+p,e+s),o.moveTo(t+g,e-a),o.lineTo(t-g,e+a),x+=Vl,p=Math.cos(x)*(r?r/2:_),a=Math.cos(x)*_,s=Math.sin(x)*_,g=Math.sin(x)*(r?r/2:_),o.moveTo(t-p,e-s),o.lineTo(t+p,e+s),o.moveTo(t+g,e-a),o.lineTo(t-g,e+a);break;case"line":a=r?r/2:Math.cos(x)*_,s=Math.sin(x)*_,o.moveTo(t-a,e-s),o.lineTo(t+a,e+s);break;case"dash":o.moveTo(t,e),o.lineTo(t+Math.cos(x)*(r?r/2:_),e+Math.sin(x)*_);break;case!1:o.closePath();break}o.fill(),n.borderWidth>0&&o.stroke()}}function fa(o,n,t){return t=t||.5,!n||o&&o.x>n.left-t&&o.x<n.right+t&&o.y>n.top-t&&o.y<n.bottom+t}function Zu(o,n){o.save(),o.beginPath(),o.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),o.clip()}function tp(o){o.restore()}function ZP(o,n,t,e,r){if(!n)return o.lineTo(t.x,t.y);if(r==="middle"){let i=(n.x+t.x)/2;o.lineTo(i,n.y),o.lineTo(i,t.y)}else r==="after"!=!!e?o.lineTo(n.x,t.y):o.lineTo(t.x,n.y);o.lineTo(t.x,t.y)}function tM(o,n,t,e){if(!n)return o.lineTo(t.x,t.y);o.bezierCurveTo(e?n.cp1x:n.cp2x,e?n.cp1y:n.cp2y,e?t.cp2x:t.cp1x,e?t.cp2y:t.cp1y,t.x,t.y)}function GH(o,n){n.translation&&o.translate(n.translation[0],n.translation[1]),Hn(n.rotation)||o.rotate(n.rotation),n.color&&(o.fillStyle=n.color),n.textAlign&&(o.textAlign=n.textAlign),n.textBaseline&&(o.textBaseline=n.textBaseline)}function KH(o,n,t,e,r){if(r.strikethrough||r.underline){let i=o.measureText(e),a=n-i.actualBoundingBoxLeft,s=n+i.actualBoundingBoxRight,l=t-i.actualBoundingBoxAscent,c=t+i.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;o.strokeStyle=o.fillStyle,o.beginPath(),o.lineWidth=r.decorationWidth||2,o.moveTo(a,u),o.lineTo(s,u),o.stroke()}}function qH(o,n){let t=o.fillStyle;o.fillStyle=n.color,o.fillRect(n.left,n.top,n.width,n.height),o.fillStyle=t}function Ws(o,n,t,e,r,i={}){let a=er(n)?n:[n],s=i.strokeWidth>0&&i.strokeColor!=="",l,c;for(o.save(),o.font=r.string,GH(o,i),l=0;l<a.length;++l)c=a[l],i.backdrop&&qH(o,i.backdrop),s&&(i.strokeColor&&(o.strokeStyle=i.strokeColor),Hn(i.strokeWidth)||(o.lineWidth=i.strokeWidth),o.strokeText(c,t,e,i.maxWidth)),o.fillText(c,t,e,i.maxWidth),KH(o,t,e,c,i),e+=Number(r.lineHeight);o.restore()}function ep(o,n){let{x:t,y:e,w:r,h:i,radius:a}=n;o.arc(t+a.topLeft,e+a.topLeft,a.topLeft,1.5*xr,xr,!0),o.lineTo(t,e+i-a.bottomLeft),o.arc(t+a.bottomLeft,e+i-a.bottomLeft,a.bottomLeft,xr,Ui,!0),o.lineTo(t+r-a.bottomRight,e+i),o.arc(t+r-a.bottomRight,e+i-a.bottomRight,a.bottomRight,Ui,0,!0),o.lineTo(t+r,e+a.topRight),o.arc(t+r-a.topRight,e+a.topRight,a.topRight,0,-Ui,!0),o.lineTo(t+a.topLeft,e)}var $H=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,YH=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function XH(o,n){let t=(""+o).match($H);if(!t||t[1]==="normal")return n*1.2;switch(o=+t[2],t[3]){case"px":return o;case"%":o/=100;break}return n*o}var QH=o=>+o||0;function Av(o,n){let t={},e=xn(n),r=e?Object.keys(n):n,i=xn(o)?e?a=>hn(o[a],o[n[a]]):a=>o[a]:()=>o;for(let a of r)t[a]=QH(i(a));return t}function eM(o){return Av(o,{top:"y",right:"x",bottom:"y",left:"x"})}function Ul(o){return Av(o,["topLeft","topRight","bottomLeft","bottomRight"])}function ii(o){let n=eM(o);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Ir(o,n){o=o||{},n=n||nr.font;let t=hn(o.size,n.size);typeof t=="string"&&(t=parseInt(t,10));let e=hn(o.style,n.style);e&&!(""+e).match(YH)&&(console.warn('Invalid font style specified: "'+e+'"'),e=void 0);let r={family:hn(o.family,n.family),lineHeight:XH(hn(o.lineHeight,n.lineHeight),t),size:t,style:e,weight:hn(o.weight,n.weight),string:""};return r.string=WH(r),r}function np(o,n,t,e){let r=!0,i,a,s;for(i=0,a=o.length;i<a;++i)if(s=o[i],s!==void 0&&(n!==void 0&&typeof s=="function"&&(s=s(n),r=!1),t!==void 0&&er(s)&&(s=s[t%s.length],r=!1),s!==void 0))return e&&!r&&(e.cacheable=!1),s}function nM(o,n,t){let{min:e,max:r}=o,i=NP(n,(r-e)/2),a=(s,l)=>t&&s===0?0:s+l;return{min:a(e,-Math.abs(i)),max:a(r,i)}}function Wa(o,n){return Object.assign(Object.create(o),n)}function Th(o,n=[""],t,e,r=()=>o[0]){let i=t||o;typeof e>"u"&&(e=oM("_fallback",o));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:o,_rootScopes:i,_fallback:e,_getTarget:r,override:s=>Th([s,...o],n,i,e)};return new Proxy(a,{deleteProperty(s,l){return delete s[l],delete s._keys,delete o[0][l],!0},get(s,l){return rM(s,l,()=>oB(l,n,o,s))},getOwnPropertyDescriptor(s,l){return Reflect.getOwnPropertyDescriptor(s._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(o[0])},has(s,l){return kP(s).includes(l)},ownKeys(s){return kP(s)},set(s,l,c){let u=s._storage||(s._storage=r());return s[l]=u[l]=c,delete s._keys,!0}})}function Hl(o,n,t,e){let r={_cacheable:!1,_proxy:o,_context:n,_subProxy:t,_stack:new Set,_descriptors:Iv(o,e),setContext:i=>Hl(o,i,t,e),override:i=>Hl(o.override(i),n,t,e)};return new Proxy(r,{deleteProperty(i,a){return delete i[a],delete o[a],!0},get(i,a,s){return rM(i,a,()=>ZH(i,a,s))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(o,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(o,a)},getPrototypeOf(){return Reflect.getPrototypeOf(o)},has(i,a){return Reflect.has(o,a)},ownKeys(){return Reflect.ownKeys(o)},set(i,a,s){return o[a]=s,delete i[a],!0}})}function Iv(o,n={scriptable:!0,indexable:!0}){let{_scriptable:t=n.scriptable,_indexable:e=n.indexable,_allKeys:r=n.allKeys}=o;return{allKeys:r,scriptable:t,indexable:e,isScriptable:Ha(t)?t:()=>t,isIndexable:Ha(e)?e:()=>e}}var JH=(o,n)=>o?o+Ch(n):n,Dv=(o,n)=>xn(n)&&o!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function rM(o,n,t){if(Object.prototype.hasOwnProperty.call(o,n)||n==="constructor")return o[n];let e=t();return o[n]=e,e}function ZH(o,n,t){let{_proxy:e,_context:r,_subProxy:i,_descriptors:a}=o,s=e[n];return Ha(s)&&a.isScriptable(n)&&(s=tB(n,s,o,t)),er(s)&&s.length&&(s=eB(n,s,o,a.isIndexable)),Dv(n,s)&&(s=Hl(s,r,i&&i[n],a)),s}function tB(o,n,t,e){let{_proxy:r,_context:i,_subProxy:a,_stack:s}=t;if(s.has(o))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+o);s.add(o);let l=n(i,a||e);return s.delete(o),Dv(o,l)&&(l=Lv(r._scopes,r,o,l)),l}function eB(o,n,t,e){let{_proxy:r,_context:i,_subProxy:a,_descriptors:s}=t;if(typeof i.index<"u"&&e(o))return n[i.index%n.length];if(xn(n[0])){let l=n,c=r._scopes.filter(u=>u!==l);n=[];for(let u of l){let p=Lv(c,r,o,u);n.push(Hl(p,i,a&&a[o],s))}}return n}function iM(o,n,t){return Ha(o)?o(n,t):o}var nB=(o,n)=>o===!0?n:typeof o=="string"?Xu(n,o):void 0;function rB(o,n,t,e,r){for(let i of n){let a=nB(t,i);if(a){o.add(a);let s=iM(a._fallback,t,r);if(typeof s<"u"&&s!==t&&s!==e)return s}else if(a===!1&&typeof e<"u"&&t!==e)return null}return!1}function Lv(o,n,t,e){let r=n._rootScopes,i=iM(n._fallback,t,e),a=[...o,...r],s=new Set;s.add(e);let l=EP(s,a,t,i||t,e);return l===null||typeof i<"u"&&i!==t&&(l=EP(s,a,i,l,e),l===null)?!1:Th(Array.from(s),[""],r,i,()=>iB(n,t,e))}function EP(o,n,t,e,r){for(;t;)t=rB(o,n,t,e,r);return t}function iB(o,n,t){let e=o._getTarget();n in e||(e[n]={});let r=e[n];return er(r)&&xn(t)?t:r||{}}function oB(o,n,t,e){let r;for(let i of n)if(r=oM(JH(i,o),t),typeof r<"u")return Dv(o,r)?Lv(t,e,o,r):r}function oM(o,n){for(let t of n){if(!t)continue;let e=t[o];if(typeof e<"u")return e}}function kP(o){let n=o._keys;return n||(n=o._keys=aB(o._scopes)),n}function aB(o){let n=new Set;for(let t of o)for(let e of Object.keys(t).filter(r=>!r.startsWith("_")))n.add(e);return Array.from(n)}var sB=Number.EPSILON||1e-14,rd=(o,n)=>n<o.length&&!o[n].skip&&o[n],aM=o=>o==="x"?"y":"x";function lB(o,n,t,e){let r=o.skip?n:o,i=n,a=t.skip?n:t,s=yh(i,r),l=yh(a,i),c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let p=e*c,g=e*u;return{previous:{x:i.x-p*(a.x-r.x),y:i.y-p*(a.y-r.y)},next:{x:i.x+g*(a.x-r.x),y:i.y+g*(a.y-r.y)}}}function cB(o,n,t){let e=o.length,r,i,a,s,l,c=rd(o,0);for(let u=0;u<e-1;++u)if(l=c,c=rd(o,u+1),!(!l||!c)){if(od(n[u],0,sB)){t[u]=t[u+1]=0;continue}r=t[u]/n[u],i=t[u+1]/n[u],s=Math.pow(r,2)+Math.pow(i,2),!(s<=9)&&(a=3/Math.sqrt(s),t[u]=r*a*n[u],t[u+1]=i*a*n[u])}}function dB(o,n,t="x"){let e=aM(t),r=o.length,i,a,s,l=rd(o,0);for(let c=0;c<r;++c){if(a=s,s=l,l=rd(o,c+1),!s)continue;let u=s[t],p=s[e];a&&(i=(u-a[t])/3,s[`cp1${t}`]=u-i,s[`cp1${e}`]=p-i*n[c]),l&&(i=(l[t]-u)/3,s[`cp2${t}`]=u+i,s[`cp2${e}`]=p+i*n[c])}}function uB(o,n="x"){let t=aM(n),e=o.length,r=Array(e).fill(0),i=Array(e),a,s,l,c=rd(o,0);for(a=0;a<e;++a)if(s=l,l=c,c=rd(o,a+1),!!l){if(c){let u=c[n]-l[n];r[a]=u!==0?(c[t]-l[t])/u:0}i[a]=s?c?jl(r[a-1])!==jl(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}cB(o,r,i),dB(o,i,n)}function hh(o,n,t){return Math.max(Math.min(o,t),n)}function pB(o,n){let t,e,r,i,a,s=fa(o[0],n);for(t=0,e=o.length;t<e;++t)a=i,i=s,s=t<e-1&&fa(o[t+1],n),i&&(r=o[t],a&&(r.cp1x=hh(r.cp1x,n.left,n.right),r.cp1y=hh(r.cp1y,n.top,n.bottom)),s&&(r.cp2x=hh(r.cp2x,n.left,n.right),r.cp2y=hh(r.cp2y,n.top,n.bottom)))}function sM(o,n,t,e,r){let i,a,s,l;if(n.spanGaps&&(o=o.filter(c=>!c.skip)),n.cubicInterpolationMode==="monotone")uB(o,r);else{let c=e?o[o.length-1]:o[0];for(i=0,a=o.length;i<a;++i)s=o[i],l=lB(c,s,o[Math.min(i+1,a-(e?0:1))%a],n.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,c=s}n.capBezierPoints&&pB(o,t)}function Eh(){return typeof window<"u"&&typeof document<"u"}function kh(o){let n=o.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function bh(o,n,t){let e;return typeof o=="string"?(e=parseInt(o,10),o.indexOf("%")!==-1&&(e=e/100*n.parentNode[t])):e=o,e}var Ah=o=>o.ownerDocument.defaultView.getComputedStyle(o,null);function fB(o,n){return Ah(o).getPropertyValue(n)}var gB=["top","right","bottom","left"];function zl(o,n,t){let e={};t=t?"-"+t:"";for(let r=0;r<4;r++){let i=gB[r];e[i]=parseFloat(o[n+"-"+i+t])||0}return e.width=e.left+e.right,e.height=e.top+e.bottom,e}var hB=(o,n,t)=>(o>0||n>0)&&(!t||!t.shadowRoot);function mB(o,n){let t=o.touches,e=t&&t.length?t[0]:o,{offsetX:r,offsetY:i}=e,a=!1,s,l;if(hB(r,i,o.target))s=r,l=i;else{let c=n.getBoundingClientRect();s=e.clientX-c.left,l=e.clientY-c.top,a=!0}return{x:s,y:l,box:a}}function Gs(o,n){if("native"in o)return o;let{canvas:t,currentDevicePixelRatio:e}=n,r=Ah(t),i=r.boxSizing==="border-box",a=zl(r,"padding"),s=zl(r,"border","width"),{x:l,y:c,box:u}=mB(o,t),p=a.left+(u&&s.left),g=a.top+(u&&s.top),{width:h,height:y}=n;return i&&(h-=a.width+s.width,y-=a.height+s.height),{x:Math.round((l-p)/h*t.width/e),y:Math.round((c-g)/y*t.height/e)}}function vB(o,n,t){let e,r;if(n===void 0||t===void 0){let i=o&&kh(o);if(!i)n=o.clientWidth,t=o.clientHeight;else{let a=i.getBoundingClientRect(),s=Ah(i),l=zl(s,"border","width"),c=zl(s,"padding");n=a.width-c.width-l.width,t=a.height-c.height-l.height,e=bh(s.maxWidth,i,"clientWidth"),r=bh(s.maxHeight,i,"clientHeight")}}return{width:n,height:t,maxWidth:e||_h,maxHeight:r||_h}}var Hs=o=>Math.round(o*10)/10;function lM(o,n,t,e){let r=Ah(o),i=zl(r,"margin"),a=bh(r.maxWidth,o,"clientWidth")||_h,s=bh(r.maxHeight,o,"clientHeight")||_h,l=vB(o,n,t),{width:c,height:u}=l;if(r.boxSizing==="content-box"){let g=zl(r,"border","width"),h=zl(r,"padding");c-=h.width+g.width,u-=h.height+g.height}return c=Math.max(0,c-i.width),u=Math.max(0,e?c/e:u-i.height),c=Hs(Math.min(c,a,l.maxWidth)),u=Hs(Math.min(u,s,l.maxHeight)),c&&!u&&(u=Hs(c/2)),(n!==void 0||t!==void 0)&&e&&l.height&&u>l.height&&(u=l.height,c=Hs(Math.floor(u*e))),{width:c,height:u}}function Nv(o,n,t){let e=n||1,r=Hs(o.height*e),i=Hs(o.width*e);o.height=Hs(o.height),o.width=Hs(o.width);let a=o.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${o.height}px`,a.style.width=`${o.width}px`),o.currentDevicePixelRatio!==e||a.height!==r||a.width!==i?(o.currentDevicePixelRatio=e,a.height=r,a.width=i,o.ctx.setTransform(e,0,0,e,0,0),!0):!1}var cM=function(){let o=!1;try{let n={get passive(){return o=!0,!1}};Eh()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return o}();function Rv(o,n){let t=fB(o,n),e=t&&t.match(/^(\d+)(\.\d+)?px$/);return e?+e[1]:void 0}function zs(o,n,t,e){return{x:o.x+t*(n.x-o.x),y:o.y+t*(n.y-o.y)}}function dM(o,n,t,e){return{x:o.x+t*(n.x-o.x),y:e==="middle"?t<.5?o.y:n.y:e==="after"?t<1?o.y:n.y:t>0?n.y:o.y}}function uM(o,n,t,e){let r={x:o.cp2x,y:o.cp2y},i={x:n.cp1x,y:n.cp1y},a=zs(o,r,t),s=zs(r,i,t),l=zs(i,n,t),c=zs(a,s,t),u=zs(s,l,t);return zs(c,u,t)}var _B=function(o,n){return{x(t){return o+o+n-t},setWidth(t){n=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},yB=function(){return{x(o){return o},setWidth(o){},textAlign(o){return o},xPlus(o,n){return o+n},leftForLtr(o,n){return o}}};function Wl(o,n,t){return o?_B(n,t):yB()}function Fv(o,n){let t,e;(n==="ltr"||n==="rtl")&&(t=o.canvas.style,e=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",n,"important"),o.prevTextDirection=e)}function Vv(o,n){n!==void 0&&(delete o.prevTextDirection,o.canvas.style.setProperty("direction",n[0],n[1]))}function pM(o){return o==="angle"?{between:Ov,compare:RH,normalize:Bi}:{between:Bl,compare:(n,t)=>n-t,normalize:n=>n}}function AP({start:o,end:n,count:t,loop:e,style:r}){return{start:o%t,end:n%t,loop:e&&(n-o+1)%t===0,style:r}}function bB(o,n,t){let{property:e,start:r,end:i}=t,{between:a,normalize:s}=pM(e),l=n.length,{start:c,end:u,loop:p}=o,g,h;if(p){for(c+=l,u+=l,g=0,h=l;g<h&&a(s(n[c%l][e]),r,i);++g)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:p,style:o.style}}function zv(o,n,t){if(!t)return[o];let{property:e,start:r,end:i}=t,a=n.length,{compare:s,between:l,normalize:c}=pM(e),{start:u,end:p,loop:g,style:h}=bB(o,n,t),y=[],_=!1,x=null,P,w,T,b=()=>l(r,T,P)&&s(r,T)!==0,k=()=>s(i,P)===0||l(i,T,P),E=()=>_||b(),L=()=>!_||k();for(let R=u,z=u;R<=p;++R)w=n[R%a],!w.skip&&(P=c(w[e]),P!==T&&(_=l(P,r,i),x===null&&E()&&(x=s(P,r)===0?R:z),x!==null&&L()&&(y.push(AP({start:x,end:R,loop:g,count:a,style:h})),x=null),z=R,T=P));return x!==null&&y.push(AP({start:x,end:p,loop:g,count:a,style:h})),y}function jv(o,n){let t=[],e=o.segments;for(let r=0;r<e.length;r++){let i=zv(e[r],o.points,n);i.length&&t.push(...i)}return t}function CB(o,n,t,e){let r=0,i=n-1;if(t&&!e)for(;r<n&&!o[r].skip;)r++;for(;r<n&&o[r].skip;)r++;for(r%=n,t&&(i+=r);i>r&&o[i%n].skip;)i--;return i%=n,{start:r,end:i}}function xB(o,n,t,e){let r=o.length,i=[],a=n,s=o[n],l;for(l=n+1;l<=t;++l){let c=o[l%r];c.skip||c.stop?s.skip||(e=!1,i.push({start:n%r,end:(l-1)%r,loop:e}),n=a=c.stop?l:null):(a=l,s.skip&&(n=l)),s=c}return a!==null&&i.push({start:n%r,end:a%r,loop:e}),i}function fM(o,n){let t=o.points,e=o.options.spanGaps,r=t.length;if(!r)return[];let i=!!o._loop,{start:a,end:s}=CB(t,r,i,e);if(e===!0)return IP(o,[{start:a,end:s,loop:i}],t,n);let l=s<a?s+r:s,c=!!o._fullLoop&&a===0&&s===r-1;return IP(o,xB(t,a,l,c),t,n)}function IP(o,n,t,e){return!e||!e.setContext||!t?n:OB(o,n,t,e)}function OB(o,n,t,e){let r=o._chart.getContext(),i=DP(o.options),{_datasetIndex:a,options:{spanGaps:s}}=o,l=t.length,c=[],u=i,p=n[0].start,g=p;function h(y,_,x,P){let w=s?-1:1;if(y!==_){for(y+=l;t[y%l].skip;)y-=w;for(;t[_%l].skip;)_+=w;y%l!==_%l&&(c.push({start:y%l,end:_%l,loop:x,style:P}),u=P,p=_%l)}}for(let y of n){p=s?p:y.start;let _=t[p%l],x;for(g=p+1;g<=y.end;g++){let P=t[g%l];x=DP(e.setContext(Wa(r,{type:"segment",p0:_,p1:P,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:a}))),PB(x,u)&&h(p,g-1,y.loop,u),_=P,u=x}p<g-1&&h(p,g-1,y.loop,u)}return c}function DP(o){return{backgroundColor:o.backgroundColor,borderCapStyle:o.borderCapStyle,borderDash:o.borderDash,borderDashOffset:o.borderDashOffset,borderJoinStyle:o.borderJoinStyle,borderWidth:o.borderWidth,borderColor:o.borderColor}}function PB(o,n){if(!n)return!1;let t=[],e=function(r,i){return Sv(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(o,e)!==JSON.stringify(n,e)}function mh(o,n,t){return o.options.clip?o[t]:n[t]}function MB(o,n){let{xScale:t,yScale:e}=o;return t&&e?{left:mh(t,n,"left"),right:mh(t,n,"right"),top:mh(e,n,"top"),bottom:mh(e,n,"bottom")}:n}function Hv(o,n){let t=n._clip;if(t.disabled)return!1;let e=MB(n,o.chartArea);return{left:t.left===!1?0:e.left-(t.left===!0?0:t.left),right:t.right===!1?o.width:e.right+(t.right===!0?0:t.right),top:t.top===!1?0:e.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?o.height:e.bottom+(t.bottom===!0?0:t.bottom)}}var Xv=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,t,e,r){let i=t.listeners[r],a=t.duration;i.forEach(s=>s({chart:n,initial:t.initial,numSteps:a,currentStep:Math.min(e-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Mv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let t=0;this._charts.forEach((e,r)=>{if(!e.running||!e.items.length)return;let i=e.items,a=i.length-1,s=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>e.duration&&(e.duration=l._total),l.tick(n),s=!0):(i[a]=i[i.length-1],i.pop());s&&(r.draw(),this._notify(r,e,n,"progress")),i.length||(e.running=!1,this._notify(r,e,n,"complete"),e.initial=!1),t+=i.length}),this._lastDate=n,t===0&&(this._running=!1)}_getAnims(n){let t=this._charts,e=t.get(n);return e||(e={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(n,e)),e}listen(n,t,e){this._getAnims(n).listeners[t].push(e)}add(n,t){!t||!t.length||this._getAnims(n).items.push(...t)}has(n){return this._getAnims(n).items.length>0}start(n){let t=this._charts.get(n);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,r)=>Math.max(e,r._duration),0),this._refresh())}running(n){if(!this._running)return!1;let t=this._charts.get(n);return!(!t||!t.running||!t.items.length)}stop(n){let t=this._charts.get(n);if(!t||!t.items.length)return;let e=t.items,r=e.length-1;for(;r>=0;--r)e[r].cancel();t.items=[],this._notify(n,t,Date.now(),"complete")}remove(n){return this._charts.delete(n)}},Ga=new Xv,gM="transparent",wB={boolean(o,n,t){return t>.5?n:o},color(o,n,t){let e=Tv(o||gM),r=e.valid&&Tv(n||gM);return r&&r.valid?r.mix(e,t).hexString():n},number(o,n,t){return o+(n-o)*t}},Qv=class{constructor(n,t,e,r){let i=t[e];r=np([n.to,r,i,n.from]);let a=np([n.from,i,r]);this._active=!0,this._fn=n.fn||wB[n.type||typeof a],this._easing=ed[n.easing]||ed.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=t,this._prop=e,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(n,t,e){if(this._active){this._notify(!1);let r=this._target[this._prop],i=e-this._start,a=this._duration-i;this._start=e,this._duration=Math.floor(Math.max(a,n.duration)),this._total+=i,this._loop=!!n.loop,this._to=np([n.to,t,r,n.from]),this._from=np([n.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let t=n-this._start,e=this._duration,r=this._prop,i=this._from,a=this._loop,s=this._to,l;if(this._active=i!==s&&(a||t<e),!this._active){this._target[r]=s,this._notify(!0);return}if(t<0){this._target[r]=i;return}l=t/e%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,s,l)}wait(){let n=this._promises||(this._promises=[]);return new Promise((t,e)=>{n.push({res:t,rej:e})})}_notify(n){let t=n?"res":"rej",e=this._promises||[];for(let r=0;r<e.length;r++)e[r][t]()}},zh=class{constructor(n,t){this._chart=n,this._properties=new Map,this.configure(t)}configure(n){if(!xn(n))return;let t=Object.keys(nr.animation),e=this._properties;Object.getOwnPropertyNames(n).forEach(r=>{let i=n[r];if(!xn(i))return;let a={};for(let s of t)a[s]=i[s];(er(i.properties)&&i.properties||[r]).forEach(s=>{(s===r||!e.has(s))&&e.set(s,a)})})}_animateOptions(n,t){let e=t.options,r=TB(n,e);if(!r)return[];let i=this._createAnimations(r,e);return e.$shared&&SB(n.options.$animations,e).then(()=>{n.options=e},()=>{}),i}_createAnimations(n,t){let e=this._properties,r=[],i=n.$animations||(n.$animations={}),a=Object.keys(t),s=Date.now(),l;for(l=a.length-1;l>=0;--l){let c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(n,t));continue}let u=t[c],p=i[c],g=e.get(c);if(p)if(g&&p.active()){p.update(g,u,s);continue}else p.cancel();if(!g||!g.duration){n[c]=u;continue}i[c]=p=new Qv(g,n,c,u),r.push(p)}return r}update(n,t){if(this._properties.size===0){Object.assign(n,t);return}let e=this._createAnimations(n,t);if(e.length)return Ga.add(this._chart,e),!0}};function SB(o,n){let t=[],e=Object.keys(n);for(let r=0;r<e.length;r++){let i=o[e[r]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function TB(o,n){if(!n)return;let t=o.options;if(!t){o.options=n;return}return t.$shared&&(o.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function hM(o,n){let t=o&&o.options||{},e=t.reverse,r=t.min===void 0?n:0,i=t.max===void 0?n:0;return{start:e?i:r,end:e?r:i}}function EB(o,n,t){if(t===!1)return!1;let e=hM(o,t),r=hM(n,t);return{top:r.end,right:e.end,bottom:r.start,left:e.start}}function kB(o){let n,t,e,r;return xn(o)?(n=o.top,t=o.right,e=o.bottom,r=o.left):n=t=e=r=o,{top:n,right:t,bottom:e,left:r,disabled:o===!1}}function p5(o,n){let t=[],e=o._getSortedDatasetMetas(n),r,i;for(r=0,i=e.length;r<i;++r)t.push(e[r].index);return t}function mM(o,n,t,e={}){let r=o.keys,i=e.mode==="single",a,s,l,c;if(n===null)return;let u=!1;for(a=0,s=r.length;a<s;++a){if(l=+r[a],l===t){if(u=!0,e.all)continue;break}c=o.values[l],dr(c)&&(i||n===0||jl(n)===jl(c))&&(n+=c)}return!u&&!e.all?0:n}function AB(o,n){let{iScale:t,vScale:e}=n,r=t.axis==="x"?"x":"y",i=e.axis==="x"?"x":"y",a=Object.keys(o),s=new Array(a.length),l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],s[l]={[r]:u,[i]:o[u]};return s}function Bv(o,n){let t=o&&o.options.stacked;return t||t===void 0&&n.stack!==void 0}function IB(o,n,t){return`${o.id}.${n.id}.${t.stack||t.type}`}function DB(o){let{min:n,max:t,minDefined:e,maxDefined:r}=o.getUserBounds();return{min:e?n:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function LB(o,n,t){let e=o[n]||(o[n]={});return e[t]||(e[t]={})}function vM(o,n,t,e){for(let r of n.getMatchingVisibleMetas(e).reverse()){let i=o[r.index];if(t&&i>0||!t&&i<0)return r.index}return null}function _M(o,n){let{chart:t,_cachedMeta:e}=o,r=t._stacks||(t._stacks={}),{iScale:i,vScale:a,index:s}=e,l=i.axis,c=a.axis,u=IB(i,a,e),p=n.length,g;for(let h=0;h<p;++h){let y=n[h],{[l]:_,[c]:x}=y,P=y._stacks||(y._stacks={});g=P[c]=LB(r,u,_),g[s]=x,g._top=vM(g,a,!0,e.type),g._bottom=vM(g,a,!1,e.type);let w=g._visualValues||(g._visualValues={});w[s]=x}}function Uv(o,n){let t=o.scales;return Object.keys(t).filter(e=>t[e].axis===n).shift()}function NB(o,n){return Wa(o,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function RB(o,n,t){return Wa(o,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:t,index:n,mode:"default",type:"data"})}function rp(o,n){let t=o.controller.index,e=o.vScale&&o.vScale.axis;if(e){n=n||o._parsed;for(let r of n){let i=r._stacks;if(!i||i[e]===void 0||i[e][t]===void 0)return;delete i[e][t],i[e]._visualValues!==void 0&&i[e]._visualValues[t]!==void 0&&delete i[e]._visualValues[t]}}}var Wv=o=>o==="reset"||o==="none",yM=(o,n)=>n?o:Object.assign({},o),FB=(o,n,t)=>o&&!n.hidden&&n._stacked&&{keys:p5(t,!0),values:null},f5=(()=>{class o{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Bv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&rp(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,r=this.getDataset(),i=(g,h,y,_)=>g==="x"?h:g==="r"?_:y,a=e.xAxisID=hn(r.xAxisID,Uv(t,"x")),s=e.yAxisID=hn(r.yAxisID,Uv(t,"y")),l=e.rAxisID=hn(r.rAxisID,Uv(t,"r")),c=e.indexAxis,u=e.iAxisID=i(c,a,s,l),p=e.vAxisID=i(c,s,a,l);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(u),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Pv(this._data,this),t._stacked&&rp(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),r=this._data;if(xn(e)){let i=this._cachedMeta;this._data=AB(e,i)}else if(r!==e){if(r){Pv(r,this);let i=this._cachedMeta;rp(i),i._parsed=[]}e&&Object.isExtensible(e)&&GP(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,r=this.getDataset(),i=!1;this._dataCheck();let a=e._stacked;e._stacked=Bv(e.vScale,e),e.stack!==r.stack&&(i=!0,rp(e),e.stack=r.stack),this._resyncElements(t),(i||a!==e._stacked)&&(_M(this,e._parsed),e._stacked=Bv(e.vScale,e))}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){let{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:s}=r,l=a.axis,c=t===0&&e===i.length?!0:r._sorted,u=t>0&&r._parsed[t-1],p,g,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{er(i[t])?h=this.parseArrayData(r,i,t,e):xn(i[t])?h=this.parseObjectData(r,i,t,e):h=this.parsePrimitiveData(r,i,t,e);let y=()=>g[l]===null||u&&g[l]<u[l];for(p=0;p<e;++p)r._parsed[p+t]=g=h[p],c&&(y()&&(c=!1),u=g);r._sorted=c}s&&_M(this,h)}parsePrimitiveData(t,e,r,i){let{iScale:a,vScale:s}=t,l=a.axis,c=s.axis,u=a.getLabels(),p=a===s,g=new Array(i),h,y,_;for(h=0,y=i;h<y;++h)_=h+r,g[h]={[l]:p||a.parse(u[_],_),[c]:s.parse(e[_],_)};return g}parseArrayData(t,e,r,i){let{xScale:a,yScale:s}=t,l=new Array(i),c,u,p,g;for(c=0,u=i;c<u;++c)p=c+r,g=e[p],l[c]={x:a.parse(g[0],p),y:s.parse(g[1],p)};return l}parseObjectData(t,e,r,i){let{xScale:a,yScale:s}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(i),p,g,h,y;for(p=0,g=i;p<g;++p)h=p+r,y=e[h],u[p]={x:a.parse(Xu(y,l),h),y:s.parse(Xu(y,c),h)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,r){let i=this.chart,a=this._cachedMeta,s=e[t.axis],l={keys:p5(i,!0),values:e._stacks[t.axis]._visualValues};return mM(l,s,a.index,{mode:r})}updateRangeFromParsed(t,e,r,i){let a=r[e.axis],s=a===null?NaN:a,l=i&&r._stacks[e.axis];i&&l&&(i.values=l,s=mM(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){let r=this._cachedMeta,i=r._parsed,a=r._sorted&&t===r.iScale,s=i.length,l=this._getOtherScale(t),c=FB(e,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=DB(l),h,y;function _(){y=i[h];let x=y[l.axis];return!dr(y[t.axis])||p>x||g<x}for(h=0;h<s&&!(!_()&&(this.updateRangeFromParsed(u,t,y,c),a));++h);if(a){for(h=s-1;h>=0;--h)if(!_()){this.updateRangeFromParsed(u,t,y,c);break}}return u}getAllParsedValues(t){let e=this._cachedMeta._parsed,r=[],i,a,s;for(i=0,a=e.length;i<a;++i)s=e[i][t.axis],dr(s)&&r.push(s);return r}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,r=e.iScale,i=e.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){let e=this._cachedMeta;this.update(t||"default"),e._clip=kB(hn(this.options.clip,EB(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,e=this.chart,r=this._cachedMeta,i=r.data||[],a=e.chartArea,s=[],l=this._drawStart||0,c=this._drawCount||i.length-l,u=this.options.drawActiveElementsOnTop,p;for(r.dataset&&r.dataset.draw(t,a,l,c),p=l;p<l+c;++p){let g=i[p];g.hidden||(g.active&&u?s.push(g):g.draw(t,a))}for(p=0;p<s.length;++p)s[p].draw(t,a)}getStyle(t,e){let r=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,e,r){let i=this.getDataset(),a;if(t>=0&&t<this._cachedMeta.data.length){let s=this._cachedMeta.data[t];a=s.$context||(s.$context=RB(this.getContext(),t,s)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=NB(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",r){let i=e==="active",a=this._cachedDataOpts,s=t+"-"+e,l=a[s],c=this.enableOptionSharing&&Qu(r);if(l)return yM(l,c);let u=this.chart.config,p=u.datasetElementScopeKeys(this._type,t),g=i?[`${t}Hover`,"hover",t,""]:[t,""],h=u.getOptionScopes(this.getDataset(),p),y=Object.keys(nr.elements[t]),_=()=>this.getContext(r,i,e),x=u.resolveNamedOptions(h,y,_,g);return x.$shared&&(x.$shared=c,a[s]=Object.freeze(yM(x,c))),x}_resolveAnimations(t,e,r){let i=this.chart,a=this._cachedDataOpts,s=`animation-${e}`,l=a[s];if(l)return l;let c;if(i.options.animation!==!1){let p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,e),h=p.getOptionScopes(this.getDataset(),g);c=p.createResolver(h,this.getContext(t,r,e))}let u=new zh(i,c&&c.animations);return c&&c._cacheable&&(a[s]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Wv(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){let r=this.resolveDataElementOptions(t,e),i=this._sharedOptions,a=this.getSharedOptions(r),s=this.includeOptions(e,a)||a!==i;return this.updateSharedOptions(a,e,r),{sharedOptions:a,includeOptions:s}}updateElement(t,e,r,i){Wv(i)?Object.assign(t,r):this._resolveAnimations(e,i).update(t,r)}updateSharedOptions(t,e,r){t&&!Wv(e)&&this._resolveAnimations(void 0,e).update(t,r)}_setStyle(t,e,r,i){t.active=i;let a=this.getStyle(e,i);this._resolveAnimations(e,r,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,e,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,r=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let i=r.length,a=e.length,s=Math.min(a,i);s&&this.parse(0,s),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,e,r=!0){let i=this._cachedMeta,a=i.data,s=t+e,l,c=u=>{for(u.length+=e,l=u.length-1;l>=s;l--)u[l]=u[l-e]};for(c(a),l=t;l<s;++l)a[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,e),r&&this.updateElements(a,t,e,"reset")}updateElements(t,e,r,i){}_removeElements(t,e){let r=this._cachedMeta;if(this._parsing){let i=r._parsed.splice(t,e);r._stacked&&rp(r,i)}r.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,r,i]=t;this[e](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);let r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return o})();var g5=(()=>{class o extends f5{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let e=this._cachedMeta,{dataset:r,data:i=[],_dataset:a}=e,s=this.chart._animationsDisabled,{start:l,count:c}=YP(e,i,s);this._drawStart=l,this._drawCount=c,XP(e)&&(l=0,c=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=i;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:u},t),this.updateElements(i,l,c,t)}updateElements(t,e,r,i){let a=i==="reset",{iScale:s,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(e,i),h=s.axis,y=l.axis,{spanGaps:_,segment:x}=this.options,P=ad(_)?_:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||a||i==="none",T=e+r,b=t.length,k=e>0&&this.getParsed(e-1);for(let E=0;E<b;++E){let L=t[E],R=w?L:{};if(E<e||E>=T){R.skip=!0;continue}let z=this.getParsed(E),N=Hn(z[y]),j=R[h]=s.getPixelForValue(z[h],E),D=R[y]=a||N?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,z,c):z[y],E);R.skip=isNaN(j)||isNaN(D)||N,R.stop=E>0&&Math.abs(z[h]-k[h])>P,x&&(R.parsed=z,R.raw=u.data[E]),g&&(R.options=p||this.resolveDataElementOptions(E,L.active?"active":i)),w||this.updateElement(L,E,R,i),k=z}}getMaxOverflow(){let t=this._cachedMeta,e=t.dataset,r=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return r;let a=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,a,s)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return o})();function Gl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Jv=class o{static override(n){Object.assign(o.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return Gl()}parse(){return Gl()}format(){return Gl()}add(){return Gl()}diff(){return Gl()}startOf(){return Gl()}endOf(){return Gl()}},VB={_date:Jv};function zB(o,n,t,e){let{controller:r,data:i,_sorted:a}=o,s=r._cachedMeta.iScale,l=o.dataset&&o.dataset.options?o.dataset.options.spanGaps:null;if(s&&n===s.axis&&n!=="r"&&a&&i.length){let c=s._reversePixels?BP:js;if(e){if(r._sharedOptions){let u=i[0],p=typeof u.getRange=="function"&&u.getRange(n);if(p){let g=c(i,n,t-p),h=c(i,n,t+p);return{lo:g.lo,hi:h.hi}}}}else{let u=c(i,n,t);if(l){let{vScale:p}=r._cachedMeta,{_parsed:g}=o,h=g.slice(0,u.lo+1).reverse().findIndex(_=>!Hn(_[p.axis]));u.lo-=Math.max(0,h);let y=g.slice(u.hi).findIndex(_=>!Hn(_[p.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:i.length-1}}function pp(o,n,t,e,r){let i=o.getSortedVisibleDatasetMetas(),a=t[n];for(let s=0,l=i.length;s<l;++s){let{index:c,data:u}=i[s],{lo:p,hi:g}=zB(i[s],n,a,r);for(let h=p;h<=g;++h){let y=u[h];y.skip||e(y,c,h)}}}function jB(o){let n=o.indexOf("x")!==-1,t=o.indexOf("y")!==-1;return function(e,r){let i=n?Math.abs(e.x-r.x):0,a=t?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Gv(o,n,t,e,r){let i=[];return!r&&!o.isPointInArea(n)||pp(o,t,n,function(s,l,c){!r&&!fa(s,o.chartArea,0)||s.inRange(n.x,n.y,e)&&i.push({element:s,datasetIndex:l,index:c})},!0),i}function HB(o,n,t,e){let r=[];function i(a,s,l){let{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],e),{angle:p}=jP(a,{x:n.x,y:n.y});Ov(p,c,u)&&r.push({element:a,datasetIndex:s,index:l})}return pp(o,t,n,i),r}function BB(o,n,t,e,r,i){let a=[],s=jB(t),l=Number.POSITIVE_INFINITY;function c(u,p,g){let h=u.inRange(n.x,n.y,r);if(e&&!h)return;let y=u.getCenterPoint(r);if(!(!!i||o.isPointInArea(y))&&!h)return;let x=s(n,y);x<l?(a=[{element:u,datasetIndex:p,index:g}],l=x):x===l&&a.push({element:u,datasetIndex:p,index:g})}return pp(o,t,n,c),a}function Kv(o,n,t,e,r,i){return!i&&!o.isPointInArea(n)?[]:t==="r"&&!e?HB(o,n,t,r):BB(o,n,t,e,r,i)}function bM(o,n,t,e,r){let i=[],a=t==="x"?"inXRange":"inYRange",s=!1;return pp(o,t,n,(l,c,u)=>{l[a]&&l[a](n[t],r)&&(i.push({element:l,datasetIndex:c,index:u}),s=s||l.inRange(n.x,n.y,r))}),e&&!s?[]:i}var UB={evaluateInteractionItems:pp,modes:{index(o,n,t,e){let r=Gs(n,o),i=t.axis||"x",a=t.includeInvisible||!1,s=t.intersect?Gv(o,r,i,e,a):Kv(o,r,i,!1,e,a),l=[];return s.length?(o.getSortedVisibleDatasetMetas().forEach(c=>{let u=s[0].index,p=c.data[u];p&&!p.skip&&l.push({element:p,datasetIndex:c.index,index:u})}),l):[]},dataset(o,n,t,e){let r=Gs(n,o),i=t.axis||"xy",a=t.includeInvisible||!1,s=t.intersect?Gv(o,r,i,e,a):Kv(o,r,i,!1,e,a);if(s.length>0){let l=s[0].datasetIndex,c=o.getDatasetMeta(l).data;s=[];for(let u=0;u<c.length;++u)s.push({element:c[u],datasetIndex:l,index:u})}return s},point(o,n,t,e){let r=Gs(n,o),i=t.axis||"xy",a=t.includeInvisible||!1;return Gv(o,r,i,e,a)},nearest(o,n,t,e){let r=Gs(n,o),i=t.axis||"xy",a=t.includeInvisible||!1;return Kv(o,r,i,t.intersect,e,a)},x(o,n,t,e){let r=Gs(n,o);return bM(o,r,"x",t.intersect,e)},y(o,n,t,e){let r=Gs(n,o);return bM(o,r,"y",t.intersect,e)}}},h5=["left","top","right","bottom"];function ip(o,n){return o.filter(t=>t.pos===n)}function CM(o,n){return o.filter(t=>h5.indexOf(t.pos)===-1&&t.box.axis===n)}function op(o,n){return o.sort((t,e)=>{let r=n?e:t,i=n?t:e;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function WB(o){let n=[],t,e,r,i,a,s;for(t=0,e=(o||[]).length;t<e;++t)r=o[t],{position:i,options:{stack:a,stackWeight:s=1}}=r,n.push({index:t,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:s});return n}function GB(o){let n={};for(let t of o){let{stack:e,pos:r,stackWeight:i}=t;if(!e||!h5.includes(r))continue;let a=n[e]||(n[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return n}function KB(o,n){let t=GB(o),{vBoxMaxWidth:e,hBoxMaxHeight:r}=n,i,a,s;for(i=0,a=o.length;i<a;++i){s=o[i];let{fullSize:l}=s.box,c=t[s.stack],u=c&&s.stackWeight/c.weight;s.horizontal?(s.width=u?u*e:l&&n.availableWidth,s.height=r):(s.width=e,s.height=u?u*r:l&&n.availableHeight)}return t}function qB(o){let n=WB(o),t=op(n.filter(c=>c.box.fullSize),!0),e=op(ip(n,"left"),!0),r=op(ip(n,"right")),i=op(ip(n,"top"),!0),a=op(ip(n,"bottom")),s=CM(n,"x"),l=CM(n,"y");return{fullSize:t,leftAndTop:e.concat(i),rightAndBottom:r.concat(l).concat(a).concat(s),chartArea:ip(n,"chartArea"),vertical:e.concat(r).concat(l),horizontal:i.concat(a).concat(s)}}function xM(o,n,t,e){return Math.max(o[t],n[t])+Math.max(o[e],n[e])}function m5(o,n){o.top=Math.max(o.top,n.top),o.left=Math.max(o.left,n.left),o.bottom=Math.max(o.bottom,n.bottom),o.right=Math.max(o.right,n.right)}function $B(o,n,t,e){let{pos:r,box:i}=t,a=o.maxPadding;if(!xn(r)){t.size&&(o[r]-=t.size);let p=e[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?i.height:i.width),t.size=p.size/p.count,o[r]+=t.size}i.getPadding&&m5(a,i.getPadding());let s=Math.max(0,n.outerWidth-xM(a,o,"left","right")),l=Math.max(0,n.outerHeight-xM(a,o,"top","bottom")),c=s!==o.w,u=l!==o.h;return o.w=s,o.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function YB(o){let n=o.maxPadding;function t(e){let r=Math.max(n[e]-o[e],0);return o[e]+=r,r}o.y+=t("top"),o.x+=t("left"),t("right"),t("bottom")}function XB(o,n){let t=n.maxPadding;function e(r){let i={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{i[a]=Math.max(n[a],t[a])}),i}return e(o?["left","right"]:["top","bottom"])}function lp(o,n,t,e){let r=[],i,a,s,l,c,u;for(i=0,a=o.length,c=0;i<a;++i){s=o[i],l=s.box,l.update(s.width||n.w,s.height||n.h,XB(s.horizontal,n));let{same:p,other:g}=$B(n,t,s,e);c|=p&&r.length,u=u||g,l.fullSize||r.push(s)}return c&&lp(r,n,t,e)||u}function Ih(o,n,t,e,r){o.top=t,o.left=n,o.right=n+e,o.bottom=t+r,o.width=e,o.height=r}function OM(o,n,t,e){let r=t.padding,{x:i,y:a}=n;for(let s of o){let l=s.box,c=e[s.stack]||{count:1,placed:0,weight:1},u=s.stackWeight/c.weight||1;if(s.horizontal){let p=n.w*u,g=c.size||l.height;Qu(c.start)&&(a=c.start),l.fullSize?Ih(l,r.left,a,t.outerWidth-r.right-r.left,g):Ih(l,n.left+c.placed,a,p,g),c.start=a,c.placed+=p,a=l.bottom}else{let p=n.h*u,g=c.size||l.width;Qu(c.start)&&(i=c.start),l.fullSize?Ih(l,i,r.top,g,t.outerHeight-r.bottom-r.top):Ih(l,i,n.top+c.placed,g,p),c.start=i,c.placed+=p,i=l.right}}n.x=i,n.y=a}var Io={addBox(o,n){o.boxes||(o.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(t){n.draw(t)}}]},o.boxes.push(n)},removeBox(o,n){let t=o.boxes?o.boxes.indexOf(n):-1;t!==-1&&o.boxes.splice(t,1)},configure(o,n,t){n.fullSize=t.fullSize,n.position=t.position,n.weight=t.weight},update(o,n,t,e){if(!o)return;let r=ii(o.options.layout.padding),i=Math.max(n-r.width,0),a=Math.max(t-r.height,0),s=qB(o.boxes),l=s.vertical,c=s.horizontal;Bn(o.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});let u=l.reduce((_,x)=>x.box.options&&x.box.options.display===!1?_:_+1,0)||1,p=Object.freeze({outerWidth:n,outerHeight:t,padding:r,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/u,hBoxMaxHeight:a/2}),g=Object.assign({},r);m5(g,ii(e));let h=Object.assign({maxPadding:g,w:i,h:a,x:r.left,y:r.top},r),y=KB(l.concat(c),p);lp(s.fullSize,h,p,y),lp(l,h,p,y),lp(c,h,p,y)&&lp(l,h,p,y),YB(h),OM(s.leftAndTop,h,p,y),h.x+=h.w,h.y+=h.h,OM(s.rightAndBottom,h,p,y),o.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Bn(s.chartArea,_=>{let x=_.box;Object.assign(x,o.chartArea),x.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}},jh=class{acquireContext(n,t){}releaseContext(n){return!1}addEventListener(n,t,e){}removeEventListener(n,t,e){}getDevicePixelRatio(){return 1}getMaximumSize(n,t,e,r){return t=Math.max(0,t||n.width),e=e||n.height,{width:t,height:Math.max(0,r?Math.floor(t/r):e)}}isAttached(n){return!0}updateConfig(n){}},Zv=class extends jh{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}},Fh="$chartjs",QB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},PM=o=>o===null||o==="";function JB(o,n){let t=o.style,e=o.getAttribute("height"),r=o.getAttribute("width");if(o[Fh]={initial:{height:e,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",PM(r)){let i=Rv(o,"width");i!==void 0&&(o.width=i)}if(PM(e))if(o.style.height==="")o.height=o.width/(n||2);else{let i=Rv(o,"height");i!==void 0&&(o.height=i)}return o}var v5=cM?{passive:!0}:!1;function ZB(o,n,t){o&&o.addEventListener(n,t,v5)}function tU(o,n,t){o&&o.canvas&&o.canvas.removeEventListener(n,t,v5)}function eU(o,n){let t=QB[o.type]||o.type,{x:e,y:r}=Gs(o,n);return{type:t,chart:n,native:o,x:e!==void 0?e:null,y:r!==void 0?r:null}}function Hh(o,n){for(let t of o)if(t===n||t.contains(n))return!0}function nU(o,n,t){let e=o.canvas,r=new MutationObserver(i=>{let a=!1;for(let s of i)a=a||Hh(s.addedNodes,e),a=a&&!Hh(s.removedNodes,e);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function rU(o,n,t){let e=o.canvas,r=new MutationObserver(i=>{let a=!1;for(let s of i)a=a||Hh(s.removedNodes,e),a=a&&!Hh(s.addedNodes,e);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}var dp=new Map,MM=0;function _5(){let o=window.devicePixelRatio;o!==MM&&(MM=o,dp.forEach((n,t)=>{t.currentDevicePixelRatio!==o&&n()}))}function iU(o,n){dp.size||window.addEventListener("resize",_5),dp.set(o,n)}function oU(o){dp.delete(o),dp.size||window.removeEventListener("resize",_5)}function aU(o,n,t){let e=o.canvas,r=e&&kh(e);if(!r)return;let i=wv((s,l)=>{let c=r.clientWidth;t(s,l),c<r.clientWidth&&t()},window),a=new ResizeObserver(s=>{let l=s[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return a.observe(r),iU(o,i),a}function qv(o,n,t){t&&t.disconnect(),n==="resize"&&oU(o)}function sU(o,n,t){let e=o.canvas,r=wv(i=>{o.ctx!==null&&t(eU(i,o))},o);return ZB(e,n,r),r}var t_=class extends jh{acquireContext(n,t){let e=n&&n.getContext&&n.getContext("2d");return e&&e.canvas===n?(JB(n,t),e):null}releaseContext(n){let t=n.canvas;if(!t[Fh])return!1;let e=t[Fh].initial;["height","width"].forEach(i=>{let a=e[i];Hn(a)?t.removeAttribute(i):t.setAttribute(i,a)});let r=e.style||{};return Object.keys(r).forEach(i=>{t.style[i]=r[i]}),t.width=t.width,delete t[Fh],!0}addEventListener(n,t,e){this.removeEventListener(n,t);let r=n.$proxies||(n.$proxies={}),a={attach:nU,detach:rU,resize:aU}[t]||sU;r[t]=a(n,t,e)}removeEventListener(n,t){let e=n.$proxies||(n.$proxies={}),r=e[t];if(!r)return;({attach:qv,detach:qv,resize:qv}[t]||tU)(n,t,r),e[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,t,e,r){return lM(n,t,e,r)}isAttached(n){let t=n&&kh(n);return!!(t&&t.isConnected)}};function lU(o){return!Eh()||typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas?Zv:t_}var qa=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){let{x:t,y:e}=this.getProps(["x","y"],n);return{x:t,y:e}}hasValue(){return ad(this.x)&&ad(this.y)}getProps(n,t){let e=this.$animations;if(!t||!e)return this;let r={};return n.forEach(i=>{r[i]=e[i]&&e[i].active()?e[i]._to:this[i]}),r}};function cU(o,n){let t=o.options.ticks,e=dU(o),r=Math.min(t.maxTicksLimit||e,e),i=t.major.enabled?pU(n):[],a=i.length,s=i[0],l=i[a-1],c=[];if(a>r)return fU(n,c,i,a/r),c;let u=uU(i,n,r);if(a>0){let p,g,h=a>1?Math.round((l-s)/(a-1)):null;for(Dh(n,c,u,Hn(h)?0:s-h,s),p=0,g=a-1;p<g;p++)Dh(n,c,u,i[p],i[p+1]);return Dh(n,c,u,l,Hn(h)?n.length:l+h),c}return Dh(n,c,u),c}function dU(o){let n=o.options.offset,t=o._tickSize(),e=o._length/t+(n?0:1),r=o._maxLength/t;return Math.floor(Math.min(e,r))}function uU(o,n,t){let e=gU(o),r=n.length/t;if(!e)return Math.max(r,1);let i=VP(e);for(let a=0,s=i.length-1;a<s;a++){let l=i[a];if(l>r)return l}return Math.max(r,1)}function pU(o){let n=[],t,e;for(t=0,e=o.length;t<e;t++)o[t].major&&n.push(t);return n}function fU(o,n,t,e){let r=0,i=t[0],a;for(e=Math.ceil(e),a=0;a<o.length;a++)a===i&&(n.push(o[a]),r++,i=t[r*e])}function Dh(o,n,t,e,r){let i=hn(e,0),a=Math.min(hn(r,o.length),o.length),s=0,l,c,u;for(t=Math.ceil(t),r&&(l=r-e,t=l/Math.floor(l/t)),u=i;u<0;)s++,u=Math.round(i+s*t);for(c=Math.max(i,0);c<a;c++)c===u&&(n.push(o[c]),s++,u=Math.round(i+s*t))}function gU(o){let n=o.length,t,e;if(n<2)return!1;for(e=o[0],t=1;t<n;++t)if(o[t]-o[t-1]!==e)return!1;return e}var hU=o=>o==="left"?"right":o==="right"?"left":o,wM=(o,n,t)=>n==="top"||n==="left"?o[n]+t:o[n]-t,SM=(o,n)=>Math.min(n||o,o);function TM(o,n){let t=[],e=o.length/n,r=o.length,i=0;for(;i<r;i+=e)t.push(o[Math.floor(i)]);return t}function mU(o,n,t){let e=o.ticks.length,r=Math.min(n,e-1),i=o._startPixel,a=o._endPixel,s=1e-6,l=o.getPixelForTick(r),c;if(!(t&&(e===1?c=Math.max(l-i,a-l):n===0?c=(o.getPixelForTick(1)-l)/2:c=(l-o.getPixelForTick(r-1))/2,l+=r<n?c:-c,l<i-s||l>a+s)))return l}function vU(o,n){Bn(o,t=>{let e=t.gc,r=e.length/2,i;if(r>n){for(i=0;i<r;++i)delete t.data[e[i]];e.splice(0,r)}})}function ap(o){return o.drawTicks?o.tickLength:0}function EM(o,n){if(!o.display)return 0;let t=Ir(o.font,n),e=ii(o.padding);return(er(o.text)?o.text.length:1)*t.lineHeight+e.height}function _U(o,n){return Wa(o,{scale:n,type:"scale"})}function yU(o,n,t){return Wa(o,{tick:t,index:n,type:"tick"})}function bU(o,n,t){let e=Ph(o);return(t&&n!=="right"||!t&&n==="right")&&(e=hU(e)),e}function CU(o,n,t,e){let{top:r,left:i,bottom:a,right:s,chart:l}=o,{chartArea:c,scales:u}=l,p=0,g,h,y,_=a-r,x=s-i;if(o.isHorizontal()){if(h=ri(e,i,s),xn(t)){let P=Object.keys(t)[0],w=t[P];y=u[P].getPixelForValue(w)+_-n}else t==="center"?y=(c.bottom+c.top)/2+_-n:y=wM(o,t,n);g=s-i}else{if(xn(t)){let P=Object.keys(t)[0],w=t[P];h=u[P].getPixelForValue(w)-x+n}else t==="center"?h=(c.left+c.right)/2-x+n:h=wM(o,t,n);y=ri(e,a,r),p=t==="left"?-Ui:Ui}return{titleX:h,titleY:y,maxWidth:g,rotation:p}}var ql=class o extends qa{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,t){return n}getUserBounds(){let{_userMin:n,_userMax:t,_suggestedMin:e,_suggestedMax:r}=this;return n=Gi(n,Number.POSITIVE_INFINITY),t=Gi(t,Number.NEGATIVE_INFINITY),e=Gi(e,Number.POSITIVE_INFINITY),r=Gi(r,Number.NEGATIVE_INFINITY),{min:Gi(n,e),max:Gi(t,r),minDefined:dr(n),maxDefined:dr(t)}}getMinMax(n){let{min:t,max:e,minDefined:r,maxDefined:i}=this.getUserBounds(),a;if(r&&i)return{min:t,max:e};let s=this.getMatchingVisibleMetas();for(let l=0,c=s.length;l<c;++l)a=s[l].controller.getMinMax(this,n),r||(t=Math.min(t,a.min)),i||(e=Math.max(e,a.max));return t=i&&t>e?e:t,e=r&&t>e?t:e,{min:Gi(t,Gi(e,t)),max:Gi(e,Gi(t,e))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gn(this.options.beforeUpdate,[this])}update(n,t,e){let{beginAtZero:r,grace:i,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=t,this._margins=e=Object.assign({left:0,right:0,top:0,bottom:0},e),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+e.left+e.right:this.height+e.top+e.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=nM(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=s<this.ticks.length;this._convertTicksToLabels(l?TM(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=cU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,t,e;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gn(this.options.afterUpdate,[this])}beforeSetDimensions(){Gn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gn(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),Gn(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let t=this.options.ticks,e,r,i;for(e=0,r=n.length;e<r;e++)i=n[e],i.label=Gn(t.callback,[i.value,e,n],this)}afterTickToLabelConversion(){Gn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,t=n.ticks,e=SM(this.ticks.length,n.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation,a=r,s,l,c;if(!this._isVisible()||!t.display||r>=i||e<=1||!this.isHorizontal()){this.labelRotation=r;return}let u=this._getLabelSizes(),p=u.widest.width,g=u.highest.height,h=fo(this.chart.width-p,0,this.maxWidth);s=n.offset?this.maxWidth/e:h/(e-1),p+6>s&&(s=h/(e-(n.offset?.5:1)),l=this.maxHeight-ap(n.grid)-t.padding-EM(n.title,this.chart.options.font),c=Math.sqrt(p*p+g*g),a=xh(Math.min(Math.asin(fo((u.highest.height+6)/s,-1,1)),Math.asin(fo(l/c,-1,1))-Math.asin(fo(g/c,-1,1)))),a=Math.max(r,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Gn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gn(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:t,options:{ticks:e,title:r,grid:i}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){let l=EM(r,t.options.font);if(s?(n.width=this.maxWidth,n.height=ap(i)+l):(n.height=this.maxHeight,n.width=ap(i)+l),e.display&&this.ticks.length){let{first:c,last:u,widest:p,highest:g}=this._getLabelSizes(),h=e.padding*2,y=Ua(this.labelRotation),_=Math.cos(y),x=Math.sin(y);if(s){let P=e.mirror?0:x*p.width+_*g.height;n.height=Math.min(this.maxHeight,n.height+P+h)}else{let P=e.mirror?0:_*p.width+x*g.height;n.width=Math.min(this.maxWidth,n.width+P+h)}this._calculatePadding(c,u,x,_)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,t,e,r){let{ticks:{align:i,padding:a},position:s}=this.options,l=this.labelRotation!==0,c=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1),g=0,h=0;l?c?(g=r*n.width,h=e*t.height):(g=e*n.height,h=r*t.width):i==="start"?h=t.width:i==="end"?g=n.width:i!=="inner"&&(g=n.width/2,h=t.width/2),this.paddingLeft=Math.max((g-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-p+a)*this.width/(this.width-p),0)}else{let u=t.height/2,p=n.height/2;i==="start"?(u=0,p=n.height):i==="end"&&(u=t.height,p=0),this.paddingTop=u+a,this.paddingBottom=p+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gn(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:t}=this.options;return t==="top"||t==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let t,e;for(t=0,e=n.length;t<e;t++)Hn(n[t].label)&&(n.splice(t,1),e--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let t=this.options.ticks.sampleSize,e=this.ticks;t<e.length&&(e=TM(e,t)),this._labelSizes=n=this._computeLabelSizes(e,e.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,t,e){let{ctx:r,_longestTextCache:i}=this,a=[],s=[],l=Math.floor(t/SM(t,e)),c=0,u=0,p,g,h,y,_,x,P,w,T,b,k;for(p=0;p<t;p+=l){if(y=n[p].label,_=this._resolveTickFontOptions(p),r.font=x=_.string,P=i[x]=i[x]||{data:{},gc:[]},w=_.lineHeight,T=b=0,!Hn(y)&&!er(y))T=$u(r,P.data,P.gc,T,y),b=w;else if(er(y))for(g=0,h=y.length;g<h;++g)k=y[g],!Hn(k)&&!er(k)&&(T=$u(r,P.data,P.gc,T,k),b+=w);a.push(T),s.push(b),c=Math.max(T,c),u=Math.max(b,u)}vU(i,t);let E=a.indexOf(c),L=s.indexOf(u),R=z=>({width:a[z]||0,height:s[z]||0});return{first:R(0),last:R(t-1),widest:R(E),highest:R(L),widths:a,heights:s}}getLabelForValue(n){return n}getPixelForValue(n,t){return NaN}getValueForPixel(n){}getPixelForTick(n){let t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let t=this._startPixel+n*this._length;return HP(this._alignToPixels?Us(this.chart,t,0):t)}getDecimalForPixel(n){let t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:t}=this;return n<0&&t<0?t:n>0&&t>0?n:0}getContext(n){let t=this.ticks||[];if(n>=0&&n<t.length){let e=t[n];return e.$context||(e.$context=yU(this.getContext(),n,e))}return this.$context||(this.$context=_U(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,t=Ua(this.labelRotation),e=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=n.autoSkipPadding||0,s=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*e>s*r?s/e:l/r:l*r<s*e?l/e:s/r}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let t=this.axis,e=this.chart,r=this.options,{grid:i,position:a,border:s}=r,l=i.offset,c=this.isHorizontal(),p=this.ticks.length+(l?1:0),g=ap(i),h=[],y=s.setContext(this.getContext()),_=y.display?y.width:0,x=_/2,P=function(I){return Us(e,I,_)},w,T,b,k,E,L,R,z,N,j,D,W;if(a==="top")w=P(this.bottom),L=this.bottom-g,z=w-x,j=P(n.top)+x,W=n.bottom;else if(a==="bottom")w=P(this.top),j=n.top,W=P(n.bottom)-x,L=w+x,z=this.top+g;else if(a==="left")w=P(this.right),E=this.right-g,R=w-x,N=P(n.left)+x,D=n.right;else if(a==="right")w=P(this.left),N=n.left,D=P(n.right)-x,E=w+x,R=this.left+g;else if(t==="x"){if(a==="center")w=P((n.top+n.bottom)/2+.5);else if(xn(a)){let I=Object.keys(a)[0],Z=a[I];w=P(this.chart.scales[I].getPixelForValue(Z))}j=n.top,W=n.bottom,L=w+x,z=L+g}else if(t==="y"){if(a==="center")w=P((n.left+n.right)/2);else if(xn(a)){let I=Object.keys(a)[0],Z=a[I];w=P(this.chart.scales[I].getPixelForValue(Z))}E=w-x,R=E-g,N=n.left,D=n.right}let q=hn(r.ticks.maxTicksLimit,p),J=Math.max(1,Math.ceil(p/q));for(T=0;T<p;T+=J){let I=this.getContext(T),Z=i.setContext(I),et=s.setContext(I),ut=Z.lineWidth,Rt=Z.color,Gt=et.dash||[],Pt=et.dashOffset,_t=Z.tickWidth,rt=Z.tickColor,ft=Z.tickBorderDash||[],wt=Z.tickBorderDashOffset;b=mU(this,T,l),b!==void 0&&(k=Us(e,b,ut),c?E=R=N=D=k:L=z=j=W=k,h.push({tx1:E,ty1:L,tx2:R,ty2:z,x1:N,y1:j,x2:D,y2:W,width:ut,color:Rt,borderDash:Gt,borderDashOffset:Pt,tickWidth:_t,tickColor:rt,tickBorderDash:ft,tickBorderDashOffset:wt}))}return this._ticksLength=p,this._borderValue=w,h}_computeLabelItems(n){let t=this.axis,e=this.options,{position:r,ticks:i}=e,a=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:c,padding:u,mirror:p}=i,g=ap(e.grid),h=g+u,y=p?-u:h,_=-Ua(this.labelRotation),x=[],P,w,T,b,k,E,L,R,z,N,j,D,W="middle";if(r==="top")E=this.bottom-y,L=this._getXAxisLabelAlignment();else if(r==="bottom")E=this.top+y,L=this._getXAxisLabelAlignment();else if(r==="left"){let J=this._getYAxisLabelAlignment(g);L=J.textAlign,k=J.x}else if(r==="right"){let J=this._getYAxisLabelAlignment(g);L=J.textAlign,k=J.x}else if(t==="x"){if(r==="center")E=(n.top+n.bottom)/2+h;else if(xn(r)){let J=Object.keys(r)[0],I=r[J];E=this.chart.scales[J].getPixelForValue(I)+h}L=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")k=(n.left+n.right)/2-h;else if(xn(r)){let J=Object.keys(r)[0],I=r[J];k=this.chart.scales[J].getPixelForValue(I)}L=this._getYAxisLabelAlignment(g).textAlign}t==="y"&&(l==="start"?W="top":l==="end"&&(W="bottom"));let q=this._getLabelSizes();for(P=0,w=s.length;P<w;++P){T=s[P],b=T.label;let J=i.setContext(this.getContext(P));R=this.getPixelForTick(P)+i.labelOffset,z=this._resolveTickFontOptions(P),N=z.lineHeight,j=er(b)?b.length:1;let I=j/2,Z=J.color,et=J.textStrokeColor,ut=J.textStrokeWidth,Rt=L;a?(k=R,L==="inner"&&(P===w-1?Rt=this.options.reverse?"left":"right":P===0?Rt=this.options.reverse?"right":"left":Rt="center"),r==="top"?c==="near"||_!==0?D=-j*N+N/2:c==="center"?D=-q.highest.height/2-I*N+N:D=-q.highest.height+N/2:c==="near"||_!==0?D=N/2:c==="center"?D=q.highest.height/2-I*N:D=q.highest.height-j*N,p&&(D*=-1),_!==0&&!J.showLabelBackdrop&&(k+=N/2*Math.sin(_))):(E=R,D=(1-j)*N/2);let Gt;if(J.showLabelBackdrop){let Pt=ii(J.backdropPadding),_t=q.heights[P],rt=q.widths[P],ft=D-Pt.top,wt=0-Pt.left;switch(W){case"middle":ft-=_t/2;break;case"bottom":ft-=_t;break}switch(L){case"center":wt-=rt/2;break;case"right":wt-=rt;break;case"inner":P===w-1?wt-=rt:P>0&&(wt-=rt/2);break}Gt={left:wt,top:ft,width:rt+Pt.width,height:_t+Pt.height,color:J.backdropColor}}x.push({label:b,font:z,textOffset:D,options:{rotation:_,color:Z,strokeColor:et,strokeWidth:ut,textAlign:Rt,textBaseline:W,translation:[k,E],backdrop:Gt}})}return x}_getXAxisLabelAlignment(){let{position:n,ticks:t}=this.options;if(-Ua(this.labelRotation))return n==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(n){let{position:t,ticks:{crossAlign:e,mirror:r,padding:i}}=this.options,a=this._getLabelSizes(),s=n+i,l=a.widest.width,c,u;return t==="left"?r?(u=this.right+i,e==="near"?c="left":e==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-s,e==="near"?c="right":e==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?r?(u=this.left+i,e==="near"?c="right":e==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+s,e==="near"?c="left":e==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:t},left:e,top:r,width:i,height:a}=this;t&&(n.save(),n.fillStyle=t,n.fillRect(e,r,i,a),n.restore())}getLineWidthForValue(n){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let r=this.ticks.findIndex(i=>i.value===n);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(n){let t=this.options.grid,e=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),i,a,s=(l,c,u)=>{!u.width||!u.color||(e.save(),e.lineWidth=u.width,e.strokeStyle=u.color,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset,e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(c.x,c.y),e.stroke(),e.restore())};if(t.display)for(i=0,a=r.length;i<a;++i){let l=r[i];t.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:t,options:{border:e,grid:r}}=this,i=e.setContext(this.getContext()),a=e.display?i.width:0;if(!a)return;let s=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,p,g;this.isHorizontal()?(c=Us(n,this.left,a)-a/2,u=Us(n,this.right,s)+s/2,p=g=l):(p=Us(n,this.top,a)-a/2,g=Us(n,this.bottom,s)+s/2,c=u=l),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(c,p),t.lineTo(u,g),t.stroke(),t.restore()}drawLabels(n){if(!this.options.ticks.display)return;let e=this.ctx,r=this._computeLabelArea();r&&Zu(e,r);let i=this.getLabelItems(n);for(let a of i){let s=a.options,l=a.font,c=a.label,u=a.textOffset;Ws(e,c,0,u,l,s)}r&&tp(e)}drawTitle(){let{ctx:n,options:{position:t,title:e,reverse:r}}=this;if(!e.display)return;let i=Ir(e.font),a=ii(e.padding),s=e.align,l=i.lineHeight/2;t==="bottom"||t==="center"||xn(t)?(l+=a.bottom,er(e.text)&&(l+=i.lineHeight*(e.text.length-1))):l+=a.top;let{titleX:c,titleY:u,maxWidth:p,rotation:g}=CU(this,l,t,s);Ws(n,e.text,0,0,i,{color:e.color,maxWidth:p,rotation:g,textAlign:bU(s,t,r),textBaseline:"middle",translation:[c,u]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,t=n.ticks&&n.ticks.z||0,e=hn(n.grid&&n.grid.z,-1),r=hn(n.border&&n.border.z,0);return!this._isVisible()||this.draw!==o.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:e,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(n){let t=this.chart.getSortedVisibleDatasetMetas(),e=this.axis+"AxisID",r=[],i,a;for(i=0,a=t.length;i<a;++i){let s=t[i];s[e]===this.id&&(!n||s.type===n)&&r.push(s)}return r}_resolveTickFontOptions(n){let t=this.options.ticks.setContext(this.getContext(n));return Ir(t.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}},sd=class{constructor(n,t,e){this.type=n,this.scope=t,this.override=e,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let t=Object.getPrototypeOf(n),e;PU(t)&&(e=this.register(t));let r=this.items,i=n.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+n);return i in r||(r[i]=n,xU(n,a,e),this.override&&nr.override(n.id,n.overrides)),a}get(n){return this.items[n]}unregister(n){let t=this.items,e=n.id,r=this.scope;e in t&&delete t[e],r&&e in nr[r]&&(delete nr[r][e],this.override&&delete Bs[e])}};function xU(o,n,t){let e=nd(Object.create(null),[t?nr.get(t):{},nr.get(n),o.defaults]);nr.set(n,e),o.defaultRoutes&&OU(n,o.defaultRoutes),o.descriptors&&nr.describe(n,o.descriptors)}function OU(o,n){Object.keys(n).forEach(t=>{let e=t.split("."),r=e.pop(),i=[o].concat(e).join("."),a=n[t].split("."),s=a.pop(),l=a.join(".");nr.route(i,r,l,s)})}function PU(o){return"id"in o&&"defaults"in o}var e_=class{constructor(){this.controllers=new sd(f5,"datasets",!0),this.elements=new sd(qa,"elements"),this.plugins=new sd(Object,"plugins"),this.scales=new sd(ql,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,t,e){[...t].forEach(r=>{let i=e||this._getRegistryForType(r);e||i.isForType(r)||i===this.plugins&&r.id?this._exec(n,i,r):Bn(r,a=>{let s=e||this._getRegistryForType(a);this._exec(n,s,a)})})}_exec(n,t,e){let r=Ch(n);Gn(e["before"+r],[],e),t[n](e),Gn(e["after"+r],[],e)}_getRegistryForType(n){for(let t=0;t<this._typedRegistries.length;t++){let e=this._typedRegistries[t];if(e.isForType(n))return e}return this.plugins}_get(n,t,e){let r=t.get(n);if(r===void 0)throw new Error('"'+n+'" is not a registered '+e+".");return r}},ma=new e_,n_=class{constructor(){this._init=void 0}notify(n,t,e,r){if(t==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install")),this._init===void 0)return;let i=r?this._descriptors(n).filter(r):this._descriptors(n),a=this._notify(i,n,t,e);return t==="afterDestroy"&&(this._notify(i,n,"stop"),this._notify(this._init,n,"uninstall"),this._init=void 0),a}_notify(n,t,e,r){r=r||{};for(let i of n){let a=i.plugin,s=a[e],l=[t,r,i.options];if(Gn(s,l,a)===!1&&r.cancelable)return!1}return!0}invalidate(){Hn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),t}_createDescriptors(n,t){let e=n&&n.config,r=hn(e.options&&e.options.plugins,{}),i=MU(e);return r===!1&&!t?[]:SU(n,i,r,t)}_notifyStateChanges(n){let t=this._oldCache||[],e=this._cache,r=(i,a)=>i.filter(s=>!a.some(l=>s.plugin.id===l.plugin.id));this._notify(r(t,e),n,"stop"),this._notify(r(e,t),n,"start")}};function MU(o){let n={},t=[],e=Object.keys(ma.plugins.items);for(let i=0;i<e.length;i++)t.push(ma.getPlugin(e[i]));let r=o.plugins||[];for(let i=0;i<r.length;i++){let a=r[i];t.indexOf(a)===-1&&(t.push(a),n[a.id]=!0)}return{plugins:t,localIds:n}}function wU(o,n){return!n&&o===!1?null:o===!0?{}:o}function SU(o,{plugins:n,localIds:t},e,r){let i=[],a=o.getContext();for(let s of n){let l=s.id,c=wU(e[l],r);c!==null&&i.push({plugin:s,options:TU(o.config,{plugin:s,local:t[l]},c,a)})}return i}function TU(o,{plugin:n,local:t},e,r){let i=o.pluginScopeKeys(n),a=o.getOptionScopes(e,i);return t&&n.defaults&&a.push(n.defaults),o.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function r_(o,n){let t=nr.datasets[o]||{};return((n.datasets||{})[o]||{}).indexAxis||n.indexAxis||t.indexAxis||"x"}function EU(o,n){let t=o;return o==="_index_"?t=n:o==="_value_"&&(t=n==="x"?"y":"x"),t}function kU(o,n){return o===n?"_index_":"_value_"}function kM(o){if(o==="x"||o==="y"||o==="r")return o}function AU(o){if(o==="top"||o==="bottom")return"x";if(o==="left"||o==="right")return"y"}function i_(o,...n){if(kM(o))return o;for(let t of n){let e=t.axis||AU(t.position)||o.length>1&&kM(o[0].toLowerCase());if(e)return e}throw new Error(`Cannot determine type of '${o}' axis. Please provide 'axis' or 'position' option.`)}function AM(o,n,t){if(t[n+"AxisID"]===o)return{axis:n}}function IU(o,n){if(n.data&&n.data.datasets){let t=n.data.datasets.filter(e=>e.xAxisID===o||e.yAxisID===o);if(t.length)return AM(o,"x",t[0])||AM(o,"y",t[0])}return{}}function DU(o,n){let t=Bs[o.type]||{scales:{}},e=n.scales||{},r=r_(o.type,n),i=Object.create(null);return Object.keys(e).forEach(a=>{let s=e[a];if(!xn(s))return console.error(`Invalid scale configuration for scale: ${a}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);let l=i_(a,s,IU(a,o),nr.scales[s.type]),c=kU(l,r),u=t.scales||{};i[a]=id(Object.create(null),[{axis:l},s,u[l],u[c]])}),o.data.datasets.forEach(a=>{let s=a.type||o.type,l=a.indexAxis||r_(s,n),u=(Bs[s]||{}).scales||{};Object.keys(u).forEach(p=>{let g=EU(p,l),h=a[g+"AxisID"]||g;i[h]=i[h]||Object.create(null),id(i[h],[{axis:g},e[h],u[p]])})}),Object.keys(i).forEach(a=>{let s=i[a];id(s,[nr.scales[s.type],nr.scale])}),i}function y5(o){let n=o.options||(o.options={});n.plugins=hn(n.plugins,{}),n.scales=DU(o,n)}function b5(o){return o=o||{},o.datasets=o.datasets||[],o.labels=o.labels||[],o}function LU(o){return o=o||{},o.data=b5(o.data),y5(o),o}var IM=new Map,C5=new Set;function Lh(o,n){let t=IM.get(o);return t||(t=n(),IM.set(o,t),C5.add(t)),t}var sp=(o,n,t)=>{let e=Xu(n,t);e!==void 0&&o.add(e)},o_=class{constructor(n){this._config=LU(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=b5(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),y5(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return Lh(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,t){return Lh(`${n}.transition.${t}`,()=>[[`datasets.${n}.transitions.${t}`,`transitions.${t}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,t){return Lh(`${n}-${t}`,()=>[[`datasets.${n}.elements.${t}`,`datasets.${n}`,`elements.${t}`,""]])}pluginScopeKeys(n){let t=n.id,e=this.type;return Lh(`${e}-plugin-${t}`,()=>[[`plugins.${t}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,t){let e=this._scopeCache,r=e.get(n);return(!r||t)&&(r=new Map,e.set(n,r)),r}getOptionScopes(n,t,e){let{options:r,type:i}=this,a=this._cachedScopes(n,e),s=a.get(t);if(s)return s;let l=new Set;t.forEach(u=>{n&&(l.add(n),u.forEach(p=>sp(l,n,p))),u.forEach(p=>sp(l,r,p)),u.forEach(p=>sp(l,Bs[i]||{},p)),u.forEach(p=>sp(l,nr,p)),u.forEach(p=>sp(l,wh,p))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),C5.has(t)&&a.set(t,c),c}chartOptionScopes(){let{options:n,type:t}=this;return[n,Bs[t]||{},nr.datasets[t]||{},{type:t},nr,wh]}resolveNamedOptions(n,t,e,r=[""]){let i={$shared:!0},{resolver:a,subPrefixes:s}=DM(this._resolverCache,n,r),l=a;if(RU(a,t)){i.$shared=!1,e=Ha(e)?e():e;let c=this.createResolver(n,e,s);l=Hl(a,e,c)}for(let c of t)i[c]=l[c];return i}createResolver(n,t,e=[""],r){let{resolver:i}=DM(this._resolverCache,n,e);return xn(t)?Hl(i,t,void 0,r):i}};function DM(o,n,t){let e=o.get(n);e||(e=new Map,o.set(n,e));let r=t.join(),i=e.get(r);return i||(i={resolver:Th(n,t),subPrefixes:t.filter(s=>!s.toLowerCase().includes("hover"))},e.set(r,i)),i}var NU=o=>xn(o)&&Object.getOwnPropertyNames(o).some(n=>Ha(o[n]));function RU(o,n){let{isScriptable:t,isIndexable:e}=Iv(o);for(let r of n){let i=t(r),a=e(r),s=(a||i)&&o[r];if(i&&(Ha(s)||NU(s))||a&&er(s))return!0}return!1}var FU="4.5.1",VU=["top","bottom","left","right","chartArea"];function LM(o,n){return o==="top"||o==="bottom"||VU.indexOf(o)===-1&&n==="x"}function NM(o,n){return function(t,e){return t[o]===e[o]?t[n]-e[n]:t[o]-e[o]}}function RM(o){let n=o.chart,t=n.options.animation;n.notifyPlugins("afterRender"),Gn(t&&t.onComplete,[o],n)}function zU(o){let n=o.chart,t=n.options.animation;Gn(t&&t.onProgress,[o],n)}function x5(o){return Eh()&&typeof o=="string"?o=document.getElementById(o):o&&o.length&&(o=o[0]),o&&o.canvas&&(o=o.canvas),o}var Vh={},FM=o=>{let n=x5(o);return Object.values(Vh).filter(t=>t.canvas===n).pop()};function jU(o,n,t){let e=Object.keys(o);for(let r of e){let i=+r;if(i>=n){let a=o[r];delete o[r],(t>0||i>n)&&(o[i+t]=a)}}}function HU(o,n,t,e){return!t||o.type==="mouseout"?null:e?n:o}var cd=(()=>{class o{static defaults=nr;static instances=Vh;static overrides=Bs;static registry=ma;static version=FU;static getChart=FM;static register(...t){ma.add(...t),VM()}static unregister(...t){ma.remove(...t),VM()}constructor(t,e){let r=this.config=new o_(e),i=x5(t),a=FM(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");let s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||lU(i)),this.platform.updateConfig(r);let l=this.platform.acquireContext(i,s.aspectRatio),c=l&&l.canvas,u=c&&c.height,p=c&&c.width;if(this.id=LP(),this.ctx=l,this.canvas=c,this.width=p,this.height=u,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new n_,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qP(g=>this.update(g),s.resizeDelay||0),this._dataChanges=[],Vh[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ga.listen(this,"complete",RM),Ga.listen(this,"progress",zU),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:r,height:i,_aspectRatio:a}=this;return Hn(t)?e&&a?a:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ma}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Nv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ev(this.canvas,this.ctx),this}stop(){return Ga.stop(this),this}resize(t,e){Ga.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,e,a),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Nv(this,l,!0)&&(this.notifyPlugins("resize",{size:s}),Gn(r.onResize,[this,s],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let e=this.options.scales||{};Bn(e,(r,i)=>{r.id=i})}buildOrUpdateScales(){let t=this.options,e=t.scales,r=this.scales,i=Object.keys(r).reduce((s,l)=>(s[l]=!1,s),{}),a=[];e&&(a=a.concat(Object.keys(e).map(s=>{let l=e[s],c=i_(s,l),u=c==="r",p=c==="x";return{options:l,dposition:u?"chartArea":p?"bottom":"left",dtype:u?"radialLinear":p?"category":"linear"}}))),Bn(a,s=>{let l=s.options,c=l.id,u=i_(c,l),p=hn(l.type,s.dtype);(l.position===void 0||LM(l.position,u)!==LM(s.dposition))&&(l.position=s.dposition),i[c]=!0;let g=null;if(c in r&&r[c].type===p)g=r[c];else{let h=ma.getScale(p);g=new h({id:c,type:p,ctx:this.ctx,chart:this}),r[g.id]=g}g.init(l,t)}),Bn(i,(s,l)=>{s||delete r[l]}),Bn(r,s=>{Io.configure(this,s,s.options),Io.addBox(this,s)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,r=t.length;if(t.sort((i,a)=>i.index-a.index),r>e){for(let i=e;i<r;++i)this._destroyDatasetMeta(i);t.splice(e,r-e)}this._sortedMetasets=t.slice(0).sort(NM("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((r,i)=>{e.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let t=[],e=this.data.datasets,r,i;for(this._removeUnreferencedMetasets(),r=0,i=e.length;r<i;r++){let a=e[r],s=this.getDatasetMeta(r),l=a.type||this.config.type;if(s.type&&s.type!==l&&(this._destroyDatasetMeta(r),s=this.getDatasetMeta(r)),s.type=l,s.indexAxis=a.indexAxis||r_(l,this.options),s.order=a.order||0,s.index=r,s.label=""+a.label,s.visible=this.isDatasetVisible(r),s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{let c=ma.getController(l),{datasetElementType:u,dataElementType:p}=nr.datasets[l];Object.assign(c,{dataElementType:ma.getElement(p),datasetElementType:u&&ma.getElement(u)}),s.controller=new c(this,r),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){Bn(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let r=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let u=0,p=this.data.datasets.length;u<p;u++){let{controller:g}=this.getDatasetMeta(u),h=!i&&a.indexOf(g)===-1;g.buildOrUpdateElements(h),s=Math.max(+g.getMaxOverflow(),s)}s=this._minPadding=r.layout.autoPadding?s:0,this._updateLayout(s),i||Bn(a,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(NM("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Bn(this.scales,t=>{Io.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,e=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!yv(e,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(let{method:r,start:i,count:a}of e){let s=r==="_removeElements"?-a:a;jU(t,i,s)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let e=this.data.datasets.length,r=a=>new Set(t.filter(s=>s[0]===a).map((s,l)=>l+","+s.splice(1).join(","))),i=r(0);for(let a=1;a<e;a++)if(!yv(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Io.update(this,this.width,this.height,t);let e=this.chartArea,r=e.width<=0||e.height<=0;this._layers=[],Bn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,r=this.data.datasets.length;e<r;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,r=this.data.datasets.length;e<r;++e)this._updateDataset(e,Ha(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let r=this.getDatasetMeta(t),i={meta:r,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ga.has(this)?this.attached&&!Ga.running(this)&&Ga.start(this):(this.draw(),RM({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e=this._sortedMetasets,r=[],i,a;for(i=0,a=e.length;i<a;++i){let s=e[i];(!t||s.visible)&&r.push(s)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=Hv(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Zu(e,i),t.controller.draw(),i&&tp(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return fa(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,r,i){let a=UB.modes[e];return typeof a=="function"?a(this,t,r,i):[]}getDatasetMeta(t){let e=this.data.datasets[t],r=this._metasets,i=r.filter(a=>a&&a._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Wa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!e.hidden}setDatasetVisibility(t,e){let r=this.getDatasetMeta(t);r.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,r){let i=r?"show":"hide",a=this.getDatasetMeta(t),s=a.controller._resolveAnimations(void 0,i);Qu(e)?(a.data[e].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),s.update(a,{visible:r}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ga.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ev(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Vh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,r=(a,s)=>{e.addEventListener(this,a,s),t[a]=s},i=(a,s,l)=>{a.offsetX=s,a.offsetY=l,this._eventHandler(a)};Bn(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,e=this.platform,r=(c,u)=>{e.addEventListener(this,c,u),t[c]=u},i=(c,u)=>{t[c]&&(e.removeEventListener(this,c,u),delete t[c])},a=(c,u)=>{this.canvas&&this.resize(c,u)},s,l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",a),r("detach",s)};s=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",l)},e.isAttached(this.canvas)?l():s()}unbindEvents(){Bn(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Bn(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,r){let i=r?"set":"remove",a,s,l,c;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){s=t[l];let u=s&&this.getDatasetMeta(s.datasetIndex).controller;u&&u[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],r=t.map(({datasetIndex:a,index:s})=>{let l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[s],index:s}});!Yu(r,e)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,e))}notifyPlugins(t,e,r){return this._plugins.notify(this,t,e,r)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,r){let i=this.options.hover,a=(c,u)=>c.filter(p=>!u.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),s=a(e,t),l=r?t:a(t,e);s.length&&this.updateHoverStyle(s,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,e){let r={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=s=>(s.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;let a=this._handleEvent(t,e,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(t,e,r){let{_active:i=[],options:a}=this,s=e,l=this._getActiveElements(t,i,r,s),c=FP(t),u=HU(t,this._lastEvent,r,c);r&&(this._lastEvent=null,Gn(a.onHover,[t,l,this],this),c&&Gn(a.onClick,[t,l,this],this));let p=!Yu(l,i);return(p||e)&&(this._active=l,this._updateHoverStyles(l,i,e)),this._lastEvent=u,p}_getActiveElements(t,e,r,i){if(t.type==="mouseout")return[];if(!r)return e;let a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}}return o})();function VM(){return Bn(cd.instances,o=>o._plugins.invalidate())}function O5(o,n,t=n){o.lineCap=hn(t.borderCapStyle,n.borderCapStyle),o.setLineDash(hn(t.borderDash,n.borderDash)),o.lineDashOffset=hn(t.borderDashOffset,n.borderDashOffset),o.lineJoin=hn(t.borderJoinStyle,n.borderJoinStyle),o.lineWidth=hn(t.borderWidth,n.borderWidth),o.strokeStyle=hn(t.borderColor,n.borderColor)}function BU(o,n,t){o.lineTo(t.x,t.y)}function UU(o){return o.stepped?ZP:o.tension||o.cubicInterpolationMode==="monotone"?tM:BU}function P5(o,n,t={}){let e=o.length,{start:r=0,end:i=e-1}=t,{start:a,end:s}=n,l=Math.max(r,a),c=Math.min(i,s),u=r<a&&i<a||r>s&&i>s;return{count:e,start:l,loop:n.loop,ilen:c<l&&!u?e+c-l:c-l}}function WU(o,n,t,e){let{points:r,options:i}=n,{count:a,start:s,loop:l,ilen:c}=P5(r,t,e),u=UU(i),{move:p=!0,reverse:g}=e||{},h,y,_;for(h=0;h<=c;++h)y=r[(s+(g?c-h:h))%a],!y.skip&&(p?(o.moveTo(y.x,y.y),p=!1):u(o,_,y,g,i.stepped),_=y);return l&&(y=r[(s+(g?c:0))%a],u(o,_,y,g,i.stepped)),!!l}function GU(o,n,t,e){let r=n.points,{count:i,start:a,ilen:s}=P5(r,t,e),{move:l=!0,reverse:c}=e||{},u=0,p=0,g,h,y,_,x,P,w=b=>(a+(c?s-b:b))%i,T=()=>{_!==x&&(o.lineTo(u,x),o.lineTo(u,_),o.lineTo(u,P))};for(l&&(h=r[w(0)],o.moveTo(h.x,h.y)),g=0;g<=s;++g){if(h=r[w(g)],h.skip)continue;let b=h.x,k=h.y,E=b|0;E===y?(k<_?_=k:k>x&&(x=k),u=(p*u+b)/++p):(T(),o.lineTo(b,k),y=E,p=0,_=x=k),P=k}T()}function a_(o){let n=o.options,t=n.borderDash&&n.borderDash.length;return!o._decimated&&!o._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!t?GU:WU}function KU(o){return o.stepped?dM:o.tension||o.cubicInterpolationMode==="monotone"?uM:zs}function qU(o,n,t,e){let r=n._path;r||(r=n._path=new Path2D,n.path(r,t,e)&&r.closePath()),O5(o,n.options),o.stroke(r)}function $U(o,n,t,e){let{segments:r,options:i}=n,a=a_(n);for(let s of r)O5(o,i,s.style),o.beginPath(),a(o,n,s,{start:t,end:t+e-1})&&o.closePath(),o.stroke()}var YU=typeof Path2D=="function";function XU(o,n,t,e){YU&&!n.options.segment?qU(o,n,t,e):$U(o,n,t,e)}var fp=(()=>{class o extends qa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let i=r.spanGaps?this._loop:this._fullLoop;sM(this._points,r,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=fM(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,r=t.length;return r&&e[t[r-1].end]}interpolate(t,e){let r=this.options,i=t[e],a=this.points,s=jv(this,{property:e,start:i,end:i});if(!s.length)return;let l=[],c=KU(r),u,p;for(u=0,p=s.length;u<p;++u){let{start:g,end:h}=s[u],y=a[g],_=a[h];if(y===_){l.push(y);continue}let x=Math.abs((i-y[e])/(_[e]-y[e])),P=c(y,_,x,r.stepped);P[e]=t[e],l.push(P)}return l.length===1?l[0]:l}pathSegment(t,e,r){return a_(this)(t,this,e,r)}path(t,e,r){let i=this.segments,a=a_(this),s=this._loop;e=e||0,r=r||this.points.length-e;for(let l of i)s&=a(t,this,l,{start:e,end:e+r-1});return!!s}draw(t,e,r,i){let a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),XU(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return o})();function zM(o,n,t,e){let r=o.options,{[t]:i}=o.getProps([t],e);return Math.abs(n-i)<r.radius+r.hitRadius}var M5=(()=>{class o extends qa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,r){let i=this.options,{x:a,y:s}=this.getProps(["x","y"],r);return Math.pow(t-a,2)+Math.pow(e-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return zM(this,t,"x",e)}inYRange(t,e){return zM(this,t,"y",e)}getCenterPoint(t){let{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);let r=e&&t.borderWidth||0;return(e+r)*2}draw(t,e){let r=this.options;this.skip||r.radius<.1||!fa(this,e,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Sh(t,r,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return o})();function QU(o,n,t){let e=o.segments,r=o.points,i=n.points,a=[];for(let s of e){let{start:l,end:c}=s;c=Kh(l,c,r);let u=s_(t,r[l],r[c],s.loop);if(!n.segments){a.push({source:s,target:u,start:r[l],end:r[c]});continue}let p=jv(n,u);for(let g of p){let h=s_(t,i[g.start],i[g.end],g.loop),y=zv(s,r,h);for(let _ of y)a.push({source:_,target:g,start:{[t]:jM(u,h,"start",Math.max)},end:{[t]:jM(u,h,"end",Math.min)}})}}return a}function s_(o,n,t,e){if(e)return;let r=n[o],i=t[o];return o==="angle"&&(r=Bi(r),i=Bi(i)),{property:o,start:r,end:i}}function JU(o,n){let{x:t=null,y:e=null}=o||{},r=n.points,i=[];return n.segments.forEach(({start:a,end:s})=>{s=Kh(a,s,r);let l=r[a],c=r[s];e!==null?(i.push({x:l.x,y:e}),i.push({x:c.x,y:e})):t!==null&&(i.push({x:t,y:l.y}),i.push({x:t,y:c.y}))}),i}function Kh(o,n,t){for(;n>o;n--){let e=t[n];if(!isNaN(e.x)&&!isNaN(e.y))break}return n}function jM(o,n,t,e){return o&&n?e(o[t],n[t]):o?o[t]:n?n[t]:0}function w5(o,n){let t=[],e=!1;return er(o)?(e=!0,t=o):t=JU(o,n),t.length?new fp({points:t,options:{tension:0},_loop:e,_fullLoop:e}):null}function HM(o){return o&&o.fill!==!1}function ZU(o,n,t){let r=o[n].fill,i=[n],a;if(!t)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!dr(r))return r;if(a=o[r],!a)return!1;if(a.visible)return r;i.push(r),r=a.fill}return!1}function tW(o,n,t){let e=iW(o);if(xn(e))return isNaN(e.value)?!1:e;let r=parseFloat(e);return dr(r)&&Math.floor(r)===r?eW(e[0],n,r,t):["origin","start","end","stack","shape"].indexOf(e)>=0&&e}function eW(o,n,t,e){return(o==="-"||o==="+")&&(t=n+t),t===n||t<0||t>=e?!1:t}function nW(o,n){let t=null;return o==="start"?t=n.bottom:o==="end"?t=n.top:xn(o)?t=n.getPixelForValue(o.value):n.getBasePixel&&(t=n.getBasePixel()),t}function rW(o,n,t){let e;return o==="start"?e=t:o==="end"?e=n.options.reverse?n.min:n.max:xn(o)?e=o.value:e=n.getBaseValue(),e}function iW(o){let n=o.options,t=n.fill,e=hn(t&&t.target,t);return e===void 0&&(e=!!n.backgroundColor),e===!1||e===null?!1:e===!0?"origin":e}function oW(o){let{scale:n,index:t,line:e}=o,r=[],i=e.segments,a=e.points,s=aW(n,t);s.push(w5({x:null,y:n.bottom},e));for(let l=0;l<i.length;l++){let c=i[l];for(let u=c.start;u<=c.end;u++)sW(r,a[u],s)}return new fp({points:r,options:{}})}function aW(o,n){let t=[],e=o.getMatchingVisibleMetas("line");for(let r=0;r<e.length;r++){let i=e[r];if(i.index===n)break;i.hidden||t.unshift(i.dataset)}return t}function sW(o,n,t){let e=[];for(let r=0;r<t.length;r++){let i=t[r],{first:a,last:s,point:l}=lW(i,n,"x");if(!(!l||a&&s)){if(a)e.unshift(l);else if(o.push(l),!s)break}}o.push(...e)}function lW(o,n,t){let e=o.interpolate(n,t);if(!e)return{};let r=e[t],i=o.segments,a=o.points,s=!1,l=!1;for(let c=0;c<i.length;c++){let u=i[c],p=a[u.start][t],g=a[u.end][t];if(Bl(r,p,g)){s=r===p,l=r===g;break}}return{first:s,last:l,point:e}}var Bh=class{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,t,e){let{x:r,y:i,radius:a}=this;return t=t||{start:0,end:Wi},n.arc(r,i,a,t.end,t.start,!0),!e.bounds}interpolate(n){let{x:t,y:e,radius:r}=this,i=n.angle;return{x:t+Math.cos(i)*r,y:e+Math.sin(i)*r,angle:i}}};function cW(o){let{chart:n,fill:t,line:e}=o;if(dr(t))return dW(n,t);if(t==="stack")return oW(o);if(t==="shape")return!0;let r=uW(o);return r instanceof Bh?r:w5(r,e)}function dW(o,n){let t=o.getDatasetMeta(n);return t&&o.isDatasetVisible(n)?t.dataset:null}function uW(o){return(o.scale||{}).getPointPositionForValue?fW(o):pW(o)}function pW(o){let{scale:n={},fill:t}=o,e=nW(t,n);if(dr(e)){let r=n.isHorizontal();return{x:r?e:null,y:r?null:e}}return null}function fW(o){let{scale:n,fill:t}=o,e=n.options,r=n.getLabels().length,i=e.reverse?n.max:n.min,a=rW(t,n,i),s=[];if(e.grid.circular){let l=n.getPointPositionForValue(0,i);return new Bh({x:l.x,y:l.y,radius:n.getDistanceFromCenterForValue(a)})}for(let l=0;l<r;++l)s.push(n.getPointPositionForValue(l,a));return s}function $v(o,n,t){let e=cW(n),{chart:r,index:i,line:a,scale:s,axis:l}=n,c=a.options,u=c.fill,p=c.backgroundColor,{above:g=p,below:h=p}=u||{},y=r.getDatasetMeta(i),_=Hv(r,y);e&&a.points.length&&(Zu(o,t),gW(o,{line:a,target:e,above:g,below:h,area:t,scale:s,axis:l,clip:_}),tp(o))}function gW(o,n){let{line:t,target:e,above:r,below:i,area:a,scale:s,clip:l}=n,c=t._loop?"angle":n.axis;o.save();let u=i;i!==r&&(c==="x"?(BM(o,e,a.top),Yv(o,{line:t,target:e,color:r,scale:s,property:c,clip:l}),o.restore(),o.save(),BM(o,e,a.bottom)):c==="y"&&(UM(o,e,a.left),Yv(o,{line:t,target:e,color:i,scale:s,property:c,clip:l}),o.restore(),o.save(),UM(o,e,a.right),u=r)),Yv(o,{line:t,target:e,color:u,scale:s,property:c,clip:l}),o.restore()}function BM(o,n,t){let{segments:e,points:r}=n,i=!0,a=!1;o.beginPath();for(let s of e){let{start:l,end:c}=s,u=r[l],p=r[Kh(l,c,r)];i?(o.moveTo(u.x,u.y),i=!1):(o.lineTo(u.x,t),o.lineTo(u.x,u.y)),a=!!n.pathSegment(o,s,{move:a}),a?o.closePath():o.lineTo(p.x,t)}o.lineTo(n.first().x,t),o.closePath(),o.clip()}function UM(o,n,t){let{segments:e,points:r}=n,i=!0,a=!1;o.beginPath();for(let s of e){let{start:l,end:c}=s,u=r[l],p=r[Kh(l,c,r)];i?(o.moveTo(u.x,u.y),i=!1):(o.lineTo(t,u.y),o.lineTo(u.x,u.y)),a=!!n.pathSegment(o,s,{move:a}),a?o.closePath():o.lineTo(t,p.y)}o.lineTo(t,n.first().y),o.closePath(),o.clip()}function Yv(o,n){let{line:t,target:e,property:r,color:i,scale:a,clip:s}=n,l=QU(t,e,r);for(let{source:c,target:u,start:p,end:g}of l){let{style:{backgroundColor:h=i}={}}=c,y=e!==!0;o.save(),o.fillStyle=h,hW(o,a,s,y&&s_(r,p,g)),o.beginPath();let _=!!t.pathSegment(o,c),x;if(y){_?o.closePath():WM(o,e,g,r);let P=!!e.pathSegment(o,u,{move:_,reverse:!0});x=_&&P,x||WM(o,e,p,r)}o.closePath(),o.fill(x?"evenodd":"nonzero"),o.restore()}}function hW(o,n,t,e){let r=n.chart.chartArea,{property:i,start:a,end:s}=e||{};if(i==="x"||i==="y"){let l,c,u,p;i==="x"?(l=a,c=r.top,u=s,p=r.bottom):(l=r.left,c=a,u=r.right,p=s),o.beginPath(),t&&(l=Math.max(l,t.left),u=Math.min(u,t.right),c=Math.max(c,t.top),p=Math.min(p,t.bottom)),o.rect(l,c,u-l,p-c),o.clip()}}function WM(o,n,t,e){let r=n.interpolate(t,e);r&&o.lineTo(r.x,r.y)}var S5={id:"filler",afterDatasetsUpdate(o,n,t){let e=(o.data.datasets||[]).length,r=[],i,a,s,l;for(a=0;a<e;++a)i=o.getDatasetMeta(a),s=i.dataset,l=null,s&&s.options&&s instanceof fp&&(l={visible:o.isDatasetVisible(a),index:a,fill:tW(s,a,e),chart:o,axis:i.controller.options.indexAxis,scale:i.vScale,line:s}),i.$filler=l,r.push(l);for(a=0;a<e;++a)l=r[a],!(!l||l.fill===!1)&&(l.fill=ZU(r,a,t.propagate))},beforeDraw(o,n,t){let e=t.drawTime==="beforeDraw",r=o.getSortedVisibleDatasetMetas(),i=o.chartArea;for(let a=r.length-1;a>=0;--a){let s=r[a].$filler;s&&(s.line.updateControlPoints(i,s.axis),e&&s.fill&&$v(o.ctx,s,i))}},beforeDatasetsDraw(o,n,t){if(t.drawTime!=="beforeDatasetsDraw")return;let e=o.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r){let i=e[r].$filler;HM(i)&&$v(o.ctx,i,o.chartArea)}},beforeDatasetDraw(o,n,t){let e=n.meta.$filler;!HM(e)||t.drawTime!=="beforeDatasetDraw"||$v(o.ctx,e,o.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},GM=(o,n)=>{let{boxHeight:t=n,boxWidth:e=n}=o;return o.usePointStyle&&(t=Math.min(t,n),e=o.pointStyleWidth||Math.min(e,n)),{boxWidth:e,boxHeight:t,itemHeight:Math.max(n,t)}},mW=(o,n)=>o!==null&&n!==null&&o.datasetIndex===n.datasetIndex&&o.index===n.index,Uh=class extends qa{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t,e){this.maxWidth=n,this.maxHeight=t,this._margins=e,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},t=Gn(n.generateLabels,[this.chart],this)||[];n.filter&&(t=t.filter(e=>n.filter(e,this.chart.data))),n.sort&&(t=t.sort((e,r)=>n.sort(e,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:n,ctx:t}=this;if(!n.display){this.width=this.height=0;return}let e=n.labels,r=Ir(e.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=GM(e,i),c,u;t.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,i,s,l)+10):(u=this.maxHeight,c=this._fitCols(a,r,s,l)+10),this.width=Math.min(c,n.maxWidth||this.maxWidth),this.height=Math.min(u,n.maxHeight||this.maxHeight)}_fitRows(n,t,e,r){let{ctx:i,maxWidth:a,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+s,p=n;i.textAlign="left",i.textBaseline="middle";let g=-1,h=-u;return this.legendItems.forEach((y,_)=>{let x=e+t/2+i.measureText(y.text).width;(_===0||c[c.length-1]+x+2*s>a)&&(p+=u,c[c.length-(_>0?0:1)]=0,h+=u,g++),l[_]={left:0,top:h,row:g,width:x,height:r},c[c.length-1]+=x+s}),p}_fitCols(n,t,e,r){let{ctx:i,maxHeight:a,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-n,p=s,g=0,h=0,y=0,_=0;return this.legendItems.forEach((x,P)=>{let{itemWidth:w,itemHeight:T}=vW(e,t,i,x,r);P>0&&h+T+2*s>u&&(p+=g+s,c.push({width:g,height:h}),y+=g+s,_++,g=h=0),l[P]={left:y,top:h,col:_,width:w,height:T},g=Math.max(g,w),h+=T+s}),p+=g,c.push({width:g,height:h}),p}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:e,labels:{padding:r},rtl:i}}=this,a=Wl(i,this.left,this.width);if(this.isHorizontal()){let s=0,l=ri(e,this.left+r,this.right-this.lineWidths[s]);for(let c of t)s!==c.row&&(s=c.row,l=ri(e,this.left+r,this.right-this.lineWidths[s])),c.top+=this.top+n+r,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+r}else{let s=0,l=ri(e,this.top+n+r,this.bottom-this.columnSizes[s].height);for(let c of t)c.col!==s&&(s=c.col,l=ri(e,this.top+n+r,this.bottom-this.columnSizes[s].height)),c.top=l,c.left+=this.left+r,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;Zu(n,this),this._draw(),tp(n)}}_draw(){let{options:n,columnSizes:t,lineWidths:e,ctx:r}=this,{align:i,labels:a}=n,s=nr.color,l=Wl(n.rtl,this.left,this.width),c=Ir(a.font),{padding:u}=a,p=c.size,g=p/2,h;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;let{boxWidth:y,boxHeight:_,itemHeight:x}=GM(a,p),P=function(E,L,R){if(isNaN(y)||y<=0||isNaN(_)||_<0)return;r.save();let z=hn(R.lineWidth,1);if(r.fillStyle=hn(R.fillStyle,s),r.lineCap=hn(R.lineCap,"butt"),r.lineDashOffset=hn(R.lineDashOffset,0),r.lineJoin=hn(R.lineJoin,"miter"),r.lineWidth=z,r.strokeStyle=hn(R.strokeStyle,s),r.setLineDash(hn(R.lineDash,[])),a.usePointStyle){let N={radius:_*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:z},j=l.xPlus(E,y/2),D=L+g;kv(r,N,j,D,a.pointStyleWidth&&y)}else{let N=L+Math.max((p-_)/2,0),j=l.leftForLtr(E,y),D=Ul(R.borderRadius);r.beginPath(),Object.values(D).some(W=>W!==0)?ep(r,{x:j,y:N,w:y,h:_,radius:D}):r.rect(j,N,y,_),r.fill(),z!==0&&r.stroke()}r.restore()},w=function(E,L,R){Ws(r,R.text,E,L+x/2,c,{strikethrough:R.hidden,textAlign:l.textAlign(R.textAlign)})},T=this.isHorizontal(),b=this._computeTitleHeight();T?h={x:ri(i,this.left+u,this.right-e[0]),y:this.top+u+b,line:0}:h={x:this.left+u,y:ri(i,this.top+b+u,this.bottom-t[0].height),line:0},Fv(this.ctx,n.textDirection);let k=x+u;this.legendItems.forEach((E,L)=>{r.strokeStyle=E.fontColor,r.fillStyle=E.fontColor;let R=r.measureText(E.text).width,z=l.textAlign(E.textAlign||(E.textAlign=a.textAlign)),N=y+g+R,j=h.x,D=h.y;l.setWidth(this.width),T?L>0&&j+N+u>this.right&&(D=h.y+=k,h.line++,j=h.x=ri(i,this.left+u,this.right-e[h.line])):L>0&&D+k>this.bottom&&(j=h.x=j+t[h.line].width+u,h.line++,D=h.y=ri(i,this.top+b+u,this.bottom-t[h.line].height));let W=l.x(j);if(P(W,D,E),j=$P(z,j+y+g,T?j+N:this.right,n.rtl),w(l.x(j),D,E),T)h.x+=N+u;else if(typeof E.text!="string"){let q=c.lineHeight;h.y+=T5(E,q)+u}else h.y+=k}),Vv(this.ctx,n.textDirection)}drawTitle(){let n=this.options,t=n.title,e=Ir(t.font),r=ii(t.padding);if(!t.display)return;let i=Wl(n.rtl,this.left,this.width),a=this.ctx,s=t.position,l=e.size/2,c=r.top+l,u,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),u=this.top+c,p=ri(n.align,p,this.right-g);else{let y=this.columnSizes.reduce((_,x)=>Math.max(_,x.height),0);u=c+ri(n.align,this.top,this.bottom-y-n.labels.padding-this._computeTitleHeight())}let h=ri(s,p,p+g);a.textAlign=i.textAlign(Ph(s)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=e.string,Ws(a,t.text,h,u,e)}_computeTitleHeight(){let n=this.options.title,t=Ir(n.font),e=ii(n.padding);return n.display?t.lineHeight+e.height:0}_getLegendItemAt(n,t){let e,r,i;if(Bl(n,this.left,this.right)&&Bl(t,this.top,this.bottom)){for(i=this.legendHitBoxes,e=0;e<i.length;++e)if(r=i[e],Bl(n,r.left,r.left+r.width)&&Bl(t,r.top,r.top+r.height))return this.legendItems[e]}return null}handleEvent(n){let t=this.options;if(!bW(n.type,t))return;let e=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let r=this._hoveredItem,i=mW(r,e);r&&!i&&Gn(t.onLeave,[n,r,this],this),this._hoveredItem=e,e&&!i&&Gn(t.onHover,[n,e,this],this)}else e&&Gn(t.onClick,[n,e,this],this)}};function vW(o,n,t,e,r){let i=_W(e,o,n,t),a=yW(r,e,n.lineHeight);return{itemWidth:i,itemHeight:a}}function _W(o,n,t,e){let r=o.text;return r&&typeof r!="string"&&(r=r.reduce((i,a)=>i.length>a.length?i:a)),n+t.size/2+e.measureText(r).width}function yW(o,n,t){let e=o;return typeof n.text!="string"&&(e=T5(n,t)),e}function T5(o,n){let t=o.text?o.text.length:0;return n*t}function bW(o,n){return!!((o==="mousemove"||o==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(o==="click"||o==="mouseup"))}var E5={id:"legend",_element:Uh,start(o,n,t){let e=o.legend=new Uh({ctx:o.ctx,options:t,chart:o});Io.configure(o,e,t),Io.addBox(o,e)},stop(o){Io.removeBox(o,o.legend),delete o.legend},beforeUpdate(o,n,t){let e=o.legend;Io.configure(o,e,t),e.options=t},afterUpdate(o){let n=o.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(o,n){n.replay||o.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(o,n,t){let e=n.datasetIndex,r=t.chart;r.isDatasetVisible(e)?(r.hide(e),n.hidden=!0):(r.show(e),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:o=>o.chart.options.color,boxWidth:40,padding:10,generateLabels(o){let n=o.data.datasets,{labels:{usePointStyle:t,pointStyle:e,textAlign:r,color:i,useBorderRadius:a,borderRadius:s}}=o.legend.options;return o._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(t?0:void 0),u=ii(c.borderWidth);return{text:n[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:e||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:a&&(s||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:o=>o.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:o=>!o.startsWith("on"),labels:{_scriptable:o=>!["generateLabels","filter","sort"].includes(o)}}},Wh=class extends qa{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t){let e=this.options;if(this.left=0,this.top=0,!e.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=t;let r=er(e.text)?e.text.length:1;this._padding=ii(e.padding);let i=r*Ir(e.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:t,left:e,bottom:r,right:i,options:a}=this,s=a.align,l=0,c,u,p;return this.isHorizontal()?(u=ri(s,e,i),p=t+n,c=i-e):(a.position==="left"?(u=e+n,p=ri(s,r,t),l=xr*-.5):(u=i-n,p=ri(s,t,r),l=xr*.5),c=r-t),{titleX:u,titleY:p,maxWidth:c,rotation:l}}draw(){let n=this.ctx,t=this.options;if(!t.display)return;let e=Ir(t.font),i=e.lineHeight/2+this._padding.top,{titleX:a,titleY:s,maxWidth:l,rotation:c}=this._drawArgs(i);Ws(n,t.text,0,0,e,{color:t.color,maxWidth:l,rotation:c,textAlign:Ph(t.align),textBaseline:"middle",translation:[a,s]})}};function CW(o,n){let t=new Wh({ctx:o.ctx,options:n,chart:o});Io.configure(o,t,n),Io.addBox(o,t),o.titleBlock=t}var k5={id:"title",_element:Wh,start(o,n,t){CW(o,t)},stop(o){let n=o.titleBlock;Io.removeBox(o,n),delete o.titleBlock},beforeUpdate(o,n,t){let e=o.titleBlock;Io.configure(o,e,t),e.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};var cp={average(o){if(!o.length)return!1;let n,t,e=new Set,r=0,i=0;for(n=0,t=o.length;n<t;++n){let s=o[n].element;if(s&&s.hasValue()){let l=s.tooltipPosition();e.add(l.x),r+=l.y,++i}}return i===0||e.size===0?!1:{x:[...e].reduce((s,l)=>s+l)/e.size,y:r/i}},nearest(o,n){if(!o.length)return!1;let t=n.x,e=n.y,r=Number.POSITIVE_INFINITY,i,a,s;for(i=0,a=o.length;i<a;++i){let l=o[i].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=yh(n,c);u<r&&(r=u,s=l)}}if(s){let l=s.tooltipPosition();t=l.x,e=l.y}return{x:t,y:e}}};function ha(o,n){return n&&(er(n)?Array.prototype.push.apply(o,n):o.push(n)),o}function Ka(o){return(typeof o=="string"||o instanceof String)&&o.indexOf(`
`)>-1?o.split(`
`):o}function xW(o,n){let{element:t,datasetIndex:e,index:r}=n,i=o.getDatasetMeta(e).controller,{label:a,value:s}=i.getLabelAndValue(r);return{chart:o,label:a,parsed:i.getParsed(r),raw:o.data.datasets[e].data[r],formattedValue:s,dataset:i.getDataset(),dataIndex:r,datasetIndex:e,element:t}}function KM(o,n){let t=o.chart.ctx,{body:e,footer:r,title:i}=o,{boxWidth:a,boxHeight:s}=n,l=Ir(n.bodyFont),c=Ir(n.titleFont),u=Ir(n.footerFont),p=i.length,g=r.length,h=e.length,y=ii(n.padding),_=y.height,x=0,P=e.reduce((b,k)=>b+k.before.length+k.lines.length+k.after.length,0);if(P+=o.beforeBody.length+o.afterBody.length,p&&(_+=p*c.lineHeight+(p-1)*n.titleSpacing+n.titleMarginBottom),P){let b=n.displayColors?Math.max(s,l.lineHeight):l.lineHeight;_+=h*b+(P-h)*l.lineHeight+(P-1)*n.bodySpacing}g&&(_+=n.footerMarginTop+g*u.lineHeight+(g-1)*n.footerSpacing);let w=0,T=function(b){x=Math.max(x,t.measureText(b).width+w)};return t.save(),t.font=c.string,Bn(o.title,T),t.font=l.string,Bn(o.beforeBody.concat(o.afterBody),T),w=n.displayColors?a+2+n.boxPadding:0,Bn(e,b=>{Bn(b.before,T),Bn(b.lines,T),Bn(b.after,T)}),w=0,t.font=u.string,Bn(o.footer,T),t.restore(),x+=y.width,{width:x,height:_}}function OW(o,n){let{y:t,height:e}=n;return t<e/2?"top":t>o.height-e/2?"bottom":"center"}function PW(o,n,t,e){let{x:r,width:i}=e,a=t.caretSize+t.caretPadding;if(o==="left"&&r+i+a>n.width||o==="right"&&r-i-a<0)return!0}function MW(o,n,t,e){let{x:r,width:i}=t,{width:a,chartArea:{left:s,right:l}}=o,c="center";return e==="center"?c=r<=(s+l)/2?"left":"right":r<=i/2?c="left":r>=a-i/2&&(c="right"),PW(c,o,n,t)&&(c="center"),c}function qM(o,n,t){let e=t.yAlign||n.yAlign||OW(o,t);return{xAlign:t.xAlign||n.xAlign||MW(o,n,t,e),yAlign:e}}function wW(o,n){let{x:t,width:e}=o;return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function SW(o,n,t){let{y:e,height:r}=o;return n==="top"?e+=t:n==="bottom"?e-=r+t:e-=r/2,e}function $M(o,n,t,e){let{caretSize:r,caretPadding:i,cornerRadius:a}=o,{xAlign:s,yAlign:l}=t,c=r+i,{topLeft:u,topRight:p,bottomLeft:g,bottomRight:h}=Ul(a),y=wW(n,s),_=SW(n,l,c);return l==="center"?s==="left"?y+=c:s==="right"&&(y-=c):s==="left"?y-=Math.max(u,g)+r:s==="right"&&(y+=Math.max(p,h)+r),{x:fo(y,0,e.width-n.width),y:fo(_,0,e.height-n.height)}}function Nh(o,n,t){let e=ii(t.padding);return n==="center"?o.x+o.width/2:n==="right"?o.x+o.width-e.right:o.x+e.left}function YM(o){return ha([],Ka(o))}function TW(o,n,t){return Wa(o,{tooltip:n,tooltipItems:t,type:"tooltip"})}function XM(o,n){let t=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return t?o.override(t):o}var A5={beforeTitle:ga,title(o){if(o.length>0){let n=o[0],t=n.chart.data.labels,e=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(e>0&&n.dataIndex<e)return t[n.dataIndex]}return""},afterTitle:ga,beforeBody:ga,beforeLabel:ga,label(o){if(this&&this.options&&this.options.mode==="dataset")return o.label+": "+o.formattedValue||o.formattedValue;let n=o.dataset.label||"";n&&(n+=": ");let t=o.formattedValue;return Hn(t)||(n+=t),n},labelColor(o){let t=o.chart.getDatasetMeta(o.datasetIndex).controller.getStyle(o.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(o){let t=o.chart.getDatasetMeta(o.datasetIndex).controller.getStyle(o.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ga,afterBody:ga,beforeFooter:ga,footer:ga,afterFooter:ga};function Ki(o,n,t,e){let r=o[n].call(t,e);return typeof r>"u"?A5[n].call(t,e):r}var QM=(()=>{class o extends qa{static positioners=cp;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&e.options.animation&&r.animations,a=new zh(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=TW(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){let{callbacks:r}=e,i=Ki(r,"beforeTitle",this,t),a=Ki(r,"title",this,t),s=Ki(r,"afterTitle",this,t),l=[];return l=ha(l,Ka(i)),l=ha(l,Ka(a)),l=ha(l,Ka(s)),l}getBeforeBody(t,e){return YM(Ki(e.callbacks,"beforeBody",this,t))}getBody(t,e){let{callbacks:r}=e,i=[];return Bn(t,a=>{let s={before:[],lines:[],after:[]},l=XM(r,a);ha(s.before,Ka(Ki(l,"beforeLabel",this,a))),ha(s.lines,Ki(l,"label",this,a)),ha(s.after,Ka(Ki(l,"afterLabel",this,a))),i.push(s)}),i}getAfterBody(t,e){return YM(Ki(e.callbacks,"afterBody",this,t))}getFooter(t,e){let{callbacks:r}=e,i=Ki(r,"beforeFooter",this,t),a=Ki(r,"footer",this,t),s=Ki(r,"afterFooter",this,t),l=[];return l=ha(l,Ka(i)),l=ha(l,Ka(a)),l=ha(l,Ka(s)),l}_createItems(t){let e=this._active,r=this.chart.data,i=[],a=[],s=[],l=[],c,u;for(c=0,u=e.length;c<u;++c)l.push(xW(this.chart,e[c]));return t.filter&&(l=l.filter((p,g,h)=>t.filter(p,g,h,r))),t.itemSort&&(l=l.sort((p,g)=>t.itemSort(p,g,r))),Bn(l,p=>{let g=XM(t.callbacks,p);i.push(Ki(g,"labelColor",this,p)),a.push(Ki(g,"labelPointStyle",this,p)),s.push(Ki(g,"labelTextColor",this,p))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){let r=this.options.setContext(this.getContext()),i=this._active,a,s=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{let l=cp[r.position].call(this,i,this._eventPosition);s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r);let c=this._size=KM(this,r),u=Object.assign({},l,c),p=qM(this.chart,r,u),g=$M(r,u,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:g.x,y:g.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,r,i){let a=this.getCaretPosition(t,r,i);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,r){let{xAlign:i,yAlign:a}=this,{caretSize:s,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:p,bottomRight:g}=Ul(l),{x:h,y}=t,{width:_,height:x}=e,P,w,T,b,k,E;return a==="center"?(k=y+x/2,i==="left"?(P=h,w=P-s,b=k+s,E=k-s):(P=h+_,w=P+s,b=k-s,E=k+s),T=P):(i==="left"?w=h+Math.max(c,p)+s:i==="right"?w=h+_-Math.max(u,g)-s:w=this.caretX,a==="top"?(b=y,k=b-s,P=w-s,T=w+s):(b=y+x,k=b+s,P=w+s,T=w-s),E=b),{x1:P,x2:w,x3:T,y1:b,y2:k,y3:E}}drawTitle(t,e,r){let i=this.title,a=i.length,s,l,c;if(a){let u=Wl(r.rtl,this.x,this.width);for(t.x=Nh(this,r.titleAlign,r),e.textAlign=u.textAlign(r.titleAlign),e.textBaseline="middle",s=Ir(r.titleFont),l=r.titleSpacing,e.fillStyle=r.titleColor,e.font=s.string,c=0;c<a;++c)e.fillText(i[c],u.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+l,c+1===a&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,e,r,i,a){let s=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=a,p=Ir(a.bodyFont),g=Nh(this,"left",a),h=i.x(g),y=c<p.lineHeight?(p.lineHeight-c)/2:0,_=e.y+y;if(a.usePointStyle){let x={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},P=i.leftForLtr(h,u)+u/2,w=_+c/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Sh(t,x,P,w),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Sh(t,x,P,w)}else{t.lineWidth=xn(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;let x=i.leftForLtr(h,u),P=i.leftForLtr(i.xPlus(h,1),u-2),w=Ul(s.borderRadius);Object.values(w).some(T=>T!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,ep(t,{x,y:_,w:u,h:c,radius:w}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),ep(t,{x:P,y:_+1,w:u-2,h:c-2,radius:w}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(x,_,u,c),t.strokeRect(x,_,u,c),t.fillStyle=s.backgroundColor,t.fillRect(P,_+1,u-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,e,r){let{body:i}=this,{bodySpacing:a,bodyAlign:s,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:p}=r,g=Ir(r.bodyFont),h=g.lineHeight,y=0,_=Wl(r.rtl,this.x,this.width),x=function(z){e.fillText(z,_.x(t.x+y),t.y+h/2),t.y+=h+a},P=_.textAlign(s),w,T,b,k,E,L,R;for(e.textAlign=s,e.textBaseline="middle",e.font=g.string,t.x=Nh(this,P,r),e.fillStyle=r.bodyColor,Bn(this.beforeBody,x),y=l&&P!=="right"?s==="center"?u/2+p:u+2+p:0,k=0,L=i.length;k<L;++k){for(w=i[k],T=this.labelTextColors[k],e.fillStyle=T,Bn(w.before,x),b=w.lines,l&&b.length&&(this._drawColorBox(e,t,k,_,r),h=Math.max(g.lineHeight,c)),E=0,R=b.length;E<R;++E)x(b[E]),h=g.lineHeight;Bn(w.after,x)}y=0,h=g.lineHeight,Bn(this.afterBody,x),t.y-=a}drawFooter(t,e,r){let i=this.footer,a=i.length,s,l;if(a){let c=Wl(r.rtl,this.x,this.width);for(t.x=Nh(this,r.footerAlign,r),t.y+=r.footerMarginTop,e.textAlign=c.textAlign(r.footerAlign),e.textBaseline="middle",s=Ir(r.footerFont),e.fillStyle=r.footerColor,e.font=s.string,l=0;l<a;++l)e.fillText(i[l],c.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+r.footerSpacing}}drawBackground(t,e,r,i){let{xAlign:a,yAlign:s}=this,{x:l,y:c}=t,{width:u,height:p}=r,{topLeft:g,topRight:h,bottomLeft:y,bottomRight:_}=Ul(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(l+g,c),s==="top"&&this.drawCaret(t,e,r,i),e.lineTo(l+u-h,c),e.quadraticCurveTo(l+u,c,l+u,c+h),s==="center"&&a==="right"&&this.drawCaret(t,e,r,i),e.lineTo(l+u,c+p-_),e.quadraticCurveTo(l+u,c+p,l+u-_,c+p),s==="bottom"&&this.drawCaret(t,e,r,i),e.lineTo(l+y,c+p),e.quadraticCurveTo(l,c+p,l,c+p-y),s==="center"&&a==="left"&&this.drawCaret(t,e,r,i),e.lineTo(l,c+g),e.quadraticCurveTo(l,c,l+g,c),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this.chart,r=this.$animations,i=r&&r.x,a=r&&r.y;if(i||a){let s=cp[t.position].call(this,this._active,this._eventPosition);if(!s)return;let l=this._size=KM(this,t),c=Object.assign({},s,this._size),u=qM(e,t,c),p=$M(t,c,u,e);(i._to!==p.x||a._to!==p.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){let e=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(e);let i={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let s=ii(e.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(a,t,i,e),Fv(t,e.textDirection),a.y+=s.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),Vv(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let r=this._active,i=t.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),a=!Yu(r,i),s=this._positionChanged(i,e);(a||s)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,r=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let i=this.options,a=this._active||[],s=this._getActiveElements(t,a,e,r),l=this._positionChanged(s,t),c=e||!Yu(s,a)||l;return c&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),c}_getActiveElements(t,e,r,i){let a=this.options;if(t.type==="mouseout")return[];if(!i)return e.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let s=this.chart.getElementsAtEventForMode(t,a.mode,a,r);return a.reverse&&s.reverse(),s}_positionChanged(t,e){let{caretX:r,caretY:i,options:a}=this,s=cp[a.position].call(this,t,e);return s!==!1&&(r!==s.x||i!==s.y)}}return o})(),I5={id:"tooltip",_element:QM,positioners:cp,afterInit(o,n,t){t&&(o.tooltip=new QM({chart:o,options:t}))},beforeUpdate(o,n,t){o.tooltip&&o.tooltip.initialize(t)},reset(o,n,t){o.tooltip&&o.tooltip.initialize(t)},afterDraw(o){let n=o.tooltip;if(n&&n._willRender()){let t={tooltip:n};if(o.notifyPlugins("beforeTooltipDraw",Jo(Tr({},t),{cancelable:!0}))===!1)return;n.draw(o.ctx),o.notifyPlugins("afterTooltipDraw",t)}},afterEvent(o,n){if(o.tooltip){let t=n.replay;o.tooltip.handleEvent(n.event,t,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(o,n)=>n.bodyFont.size,boxWidth:(o,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:A5},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:o=>o!=="filter"&&o!=="itemSort"&&o!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};var EW=(o,n,t,e)=>(typeof n=="string"?(t=o.push(n)-1,e.unshift({index:t,label:n})):isNaN(n)&&(t=null),t);function kW(o,n,t,e){let r=o.indexOf(n);if(r===-1)return EW(o,n,t,e);let i=o.lastIndexOf(n);return r!==i?t:r}var AW=(o,n)=>o===null?null:fo(Math.round(o),0,n);function JM(o){let n=this.getLabels();return o>=0&&o<n.length?n[o]:o}var D5=(()=>{class o extends ql{static id="category";static defaults={ticks:{callback:JM}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let e=this._addedLabels;if(e.length){let r=this.getLabels();for(let{index:i,label:a}of e)r[i]===a&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Hn(t))return null;let r=this.getLabels();return e=isFinite(e)&&r[e]===t?e:kW(r,t,hn(e,t),this._addedLabels),AW(e,r.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),e||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){let t=this.min,e=this.max,r=this.options.offset,i=[],a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let s=t;s<=e;s++)i.push({value:s});return i}getLabelForValue(t){return JM.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return o})();function IW(o,n){let t=[],{bounds:r,step:i,min:a,max:s,precision:l,count:c,maxTicks:u,maxDigits:p,includeBounds:g}=o,h=i||1,y=u-1,{min:_,max:x}=n,P=!Hn(a),w=!Hn(s),T=!Hn(c),b=(x-_)/(p+1),k=bv((x-_)/y/h)*h,E,L,R,z;if(k<1e-14&&!P&&!w)return[{value:_},{value:x}];z=Math.ceil(x/k)-Math.floor(_/k),z>y&&(k=bv(z*k/y/h)*h),Hn(l)||(E=Math.pow(10,l),k=Math.ceil(k*E)/E),r==="ticks"?(L=Math.floor(_/k)*k,R=Math.ceil(x/k)*k):(L=_,R=x),P&&w&&i&&zP((s-a)/i,k/1e3)?(z=Math.round(Math.min((s-a)/k,u)),k=(s-a)/z,L=a,R=s):T?(L=P?a:L,R=w?s:R,z=c-1,k=(R-L)/z):(z=(R-L)/k,od(z,Math.round(z),k/1e3)?z=Math.round(z):z=Math.ceil(z));let N=Math.max(xv(k),xv(L));E=Math.pow(10,Hn(l)?N:l),L=Math.round(L*E)/E,R=Math.round(R*E)/E;let j=0;for(P&&(g&&L!==a?(t.push({value:a}),L<a&&j++,od(Math.round((L+j*k)*E)/E,a,ZM(a,b,o))&&j++):L<a&&j++);j<z;++j){let D=Math.round((L+j*k)*E)/E;if(w&&D>s)break;t.push({value:D})}return w&&g&&R!==s?t.length&&od(t[t.length-1].value,s,ZM(s,b,o))?t[t.length-1].value=s:t.push({value:s}):(!w||R===s)&&t.push({value:R}),t}function ZM(o,n,{horizontal:t,minRotation:e}){let r=Ua(e),i=(t?Math.sin(r):Math.cos(r))||.001,a=.75*n*(""+o).length;return Math.min(n/i,a)}var ld=class extends ql{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,t){return Hn(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:r,max:i}=this,a=l=>r=t?r:l,s=l=>i=e?i:l;if(n){let l=jl(r),c=jl(i);l<0&&c<0?s(0):l>0&&c>0&&a(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);s(i+l),n||a(r-l)}this.min=r,this.max=i}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:t,stepSize:e}=n,r;return e?(r=Math.ceil(this.max/e)-Math.floor(this.min/e)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${e} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,t=n.ticks,e=this.getTickLimit();e=Math.max(2,e);let r={maxTicks:e,bounds:n.bounds,min:n.min,max:n.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,a=IW(r,i);return n.bounds==="ticks"&&Cv(a,this,"value"),n.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){let n=this.ticks,t=this.min,e=this.max;if(super.configure(),this.options.offset&&n.length){let r=(e-t)/Math.max(n.length-1,1)/2;t-=r,e+=r}this._startValue=t,this._endValue=e,this._valueRange=e-t}getLabelForValue(n){return Mh(n,this.chart.options.locale,this.options.ticks.format)}},Gh=class extends ld{static id="linear";static defaults={ticks:{callback:Ju.formatters.numeric}};determineDataLimits(){let{min:n,max:t}=this.getMinMax(!0);this.min=dr(n)?n:0,this.max=dr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),t=n?this.width:this.height,e=Ua(this.options.ticks.minRotation),r=(n?Math.sin(e):Math.cos(e))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},up=o=>Math.floor(Ba(o)),Kl=(o,n)=>Math.pow(10,up(o)+n);function t5(o){return o/Math.pow(10,up(o))===1}function e5(o,n,t){let e=Math.pow(10,t),r=Math.floor(o/e);return Math.ceil(n/e)-r}function DW(o,n){let t=n-o,e=up(t);for(;e5(o,n,e)>10;)e++;for(;e5(o,n,e)<10;)e--;return Math.min(e,up(o))}function LW(o,{min:n,max:t}){n=Gi(o.min,n);let e=[],r=up(n),i=DW(n,t),a=i<0?Math.pow(10,Math.abs(i)):1,s=Math.pow(10,i),l=r>i?Math.pow(10,r):0,c=Math.round((n-l)*a)/a,u=Math.floor((n-l)/s/10)*s*10,p=Math.floor((c-u)/Math.pow(10,i)),g=Gi(o.min,Math.round((l+u+p*Math.pow(10,i))*a)/a);for(;g<t;)e.push({value:g,major:t5(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(i++,p=2,a=i>=0?1:a),g=Math.round((l+u+p*Math.pow(10,i))*a)/a;let h=Gi(o.max,g);return e.push({value:h,major:t5(h),significand:p}),e}var n5=class extends ql{static id="logarithmic";static defaults={ticks:{callback:Ju.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,t){let e=ld.prototype.parse.apply(this,[n,t]);if(e===0){this._zero=!0;return}return dr(e)&&e>0?e:null}determineDataLimits(){let{min:n,max:t}=this.getMinMax(!0);this.min=dr(n)?Math.max(0,n):null,this.max=dr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!dr(this._userMin)&&(this.min=n===Kl(this.min,0)?Kl(this.min,-1):Kl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:t}=this.getUserBounds(),e=this.min,r=this.max,i=s=>e=n?e:s,a=s=>r=t?r:s;e===r&&(e<=0?(i(1),a(10)):(i(Kl(e,-1)),a(Kl(r,1)))),e<=0&&i(Kl(r,-1)),r<=0&&a(Kl(e,1)),this.min=e,this.max=r}buildTicks(){let n=this.options,t={min:this._userMin,max:this._userMax},e=LW(t,this);return n.bounds==="ticks"&&Cv(e,this,"value"),n.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(n){return n===void 0?"0":Mh(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=Ba(n),this._valueRange=Ba(this.max)-Ba(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(Ba(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let t=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+t*this._valueRange)}};function l_(o){let n=o.ticks;if(n.display&&o.display){let t=ii(n.backdropPadding);return hn(n.font&&n.font.size,nr.font.size)+t.height}return 0}function NW(o,n,t){return t=er(t)?t:[t],{w:JP(o,n.string,t),h:t.length*n.lineHeight}}function r5(o,n,t,e,r){return o===e||o===r?{start:n-t/2,end:n+t/2}:o<e||o>r?{start:n-t,end:n}:{start:n,end:n+t}}function RW(o){let n={l:o.left+o._padding.left,r:o.right-o._padding.right,t:o.top+o._padding.top,b:o.bottom-o._padding.bottom},t=Object.assign({},n),e=[],r=[],i=o._pointLabels.length,a=o.options.pointLabels,s=a.centerPointLabels?xr/i:0;for(let l=0;l<i;l++){let c=a.setContext(o.getPointLabelContext(l));r[l]=c.padding;let u=o.getPointPosition(l,o.drawingArea+r[l],s),p=Ir(c.font),g=NW(o.ctx,p,o._pointLabels[l]);e[l]=g;let h=Bi(o.getIndexAngle(l)+s),y=Math.round(xh(h)),_=r5(y,u.x,g.w,0,180),x=r5(y,u.y,g.h,90,270);FW(t,n,h,_,x)}o.setCenterPoint(n.l-t.l,t.r-n.r,n.t-t.t,t.b-n.b),o._pointLabelItems=jW(o,e,r)}function FW(o,n,t,e,r){let i=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t)),s=0,l=0;e.start<n.l?(s=(n.l-e.start)/i,o.l=Math.min(o.l,n.l-s)):e.end>n.r&&(s=(e.end-n.r)/i,o.r=Math.max(o.r,n.r+s)),r.start<n.t?(l=(n.t-r.start)/a,o.t=Math.min(o.t,n.t-l)):r.end>n.b&&(l=(r.end-n.b)/a,o.b=Math.max(o.b,n.b+l))}function VW(o,n,t){let e=o.drawingArea,{extra:r,additionalAngle:i,padding:a,size:s}=t,l=o.getPointPosition(n,e+r+a,i),c=Math.round(xh(Bi(l.angle+Ui))),u=UW(l.y,s.h,c),p=HW(c),g=BW(l.x,s.w,p);return{visible:!0,x:l.x,y:u,textAlign:p,left:g,top:u,right:g+s.w,bottom:u+s.h}}function zW(o,n){if(!n)return!0;let{left:t,top:e,right:r,bottom:i}=o;return!(fa({x:t,y:e},n)||fa({x:t,y:i},n)||fa({x:r,y:e},n)||fa({x:r,y:i},n))}function jW(o,n,t){let e=[],r=o._pointLabels.length,i=o.options,{centerPointLabels:a,display:s}=i.pointLabels,l={extra:l_(i)/2,additionalAngle:a?xr/r:0},c;for(let u=0;u<r;u++){l.padding=t[u],l.size=n[u];let p=VW(o,u,l);e.push(p),s==="auto"&&(p.visible=zW(p,c),p.visible&&(c=p))}return e}function HW(o){return o===0||o===180?"center":o<180?"left":"right"}function BW(o,n,t){return t==="right"?o-=n:t==="center"&&(o-=n/2),o}function UW(o,n,t){return t===90||t===270?o-=n/2:(t>270||t<90)&&(o-=n),o}function WW(o,n,t){let{left:e,top:r,right:i,bottom:a}=t,{backdropColor:s}=n;if(!Hn(s)){let l=Ul(n.borderRadius),c=ii(n.backdropPadding);o.fillStyle=s;let u=e-c.left,p=r-c.top,g=i-e+c.width,h=a-r+c.height;Object.values(l).some(y=>y!==0)?(o.beginPath(),ep(o,{x:u,y:p,w:g,h,radius:l}),o.fill()):o.fillRect(u,p,g,h)}}function GW(o,n){let{ctx:t,options:{pointLabels:e}}=o;for(let r=n-1;r>=0;r--){let i=o._pointLabelItems[r];if(!i.visible)continue;let a=e.setContext(o.getPointLabelContext(r));WW(t,a,i);let s=Ir(a.font),{x:l,y:c,textAlign:u}=i;Ws(t,o._pointLabels[r],l,c+s.lineHeight/2,s,{color:a.color,textAlign:u,textBaseline:"middle"})}}function L5(o,n,t,e){let{ctx:r}=o;if(t)r.arc(o.xCenter,o.yCenter,n,0,Wi);else{let i=o.getPointPosition(0,n);r.moveTo(i.x,i.y);for(let a=1;a<e;a++)i=o.getPointPosition(a,n),r.lineTo(i.x,i.y)}}function KW(o,n,t,e,r){let i=o.ctx,a=n.circular,{color:s,lineWidth:l}=n;!a&&!e||!s||!l||t<0||(i.save(),i.strokeStyle=s,i.lineWidth=l,i.setLineDash(r.dash||[]),i.lineDashOffset=r.dashOffset,i.beginPath(),L5(o,t,a,e),i.closePath(),i.stroke(),i.restore())}function qW(o,n,t){return Wa(o,{label:t,index:n,type:"pointLabel"})}var i5=class extends ld{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ju.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=ii(l_(this.options)/2),t=this.width=this.maxWidth-n.width,e=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+t/2+n.left),this.yCenter=Math.floor(this.top+e/2+n.top),this.drawingArea=Math.floor(Math.min(t,e)/2)}determineDataLimits(){let{min:n,max:t}=this.getMinMax(!1);this.min=dr(n)&&!isNaN(n)?n:0,this.max=dr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/l_(this.options))}generateTickLabels(n){ld.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((t,e)=>{let r=Gn(this.options.pointLabels.callback,[t,e],this);return r||r===0?r:""}).filter((t,e)=>this.chart.getDataVisibility(e))}fit(){let n=this.options;n.display&&n.pointLabels.display?RW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,t,e,r){this.xCenter+=Math.floor((n-t)/2),this.yCenter+=Math.floor((e-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,t,e,r))}getIndexAngle(n){let t=Wi/(this._pointLabels.length||1),e=this.options.startAngle||0;return Bi(n*t+Ua(e))}getDistanceFromCenterForValue(n){if(Hn(n))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*t:(n-this.min)*t}getValueForDistanceFromCenter(n){if(Hn(n))return NaN;let t=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(n){let t=this._pointLabels||[];if(n>=0&&n<t.length){let e=t[n];return qW(this.getContext(),n,e)}}getPointPosition(n,t,e=0){let r=this.getIndexAngle(n)-Ui+e;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:t,top:e,right:r,bottom:i}=this._pointLabelItems[n];return{left:t,top:e,right:r,bottom:i}}drawBackground(){let{backgroundColor:n,grid:{circular:t}}=this.options;if(n){let e=this.ctx;e.save(),e.beginPath(),L5(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),e.closePath(),e.fillStyle=n,e.fill(),e.restore()}}drawGrid(){let n=this.ctx,t=this.options,{angleLines:e,grid:r,border:i}=t,a=this._pointLabels.length,s,l,c;if(t.pointLabels.display&&GW(this,a),r.display&&this.ticks.forEach((u,p)=>{if(p!==0||p===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let g=this.getContext(p),h=r.setContext(g),y=i.setContext(g);KW(this,h,l,a,y)}}),e.display){for(n.save(),s=a-1;s>=0;s--){let u=e.setContext(this.getPointLabelContext(s)),{color:p,lineWidth:g}=u;!g||!p||(n.lineWidth=g,n.strokeStyle=p,n.setLineDash(u.borderDash),n.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(s,l),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(c.x,c.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,t=this.options,e=t.ticks;if(!e.display)return;let r=this.getIndexAngle(0),i,a;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(r),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;let c=e.setContext(this.getContext(l)),u=Ir(c.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){n.font=u.string,a=n.measureText(s.label).width,n.fillStyle=c.backdropColor;let p=ii(c.backdropPadding);n.fillRect(-a/2-p.left,-i-u.size/2-p.top,a+p.width,u.size+p.height)}Ws(n,s.label,0,-i,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),n.restore()}drawTitle(){}},qh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qi=Object.keys(qh);function o5(o,n){return o-n}function a5(o,n){if(Hn(n))return null;let t=o._adapter,{parser:e,round:r,isoWeekday:i}=o._parseOpts,a=n;return typeof e=="function"&&(a=e(a)),dr(a)||(a=typeof e=="string"?t.parse(a,e):t.parse(a)),a===null?null:(r&&(a=r==="week"&&(ad(i)||i===!0)?t.startOf(a,"isoWeek",i):t.startOf(a,r)),+a)}function s5(o,n,t,e){let r=qi.length;for(let i=qi.indexOf(o);i<r-1;++i){let a=qh[qi[i]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-n)/(s*a.size))<=e)return qi[i]}return qi[r-1]}function $W(o,n,t,e,r){for(let i=qi.length-1;i>=qi.indexOf(t);i--){let a=qi[i];if(qh[a].common&&o._adapter.diff(r,e,a)>=n-1)return a}return qi[t?qi.indexOf(t):0]}function YW(o){for(let n=qi.indexOf(o)+1,t=qi.length;n<t;++n)if(qh[qi[n]].common)return qi[n]}function l5(o,n,t){if(!t)o[n]=!0;else if(t.length){let{lo:e,hi:r}=Oh(t,n),i=t[e]>=n?t[e]:t[r];o[i]=!0}}function XW(o,n,t,e){let r=o._adapter,i=+r.startOf(n[0].value,e),a=n[n.length-1].value,s,l;for(s=i;s<=a;s=+r.add(s,1,e))l=t[s],l>=0&&(n[l].major=!0);return n}function c5(o,n,t){let e=[],r={},i=n.length,a,s;for(a=0;a<i;++a)s=n[a],r[s]=a,e.push({value:s,major:!1});return i===0||!t?e:XW(o,e,r,t)}var d5=(()=>{class o extends ql{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){let r=t.time||(t.time={}),i=this._adapter=new VB._date(t.adapters.date);i.init(e),id(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:a5(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,r=t.time.unit||"day",{min:i,max:a,minDefined:s,maxDefined:l}=this.getUserBounds();function c(u){!s&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!l&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!s||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=dr(i)&&!isNaN(i)?i:+e.startOf(Date.now(),r),a=dr(a)&&!isNaN(a)?a:+e.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],r=t[t.length-1]),{min:e,max:r}}buildTicks(){let t=this.options,e=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);let a=this.min,s=this.max,l=UP(i,a,s);return this._unit=e.unit||(r.autoSkip?s5(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):$W(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:YW(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),c5(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,r=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?e=1-i:e=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?r=a:r=(a-this.getDecimalForValue(t[t.length-2]))/2);let s=t.length<3?.5:.25;e=fo(e,0,s),r=fo(r,0,s),this._offsets={start:e,end:r,factor:1/(e+1+r)}}_generate(){let t=this._adapter,e=this.min,r=this.max,i=this.options,a=i.time,s=a.unit||s5(a.minUnit,e,r,this._getLabelCapacity(e)),l=hn(i.ticks.stepSize,1),c=s==="week"?a.isoWeekday:!1,u=ad(c)||c===!0,p={},g=e,h,y;if(u&&(g=+t.startOf(g,"isoWeek",c)),g=+t.startOf(g,u?"day":s),t.diff(r,e,s)>1e5*l)throw new Error(e+" and "+r+" are too far apart with stepSize of "+l+" "+s);let _=i.ticks.source==="data"&&this.getDataTimestamps();for(h=g,y=0;h<r;h=+t.add(h,l,s),y++)l5(p,h,_);return(h===r||i.bounds==="ticks"||y===1)&&l5(p,h,_),Object.keys(p).sort(o5).map(x=>+x)}getLabelForValue(t){let e=this._adapter,r=this.options.time;return r.tooltipFormat?e.format(t,r.tooltipFormat):e.format(t,r.displayFormats.datetime)}format(t,e){let i=this.options.time.displayFormats,a=this._unit,s=e||i[a];return this._adapter.format(t,s)}_tickFormatFunction(t,e,r,i){let a=this.options,s=a.ticks.callback;if(s)return Gn(s,[t,e,r],this);let l=a.time.displayFormats,c=this._unit,u=this._majorUnit,p=c&&l[c],g=u&&l[u],h=r[e],y=u&&g&&h&&h.major;return this._adapter.format(t,i||(y?g:p))}generateTickLabels(t){let e,r,i;for(e=0,r=t.length;e<r;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+r)*e.factor)}getValueForPixel(t){let e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,r=this.ctx.measureText(t).width,i=Ua(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(i),s=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*a+l*s,h:r*s+l*a}}_getLabelCapacity(t){let e=this.options.time,r=e.displayFormats,i=r[e.unit]||r.millisecond,a=this._tickFormatFunction(t,0,c5(this,[t],this._majorUnit),i),s=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],e,r;if(t.length)return t;let i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,r=i.length;e<r;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],e,r;if(t.length)return t;let i=this.getLabels();for(e=0,r=i.length;e<r;++e)t.push(a5(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return KP(t.sort(o5))}}return o})();function Rh(o,n,t){let e=0,r=o.length-1,i,a,s,l;t?(n>=o[e].pos&&n<=o[r].pos&&({lo:e,hi:r}=js(o,"pos",n)),{pos:i,time:s}=o[e],{pos:a,time:l}=o[r]):(n>=o[e].time&&n<=o[r].time&&({lo:e,hi:r}=js(o,"time",n)),{time:i,pos:s}=o[e],{time:a,pos:l}=o[r]);let c=a-i;return c?s+(l-s)*(n-i)/c:s}var u5=class extends d5{static id="timeseries";static defaults=d5.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(n);this._minPos=Rh(t,this.min),this._tableRange=Rh(t,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:t,max:e}=this,r=[],i=[],a,s,l,c,u;for(a=0,s=n.length;a<s;++a)c=n[a],c>=t&&c<=e&&r.push(c);if(r.length<2)return[{time:t,pos:0},{time:e,pos:1}];for(a=0,s=r.length;a<s;++a)u=r[a+1],l=r[a-1],c=r[a],Math.round((u+l)/2)!==c&&i.push({time:c,pos:a/(s-1)});return i}_generate(){let n=this.min,t=this.max,e=super.getDataTimestamps();return(!e.includes(n)||!e.length)&&e.splice(0,0,n),(!e.includes(t)||e.length===1)&&e.push(t),e.sort((r,i)=>r-i)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let t=this.getDataTimestamps(),e=this.getLabelTimestamps();return t.length&&e.length?n=this.normalize(t.concat(e)):n=t.length?t:e,n=this._cache.all=n,n}getDecimalForValue(n){return(Rh(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let t=this._offsets,e=this.getDecimalForPixel(n)/t.factor-t.end;return Rh(this._table,e*this._tableRange+this._minPos,!0)}};var QW=typeof global=="object"&&global&&global.Object===Object&&global,$h=QW;var JW=typeof self=="object"&&self&&self.Object===Object&&self,ZW=$h||JW||Function("return this")(),Do=ZW;var tG=Do.Symbol,dd=tG;var N5=Object.prototype,eG=N5.hasOwnProperty,nG=N5.toString,gp=dd?dd.toStringTag:void 0;function rG(o){var n=eG.call(o,gp),t=o[gp];try{o[gp]=void 0;var e=!0}catch{}var r=nG.call(o);return e&&(n?o[gp]=t:delete o[gp]),r}var R5=rG;var iG=Object.prototype,oG=iG.toString;function aG(o){return oG.call(o)}var F5=aG;var sG="[object Null]",lG="[object Undefined]",V5=dd?dd.toStringTag:void 0;function cG(o){return o==null?o===void 0?lG:sG:V5&&V5 in Object(o)?R5(o):F5(o)}var Ks=cG;function dG(o){return o!=null&&typeof o=="object"}var va=dG;var uG=Array.isArray,hp=uG;function pG(o){var n=typeof o;return o!=null&&(n=="object"||n=="function")}var $i=pG;function fG(o){return o}var Yh=fG;var gG="[object AsyncFunction]",hG="[object Function]",mG="[object GeneratorFunction]",vG="[object Proxy]";function _G(o){if(!$i(o))return!1;var n=Ks(o);return n==hG||n==mG||n==gG||n==vG}var ud=_G;var yG=Do["__core-js_shared__"],Xh=yG;var z5=function(){var o=/[^.]+$/.exec(Xh&&Xh.keys&&Xh.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function bG(o){return!!z5&&z5 in o}var j5=bG;var CG=Function.prototype,xG=CG.toString;function OG(o){if(o!=null){try{return xG.call(o)}catch{}try{return o+""}catch{}}return""}var H5=OG;var PG=/[\\^$.*+?()[\]{}|]/g,MG=/^\[object .+?Constructor\]$/,wG=Function.prototype,SG=Object.prototype,TG=wG.toString,EG=SG.hasOwnProperty,kG=RegExp("^"+TG.call(EG).replace(PG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AG(o){if(!$i(o)||j5(o))return!1;var n=ud(o)?kG:MG;return n.test(H5(o))}var B5=AG;function IG(o,n){return o?.[n]}var U5=IG;function DG(o,n){var t=U5(o,n);return B5(t)?t:void 0}var pd=DG;var W5=Object.create,LG=function(){function o(){}return function(n){if(!$i(n))return{};if(W5)return W5(n);o.prototype=n;var t=new o;return o.prototype=void 0,t}}(),G5=LG;function NG(o,n,t){switch(t.length){case 0:return o.call(n);case 1:return o.call(n,t[0]);case 2:return o.call(n,t[0],t[1]);case 3:return o.call(n,t[0],t[1],t[2])}return o.apply(n,t)}var K5=NG;function RG(o,n){var t=-1,e=o.length;for(n||(n=Array(e));++t<e;)n[t]=o[t];return n}var q5=RG;var FG=800,VG=16,zG=Date.now;function jG(o){var n=0,t=0;return function(){var e=zG(),r=VG-(e-t);if(t=e,r>0){if(++n>=FG)return arguments[0]}else n=0;return o.apply(void 0,arguments)}}var $5=jG;function HG(o){return function(){return o}}var Y5=HG;var BG=function(){try{var o=pd(Object,"defineProperty");return o({},"",{}),o}catch{}}(),fd=BG;var UG=fd?function(o,n){return fd(o,"toString",{configurable:!0,enumerable:!1,value:Y5(n),writable:!0})}:Yh,X5=UG;var WG=$5(X5),Q5=WG;var GG=9007199254740991,KG=/^(?:0|[1-9]\d*)$/;function qG(o,n){var t=typeof o;return n=n??GG,!!n&&(t=="number"||t!="symbol"&&KG.test(o))&&o>-1&&o%1==0&&o<n}var Qh=qG;function $G(o,n,t){n=="__proto__"&&fd?fd(o,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):o[n]=t}var gd=$G;function YG(o,n){return o===n||o!==o&&n!==n}var qs=YG;var XG=Object.prototype,QG=XG.hasOwnProperty;function JG(o,n,t){var e=o[n];(!(QG.call(o,n)&&qs(e,t))||t===void 0&&!(n in o))&&gd(o,n,t)}var J5=JG;function ZG(o,n,t,e){var r=!t;t||(t={});for(var i=-1,a=n.length;++i<a;){var s=n[i],l=e?e(t[s],o[s],s,t,o):void 0;l===void 0&&(l=o[s]),r?gd(t,s,l):J5(t,s,l)}return t}var Z5=ZG;var tw=Math.max;function tK(o,n,t){return n=tw(n===void 0?o.length-1:n,0),function(){for(var e=arguments,r=-1,i=tw(e.length-n,0),a=Array(i);++r<i;)a[r]=e[n+r];r=-1;for(var s=Array(n+1);++r<n;)s[r]=e[r];return s[n]=t(a),K5(o,this,s)}}var ew=tK;function eK(o,n){return Q5(ew(o,n,Yh),o+"")}var nw=eK;var nK=9007199254740991;function rK(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=nK}var Jh=rK;function iK(o){return o!=null&&Jh(o.length)&&!ud(o)}var hd=iK;function oK(o,n,t){if(!$i(t))return!1;var e=typeof n;return(e=="number"?hd(t)&&Qh(n,t.length):e=="string"&&n in t)?qs(t[n],o):!1}var rw=oK;function aK(o){return nw(function(n,t){var e=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=o.length>3&&typeof i=="function"?(r--,i):void 0,a&&rw(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),n=Object(n);++e<r;){var s=t[e];s&&o(n,s,e,i)}return n})}var iw=aK;var sK=Object.prototype;function lK(o){var n=o&&o.constructor,t=typeof n=="function"&&n.prototype||sK;return o===t}var Zh=lK;function cK(o,n){for(var t=-1,e=Array(o);++t<o;)e[t]=n(t);return e}var ow=cK;var dK="[object Arguments]";function uK(o){return va(o)&&Ks(o)==dK}var c_=uK;var aw=Object.prototype,pK=aw.hasOwnProperty,fK=aw.propertyIsEnumerable,gK=c_(function(){return arguments}())?c_:function(o){return va(o)&&pK.call(o,"callee")&&!fK.call(o,"callee")},mp=gK;function hK(){return!1}var sw=hK;var dw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,lw=dw&&typeof module=="object"&&module&&!module.nodeType&&module,mK=lw&&lw.exports===dw,cw=mK?Do.Buffer:void 0,vK=cw?cw.isBuffer:void 0,_K=vK||sw,tm=_K;var yK="[object Arguments]",bK="[object Array]",CK="[object Boolean]",xK="[object Date]",OK="[object Error]",PK="[object Function]",MK="[object Map]",wK="[object Number]",SK="[object Object]",TK="[object RegExp]",EK="[object Set]",kK="[object String]",AK="[object WeakMap]",IK="[object ArrayBuffer]",DK="[object DataView]",LK="[object Float32Array]",NK="[object Float64Array]",RK="[object Int8Array]",FK="[object Int16Array]",VK="[object Int32Array]",zK="[object Uint8Array]",jK="[object Uint8ClampedArray]",HK="[object Uint16Array]",BK="[object Uint32Array]",rr={};rr[LK]=rr[NK]=rr[RK]=rr[FK]=rr[VK]=rr[zK]=rr[jK]=rr[HK]=rr[BK]=!0;rr[yK]=rr[bK]=rr[IK]=rr[CK]=rr[DK]=rr[xK]=rr[OK]=rr[PK]=rr[MK]=rr[wK]=rr[SK]=rr[TK]=rr[EK]=rr[kK]=rr[AK]=!1;function UK(o){return va(o)&&Jh(o.length)&&!!rr[Ks(o)]}var uw=UK;function WK(o){return function(n){return o(n)}}var pw=WK;var fw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vp=fw&&typeof module=="object"&&module&&!module.nodeType&&module,GK=vp&&vp.exports===fw,d_=GK&&$h.process,KK=function(){try{var o=vp&&vp.require&&vp.require("util").types;return o||d_&&d_.binding&&d_.binding("util")}catch{}}(),u_=KK;var gw=u_&&u_.isTypedArray,qK=gw?pw(gw):uw,em=qK;var $K=Object.prototype,YK=$K.hasOwnProperty;function XK(o,n){var t=hp(o),e=!t&&mp(o),r=!t&&!e&&tm(o),i=!t&&!e&&!r&&em(o),a=t||e||r||i,s=a?ow(o.length,String):[],l=s.length;for(var c in o)(n||YK.call(o,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Qh(c,l)))&&s.push(c);return s}var hw=XK;function QK(o,n){return function(t){return o(n(t))}}var mw=QK;function JK(o){var n=[];if(o!=null)for(var t in Object(o))n.push(t);return n}var vw=JK;var ZK=Object.prototype,tq=ZK.hasOwnProperty;function eq(o){if(!$i(o))return vw(o);var n=Zh(o),t=[];for(var e in o)e=="constructor"&&(n||!tq.call(o,e))||t.push(e);return t}var _w=eq;function nq(o){return hd(o)?hw(o,!0):_w(o)}var nm=nq;var rq=pd(Object,"create"),$a=rq;function iq(){this.__data__=$a?$a(null):{},this.size=0}var yw=iq;function oq(o){var n=this.has(o)&&delete this.__data__[o];return this.size-=n?1:0,n}var bw=oq;var aq="__lodash_hash_undefined__",sq=Object.prototype,lq=sq.hasOwnProperty;function cq(o){var n=this.__data__;if($a){var t=n[o];return t===aq?void 0:t}return lq.call(n,o)?n[o]:void 0}var Cw=cq;var dq=Object.prototype,uq=dq.hasOwnProperty;function pq(o){var n=this.__data__;return $a?n[o]!==void 0:uq.call(n,o)}var xw=pq;var fq="__lodash_hash_undefined__";function gq(o,n){var t=this.__data__;return this.size+=this.has(o)?0:1,t[o]=$a&&n===void 0?fq:n,this}var Ow=gq;function md(o){var n=-1,t=o==null?0:o.length;for(this.clear();++n<t;){var e=o[n];this.set(e[0],e[1])}}md.prototype.clear=yw;md.prototype.delete=bw;md.prototype.get=Cw;md.prototype.has=xw;md.prototype.set=Ow;var p_=md;function hq(){this.__data__=[],this.size=0}var Pw=hq;function mq(o,n){for(var t=o.length;t--;)if(qs(o[t][0],n))return t;return-1}var $s=mq;var vq=Array.prototype,_q=vq.splice;function yq(o){var n=this.__data__,t=$s(n,o);if(t<0)return!1;var e=n.length-1;return t==e?n.pop():_q.call(n,t,1),--this.size,!0}var Mw=yq;function bq(o){var n=this.__data__,t=$s(n,o);return t<0?void 0:n[t][1]}var ww=bq;function Cq(o){return $s(this.__data__,o)>-1}var Sw=Cq;function xq(o,n){var t=this.__data__,e=$s(t,o);return e<0?(++this.size,t.push([o,n])):t[e][1]=n,this}var Tw=xq;function vd(o){var n=-1,t=o==null?0:o.length;for(this.clear();++n<t;){var e=o[n];this.set(e[0],e[1])}}vd.prototype.clear=Pw;vd.prototype.delete=Mw;vd.prototype.get=ww;vd.prototype.has=Sw;vd.prototype.set=Tw;var Ys=vd;var Oq=pd(Do,"Map"),rm=Oq;function Pq(){this.size=0,this.__data__={hash:new p_,map:new(rm||Ys),string:new p_}}var Ew=Pq;function Mq(o){var n=typeof o;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?o!=="__proto__":o===null}var kw=Mq;function wq(o,n){var t=o.__data__;return kw(n)?t[typeof n=="string"?"string":"hash"]:t.map}var Xs=wq;function Sq(o){var n=Xs(this,o).delete(o);return this.size-=n?1:0,n}var Aw=Sq;function Tq(o){return Xs(this,o).get(o)}var Iw=Tq;function Eq(o){return Xs(this,o).has(o)}var Dw=Eq;function kq(o,n){var t=Xs(this,o),e=t.size;return t.set(o,n),this.size+=t.size==e?0:1,this}var Lw=kq;function _d(o){var n=-1,t=o==null?0:o.length;for(this.clear();++n<t;){var e=o[n];this.set(e[0],e[1])}}_d.prototype.clear=Ew;_d.prototype.delete=Aw;_d.prototype.get=Iw;_d.prototype.has=Dw;_d.prototype.set=Lw;var Nw=_d;var Aq=mw(Object.getPrototypeOf,Object),im=Aq;var Iq="[object Object]",Dq=Function.prototype,Lq=Object.prototype,Rw=Dq.toString,Nq=Lq.hasOwnProperty,Rq=Rw.call(Object);function Fq(o){if(!va(o)||Ks(o)!=Iq)return!1;var n=im(o);if(n===null)return!0;var t=Nq.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&Rw.call(t)==Rq}var Fw=Fq;function Vq(){this.__data__=new Ys,this.size=0}var Vw=Vq;function zq(o){var n=this.__data__,t=n.delete(o);return this.size=n.size,t}var zw=zq;function jq(o){return this.__data__.get(o)}var jw=jq;function Hq(o){return this.__data__.has(o)}var Hw=Hq;var Bq=200;function Uq(o,n){var t=this.__data__;if(t instanceof Ys){var e=t.__data__;if(!rm||e.length<Bq-1)return e.push([o,n]),this.size=++t.size,this;t=this.__data__=new Nw(e)}return t.set(o,n),this.size=t.size,this}var Bw=Uq;function yd(o){var n=this.__data__=new Ys(o);this.size=n.size}yd.prototype.clear=Vw;yd.prototype.delete=zw;yd.prototype.get=jw;yd.prototype.has=Hw;yd.prototype.set=Bw;var Uw=yd;var qw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ww=qw&&typeof module=="object"&&module&&!module.nodeType&&module,Wq=Ww&&Ww.exports===qw,Gw=Wq?Do.Buffer:void 0,Kw=Gw?Gw.allocUnsafe:void 0;function Gq(o,n){if(n)return o.slice();var t=o.length,e=Kw?Kw(t):new o.constructor(t);return o.copy(e),e}var $w=Gq;var Kq=Do.Uint8Array,f_=Kq;function qq(o){var n=new o.constructor(o.byteLength);return new f_(n).set(new f_(o)),n}var Yw=qq;function $q(o,n){var t=n?Yw(o.buffer):o.buffer;return new o.constructor(t,o.byteOffset,o.length)}var Xw=$q;function Yq(o){return typeof o.constructor=="function"&&!Zh(o)?G5(im(o)):{}}var Qw=Yq;function Xq(o){return function(n,t,e){for(var r=-1,i=Object(n),a=e(n),s=a.length;s--;){var l=a[o?s:++r];if(t(i[l],l,i)===!1)break}return n}}var Jw=Xq;var Qq=Jw(),Zw=Qq;function Jq(o,n,t){(t!==void 0&&!qs(o[n],t)||t===void 0&&!(n in o))&&gd(o,n,t)}var _p=Jq;function Zq(o){return va(o)&&hd(o)}var t9=Zq;function t$(o,n){if(!(n==="constructor"&&typeof o[n]=="function")&&n!="__proto__")return o[n]}var yp=t$;function e$(o){return Z5(o,nm(o))}var e9=e$;function n$(o,n,t,e,r,i,a){var s=yp(o,t),l=yp(n,t),c=a.get(l);if(c){_p(o,t,c);return}var u=i?i(s,l,t+"",o,n,a):void 0,p=u===void 0;if(p){var g=hp(l),h=!g&&tm(l),y=!g&&!h&&em(l);u=l,g||h||y?hp(s)?u=s:t9(s)?u=q5(s):h?(p=!1,u=$w(l,!0)):y?(p=!1,u=Xw(l,!0)):u=[]:Fw(l)||mp(l)?(u=s,mp(s)?u=e9(s):(!$i(s)||ud(s))&&(u=Qw(l))):p=!1}p&&(a.set(l,u),r(u,l,e,i,a),a.delete(l)),_p(o,t,u)}var n9=n$;function r9(o,n,t,e,r){o!==n&&Zw(n,function(i,a){if(r||(r=new Uw),$i(i))n9(o,n,a,t,r9,e,r);else{var s=e?e(yp(o,a),i,a+"",o,n,r):void 0;s===void 0&&(s=i),_p(o,a,s)}},nm)}var i9=r9;var r$=iw(function(o,n,t){i9(o,n,t)}),g_=r$;var i$=new ta("Configuration for ngCharts");var o$=(()=>{class o{constructor(){this.colorschemesOptions=new Wr(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275prov=_o({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),o9=(()=>{class o{constructor(t,e,r,i){this.zone=e,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new ei,this.chartHover=new ei,this.subs=[],this.themeOverrides={},i?.registerables&&cd.register(...i.registerables),i?.defaults&&nr.set(i.defaults),this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(_s()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(t){let e=["type"],r=Object.getOwnPropertyNames(t);if(r.some(i=>e.includes(i))||r.every(i=>t[i].isFirstChange()))this.render();else{let i=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,i.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,i.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,i.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new cd(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(t))}hideDataset(t,e){this.chart&&(this.chart.getDatasetMeta(t).hidden=e,this.update())}isDatasetHidden(t){return this.chart?.getDatasetMeta(t)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return g_({onHover:(t,e)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:t,active:e}))},onClick:(t,e)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:t,active:e}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static{this.\u0275fac=function(e){return new(e||o)(pn(Ea),pn(ka),pn(o$),pn(i$,8))}}static{this.\u0275dir=Ta({type:o,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!0,features:[ys]})}}return o})();function a$(o,n){o&1&&(O(0,"div",4),yt(1,"mat-spinner",5),O(2,"p"),V(3,"Loading campaign report..."),M()())}function s$(o,n){if(o&1){let t=xe();O(0,"div",6)(1,"mat-icon"),V(2,"error_outline"),M(),O(3,"h2"),V(4),M(),O(5,"button",7),Yt("click",function(){Ut(t);let r=pt();return Wt(r.goBack())}),O(6,"mat-icon"),V(7,"arrow_back"),M(),V(8," Back to Dashboard "),M()()}if(o&2){let t=pt();G(4),ae(t.error)}}function l$(o,n){if(o&1&&(O(0,"p",34),V(1),M()),o&2){let t=pt(2);G(),Ke(" ",t.reportData.campaign.subject," ")}}function c$(o,n){if(o&1&&(O(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),V(3,"24 Hour Performance Snapshot"),M()(),O(4,"mat-card-content")(5,"div",35),yt(6,"canvas",36),M()()()),o&2){let t=pt(2);G(6),ct("data",t.lineChartData)("options",t.lineChartOptions)("type",t.lineChartType)}}function d$(o,n){o&1&&(O(0,"mat-card",37)(1,"mat-card-content")(2,"mat-icon"),V(3,"show_chart"),M(),O(4,"p"),V(5,"Performance data over time is not available yet"),M(),O(6,"p",38),V(7,"Chart data will be available after the campaign has been running for some time"),M()()())}function u$(o,n){o&1&&(O(0,"th",49),V(1,"URL"),M())}function p$(o,n){if(o&1&&(O(0,"td",50)(1,"a",51),V(2),M()()),o&2){let t=n.$implicit;G(),ct("href",t.url,ea),G(),ae(t.url)}}function f$(o,n){o&1&&(O(0,"th",49),V(1,"Unique Clicks"),M())}function g$(o,n){if(o&1&&(O(0,"td",52),V(1),M()),o&2){let t=n.$implicit,e=pt(3);G(),ae(e.formatNumber(t.uniqueClicks))}}function h$(o,n){o&1&&(O(0,"th",49),V(1,"Total Clicks"),M())}function m$(o,n){if(o&1&&(O(0,"td",52),V(1),M()),o&2){let t=n.$implicit,e=pt(3);G(),ae(e.formatNumber(t.totalClicks))}}function v$(o,n){o&1&&(O(0,"th",49),V(1,"Click %"),M())}function _$(o,n){if(o&1&&(O(0,"td",52),V(1),M()),o&2){let t=n.$implicit,e=pt(3);G(),ae(e.formatPercent(t.clickPercentage))}}function y$(o,n){o&1&&yt(0,"tr",53)}function b$(o,n){o&1&&yt(0,"tr",54)}function C$(o,n){if(o&1&&(O(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),V(3,"Top Clicked Links"),M()(),O(4,"mat-card-content")(5,"table",39),Rn(6,40),qt(7,u$,2,0,"th",41)(8,p$,3,2,"td",42),Fn(),Rn(9,43),qt(10,f$,2,0,"th",41)(11,g$,2,1,"td",44),Fn(),Rn(12,45),qt(13,h$,2,0,"th",41)(14,m$,2,1,"td",44),Fn(),Rn(15,46),qt(16,v$,2,0,"th",41)(17,_$,2,1,"td",44),Fn(),qt(18,y$,1,0,"tr",47)(19,b$,1,0,"tr",48),M()()()),o&2){let t=pt(2);G(5),ct("dataSource",t.reportData.clickedLinks),G(13),ct("matHeaderRowDef",t.linkColumns),G(),ct("matRowDefColumns",t.linkColumns)}}function x$(o,n){o&1&&(O(0,"mat-card",37)(1,"mat-card-content")(2,"mat-icon"),V(3,"link_off"),M(),O(4,"p"),V(5,"No clicks recorded yet"),M()()())}function O$(o,n){o&1&&(O(0,"th",49),V(1,"Country"),M())}function P$(o,n){if(o&1&&(O(0,"td",52),V(1),M()),o&2){let t=n.$implicit;G(),Ke(" ",t.countryName||t.country," ")}}function M$(o,n){o&1&&(O(0,"th",49),V(1,"Region"),M())}function w$(o,n){if(o&1&&(O(0,"td",52),V(1),M()),o&2){let t=n.$implicit;G(),Ke(" ",t.regionName||t.region||"N/A"," ")}}function S$(o,n){o&1&&(O(0,"th",49),V(1,"Opens"),M())}function T$(o,n){if(o&1&&(O(0,"td",52),V(1),M()),o&2){let t=n.$implicit,e=pt(3);G(),ae(e.formatNumber(t.opens))}}function E$(o,n){o&1&&yt(0,"tr",53)}function k$(o,n){o&1&&yt(0,"tr",54)}function A$(o,n){if(o&1&&(O(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),V(3,"Opens by Location"),M()(),O(4,"mat-card-content")(5,"table",55),Rn(6,56),qt(7,O$,2,0,"th",41)(8,P$,2,1,"td",44),Fn(),Rn(9,57),qt(10,M$,2,0,"th",41)(11,w$,2,1,"td",44),Fn(),Rn(12,58),qt(13,S$,2,0,"th",41)(14,T$,2,1,"td",44),Fn(),qt(15,E$,1,0,"tr",47)(16,k$,1,0,"tr",48),M()()()),o&2){let t=pt(2);G(5),ct("dataSource",t.reportData.topLocations),G(10),ct("matHeaderRowDef",t.locationColumns),G(),ct("matRowDefColumns",t.locationColumns)}}function I$(o,n){o&1&&(O(0,"mat-card",37)(1,"mat-card-content")(2,"mat-icon"),V(3,"location_off"),M(),O(4,"p"),V(5,"No location data available"),M()()())}function D$(o,n){o&1&&(O(0,"div",59),yt(1,"mat-spinner",60),O(2,"p"),V(3,"Loading subscriber activity..."),M()())}function L$(o,n){o&1&&(O(0,"th",49),V(1,"Email"),M())}function N$(o,n){if(o&1&&(O(0,"td",52),V(1),M()),o&2){let t=n.$implicit;G(),ae(t.email)}}function R$(o,n){o&1&&(O(0,"th",49),V(1,"Opened"),M())}function F$(o,n){o&1&&(O(0,"mat-icon",69),V(1,"check_circle"),M())}function V$(o,n){o&1&&(O(0,"mat-icon",70),V(1,"cancel"),M())}function z$(o,n){if(o&1&&(O(0,"td",52),qt(1,F$,2,0,"mat-icon",67)(2,V$,2,0,"mat-icon",68),M()),o&2){let t=n.$implicit;G(),ct("ngIf",t.opened),G(),ct("ngIf",!t.opened)}}function j$(o,n){o&1&&(O(0,"th",49),V(1,"Clicked"),M())}function H$(o,n){o&1&&(O(0,"mat-icon",69),V(1,"check_circle"),M())}function B$(o,n){o&1&&(O(0,"mat-icon",70),V(1,"cancel"),M())}function U$(o,n){if(o&1&&(O(0,"td",52),qt(1,H$,2,0,"mat-icon",67)(2,B$,2,0,"mat-icon",68),M()),o&2){let t=n.$implicit;G(),ct("ngIf",t.clicked),G(),ct("ngIf",!t.clicked)}}function W$(o,n){o&1&&(O(0,"th",49),V(1,"Opens"),M())}function G$(o,n){if(o&1&&(O(0,"td",52),V(1),M()),o&2){let t=n.$implicit;G(),ae(t.openCount)}}function K$(o,n){o&1&&(O(0,"th",49),V(1,"Clicks"),M())}function q$(o,n){if(o&1&&(O(0,"td",52),V(1),M()),o&2){let t=n.$implicit;G(),ae(t.clickCount)}}function $$(o,n){o&1&&yt(0,"tr",53)}function Y$(o,n){o&1&&yt(0,"tr",54)}function X$(o,n){if(o&1&&(O(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),V(3,"Who Opened & Clicked"),M()(),O(4,"mat-card-content")(5,"table",61),Rn(6,62),qt(7,L$,2,0,"th",41)(8,N$,2,1,"td",44),Fn(),Rn(9,63),qt(10,R$,2,0,"th",41)(11,z$,3,2,"td",44),Fn(),Rn(12,64),qt(13,j$,2,0,"th",41)(14,U$,3,2,"td",44),Fn(),Rn(15,65),qt(16,W$,2,0,"th",41)(17,G$,2,1,"td",44),Fn(),Rn(18,66),qt(19,K$,2,0,"th",41)(20,q$,2,1,"td",44),Fn(),qt(21,$$,1,0,"tr",47)(22,Y$,1,0,"tr",48),M()()()),o&2){let t=pt(2);G(5),ct("dataSource",t.subscriberActivity),G(16),ct("matHeaderRowDef",t.activityColumns),G(),ct("matRowDefColumns",t.activityColumns)}}function Q$(o,n){o&1&&(O(0,"mat-card",37)(1,"mat-card-content")(2,"mat-icon"),V(3,"people_outline"),M(),O(4,"p"),V(5,"No subscriber activity recorded"),M()()())}function J$(o,n){if(o&1){let t=xe();O(0,"div",8)(1,"div",9)(2,"button",10),Yt("click",function(){Ut(t);let r=pt();return Wt(r.goBack())}),O(3,"mat-icon"),V(4,"arrow_back"),M()(),O(5,"div",11)(6,"h1"),V(7),M(),qt(8,l$,2,1,"p",12),O(9,"p",13)(10,"mat-chip",14),V(11),M(),O(12,"span",15),V(13,"\u2022"),M(),O(14,"span"),V(15),M(),O(16,"span",15),V(17,"\u2022"),M(),O(18,"span"),V(19),M()()()(),O(20,"div",16)(21,"mat-card",17)(22,"mat-card-content")(23,"div",18)(24,"mat-icon"),V(25,"visibility"),M()(),O(26,"div",19),V(27),M(),O(28,"div",20),V(29,"Open Rate"),M(),O(30,"div",21),V(31),M()()(),O(32,"mat-card",17)(33,"mat-card-content")(34,"div",22)(35,"mat-icon"),V(36,"touch_app"),M()(),O(37,"div",19),V(38),M(),O(39,"div",20),V(40,"Click Rate"),M(),O(41,"div",21),V(42),M()()(),O(43,"mat-card",17)(44,"mat-card-content")(45,"div",23)(46,"mat-icon"),V(47,"send"),M()(),O(48,"div",19),V(49),M(),O(50,"div",20),V(51,"Delivered"),M(),O(52,"div",21),V(53),M()()(),O(54,"mat-card",17)(55,"mat-card-content")(56,"div",24)(57,"mat-icon"),V(58,"report_problem"),M()(),O(59,"div",19),V(60),M(),O(61,"div",20),V(62,"Bounce Rate"),M(),O(63,"div",21),V(64),M()()()(),O(65,"mat-tab-group",25)(66,"mat-tab",26)(67,"div",27),qt(68,c$,7,3,"mat-card",28)(69,d$,8,0,"mat-card",29),M()(),O(70,"mat-tab",30)(71,"div",27),qt(72,C$,20,3,"mat-card",28)(73,x$,6,0,"mat-card",29),M()(),O(74,"mat-tab",31)(75,"div",27),qt(76,A$,17,3,"mat-card",28)(77,I$,6,0,"mat-card",29),M()(),O(78,"mat-tab",32)(79,"div",27),qt(80,D$,4,0,"div",33)(81,X$,23,3,"mat-card",28)(82,Q$,6,0,"mat-card",29),M()()()()}if(o&2){let t=pt();G(7),ae(t.reportData.campaign.name),G(),ct("ngIf",t.reportData.campaign.subject),G(3),ae(t.reportData.campaign.status),G(4),Ke("Sent ",t.formatDate(t.reportData.campaign.sentAt),""),G(4),Ke("",t.formatNumber(t.reportData.campaign.recipientsCount)," recipients"),G(8),ae(t.formatPercent(t.reportData.performance.opens.rate)),G(4),no(" ",t.formatNumber(t.reportData.performance.opens.unique)," unique opens (",t.formatNumber(t.reportData.performance.opens.total)," total) "),G(7),ae(t.formatPercent(t.reportData.performance.clicks.rate)),G(4),no(" ",t.formatNumber(t.reportData.performance.clicks.unique)," unique clicks (",t.formatNumber(t.reportData.performance.clicks.total)," total) "),G(7),ae(t.formatNumber(t.reportData.performance.delivered)),G(4),Ke(" of ",t.formatNumber(t.reportData.performance.emailsSent)," sent "),G(7),ae(t.formatPercent(t.reportData.performance.bounces.rate)),G(4),no(" ",t.formatNumber(t.reportData.performance.bounces.total)," bounces (",t.formatNumber(t.reportData.performance.bounces.hard)," hard) "),G(4),ct("ngIf",t.lineChartData.datasets&&t.lineChartData.datasets.length>0),G(),ct("ngIf",!t.lineChartData.datasets||t.lineChartData.datasets.length===0),G(3),ct("ngIf",t.reportData.clickedLinks.length>0),G(),ct("ngIf",t.reportData.clickedLinks.length===0),G(3),ct("ngIf",t.reportData.topLocations.length>0),G(),ct("ngIf",t.reportData.topLocations.length===0),G(3),ct("ngIf",t.loadingActivity),G(),ct("ngIf",!t.loadingActivity&&t.subscriberActivity.length>0),G(),ct("ngIf",!t.loadingActivity&&t.subscriberActivity.length===0)}}cd.register(g5,fp,M5,Gh,D5,k5,I5,E5,S5);var a9=(()=>{class o{constructor(){this.route=ye(Ai),this.router=ye(jn),this.orgService=ye(Pc),this.authService=ye(gr),this.destroy$=new Ur,this.loading=!0,this.error=null,this.campaignId=null,this.organizationId=null,this.reportData=null,this.subscriberActivity=[],this.loadingActivity=!1,this.lineChartType="line",this.lineChartData={datasets:[],labels:[]},this.lineChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},this.locationColumns=["country","region","opens"],this.linkColumns=["url","uniqueClicks","totalClicks","percentage"],this.activityColumns=["email","opened","clicked","openCount","clickCount"]}ngOnInit(){console.log("\u{1F4CA} Campaign detail page initializing..."),this.route.params.pipe(gn(this.destroy$)).subscribe(t=>{this.campaignId=t.id,console.log(`\u{1F4E7} Campaign ID from route: ${this.campaignId}`),this.authService.currentUser$.pipe(vo(1)).subscribe(e=>{if(e?.organizationId){let r=typeof e.organizationId=="string"?e.organizationId:e.organizationId?._id;r?(this.organizationId=r,this.loadCampaignReport()):(this.error="Invalid organization data",this.loading=!1)}else this.error="You are not a member of any organization",this.loading=!1})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCampaignReport(){!this.organizationId||!this.campaignId||(this.loading=!0,console.log(`\u{1F4CA} Loading report for campaign: ${this.campaignId}`),this.orgService.getCampaignReport(this.organizationId,this.campaignId).pipe(gn(this.destroy$)).subscribe({next:t=>{console.log("\u2705 Campaign report loaded:",t),this.reportData=t,this.loading=!1,this.buildChartData(),this.loadSubscriberActivity()},error:t=>{console.error("\u274C Failed to load campaign report:",t),this.error="Failed to load campaign report",this.loading=!1}}))}loadSubscriberActivity(){!this.organizationId||!this.campaignId||(this.loadingActivity=!0,console.log("\u{1F465} Loading subscriber activity..."),this.orgService.getCampaignActivity(this.organizationId,this.campaignId).pipe(gn(this.destroy$)).subscribe({next:t=>{console.log("\u2705 Subscriber activity loaded:",t),this.subscriberActivity=t.activity||[],this.loadingActivity=!1},error:t=>{console.warn("\u26A0\uFE0F Failed to load subscriber activity:",t),this.loadingActivity=!1}}))}goBack(){this.router.navigate(["/organization"])}buildChartData(){if(!this.reportData||!this.reportData.timeseries||this.reportData.timeseries.length===0){console.log("\u26A0\uFE0F No timeseries data available for chart");return}let t=this.reportData.timeseries,e=t.map(a=>new Date(a.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})),r=t.map(a=>a.emails_sent?a.unique_opens/a.emails_sent*100:0),i=t.map(a=>a.emails_sent?a.unique_clicks/a.emails_sent*100:0);this.lineChartData={labels:e,datasets:[{label:"Open Rate (%)",data:r,borderColor:"#667eea",backgroundColor:"rgba(102, 126, 234, 0.1)",fill:!0,tension:.4},{label:"Click Rate (%)",data:i,borderColor:"#f5576c",backgroundColor:"rgba(245, 87, 108, 0.1)",fill:!0,tension:.4}]},console.log("\u{1F4CA} Chart data built:",this.lineChartData)}formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}formatPercent(t){return t.toFixed(1)+"%"}formatNumber(t){return t.toLocaleString()}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-campaign-detail-page"]],standalone:!0,features:[cn],decls:4,vars:3,consts:[[1,"campaign-detail-page"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","report-content",4,"ngIf"],[1,"loading-container"],["diameter","50"],[1,"error-container"],["mat-raised-button","",3,"click"],[1,"report-content"],[1,"report-header"],["mat-icon-button","",1,"back-btn",3,"click"],[1,"campaign-title"],["class","campaign-subject",4,"ngIf"],[1,"campaign-meta"],[1,"status-sent"],[1,"separator"],[1,"metrics-grid"],[1,"metric-card"],[1,"metric-icon","opens-icon"],[1,"metric-value"],[1,"metric-label"],[1,"metric-detail"],[1,"metric-icon","clicks-icon"],[1,"metric-icon","delivery-icon"],[1,"metric-icon","bounces-icon"],[1,"report-tabs"],["label","Performance Over Time"],[1,"tab-content"],[4,"ngIf"],["class","empty-state",4,"ngIf"],["label","Click Performance"],["label","Top Locations"],["label","Subscriber Activity"],["class","loading-small",4,"ngIf"],[1,"campaign-subject"],[1,"chart-container"],["baseChart","",3,"data","options","type"],[1,"empty-state"],[1,"detail"],["mat-table","",1,"links-table",3,"dataSource"],["matColumnDef","url"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","url-cell",4,"matCellDef"],["matColumnDef","uniqueClicks"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalClicks"],["matColumnDef","percentage"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"url-cell"],["target","_blank",3,"href"],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-table","",1,"locations-table",3,"dataSource"],["matColumnDef","country"],["matColumnDef","region"],["matColumnDef","opens"],[1,"loading-small"],["diameter","30"],["mat-table","",1,"activity-table",3,"dataSource"],["matColumnDef","email"],["matColumnDef","opened"],["matColumnDef","clicked"],["matColumnDef","openCount"],["matColumnDef","clickCount"],["class","status-icon success",4,"ngIf"],["class","status-icon",4,"ngIf"],[1,"status-icon","success"],[1,"status-icon"]],template:function(e,r){e&1&&(O(0,"div",0),qt(1,a$,4,0,"div",1)(2,s$,9,1,"div",2)(3,J$,83,25,"div",3),M()),e&2&&(G(),ct("ngIf",r.loading),G(),ct("ngIf",r.error&&!r.loading),G(),ct("ngIf",r.reportData&&!r.loading))},dependencies:[Tn,qn,Zc,iP,aP,sP,oP,ci,xo,Cr,br,yr,ro,li,$b,Kb,qb,yf,Yb,Qb,eC,Jb,Xb,nC,Zb,tC,rC,iC,ws,Gb,o9],styles:[".campaign-detail-page[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto}.campaign-detail-page[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:1rem}.campaign-detail-page[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#f44336}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:2rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-top:.5rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]{flex:1}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:2rem;font-weight:600}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   .campaign-subject[_ngcontent-%COMP%]{color:#666;font-size:1.125rem;margin:0 0 .5rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#999;font-size:.875rem;margin:0;flex-wrap:wrap}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{min-height:24px;font-size:.75rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]   mat-chip.status-sent[_ngcontent-%COMP%]{background:#e8f5e9;color:#388e3c}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   .campaign-meta[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 .25rem}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{text-align:center;padding:1.5rem}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1rem}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;color:#fff}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.opens-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.clicks-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.delivery-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.bounces-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:.5rem 0;color:#333}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-bottom:.5rem;font-weight:500}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-detail[_ngcontent-%COMP%]{font-size:.875rem;color:#999}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]{margin-top:2rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:1.5rem 0}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#ccc}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999;font-size:1.125rem;margin:0}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p.detail[_ngcontent-%COMP%]{font-size:.875rem;color:#bbb}.campaign-detail-page[_ngcontent-%COMP%]   .report-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{position:relative;height:400px;width:100%;padding:1rem 0}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]{width:100%}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#666}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]{max-width:400px}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none;word-break:break-all}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   .url-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#ccc}.campaign-detail-page[_ngcontent-%COMP%]   .links-table[_ngcontent-%COMP%]   .status-icon.success[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .locations-table[_ngcontent-%COMP%]   .status-icon.success[_ngcontent-%COMP%], .campaign-detail-page[_ngcontent-%COMP%]   .activity-table[_ngcontent-%COMP%]   .status-icon.success[_ngcontent-%COMP%]{color:#4caf50}.campaign-detail-page[_ngcontent-%COMP%]   .loading-small[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:2rem;color:#666}@media (max-width: 768px){.campaign-detail-page[_ngcontent-%COMP%]{padding:1rem}.campaign-detail-page[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.campaign-detail-page[_ngcontent-%COMP%]   .report-header[_ngcontent-%COMP%]   .campaign-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return o})();var Z$=()=>[5,10,25,50,100],tY=o=>({pageSizeOptions:o,showFirstLastButtons:!0,showPageSizeSelector:!0,showPageInfo:!0,maxVisiblePages:7});function eY(o,n){o&1&&(O(0,"div",10)(1,"div",11),yt(2,"mat-spinner",12),O(3,"p",13),V(4,"Loading audience data..."),M()()())}function nY(o,n){if(o&1){let t=xe();O(0,"div",14)(1,"div",15)(2,"div",16),Xt(),O(3,"svg",17),yt(4,"path",18),M()(),re(),O(5,"h2"),V(6),M(),O(7,"p"),V(8,"Please try again or go back to dashboard"),M(),O(9,"button",19),Yt("click",function(){Ut(t);let r=pt();return Wt(r.goBack())}),Xt(),O(10,"svg",17),yt(11,"path",20),M(),V(12," Back to Dashboard "),M()()()}if(o&2){let t=pt();G(6),ae(t.error)}}function rY(o,n){if(o&1){let t=xe();O(0,"div",80)(1,"div",81)(2,"div",27),Xt(),O(3,"svg",17),yt(4,"path",33),M()(),re(),O(5,"h3",74),V(6,"Add New Subscriber"),M(),yt(7,"div",75),M(),O(8,"div",82)(9,"div",83)(10,"div",84)(11,"label",85),V(12,"Email Address *"),M(),O(13,"div",86),Xt(),O(14,"svg",87),yt(15,"path",88),M(),re(),O(16,"input",89),Ar("ngModelChange",function(r){Ut(t);let i=pt(2);return kr(i.newSubscriber.email,r)||(i.newSubscriber.email=r),Wt(r)}),M()()(),O(17,"div",84)(18,"label",85),V(19,"First Name"),M(),O(20,"div",86),Xt(),O(21,"svg",87),yt(22,"path",90),M(),re(),O(23,"input",91),Ar("ngModelChange",function(r){Ut(t);let i=pt(2);return kr(i.newSubscriber.firstName,r)||(i.newSubscriber.firstName=r),Wt(r)}),M()()(),O(24,"div",84)(25,"label",85),V(26,"Last Name"),M(),O(27,"div",86),Xt(),O(28,"svg",87),yt(29,"path",90),M(),re(),O(30,"input",92),Ar("ngModelChange",function(r){Ut(t);let i=pt(2);return kr(i.newSubscriber.lastName,r)||(i.newSubscriber.lastName=r),Wt(r)}),M()()()(),O(31,"div",93)(32,"button",94),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.toggleAddForm())}),Xt(),O(33,"svg",17),yt(34,"path",95),M(),V(35," Cancel "),M(),re(),O(36,"button",96),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.addSubscriber())}),Xt(),O(37,"svg",17),yt(38,"path",97),M(),V(39," Add Subscriber "),M()()()()}if(o&2){let t=pt(2);G(16),Er("ngModel",t.newSubscriber.email),G(7),Er("ngModel",t.newSubscriber.firstName),G(7),Er("ngModel",t.newSubscriber.lastName),G(6),ct("disabled",!t.newSubscriber.email)}}function iY(o,n){o&1&&(O(0,"div",98)(1,"div",99),Xt(),O(2,"svg",17),yt(3,"path",100),M()(),re(),O(4,"h3"),V(5,"No subscribers found"),M(),O(6,"p"),V(7,"Try adjusting your filters or add new subscribers"),M()())}function oY(o,n){if(o&1){let t=xe();O(0,"tr",106)(1,"td",107)(2,"div",108)(3,"div",109),V(4),M(),O(5,"span",110),V(6),M()()(),O(7,"td",111)(8,"span",112),V(9),M()(),O(10,"td",113)(11,"span",114),yt(12,"span",115),V(13),on(14,"titlecase"),M()(),O(15,"td",116)(16,"span",117),V(17),M()(),O(18,"td",118)(19,"button",119),Xt(),O(20,"svg",17),yt(21,"path",120),M()(),re(),O(22,"mat-menu",121,1)(24,"button",122),Yt("click",function(){let r=Ut(t).$implicit,i=pt(3);return Wt(i.editSubscriber(r))}),Xt(),O(25,"svg",17),yt(26,"path",123),M(),re(),O(27,"span"),V(28,"Edit"),M()(),O(29,"button",124),Yt("click",function(){let r=Ut(t).$implicit,i=pt(3);return Wt(i.deleteSubscriber(r.email))}),Xt(),O(30,"svg",17),yt(31,"path",125),M(),re(),O(32,"span"),V(33,"Delete"),M()()()()()}if(o&2){let t=n.$implicit,e=fr(23),r=pt(3);G(4),ae(t.email.charAt(0).toUpperCase()),G(2),ae(t.email),G(3),ae(t.firstName||t.lastName?(t.firstName+" "+t.lastName).trim():"N/A"),G(2),ct("ngClass","status-"+t.status),G(2),Ke(" ",un(14,7,t.status)," "),G(4),ae(r.formatDate(t.joinedAt)),G(2),ct("matMenuTriggerFor",e)}}function aY(o,n){if(o&1&&(O(0,"div",101)(1,"table",102)(2,"thead")(3,"tr")(4,"th")(5,"div",103),Xt(),O(6,"svg",17),yt(7,"path",88),M(),V(8," Email "),M()(),re(),O(9,"th")(10,"div",103),Xt(),O(11,"svg",17),yt(12,"path",90),M(),V(13," Name "),M()(),re(),O(14,"th")(15,"div",103),Xt(),O(16,"svg",17),yt(17,"path",44),M(),V(18," Status "),M()(),re(),O(19,"th")(20,"div",103),Xt(),O(21,"svg",17),yt(22,"path",104),M(),V(23," Joined "),M()(),re(),O(24,"th")(25,"div",103),V(26,"Actions"),M()()()(),O(27,"tbody"),qt(28,oY,34,9,"tr",105),M()()()),o&2){let t=pt(2);G(28),ct("ngForOf",t.filteredMembers)}}function sY(o,n){if(o&1){let t=xe();O(0,"app-pagination",126),Yt("pageChange",function(r){Ut(t);let i=pt(2);return Wt(i.onPageChange(r))}),M()}if(o&2){let t=pt(2);ct("totalItems",t.totalItems)("currentPage",t.currentPage)("pageSize",t.pageSize)("loading",t.paginationLoading)("config",af(6,tY,of(5,Z$)))}}function lY(o,n){if(o&1){let t=xe();O(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"button",25),Yt("click",function(){Ut(t);let r=pt();return Wt(r.goBack())}),Xt(),O(5,"svg",17),yt(6,"path",20),M()(),re(),O(7,"div",26)(8,"div",27),Xt(),O(9,"svg",17),yt(10,"path",28),M()(),re(),O(11,"div",29)(12,"h1"),V(13,"Audience Management"),M(),O(14,"p",30),V(15,"Manage your email subscribers"),M()()()(),O(16,"div",31)(17,"button",32),Yt("click",function(){Ut(t);let r=pt();return Wt(r.refreshData())}),O(18,"mat-icon"),V(19,"refresh"),M()(),O(20,"button",19),Yt("click",function(){Ut(t);let r=pt();return Wt(r.toggleAddForm())}),Xt(),O(21,"svg",17),yt(22,"path",33),M(),re(),O(23,"span"),V(24,"Add Subscriber"),M()(),O(25,"button",34),Yt("click",function(){Ut(t);let r=fr(31);return Wt(r.click())}),Xt(),O(26,"svg",17),yt(27,"path",35),M(),re(),O(28,"span"),V(29,"Import CSV"),M()(),O(30,"input",36,0),Yt("change",function(r){Ut(t);let i=pt();return Wt(i.onFileSelected(r))}),M(),O(32,"div",37),Xt(),O(33,"svg",17),yt(34,"path",38),M(),re(),O(35,"span",39),V(36),M(),O(37,"span",40),V(38,"Total"),M()()()()(),O(39,"div",41)(40,"div",42)(41,"div",43),Xt(),O(42,"svg",17),yt(43,"path",44),M()(),re(),O(44,"div",45)(45,"div",46),V(46),M(),O(47,"div",47),V(48,"Subscribed"),M()()(),O(49,"div",48)(50,"div",43),Xt(),O(51,"svg",17),yt(52,"path",49),M()(),re(),O(53,"div",45)(54,"div",46),V(55),M(),O(56,"div",47),V(57,"Cleaned"),M()()(),O(58,"div",50)(59,"div",43),Xt(),O(60,"svg",17),yt(61,"path",51),M()(),re(),O(62,"div",45)(63,"div",46),V(64),M(),O(65,"div",47),V(66,"Unsubscribed"),M()()()(),qt(67,rY,40,4,"div",52),O(68,"div",53)(69,"div",54)(70,"div",55)(71,"label",56),Xt(),O(72,"svg",17),yt(73,"path",57),M(),V(74," Search "),M(),re(),O(75,"input",58),Ar("ngModelChange",function(r){Ut(t);let i=pt();return kr(i.searchText,r)||(i.searchText=r),Wt(r)}),Yt("ngModelChange",function(r){Ut(t);let i=pt();return Wt(i.onSearchChange(r))}),M()(),O(76,"div",59)(77,"label",56),Xt(),O(78,"svg",17),yt(79,"path",60),M(),V(80," Status "),M(),re(),O(81,"mat-form-field",61)(82,"mat-select",62),Ar("ngModelChange",function(r){Ut(t);let i=pt();return kr(i.selectedStatus,r)||(i.selectedStatus=r),Wt(r)}),Yt("selectionChange",function(){Ut(t);let r=pt();return Wt(r.filterMembers())}),O(83,"mat-option",63)(84,"div",64),Xt(),O(85,"svg",17),yt(86,"path",65),M(),re(),O(87,"span"),V(88,"All Statuses"),M()()(),O(89,"mat-option",66)(90,"div",64),Xt(),O(91,"svg",17),yt(92,"path",44),M(),re(),O(93,"span"),V(94,"Subscribed"),M()()(),O(95,"mat-option",67)(96,"div",64),Xt(),O(97,"svg",17),yt(98,"path",51),M(),re(),O(99,"span"),V(100,"Unsubscribed"),M()()(),O(101,"mat-option",68)(102,"div",64),Xt(),O(103,"svg",17),yt(104,"path",49),M(),re(),O(105,"span"),V(106,"Cleaned"),M()()()()()(),O(107,"div",69)(108,"span",70),V(109),M()()()(),O(110,"div",71)(111,"div",72)(112,"div",27),Xt(),O(113,"svg",17),yt(114,"path",73),M()(),re(),O(115,"h3",74),V(116,"Subscribers List"),M(),yt(117,"div",75),M(),O(118,"div",76),qt(119,iY,8,0,"div",77)(120,aY,29,1,"div",78),M()(),qt(121,sY,1,8,"app-pagination",79),M()}if(o&2){let t=pt();G(17),ct("disabled",t.loading||t.paginationLoading),G(19),ae(t.totalSubscribers),G(10),ae(t.getStatusCount("subscribed")),G(9),ae(t.getStatusCount("cleaned")),G(9),ae(t.getStatusCount("unsubscribed")),G(3),ct("ngIf",t.showAddForm),G(8),Er("ngModel",t.searchText),G(7),Er("ngModel",t.selectedStatus),G(27),no("Showing ",t.filteredMembers.length," of ",t.totalItems,""),G(10),ct("ngIf",t.filteredMembers.length===0),G(),ct("ngIf",t.filteredMembers.length>0),G(),ct("ngIf",t.totalItems>0)}}var s9=(()=>{class o{constructor(){this.orgService=ye(Pc),this.authService=ye(gr),this.router=ye(jn),this.dialog=ye(Oc),this.destroy$=new Ur,this.searchSubject$=new Ur,this.loading=!0,this.paginationLoading=!1,this.error=null,this.organizationId=null,this.audienceMembers=[],this.filteredMembers=[],this.totalSubscribers=0,this.currentPage=1,this.pageSize=5,this.totalItems=0,this.paginationCache=new Map,this.searchText="",this.selectedStatus="all",this.showAddForm=!1,this.newSubscriber={email:"",firstName:"",lastName:""},this.displayedColumns=["email","firstName","lastName","status","joinedAt","actions"]}ngOnInit(){console.log("\u{1F465} Audience list page initializing..."),this.searchSubject$.pipe(By(400),_s(),gn(this.destroy$)).subscribe(t=>{this.searchText=t,this.currentPage=1,this.loadAudienceData(!0)}),this.authService.currentUser$.pipe(vo(1)).subscribe(t=>{if(t?.organizationId){let e=typeof t.organizationId=="string"?t.organizationId:t.organizationId._id;this.organizationId=e,this.loadAudienceData()}else this.error="You are not a member of any organization",this.loading=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAudienceData(t=!1){if(!this.organizationId)return;let e=`page_${this.currentPage}_${this.pageSize}_${this.selectedStatus}_${this.searchText}`,r=this.paginationCache.get(e);if(r&&t){this.audienceMembers=r,this.filteredMembers=[...r],this.paginationLoading=!1;return}t?this.paginationLoading=!0:this.loading=!0,console.log(`\u{1F4CA} Loading audience page ${this.currentPage} for org: ${this.organizationId}`),this.orgService.getAudienceStats(this.organizationId,{page:this.currentPage,limit:this.pageSize,status:this.selectedStatus,search:this.searchText}).pipe(gn(this.destroy$)).subscribe({next:i=>{console.log("\u2705 Audience data loaded:",i),this.audienceMembers=i.members||i.recentMembers||[],this.filteredMembers=[...this.audienceMembers],this.paginationCache.set(e,this.audienceMembers),this.totalSubscribers=i.stats?.totalSubscribers||0,i.pagination?(this.totalItems=i.pagination.totalItems,this.currentPage=i.pagination.page):this.totalItems=this.audienceMembers.length,this.loading=!1,this.paginationLoading=!1},error:i=>{console.error("\u274C Failed to load audience:",i),this.error="Failed to load audience data",this.loading=!1,this.paginationLoading=!1}})}onSearchChange(t){this.searchSubject$.next(t)}filterMembers(){this.currentPage=1,this.paginationCache.clear(),this.loadAudienceData()}refreshData(){console.log("\u{1F504} Refreshing audience data..."),this.paginationCache.clear(),this.currentPage=1,this.loadAudienceData()}onPageChange(t){console.log("\u{1F4C4} Page changed:",t),this.currentPage=t.page,this.pageSize=t.pageSize,this.loadAudienceData(!0)}toggleAddForm(){this.showAddForm=!this.showAddForm,this.showAddForm||(this.newSubscriber={email:"",firstName:"",lastName:""})}addSubscriber(){if(!this.organizationId||!this.newSubscriber.email)return;let t={email:this.newSubscriber.email,firstName:this.newSubscriber.firstName||"",lastName:this.newSubscriber.lastName||"",status:"subscribed",joinedAt:new Date().toISOString()};this.audienceMembers.unshift(t),this.filteredMembers=[...this.audienceMembers],this.totalSubscribers++,this.totalItems++;let e=Tr({},this.newSubscriber);this.showAddForm=!1,this.newSubscriber={email:"",firstName:"",lastName:""},this.paginationCache.clear(),this.orgService.addSubscriber(this.organizationId,e).pipe(gn(this.destroy$)).subscribe({next:r=>{if(console.log("\u2705 Subscriber added:",r),r.member){let i=this.audienceMembers.findIndex(a=>a.email===t.email);i!==-1&&(this.audienceMembers[i]=r.member,this.filteredMembers=[...this.audienceMembers])}},error:r=>{console.error("\u274C Failed to add subscriber:",r),this.audienceMembers=this.audienceMembers.filter(i=>i.email!==t.email),this.filteredMembers=[...this.audienceMembers],this.totalSubscribers--,this.totalItems--,alert("Failed to add subscriber: "+(r.error?.message||r.message))}})}deleteSubscriber(t){if(!this.organizationId||!confirm(`Are you sure you want to unsubscribe ${t}?`))return;let e=this.audienceMembers.find(r=>r.email===t);e&&(this.audienceMembers=this.audienceMembers.filter(r=>r.email!==t),this.filteredMembers=[...this.audienceMembers],this.totalSubscribers--,this.totalItems--,this.paginationCache.clear(),this.orgService.deleteSubscriber(this.organizationId,t,!1).pipe(gn(this.destroy$)).subscribe({next:()=>{console.log("\u2705 Subscriber removed")},error:r=>{console.error("\u274C Failed to remove subscriber:",r),this.audienceMembers.push(e),this.filteredMembers=[...this.audienceMembers],this.totalSubscribers++,this.totalItems++,alert("Failed to delete subscriber: "+(r.error?.message||r.message))}}))}editSubscriber(t){console.log("\u{1F4DD} Edit subscriber:",t.email);let e=prompt("Enter first name:",t.firstName||""),r=prompt("Enter last name:",t.lastName||"");if(e===null&&r===null||!this.organizationId)return;let i={};e!==null&&(i.firstName=e),r!==null&&(i.lastName=r);let a=Tr({},t),s=this.audienceMembers.findIndex(l=>l.email===t.email);s!==-1&&(e!==null&&(this.audienceMembers[s].firstName=e),r!==null&&(this.audienceMembers[s].lastName=r),this.filteredMembers=[...this.audienceMembers]),this.paginationCache.clear(),this.orgService.updateSubscriber(this.organizationId,t.email,i).pipe(gn(this.destroy$)).subscribe({next:l=>{console.log("\u2705 Subscriber updated:",l),l.member&&s!==-1&&(this.audienceMembers[s]=l.member,this.filteredMembers=[...this.audienceMembers])},error:l=>{console.error("\u274C Failed to update subscriber:",l),s!==-1&&(this.audienceMembers[s]=a,this.filteredMembers=[...this.audienceMembers]),alert("Failed to update subscriber: "+(l.error?.message||l.message))}})}onFileSelected(t){let e=t.target.files[0];if(!e)return;let r=new FileReader;r.onload=i=>{let a=i.target.result;this.parseCsvAndImport(a)},r.readAsText(e)}parseCsvAndImport(t){let e=t.split(`
`),r=[];for(let i=1;i<e.length;i++){let a=e[i].trim();if(!a)continue;let[s,l,c]=a.split(",").map(u=>u.trim());s&&r.push({email:s,firstName:l||"",lastName:c||""})}if(r.length===0){alert("No valid subscribers found in CSV");return}this.organizationId&&(this.loading=!0,this.paginationCache.clear(),this.orgService.bulkImportSubscribers(this.organizationId,r).pipe(gn(this.destroy$)).subscribe({next:i=>{console.log("\u2705 Bulk import complete:",i),alert(`Added ${i.addedCount} subscribers, ${i.errorCount} errors`),this.loadAudienceData()},error:i=>{console.error("\u274C Failed to import:",i),this.loading=!1}}))}goBack(){this.router.navigate(["/organization"])}getStatusColor(t){switch(t){case"subscribed":return"primary";case"unsubscribed":return"warn";case"cleaned":return"accent";default:return""}}formatDate(t){return t?new Date(t).toLocaleDateString():"N/A"}getStatusCount(t){return t==="all"?this.audienceMembers.length:this.audienceMembers.filter(e=>e.status===t).length}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-audience-list-page"]],standalone:!0,features:[cn],decls:8,vars:3,consts:[["fileInput",""],["menu","matMenu"],[1,"audience-page-wrapper"],[1,"page-background"],[1,"gradient-orb","orb-1"],[1,"gradient-orb","orb-2"],[1,"gradient-orb","orb-3"],["class","loading-container glass-card",4,"ngIf"],["class","error-container glass-card",4,"ngIf"],["class","audience-content",4,"ngIf"],[1,"loading-container","glass-card"],[1,"loading-content"],["diameter","60","color","primary"],[1,"loading-text"],[1,"error-container","glass-card"],[1,"error-content"],[1,"error-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"modern-btn","primary-btn",3,"click"],["d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"audience-content"],[1,"page-header","glass-card"],[1,"header-content"],[1,"header-left"],["matTooltip","Back to Dashboard",1,"back-btn",3,"click"],[1,"header-title-section"],[1,"header-icon"],["d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"header-text"],[1,"subtitle"],[1,"header-actions"],["mat-icon-button","","matTooltip","Refresh data",1,"refresh-button",3,"click","disabled"],["d","M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"],[1,"modern-btn","accent-btn",3,"click"],["d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],["type","file","accept",".csv",2,"display","none",3,"change"],[1,"total-badge"],["d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"badge-count"],[1,"badge-label"],[1,"stats-grid"],[1,"stat-card","glass-card","subscribed-card"],[1,"stat-icon"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","glass-card","cleaned-card"],["d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"stat-card","glass-card","unsubscribed-card"],["d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"],["class","add-form-container glass-card",4,"ngIf"],[1,"filters-section","glass-card"],[1,"filter-group"],[1,"filter-field","search-filter"],[1,"filter-label"],["d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search by email or name...",1,"filter-input",3,"ngModelChange","ngModel"],[1,"filter-field","status-filter"],["d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],["appearance","outline",1,"custom-mat-select"],["panelClass","custom-select-panel",3,"ngModelChange","selectionChange","ngModel"],["value","all"],[1,"option-content"],["d","M4 6h16M4 12h16M4 18h16"],["value","subscribed"],["value","unsubscribed"],["value","cleaned"],[1,"filter-results"],[1,"results-text"],[1,"subscribers-table-container","glass-card"],[1,"table-header"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],[1,"section-title"],[1,"title-underline"],[1,"table-content"],["class","empty-state",4,"ngIf"],["class","responsive-table",4,"ngIf"],[3,"totalItems","currentPage","pageSize","loading","config","pageChange",4,"ngIf"],[1,"add-form-container","glass-card"],[1,"form-header"],[1,"form-content"],[1,"form-grid"],[1,"form-field"],[1,"field-label"],[1,"input-wrapper"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"input-icon"],["d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["type","email","placeholder","subscriber@example.com","required","",1,"modern-input",3,"ngModelChange","ngModel"],["d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["type","text","placeholder","John",1,"modern-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Doe",1,"modern-input",3,"ngModelChange","ngModel"],[1,"form-actions"],[1,"modern-btn","secondary-btn",3,"click"],["d","M6 18L18 6M6 6l12 12"],[1,"modern-btn","primary-btn",3,"click","disabled"],["d","M12 4v16m8-8H4"],[1,"empty-state"],[1,"empty-icon"],["d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"],[1,"responsive-table"],[1,"modern-table"],[1,"th-content"],["d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],["data-label","Email"],[1,"email-cell"],[1,"avatar"],[1,"email-text"],["data-label","Name"],[1,"name-text"],["data-label","Status"],[1,"status-badge",3,"ngClass"],[1,"status-dot"],["data-label","Joined"],[1,"date-text"],["data-label","Actions"],[1,"action-btn",3,"matMenuTriggerFor"],["d","M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"],[1,"modern-menu"],["mat-menu-item","",3,"click"],["d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["mat-menu-item","",1,"delete-item",3,"click"],["d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[3,"pageChange","totalItems","currentPage","pageSize","loading","config"]],template:function(e,r){e&1&&(O(0,"div",2)(1,"div",3),yt(2,"div",4)(3,"div",5)(4,"div",6),M(),qt(5,eY,5,0,"div",7)(6,nY,13,1,"div",8)(7,lY,122,13,"div",9),M()),e&2&&(G(5),ct("ngIf",r.loading),G(),ct("ngIf",r.error&&!r.loading),G(),ct("ngIf",!r.loading&&!r.error))},dependencies:[Tn,na,ki,qn,eb,Ii,yo,bo,yb,Co,Zc,yf,ci,xo,Cr,br,yr,li,ws,oa,ia,ml,Oo,vf,Ss,ch,lh,bc,la,aa,xc,sa,dh],styles:["[_nghost-%COMP%]{display:block;min-height:calc(100vh - 70px);--primary-purple: #6d28d9;--accent-pink: #ec4899;--success-green: #10b981;--warning-orange: #f59e0b;--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--gradient-warning: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);--gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--glass-white: rgba(255, 255, 255, .9);--radius-md: 12px;--radius-lg: 16px;--radius-xl: 20px}.audience-page-wrapper[_ngcontent-%COMP%]{position:relative;min-height:calc(100vh - 70px);padding:2rem;background:linear-gradient(135deg,#f8fafc,#e2e8f0)}.page-background[_ngcontent-%COMP%]{position:fixed;inset:70px 0 0;z-index:-1;background:linear-gradient(135deg,#f8fafc,#e2e8f0);pointer-events:none}.gradient-orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.4;animation:_ngcontent-%COMP%_float-orb 20s ease-in-out infinite}.orb-1[_ngcontent-%COMP%]{width:400px;height:400px;background:radial-gradient(circle,rgba(139,92,246,.4) 0%,transparent 70%);top:-100px;left:-100px}.orb-2[_ngcontent-%COMP%]{width:500px;height:500px;background:radial-gradient(circle,rgba(236,72,153,.3) 0%,transparent 70%);top:40%;right:-150px;animation-delay:-7s}.orb-3[_ngcontent-%COMP%]{width:450px;height:450px;background:radial-gradient(circle,rgba(59,130,246,.35) 0%,transparent 70%);bottom:-100px;left:30%;animation-delay:-14s}@keyframes _ngcontent-%COMP%_float-orb{0%,to{transform:translate(0) scale(1)}33%{transform:translate(30px,-30px) scale(1.1)}66%{transform:translate(-20px,20px) scale(.9)}}.audience-content[_ngcontent-%COMP%]{position:relative;z-index:1;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem;padding:2rem;background:var(--glass-white);border-radius:var(--radius-xl);box-shadow:0 10px 40px #00000014;border:1px solid rgba(255,255,255,.8)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1.5rem;flex-wrap:wrap}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex:1}.page-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:#fff;border:2px solid #e2e8f0;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.page-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke:#64748b}.page-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:var(--primary-purple);border-color:var(--primary-purple)}.page-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{stroke:#fff}.page-header[_ngcontent-%COMP%]   .header-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.page-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:var(--gradient-primary);display:flex;align-items:center;justify-content:center;flex-shrink:0}.page-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;stroke:#fff}.page-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1e293b;margin:0 0 .25rem}.page-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;margin:0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{background:var(--glass-white);border:1px solid var(--glass-border);border-radius:var(--radius-md);box-shadow:var(--glass-shadow);transition:all var(--transition-fast)}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff;transform:translateY(-2px);box-shadow:0 12px 40px #0000001f}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:var(--primary-purple);animation:spin .5s ease-in-out}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;padding:.875rem 1.5rem;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;cursor:pointer;transition:all .3s ease;border:none;white-space:nowrap}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke:currentColor}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 12px #6d28d94d}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #6d28d966}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-btn.accent-btn[_ngcontent-%COMP%]{background:var(--gradient-success);color:#fff;box-shadow:0 4px 12px #4facfe4d}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-btn.accent-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #4facfe66}.total-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.875rem 1.5rem;background:linear-gradient(135deg,#e0e7ff,#ddd6fe);border-radius:var(--radius-md)}.total-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke:var(--primary-purple)}.total-badge[_ngcontent-%COMP%]   .badge-count[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--primary-purple);line-height:1}.total-badge[_ngcontent-%COMP%]   .badge-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:var(--glass-white);border-radius:var(--radius-lg);padding:2rem;box-shadow:0 10px 40px #00000014;border:1px solid rgba(255,255,255,.8);transition:all .3s ease;display:flex;align-items:center;gap:1.5rem}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 60px #0000001f}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px;stroke:#fff}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;margin:0 0 .5rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1e293b;margin:0;line-height:1}.subscribed-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--gradient-success)}.cleaned-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--gradient-warning)}.unsubscribed-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--gradient-accent)}.glass-card[_ngcontent-%COMP%]{background:var(--glass-white);border-radius:var(--radius-xl);box-shadow:0 10px 40px #00000014;border:1px solid rgba(255,255,255,.8)}.add-form-container[_ngcontent-%COMP%]{padding:2rem;margin-bottom:2rem}.add-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:2rem}.add-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;background:var(--gradient-success);display:flex;align-items:center;justify-content:center}.add-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px;stroke:#fff}.add-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1e293b;margin:0}.add-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .title-underline[_ngcontent-%COMP%]{flex:1;height:2px;background:linear-gradient(90deg,#e2e8f0 0%,transparent 100%);margin-left:1rem}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:1.5rem}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#475569;margin-bottom:.5rem}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);width:18px;height:18px;stroke:#94a3b8;pointer-events:none}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem .875rem 3rem;border:2px solid #e2e8f0;border-radius:var(--radius-md);font-size:.9375rem;transition:all .2s ease;background:#fff}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-purple);box-shadow:0 0 0 3px #6d28d91a}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;padding-top:1rem;border-top:2px solid #e2e8f0}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;padding:.875rem 1.75rem;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;cursor:pointer;transition:all .3s ease;border:none}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke:currentColor}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 12px #6d28d94d}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #6d28d966}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn.secondary-btn[_ngcontent-%COMP%]{background:#fff;color:#64748b;border:2px solid #e2e8f0}.add-form-container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .modern-btn.secondary-btn[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;background:#f8fafc}.filters-section[_ngcontent-%COMP%]{padding:1.5rem 2rem;margin-bottom:2rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr auto;gap:1rem;align-items:flex-end}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{grid-template-columns:1fr}}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600;color:#475569;margin-bottom:.5rem}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke:#64748b}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e2e8f0;border-radius:var(--radius-md);font-size:.9375rem;font-weight:500;color:#334155;transition:all .2s ease;background:#fff;box-shadow:0 2px 8px #0000000a;height:52px}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-purple);box-shadow:0 0 0 3px #6d28d91a,0 4px 12px #00000014}.filters-section[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]{width:100%}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{padding:0}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-bottom-align{display:none}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-hint-wrapper, .filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-error-wrapper{display:none}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-flex{background:#fff;border-radius:var(--radius-md);border:2px solid #e2e8f0;box-shadow:0 2px 8px #0000000a;transition:all .2s ease;height:52px;align-items:center}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:.875rem 1rem;min-height:unset;padding-top:0;padding-bottom:0;border-top:none}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-value{font-size:.9375rem;font-weight:500;color:#334155}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-arrow-wrapper{transform:translateY(0)}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:6px solid #6d28d9;border-bottom:0;margin:0 4px}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mdc-notched-outline{display:none}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]    :hover .mat-mdc-form-field-flex{border-color:#cbd5e1;box-shadow:0 4px 12px #00000014}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-focused .mat-mdc-form-field-flex{border-color:var(--primary-purple);box-shadow:0 0 0 3px #6d28d91a,0 4px 12px #00000014}.filters-section[_ngcontent-%COMP%]   .custom-mat-select[_ngcontent-%COMP%]     .mat-focused .mat-mdc-select-arrow{border-top-color:var(--primary-purple);transform:rotate(180deg)}.filters-section[_ngcontent-%COMP%]   .filter-results[_ngcontent-%COMP%]{display:flex;align-items:flex-end;padding-bottom:.875rem}.filters-section[_ngcontent-%COMP%]   .filter-results[_ngcontent-%COMP%]   .results-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b}  .custom-select-panel{margin-top:.5rem;border-radius:var(--radius-md)!important;box-shadow:0 10px 40px #00000026!important;border:2px solid #e2e8f0;overflow:hidden}  .custom-select-panel .mat-mdc-option{min-height:48px;padding:.75rem 1rem;font-size:.9375rem}  .custom-select-panel .mat-mdc-option .option-content{display:flex;align-items:center;gap:.75rem}  .custom-select-panel .mat-mdc-option .option-content svg{width:18px;height:18px;stroke:#64748b;flex-shrink:0}  .custom-select-panel .mat-mdc-option .option-content span{color:#334155;font-weight:500}  .custom-select-panel .mat-mdc-option:hover{background:#f8fafc}  .custom-select-panel .mat-mdc-option:hover .option-content svg{stroke:var(--primary-purple)}  .custom-select-panel .mat-mdc-option:hover .option-content span{color:var(--primary-purple)}  .custom-select-panel .mat-mdc-option.mat-mdc-option-active{background:linear-gradient(135deg,#f3f4f6,#e5e7eb)}  .custom-select-panel .mat-mdc-option.mdc-list-item--selected{background:linear-gradient(135deg,#e0e7ff,#ddd6fe)}  .custom-select-panel .mat-mdc-option.mdc-list-item--selected .option-content svg{stroke:var(--primary-purple)}  .custom-select-panel .mat-mdc-option.mdc-list-item--selected .option-content span{color:var(--primary-purple);font-weight:600}  .custom-select-panel .mat-mdc-option.mdc-list-item--selected:hover{background:linear-gradient(135deg,#ddd6fe,#c7d2fe)}  .custom-select-panel .mat-mdc-optgroup-label,   .custom-select-panel .mat-mdc-option-pseudo-checkbox{display:none}.subscribers-table-container[_ngcontent-%COMP%]{padding:2rem;margin-bottom:2rem}.subscribers-table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:2rem}.subscribers-table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;background:var(--gradient-primary);display:flex;align-items:center;justify-content:center}.subscribers-table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px;stroke:#fff}.subscribers-table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1e293b;margin:0}.subscribers-table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .title-underline[_ngcontent-%COMP%]{flex:1;height:2px;background:linear-gradient(90deg,#e2e8f0 0%,transparent 100%);margin-left:1rem}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 1.5rem;border-radius:50%;background:linear-gradient(135deg,#f1f5f9,#e2e8f0);display:flex;align-items:center;justify-content:center}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:50px;height:50px;stroke:#cbd5e1}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#475569;margin:0 0 .5rem}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:.9375rem;margin:0}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]{min-height:400px;max-height:600px;overflow-y:auto;overflow-x:auto;position:relative;scrollbar-width:thin;scrollbar-color:#8b5cf6 #f1f5f9}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#8b5cf6,#a855f7);border-radius:4px;transition:background .2s ease}.subscribers-table-container[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .responsive-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#7c3aed,#9333ea)}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#f8fafc}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;text-align:left;font-weight:600;font-size:.875rem;color:#475569;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid #e2e8f0;white-space:nowrap;background:#f8fafc}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:var(--radius-md)}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:var(--radius-md)}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .th-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .th-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke:#64748b}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]{background:#fff;transition:background-color .2s ease;border-bottom:1px solid #f1f5f9}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]:hover{background:#f8fafc}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;color:#334155;font-size:.9375rem}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .email-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .email-cell[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:var(--gradient-primary);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:.875rem;flex-shrink:0}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .email-cell[_ngcontent-%COMP%]   .email-text[_ngcontent-%COMP%]{font-weight:500;color:#1e293b}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .name-text[_ngcontent-%COMP%]{color:#64748b}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .date-text[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;background:#64748b1a}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke:#64748b}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#64748b33}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:50px;font-size:.8125rem;font-weight:600}.status-badge[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%}.status-badge.status-subscribed[_ngcontent-%COMP%]{background:#10b9811a;color:#059669}.status-badge.status-subscribed[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981}.status-badge.status-unsubscribed[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.status-badge.status-unsubscribed[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#ef4444}.status-badge.status-cleaned[_ngcontent-%COMP%]{background:#f59e0b1a;color:#d97706}.status-badge.status-cleaned[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#f59e0b}.loading-container[_ngcontent-%COMP%]{padding:4rem 2rem;text-align:center}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem}.loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{font-size:1.125rem;color:#64748b;font-weight:500}.error-container[_ngcontent-%COMP%]{padding:3rem 2rem}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{text-align:center;max-width:500px;margin:0 auto}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 1.5rem;border-radius:50%;background:linear-gradient(135deg,#fee2e2,#fecaca);display:flex;align-items:center;justify-content:center}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;stroke:#dc2626}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0 0 1.5rem}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.875rem 1.75rem;border-radius:var(--radius-md);font-weight:600;font-size:.9375rem;cursor:pointer;transition:all .3s ease;border:none}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 12px #6d28d94d}.error-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .modern-btn.primary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #6d28d966}@media (max-width: 992px){.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.modern-table[_ngcontent-%COMP%]{font-size:.875rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 768px){.audience-page-wrapper[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]{padding:1.5rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{width:100%;flex-direction:column;align-items:flex-start}.page-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.page-header[_ngcontent-%COMP%]   .total-badge[_ngcontent-%COMP%]{width:100%;justify-content:center}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-card[_ngcontent-%COMP%]{padding:1.5rem}.action-buttons[_ngcontent-%COMP%]{padding:1.5rem;flex-direction:column}.action-buttons[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.filters-section[_ngcontent-%COMP%]{padding:1.5rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.add-form-container[_ngcontent-%COMP%], .subscribers-table-container[_ngcontent-%COMP%]{padding:1.5rem}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{width:100%}.responsive-table[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.responsive-table[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;border-radius:var(--radius-md);border:1px solid #e2e8f0;box-shadow:0 2px 8px #0000000f}.responsive-table[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]:hover{transform:none}.responsive-table[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;padding:.875rem 1rem;border-bottom:1px solid #f1f5f9}.responsive-table[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:none}.responsive-table[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;color:#64748b;font-size:.8125rem;text-transform:uppercase;letter-spacing:.5px;display:block;margin-bottom:.5rem}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem}.stat-card[_ngcontent-%COMP%]{padding:1.25rem}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem}.action-buttons[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%], .add-form-container[_ngcontent-%COMP%], .subscribers-table-container[_ngcontent-%COMP%]{padding:1.25rem}}  .modern-menu .mat-mdc-menu-content{padding:.5rem;background:#fff;border-radius:var(--radius-md);box-shadow:0 10px 40px #00000026}  .modern-menu .mat-mdc-menu-item{border-radius:8px;margin-bottom:.25rem;min-height:40px;display:flex;align-items:center;gap:.75rem;padding:.5rem 1rem}  .modern-menu .mat-mdc-menu-item:last-child{margin-bottom:0}  .modern-menu .mat-mdc-menu-item svg{width:18px;height:18px;stroke:#64748b}  .modern-menu .mat-mdc-menu-item span{color:#334155;font-size:.9375rem;font-weight:500}  .modern-menu .mat-mdc-menu-item:hover{background:#f8fafc}  .modern-menu .mat-mdc-menu-item.delete-item svg{stroke:#ef4444}  .modern-menu .mat-mdc-menu-item.delete-item span{color:#ef4444}  .modern-menu .mat-mdc-menu-item.delete-item:hover{background:#ef44441a}app-pagination[_ngcontent-%COMP%]{margin-top:2rem;display:block;animation:_ngcontent-%COMP%_fadeInUp .6s ease;animation-delay:.4s;animation-fill-mode:backwards}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}}return o})();var l9=[{path:"auth",component:VC},{path:"auth/callback",component:zC},{path:"auth/pending",component:jC},{path:"generate/:conversationId",component:BC,canActivate:[wo],canDeactivate:[rP]},{path:"admin",loadComponent:()=>import("./chunk-Y2G2CVDI.js").then(o=>o.AdminDashboardComponent),canActivate:[wo,UC],runGuardsAndResolvers:"always"},{path:"organization",component:mP,canActivate:[wo]},{path:"organization/campaigns/:id",component:a9,canActivate:[wo]},{path:"organization/audience",component:s9,canActivate:[wo]},{path:"",component:RC,canActivate:[wo]},{path:"qa/:id",component:FC,canActivate:[wo],canDeactivate:[M1]},{path:"qa/:id/use/:runId/:no",loadComponent:()=>import("./chunk-YMFJQQHI.js").then(o=>o.UseVariantPageComponent),canActivate:[wo],canDeactivate:[M1]},{path:"qa/:id/use/:runId/:no/campaign",loadComponent:()=>import("./chunk-XU3RJ5XV.js").then(o=>o.CampaignSetupPageComponent),canActivate:[wo]},{path:"visual-editor",component:cv,canActivate:[wo]},{path:"visual-editor/:id",component:cv,canActivate:[wo]},{path:"**",redirectTo:""}];var c9=(o,n)=>{let t=ye(gr),e=ye(jn),r=o.clone({withCredentials:!0});return n(r).pipe(vs(i=>{if(i.status===401)return o.url.includes("/api/auth/refresh")||o.url.includes("/api/auth/logout")||o.url.includes("/api/auth/google")?Jd(()=>i):t.refreshToken().pipe(tu(()=>n(r)),vs(a=>Jd(()=>a)));if(i.status===403){let a=i.error?.error||"",s=i.error?.code||"";return(s==="USER_INACTIVE"||s==="USER_NOT_APPROVED"||a.includes("deactivated")||a.includes("pending approval")||a.includes("Access denied"))&&!e.url.startsWith("/auth")&&t.logout().subscribe({next:()=>{let c=s==="USER_INACTIVE"||a.includes("deactivated")?"account_deactivated":a.includes("pending")?"pending_approval":"access_denied";e.navigate(["/auth"],{queryParams:{error:c},replaceUrl:!0})},error:c=>{e.navigate(["/auth"],{queryParams:{error:"access_denied"},replaceUrl:!0})}}),Jd(()=>i)}return i.status>=500,Jd(()=>i)}))};var bd=(()=>{class o{constructor(t){this.db=t,this.MAX_CACHE_SIZE_MB=50,this.WARNING_THRESHOLD_PERCENT=80,this.MONITORING_INTERVAL_MS=3*60*60*1e3}checkStorageQuota(){return vn(this,null,function*(){try{if("storage"in navigator&&"estimate"in navigator.storage){let t=yield navigator.storage.estimate(),e=t.usage||0,r=t.quota||0,i=r>0?e/r*100:0,a="healthy";return i>90?a="critical":i>this.WARNING_THRESHOLD_PERCENT&&(a="warning"),a==="critical"&&(yield this.emergencyCleanup()),{used:e,total:r,percentage:i,status:a}}return{used:0,total:0,percentage:0,status:"healthy"}}catch{return{used:0,total:0,percentage:0,status:"healthy"}}})}checkCacheHealth(){return vn(this,null,function*(){try{let t=yield this.db.getCacheStats(),e=[],r=!0;return t.estimatedSizeMB>this.MAX_CACHE_SIZE_MB&&(e.push(`Cache size (${t.estimatedSizeMB}MB) exceeds limit (${this.MAX_CACHE_SIZE_MB}MB)`),r=!1),t.templateCount>40&&e.push(`High template count: ${t.templateCount}`),t.conversationCount>80&&e.push(`High conversation count: ${t.conversationCount}`),e.length>0,{stats:t,isHealthy:r,warnings:e}}catch{return{stats:null,isHealthy:!1,warnings:["Failed to check cache health"]}}})}emergencyCleanup(){return vn(this,null,function*(){try{let e=(yield this.db.templates.orderBy("timestamp").reverse().toArray()).slice(10);for(let a of e)yield this.db.templates.delete(a.id);let i=(yield this.db.conversations.orderBy("timestamp").reverse().toArray()).slice(20);for(let a of i)yield this.db.conversations.delete(a.runId);yield this.db.cleanExpiredData()}catch{}})}periodicCleanup(){return vn(this,null,function*(){try{yield this.db.cleanExpiredData(),(yield this.checkCacheHealth()).isHealthy||(yield this.db.cleanOldestTemplates(10),yield this.db.cleanOldestConversations(20))}catch{}})}displayStats(){return vn(this,null,function*(){yield this.db.logCacheStats();let t=yield this.checkStorageQuota();!(yield this.checkCacheHealth()).isHealthy||t.status})}startMonitoring(){return vn(this,null,function*(){yield this.periodicCleanup(),yield this.checkStorageQuota(),Hy(this.MONITORING_INTERVAL_MS).subscribe(()=>vn(this,null,function*(){yield this.periodicCleanup(),yield this.checkStorageQuota()}))})}static{this.\u0275fac=function(e){return new(e||o)(mc(Aa))}}static{this.\u0275prov=_o({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function uY(o){return()=>o.checkAuthStatus()}var d9={providers:[Zy({eventCoalescing:!0}),cb(l9,db()),nb(rb([c9])),NC(),{provide:Aa,useValue:new Aa},bd,{provide:Jy,useFactory:uY,deps:[gr],multi:!0}]};var pY=["*",[["mat-toolbar-row"]]],fY=["*","mat-toolbar-row"],gY=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275dir=Ta({type:o,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return o})(),u9=(()=>{class o{constructor(t,e,r){this._elementRef=t,this._platform=e,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(e){return new(e||o)(pn(Ea),pn(bb),pn(lf))}}static{this.\u0275cmp=ln({type:o,selectors:[["mat-toolbar"]],contentQueries:function(e,r,i){if(e&1&&bs(i,gY,5),e&2){let a;Gr(a=Kr())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(e,r){e&2&&(vc(r.color?"mat-"+r.color:""),Be("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[cn],ngContentSelectors:fY,decls:2,vars:0,template:function(e,r){e&1&&(fl(pY),Uo(0),Uo(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return o})();var p9=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=Bo({type:o})}static{this.\u0275inj=Ho({imports:[Di,Di]})}}return o})();var f9=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=Bo({type:o})}static{this.\u0275inj=Ho({imports:[Pb,Di,Di]})}}return o})();function mY(o,n){o&1&&yt(0,"div",2)}var vY=new ta("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var h9=(()=>{class o{constructor(t,e,r,i,a){this._elementRef=t,this._ngZone=e,this._changeDetectorRef=r,this._animationMode=i,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new ei,this._mode="determinate",this._transitionendHandler=s=>{this.animationEnd.observers.length===0||!s.target||!s.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=i==="NoopAnimations",a&&(a.color&&(this.color=this._defaultColor=a.color),this.mode=a.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(t){this._color=t}get value(){return this._value}set value(t){this._value=g9(t||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=g9(t||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}static{this.\u0275fac=function(e){return new(e||o)(pn(Ea),pn(ka),pn(qr),pn(nu,8),pn(vY,8))}}static{this.\u0275cmp=ln({type:o,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(e,r){e&2&&(pr("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),vc("mat-"+r.color),Be("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[si.HasDecoratorInputTransform,"value","value",_c],bufferValue:[si.HasDecoratorInputTransform,"bufferValue","bufferValue",_c],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[iu,cn],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(e,r){e&1&&(O(0,"div",0),yt(1,"div",1),qt(2,mY,1,0,"div",2),M(),O(3,"div",3),yt(4,"span",4),M(),O(5,"div",5),yt(6,"span",4),M()),e&2&&(G(),ni("flex-basis",r._getBufferBarFlexBasis()),G(),ou(2,r.mode==="buffer"?2:-1),G(),ni("transform",r._getPrimaryBarTransform()))},styles:[`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}`],encapsulation:2,changeDetection:0})}}return o})();function g9(o,n=0,t=100){return Math.max(n,Math.min(t,o))}var m9=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=Bo({type:o})}static{this.\u0275inj=Ho({imports:[Di]})}}return o})();function yY(o,n){if(o&1&&(O(0,"div",12)(1,"div",13)(2,"div",14)(3,"mat-icon"),V(4),M(),O(5,"h3"),V(6,"Cache Health"),M()(),O(7,"div",15),V(8),M(),O(9,"p",16),V(10),M()(),O(11,"div",17)(12,"div",14)(13,"mat-icon"),V(14,"storage"),M(),O(15,"h3"),V(16,"Browser Storage"),M()(),O(17,"div",18)(18,"div",19)(19,"span",20),V(20,"Used Storage"),M(),O(21,"span",21),V(22),M()(),yt(23,"mat-progress-bar",22),O(24,"div",23),V(25),M()(),O(26,"div",24)(27,"mat-icon",25),V(28,"info"),M(),O(29,"span"),V(30,"Browser allocates storage dynamically. Typical limit: 50-500 MB"),M()()(),O(31,"div",26)(32,"div",27)(33,"div",28)(34,"mat-icon"),V(35,"article"),M()(),O(36,"div",29)(37,"div",30),V(38,"Cached Templates"),M(),O(39,"div",31),V(40),M(),O(41,"div",32),yt(42,"div",33),M(),O(43,"div",34),V(44),M()()(),O(45,"div",27)(46,"div",28)(47,"mat-icon"),V(48,"chat"),M()(),O(49,"div",29)(50,"div",30),V(51,"Conversations"),M(),O(52,"div",31),V(53),M(),O(54,"div",32),yt(55,"div",33),M(),O(56,"div",34),V(57),M()()(),O(58,"div",27)(59,"div",28)(60,"mat-icon"),V(61,"link"),M()(),O(62,"div",29)(63,"div",30),V(64,"Valid Links"),M(),O(65,"div",31),V(66),M(),O(67,"div",32),yt(68,"div",33),M(),O(69,"div",34),V(70," Link validation cache "),M()()(),O(71,"div",27)(72,"div",28)(73,"mat-icon"),V(74,"data_usage"),M()(),O(75,"div",29)(76,"div",30),V(77,"Cache Size"),M(),O(78,"div",31),V(79),M(),O(80,"div",32),yt(81,"div",33),M(),O(82,"div",34),V(83),M()()()(),O(84,"div",35)(85,"div",14)(86,"mat-icon"),V(87,"schedule"),M(),O(88,"h3"),V(89,"Cache Lifecycle"),M()(),O(90,"div",36)(91,"div",37)(92,"div",38)(93,"mat-icon"),V(94,"add_circle"),M()(),O(95,"div",39)(96,"h4"),V(97,"Created"),M(),O(98,"p"),V(99,"Cache is created automatically when you visit pages and load data"),M()()(),O(100,"div",37)(101,"div",40)(102,"mat-icon"),V(103,"bolt"),M()(),O(104,"div",39)(105,"h4"),V(106,"Active Use"),M(),O(107,"p"),V(108,"Provides instant page loads (10-50ms) instead of API calls (500-1000ms)"),M()()(),O(109,"div",37)(110,"div",41)(111,"mat-icon"),V(112,"schedule"),M()(),O(113,"div",39)(114,"h4"),V(115,"Auto-Deletion"),M(),O(116,"p"),V(117,"Cache expires after "),O(118,"strong"),V(119),M(),V(120," and is automatically cleaned"),M()()(),O(121,"div",37)(122,"div",42)(123,"mat-icon"),V(124,"refresh"),M()(),O(125,"div",39)(126,"h4"),V(127,"Restored"),M(),O(128,"p"),V(129,"Fresh data is fetched from server and cached again for future use"),M()()()()(),O(130,"div",43)(131,"div",14)(132,"mat-icon"),V(133,"lightbulb"),M(),O(134,"h3"),V(135,"Performance Tips"),M()(),O(136,"ul",44)(137,"li")(138,"mat-icon"),V(139,"check_circle"),M(),O(140,"span")(141,"strong"),V(142,"Navigation:"),M(),V(143," Use back/forward buttons for instant page loads"),M()(),O(144,"li")(145,"mat-icon"),V(146,"check_circle"),M(),O(147,"span")(148,"strong"),V(149,"Cache Clear:"),M(),V(150," Only clear when experiencing issues or storage is full"),M()(),O(151,"li")(152,"mat-icon"),V(153,"check_circle"),M(),O(154,"span")(155,"strong"),V(156,"Auto-Cleanup:"),M(),V(157," Old data is cleaned automatically on app startup"),M()(),O(158,"li")(159,"mat-icon"),V(160,"check_circle"),M(),O(161,"span")(162,"strong"),V(163,"Logout:"),M(),V(164," All cache is cleared on logout for security"),M()()()()()),o&2){let t=pt();G(),ct("@slideIn",void 0),G(2),ni("color",t.cacheHealthColor),G(),Ke(" ",t.cacheHealthStatus==="healthy"?"check_circle":t.cacheHealthStatus==="warning"?"warning":"error"," "),G(3),ni("color",t.cacheHealthColor),G(),Ke(" ",t.cacheHealthStatus==="healthy"?"\u2728 Excellent":t.cacheHealthStatus==="warning"?"\u26A0\uFE0F Fair":"\u{1F6A8} Needs Attention"," "),G(2),Ke(" ",t.cacheHealthStatus==="healthy"?"Your cache is running smoothly. Enjoy lightning-fast performance! \u26A1":t.cacheHealthStatus==="warning"?"Cache is getting full. Consider clearing old data for optimal performance.":"Cache is critically full! Clear cache to prevent slowdowns."," "),G(),ct("@slideIn",void 0),G(10),ni("color",t.storageColor),G(),no(" ",t.formatBytes(t.storageQuota.used)," / ",t.formatBytes(t.storageQuota.total)," "),G(),ct("value",t.storagePercentage)("color",t.storagePercentage>90?"warn":t.storagePercentage>70?"accent":"primary"),G(),ni("color",t.storageColor),G(),Ke(" ",t.storagePercentage.toFixed(1),"% "),G(7),ct("@slideIn",void 0),G(8),ae(t.cacheStats.templateCount),G(2),ni("width",t.templatePercentage,"%")("background",t.templatePercentage>80?"#f59e0b":"#6366f1"),G(2),no(" ",t.cacheStats.templateCount," / ",t.MAX_TEMPLATES," max "),G(),ct("@slideIn",void 0),G(8),ae(t.cacheStats.conversationCount),G(2),ni("width",t.conversationPercentage,"%")("background",t.conversationPercentage>80?"#f59e0b":"#8b5cf6"),G(2),no(" ",t.cacheStats.conversationCount," / ",t.MAX_CONVERSATIONS," max "),G(),ct("@slideIn",void 0),G(8),ae(t.cacheStats.validLinksCount),G(2),ni("width",t.cacheStats.validLinksCount>0?100:0,"%")("background","#10b981"),G(3),ct("@slideIn",void 0),G(8),Ke("",t.cacheStats.estimatedSizeMB.toFixed(2)," MB"),G(2),ni("width",t.cacheSizePercentage,"%")("background",t.cacheSizePercentage>90?"#ef4444":t.cacheSizePercentage>70?"#f59e0b":"#10b981"),G(2),no(" ",t.cacheStats.estimatedSizeMB.toFixed(2)," / ",t.MAX_CACHE_SIZE_MB," MB max "),G(),ct("@slideIn",void 0),G(35),Ke("",t.CACHE_EXPIRY_DAYS," days"),G(11),ct("@slideIn",void 0)}}function bY(o,n){o&1&&(O(0,"div",45)(1,"mat-icon",46),V(2,"sync"),M(),O(3,"p"),V(4,"Loading performance data..."),M()())}function CY(o,n){if(o&1){let t=xe();O(0,"div",47)(1,"div",48)(2,"mat-icon"),V(3,"info"),M(),O(4,"span"),V(5,"Cache monitoring \u2022 Auto-refresh every 3 hours"),M()(),O(6,"div",49)(7,"button",50),Yt("click",function(){Ut(t);let r=pt();return Wt(r.showClearConfirmation())}),O(8,"mat-icon"),V(9,"delete_sweep"),M(),V(10," Clear Cache "),M(),O(11,"button",51),Yt("click",function(){Ut(t);let r=pt();return Wt(r.close())}),V(12," Done "),M()()()}if(o&2){let t=pt();G(7),ct("disabled",t.isClearing||!t.cacheStats||t.cacheStats.estimatedSizeMB===0)}}function xY(o,n){o&1&&(O(0,"mat-icon"),V(1,"delete_forever"),M())}function OY(o,n){o&1&&(O(0,"mat-icon",46),V(1,"sync"),M())}function PY(o,n){if(o&1){let t=xe();O(0,"div",52)(1,"div",53)(2,"div",54)(3,"mat-icon",55),V(4,"warning"),M(),O(5,"h3"),V(6,"Clear All Cache?"),M()(),O(7,"p",56),V(8," This will delete all cached data including: "),M(),O(9,"ul",57)(10,"li"),V(11),M(),O(12,"li"),V(13),M(),O(14,"li"),V(15),M(),O(16,"li"),V(17),M()(),O(18,"p",58),V(19," \u26A0\uFE0F "),O(20,"strong"),V(21,"Note:"),M(),V(22," Data will be re-fetched from the server on your next visit. This won't delete any data from the server. "),M(),O(23,"div",59)(24,"button",60),Yt("click",function(){Ut(t);let r=pt();return Wt(r.cancelClear())}),V(25," Cancel "),M(),O(26,"button",61),Yt("click",function(){Ut(t);let r=pt();return Wt(r.confirmClearCache())}),qt(27,xY,2,0,"mat-icon",62)(28,OY,2,0,"mat-icon",63),V(29),M()()()()}if(o&2){let t=pt();ct("@fadeIn",void 0),G(),ct("@slideIn",void 0),G(10),Ke("\u2022 ",(t.cacheStats==null?null:t.cacheStats.templateCount)||0," cached templates"),G(2),Ke("\u2022 ",(t.cacheStats==null?null:t.cacheStats.conversationCount)||0," conversation threads"),G(2),Ke("\u2022 ",(t.cacheStats==null?null:t.cacheStats.validLinksCount)||0," link validations"),G(2),Ke("\u2022 Total: ",((t.cacheStats==null?null:t.cacheStats.estimatedSizeMB)||0).toFixed(2)," MB"),G(7),ct("disabled",t.isClearing),G(2),ct("disabled",t.isClearing),G(),ct("ngIf",!t.isClearing),G(),ct("ngIf",t.isClearing),G(),Ke(" ",t.isClearing?"Clearing...":"Yes, Clear Cache"," ")}}var v9=(()=>{class o{constructor(t,e,r,i){this.dialogRef=t,this.db=e,this.cacheMonitor=r,this.cdr=i,this.cacheStats=null,this.storageQuota=null,this.showClearWarning=!1,this.isClearing=!1,this.MAX_CACHE_SIZE_MB=250,this.MAX_TEMPLATES=500,this.MAX_CONVERSATIONS=1e3,this.CACHE_EXPIRY_DAYS=30}ngOnInit(){return vn(this,null,function*(){yield this.loadStats(),this.refreshInterval=setInterval(()=>{this.loadStats()},3e4)})}ngOnDestroy(){this.refreshInterval&&clearInterval(this.refreshInterval)}loadStats(){return vn(this,null,function*(){try{this.cacheStats=yield this.db.getCacheStats(),this.storageQuota=yield this.cacheMonitor.checkStorageQuota(),this.cdr.markForCheck()}catch{}})}get cacheHealthStatus(){return this.cacheStats?this.cacheStats.estimatedSizeMB>this.MAX_CACHE_SIZE_MB*.9?"critical":this.cacheStats.estimatedSizeMB>this.MAX_CACHE_SIZE_MB*.7||this.cacheStats.templateCount>this.MAX_TEMPLATES*.8||this.cacheStats.conversationCount>this.MAX_CONVERSATIONS*.8?"warning":"healthy":"healthy"}get cacheHealthColor(){let t=this.cacheHealthStatus;return t==="critical"?"#ef4444":t==="warning"?"#f59e0b":"#10b981"}get storagePercentage(){return this.storageQuota?.percentage||0}get storageColor(){let t=this.storagePercentage;return t>90?"#ef4444":t>70?"#f59e0b":"#10b981"}get templatePercentage(){return this.cacheStats?this.cacheStats.templateCount/this.MAX_TEMPLATES*100:0}get conversationPercentage(){return this.cacheStats?this.cacheStats.conversationCount/this.MAX_CONVERSATIONS*100:0}get cacheSizePercentage(){return this.cacheStats?this.cacheStats.estimatedSizeMB/this.MAX_CACHE_SIZE_MB*100:0}formatBytes(t){return t===0?"0 MB":(t/(1024*1024)).toFixed(2)+" MB"}showClearConfirmation(){this.showClearWarning=!0,this.cdr.markForCheck()}cancelClear(){this.showClearWarning=!1,this.cdr.markForCheck()}confirmClearCache(){return vn(this,null,function*(){this.isClearing=!0,this.cdr.markForCheck();try{yield this.db.clearAllCache(),yield this.loadStats(),this.showClearWarning=!1,this.isClearing=!1,this.cdr.markForCheck()}catch{this.isClearing=!1,this.cdr.markForCheck()}})}close(){this.dialogRef.close()}static{this.\u0275fac=function(e){return new(e||o)(pn(_f),pn(Aa),pn(bd),pn(qr))}}static{this.\u0275cmp=ln({type:o,selectors:[["app-performance-dashboard"]],standalone:!0,features:[cn],decls:18,vars:5,consts:[[1,"performance-dashboard"],[1,"dashboard-header"],[1,"header-content"],[1,"header-icon"],[1,"pulse"],[1,"header-text"],[1,"subtitle"],["mat-icon-button","","matTooltip","Close",1,"close-btn",3,"click"],["class","dashboard-content",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","dashboard-footer",4,"ngIf"],["class","warning-overlay",4,"ngIf"],[1,"dashboard-content"],[1,"health-card"],[1,"card-header"],[1,"health-status"],[1,"health-description"],[1,"stat-card"],[1,"progress-section"],[1,"progress-header"],[1,"progress-label"],[1,"progress-value"],["mode","determinate",3,"value","color"],[1,"progress-percentage"],[1,"info-box"],[1,"info-icon"],[1,"stats-grid"],[1,"metric-card"],[1,"metric-icon"],[1,"metric-content"],[1,"metric-label"],[1,"metric-value"],[1,"metric-bar"],[1,"bar-fill"],[1,"metric-footer"],[1,"lifecycle-card"],[1,"lifecycle-timeline"],[1,"timeline-item"],[1,"timeline-icon","created"],[1,"timeline-content"],[1,"timeline-icon","active"],[1,"timeline-icon","expired"],[1,"timeline-icon","restored"],[1,"tips-card"],[1,"tips-list"],[1,"loading-state"],[1,"spin"],[1,"dashboard-footer"],[1,"footer-info"],[1,"footer-actions"],["mat-stroked-button","","color","warn",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click"],[1,"warning-overlay"],[1,"warning-modal"],[1,"warning-header"],[1,"warning-icon"],[1,"warning-message"],[1,"warning-list"],[1,"warning-note"],[1,"warning-actions"],["mat-stroked-button","",3,"click","disabled"],["mat-raised-button","","color","warn",3,"click","disabled"],[4,"ngIf"],["class","spin",4,"ngIf"]],template:function(e,r){e&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),V(5,"speed"),M()(),O(6,"div",5)(7,"h2"),V(8,"App Performance"),M(),O(9,"p",6),V(10,"Real-time cache & storage monitoring"),M()()(),O(11,"button",7),Yt("click",function(){return r.close()}),O(12,"mat-icon"),V(13,"close"),M()()(),qt(14,yY,165,51,"div",8)(15,bY,5,0,"div",9)(16,CY,13,1,"div",10)(17,PY,30,11,"div",11),M()),e&2&&(ct("@fadeIn",void 0),G(14),ct("ngIf",r.cacheStats&&r.storageQuota),G(),ct("ngIf",!r.cacheStats||!r.storageQuota),G(),ct("ngIf",r.cacheStats&&r.storageQuota),G(),ct("ngIf",r.showClearWarning))},dependencies:[Tn,qn,ml,yr,ro,li,Cr,br,m9,h9,oa,ia],styles:['.performance-dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;overflow:hidden}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 32px;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.2)}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#fff}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:700;color:#fff;letter-spacing:-.5px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:4px 0 0;font-size:14px;color:#fffc}.dashboard-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#fff}.dashboard-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.dashboard-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px 32px;background:#f8fafc}.dashboard-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.dashboard-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e2e8f0}.dashboard-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.dashboard-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.health-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:32px;border-radius:16px;margin-bottom:24px;box-shadow:0 10px 30px #667eea4d}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600}.health-card[_ngcontent-%COMP%]   .health-status[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin-bottom:12px;text-shadow:0 2px 10px rgba(0,0,0,.2)}.health-card[_ngcontent-%COMP%]   .health-description[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;opacity:.95;margin:0}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;margin-bottom:24px;box-shadow:0 4px 12px #0000000d}.stat-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.stat-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6366f1;font-size:24px;width:24px;height:24px}.stat-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1e293b}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{height:12px;border-radius:6px;margin-bottom:8px}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]     .mdc-linear-progress__bar-inner{border-radius:6px}.stat-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-percentage[_ngcontent-%COMP%]{text-align:right;font-size:20px;font-weight:700}.stat-card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{display:flex;align-items:start;gap:8px;margin-top:16px;padding:12px;background:#f1f5f9;border-radius:8px;font-size:13px;color:#64748b}.stat-card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6366f1}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;margin-bottom:24px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.metric-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 12px #0000000d;transition:transform .2s,box-shadow .2s}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0000001a}.metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;color:#6366f1;margin-bottom:12px}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin-bottom:8px}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;margin-bottom:12px}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]{height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden;margin-bottom:8px}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .5s ease,background .3s ease}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-footer[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.lifecycle-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;margin-bottom:24px;box-shadow:0 4px 12px #0000000d}.lifecycle-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:24px}.lifecycle-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6366f1}.lifecycle-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1e293b}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]{position:relative;padding-left:32px}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:10px;top:0;bottom:0;width:2px;background:linear-gradient(180deg,#6366f1,#8b5cf6,#ec4899,#10b981)}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative;padding-bottom:32px}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]{position:absolute;left:-32px;top:0;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:2px solid}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.created[_ngcontent-%COMP%]{border-color:#6366f1}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.created[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6366f1}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.active[_ngcontent-%COMP%]{border-color:#8b5cf6}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#8b5cf6}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.expired[_ngcontent-%COMP%]{border-color:#ec4899}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.expired[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ec4899}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.restored[_ngcontent-%COMP%]{border-color:#10b981}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-icon.restored[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#10b981}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:600;color:#1e293b}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:#64748b}.lifecycle-card[_ngcontent-%COMP%]   .lifecycle-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#6366f1}.tips-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 12px #0000000d}.tips-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.tips-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f59e0b}.tips-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1e293b}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:start;gap:12px;padding:12px 0;border-bottom:1px solid #f1f5f9}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#10b981;font-size:20px;width:20px;height:20px;flex-shrink:0}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;color:#475569}.tips-card[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1e293b}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 32px;color:#64748b}.loading-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px;color:#6366f1}.loading-state[_ngcontent-%COMP%]   mat-icon.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0}.dashboard-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 32px;background:#fff;border-top:1px solid #e2e8f0;gap:16px}@media (max-width: 768px){.dashboard-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.dashboard-footer[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#64748b}.dashboard-footer[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6366f1}.dashboard-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:12px}.dashboard-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.warning-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;padding:24px;z-index:1000}.warning-modal[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;max-width:500px;width:100%;box-shadow:0 20px 60px #0000004d}.warning-modal[_ngcontent-%COMP%]   .warning-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:20px}.warning-modal[_ngcontent-%COMP%]   .warning-header[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#f59e0b}.warning-modal[_ngcontent-%COMP%]   .warning-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:#1e293b}.warning-modal[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]{font-size:16px;color:#475569;margin-bottom:16px}.warning-modal[_ngcontent-%COMP%]   .warning-list[_ngcontent-%COMP%]{background:#fef3c7;border-left:4px solid #f59e0b;padding:16px 20px;margin:16px 0;border-radius:8px;list-style:none}.warning-modal[_ngcontent-%COMP%]   .warning-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;color:#92400e;margin-bottom:8px}.warning-modal[_ngcontent-%COMP%]   .warning-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.warning-modal[_ngcontent-%COMP%]   .warning-note[_ngcontent-%COMP%]{font-size:14px;color:#64748b;background:#f8fafc;padding:12px;border-radius:8px;margin-bottom:24px}.warning-modal[_ngcontent-%COMP%]   .warning-note[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f59e0b}.warning-modal[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;flex-direction:row}.warning-modal[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.warning-modal[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-height: 500px) and (orientation: landscape){.dashboard-header[_ngcontent-%COMP%]{padding:12px 20px}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:12px;margin:2px 0 0}.dashboard-content[_ngcontent-%COMP%]{padding:16px 20px}.health-card[_ngcontent-%COMP%]{padding:16px 20px;margin-bottom:16px}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.health-card[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:12px;padding:4px 12px}.info-section[_ngcontent-%COMP%]{padding:12px 16px;font-size:13px}.warning-note[_ngcontent-%COMP%]{font-size:13px;padding:8px 12px;margin-bottom:12px}.warning-actions[_ngcontent-%COMP%]{gap:8px;margin-top:12px;flex-direction:row!important}.warning-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;font-size:13px}}@media (max-height: 400px) and (orientation: landscape){.performance-dashboard[_ngcontent-%COMP%]{max-height:95vh}.dashboard-header[_ngcontent-%COMP%]{padding:8px 16px}.dashboard-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:11px}.dashboard-content[_ngcontent-%COMP%]{padding:12px 16px}.health-card[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:12px}.health-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.warning-note[_ngcontent-%COMP%]{font-size:12px;padding:6px 10px;margin-bottom:8px}.warning-actions[_ngcontent-%COMP%]{gap:6px;flex-direction:row!important}.warning-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}}'],data:{animation:[Jn("fadeIn",[In(":enter",[$e({opacity:0,transform:"translateY(-10px)"}),En("300ms ease-out",$e({opacity:1,transform:"translateY(0)"}))])]),Jn("slideIn",[In(":enter",[$e({transform:"translateX(-20px)",opacity:0}),En("400ms ease-out",$e({transform:"translateX(0)",opacity:1}))])])]},changeDetection:0})}}return o})();function MY(o,n){if(o&1){let t=xe();O(0,"img",58),Yt("error",function(r){Ut(t);let i=pt().ngIf,a=pt();return Wt(a.handleImageError(r,i.name))}),M()}if(o&2){let t=pt().ngIf;ct("src",t.picture,ea)("alt",t.name)}}function wY(o,n){if(o&1&&(O(0,"div",59),V(1),M()),o&2){let t=pt().ngIf,e=pt();G(),Ke(" ",e.getInitials(t.name)," ")}}function SY(o,n){if(o&1&&yt(0,"span",60),o&2){let t=n.ngIf;pr("data-count",t)}}function TY(o,n){if(o&1&&(O(0,"span",64),V(1),M()),o&2){let t=n.ngIf;G(),Ke(" ",t," ")}}function EY(o,n){if(o&1){let t=xe();O(0,"button",61),Yt("click",function(){Ut(t);let r=pt(2);return Wt(r.navigateToAdmin())}),O(1,"div",62)(2,"mat-icon"),V(3,"admin_panel_settings"),M()(),O(4,"div",47)(5,"span",48),V(6,"Admin Dashboard"),M(),O(7,"span",49),V(8,"Manage Users"),M()(),qt(9,TY,2,1,"span",63),on(10,"async"),M()}if(o&2){let t=pt(2);G(9),ct("ngIf",un(10,1,t.pendingCount$))}}function kY(o,n){o&1&&yt(0,"mat-divider")}function AY(o,n){if(o&1){let t=xe();O(0,"div",34)(1,"button",35,0)(3,"div",36),qt(4,MY,1,2,"img",37)(5,wY,2,1,"div",38)(6,SY,1,1,"span",39),on(7,"async"),M(),O(8,"span",40),V(9),M(),O(10,"mat-icon",41),V(11,"expand_more"),M()(),O(12,"mat-menu",42,1),qt(14,EY,11,3,"button",43)(15,kY,1,0,"mat-divider",44),O(16,"button",45),Yt("click",function(){Ut(t);let r=pt();return Wt(r.navigateToGenerate())}),O(17,"div",46)(18,"mat-icon"),V(19,"auto_awesome"),M()(),O(20,"div",47)(21,"span",48),V(22,"Generate Template"),M(),O(23,"span",49),V(24,"Create with AI"),M()()(),yt(25,"mat-divider"),O(26,"button",50),Yt("click",function(){Ut(t);let r=pt();return Wt(r.navigateTo("/visual-editor"))}),O(27,"div",51)(28,"mat-icon"),V(29,"design_services"),M()(),O(30,"div",47)(31,"span",48),V(32,"Visual Editor"),M(),O(33,"span",49),V(34,"Drag & drop designer"),M()()(),yt(35,"mat-divider"),O(36,"button",52),Yt("click",function(){Ut(t);let r=pt();return Wt(r.openPerformanceDashboard())}),O(37,"div",53)(38,"mat-icon"),V(39,"speed"),M()(),O(40,"div",47)(41,"span",48),V(42,"App Performance"),M(),O(43,"span",49),V(44,"Cache & storage stats"),M()()(),yt(45,"mat-divider"),O(46,"button",54),Yt("click",function(){Ut(t);let r=pt();return Wt(r.navigateToOrganization())}),O(47,"div",55)(48,"mat-icon"),V(49,"business"),M()(),O(50,"div",47)(51,"span",48),V(52),on(53,"async"),M(),O(54,"span",49),V(55,"Organization"),M()()(),yt(56,"mat-divider"),O(57,"button",56),Yt("click",function(){Ut(t);let r=pt();return Wt(r.logout())}),O(58,"div",57)(59,"mat-icon"),V(60,"logout"),M()(),O(61,"div",47)(62,"span",48),V(63,"Logout"),M()()()()()}if(o&2){let t,e=n.ngIf,r=fr(2),i=fr(13),a=pt();G(),ct("matMenuTriggerFor",i),G(3),ct("ngIf",e.picture),G(),ct("ngIf",!e.picture),G(),ct("ngIf",a.isAdmin()&&un(7,10,a.pendingCount$)),G(3),ae(e.name),G(),Be("open",r.menuOpen),G(4),ct("ngIf",a.isAdmin()),G(),ct("ngIf",a.isAdmin()),G(37),ae(((t=un(53,12,a.currentUser$))==null||t.organizationId==null?null:t.organizationId.name)||"Unknown Org")}}var _9=(()=>{class o{constructor(){this.svc=ye(Ps),this.authService=ye(gr),this.adminService=ye(oC),this.adminEventService=ye(aC),this.router=ye(jn),this.location=ye(cf),this.generationService=ye(Vf),this.dialog=ye(Oc),this.destroy$=new Ur,this.pendingCount$=new Wr(0),this.currentUser$=this.authService.currentUser$,this.activeRoute$=new Wr(""),this.canGoBack$=new Wr(!1),this.canGoForward$=new Wr(!1),this.imageRetryCount=new Map,this.MAX_RETRIES=2}ngOnInit(){this.activeRoute$.next(this.router.url),this.router.events.pipe(Zo(t=>t instanceof pf),gn(this.destroy$)).subscribe(t=>{this.activeRoute$.next(t.urlAfterRedirects)}),this.currentUser$.pipe(Zo(t=>t?t.orgRole==="admin"||t.orgRole==="super_admin":!1),vo(1)).subscribe(()=>{this.loadPendingCount()}),this.adminEventService.refreshPendingCount.pipe(gn(this.destroy$)).subscribe(()=>{this.isAdmin()&&this.loadPendingCount()}),this.adminEventService.refresh$.pipe(gn(this.destroy$)).subscribe(()=>{this.isAdmin()&&this.loadPendingCount()})}loadPendingCount(){this.adminService.getPendingUsers().pipe(gn(this.destroy$)).subscribe({next:t=>{this.pendingCount$.next(t.users.length)},error:t=>{}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.pendingCount$.complete(),this.canGoBack$.complete(),this.canGoForward$.complete()}canGoBack(){return!0}canGoForward(){return!0}goBack(){this.location.back()}goForward(){this.location.forward()}isAdmin(){let t=this.authService.currentUserValue;return t?.orgRole==="admin"||t?.orgRole==="super_admin"}isActive(t){let e=this.activeRoute$.value;return t==="/"?e==="/":e.startsWith(t)}getAvatarSrc(t){return t.picture&&t.picture.trim()!==""?t.picture:this.getInitialsAvatar(t.name)}handleImageError(t,e){let r=t.target,i=r.src,a=this.imageRetryCount.get(i)||0;a<this.MAX_RETRIES?(this.imageRetryCount.set(i,a+1),setTimeout(()=>{let s=new Date().getTime(),l=i.includes("?")?"&":"?";r.src=`${i}${l}_retry=${s}`},500*(a+1))):(this.imageRetryCount.delete(i),r.src=this.getInitialsAvatar(e))}getInitialsAvatar(t){let e=t.trim().split(" ").filter(s=>s.length>0).map(s=>s[0]).slice(0,2).join("").toUpperCase(),r=document.createElement("canvas");r.width=80,r.height=80;let i=r.getContext("2d"),a=i.createLinearGradient(0,0,80,80);return a.addColorStop(0,"#667eea"),a.addColorStop(1,"#764ba2"),i.fillStyle=a,i.fillRect(0,0,80,80),i.fillStyle="white",i.font="bold 32px system-ui",i.textAlign="center",i.textBaseline="middle",i.fillText(e,40,40),r.toDataURL()}navigateToHome(){let t=this.router.url;if(t==="/"||t==="")try{this.svc.smartRefresh()}catch{}else this.router.navigate(["/"]).then(r=>{}).catch(r=>{})}navigateToAdmin(){this.router.navigate(["/admin"])}navigateToOrganization(){this.router.navigate(["/organization"])}navigateToGenerate(){let t=this.generationService.getCurrentConversationId();t?this.router.navigate(["/generate",t]):this.router.navigate(["/generate/new"])}navigateTo(t){this.router.navigate([t]).then(e=>{}).catch(e=>{})}openPerformanceDashboard(){this.dialog.open(v9,{width:"95vw",maxWidth:"1200px",height:"90vh",panelClass:"performance-dashboard-dialog",disableClose:!1,autoFocus:!1})}getInitials(t){return t.trim().split(" ").filter(e=>e.length>0).map(e=>e[0]).slice(0,2).join("").toUpperCase()}logout(){this.authService.logout().subscribe({next:()=>{this.router.navigate(["/auth"]).then(t=>{}).catch(t=>{t instanceof Error&&t.message.includes("Cannot match any routes");try{window.location.href="/auth"}catch{}})},error:t=>{t?.status===401?this.router.navigate(["/auth"]).then(()=>{}).catch(e=>{window.location.href="/auth"}):t?.status===0||t?.status===504?this.router.navigate(["/auth"]).then(()=>{}).catch(e=>{window.location.href="/auth"}):t?.status>=500?this.router.navigate(["/auth"]).then(()=>{}).catch(e=>{window.location.href="/auth"}):this.router.navigate(["/auth"]).catch(e=>{window.location.href="/auth"})},complete:()=>{}})}refresh(){this.svc.refresh()}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-toolbar"]],standalone:!0,features:[cn],decls:39,vars:5,consts:[["menuTrigger","matMenuTrigger"],["userMenu","matMenu"],[1,"modern-toolbar"],[1,"toolbar-container"],["title","Go to Home",1,"brand-section",3,"click"],[1,"brand-icon"],["viewBox","0 0 48 48","fill","none","xmlns","http://www.w3.org/2000/svg",2,"width","40px","height","40px"],["id","left-half"],["x","0","y","0","width","24","height","48"],["id","right-half"],["x","24","y","0","width","24","height","48"],["clip-path","url(#left-half)"],["d","M12 16 Q8 18 8 24 Q8 30 12 32","stroke","white","stroke-width","2.5","fill","none"],["cx","14","cy","20","r","1.5","fill","white"],["cx","12","cy","24","r","2","fill","white"],["cx","14","cy","28","r","1.5","fill","white"],["cx","18","cy","22","r","1.3","fill","white","opacity","0.8"],["cx","18","cy","26","r","1.3","fill","white","opacity","0.8"],["x1","14","y1","20","x2","18","y2","22","stroke","white","stroke-width","1.2","opacity","0.6"],["x1","12","y1","24","x2","18","y2","22","stroke","white","stroke-width","1.2","opacity","0.6"],["x1","12","y1","24","x2","18","y2","26","stroke","white","stroke-width","1.2","opacity","0.6"],["x1","14","y1","28","x2","18","y2","26","stroke","white","stroke-width","1.2","opacity","0.6"],["clip-path","url(#right-half)"],["d","M24 16 L40 16 L40 32 L24 32","stroke","white","stroke-width","2.5","fill","none"],["d","M24 16 L32 23 L40 16","stroke","white","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["cx","24","cy","24","r","2.5","fill","white","opacity","0.4"],["cx","24","cy","24","r","1.5","fill","white"],[1,"brand-name"],[1,"toolbar-spacer"],[1,"right-section"],[1,"nav-arrows"],["title","Previous",1,"arrow-btn",3,"click","disabled"],["title","Next",1,"arrow-btn",3,"click","disabled"],["class","user-section",4,"ngIf"],[1,"user-section"],[1,"user-menu-btn",3,"matMenuTriggerFor"],[1,"user-avatar"],["loading","lazy","referrerpolicy","no-referrer","crossorigin","anonymous",3,"src","alt","error",4,"ngIf"],["class","avatar-initials",4,"ngIf"],["class","notification-dot",4,"ngIf"],[1,"user-name"],[1,"dropdown-icon"],["xPosition","before",1,"modern-user-dropdown"],["mat-menu-item","","class","menu-item admin-item",3,"click",4,"ngIf"],[4,"ngIf"],["mat-menu-item","",1,"menu-item","generate-item",3,"click"],[1,"menu-item-icon","generate-icon"],[1,"menu-item-content"],[1,"menu-item-title"],[1,"menu-item-subtitle"],["mat-menu-item","",1,"menu-item","visual-editor-item",3,"click"],[1,"menu-item-icon","visual-editor-icon"],["mat-menu-item","",1,"menu-item","performance-item",3,"click"],[1,"menu-item-icon","performance-icon"],["mat-menu-item","",1,"menu-item","org-info-item",3,"click"],[1,"menu-item-icon","org-icon"],["mat-menu-item","",1,"menu-item","logout-item",3,"click"],[1,"menu-item-icon","logout-icon"],["loading","lazy","referrerpolicy","no-referrer","crossorigin","anonymous",3,"error","src","alt"],[1,"avatar-initials"],[1,"notification-dot"],["mat-menu-item","",1,"menu-item","admin-item",3,"click"],[1,"menu-item-icon","admin-icon"],["class","pending-badge",4,"ngIf"],[1,"pending-badge"]],template:function(e,r){e&1&&(O(0,"mat-toolbar",2)(1,"div",3)(2,"div",4),Yt("click",function(){return r.navigateToHome()}),O(3,"div",5),Xt(),O(4,"svg",6)(5,"defs")(6,"clipPath",7),yt(7,"rect",8),M(),O(8,"clipPath",9),yt(9,"rect",10),M()(),O(10,"g",11),yt(11,"path",12)(12,"circle",13)(13,"circle",14)(14,"circle",15)(15,"circle",16)(16,"circle",17)(17,"line",18)(18,"line",19)(19,"line",20)(20,"line",21),M(),O(21,"g",22),yt(22,"path",23)(23,"path",24),M(),yt(24,"circle",25)(25,"circle",26),M()(),re(),O(26,"span",27),V(27,"Camply"),M()(),yt(28,"div",28),O(29,"div",29)(30,"div",30)(31,"button",31),Yt("click",function(){return r.goBack()}),O(32,"mat-icon"),V(33,"arrow_back_ios"),M()(),O(34,"button",32),Yt("click",function(){return r.goForward()}),O(35,"mat-icon"),V(36,"arrow_forward_ios"),M()()(),qt(37,AY,64,14,"div",33),on(38,"async"),M()()()),e&2&&(G(31),ct("disabled",!r.canGoBack()),G(3),ct("disabled",!r.canGoForward()),G(3),ct("ngIf",un(38,3,r.currentUser$)))},dependencies:[Tn,qn,Cs,p9,u9,yr,ub,Cr,br,la,aa,xc,sa,f9,mf,hf],styles:['.modern-toolbar[_ngcontent-%COMP%]{position:relative;overflow:visible!important;box-shadow:0 4px 24px #00000026;min-height:70px!important;padding:0!important;background:linear-gradient(135deg,#6d28d9,#5b21b6,#6d28d9)!important;background-size:200% 100%;animation:_ngcontent-%COMP%_gradient-flow 15s ease infinite}.modern-toolbar[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 10% 50%,rgba(255,255,255,.15) 0%,transparent 50%),radial-gradient(circle at 90% 50%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none;animation:_ngcontent-%COMP%_shimmer 8s ease-in-out infinite}.toolbar-container[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;width:100%;padding:0 2rem;gap:1.5rem;height:70px}.brand-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);padding:.5rem 1rem;border-radius:12px}.brand-section[_ngcontent-%COMP%]:hover{background:#ffffff26}.brand-section[_ngcontent-%COMP%]:hover   .brand-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.brand-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;background:#fff3;border-radius:10px;border:1px solid rgba(255,255,255,.3);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #00000026}.brand-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px!important;height:40px!important;color:#fff;stroke-width:2.5}.brand-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.3);letter-spacing:-.01em;-webkit-user-select:none;user-select:none}.toolbar-spacer[_ngcontent-%COMP%]{flex:1}.right-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.nav-arrows[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.arrow-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:#ffffff26;border:1px solid rgba(255,255,255,.25);border-radius:10px;color:#fff;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.arrow-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.arrow-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff40;box-shadow:0 4px 12px #0003}.arrow-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.arrow-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center}.user-menu-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem 1rem .5rem .5rem;background:#ffffff26;border:1px solid rgba(255,255,255,.25);border-radius:50px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #00000026}.user-menu-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px);box-shadow:0 6px 16px #0003}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;overflow:hidden;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;border:2px solid rgba(255,255,255,.3);box-shadow:0 2px 8px #0003;flex-shrink:0;position:relative}.user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-avatar[_ngcontent-%COMP%]   .avatar-initials[_ngcontent-%COMP%]{color:#fff;font-size:.875rem;font-weight:700}.notification-dot[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;width:12px;height:12px;background:#ef4444;border:2px solid #1e293b;border-radius:50%;box-shadow:0 2px 6px #ef444466;z-index:10}.user-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#fff;white-space:nowrap;max-width:150px;overflow:hidden;text-overflow:ellipsis}.dropdown-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px;width:20px;height:20px;transition:transform .3s ease;flex-shrink:0}.dropdown-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg)}  .modern-user-dropdown{margin-top:.75rem!important;border-radius:16px!important;overflow:hidden!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);min-width:280px!important;max-width:320px!important}  .modern-user-dropdown .mat-mdc-menu-panel{border-radius:16px!important;background:#fff!important}  .modern-user-dropdown .mat-mdc-menu-content{padding:0!important}.org-info-section[_ngcontent-%COMP%]{padding:.875rem .75rem;margin:.5rem;margin-bottom:0}.org-info-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem}.org-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:linear-gradient(135deg,#6d28d9,#5b21b6);border-radius:10px;flex-shrink:0}.org-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#fff}.org-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;flex:1;min-width:0}.org-label[_ngcontent-%COMP%]{font-size:.6875rem;font-weight:500;color:#64748b;text-transform:uppercase;letter-spacing:.05em}.org-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#1e293b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .modern-user-dropdown .mat-mdc-menu-content{padding:.5rem!important}.menu-item[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:.875rem!important;padding:.75rem!important;border-radius:10px!important;transition:all .2s ease!important;margin-bottom:.25rem!important;min-height:48px!important;height:auto!important;position:relative!important}.menu-item[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.menu-item[_ngcontent-%COMP%]:hover{background:#6d28d914!important}.menu-item[_ngcontent-%COMP%]:active{transform:scale(.98)}  .modern-user-dropdown .menu-item.mat-mdc-menu-item{display:flex!important;flex-direction:row!important;align-items:center!important;justify-content:flex-start!important;--mat-menu-item-spacing: 0px !important}  .modern-user-dropdown .mat-mdc-menu-item .mat-mdc-menu-item-text{display:flex!important;flex-direction:row!important;align-items:center!important;width:100%!important;gap:.875rem!important}.menu-item-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:10px;flex-shrink:0;transition:all .2s ease}.menu-item-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px;line-height:22px;display:flex;align-items:center;justify-content:center}.admin-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6d28d9,#5b21b6);box-shadow:0 2px 8px #6d28d94d}.admin-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.generate-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);box-shadow:0 2px 8px #10b9814d}.generate-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.visual-editor-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);box-shadow:0 2px 8px #f59e0b4d}.visual-editor-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.performance-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed);box-shadow:0 2px 8px #8b5cf64d}.performance-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.logout-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);box-shadow:0 2px 8px #ef44444d}.logout-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.menu-item-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.125rem;min-width:0;align-self:center}.menu-item-title[_ngcontent-%COMP%]{font-size:.9375rem!important;font-weight:600!important;color:#1e293b!important;line-height:1.4!important}.menu-item-subtitle[_ngcontent-%COMP%]{font-size:.75rem!important;color:#64748b!important;line-height:1.3!important;font-weight:500!important}.pending-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:22px;height:22px;padding:0 6px;background:#ef4444;color:#fff;font-size:.75rem;font-weight:700;border-radius:11px;flex-shrink:0}  .modern-user-dropdown mat-divider{margin:.375rem 0!important;border-top-color:#00000014!important}@keyframes _ngcontent-%COMP%_gradient-flow{0%,to{background-position:0% 50%}50%{background-position:100% 50%}}@keyframes _ngcontent-%COMP%_shimmer{0%,to{opacity:1}50%{opacity:.7}}@media (max-width: 1024px){.user-name[_ngcontent-%COMP%]{max-width:120px}  .modern-user-dropdown{min-width:260px!important;max-width:280px!important}}@media (max-width: 768px){.toolbar-container[_ngcontent-%COMP%]{padding:0 1rem;gap:.75rem}.brand-name[_ngcontent-%COMP%]{font-size:1rem}.user-name[_ngcontent-%COMP%]{display:none}.user-menu-btn[_ngcontent-%COMP%]{padding:.5rem;gap:0}.dropdown-icon[_ngcontent-%COMP%]{display:none}  .modern-user-dropdown{min-width:240px!important;max-width:260px!important}.menu-item[_ngcontent-%COMP%]{gap:.625rem!important;padding:.5rem .625rem!important}.menu-item-icon[_ngcontent-%COMP%]{width:32px;height:32px}.menu-item-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.menu-item-title[_ngcontent-%COMP%]{font-size:.8125rem!important}.menu-item-subtitle[_ngcontent-%COMP%]{font-size:.6875rem!important}.pending-badge[_ngcontent-%COMP%]{min-width:20px;height:20px;font-size:.6875rem}}@media (max-width: 480px){.toolbar-container[_ngcontent-%COMP%]{padding:0 .75rem}.nav-arrows[_ngcontent-%COMP%]{gap:.25rem}.arrow-btn[_ngcontent-%COMP%]{width:36px;height:36px}.brand-section[_ngcontent-%COMP%]{padding:.375rem .75rem;gap:.75rem}.brand-name[_ngcontent-%COMP%]{display:none}.brand-icon[_ngcontent-%COMP%]{width:32px;height:32px}.brand-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}  .modern-user-dropdown{min-width:220px!important;max-width:240px!important}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.brand-section[_ngcontent-%COMP%], .arrow-btn[_ngcontent-%COMP%], .user-menu-btn[_ngcontent-%COMP%], .menu-item[_ngcontent-%COMP%]{will-change:transform;transform:translateZ(0);backface-visibility:hidden}']})}}return o})();function IY(o,n){o&1&&yt(0,"app-toolbar")}var y9=(()=>{class o{constructor(){this.router=ye(jn),this.cacheMonitor=ye(bd),this.cdr=ye(qr),this.showToolbar=!0,this.updateToolbarVisibility(this.router.url),this.router.events.pipe(Zo(t=>t instanceof pf)).subscribe(t=>{let e=t.urlAfterRedirects||t.url;this.updateToolbarVisibility(e)})}updateToolbarVisibility(t){let e=!t.includes("/auth");this.showToolbar!==e&&(this.showToolbar=e,setTimeout(()=>this.cdr.detectChanges(),0))}ngOnInit(){this.cacheMonitor.startMonitoring().catch(t=>{})}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=ln({type:o,selectors:[["app-root"]],standalone:!0,features:[cn],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(e,r){e&1&&(qt(0,IY,1,0,"app-toolbar",0),yt(1,"router-outlet")),e&2&&ct("ngIf",r.showToolbar)},dependencies:[Tn,qn,sb,_9]})}}return o})();ab(y9,d9).catch(o=>console.error(o));
